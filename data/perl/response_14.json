[{"tags": ["perl", "perl-critic"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 7, "last_activity_date": 1429137383, "last_edit_date": 1429137383, "creation_date": 1429136944, "answer_id": 29662037, "question_id": 29661885, "link": "https://stackoverflow.com/questions/29661885/perlcritic-eval-require-module/29662037#29662037", "title": "perlcritic: eval &quot;require $module&quot;;", "body": "<p>Running <code>perlcritic --verbose '%d\\n'</code> will give you the explanations, too:</p>\n\n<blockquote>\n  <p>The string form of `eval' is recompiled every time it is executed,\n      whereas the block form is only compiled once. Also, the string form\n      doesn't give compile-time warnings.</p>\n\n<pre><code>   eval \"print $foo\";        # not ok\n   eval {print $foo};        # ok\n</code></pre>\n</blockquote>\n\n<p>It's applicable to the first case.</p>\n\n<p>The second case doesn't generate any messages for me. Isn't it rather</p>\n\n<pre><code>return eval \"-$test $abspath\"\n</code></pre>\n\n<p>You can't use block eval here. You should verify that $test really contains what it should</p>\n\n<pre><code>$test =~ /^[a-z]$/i\n</code></pre>\n\n<p>and avoid the evaluation of $abspath:</p>\n\n<pre><code>eval \"-$test \\$abspath\"\n</code></pre>\n\n<p>If you're OK with that, you can than add </p>\n\n<pre><code>## no critic\n</code></pre>\n\n<p>to the end of the line.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1429138678, "creation_date": 1429138678, "answer_id": 29662396, "question_id": 29661885, "link": "https://stackoverflow.com/questions/29661885/perlcritic-eval-require-module/29662396#29662396", "title": "perlcritic: eval &quot;require $module&quot;;", "body": "<p>Few users should ever have to use <code>eval EXPR</code>. Most of the time, it's being used as a template system when it shouldn't (e.g. <code>s/.../eval($repl)/e</code>), or it's used to catch exceptions when <code>eval BLOCK</code> should have been used. </p>\n\n<p>If there is reason to use it, it's to execute generated code or user-submitted code. Generating code is tricky and error-prone, and errors have security implications. Executing user-submitted code is a major security concern. As such, every use of <code>eval EXPR</code> should be carefully reviewed.</p>\n\n<p>It's quite appropriate for <code>perlcritic</code> to flag its usage given that virtually every use is an error with major security implications.</p>\n\n<hr>\n\n<p>In your case, the use of <code>eval EXPR</code> is suboptimal. I'd use</p>\n\n<pre><code>my $path = $module . \".pm\";\n$path =~ s{::}{/}g;\neval { require $path }\n</code></pre>\n\n<p>Yes, this is portable.</p>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1766, "favorite_count": 0, "accepted_answer_id": 29662037, "answer_count": 2, "score": 5, "last_activity_date": 1429138678, "creation_date": 1429136139, "last_edit_date": 1429137154, "question_id": 29661885, "link": "https://stackoverflow.com/questions/29661885/perlcritic-eval-require-module", "title": "perlcritic: eval &quot;require $module&quot;;", "body": "<p>While digging in some old source code I saw the following:</p>\n\n<pre><code>my $module = $some{module};\neval \"require $module\";\ndie \"Bad module\\n$@\" if $@;\n</code></pre>\n\n<p>while I understand what the code does, it tries \"require\" a module and die when it is unsuccessful - the perlcritic complains about it</p>\n\n<blockquote>\n  <p>Expression form of \"eval\" at line 331, column 13.  See page 161 of\n  PBP.  (Severity: 5)</p>\n</blockquote>\n\n<p>Unfortunately I havent the PBP book, so wondering what is the correct method of the above...</p>\n\n<p>Also, in the same source found:</p>\n\n<pre><code>sub test_repo_file {\n    my($self, $repo, $test) = @_;\n    my $abspath = repo_abs_path($repo);\n    return \"eval -$test $abspath\";\n}\n</code></pre>\n\n<p>Here doesn't understand what solves the \"eval\", and the perlcritic complains again for the \"string eval\"...</p>\n\n<p>Can somebody please explain the basic points about the \"string eval\" and how to write the above correctly?</p>\n"}, {"tags": ["perl", "io"], "comments": [{"owner": {"reputation": 3402, "user_id": 1841533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a9c40aae4572d0d306ac3fbcc6ac9d9?s=128&d=identicon&r=PG", "display_name": "Olivier Dulac", "link": "https://stackoverflow.com/users/1841533/olivier-dulac"}, "edited": false, "score": 0, "creation_date": 1429170467, "post_id": 29661740, "comment_id": 47475376, "body": "what is the one byte for? jusr to trigger the reading ot the file? could be a signal instead?"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 3402, "user_id": 1841533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a9c40aae4572d0d306ac3fbcc6ac9d9?s=128&d=identicon&r=PG", "display_name": "Olivier Dulac", "link": "https://stackoverflow.com/users/1841533/olivier-dulac"}, "edited": false, "score": 0, "creation_date": 1429186388, "post_id": 29661740, "comment_id": 47486342, "body": "@OlivierDulac As mentioned: The task is to only start wc if there is any input. If there is no input, the program should just exit."}], "answers": [{"comments": [{"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1429187302, "post_id": 29661969, "comment_id": 47486993, "body": "As I see you delegate to <code>cat</code> to touch every byte. The goal is to avoid touching every byte."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1429188966, "post_id": 29661969, "comment_id": 47488389, "body": "No, I don&#39;t.  I used cat as the example program like you used wc"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1429192034, "post_id": 29661969, "comment_id": 47490946, "body": "That said, I really wonder what kind of overhead you think <code>cat</code> adds to an IO-bound program."}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1430032064, "post_id": 29661969, "comment_id": 47874199, "body": "I replaced &#39;cat&#39; with &#39;wc&#39; and it does not do the same as my example: Your example does not pass the input on stdin, and it seems it only works on systems with /proc (i.e. no hpux, ultrix, openbsd, macosx)."}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1430032243, "post_id": 29661969, "comment_id": 47874234, "body": "It is unclear to me why you believe the program is IO-bound. My measurements tells me that the speed of Perl&#39;s sysread is in the same ballpark as cat, and using sysread will be a cleaner solution (i.e. no forking cat)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1430060663, "post_id": 29661969, "comment_id": 47882639, "body": "I explained in detail how the workaround works, and &quot;passing the input to STDIN&quot; is not even close. // If you have problems porting it, feel free to ask for help. // I don&#39;t know how you can think that writing several TB of data to a pipe is not IO bound. If you&#39;re saying it&#39;s CPU-bound (that it takes so much longer to generate the data that it takes longer to generate the data than to write it), then it doesn&#39;t change anything: <code>cat</code> will not add any noticeable overheard to an IO-bound program, and even less to a slower one."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1429627991, "last_edit_date": 1495541778, "creation_date": 1429136559, "answer_id": 29661969, "question_id": 29661740, "link": "https://stackoverflow.com/questions/29661740/perl-pass-one-byte-plus-stdin-to-another-command/29661969#29661969", "title": "Perl: Pass one byte plus STDIN to another command", "body": "<p>The specific solution in which you're interested is impossible.</p>\n\n<hr>\n\n<p><s>As you surely discovered already, you can't determine if a file handle has reached EOF without reading from it.</s> [Apparently, <a href=\"https://stackoverflow.com/a/29678548/589924\">you can</a>] <code>select(2)</code> will get you close. It will tell you that a handle has reached EOF or has data waiting, but it won't tell you which. This is why you're looking into alternate solutions. Unfortunately, the one you're looking into is just as impossible.</p>\n\n<blockquote>\n  <p><em>Is there some other way that I can tell OUT that after it has gotten the first byte, it should just read from STDIN?</em> </p>\n</blockquote>\n\n<p>No. <code>OUT</code> isn't code; it doesn't read anything. It's a variable. Furthermore, it's a variable in the parent. Changing a variable in the parent isn't going to affect the child.</p>\n\n<p>Maybe you meant to ask: Can one tell the <em>child program</em> to start reading from a second handle?</p>\n\n<p>No, generally speaking. You can't go and edit another program's variables. The program would have to be specifically written to accept two file handles and read from one after the other.</p>\n\n<p>Then again, it's possible to obtain a file name for an arbitrary file handle, so all we need is a program that is specifically written to accept two <em>file names</em> and read from one after the other, and that's quite common.</p>\n\n<pre><code>$ echo abcdef | perl -MFcntl -e'\n   if (sysread(STDIN, $buf, 1)) {\n      pipe(my $r, my $w);\n      my $pid = fork();\n      if (!$pid) {\n         close($w);\n\n         # Clear close-on-exec flag.\n         my $flags = fcntl($r, Fcntl::F_GETFD, 0);\n         fcntl($r, Fcntl::F_SETFD, $flags &amp; ~Fcntl::FD_CLOEXEC);\n\n         exec(\"cat\", \"/proc/$$/fd/\".fileno($r), \"/proc/$$/fd/\".fileno(STDIN));\n         die $!;\n      }\n\n      close($r);\n      print($w $buf);\n      close($w);\n      waitpid($pid, 0);\n   }\n'\nabcdef\n</code></pre>\n\n<p>(Lots of error checking needed.)</p>\n\n<p>Above, <code>cat</code> was used an example where your program would be used, but that presents another solution: Why not just use <code>cat</code>? The overhead of <code>cat</code> should be quite minor for an IO-bound program.</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd1 = shell_quote(\"cat\", \"/proc/$$/fd/\".fileno($r), \"/proc/$$/fd/\".fileno(STDIN));\nmy $cmd2 = ...\nexec(\"$cmd1 | $cmd2\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429161975, "post_id": 29665609, "comment_id": 47470861, "body": "<code>can_read</code> returns immediately on EOF, just as if data was present, so that doesn&#39;t work. Or maybe you are trying to reimplement <code>-t STDIN</code>?"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1429168163, "post_id": 29665609, "comment_id": 47474002, "body": "I just tested: <code>perl canread &lt;&#47;dev&#47;null</code> this starts <code>wc</code>. It should not as there is no data to read."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1429168711, "post_id": 29665609, "comment_id": 47474345, "body": "@OleTange: All you need to do is check for <code>eof</code> as well as <code>can_read</code>. i.e. <code>if ( $select-&gt;can_read(0) ) { print `wc` unless eof STDIN; }</code>"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1429187068, "post_id": 29665609, "comment_id": 47486820, "body": "I tested: <code>cat empty | canread.pl</code> - works. <code>canread.pl &lt; empty</code> - works. <code>canread.pl &lt; non-empty</code> - works. But <code>cat non-empty | canread.pl</code> - does not work (it passes 0 bytes to <code>wc</code>). Tested on Cygwin. The solution must, unfortunately, be portable."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1429187183, "post_id": 29665609, "comment_id": 47486897, "body": "@OleTange: How are you running <code>wc</code>? It must be <code>system</code> or backticks."}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1429187343, "post_id": 29665609, "comment_id": 47487035, "body": "I am using your code (canread.pl is your 7 lines of code above)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429189046, "post_id": 29665609, "comment_id": 47488442, "body": "eof reads 8k from the handle as if you had called Perl&#39;s read"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429161027, "last_edit_date": 1429161027, "creation_date": 1429160018, "answer_id": 29665609, "question_id": 29661740, "link": "https://stackoverflow.com/questions/29661740/perl-pass-one-byte-plus-stdin-to-another-command/29665609#29665609", "title": "Perl: Pass one byte plus STDIN to another command", "body": "<p>A child process is always given duplicates of its parent's file handles, so simply starting <code>wc</code> - either with backticks or with a call to <code>system</code> or <code>exec</code> - will cause it to read from the same place as the Perl process's <code>STDIN</code>.</p>\n\n<p>As for starting <code>wc</code> only when there is something to read, it looks like you need <a href=\"https://metacpan.org/pod/IO::Select\" rel=\"nofollow\"><code>IO::Select</code></a>, which will allow you either to check whether a file handle has something to read, or to block until it <em>does</em> have something.</p>\n\n<p>This program will check whether <code>STDIN</code> has any data waiting, and run <code>wc</code> and print its output if so.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Select;\n\nmy $select = IO::Select-&gt;new(\\*STDIN);\n\nif ( $select-&gt;can_read(0) ) {\n  print `wc`;\n}\n</code></pre>\n\n<p>The parameter to <code>can_read</code> is a timeout in seconds. Passing a value of zero makes it return immediately, reporting <em>true</em> (actually it returns the file handle itself) if there is data waiting, or <em>false</em> (<code>undef</code>) if not.</p>\n\n<p>If you don't pass a parameter then <code>can_read</code> will wait forever until there is something to read, so you can suspend your program and wait for data for <code>wc</code> by writing just</p>\n\n<pre><code>$select-&gt;can_read;\nprint `wc`;\n</code></pre>\n\n<p>or you could combine the construction of the object to make it even more concise</p>\n\n<pre><code>IO::Select-&gt;new(\\*STDOUT)-&gt;can_read;\nprint `wc`;\n</code></pre>\n\n<p>Note also that <code>IO::Select</code> works fine with file descriptors too, and as the fileno for <code>STDIN</code> is zero, you could write</p>\n\n<pre><code>my $select = IO::Select(0)\n</code></pre>\n\n<p>but that isn't very descriptive and would need a comment to make sense</p>\n"}, {"comments": [{"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1430033029, "post_id": 29678548, "comment_id": 47874407, "body": "It seems to work on systems having &#39;sys/ioctl.ph&#39;. In my test it shows that this missing by default on  dragonfly hpux aix macosx openindiana netbsd  qnx scosysv solaris unixware tru64 solaris-x86. Can we find a solution that is portable <i>without</i> having root or the user install additional software?"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1430059928, "post_id": 29678548, "comment_id": 47882336, "body": "@OleTange, <code>h2ph -d</code> and <code>@INC</code> should eliminate the need for root.  Regarding additional software, if you can install your script, you can typically generate and install the <code>.ph</code> file.  You could also do the hard work and ship your own mapping of <code>$^O</code> to FIONREAD values ... or just say that a previously generated <code>.ph</code> is a requirement of your software."}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1430066974, "post_id": 29678548, "comment_id": 47885153, "body": "Can we do it on the fly? So the user will not need to change their system - neither as root nor as the normal user?"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1430090654, "post_id": 29678548, "comment_id": 47893651, "body": "@OleTange, sounds like <a href=\"http://stackoverflow.com/questions/ask\">a separate question</a>."}], "tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": true, "score": 6, "last_activity_date": 1429205637, "last_edit_date": 1429205637, "creation_date": 1429196227, "answer_id": 29678548, "question_id": 29661740, "link": "https://stackoverflow.com/questions/29661740/perl-pass-one-byte-plus-stdin-to-another-command/29678548#29678548", "title": "Perl: Pass one byte plus STDIN to another command", "body": "<p>The FIONREAD ioctl, mentioned in the <em>Perl Cookbook</em>, can tell you how many bytes are pending on a file descriptor <em>without</em> consuming them.  In perlish terms:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Select qw( );    \nBEGIN { require 'sys/ioctl.ph'; }\n\nsub fionread {\n    my $sz = pack('L', 0);\n    return unless ioctl($_[0], FIONREAD, $sz);\n    return unpack('L', $sz);\n}\n\n# Wait until it's known whether the handle has data to read or has reached EOF.\nIO::Select-&gt;new(\\*STDIN)-&gt;can_read();\n\nif (fionread(\\*STDIN)) {\n    system('wc');\n    # Check for errors\n}\n</code></pre>\n\n<p>This should be very widely portable to UNIX and UNIX-like platforms.</p>\n"}], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 29678548, "answer_count": 3, "score": 8, "last_activity_date": 1430202803, "creation_date": 1429135483, "last_edit_date": 1430202803, "question_id": 29661740, "link": "https://stackoverflow.com/questions/29661740/perl-pass-one-byte-plus-stdin-to-another-command", "title": "Perl: Pass one byte plus STDIN to another command", "body": "<p>I would like to do this efficiently:</p>\n\n<pre><code>my $buf;\nmy $len = read(STDIN,$buf,1);\nif($len) {\n    # Not empty                                                                                                          \n    open(OUT,\"|-\", \"wc\") || die;\n    print OUT $buf;\n    # This is the line I want to do faster\n    print OUT &lt;STDIN&gt;;\n    exit;\n}\n</code></pre>\n\n<p>The task is to start <code>wc</code> only if there is any input. If there is no input, the program should just exit.</p>\n\n<p><code>wc</code> is just an example here. It will be substituted with a much more complex command.</p>\n\n<p>The input can be of several TB of data, so I would <em>really</em> like to not touch that data at all (not even with a <code>sysread</code>). I tried doing:</p>\n\n<pre><code>    pipe(STDIN,OUT);\n</code></pre>\n\n<p>But that doesn't work. Is there some other way that I can tell OUT that after it has gotten the first byte, it should just read from STDIN? Maybe some open(\">=&amp;2\") gymnastics combined with <code>exec</code>?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1429132523, "post_id": 29660789, "comment_id": 47461601, "body": "I would only like to add that <code>(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)</code> does not look fine to me, I&#39;d rather use <code>(\\d{4})-(\\d{2})-(\\d{2})</code>."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1429132165, "last_edit_date": 1429132165, "creation_date": 1429131916, "answer_id": 29660890, "question_id": 29660789, "link": "https://stackoverflow.com/questions/29660789/perl-regexes-from-a-file-how-to-use-1/29660890#29660890", "title": "Perl regexes from a file -- how to use $1?", "body": "<p>To evaluate the replacement in a substitution, use the <code>/ee</code> modifier. This executes the replacement expression (<code>$to</code>) as Perl code and passes its result (the value of <code>$to</code>) to <code>eval EXPR</code>. As such, <code>$to</code> needs to contain valid Perl code, which means you have to quote the expression to avoid having it evaluated as division.</p>\n\n<pre><code>my $in = '2015-04-15';\nmy $expected = '04/2015';\n\nmy $from = '(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)';\nmy $to = '\"$2/$1\"';\n\n$in =~ s/$from/$to/ee;\nprint $in eq $expected ? 'YES' : 'NO';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429134304, "post_id": 29661342, "comment_id": 47462563, "body": "And I prefer <code>\\d{n}</code> :)  but well said"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429135669, "post_id": 29661342, "comment_id": 47463145, "body": "@vol7ron, That&#39;s not my code. If you have a style comment for the OP, tell it to him, not me."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429136159, "post_id": 29661342, "comment_id": 47463332, "body": "Nah, I rather not bloat the answers since you and Choroba have covered the major point.  Instead, I would like to point out to you that preference is subjective and what matters is the objective qualities of your preference.  E.g. <code>I prefer the second to the first since ...</code> to <code>The benefit of the second over the first is that ...</code>  PCBP is less about preference and more about cost/benefit."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429136792, "post_id": 29661342, "comment_id": 47463577, "body": "@vol7ron, I meant you should move the &quot;I prefer <code>\\d{n}</code>&quot; comment to the Question since it has nothing to do with me or my answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429136928, "post_id": 29661342, "comment_id": 47463635, "body": "@vol7ron, Not everyone sees a benefit in using <code>s&#47; &#47;eval(EXPR)&#47;e</code> over <code>s&#47; &#47;EXPR&#47;ee</code> as a benefit. &quot;Preference&quot; is therefore appropriate."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429137054, "post_id": 29661342, "comment_id": 47463685, "body": "The mentioning of a preference in an answer is the point that I was making.  Preferences are debatable.  <code>eval(EXPR)</code> isn&#39;t the benefit, but you listed the benefit:  <code>it doesn&#39;t hide the fact that eval(EXPR) is used</code>.  It&#39;s phrasing and semantics is all I was getting at."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429137056, "post_id": 29661342, "comment_id": 47463688, "body": "@vol7ron, What&#39;s PCBP?"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429137080, "post_id": 29661342, "comment_id": 47463697, "body": "PCBP: Perl Coding Best Practice"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429137090, "post_id": 29661342, "comment_id": 47463702, "body": "@vol7ron, And I repeat. I&#39;ve encoutered many that don&#39;t see that as a benefit."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1429137177, "post_id": 29661342, "comment_id": 47463731, "body": "It is a benefit, but there are also benefits in not doing so.  The fact that it&#39;s your preference is less important than the fact as to <i>why</i> it&#39;s your preference."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 1, "creation_date": 1429137216, "post_id": 29661342, "comment_id": 47463744, "body": "I fully agree the why is the important part."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1429133688, "creation_date": 1429133688, "answer_id": 29661342, "question_id": 29660789, "link": "https://stackoverflow.com/questions/29660789/perl-regexes-from-a-file-how-to-use-1/29661342#29661342", "title": "Perl regexes from a file -- how to use $1?", "body": "<p>You could use the following:</p>\n\n<pre><code>my $from = '(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)';\nmy $to = '\"$2/$1\"';\nmy $string = '2015-04-15';\n$string =~ s/$from/$to/ee;\n</code></pre>\n\n<p>The above is short for the following:</p>\n\n<pre><code>my $from = '(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)';\nmy $to = '\"$2/$1\"';\nmy $string = '2015-04-15';\n$string =~ s/$from/ eval($to) /e;\n</code></pre>\n\n<p>I prefer the second to the first since it doesn't hide the fact that <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow\"><code>eval(EXPR)</code></a> is used. However, both of the above silence errors, so the following would be better:</p>\n\n<pre><code>my $from = '(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)';\nmy $to = '\"$2/$1\"';\nmy $string = '2015-04-15';\n$string =~ s/$from/ my $r = eval($to); die $@ if $@; $r /e;\n</code></pre>\n\n<p>But as you can see, all of the above allow for the execution of arbitrary Perl code. The following would be far safer:</p>\n\n<pre><code>use String::Substitution qw( gsub_modify );\n\nmy $from = '(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)';\nmy $to = '$2/$1';\nmy $string = '2015-04-15';\ngsub_modify($string, $from, $to);\n</code></pre>\n"}], "owner": {"reputation": 132, "user_id": 4409317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eac677417fdef0cbf6f4a77462d0e0e?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/4409317/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 29661342, "answer_count": 2, "score": 0, "last_activity_date": 1429133688, "creation_date": 1429131531, "question_id": 29660789, "link": "https://stackoverflow.com/questions/29660789/perl-regexes-from-a-file-how-to-use-1", "title": "Perl regexes from a file -- how to use $1?", "body": "<p>I have a list of regexes that I run on a string to convert it from one style of formatting to another.  For now, all of these regexes are stored in a file.</p>\n\n<p>Usually, this works fine.  If it reads \"Frog\" into $from, and \"Toad\" into $to, then \"$string =~ s/$from/$to/\" changes all frogs into toads, as desired.</p>\n\n<p>Now I want to do something trickier: given a date \"2015-04-15\", I want to to change it to \"04/2015\", again reading from a file.  If I load \"(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)\" into $from and \"$2/$1\" into $to, this doesn't work: it replaces the dates with the literal string \"$2/$1\", with actual dollar signs in the output.  What's do I need to do?</p>\n\n<p>This is a script for home use only.  I am happy to use eval{} or any other strange thing if it will make my life simpler.</p>\n"}, {"tags": ["perl", "ssl", "lwp-useragent"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1429133332, "post_id": 29659442, "comment_id": 47462055, "body": "Please add the versions of modules in use, especially, i.e. <code>$IO::Socket::SSL::VERSION</code>, <code>$Net::SSLeay::VERSION</code>, <code>$LWP::Protocol::https::VERSION</code> and <code>Net::SSLeay::OPENSSL_VERSION_NUMBER()</code> (the last best as hex number)"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1429163934, "post_id": 29659442, "comment_id": 47471650, "body": "I can not reproduce your problem with the version you show. If you want help please add the information I asked for, i.e. all the versions I&#39;ve asked for and not just the openssl version."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1429273646, "post_id": 29659442, "comment_id": 47534182, "body": "It looks like you are not using the module versions as shipped with 10.04, but versions which are newer but still fairly old (about 3 years) and thus were probably manually installed on the machine.  I&#39;ve tried to reproduce it with your versions (apart from Net::SSLeay, because I don&#39;t have a compiler on this test system) and could not. You might try to recompile Net::SSLeay, maybe the binary API changed in a small way with the latest bugfixes for openssl."}], "answers": [{"comments": [{"owner": {"reputation": 1705, "user_id": 1060070, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/30fc2666127827c20a1bef8802c5e755?s=128&d=identicon&r=PG", "display_name": "mamesaye", "link": "https://stackoverflow.com/users/1060070/mamesaye"}, "edited": false, "score": 0, "creation_date": 1429132726, "post_id": 29660225, "comment_id": 47461706, "body": "Thanks,Trying to understand here... I&#39;ve been using this openssl version for 11 months with SHA-2 and it just stopped working on friday afternoon. What happened?"}, {"owner": {"reputation": 1705, "user_id": 1060070, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/30fc2666127827c20a1bef8802c5e755?s=128&d=identicon&r=PG", "display_name": "mamesaye", "link": "https://stackoverflow.com/users/1060070/mamesaye"}, "edited": false, "score": 0, "creation_date": 1433868409, "post_id": 29660225, "comment_id": 49532254, "body": "also found this: WWW-Shorten-Bitly"}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 1, "last_activity_date": 1429129620, "creation_date": 1429129620, "answer_id": 29660225, "question_id": 29659442, "link": "https://stackoverflow.com/questions/29659442/cant-connect-to-api-ssl-bitly-com443/29660225#29660225", "title": "Can&#39;t connect to api-ssl.bitly.com:443", "body": "<p>Based on <a href=\"http://www.doxer.org/resolved-error0d0c50a1asn1-encoding-routinesasn1_item_verifyunknown-message-digest-algorithm/\" rel=\"nofollow\">this link</a> I assume your OpenSSL is so old it doesn't understand the SHA256 algorithm for certificates.  You'll need to upgrade OpenSSL to at least 0.9.8o.</p>\n"}], "owner": {"reputation": 1705, "user_id": 1060070, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/30fc2666127827c20a1bef8802c5e755?s=128&d=identicon&r=PG", "display_name": "mamesaye", "link": "https://stackoverflow.com/users/1060070/mamesaye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "accepted_answer_id": 29660225, "answer_count": 1, "score": -1, "last_activity_date": 1431707357, "creation_date": 1429127106, "last_edit_date": 1431707357, "question_id": 29659442, "link": "https://stackoverflow.com/questions/29659442/cant-connect-to-api-ssl-bitly-com443", "title": "Can&#39;t connect to api-ssl.bitly.com:443", "body": "<p>Since two days i can't generate bitly url. Here is the error i am having:   </p>\n\n<pre><code>$VAR1 = bless( {\n             '_content' =&gt; 'Can\\'t connect to api-ssl.bitly.com:443\nLWP::Protocol::https::Socket: SSL connect attempt failed with unknown error error:0D0C50A1:asn1 encoding routines:ASN1_item_verify:unknown message digest algorithm at /usr/local/share/perl/5.10.1/LWP/Protocol/http.pm line 51.\n', '_rc' =&gt; 500,\n             '_headers' =&gt; bless( {\n                                    'client-warning' =&gt; 'Internal response',\n                                    'client-date' =&gt; 'Wed, 15 Apr 2015 18:08:08 GMT',\n                                    'content-type' =&gt; 'text/plain'\n                                  }, 'HTTP::Headers' ),\n             '_msg' =&gt; 'Can\\'t connect to api-ssl.bitly.com:443',\n             '_request' =&gt; bless( {\n                                    '_content' =&gt; '',\n                                    '_uri' =&gt; bless( do{\\(my $o = 'https://api-ssl.bitly.com/v3/shorten?login=LOGIN&amp;apiKey=API_KEY&amp;longurl=LONG_URL')}, 'URI::https' ),\n                                    '_headers' =&gt; bless( {\n                                                           'user-agent' =&gt; 'libwww-perl/6.04'\n                                                         }, 'HTTP::Headers' ),\n                                    '_method' =&gt; 'GET'\n                                  }, 'HTTP::Request' )\n           }, 'HTTP::Response' );    \n</code></pre>\n\n<p>Any insight appreciated.</p>\n\n<p><strong>UPDATE</strong>    </p>\n\n<pre>cat /etc/issue.net     \n\nUbuntu 10.04.4 LTS    \nopenssl version -a     \nOpenSSL 0.9.8k 25 Mar 2009    \nbuilt on: Mon Aug 18 16:08:20 UTC 2014     \nplatform: debian-amd64     \noptions:  bn(64,64) md2(int) rc4(ptr,char) des(idx,cisc,16,int) blowfish(ptr2)        \ncompiler: cc -fPIC -DOPENSSL_PIC -DZLIB -DOPENSSL_THREADS -D_REENTRANT -DDSO_DLFCN -DHAVE_DLFCN_H -m64 -DL_ENDIAN -DTERMIO -O3 -Wa,--noexecstack -g -Wall -DMD32_REG_T=int -DOPENSSL_BN_ASM_MONT -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DMD5_ASM -DAES_ASM      \n\napt-cache policy openssl      \nopenssl:    \n  Installed: 0.9.8k-7ubuntu8.21     \n  Candidate: 0.9.8k-7ubuntu8.27   \n  Version table:     \n     0.9.8k-7ubuntu8.27 0     \n        500 http://archive.ubuntu.com/ubuntu/ lucid-updates/main Packages    \n        500 http://security.ubuntu.com/ubuntu/ lucid-security/main Packages    \n *** 0.9.8k-7ubuntu8.21 0     \n        100 /var/lib/dpkg/status     \n     0.9.8k-7ubuntu8 0      \n        500 http://archive.ubuntu.com/ubuntu/ lucid/main Packages     \n</pre>\n\n<p>Here is what i have, let me know it if you need more.    </p>\n\n<pre><code>$ perl -MIO::Socket::SSL -e 'print $IO::Socket::SSL::VERSION'   \n1.74    \n$ perl -MIO::Socket::SSL -e 'print $Net::SSLeay::VERSION'    \n1.48    \n$ perl -MIO::Socket::SSL -e 'print $LWP::Protocol::https::VERSION'  \n$ perl -MLWP -le \"print(LWP-&gt;VERSION)\"    \n 6.04     \n$ perl -MIO::Socket::SSL -e 'print Net::SSLeay::OPENSSL_VERSION_NUMBER()'   \n9470143   \n</code></pre>\n\n<p><strong>update</strong><br>\nCould this be a timing problem?</p>\n"}, {"tags": ["perl", "dbm"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1429127640, "post_id": 29659224, "comment_id": 47458764, "body": "Utterly unrelated to your problem, but you can probably remove lines all but the <code>push</code> line there and get the same result."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1429127965, "post_id": 29659224, "comment_id": 47458970, "body": "@JimDavis I read that autovivication does not work properly with DBM::Deep, or used to not anyway, so I am using the <code>if (exists $hash{key}) { ... }</code> syntax to be safe."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1429128652, "post_id": 29659224, "comment_id": 47459363, "body": "I didn&#39;t know that.  Oh, well!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429135810, "post_id": 29659224, "comment_id": 47463194, "body": "I am able to reproduce this with even simpler code. Switching from directly accessing the hash to using the returned DBM::Deep object cuts the run-time of my test script from several minutes to under a second: <code>my $db = tie %hash, &#39;DBM::Deep&#39;, &#39;&#47;path&#47;to&#47;file&#39;; $db-&gt;{foo} = &#39;bar&#39;;</code> instead of <code>$hash{foo} = &#39;bar&#39;;</code> Memory usage didn&#39;t change drastically in my test, but it seems clear that direct hash accesses are not optimized."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1429141431, "post_id": 29659224, "comment_id": 47465201, "body": "@ThisSuitIsBlackNot: The value returned by <code>tie</code> is just an object that has methods to manipulate the database as if it were a hash, and the tied hash is just a medium to call those methods. So manipulating your <code>$db</code> just puts spurious data into an in-memory object and doesn&#39;t touch the database; that&#39;s why it&#39;s so much quicker. You could use <code>$db-&gt;STORE($key, $val)</code> if you wanted, but its simplest to use the tied variable and write <code>$hash{$key} = $val</code>. By the way, disabling <code>locking</code> and <code>autoflush</code> speeds things up significantly too, as you&#39;d expect."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429145557, "post_id": 29659224, "comment_id": 47466341, "body": "@Borodin Ah, I see that now. I was confused by the bit in the docs that says, &quot;Because <i>all DBM::Deep objects</i> are tied to hashes or arrays, you can treat them as such...DBM::Deep will intercept all reads/writes and direct them to the right place -- the DB file.&quot; and the examples that follow. I assumed this also meant those returned by <code>tie</code>. Any thoughts on the memory usage?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1429146824, "post_id": 29659224, "comment_id": 47466691, "body": "@ThisSuitIsBlackNot: Yes the docs are pretty poor. The way it works is that the OO interface does a <code>tie</code> internally and returns a reference to the tied hash, which you <i>can</i> use directly.  And no, not really, although I can see that the process has 1,000 extra scalar variables for every 1,000 pushes onto the hash, but I have no idea why"}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 1, "creation_date": 1429298153, "post_id": 29659224, "comment_id": 47550891, "body": "I reported this issue on github and to the CPAN bug tracker. It appears there was already a <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=94291\" rel=\"nofollow noreferrer\">bug report</a> and discussion on the google groups site from a year ago with no resolution. Here is a <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=103795\" rel=\"nofollow noreferrer\">link</a> to the bug report with a simple example. Similar to the other report, I found no memory cycles but there is clearly a leak somewhere."}], "answers": [{"tags": [], "owner": {"reputation": 1469, "user_id": 1732954, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/8ef20944f3a512224fdb8c14972ca0c2?s=128&d=identicon&r=PG", "display_name": "Rob Kinyon", "link": "https://stackoverflow.com/users/1732954/rob-kinyon"}, "is_accepted": false, "score": 1, "last_activity_date": 1434514463, "creation_date": 1434514463, "answer_id": 30882228, "question_id": 29659224, "link": "https://stackoverflow.com/questions/29659224/how-to-properly-tie-a-hash-with-dbmdeep-to-avoid-memory-leaks/30882228#30882228", "title": "How to properly tie a hash with DBM::Deep to avoid memory leaks?", "body": "<p>I answered this in the associated GH issue (thank you for opening it!), but I'll repeat it here.</p>\n\n<p>Yes, the amount of RAM does slowly uptick over time. When reading <code>/usr/dict/words</code> as keys into a DBM::Deep hash (Ubuntu 14.04, Perl 5.22.0), my RAM upticked by about 1k for every 30k words read. My guess (without a repeatable test) is that this is just the bookkeeping DBM::Deep needs to track the additional levels of data that adding 30k elements requires.</p>\n\n<p>As I mentioned in my comment in the issue, I'd be delighted to work on this further if there's a repeatable testfile I can commit to the project.</p>\n"}], "owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1434514463, "creation_date": 1429126412, "last_edit_date": 1429205723, "question_id": 29659224, "link": "https://stackoverflow.com/questions/29659224/how-to-properly-tie-a-hash-with-dbmdeep-to-avoid-memory-leaks", "title": "How to properly tie a hash with DBM::Deep to avoid memory leaks?", "body": "<p>I am doing a graph analysis of some very large data and I need to store all the scores for a particular set of graph edges. Given the size of the data, I need to write the information to disk and I'm trying to use a tied hash with <a href=\"https://metacpan.org/pod/distribution/DBM-Deep/lib/DBM/Deep.pod\" rel=\"nofollow\">DBM::Deep</a>. Here is the basic set up:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse 5.010;\nuse strict;\nuse warnings;\nuse autodie;\nuse File::Spec;\nuse DBM::Deep;\nuse Cwd;\n\nmy $file = shift;\nmy $wd = getcwd();\n\nopen my $fh, '&lt;', $file;\n\nmy %match_pairs;\nmy $dbm = File::Spec-&gt;catfile($wd, \"pairs.dbm\");\nunlink $dbm if -e $dbm;\n\ntie %match_pairs, 'DBM::Deep', { \n    file      =&gt; $dbm, \n    locking   =&gt; 1, \n    autoflush =&gt; 1, \n    type      =&gt; DBM::Deep::TYPE_HASH \n};\n</code></pre>\n\n<p>Then, I parse the file and store the information above a certain score threshold like so (<code>$pair</code> is just a regular string):</p>\n\n<pre><code>if (exists $match_pairs{$pair}) {\n    push @{$match_pairs{$pair}}, $score;\n}\nelse {\n    $match_pairs{$pair} = [$score];\n}\n</code></pre>\n\n<p>This code produces a memory leak that will increase until you kill the process. If I comment out these six lines, no memory leak. The odd thing is that the data is written to the DBM file, and I get the same result when I am using DBM::Deep or not, so it seems like the tie method is correct. I've changed the journal mode, autoflush, locking, and other settings and I see the same behavior.</p>\n\n<p>Am I using DBM::Deep incorrectly here? For example, should I be using the OO interface or is there a better way to code this method?</p>\n\n<p>I will preemptively say that it is hard to provide an example file to reproduce this issue because the script needs to be running a few seconds for the leak to be noticed (meaning the file has to be at least 100k lines). My hope is that something will jump out, but I will provide a script and some data if this is not enough information. I'm using Perl v5.20.2 and the latest DBM::Deep, 2.0011.</p>\n\n<p>EDIT: I have simplified the code to:</p>\n\n<pre><code>$match_pairs{$pair} = $score;\n</code></pre>\n\n<p>and I have also tried the OO interface doing a simple key/value store and I see the same behavior. It seems like this must be a bug so I will report it.</p>\n"}, {"tags": ["perl", "security", "cgi-bin"], "answers": [{"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 1, "last_activity_date": 1429126236, "creation_date": 1429126236, "answer_id": 29659157, "question_id": 29659057, "link": "https://stackoverflow.com/questions/29659057/perl-webscript-doubtful-security/29659157#29659157", "title": "Perl webscript doubtful security", "body": "<p>Yes, that's insecure.  What if QUERY_STRING was <code>\"; rm -fr /;</code>?</p>\n\n<p>Then your <code>system</code> call would be:</p>\n\n<pre><code>wkhtmltopdf \"sample.com/showdata.php?\"; rm -fr /; /tmp/showdata.pdf\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 4748894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71810a885ac71582d39034547bb18fd?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/4748894/dmitry"}, "is_accepted": true, "score": 1, "last_activity_date": 1429130657, "last_edit_date": 1429130657, "creation_date": 1429128417, "answer_id": 29659873, "question_id": 29659057, "link": "https://stackoverflow.com/questions/29659057/perl-webscript-doubtful-security/29659873#29659873", "title": "Perl webscript doubtful security", "body": "<p>Accessing $ENV{\"QUERY_STRING\"} directly is insecure. In my case, my digital parameter 'o' must be forced to be integer. There is secure script version:</p>\n\n<pre><code>#!/usr/bin/perl\nuse CGI;\nmy $query = new CGI;\nmy $o = int($query-&gt;param('o'));\nmy $file=\"showdata.pdf\";\nmy $filepath= \"/tmp/$file\";\nsystem(\"wkhtmltopdf \\\"sample.com/showdata.php?o=\".$o.\"\\\" $filepath\");\nprint (\"Content-Type:application/x-download\\n\");\nprint (\"Content-Disposition: attachment; filename=$file\\n\\n\");\n\nopen FILE, \"&lt; $filepath\" or die \"can't open : $!\";\nbinmode FILE;\nlocal $/ = \\10240;\nwhile (&lt;FILE&gt;){\n    print $_;\n}\n\nclose FILE;\nunlink ($filepath);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "is_accepted": false, "score": 1, "last_activity_date": 1429289500, "creation_date": 1429289500, "answer_id": 29705125, "question_id": 29659057, "link": "https://stackoverflow.com/questions/29659057/perl-webscript-doubtful-security/29705125#29705125", "title": "Perl webscript doubtful security", "body": "<p>If you concern about security, run your Perl script with taint option <code>-T</code>.</p>\n\n<p>For example, the following script will halt your script with warning: <code>Insecure $ENV{PATH} while running with -T switch at ./foo.pl line 4.</code></p>\n\n<pre><code>#!/usr/bin/perl -T\n\nmy $foo = $ENV{FOO};\nsystem(\"ls -l $foo\");\n</code></pre>\n\n<p>Note: option <code>-t</code> can be used instead of <code>-T</code> if you just need warning.</p>\n"}], "owner": {"reputation": 73, "user_id": 4748894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71810a885ac71582d39034547bb18fd?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/4748894/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 29659873, "answer_count": 3, "score": 1, "last_activity_date": 1429289500, "creation_date": 1429125939, "question_id": 29659057, "link": "https://stackoverflow.com/questions/29659057/perl-webscript-doubtful-security", "title": "Perl webscript doubtful security", "body": "<p>Recently with a project I inherited a simple perl script that generates a PDF of the page:</p>\n\n<pre><code>#!/usr/bin/perl\nuse CGI;\n\nmy $file=\"showdata.pdf\";\nmy $filepath= \"/tmp/$file\";\nsystem(\"wkhtmltopdf \\\"sample.com/showdata.php?\".$ENV{\"QUERY_STRING\"}.\"\\\" $filepath\");\nprint (\"Content-Type:application/x-download\\n\");\nprint (\"Content-Disposition: attachment; filename=$file\\n\\n\");\n\nopen FILE, \"&lt; $filepath\" or die \"can't open : $!\";\nbinmode FILE;\nlocal $/ = \\10240;\nwhile (&lt;FILE&gt;){\n    print $_;\n}\n\nclose FILE;\nunlink ($filepath);\n</code></pre>\n\n<p>I am concerned direct substitution variable $ENV{\"QUERY_STRING\"}. However, in a cursory testing, I did not reveal any problems. I was not able to create/delete files in a known writable directory. I tried not well or problems in the script should not be?</p>\n"}, {"tags": ["arrays", "string", "perl", "printing"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1429125181, "post_id": 29658715, "comment_id": 47457235, "body": "What&#39;s in @input? I can replicate the output if I set <code>@input = ( [] . &#39;faIv&#39; );</code>"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1429125282, "post_id": 29658715, "comment_id": 47457304, "body": "<code>ARRAY(0x500f450)</code> is a stringified representation of an Array Reference.  You&#39;ll want to take a closer look at how you define <code>@input</code>."}, {"owner": {"reputation": 1, "user_id": 4793455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2cb0fedf8b8d643e39f085ff66ab6b4?s=128&d=identicon&r=PG&f=1", "display_name": "Groot", "link": "https://stackoverflow.com/users/4793455/groot"}, "edited": false, "score": 0, "creation_date": 1429125435, "post_id": 29658715, "comment_id": 47457405, "body": "Updated to show how I am creating    @input"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1429125582, "post_id": 29658715, "comment_id": 47457493, "body": "should be <code>my @input = ();</code> not <code>@input = [];</code>"}, {"owner": {"reputation": 1, "user_id": 4793455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2cb0fedf8b8d643e39f085ff66ab6b4?s=128&d=identicon&r=PG&f=1", "display_name": "Groot", "link": "https://stackoverflow.com/users/4793455/groot"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1429126061, "post_id": 29658715, "comment_id": 47457834, "body": "Thank you @HunterMcMillen that solved my problem"}], "answers": [{"tags": [], "owner": {"reputation": 3770, "user_id": 4731679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66a9b39bb57049590b4ba59423630ef6?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Doolittle", "link": "https://stackoverflow.com/users/4731679/edward-doolittle"}, "is_accepted": false, "score": 4, "last_activity_date": 1429126201, "creation_date": 1429126201, "answer_id": 29659143, "question_id": 29658715, "link": "https://stackoverflow.com/questions/29658715/printing-out-a-string-in-perl-and-getting-weird-result/29659143#29659143", "title": "Printing out a string in Perl and getting weird result", "body": "<p><code>[]</code> is a <em>reference</em> to an array. <code>@input = [];</code> creates an array named <code>@input</code> and puts a reference to an empty array as the first element of <code>@input</code>. If you want to initialize <code>@input</code> to an empty array, use <code>@input = ();</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4793455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2cb0fedf8b8d643e39f085ff66ab6b4?s=128&d=identicon&r=PG&f=1", "display_name": "Groot", "link": "https://stackoverflow.com/users/4793455/groot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1429126201, "creation_date": 1429124840, "last_edit_date": 1429125405, "question_id": 29658715, "link": "https://stackoverflow.com/questions/29658715/printing-out-a-string-in-perl-and-getting-weird-result", "title": "Printing out a string in Perl and getting weird result", "body": "<p>I am trying to print out a concatenated string in Perl, but I'm getting a weird result.  Here is a bit of my code, I am getting a string and taking out a part of it and putting it into an array, @array.  I'm then trying to take pieces of that array and concatenate them into a string.  </p>\n\n<pre><code>@input = [];\nwhile ( $in = &lt;STDIN&gt; ) { \n    print \"# got $in\";\n    chomp $in;\n    @inS = split(/ /, $in);\n    if ($inS[2] ne \".pau\"){\n        print \"$inS[2]\";\n        push(@input, $inS[2]);\n    }\n}\n\n$inputSize = @input;\n$stringN = \"\";\nfor ($i = 0; $i &lt; $inputSize; $i++) {\n    $stringN .= $input[$i];\n    print \"$stringN\\n\";\n}\n</code></pre>\n\n<p>But the result I get from printing gets this big number attached onto the front.  Here is an example.  Instead of getting just \"faIv\", I get:</p>\n\n<pre><code> ARRAY(0x500f450)faIv\n</code></pre>\n\n<p>It seems like it thinks my string is an array?  Is that because of concatenating with an array element?  Any assistance would be very helpful, thank you.</p>\n"}, {"tags": ["windows", "perl", "compilation"], "comments": [{"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1429168455, "post_id": 29657170, "comment_id": 47474188, "body": "you might want to retitle to installing UDUNITS for win32"}], "answers": [{"comments": [{"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1429120287, "post_id": 29657279, "comment_id": 47454191, "body": "Let me try your links; I think udunits2 should be fine but the Package Manager could not find that--think. thanks."}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1429120820, "post_id": 29657279, "comment_id": 47454537, "body": "How do I use this: From the Physics version, I downloaded the .pm file, put it along the same level as the other .pm file and then include this line in the calling .pm file: use Physics::Udunits2; but I see cannot localte object for module physics.Udunits2 ; sorry, very tired by now to"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1429121446, "post_id": 29657279, "comment_id": 47454947, "body": "I don&#39;t think your Answer will work because the Physics and the Alien UDUNITS2 modules are dependent on the other UDUNITS2 module."}, {"owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "reply_to_user": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1429125582, "post_id": 29657279, "comment_id": 47457492, "body": "There&#39;s a few compiled DLLs around on cygwin and other domains (google &#39;udunits2.dll&#39;) that might be able to be dropped in if you can&#39;t get the compilation steps working, but I can&#39;t vouch for compatibility/safety. You haven&#39;t provided any detail on the compilation issues you&#39;re facing so noone can help you with them."}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1429125892, "post_id": 29657279, "comment_id": 47457721, "body": "Too many errors were there in compilation to list here. I have just now installed the MinGW packages and now errors are few--only down to missing Expat libraries; I am working that. Thanks."}], "tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": false, "score": 2, "last_activity_date": 1429120205, "creation_date": 1429120205, "answer_id": 29657279, "question_id": 29657170, "link": "https://stackoverflow.com/questions/29657170/migration-of-perl-code-to-windows-missing-udunits-package/29657279#29657279", "title": "Migration of Perl Code to Windows: Missing Udunits Package?", "body": "<p>Are you able to use the CPAN versions of UDUNITS2 as a drop in replacement? There look to be two:</p>\n\n<p><a href=\"https://metacpan.org/pod/Physics::Udunits2\" rel=\"nofollow\">https://metacpan.org/pod/Physics::Udunits2</a></p>\n\n<p><a href=\"https://metacpan.org/pod/Alien::UDUNITS2\" rel=\"nofollow\">https://metacpan.org/pod/Alien::UDUNITS2</a></p>\n"}, {"comments": [{"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1429186931, "post_id": 29667782, "comment_id": 47486718, "body": "I don&#39;t understand the legacy PERL code and nor is there time to go through the code; we simply need to deploy to another place. In the code, after loading the UDunits package, there is a command like UDUNITS::init(data.dat) file; the .dat file has various measurements like &#39;degree_Celsius\t\tS kelvin @ 273.15&#39; etc. I thought, by simply loading the UDUnits package, I would have to worry about the implementation."}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 0, "last_activity_date": 1429168345, "creation_date": 1429168345, "answer_id": 29667782, "question_id": 29657170, "link": "https://stackoverflow.com/questions/29657170/migration-of-perl-code-to-windows-missing-udunits-package/29667782#29667782", "title": "Migration of Perl Code to Windows: Missing Udunits Package?", "body": "<p>What do you really want to do? What do you really need? because there are pure perl alternatives</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/Math::Calc::Units\" rel=\"nofollow\">Math::Calc::Units - Human-readable unit-aware calculator</a></li>\n<li><a href=\"https://metacpan.org/pod/Physics::Unit\" rel=\"nofollow\">Physics::Unit - Manipulate physics units and dimensions</a></li>\n<li><a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime - A date and time object for Perl</a></li>\n<li><a href=\"http://perl.plover.com/units/units\" rel=\"nofollow\">http://perl.plover.com/units/units</a></li>\n<li><a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a> / <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\">XML::Twig</a> ... because <a href=\"http://www.unidata.ucar.edu/software/udunits/udunits-2.2.19/udunits/udunits2-derived.xml\" rel=\"nofollow\">udunits2-derived.xml</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "is_accepted": false, "score": 0, "last_activity_date": 1429209366, "creation_date": 1429209366, "answer_id": 29683253, "question_id": 29657170, "link": "https://stackoverflow.com/questions/29657170/migration-of-perl-code-to-windows-missing-udunits-package/29683253#29683253", "title": "Migration of Perl Code to Windows: Missing Udunits Package?", "body": "<p>Never mind, with good  folks' help from Github (as seen at: <a href=\"https://github.com/Unidata/UDUNITS-2/issues/18\" rel=\"nofollow\">https://github.com/Unidata/UDUNITS-2/issues/18</a> ), I am now able to compile using the following:\n1) Downloaded from Source Forge the Expat 32 library into c:\\expat32</p>\n\n<p>2) Downloaded the UDUNITS2 from <a href=\"https://github.com/Unidata/UDUNITS-2\" rel=\"nofollow\">https://github.com/Unidata/UDUNITS-2</a> and unzipped on a local folder.</p>\n\n<p>3) Downloaded and Installed CMake 3.2 with command line options</p>\n\n<p>4) Ran the following two commands from within a newly created 'build' folder inside the unzipped folder from step #2:</p>\n\n<pre><code>cmake .. -DCMAKE_PREFIX_PATH=c:\\expat32 -G \"Visual Studio 11\" -DEXPAT_INCLUDE_DIR=C:\\expat32\\Source\\lib -DEXPAT_LIBRARY=c:\\expat32\\Bin\\libexpat.lib\n\ncmake --build . --config Release \n</code></pre>\n\n<p>and now I can see udunits2.dll inside: UDUNITS-2-master\\build\\lib\\Release</p>\n\n<p>folder.\nNow, I need to figure out how to use this DLL inside my PERL script...</p>\n\n<p>Thank you all for the help!</p>\n"}], "owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1429209366, "creation_date": 1429119855, "last_edit_date": 1429203542, "question_id": 29657170, "link": "https://stackoverflow.com/questions/29657170/migration-of-perl-code-to-windows-missing-udunits-package", "title": "Migration of Perl Code to Windows: Missing Udunits Package?", "body": "<p>We have some very old Perl scripts doing some database work; the scripts run in a Linux environment, which is going obsolete. One Perl script with .pl loads a package (with .pm extension); the .pm file has code like:</p>\n\n<pre><code>use UDUNITS;\n</code></pre>\n\n<p>My development environment is a Windows machine with ActivePerl 5.2 installed. I think I am able to load other Packages fine except I can't find the UDUNITS package in a Windows binary. </p>\n\n<p>There IS a way to compile UDUNITS2 package, per <a href=\"http://fossies.org/linux/udunits/udunits2.html#Windows\" rel=\"nofollow\">http://fossies.org/linux/udunits/udunits2.html#Windows</a> but I am unable to compile using CMake--getting errors. My first time with CMake. </p>\n\n<p>So what are my options? I don't want to develop on Linux because I don't have the expertise; and also I think going past the UDUNITS problem may be all I need in Windows.</p>\n\n<p>Thanks!</p>\n\n<p><strong>Update</strong> I used command line way now: cmake CC=\"C:\\Program Files (x86)\\Microsoft Visual Studio 11.0\\VC\\bin\\cl.exe\" CXX=\"C:\\Program Files (x86)\\Microsoft Visual Studio 11.0\\VC\\bin\\cl.exe\" -DEXPAT_LIBRARY=c:\\expat32\\Bin\\libexpat.dll ..\nand I can see that 'configuring done' and 'generating done' but also a message like CUNIT not found. Build files are written to a folder; <em>but where is the DLL</em>? I am quite new to this so sorry if too simple questions.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429121068, "post_id": 29656912, "comment_id": 47454699, "body": "Ok, the data structure with two elements <code>$flat_hash</code> is not related to the large data structure. The  <code>$flat_hash</code> has two elements here since Data::Diver creates two elements due to the array index is 1 and not 0. Ideally, I would like to avoid the trick of calling Data::Diver just to create a temporary hash <code>$flat_hash</code>, so I can use Hash::Flatten on that. It seems overkill for a simple job.. It would be better to go directly from <code>@nested_key</code> to the flattened key.."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429121392, "post_id": 29656912, "comment_id": 47454899, "body": "It involves som escaping of the separator characters. So I was looking for a possible CPAN solution before starting coding from scratch.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429121418, "post_id": 29656912, "comment_id": 47454921, "body": "Hash::Flatten does not have a key generator. You could submit your function to the author for inclusion. It would be a useful addition."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429122154, "post_id": 29656912, "comment_id": 47455397, "body": "@ikegami Yes, thanks for the advice. It seems that the source code for Hash::Flatten already has two functions <code>_escape</code> and <code>_unescape</code>.. so the (only?) problem is that they are not part of the exported/public interface of that package.."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1429126932, "last_edit_date": 1429126932, "creation_date": 1429119903, "answer_id": 29657185, "question_id": 29656912, "link": "https://stackoverflow.com/questions/29656912/how-to-flatten-a-single-nested-hash-key/29657185#29657185", "title": "How to flatten a single nested hash key?", "body": "<p>Only the key in which you are interested will have a defined value, so only a small change is needed.</p>\n\n<pre><code>use Data::Diver   qw( DiveVal );\nuse Hash::Flatten qw( flatten );\n\nsub flat_key {\n   DiveVal(my $h = {}, @_) = 1;\n   my $flat = flatten($h);\n   return ( grep $flat-&gt;{$_}, keys(%$flat) )[0];\n}\n\nmy @key = ('a', 1, 'b');\nmy $key = flat_key(@key);  # a:1.b\n</code></pre>\n\n<p>Because this uses Data::Diver, you can also use references to indicate that a number is really a hash key.</p>\n\n<pre><code>my @key = ('a', 1, 'b');\nmy $key = flat_key(map \\$_, @key);  # a.1.b\n</code></pre>\n\n<p>Alternatively, the escaping mechanism is well documented.</p>\n\n<pre><code>sub _flat_key_escape {\n   my ($s) = @_;\n   $s =~ s/([\\\\.:])/\\\\$1/g;\n   return $s;\n}\n\nsub flat_key {\n   my $key;\n   die(\"usage\") if !@_;\n   for my $subkey (@_) {\n      if (ref($subkey))                { $key .= '.' . _flat_key_escape($$subkey); }\n      elsif ($subkey !~ /^-?[0-9]+\\z/) { $key .= '.' . _flat_key_escape($subkey);  }\n      else                             { $key .= ':' . _flat_key_escape($subkey);  }\n   }\n\n   return substr($key, 1);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1429125502, "post_id": 29658678, "comment_id": 47457445, "body": "In general we also need to consider the case where the keys themselves contains the separator characters <code>.</code> or <code>:</code>. So they need to be escaped properly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1429126473, "post_id": 29658678, "comment_id": 47458084, "body": "@H&#229;konH&#230;gland:  Okay I didn&#39;t spot that. I&#39;ve added my final version!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1429126855, "post_id": 29658678, "comment_id": 47458341, "body": "@H&#229;konH&#230;gland: In case there is a real backslash in the key itself, which would otherwise be considered to be escaping the following character"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1429127695, "post_id": 29658678, "comment_id": 47458807, "body": "But we know that there are only two valid escape sequences to consider? Namely <code>\\.</code> and <code>\\:</code> if a key already contains for example <code>\\:</code>, we will first replace <code>:</code> with <code>\\:</code> to obtain <code>\\\\:</code> so it should be possible to reconstruct the key without having to escape the escape also?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429128013, "post_id": 29658678, "comment_id": 47459002, "body": "<code>@key = (&quot;a\\\\&quot;, &quot;b&quot;)</code> and <code>@key = (&quot;a\\\\.b&quot;)</code> would produce the same flat key (<code>a\\\\.b</code>)."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429128271, "post_id": 29658678, "comment_id": 47459127, "body": "@ikegami Would not <code>&quot;a\\\\.b&quot;</code> produce <code>&quot;a\\\\\\.b&quot;</code> whereas <code>&quot;a\\\\&quot;</code> and <code>&quot;b&quot;</code> would give <code>&quot;a\\\\.b&quot;</code> ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429128867, "post_id": 29658678, "comment_id": 47459473, "body": "huh... <code>&quot;a\\\\\\.b&quot;</code> and <code>&quot;a\\\\.b&quot;</code> produce the same string."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429131529, "post_id": 29658678, "comment_id": 47461003, "body": "@ikegami Yes, I think I can see the problem. For example, reconstruction of flattened key <code>&quot;a\\.b&quot;</code> would give <code>@key = (&quot;a.b&quot;)</code>. But the original could also have been <code>@key = (&quot;a\\&quot;, &quot;b&quot;)</code> .."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1429176696, "post_id": 29658678, "comment_id": 47479220, "body": "I added some more functionality to this and uploaded the code for review <a href=\"http://codereview.stackexchange.com/questions/87066/perl-subroutines-to-flatten-and-unflatten-a-complex-hash-or-array-key\" title=\"perl subroutines to flatten and unflatten a complex hash or array key\">codereview.stackexchange.com/questions/87066/&hellip;</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1429126793, "last_edit_date": 1429126793, "creation_date": 1429124692, "answer_id": 29658678, "question_id": 29656912, "link": "https://stackoverflow.com/questions/29656912/how-to-flatten-a-single-nested-hash-key/29658678#29658678", "title": "How to flatten a single nested hash key?", "body": "<p>This is simple to do without reference to either <code>Hash::Flatten</code> or <code>Data::Diver</code>. The latter's <code>DiveVal</code> distinguishes between hash keys and array indices using the regex <code>/^-?\\d+$/</code>, so we can do the same to discover whether a item in a sequence's <code>Hash::Flatten</code> default contraction should be preceded by a colon <code>:</code> (array index) or a dot <code>.</code> (hash key).</p>\n\n<p>That gives the subroutine <code>flatten_key</code> below</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy @key = ('a', 1, 'b');\nmy $key = flatten_key(@key);\nsay $key;\n\nsay flatten_key(qw/ a b c 1 2 3 /);\n\nsub flatten_key {\n  join '', shift, map /^-?\\d+$/ ? \":$_\" : \".$_\", @_;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>a:1.b\na.b.c:1:2:3\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>If you need to use the <code>Data::Diver</code> convention that any value passed as a scalar reference is a hash <em>key</em>, even if it looks like a number, then you can expand that subroutine like this. It's slightly more awkward because the first item in the sequence needs to be processed as well, but for some reason it doesn't take a delimiter character. So I've chosen to add a delimiter to all the items and then remove it from the first.</p>\n\n<pre><code>say flatten_key('a', 'b', \\1, \\2, 'c', 'd', 1, 2);\n\nsub flatten_key {\n  my @key = map {\n    ref()     ? \".$$_\" :\n    /^-?\\d+$/ ? \":$_\" :\n                \".$_\"\n  } @_;\n  $key[0] =~ s/^[:.]//;\n  join '', @key;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>a.b.1.2.c.d:1:2\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Also accounting for hash keys that themselves contain dots or colons:</p>\n\n<pre><code>say flatten_key(qw/ a .. :: b /);\n\nsub flatten_key {\n  my @key = map {\n    (my $s = ref() ? $$_ : $_) =~ s/(?=[:.\\\\])/\\\\/g;\n    /^-?\\d+$/ ? \":$s\" : \".$s\"\n  } @_;\n  $key[0] =~ s/^[:.]//;\n  join '', @key;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>a.\\.\\..\\:\\:.b\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 29658678, "answer_count": 2, "score": 0, "last_activity_date": 1429126932, "creation_date": 1429119048, "last_edit_date": 1429122089, "question_id": 29656912, "link": "https://stackoverflow.com/questions/29656912/how-to-flatten-a-single-nested-hash-key", "title": "How to flatten a single nested hash key?", "body": "<p>I have a data structure flattened by <a href=\"https://metacpan.org/pod/Hash::Flatten\" rel=\"nofollow\"><code>Hash::Flatten</code></a></p>\n\n<p>For example,</p>\n\n<pre><code>flatten( { a =&gt; [ 'x', { b =&gt; 'y' } ] } )\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>my $flat = {\n   'a:0'   =&gt; 'x'\n   'a:1.b' =&gt; 'y',\n};\n</code></pre>\n\n<p>I want to generate a flattened hash key from the a list of keys and indexes from a key <a href=\"https://metacpan.org/pod/Data::Diver\" rel=\"nofollow\"><code>Data::Diver</code></a>'s functions would accept.</p>\n\n<p>For example,</p>\n\n<pre><code>my @key = ('a', 1, 'b');\n</code></pre>\n\n<p>should return</p>\n\n<pre><code>my $key = \"a:1.b\";\n</code></pre>\n\n<p>I have looked at Hash::Flatten, but it seems it can only flatten the whole hash, which is not what I am looking for. I just want to flatten a single (nested) key at a time.</p>\n\n<p>To avoid replicating the escaping mechanism of Hash::Flatten, I tried the following:</p>\n\n<pre><code>use Data::Diver   qw( DiveVal );\nuse Hash::Flatten qw( flatten );\n\nmy @key = ('a', 1, 'b');\n\nDiveVal(my $h = {}, @key) = 1;\nmy ($key) = keys(%{ flatten($h) );\n</code></pre>\n\n<p>But that can just as easily return <code>a:0</code> as <code>a:1.b</code>. Does anyone have any recommendations?</p>\n"}, {"tags": ["perl", "sed"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1429116672, "post_id": 29655816, "comment_id": 47451957, "body": "<code>perl -pe&#39;s&#47;this&#47;that&#47;g if &#47;^Page 5:&#47;..&#47;^Page 6:&#47;&#39;</code>"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429118022, "post_id": 29655816, "comment_id": 47452810, "body": "Exactly! Thanks. After reading @Sobrique&#39;s answer I came up with the one-liner syntax as well."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429191787, "post_id": 29655816, "comment_id": 47490751, "body": "PS. I&#39;m surprised this question is (apparently) not a duplicate!"}, {"owner": {"reputation": 10619, "user_id": 965176, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ed0bd5633c083e69192a9d633c83c21b?s=128&d=identicon&r=PG", "display_name": "qwertzguy", "link": "https://stackoverflow.com/users/965176/qwertzguy"}, "edited": false, "score": 1, "creation_date": 1506707530, "post_id": 29655816, "comment_id": 79943259, "body": "And you can even use line numbers as well (like in sed): `perl -pe &#39;s/this/that/g if 1../^Page 6:/&#39; that would be from first line to the one matching Page 6. Note that perl&#39;s line index starts at 1 instead of 0 compared to sed."}], "answers": [{"comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 1, "creation_date": 1429117855, "post_id": 29655927, "comment_id": 47452720, "body": "Thanks! Yeah, that&#39;s a pretty direct translation for the simple case, which is all I need. And I can use it in one-liners with <code>-e &#39;s&#47;this&#47;that&#47;g if (m&#47;A&#47;..m&#47;B&#47;);</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1429115818, "creation_date": 1429115818, "answer_id": 29655927, "question_id": 29655816, "link": "https://stackoverflow.com/questions/29655816/perl-idiom-for-substituting-in-a-line-range-sed-like/29655927#29655927", "title": "perl idiom for substituting in a line range (sed-like)", "body": "<p>There is. What you have in perl is the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">'range operator'</a>. </p>\n\n<p>It goes a bit like this: </p>\n\n<pre><code>if ( m/Page 5:/ .. m/Page 6:/ ) { \n     s/this/that/g;\n}\n</code></pre>\n\n<p>This will evaluate as 'true' if you're between the two patterns, and false otherwise. </p>\n\n<p>E.g.:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nwhile (&lt;DATA&gt;) {\n    if ( m/Page 5:/ .. m/Page 6:/ ) {\n        s/this/that/g;\n    }\n    print;\n}\n\n__DATA__\n\nPage 1:\nthis\nthis\nmore this\nPage 5:\nthis \nthis this\nthis\nPage 6:\nthis \nmore this\nand some more this\n</code></pre>\n"}], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 29655927, "answer_count": 1, "score": 3, "last_activity_date": 1429117477, "creation_date": 1429115480, "question_id": 29655816, "link": "https://stackoverflow.com/questions/29655816/perl-idiom-for-substituting-in-a-line-range-sed-like", "title": "perl idiom for substituting in a line range (sed-like)", "body": "<p>One of the nice features of <code>sed</code> is that commands (among them substitutions) can be restricted to a range of lines defined by regexp expressions (or by line number, but never mind that). Here's a simple example:</p>\n\n<pre><code>sed '/^Page 5:/,/^Page 6:/s/this/that/g'  \n</code></pre>\n\n<p>I was just trying to convert a rather more complex sed script to perl, and while the regexp substitutions are no problem, I realized that I don't know a straightforward way to limit substitutions to a range of lines. I can write</p>\n\n<pre><code>perl -p -e 's/^(Page 5:.*)this/$1that/g'\n</code></pre>\n\n<p>to change <code>this</code> to <code>that</code> on lines starting with <code>Page 5:</code>, but not on the lines that follow (and even on this line, despite the <code>g</code> it's only going to substitute once since matches are non-overlapping). Short of writing an explicit input loop and keeping track in a state variable like <code>$inrange</code>, isn't there a nice shortcut that can do this? This being perl, surely there must be!</p>\n"}, {"tags": ["android", "linux", "perl", "gradle", "server"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1429114974, "post_id": 29655410, "comment_id": 47450975, "body": "You don&#39;t need to <code>chdir</code> back again - all the shell invocations open a subshell and you cannot affect the parent&#39;s environment (or cwd) from a subshell."}], "answers": [{"comments": [{"owner": {"reputation": 731, "user_id": 2374511, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a48a0d3c1a350f52d3fe7ee723032b0?s=128&d=identicon&r=PG", "display_name": "ascallonisi", "link": "https://stackoverflow.com/users/2374511/ascallonisi"}, "edited": false, "score": 0, "creation_date": 1429116060, "post_id": 29655676, "comment_id": 47451588, "body": "thanks for the hint, the pipe and the second cd are indeed unnecessary, but the result is still the same. the gradle build doesn&#39;t ask for any user input so I don&#39;t think it could be expecting STDIN, and the command runs on the shell without opening windows."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 731, "user_id": 2374511, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a48a0d3c1a350f52d3fe7ee723032b0?s=128&d=identicon&r=PG", "display_name": "ascallonisi", "link": "https://stackoverflow.com/users/2374511/ascallonisi"}, "edited": false, "score": 1, "creation_date": 1429116324, "post_id": 29655676, "comment_id": 47451754, "body": "In which case I&#39;d try testing <code>$?</code> to see the return code. I assume that <code>$appFolder</code> is an absolute path, or one that&#39;s &#39;beneath&#39; the cwd?"}, {"owner": {"reputation": 731, "user_id": 2374511, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a48a0d3c1a350f52d3fe7ee723032b0?s=128&d=identicon&r=PG", "display_name": "ascallonisi", "link": "https://stackoverflow.com/users/2374511/ascallonisi"}, "edited": false, "score": 0, "creation_date": 1429183003, "post_id": 29655676, "comment_id": 47483660, "body": "sorry, I edited your comment instead of my original one."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1429181502, "last_edit_date": 1429181502, "creation_date": 1429115057, "answer_id": 29655676, "question_id": 29655410, "link": "https://stackoverflow.com/questions/29655410/run-gradle-from-perl-script/29655676#29655676", "title": "Run gradle from perl script", "body": "<p>You don't need to <code>chdir</code> back again - all the shell invocations open a subshell and you cannot affect the parent's environment (or cwd) from a subshell.</p>\n\n<p>Also, even if you did want to do that, you'd want <code>||</code> rather than <code>|</code> because otherwise you're piping the output to 'cd' which is almost certainly not what you want to do.</p>\n\n<p>So:</p>\n\n<pre><code>$build_output = `cd $appFolder &amp;&amp; ./gradlew assembleRelease`; \n</code></pre>\n\n<p>Should do the right thing. </p>\n\n<p>If it doesn't, the only thing I can think of is:</p>\n\n<ul>\n<li>It's expecting <code>STDIN</code> to be connected. (Workarounds include <code>IPC::Open2</code>). </li>\n<li>It's trying to open a window, and there's no window manager available. </li>\n</ul>\n\n<p>EDIT</p>\n\n<p>redirecting STDERROR and running the following command:</p>\n\n<pre><code>my $build_output = `cd $appFolder &amp;&amp; pwd &amp;&amp; ./gradlew assembleRelease 2&gt;&amp;1`;\nmy $err = $? &gt;&gt; 8;\nif ($?) {\n    print LOG \"\\n\\n BUILD ERROR: \\n\\n$err\\n$build_output\\n\";\n} else {\n    print LOG \"\\n\\n BUILD OUTPUT: \\n\\n$build_output\\n\";\n}\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>BUILD ERROR: \n/var/www/html/upload/myApp\n1\nException in thread \"main\" java.lang.RuntimeException: java.io.FileNotFoundException: /var/www/.gradle/wrapper/dists/gradle-2.2.1-all/6dibv5rcssdffbq9klf8imrndn/gradle-2.2.1-all.zip.lck (No such file or directory)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:78)\n    at org.gradle.wrapper.Install.createDist(Install.java:47)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:129)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:48)\nCaused by: java.io.FileNotFoundException: /var/www/.gradle/wrapper/dists/gradle-2.2.1-all/6dibv5rcssdffbq9klf8imrndn/gradle-2.2.1-all.zip.lck (No such file or directory)\n    at java.io.RandomAccessFile.open(Native Method)\n    at java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:241)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:49)\n    ... 3 more\n</code></pre>\n\n<p>So I need to understand why it's looking for .gradle/ folder inside /var/www instead of the folder I chdir into. It may be related to the GRADLE_USER_HOME variable.</p>\n"}], "owner": {"reputation": 731, "user_id": 2374511, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a48a0d3c1a350f52d3fe7ee723032b0?s=128&d=identicon&r=PG", "display_name": "ascallonisi", "link": "https://stackoverflow.com/users/2374511/ascallonisi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1429188785, "creation_date": 1429114316, "last_edit_date": 1429188785, "question_id": 29655410, "link": "https://stackoverflow.com/questions/29655410/run-gradle-from-perl-script", "title": "Run gradle from perl script", "body": "<p>I'm trying to launch a gradle andrpod apk build from a perl script on the server. I tried different solutions, like:</p>\n\n<pre><code>my $path = Cwd::cwd();\n$build_output = `cd $appFolder &amp;&amp; ./gradlew assembleRelease | cd $path`;\n</code></pre>\n\n<p>I tried using system and open with a pipe, but the result is the same.</p>\n\n<p>When I try to add this to my existing script, it doesn't wait for the gradle build to start.\nAll other calls to system commands work fine, it's just the gradle build that appears to quit immediately.</p>\n\n<p>Any ideas on what might be different on the gradle call?</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>redirecting STDERROR and running the following command:</p>\n\n<pre><code>my $build_output = `cd $appFolder &amp;&amp; pwd &amp;&amp; ./gradlew assembleRelease 2&gt;&amp;1`;\nmy $err = $? &gt;&gt; 8;\nif ($?) {\n    print LOG \"\\n\\n BUILD ERROR: \\n\\n$err\\n$build_output\\n\";\n} else {\n    print LOG \"\\n\\n BUILD OUTPUT: \\n\\n$build_output\\n\";\n}\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>BUILD ERROR: \n/var/www/html/upload/myApp\n1\nException in thread \"main\" java.lang.RuntimeException: java.io.FileNotFoundException: /var/www/.gradle/wrapper/dists/gradle-2.2.1-all/6dibv5rcssdffbq9klf8imrndn/gradle-2.2.1-all.zip.lck (No such file or directory)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:78)\n    at org.gradle.wrapper.Install.createDist(Install.java:47)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:129)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:48)\nCaused by: java.io.FileNotFoundException: /var/www/.gradle/wrapper/dists/gradle-2.2.1-all/6dibv5rcssdffbq9klf8imrndn/gradle-2.2.1-all.zip.lck (No such file or directory)\n    at java.io.RandomAccessFile.open(Native Method)\n    at java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:241)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:49)\n    ... 3 more\n</code></pre>\n\n<p>So I need to understand why it's looking for .gradle/ folder inside /var/www instead of the folder I chdir into. I tried setting GRADLE_USER_HOME variable to /usr/local/gradle but it still searches for /var/www/.gradle/ .</p>\n\n<p><strong>SOLVED</strong></p>\n\n<p>The reason why it was looking for .gradle in/var/www is because the script is launched by an apache user. Moving the folder there and granting access solved the problem.</p>\n"}, {"tags": ["python", "perl", "hash"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1429112158, "post_id": 29654506, "comment_id": 47448868, "body": "Are you looking for <i>any</i> hashing function or one that specifically gives the same results as Python&#39;s (at least for primitive values)"}, {"owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1429112410, "post_id": 29654506, "comment_id": 47449064, "body": "@Quentin: thanks for your question; I&#39;ve added a clarification to my post.  In short, agreement with Python&#39;s <code>hash</code> is not necessary (though, now that you mention it, it would be kind of nice, but only as a pleasant bonus, not at all required)."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429116864, "post_id": 29654506, "comment_id": 47452070, "body": "<code>sub hash { return unpack(&quot;%32W*&quot;, &quot;@_&quot;) }</code> as the python function makes sense only for the strings? <a href=\"http://stackoverflow.com/a/793835/223226\">stackoverflow.com/a/793835/223226</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429118025, "post_id": 29655038, "comment_id": 47452814, "body": "That will hash a string of bytes. That may or may not be what the needs."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1429113245, "creation_date": 1429113245, "answer_id": 29655038, "question_id": 29654506, "link": "https://stackoverflow.com/questions/29654506/perls-equivalent-of-pythons-hash-or-javas-hashcode-function/29655038#29655038", "title": "Perl&#39;s equivalent of Python&#39;s hash (or Java&#39;s hashCode) function?", "body": "<p>There are a variety of ways of hashing an object. The best way to do this with perl is via a module. </p>\n\n<p>E.g. <a href=\"http://search.cpan.org/~mshelor/Digest-SHA-5.95/lib/Digest/SHA.pm\" rel=\"nofollow\"><code>Digest::SHA</code></a> </p>\n\n<p>Which would work like this:</p>\n\n<pre><code>use Digest::SHA qw(sha1 sha1_hex sha1_base64 ...);\n\n$digest = sha1($data);\n$digest = sha1_hex($data);\n$digest = sha1_base64($data);\n\n$digest = sha256($data);\n$digest = sha384_hex($data);\n$digest = sha512_base64($data);\n</code></pre>\n\n<p>You can see a list of the various choices by running <code>i /Digest/</code> in the CPAN shell <code>perl -MCPAN -e shell</code>. <code>Digest::MD5</code> is another common choice for this. </p>\n\n<p>I would suggest for trivial implementations, it doesn't actually make much difference which you use. If it's non trivial then there are security concerns relating to hash collisions. </p>\n"}, {"tags": [], "owner": {"reputation": 603, "user_id": 2625346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ee31fca82dd2895bc5eb68ead5f973e?s=128&d=identicon&r=PG", "display_name": "Ivan Baidakou", "link": "https://stackoverflow.com/users/2625346/ivan-baidakou"}, "is_accepted": false, "score": 1, "last_activity_date": 1429522668, "creation_date": 1429522668, "answer_id": 29744210, "question_id": 29654506, "link": "https://stackoverflow.com/questions/29654506/perls-equivalent-of-pythons-hash-or-javas-hashcode-function/29744210#29744210", "title": "Perl&#39;s equivalent of Python&#39;s hash (or Java&#39;s hashCode) function?", "body": "<p>First, you should overload \"to-string\" method of your object. It might be enough if you want just to use objects as keys in hashes. Perl applies some internal hash mechanism for quick <strong>key-value</strong> access.</p>\n\n<p>Second, you can apply any hashing mechanism to the resulting string, e.g. <a href=\"https://metacpan.org/pod/Digest::SHA\" rel=\"nofollow\" title=\"Digest::SHA\">Digest::SHA</a>, or, if you don't need strong security requirements, then yo can use <a href=\"https://metacpan.org/pod/Digest::MurmurHash\" rel=\"nofollow\">Digest::MurmurHash</a> (The announced speed for MurmurHash is <strong>5Gb/s</strong> !). </p>\n"}], "owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "accepted_answer_id": 29655038, "answer_count": 2, "score": 3, "last_activity_date": 1429522668, "creation_date": 1429112040, "last_edit_date": 1429116984, "question_id": 29654506, "link": "https://stackoverflow.com/questions/29654506/perls-equivalent-of-pythons-hash-or-javas-hashcode-function", "title": "Perl&#39;s equivalent of Python&#39;s hash (or Java&#39;s hashCode) function?", "body": "<p>The summary documentation for Python's <code>hash</code> function reads:</p>\n\n<pre><code>Type:        builtin_function_or_method\nString form: &lt;built-in function hash&gt;\nNamespace:   Python builtin\nDocstring:\nhash(object) -&gt; integer\n\nReturn a hash value for the object.  Two objects with the same value have\nthe same hash value.  The reverse is not necessarily true, but likely.\n</code></pre>\n\n<p>(For example, the <code>hash</code> function when applied to the documentation string above returns the integer 3071661466461282235.)</p>\n\n<p>Is there an equivalent function for Perl?</p>\n\n<p>EDIT: What I'm looking for does not need to return the same value as Python's <code>hash</code> function for any argument.</p>\n"}, {"tags": ["apache", "perl", ".htaccess"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1429110985, "post_id": 29654001, "comment_id": 47447948, "body": "Do you have access to the error logs? If so, please find the exact error message and <a href=\"https://stackoverflow.com/posts/29654001/edit\">edit</a> it into your question. If not, you can add <code>use CGI::Carp qw(fatalsToBrowser);</code> to the top of your script to show fatal errors directly in the browser (assuming this is a vanilla CGI script and you&#39;re not using a framework). Also, please <a href=\"https://stackoverflow.com/posts/29654001/edit\">edit</a> the relevant bits of your script into the question."}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429112233, "post_id": 29654001, "comment_id": 47448923, "body": "I enable the errorlog I am getting following error :       [Wed Apr 15 15:36:08 2015] [alert] [client 135.75.222.51] /var/www/html/oncall/cgi-bin/.htaccess: Options not allowed here"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1429112788, "post_id": 29654001, "comment_id": 47449369, "body": "That means that your Apache configuration doesn&#39;t allow <code>Options</code> directives in .htaccess files. This is controlled by <a href=\"http://httpd.apache.org/docs/2.4/mod/core.html#allowoverride\" rel=\"nofollow noreferrer\"><code>AllowOverride</code></a>, which is probably set in your main httpd.conf."}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429112982, "post_id": 29654001, "comment_id": 47449541, "body": "Anything I need to change in .htaccess file??."}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429113463, "post_id": 29654001, "comment_id": 47449926, "body": "What content I need to add in httpd.conf file, Please anyone tell me."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429113550, "post_id": 29654001, "comment_id": 47449992, "body": "See the Apache documentation I linked in my previous comment. There&#39;s a section explicitly related to allowing <code>Options</code> in .htaccess."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429117233, "post_id": 29654001, "comment_id": 47452306, "body": "I disagree with ThisSuitIsBlackNot. There&#39;s no indication that user3829086 has <code>AllowOverride All</code> set in his <code>httpd.conf</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429129015, "post_id": 29654001, "comment_id": 47459572, "body": "@ikegami Not <code>AllowOverride All</code>, no. That error indicates that the OP has something besides <code>AllowOverride All</code> (which would not cause an error), besides <code>AllowOverride None</code> (in which case, Apache wouldn&#39;t even attempt reading .htaccess files), and besides <code>AllowOverride Options</code>. For example, setting <code>AllowOverride FileInfo</code> and then putting an <code>Options</code> directive in .htaccess gives this error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429129094, "post_id": 29654001, "comment_id": 47459627, "body": "@ThisSuitIsBlackNot, The question you said was a dup didn&#39;t work even though it had <code>AllowOverride All</code>. Different question."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429129162, "post_id": 29654001, "comment_id": 47459662, "body": "@ikegami Ah, I see what you&#39;re saying. I missed that part in the other question. Good catch (yet again)."}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1429175014, "post_id": 29658059, "comment_id": 47478051, "body": "I have added above solution in .htaccess file along with actual path of cgi-bin . But It is not working.."}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1429180358, "post_id": 29658059, "comment_id": 47481830, "body": "I am getting following error in error log:     /var/www/html/oncall/cgi-bin/.htaccess: &lt;Directory not allowed here"}, {"owner": {"reputation": 398, "user_id": 490418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yKy7.png?s=128&g=1", "display_name": "Chad Clark", "link": "https://stackoverflow.com/users/490418/chad-clark"}, "reply_to_user": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1429196934, "post_id": 29658059, "comment_id": 47494949, "body": "The &lt;Directory&gt; block goes in your httpd.conf or whatever your install uses (maybe apache2.conf).  You can also put it in the &lt;VirtualHost&gt; block if you have one.  The details are in the Apache documentation at <a href=\"http://httpd.apache.org/docs/2.4/mod/core.html#directory\" rel=\"nofollow noreferrer\">httpd.apache.org/docs/2.4/mod/core.html#directory</a>"}], "tags": [], "owner": {"reputation": 398, "user_id": 490418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yKy7.png?s=128&g=1", "display_name": "Chad Clark", "link": "https://stackoverflow.com/users/490418/chad-clark"}, "is_accepted": false, "score": 2, "last_activity_date": 1429122719, "creation_date": 1429122719, "answer_id": 29658059, "question_id": 29654001, "link": "https://stackoverflow.com/questions/29654001/why-do-i-get-htaccess-options-not-allowed-here-when-i-try-to-run-my-perl-scr/29658059#29658059", "title": "Why do I get &quot;.htaccess: Options not allowed here&quot; when I try to run my Perl script in a browser?", "body": "<p>Try something like this:</p>\n\n<pre><code>&lt;Directory /var/www/html/oncall/cgi-bin/&gt;\n    AllowOverride All\n&lt;/Directory&gt;\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4639, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429122719, "creation_date": 1429110712, "last_edit_date": 1592644375, "question_id": 29654001, "link": "https://stackoverflow.com/questions/29654001/why-do-i-get-htaccess-options-not-allowed-here-when-i-try-to-run-my-perl-scr", "title": "Why do I get &quot;.htaccess: Options not allowed here&quot; when I try to run my Perl script in a browser?", "body": "<p>I am getting &quot;Internal Server Error&quot; along with the following error when I execute my Perl script in my browser:</p>\n<blockquote>\n<p>The server encountered an internal error or misconfiguration and was unable to complete your request.</p>\n<p>Please contact the server administrator, xxxxx@att.com and inform them of the time the error occurred, and anything you might have done that may have caused the error.</p>\n<p>More information about this error may be available in the server error log.</p>\n</blockquote>\n<p>When I enable the error log, I see the following error:</p>\n<blockquote>\n<p>[Wed Apr 15 15:36:08 2015] [alert] [client 135.75.222.51] /var/www/html/oncall/cgi-bin/.htaccess: Options not allowed here</p>\n</blockquote>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "is_accepted": true, "score": 3, "last_activity_date": 1429110073, "creation_date": 1429110073, "answer_id": 29653782, "question_id": 29653654, "link": "https://stackoverflow.com/questions/29653654/perl-script-for-find-and-replace-or-insert-if-blank/29653782#29653782", "title": "perl script for find and replace or insert if blank", "body": "<p><code>.*</code> is your friend, here. It means \"match 0 or more (<code>*</code>) of any character (<code>.</code>)\":</p>\n\n<pre><code>s/remote_phonebook\\.data\\.1\\.url =.*/remote_phonebook.data.1.url = someString/;\n</code></pre>\n\n<p>So whether or not there is <em>anything</em> after the <code>=</code>, you'll end up with the contents you want.  To make sure that you're matching from the <em>start</em> of the line (so \"xxxremote_phonebook...\" won't match), and to allow for more (or less) space before the \"=\", I'd use:</p>\n\n<pre><code>s/^remote_phonebook\\.data\\.1\\.url\\s*=.*/remote_phonebook.data.1.url = someString/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1429120698, "creation_date": 1429120698, "answer_id": 29657440, "question_id": 29653654, "link": "https://stackoverflow.com/questions/29653654/perl-script-for-find-and-replace-or-insert-if-blank/29657440#29657440", "title": "perl script for find and replace or insert if blank", "body": "<pre><code>s/^\\s*remote_phonebook\\.data\\.1\\.url\\s*=\\K.*/someString/;\n</code></pre>\n\n<p>The <code>.*</code> will match anything up to a newline.<br>\nThe <code>\\K</code> makes it so you don't have to repeat everything.</p>\n"}], "owner": {"reputation": 2368, "user_id": 2187142, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75825c95e583c52419aa2c583c097789?s=128&d=identicon&r=PG", "display_name": "bart2puck", "link": "https://stackoverflow.com/users/2187142/bart2puck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 29653782, "answer_count": 2, "score": 0, "last_activity_date": 1429120860, "creation_date": 1429109794, "last_edit_date": 1429120860, "question_id": 29653654, "link": "https://stackoverflow.com/questions/29653654/perl-script-for-find-and-replace-or-insert-if-blank", "title": "perl script for find and replace or insert if blank", "body": "<p>I am trying to write a perl script to search a config file for the following line:</p>\n\n<pre><code> remote_phonebook.data.1.url =\n</code></pre>\n\n<p>and do 1 of 2 things:</p>\n\n<ol>\n<li>if the right of side of the = is blank add someString</li>\n<li>if there is something there, replace anything there with someString</li>\n</ol>\n\n<p>This will insert just fine:</p>\n\n<pre><code>s/remote_phonebook\\.data\\.1\\.url = /remote_phonebook.data.1.url = someString/;\n</code></pre>\n\n<p>however if someString already exists, it will append it to look like this:</p>\n\n<pre><code>remote_phonebook.data.1.url = someString someString\n</code></pre>\n\n<p>This will replace just fine if someString already exists, but wont insert if its blank.</p>\n\n<pre><code>s/remote_phonebook\\.data\\.1\\.url = someString/remote_phonebook.data.1.url = someString/;\n</code></pre>\n"}, {"tags": ["perl", "perlscript"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1429100187, "post_id": 29649647, "comment_id": 47439676, "body": "<code>next if &#47;^[.][.]?\\z&#47;;</code>"}, {"owner": {"reputation": 29, "user_id": 2799890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbc1f372b7419030dfa74149fe6ac5f?s=128&d=identicon&r=PG&f=1", "display_name": "Chetu", "link": "https://stackoverflow.com/users/2799890/chetu"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1431592722, "post_id": 29649647, "comment_id": 48568152, "body": "What if i want to skip files.?"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 2799890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbc1f372b7419030dfa74149fe6ac5f?s=128&d=identicon&r=PG&f=1", "display_name": "Chetu", "link": "https://stackoverflow.com/users/2799890/chetu"}, "edited": false, "score": 0, "creation_date": 1429101336, "post_id": 29650273, "comment_id": 47440510, "body": "Thank you. I will Try it out."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1429105880, "post_id": 29650273, "comment_id": 47443942, "body": "To expand on Borodin&#39;s comment, <code>$d = undef;</code> sets the var to undefined, while <code>undef $d;</code> also frees some memory associated with the scalar, making it more expensive to use that variable again."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1429101012, "creation_date": 1429101012, "answer_id": 29650273, "question_id": 29649647, "link": "https://stackoverflow.com/questions/29649647/skipping-the-and-directories-in-dirhandle/29650273#29650273", "title": "Skipping the . and .. Directories in DirHandle", "body": "<p>By the way, don't use <code>undef $d</code> \u2014 <code>$d = undef</code> is preferable.</p>\n\n<p>There are several ways \u2014 all of them simple if you know Perl or regular expressions</p>\n\n<p>The obvious</p>\n\n<pre><code>while ( defined(my $node  = $d-&gt;read) ) {\n  next if $node eq '.' or $node eq '..';\n  print \"$dir\\n\"; \n}\n</code></pre>\n\n<p>Using a regex</p>\n\n<pre><code>while ( defined(my $node  = $d-&gt;read) ) {\n  next if $node =~ /\\A\\.\\.?\\z/;\n  print \"$dir\\n\"; \n}\n</code></pre>\n\n<p>or, more tidily but less safely because a Linux directory node can have names like <code>...</code> and <code>....</code> etc., you can just ensure that the node contains something other than a dot <code>.</code></p>\n\n<pre><code>while ( defined(my $node  = $d-&gt;read) ) {\n  next unless $node =~ /[^.]/;\n  print \"$dir\\n\"; \n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 2799890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbc1f372b7419030dfa74149fe6ac5f?s=128&d=identicon&r=PG&f=1", "display_name": "Chetu", "link": "https://stackoverflow.com/users/2799890/chetu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429101012, "creation_date": 1429099217, "question_id": 29649647, "link": "https://stackoverflow.com/questions/29649647/skipping-the-and-directories-in-dirhandle", "title": "Skipping the . and .. Directories in DirHandle", "body": "<p>How to skipp . and .. directories in DirHandle?</p>\n\n<pre><code>use DirHandle;\nif (defined $d) {\n    while (defined($_ = $d-&gt;read)) { print \"$_ \\n\" ; }\n undef $d;\n}\n</code></pre>\n"}, {"tags": ["perl", "base64", "gzip"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4083060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbc6c5a1c63dd27ab37640735b3a09c0?s=128&d=identicon&r=PG&f=1", "display_name": "Maximilien", "link": "https://stackoverflow.com/users/4083060/maximilien"}, "edited": false, "score": 0, "creation_date": 1429095770, "post_id": 29647438, "comment_id": 47436829, "body": "I just tested and I have the same result has in my code above."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1429092530, "creation_date": 1429092530, "answer_id": 29647438, "question_id": 29647090, "link": "https://stackoverflow.com/questions/29647090/decode-with-base64-a-text-file-gzipped-and-read-it/29647438#29647438", "title": "Decode with base64 a text file gzipped and read it", "body": "<p>I'd put the whole file in a string before decode:</p>\n\n<pre><code>local $/ = undef;\nmy $str = &lt;INPFIC&gt;\nmy $dec = decode_base64 $str;\n\nmy $uncom = uncompress($dec)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4083060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbc6c5a1c63dd27ab37640735b3a09c0?s=128&d=identicon&r=PG&f=1", "display_name": "Maximilien", "link": "https://stackoverflow.com/users/4083060/maximilien"}, "edited": false, "score": 0, "creation_date": 1429095596, "post_id": 29648231, "comment_id": 47436727, "body": "In my case I have to d&#233;code in base64 the file before decompress it."}, {"owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "reply_to_user": {"reputation": 31, "user_id": 4083060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbc6c5a1c63dd27ab37640735b3a09c0?s=128&d=identicon&r=PG&f=1", "display_name": "Maximilien", "link": "https://stackoverflow.com/users/4083060/maximilien"}, "edited": false, "score": 0, "creation_date": 1429095768, "post_id": 29648231, "comment_id": 47436826, "body": "A zip file is not a string and not encoded text. It may contain text files, but that&#39;s not the same thing. It&#39;s just binary data."}], "tags": [], "owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "is_accepted": false, "score": 0, "last_activity_date": 1429094910, "creation_date": 1429094910, "answer_id": 29648231, "question_id": 29647090, "link": "https://stackoverflow.com/questions/29647090/decode-with-base64-a-text-file-gzipped-and-read-it/29648231#29648231", "title": "Decode with base64 a text file gzipped and read it", "body": "<p>According to Compress::Zlib doc, try to open and read in same time:</p>\n\n<pre><code>my $workingDir = \"./log/\";\nmy $inputFile =  $workingDir . \"log_result_base64.txt\";\nmy $buffer;\nmy $output;\nmy $gz = gzopen($inputFile,\"rb\")\n             or die \"Cannot open $inputFile: $gzerrno\\n\" ;\n\n        while ( $gz-&gt;gzread($buffer) &gt; 0 ){\n               $output .= decode_base64 $buffer;\n        }\n\n        die \"Error reading from $inputFile: $gzerrno\" . ($gzerrno+0) . \"\\n\"\n            if $gzerrno != Z_STREAM_END ;\n\n        $gz-&gt;gzclose();\nprint $output;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 2390334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a275d2cce2655dae00b567ef0a0a34?s=128&d=identicon&r=PG", "display_name": "Loonis", "link": "https://stackoverflow.com/users/2390334/loonis"}, "is_accepted": true, "score": 1, "last_activity_date": 1429114364, "creation_date": 1429114364, "answer_id": 29655429, "question_id": 29647090, "link": "https://stackoverflow.com/questions/29647090/decode-with-base64-a-text-file-gzipped-and-read-it/29655429#29655429", "title": "Decode with base64 a text file gzipped and read it", "body": "<p>The <code>uncompress</code> method does not work for gzipped data.</p>\n\n<p><a href=\"https://metacpan.org/pod/IO::Uncompress::Gunzip\" rel=\"nofollow\">IO::Uncompress::Gunzip</a> can use scalar references instead of file names if you want to keep everything in memory.</p>\n\n<p>Sample code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use IO::Uncompress::Gunzip qw( gunzip $GunzipError );\nuse MIME::Base64 qw( decode_base64 );\n\nmy $tmp = decode_base64 do {\n  local $/;\n  &lt;DATA&gt;\n};\n\ngunzip \\$tmp =&gt; \\my $data or die \"Could not gunzip: $GunzipError\";\nprint $data;\n\n__DATA__\nH4sIAHWHLlUAAwvJyCxWAKLi/NxUhZLU4hKFlMSSRC4AsSDaaxcAAAA=\n</code></pre>\n\n<p>Should produce:</p>\n\n<pre><code>This is some test data\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4083060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbc6c5a1c63dd27ab37640735b3a09c0?s=128&d=identicon&r=PG&f=1", "display_name": "Maximilien", "link": "https://stackoverflow.com/users/4083060/maximilien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 0, "accepted_answer_id": 29655429, "answer_count": 3, "score": 0, "last_activity_date": 1429114364, "creation_date": 1429091697, "last_edit_date": 1429109881, "question_id": 29647090, "link": "https://stackoverflow.com/questions/29647090/decode-with-base64-a-text-file-gzipped-and-read-it", "title": "Decode with base64 a text file gzipped and read it", "body": "<p>I retrieve from a system a text file which has as been (in order):</p>\n\n<ol>\n<li>gzipped </li>\n<li>encoded with base64</li>\n</ol>\n\n<p>So I would like in Perl to decode it, unzip it and read it without passing by intermediate file.</p>\n\n<p>I tried the following:</p>\n\n<pre><code>use Compress::Zlib;\nuse MIME::Base64;\n\nmy $workingDir = \"./log/\";\nmy $inputFile =  $workingDir . \"log_result_base64.txt\";\nmy $readtmp ='';\n\nopen (INPFIC, $inputFile) or die \"ERROR: Impossible to open file     ($inputFile)\\n\";\nwhile (my $buf = &lt;INPFIC&gt; ) {\n   $readtmp .= decode_base64($buf);\n}\nclose(INPFIC);\n\nmy $output = uncompress($readtmp);\n\nprint $output;\n</code></pre>\n\n<p>But it does not work, the $output variable is still undef.</p>\n\n<p>[Edit]</p>\n\n<p>I gave up to do it by passing only by Variable.\nI changed my script by creating a new file at each stage:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict ;\nuse IO::Uncompress::Gunzip qw(gunzip $GunzipError) ;\nuse MIME::Base64;\n\nmy $inputFile =  $workingDir . \"log_inbase64.txt\";\nmy $inputFilegz =  $workingDir . \"log.txt.gz\";\nmy $inputFileuncomp =  $workingDir . \"log.txt\";\n\nmy @out;\nmy @readtmp;\nmy $readtmp;\n\n# Reading the file encoded in base64\nopen (INPFIC, $inputFile) or die \"ERROR: Impossible to open file     ($inputFile)\\n\";\nmy @readtmp = &lt;INPFIC&gt;;\nclose(INPFIC);\n$readtmp = join('',@readtmp);\n\n# Decode in base64 to retreive a Gzip file\nmy $out = decode_base64($readtmp);\nopen my $fh, '&gt;', $inputFilegz or die $!;\nbinmode $fh;\nprint $fh $out;\nclose $fh;\n\n# Decompress the early created gzip file\ngunzip $inputFilegz  =&gt; $inputFileuncomp\n    or die \"gunzip failed: $GunzipError\\n\";\n\n# Reading the Text file\nopen (INPFIC,  $inputFileuncomp) or die \"ERROR: Impossible to open file     ($inputFileuncomp )\\n\";\nmy @out = &lt;INPFIC&gt;;\nclose(INPFIC);\n</code></pre>\n"}, {"tags": ["windows", "perl", "ssh", "remote-server"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1429086070, "post_id": 29645053, "comment_id": 47430752, "body": "<a href=\"http://stackoverflow.com/questions/18502945/how-to-execute-a-remote-command-over-ssh-with-arguments\" title=\"how to execute a remote command over ssh with arguments\">stackoverflow.com/questions/18502945/&hellip;</a> ?"}, {"owner": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429088436, "post_id": 29645053, "comment_id": 47432193, "body": "I will try this answer and update the post. thanks"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1429115153, "post_id": 29645053, "comment_id": 47451075, "body": "If it&#39;s not important that the Perl scripts run <i>on</i> Machine B, but instead that the Perl scripts <i>residing on</i> Machine B be run by <i>any</i> Machine, then you can share the Perl scripts and the Perl install from Machine B, and run them from any remote Machine that can access the fileshare."}], "answers": [{"comments": [{"owner": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "edited": false, "score": 1, "creation_date": 1429166245, "post_id": 29645339, "comment_id": 47472801, "body": "this worked for me! thanks"}], "tags": [], "owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "is_accepted": true, "score": 1, "last_activity_date": 1429086710, "creation_date": 1429086710, "answer_id": 29645339, "question_id": 29645053, "link": "https://stackoverflow.com/questions/29645053/trigger-perl-scripts-remotely-on-windows/29645339#29645339", "title": "Trigger perl scripts remotely on windows", "body": "<p>There's probably more possibilites, but from the top of my head:</p>\n\n<ul>\n<li>Mark Russinovich's <a href=\"https://technet.microsoft.com/en-us/sysinternals/bb897553.aspx\" rel=\"nofollow\"><code>psexec</code></a> (<a href=\"http://ss64.com/nt/psexec.html\" rel=\"nofollow\">notes@ss64.com</a>)</li>\n<li>the Windows Management Instrumentation Commandline tool <a href=\"https://msdn.microsoft.com/en-us/library/aa394531%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>wmic</code></a> (<a href=\"http://ss64.com/nt/wmic.html\" rel=\"nofollow\">notes@ss64.com</a>)</li>\n</ul>\n\n<p>As long as the machine on which the perl scripts are to be executed has perl installed, it's not a problem if the caller machine doesn't.</p>\n"}], "owner": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "closed_date": 1429104036, "accepted_answer_id": 29645339, "answer_count": 1, "score": 1, "last_activity_date": 1429086710, "creation_date": 1429085870, "last_edit_date": 1429086132, "question_id": 29645053, "link": "https://stackoverflow.com/questions/29645053/trigger-perl-scripts-remotely-on-windows", "closed_reason": "Needs more focus", "title": "Trigger perl scripts remotely on windows", "body": "<p>I have two machines A and B. Machine B has perl installed and scripts are placed in a shared directory. Machine A doesn't have perl installed (I don't want to install perl on this machine). There is some automation running in Machine A and that automation wants to trigger perl scripts in Machine B by passing some parameters.</p>\n\n<p>Is this possible? What is recommended?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["windows", "perl", "curl"], "answers": [{"tags": [], "owner": {"reputation": 248, "user_id": 3716001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c99d770e9a06e9087aa1a955f1ea6b9?s=128&d=identicon&r=PG", "display_name": "Paul Grove", "link": "https://stackoverflow.com/users/3716001/paul-grove"}, "is_accepted": false, "score": 1, "last_activity_date": 1430308644, "creation_date": 1430308644, "answer_id": 29943044, "question_id": 29643733, "link": "https://stackoverflow.com/questions/29643733/installing-curl-for-perl-wwwcurleasy-on-windows/29943044#29943044", "title": "Installing Curl for Perl (WWW::Curl::Easy) on Windows", "body": "<p>To answer your questions:</p>\n\n<p>dmake is a port of GNU make, and is not a drop in replacement for Microsoft's nmake, I would use nmake as instructed.</p>\n\n<p>By different include directories I assume your referring to the <code>$cflags</code> variable which you include <code>-I&lt;DIR&gt;\\\\include</code> and also the <code>@include</code> array where you also include the same path - as instructed by the <code>README.Win32</code> file.</p>\n\n<p>Reading the <code>Makefile.PL</code>, I can see that the <code>@include</code> is actually populated by the <code>$cflags</code> variable anyway, as such I see no reason to modify both the <code>@include</code> and the <code>$cflags</code>, though at the same time there is no harm specifying your path in both places.</p>\n\n<p>Ultimately the <code>@include</code> array is searched, the presence of a directory which contains the curl header file <code>/curl/curl.h</code> if found, is used to build the perl module.</p>\n\n<p>The instructions given are all that should be needed, please specify your current error, the instructions don't mention editing <code>curl.xs</code> what work are you doing on this file?</p>\n\n<p>As an aside, I don't know what your requirements are, but the <code>LWP::Useragent</code> module I find is easier to install cross platform, and provides most if not all of the functionality of <code>WWW:Curl::Easy</code> and more.</p>\n\n<p>If you are still having problems, please provide details of the errors you are receiving in your question.</p>\n\n<p>Gook Luck.</p>\n"}], "owner": {"reputation": 59, "user_id": 2219195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7166d0c45f9270ead65b28728a8b2a0a?s=128&d=identicon&r=PG", "display_name": "user2219195", "link": "https://stackoverflow.com/users/2219195/user2219195"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1989, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1430308644, "creation_date": 1429081735, "last_edit_date": 1429099818, "question_id": 29643733, "link": "https://stackoverflow.com/questions/29643733/installing-curl-for-perl-wwwcurleasy-on-windows", "title": "Installing Curl for Perl (WWW::Curl::Easy) on Windows", "body": "<p>I am running Strawberry Perl on Windows and need to use WWW::Curl::Easy. \nBut \"Sorry, no automated install is available on Windows\".</p>\n\n<p>There is a README.Win32 on CPAN:</p>\n\n<pre><code>Installation on Windows need to be done manually, by editing Makefile.PL.\n\n1. Specify your curl include directory on the line \"my @include = qw()\".\n2. Specify the following parameters on the line below, where &lt;DIR&gt; is your curl directory like this:\n\nmy ($cflags,$ldflags,$lflags) = ('-I\"&lt;DIR&gt;\\\\include\"', '-L\"&lt;DIR&gt;\\\\lib\"','-lcurl -lcurldll');\n\n&lt;DIR&gt; can be for example: \"E:\\\\Perldev\\\\downloader\\\\curl-7.18.2-devel-mingw32\" (without quotes);\n3. Save Makefile.PL.\n4. Execute \"perl Makefile.PL\";\n5. Execute \"nmake\" ( you may need nmake from Mircosoft, which can be downloaded from http://support.microsoft.com/default.aspx?scid=kb;en-us;Q132084 );\n6. Execute \"nmake install\".\n</code></pre>\n\n<p>Unfortunately, I do not understand how I need to do that. I guess it should be possible with dmake instead of nmake, right? What is meant by the different \"include directories\"?</p>\n\n<p>Steps taken so far:</p>\n\n<ul>\n<li>Install strawberry perl</li>\n<li>Download and extract libcurl with ssl(curl-7.40.0-devel-mingw32.zip)</li>\n<li>Download and extract WWW::Curl from CPAN</li>\n<li><p>edit Makefile.pl</p>\n\n<p>-#my @includes = qw();<br>\n+my @includes = qw(C:\\Strawberry\\curl-7.40.0-devel-mingw32\\include);<br>\n-#my ($cflags,$lflags, $ldflags) = ('','','');<br>\n+my ($cflags,$ldflags,$lflags) = ('-I\"C:\\Strawberry\\curl-7.40.0-devel-mingw32\\include\"', '-L\"C:\\Strawberry\\curl-7.40.0-devel-mingw32\\lib\"','-lcurl -lcurldll');<br>\n...<br>\n-#replace open(H_IN, \"-|\", \"gcc $curl_h\");<br>\n+open(H_IN, \"|gcc $curl_h\"); </p></li>\n<li>edit curl.xs (work going on) </li>\n</ul>\n\n<p>Can someone please give an example for the installation steps?</p>\n\n<p>Any help is much appreciated ! Thank you.</p>\n"}, {"tags": ["java", "perl", "jar", "system"], "comments": [{"owner": {"reputation": 479, "user_id": 3419147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66096b1e14cc7e4288819c809372f78d?s=128&d=identicon&r=PG&f=1", "display_name": "Bram", "link": "https://stackoverflow.com/users/3419147/bram"}, "edited": false, "score": 0, "creation_date": 1429082150, "post_id": 29643604, "comment_id": 47428567, "body": "Do you need the double quotes just inside the back-ticks?"}, {"owner": {"reputation": 5871, "user_id": 1225432, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b00425343288854a37baa4280bd0796?s=128&d=identicon&r=PG&f=1", "display_name": "chinna_82", "link": "https://stackoverflow.com/users/1225432/chinna-82"}, "reply_to_user": {"reputation": 479, "user_id": 3419147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66096b1e14cc7e4288819c809372f78d?s=128&d=identicon&r=PG&f=1", "display_name": "Bram", "link": "https://stackoverflow.com/users/3419147/bram"}, "edited": false, "score": 0, "creation_date": 1429085820, "post_id": 29643604, "comment_id": 47430612, "body": "i even tried with and without double quotes, with and without back slash"}, {"owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 0, "creation_date": 1429102388, "post_id": 29643604, "comment_id": 47441241, "body": "What OS? If Linux, add <code>2&gt;&amp;1</code> at the end to also capture the <code>stderr</code>. Otherwise, Perl puts the error into <code>$!</code> variable, and exist status of the child into the <code>$?</code> variable. Checking  them is strongly advised, if you care about error handling."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1429131223, "post_id": 29643604, "comment_id": 47460802, "body": "does the os user that runs the web server have the necessary privileges to execute java ?"}], "answers": [{"comments": [{"owner": {"reputation": 5871, "user_id": 1225432, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b00425343288854a37baa4280bd0796?s=128&d=identicon&r=PG&f=1", "display_name": "chinna_82", "link": "https://stackoverflow.com/users/1225432/chinna-82"}, "edited": false, "score": 0, "creation_date": 1429088151, "post_id": 29645494, "comment_id": 47432033, "body": "Not helping, same thing. The JAR not executed at all"}], "tags": [], "owner": {"reputation": 434, "user_id": 2886599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca85842899a1a937218599a7e24234e?s=128&d=identicon&r=PG&f=1", "display_name": "Heto", "link": "https://stackoverflow.com/users/2886599/heto"}, "is_accepted": false, "score": 0, "last_activity_date": 1429087179, "creation_date": 1429087179, "answer_id": 29645494, "question_id": 29643604, "link": "https://stackoverflow.com/questions/29643604/perl-unable-to-call-java-jar-file/29645494#29645494", "title": "Perl - Unable to call java jar file", "body": "<p>You should try to use the character <strong>'</strong> at the beginning and at the end. No escape with <strong>\\</strong> should be needed anymore.</p>\n"}], "owner": {"reputation": 5871, "user_id": 1225432, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b00425343288854a37baa4280bd0796?s=128&d=identicon&r=PG&f=1", "display_name": "chinna_82", "link": "https://stackoverflow.com/users/1225432/chinna-82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429131282, "creation_date": 1429081312, "last_edit_date": 1429131282, "question_id": 29643604, "link": "https://stackoverflow.com/questions/29643604/perl-unable-to-call-java-jar-file", "title": "Perl - Unable to call java jar file", "body": "<pre><code>system(\"java -jar \\\"TRNDHTMLtoPDF.jar\\\" \\\"test.pdf\\\" \\\"c.txt\\\" \");\n</code></pre>\n\n<p>Above code used to run a java jar file from Perl (cgi) page. When I run it from command prompt, it working fine, but when i try to run from a page, nothing happened, no error and no output. </p>\n\n<pre><code>$result= `\"java -jar \\\"TRNDHTMLtoPDF.jar\\\" \\\"test.pdf\\\" \\\"c.txt\\\" \"`;\n</code></pre>\n\n<p>When I try to print the $result. it show empty. Seems like the jar not executed at all. How do I solve this? Please advice.</p>\n"}, {"tags": ["perl", "grep", "command"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1429072480, "post_id": 29641631, "comment_id": 47424775, "body": "Crossposting: <a href=\"http://askubuntu.com/q/609452/336375\">askubuntu.com/q/609452/336375</a>"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1429072895, "post_id": 29641631, "comment_id": 47424879, "body": "Did you understand the question above??"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1429277401, "post_id": 29641631, "comment_id": 47536981, "body": "Do you <b><i>have</i></b> to use the system&#39;s grep command, or you don&#39;t know how to use the <code>grep</code> command in Perl? If you don&#39;t have to use the system&#39;s grep command, why not use the one in Perl?"}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 4745237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae0160599297558ee736768c80713f5?s=128&d=identicon&r=PG&f=1", "display_name": "Sudip Gautam", "link": "https://stackoverflow.com/users/4745237/sudip-gautam"}, "is_accepted": true, "score": 0, "last_activity_date": 1429073722, "creation_date": 1429073722, "answer_id": 29641862, "question_id": 29641631, "link": "https://stackoverflow.com/questions/29641631/how-to-use-system-command-grep-in-perl-script/29641862#29641862", "title": "how to use system command &#39;grep&#39; in perl script", "body": "<pre><code>#! use/bin/perl\nuse strict;\nprint\"Enter file name for Unzip\\n\";\nprint\"File name: \";\nchomp(my $Filename=&lt;&gt;);\nsystem(\"gunzip -r ./$Filename\\*\");\nsystem(\"grep -c '\\@SRR' ./$Filename\\*\");\n</code></pre>\n\n<p>Please let know if i misunderstood question. But above code gives us number of lines matching @SRR on zipped filename provided. </p>\n\n<p>Also you don't need to unzip to count you can directly do this </p>\n\n<pre><code>system(\"zgrep -c '\\@SRR' $Filename\")\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code> system(\"gunzip -r ./$Filename\\*\");\n system(\"grep -c '\\@SRR' ./$Filename\\*\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4800871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/572a0b4c0cfd009461803e6a31f36296?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/4800871/nilesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1429272582, "creation_date": 1429272582, "answer_id": 29698813, "question_id": 29641631, "link": "https://stackoverflow.com/questions/29641631/how-to-use-system-command-grep-in-perl-script/29698813#29698813", "title": "how to use system command &#39;grep&#39; in perl script", "body": "<p>my $var=<code>cat filename | grep \"your word\"</code>; </p>\n\n<p>Thanks,\nnilesh.</p>\n"}], "owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8580, "favorite_count": 0, "accepted_answer_id": 29641862, "answer_count": 2, "score": 0, "last_activity_date": 1429272582, "creation_date": 1429072254, "question_id": 29641631, "link": "https://stackoverflow.com/questions/29641631/how-to-use-system-command-grep-in-perl-script", "title": "how to use system command &#39;grep&#39; in perl script", "body": "<p>I am trying to count the matching character using grep command in Perl script. Below script is counting whole directory, my desired output should contain only the count of input file not the whole directory, some one help me to do so.</p>\n\n<pre><code>#! use/bin/perl\n\nuse strict;\n\n\nprint\"Enter file name for Unzip\\n\";\nprint\"File name: \";\nchomp(my $Filename=&lt;&gt;);\nsystem(\"gunzip -r ./$Filename/*\\n\");\nsystem('grep -c \"@SRR\" ./$Filename/*');  \n</code></pre>\n\n<p>This is giving whole directory count.</p>\n"}, {"tags": ["regex", "perl", "chomp"], "comments": [{"owner": {"reputation": 1077, "user_id": 2325485, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ztwlc.jpg?s=128&g=1", "display_name": "BryanK", "link": "https://stackoverflow.com/users/2325485/bryank"}, "edited": false, "score": 0, "creation_date": 1429154949, "post_id": 29640290, "comment_id": 47468872, "body": "<code>open my $in, &#39;&lt;:crlf&#39;, &quot;file.txt&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 1, "creation_date": 1429064742, "post_id": 29640559, "comment_id": 47422874, "body": "You mean <code>s&#47;\\R\\z&#47;&#47;</code>, I presume."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 1, "creation_date": 1429064887, "post_id": 29640559, "comment_id": 47422910, "body": "@tchrist, If your have to deal with a format for which trailing whitespace is significant, I pity you, and you&#39;d use <code>s&#47;\\R\\z&#47;&#47;</code>. For the rest of us, <code>s&#47;\\s+\\z&#47;&#47;</code> is better."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1429105773, "post_id": 29640559, "comment_id": 47443851, "body": "@Joshua, That won&#39;t help. He doesn&#39;t have LF LF; he has CR LF."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1429064689, "creation_date": 1429064689, "answer_id": 29640559, "question_id": 29640290, "link": "https://stackoverflow.com/questions/29640290/perl-after-chomping-a-string-it-does-not-print-the-strings-value/29640559#29640559", "title": "Perl: After Chomping a string, it does not print the string&#39;s value", "body": "<p>Your lines end with CR LF. You remove the LF, leaving the CR behind. Your terminal is homing the cursor on CR causing the next line output to overwrite the last line output.</p>\n\n<pre><code>$ perl -e'\n   print \"XXXXXX\\r\";\n   print \"xxx\\n\";\n'\nxxxXXX\n</code></pre>\n\n<p>Fix your input file</p>\n\n<pre><code>dos2unix file\n</code></pre>\n\n<p>or remove the CR along with the LF.</p>\n\n<pre><code>s/\\s+\\z//   # Instead of chomp\n</code></pre>\n"}], "owner": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 29640559, "answer_count": 1, "score": 2, "last_activity_date": 1429064689, "creation_date": 1429062913, "last_edit_date": 1429064586, "question_id": 29640290, "link": "https://stackoverflow.com/questions/29640290/perl-after-chomping-a-string-it-does-not-print-the-strings-value", "title": "Perl: After Chomping a string, it does not print the string&#39;s value", "body": "<p>So I am currently trying to write a perl script that reads to a file and writes to another. Currently, the problem that I have been having is removing new line characters from parsed rows.I feed in a file like this</p>\n\n<pre><code>BetteDavisFilms.txt\n1.\nWicked Stepmother (1989) as Miranda\nA couple comes home from vacation to find that their grandfather has \u2026\n2.\nDirected By William Wyler (1988) as Herself\nDuring the Golden Age of Hollywood, William Wyler was one of the \u2026\n3.\nWhales of August, The (1987) as Libby Strong\nDrama revolving around five unusual elderly characters, two of whom \u2026\n</code></pre>\n\n<p>Ultimately I am trying to put it into a format like this</p>\n\n<pre><code>1,Wicked Stepmother ,1989, as Miranda,A couple comes home from vacation to \u2026\n2,Directed By William Wyler ,1988, as Herself,During the Golden Age of \u2026\n3,\"Whales of August, The \",1987, as Libby Strong,Drama revolving around five\u2026\n</code></pre>\n\n<hr>\n\n<p>it sucessfully removes recognizes to each number but then I want to remove the \\n then replace the \".\" with a \",\". Sadly the chomp function destroys or hides the data some how so when I print after chomping $row, nothing shows... What should I do to correct this? </p>\n\n<pre><code>#!bin/usr/perl\nuse strict;\nuse warnings;\n\nmy $file = \"BetteDavisFilms\";\nmy @stack = ();\n\nopen (my $in , '&lt;', \"$file.txt\" ) or die \"Could not open to read \\n \";\nopen (my $out , '&gt;', \"out.txt\" ) or die \"Could not out to  file  \\n\";\n\nmy @array = &lt;$in&gt;;\n\nsub readandparse() {\n    for(my $i = 0 ; $i &lt; scalar(@array); $i++) {\n        my $row = $array[$i];\n\n        if($row =~ m/\\d[.]/) {\n            parseFirstRow($row);\n        }\n    }\n}\n\nsub parseFirstRow() {\n    my $rowOne = shift;\n    print $rowOne; ####prints a number\n    chomp($rowOne);\n    print $rowOne; ###prints nothing\n    #$rowOne =~ s/./,/;\n}\n\n#call to run program\nreadandparse();\n</code></pre>\n"}, {"tags": ["regex", "perl", "match"], "answers": [{"tags": [], "owner": {"reputation": 8685, "user_id": 2743458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8R0W.jpg?s=128&g=1", "display_name": "bloodyKnuckles", "link": "https://stackoverflow.com/users/2743458/bloodyknuckles"}, "is_accepted": true, "score": 3, "last_activity_date": 1429105712, "last_edit_date": 1429105712, "creation_date": 1429054081, "answer_id": 29639090, "question_id": 29638887, "link": "https://stackoverflow.com/questions/29638887/obtain-arbitrary-number-of-matches-in-perl/29639090#29639090", "title": "Obtain arbitrary number of matches in perl", "body": "<p>Rather than include the characters you don't want in the match, just perform a global match on a single number pattern, with the plus or minus being optional.</p>\n\n<pre><code>my $text = \"!random 3d4+5-6\";\nmy @matches = $text =~ /((?:\\+|-)?\\d)/g;\nprint \"@matches\";\n# 3 4 +5 -6\n</code></pre>\n\n<p><a href=\"https://eval.in/313604\" rel=\"nofollow\">https://eval.in/313604</a></p>\n\n<hr>\n\n<p><em>Explanation:</em></p>\n\n<p>Match a single digit number <code>\\d</code>. </p>\n\n<p>Preceded by a plus or minus, <code>+</code> or <code>-</code>. Parenthesis <code>()</code> and pipes <code>|</code> can be used for alternation, that is when you want this or that. Separate all the alternatives with pipes: <code>(+|-)</code>.</p>\n\n<p><code>+</code> is an operator so must escape: <code>(\\+|-)</code>.</p>\n\n<p>Don't allow the parenthesis used for alternation to capture a value by including <code>?:</code> immediately after first paren, now looks like <code>(?:\\+|-)</code>. </p>\n\n<p>Make that whole thing optional <code>?</code>. Now looks like <code>(?:\\+|-)?</code>.</p>\n\n<p>Put those together: <code>(?:\\+|-)?\\d</code>.</p>\n\n<p>And capture that: <code>((?:\\+|-)?\\d)</code>.</p>\n\n<p>Make it a global match <code>//g</code> to capture all occurrences: <code>/((?:\\+|-)?\\d)/g</code>.</p>\n"}], "owner": {"reputation": 962, "user_id": 3784644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/GnY64.jpg?s=128&g=1", "display_name": "DTSCode", "link": "https://stackoverflow.com/users/3784644/dtscode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 29639090, "answer_count": 1, "score": 1, "last_activity_date": 1429105712, "creation_date": 1429052857, "question_id": 29638887, "link": "https://stackoverflow.com/questions/29638887/obtain-arbitrary-number-of-matches-in-perl", "title": "Obtain arbitrary number of matches in perl", "body": "<p>I have some perl code that looks as such:</p>\n\n<pre><code>my @matches = $text =~ /^!random ([0-9]+?)d([0-9]+?)([+-][0-9]+?)*$/i\n</code></pre>\n\n<p>where text is a string that contains some arbitrary text (that I received from an IRC server. Theoretically, this should get all of the matches, but it only stores match group 1, group 2, and the last match of 3. So if $text contained \"!random 3d4+5-6\", the matches would be \"3\", \"4\", and \"6\". How can I make it so that the matches would be \"3\", \"4\", \"+5\", \"-6\"? Note that I have also tried the regex with /gim as well.</p>\n"}, {"tags": ["linux", "perl", "centos", "system-administration"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1429051147, "post_id": 29638514, "comment_id": 47419318, "body": "<code>useradd -p</code> expects passwords encrypted by <code>crypt</code>."}, {"owner": {"reputation": 11, "user_id": 4789440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37c8dfbede34a05a3d481b286cd141b6?s=128&d=identicon&r=PG&f=1", "display_name": "Saidakhror", "link": "https://stackoverflow.com/users/4789440/saidakhror"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1429051262, "post_id": 29638514, "comment_id": 47419358, "body": "if I remove encryption  (-p), will it be working? Thank you"}, {"owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1429051323, "post_id": 29638514, "comment_id": 47419377, "body": "<code>-p</code> isn&#39;t the part asking for encryption. You must pass it encrypted."}, {"owner": {"reputation": 11, "user_id": 4789440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37c8dfbede34a05a3d481b286cd141b6?s=128&d=identicon&r=PG&f=1", "display_name": "Saidakhror", "link": "https://stackoverflow.com/users/4789440/saidakhror"}, "edited": false, "score": 0, "creation_date": 1429051435, "post_id": 29638514, "comment_id": 47419405, "body": "Oh, thank you very much. I will try to use crypt."}, {"owner": {"reputation": 363, "user_id": 1812471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rpmGP.jpg?s=128&g=1", "display_name": "AgileDan", "link": "https://stackoverflow.com/users/1812471/agiledan"}, "edited": false, "score": 0, "creation_date": 1429062782, "post_id": 29638514, "comment_id": 47422388, "body": "The Passwd::Unix module may be of interest to you too"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 15684848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99c95346a3278832217538dc857a6c58?s=128&d=identicon&r=PG&f=1", "display_name": "VPP", "link": "https://stackoverflow.com/users/15684848/vpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1618788122, "last_edit_date": 1618788122, "creation_date": 1618787286, "answer_id": 67154228, "question_id": 29638514, "link": "https://stackoverflow.com/questions/29638514/perl-script-to-automatically-add-username-and-password-to-the-linux-system/67154228#67154228", "title": "Perl - script to automatically add username and password to the Linux system", "body": "<h2>Simply include the chpasswd command.</h2>\n<pre><code>#!/usr/bin/perl\n\n$filename = 'students.txt';\nopen(FILE, $filename) or die $!;\nwhile($line = &lt;FILE&gt;) {\n    chomp $line;\n    ($user, $passcode) = split(/:/, $line);\n    system &quot;useradd $user -m&quot;;\n}\nclose FILE;\nsystem &quot;chpasswd &lt; students.txt&quot;;\nprint &quot;Users are created successfully :) \\n&quot;;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4789440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37c8dfbede34a05a3d481b286cd141b6?s=128&d=identicon&r=PG&f=1", "display_name": "Saidakhror", "link": "https://stackoverflow.com/users/4789440/saidakhror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 975, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1618788122, "creation_date": 1429050703, "question_id": 29638514, "link": "https://stackoverflow.com/questions/29638514/perl-script-to-automatically-add-username-and-password-to-the-linux-system", "title": "Perl - script to automatically add username and password to the Linux system", "body": "<p>Good day!\nI just wanted help with one issue. I created students.txt list where it is like this in CentOS Linux command line:</p>\n\n<pre><code>said:123456\ntaha:456789\n</code></pre>\n\n<p>I created perl file where there is a script:</p>\n\n<pre><code>#!/usr/bin/perl\n$filename = 'students.txt';\nopen(FILE, $filename);\nwhile(&lt;FILE&gt;)\n{\nchomp;\n($user, $passcode) = split(/:/, $_);\nsystem \"useradd $user  -m -p  $passcode\";\n}\nclose FILE;\nprint \"Users are created successfully :) \\n\";\n</code></pre>\n\n<p>After running the perl file, it is adding the usernames but not passwords. Also I am new to Perl. Thank you in advance.</p>\n"}, {"tags": ["perl", "sockets", "network-programming"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1429049748, "post_id": 29638244, "comment_id": 47418852, "body": "Does your actual code have that Unicode close-quote on the <code>die</code>, or is that an artifact of posting?"}, {"owner": {"reputation": 802, "user_id": 1901030, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/f7kS4.jpg?s=128&g=1", "display_name": "Prashant Lakhera", "link": "https://stackoverflow.com/users/1901030/prashant-lakhera"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1429050029, "post_id": 29638244, "comment_id": 47418939, "body": "@JimDavis: Thanks Jim for your reply,Actual code also has this Uni-code close quote."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1429051220, "post_id": 29638244, "comment_id": 47419341, "body": "Does changing it to a real <code>&quot;</code> help?"}, {"owner": {"reputation": 802, "user_id": 1901030, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/f7kS4.jpg?s=128&g=1", "display_name": "Prashant Lakhera", "link": "https://stackoverflow.com/users/1901030/prashant-lakhera"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1429052025, "post_id": 29638244, "comment_id": 47419574, "body": "@JimDavis: Sorry for the confusion that is due to posting..It&#39;s &quot; .."}], "answers": [{"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 0, "last_activity_date": 1429051557, "creation_date": 1429051557, "answer_id": 29638661, "question_id": 29638244, "link": "https://stackoverflow.com/questions/29638244/perl-socket-program/29638661#29638661", "title": "Perl Socket Program", "body": "<p>The return it's referring to is probably from <code>new</code> itself.  So you'd check:</p>\n\n<pre><code>subemail() if not defined $socket;\n</code></pre>\n"}], "owner": {"reputation": 802, "user_id": 1901030, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/f7kS4.jpg?s=128&g=1", "display_name": "Prashant Lakhera", "link": "https://stackoverflow.com/users/1901030/prashant-lakhera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429120840, "creation_date": 1429049458, "last_edit_date": 1429120840, "question_id": 29638244, "link": "https://stackoverflow.com/questions/29638244/perl-socket-program", "title": "Perl Socket Program", "body": "<p>I am new to Perl and socket programming and this is what I try to implement, so if script is not able to connect to IP 192.168.0.100 and Port 5000,it trigger an email based on subemail sub-routine.  I am assuming non zero exit code means failure but I am reading some docs and there its mentioned in Perl if socket is not established it return undef value, so I try to match ($? == undef) as well as ($? != 0) as mentioned below, but its not working.  I don't know how to match the exit status so that it will trigger an email, any help is appreciated <a href=\"http://www.perlmonks.org/bare/?node_id=398525\" rel=\"nofollow\">http://www.perlmonks.org/bare/?node_id=398525</a> </p>\n\n<pre><code>#!/usr/bin/perl\nuse IO::Socket::INET;\n$| = 1;\nmy ($socket,$client_socket);\n\n$socket = new IO::Socket::INET (\n    PeerHost =&gt; '192.168.0.100',\n    PeerPort =&gt; '5000',\n    Proto    =&gt; 'tcp',\n) or die \"ERROR in Socket Creation : $!\\n\";\n\n eval { my $size = $socket-&gt;send(\"Hello\"); };\n if ((my $size &gt; 0) || $@) {\n &amp;send_email;\n }\n\nsub subemail\n{\nmy $subject = \"ERROR in Socket Creation\";\nmy $body = \"\\n Check if the logstash server is up \\n\\n\";\nmy $smtp_server = $ENV{\"ET_SMTP_SERVER\"};\nmy ($from, $to) = (\"test\\@example.com\", \"testing\\@example.com\");\n\n unless ( defined( $smtp_server ) )\n {\n  $smtp_server = 'mailhost.example.com';\n  }\n\n  my $smtp = Net::SMTP-&gt;new( $smtp_server );\n\n  $smtp-&gt;mail($from);\n  $smtp-&gt;to($to);\n  $smtp-&gt;data();\n\n  $smtp-&gt;datasend( 'To: ' . $to . \"\\n\" );\n  $smtp-&gt;datasend( 'From: ' . $from . \"\\n\" );\n  $smtp-&gt;datasend( 'Subject: ' . $subject . \"\\n\" );\n\n  $smtp-&gt;datasend( \"\\n\" );\n  $smtp-&gt;datasend( $body );\n  $smtp-&gt;datasend( \"\\n\" );\n  $smtp-&gt;dataend();\n  $smtp-&gt;quit;\n  }\n</code></pre>\n"}, {"tags": ["git", "perl", "amazon-web-services", "docker", "amazon-elastic-beanstalk"], "answers": [{"tags": [], "owner": {"reputation": 649, "user_id": 2355364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76fa2e7ac8c45ed7b23ba36175d96d81?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar14", "link": "https://stackoverflow.com/users/2355364/iluvatar14"}, "is_accepted": true, "score": 2, "last_activity_date": 1429291724, "creation_date": 1429291724, "answer_id": 29705798, "question_id": 29637123, "link": "https://stackoverflow.com/questions/29637123/deploying-perl-docker-container-to-elastic-beanstalk/29705798#29705798", "title": "Deploying Perl Docker Container to Elastic Beanstalk", "body": "<p>I figured it out. The problem was that <code>hypnotoad</code> runs in the background by default and this makes the container die instantly. By adding the <code>-f</code> flag, it runs in the foreground and the container persists. I also switched <code>CMD</code> to <code>ENTRYPOINT</code>.</p>\n\n<pre><code>#... same as above except for last line\n\nWORKDIR project\nENTRYPOINT [ \"hypnotoad\", \"-f\", \"./script/project\" ]\n</code></pre>\n\n<p>You still have to feed EB both Dockerfile and Dockerrun.aws.json for no apparent reason, but even so, it works without error. </p>\n"}], "owner": {"reputation": 649, "user_id": 2355364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76fa2e7ac8c45ed7b23ba36175d96d81?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar14", "link": "https://stackoverflow.com/users/2355364/iluvatar14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 5, "accepted_answer_id": 29705798, "answer_count": 1, "score": 6, "last_activity_date": 1429291724, "creation_date": 1429044490, "question_id": 29637123, "link": "https://stackoverflow.com/questions/29637123/deploying-perl-docker-container-to-elastic-beanstalk", "title": "Deploying Perl Docker Container to Elastic Beanstalk", "body": "<p>I am building a Docker container that pulls a perl/mojolicious repo from bitbucket but I am having problems. I have my Dockerfile like this:</p>\n\n<pre><code># DOCKER-VERSION 0.3.4\nFROM        perl:latest\nMAINTAINER  My Name myname@name.com\n\n# Update aptitude with new repo\nRUN apt-get update\n\n# Install software \nRUN apt-get install -y git\n# Make ssh dir\nRUN mkdir /root/.ssh/\n\n# Copy over private key, and set permissions\nADD repo-key /root/.ssh/id_rsa\n\n# Create known_hosts\nRUN touch /root/.ssh/known_hosts\n# Add bitbuckets key\nRUN ssh-keyscan bitbucket.org &gt;&gt; /root/.ssh/known_hosts\n\nRUN curl -L http://cpanmin.us | perl - App::cpanminus\nRUN cpanm Mojolicious\n\nRUN cachebuster=b953b35 git clone -b branch git@bitbucket.org:org/project.git\n\nEXPOSE 8080\n\nWORKDIR project\nCMD hypnotoad script/project\n</code></pre>\n\n<p>And, locally, upon <code>docker build -t name/project .</code> it builds fine and says \"Successfully built.\"</p>\n\n<p>I zipped it with the repo-key file and fed that to Elastic Beanstalk, I clicked Upload and Deploy (I successfully deployed the 2048 game sample, and tried to replicate it).</p>\n\n<p>This comes back with <code>Dockerrun.aws.json: No such file or directory</code>. Which I think is strange because the documentation says Dockerfile or Dockerrun.aws.json can be used independently for different needs. But whatever, I gave it a short, hopefully inconsequential, Dockerrun.aws.json, like so:</p>\n\n<pre><code>{\n    \"AWSEBDockerrunVersion\": \"1\",\n    \"Ports\": [\n        {\"ContainerPort\": \"8080\"}\n    ],\n    \"Volumes\": []\n}\n</code></pre>\n\n<p>It still fails and the log now states <code>[CMD-AppDeploy/AppDeployStage0/AppDeployPreHook/04run.sh] command failed with error code 1:</code> and further <code>Docker container quit unexpectedly after launch</code>.</p>\n\n<p>Can someone help me troubleshoot these files?</p>\n"}, {"tags": ["windows", "perl", "proxy", "cpan", "cpanm"], "comments": [{"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429044231, "post_id": 29636778, "comment_id": 47416256, "body": "Just figured it out with a minor reminder from a coworker. I was focused on <code>cpan -MCPAN -e shell</code> -&gt; <code>o conf init &#47;proxy&#47;</code> ... but the issue was actually with Windows System variables. Added an answer."}, {"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1429104268, "post_id": 29636778, "comment_id": 47442645, "body": "@serenesat That question is &quot;CPAN is failing&quot; - nothing in the question mentions CPANM and it&#39;s on Linux. This question is <code>CPAN is running successfuly, CPANM is failing</code> - CPANM and on Windows.  Closely related, but very much not a dupe. That question was solved with LWP. This one was solved with <code>o conf init &#47;proxy&#47;</code> AND Windows User Variables."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1429104567, "post_id": 29636778, "comment_id": 47442900, "body": "Then heading should be change from <i>CPAN/CPANM proxy issue</i> to <i>CPANM proxy issue</i>."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1429104843, "post_id": 29636778, "comment_id": 47443123, "body": "And its closely related thats why its written <i>possible duplicate</i> not <i>duplicate</i>."}, {"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1429105328, "post_id": 29636778, "comment_id": 47443504, "body": "Updated title, and was just explaining the differences - atleast how I see/meant them."}], "answers": [{"tags": [], "owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "is_accepted": false, "score": 3, "last_activity_date": 1429044165, "creation_date": 1429044165, "answer_id": 29637049, "question_id": 29636778, "link": "https://stackoverflow.com/questions/29636778/perl-windows-cpanm-proxy-issue/29637049#29637049", "title": "Perl Windows CPANM proxy issue", "body": "<p>10 minutes after I posted this, I had a brief conversation with a coworker. He mentioned environment variables. I verified that I had indeed added Windows Environment variables previously. A quick update to them:</p>\n\n<pre><code>User Variables for Chris:\nHTTP_Proxy:  http://192.168.1.1:8080\nHTTP_proxy_pass: SuperDeDuperSecretPassword\nHTTP_proxy_user: Chris@Work\n</code></pre>\n\n<p>I changed it from <code>wwwproxy.work.org</code> to <code>http://192.168.1.1:80</code> (CPAN complained without the HTTP, so I think it needed the full URL as well).</p>\n\n<p>AND I had a typo in my name :(</p>\n\n<p>CPANM works now.</p>\n"}], "owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2492, "favorite_count": 0, "closed_date": 1429261760, "answer_count": 1, "score": 1, "last_activity_date": 1429105294, "creation_date": 1429043165, "last_edit_date": 1429105294, "question_id": 29636778, "link": "https://stackoverflow.com/questions/29636778/perl-windows-cpanm-proxy-issue", "closed_reason": "Duplicate", "title": "Perl Windows CPANM proxy issue", "body": "<p>After solving a few issues, I've Succeeded with CPAN on my Work Windows 7 Machine with DwimPerl via <code>perl -MCPAN -e shell</code> and <code>o conf init /proxy/</code></p>\n\n<pre><code>ftp:\nhttp: http://192.168.1.1:8080\nno:\nUsername: Chris@work\nPassword: SuperDeDuperSecretPassword\n</code></pre>\n\n<p>CPAN works. I'm able to install/build.</p>\n\n<p>It seems that no matter what I do, CPANM doesn't want to get past the proxy:</p>\n\n<pre><code>C:\\&gt;cpanm WWW::Mechanize\n! Finding WWW::Mechanize on cpanmetadb failed.\n501 protocol scheme 'wwwproxy.work.com' is not supported\nC:\\&gt; cpan WWW::Mechanize\n...\n...\n...\nc:\\Programs\\Dwimperl\\c\\bin\\dmake.exe INSTALL -- OK\n</code></pre>\n\n<p>What's different between the two and what would cause CPAN to succeed while CPANM fails with a 501?</p>\n"}, {"tags": ["perl", "encoding", "utf-8", "gmail", "imap"], "answers": [{"tags": [], "owner": {"reputation": 6958, "user_id": 857727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3772f7ef99bd17c1e77d77edbf76c13d?s=128&d=identicon&r=PG&f=1", "display_name": "arnt", "link": "https://stackoverflow.com/users/857727/arnt"}, "is_accepted": true, "score": 0, "last_activity_date": 1429082972, "creation_date": 1429082972, "answer_id": 29644102, "question_id": 29636416, "link": "https://stackoverflow.com/questions/29636416/perl-imap-search-unicode-string-with-x-gm-raw/29644102#29644102", "title": "Perl - IMAP search unicode string with X-GM-RAW", "body": "<p>Send</p>\n\n<pre><code>0 ENABLE UTF8=ACCEPT\n</code></pre>\n\n<p>first. The <code>enable</code> command enables specific server features, in this case the relevant feature is the ability to use UTF-8 in a quoted string (\"\u041d\u043e\u0432\u043e\u0441\u0442\u0438\"). RFCs 5161 and 6855 apply if you care to read more, but it's not really necessary.</p>\n\n<p>All IMAP servers allow you to use UTF8 in a literal ({14}CRLF\u041d\u043e\u0432\u043e\u0441\u0442\u0438) or nonsynchronising literal ({14+}CRLF\u041d\u043e\u0432\u043e\u0441\u0442\u0438), but a quoted string is so much more convenient and gmail does support <code>enable</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 502231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a42dfc20540198a55e025fd67070465?s=128&d=identicon&r=PG", "display_name": "abra", "link": "https://stackoverflow.com/users/502231/abra"}, "is_accepted": false, "score": 0, "last_activity_date": 1429104762, "creation_date": 1429104762, "answer_id": 29651666, "question_id": 29636416, "link": "https://stackoverflow.com/questions/29636416/perl-imap-search-unicode-string-with-x-gm-raw/29651666#29651666", "title": "Perl - IMAP search unicode string with X-GM-RAW", "body": "<p>Found method <strong>Quote</strong>, it does what you said: </p>\n\n<blockquote>\n  <p>returns its argument as a correctly quoted string or a literal string.</p>\n</blockquote>\n\n<p>and added block with <strong>no utf8</strong> pragma to switch back to treating the source text as literal bytes in the current lexical scope.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse utf8;\nuse strict;\nuse warnings;\nuse feature 'say';\nuse Mail::IMAPClient;\n\nmy $imap = Mail::IMAPClient-&gt;new(\n    Server   =&gt; 'imap.gmail.com',\n    User     =&gt; 'username@gmail.com',\n    Password =&gt; 'secr3t',\n    Ssl      =&gt; 1,\n    Uid      =&gt; 0,\n    Debug    =&gt; 1\n);\n\n$imap-&gt;select('[Gmail]/All Mail');\n\nmy $newsid_ref;\n{\n    no utf8;\n    my $string = $imap-&gt;Quote(\"\u041d\u043e\u0432\u043e\u0441\u0442\u0438\");\n    $newsid_ref = $imap-&gt;search('CHARSET UTF-8 X-GM-RAW ' . $string);\n}\nsay for @$newsid_ref;\n</code></pre>\n\n<p>and now script works fine.</p>\n"}], "owner": {"reputation": 500, "user_id": 502231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a42dfc20540198a55e025fd67070465?s=128&d=identicon&r=PG", "display_name": "abra", "link": "https://stackoverflow.com/users/502231/abra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "accepted_answer_id": 29644102, "answer_count": 2, "score": 0, "last_activity_date": 1429104762, "creation_date": 1429041859, "last_edit_date": 1429071192, "question_id": 29636416, "link": "https://stackoverflow.com/questions/29636416/perl-imap-search-unicode-string-with-x-gm-raw", "title": "Perl - IMAP search unicode string with X-GM-RAW", "body": "<p>I'm using <strong>Perl</strong> and <strong>Mail::IMAPClient</strong> module to search emails and fetch them from Gmail server, but stuck on problem with unicode strings in X-GM-RAW. </p>\n\n<p>When I send command:</p>\n\n<blockquote>\n  <p>SEARCH CHARSET UTF-8 X-GM-RAW \"\u041d\u043e\u0432\u043e\u0441\u0442\u0438\"</p>\n</blockquote>\n\n<p>it doesn't work :( </p>\n\n<p>But</p>\n\n<blockquote>\n  <p>SEARCH CHARSET UTF-8 X-GM-RAW \"News\"</p>\n</blockquote>\n\n<p>works with no problems and returns list of message ids</p>\n\n<p>My perl-script looks as follows:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse utf8::all;\nuse strict;\nuse warnings;\nuse feature 'say';\nuse Mail::IMAPClient;\n\nmy $imap = Mail::IMAPClient-&gt;new(\n    Server   =&gt; 'imap.gmail.com',\n    User     =&gt; 'username@gmail.com',\n    Password =&gt; 'secr3t',\n    Ssl      =&gt; 1,\n    Uid      =&gt; 0,\n    Debug    =&gt; 1\n);\n\n$imap-&gt;select('[Gmail]/All Mail');\nmy $news = $imap-&gt;search('CHARSET UTF-8 X-GM-RAW \"\u041d\u043e\u0432\u043e\u0441\u0442\u0438\"');\nprint \"@$news\"; # print message ids\n</code></pre>\n\n<p>Debug messages:</p>\n\n<pre><code>Started at Wed Apr 15 00:25:43 2015\nUsing Mail::IMAPClient version 3.35 on perl 5.020002\nConnecting with IO::Socket::SSL PeerAddr imap.gmail.com PeerPort 993 Proto tcp Timeout 600 Debug 1\nConnected to imap.gmail.com\nRead:   * OK Gimap ready for requests from 178.47.31.152 e1mb42229459lab\nSending: 1 LOGIN username@gmail.com secr3t\nSent 43 bytes\nRead:   * CAPABILITY IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT\n    1 OK username@gmail.com authenticated (Success)\nSending: 2 SELECT \"[Gmail]/All Mail\"\nSent 29 bytes\nRead:   * FLAGS (\\Answered \\Flagged \\Draft \\Deleted \\Seen $label3 $Phishing $Forwarded $MDNSent Old $NotJunk NotJunk NonJunk $NotPhishing Junk)\n    * OK [PERMANENTFLAGS (\\Answered \\Flagged \\Draft \\Deleted \\Seen $label3 $Phishing $Forwarded $MDNSent Old $NotJunk NotJunk NonJunk $NotPhishing Junk \\*)] Flags permitted.\n    * OK [UIDVALIDITY 596378645] UIDs valid.\n    * 36992 EXISTS\n    * 0 RECENT\n    * OK [UIDNEXT 99973] Predicted next UID.\n    * OK [HIGHESTMODSEQ 3390697]\n    2 OK [READ-WRITE] [Gmail]/All Mail selected. (Success)\nSending: 3 SEARCH CHARSET UTF-8 X-GM-RAW \"\u041d\u043e\u0432\u043e\u0441\u0442\u0438\"\nSent 41 bytes\n...\n</code></pre>\n\n<p>and doesn't stop...\nuntil I kill him with Ctrl+C</p>\n\n<p>If you have already solved this problem, plz help!)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["php", "mysql", "perl"], "comments": [{"owner": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 0, "creation_date": 1429032850, "post_id": 29633809, "comment_id": 47409996, "body": "Good question. Curious why you would do it this way?"}, {"owner": {"reputation": 4013, "user_id": 2149694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/71eu5.jpg?s=128&g=1", "display_name": "kainaw", "link": "https://stackoverflow.com/users/2149694/kainaw"}, "edited": false, "score": 2, "creation_date": 1429032885, "post_id": 29633809, "comment_id": 47410017, "body": "When it works on the command line and not in a browser, I always go to permissions first. Does your web server (apache?) have permission to run perl and permission to access /path/MyCode.pl?"}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429033052, "post_id": 29633809, "comment_id": 47410106, "body": "I have a &#39;backend&#39; routine written in Perl that simulates a process for one of my business clients. Things have evolved where I needed a"}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429033138, "post_id": 29633809, "comment_id": 47410151, "body": "(sorry hit return) needed a &#39;frontend&#39; piece to allow the client to easily communicate with the backend. And so I wrote a php frontend."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1429033250, "post_id": 29633809, "comment_id": 47410215, "body": "@MikeP Off-topic, but you can edit comments within the first five minutes of posting them."}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "reply_to_user": {"reputation": 4013, "user_id": 2149694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/71eu5.jpg?s=128&g=1", "display_name": "kainaw", "link": "https://stackoverflow.com/users/2149694/kainaw"}, "edited": false, "score": 0, "creation_date": 1429033625, "post_id": 29633809, "comment_id": 47410418, "body": "@kainaw - yes permissions are all chmod 755."}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429034401, "post_id": 29633809, "comment_id": 47410837, "body": "btw since &quot;before...&quot; is displayed on the browser, I know the Perl code is being executed. The problem spot is apparently the &#39;DBI-&gt;connect&#39; line."}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 1, "creation_date": 1429035241, "post_id": 29633809, "comment_id": 47411305, "body": "Try change <code>or die</code> with <code>or print</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429036482, "post_id": 29633809, "comment_id": 47412010, "body": "Based on comments in the <a href=\"http://php.net/manual/en/function.shell-exec.php#78506\" rel=\"nofollow noreferrer\">documentation</a>, it appears that <code>shell_exec</code> doesn&#39;t capture stderr. Check your web server&#39;s error logs...there should be a detailed message about why <code>connect</code> is failing."}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429037330, "post_id": 29633809, "comment_id": 47412500, "body": "Changing to &#39;or print&#39; did not help. This is all taking place on a hosted account (godaddy) and so I don&#39;t think I have access to error logs."}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1429038879, "post_id": 29633809, "comment_id": 47413438, "body": "Can you confirm your data_source format? It is differ than what is mentioned in the manual : <code>$dsn = &quot;DBI:mysql:database=$database;host=$hostname;port=$port&quot;;</code>"}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1429040094, "post_id": 29633809, "comment_id": 47414072, "body": "@tivn Tried the format you describe; it again works command-line but not via browser."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1429041083, "post_id": 29633809, "comment_id": 47414630, "body": "By any chance do you have more than one perl installed?"}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429041775, "post_id": 29633809, "comment_id": 47414993, "body": "that&#39;s the guess from @ThisSuitIsBlackNot...command line and webserver using different versions..."}], "answers": [{"tags": [], "owner": {"reputation": 4999, "user_id": 1126070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c975501214d77b0a9b79cde31f3cbd68?s=128&d=identicon&r=PG", "display_name": "user1126070", "link": "https://stackoverflow.com/users/1126070/user1126070"}, "is_accepted": false, "score": 0, "last_activity_date": 1429038736, "creation_date": 1429038736, "answer_id": 29635550, "question_id": 29633809, "link": "https://stackoverflow.com/questions/29633809/unable-to-make-a-mysql-connection-through-perl-when-called-in-a-php-script/29635550#29635550", "title": "Unable to make a MySQL connection through Perl when called in a PHP script", "body": "<p>My first guess: from PHP you execute it with \"perl /path/MyCode.pl\"</p>\n\n<p>The shell opened by Apache are under different user than yours and that user does not perl in it path.</p>\n\n<p>Try using Perl from full path: \"/full/path/to/perl /path/MyCode.pl\"</p>\n\n<p>FYI: Executing script with perl \"scriptname\" is not a good practice. Instead define a full path in to your Perl in the shebang and always start your script using the full path. This way you could avoid errors like this. </p>\n\n<p>Regards,\nAndras</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429040616, "post_id": 29635693, "comment_id": 47414359, "body": "Well that makes things a lot clearer! Now I see the error message:   install_driver(mysql) failed: Can&#39;t locate DBD/mysql.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at (eval 4) line 3. Perhaps the DBD::mysql perl module hasn&#39;t been fully installed, or perhaps the capitalisation of &#39;mysql&#39; isn&#39;t right. Available drivers: DBM, ExampleP, File, Gofer, Proxy, SQLite, Sponge. at /home...."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429040739, "post_id": 29635693, "comment_id": 47414438, "body": "You don&#39;t need the <code>or die</code> following the <code>connect</code> if <code>RaiseError</code> is on. Also, <code>PrintError</code> is redundant if you&#39;re already using <code>RaiseError</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429040866, "post_id": 29635693, "comment_id": 47414502, "body": "@MikeP The webserver user may be running a different <code>perl</code> than you did on the command line. Try passing the full path in <code>shell_exec</code>."}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429041660, "post_id": 29635693, "comment_id": 47414932, "body": "On this (godaddy) hosted site I don&#39;t know the part of the path that resides above /home/myUserName/...to me it appears / is at the top..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1429041776, "post_id": 29635693, "comment_id": 47414994, "body": "You probably set PERL5LIB before executing from the command line"}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429042491, "post_id": 29635693, "comment_id": 47415382, "body": "yes:    echo $PERL5LIB  shows   /home/myUserName/perl5/lib/perl5"}, {"owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 1, "creation_date": 1429043333, "post_id": 29635693, "comment_id": 47415782, "body": "OK thanks for all this great help. Problem fixed...I needed correct path specification: this is done (on godaddy) by using:    use cPanelUserConfig in the Perl script to access the DMD::mysql module that I installed."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "edited": false, "score": 0, "creation_date": 1429043573, "post_id": 29635693, "comment_id": 47415916, "body": "@MikeP Excellent! Please put that in an answer so it can be preserved for all time, just in case another godaddy user has the same problem down the road."}], "tags": [], "owner": {"reputation": 155, "user_id": 553730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/272a64855b068de155abf613ad86ed24?s=128&d=identicon&r=PG", "display_name": "fvox", "link": "https://stackoverflow.com/users/553730/fvox"}, "is_accepted": false, "score": 2, "last_activity_date": 1429041467, "last_edit_date": 1429041467, "creation_date": 1429039200, "answer_id": 29635693, "question_id": 29633809, "link": "https://stackoverflow.com/questions/29633809/unable-to-make-a-mysql-connection-through-perl-when-called-in-a-php-script/29635693#29635693", "title": "Unable to make a MySQL connection through Perl when called in a PHP script", "body": "<p>Yes, PHP <code>shell_exec()</code> function doesn't capture STDERR.  </p>\n\n<p>To debug your code, you can add a <code>2&gt;&amp;1</code> at the end of system command to redirect STDERR to <strong>STDOUT</strong>:</p>\n\n<pre><code>$myResult = shell_exec(\"perl /path/script.pl 2&gt;&amp;1\");\n</code></pre>\n\n<p>Also, you can setup the DBI module to <strong>die</strong> if some error occurs at runtime:</p>\n\n<pre><code>$dbh = DBI-&gt;connect($data_source,$user, $pwd, { RaiseError =&gt; 1, PrintError =&gt; 0}) or die $DBI::errstr;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "is_accepted": false, "score": 1, "last_activity_date": 1429044686, "last_edit_date": 1429044686, "creation_date": 1429043858, "answer_id": 29636963, "question_id": 29633809, "link": "https://stackoverflow.com/questions/29633809/unable-to-make-a-mysql-connection-through-perl-when-called-in-a-php-script/29636963#29636963", "title": "Unable to make a MySQL connection through Perl when called in a PHP script", "body": "<p>Problem fixed...I needed correct path specification: this is done (on godaddy) by using:</p>\n\n<pre><code>use cPanelUserConfig;\n</code></pre>\n\n<p>in the Perl script to access the DBD::mysql module that I installed.</p>\n"}], "owner": {"reputation": 71, "user_id": 4788442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Un5eOPOv7Q/AAAAAAAAAAI/AAAAAAAAEPc/-joU6TjALIk/photo.jpg?sz=128", "display_name": "MikeP", "link": "https://stackoverflow.com/users/4788442/mikep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1429044686, "creation_date": 1429032667, "last_edit_date": 1429041697, "question_id": 29633809, "link": "https://stackoverflow.com/questions/29633809/unable-to-make-a-mysql-connection-through-perl-when-called-in-a-php-script", "title": "Unable to make a MySQL connection through Perl when called in a PHP script", "body": "<p>I'm creating a connection to a MySQL database within a Perl script, called by a PHP script. Here are the 2 scripts:</p>\n\n<p><strong>Perl:</strong></p>\n\n<pre><code>#!/usr/bin/perl\n# script name = MyCode.pl\nuse DBI;\nmy $data_source = q/dbi:mysql:name:localhost/;\nmy $user = q/myname/;\nmy $pwd = q/pword/;\n\nprint \"before...\\n\";\n# Connect!\n$dbhandle= DBI-&gt;connect($data_source,$user,$pwd) or die \"can't connect\n       $data_source: $DBI::errstr \\n\";\nprint \"...after \\n\";\n</code></pre>\n\n<p><strong>PHP:</strong></p>\n\n<pre><code>&lt;?php\n // script name = Test.php\n $myResult=shell_exec(\"perl /path/MyCode.pl\");\n echo $myResult;\n?&gt;\n</code></pre>\n\n<hr>\n\n<p>When executed on the command line, Test.php prints \"before...\" and \"...after\" and the DB connection is indeed established within the Perl code. However, when Test.php is executed from my (Chrome) browser, all that prints is \"before...\" and no connection is made. And <em>no</em> error message is displayed.</p>\n\n<p>Why is there success on the command line but not from a web server?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 2270433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7b472641644cd902defc0cb304b60b0?s=128&d=identicon&r=PG", "display_name": "ctutte", "link": "https://stackoverflow.com/users/2270433/ctutte"}, "edited": false, "score": 0, "creation_date": 1429035883, "post_id": 29631955, "comment_id": 47411652, "body": "Thank you very much. It may look simple but i did not knew how to solve it."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1429026884, "creation_date": 1429026884, "answer_id": 29631955, "question_id": 29631231, "link": "https://stackoverflow.com/questions/29631231/cleanup-failed-with-tempfile-using-perl/29631955#29631955", "title": "Cleanup failed with tempfile using perl", "body": "<p>Change</p>\n\n<pre><code>my($oh, $tmp) = tempfile(undef, CLEANUP =&gt; 1);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my($oh, $tmp) = tempfile(UNLINK =&gt; 1);\n</code></pre>\n\n<p><code>CLEANUP</code> is used to trigger removal of temporary <em>directories</em> on exit, not files. Note that passing <code>undef</code> as the first argument in order to use the default template is unnecessary.</p>\n"}], "owner": {"reputation": 133, "user_id": 2270433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7b472641644cd902defc0cb304b60b0?s=128&d=identicon&r=PG", "display_name": "ctutte", "link": "https://stackoverflow.com/users/2270433/ctutte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 29631955, "answer_count": 1, "score": 0, "last_activity_date": 1429026884, "creation_date": 1429024870, "last_edit_date": 1429026153, "question_id": 29631231, "link": "https://stackoverflow.com/questions/29631231/cleanup-failed-with-tempfile-using-perl", "title": "Cleanup failed with tempfile using perl", "body": "<p>I needed to use \"iconv\" to convert char encoding from some files generated on windows. Sometimes those files are very big and execution fails because it runs out of RAM. Googling i found a script which is called \"iconv-chunks.pl\" which is basically a perl script which processes the files and works pretty well, but it generates temporary files on my /tmp folder.\nThe problem is that this scripts runs automatically everyday for many files and it keeps generating garbage on my /tmp dir even though it has the cleanup flag ON.</p>\n\n<p>The script im talking about is:\n<a href=\"https://code.google.com/p/clschool-team4/source/browse/trunk/iconv-chunks.pl?r=53\" rel=\"nofollow\">https://code.google.com/p/clschool-team4/source/browse/trunk/iconv-chunks.pl?r=53</a></p>\n\n<pre><code>#!/usr/bin/perl\n\nour $CHUNK_SIZE = 1024 * 1024 * 100; # 100M\n\n=head1 NAME\n\niconv-chunks - Process huge files with iconv\n\n=head1 SYNOPSIS\n\n  iconv-chunks &lt;filename&gt; [iconv-options]\n\n=head1 DESCRIPTION\n\nThe standard iconv program reads the entire input file into\nmemory, which doesn't work for large files (such as database exports).\n\nThis script is just a wrapper that processes the input file\nin manageable chunks and writes it to standard output.\n\nThe first argument is the input filename (use - to specify standard input).\nAnything else is passed through to iconv.\n\nThe real iconv needs to be somewhere in your PATH.\n\n=head1 EXAMPLES\n\n  # Convert latin1 to utf-8:\n  ./iconv-chunks database.txt -f latin1 -t utf-8 &gt; out.txt\n\n  # Input filename of - means standard input:\n  ./iconv-chunks - -f iso8859-1 -t utf8 &lt; database.txt &gt; out.txt\n\n  # More complex example, using compressed input/output to minimize disk use:\n  zcat database.txt.gz | ./iconv-chunks - -f iso8859-1 -t utf8 | \\\n  gzip - &gt; database-utf.dump.gz\n\n=head1 AUTHOR\n\nMaurice Aubrey &lt;maurice.aubrey+iconv@gmail.com&gt;\n\n=cut\n\n# $Id: iconv-chunks 6 2007-08-20 21:14:55Z mla $\n\nuse strict;\nuse warnings;\nuse bytes;\nuse File::Temp qw/ tempfile /;\n\n# iconv errors:\n#   iconv: unable to allocate buffer for input: Cannot allocate memory\n#   iconv: cannot open input file `database.txt': File too large\n\n@ARGV &gt;= 1 or die \"Usage: $0 &lt;inputfile&gt; [iconv-options]\\n\";\nmy @options = splice @ARGV, 1;\n\nmy($oh, $tmp) = tempfile(undef, CLEANUP =&gt; 1);\n# warn \"Tempfile: $tmp\\n\";\n\nmy $iconv = \"iconv @options $tmp\";\nsub iconv { system($iconv) == 0 or die \"command '$iconv' failed: $!\" }\n\nmy $size = 0;\n# must read by line to ensure we don't split multi-byte character\nwhile (&lt;&gt;) {\n  $size += length $_;\n  print $oh $_;\n  if ($size &gt;= $CHUNK_SIZE) {\n    iconv;\n    truncate $oh, 0 or die \"truncate '$tmp' failed: $!\";\n    seek $oh, 0, 0 or die \"seek on '$tmp' failed: $!\";\n    $size = 0;\n  }\n}\niconv if $size &gt; 0;\n</code></pre>\n\n<p>Any help finding the problem or how can it delete temporary files after finishing?</p>\n\n<p>Regards</p>\n"}, {"tags": ["perl", "postgresql", "dancer"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429024462, "post_id": 29630886, "comment_id": 47404816, "body": "Have you seen these articles from the Dancer advent calendar? <a href=\"http://advent.perldancer.org/2014/19\" rel=\"nofollow noreferrer\">Authentication for the masses</a> and <a href=\"http://advent.perldancer.org/2012/2\" rel=\"nofollow noreferrer\">New user authentication and authorisation framework</a> (the latter is about <a href=\"https://metacpan.org/module/Dancer::Plugin::Auth::Extensible\" rel=\"nofollow noreferrer\"><code>Dancer::Plugin::Auth::Extensible</code></a>, which takes away a lot of the boilerplate)."}, {"owner": {"reputation": 143, "user_id": 4116648, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf5fbb94e5fa187ffff62505d3c89e4e?s=128&d=identicon&r=PG&f=1", "display_name": "vanilla_splsh", "link": "https://stackoverflow.com/users/4116648/vanilla-splsh"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429025108, "post_id": 29630886, "comment_id": 47405237, "body": "@ThisSuitIsBlackNot I have, I&#39;m trying to use the second one but confused about how to implement it. I downloaded the directory and was overwhelmed with all the files and unsure what parts I need!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429025216, "post_id": 29630886, "comment_id": 47405318, "body": "You downloaded what directory?"}, {"owner": {"reputation": 143, "user_id": 4116648, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf5fbb94e5fa187ffff62505d3c89e4e?s=128&d=identicon&r=PG&f=1", "display_name": "vanilla_splsh", "link": "https://stackoverflow.com/users/4116648/vanilla-splsh"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429025371, "post_id": 29630886, "comment_id": 47405428, "body": "@ThisSuitIsBlackNot The example one they have in: <a href=\"https://metacpan.org/pod/Dancer::Plugin::Auth::Extensible\" rel=\"nofollow noreferrer\">metacpan.org/pod/Dancer::Plugin::Auth::Extensible</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429025730, "post_id": 29630886, "comment_id": 47405693, "body": "I&#39;m still not sure what you&#39;re talking about. If you mean you downloaded the source for <code>Dancer::Plugin::Auth::Extensible::Provider::Example</code>, that is an example of how to write your own auth plugin, which you don&#39;t need to do because <a href=\"https://metacpan.org/pod/Dancer::Plugin::Auth::Extensible::Provider::Database\" rel=\"nofollow noreferrer\"><code>Dancer::Plugin::Auth::Extensible::Provider::Database</code></a> already exists."}], "answers": [{"tags": [], "owner": {"reputation": 4999, "user_id": 1126070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c975501214d77b0a9b79cde31f3cbd68?s=128&d=identicon&r=PG", "display_name": "user1126070", "link": "https://stackoverflow.com/users/1126070/user1126070"}, "is_accepted": false, "score": 3, "last_activity_date": 1429040188, "creation_date": 1429040188, "answer_id": 29635958, "question_id": 29630886, "link": "https://stackoverflow.com/questions/29630886/a-simple-login-authorization-system-using-dancer-and-postgres/29635958#29635958", "title": "A Simple Login/Authorization system using Dancer and Postgres", "body": "<p>The simplest way: \n<a href=\"https://metacpan.org/pod/Dancer::Plugin::Authorize::Credentials::PostgreSQL\" rel=\"nofollow\">Dancer::Plugin::Authorize::Credentials::PostgreSQL</a></p>\n\n<p>Here is a good write up how to do it properly: <a href=\"http://perlmaven.com/storing-passwords-in-a-an-easy-but-secure-way\" rel=\"nofollow\">http://perlmaven.com/storing-passwords-in-a-an-easy-but-secure-way</a></p>\n\n<pre><code>post '/login' =&gt; sub {\n    # Validate the username and password they supplied\n\n    if (!params-&gt;{user} or !params-&gt;{pass}){ \n       redirect printf 'login failed';\n    }\n    # use your own encryption\n    my $auth = auth($login, encrypt($password));\n    # login successful\n    if ($auth) {\n        session user =&gt; params-&gt;{user};\n        redirect params-&gt;{path} || '/';\n    } else {\n        redirect printf 'login failed';\n    }\n};\n</code></pre>\n\n<p>Regards,\nAndras</p>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 4116648, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf5fbb94e5fa187ffff62505d3c89e4e?s=128&d=identicon&r=PG&f=1", "display_name": "vanilla_splsh", "link": "https://stackoverflow.com/users/4116648/vanilla-splsh"}, "edited": false, "score": 0, "creation_date": 1429093347, "post_id": 29638155, "comment_id": 47435330, "body": "Clearly I couldn&#39;t understand how the code could be that simple - thank you so much for this!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 143, "user_id": 4116648, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf5fbb94e5fa187ffff62505d3c89e4e?s=128&d=identicon&r=PG&f=1", "display_name": "vanilla_splsh", "link": "https://stackoverflow.com/users/4116648/vanilla-splsh"}, "edited": false, "score": 0, "creation_date": 1429096991, "post_id": 29638155, "comment_id": 47437566, "body": "@scz You&#39;re welcome. There&#39;s a lot of info to digest in the docs, especially if you&#39;re new to Perl and Dancer."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1429050097, "last_edit_date": 1495541257, "creation_date": 1429048974, "answer_id": 29638155, "question_id": 29630886, "link": "https://stackoverflow.com/questions/29630886/a-simple-login-authorization-system-using-dancer-and-postgres/29638155#29638155", "title": "A Simple Login/Authorization system using Dancer and Postgres", "body": "<p><a href=\"https://metacpan.org/pod/Dancer::Plugin::Auth::Extensible\" rel=\"nofollow noreferrer\"><code>Dancer::Plugin::Auth::Extensible</code></a> takes care of a lot of boilerplate code for you. You can get a simple login system up and running without having to write any of your own <code>/login</code> routes as follows.</p>\n\n<h2>Configure <code>Dancer::Plugin::Auth::Extensible</code></h2>\n\n<p>Install <a href=\"https://metacpan.org/pod/Dancer::Plugin::Database\" rel=\"nofollow noreferrer\"><code>Dancer::Plugin::Database</code></a> and <a href=\"https://metacpan.org/pod/Dancer::Plugin::Auth::Extensible::Provider::Database\" rel=\"nofollow noreferrer\"><code>Dancer::Plugin::Auth::Extensible::Provider::Database</code></a> and add this to <code>config.yml</code>:</p>\n\n<pre><code>session: \"YAML\"\n\nplugins:\n  Auth::Extensible:\n    realms:\n      users:\n        provider: 'Database'\n        disable_roles: 1\n</code></pre>\n\n<h2>Configure database connection</h2>\n\n<p>Configure your database connection in <code>environments/development.yml</code> so that you can have different configurations for dev and production. This is what the configuration looks like for MySQL, with the connection credentials (database name, host, username, and password) stored in a separate options file <code>database.cfg</code>:</p>\n\n<pre><code>plugins:\n  Database:\n    dsn: 'dbi:mysql:;mysql_read_default_file=/path/to/database.cfg'\n    dbi_params:\n      RaiseError: 1\n      AutoCommit: 1\n</code></pre>\n\n<p>For Postgres, you should use a <a href=\"http://www.postgresql.org/docs/9.4/static/libpq-pgpass.html\" rel=\"nofollow noreferrer\"><code>.pgpass</code></a> file to store your connection credentials. Make sure the file is not world readable. See <a href=\"https://stackoverflow.com/a/19980156/176646\">this Stack Overflow post</a> for an example. Test that your credentials file works on the command line and that your webserver can read it.</p>\n\n<p>Your existing table appears to conform to the <a href=\"https://metacpan.org/pod/Dancer::Plugin::Auth::Extensible::Provider::Database#SUGGESTED-SCHEMA\" rel=\"nofollow noreferrer\">suggested schema</a> in the docs, but even if it doesn't, you can adjust the table and column names in the <a href=\"https://metacpan.org/pod/Dancer::Plugin::Auth::Extensible::Provider::Database#CONFIGURATION\" rel=\"nofollow noreferrer\">configuration</a>.</p>\n\n<h2>Lock down your routes</h2>\n\n<p>Add the <code>require_login</code> keyword to a route you want to protect. A <code>/login</code> route will be generated automatically with a basic login form, although you can <a href=\"https://metacpan.org/pod/Dancer::Plugin::Auth::Extensible#Replacing-the-Default-login-and-login-denied-Routes\" rel=\"nofollow noreferrer\">create your own</a> if you like.</p>\n\n<p><strong>lib/MyApp.pm</strong></p>\n\n<pre><code>package MyApp;\nuse Dancer ':syntax';\n\nuse Dancer::Plugin::Auth::Extensible;\n\nour $VERSION = '0.1';\n\nget '/' =&gt; require_login sub {\n    template 'index';\n};\n\ntrue;\n</code></pre>\n\n<p>(Yes, that really is all the code you have to write. I told you it takes care of a lot of boilerplate.)</p>\n\n<p><a href=\"https://metacpan.org/pod/Crypt::SaltedHash\" rel=\"nofollow noreferrer\"><code>Crypt::SaltedHash</code></a> is used to hash passwords automatically. Note that you should never store plaintext passwords in your database; when you add a user to your database, you should generate a hash of the password and store the hash.</p>\n\n<p>Note that roles are disabled in this example. If you enable roles, you can <a href=\"https://metacpan.org/pod/Dancer::Plugin::Auth::Extensible#Keywords\" rel=\"nofollow noreferrer\">do other nifty things</a> like only allow users with the admin role to view admin pages.</p>\n"}], "owner": {"reputation": 143, "user_id": 4116648, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf5fbb94e5fa187ffff62505d3c89e4e?s=128&d=identicon&r=PG&f=1", "display_name": "vanilla_splsh", "link": "https://stackoverflow.com/users/4116648/vanilla-splsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1435, "favorite_count": 2, "accepted_answer_id": 29638155, "answer_count": 2, "score": 3, "last_activity_date": 1429050097, "creation_date": 1429023923, "question_id": 29630886, "link": "https://stackoverflow.com/questions/29630886/a-simple-login-authorization-system-using-dancer-and-postgres", "title": "A Simple Login/Authorization system using Dancer and Postgres", "body": "<p>As a newbie to Perl I'm struggling to find a simple way to do this. I've created a very simple table in my database:</p>\n\n<pre><code>CREATE TABLE users (\nid SERIAL NOT NULL PRIMARY KEY, \nusername TEXT NOT NULL, \npassword TEXT NOT NULL);\n</code></pre>\n\n<p>So far I used a simple login system that has a hard coded username and password that I found online:</p>\n\n<pre><code>package Example;\nuse Dancer ':syntax';\n\nour $VERSION = '0.1';\nset session =&gt; \"Simple\";\n\nget '/' =&gt; sub {\n    # template 'index',{},{layout =&gt; 0};\n    template 'index';\n};\n\nbefore sub {\n    if (! session('user') &amp;&amp; request-&gt;path_info !~ m{^/login}) {\n        var requested_path =&gt; request-&gt;path_info;\n        request-&gt;path_info('/login');\n    }\n};\n\nget '/login' =&gt; sub {\n    # Display a login page; the original URL they requested is available as\n    # vars-&gt;{requested_path}, so could be put in a hidden field in the form\n    template 'login', { path =&gt; vars-&gt;{requested_path} }, {layout =&gt; 0};\n};\n\npost '/login' =&gt; sub {\n    # Validate the username and password they supplied\n    if (params-&gt;{user} eq 'user' &amp;&amp; params-&gt;{pass} eq 'letmein') {\n        session user =&gt; params-&gt;{user};\n        redirect params-&gt;{path} || '/';\n    } else {\n        redirect printf 'login failed';\n    }\n};\n\nget '/logout' =&gt; sub {\n  session-&gt;destroy;\n  redirect '/';\n};\n</code></pre>\n\n<p>How do I get started with linking the database and then matching what the user inputs with what's in the database? And also when do I implement the hashing of the passwords?  Any tutorials will be greatly appreciated - I've been using metacpan but it's not providing as much detail as I need!</p>\n"}, {"tags": ["perl", "shell", "exit"], "answers": [{"tags": [], "owner": {"reputation": 48006, "user_id": 96588, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/425fed56a46504d37ec907d99b09ecde?s=128&d=identicon&r=PG", "display_name": "l0b0", "link": "https://stackoverflow.com/users/96588/l0b0"}, "is_accepted": true, "score": 0, "last_activity_date": 1429025779, "creation_date": 1429025779, "answer_id": 29631595, "question_id": 29630652, "link": "https://stackoverflow.com/questions/29630652/shell-script-loop-over-files-to-exit-when-sql-query-fails/29631595#29631595", "title": "Shell Script Loop over files to exit when SQL query fails", "body": "<p>Your <code>exit $?</code> doesn't get the same exit code as the previous line. You can simplify this as follows:</p>\n\n<pre><code>${RELEASEDIR}/do_updates_$file_num.pl || exit $?\n</code></pre>\n\n<p>Even better, write robust shell scripts by adding <code>set -o errexit</code> to exit the script at the first error (but beware <a href=\"http://mywiki.wooledge.org/BashFAQ/105\" rel=\"nofollow\">caveats</a>).</p>\n"}], "owner": {"reputation": 905, "user_id": 959534, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CPUMF.jpg?s=128&g=1", "display_name": "Don Sevcik", "link": "https://stackoverflow.com/users/959534/don-sevcik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 29631595, "answer_count": 1, "score": 0, "last_activity_date": 1429025779, "creation_date": 1429023298, "last_edit_date": 1429023920, "question_id": 29630652, "link": "https://stackoverflow.com/questions/29630652/shell-script-loop-over-files-to-exit-when-sql-query-fails", "title": "Shell Script Loop over files to exit when SQL query fails", "body": "<p>We have a shell script that runs to stop if one of any .pl files fails.  We want to do the same with the SQL files if they exist.  The difference is we don't always have an SQL file at that point in the loop.  So we do not always have a file_num.sql.  What we want to do is if it exist and fails, then exit the script below.  The way we have this structured is running this out of the do_updates files as such:</p>\n\n<pre><code>my $sqlFile = $updatesdir.'/releaseupdates_02.sql';\nsystem(\"$drushcmd -r $drupalroot -u site.test.admin sql-query --file=$sqlFile\") == 0 or die \"$drushcmd failed: $?\";\n</code></pre>\n\n<p>So below in our master loop, we want to exit the loop if a perl script containing an SQL command fails.  So let's say there is a perl script that calls a php file for 3 and 4 and if that errors out, this works, however, if an SQL file exists for 02 instead of a php file, this does not work.</p>\n\n<pre><code># Declare a list of update script file numbers\nFILE_NUMS=\"\n  01\n  02\n  03\n  04\n\"\n# Run each update script\nfor file_num in $FILE_NUMS; do\n  ${RELEASEDIR}/do_updates_$file_num.pl\n  # Exit if an update script returns and exit status of anything other than zero\n  if [ $? -ne 0 ]; then\n    exit $?\n  fi\ndone\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429023113, "post_id": 29630296, "comment_id": 47403824, "body": "<code>my @AoH = map { my $h; @$h{@keys} = @$_; $h } @values;</code> same thing using $h hashref."}, {"owner": {"reputation": 10537, "user_id": 1157237, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2f62795a806ed2f35d96af1ba9a539e?s=128&d=identicon&r=PG", "display_name": "gcbenison", "link": "https://stackoverflow.com/users/1157237/gcbenison"}, "edited": false, "score": 0, "creation_date": 1429023952, "post_id": 29630296, "comment_id": 47404453, "body": "I was initially hoping to avoid the use of a named temporary variable, but seeing it now it isn&#39;t too much extra code."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 10537, "user_id": 1157237, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2f62795a806ed2f35d96af1ba9a539e?s=128&d=identicon&r=PG", "display_name": "gcbenison", "link": "https://stackoverflow.com/users/1157237/gcbenison"}, "edited": false, "score": 0, "creation_date": 1429024219, "post_id": 29630296, "comment_id": 47404632, "body": "List::Moreutils can do this if you don&#39;t want to use extra variable."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1429025136, "post_id": 29630296, "comment_id": 47405259, "body": "^-- Specifically: <code>use List::MoreUtils &#39;zip&#39;;</code> followed by <code>my @AoH = map { { zip @keys, @$_ } } @values;</code> Personally, I think the hash slice is clearer."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 6, "last_activity_date": 1429023375, "last_edit_date": 1429023375, "creation_date": 1429022375, "answer_id": 29630296, "question_id": 29630166, "link": "https://stackoverflow.com/questions/29630166/nice-concise-way-to-convert-list-of-keys-and-lists-of-values-into-list-of-anonym/29630296#29630296", "title": "Nice concise way to convert list of keys and lists of values into list of anonymous hashes", "body": "<p>You want array of hashes, so you can use <code>map</code> to transform <code>@values</code> array,</p>\n\n<pre><code>my @keys = qw/foo bar baz/;\nmy @values = ( [1,2,3], [4,5,6] );\nmy @AoH = map { my %h; @h{@keys} = @$_; \\%h } @values;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": false, "score": 2, "last_activity_date": 1429034721, "last_edit_date": 1429034721, "creation_date": 1429022659, "answer_id": 29630408, "question_id": 29630166, "link": "https://stackoverflow.com/questions/29630166/nice-concise-way-to-convert-list-of-keys-and-lists-of-values-into-list-of-anonym/29630408#29630408", "title": "Nice concise way to convert list of keys and lists of values into list of anonymous hashes", "body": "<pre><code>use List::MoreUtils qw( zip );\n\nmy @keys = qw( foo bar baz );\nmy @values = ( [1,2,3], [4,5,6] );\nmy @hashes = map +{ zip @keys, @$_ }, @values;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1429030308, "post_id": 29633061, "comment_id": 47408633, "body": "This is a fixed version of @Oesor&#39;s deleted post. If he undeletes his post and lets me know, I&#39;ll delete mine."}, {"owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "edited": false, "score": 0, "creation_date": 1429048240, "post_id": 29633061, "comment_id": 47418297, "body": "It&#39;s no big deal - I didn&#39;t have enough coffee this morning and deleted mine in lieu of fixing it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1429030283, "creation_date": 1429030283, "answer_id": 29633061, "question_id": 29630166, "link": "https://stackoverflow.com/questions/29630166/nice-concise-way-to-convert-list-of-keys-and-lists-of-values-into-list-of-anonym/29633061#29633061", "title": "Nice concise way to convert list of keys and lists of values into list of anonymous hashes", "body": "<pre><code>use List::MoreUtils qw( zip );\n\nmy @keys = qw( foo bar baz );\nmy @values = ( [1,2,3], [4,5,6] );\nmy @hashes = map { { zip @keys, @$_ } } @values;\n</code></pre>\n"}], "owner": {"reputation": 10537, "user_id": 1157237, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2f62795a806ed2f35d96af1ba9a539e?s=128&d=identicon&r=PG", "display_name": "gcbenison", "link": "https://stackoverflow.com/users/1157237/gcbenison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "accepted_answer_id": 29630296, "answer_count": 3, "score": 1, "last_activity_date": 1429034721, "creation_date": 1429022065, "last_edit_date": 1429024499, "question_id": 29630166, "link": "https://stackoverflow.com/questions/29630166/nice-concise-way-to-convert-list-of-keys-and-lists-of-values-into-list-of-anonym", "title": "Nice concise way to convert list of keys and lists of values into list of anonymous hashes", "body": "<p>So I have this:</p>\n\n<pre><code>@keys = qw/foo bar baz/\n@values = ( [1,2,3], [4,5,6], ... )\n</code></pre>\n\n<p>And I would like to convert it to:</p>\n\n<pre><code>{ foo =&gt; 1, bar =&gt; 2, baz =&gt; 3 }, { foo =&gt; 4, bar =&gt; 5, baz =&gt; 6 }, ...\n</code></pre>\n\n<p>What is a nice, concise, idiomatic way to do this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 4, "creation_date": 1429010927, "post_id": 29625968, "comment_id": 47395395, "body": "<i>Always</i> <code>use strict; use warnings;</code>!"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1429011271, "post_id": 29625968, "comment_id": 47395596, "body": "In Perl to comment any line use <code>#</code> not <code>&#47;&#47;</code>."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429011443, "post_id": 29625968, "comment_id": 47395691, "body": "Thanks for suggestions, i will correct it. Could you please help me where the code is going wrong."}], "answers": [{"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1429012549, "post_id": 29626484, "comment_id": 47396340, "body": "This will work for current directory only."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429018230, "post_id": 29626484, "comment_id": 47400205, "body": "Yes, you are correct serenesat...this will work only for current directory. @Morad that was typo while typing here... :)"}, {"owner": {"reputation": 2481, "user_id": 1444748, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WqxKU.jpg?s=128&g=1", "display_name": "Morad", "link": "https://stackoverflow.com/users/1444748/morad"}, "reply_to_user": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429019461, "post_id": 29626484, "comment_id": 47401130, "body": "@praneeth You can use the find shell command in order to search for txt files wherever you need"}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429020571, "post_id": 29626484, "comment_id": 47401937, "body": "i have noticed a point here before using cp operation the $file state will be modified (means the file name changes however physical it was not changed on system) and at the point of cp stage it tries to look for modified $file names which are not exist and throws error saying No such file or directory. so now i want two variables something like <code>cp filename1 (before modification) filename2 (after renaming files)</code>"}], "tags": [], "owner": {"reputation": 2481, "user_id": 1444748, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WqxKU.jpg?s=128&g=1", "display_name": "Morad", "link": "https://stackoverflow.com/users/1444748/morad"}, "is_accepted": false, "score": 0, "last_activity_date": 1429012027, "creation_date": 1429012027, "answer_id": 29626484, "question_id": 29625968, "link": "https://stackoverflow.com/questions/29625968/perl-search-for-files-and-rename-them-while-copying-to-different-directory/29626484#29626484", "title": "Perl search for files and rename them while copying to different directory", "body": "<p>in the loop you are using <code>@textfiles</code> instead of <code>@txtfiles</code>. Use <code>strict</code></p>\n\n<pre><code>#!/usr/local/bin/perl\nuse File::Basename;\nuse strict;\nuse warnings;\n\n\nmy @txtfiles = glob(\"*.txt\");\nforeach my $file(@txtfiles){\n     my $dir = dirname($file);\n     $file = basename($file);\n     $file =~ s/(\\d+)/$dir/; # renaming number with $dir\n     `mkdir -p summary` unless -d \"summary\";\n     `cp $file summary`;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429021433, "post_id": 29629759, "comment_id": 47402537, "body": "thanks for the replay and suggestions  David,  i need files in the sub-directories. My Requirement is look for files in sub-directories and modify the file name with directory name it found and than copy to different directory i.e. summary"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "reply_to_user": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429021753, "post_id": 29629759, "comment_id": 47402801, "body": "Do you need the files under the CURRENT directory too? Using <code>*&#47;*.txt</code> as a pattern gets the files under the subdirectories, but not the current directory? What about a file like <code>foo&#47;bar&#47;barfoo.txt</code>? Do you want this copied too? I&#39;ll update my answer as soon as you reply."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429022338, "post_id": 29629759, "comment_id": 47403230, "body": "i don&#39;t want current directory. the files are resides inside one directory <code>i.e. foo&#47;text_v0001.txt  foo&#47;text_v0002.txt foo_au&#47;text_v0003.txt foo_au&#47;text_v0004.txt</code> continues....  i want to replace the numbers with directory name e.g. <code>foo&#47;text_v0001.txt</code> should renamed to <code>text_foo.txt</code> and <code>foo&#47;text_v0002.txt</code> should renamed to <code>text_foo.txt</code> (since in same folder we can&#39;t have same name files, we can add part2 and the end of second file i.e. text_fooPart2.txt). Kindly let me know if i&#39;m not clear to you."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429032697, "post_id": 29629759, "comment_id": 47409910, "body": "Thank you so much David. You are genius, it works well. Could you please guide me how do i learn to code like this? could you please guide me some documents/tutorials and tips for perl?"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "reply_to_user": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429035334, "post_id": 29629759, "comment_id": 47411346, "body": "The basic text is called the <a href=\"http://shop.oreilly.com/product/0636920018452.do\" rel=\"nofollow noreferrer\">Llama Book</a>. It&#39;s a great book for quickly picking up the syntax and understanding the basics of Perl, but it doesn&#39;t go into modules (especially the standard modules such as <code>File::Copy</code>) or OOP Perl. However, it&#39;ll get you into the language very quickly."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1429079170, "post_id": 29629759, "comment_id": 47427018, "body": "thanks again, i will start with this book"}], "tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1429026975, "last_edit_date": 1429026975, "creation_date": 1429020988, "answer_id": 29629759, "question_id": 29625968, "link": "https://stackoverflow.com/questions/29625968/perl-search-for-files-and-rename-them-while-copying-to-different-directory/29629759#29629759", "title": "Perl search for files and rename them while copying to different directory", "body": "<p><strong><em>NOOOOO!</em></strong></p>\n\n<p>Don't use system commands -- especially since there are Perl commands that you can use.</p>\n\n<pre><code>`mkdir -p summary` unless -d summary;\n`cp $file summary`;\n</code></pre>\n\n<p>Use the <strong>Perl</strong> commands!</p>\n\n<pre><code>use File::Copy;       # Standard Perl Module. USE IT!\n...\nmkdir 'summary' unless -d 'summary';   # No need for `-p`\ncopy $file, 'summary';\n</code></pre>\n\n<p>Here's a revised script:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature qw(say);\n\n# use File::Basename;  -- No need for this in this version\nuse File::Copy;\n\n# What files do you want to find?\n# Do you want to find the immediate files or the\n# files in the subdirectories?\n\nmy @text_files = glob('*.txt');  # Immediate files only\n\nmkdir 'summary' if not -d 'summary';   # Make this dir before the loop\nfor my $file ( @text_files ) {\n    next unless -f $file;              # Make sure this is a file you want to copy!\n    #\n    # No need for 'dirname' and 'basename' with '*.txt' glob\n    #\n    if ( not copy $file, 'summary' ) { # Check the outcome of this command.\n        warn qq(Could not copy file \"$file\" to \"summary\".);\n    }\n}\n</code></pre>\n\n<p>Let us know if you need to copy files in subdirectories rather than just in the immediate directory. Maybe you can use <code>make_tree</code> found in <code>File::Path</code>, or the Perl version of <code>find</code> from <code>File::Find</code>. These are standard Perl modules that all Perl installations have.</p>\n\n<hr>\n\n<h2>Addendum</h2>\n\n<blockquote>\n  <p>I don't want current directory. The files are resides inside one directory i.e. <code>foo/text_v0001.txt</code>, <code>foo/text_v0002.txt</code>, <code>foo_au/text_v0003.txt</code>, <code>foo_au/text_v0004.txt</code> continues.... I want to replace the numbers with directory name e.g. <code>foo/text_v0001.txt</code> should renamed to <code>text_foo.txt</code> and <code>foo/text_v0002.txt</code> should renamed to <code>text_foo.txt</code> (since in same folder we can't have same name files, we can add part2 and the end of second file i.e. text_fooPart2.txt).</p>\n</blockquote>\n\n<p>That last part is a doozy, and it's a new requirement too. I need to verify that a file doesn't already exist with the same name, and if it does, I need to make sure that I find the next available name.</p>\n\n<p>If I find that a file already exist, I'll loop incrementing a duplicate file counter until I find a file name that doesn't already exist.</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nuse File::Basename;\nuse File::Copy;\nuse File::Glob;                        # Improved Glob matching.\n\nuse constant {\n    DIRECTORY           =&gt; 'summary',\n};\n\n# What files do you want to find?\n# Do you want to find the immediate files or the\n# files in the subdirectories?\n\n#\n# Let's do a more sophisticated pattern making sure we're catching\n# the files we want.\n#\nmy @text_files = glob('*/*.txt');      # Subdirectories only\nmkdir DIRECTORY if not -d DIRECTORY;   # Make this dir before the loop\n\nfor my $file ( @text_files ) {\n    my $dir_name  = dirname $file;\n    my $file_name = basename $file;\n    say \"DEBUG: On '$file'.\";\n    #\n    # Let's make sure that the file name matches the expected\n    # pattern. If the substitution doesn't succeed, we assume\n    # this file shouldn't be copied, and skip it.\n    #\n    # I'm serching for a file that has the suffix '_vxxxx.txt' where\n    # 'xxxx' is some number. I remove the number and the letter `v`,\n    # and add in the directory name.\n    #\n    if ( not $file_name =~ s/_v(\\d+)\\.txt$/_$dir_name.txt/ ) {\n        warn qq(\"$dir_name/$file_name\" has not been copied.\");\n        next;\n    }\n    #\n    # If the name matches, make sure it's a file\n    #\n    if ( not -f $file ) {\n        warn qq(\"$file\" is not a file and wasn't copied.\");\n        next\n    }\n    #\n    # Now make sure file name is unique\n    #\n    if ( -f DIRECTORY . \"/$file_name\" ) {         # File name already exists\n        say qq(DEBUG: Duplicate File '$file_name' detected!);\n        my $dup_file_counter = 2;\n        ( my $file_no_suffix = $file_name ) =~ s/\\.txt$//;\n        #\n        # Find a non-matching name\n        #\n        for (;;) {\n            my $new_file_name = $file_no_suffix . \"_part_$dup_file_counter.txt\";\n            say \"DEBUG: New file name '$new_file_name'\";\n            say qq(DEBUG: if ( not -e @{[DIRECTORY]} . \"/$new_file_name\" ) { );\n            if ( not -e DIRECTORY . \"/$new_file_name\" ) {\n                $file_name = $new_file_name;\n                last;\n            }\n            else {\n                $dup_file_counter += 1;\n            }\n        }\n    }\n\n\n    if ( not copy $file, DIRECTORY . \"/$file_name\" ) { # Check the outcome of this command.\n        warn qq(Could not copy file \"$file\" to directory \") . DIRECTORY . qq(\".);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1699, "favorite_count": 0, "closed_date": 1429261811, "accepted_answer_id": 29629759, "answer_count": 2, "score": 1, "last_activity_date": 1429026975, "creation_date": 1429010270, "question_id": 29625968, "link": "https://stackoverflow.com/questions/29625968/perl-search-for-files-and-rename-them-while-copying-to-different-directory", "closed_reason": "Duplicate", "title": "Perl search for files and rename them while copying to different directory", "body": "<p>I'm trying following code to search for .txt files and rename them while copying it to different directory.</p>\n\n<pre><code>#!/bin/perl\nuse File::Basename;\n@txtfiles = &lt;*/*.txt&gt;;\nforeach my $file(@textfiles){\n    $dir = dirname($file);\n    $file = basename($file);\n    $file =~ s/(\\d+)/$dir/; //renaming number with $dir\n`mkdir -p summary` unless -d summary;\n`cp $file summary`;\n}\n</code></pre>\n\n<p>Above code gives error saying no such file to copy however print statement at each line shows correctly (renamed file names) </p>\n"}, {"tags": ["arrays", "perl", "csv"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429008222, "post_id": 29624064, "comment_id": 47393837, "body": "It would help everybody to read your code if you laid it out more neatly. I have done it for you this time. In the future please try to post something nicer"}, {"owner": {"reputation": 9, "user_id": 4738411, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XXHo1wIwQsw/AAAAAAAAAAI/AAAAAAAAAJU/N9HjCBXy6fA/photo.jpg?sz=128", "display_name": "milcah", "link": "https://stackoverflow.com/users/4738411/milcah"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429094441, "post_id": 29624064, "comment_id": 47436003, "body": "Hi Borodin, My apology, am just learning Perl and i have little experience in programming so i know the script is rusty, but i will improve. Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1429005083, "creation_date": 1429005083, "answer_id": 29624238, "question_id": 29624064, "link": "https://stackoverflow.com/questions/29624064/perl-script-editing-a-csv-file/29624238#29624238", "title": "Perl script editing a CSV file", "body": "<p>Define <code>@features</code> before the while loop:</p>\n\n<pre><code>my @features;\nwhile (my $lines = &lt;$fh&gt; ) {\n    chomp $lines;\n    @features = split (',', $lines);\n    print \"$lines \\n\";\n\n    for(my $x=1; $x &lt;=1371 ; $x++){\n        print $x .\":\".$features[$x-1];\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2139, "user_id": 553766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8489617c16330b18bb4f15cadb26275a?s=128&d=identicon&r=PG", "display_name": "SAN", "link": "https://stackoverflow.com/users/553766/san"}, "is_accepted": false, "score": -1, "last_activity_date": 1429005205, "last_edit_date": 1495541662, "creation_date": 1429005205, "answer_id": 29624278, "question_id": 29624064, "link": "https://stackoverflow.com/questions/29624064/perl-script-editing-a-csv-file/29624278#29624278", "title": "Perl script editing a CSV file", "body": "<p>You have declared @features array within while block using \"my\" which makes it available only within the block. Declare it before while.\nTo know more about scope in perl, read</p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=66677\" rel=\"nofollow noreferrer\">Variable Scoping in Perl: the basics</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/845060/what-is-the-difference-between-my-and-our-in-perl\">what-is-the-difference-between-my-and-our-in-perl</a></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429008567, "creation_date": 1429008567, "answer_id": 29625444, "question_id": 29624064, "link": "https://stackoverflow.com/questions/29624064/perl-script-editing-a-csv-file/29625444#29625444", "title": "Perl script editing a CSV file", "body": "<p>This can be done neatly with <code>split</code>, <code>map</code> and <code>join</code>, like this.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nwhile ( &lt;&gt; ) {\n  my @fields = split /\\s*,\\s*/;\n  print join ' ', map \"$_:$fields[$_-1]\", 1 .. @fields;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>1:1.34 2:7.56 3:4.57 4:6.7 5:4.9 6:3.4 7:5.7 8:5.4 9:........\n</code></pre>\n\n<p>The program expects the path to the input file as a parameter on the command line, like this</p>\n\n<pre><code>./count_fields.pl input.csv\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4738411, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XXHo1wIwQsw/AAAAAAAAAAI/AAAAAAAAAJU/N9HjCBXy6fA/photo.jpg?sz=128", "display_name": "milcah", "link": "https://stackoverflow.com/users/4738411/milcah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1429008567, "creation_date": 1429004565, "last_edit_date": 1429008182, "question_id": 29624064, "link": "https://stackoverflow.com/questions/29624064/perl-script-editing-a-csv-file", "title": "Perl script editing a CSV file", "body": "<p>I have a CSV input file (input.csv) with numbers looking like:</p>\n\n<pre><code>1.34,7.56,4.57,6.7,4.9, 3.4,5.7,5.4,........\n</code></pre>\n\n<p>I want to edit the file and insert numbers and a colon between fields like;</p>\n\n<pre><code>1:1.34 2:7.56 3:4.57 4:6.7 5:4.9 6:3.4 7:5.7 8:5.4..........\n</code></pre>\n\n<p>Here is my script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n#Opening the CSV file\n\nmy $csv_file = \"input.csv\";\n\nopen (my $fh, \"&lt;\", $csv_file) or die \"Cannot open '$csv_file': $! \";\n\n#parsing\n\nwhile (my $lines = &lt;$fh&gt; ) {\n\n  chomp $lines;\n\n  my @features = split (',', $lines);\n  print \"$lines \\n\";\n} \n\n#inserting numbers\n\nfor ( my $x = 1; $x &lt;= 1371; $x++ ){\n  print $x . \":\" . $features[$x-1];\n}\n</code></pre>\n\n<p>I get an error:\n    Global symbol \"@features\" requires explicit package name at script_T.pl line 23.</p>\n"}, {"tags": ["perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1429009249, "post_id": 29623924, "comment_id": 47394462, "body": "Now if I have my script as :#!/usr/bin/perl  use IO::File;  print &quot;Hello World!\\n&quot;; print &quot;Hello World!\\n&quot;; print &quot;Hello Stack!\\n&quot;;   perl ... | grep -v &quot;Hello Stack!&quot;;      then it gives the error as &quot;String found where operator expected at clearscript.pl line 15, near &quot;v &quot;Hello Stack!&quot;&quot;         (Do you need to predeclare v?)&quot;"}, {"owner": {"reputation": 526, "user_id": 4769749, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w5NI690rl3c/AAAAAAAAAAI/AAAAAAAAAC8/xJ0z4YsWlqY/photo.jpg?sz=128", "display_name": "Ji\u0159&#237; Kantor", "link": "https://stackoverflow.com/users/4769749/ji%c5%99%c3%ad-kantor"}, "reply_to_user": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1429011588, "post_id": 29623924, "comment_id": 47395777, "body": "I don&#39;t understand. You said you have a perl script whose output you want to process? If so, then what I&#39;ve written is a bash command, but instead of the <code>...</code> you put your actual perl file"}, {"owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1429012207, "post_id": 29623924, "comment_id": 47396151, "body": "Do you mean if my perl file is file1.pl, I should give perl file1.pl | grep -v &quot;No Job found&quot; at the end of file1.pl to filter the outptut of file1.pl before it gets printed at console?"}, {"owner": {"reputation": 526, "user_id": 4769749, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w5NI690rl3c/AAAAAAAAAAI/AAAAAAAAAC8/xJ0z4YsWlqY/photo.jpg?sz=128", "display_name": "Ji\u0159&#237; Kantor", "link": "https://stackoverflow.com/users/4769749/ji%c5%99%c3%ad-kantor"}, "reply_to_user": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1429012899, "post_id": 29623924, "comment_id": 47396546, "body": "No you should run this command when you run the file. That means you make your file1.pl any way you want and then run the file from console by <code>perl file1.pl | grep -v &quot;No Job found&quot;</code>"}], "tags": [], "owner": {"reputation": 526, "user_id": 4769749, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w5NI690rl3c/AAAAAAAAAAI/AAAAAAAAAC8/xJ0z4YsWlqY/photo.jpg?sz=128", "display_name": "Ji\u0159&#237; Kantor", "link": "https://stackoverflow.com/users/4769749/ji%c5%99%c3%ad-kantor"}, "is_accepted": false, "score": 0, "last_activity_date": 1429004508, "last_edit_date": 1429004508, "creation_date": 1429004154, "answer_id": 29623924, "question_id": 29623868, "link": "https://stackoverflow.com/questions/29623868/add-filter-within-the-perl-script-to-remove-unwanted-lines-from-the-console-outp/29623924#29623924", "title": "Add filter within the perl script to remove unwanted lines from the console/output", "body": "<p>I think <code>grep</code> is your friend in this case. Something along the lines</p>\n\n<pre><code>perl ... | grep -v \"No Job found\"\n</code></pre>\n\n<p>Will result in only lines not containing <code>No Job found</code> being printed</p>\n"}], "owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429004508, "creation_date": 1429003964, "question_id": 29623868, "link": "https://stackoverflow.com/questions/29623868/add-filter-within-the-perl-script-to-remove-unwanted-lines-from-the-console-outp", "title": "Add filter within the perl script to remove unwanted lines from the console/output", "body": "<p>Basically, I want to add the filter to the output of my perl script. This filter would chop the redundant lines matching the pattern , 'Jobs found shutdown' and would result in the clean output. Now what and where should I use grep or sed to implement this approach?? And this filter should be the part of the script which would help in getting the clean output.</p>\n\n<p>I am planning to use below sed command to match the lines and remove them from the console output. But need help in implementation\nhave the script which has some redundant lines from the server in its output.At the end of the script , I would be running the following sed command to clear the output of the script at the console.</p>\n\n<pre><code>\"sed -i '/No Job found./d' \";\n</code></pre>\n"}, {"tags": ["forms", "perl"], "comments": [{"owner": {"reputation": 32631, "user_id": 214577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IEKbS.png?s=128&g=1", "display_name": "Oldskool", "link": "https://stackoverflow.com/users/214577/oldskool"}, "edited": false, "score": 1, "creation_date": 1429003950, "post_id": 29623785, "comment_id": 47391317, "body": "The link to the form serves up a login form. That&#39;s probably not the one you mean to fill? Perhaps you could paste the form code (to a pastebin)?"}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "reply_to_user": {"reputation": 32631, "user_id": 214577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IEKbS.png?s=128&g=1", "display_name": "Oldskool", "link": "https://stackoverflow.com/users/214577/oldskool"}, "edited": false, "score": 0, "creation_date": 1429012763, "post_id": 29623785, "comment_id": 47396465, "body": "I did post a pastie of the form code, in this link &quot;... that it responds with is (<a href=\"http://pastie.org/1009143)[here]\" rel=\"nofollow noreferrer\">pastie.org/1009143)[here]</a>&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1429012936, "post_id": 29624837, "comment_id": 47396568, "body": "Sorry about the poor description.  I have elucidated: basically, the code doesn&#39;t detect any errors, but a post is not made.     Thanks for pointing out the difference between the form and the HTML: very helpful, I&#39;ll fix that up and hope that does the trick!"}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1429014990, "post_id": 29624837, "comment_id": 47397911, "body": "I&#39;ve tidied up the perl code to submit values for all the inputs you mentioned, with the exception of &#39;cancel&#39; and &#39;preview&#39; ... these are buttons, like &#39;post&#39; ... I don&#39;t think I have to supply values for them - is that right? (It just occurred to me that I might be inadvertently supplying a &#39;cancel&#39; response - how would I avoid that!?).   Any clues about what values should be provided for checkboxes - is it either 0 or 1, or empty or 1, or something else?  Thanks again!"}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1429016574, "post_id": 29624837, "comment_id": 47399020, "body": "I found out <a href=\"http://stackoverflow.com/questions/15603561/how-can-i-debug-a-http-post-in-chrome\">how to see what the form is submitting</a>, and updated the code to match this.   It still doesn&#39;t work though.   It occured to me to print the response to the submission.  I get &quot;200 OK&quot; but a body text that says &quot;formum.php: failed to submit lead&quot;.    Given that all my post parameters now match, what else could be causing the forum to see my post differently to a manual one?"}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1429017558, "post_id": 29624837, "comment_id": 47399737, "body": "Sorry for the multiple responses - I have updated the question with all the good new information I found since you set me off in a useful direction."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429006813, "creation_date": 1429006813, "answer_id": 29624837, "question_id": 29623785, "link": "https://stackoverflow.com/questions/29623785/old-perl-form-filler-iner-stopped-working-cant-see-why/29624837#29624837", "title": "Old perl form filler-iner stopped working - can&#39;t see why", "body": "<p>All you say about the symptoms is <em>\" Just recently, it stopped working\"</em> and <em>\" It reports that it succeeds, but it doesn't\"</em>. Problem descriptions like that are surprisingly common but, as I hope you can imagine, of no use at all as a aid to solving the problem.</p>\n\n<p>What actually <em>is</em> happening? Is the message simply not being sent? What led you to believe that the problem is in this Perl code?</p>\n\n<p>Without the working system to test with it is very difficult to say anything useful, but I have compared the HTTP POST message with the actual fields in the HTML and they don't match too well</p>\n\n<ul>\n<li><p>The Perl code is sending values for <code>bbcode</code> and <code>tabs</code> which don't exist as inputs in the HTML form</p></li>\n<li><p>The form has inputs <code>cancel</code>, <code>convert_urls</code>,  <code>parse_smilies</code>,  <code>preview</code>,  <code>rpx_share</code>,  <code>stay_in_topic</code>, and <code>subscribe</code> which <em>aren't</em> being sent by the software</p></li>\n</ul>\n\n<p>Most HTML form handlers are fairly robust, and will simply use default values for missing inputs and ignore extraneous values. But I can believe that, amongst so many differences, there is one that is upsetting the site software enough to prevent the message from being sent</p>\n"}], "owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429017496, "creation_date": 1429003714, "last_edit_date": 1429017496, "question_id": 29623785, "link": "https://stackoverflow.com/questions/29623785/old-perl-form-filler-iner-stopped-working-cant-see-why", "title": "Old perl form filler-iner stopped working - can&#39;t see why", "body": "<p>I have a website that is supposed to post a report from time to time to a Yuku forum.</p>\n\n<p>The code has been working for really a long time (5 years or more).   Just recently, it stopped working.   </p>\n\n<p>Stops working as in.... no errors are reported, but the report isn't posted.</p>\n\n<p>It looks like the forum's form page must have changed in some way that my submission is no longer valid.</p>\n\n<p>The form that it is trying to fill in is this one:</p>\n\n<p><a href=\"http://webandofbrothers.yuku.com/forum/newtopic/id/2\" rel=\"nofollow\">http://webandofbrothers.yuku.com/forum/newtopic/id/2</a></p>\n\n<p>... the form response from this URL (for a logged in user) is pasted <a href=\"http://pastie.org/10091434\" rel=\"nofollow\" title=\"here\">here</a></p>\n\n<p>The code that's doing the post is appended.   It reports that it succeeds, but it doesn't - nothing happens (no post is made).</p>\n\n<p>The request that it posts is this:</p>\n\n<pre><code>POST http://webandofbrothers.yuku.com/forum/post\nContent-Length: 160\nContent-Type: application/x-www-form-urlencoded\n\nidentity=2356541&amp;posticon=0&amp;title=IfYouSeeThisItsGood&amp;sig_id=sig_id&amp;topic=2&amp;id=2&amp;convert_urls=1&amp;parse_smilies=1&amp;cancel_url=%2Fforums%2F2&amp;post=Post&amp;body=blahblah\n</code></pre>\n\n<p>as reported by</p>\n\n<pre><code> print $cgi-&gt;pre($request-&gt;as_string);\n</code></pre>\n\n<p>This seems to compare well with what Chrome \"inspect element\" says is submitted when I submit the form manually:</p>\n\n<pre><code>identity=2356541&amp;posticon=0&amp;title=More+testing%2C+nothing+to+see+here&amp;body=More+testing&amp;sig_id=sig_id&amp;convert_urls=1&amp;parse_smilies=1&amp;topic=2&amp;id=2&amp;cancel_url=%2Fforums%2F2&amp;post=Post\n</code></pre>\n\n<p>I can't see either what could be making the form unhappy about the submission, nor why it reports as \"no error\".</p>\n\n<p>Note that the user agent definitely succeeds logging in (as far as all tests I've done show), and the logged in user can definitely post (permissions-wise) - I've tested that manually.</p>\n\n<p>What I have found, by printing the response even if it's not supposedly an error, is that the response contains this:</p>\n\n<pre><code>HTTP/1.1 200 OK\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nConnection: close\nDate: Tue, 14 Apr 2015 13:06:12 GMT\nPragma: no-cache\nServer: Apache\nVary: Accept-Encoding\nContent-Length: 32\nContent-Type: text/html; charset=UTF-8\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nClient-Date: Tue, 14 Apr 2015 13:06:11 GMT\nClient-Peer: 209.132.196.103:80\nClient-Response-Num: 1\nSet-Cookie: crwg_rsid=1045; path=/;\n\nforum.php: failed to insert lead\n</code></pre>\n\n<p>So for some reason my POST sent by perl is not the same as the manual form POSTing, but I can't figure out why...</p>\n\n<pre><code>    my $ua = LWP::UserAgent-&gt;new;\n\n\n    $ua-&gt;cookie_jar({ file =&gt; \"./.cookies.txt\" });\n\n    my $loggedIn = LogInToEZBoard($ua);\n\n    if (!$loggedIn)\n    {\n        print $cgi-&gt;p(\"URK ... looks like I couldn't log into Yuku to post your AAR\");\n        return;\n    }\n\n    # post the message\n\n    # This is the AAR forum POST URL:\n    my $formAddTopicURL = 'http://webandofbrothers.yuku.com/forum/post';\n\n    # First we have to ask for a new topic page, so we can grok our yuku \"identity\"\n    # ... so let's find that...\n\n    my $response;\n\n    $response = $ua-&gt;get(\"http://webandofbrothers.yuku.com/forum/newtopic/id/2\");\n\n    # Now we will parse this response to find the idenity...\n\n    # first, here is the parser...\n\n    my $p = HTML::Parser-&gt;new(api_version =&gt; 3,\n                              marked_sections =&gt; 1,\n        );\n\n    # and here is the variable where we will place the final answer we're looking for...\n    my $yukuIdentity = 0;\n\n    # Now, set up a start tag handler that will extract the final value that we're looking for\n    # from an option tag ... this handler will be installed when we're in the correct select tag...\n    # When this anonymous routine is called, during $p-&gt;parse (below)\n    # closure ensures that  $yukuIdentityRef will be pointing at the right place to let us update\n    # $yukuIdentity and bail out from parsing\n\n    my $yukuIdentityRef = \\$yukuIdentity;\n\n    my $extractIdentity = sub\n    {\n        my ($tag, $attrs, $self) = @_;\n        if (($tag eq \"option\") &amp;&amp;\n            ($attrs-&gt;{'value'}))\n        {\n            print $cgi-&gt;pre(\"Got identity $attrs-&gt;{'value'}\");\n            $$yukuIdentityRef = $attrs-&gt;{'value'};\n            $self-&gt;eof();\n        }\n        else\n        {\n            print $cgi-pre(\"not what we're looking for $tag \" . keys(%$attrs));\n        }\n    };\n\n    # Now here is a start tag handler to find the correct select tag...\n    # ... if we hit the identity select tag then we go looking for the identity.\n    my $findIdentitySelect = sub\n    {\n        my ($tag, $attrs, $self) = @_;\n        if (($tag eq \"select\") &amp;&amp;\n            ($attrs-&gt;{'name'}) &amp;&amp;\n            ($attrs-&gt;{'name'} eq 'identity'))\n        {\n            print $cgi-&gt;pre(\"Now in identity select...\");\n            $self-&gt;handler(start =&gt; $extractIdentity, \"tagname,attr,self\");\n        }\n        else\n        {\n            print $cgi-&gt;pre(\"Not what we're looking for: $tag\");\n        }\n    };\n\n    # Now we have handlers, load them up and away we go...\n\n    $p-&gt;handler(start =&gt; $findIdentitySelect, 'tagname,attr,self');\n\n    $p-&gt;parse($response-&gt;content);\n\n    # tada.  By the time we get here, $yukuIdentity ought to be set!\n\n    if (!$yukuIdentity)\n    {\n        die \"Hmmm - bit of a problem, wasn't able to understand Yuku's post form.  Better let GaJ know...\\n\";\n    }\n\n    print $cgi-&gt;pre(\"Ok, my ID is $yukuIdentity, sending request...\");\n\n    # So at last we can post our AAR...\n\n\nmy $request = POST $formAddTopicURL,\n    [identity =&gt; $yukuIdentity,\n     posticon =&gt; '0',#,$postIcon, # 7 = smile\n     title =&gt; \"IfYouSeeThisItsGood\", #\"$gameType $update: $axisPlayer vs $alliedPlayer in $scenarioName\",\n     sig_id =&gt; 'sig_id',\n     topic =&gt; '2',\n     id =&gt; '2',\n     convert_urls =&gt; '1',\n     parse_smilies =&gt; '1',\n     cancel_url =&gt; '/forums/2',\n     post =&gt; \"Post\",\n     body =&gt; $aarBody];\n\n\nprint $cgi-&gt;pre($request-&gt;as_string);\n\neval\n{\n    $response = $ua-&gt;request($request);\n};\n\nif ($@)\n{\n    print $cgi-&gt;p(\"Oh-oh: something went wrong sending the request to post the AAR to yuku....\");\n    print $cgi-&gt;pre($@);\n}\nelse\n{\n    if (!$response-&gt;is_error)\n    {\n        print $cgi-&gt;p(\"...looks like it posted OK... the response was:\");\n    }\n    else\n    {\n        print $cgi-&gt;p(\"Oh no - yuku didn't like the post requset I sent.  It said:\");\n    }\n    print $cgi-&gt;pre($response-&gt;status_line);\n\n    print $cgi-&gt;pre($response-&gt;as_string);\n\n} \n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 1, "last_activity_date": 1429004185, "last_edit_date": 1429004185, "creation_date": 1429003369, "answer_id": 29623674, "question_id": 29623314, "link": "https://stackoverflow.com/questions/29623314/match-backslash-followed-by-escape-character/29623674#29623674", "title": "Match backslash followed by escape character", "body": "<p>The reason is the following:</p>\n\n<pre><code>q{\\\\\\t}\n</code></pre>\n\n<p>is </p>\n\n<pre><code>\"\\\\\\\\t\" \n</code></pre>\n\n<p>which is 3 characters, 2 backslashes followed by a 't'</p>\n\n<p>Your regular expression #5 matches an arbritray number of pairs of characters (a \\ followed by another \\ or a &lt; tabulator >)</p>\n\n<p>changing this to </p>\n\n<pre><code>[q{\\\\\\t},  qr/(\\\\[\\\\\\t]*)*/],    #not ok\n</code></pre>\n\n<p>would still be not ok,</p>\n\n<p>but </p>\n\n<pre><code>[q{\\\\\\t},  qr/(\\\\[\\\\t]*)*/],    #ok\n</code></pre>\n\n<p>would work.</p>\n\n<p>HTH\nGeorg</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1429006682, "post_id": 29623937, "comment_id": 47392932, "body": "Thanks for the nice clarification! There are at least two things that I missed. First, a double backslash within <code>q</code> counts as a single backslash. So the the seven chraracter argument to <code>q{\\\\\\\\\\\\t}</code>, becomes a 4 character length string. The second thing was that, as you pointed out, <code>\\t</code> becomes <code>\\x09</code> inside <code>qr</code>. So what I meant to do for test #5 was probably <code>[q{\\\\\\\\\\\\t},  qr&#47;(\\\\[t\\\\])*&#47;]</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1429007435, "post_id": 29623937, "comment_id": 47393390, "body": "@H&#229;konH&#230;gland: It sounds like you&#39;ve grasped it. Many don&#39;t realise that, within single quotes, <i>single</i> backslashes are retained and don&#39;t need doubling up. That means Windows paths like <code>&#39;C:\\Windows\\System32\\drivers&#39;</code> is fine. The only problem comes when you need a trailing backslash which <i>does</i> have to be escaped, or a UNC path like <code>\\\\SERVER\\backup\\20150415</code> has to be expressed as <code>&#39;\\\\\\\\SERVER\\backup\\20150415&#39;</code>. (Actually only three backslashes at the start are necessary there, but four seems better.)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1429004205, "creation_date": 1429004205, "answer_id": 29623937, "question_id": 29623314, "link": "https://stackoverflow.com/questions/29623314/match-backslash-followed-by-escape-character/29623937#29623937", "title": "Match backslash followed by escape character", "body": "<p>Item 5 is</p>\n\n<pre><code>q{\\\\\\t} =~ qr/(\\\\[\\\\\\t])*/\n</code></pre>\n\n<p><code>q{\\\\\\t}</code>, which is equivalent to <code>'\\\\\\t'</code>. Within a single-quoted string there is no need to escape anything except</p>\n\n<ul>\n<li>the delimiter character</li>\n<li>a backslash immediately before the closing delimiter or another backslash</li>\n</ul>\n\n<p>also, any occurrence of two backslashes together is taken as an escaped backslash.</p>\n\n<p>So <code>'\\\\\\t'</code> is a three-character string containing <code>\\</code> <code>\\</code> <code>t</code>.</p>\n\n<p>The contents of <code>qr//</code> behaves as double-quote context, so <em>all</em> backslashes need to be escaped, and may modify the following character.</p>\n\n<p><code>\"(\\\\[\\\\\\t])*\"</code> is the eight-character string consisting of <code>(</code> <code>\\</code> <code>[</code> <code>\\</code> <code>\\t</code> <code>]</code> <code>)</code> <code>*</code> where <code>\\t</code> is <code>\"\\x09\"</code> - the tab character. So your pattern will match a string that consists of a backslash followed by a tab or a backslash, all repeated zero or more times. There are only backslashes and a <code>t</code> in the string so it cannot match.</p>\n\n<p>I hope that helps. The bottom line is that there are no escape sequences inside single quotes except to protect the backslash and the delimiter, and <code>'\\t'</code> means exactly <em>backslash, small letter t</em></p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 29623937, "answer_count": 2, "score": 2, "last_activity_date": 1429004205, "creation_date": 1429002337, "question_id": 29623314, "link": "https://stackoverflow.com/questions/29623314/match-backslash-followed-by-escape-character", "title": "Match backslash followed by escape character", "body": "<p>I am trying to match a backslash followed by an escape character like <code>t</code>, <code>n</code>, <code>r</code>, or <code>\\</code>.. like in a JSON string. To simplify, only consider <code>\\t</code> and <code>\\\\</code>.. For example:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse Data::Dump qw(dump);\n\nmy @data = (\n    [q{\\t},    qr/\\\\t/],            #ok\n    [\"\\\\\",     qr/\\\\/],             #ok\n    [\"\\\\\",     qr/[\\\\]/],           #ok\n    [\"\\t\",     qr/\\t/],             #ok\n    [\"\\t\",     qr/[\\t]/],           #ok\n    [q{\\\\\\t},  qr/(\\\\[\\\\\\t])*/],    #not ok\n    [q{\\\\\\t},  qr/(\\\\\\\\[\\\\\\\\t])*/ ],#ok\n);\n\nfor my $i (0..$#data) {\n    my ($str, $regex) = @{$data[$i]};\n    my $match_result = ($str =~ /^$regex$/) ? \"ok\" : \"not ok\";\n    say(\n        \"$i : \"\n         . dump( $str )\n         . ' =~ '\n         . dump( $regex )\n         . ' : '\n         . $match_result\n     );\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0 : \"\\\\t\" =~ qr/\\\\t/ : ok\n1 : \"\\\\\" =~ qr/\\\\/ : ok\n2 : \"\\\\\" =~ qr/[\\\\]/ : ok\n3 : \"\\t\" =~ qr/\\t/ : ok\n4 : \"\\t\" =~ qr/[\\t]/ : ok\n5 : \"\\\\\\\\t\" =~ qr/(\\\\[\\\\\\t])*/ : not ok\n6 : \"\\\\\\\\t\" =~ qr/(\\\\\\\\[\\\\\\\\t])*/ : ok\n</code></pre>\n\n<p>The question is, why does test #5 fail. I would think that it would be the correct regex to use..What am I missing here?</p>\n"}, {"tags": ["perl", "perl-module", "dbi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428999417, "post_id": 29621699, "comment_id": 47388474, "body": "Please fix your data source name: it should start with <code>DBI:</code>. It looks like there&#39;s something wrong with the installation of your <code>DBD::mysql</code> driver module. Try adding <code>use DBD::mysql</code> beneath <code>use DBI</code> and see what error that gives you"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428999599, "post_id": 29622280, "comment_id": 47388579, "body": "A missing driver module would result in the usual <code>Can&#39;t locate DBD&#47;mysql.pm in @INC</code>. The OP is getting <code>Compilation failed in require</code>, which means the file is there but contains an error"}, {"owner": {"reputation": 175, "user_id": 1406679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1OHaa.jpg?s=128&g=1", "display_name": "shakAttack", "link": "https://stackoverflow.com/users/1406679/shakattack"}, "edited": false, "score": 0, "creation_date": 1429028075, "post_id": 29622280, "comment_id": 47407230, "body": "I had mentioned in my question that i have dbd::mysql version 4.022, so it is there."}], "tags": [], "owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "is_accepted": false, "score": -2, "last_activity_date": 1428999237, "creation_date": 1428999237, "answer_id": 29622280, "question_id": 29621699, "link": "https://stackoverflow.com/questions/29621699/using-dbi-causes-module-file-compilation-error/29622280#29622280", "title": "using DBI causes module file compilation Error", "body": "<p>The data source must be \"<code>DBI:mysql:database=my_database</code>\", where you pass the kind and the name of your database. </p>\n\n<p>The error occurs because the database driver module <code>DBD::mysql</code> must be installed. Inquire with your hoster whether that module is installed or whether you can install it yourself.</p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 1406679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1OHaa.jpg?s=128&g=1", "display_name": "shakAttack", "link": "https://stackoverflow.com/users/1406679/shakattack"}, "is_accepted": true, "score": 0, "last_activity_date": 1429472233, "creation_date": 1429472233, "answer_id": 29734871, "question_id": 29621699, "link": "https://stackoverflow.com/questions/29621699/using-dbi-causes-module-file-compilation-error/29734871#29734871", "title": "using DBI causes module file compilation Error", "body": "<p>I wanted to create a dbi handle which could be used by the subs of that module but i was getting error before i could use that(as i mentioned in the question).\nMay be it is a security feature of modules, Apprently i can only use dbi in the sub form,</p>\n\n<blockquote>\n  <p>use DBI;<br/>\n  sub databaseHandle{<br/>\n  my $username = \"username\";<br/>\n  my $password = \"password\";<br/>\n  my $dsn = \"DBI:mysql:database\";<br/>\n  my $dbh = DBI->connect($dsn, $username, $password ) or die $DBI::errstr;<br/>\n  return $dbh   }<br/>\n  my $dbh = databaseHandle();</p>\n</blockquote>\n\n<p>i dont know the particular reason but this is how i am using it.\nThanks for all the help and idea.</p>\n"}], "owner": {"reputation": 175, "user_id": 1406679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1OHaa.jpg?s=128&g=1", "display_name": "shakAttack", "link": "https://stackoverflow.com/users/1406679/shakattack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 29734871, "answer_count": 2, "score": 0, "last_activity_date": 1429472233, "creation_date": 1428997204, "last_edit_date": 1428997703, "question_id": 29621699, "link": "https://stackoverflow.com/questions/29621699/using-dbi-causes-module-file-compilation-error", "title": "using DBI causes module file compilation Error", "body": "<ul>\n<li>perl version is 5.8.8</li>\n<li>mysql version is 5.5.42</li>\n<li>DBI version is 1.633 and DBD::mysql version is 4.022</li>\n</ul>\n\n<p>I am on shared hosting server.\ni have a perl module file  which works fine. i can use its subs with no problem from a perl script file. if i add this to pm file, </p>\n\n<pre><code>use DBI;\nmy $username = \"username\";\nmy $password = \"password\";\nmy $dsn = \"DBD:mysql:database\"; # i changed DBD to DBI as well but no good\n</code></pre>\n\n<p>still everything works fine.\nbut as soon I add the following line to perl module file, the perl script file starts complaining \"<i><b>Compilation failed in require\"</b></i></p>\n\n<pre><code>my $dbh = DBI-&gt;connect($dsn, $username, $password ) or die $DBI::errstr;\n</code></pre>\n\n<p>I tried googling it but no result. Any idea?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1428993872, "post_id": 29620789, "comment_id": 47385600, "body": "Add your code please."}, {"owner": {"reputation": 2497, "user_id": 2749470, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/UdiX6.jpg?s=128&g=1", "display_name": "Bhargav Modi", "link": "https://stackoverflow.com/users/2749470/bhargav-modi"}, "edited": false, "score": 0, "creation_date": 1428993901, "post_id": 29620789, "comment_id": 47385613, "body": "waiting for @Avinash Raj to answer it :)"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1428993950, "post_id": 29620789, "comment_id": 47385637, "body": "Why don&#39;t you simply use <code>!~</code> instead of <code>~</code> as the regex application operator?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 2497, "user_id": 2749470, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/UdiX6.jpg?s=128&g=1", "display_name": "Bhargav Modi", "link": "https://stackoverflow.com/users/2749470/bhargav-modi"}, "edited": false, "score": 0, "creation_date": 1428993973, "post_id": 29620789, "comment_id": 47385650, "body": "@BhargavModi question is unclear for me. I think he wants this <code>^(?!ABC.*\\.DAT$).*\\.DAT$</code>"}, {"owner": {"reputation": 15, "user_id": 4785941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6a6f1cacf4f3b4e26a7683681ea36e?s=128&d=identicon&r=PG&f=1", "display_name": "maverick_27", "link": "https://stackoverflow.com/users/4785941/maverick-27"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1428994168, "post_id": 29620789, "comment_id": 47385743, "body": "@AvinashRaj I meant I don&#39;t want to match any files matched by &#39;(ABC.*\\.DAT)&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 15, "user_id": 4785941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6a6f1cacf4f3b4e26a7683681ea36e?s=128&d=identicon&r=PG&f=1", "display_name": "maverick_27", "link": "https://stackoverflow.com/users/4785941/maverick-27"}, "edited": false, "score": 0, "creation_date": 1428994768, "post_id": 29620823, "comment_id": 47386050, "body": "@maverick_27 did you want to allow <code>ABC</code> at the middle?"}, {"owner": {"reputation": 15, "user_id": 4785941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6a6f1cacf4f3b4e26a7683681ea36e?s=128&d=identicon&r=PG&f=1", "display_name": "maverick_27", "link": "https://stackoverflow.com/users/4785941/maverick-27"}, "edited": false, "score": 0, "creation_date": 1428994884, "post_id": 29620823, "comment_id": 47386114, "body": "Nope..it shouldn&#39;t allow the pattern ABC in the filename.... I tested that too..."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 15, "user_id": 4785941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6a6f1cacf4f3b4e26a7683681ea36e?s=128&d=identicon&r=PG&f=1", "display_name": "maverick_27", "link": "https://stackoverflow.com/users/4785941/maverick-27"}, "edited": false, "score": 0, "creation_date": 1428995038, "post_id": 29620823, "comment_id": 47386180, "body": "@maverick_27 <code>^(?!.*ABC).*\\.DAT$</code>"}, {"owner": {"reputation": 15, "user_id": 4785941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6a6f1cacf4f3b4e26a7683681ea36e?s=128&d=identicon&r=PG&f=1", "display_name": "maverick_27", "link": "https://stackoverflow.com/users/4785941/maverick-27"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1428995589, "post_id": 29620823, "comment_id": 47386467, "body": "@AvinashRaj will test that and get back to you"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 1, "last_activity_date": 1429030134, "last_edit_date": 1429030134, "creation_date": 1428993966, "answer_id": 29620823, "question_id": 29620789, "link": "https://stackoverflow.com/questions/29620789/perl-regex-negation-issue/29620823#29620823", "title": "PERL Regex Negation Issue", "body": "<pre><code>(?s:(?!ABC).)*\\.DAT\n</code></pre>\n\n<p>You can try this negation based regex. See <a href=\"https://regex101.com/r/sJ9gM7/107\" rel=\"nofollow\">demo</a>.</p>\n\n<p>The above can be safely embedded into a larger pattern. For example,</p>\n\n<pre><code>/^(?:(?!ABC).)*\\.DAT\\z/s\n</code></pre>\n\n<p>If you are trying to match the whole input, and if <code>ABC</code> doesn't end with <code>.</code>, <code>.D</code>, <code>.DA</code> or <code>.DAT</code>, then the following will be faster:</p>\n\n<pre><code>/^(?!.*ABC)\\.DAT\\z/s\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4785941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6a6f1cacf4f3b4e26a7683681ea36e?s=128&d=identicon&r=PG&f=1", "display_name": "maverick_27", "link": "https://stackoverflow.com/users/4785941/maverick-27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 29620823, "answer_count": 1, "score": 1, "last_activity_date": 1429030134, "creation_date": 1428993794, "last_edit_date": 1428993910, "question_id": 29620789, "link": "https://stackoverflow.com/questions/29620789/perl-regex-negation-issue", "title": "PERL Regex Negation Issue", "body": "<p>I have written a regex to pick files of the format \n<code>(ABC.*\\.DAT)</code> in perl.</p>\n\n<p>How to write a negation for the above regex? </p>\n\n<p>I already tried expressions like <code>(?!ABC.*)\\.DAT</code> or <code>(?!(ABC.*\\.DAT))</code></p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428993483, "post_id": 29620127, "comment_id": 47385404, "body": "It&#39;s not clear what you&#39;re trying to do. I guess you&#39;re calculating an extinction coefficient from an absorbance and a molecular weight, but you need to have <i>both</i> of those values when you do the calculation."}, {"owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428993653, "post_id": 29620127, "comment_id": 47385493, "body": "yep. I have calculated both of those values in first two subroutines and passing them to last one."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428993794, "post_id": 29620127, "comment_id": 47385564, "body": "But you&#39;re calling the subroutine twice with one parameter at a time. That isn&#39;t going to work. You can only call <code>ext_coeff</code> when you have <i>both</i> values"}, {"owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428994010, "post_id": 29620127, "comment_id": 47385667, "body": "That is what the problem is. I&#39;m a tyro in programming. Then how can I pass two values from first two subroutines to last subroutines?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "edited": false, "score": 0, "creation_date": 1429001237, "post_id": 29622741, "comment_id": 47389579, "body": "Use of uniinitialized $wt and $abs. How can I overcome this"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "edited": false, "score": 0, "creation_date": 1429001747, "post_id": 29622741, "comment_id": 47389924, "body": "@VenuThatikonda: Test if they are defined defined before using them."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1429000641, "creation_date": 1429000641, "answer_id": 29622741, "question_id": 29620127, "link": "https://stackoverflow.com/questions/29620127/pass-value-from-two-different-subroutines-to-a-new-subroutine-perl/29622741#29622741", "title": "pass value from two different subroutines to a new subroutine: Perl", "body": "<p>Use an anomymous hash:</p>\n\n<pre><code>sub mol_wt{\n    ...\n    ext_coeff({molWt =&gt; $molWt});\n}\n\nsub absorbance{\n    ...\n    ext_coeff({absorbance =&gt; $absorbance});\n}\n\nsub ext_coeff{\n    my $params = shift;\n    ...\n    my $wt  = $params-&gt;{molWt};\n    my $abs = $params-&gt;{absorbance};\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1429000641, "creation_date": 1428991121, "last_edit_date": 1428993480, "question_id": 29620127, "link": "https://stackoverflow.com/questions/29620127/pass-value-from-two-different-subroutines-to-a-new-subroutine-perl", "title": "pass value from two different subroutines to a new subroutine: Perl", "body": "<p>I'm facing a problem with passing values from two different subroutines to another subroutines. I've seen some posts where people suggested removing <code>use strict; use warnings</code> but I know it's not a good practice, even more I need to face many problems if I did. What I want to do is </p>\n\n<pre><code>sub mol_wt{\n\n         ...\n\n         ...\n    &amp;ext_coeff($molWt);\n\n}\n\nsub absorbance{\n\n      .....\n\n      .....\n\n      &amp;ext_coeff($absorbance);\n\n}\n\nsub ext_coeff{\n\n      my($wt, $abs) = @_;\n\n}\n</code></pre>\n\n<p>Last subroutine is receiving only one value. How can I pass values from first two subroutines to last one?</p>\n"}, {"tags": ["perl", "rrdtool", "rrd"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429022040, "post_id": 29617650, "comment_id": 47403027, "body": "Please show the code that updates your rrd file."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 3866867, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/512910846/picture?type=large", "display_name": "Jed Tan", "link": "https://stackoverflow.com/users/3866867/jed-tan"}, "edited": false, "score": 0, "creation_date": 1429573342, "post_id": 29662191, "comment_id": 47652789, "body": "To clarify, if you look above, the values in the RRA are empty, not zero. Sorry for the confusion. If you look above, you can look at a recent status report for the rrd file."}, {"owner": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "reply_to_user": {"reputation": 19, "user_id": 3866867, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/512910846/picture?type=large", "display_name": "Jed Tan", "link": "https://stackoverflow.com/users/3866867/jed-tan"}, "edited": false, "score": 0, "creation_date": 1429654188, "post_id": 29662191, "comment_id": 47697951, "body": "In that case, since your RRA have &#39;Unknown&#39;, I&#39;d suggest you check that your updates are coming within the heartbeat timeout window, and are updating with valid values, since you appear to be storing Unknowns."}], "tags": [], "owner": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "is_accepted": false, "score": 0, "last_activity_date": 1429137681, "creation_date": 1429137681, "answer_id": 29662191, "question_id": 29617650, "link": "https://stackoverflow.com/questions/29617650/rrdtool-value-graph-empty/29662191#29662191", "title": "RRDTool Value, Graph Empty", "body": "<p>If the value in the RRA are zero (as opposed to Unknown) then this means that you are storing zeros in the DS.</p>\n\n<p>If you have a DS Type of 'counter' or 'derive', when the actual data is of type 'gauge', then you ned up storing zeros.  However in your case, your DS are of GAUGE type, so this is not the case.</p>\n\n<p>If you try to store a value outside the min/max for a DS, then it will store an Unknown.  Similarly, if you leave too longe between updates and the heartbeat expires, then it will also store Unknown.</p>\n\n<p>While your graphing function may be set to display Unknowns as zero, resulting in an empty graph, you tell us that you have no Unknown datapoints, and the values in the RRA are actually zero.  Therefore, you must be accidentally setting zeros.</p>\n\n<p>You should examine your update code, and possibly log the values being written or the rrdupdate command line to a separate debug text file.  You will probably find that you are updating with zero, or are using incorrect syntax for the rrdupdate resulting in a zero update.</p>\n"}], "owner": {"reputation": 19, "user_id": 3866867, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/512910846/picture?type=large", "display_name": "Jed Tan", "link": "https://stackoverflow.com/users/3866867/jed-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429137681, "creation_date": 1428974563, "question_id": 29617650, "link": "https://stackoverflow.com/questions/29617650/rrdtool-value-graph-empty", "title": "RRDTool Value, Graph Empty", "body": "<p>I am working with a lot of rrd files, and I just noticed that some of my rrd graphs show empty graphs despite having a very recent lastupdate. I just did a rrdtool info on my rrd files, and found something interesting. In the rrd files that have empty files, their values are 0. Here is an example:</p>\n\n<pre><code>devserv161\nrra[0].rows = 100000\nds[FLUSHER_READ].minimal_heartbeat = 480\nds[WRITE].last_ds = 2030.10630219402\nrra[0].cdp_prep[1].unknown_datapoints = 0\nds[WRITE].type = GAUGE\nds[WRITE].index = 1\nrra[0].cf = AVERAGE\nds[FLUSHER_READ].unknown_sec = 15\nstep = 80\nrra[0].cdp_prep[2].unknown_datapoints = 0\nds[FLUSHER_READ].value =\nds[WRITE].max =\nrra[0].pdp_per_row = 1\nds[FLUSHER_READ].index = 2\nds[READ].type = GAUGE\nrrd_version = 0003\nrra[0].cdp_prep[1].value =\nds[READ].unknown_sec = 15\nds[WRITE].minimal_heartbeat = 480\nlast_update = 1428948095\nds[READ].min =\nheader_size = 1208\nds[READ].minimal_heartbeat = 480\nds[WRITE].unknown_sec = 15\nds[FLUSHER_READ].type = GAUGE\nds[WRITE].value =\nrra[0].cur_row = 53085\nrra[0].cdp_prep[0].unknown_datapoints = 0\nds[READ].max =\nds[FLUSHER_READ].max =\nds[FLUSHER_READ].min =\nds[READ].index = 0\nrra[0].cdp_prep[0].value =\nrra[0].xff = 0.999\nds[READ].value =\nds[WRITE].min =\nds[READ].last_ds = 1417.90542990501\nfilename = devserv161.rrd\nrra[0].cdp_prep[2].value =\nds[FLUSHER_READ].last_ds = 74.1351542318656\n</code></pre>\n\n<p>Any help as to why the .values are 0 as opposed to having a value would be greatly appreciated. New values are added around every 10 minutes.</p>\n"}, {"tags": ["perl", "function", "subroutine"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1428975123, "post_id": 29617432, "comment_id": 47380265, "body": "are these values comma separated.   services qw/ service1 service2 service3 service6 service8 /;   }"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1428976187, "post_id": 29617432, "comment_id": 47380551, "body": "It is just as I have written them. <code>qw&#47; service1 service2 service3 service6 service8 &#47;</code> is the same as <code>(&#39;service1&#39;, &#39;service2&#39;, &#39;service3&#39;, &#39;service6&#39;, &#39;service8&#39;)</code> but much nicer to type and read. You could also call your method as <code>health_check(qw&#47; ip service1 service2 &#47;)</code>"}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1428980540, "post_id": 29617432, "comment_id": 47381551, "body": "I&#39;m getting the following error. Odd number of elements in anonymous hash at Services.pm line 126"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1428983316, "post_id": 29617432, "comment_id": 47382217, "body": "That will be because if the <code>{ service =&gt; @service_name  }</code> hash you&#39;re passing to  <code>isRunning</code> and <code>start</code>. I imagine they can&#39;t handle multiple services, so you&#39;ll need to iterate over the <code>@services</code> array processing one service at a time"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1428983539, "post_id": 29617432, "comment_id": 47382284, "body": "Actually, it looks like you need to think about this some more. <code>$self</code> has only one <code>services_status</code> value, so how can it reflect the status of multiple services? I would have thought the status should be a property of a <code>Service</code> object, and each <code>ServiceManager</code> should have several <code>Service</code> objects, but I know virtually nothing about your application"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1428984054, "post_id": 29617432, "comment_id": 47382398, "body": "Instead I think you have a <code>Services</code> object that has a <code>ServiceManager</code>, which seems inside-out"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1428972802, "creation_date": 1428972802, "answer_id": 29617432, "question_id": 29617290, "link": "https://stackoverflow.com/questions/29617290/perl-passing-arrays-as-arguments/29617432#29617432", "title": "Perl : Passing Arrays as arguments", "body": "<p>You just need to check whether the array reference is defined, and default the values used if not, so you would write</p>\n\n<pre><code>sub health_check{\n  my ($self, $ip, $services)  = @_;\n\n  my @services;\n  if ( $services ) {\n    @services = @$services;\n  }\n  else {\n    @services = qw/ service1 service2 service3 service6 service8 /;\n  }\n\n  ...\n}\n</code></pre>\n\n<p>But are you sure you want to pass an array <em>reference</em>? As long as it is the <em>last</em> part of your passed parameters you can use a bare list. You would do that by just assigning an array after the <code>$ip</code> parameter, and defaulting it if it is empty, like this</p>\n\n<pre><code>sub health_check{\n  my ($self, $ip, @services)  = @_;\n\n  unless ( @services ) {\n    @services qw/ service1 service2 service3 service6 service8 /;\n  }\n\n  ...\n}\n</code></pre>\n\n<p>And you would be able to call it like this</p>\n\n<pre><code>$self-&gt;{'services_obj'}-&gt;health_check('ip', 'service1', 'service2');\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$self-&gt;{'services_obj'}-&gt;health_check('ip');\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 29617432, "answer_count": 1, "score": -1, "last_activity_date": 1428972802, "creation_date": 1428971722, "question_id": 29617290, "link": "https://stackoverflow.com/questions/29617290/perl-passing-arrays-as-arguments", "title": "Perl : Passing Arrays as arguments", "body": "<p>I have written a function  and the function call works as expected and i get the desired output when i make the function call. However I'd like to enhance it by making a couple of changes to it. For now the function takes <code>'ip'</code> and <code>'service names'</code> as arguments.</p>\n\n<p>Enhancement : 1 ) When i make the function call and if i do not pass any services as arguments, I want the function to take all the services as arguments by itself \nThere are totally 5 services. say for example service1, service2,service3,service 6,service8.(These are just sample names.it could be anything). So what is the change that i need to make to the function to ensure that if services are not passed as arguments, The function must take all the services as arguments.</p>\n\n<p>Eg Function call  :  </p>\n\n<pre><code>$self-&gt;{'status_of_services'} = $self-&gt;{'services_obj'}-&gt;health_check('ip')\n</code></pre>\n\n<p>So when the above function call is made all the function must take all the services as arguments </p>\n\n<p>Enhancement.2) user wants to pass one or two services as arguments in the function call. currently i store them in an array. like <code>@services = ('service1','service2','service3')</code> .I do not want to store them in an array.instead i want to pass the services as arguments directly like below. Any suggestions please.</p>\n\n<pre><code>eg : $self-&gt;{'status_of_services'} = $self-&gt;{'services_obj'}-&gt;health_check('ip', [service1 ,service2]);\n</code></pre>\n\n<p>Function :</p>\n\n<pre><code>sub health_check{\n\n     my ($self, $ip, @service_name)  = @_;\n\n     $self-&gt;{'health_checks_obj'}  = ServiceManager-&gt;new( ip =&gt; $ip );\n\n     $self-&gt;{'services_status'}  = $self-&gt;{'health_checks_obj'}-&gt;isRunning( {service =&gt; @service_name} );\n\n      sleep(5);\n\n     if ( not $self-&gt;{'services_status'} ) {\n         $self-&gt;{'health_checks_obj'}-&gt;start( {service =&gt; @service_name ,  timeout =&gt; '30'} );\n\n           sleep (3);\n       }\n\n    return  1 ;\n}\n</code></pre>\n\n<p>Function call :</p>\n\n<pre><code>my @services = ('service1', 'service2', 'service3','service4','service5');\n\n     $self-&gt;{'status_of_services'} = $self-&gt;{'services_obj'}-&gt;health_check('ip', @services);\n\n     INFO (' Health check result is : ' . $self-&gt;{'status_of_services'} );\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code> Health check result is : 1\n</code></pre>\n"}, {"tags": ["perl", "graphics", "imagemagick", "coordinate-systems", "bioperl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428973507, "post_id": 29616656, "comment_id": 47379867, "body": "Please stop adding your code and data as HTML / CSS / JavaScript snippets. That is meant to allow people to post a working web page with which they are having trouble. For bare blocks of Perl and data it is sufficient just to indent the code by four spaces, which will cause it to be highlighted as a code segment. You can select the lines you want to indent and press Ctrl-K to indent them if you like."}], "owner": {"reputation": 584, "user_id": 1487449, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/p2mW4.jpg?s=128&g=1", "display_name": "Cristian Velandia", "link": "https://stackoverflow.com/users/1487449/cristian-velandia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1428973248, "creation_date": 1428967232, "last_edit_date": 1428973248, "question_id": 29616656, "link": "https://stackoverflow.com/questions/29616656/which-is-the-best-option-to-plot-two-different-tracks-chromosomes-fragments-s", "title": "Which is the best option to plot two different tracks (Chromosomes, fragments, scaffolds...) with Bio::Graphics?", "body": "<p>I am working with the BioPerl module <a href=\"https://metacpan.org/pod/Bio::Graphics\" rel=\"nofollow noreferrer\"><code>Bio::Graphics</code></a> to plot some genomic coordinates. I have regions from different scaffolds or tracks that have evolutionary conserved elements, the idea is to plot the correspondent fragment with its elements in the same plot. How can I do this? </p>\n\n<p>This is my raw data: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>reftig_235  SNORD100    86265   86176   36171   136261  37251   37449   -   protein_coding.exon .   240680\nreftig_235  SNORD100    86265   86176   36171   136261  52121   51889   -   RNAzCandidate   217 240680\nreftig_235  SNORD100    86265   86176   36171   136261  37251   37449   -   protein_coding.exon .   240680\nreftig_235  SNORD100    86265   86176   36171   136261  73633   73397   -   RNAzCandidate   224 240680\nreftig_235  SNORD100    86265   86176   36171   136261  37251   37449   -   protein_coding.exon .   240680\nreftig_235  SNORD100    86265   86176   36171   136261  114129  114369  +   RNAzCandidate   232 240680\nreftig_235  SNORD100    86265   86176   36171   136261  37251   37449   -   protein_coding.exon .   240680\nreftig_235  SNORD100    86265   86176   36171   136261  118835  119071  +   RNAzCandidate   224 240680\nreftig_235  SNORD100    86265   86176   36171   136261  37251   37449   -   protein_coding.exon .   240680\nreftig_235  SNORD100    86265   86176   36171   136261  130220  130454  +   RNAzCandidate   221 240680\nreftig_235  SNORD100    86265   86176   36171   136261  37251   37449   -   protein_coding.exon .   240680\nreftig_235  SNORD100    86265   86176   36171   136261  129525  129758  +   RNAzCandidate   219 240680\nreftig_235  SNORD100    86265   86176   36171   136261  37251   37449   -   protein_coding.exon .   240680\nreftig_2    SNORD100    86265   86176   36171   136261  124395  124625  +   RNAzCandidate   213 240680\nreftig_2    SNORD100    86265   86176   36171   136261  37251   37449   -   protein_coding.exon .   240680\nreftig_2    SNORD100    86265   86176   36171   136261  124687  124923  +   RNAzCandidate   224 240680\n</code></pre>\n\n<p>Where the fragment name is: reftig_235 and reftig_2. So when I pass my code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\n# This is code example 3 in the Graphics-HOWTO\nuse strict;\nuse lib '/home/lstein/projects/bioperl-live';\nuse Bio::Graphics;\nuse Bio::SeqFeature::Generic;\nuse Data::Dumper;\n\nmy (@fill, @comparison, @db, @temp);\nopen my $IN, \"&lt; $ARGV[0]\";\n\nwhile (&lt;$IN&gt;){\n    chomp $_;\n    push @db, $_;\n}\n\n@temp = split /\\t/, $db[0];\nmy $chrLen = $temp[11];\nmy $chrS = $temp[4];\nmy $chrE = $temp[5];\nmy $chr = $temp[0];\nmy $ann = $temp[9];\nmy $typ = $temp[1];\n\nmy $panel = Bio::Graphics::Panel-&gt;new(\n  -length    =&gt; $chrLen, #longitud scala\n  -width =&gt; 1500, #Ancho del gr\u00e1fico\n  -grid =&gt; 1,\n  -pad_left  =&gt; 20,\n  -pad_right =&gt; 20,\n  -truetype =&gt; 1\n  );\n\nmy $full_length = Bio::SeqFeature::Generic-&gt;new(\n  -start =&gt; 0,\n  -end   =&gt; $chrLen,\n  -display_name =&gt; $chr,\n                        );\nmy $partial_length = Bio::SeqFeature::Generic-&gt;new(\n  -start =&gt; $chrS,\n  -end   =&gt; $chrE,\n  -display_name =&gt; \"$chrS\\-$chrE\",\n  );\n\n$panel-&gt;add_track($full_length,\n                  -key =&gt; $chr,\n                  -glyph   =&gt; 'extending_arrow',\n                  -tick    =&gt; 3,\n                  -fgcolor =&gt; 'black',\n                  -double  =&gt; 1,\n                 );\n\n$panel-&gt;add_track($partial_length,\n                  -key =&gt; \"$chrS\\-$chrE\",\n                  -glyph   =&gt; 'extending_arrow',\n                  -tick    =&gt; 3,\n                  -fgcolor =&gt; 'blue',\n                  -double  =&gt; 1,\n                 );\n\nmy $track1 = $panel-&gt;add_track(\n                #-category =&gt; 'HMMs'\n                -key =&gt; 'ncRNAs by HMMs',\n                -glyph =&gt; 'generic',\n                #-glyph       =&gt; 'graded_segments',\n                -label       =&gt; 1,\n                -bgcolor     =&gt; 'lime',\n                -stranded   =&gt; 1,\n                              #-min_score   =&gt; 0,\n                              #-max_score   =&gt; 240,\n                -font2color  =&gt; 'black',\n                -sort_order =&gt; 'left|longest',\n                              #-sort_order  =&gt; 'high_score',\n                              -description =&gt; sub {\n                                my $feature = shift;\n                                my $score   = $feature-&gt;score;\n                                return \"$typ\";\n                               },\n                -bump =&gt; 3,\n                #d-decorate_introns =&gt; 1,\n                             );\n\nmy $track2 = $panel-&gt;add_track(\n                #-category =&gt; 'Others',\n                -key =&gt; 'RNAz Predictions',\n                              #-glyph       =&gt; 'graded_segments',\n                 -hbumppad =&gt; 1,\n                -glyph       =&gt; 'transcript',\n                #-height       =&gt; 7,\n                -label       =&gt; 1,\n                -bgcolor     =&gt; 'cyan',\n                -min_score   =&gt; 0,\n                -max_score   =&gt; 400,\n                -strand_arrow   =&gt; 1,\n                -label       =&gt; 1,\n                -font2color  =&gt; 'red',\n                -sort_order  =&gt; 'strand|left|longest',\n                #-connector   =&gt; 'solid',\n                -description =&gt; sub {\n                                my $feature = shift;\n                                my $score   = $feature-&gt;score;\n                                return \"RNAzAnn.; score=$score\";\n                               },\n                             );\n\n\nmy $track3 = $panel-&gt;add_track( # Annotations\n                -key =&gt; 'Genomic Annotations',\n                -glyph       =&gt; 'transcript2',\n                #-glyph       =&gt; 'transcript2',\n                #-height      =&gt; 7,\n                -label       =&gt; 1,\n                -bgcolor     =&gt; 'teal',\n                -min_score   =&gt; 0,\n                -max_score   =&gt; 400,\n                -strand_arrow   =&gt; 1,\n                -label       =&gt; 1,\n                -font2color  =&gt; 'purple',\n                -sort_order  =&gt; 'strand|left|longest',\n                -description =&gt; sub {\n                                my $feature = shift;\n                               #my $ann1   = $feature-&gt;annotation;\n                                return \"Ann.=$ann\";\n                               },\n                             );\n\n\nwhile (&lt;&gt;) { # read blast file\n  chomp;\n  next if /^\\#/;  # ignore comments\n\n#scaffold_401   5_8S_rRNA   3054    3211    0   22710   2620    2831    +   RNAzCandidate   176 22710\n#scaffold_401   5_8S_rRNA   3054    3211    0   22710   13649   15877   -   Gaze.mRNA   .   22710\n#reftig_235      SNORD100        86265   86176   36171   136261  86850   87250   +       RNAzCandidate   387    240680\n#reftig_235      SNORD100        86265   86176   36171   136261  37251   37449   -       protein_coding.exon    .       240680\n\nmy($chr,$type,$startncRNA,$endncRNA,$startChr,$endChr, $startAnn, $endAnn, $sense, $annotation, $bitscore, $chrlen) = split /\\t/;\n    push @comparison, \"$chr\\.$type\\.$startncRNA\\.$endncRNA\";\n    my ($num,$sens, $sen, $se);\n    #my $nameAnn = $annotation;\n    #my @temp = (split /\\;/, $nameAnn);\n    #nameAnn =~ s/(^gene\\_id\\\".*\\\")\\;(.*)$/$1/g;\nmy ($feature1, $feature2, $feature3);\n#if($startncRNA &lt; $endncRNA){\n\n\nif($startncRNA &lt; $endncRNA){\n    $sen = \"+1\";} else {\n    $sen = \"-1\";}\n    $feature1 = Bio::SeqFeature::Generic-&gt;new(\n    -display_name =&gt; \"\\($startncRNA\\-$endncRNA\\)\",\n    -start        =&gt; $startncRNA,\n    -end          =&gt; $endncRNA,\n    -strand =&gt; $sen,\n    );\n\nif($annotation eq \"RNAzCandidate\"){\n    if($startAnn &lt; $endAnn){\n    $sens = \"+1\";} else {\n    $sens = \"-1\";}\n    $feature2 = Bio::SeqFeature::Generic-&gt;new(\n    -score        =&gt; $bitscore,\n    -display_name =&gt; \"\\($startAnn\\-$endAnn\\)\",\n    -start        =&gt; $startAnn,\n    -end          =&gt; $endAnn,\n    -strand        =&gt; $sens,\n    );\n} elsif ($annotation ne \"RNAzCandidate\" &amp;&amp; $bitscore eq \"\\.\"){\n    if($sense eq \"\\+\"){\n    $se = \"+1\";} else { $se = \"-1\";}\n    $feature3 = Bio::SeqFeature::Generic-&gt;new(\n   -display_name =&gt; \"\\($startAnn\\-$endAnn\\)\",\n   -start        =&gt; $startAnn,\n   -end          =&gt; $endAnn,\n   -strand      =&gt; $se,\n    );\n} else {next;}\n    $num = scalar @comparison;\n    if ($num == 1){\n    $track1-&gt;add_feature($feature1); #Anchor ncRNA\n    $track2-&gt;add_feature($feature2); #RNAzCandidates\n    $track3-&gt;add_feature($feature3); #Annotations\n} else {\n    my @split1 = split /\\./, $comparison[-2];\n    my @split2 = split /\\./, $comparison[-1];\n    if($split1[0] eq $split2[0] &amp;&amp; $split1[1] eq $split2[1] &amp;&amp; $split1[2] eq $split2[2] &amp;&amp; $split1[3] eq $split2[3]){\n        $track2-&gt;add_feature($feature2); #RNAzCandidates\n        #$track3-&gt;add_feature($feature3); #Annotations\n        shift @comparison;\n        next;\n    } else {\n    $track1-&gt;add_feature($feature1); #Anchor ncRNA\n    $track2-&gt;add_feature($feature2); #RNAzCandidates\n    $track3-&gt;add_feature($feature3); #Annotations\n    shift @comparison;\n}}}\nprint $panel-&gt;gd-&gt;gif;\n\n$panel-&gt;finished;\n#print $panel-&gt;gif;\n</code></pre>\n\n<p>And results in this plot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/erTMk.gif\" alt=\"Plot generated by BioPerl, represent generic coordinates \"></p>\n\n<p>But it does not plot the second fragment called reftig_2. What can I do?\nThanks in advance!</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 64716, "user_id": 157957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBRE7.jpg?s=128&g=1", "display_name": "IMSoP", "link": "https://stackoverflow.com/users/157957/imsop"}, "edited": false, "score": 0, "creation_date": 1428965153, "post_id": 29616224, "comment_id": 47377806, "body": "When you say the lists are &quot;incorrect&quot;, what exactly is wrong with them? And are you sure that the problem is in the very few lines you&#39;ve shown us? Perhaps you could create a <a href=\"http://stackoverflow.com/help/mcve\">minimal example that demonstrates the problem</a> and edit it into the question?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1428965841, "last_edit_date": 1428965841, "creation_date": 1428965456, "answer_id": 29616378, "question_id": 29616224, "link": "https://stackoverflow.com/questions/29616224/inconsistent-value-with-perl-records/29616378#29616378", "title": "Inconsistent value with Perl records", "body": "<p>I would guess that your array <code>@filelist</code> is declared outside the loop, so you are putting a reference to the same array into multiple places in the data structure.</p>\n\n<p>You can either move the declaration inside the loop, so that you pick up a new array each time, ot you can <em>copy</em> the array into an anonymous array when you set up the data element, like this</p>\n\n<pre><code>$directory[$idxrep]{\"listoffiles\"} = [ @filelist ];\n</code></pre>\n\n<p>Note that there is no need to keep track of <code>$idxrep</code> as you can simply <code>push</code> a new hash onto the array each time, like this</p>\n\n<pre><code>my %dir = (\n  size          =&gt; $repsize,\n  numberoffiles =&gt; scalar @filelist,\n  listoffiles   =&gt; [ @filelist ],\n);\npush @directory, \\%dir;\n</code></pre>\n\n<p>but note that, once again, <code>%dir</code> must be declared within your loop</p>\n"}], "owner": {"reputation": 2337, "user_id": 3595992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a8fc8a00391b1282338f66de57e3fea0?s=128&d=identicon&r=PG&f=1", "display_name": "JeanJouX", "link": "https://stackoverflow.com/users/3595992/jeanjoux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 29616378, "answer_count": 1, "score": 0, "last_activity_date": 1428965841, "creation_date": 1428964560, "question_id": 29616224, "link": "https://stackoverflow.com/questions/29616224/inconsistent-value-with-perl-records", "title": "Inconsistent value with Perl records", "body": "<p>I made a Perl script to deal with structured data. Array elements are created like this in a loop by incrementing <code>$idxrep</code> (<code>@filelist</code> is different at each loop) : </p>\n\n<pre><code>$directory[$idxrep]{\"size\"}=$repsize;\n$directory[$idxrep]{\"numberoffiles\"}=@filelist;\n$directory[$idxrep]{\"listoffiles\"}=\\@filelist;\n</code></pre>\n\n<p>When I check the content of the array with : </p>\n\n<pre><code>print (Dumper $directory[2]{\"size\"});\nprint (Dumper $directory[2]{\"numberoffiles\"});\nprint (Dumper $directory[2]{\"listoffiles\"});\n\nprint (Dumper $directory[5]{\"size\"});\nprint (Dumper $directory[5]{\"numberoffiles\"});\nprint (Dumper $directory[5]{\"listoffiles\"});\n\n...\n</code></pre>\n\n<p>I have the correct sizes, the correct amounts of files but incorrect lists of files (contained in <code>{\"listoffiles\"}</code>) while it's based on the same array <code>@filelist</code></p>\n\n<p>I already used <code>$DataList[3]=\\@filelist;</code> to assign a whole array but here, it seems to be different and incorrect.</p>\n\n<p><strong>Do you know where the mistake is?</strong></p>\n"}, {"tags": ["perl", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 17, "last_activity_date": 1428957555, "last_edit_date": 1592644375, "creation_date": 1428955356, "answer_id": 29614053, "question_id": 29613951, "link": "https://stackoverflow.com/questions/29613951/perl-throws-keys-on-reference-is-experimental/29614053#29614053", "title": "Perl throws &quot;keys on reference is experimental&quot;", "body": "<p>The documentation for keys, <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"noreferrer\"><code>perldoc keys</code></a>, has this to say about using keys on a hash reference:</p>\n<blockquote>\n<p>Starting with Perl 5.14, keys can take a scalar EXPR, which must contain a reference to an unblessed hash or array. The argument will be dereferenced automatically. This aspect of keys is considered highly experimental. The exact behaviour may change in a future version of Perl.</p>\n<pre><code>for (keys $hashref) { ... }\n</code></pre>\n</blockquote>\n<p>To avoid the issue, upgrading Perl won't help. The module needs to be updated to use keys in the expected manner instead of using an experimental feature. That is, it needs to dereference the hashref before calling <code>keys</code>.</p>\n<p>Specifically, change</p>\n<pre><code>my $num_regexes = scalar keys $token_regexes;\n</code></pre>\n<p>to</p>\n<pre><code>my $num_regexes = scalar keys %$token_regexes;\n</code></pre>\n"}], "owner": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9170, "favorite_count": 1, "accepted_answer_id": 29614053, "answer_count": 1, "score": 7, "last_activity_date": 1428957555, "creation_date": 1428954965, "question_id": 29613951, "link": "https://stackoverflow.com/questions/29613951/perl-throws-keys-on-reference-is-experimental", "title": "Perl throws &quot;keys on reference is experimental&quot;", "body": "<p>Development environment is OS X 10.10.3, Perl -v</p>\n\n<pre><code>This is perl 5, version 18, subversion 2 (v5.18.2) built for darwin-thread-multi-2level\n(with 2 registered patches, see perl -V for more detail)\n</code></pre>\n\n<p><strong>Here is the problem</strong></p>\n\n<p>I moved the project from my local environment to a Windows Server and now I get the following error:</p>\n\n<p>\"keys on reference is experimental at CGI/Router.pm line 94.\"</p>\n\n<p>line 94 of the module shows</p>\n\n<pre><code>my $num_regexes = scalar keys $token_regexes;\n</code></pre>\n\n<p>the entire module can be found here <a href=\"https://github.com/kristiannissen/CGIRouter\" rel=\"noreferrer\">https://github.com/kristiannissen/CGIRouter</a></p>\n\n<p>I instantiate the router module like this</p>\n\n<pre><code>$router-&gt;add_route( 'GET', '/home', sub {\n print header( -type =&gt; 'text/html', -charset =&gt; 'utf-8' );\n\n print \"Hello Pussy\";\n});\n</code></pre>\n\n<p>I don't have this issue locally, but now that I am moving to production server, I get this issue. From what I can tell, it's related to a specific Perl version, but before I ask the provider to upgrade Perl, I would like if there is anything I can do to avoid this issue?</p>\n"}, {"tags": ["arrays", "perl", "cmd"], "answers": [{"comments": [{"owner": {"reputation": 1535, "user_id": 2175642, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/438be96ab62abdf3194b7b1b0f85507b?s=128&d=identicon&r=PG", "display_name": "Jill448", "link": "https://stackoverflow.com/users/2175642/jill448"}, "edited": false, "score": 0, "creation_date": 1428956181, "post_id": 29613794, "comment_id": 47373966, "body": "It worked a bit after adding the escape char, but still not sure why the 1st cmd to stop tomcat is not working.And also the <code>ps -ef</code> command is returning one pid when we ran outside the script and its returning two pids inside the script."}, {"owner": {"reputation": 1535, "user_id": 2175642, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/438be96ab62abdf3194b7b1b0f85507b?s=128&d=identicon&r=PG", "display_name": "Jill448", "link": "https://stackoverflow.com/users/2175642/jill448"}, "edited": false, "score": 0, "creation_date": 1428956716, "post_id": 29613794, "comment_id": 47374226, "body": "I have updated my question and added the current output as well"}], "tags": [], "owner": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "is_accepted": false, "score": 0, "last_activity_date": 1428954424, "creation_date": 1428954424, "answer_id": 29613794, "question_id": 29613294, "link": "https://stackoverflow.com/questions/29613294/perl-script-to-find-valid-active-pids-of-tomcat-and-stop-them/29613794#29613794", "title": "perl: script to find valid/active pids of tomcat and stop them", "body": "<p>Have you tried escaping the dollar sign in the backticks?</p>\n\n<pre><code>my @pid = `ps -ef | grep /opt/app/WebUI/tomcat | grep org.apache.catalina.startup.Bootstrap | awk '{print \\$2}'`;\n</code></pre>\n"}], "owner": {"reputation": 1535, "user_id": 2175642, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/438be96ab62abdf3194b7b1b0f85507b?s=128&d=identicon&r=PG", "display_name": "Jill448", "link": "https://stackoverflow.com/users/2175642/jill448"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1428958414, "creation_date": 1428952588, "last_edit_date": 1428958414, "question_id": 29613294, "link": "https://stackoverflow.com/questions/29613294/perl-script-to-find-valid-active-pids-of-tomcat-and-stop-them", "title": "perl: script to find valid/active pids of tomcat and stop them", "body": "<p>updated:</p>\n\n<p>I have the below perl program to stop tomcat, check if its still running , and kill if it is running. </p>\n\n<p>1)When I execute the cmd <code>ps -ef | grep /opt/accurev/WebUI/tomcat | grep org.apache.catalina.startup.Bootstrap | awk '{print $2}'</code> outside the script, its returning me single process id <code>27640</code> , but  inside the script The output of the array is printing as 2 pids, out of which one is not a valid/inactive process. How can I make my script return only the valid pids?</p>\n\n<p>2)My 1st cmd to stop the tomcat is also not running inside the script <code>/opt/app/WebUI/tomcat/bin/shutdown.sh</code></p>\n\n<p>What am I missing here?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n#Shutdown the Tomcat\nprint \"Shutting down tomcat\\n\";\n`/opt/app/WebUI/tomcat/bin/shutdown.sh`;\n\n#Check if there are any instances of Tomcat still running, and if yes kill them\nmy @pid = `ps -ef | grep /opt/app/WebUI/tomcat | grep org.apache.catalina.startup.Bootstrap | awk '{print \\$2}'`;\nmy $pid;\nforeach $pid (@pid) {\n  print \"$pid\\n\";\n }\nif (@pid) { # @pid is not empty\n  print \"Tomcat is still running. Killing them now \\n\";\n  foreach $pid (@pid) {\n    print \"Killing the tomcat instance with pid : $pid\\n\";\n   `kill -9 $pid`;\n  }\n} else { # @pid is empty\n   print \"Tomcat is not running \\n\";\n}\n</code></pre>\n\n<p>Current Output:</p>\n\n<pre><code> -bash-4.1$ ps -ef | grep /opt/app/WebUI/tomcat | grep org.apache.catalina.startup.Bootstrap | awk '{print $2}'\n 27640\n\n-bash-4.1$ perl  daily_backup.pl \nShutting down tomcat\n27640\n\n27777\n\nTomcat is still running. Killing them now \nKilling the tomcat instance with pid : 27640\n\n\nKilling the tomcat instance with pid : 27777\n\nkill 27777: No such process\n</code></pre>\n"}, {"tags": ["perl", "sorting", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1428949002, "post_id": 29612177, "comment_id": 47369974, "body": "Should probably cache those transliterations, or at least make a note of the repeated computation that would occur if there were duplicates."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1428952372, "post_id": 29612177, "comment_id": 47371829, "body": "@Hunter McMillen, I don&#39;t think the gains will be that great, but I&#39;ve added GRT solutions."}, {"owner": {"reputation": 2337, "user_id": 3595992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a8fc8a00391b1282338f66de57e3fea0?s=128&d=identicon&r=PG&f=1", "display_name": "JeanJouX", "link": "https://stackoverflow.com/users/3595992/jeanjoux"}, "edited": false, "score": 0, "creation_date": 1428964676, "post_id": 29612177, "comment_id": 47377677, "body": "Comparing character by character make exactly what I want. Nice answer !"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428966910, "post_id": 29612177, "comment_id": 47378271, "body": "Why? It&#39;s probably 100x slower!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1428952775, "last_edit_date": 1428952775, "creation_date": 1428948682, "answer_id": 29612177, "question_id": 29611976, "link": "https://stackoverflow.com/questions/29611976/sort-strings-with-a-specific-letter-order-with-perl/29612177#29612177", "title": "Sort strings with a specific letter order with Perl", "body": "<p>The following is probably the fastest<sup>[1]</sup>:</p>\n\n<pre><code>sub my_compare($$) {\n    $_[0] =~ tr{abdrtwsuiopqe987654}{abcdefghijklmnopqrs}r\n       cmp\n    $_[1] =~ tr{abdrtwsuiopqe987654}{abcdefghijklmnopqrs}r\n}\n\nmy @sorted = sort my_compare @unsorted;\n</code></pre>\n\n<p>Or if you want something more dynamic, the following might be the fastest<sup>[2]</sup>:</p>\n\n<pre><code>my @syms = split //, 'abdrtwsuiopqe987654';\nmy @map; $map[ord($syms[$_])] = $_ for 0..$#syms;\n\nsub my_compare($$) {\n    (pack 'C*', map $map[ord($_)], unpack 'C*', $_[0])\n       cmp\n    (pack 'C*', map $map[ord($_)], unpack 'C*', $_[1])\n}\n\nmy @sorted = sort my_compare @unsorted;\n</code></pre>\n\n<p>We could compare character by character, but that will be <em>far</em> slower.</p>\n\n<pre><code>use List::Util qw( min );\n\nmy @syms = split //, 'abdrtwsuiopqe987654';\nmy @map; $map[ord($syms[$_])] = $_ for 0..$#syms;\n\nsub my_compare($$) {\n    my $l0 = length($_[0]);\n    my $l1 = length($_[1]);\n    for (0..min($l0, $l1)) {\n       my $ch0 = $map[ord(substr($_[0], $_, 1))];\n       my $ch1 = $map[ord(substr($_[1], $_, 1))];\n       return -1 if $ch0 &lt; $ch1;\n       return +1 if $ch0 &gt; $ch1;\n    }\n\n    return -1 if $l0 &lt; $l1;\n    return +1 if $l0 &gt; $l1;\n    return 0;\n}\n\nmy @sorted = sort my_compare @unsorted;\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Technically, it can be made faster using GRT.</p>\n\n<pre><code>my @sorted =\n   map /\\0(.*)/s,\n   sort\n   map { tr{abdrtwsuiopqe987654}{abcdefghijklmnopqrs}r . \"\\0\" . $_ }\n   @unsorted;\n</code></pre></li>\n<li><p>Technically, it can be made faster using GRT.</p>\n\n<pre><code>my @sorted =\n   map /\\0(.*)/s,\n   sort\n   map { ( pack 'C*', map $map[ord($_)], unpack 'C*', $_ ) . \"\\0\" . $_ }\n   @unsorted;\n</code></pre></li>\n</ol>\n\n<hr>\n\n<p><code>cmp</code> is implemented by the <code>scmp</code> operator.</p>\n\n<pre><code>$ perl -MO=Concise,-exec -e'$x cmp $y'\n1  &lt;0&gt; enter\n2  &lt;;&gt; nextstate(main 1 -e:1) v:{\n3  &lt;#&gt; gvsv[*x] s\n4  &lt;#&gt; gvsv[*y] s\n5  &lt;2&gt; scmp[t3] vK/2\n6  &lt;@&gt; leave[1 ref] vKP/REFC\n</code></pre>\n\n<p>The <code>scmp</code> operator is implemented by the <code>pp_scmp</code> function in <a href=\"http://perl5.git.perl.org/perl.git/blob/HEAD:/pp.c\" rel=\"noreferrer\"><code>pp.c</code></a>, which is really just a wrapper for <code>sv_cmp_flags</code> in <a href=\"http://perl5.git.perl.org/perl.git/blob/HEAD:/sv.c\" rel=\"noreferrer\"><code>sv.c</code></a> when <code>use locale;</code> isn't in effect. <code>sv_cmp_flags</code> either uses C library function <a href=\"http://man7.org/linux/man-pages/man3/memcmp.3.html\" rel=\"noreferrer\"><code>memcmp</code></a> or a UTF-8 aware version (depending on the type of scalar).</p>\n"}, {"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 0, "last_activity_date": 1429779338, "creation_date": 1429779338, "answer_id": 29818444, "question_id": 29611976, "link": "https://stackoverflow.com/questions/29611976/sort-strings-with-a-specific-letter-order-with-perl/29818444#29818444", "title": "Sort strings with a specific letter order with Perl", "body": "<pre><code>use Sort::Key qw(keysort);\nmy @sorted = keysort { tr/abdrtwsuiopqe987654/abcdefghijklmnopqrs/r } @data;\n</code></pre>\n\n<p>Or in older perls not supporting the <code>r</code> flag in <code>tr/.../.../r</code></p>\n\n<pre><code>my @sorted = keysort { my $key = $_;\n                       $key =~ tr/abdrtwsuiopqe987654/abcdefghijklmnopqrs/;\n                       $key } @data;\n</code></pre>\n\n<p>You can also create an specialized sort subroutine for that kind of data as follows:</p>\n\n<pre><code>use Sort::Key::Maker 'my_special_sort',\n                     sub { tr/abdrtwsuiopqe987654/abcdefghijklmnopqrs/r },\n                     qw(string);\n\nmy @sorted = my_special_sort @data;\nmy @sorted2 = my_special_sort @data2;\n</code></pre>\n"}], "owner": {"reputation": 2337, "user_id": 3595992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a8fc8a00391b1282338f66de57e3fea0?s=128&d=identicon&r=PG&f=1", "display_name": "JeanJouX", "link": "https://stackoverflow.com/users/3595992/jeanjoux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 29612177, "answer_count": 2, "score": 6, "last_activity_date": 1429779338, "creation_date": 1428948025, "question_id": 29611976, "link": "https://stackoverflow.com/questions/29611976/sort-strings-with-a-specific-letter-order-with-perl", "title": "Sort strings with a specific letter order with Perl", "body": "<p>I'm trying to sort lists of names with Perl with a specific letter order to perform some special features.<br>\nThe sorting would be working the same way as <code>sort { $a cmp $b }</code> but with a different succession of letters.<br>\nFor example, ordering with the arbitrary character order <strong>\"abdrtwsuiopqe987654\" ...</strong> </p>\n\n<p>I tried to deal with <code>sort { $a myFunction $b }</code> but I'm newbie with Perl and I don't see how to organize correctly <code>myFunction</code> to get what I want.</p>\n\n<ul>\n<li>Is there a specific function (a package) which provide this functionnality?</li>\n<li>Do you have an example of a custom sorting function dealing with strings ?</li>\n<li>Do you know how (or in which source file) is the <code>cmp</code> function implemented with Perl to see how it works ?</li>\n</ul>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 1, "creation_date": 1428947796, "post_id": 29611651, "comment_id": 47369255, "body": "Are you sure <code>$count{$a} &lt;=&gt; $final{$b}</code> correct? Not <code>$count{$a} &lt;=&gt; $count{$b}</code> ?"}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428947914, "post_id": 29611651, "comment_id": 47369332, "body": "Usually just use a counter, break the loop (using <code>last</code>) if this counter reach the number you need."}, {"owner": {"reputation": 702, "user_id": 2980873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c42f7e4098b30d0218d210414fdbfcab?s=128&d=identicon&r=PG&f=1", "display_name": "hello_its_me", "link": "https://stackoverflow.com/users/2980873/hello-its-me"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428948147, "post_id": 29611651, "comment_id": 47369463, "body": "@tivn sorry that was an error done by me when I copied the code here. thanks."}], "answers": [{"comments": [{"owner": {"reputation": 702, "user_id": 2980873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c42f7e4098b30d0218d210414fdbfcab?s=128&d=identicon&r=PG&f=1", "display_name": "hello_its_me", "link": "https://stackoverflow.com/users/2980873/hello-its-me"}, "edited": false, "score": 0, "creation_date": 1428948080, "post_id": 29611952, "comment_id": 47369427, "body": "Oh, that&#39;s the correct way to write it! Tried something similar but got a syntax error. Thank you!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 702, "user_id": 2980873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c42f7e4098b30d0218d210414fdbfcab?s=128&d=identicon&r=PG&f=1", "display_name": "hello_its_me", "link": "https://stackoverflow.com/users/2980873/hello-its-me"}, "edited": false, "score": 2, "creation_date": 1428948147, "post_id": 29611952, "comment_id": 47369462, "body": "The parens are required when doing a list slice."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1428950735, "post_id": 29611952, "comment_id": 47370921, "body": "<code>$#ops = 3-1 if ..;</code> is perhaps better than splice."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1428951286, "post_id": 29611952, "comment_id": 47371215, "body": "@\u0421\u0443\u0445\u043e\u043927, I prefer <code>splice(@ops, 3);</code> over <code>$#ops = 3-1 if @opts &gt; 3;</code>. A lot. [LOL, that accidental typo kinda proves the point.]"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1428952726, "post_id": 29611952, "comment_id": 47372061, "body": "imo, even a slice is better than splice <code>@ops = @ops[0..2] if ..; :)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428953157, "post_id": 29611952, "comment_id": 47372325, "body": "I disagree. I think truncating (<code>splice(@ops, 3);</code>) is better than creating duplicating magic numbers and replacing the array with copies of the scalars already at the right position in the array (<code>@ops = @ops[0..2] if @ops &gt; 3;</code>). The latter is more expensive, more error prone and requires more reading."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1428948134, "last_edit_date": 1428948134, "creation_date": 1428947972, "answer_id": 29611952, "question_id": 29611651, "link": "https://stackoverflow.com/questions/29611651/perl-type-first-elements-in-a-sorted-hash/29611952#29611952", "title": "Perl: Type first elements in a sorted hash", "body": "<p>You could indeed us a counter.</p>\n\n<pre><code>my $limit = 3;\nfor my $op ( reverse sort { $count{$a} &lt;=&gt; $count{$b} } keys %count ) {\n    printf \"%-25s %s\\n\", $op, $count{$op};\n    last if !--$limit;\n}\n</code></pre>\n\n<p>You could use a list slice if you're guaranteed at least three elements.</p>\n\n<pre><code>for my $op ( ( reverse sort { $count{$a} &lt;=&gt; $count{$b} } keys %count )[0..2] ) {\n    printf \"%-25s %s\\n\", $op, $count{$op};\n}\n</code></pre>\n\n<p>It's a little longer if you can't make sure guarantee.</p>\n\n<pre><code>my @ops = reverse sort { $count{$a} &lt;=&gt; $count{$b} } keys %count;\nsplice(@ops, 3) if @ops &gt; 3;\nfor my $op (@opts) {\n    printf \"%-25s %s\\n\", $op, $count{$op};\n}\n</code></pre>\n\n<p>(<code>if @ops &gt; 3</code> prevents a warning in older versions of Perl.)</p>\n"}], "owner": {"reputation": 702, "user_id": 2980873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c42f7e4098b30d0218d210414fdbfcab?s=128&d=identicon&r=PG&f=1", "display_name": "hello_its_me", "link": "https://stackoverflow.com/users/2980873/hello-its-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 29611952, "answer_count": 1, "score": 0, "last_activity_date": 1428948163, "creation_date": 1428946999, "last_edit_date": 1428948163, "question_id": 29611651, "link": "https://stackoverflow.com/questions/29611651/perl-type-first-elements-in-a-sorted-hash", "title": "Perl: Type first elements in a sorted hash", "body": "<p>I have the following:</p>\n\n<pre><code>.\n.\n.\nforeach my $op(reverse sort {$count{$a} &lt;=&gt; $count{$b}} keys %count) {\n       printf \"%-25s %s\\n\", $op, $count{$op};\n}\n.\n.\n.\n</code></pre>\n\n<p>This basically types all the elements in my list sorted. I would only like to have the first three elements typed and not all of them, these three elements are the ones most repeated, i.e. have the highest count.</p>\n\n<p>Please let me know if you would like me to share the rest of my code. </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "format"], "comments": [{"owner": {"reputation": 9, "user_id": 4783835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0de972648e1a1382c2f6e0d832aa9220?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Frank", "link": "https://stackoverflow.com/users/4783835/ryan-frank"}, "edited": false, "score": 0, "creation_date": 1428942499, "post_id": 29610334, "comment_id": 47366254, "body": "oh instead of &quot;test&quot;, &quot;42&quot;, &quot;0.0&quot; I would want $name, $age, @GPA. That is just dummy data"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1428942922, "post_id": 29610334, "comment_id": 47366506, "body": "You should <i>really</i> try to avoid Perl 4 style formats.  They work only with Global Variables, lexical <code>my</code> variables need not apply.  Look into the <code>Perl6::Form</code> module for a rather close but far more flexible replacement."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1428943140, "post_id": 29610334, "comment_id": 47366629, "body": "I echo what tjd said. Just to be clear, Perl6::Form is a module for Perl5. (It provides Perl 6-style forms.)"}, {"owner": {"reputation": 9, "user_id": 4783835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0de972648e1a1382c2f6e0d832aa9220?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Frank", "link": "https://stackoverflow.com/users/4783835/ryan-frank"}, "edited": false, "score": 0, "creation_date": 1428960027, "post_id": 29610334, "comment_id": 47375857, "body": "Ok it is compiling now but it isn&#39;t writing to STDOUT"}], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1428943024, "post_id": 29610467, "comment_id": 47366565, "body": "But just think of the fun he&#39;ll have trying to get a Perl 4 style format to work with <code>my $name</code>, <code>my $age</code> &amp; <code>my GPA</code>.  Let the games begin!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1428943152, "post_id": 29610467, "comment_id": 47366637, "body": "It works for me when I place the variables to the format (I&#39;ve never used it before)."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1428942814, "creation_date": 1428942814, "answer_id": 29610467, "question_id": 29610334, "link": "https://stackoverflow.com/questions/29610334/perl-format-not-terminated/29610467#29610467", "title": "Perl format not terminated", "body": "<p>The dot must be placed in the first column.</p>\n\n<pre><code>    format STDOUT =\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @&lt;&lt; @&lt;&lt;&lt;\n\"test\", \"42\", \"0.0\"\n\n.\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4783835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0de972648e1a1382c2f6e0d832aa9220?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Frank", "link": "https://stackoverflow.com/users/4783835/ryan-frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428942814, "creation_date": 1428942356, "question_id": 29610334, "link": "https://stackoverflow.com/questions/29610334/perl-format-not-terminated", "title": "Perl format not terminated", "body": "<p>I am getting a Format not terminated error during compilation in this block of code.</p>\n\n<pre><code>    while(@studentNames) {\n            my $name = pop(@studentNames);\n            my $age = pop(@studentAges);\n            my $GPA = pop(@studentGPAs);\n\n            format STDOUT =\n            @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @&lt;&lt; @&lt;&lt;&lt;\n            \"test\", \"42\", \"0.0\"\n\n            .\n\n            write;\n    }\n</code></pre>\n\n<p>I am trying to write a table looking like the one below to STDOUT and then eventually an output file.</p>\n\n<pre><code>    name1            age1 GPA1\n    name2            age2 GPA2\n    ...\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["sql", "perl", "dbix-class"], "comments": [{"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1428962274, "post_id": 29610226, "comment_id": 47376880, "body": "You need to show us your result classes instead of the SQL statements used to create the tables. Why would you normalize your model if you always want a 1:1 relationship between customer and its address?"}, {"owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "reply_to_user": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1428997993, "post_id": 29610226, "comment_id": 47387728, "body": "abraxxa -- Good question about normalization: I may in the end simplify the database structure.  But the general question remains: why does DBIx::Class assume that I want unique values in columns that I haven&#39;t asked to be unique?"}, {"owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "reply_to_user": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1428999114, "post_id": 29610226, "comment_id": 47388317, "body": "abraxxa -- Having added the result classes to the question I see your point: they contain more detail than the original sql.  Address should &#39;have_one&#39; customer rather than &#39;have_many&#39;.  How do I tell dbicdump to do that?"}, {"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1429037192, "post_id": 29610226, "comment_id": 47412425, "body": "It&#39;s generated from the database constraints which don&#39;t contain enough information to distinguish between the two. Dbicdump defaults to the more common use case which is a belongs_to/has_many relationship. Just change the generated result class to what you want and try again."}], "answers": [{"comments": [{"owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "edited": false, "score": 0, "creation_date": 1429365336, "post_id": 29659380, "comment_id": 47570983, "body": "Perhaps I should have edited the question instead of supplying an &#39;answer&#39;. I still haven&#39;t solved this problem, although the need for an answer is no longer urgent."}], "tags": [], "owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "is_accepted": false, "score": 0, "last_activity_date": 1429126903, "creation_date": 1429126903, "answer_id": 29659380, "question_id": 29610226, "link": "https://stackoverflow.com/questions/29610226/dbixclass-creating-unique-rows-in-sub-table/29659380#29659380", "title": "DBIx::Class -- creating unique rows in sub-table", "body": "<p>Thanks to abraxxa's comments, I've been pointed in the right direction and have done more reading and testing with DBIx::Class:Schema.</p>\n\n<p>Generating the table from the Schema classes, rather than the other way round, seems like the way to go, especially if it will make future upgrades to the database easier.</p>\n\n<p>I've boiled the problem down to the following example code:</p>\n\n<p>Test.pl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Test::DB::Schema;\nmy $schema = Test::DB::Schema-&gt;connect(\n    \"dbi:SQLite:dbname=dbicsl_test.db\", '', '', {}\n);\n$schema-&gt;deploy({ add_drop_table =&gt; 1 } , '.');\n$schema-&gt;storage-&gt;debug(1);\nmy $data1 = { \n    text =&gt; 'Fred',\n    table2 =&gt; {\n        text =&gt; 'abc',\n    }   \n};\nmy $new1 = $schema-&gt;resultset('Table1')-&gt;create($data1);\nmy $data2 = { \n    text =&gt; 'Jim',\n    table2 =&gt; {\n        text =&gt; 'xyz',\n    }   \n};\nmy $new2 = $schema-&gt;resultset('Table1')-&gt;create($data2);\nmy $data3 = { \n    text =&gt; 'Emily',\n    table2 =&gt; {\n        text =&gt; 'abc',\n    }   \n};\nmy $new3 = $schema-&gt;resultset('Table1')-&gt;create($data3);\n</code></pre>\n\n<p>Test::DB::Schema::Result::Table1.pm:</p>\n\n<pre><code>package Test::DB::Schema::Result::Table1;\nuse base 'DBIx::Class::Core';\n__PACKAGE__-&gt;table(\"table1\");\n__PACKAGE__-&gt;add_columns(\n  \"id\",\n  { data_type =&gt; \"integer\", is_auto_increment =&gt; 1, is_nullable =&gt; 0 },\n  \"text\",\n  { data_type =&gt; \"text\", is_nullable =&gt; 1 },\n  \"table2_id\",\n  { data_type =&gt; \"integer\", is_foreign_key =&gt; 1, is_nullable =&gt; 0 },\n);\n__PACKAGE__-&gt;set_primary_key(\"id\");\n__PACKAGE__-&gt;has_one(\n    table2 =&gt;\n    \"Test::DB::Schema::Result::Table2\",\n    { 'foreign.id' =&gt; 'self.table2_id' },\n);\n1;\n</code></pre>\n\n<p>Test::DB::Schema::Result::Table2:</p>\n\n<pre><code>package Test::DB::Schema::Result::Table2;\nuse base 'DBIx::Class::Core';\n__PACKAGE__-&gt;table(\"table2\");\n__PACKAGE__-&gt;add_columns(\n  \"id\",\n  { data_type =&gt; \"integer\", is_auto_increment =&gt; 1, is_nullable =&gt; 0 },\n  \"text\",\n  { data_type =&gt; \"text\", is_nullable =&gt; 0 },\n);\n__PACKAGE__-&gt;set_primary_key(\"id\");\n1;\n</code></pre>\n\n<p>And here's the output:</p>\n\n<pre><code>SELECT me.id, me.text FROM table2 me WHERE ( me.text = ? ): 'abc'\nBEGIN WORK\nSELECT me.id, me.text FROM table2 me WHERE ( me.text = ? ): 'abc'\nINSERT INTO table2 ( text) VALUES ( ? ): 'abc'\nINSERT INTO table1 ( table2_id, text) VALUES ( ?, ? ): '1', 'Fred'\nCOMMIT\nSELECT me.id, me.text FROM table2 me WHERE ( me.text = ? ): 'xyz'\nBEGIN WORK\nSELECT me.id, me.text FROM table2 me WHERE ( me.text = ? ): 'xyz'\nINSERT INTO table2 ( text) VALUES ( ? ): 'xyz'\nINSERT INTO table1 ( table2_id, text) VALUES ( ?, ? ): '2', 'Jim'\nCOMMIT\nSELECT me.id, me.text FROM table2 me WHERE ( me.text = ? ): 'abc'\nINSERT INTO table1 ( table2_id, text) VALUES ( ?, ? ): '1', 'Emily'\n</code></pre>\n\n<p>So the database now looks like</p>\n\n<pre><code>table1.id  table1.text table1.table2_id\n1          Fred        1\n2          Jim         2\n3          Emily       1\n\ntable2.id  table2.text\n1          abc\n2          xyz\n</code></pre>\n\n<p>whereas I expected / hoped for:</p>\n\n<pre><code>table1.id  table1.text table1.table2_id\n1          Fred        1\n2          Jim         2\n3          Emily       3\n\ntable2.id  table2.text\n1          abc\n2          xyz\n3          abc\n</code></pre>\n\n<p>Why does it reuse 1/abc when I haven't told it to make the table2.text column unique?</p>\n"}], "owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1429126903, "creation_date": 1428942001, "last_edit_date": 1428998964, "question_id": 29610226, "link": "https://stackoverflow.com/questions/29610226/dbixclass-creating-unique-rows-in-sub-table", "title": "DBIx::Class -- creating unique rows in sub-table", "body": "<p>My (simplified) SQLite tables are like this:</p>\n\n<pre><code>create table customers (\n    id              integer primary key autoincrement,\n    contact_name    text,\n    billaddr_id     integer references addresses(id)\n);\n\ncreate table addresses (\n    id              integer primary key autoincrement,\n    address         text\n);\n</code></pre>\n\n<p>And here are the result classes (generated from the sql by dbicdump):</p>\n\n<pre><code>Test::DB::Schema::Result::Customer-&gt;table(\"customers\");\nTest::DB::Schema::Result::Customer-&gt;add_columns(\n    \"id\", \n    { data_type =&gt; \"integer\", is_auto_increment =&gt; 1, is_nullable =&gt; 0 },\n    \"contact_name\", \n    { data_type =&gt; \"text\", is_nullable =&gt; 1 },\n    \"billaddr_id\", \n    { data_type =&gt; \"integer\", is_foreign_key =&gt; 1, is_nullable =&gt; 1 },\n);\nTest::DB::Schema::Result::Customer-&gt;set_primary_key(\"id\");\nTest::DB::Schema::Result::Address-&gt;table(\"addresses\");\nTest::DB::Schema::Result::Address-&gt;add_columns(\n    \"id\", { data_type =&gt; \"integer\", is_auto_increment =&gt; 1, is_nullable =&gt; 0 },\n    \"address\", { data_type =&gt; \"text\", is_nullable =&gt; 1 },\n);\nTest::DB::Schema::Result::Address-&gt;set_primary_key(\"id\");\nTest::DB::Schema::Result::Address-&gt;has_many(\n    \"customers\", \n    \"Test::DB::Schema::Result::Customer\",\n    { \"foreign.billaddr_id\" =&gt; \"self.id\" },\n    { cascade_copy =&gt; 0, cascade_delete =&gt; 0 },\n);\nTest::DB::Schema::Result::Customer-&gt;belongs_to(\n    \"billaddr\",\n    \"Test::DB::Schema::Result::Address\",\n    { id =&gt; \"billaddr_id\" },\n    {\n        is_deferrable =&gt; 0,\n        join_type     =&gt; \"LEFT\",\n        on_delete     =&gt; \"NO ACTION\",\n        on_update     =&gt; \"NO ACTION\",\n    },\n);\n</code></pre>\n\n<p>This bit of code:</p>\n\n<pre><code>my $data = { \n    contact_name =&gt; 'Jim Customer',\n    billaddr =&gt; {\n        address =&gt; 'Address...',\n    },  \n};  \nmy $newcustomer = $c-&gt;schema-&gt;resultset('Customer')-&gt;create($data);\n</code></pre>\n\n<p>results in this database update:</p>\n\n<pre><code>SELECT me.id, me.address FROM addresses me WHERE ( ( me.address = ? ) ): 'Address...'\nBEGIN WORK\nSELECT me.id, me.address FROM addresses me WHERE ( ( me.address = ? ) ): 'Address...'\nINSERT INTO addresses ( address ) VALUES ( ? ): 'Address...'\nINSERT INTO partners ( billaddr_id, contact_name ) VALUES ( ?, ? ) : '10', 'Jim Customer'\nCOMMIT\n</code></pre>\n\n<p>Why does it do a select before the insert?  Because it's checking to see if an address with the same value of the 'address' column already exists.  If it does exist, the ID of that address is reused, like this:</p>\n\n<pre><code>SELECT me.id, me.address FROM addresses me WHERE ( ( me.address = ? ) ): 'Address...'\nINSERT INTO partners ( billaddr_id, contact_name ) VALUES ( ?, ? ): '10', 'Another Customer with the same address'\n</code></pre>\n\n<p>But that's not what I want!  I want separate addresses for separate customers, even if they happen to live in the same place at the moment.</p>\n\n<p>How can I make DBIx::Class create a new row in the addresses table every time?</p>\n"}, {"tags": ["mysql", "perl", "data-binding"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428940086, "post_id": 29608446, "comment_id": 47364721, "body": "I hope that&#39;s not your real database password in the <code>connect</code> statement..."}], "answers": [{"comments": [{"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1428938071, "post_id": 29608521, "comment_id": 47363310, "body": "So what must I do to get a perl-Script, that reads a pre-defined number of rows?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 1, "creation_date": 1428938124, "post_id": 29608521, "comment_id": 47363358, "body": "<code>&quot;SELECT ... LIMIT 0,$amount&quot;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1428939911, "post_id": 29608521, "comment_id": 47364617, "body": "@HubertSch&#246;lnast Be sure you sanitize your input when you interpolate variables in your SQL statements (you should be doing this anyway, but placeholders give you an extra layer of protection). <a href=\"https://rateip.com/blog/sql-injections-in-mysql-limit-clause/\" rel=\"nofollow noreferrer\"><code>LIMIT</code> <i>is</i> vulnerable to SQL injection</a>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428946769, "post_id": 29608521, "comment_id": 47368663, "body": "After looking into this more, DBD::mysql <i>does</i> allow placeholders in the <code>LIMIT</code> clause. By default, all placeholders are quoted, causing the OP&#39;s problem, but this can be remedied by either 1) setting the type with <code>bind_param</code>, e.g. <code>$sth-&gt;bind_param(1, $limit, SQL_INTEGER);</code> or 2) turning on <a href=\"https://metacpan.org/pod/DBD::mysql#mysql_bind_type_guessing\" rel=\"nofollow noreferrer\"><code>mysql_bind_type_guessing</code></a>. Either method would be safer than interpolating the variable into the SQL statement. I&#39;ve voted to reopen, since DBD::CSV doesn&#39;t support these workarounds."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428947790, "post_id": 29608521, "comment_id": 47369254, "body": "@ThisSuitIsBlackNot, DBD::mysql accepts them in the same sense that it accepts <code>?</code> as an entire SQL statement. It doesn&#39;t check if the <code>?</code> is used somewhere legitimate. You&#39;re recommending the exploitation of a bug. I would recommend <i>against</i> doing that, especially since you derive no benefit from doing so."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428948728, "post_id": 29608521, "comment_id": 47369819, "body": "@ikegami I didn&#39;t realize you could pass an entire statement via a placeholder, but you&#39;re right. That seems...odd. While trying to see if that was actually exploitable, I managed to trigger a buffer overflow with: <code>my $sth = $dbh-&gt;prepare(&#39;?&#39;); my $evil = &#39;delete from test where id &gt; 0&#39;; $sth-&gt;bind_param(1, $evil, SQL_INTEGER); $sth-&gt;execute;</code> (This was apparently <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=61849\" rel=\"nofollow noreferrer\">reported</a> in 2010 but hasn&#39;t been fixed yet.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428949738, "post_id": 29608521, "comment_id": 47370391, "body": "@ThisSuitIsBlackNot, This is because it&#39;s not the MySQL handling the placeholders, but DBD::mysql, and it doesn&#39;t validate the SQL."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1428937027, "creation_date": 1428937027, "answer_id": 29608521, "question_id": 29608446, "link": "https://stackoverflow.com/questions/29608446/perl-dbi-mysql-bind-variables-in-limit-clause/29608521#29608521", "title": "perl DBI mysql bind variables in LIMIT clause", "body": "<p>The arguments of the LIMIT are not expressions, so it can't take a placeholder. </p>\n\n<blockquote>\n  <p><code>LIMIT {[offset,] row_count | row_count OFFSET offset}</code></p>\n</blockquote>\n\n<p><code>LIMIT 0,?</code> is just as wrong as <code>LIMIT 0,4+4</code></p>\n"}], "owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 970, "favorite_count": 1, "closed_date": 1428937361, "accepted_answer_id": 29608521, "answer_count": 1, "score": 1, "last_activity_date": 1428951550, "creation_date": 1428936827, "last_edit_date": 1428951550, "question_id": 29608446, "link": "https://stackoverflow.com/questions/29608446/perl-dbi-mysql-bind-variables-in-limit-clause", "closed_reason": "Duplicate", "title": "perl DBI mysql bind variables in LIMIT clause", "body": "<h2>In a perl-script: How can I bind a variable value to the limit-clause in a mysql-statement?</h2>\n\n<p>I am writing a perl-script, that reads some data from a mysql-table. Here is a shortened version of the original program:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse DBI;\n\n#db-name, user-name and pw are hidden here.\n#In the real programm this part works fine.\nmy $dbh = DBI-&gt;connect('DBI:mysql:database=***;host=localhost','***','***');\n\n#in the real script $from and $amount are parameters \n#that are sent to this program from another source\nmy $from = 0;\nmy $amount = 5;\n\nmy $sql = 'SELECT `RefID` FROM `referenz` WHERE `RefID` &gt; ? ORDER BY `RefID` ASC LIMIT 0,?;';\nmy $sthGetData = $dbh-&gt;prepare($sql);\n$sthGetData-&gt;execute($from,$amount);\nwhile (my $ref = $sthGetData-&gt;fetchrow_hashref()) {\n    if (defined($ref-&gt;{'RefID'})) {\n        print $ref-&gt;{'RefID'}.\"\\n\";\n    }\n}\n$dbh-&gt;disconnect();\nexit(0);\n</code></pre>\n\n<p>The problem seems to be the <code>?</code>-sign in the <code>LIMIT</code>-clause of the sql-statement:  </p>\n\n<pre><code>LIMIT 0,?\n</code></pre>\n\n<p>There is a similar <code>?</code>-phrase in the statement:  </p>\n\n<pre><code>WHERE `RefID` &gt; ?\n</code></pre>\n\n<p>But this is no problem. I've done this many times in other scripts. It works fine.</p>\n\n<p>When I execute the script, I get this error:</p>\n\n<pre><code>DBD::mysql::st execute failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''5'' at line 1 at ./problem.pl line 17.\n</code></pre>\n\n<p>It looks, as if <code>$sthGetData-&gt;execute($from,$amount);</code> adds single-quotation-marks around each value that it binds to the statement, which results in</p>\n\n<pre><code> LIMIT 0,'5' \n</code></pre>\n\n<p>instead of </p>\n\n<pre><code> LIMIT 0,5\n</code></pre>\n\n<p>So, how can I avoid getting this error? How can I bind a variable value to the limit-clause in a mysql-statement?</p>\n\n<pre><code>Server-Typ: MySQL\nServer Version: 5.6.19-0ubuntu0.14.04.1 - (Ubuntu)\n</code></pre>\n"}, {"tags": ["linux", "perl", "hashref"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428929906, "post_id": 29605886, "comment_id": 47357375, "body": "That&#39;s indeed wrong. What are you trying to do?"}, {"owner": {"reputation": 3274, "user_id": 1164911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cfVZp.gif?s=128&g=1", "display_name": "MangeshBiradar", "link": "https://stackoverflow.com/users/1164911/mangeshbiradar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428930104, "post_id": 29605886, "comment_id": 47357515, "body": "I have updated the code in question, Actually I am printing $member."}], "answers": [{"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1428931092, "post_id": 29605971, "comment_id": 47358185, "body": "Thumbs up for last line. Wanted to write +1 but its not accepting."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1428931937, "last_edit_date": 1428931937, "creation_date": 1428929974, "answer_id": 29605971, "question_id": 29605886, "link": "https://stackoverflow.com/questions/29605886/cant-use-string-6-16-as-a-hash-ref-while-strict-refs-in-use/29605971#29605971", "title": "Can&#39;t use string (&quot;6/16&quot;) as a HASH ref while &quot;strict refs&quot; in use", "body": "<p><code>$BLOCK{EXPR}</code> accesses an element of the hash referenced by the expression returned by <code>BLOCK</code>. Since a reference is expected, the block is evaluated in scalar context. <code>%Familly::MEMBERS</code> can't possible result in a reference in scalar context. (It results in a false value or a string describing statistics about the hash.)</p>\n\n<hr>\n\n<p>What you asked:</p>\n\n<p>To print <code>$member</code>, you can use</p>\n\n<pre><code>print('$member'.\"\\n\")\n  -or-\nprint(\"\\$member\\n\")\n</code></pre>\n\n<hr>\n\n<p>What you could have meant:</p>\n\n<p>To print the value of <code>$member</code>, you can use</p>\n\n<pre><code>print(\"$member\\n\")\n</code></pre>\n\n<hr>\n\n<p>What I think you want:</p>\n\n<p>To access the element of <code>%Familly::MEMBERS</code> whose key is the value of <code>$member</code>:</p>\n\n<pre><code>$Familly::MEMBERS{$member}\n</code></pre>\n\n<p>The fact that you use a fully-qualified name doesn't change anything; the syntax is still <code>$NAME{EXPR}</code>.</p>\n\n<hr>\n\n<p>By the way, there's only one \"L\" in \"family\".</p>\n"}], "owner": {"reputation": 3274, "user_id": 1164911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cfVZp.gif?s=128&g=1", "display_name": "MangeshBiradar", "link": "https://stackoverflow.com/users/1164911/mangeshbiradar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 29605971, "answer_count": 1, "score": 0, "last_activity_date": 1428931937, "creation_date": 1428929735, "last_edit_date": 1428930625, "question_id": 29605886, "link": "https://stackoverflow.com/questions/29605886/cant-use-string-6-16-as-a-hash-ref-while-strict-refs-in-use", "title": "Can&#39;t use string (&quot;6/16&quot;) as a HASH ref while &quot;strict refs&quot; in use", "body": "<p>I have a script which has code something like below.</p>\n\n<pre><code>$shelf-&gt;print(\"\\nStarted syncing from \\\"${%Family::MEMBERS}{$member}\\\" \\n\");\n</code></pre>\n\n<p>When I attempt to run it locally on CentOS 7.0 with perl(v5.8.8) it works fine, however the same code on same OS with perl(v5.16.3) it gives me below error.</p>\n\n<pre><code>Can't use string (\"6/16\") as a HASH ref while \"strict refs\" in use at\n</code></pre>\n\n<p>I'd appreciate any advise on what changes might have caused this problem, and what the best way would be to fix the script to work correctly in both versions.</p>\n"}, {"tags": ["linux", "perl", "fork"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4782216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dgr4S.jpg?s=128&g=1", "display_name": "Louson", "link": "https://stackoverflow.com/users/4782216/louson"}, "edited": false, "score": 0, "creation_date": 1429008437, "post_id": 29604611, "comment_id": 47393968, "body": "I must apologize because my question was ambiguous. I wanted to keep the backtick call (I can&#39;t change it)."}, {"owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "reply_to_user": {"reputation": 1, "user_id": 4782216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dgr4S.jpg?s=128&g=1", "display_name": "Louson", "link": "https://stackoverflow.com/users/4782216/louson"}, "edited": false, "score": 0, "creation_date": 1429013376, "post_id": 29604611, "comment_id": 47396841, "body": "What can you change? The <code>echo</code>?"}], "tags": [], "owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "is_accepted": false, "score": 0, "last_activity_date": 1428925846, "creation_date": 1428925846, "answer_id": 29604611, "question_id": 29602257, "link": "https://stackoverflow.com/questions/29602257/standalone-child-in-backtick-command/29604611#29604611", "title": "Standalone child in backtick command", "body": "<p>One of the ways to not to wait for the termination, is to start in the background while redirecting the output to a file. Then try to read the lines with the shell's <code>read</code>.</p>\n\n<p>For example, a hack to read the first line:</p>\n\n<pre><code>./fork.pl &gt; temp.out &amp;\nsleep 1\nread OUTPUT &lt; temp.out\n</code></pre>\n\n<p>Alternatively, without <code>sleep</code>, but limited to a <code>do</code>/<code>done</code> block:</p>\n\n<pre><code>./fork.pl | while read OUTPUT; do\n     # use $OUTPUT here\n     break   # first line only, or loop conditionally\ndone\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4782216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dgr4S.jpg?s=128&g=1", "display_name": "Louson", "link": "https://stackoverflow.com/users/4782216/louson"}, "is_accepted": true, "score": 0, "last_activity_date": 1429008312, "creation_date": 1429008312, "answer_id": 29625364, "question_id": 29602257, "link": "https://stackoverflow.com/questions/29602257/standalone-child-in-backtick-command/29625364#29625364", "title": "Standalone child in backtick command", "body": "<p>It needs to detach from parent and to redirect the input/output :</p>\n\n<pre><code>if ($pid == 0) {\n    my $mysid = setsid();\n    open (STDIN, \"&lt;/dev/null\");\n    open (STDOUT, \"&gt;/dev/null\");\n    open (STDERR, \"&gt;&amp;STDOUT\");\n\n    sleep(5);\n    print(\"child: $pid\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4782216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dgr4S.jpg?s=128&g=1", "display_name": "Louson", "link": "https://stackoverflow.com/users/4782216/louson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 29625364, "answer_count": 2, "score": 0, "last_activity_date": 1429008312, "creation_date": 1428918217, "last_edit_date": 1428930818, "question_id": 29602257, "link": "https://stackoverflow.com/questions/29602257/standalone-child-in-backtick-command", "title": "Standalone child in backtick command", "body": "<p>Here is a main script that exec the perl script \"fork.pl\"\n    #!/bin/bash</p>\n\n<pre><code>OUTPUT=`./fork.pl`\necho \"$OUTPUT\"\n</code></pre>\n\n<p>And the fork.pl:\n    #!/usr/bin/perl</p>\n\n<pre><code>use strict;\nuse warnings;\nuse POSIX;\n\nmy $pid = fork();\n\nif ($pid == 0) {\n    sleep(5);\n    print(\"child: $pid\\n\");\n}\n\nelse {\n    print(\"parent: $pid\\n\")\n}\n</code></pre>\n\n<p>The backtick implies a wait, but I would like to not wait for the last child.\nthanks</p>\n"}, {"tags": ["python", "perl", "web-services", "soap"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1428941924, "last_edit_date": 1428941924, "creation_date": 1428939702, "answer_id": 29609501, "question_id": 29602172, "link": "https://stackoverflow.com/questions/29602172/soap-web-service-uri-or-namespace-format/29609501#29609501", "title": "SOAP web service uri or namespace format", "body": "<p>The namespace name is an absolute IRI. (An IRI is basically an URI with support for non-ASCII characters.) Any absolute IRI. The scheme (http, urn, etc) doesn't matter. It can't be <code>testwebservice</code> since that's not a valid absolute IRI (or URI).</p>\n\n<p>The namespace name is only used for identification purposes. It isn't used for resource retrieval, so using an HTTP IRI that would return 404 is perfectly fine.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user966588"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428941924, "creation_date": 1428917911, "last_edit_date": 1428927433, "question_id": 29602172, "link": "https://stackoverflow.com/questions/29602172/soap-web-service-uri-or-namespace-format", "title": "SOAP web service uri or namespace format", "body": "<p>So I have seen SOAP client programs with <code>namespace</code> and <code>url</code> for python </p>\n\n<p>and using <code>uri</code> and <code>proxy</code> for perl such as below</p>\n\n<p>python <a href=\"http://www.cwroethel.com/Articles/SOAPQuick/SOAP-QuickPython.htm\" rel=\"nofollow\">soap client</a>:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport sys\nfrom SOAPpy import SOAPProxy\n\noption = sys.argv[1]\n\nserverUrl='http://localhost:9000'\nnamespace='urn:/Date'\nserver = SOAPProxy(serverUrl, namespace)\nresponse = server.dateInfo(option)\n\n# read out the response\nif (response == None):\n    print \"Call returned error.\"\n    sys.exit(1)\n\nprint \"Currently server date and time is \" + response\n</code></pre>\n\n<p>perl <a href=\"http://guide.soaplite.com/#writing%20a%20client\" rel=\"nofollow\">soap client</a>:</p>\n\n<pre><code>  #!perl -w\n  use SOAP::Lite;\n  $soap_response = SOAP::Lite\n    -&gt; uri('http://www.soaplite.com/Demo')\n    -&gt; proxy('http://services.soaplite.com/hibye.cgi')\n    -&gt; languages();\n  @res = $soap_response-&gt;paramsout;\n  $res = $soap_response-&gt;result;                               \n  print \"Result is $res, outparams are @res\\n\";\n</code></pre>\n\n<p>Now here in first, namespace is <code>urn:/Date</code> \nand in second program uri is <code>http://www.soaplite.com/Demo</code>. </p>\n\n<p>I know that <code>uri</code> and <code>namespace</code> are words used to represent the same i.e. namespace used by SOAP to register a service.</p>\n\n<p>My question is that whether the format used to name it \ni.e. <code>urn:...</code> or <code>http://...</code> mandatory \nor can I simply use something like <code>testwebservice</code> to register web service</p>\n"}, {"tags": ["linux", "perl", "websocket"], "answers": [{"comments": [{"owner": {"reputation": 332, "user_id": 1190411, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cbd50a86ebdb58788e32848a01ced3f1?s=128&d=identicon&r=PG", "display_name": "user1190411", "link": "https://stackoverflow.com/users/1190411/user1190411"}, "edited": false, "score": 0, "creation_date": 1428992484, "post_id": 29601560, "comment_id": 47384938, "body": "Hm, it is all dandy, but the app is running on FastCGI, so I doubt that nginx knows anything about fastcgi worker processes. Nginx is only proxy. Also I only reload nginx conf, so the nginx is always up."}], "tags": [], "owner": {"reputation": 15737, "user_id": 127035, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a360b09f6769b2b96898a0a8955b98e3?s=128&d=identicon&r=PG", "display_name": "sudocode", "link": "https://stackoverflow.com/users/127035/sudocode"}, "is_accepted": false, "score": 2, "last_activity_date": 1428915899, "creation_date": 1428915899, "answer_id": 29601560, "question_id": 29601052, "link": "https://stackoverflow.com/questions/29601052/can-i-identify-ongoing-web-request-on-linux/29601560#29601560", "title": "Can I identify ongoing web request on linux?", "body": "<p>According to this <a href=\"http://nginx.org/en/docs/beginners_guide.html#control\" rel=\"nofollow\">nginx guide</a>, the command <code>nginx -s quit</code> (or kill -QUIT) does a graceful shutdown which waits for the worker processes to finish serving current requests. </p>\n"}], "owner": {"reputation": 332, "user_id": 1190411, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cbd50a86ebdb58788e32848a01ced3f1?s=128&d=identicon&r=PG", "display_name": "user1190411", "link": "https://stackoverflow.com/users/1190411/user1190411"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428915899, "creation_date": 1428914053, "question_id": 29601052, "link": "https://stackoverflow.com/questions/29601052/can-i-identify-ongoing-web-request-on-linux", "title": "Can I identify ongoing web request on linux?", "body": "<p>I have a perl Catalyst application that uses websockets. From time to time I have to restart the app for bugfixes and features.\nFor this I change nginx conf, reload nginx and start parallel app with new code. Then restart the old app and kill the intermediate app.\nThe problem with this chain of logic is, I might kill an ongoing request. All new request are handled nicely, that is not the problem.\nSo my question is, can I somehow detect, that socket has an ongoing request?</p>\n\n<p>Or, should I use a poor man's solution, and before kill wait for 30s?</p>\n\n<p>Nginx relevant part(live):</p>\n\n<pre><code>upstream backend {\n    ip_hash;\n\n    server unix:/tmp/frontend.socket;\n    server unix:/tmp/frontend_redundant.socket down;\n}\n</code></pre>\n\n<p>(restart):</p>\n\n<pre><code>upstream backend {\n    ip_hash;\n\n    server unix:/tmp/frontend.socket down;\n    server unix:/tmp/frontend_redundant.socket;\n}\n</code></pre>\n\n<p>For app restart I use Daemon::Control start/stop.</p>\n"}, {"tags": ["perl", "hadoop", "mapreduce", "hadoop-streaming"], "comments": [{"owner": {"reputation": 2705, "user_id": 1501456, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/660e626ccb2d55bc2f3ca14940fb882e?s=128&d=identicon&r=PG", "display_name": "Buzzy", "link": "https://stackoverflow.com/users/1501456/buzzy"}, "edited": false, "score": 0, "creation_date": 1428912950, "post_id": 29600618, "comment_id": 47347535, "body": "Could you please properly edit the code so that it is readable"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1428913469, "post_id": 29600618, "comment_id": 47347782, "body": "It looks like you start your script twice, once as mapper and once as option file."}, {"owner": {"reputation": 11, "user_id": 4781874, "user_type": "registered", "profile_image": "https://graph.facebook.com/642107749266404/picture?type=large", "display_name": "Tarun Chatterjee", "link": "https://stackoverflow.com/users/4781874/tarun-chatterjee"}, "edited": false, "score": 0, "creation_date": 1428914762, "post_id": 29600618, "comment_id": 47348477, "body": "Without file option it will not execute - Gives me error. I will have to pass the mapper class for the perl scrip to execute. Any Suggestions please?"}, {"owner": {"reputation": 11, "user_id": 4781874, "user_type": "registered", "profile_image": "https://graph.facebook.com/642107749266404/picture?type=large", "display_name": "Tarun Chatterjee", "link": "https://stackoverflow.com/users/4781874/tarun-chatterjee"}, "edited": false, "score": 0, "creation_date": 1429153844, "post_id": 29600618, "comment_id": 47468571, "body": "Can anyone kindly suggest any idea?"}], "owner": {"reputation": 11, "user_id": 4781874, "user_type": "registered", "profile_image": "https://graph.facebook.com/642107749266404/picture?type=large", "display_name": "Tarun Chatterjee", "link": "https://stackoverflow.com/users/4781874/tarun-chatterjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 712, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1428913751, "creation_date": 1428912422, "last_edit_date": 1428913751, "question_id": 29600618, "link": "https://stackoverflow.com/questions/29600618/running-perl-script-on-hadoop", "title": "Running Perl script on Hadoop", "body": "<p>I have a Perl Script that generates data.</p>\n\n<pre><code>#! /usr/bin/perl -w\nfor ($i=0; $i&lt;3; $i++)\n{\n        $str1 = \"\";\n        $str2 = \"\";\n        $str3 = \"\";\n        $str4 = \"\";\n        $str5 = \"\";\n        $str6 = \"\";\n        $str7 = \"\";\n        $str8 = \"\";\n        $str9 = \"\";\n        @chars=('a'..'z','A'..'Z','_');\n    for(1..10){\n        $str1.=$chars[rand @chars];\n        $str2 =$chars[rand @chars];\n        $str3 =$chars[rand @chars];\n        $str4 =$chars[rand @chars];\n        $str5 =$chars[rand @chars];\n        $str6 =$chars[rand @chars];\n        $str7 =$chars[rand @chars];\n        $str8 =$chars[rand @chars];\n        $str9 =$chars[rand @chars];\n    }\n        print \"$i:str1:str2:str3:str4:str5:str6:str7:str8:str9\\n\";\n}\n</code></pre>\n\n<p>When I run the script using <code>Hadoop Streaming</code>, like this:</p>\n\n<pre><code>#!/usr/bin\nhadoop fs -rm -R /user/oracle/output\necho \"Start time :\" `date` &gt;&gt; run_time_perl_hadoop.log\nhadoop jar /opt/cloudera/parcels/CDH-5.3.0-1.cdh5.3.0.p0.30/lib/hadoop-0.20-        mapreduce/contrib/streaming/hadoop-streaming.jar \\\n-D mapreduce.map.tasks=1 \\\n-input /user/oracle/perl_test/data_generator_hadoop_tarun.pl \\\n-output /user/oracle/output \\\n-mapper data_generator_hadoop_tarun.pl \\\n-file data_generator_hadoop_tarun.pl\n\n\necho \"End time :\" `date` &gt;&gt; run_time_perl_hadoop.log\n</code></pre>\n\n<p>It generates 6 Rows instead of 3 rows.</p>\n\n<p>Any idea why?</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 3, "creation_date": 1428913592, "post_id": 29600486, "comment_id": 47347852, "body": "Output to STDERR is usually not buffered while other output is buffered. Add a <code>$|++;</code> after the use cases and all of your output will be unbuffered and the sequence will be what you expect."}], "answers": [{"tags": [], "owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1428939710, "last_edit_date": 1428939710, "creation_date": 1428916230, "answer_id": 29601648, "question_id": 29600486, "link": "https://stackoverflow.com/questions/29600486/why-output-on-perl-eval-differ-between-common-bash-output-and-redirection-stdout/29601648#29601648", "title": "Why output on perl eval differ between common bash output and redirection STDOUT + STDERR into file?", "body": "<p>It's only an autoflush problem NO eval question.</p>\n\n<p>Solution is:</p>\n\n<pre><code>perl -e'\nuse strict; \nuse warnings;\n\n$|++; # &lt;== this autoflush print output\n\nmy $a={};\ntest();\n\nsub test{ \n   print \"11\\n\";\n   if( $a-&gt;{aa} eq \"aa\"){\n      print \"aa\\n\";\n   }\n   else{\n      print \"bb\\n\";\n   }\n}' &gt; t.log 2&gt;&amp;1\n</code></pre>\n\n<p>In some cases on terminal is the same problem:</p>\n\n<p>perl -e'print(\"abc\"); print(STDERR \"def\\n\"); print(\"ghi\\n\");'</p>\n\n<p>The only save way to get correct order, is turn on autoflush!</p>\n\n<p>@dgw + ikegami ==> thank's</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1428936518, "last_edit_date": 1428936518, "creation_date": 1428931074, "answer_id": 29606301, "question_id": 29600486, "link": "https://stackoverflow.com/questions/29600486/why-output-on-perl-eval-differ-between-common-bash-output-and-redirection-stdout/29606301#29606301", "title": "Why output on perl eval differ between common bash output and redirection STDOUT + STDERR into file?", "body": "<p>A simpler demonstration of the problem:</p>\n\n<pre><code>$ perl -e'print(\"abc\\n\"); warn(\"def\\n\");'\nabc\ndef\n\n$ perl -e'print(\"abc\\n\"); warn(\"def\\n\");' 2&gt;&amp;1 | cat\ndef\nabc\n</code></pre>\n\n<p>This is due to differences in how STDOUT and STDERR are buffered.</p>\n\n<ul>\n<li>STDERR isn't buffered.</li>\n<li>STDOUT flushes its buffer when a newline is encountered if STDOUT is connected to a terminal.</li>\n<li>STDOUT flushes its buffer when it's full otherwise.</li>\n</ul>\n\n<p><code>$| = 1;</code> turns off buffering for STDOUT<sup>[1]</sup>.</p>\n\n<pre><code>$ perl -e'$| = 1; print(\"abc\\n\"); warn(\"def\\n\");' 2&gt;&amp;1 | cat\nabc\ndef\n</code></pre>\n\n<hr>\n\n<ol>\n<li>Actually, the currently <code>select</code>ed handle, which is the one <code>print</code> writes to if no handle is specified, which is STDOUT by default.</li>\n</ol>\n"}], "owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 29606301, "answer_count": 2, "score": 0, "last_activity_date": 1428939710, "creation_date": 1428911962, "question_id": 29600486, "link": "https://stackoverflow.com/questions/29600486/why-output-on-perl-eval-differ-between-common-bash-output-and-redirection-stdout", "title": "Why output on perl eval differ between common bash output and redirection STDOUT + STDERR into file?", "body": "<p>My code is:</p>\n\n<pre><code>  perl -e'\n  use strict; use warnings;\n\n  my $a={};\n\n  eval{ test(); };\n\n  sub test{\n     print \"11\\n\";\n     if( $a-&gt;{aa} eq \"aa\"){\n        print \"aa\\n\";\n     }\n     else{\n        print \"bb\\n\";\n     }\n  }'\n</code></pre>\n\n<p>Output on Terminal is:</p>\n\n<pre><code>  11\n  Use of uninitialized value in string eq at -e line 9.\n  bb\n</code></pre>\n\n<p>If I redirect in file, the output order differ. Why?</p>\n\n<pre><code>  perl -e'\n  ...\n  ' &gt; t.log 2&gt;&amp;1\n</code></pre>\n\n<p>cat t.log:</p>\n\n<pre><code>  Use of uninitialized value in string eq at -e line 9.\n  11\n  bb\n</code></pre>\n\n<p>My perl Version:</p>\n\n<pre><code>  This is perl 5, version 18, subversion 4 (v5.18.4) built for x86_64-linux-thread-multi\n  (with 20 registered patches, see perl -V for more detail)\n</code></pre>\n"}, {"tags": ["perl", "sed", "command-line-arguments"], "comments": [{"owner": {"reputation": 12672, "user_id": 1200821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cm117.jpg?s=128&g=1", "display_name": "Juan Diego Godoy Robles", "link": "https://stackoverflow.com/users/1200821/juan-diego-godoy-robles"}, "edited": false, "score": 0, "creation_date": 1448486602, "post_id": 29599798, "comment_id": 55614183, "body": "It is good to indicate that your issue is solved by accepting an answer that was useful."}], "answers": [{"comments": [{"owner": {"reputation": 27478, "user_id": 183120, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fc147f814e1473bb6105db3d924fb590?s=128&d=identicon&r=PG", "display_name": "legends2k", "link": "https://stackoverflow.com/users/183120/legends2k"}, "edited": false, "score": 2, "creation_date": 1428909933, "post_id": 29599849, "comment_id": 47345990, "body": "Upvoted for advising on avoiding an additional tool. In fact this is one of the strong suits of Perl."}], "tags": [], "owner": {"reputation": 12672, "user_id": 1200821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cm117.jpg?s=128&g=1", "display_name": "Juan Diego Godoy Robles", "link": "https://stackoverflow.com/users/1200821/juan-diego-godoy-robles"}, "is_accepted": false, "score": 4, "last_activity_date": 1428911481, "last_edit_date": 1428911481, "creation_date": 1428909728, "answer_id": 29599849, "question_id": 29599798, "link": "https://stackoverflow.com/questions/29599798/sed-error-sed-no-input-files/29599849#29599849", "title": "Sed error &quot;sed: no input files&quot;", "body": "<p>Changue your quoting system:</p>\n\n<pre><code>$cmd = \"sed -i '/Job will shutdown./d' $logfile\";\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>$cmd = qq(sed -i '/Job will shutdown./d' $logfile);\n</code></pre>\n\n<p>Check <a href=\"http://www.perlmonks.org/?node=quotes+in+Perl\" rel=\"nofollow\">http://www.perlmonks.org/?node=quotes+in+Perl</a></p>\n\n<p>PD: <strong>This task could be done natively in <code>perl</code>.</strong></p>\n"}], "owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3378, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1428911481, "creation_date": 1428909495, "last_edit_date": 1428909866, "question_id": 29599798, "link": "https://stackoverflow.com/questions/29599798/sed-error-sed-no-input-files", "title": "Sed error &quot;sed: no input files&quot;", "body": "<p>I have the script which cleans up the the pattern in the file supplied as the argument.</p>\n\n<p>The \"file1\" that needs clean up and the script lies at the same place.When I pass \"file1\" as argumenit is echoed well but at the \ntime of the execution of the sed command it gives the following error:</p>\n\n<pre><code>-sh-3.2$ ./temp.pl file1.txt\n\nFile provided as the argument : file1.txt\nsed: no input files\n</code></pre>\n\n<p>My script is:</p>\n\n<pre><code>my $logfile = $ARGV[0];\nprint \"File provided as the argument : $logfile \\n\";\n$cmd = q(sed -i '/Job will shutdown./d' $logfile);\n$n = system($cmd);\n</code></pre>\n"}, {"tags": ["arrays", "regex", "string", "perl", "split"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1428908974, "post_id": 29599634, "comment_id": 47345516, "body": "Are there linebreak at the end of every part?"}, {"owner": {"reputation": 231, "user_id": 4108074, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-8pcxs8UWbGM/AAAAAAAAAAI/AAAAAAAABl8/r4TMAyPCHl4/photo.jpg?sz=128", "display_name": "sr1", "link": "https://stackoverflow.com/users/4108074/sr1"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1428909032, "post_id": 29599634, "comment_id": 47345535, "body": "@Jens No linebreak , it&#39;s a continuous string with spaces."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1428909242, "post_id": 29599634, "comment_id": 47345637, "body": "Are there any eye catcher or what is the logic behind this."}], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1429168911, "post_id": 29599727, "comment_id": 47474463, "body": "I did&#39;t understand your regex  why you used <code>&#47;\\s+(?=[^:\\s]+:\\s+)&#47;</code> i used  this  <code>&#47;\\s+(?=[\\w]+:\\s+)&#47;</code> instead of that . what is the meaning of <code>[^:\\s]</code> in this case? How the negation works?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1429169087, "post_id": 29599727, "comment_id": 47474573, "body": "if the key part contain the chars other than <code>a-z</code>, <code>A-Z</code>, <code>0-9</code>, <code>_</code> then your regex won&#39;t work. So i used, <code>[^\\s:]</code> which matches an char but not of space or colon. <code>[^:\\s]+</code> one or more times."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 4, "last_activity_date": 1428909841, "last_edit_date": 1428909841, "creation_date": 1428909220, "answer_id": 29599727, "question_id": 29599634, "link": "https://stackoverflow.com/questions/29599634/perl-split-the-string-into-desirable-parts/29599727#29599727", "title": "Perl : Split the string into desirable parts", "body": "<p>Just split according to the space which exists before one or more non-space characters followed by a colon  which in-turn followed by a space. So this won't match the space which exists before <code>http:</code>, since there isn't a space follows <code>http:</code> .</p>\n\n<pre><code>my $string = \"Google Inc. 1600 Amphitheatre Parkway Mountain View, CA 94043 United States - Map Phone: 650-253-0000 Fax: 650-253-0001 Website: http://www.google.com \";\nmy @abc = split /\\s+(?=[^:\\s]+:\\s+)/, $string;\nprint $_, \"\\n\" for @abc;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Google Inc. 1600 Amphitheatre Parkway Mountain View, CA 94043 United States - Map\nPhone: 650-253-0000\nFax: 650-253-0001\nWebsite: http://www.google.com\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 4108074, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-8pcxs8UWbGM/AAAAAAAAAAI/AAAAAAAABl8/r4TMAyPCHl4/photo.jpg?sz=128", "display_name": "sr1", "link": "https://stackoverflow.com/users/4108074/sr1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 29599727, "answer_count": 1, "score": 0, "last_activity_date": 1428909841, "creation_date": 1428908837, "last_edit_date": 1428909124, "question_id": 29599634, "link": "https://stackoverflow.com/questions/29599634/perl-split-the-string-into-desirable-parts", "title": "Perl : Split the string into desirable parts", "body": "<p>I'm new to perl and trying to split this string into 4 parts and store it in a <code>@parts</code> array.</p>\n\n<pre><code>$string = \" Google Inc. 1600 Amphitheatre Parkway Mountain View, CA 94043 United States - Map Phone: 650-253-0000 Fax: 650-253-0001 Website: http://www.google.com \";\n</code></pre>\n\n<p>such that <code>@parts</code> array should become</p>\n\n<pre><code>$part[0]= \"Google Inc. 1600 Amphitheatre Parkway Mountain View, CA 94043 United States - Map\" ;\n$part[1]= \"Phone: 650-253-0000 \";\n$part[2]= \"Fax: 650-253-0001 \";\n$part[3]= \"Website: http://www.google.com\";\n</code></pre>\n\n<p>How to achieve this?</p>\n"}, {"tags": ["perl", "mojolicious", "plack"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 4827512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-w8n2K5cozik/AAAAAAAAAAI/AAAAAAAAABI/HUQjB31UgDc/photo.jpg?sz=128", "display_name": "leejo", "link": "https://stackoverflow.com/users/4827512/leejo"}, "is_accepted": true, "score": 2, "last_activity_date": 1430166529, "creation_date": 1430166529, "answer_id": 29905349, "question_id": 29598850, "link": "https://stackoverflow.com/questions/29598850/how-do-i-avoid-502-responses-with-plack-and-mojolicious/29905349#29905349", "title": "How do I avoid 502 responses with Plack and Mojolicious?", "body": "<p>It's more than possible that the default timeout values in Mojolicious aren't high enough for your app, which may lead to the worker process being stopped by the manager, resulting in an invalid response to the Plack app and thus the 502. So check the <a href=\"http://mojolicio.us/perldoc/Mojo/Server/Hypnotoad#SETTINGS\" rel=\"nofollow\">config settings</a> for the timeouts and modify if necessary. You may also need to up the number of workers if your app is under heavy load, although i suspect that's not the problem here.</p>\n\n<p>More useful information would be found in the mojolicious app log file - if you run hypnotoad under debug with <code>MOJO_LOG_LEVEL=debug</code> then you will see the connection hit the app, and then a timeout if this is indeed the problem.</p>\n\n<p>The response being fine on a reload is indicative of maybe something being slow to load in your app, or perhaps a cache being populated, etc. Hard to say without log entries from the hypnotoad server</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 29905349, "answer_count": 1, "score": 3, "last_activity_date": 1430166529, "creation_date": 1428905557, "last_edit_date": 1428910919, "question_id": 29598850, "link": "https://stackoverflow.com/questions/29598850/how-do-i-avoid-502-responses-with-plack-and-mojolicious", "title": "How do I avoid 502 responses with Plack and Mojolicious?", "body": "<p>I have set up a small Mojolicious app to run behind Plack acting as proxy like this:</p>\n\n<pre><code>builder {\n      mount \"/q\" =&gt; builder {\n          Plack::App::Proxy-&gt;new(remote =&gt; \"http://127.0.0.1:3010\")-&gt;to_app;\n      };\n};\n</code></pre>\n\n<p>I need to run it this way (rather than mounting the application directly) as I need to reload the app a few times a day, for reasons I can't go into here.</p>\n\n<p>The app runs on hypnotoad, and when I hit it directly, everything's fine. However, when hit via the plack proxy, I often get a 502 response - <code>Gateway error: Connection timed out</code>.</p>\n\n<p>The funny thing is, when I reload once or twice, everything seems fine, and I get the proper response.</p>\n\n<p>Can anybody help figure this out?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 2103874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e8e0f732bebc300c3d052b5870ae436?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2103874/chris"}, "edited": false, "score": 0, "creation_date": 1428900923, "post_id": 29597533, "comment_id": 47342625, "body": "Thank you. I&#39;m sure I tried double quotes but there must have been other errors at the time. Got to love going in circles."}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1428896643, "creation_date": 1428896643, "answer_id": 29597533, "question_id": 29597497, "link": "https://stackoverflow.com/questions/29597497/escaping-angle-brackets-in-perl-string/29597533#29597533", "title": "Escaping angle brackets in Perl string", "body": "<p>You either need to substitute inside a double-quoted string:</p>\n\n<pre><code>$i = \"&lt;h1&gt;$i&lt;/h1&gt;\";\n</code></pre>\n\n<p>or use string concatenation:</p>\n\n<pre><code>$i = '&lt;h1&gt;' . $i . '&lt;/h1&gt;';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1428904305, "post_id": 29597591, "comment_id": 47343633, "body": "I would avoid doing <code>s???</code> since <code>m??</code> has special meaning and people might come to do that"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 2, "last_activity_date": 1428904933, "last_edit_date": 1428904933, "creation_date": 1428897161, "answer_id": 29597591, "question_id": 29597497, "link": "https://stackoverflow.com/questions/29597497/escaping-angle-brackets-in-perl-string/29597591#29597591", "title": "Escaping angle brackets in Perl string", "body": "<p>You could achieve this with a single replacement.</p>\n\n<pre><code>my $string = \"# heading 1\";\n$string =~ s/^#\\s*(.*)/&lt;h1&gt;$1&lt;\\/h1&gt;/;\nprint $string.\"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 4597821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e228cff4f83ec14f95da402ab6fd915?s=128&d=identicon&r=PG&f=1", "display_name": "Nishikant Lohar", "link": "https://stackoverflow.com/users/4597821/nishikant-lohar"}, "is_accepted": false, "score": -1, "last_activity_date": 1428919406, "creation_date": 1428919406, "answer_id": 29602679, "question_id": 29597497, "link": "https://stackoverflow.com/questions/29597497/escaping-angle-brackets-in-perl-string/29602679#29602679", "title": "Escaping angle brackets in Perl string", "body": "<p>Double quotes are working fine without error.\nI tried this with following example</p>\n\n<pre><code>$i = \"&lt;h1&gt;Here Comes The Header&lt;\\h1&gt;\";\nprint \"$i\";\n\noutput: \n&lt;h1&gt;Here Comes Header&lt;h1&gt;\n</code></pre>\n\n<p>I think there will not be any problem with double quotes</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1428941262, "creation_date": 1428941262, "answer_id": 29610001, "question_id": 29597497, "link": "https://stackoverflow.com/questions/29597497/escaping-angle-brackets-in-perl-string/29610001#29610001", "title": "Escaping angle brackets in Perl string", "body": "<p>Of course, you could also automatically deduce the heading level using the number of leading octothorpes.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile (my $line = &lt;DATA&gt;) {\n    next unless $line =~ /\\A ([#]{1,6}) \\s+ ([^\\n]+) $/x;\n    my $level = length $1;\n    print \"&lt;h$level&gt;$2&lt;/h$level&gt;\\n\";\n}\n\n\n__DATA__\n\n# heading 1\n## heading 2\n### heading 3\n#### heading 4\n##### heading 5\n###### heading 6\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;h1&gt;heading 1&lt;/h1&gt;\n&lt;h2&gt;heading 2&lt;/h2&gt;\n&lt;h3&gt;heading 3&lt;/h3&gt;\n&lt;h4&gt;heading 4&lt;/h4&gt;\n&lt;h5&gt;heading 5&lt;/h5&gt;\n&lt;h6&gt;heading 6&lt;/h6&gt;\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 2103874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e8e0f732bebc300c3d052b5870ae436?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2103874/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 0, "accepted_answer_id": 29597533, "answer_count": 4, "score": -1, "last_activity_date": 1428941262, "creation_date": 1428896343, "question_id": 29597497, "link": "https://stackoverflow.com/questions/29597497/escaping-angle-brackets-in-perl-string", "title": "Escaping angle brackets in Perl string", "body": "<p>Seems like a really simple question but it's driving me wild. The answers I've found are far too complex.</p>\n\n<p>I need to create a basic markdown script. I have a text file with this line:</p>\n\n<pre><code># heading 1\n</code></pre>\n\n<p>I want to remove the \"# \" from the start so I use regex s/</p>\n\n<pre><code>$i =~ s/^#\\s//;\n</code></pre>\n\n<p>Success! $i now reads</p>\n\n<pre><code>heading 1\n</code></pre>\n\n<p>The next step is to add html tags to make it a header. I need $i to be:</p>\n\n<pre><code>&lt;h1&gt;heading 1&lt;/h1&gt;\n</code></pre>\n\n<p>Seems so simple</p>\n\n<pre><code>$i = &lt;h1&gt;$i&lt;/h1&gt;;\n</code></pre>\n\n<p>nope...perl gets crazy about the use of &lt;>. OK so escape them with single quotes..</p>\n\n<pre><code>$i = '&lt;h1&gt;'$i'&lt;/h1&gt;';\n</code></pre>\n\n<p>Still nope. And I've been changing things and trolling answers for hours now to the point I'm more confused than when I started. Can someone please explain it like I'm 5 how the hell to make $i the string I need it to be.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 4, "creation_date": 1428891784, "post_id": 29596994, "comment_id": 47340738, "body": "First define plain text, and how it differs from some other type of file.  Are you concerned with MIME types, with human readability? Is base64 plain text? Are Russian, Farsee, and Sanskrit plain text?  If not, what language should plain text be?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1428893407, "post_id": 29596994, "comment_id": 47341051, "body": "In addition to what @DavidO said, you really need to show us your code otherwise we won&#39;t be able to tell you if you&#39;re on the right track."}, {"owner": {"reputation": 7145, "user_id": 267398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/beea308e4f0cd2781b8b3a362bac5493?s=128&d=identicon&r=PG", "display_name": "sebnukem", "link": "https://stackoverflow.com/users/267398/sebnukem"}, "edited": false, "score": 2, "creation_date": 1428898283, "post_id": 29596994, "comment_id": 47342019, "body": "Post your current code..."}, {"owner": {"reputation": 1, "user_id": 4781065, "user_type": "registered", "profile_image": "https://graph.facebook.com/810333542336675/picture?type=large", "display_name": "Laurdora", "link": "https://stackoverflow.com/users/4781065/laurdora"}, "edited": false, "score": 0, "creation_date": 1428899994, "post_id": 29596994, "comment_id": 47342396, "body": "I&#39;m not familiar with programming language so, still learning the basics from knowing nothing about programming language, but anyway, here is my code: &lt;code&gt; <code>#! usr&#47;bin&#47;perl</code> <code>use strict;</code> <code>use warnings;</code>  <code>sub textfile_validate ($_) {</code> `\tchomp;` `\topen (my $FH, $_);` `\twarn &quot;$_ not exist, please try again\\n&quot; if (! -e $FH);` `\twarn &quot;$_ is an invalide text file, please try again&quot; if (! -f $FH &amp;&amp; ! -T $FH);` `\tprint &quot;Text file validated successfully!\\n&quot;if ($FH);` <code>}</code>  <code>print &quot;insert name of the the first file: &quot;;</code> <code>my $first_file = &lt;STDIN&gt;;</code> <code>textfile_validate($_= $first_file);</code>&lt;code\\&gt;"}, {"owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "edited": false, "score": 2, "creation_date": 1428901153, "post_id": 29596994, "comment_id": 47342700, "body": "-e -f etc work with file names not file handlers. You don&#39;t need to open a file to check its existence. Distinguishing text from non-text (binary) is more tricky"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1428907800, "post_id": 29596994, "comment_id": 47344973, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2601027/how-can-i-check-if-a-file-exists-in-perl\">How can I check if a file exists in Perl?</a>"}, {"owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1428911019, "post_id": 29596994, "comment_id": 47346582, "body": "@serenesat this question is not about existing file, but about if content if plain ascii or not..."}, {"owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "edited": false, "score": 0, "creation_date": 1428911116, "post_id": 29596994, "comment_id": 47346642, "body": "@Laurdora please <b>post your code</b> (What you already tried)!!"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "edited": false, "score": 0, "creation_date": 1428911391, "post_id": 29596994, "comment_id": 47346792, "body": "@F.Hauri: The <a href=\"http://stackoverflow.com/a/2601042/4248931\">answer</a> state that <i>The code <code>print &quot;$base_path exists!\\n&quot; if -e $base_path;</code> will generate output if a plain file exists at that path</i>."}, {"owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1428912647, "post_id": 29596994, "comment_id": 47347389, "body": "@serenesat <code>plain file</code> is not <code>plain text file</code> (ie non binary file)"}], "answers": [{"tags": [], "owner": {"reputation": 2494, "user_id": 1921546, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fe4ac75c43b846d9665f422cdac5cb03?s=128&d=identicon&r=PG", "display_name": "pii_ke", "link": "https://stackoverflow.com/users/1921546/pii-ke"}, "is_accepted": false, "score": 0, "last_activity_date": 1428905527, "creation_date": 1428905527, "answer_id": 29598842, "question_id": 29596994, "link": "https://stackoverflow.com/questions/29596994/how-to-validate-a-plain-text-file-in-perl/29598842#29598842", "title": "How to validate a plain text file in perl", "body": "<p>you can use</p>\n\n<pre><code>if(-f \"filename\" ) {\n    #validate content if required\n    #do other things\n}\n</code></pre>\n\n<p>if you want to validate the <em>content</em> of file, you'll have to code that logic yourself before you do other things.</p>\n\n<p>For more details read <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/-X.html</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "is_accepted": false, "score": 1, "last_activity_date": 1428912094, "last_edit_date": 1428912094, "creation_date": 1428906707, "answer_id": 29599092, "question_id": 29596994, "link": "https://stackoverflow.com/questions/29596994/how-to-validate-a-plain-text-file-in-perl/29599092#29599092", "title": "How to validate a plain text file in perl", "body": "<h2><a href=\"/questions/tagged/perl\" class=\"post-tag\" title=\"show questions tagged 'perl'\" rel=\"tag\">perl</a>'s <em>heuristic</em> test for determining if <code>-B</code> or <code>-T</code></h2>\n\n<p>command <code>perldoc -f -T | sed -ne '/-T.*\"-B\".*work/,+3p'</code> output:</p>\n\n<blockquote>\n<pre><code>          The \"-T\" and \"-B\" switches work as follows.  The first block or\n          so of the file is examined for odd characters such as strange\n          control codes or characters with the high bit set.  If too many\n          strange characters (&gt;30%) are found, it's a \"-B\" file;\n</code></pre>\n</blockquote>\n\n<p>So if <code>30%</code> don't match your need, you have to use another way:</p>\n\n<h2>Use <a href=\"http://search.cpan.org/~salva/Test-PureASCII-0.02/lib/Test/PureASCII.pm\" rel=\"nofollow\">Test::PureASCII</a></h2>\n\n<pre><code>  use Test::PureASCII tests =&gt; $how_many;\n  file_is_pure_ascii($filename1, \"only ASCII in $filaname1\");\n</code></pre>\n\n<h2>or build your own test routine.</h2>\n\n<pre><code>#!/usr/bin/perl -w -CIO\nuse strict;\n\nsub testfile {\n    open FH, \"&lt;\" . $_[0];\n    my $block = \" \" x 4096;\n    sysread FH, $block, 4096;\n    close FH;\n    return 0 unless $block =~ /^[\\r\\n\\t -~]*$/s;\n    return 1;\n}\nopendir DH, \"/tmp\";\nmap {\n    printf \"%s\\n\", $_;\n  } grep {\n     -f \"/tmp/\" . $_ &amp;&amp;\n     -r \"/tmp/\" . $_ &amp;&amp;\n     testfile \"/tmp/\" . $_;\n  } readdir DH;\n</code></pre>\n\n<h3>Same, accepting UTF-8</h3>\n\n<pre><code>#!/usr/bin/perl -w -CIO\nuse strict;\nuse utf8;\n\nsub testfile {\n    open FH, \"&lt;\" . $_[0];\n    my $block = \" \" x 16384;\n    sysread FH, $block, 16384;\n    close FH;\n    utf8::decode $block if utf8::valid($block);\n    return 0 unless $block =~ /^([\\r\\n\\t -~]|\\p{Latin})*$/s;\n    return 1;\n}\nopendir DH, \"/tmp\";\nmap { printf \"%s\\n\", $_ } grep { -f \"/tmp/\" . $_ &amp;&amp; -r \"/tmp/\".\n     $_ &amp;&amp; testfile \"/tmp/\" . $_; } readdir DH;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4781065, "user_type": "registered", "profile_image": "https://graph.facebook.com/810333542336675/picture?type=large", "display_name": "Laurdora", "link": "https://stackoverflow.com/users/4781065/laurdora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "closed_date": 1428912201, "answer_count": 2, "score": -1, "last_activity_date": 1428913339, "creation_date": 1428891684, "last_edit_date": 1428913339, "question_id": 29596994, "link": "https://stackoverflow.com/questions/29596994/how-to-validate-a-plain-text-file-in-perl", "closed_reason": "Needs details or clarity", "title": "How to validate a plain text file in perl", "body": "<p>I have tried to use <em><code>if</code></em> statement with arguments like <code>-e</code>, <code>-f</code> and <code>-T</code> to check if a file exist, if it's a file and if it's a <strong>plain text</strong> file.</p>\n\n<pre><code>print \"$_ is readable text\\n\" if -e $_ &amp;&amp; $f $_ &amp;&amp; -T $_; \n</code></pre>\n\n<p>But this won't work as expected: Some binary files is chown.</p>\n"}, {"tags": ["perl", "shell", "pipe", "system", "variable-expansion"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1428879140, "post_id": 29595082, "comment_id": 47337977, "body": "Why are you not using single quotes then? <code>system(&quot;echo &#39;$email&#39; ...</code> Besides that, when you&#39;re using double quotes, it also seems more logical to use single quotes than to backslash a double quote."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1428927689, "post_id": 29595082, "comment_id": 47355934, "body": "@TLP, Because that fails if <code>$email</code> contains single quotes. It&#39;s not a bad idea to check for the NUL character either. <code>shell_quote</code> handles all that."}], "answers": [{"comments": [{"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1428953670, "post_id": 29595364, "comment_id": 47372604, "body": "This seems to be the best solution, but unfortunately I have to deal with old version of perl (v5.6.1) where <code>perl -V | grep useperlio</code> returns <code>useperlio=undef</code> which means I cannot use your advice, as it is described here <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/open.html</a> I am still getting the error message: <code>Can&#39;t use an undefined value as filehandle reference at ...</code> I&#39;ve found similar problem here <a href=\"http://stackoverflow.com/questions/4202196/cant-use-an-undefined-value-as-filehandle-reference-error-in-perl\" title=\"cant use an undefined value as filehandle reference error in perl\">stackoverflow.com/questions/4202196/&hellip;</a>"}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1428954046, "post_id": 29595364, "comment_id": 47372813, "body": "From <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/open.html</a> <code>You can see whether your Perl was built with PerlIO by running perl -V and looking for the useperlio= line. If useperlio is define , you have PerlIO; otherwise you don&#39;t.</code>"}, {"owner": {"reputation": 56, "user_id": 2390334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a275d2cce2655dae00b567ef0a0a34?s=128&d=identicon&r=PG", "display_name": "Loonis", "link": "https://stackoverflow.com/users/2390334/loonis"}, "edited": false, "score": 0, "creation_date": 1428970224, "post_id": 29595364, "comment_id": 47379073, "body": "I don&#39;t have an older perl to play with right now, but you be able to change the syntax a bit: <code>open( FH, &quot;| mailx -s $email_subject $recipient&quot; )</code>"}], "tags": [], "owner": {"reputation": 56, "user_id": 2390334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a275d2cce2655dae00b567ef0a0a34?s=128&d=identicon&r=PG", "display_name": "Loonis", "link": "https://stackoverflow.com/users/2390334/loonis"}, "is_accepted": false, "score": 3, "last_activity_date": 1428877554, "creation_date": 1428877554, "answer_id": 29595364, "question_id": 29595082, "link": "https://stackoverflow.com/questions/29595082/how-to-use-both-pipes-and-prevent-shell-expansion-in-perl-system-function/29595364#29595364", "title": "How to use both pipes and prevent shell expansion in perl system function?", "body": "<p>You can use <code>open</code> to pipe directly to mailx, without your content being interpreted by the shell:</p>\n\n\n\n<pre class=\"lang-perl prettyprint-override\"><code>open( my $mail, \"|-\", \"mailx\", \"-s\", $email_subject, $recipient );\nsay $mail $email_message;\nclose $mail;\n</code></pre>\n\n<p>More details can be found in open section of <a href=\"http://perldoc.perl.org/perlipc.html#Using-open()-for-IPC\" rel=\"nofollow\">perlipc</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1428953793, "post_id": 29596035, "comment_id": 47372670, "body": "Thank you for reply. I have not experience with String::ShellQuote but as you said it can fail under some conditions and it seems like overkill to use external module for me. Furthermore I cannot use anything 3rd party in my script. Why I am using external shell for sending emails? Because it works from command line and I thought it will work also from perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1428953871, "post_id": 29596035, "comment_id": 47372720, "body": "Re &quot;Furthermore I cannot use anything 3rd party in my script&quot;, huh, don&#39;t you realize anyone giving you an answer is a third party?"}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1428953976, "post_id": 29596035, "comment_id": 47372772, "body": "I mean 3rd party module or something like that. Maybe one of following may be the way but do not know <a href=\"http://stackoverflow.com/questions/506275/how-can-i-open-pipes-with-oo-style\" title=\"how can i open pipes with oo style\">stackoverflow.com/questions/506275/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1428954082, "post_id": 29596035, "comment_id": 47372839, "body": "So my code on CPAN is from a third party, but my code on SO isn&#39;t? How does that make any sense????"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1429628561, "last_edit_date": 1429628561, "creation_date": 1428882785, "answer_id": 29596035, "question_id": 29595082, "link": "https://stackoverflow.com/questions/29595082/how-to-use-both-pipes-and-prevent-shell-expansion-in-perl-system-function/29596035#29596035", "title": "How to use both pipes and prevent shell expansion in perl system function?", "body": "<p><code>system</code> has three calling conventions:</p>\n\n<pre><code>system($SHELL_CMD)\n\nsystem($PROG, @ARGS)               # @ARGS&gt;0\n\nsystem( { $PROG } $NAME, @ARGS )   # @ARGS&gt;=0\n</code></pre>\n\n<p>The first passes a command to the shell. It's equivalent to</p>\n\n<pre><code>system('/bin/sh', '-c', $SHELL_CMD)\n</code></pre>\n\n<p>The other two execute the program <code>$PROG</code>. <code>system</code> never prevents shell expansion or performs any escaping. There's simply no shell involved.</p>\n\n<p>So your question is about building a shell command. If you were at the prompt, you might use</p>\n\n<pre><code>echo \\* | cat -n\n</code></pre>\n\n<p>or</p>\n\n<pre><code>echo '*' | cat -n\n</code></pre>\n\n<p>to pass <code>*</code>. You need a function that performs the job of escaping <code>*</code> before interpolating it. Fortunately, one already exists: <a href=\"http://search.cpan.org/perldoc?String::ShellQuote\" rel=\"nofollow\">String::ShellQuote</a>'s <code>shell_quote</code>.</p>\n\n<pre><code>$ perl -e'\n   use String::ShellQuote qw( shell_quote );\n   my $s = \"*\";\n   my $cmd1 = shell_quote(\"printf\", q{%s\\n}, $s);\n   my $cmd2 = \"cat -n\";\n   my $cmd = \"$cmd1 | $cmd2\";\n   print(\"Executing &lt;&lt;$cmd&gt;&gt;\\n\");\n   system($cmd);\n'\nExecuting &lt;&lt;printf '%s\\n' '*' | cat -n&gt;&gt;\n     1  *\n</code></pre>\n\n<p>I used <code>printf</code> instead of <code>echo</code> since it's very hard to handle arguments starting with <code>-</code> in <code>echo</code>. Most programs accept <code>--</code> to separate options from non-options, but not my <code>echo</code>.</p>\n\n<p>All these complications beg the question: Why are you shelling out to send an email? It's  usually much harder to handle errors from external programs than from libraries. </p>\n"}], "owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1429628561, "creation_date": 1428875653, "question_id": 29595082, "link": "https://stackoverflow.com/questions/29595082/how-to-use-both-pipes-and-prevent-shell-expansion-in-perl-system-function", "title": "How to use both pipes and prevent shell expansion in perl system function?", "body": "<p>If multiple arguments are passed to perl's system function then the shell expansion will not work:</p>\n\n<pre><code># COMMAND\n$ perl -e 'my $s=\"*\"; system(\"echo\", \"$s\" )'\n\n# RESULT\n*\n</code></pre>\n\n<p>If the command is passed as an one argument then the expansion will work:</p>\n\n<pre><code># COMMAND\n$ perl -e 'my $s=\"echo *\"; system(\"$s\")'\n\n# RESULT\nDesktop Documents Downloads\n</code></pre>\n\n<p>The system function also allows to using multiple commands and connect them using pipes. This only works when argument is passed as an one command:</p>\n\n<pre><code># COMMAND\n$ perl -e 'my $s=\"echo * | cat -n\"; system(\"$s\")'\n\n# RESULT\n1 Desktop Documents Downloads\n</code></pre>\n\n<p>How can I combine mentioned commands and use both pipes and prevent shell expansion?</p>\n\n<p>I have tried:</p>\n\n<pre><code># COMMAND\n$ perl -e 'my $s=\"echo\"; system(\"$s\", \"* | cat -n\")'\n\n# RESULT\n* | cat -n\n</code></pre>\n\n<p>but this did not work because of reasons that I've described above (multiple arguments are not expanded). The result that I want is:</p>\n\n<pre><code>1 *\n</code></pre>\n\n<p>EDIT:\nThe problem that I'm actually facing is that when I use following command:</p>\n\n<pre><code>system(\"echo \\\"$email_message\\\" | mailx -s \\\"$email_subject\\\" $recipient\");\n</code></pre>\n\n<p>Then the $email_message is expanded and it will break mailx if it contains some characters that are further expanded by shell.</p>\n"}, {"tags": ["c", "perl", "assembly", "x86", "buffer-overflow"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 2451412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/03b4ffbcd38e1644f3ebafa20af33823?s=128&d=identicon&r=PG", "display_name": "user2451412", "link": "https://stackoverflow.com/users/2451412/user2451412"}, "edited": false, "score": 0, "creation_date": 1428873975, "post_id": 29594606, "comment_id": 47336534, "body": "Thanks @Jester, that&#39;s what I thought (which stopped me from answering the question). It is a question from an old exam at my school, and I felt (and still feel like) it is odd to answer how big LENGTH is when I don&#39;t know how much padding the compiler placed in there."}], "tags": [], "owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "is_accepted": false, "score": 1, "last_activity_date": 1428872510, "creation_date": 1428872510, "answer_id": 29594606, "question_id": 29594482, "link": "https://stackoverflow.com/questions/29594482/buffer-overflow-buffer-length/29594606#29594606", "title": "Buffer overflow buffer length", "body": "<blockquote>\n  <p>What I do know is.. the buffer that we're writing into is on the stack\n  at the location -128(%ebp)</p>\n</blockquote>\n\n<p>Since the local variables end at <code>%ebp</code>, and you only have a single local variable which is <code>buffer</code> itself, you can conclude that it has length at most <code>128</code>. It may be shorter, if the compiler added some padding for alignment.</p>\n"}, {"tags": [], "owner": {"reputation": 6760, "user_id": 1401962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b8a7fe2bd33ed2532597f348d523fb?s=128&d=identicon&r=PG", "display_name": "tux3", "link": "https://stackoverflow.com/users/1401962/tux3"}, "is_accepted": true, "score": 2, "last_activity_date": 1428873235, "last_edit_date": 1428873235, "creation_date": 1428872591, "answer_id": 29594620, "question_id": 29594482, "link": "https://stackoverflow.com/questions/29594482/buffer-overflow-buffer-length/29594620#29594620", "title": "Buffer overflow buffer length", "body": "<p>Let's look at your <code>vulnerable</code> function.</p>\n\n<p>First the compiler creates a frame and reserves 0x88 bytes on the stack:</p>\n\n<pre><code> 0x08048408: push %ebp\n 0x08048409: mov %esp, %ebp\n 0x0804840b: sub $0x88, %esp\n</code></pre>\n\n<p>Then it puts two values onto the stack:</p>\n\n<pre><code> 0x0804840e: mov 0x8(%ebp), %eax\n 0x08048411: mov %eax, 0x4(%esp)\n 0x08048415: lea -0x80(%ebp), %eax\n 0x08048418: mov %eax, (%esp)\n</code></pre>\n\n<p>And the last thing it does before returning is calling <code>strcpy(buf, str)</code>:</p>\n\n<pre><code> 0x0804841b: call 0x8048314 &lt;strcpy&gt;\n 0x08048420: leave\n 0x08048421: ret\n</code></pre>\n\n<p>So we can deduce that the two values it put on the stack are the arguments to <code>strcpy</code>.<br/>\n<code>mov 0x8(%ebp)</code> would be <code>char *str</code> and <code>lea -0x80(%ebp)</code> would be a pointer to <code>char buf[LENGTH]</code>.</p>\n\n<p>Therefore, we know that your buffer starts at <code>-0x80(%ebp)</code>, so it has a length of 0x80 = 128 bytes assuming the compiler didn't waste any space.</p>\n"}], "owner": {"reputation": 89, "user_id": 2451412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/03b4ffbcd38e1644f3ebafa20af33823?s=128&d=identicon&r=PG", "display_name": "user2451412", "link": "https://stackoverflow.com/users/2451412/user2451412"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2399, "favorite_count": 0, "accepted_answer_id": 29594620, "answer_count": 2, "score": 1, "last_activity_date": 1428873235, "creation_date": 1428871745, "question_id": 29594482, "link": "https://stackoverflow.com/questions/29594482/buffer-overflow-buffer-length", "title": "Buffer overflow buffer length", "body": "<p>I have a buffer overflow problem that I need to solve. Below is the problem, at the bottom is my question:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\nvoid lan(void) {\n   printf(\"Your loyalty to your captors is touching.\\n\");\n}\n\nvoid vulnerable(char *str) {\n   char buf[LENGTH]; //Length is not given\n   strcpy(buf, str); //str to fixed size buf (uh-oh)\n }\n\n int main(int argc, char **argv) {\n    if (argc &lt; 2) \n       return -1;\n    vulnerable(argv[1]);\n    return 0;\n }\n\n (gdb) disass vulnerable\n 0x08048408: push %ebp\n 0x08048409: mov %esp, %ebp\n 0x0804840b: sub $0x88, %esp\n 0x0804840e: mov 0x8(%ebp), %eax\n 0x08048411: mov %eax, 0x4(%esp)\n 0x08048415: lea -0x80(%ebp), %eax\n 0x08048418: mov %eax, (%esp)\n 0x0804841b: call 0x8048314 &lt;strcpy&gt;\n 0x08048420: leave\n 0x08048421: ret\n End of assembler dump.\n\n (gdb) disass lan\n  0x080483f4:   push %ebp\n  0x080483f5:   mov %esp, %ebp\n  0x080483f7:   sub $0x4, %esp\n  0x080483fa:   movl $0x8048514, (%esp)\n  0x08048401:   call 0x8048324 &lt;puts&gt;\n  0x08048406:   leave\n  0x08048407:   ret\n  End of assembler dump.\n</code></pre>\n\n<p>Then we have the following info:</p>\n\n<pre><code> (gdb) break *0x08048420\n Breakpoint 1 at 0x8048420\n (gdb) run 'perl -e' print \"\\x90\" x Length' 'AAAABBBBCCCCDDDDEEEE'\n Breakpoint 1, 0x08048420 in vulnerable\n (gdb) info reg $ebp\n ebp          0xffffd61c 0xffffd61c\n (gdb) # QUESTION: Where in memory does the buf buffer start?\n (gdb) cont\n Program received signal SIGSEGV, Segmentation fault.\n</code></pre>\n\n<p>And finally, the perl command is a shorthand for writing out LENGTH copies of the character 0x90. </p>\n\n<p>I've done a couple of problems of this sort before, but what stops me here is the following question: \"By looking at the assembly code, what is the value of LENGTH?\"</p>\n\n<p>I'm not sure how to find that from the given assembly code. What I do know is.. the buffer that we're writing into is on the stack at the location -128(%ebp) (where -128 is a decimal number). However, I'm not sure where to go from here to get the length of the buffer.   </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 521, "user_id": 4759923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6208b717188e9b434bef2bc9bba339f7?s=128&d=identicon&r=PG&f=1", "display_name": "user4759923", "link": "https://stackoverflow.com/users/4759923/user4759923"}, "is_accepted": false, "score": 2, "last_activity_date": 1428866106, "creation_date": 1428866106, "answer_id": 29593540, "question_id": 29593521, "link": "https://stackoverflow.com/questions/29593521/what-does-x-do-in-print/29593540#29593540", "title": "What does \\x do in print", "body": "<p>\\x signifies the start of a hexadecimal character notation.</p>\n"}, {"tags": [], "owner": {"reputation": 662, "user_id": 930262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zvjJ3.jpg?s=128&g=1", "display_name": "manzur", "link": "https://stackoverflow.com/users/930262/manzur"}, "is_accepted": false, "score": 6, "last_activity_date": 1428867199, "last_edit_date": 1428867199, "creation_date": 1428866504, "answer_id": 29593612, "question_id": 29593521, "link": "https://stackoverflow.com/questions/29593521/what-does-x-do-in-print/29593612#29593612", "title": "What does \\x do in print", "body": "<p>It's not about print: it's about string representation, in which codes represent characters from your character set. For more information you should read <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\">Quote and Quote-like Operators</a> and <a href=\"http://perldoc.perl.org/perlunicode.html#Effects-of-Character-Semantics\" rel=\"nofollow\">Effects of Character Semantics</a></p>\n\n<p>In your case the character code is in hex. You should look in your character set table, and you may need to convert to decimal first.</p>\n"}, {"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 4, "last_activity_date": 1428883562, "last_edit_date": 1428883562, "creation_date": 1428883130, "answer_id": 29596067, "question_id": 29593521, "link": "https://stackoverflow.com/questions/29593521/what-does-x-do-in-print/29596067#29596067", "title": "What does \\x do in print", "body": "<p>You said \"I was unsure why nothing was displayed when I ran the following:\"</p>\n\n<pre><code>perl -e 'print \"\\x7c\\x8e\\x04\\x08\"'\n</code></pre>\n\n<p>That command outputs 4 characters to STDOUT.  Each of the characters is specified in hexadecimal.  The \"\\x7c\" part will output the <a href=\"http://www.mclean.net.nz/ucf/?c=U+007C\" rel=\"nofollow\">vertical bar character</a> <code>|</code>.  The other three characters are control characters, so probably wouldn't produce any visible output.  If you redirect output to a file, you will end up with a 4 byte file.</p>\n\n<p>It's possible that you're not seeing the vertical bar character because it's being overwritten by your command prompt.  Unlike the shell <code>echo</code> or Python's <code>print</code>, Perl's <code>print</code> function does not automatically append a newline to all output.  If you want new lines, you can insert them in the string using <code>\\n</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 1888891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257b621f3cefdcc07f31d247b2d2cbf1?s=128&d=identicon&r=PG", "display_name": "Blacklabel524", "link": "https://stackoverflow.com/users/1888891/blacklabel524"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1428907942, "creation_date": 1428865931, "last_edit_date": 1428907942, "question_id": 29593521, "link": "https://stackoverflow.com/questions/29593521/what-does-x-do-in-print", "title": "What does \\x do in print", "body": "<p>I would like to start by saying that I am not familiar with Perl. That being said, I came across this piece of code and I could not figure out what the <code>\\x</code> was for in the code below. In addition, I was unsure why nothing was displayed when I ran the following:</p>\n\n<pre><code>perl -e 'print \"\\x7c\\x8e\\x04\\x08\"'\n</code></pre>\n"}, {"tags": ["arrays", "string", "perl"], "answers": [{"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1428863395, "post_id": 29590201, "comment_id": 47332802, "body": "Also, the <code>if</code> block needs <code>{ ... }</code> braces."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 2, "last_activity_date": 1428872918, "last_edit_date": 1428872918, "creation_date": 1428846805, "answer_id": 29590201, "question_id": 29589738, "link": "https://stackoverflow.com/questions/29589738/comparing-two-strings-line-by-line-in-perl/29590201#29590201", "title": "Comparing two strings line by line in Perl", "body": "<p>What you have written is sort of ok, except you cannot use that notation in Perl <code>lines1.length</code>, <code>int $i</code>, and <code>~=</code> is not an operator, you mean <code>=~</code>, but that is the wrong tool here. Also <code>if</code> must have a block <code>{ }</code> after it.</p>\n\n<p>What you want is simply <code>$i &lt; @lines1</code> to get the array size, <code>my $i</code> to declare a lexical variable, and <code>eq</code> for string comparison. Along with <code>if ( ... ) { ... }</code>.</p>\n\n<p>Technically you can use the binding operator to perform a string comparison, for example:</p>\n\n<pre><code>\"foo\" =~ \"foobar\"\n</code></pre>\n\n<p>But it is not a good idea when comparing literal strings, because you can get partial matches, and you need to escape meta characters. Therefore it is easier to just use <code>eq</code>.</p>\n\n<p>Using C-style for loops is valid, but the more Perl-ish way is to use this notation:</p>\n\n<pre><code>for my $i (0 .. $#lines1)\n</code></pre>\n\n<p>Which will iterate over the range 0 to the max index of the array.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 0, "last_activity_date": 1428851072, "creation_date": 1428851072, "answer_id": 29590894, "question_id": 29589738, "link": "https://stackoverflow.com/questions/29589738/comparing-two-strings-line-by-line-in-perl/29590894#29590894", "title": "Comparing two strings line by line in Perl", "body": "<p>Perl allows you to open filehandles on strings by using a reference to the scalar variable that holds the string:</p>\n\n<pre><code>open my $string1_fh, '&lt;', \\$string1 or die '...';\nopen my $string2_fh, '&lt;', \\$string2 or die '...';\n\nwhile( my $line1 = &lt;$string1_fh&gt; ) {\n    my $line2 = &lt;$string2_fh&gt;;\n    ....\n    }\n</code></pre>\n\n<p>But, depending on what you mean by difference (does that include insertion or deletion of lines?), you might want something different.</p>\n\n<p>There are several modules on CPAN that you can inspect for ideas, such as <a href=\"http://www.metacpan.org/module/Test::LongString\" rel=\"nofollow\">Test::LongString</a> or <a href=\"http://www.metacpan.org/module/Algorithm::Diff\" rel=\"nofollow\">Algorithm::Diff</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 8298, "user_id": 2663985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/531b51e8cd1cf8655256f3e913ed9eef?s=128&d=identicon&r=PG&f=1", "display_name": "Mysterion", "link": "https://stackoverflow.com/users/2663985/mysterion"}, "edited": false, "score": 2, "creation_date": 1428926418, "post_id": 29599042, "comment_id": 47355126, "body": "it will be useful to give some explanation what you try to do here"}], "tags": [], "owner": {"reputation": 2494, "user_id": 1921546, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fe4ac75c43b846d9665f422cdac5cb03?s=128&d=identicon&r=PG", "display_name": "pii_ke", "link": "https://stackoverflow.com/users/1921546/pii-ke"}, "is_accepted": false, "score": 0, "last_activity_date": 1428906475, "creation_date": 1428906475, "answer_id": 29599042, "question_id": 29589738, "link": "https://stackoverflow.com/questions/29589738/comparing-two-strings-line-by-line-in-perl/29599042#29599042", "title": "Comparing two strings line by line in Perl", "body": "<p></p>\n\n<pre><code>my @lines1 = split(/^/, $str1);\nmy @lines2 = split(/^/, $str2);\n\n# splits at start of line\n# use /\\n/ if you want to ignore newline and trailing spaces\n\nfor ($i=0; $i &lt; @lines1; $i++) {\n    print \"difference in line $i \\n\" if (lines1[$i] ne lines2[$i]);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4733781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6162804b952febee3825bd8e3881ce?s=128&d=identicon&r=PG&f=1", "display_name": "0carina", "link": "https://stackoverflow.com/users/4733781/0carina"}, "is_accepted": false, "score": 0, "last_activity_date": 1428925433, "creation_date": 1428925433, "answer_id": 29604474, "question_id": 29589738, "link": "https://stackoverflow.com/questions/29589738/comparing-two-strings-line-by-line-in-perl/29604474#29604474", "title": "Comparing two strings line by line in Perl", "body": "<p>Comparing Arrays is a way easier if you create a Hashmap out of it...</p>\n\n<pre><code>#Searching the difference\n@isect = ();\n@diff  = ();\n%count = ();\n\nforeach $item ( @array1, @array2 ) { $count{$item}++; }\n\nforeach $item ( keys %count ) {\n    if ( $count{$item} == 2 ) {\n        push @isect, $item;\n    }\n    else {\n        push @diff, $item;\n    }\n}\n\n#Output\nprint \"Different= @diff\\n\\n\";\nprint \"\\nA Array = @array1\\n\";\nprint \"\\nB Array = @array2\\n\";\nprint \"\\nIntersect Array = @isect\\n\";\n</code></pre>\n\n<p>Even after spliting you could compare them as Array.</p>\n"}], "owner": {"reputation": 75, "user_id": 4778781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e19ac79e14d23d20bff8dd675eaa2a?s=128&d=identicon&r=PG&f=1", "display_name": "dibonao", "link": "https://stackoverflow.com/users/4778781/dibonao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1428925433, "creation_date": 1428843643, "last_edit_date": 1428848267, "question_id": 29589738, "link": "https://stackoverflow.com/questions/29589738/comparing-two-strings-line-by-line-in-perl", "title": "Comparing two strings line by line in Perl", "body": "<p>I am looking for code in Perl similar to</p>\n\n<pre><code>my @lines1 = split /\\n/, $str1;\nmy @lines2 = split /\\n/, $str2;\n\nfor (int $i=0; $i&lt;lines1.length; $i++)\n{\n  if (lines1[$i] ~= lines2[$i])\n    print \"difference in line $i \\n\";\n}\n</code></pre>\n\n<p>To compare two strings line by line and show the lines at which there is any difference.</p>\n\n<p>I know what I have written is mixture of C/Perl/Pseudo-code. How do I write it in the way that it works on Perl?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1428842442, "post_id": 29589317, "comment_id": 47326186, "body": "<a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 1, "user_id": 4779426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPetrcwAE98/AAAAAAAAAAI/AAAAAAAAB38/q4cOfduTY9Y/photo.jpg?sz=128", "display_name": "prosenjit paul", "link": "https://stackoverflow.com/users/4779426/prosenjit-paul"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1428855761, "post_id": 29589317, "comment_id": 47330315, "body": "Sir i know very little about the perl programming. I want a perl script which will give me the count of each dinucleotides i.e AT, AG, AC, AA, TA, TT, TC,TG, CC, CG, CA, CT, GG, GA, GC, GT present in each protein sequence from a multi-sequence file as a standard input."}, {"owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "edited": false, "score": 0, "creation_date": 1428887792, "post_id": 29589317, "comment_id": 47339878, "body": "@prosenjitpaul it might be not just perl programming you know little about. In your comment it sound like you want a count of nucleic acids pairs in amino acid sequence. The answer is 0 (you don&#39;t need a code for this)."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1428906583, "post_id": 29589317, "comment_id": 47344461, "body": "You should post your input data and expected output."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4779426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPetrcwAE98/AAAAAAAAAAI/AAAAAAAAB38/q4cOfduTY9Y/photo.jpg?sz=128", "display_name": "prosenjit paul", "link": "https://stackoverflow.com/users/4779426/prosenjit-paul"}, "edited": false, "score": 0, "creation_date": 1429961935, "post_id": 29863671, "comment_id": 47854365, "body": "Sir this code also gives the result taking the sum of all the dipeptides from all the sequences...... Sir i want the result separately for each sequence. One more thing is that the count should be from the sequences only excluding the header line."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 1, "user_id": 4779426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPetrcwAE98/AAAAAAAAAAI/AAAAAAAAB38/q4cOfduTY9Y/photo.jpg?sz=128", "display_name": "prosenjit paul", "link": "https://stackoverflow.com/users/4779426/prosenjit-paul"}, "edited": false, "score": 0, "creation_date": 1429962206, "post_id": 29863671, "comment_id": 47854448, "body": "@prosenjitpaul: Sorry, I don&#39;t get you. I&#39;ve tried with you sample file and it is working fine. May be the sequence&#39;s name is not <code>&gt;seq1</code>. Please edit your question and add a significant extract of input file."}, {"owner": {"reputation": 1, "user_id": 4779426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPetrcwAE98/AAAAAAAAAAI/AAAAAAAAB38/q4cOfduTY9Y/photo.jpg?sz=128", "display_name": "prosenjit paul", "link": "https://stackoverflow.com/users/4779426/prosenjit-paul"}, "edited": false, "score": 0, "creation_date": 1429964061, "post_id": 29863671, "comment_id": 47855041, "body": "thanks sir.you are right ....now i changed the sequence header name and it worked.......thanks a lot sir"}, {"owner": {"reputation": 1, "user_id": 4779426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPetrcwAE98/AAAAAAAAAAI/AAAAAAAAB38/q4cOfduTY9Y/photo.jpg?sz=128", "display_name": "prosenjit paul", "link": "https://stackoverflow.com/users/4779426/prosenjit-paul"}, "edited": false, "score": 0, "creation_date": 1430030000, "post_id": 29863671, "comment_id": 47873745, "body": "The while function does not counts the overlapping di-peptides present in the sequence. Is there any alternative way to do so..."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 1, "user_id": 4779426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPetrcwAE98/AAAAAAAAAAI/AAAAAAAAB38/q4cOfduTY9Y/photo.jpg?sz=128", "display_name": "prosenjit paul", "link": "https://stackoverflow.com/users/4779426/prosenjit-paul"}, "edited": false, "score": 0, "creation_date": 1430041159, "post_id": 29863671, "comment_id": 47876311, "body": "@prosenjitpaul: It&#39;s too vague. Please edit your question and add a significant extract of input file and expected result."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1429955650, "creation_date": 1429955650, "answer_id": 29863671, "question_id": 29589317, "link": "https://stackoverflow.com/questions/29589317/perl-script-for-dinucleotide-count-of-each-sequence-from-a-multi-sequence-text-f/29863671#29863671", "title": "perl script for dinucleotide count of each sequence from a multi-sequence text file", "body": "<p>Here is a way to do the job:</p>\n\n<pre><code>#!/usr/bin/perl\n\n# ALLWAYS put these two lines at the beginig of each script\nuse strict;\nuse warnings;\nuse List::Util qw(sum);\n\nprint \"Please type the filename of the DNA sequence MMta: \";\nmy $file = &lt;STDIN&gt;;\nchomp $file;\n# Use three arg open and test for errors\nopen my $fh_in, '&lt;', $file or die \"Unable to open '$file': $!\";\n\nmy %count;\nmy $seq;\n# loop on every lines of input file\nwhile(my $line = &lt;$fh_in&gt;) {\n    chomp $line;\n    # Find the sequence name\n    $seq = $1 if $line =~ /&gt;(\\w+)/;\n    # Count\n    while($line =~ /(GA|AL|MM|DE|DV|VD|DW|QD|SD|DD|ED|DY|VE|EN|II|KE|NV|VP|FV|SS|WK|KK)/ig) {\n        $count{$seq}{$1}++;\n    }\n}\n\nopen my $fh_out, '&gt;', 'countbase.txt' or die \"Unable to open 'countbase.txt': $!\";\n# Display the result separately for each sequence\nforeach(keys %count) {\n    my $sum = sum(values %{$count{$_}});\n    my $abs = 22 - scalar keys %{$count{$_}};\n    print $fh_out $_,\"\\nsum = \",$sum,\"\\nabs = \", $abs,\"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4779426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPetrcwAE98/AAAAAAAAAAI/AAAAAAAAB38/q4cOfduTY9Y/photo.jpg?sz=128", "display_name": "prosenjit paul", "link": "https://stackoverflow.com/users/4779426/prosenjit-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1429955650, "creation_date": 1428840697, "last_edit_date": 1429952933, "question_id": 29589317, "link": "https://stackoverflow.com/questions/29589317/perl-script-for-dinucleotide-count-of-each-sequence-from-a-multi-sequence-text-f", "title": "perl script for dinucleotide count of each sequence from a multi-sequence text file", "body": "<p>I have a perl script which gives the sum result of all the sequences present in the multifasta (.txt format) input file. please help me in modifying the code in such a way that it gives result separately for each sequence .</p>\n\n<p>input file seq:</p>\n\n<pre><code>&gt;seq1  \nGAA  \n&gt;seq2  \nALL\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>seq1\nsum=1\nabs=21\nseq2\nsum=1\nabs=21\n</code></pre>\n\n<p>Actual script:</p>\n\n<pre><code>#!/usr/bin/perl -w\nprint \"Please type the filename of the DNA sequence MMta: \";\n$str= &lt;STDIN&gt;;\nchomp $str;\nunless ( open(DNAFILE, $str) ) \n{\nprint \"Cannot open file \\\"$str\\\"\\n\\n\";\nexit;\n}\n@str = &lt;DNAFILE&gt;;\n$str=join('',@str);\nprint\"\\n DNA:\\n\n$str\\n\";\n\n$GA = 0;\n$AL = 0;\n$MM = 0;\n$DE = 0;\n$DV = 0;\n$VD = 0;\n$DW = 0;\n$QD = 0;\n$SD = 0;\n$DD = 0;\n$ED = 0;\n$DY = 0;\n$VE = 0;\n$EN = 0;\n$II = 0;\n$KE = 0;\n$NV = 0;\n$VP = 0;\n$FV = 0;\n$SS = 0;\n$WK = 0;\n$KK = 0;\n$abs=0;\n\nwhile ($str =~ /GA/ig)\n{$GA++}\nwhile ($str =~ /AL/ig)\n{$AL++}\nwhile ($str =~ /MM/ig)\n{$MM++}\nwhile ($str =~ /DE/ig)\n{$DE++}\nwhile ($str =~ /DV/ig)\n{$DV++}\nwhile ($str =~ /VD/ig)\n{$VD++}\nwhile ($str =~ /DW/ig)\n{$DW++}\nwhile ($str =~ /QD/ig)\n{$QD++}\nwhile ($str =~ /SD/ig)\n{$SD++}\nwhile ($str =~ /DD/ig)\n{$DD++}\nwhile ($str =~ /ED/ig)\n{$ED++}\nwhile ($str =~ /DY/ig)\n{$DY++}\nwhile ($str =~ /VE/ig)\n{$VE++}\nwhile ($str =~ /EN/ig)\n{$EN++}\nwhile ($str =~ /II/ig)\n{$II++}\nwhile ($str =~ /KE/ig)\n{$KE++}\nwhile ($str =~ /NV/ig)\n{$NV++}\nwhile ($str =~ /VP/ig)\n{$VP++}\nwhile ($str =~ /FV/ig)\n{$FV++}\nwhile ($str =~ /SS/ig)\n{$SS++}\nwhile ($str =~ /WK/ig)\n{$WK++}\nwhile ($str =~ /KK/ig)\n{$KK++}\n$total= \"$GA+$AL+$MM+$DE+$DV+$VD+$DW+$QD+$SD+$DD+$ED+$DY+$VE+$EN+$II+$KE+$NV+$VP+$FV+$SS+$WK+$KK\";\nwhile ($total=~ /0/ig)\n{$abs++}\n$sum= $GA+$AL+$MM+$DE+$DV+$VD+$DW+$QD+$SD+$DD+$ED+$DY+$VE+$EN+$II+$KE+$NV+$VP+$FV+$SS+$WK+$KK;\nprint \"GA = $GA\\n\";\nprint \"AL = $AL\\n\";\nprint \"WK = $MM\\n\";\nprint \"DE = $DE\\n\";\nprint \"VP = $DV\\n\";\nprint \"VD = $VD\\n\";\nprint \"DW = $DW\\n\";\nprint \"QD = $QD\\n\";\nprint \"SD = $SD\\n\";\nprint \"DD = $DD\\n\";\nprint \"ED = $ED\\n\";\nprint \"DY = $DY\\n\";\nprint \"VE = $VE\\n\";\nprint \"EN = $EN\\n\";\nprint \"II = $II\\n\";\nprint \"KE = $KE\\n\";\nprint \"NV = $NV\\n\";\nprint \"VP = $VP\\n\";\nprint \"FV = $FV\\n\";\nprint \"SS = $SS\\n\";\nprint \"WK = $WK\\n\";\nprint \"KK = $KK\\n\";\nprint \"sum=$sum\\n\";\nprint \"abs=$abs\";\n\n$outputfile = \"countbase.txt\";\nunless ( open(COUNTBASE, \"&gt;$outputfile\") ) {\nprint \"Cannot open file \\\"$outputfile\\\" to write\nto!!\\n\\n\";\nexit;\n}\nprint COUNTBASE \"$sum\n$abs\";\nclose(COUNTBASE);\n\n\nexit;\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "hash", "hashref"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428860482, "post_id": 29588926, "comment_id": 47331821, "body": "Is this just to satisfy your curiosity?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1428851925, "last_edit_date": 1428851925, "creation_date": 1428851605, "answer_id": 29590972, "question_id": 29588926, "link": "https://stackoverflow.com/questions/29588926/perl-hash-reference-is-changing-in-threads/29590972#29590972", "title": "Perl Hash reference is changing in threads", "body": "<p>Yes, this will happen. Threads do not share memory. You can sort of fake it with <code>shared</code> which allows you to have common variables - but you won't necessarily see the same hash memory locations.</p>\n\n<p>Despite <code>%Events</code> being <code>shared</code> that's not going to print the same memory address in each thread if you <code>print \\%Events;</code></p>\n\n<p>Given you're talking about queueing though, can I suggest instead using <code>Thread::Queue</code> which allows you to 'do' queue/dequeue operations in a nice easy and thread safe manner. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1428880215, "last_edit_date": 1428880215, "creation_date": 1428859357, "answer_id": 29592279, "question_id": 29588926, "link": "https://stackoverflow.com/questions/29588926/perl-hash-reference-is-changing-in-threads/29592279#29592279", "title": "Perl Hash reference is changing in threads", "body": "<p>You are not directly accessing the same variable in all threads. If you did, you'd have to explicitly guarantee mutual access to the variable every time you access it (even if just to read it) to avoid crashing the program.</p>\n\n<p>Each thread (including the one in which the variable is created) gets a \n\"proxy\" to the data-containing variable. The proxy is a magical variable, meaning accessing the elements of the proxy results in getters and setters being called. These getters and setters ensure the data-containing variable is never in an inconsistent state by providing mutually exclusive access to it.</p>\n\n<pre><code>$ perl -Mthreads -Mthreads::shared -MDevel::Peek \\\n   -E'my %h :shared; ( async { Dump(%h); } )-&gt;join; Dump(%h);' 2&gt;&amp;1 |\n      grep -P '^\\S|^ {8}IV'\nSV = PVHV(0x1ed5f90) at 0x1f6fd68   &lt;-----+\n        IV = 31930352               &lt;--+  |\nSV = PVHV(0x1d70af0) at 0x1d880d0   &lt;--|--+------ Two different vars\n        IV = 31930352               &lt;--+--------- Proxying the same var (0x1e737f0)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3551911, "user_type": "registered", "profile_image": "https://graph.facebook.com/785659411/picture?type=large", "display_name": "user3551911", "link": "https://stackoverflow.com/users/3551911/user3551911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1428880215, "creation_date": 1428838221, "last_edit_date": 1428863286, "question_id": 29588926, "link": "https://stackoverflow.com/questions/29588926/perl-hash-reference-is-changing-in-threads", "title": "Perl Hash reference is changing in threads", "body": "<p>I am using perl with threads to process socket info</p>\n\n<p>ConnectionThread\nis responsible for receiving packets and parsing, and enque in a hash</p>\n\n<p>QueueThread\nIs responsible for processing Queue elelemts (hash entries ) and update DB</p>\n\n<p>The Hash is Events and declared as <strong>my %Events:shared;</strong></p>\n\n<p>I am passing a hash reference to the Threads, but i noticed that each thread is getting a difference hash ref value</p>\n\n<pre><code>my $hash_ref1 = \\%Events ; # referencing\nprint \"Hash ref in main is 1 \" . $hash_ref1 .\"\\n\";\nmy $thr1 = threads-&gt;create(\\&amp;ConnectionThread, $hash_ref1 );\nmy $thr2 = threads-&gt;create(\\&amp;QueueThread, $hash_ref1);\n</code></pre>\n\n<p>The output is as below</p>\n\n<pre><code>Hash ref in main is 1 HASH(0x825faa4)\nHash ref is ConnectionThread is HASH(0x8493544)\nThread started ..\nHash ref is Queue thread is HASH(0x852dd9c)\n</code></pre>\n\n<p>below is the full code ( illustrative )</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Socket;\nuse threads;\nuse threads::shared;\nuse DBI;\nmy %Events:shared;\n\nsub checkSize {\n    my $size;\n    $size =keys %Events;\n    print \"Size of Queue in Check is ***\" .$size .\" \\n\";\n}\n\nsub QueueThread {\n    my ($hash_ref) = @_;\n    print \"Hash ref is Queue thread is \" . $hash_ref .\" \\n\";\n    while (1==1) {\n        sleep (5);\n    }\n}\n\nsub ConnectionThread {\n    my ( $hash_ref ) = @_;\n    print \"Hash ref is ConnectionThread is \" . $hash_ref .\" \\n\";\n    while (1==1) {\n        sleep(5);\n    }\n}\n\nmy $hash_ref1 = \\%Events;\nprint \"Hash ref in main is 1 \" . $hash_ref1 .\"\\n\";\nmy $thr1 = threads-&gt;create(\\&amp;ConnectionThread, $hash_ref1 );\nmy $thr2 = threads-&gt;create(\\&amp;QueueThread, $hash_ref1);\nprint \"Thread started ..\\n\";\nwhile (1==1) {\n    sleep 10;\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1428836636, "post_id": 29588648, "comment_id": 47324654, "body": "Yes I think that is the case, but how can I do this correctly? Or maybe it is not possible with Time::Piece ?"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 3, "last_activity_date": 1428856620, "last_edit_date": 1428856620, "creation_date": 1428836339, "answer_id": 29588648, "question_id": 29588389, "link": "https://stackoverflow.com/questions/29588389/using-strptime-to-parse-timestamp-relative-to-the-local-time/29588648#29588648", "title": "Using strptime to parse timestamp relative to the local time", "body": "<p>If the date-time you parse has no time zone information, it's assumed to be UTC. You can see this by adding the following two lines in your script:</p>\n\n<pre><code>say \"tzo1 = \",$t1-&gt;tzoffset;\nsay \"tzo2 = \",$t2-&gt;tzoffset;\n</code></pre>\n\n<p>In Paris, the above outputs the following:</p>\n\n<pre><code>tzo1 = 0\ntzo2 = 7200\n</code></pre>\n\n<p>You can override the default to be the local time zone by using the undocumented feature of using <code>localtime</code> instead of <code>Time::Piece</code> as the invocant.</p>\n\n<pre><code>$ perl -MTime::Piece -E'\n   say Time::Piece-&gt;strptime(\"2015-04-12_11:07:27\", \"%Y-%m-%d_%H:%M:%S\")-&gt;tzoffset;\n   say localtime  -&gt;strptime(\"2015-04-12_11:07:27\", \"%Y-%m-%d_%H:%M:%S\")-&gt;tzoffset;\n'\n0\n7200\n</code></pre>\n\n<p>Doing that minor change gives the answer you were expecting.</p>\n\n<pre><code>$ perl -MTime::Piece -E'\n   say localtime-&gt;strptime(\"2015-04-12_11:07:27\", \"%Y-%m-%d_%H:%M:%S\") - localtime;\n'\n5524\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1428837749, "creation_date": 1428837749, "answer_id": 29588863, "question_id": 29588389, "link": "https://stackoverflow.com/questions/29588389/using-strptime-to-parse-timestamp-relative-to-the-local-time/29588863#29588863", "title": "Using strptime to parse timestamp relative to the local time", "body": "<p>I think this can be done using <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\"><code>Date::Time</code></a> :</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse DateTime;\nuse DateTime::Format::Strptime;\nuse DateTime::Duration;\n\nmy $strp = DateTime::Format::Strptime-&gt;new(\n    pattern   =&gt; '%Y-%m-%d_%H:%M:%S',\n    time_zone =&gt; 'local',\n);\n\nmy $timestamp = \"2015-04-12_11:07:27\";\nmy $dt1 = $strp-&gt;parse_datetime( $timestamp );\nmy $dt2 = DateTime-&gt;now();\nsay $dt2-&gt;subtract_datetime_absolute( $dt1 )-&gt;seconds();\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 1, "accepted_answer_id": 29588648, "answer_count": 2, "score": 0, "last_activity_date": 1428856620, "creation_date": 1428834438, "question_id": 29588389, "link": "https://stackoverflow.com/questions/29588389/using-strptime-to-parse-timestamp-relative-to-the-local-time", "title": "Using strptime to parse timestamp relative to the local time", "body": "<p>I am trying to do some date calculation relative to the current local time. \nFor example:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse Time::Piece;\n\nmy $fmt = '%Y-%m-%d_%H:%M:%S';\nmy $timestamp = \"2015-04-12_11:07:27\";\n\n# This gives incorrect $t1 relative to localtime\nmy $t1 = Time::Piece-&gt;strptime( $timestamp, $fmt );\nmy $t2 = localtime;\n\nsay \"Local time: \" . localtime;\nsay \"Local time epoch: \" . time;\n\nsay $t1-&gt;epoch();\nsay $t2-&gt;epoch();\n\nmy $timestamp1 = $t1-&gt;strftime( $fmt );\nmy $timestamp2 = $t2-&gt;strftime( $fmt );\n\nsay $timestamp1;\nsay $timestamp2;\n\nmy $delta = $t2 - $t1;\n\nsay $delta;\n</code></pre>\n\n<p>A sample output:</p>\n\n<pre><code>Local time: Sun Apr 12 12:21:49 2015\nLocal time epoch: 1428834109\n1428836847\n1428834109\n2015-04-12_11:07:27\n2015-04-12_12:21:49\n-2738\n</code></pre>\n\n<p>Which clearly gives the a wrong time difference of -2738. ( It should be a positive number)</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 6, "last_activity_date": 1428831647, "last_edit_date": 1428831647, "creation_date": 1428831167, "answer_id": 29587971, "question_id": 29587638, "link": "https://stackoverflow.com/questions/29587638/how-to-know-from-which-perl-module-or-file-the-function-was-called/29587971#29587971", "title": "How to know from which perl module or file the function was called", "body": "<p>Inside method,</p>\n\n<pre><code>sub myFunc{\n  my ($package, $filename, $line) = caller;\n  print $filename;\n}\n</code></pre>\n\n<p>Check <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"noreferrer\"><code>perldoc -f caller</code></a> for more details.</p>\n"}], "owner": {"reputation": 2481, "user_id": 1444748, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WqxKU.jpg?s=128&g=1", "display_name": "Morad", "link": "https://stackoverflow.com/users/1444748/morad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 29587971, "answer_count": 1, "score": 3, "last_activity_date": 1428831647, "creation_date": 1428828708, "question_id": 29587638, "link": "https://stackoverflow.com/questions/29587638/how-to-know-from-which-perl-module-or-file-the-function-was-called", "title": "How to know from which perl module or file the function was called", "body": "<p>I need to know from which perl file my function was called. Let's say I have the following module (<code>MyModule.pm</code>) which has the following function:</p>\n\n<pre><code>package MyModule;\n\nsub myFunc{\n   # Here I need to print the name of the file that the function was called from\n}\n</code></pre>\n\n<p>And the script <code>myScript.pl</code> uses <code>MyModule</code> and calls the function <code>myFunc()</code>:</p>\n\n<pre><code>use MyModule;\nMyModule-&gt;myFunc();\n</code></pre>\n\n<p>I need the call to <code>myFunc()</code> here to print \"<code>myScript.pl</code>\"</p>\n\n<p>Is there any way to do this in Perl?</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "edited": false, "score": 1, "creation_date": 1428825043, "post_id": 29587158, "comment_id": 47322051, "body": "The two perl functions that you want to look into are <code>split()</code> that splits a string into a list and <code>scalar()</code> that when given a list returns the length of the list."}, {"owner": {"reputation": 75, "user_id": 4778781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e19ac79e14d23d20bff8dd675eaa2a?s=128&d=identicon&r=PG&f=1", "display_name": "dibonao", "link": "https://stackoverflow.com/users/4778781/dibonao"}, "reply_to_user": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "edited": false, "score": 0, "creation_date": 1428825341, "post_id": 29587158, "comment_id": 47322108, "body": "@DovGrobgeld do you  mean <code>scalar(split($str))</code>? it didnt work"}, {"owner": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "edited": false, "score": 0, "creation_date": 1428825594, "post_id": 29587158, "comment_id": 47322154, "body": "Check the documentation for <code>split()</code>, e.g. by <code>perldoc -f split</code>. <code>split()</code> takes two parameters. The first is a pattern (which can be a string) used for splitting, and the string to split. E.g. `split(&#39;\\n&#39;,$str)&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 4778781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e19ac79e14d23d20bff8dd675eaa2a?s=128&d=identicon&r=PG&f=1", "display_name": "dibonao", "link": "https://stackoverflow.com/users/4778781/dibonao"}, "edited": false, "score": 1, "creation_date": 1428824636, "post_id": 29587170, "comment_id": 47321970, "body": "I am new in perl. any suggested regex?"}, {"owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "edited": false, "score": 1, "creation_date": 1428825792, "post_id": 29587170, "comment_id": 47322190, "body": "my $count = () = $str =~ /\\n/g;"}], "tags": [], "owner": {"reputation": 136, "user_id": 4601311, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/796932940360350/picture?type=large", "display_name": "Eadhun Di", "link": "https://stackoverflow.com/users/4601311/eadhun-di"}, "is_accepted": true, "score": -4, "last_activity_date": 1428824486, "creation_date": 1428824486, "answer_id": 29587170, "question_id": 29587158, "link": "https://stackoverflow.com/questions/29587158/perl-number-of-lines-in-a-string/29587170#29587170", "title": "perl number of lines in a string", "body": "<p>Try to use a regular expression</p>\n"}, {"comments": [{"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1485814317, "post_id": 29588136, "comment_id": 71073001, "body": "You should add <code>$number_of_lines ++;</code> to add 1 to the result because counting only the new line character <code>\\n</code> skips the last line."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 2, "creation_date": 1485847065, "post_id": 29588136, "comment_id": 71082735, "body": "That depends on whether last line is terminated by <code>\\n</code>. <code>$linenum++ if $str !~ &#47;\\n\\z&#47;</code>"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 9, "last_activity_date": 1428832503, "creation_date": 1428832503, "answer_id": 29588136, "question_id": 29587158, "link": "https://stackoverflow.com/questions/29587158/perl-number-of-lines-in-a-string/29588136#29588136", "title": "perl number of lines in a string", "body": "<p>You can count number of newline chars <code>\\n</code> in the string (or <code>\\r</code> for Mac newline)</p>\n\n<pre><code>my $linenum = $str =~ tr/\\n//;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 502, "user_id": 819596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d255379c9f0a7b2f41d9a77bfbececff?s=128&d=identicon&r=PG", "display_name": "marinara", "link": "https://stackoverflow.com/users/819596/marinara"}, "is_accepted": false, "score": 0, "last_activity_date": 1599455459, "last_edit_date": 1599455459, "creation_date": 1599454533, "answer_id": 63771585, "question_id": 29587158, "link": "https://stackoverflow.com/questions/29587158/perl-number-of-lines-in-a-string/63771585#63771585", "title": "perl number of lines in a string", "body": "<p>I've adapted @rplantiko's answer into a full subroutine that works the way I picture it, with handling for undef and &quot;&quot;.  It also knows about how the last line of text can be missing a &quot;\\n&quot; and returns the apparent line count ( which is the count of &quot;\\n&quot; +1 )</p>\n<pre><code># should work on windows + unix but not the old mac\nsub count_lines_in_string { \n    $_ = shift;\n    return 0 if( !defined $_ or $_ eq &quot;&quot;);\n    my $lastchar = substr $_, -1,1;\n    my $numlines = () = /\\n/g;\n# was last line a whole line with a &quot;\\n&quot;?;\n    return $numlines + ($lastchar ne &quot;\\n&quot;); \n}\nsay count_lines_in_string(&quot;asdf\\nasdf\\n&quot;) ;\nsay count_lines_in_string undef;\nsay count_lines_in_string &quot;a&quot;;\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4778781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e19ac79e14d23d20bff8dd675eaa2a?s=128&d=identicon&r=PG&f=1", "display_name": "dibonao", "link": "https://stackoverflow.com/users/4778781/dibonao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3577, "favorite_count": 1, "accepted_answer_id": 29587170, "answer_count": 3, "score": 5, "last_activity_date": 1599455459, "creation_date": 1428824399, "question_id": 29587158, "link": "https://stackoverflow.com/questions/29587158/perl-number-of-lines-in-a-string", "title": "perl number of lines in a string", "body": "<p>Using <code>perl</code>, is there any single command which give me the number of lines inside a string?</p>\n\n<pre><code>my $linenum= .... $str ....\n</code></pre>\n\n<p>It should work for when the string is empty, single line, and multiple lines.</p>\n"}, {"tags": ["arrays", "perl", "loops", "variables", "foreach"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1428822197, "post_id": 29586827, "comment_id": 47321468, "body": "Are you looking for <a href=\"http://perldoc.perl.org/functions/each.html\" rel=\"nofollow noreferrer\"><code>each</code></a>?  It illustrates <code>while (($key,$value) = each %ENV) {         print &quot;$key=$value\\n&quot;;     }</code> amongst other words of wisdom.  Beware of the resetting behaviour.  See also <a href=\"http://stackoverflow.com/questions/1123693/why-doesnt-perls-each-iterate-through-the-entire-hash-the-second-time\">Why doesn&#39;t Perl&#39;s <code>each</code> iterate through the entire hash the second time?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "edited": false, "score": 4, "creation_date": 1428832324, "post_id": 29587123, "comment_id": 47323696, "body": "List::Util is a core module since Perl 5.7.3. So it can be assumed to be installe."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "edited": false, "score": 3, "creation_date": 1428842254, "post_id": 29587123, "comment_id": 47326132, "body": "@BarneySchmale - Yeah, I wasn&#39;t quite sure how to word that clearly. It&#39;s part of the core <i>distribution</i> (you don&#39;t have to install from CPAN), but not part of the core <i>language</i> (you do have to explicitly <code>use</code> the module). I&#39;m open to suggestions (or edits) for better ways to say that in the answer."}, {"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "reply_to_user": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "edited": false, "score": 1, "creation_date": 1428850386, "post_id": 29587123, "comment_id": 47328519, "body": "@BarneySchmale You can count on List::Util but not on the List::Pairwise API, which was added only very recently."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 17, "last_activity_date": 1428824131, "creation_date": 1428824131, "answer_id": 29587123, "question_id": 29586827, "link": "https://stackoverflow.com/questions/29586827/is-it-possible-to-assign-two-variables-in-perl-foreach-loop/29587123#29587123", "title": "Is it possible to assign two variables in Perl foreach loop?", "body": "<p>It's not in the Perl 5 core language, but <a href=\"https://metacpan.org/pod/List::Util\">List::Util</a> has a <code>pairs</code> function which should be close enough (and a number of other <code>pair...</code> functions which may be more convenient, depending on what you're doing inside the loop):</p>\n\n<pre><code>#!/usr/bin/env perl    \n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse List::Util 'pairs';\n\nmy @list = qw(a 1 b 2 c 3);\n\nfor my $pair (pairs @list) {\n  my ($first, $second) = @$pair;\n  say \"$first =&gt; $second\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a =&gt; 1\nb =&gt; 2\nc =&gt; 3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 2, "creation_date": 1428883813, "post_id": 29589848, "comment_id": 47339079, "body": "It&#39;s worth noting that after this loop has completed <code>@array</code> will be empty.  A <code>foreach</code> loop doesn&#39;t have that side effect."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1428967516, "post_id": 29589848, "comment_id": 47378419, "body": "Agreed. I&#39;m not saying your code is bad or wrong, just that the OP originally asked about a <code>foreach</code> loop. And one point of difference between your solution and a <code>foreach</code> loop is that your code removes items from the array. Not wrong, just different - hence &quot;worth noting&quot;."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1429821486, "post_id": 29589848, "comment_id": 47794318, "body": "Nice, simple, unlikely to break ... ++  I like to preserve the original and work on a copy. Hmm ...  <code>my @xyz = &quot;A&quot; .. &quot;Z&quot; ;  my @tmp = @xyz ; while( @tmp ){ my $alpha = shift @tmp; my $beta = shift @tmp ; say &quot;$alpha  $beta &quot; }</code>  ??"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1430148166, "post_id": 29589848, "comment_id": 47922104, "body": "Can you make more clear in your response what you mean by &quot; that is a sure sign that the data structure is wrong&quot;?  You don&#39;t have to do it for me since I already up voted you ... but it might get you more votes ;-)"}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 3, "last_activity_date": 1430230011, "last_edit_date": 1430230011, "creation_date": 1428844292, "answer_id": 29589848, "question_id": 29586827, "link": "https://stackoverflow.com/questions/29586827/is-it-possible-to-assign-two-variables-in-perl-foreach-loop/29589848#29589848", "title": "Is it possible to assign two variables in Perl foreach loop?", "body": "<p>A general algorithm for more than 2 variables:</p>\n\n<pre><code>while( @array ){\n  my $var1 = shift @array;\n  my $var2 = shift @array;\n  my $var3 = shift @array;\n  # other variables from @array\n\n  # do things with $var1, $var2, $var3, ...\n}\n</code></pre>\n\n<p>PS: Using a working copy of the array to that it is preserved for use later:</p>\n\n<pre><code>if( my @working_copy = @array ){\n  while( @working_copy ){\n    my $var1 = shift @working_copy;\n    my $var2 = shift @working_copy;\n    my $var3 = shift @working_copy;\n    # other variables from @working_copy\n\n    # do things with $var1, $var2, $var3, ...\n  }\n}\n</code></pre>\n\n<p>PPS: another way is to use indexing. Of course, that is a sure sign that the data structure is wrong. It should be an array of arrays (AoA) or an array of hashes (AoH). See <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldoc perldsc</a> and <a href=\"http://perldoc.perl.org/perllol.html\" rel=\"nofollow\">perldoc perllol</a>.</p>\n\n<pre><code>my $i = 0;\nwhile( $i &lt; @array ){\n  my $var1 = $array[ $i++ ];\n  my $var2 = $array[ $i++ ];\n  my $var3 = $array[ $i++ ];\n  # other variables from @array\n\n  # do things with $var1, $var2, $var3, ...\n}\n</code></pre>\n\n<p>PPPS: I've been asked to clarify why the data structure is wrong. It is a flatten set of tuples (aka records aka datasets). The tuples are recreated by counting of the number of data for each. But what is the reader constructing the set has a bug and doesn't always get the number right? If, for a missing value, it just skips adding anything? Then all the remaining tuples are shifted by one, causing the following tuples to be grouped incorrectly and therefore, invalid. That is why an AoA is better; only the tuple with the missing data would be invalid.</p>\n\n<p>But an better structure would be an AoH. Each datum would access by a key. Then new or optional data can be added without breaking the code downstream.</p>\n\n<p>While I'm at it, I'll add some code examples:</p>\n\n<pre><code># example code for AoA\nfor my $tuple ( @aoa ){\n  my $var1 = $tuple-&gt;[0];\n  my $var2 = $tuple-&gt;[1];\n  my $var3 = $tuple-&gt;[2];\n  # etc\n}\n\n# example code for AoH\nfor my $tuple ( @aoh ){\n  my $var1 = $tuple-&gt;{keyname1};\n  my $var2 = $tuple-&gt;{key_name_2};\n  my $var3 = $tuple-&gt;{'key name with spaces'};\n  my $var4 = $tuple-&gt;{$key_name_in_scalar_variable};\n  # etc\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "is_accepted": false, "score": 11, "last_activity_date": 1428850230, "creation_date": 1428850230, "answer_id": 29590758, "question_id": 29586827, "link": "https://stackoverflow.com/questions/29586827/is-it-possible-to-assign-two-variables-in-perl-foreach-loop/29590758#29590758", "title": "Is it possible to assign two variables in Perl foreach loop?", "body": "<p>The easiest way to use this is with a <code>while</code> loop that calls <code>splice</code> on the first two elements of the array each time, </p>\n\n<pre><code>while (my($var1, $var2) = splice(@array, 0, 2)) {\n    ...\n}\n</code></pre>\n\n<p>However, unlike <code>foreach</code>, this continually does a double-shift on the original array, so when you\u2019re done, the array is empty.  Also, the variables assigned are copies, not aliases as with <code>foreach</code>.</p>\n\n<p>If you don\u2019t like that, you can use a C-style <code>for</code> loop:</p>\n\n<pre><code>for (my $i = 0; $i &lt; @array; $i += 2) {\n     my($var1, $var2) = @array[$i, $i+1];\n     ...\n}\n</code></pre>\n\n<p>That leaves the array in place but <strong>does not allow you to update it</strong> the way <code>foreach</code> does.  To do that, you need to address the array directly. </p>\n\n<pre><code>my @pairlist = (\n    fee =&gt; 1,\n    fie =&gt; 2,\n    foe =&gt; 3,\n    fum =&gt; 4,\n);\n\nfor (my $i = 0; $i &lt; @pairlist; $i += 2) {\n    $pairlist[ $i + 0 ] x= 2;\n    $pairlist[ $i + 1 ] *= 2;\n}\n\nprint \"Array is @pairlist\\n\";\n</code></pre>\n\n<p>That prints out: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Array is feefee 2 fiefie 4 foefoe 6 fumfum 8\n</code></pre>\n\n<p>You <strong><em>can</em></strong> get those into aliased variables if you try hard enough, but it\u2019s probably not worth it:</p>\n\n<pre><code>my @kvlist = ( \n    fee =&gt; 1,\n    fie =&gt; 2,\n    foe =&gt; 3,\n    fum =&gt; 4,\n);\n\nfor (my $i = 0; $i &lt; @kvlist; $i += 2) { \n    our  ($key, $value);\n    local(*key, $value) = \\@kvlist[ $i, $i + 1 ];\n    $key   x= 2;\n    $value *= 2;\n}\n\nprint \"Array is @kvlist\\n\";\n</code></pre>\n\n<p>Which prints out the expected changed array:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Array is feefee 2 fiefie 4 foefoe 6 fumfum 8\n</code></pre>\n\n<p>Note that the pairs offered by the <a href=\"https://metacpan.org/pod/List::Pairwise\" rel=\"noreferrer\">List::Pairwise</a> module, which were but <strong><em>very</em> recently</strong> added to the core <a href=\"https://metacpan.org/pod/List::Util\" rel=\"noreferrer\">List::Util</a> module (and so you probably cannot use it), are still not giving you aliases:</p>\n\n<pre><code>use List::Util 1.29 qw(pairs);\n\nmy @pairlist = (\n    fee =&gt; 1,\n    fie =&gt; 2,\n    foe =&gt; 3,\n    fum =&gt; 4,\n);\n\nfor my $pref (pairs(@pairlist)) {\n    $pref-&gt;[0] x= 2;\n    $pref-&gt;[1] *= 2;\n}\n\nprint \"Array is @pairlist\\n\";\n</code></pre>\n\n<p>That prints out only:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Array is fee 1 fie 2 foe 3 fum 4\n</code></pre>\n\n<p>So it didn\u2019t change the array at all.  Oops. :(</p>\n\n<p>Of course, if this were a real hash, you could double the values trivially:</p>\n\n<pre><code>for my $value (values %hash) { $value *= 2 }\n</code></pre>\n\n<p>The reasons that works is because those are aliases into the actual hash values. </p>\n\n<p>You cannot change the keys, since they\u2019re immutable.  However, you can make a new hash that\u2019s an updated copy of the old one easily enough:</p>\n\n<pre><code>my %old_hash = (\n    fee =&gt; 1,\n    fie =&gt; 2,\n    foe =&gt; 3,\n    fum =&gt; 4,\n);\n\nmy %new_hash;    \n@new_hash{ map { $_ x 2 } keys   %old_hash } = \n           map { $_ * 2 } values %old_hash;\n\nprint \"Old hash is: \", join(\" \" =&gt; %old_hash), \"\\n\";\nprint \"New hash is: \", join(\" \" =&gt; %new_hash), \"\\n\";\n</code></pre>\n\n<p>That outputs </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Old hash is: foe 3 fee 1 fum 4 fie 2\nNew hash is: foefoe 6 fiefie 4 fumfum 8 feefee 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1430147963, "last_edit_date": 1495540889, "creation_date": 1429819752, "answer_id": 29833346, "question_id": 29586827, "link": "https://stackoverflow.com/questions/29586827/is-it-possible-to-assign-two-variables-in-perl-foreach-loop/29833346#29833346", "title": "Is it possible to assign two variables in Perl foreach loop?", "body": "<p>Here is a module-less way to \"loop\" by an arbitrary value (<code>$by</code>) and output the resulting group of elements using an array slice:</p>\n\n<pre><code>#!perl -l\n@array = \"1\"..\"6\"; \n$by = 3; $by--; \n\nfor (my $i = 0 ; $i &lt; @array ; $i += $by ) { \n      print \"@array[$i..$i+$by]\"; \n      $i++ ;\n}\n</code></pre>\n\n<p>As a one-liner to test (cut and paste to a Unix shell):</p>\n\n<pre><code>perl -E '@array = \"1\"..\"6\"; $by = 3; $by--; \n      for (my $i = 0 ; $i &lt; @array ; $i += $by ) { \n      say \"@array[$i..$i+$by]\"; $i++ }'\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1 2 3\n4 5 6\n</code></pre>\n\n<p>If you make <code>$by = 2;</code> it will print pairs of numbers. To get at specific elements of the resulting slice access it as an anonymous array: (<em>e.g.</em> <code>[@array[$i..$i+$by]]-&gt;[1]</code>).</p>\n\n<p><strong>See also:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/569772/how-do-i-read-two-items-at-a-time-in-a-perl-foreach-loop\">How do I read two items at a time in a Perl foreach loop?</a> </li>\n<li><a href=\"https://stackoverflow.com/questions/16024480/perl-way-of-iterating-over-2-arrays-in-parallel\">Perl way of iterating over 2 arrays in parallel</a></li>\n</ul>\n\n<p>Some good responses there, including reference to <code>natatime</code> which is quite easy to use. It's easy to implement too - it is essentially a wrapper around the <code>splice</code> solutions mentioned in the responses here. </p>\n\n<p>The following is not the nicest example, but I've been using <a href=\"https://metacpan.org/pod/autobox::Core\" rel=\"nofollow noreferrer\"><code>autobox::Core</code></a> and made an <code>@array-&gt;natatime()</code> \"method\" ;-) like this:</p>\n\n<pre><code>use autobox::Core ;\nsub autobox::Core::ARRAY::natatime {\n  my ($self, $by) = @_; \n  my @copy = @$self ;\n  my @array ;\n\n  push @array, [splice (@copy, 0, $by) ] while @copy ;\n\n  if  ( not defined wantarray ) { \n      print \"@{ $_ } \\n\" for @array ;\n  } \n\n  return wantarray ? @array : \\@array;      \n}\n</code></pre>\n\n<p>The <code>@copy</code> array is <code>spliced</code> destructively, but <code>$self</code> (which is how the <code>@array</code> in front of the autobox method <code>-&gt;</code> arrow gets passed to the function) is still there. So I can do:</p>\n\n<pre><code>my @dozen = \"1\" .. \"12\" ;           # cakes to eat\n@dozen-&gt;natatime(4)  ;              # eat 4 at time\nmy $arr_ref = @dozen-&gt;natatime(4) ; # make a reference\nsay \"Group 3: @{ $arr_ref-&gt;[2] }\" ; # prints a group of elements\nsay scalar @dozen , \" cakes left\" ; # eat cake; still have it\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>1 2 3 4 \n5 6 7 8 \n9 10 11 12 \nGroup 3: 9 10 11 12\n12 cakes left\n</code></pre>\n\n<p>One other approach that also uses a CPAN module (I gave <a href=\"https://stackoverflow.com/a/29834175/2019415\">this answer elsewhere</a> but it is worth repeating). This can also be done non-destructively, with <a href=\"https://stackoverflow.com/users/189416/eric-strom\">Eric Strom's</a> excellent <a href=\"https://metacpan.org/pod/List::Gen\" rel=\"nofollow noreferrer\"><code>List::Gen</code></a> module:</p>\n\n<pre><code>perl -MList::Gen=\":all\" -E '@n = \"1\"..\"6\"; say \"@$_\" for every 2 =&gt; @n'\n1 2\n3 4\n5 6\n</code></pre>\n\n<p>Each group of elements you grab is returned in an anonymous array so the individual values are in: <code>$_-&gt;[0] $_-&gt;[1] ...</code> <em>etc</em>.</p>\n\n<hr>\n\n<p>You mentioned Perl6, which handles multiple looping values nicely:</p>\n\n<pre><code>my @qarr = 1 .. 6;\nmy ($x, $y, $z) ;\nfor @qarr -&gt; $x , $y , $z { say $x/$y  ; say \"z = \" ~ $z }\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>0.5\nz = 3\n0.8\nz = 6\n</code></pre>\n\n<p>For more on the Perl6 approach see: <a href=\"https://perl6advent.wordpress.com/2009/12/07/day-7-looping-for-fun-and-profit/\" rel=\"nofollow noreferrer\">Looping for Fun and Profit</a> from the 2009 Perl6 Advent Calendar, or the <a href=\"http://design.perl6.org/S04.html#The_for_statement\" rel=\"nofollow noreferrer\">Blocks and Statements Synopsis</a> for details. Perhaps Perl 5 will have a similar \"loop by multliple values\" construct one day - <em>\u00e0 la</em> <a href=\"https://metacpan.org/pod/perl5i#foreach\" rel=\"nofollow noreferrer\">perl5i's <code>foreach</code></a> :-) </p>\n"}], "owner": {"reputation": 327, "user_id": 3622780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0477253f5e9821cba2c357baea051d8f?s=128&d=identicon&r=PG&f=1", "display_name": "johnnylak", "link": "https://stackoverflow.com/users/3622780/johnnylak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5354, "favorite_count": 2, "answer_count": 4, "score": 16, "last_activity_date": 1430230011, "creation_date": 1428821474, "question_id": 29586827, "link": "https://stackoverflow.com/questions/29586827/is-it-possible-to-assign-two-variables-in-perl-foreach-loop", "title": "Is it possible to assign two variables in Perl foreach loop?", "body": "<p>Is it possible to assign two variables the same data from an array in a Perl foreach loop?</p>\n\n<p>I am using Perl 5, I think I came across something in Perl 6. </p>\n\n<p>Something like this: </p>\n\n<pre><code>my $var1;\nmy $var2;\n\nforeach $var1,$var2 (@array){...}\n</code></pre>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 2, "creation_date": 1428817603, "post_id": 29586368, "comment_id": 47320668, "body": "Are you supposed to have two opening brackets <code>(</code>?"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1428849047, "post_id": 29586368, "comment_id": 47328072, "body": "You&#39;re pushing an awful lot of work that you can do directly in Perl out to the shell."}], "answers": [{"tags": [], "owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "is_accepted": true, "score": 4, "last_activity_date": 1428820537, "creation_date": 1428820537, "answer_id": 29586713, "question_id": 29586368, "link": "https://stackoverflow.com/questions/29586368/perl-does-not-evaluate-bash-script-correctly/29586713#29586713", "title": "perl does not evaluate bash script correctly", "body": "<p>This is because your shell command is not quoted.\nUse temporary variable like this:</p>\n\n<pre><code>my $cmd = 'echo $(($(diff -U 0 ftest1.txt ftest2.txt|grep ^\\+|wc -l)-$(diff -U 0 ftest1.txt ftest2.txt|grep ^\\-|wc -l)))';\nmy $shell_line_diff=`$cmd`;\nprint \"difference in the number of lines is $shell_line_diff\\n\"; \n</code></pre>\n\n<p>If you do not quote it properly, <code>$(</code> is interpreted by perl before execute your backtick command (see <code>man perlvar</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 1, "last_activity_date": 1428849885, "creation_date": 1428849885, "answer_id": 29590697, "question_id": 29586368, "link": "https://stackoverflow.com/questions/29586368/perl-does-not-evaluate-bash-script-correctly/29590697#29590697", "title": "perl does not evaluate bash script correctly", "body": "<p>Ignoring the actual problem with the code, I would simplify this to</p>\n\n<pre><code>my @lines = qx/diff -U 0 ftest1.txt ftest2.txt/\nmy $shell_line_diff = grep(/^\\+/, @lines) - grep(/^-/, @lines)\n</code></pre>\n\n<p>This should be much faster, as you are</p>\n\n<ol>\n<li>Only running <code>diff</code> once, not twice</li>\n<li>Eliminating several unnecessary processes by not running <code>grep</code>, <code>wc</code>, or the command substitutions that pass the results of the pipelines to the shell's arithmetic expression.</li>\n</ol>\n\n<p>If you really want to keep the shell, you can drop the <code>wc -l</code> command in favor of the <code>-c</code> option to <code>grep</code>, which produces a line count instead of the actual set of lines.</p>\n"}], "owner": {"reputation": 75, "user_id": 4778781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e19ac79e14d23d20bff8dd675eaa2a?s=128&d=identicon&r=PG&f=1", "display_name": "dibonao", "link": "https://stackoverflow.com/users/4778781/dibonao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 29586713, "answer_count": 2, "score": 0, "last_activity_date": 1428849885, "creation_date": 1428817311, "question_id": 29586368, "link": "https://stackoverflow.com/questions/29586368/perl-does-not-evaluate-bash-script-correctly", "title": "perl does not evaluate bash script correctly", "body": "<p>This is my code</p>\n\n<pre><code>my $shell_line_diff=`echo $(($(diff -U 0 ftest1.txt ftest2.txt|grep ^\\+|wc -l)-$(diff -U 0 ftest1.txt ftest2.txt|grep ^\\-|wc -l)))`;\nprint \"difference in the number of lines is $shell_line_diff\\n\";\n</code></pre>\n\n<p>and the evaluated script works fine on Linux bash.</p>\n\n<p>But in perl it gives me the following results:</p>\n\n<pre><code>sh: -c: line 0: syntax error near unexpected token `('\nsh: -c: line 0: `echo 1010 1010 10000000 10000003 10000004 10000010(1010 1010 10000000 10000003 10000004 10000010diff -U 0 ftest1.txt ftest2.txt|grep ^+|wc -l)-1010 1010 10000000 10000003 10000004 10000010diff -U 0 ftest1.txt ftest2.txt|grep ^-|wc -l)))'\ndifference in the number of lines is\n</code></pre>\n\n<p>What did I do wrong?</p>\n"}, {"tags": ["perl", "registry", "strawberry-perl"], "owner": {"reputation": 3620, "user_id": 1973299, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/E3LB9.jpg?s=128&g=1", "display_name": "Nick Coons", "link": "https://stackoverflow.com/users/1973299/nick-coons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1428818032, "creation_date": 1428817294, "last_edit_date": 1428818032, "question_id": 29586367, "link": "https://stackoverflow.com/questions/29586367/win32tieregistry-not-returning-all-values", "title": "Win32::TieRegistry Not Returning All Values", "body": "<p>I'm trying to get a list of installed programs by enumerating registry keys.  As a test, I'm doing this:</p>\n\n<pre><code>#!perl\nuse warnings;\nuse strict;\nuse Data::Dumper;\n\nmy $registry;\n\nuse Win32::TieRegistry (\n    'ArrayValues' =&gt; 1,\n    'Delimiter'   =&gt; '/',\n    'TiedRef'     =&gt; \\$registry,\n);\n\nmy $regkey = 'HKEY_LOCAL_MACHINE/SOFTWARE/Wow6432Node/Microsoft/Windows/CurrentVersion/Uninstall/';\n\nmy $lmachine64 = $registry-&gt;Open( $regkey, { 'Access' =&gt; Win32::TieRegistry::KEY_READ() } );\n\nprint Data::Dumper::Dumper( $lmachine64 );\n</code></pre>\n\n<p>Some of the sub-keys show the data that seems to perfectly match what I see in regedit, and other sub-keys show as being empty even though regedit shows that they contain data.  I can't find what's different among the keys that would make some of them have child data and others not.</p>\n\n<p>I'm running this on Windows 7 64-bit with Strawberry Perl v5.20.2.  I don't have a Windows 32-bit system to test this and see if it's related to being 64-bit.  I've tried this in an elevated command prompt, and I've modified the offending keys so that \"Everyone\" has full control, all with no effect.</p>\n\n<p>I've also tried this with <code>HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Windows/CurrentVersion/Uninstall/</code> (without Wow6432Node), and the same thing happens (some keys contain child values and some don't).</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>When I run the above code, one of the blank keys looks like this:</p>\n\n<p><code>'{04036F66-8809-4BCF-BA28-892460F70054}/' =&gt; bless( {}, 'Win32::TieRegistry' ),</code></p>\n\n<p>One of the non-blank keys something look like this:</p>\n\n<pre><code>'{92FB6C44-E685-45AD-9B20-CADF4CABA132}.KB2894854v2/' =&gt; bless( {\n                                                                               '/ReleaseType' =&gt; [\n                        'Security Update',\n                        1\n                      ],\n    '/' =&gt; [\n             'KB2894854v2',\n                     ],\netc...\n</code></pre>\n\n<p>However, if on the blank key I run this:</p>\n\n<pre><code>print Data::Dumper::Dumper( $blank_key-&gt;{'DisplayName'} );\n</code></pre>\n\n<p>Then I get the expected value.  Is this perhaps an issue <code>Data::Dumper</code>?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1428844848, "post_id": 29586361, "comment_id": 47326854, "body": "thank you Ikegami - I knew global meant search the whole document, but did not understand how it searched globally. watching the analog version print out is the coolest."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1428817616, "last_edit_date": 1428817616, "creation_date": 1428817249, "answer_id": 29586361, "question_id": 29586179, "link": "https://stackoverflow.com/questions/29586179/perl-while-loop-iterates-through-a-variable/29586361#29586361", "title": "perl while loop iterates through a variable.", "body": "<p><code>$catalog</code> contains the string <code>&lt;!DOCTYPE HTML PUB[...][newline][newline]&lt;html&gt;[...]</code>.</p>\n\n<p>Your first snippet fails because <code>$catalog</code> doesn't contain a file name.</p>\n\n<p>Your second snippet fails because <code>$catalog</code> doesn't contain a file handle.</p>\n\n<p>When a match operator with the <code>/g</code> modifier is used scalar context, it searches from where the last search left off.</p>\n\n<p>The analog would be</p>\n\n<pre><code>use Time::HiRes qw( sleep );  # Support sleeping fractions of seconds.\n$| = 1;  # Turn off STDOUT's output buffering.\nfor my $i (0..length($content)-1) {\n   print(substr($content, $i, 1));\n   sleep 0.1;\n}\n</code></pre>\n\n<hr>\n\n<p>Let's use a simpler string as an example.</p>\n\n<pre><code>my $s = \"a000a000a000\";\n++$count while $s =~ /a/g;\n</code></pre>\n\n<p>Here's what happens:</p>\n\n<ol>\n<li>The match operator is executed. It finds the first <code>a</code>, sets <code>pos($s) = 1;</code>, and returns true.</li>\n<li>The loop body is entered, and <code>$count</code> is incremented.</li>\n<li>The match operator is executed. It behaves as if the string started as <code>pos($s)</code> (<code>1</code>), finds the second <code>a</code>, sets <code>pos($s) = 5;</code>, and returns true.</li>\n<li>The loop body is entered, and <code>$count</code> is incremented.</li>\n<li>The match operator is executed. It behaves as if the string started as <code>pos($s)</code> (<code>5</code>), finds the third <code>a</code>, sets <code>pos($s) = 9;</code>, and returns true.</li>\n<li>The loop body is entered, and <code>$count</code> is incremented.</li>\n<li>The match operator is executed. It behaves as if the string started as <code>pos($s)</code> (<code>9</code>), fails to find a match, clears <code>pos($s)</code>, and returns false. The loops exits.</li>\n</ol>\n\n<p>Nothing changes if some of the characters of the string are newlines.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 29586361, "answer_count": 1, "score": 0, "last_activity_date": 1428817616, "creation_date": 1428815421, "question_id": 29586179, "link": "https://stackoverflow.com/questions/29586179/perl-while-loop-iterates-through-a-variable", "title": "perl while loop iterates through a variable.", "body": "<p>This little snippet is  from the first chapter of the LWP perl oreilly book.\nThis line </p>\n\n<pre><code>$count++ while $catalog =~ m/Perl/gi; \n</code></pre>\n\n<p>perplexes me </p>\n\n<p>I do not understand how the while statement iterates through the lines in the $catalog variable to find the matched, I don't even know how to explain what that line does in english much less perl </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict ;\nuse LWP::Simple ;\nmy $catalog = get(\"http://www.oreilly.com/catalog\");\nmy $count = 0;\n$count++ while $catalog =~ m/Perl/gi;\nprint \"$count\\n\";\n</code></pre>\n\n<p>so I have tried writing it out long hand to no avail. </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict ;\nuse LWP::Simple ;\nmy $catalog = get(\"http://www.oreilly.com/catalog\");\n\n\nopen( my $fh_catalog ,\"&lt;\" , $catalog) || die \"cant open $!\";\nwhile (&lt;$fh_catalog&gt;) {\n    print $_ ;\n    sleep 1;\n}\n</code></pre>\n\n<p>I even tried</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict ;\nuse LWP::Simple ;\nmy $catalog = get(\"http://www.oreilly.com/catalog\");\n\nwhile (&lt;$catalog&gt;) {\n    print $_ ;\n    sleep 1;\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "is_accepted": true, "score": 0, "last_activity_date": 1428811293, "last_edit_date": 1428811293, "creation_date": 1428810559, "answer_id": 29585743, "question_id": 29585635, "link": "https://stackoverflow.com/questions/29585635/perl-logic-request-for-an-io-scenario/29585743#29585743", "title": "perl logic request for an IO scenario", "body": "<p>Here's a working solution:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse utf8;\n\n## read file2 first\nmy $fh2;\nopen($fh2, '&lt;', 'file2' ) || die(\"error: could not open file2: $!\");\nmy $header2 = &lt;$fh2&gt;;\nchomp($header2);\nmy $names2 = split(': ',$header2);\nmy $descriptionMap = {};\nwhile (my $line = &lt;$fh2&gt;) {\n    chomp($line);\n    my $fields = [split(': ',$line)];\n    $descriptionMap-&gt;{$fields-&gt;[0]} = $fields-&gt;[1];\n} ## end while\nclose($fh2);\n\n## run through error list from file1 and print out all error info, plus description from file2 (if found)\nmy $fh1;\nopen($fh1, '&lt;', 'file1' ) || die(\"error: could not open file1: $!\");\nmy $header1 = &lt;$fh1&gt;;\nchomp($header1);\nmy $names1 = [split(', ',$header1)];\nwhile (my $line = &lt;$fh1&gt;) {\n    ## parse\n    chomp($line);\n    my $fields = [split(', ',$line)];\n    my $error = {};\n    @$error{@$names1} = @$fields; ## hash slice assignment\n    ## get description\n    my $description = exists($descriptionMap-&gt;{$error-&gt;{'code'}}) ? $descriptionMap-&gt;{$error-&gt;{'code'}} : '(not found)';\n    ## output\n    print($error-&gt;{'Testname'},',',$error-&gt;{'code'},',',$error-&gt;{'date'},',',$error-&gt;{'file'},',',$description,\"\\n\");\n} ## end while\nclose($fh1);\n\nexit 0;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Test1,4,4/11/15,/tmp,Syntax error\nTest2,2,4/11/15,/log,Error with file location\nTest3,1,4/11/15,/log,Generic user error\n</code></pre>\n\n<p>It works by first reading in file2 into a hash keyed on the code, whose value is the description. Next, it reads file1, and for each error, prints out its info, with a lookup on the file2 hash to get the description.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 1782046, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a9567f1681c9ddbd51a3fdfad2bf4f81?s=128&d=identicon&r=PG", "display_name": "user1782046", "link": "https://stackoverflow.com/users/1782046/user1782046"}, "edited": false, "score": 0, "creation_date": 1428852611, "post_id": 29586300, "comment_id": 47329295, "body": "Thank you the quick response. I was trying to get started with a logic to start my code but you guys helped me even more by providing the actual working code! Thanks you very much for your help!"}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": false, "score": 0, "last_activity_date": 1428817524, "last_edit_date": 1428817524, "creation_date": 1428816609, "answer_id": 29586300, "question_id": 29585635, "link": "https://stackoverflow.com/questions/29585635/perl-logic-request-for-an-io-scenario/29586300#29586300", "title": "perl logic request for an IO scenario", "body": "<p>If you are using Perl to read two files, you must certainly have code to show that we could help you with.  If you haven't written any code, it's not clear why you would land on one specific language as a means to the end.  In the absence of code to help you work through, it's probably best to start with a description of how one might solve the problem.</p>\n\n<p>You could start by reading <code>file2</code> into a data container that makes it easy to do code lookups.  If the code numbers are are sparsely distributed, you would probably use a hash where the keys are the code number, and the values are the codes' descriptions.  If the numbers are densely distributed, you might use an array as your structure, where the index represents the code number, and the value is the code's description.  Since we don't know the answer to that question, we should probably explore a general solution that would work satisfactorily in either case; a hash is advisable.</p>\n\n<p>The next step would be to iterate over the lines in <code>file1</code>, extract the code from the line using either a regular expression, or <code>split</code>, or <code>Text::CSV</code>, and then using that code to perform the lookup in your code reference hash.</p>\n\n<p>Here is a sample implementation of that strategy:</p>\n\n<pre><code>open my $f2, '&lt;', 'file2' or die $!;\nmy %codes = map { m/^(\\d+):\\s*(.+)$/ ? ($1,$2) : () } &lt;$f2&gt;;\n\nopen my $f1, '&lt;', 'file1' or die $!;\nwhile( &lt;$f1&gt; ) {\n    next unless m/^[^,]+,\\s*(\\d+),/;\n    exists $codes{$1} &amp;&amp; do {\n        chomp;\n        print \"$_ =&gt; $codes{$1}\\n\";\n    };\n}\n</code></pre>\n\n<p>So in the first segment of that code we open <code>file2</code>, and extract its lines into a hash called <code>%codes</code>.  The keys in the hash are the numeric codes, and the values are the textual descriptions.</p>\n\n<p>In the second segment we iterate over the lines of <code>file1</code>, again extracting the code.  We use that code to do a lookup of the code's meaning.  If the lookup fails to find meaning, we move on.  Otherwise, we go ahead and print the line from <code>file1</code> and the code's meaning from <code>file2</code>.</p>\n\n<p>The output this produces is:</p>\n\n<pre><code>Test1, 4, 4/11/15, /tmp =&gt; Syntax error\nTest2, 2, 4/11/15, /log =&gt; Error with file location\nTest3, 1, 4/11/15, /log =&gt; Generic user error\n</code></pre>\n\n<p>It seems to me it would probably be better to print <em>something</em> even if the code isn't found.  If that's preferable to you, you could alter that second block of code to look like this:</p>\n\n<pre><code>open my $f1, '&lt;', 'file1' or die $!;\nwhile( &lt;$f1&gt; ) {\n    next unless m/^[^,]+,\\s*(\\d+),/;\n    chomp;\n    print \"$_ =&gt; \", exists $codes{$1} ? \"$codes{$1}\\n\" : \"UNKNOWN CODE\\n\"\n}   \n</code></pre>\n\n<p>The two snippets of code differ in that the first one will skip any lines in <code>file1</code> where a matching code is not found in <code>file2</code>.  This seems to fit the description of the goal provided in your question.  The second snippet prints every line from <code>file1</code> that has a code, and for those lines where a matching code isn't found from <code>file2</code>, the response \"<code>UNKNOWN CODE</code>\" is printed in lieu of a code description.  </p>\n"}], "owner": {"reputation": 13, "user_id": 1782046, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a9567f1681c9ddbd51a3fdfad2bf4f81?s=128&d=identicon&r=PG", "display_name": "user1782046", "link": "https://stackoverflow.com/users/1782046/user1782046"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 29585743, "answer_count": 2, "score": 0, "last_activity_date": 1428909924, "creation_date": 1428809300, "last_edit_date": 1428909924, "question_id": 29585635, "link": "https://stackoverflow.com/questions/29585635/perl-logic-request-for-an-io-scenario", "title": "perl logic request for an IO scenario", "body": "<p>I need help in building a logic for below scenario. </p>\n\n<p>I am using Perl to read 2 files which have 4 and 2 elements as below. I need to read each line from <code>File1</code> and compare if <code>code</code> exists in both files.\nIf <code>code</code> exists in both files, I need to display all the line elements of <code>file1</code> along with its <code>description</code>. Can you please share your thoughts?</p>\n\n<p>File1:</p>\n\n<pre><code>Testname, code, date, file\nTest1, 4, 4/11/15, /tmp\nTest2, 2, 4/11/15, /log\nTest3, 1, 4/11/15, /log\n</code></pre>\n\n<p>File2:</p>\n\n<pre><code>Code: description\n1: Generic user error\n2: Error with file location\n3: File not found\n4: Syntax error\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 3595, "user_id": 1072647, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/weTJG.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1072647/john"}, "edited": false, "score": 0, "creation_date": 1428778111, "post_id": 29581693, "comment_id": 47311728, "body": "Could we see what you have tried so far?"}, {"owner": {"reputation": 369, "user_id": 3850150, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-f_t1j9UVgAk/AAAAAAAAAAI/AAAAAAAAABs/mHsbAo9B72A/photo.jpg?sz=128", "display_name": "Bruno", "link": "https://stackoverflow.com/users/3850150/bruno"}, "reply_to_user": {"reputation": 3595, "user_id": 1072647, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/weTJG.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1072647/john"}, "edited": false, "score": 0, "creation_date": 1428778389, "post_id": 29581693, "comment_id": 47311825, "body": "while(&lt;&gt;){ \tif (/([\\w,;:\\s\\t]*)(\\n|\\/\\/)/m){ \t\tprint &quot;$1\\n&quot;; \t} }   With this I could print the content before //."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428789043, "post_id": 29582468, "comment_id": 47315024, "body": "That&#39;s a <i>lot</i> of speculation!"}, {"owner": {"reputation": 369, "user_id": 3850150, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-f_t1j9UVgAk/AAAAAAAAAAI/AAAAAAAAABs/mHsbAo9B72A/photo.jpg?sz=128", "display_name": "Bruno", "link": "https://stackoverflow.com/users/3850150/bruno"}, "edited": false, "score": 0, "creation_date": 1428789687, "post_id": 29582468, "comment_id": 47315200, "body": "That&#39;s what I need! I didn&#39;t know how to read the file until read a &#39;//&#39;. How works this piece of code: my $chunk = &lt;DATA&gt; ? What should be my DATA if I have an input .txt file?  Finally, how works this:  next unless @fields; ? Thanks again!"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1428790128, "post_id": 29582468, "comment_id": 47315336, "body": "Open the file using the usual <code>open my $fh, &#39;&lt;&#39;, $filename</code> ... Then use <code>$fh</code> instead of <code>DATA</code>."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1428790154, "last_edit_date": 1428790154, "creation_date": 1428782728, "answer_id": 29582468, "question_id": 29581693, "link": "https://stackoverflow.com/questions/29581693/match-multiple-line-string-in-perl/29582468#29582468", "title": "Match multiple line string in Perl", "body": "<p><code>/m</code> is for using <code>^</code>, and <code>$</code> to match by line in a string with multiple lines.</p>\n\n<p>On the other hand, you are reading the input <strong>line by line</strong>. You cannot expect to match across lines with a single expression if you only look at <strong>one line at a time</strong>.</p>\n\n<p>Instead, read by chunks by setting <code>$/</code> to an appropriate value. If the chunks always end in the exact string <code>\"// Letras\\n\\n\"</code>, the task is even simpler.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = '//';\n\nwhile (my $chunk = &lt;DATA&gt;) {\n    chomp $chunk;\n    my @fields = ($chunk =~ /([a-z])[, ]/g);\n    next unless @fields;\n    printf \"{%s}\\n\", join(':', @fields);\n}\n\n__DATA__\na,b,\nc,d,e,f,g,h,\ni,j,q // Letras\n\na,b,\nc,d,e,f,g,h,\ni,j,q // Metras\n</code></pre>\n\n<p>Output:</p>\n\n<pre>{a:b:c:d:e:f:g:h:i:j:q}\n{a:b:c:d:e:f:g:h:i:j:q}</pre>\n\n<p>You can also use <a href=\"https://metacpan.org/pod/File::Stream\" rel=\"nofollow\">File::Stream</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse File::Stream;\n\nmy $stream = File::Stream-&gt;new(\n    \\*DATA,\n    separator =&gt; qr{ (?: \\s+ // [^\\n]+ ) \\n\\n }x\n);\n\nwhile (my $chunk = &lt;$stream&gt;) {\n    $chunk =~ s{ \\s+ // .* \\z }{}sx;\n    $chunk =~ s{ ,\\n? }{:}gx;\n    print \"{$chunk}\\n\";\n}\n\n__DATA__\na,b,\nc,d,e,f,g,h,\ni,j,q // Letras\n\na,b,\nc,d,e,f,g,h,\ni,j,q // Metras\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1428790023, "last_edit_date": 1495542491, "creation_date": 1428784896, "answer_id": 29582808, "question_id": 29581693, "link": "https://stackoverflow.com/questions/29581693/match-multiple-line-string-in-perl/29582808#29582808", "title": "Match multiple line string in Perl", "body": "<p>I <em>think</em> what you're aiming for is to remove comments (denoted by a double slash) from each line, and print it out enclosed by braces, and with a colon <code>:</code> separator instead of commas</p>\n\n<p>First of all you should remove the trailing linefeed character from each line using <code>chomp</code></p>\n\n<p>Then all you need to remove any trailing comment is <code>s|\\s*//.*||</code>. That removes any spaces before the <code>//</code> as well. I'm using a pipe character <code>|</code> as the delimiter so as to avoid having to escape the slashes within the regex pattern. And the data is being processed one line at a time so there no need for the <em>global</em> <code>/g</code> modifier</p>\n\n<p>This program reads from the file specified on the command line, which I've set up to contain the data you show in the question</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) {\n  chomp;\n  s|\\s*//.*||;\n  print \"{$_}\\n\";\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{a,b,}\n{c,d,e,f,g,h,}\n{i,j,q}\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/a/29582468/622310\">Sinan \u00dcn\u00fcr's solution</a> I notice that you've asked to <em>\"print [the letters] between <code>{}</code> separated by <code>:</code>\"</em></p>\n\n<p>This is a modification of the <code>while</code> loop above, which finds all substrings within the current line that don't contain commas, and joins them together again using colons <code>:</code></p>\n\n<pre><code>while ( &lt;&gt; ) {\n  chomp;\n  s|\\s*//.*||;\n  my $values = join ':', /[^,]+/g;\n  print \"{$values}\\n\";\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{a:b}\n{c:d:e:f:g:h}\n{i:j:q}\n</code></pre>\n\n<p>I am sure the true solution is much more simple, but unless you elaborate your question we have to cater for all possibilities</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4778240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xUGRNyPaIns/AAAAAAAAAAI/AAAAAAAAFdM/8pOGqQ8bXRo/photo.jpg?sz=128", "display_name": "Bill Ward", "link": "https://stackoverflow.com/users/4778240/bill-ward"}, "is_accepted": false, "score": 0, "last_activity_date": 1428793909, "creation_date": 1428793909, "answer_id": 29584121, "question_id": 29581693, "link": "https://stackoverflow.com/questions/29581693/match-multiple-line-string-in-perl/29584121#29584121", "title": "Match multiple line string in Perl", "body": "<p>Are you looking to combine the letters on all 3 lines into the output, or convert each line?</p>\n\n<p>In other words, is your desired output</p>\n\n<pre><code>{a:b}\n{c:d:e:f:g:h}\n{i:j:q}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{a:b:c:d:e:f:g:h:i:j:q}\n</code></pre>\n\n<p>?</p>\n\n<p>If you want the former, Borodin's answer works.\nIf you want the latter, then you should load the contents into an array, and print it using a join statement. To do that, I've modified Borodin's answer:</p>\n\n<pre><code>while ( &lt;&gt; ) {    # read each line\n  chomp;          # remove \\n from line\n  s|\\s*//.*||;    # remove comment\n  push @values, ':', /[^,]+/g;   # store letters in array\n}\nmy $values = join ':', @values;  # convert array to string\nprint \"{$values}\\n\";             # print the results\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1864147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a01e4675f90d85f6193218161ab2f335?s=128&d=identicon&r=PG", "display_name": "Darshan MC", "link": "https://stackoverflow.com/users/1864147/darshan-mc"}, "is_accepted": false, "score": 0, "last_activity_date": 1428909865, "last_edit_date": 1428909865, "creation_date": 1428840403, "answer_id": 29589271, "question_id": 29581693, "link": "https://stackoverflow.com/questions/29581693/match-multiple-line-string-in-perl/29589271#29589271", "title": "Match multiple line string in Perl", "body": "<pre><code>my $str = \"a,b,\nc,d,e,f,g,h,\ni,j,q // Letras\";\n\n$str = join \"\",map {s/,/:/g ;(split)[0]}  split '\\n', $str;\n\nprint \"{$str}\";\n\n\nSample output\n\n{a:b:c:d:e:f:g:h:i:j:q}\n</code></pre>\n\n<p>I am considering a string with multilines separated by newline character.</p>\n\n<pre><code>join \"\",map {s/,/:/g ;(split)[0]}  split '\\n', $str \n</code></pre>\n\n<p>This is evaluated from right to left. </p>\n\n<ol>\n<li><p>Split with <code>\\n</code> on <code>$str</code> produces 3 elements which is input for <code>map</code>.</p></li>\n<li><p><code>(split)[0]</code> : default delimiter for <code>split</code> is whitespace. so each element is split for whitespace and <code>0th</code> element is only considered discarding others.\nEx <code>(split)[0]</code> for <code>i,j,q // Letras</code> produces 3 elements \"i,j,q\" \"//\" \"Letras\" where only element 0 i.e., \"i,j,q\" is considered.</p></li>\n<li><p><code>,</code> is replaced with <code>:</code> </p></li>\n<li><p><code>join</code> is used to combine all the resulting elements from <code>map</code>.</p></li>\n</ol>\n"}], "owner": {"reputation": 369, "user_id": 3850150, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-f_t1j9UVgAk/AAAAAAAAAAI/AAAAAAAAABs/mHsbAo9B72A/photo.jpg?sz=128", "display_name": "Bruno", "link": "https://stackoverflow.com/users/3850150/bruno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1483, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1428909865, "creation_date": 1428777965, "last_edit_date": 1428789450, "question_id": 29581693, "link": "https://stackoverflow.com/questions/29581693/match-multiple-line-string-in-perl", "title": "Match multiple line string in Perl", "body": "<p>I'm new to Perl and I was wondering if someone can help me. </p>\n\n<p>I have an input like this: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>a,b,\nc,d,e,f,g,h,\ni,j,q // Letras\n</code></pre>\n\n<p>I'm trying to get the letters before <code>//</code> separately and then print them between <code>{}</code> separated by <code>:</code>.</p>\n\n<p>I tried with this RE <code>([\\w,;:\\s\\t]*)(\\n|\\/\\/)/m</code> and I could get in <code>$1</code> all letters for each line (as a string including separators) but not what I want.</p>\n\n<p>I need to match that pattern more than one time in the same file so I was using <code>/g</code>.</p>\n\n<p>Edit:</p>\n\n<p>Here is my code block:</p>\n\n<pre><code>while ( &lt;&gt; ) {\n  if ( /([\\w,;:\\s\\t]*)(\\n|\\/\\/)/m ) {\n    print \"$1\\n\";\n  }\n} \n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1428752499, "post_id": 29577322, "comment_id": 47303247, "body": "Thanks for the tip on handling unexpected parameters!"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1428753019, "post_id": 29577322, "comment_id": 47303410, "body": "Of course, <code>Carp::croak</code> would be much more useful than <code>die</code> especially with this type of error."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1428756832, "post_id": 29577322, "comment_id": 47304454, "body": "@Sinan&#220;n&#252;r: I was in two minds about <code>croak</code>, and omitted it because the subroutine isn&#39;t in a separate module, and because it isn&#39;t central to the question. However, in retrospect, the whole concept of reporting unexpected arguments is non-essential anyway and you have changed my mind. Thank you"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1428756682, "last_edit_date": 1428756682, "creation_date": 1428751566, "answer_id": 29577322, "question_id": 29577085, "link": "https://stackoverflow.com/questions/29577085/how-to-specify-default-values-for-optional-subroutine-arguments/29577322#29577322", "title": "How to specify default values for optional subroutine arguments?", "body": "<p>I don't remember seeing a subroutine written expressly to handle subroutine parameters. Do you have a Ruby background?</p>\n\n<p>You can define the options hash by a list of its defaults, followed by anything passed in <code>@_</code>. Like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nfunc1( \"arg1\", \"arg2\", opt1 =&gt; \"first option\", opt2 =&gt; 0 );\n\nsub func1 {\n  my ( $arg1, $arg2 ) = splice @_, 0, 2;\n  my %opts = (\n    opt1 =&gt; \"no option\",\n    opt2 =&gt; 1,\n    opt3 =&gt; [],\n    @_,\n  );\n}\n</code></pre>\n\n<p>Another mechanism, if you want to warn against unsupported paremeters, is to do much as you have, but use <code>delete</code>, and to ensure that the hash is empty afterwards, like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse Data::Dump;\nuse Carp 'croak';\n\nfunc1( \"arg1\", \"arg2\", opt9 =&gt; 9 );\n\nsub func1 {\n  my ( $arg1, $arg2, %opt ) = @_;\n\n  my $opt1 = delete $opt{opt1} // 'no option';\n  my $opt2 = delete $opt{opt2} // 1;\n  my $opt3 = delete $opt{opt3} // [];\n\n  croak \"Unexpected parameters: \", join ',', keys %opt if keys %opt;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unexpected parameters: opt9 at E:\\Perl\\source\\args.pl line 16.\n  main::func1(\"arg1\", \"arg2\", \"opt9\", 9) called at E:\\Perl\\source\\args.pl line 7\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1428752464, "post_id": 29577331, "comment_id": 47303235, "body": "Thanks, Param::Validate seems like the best solution!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 6, "last_activity_date": 1428752869, "last_edit_date": 1428752869, "creation_date": 1428751618, "answer_id": 29577331, "question_id": 29577085, "link": "https://stackoverflow.com/questions/29577085/how-to-specify-default-values-for-optional-subroutine-arguments/29577331#29577331", "title": "How to specify default values for optional subroutine arguments?", "body": "<pre><code>sub func1 {\n    my $arg1 = shift;\n    my $arg2 = shift;\n    my %opt = (\n       opt1 =&gt; 'default',\n       opt2 =&gt; 'default',\n       @_\n    );\n</code></pre>\n\n<p>Or, you can use <a href=\"https://metacpan.org/pod/Params::Validate\" rel=\"nofollow\">Params::Validate</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1428756889, "creation_date": 1428756889, "answer_id": 29578093, "question_id": 29577085, "link": "https://stackoverflow.com/questions/29577085/how-to-specify-default-values-for-optional-subroutine-arguments/29578093#29578093", "title": "How to specify default values for optional subroutine arguments?", "body": "<p>Try:</p>\n\n<pre><code># isolate the default options\n{\n  my %default_options = (\n    opt1 =&gt; 'default for opt1',\n    opt2 =&gt; 'default for opt2',\n  );\n\n  sub func1 {\n    my $arg1 = shift @_;\n    my $arg2 = shift @_;\n\n    # set options\n    my %opt  = %default_options;\n    if( my %given_opts = @_ ){\n      for my $key ( keys %opt ){\n        if( exists $given_opts{$key} ){\n          $opt{$key} = $given_opts{$key};\n        }\n      }\n    }\n\n    # rest of func1\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 1, "accepted_answer_id": 29577331, "answer_count": 3, "score": 2, "last_activity_date": 1428756889, "creation_date": 1428749827, "question_id": 29577085, "link": "https://stackoverflow.com/questions/29577085/how-to-specify-default-values-for-optional-subroutine-arguments", "title": "How to specify default values for optional subroutine arguments?", "body": "<p>Is there an elegant way to specify default values for subroutine arguments?</p>\n\n<p>Currently, I am using the following approach:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nfunc1( \"arg1\", \"arg2\", opt1 =&gt; \"first option\", opt2 =&gt; 0 );\n\nsub func1 {\n    my ( $arg1, $arg2, %opt ) = @_;\n\n    $opt{opt1} //= \"no option\";\n    $opt{opt2} //= 1;\n    $opt{opt3} //= [];\n}\n</code></pre>\n\n<p>which looks a little bit ugly, when there are many options. I would rather like to do</p>\n\n<pre><code>sub func2 {\n    my ( $arg1, $arg2, $opt ) = process_args( \n        opt1 =&gt; \"no option\", opt2 =&gt; 1, opt3 =&gt; []\n    );\n}\n</code></pre>\n\n<p>The best I could come up with for this approach was:</p>\n\n<pre><code>sub func2 {\n    my ( $arg1, $arg2, $opt ) = process_args(\n        \\@_, 2, opt1 =&gt; \"no option\", opt2 =&gt; 1, opt3 =&gt; []\n    );\n}\n\nsub process_args {\n    my ($a, $n, %opt_info ) = @_;\n\n    my @b = splice @$a, 0, $n;\n    my %opt = @$a;\n    for my $key (keys %opt_info) {\n        $opt{$key} //= $opt_info{$key};\n    }\n    return (@b, \\%opt);\n}\n</code></pre>\n\n<p>but now I got the other problem, that I must pass <code>\\@_</code> and the number of non-option arguments ( here 2 ), to <code>process_args</code>..</p>\n"}, {"tags": ["windows", "perl", "csv"], "comments": [{"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428742099, "post_id": 29575833, "comment_id": 47300225, "body": "How do you run your program in the command line?"}, {"owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428742176, "post_id": 29575833, "comment_id": 47300248, "body": "What i am doing is that opening the perl  going to the directory file perl, and then writing .  create-config.pl&lt;RTR-Data.CSV where RTR-DATA is the CSV file.  When i add this an empty .txt file is generated."}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428743152, "post_id": 29575833, "comment_id": 47300515, "body": "Could you add <code>printf &quot;%s\\n&quot;, join(&quot;&#47;&quot;, ($location, $name, $lo0ip, $frameip, $framedlci, $eth0ip, $x) );</code> after <code>split()</code> to confirm that your <code>split()</code> working as expected and tell us the screen result."}, {"owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428743754, "post_id": 29575833, "comment_id": 47300700, "body": "Hello i added what youve mentioned ad the screen displays, 2 new lines on the CMD, 1st :create-configs.pl&lt;RTR-DATA.CSV 2nd:////// after enterning the create-configs.pl&lt;RTR-DATA.CSV command"}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428744167, "post_id": 29575833, "comment_id": 47300805, "body": "Then you know the <code>split()</code> is not working as expected. Are you sure RTR-DATA.CSV is a csv file? Can you show the content or maybe just first line of RTR-DATA.CSV ?"}, {"owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428744404, "post_id": 29575833, "comment_id": 47300874, "body": "yeah sure, take a look, Toronto, Router1, 172.25.15.1, 172.25.16.6,101, 172.25.100.1"}, {"owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428744677, "post_id": 29575833, "comment_id": 47300959, "body": "DO you have any suggestions to solve this issue?"}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428744832, "post_id": 29575833, "comment_id": 47300995, "body": "I test your program and it is creating Router1.txt properly."}, {"owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428744910, "post_id": 29575833, "comment_id": 47301021, "body": "Hello Tvin,  could you please tell me what command you are inserting ?"}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428744914, "post_id": 29575833, "comment_id": 47301022, "body": "Because your RTR-DATA.CSV contains space, you better use <code>split(&#47;, *&#47;)</code> instead. But I think this is not the reason of your issue."}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428745039, "post_id": 29575833, "comment_id": 47301057, "body": "This is how I run it: <code>echo &quot;Toronto, Router1, 172.25.15.1, 172.25.16.6,101, 172.25.100.1&quot; | .&#47;create-configs.pl</code> , but the way you run it should be OK as well."}, {"owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428745289, "post_id": 29575833, "comment_id": 47301131, "body": "Hello,  iam  a beginner in perl, and iam using this code to generate a lare num of router config as ,txt file,   WHAT I DID I INSTALLED  perl on my pc and then click on the create-configs.pl file a cmd is displayed i wrote &lt;RTR-DATA.CSV,  and i noticed that an empty txt file is generated.  so what do you think the problem is from the code or from the CSV file?"}, {"owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428745488, "post_id": 29575833, "comment_id": 47301193, "body": "I have run your command but an empty txt file is also generated named Router1."}, {"owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428745564, "post_id": 29575833, "comment_id": 47301217, "body": "<a href=\"https://www.safaribooksonline.com/library/view/cisco-ios-cookbook/0596527225/ch01s16.html\" rel=\"nofollow noreferrer\">safaribooksonline.com/library/view/cisco-ios-cookbook/&hellip;</a>  this is the Cisco article from where i got the code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428745659, "post_id": 29575833, "comment_id": 47301242, "body": "Are you working on a Windows machine?"}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1428745671, "post_id": 29575833, "comment_id": 47301245, "body": "Usually you don&#39;t just click on a perl script which receive input from standard input. Open a terminal, go to the directory where the perl file and CSV file exist. Run from there."}, {"owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "edited": false, "score": 0, "creation_date": 1428745813, "post_id": 29575833, "comment_id": 47301274, "body": "Hello tvin pretty awsome, it worked finally :)  Maybe i wasnt opening the cmd i as run with administrator.  thank you :D"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428748564, "post_id": 29575833, "comment_id": 47302117, "body": "@user2600543: It is nothing to do with administrator status. Clicking on a file in Windows Explorer doesn&#39;t pass it any parameters, so <code>&lt;&gt;</code> is reading from your keyboard. I&#39;ve explained in my solution below"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1428750603, "last_edit_date": 1428750603, "creation_date": 1428748247, "answer_id": 29576836, "question_id": 29575833, "link": "https://stackoverflow.com/questions/29575833/merge-csv-file-using-perl/29576836#29576836", "title": "Merge CSV file using Perl", "body": "<p>The main problem is that you're running your program by double-clicking on its file name in Windows Explorer.</p>\n\n<p>The way <code>&lt;&gt;</code> works is that it will read from any files that you specify on the command line (that appear in the <code>@ARGV</code> array) or, if that array is empty, then it will read from <code>STDIN</code> \u2014 usually the keyboard.</p>\n\n<p>Double-clicking the file gives it no command-line parameters, so it waits for you to type input in the black window that appears. That means you've entered <code>&lt;RTR-DATA.CSV</code> as input to your <code>while</code> loop and Perl has tried to split it on commas, giving only a single field, so it sets <code>$location</code> to <code>&lt;RTR-DATA.CSV</code>. Not what you wanted!</p>\n\n<p>So, if you run your program from the <code>cmd</code> window by entering</p>\n\n<pre><code>create-configs.pl RTR-DATA.CSV\n</code></pre>\n\n<p>then within the program <code>@ARGV</code> will contain <code>RTR-DATA.CSV</code> and the <code>&lt;&gt;</code> will automatically read from that file</p>\n\n<p>Here are some further notes on your code</p>\n\n<ul>\n<li><p>There is no need for the <code>#!</code> line on a Windows system, which will normally have the <code>.pl</code> file extension tied to the perl executable</p></li>\n<li><p>You <em>must always</em> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program you write, and declare all your variables at their first point of use. That would have given some very strong clues about the nature of your problem</p></li>\n<li><p>You should normally <code>chomp</code> each line read from a file, as it will have a newline character at the end that can cause problems if you leave it at the end of the last field returned by <code>split</code></p></li>\n<li><p>In this case you should also probably add optional whitespace either side of the comma in the pattern you are splitting on, so as to remove leading and trailing spaces from the fields it returns</p></li>\n<li><p>You should always use lexical file handles (<code>$out_fh</code> instead of <code>OFILE</code>) with the three-parameter form of <code>open</code></p></li>\n</ul>\n\n<p>And here's a rewrite of your code that takes into account all of those points. I hope it helps</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $template_file = 'rtr-template.txt';\n\nwhile ( &lt;&gt; ) {\n\n    chomp;\n    my ($location, $name, $lo0ip, $frameip, $framedlci, $eth0ip) = split /\\s*,\\s*/;\n\n    open my $t_fh, '&lt;', $template_file\n        or die qq{Unable to open \"$template_file\" for input: $!};\n\n    my $out_file = \"$name.txt\";\n    open my $out_fh, '&gt;', $out_file\n        or die qq{Unable to open \"$out_file\" for output: $!};\n\n    while (&lt;$t_fh&gt;) {\n\n        s/##location##/$location/g;\n        s/##rtrname##/$name/g;\n        s/##eth0-ip##/$eth0ip/g;\n        s/##loop0-ip##/$lo0ip/g;\n        s/##frame-ip##/$frameip/g;\n        s/##frame-DLCI##/$framedlci/g;\n\n        printf $out_fh $_;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4778240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xUGRNyPaIns/AAAAAAAAAAI/AAAAAAAAFdM/8pOGqQ8bXRo/photo.jpg?sz=128", "display_name": "Bill Ward", "link": "https://stackoverflow.com/users/4778240/bill-ward"}, "is_accepted": false, "score": 0, "last_activity_date": 1428796866, "creation_date": 1428796866, "answer_id": 29584450, "question_id": 29575833, "link": "https://stackoverflow.com/questions/29575833/merge-csv-file-using-perl/29584450#29584450", "title": "Merge CSV file using Perl", "body": "<p>Use Text::CSV to parse the CSV file and Template Toolkit or similar to do the templating. Don't reinvent the wheel.</p>\n"}], "owner": {"reputation": 5, "user_id": 2600543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/623d454b8b5111c1b4b7436105a8646c?s=128&d=identicon&r=PG", "display_name": "user2600543", "link": "https://stackoverflow.com/users/2600543/user2600543"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1428796866, "creation_date": 1428741373, "last_edit_date": 1428750526, "question_id": 29575833, "link": "https://stackoverflow.com/questions/29575833/merge-csv-file-using-perl", "title": "Merge CSV file using Perl", "body": "<p>I have a CSV file that I need to merge using the following Perl code, but I am not able to run it. It is supposed to out put multiple text files, but it is not working.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/local/bin/perl\n#\n$template_file_name=\"rtr-template.txt\";\nwhile(&lt;&gt;) {\n\n   ($location, $name, $lo0ip, $frameip, $framedlci, $eth0ip, $x) \n       = split (/,/);\n\n   open(TFILE, \"&lt; $template_file_name\") || die \"config template file $template_file_name: \n$!\\n\";\n   $ofile_name = $name . \".txt\";\n   open(OFILE, \"&gt; $ofile_name\") || die \"output config file $ofile_name: $!\\n\";\n\n   while (&lt;TFILE&gt;) {\n\n     s/##location##/$location/;\n     s/##rtrname##/$name/;\n     s/##eth0-ip##/$eth0ip/;\n     s/##loop0-ip##/$lo0ip/;\n     s/##frame-ip##/$frameip/;\n     s/##frame-DLCI##/$framedlci/;\n\n     printf OFILE $_;\n   }\n}\n</code></pre>\n\n<p>The CSV file looks like this</p>\n\n<pre><code>Toronto, Router1, 172.25.15.1, 172.25.16.6,101, 172.25.100.1\n</code></pre>\n\n<p>And this the <strong>rtr-template.txt</strong> file</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>!\nversion 12.1\nservice timestamps debug datetime msec\nservice timestamps log datetime msec\nservice password-encryption\n!\nhostname ##rtrname##\n!\nenable password cisco\nenable secret cisco\n!\ninterface Loopback0\n ip address ##loop0-ip## 255.255.255.255\n!\ninterface Serial0/0\n description Frame-Relay Circuit \n no ip address\n encapsulation frame-relay\n ip route-cache policy\n frame-relay lmi-type ansi\n no shutdown\n!\ninterface Serial0/0.1 point-to-point\n ip address ##frame-ip## 255.255.255.252\n frame-relay interface-dlci ##frame-DLCI##\n!\ninterface FastEthernet0/1\n description User LAN Segment\n ip address ##eth0-ip## 255.255.255.0\n no shutdown\n!\nrouter eigrp 99\n network 172.25.0.0\n!\nsnmp-server location ##location##\n!\nline con 0\n password cisco\n login\n transport input none\nline aux 0\n password cisco\n login\nline vty 0 4\n password cisco\n login\n transport input telnet\n!\nend\n</code></pre>\n"}, {"tags": ["regex", "perl", "count"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1428745476, "post_id": 29575831, "comment_id": 47301190, "body": "Is order important? ie. is the result with <code>cat</code> the same than with <code>tac</code>?"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1428747592, "post_id": 29575831, "comment_id": 47301792, "body": "yes order is important"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1428751058, "post_id": 29575831, "comment_id": 47302817, "body": "So, must the result with <code>cat</code> be the same than with tac? Please update your question to take this into account, add some sample strings an expected result."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1428764408, "post_id": 29575831, "comment_id": 47306942, "body": "Are you asking for the length of the <a href=\"https://en.wikipedia.org/wiki/Longest_common_substring_problem\" rel=\"nofollow noreferrer\">Longest Common Substring</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user688635"}, "edited": false, "score": 0, "creation_date": 1428800889, "post_id": 29575831, "comment_id": 47317868, "body": "What is the answer you seek if you have <code>$name1 = &#39;tac&#39;;</code> and <code>$name2 = &#39;dcat&#39;;</code>? ie, are you looking for the length of the substring or the count of the characters contained? What about multiple character matches?"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 4748333, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b076810c04c849a8c93d5de88b5035b1?s=128&d=identicon&r=PG&f=1", "display_name": "Luminos", "link": "https://stackoverflow.com/users/4748333/luminos"}, "edited": false, "score": 0, "creation_date": 1428754812, "post_id": 29577789, "comment_id": 47303880, "body": "Using this way you can match the characters keeping order."}], "tags": [], "owner": {"reputation": 161, "user_id": 4748333, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b076810c04c849a8c93d5de88b5035b1?s=128&d=identicon&r=PG&f=1", "display_name": "Luminos", "link": "https://stackoverflow.com/users/4748333/luminos"}, "is_accepted": false, "score": 0, "last_activity_date": 1428757419, "last_edit_date": 1428757419, "creation_date": 1428754740, "answer_id": 29577789, "question_id": 29575831, "link": "https://stackoverflow.com/questions/29575831/matched-count-for-characters-in-two-variables/29577789#29577789", "title": "matched count for characters in two variables", "body": "<pre><code>$count = 0;\n$matchstr = \"\";\nforeach (split(//,$name1)){\n    $matchstr .= $_;\n    $count++ if $name2 =~ /$matchstr/;\n}\nprint \"No of matched characters are: $count \\n \";\n</code></pre>\n"}], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1460539172, "creation_date": 1428741346, "last_edit_date": 1460539172, "question_id": 29575831, "link": "https://stackoverflow.com/questions/29575831/matched-count-for-characters-in-two-variables", "title": "matched count for characters in two variables", "body": "<p>Iam trying to match two variables and get the count of characters that are matched.</p>\n\n<p>For ex:</p>\n\n<pre><code>$name1 = 'cat';\n\n$name2 = 'dcat';\n</code></pre>\n\n<p><strong>result needs to be 3.</strong></p>\n\n<p>Tried this but always prints 1</p>\n\n<pre><code>$count = 0;\n$count++ while ($name1 =~ /$name2/g);\nprint \"$count\\n\";\n</code></pre>\n"}, {"tags": ["perl", "shell", "crypt"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1430536331, "post_id": 29575714, "comment_id": 48115373, "body": "I&#39;m curious, what Unix has openssl but not Perl?"}], "answers": [{"tags": [], "owner": {"reputation": 2310, "user_id": 2356160, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/vbPHS.jpg?s=128&g=1", "display_name": "lathspell", "link": "https://stackoverflow.com/users/2356160/lathspell"}, "is_accepted": false, "score": 1, "last_activity_date": 1428841744, "creation_date": 1428841744, "answer_id": 29589462, "question_id": 29575714, "link": "https://stackoverflow.com/questions/29575714/replace-perl-script-using-shell-script/29589462#29589462", "title": "Replace Perl script using shell script", "body": "<p>Openssl's \"enc -aes\" is used to symetrically encrypt a string, i.e. the result could later be decrypted again.</p>\n\n<p>Perl's crypt() is used to \"hash\" a password, like a cross sum or checksum. You cannot get the original value from the result. You can check if a user's input yields to the same \"checksum\" though to check if it's (most probably) the correct password.</p>\n\n<p>Long story short, use this command:</p>\n\n<pre><code>   echo -n \"secret\" | openssl passwd -stdin -1 -salt 12345678\n   $1$12345678$hj0uLpdidjPhbMMZeno8X/\n</code></pre>\n\n<p>Use \"-n\" with echo or you will have a Newline (\\n) after the password. In a script, rather use \"openssl -in\" to read from a file.</p>\n"}], "owner": {"reputation": 41, "user_id": 4742077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3ebe67b90f62ac92d8619e15918ae3?s=128&d=identicon&r=PG&f=1", "display_name": "Bala Ramesh", "link": "https://stackoverflow.com/users/4742077/bala-ramesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430549228, "creation_date": 1428740380, "last_edit_date": 1430549228, "question_id": 29575714, "link": "https://stackoverflow.com/questions/29575714/replace-perl-script-using-shell-script", "title": "Replace Perl script using shell script", "body": "<p>Since I do not have Perl on my system, I need to rewrite the Perl script using a shell script. \nPerl script reads through the file which has username and encrypted password. Perl script then compares the user entered username and encrypts user entered password with the contents of the file read. </p>\n\n<p>Perl uses the <code>crypt</code> function for encrypting.</p>\n\n<pre><code>crypt(password, salt)\n</code></pre>\n\n<p>where salt = \"$1$\" +storeRandomNumber+ \"$xxxxxxxxxxxxxxxxxxxxxx\";</p>\n\n<p>but in case of shell script I am using</p>\n\n<pre><code>echo $password | openssl enc -aes-128-cbc -a -d -salt -pass pass:wtf\n</code></pre>\n\n<p>There is mismatch in encrypted password in Perl and shell. Please help me in implementing matching <code>crypt()</code> function in shell program. FYI, I cannot modify the password file.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 0, "creation_date": 1428746502, "post_id": 29573890, "comment_id": 47301487, "body": "are reverse combinations allowed? e.g. &quot;perl love i&quot;"}, {"owner": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "reply_to_user": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 0, "creation_date": 1428760826, "post_id": 29573890, "comment_id": 47305736, "body": "@MiguelPrz If &quot;love i&quot; is considered distinct from &quot;i love&quot;, then you are dealing with <i>permutations</i> of the elements from a sequence, not <i>combinations</i> from a set."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428752114, "post_id": 29574250, "comment_id": 47303122, "body": "<code>push @results, map [ @$_, $word], @results, []</code>"}, {"owner": {"reputation": 86, "user_id": 3418332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff4195f216b5f847733859f62833801?s=128&d=identicon&r=PG&f=1", "display_name": "Helios", "link": "https://stackoverflow.com/users/3418332/helios"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429112645, "post_id": 29574250, "comment_id": 47449233, "body": "@Borodin Thanks! I added your suggestion."}], "tags": [], "owner": {"reputation": 86, "user_id": 3418332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff4195f216b5f847733859f62833801?s=128&d=identicon&r=PG&f=1", "display_name": "Helios", "link": "https://stackoverflow.com/users/3418332/helios"}, "is_accepted": false, "score": 4, "last_activity_date": 1429112608, "last_edit_date": 1429112608, "creation_date": 1428727906, "answer_id": 29574250, "question_id": 29573890, "link": "https://stackoverflow.com/questions/29573890/how-to-get-all-combinations-in-perl/29574250#29574250", "title": "How to get all combinations in PERL", "body": "<p>Assuming the words are in @words and the result should be an array of arrays:</p>\n\n<pre><code> my @words = qw(i love perl);\n my @results = ();\n for my $word (@words) {\n     push @results, map [@$_, $word], @results, [];\n }\n print \"@$_\\n\" for @results;\n</code></pre>\n\n<p>This emits the following:</p>\n\n<pre><code>i\ni love\nlove\ni perl\ni love perl\nlove perl\nperl\n</code></pre>\n\n<p>Each time through the outer loop, new results are added in which one of the words is added to the existing results.</p>\n\n<p>To print them in the order you specified, you can sort by the number of elements in each result:</p>\n\n<pre><code>print \"@$_\\n\" for sort { @$a &lt;=&gt; @$b } @results;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1428759732, "creation_date": 1428759732, "answer_id": 29578534, "question_id": 29573890, "link": "https://stackoverflow.com/questions/29573890/how-to-get-all-combinations-in-perl/29578534#29578534", "title": "How to get all combinations in PERL", "body": "<p>You can view it as having three flags you toggle between 0 and 1 in every possibility. When the flag is true, the word is present in the output.</p>\n\n<pre><code>100\n010\n001\n110\n101\n011\n111\n</code></pre>\n\n<p>If you don't care about the order,</p>\n\n<pre><code>for my $f0 (0,1) {\nfor my $f1 (0,1) {\nfor my $f2 (0,1) {\n   my @f = ( $f0, $f1, $f2 );\n   my $sentence = join \" \", map { $f[$_] ? $words[$_] : () } 0..$#words; \n   say $sentence if length($sentence);\n}}}\n</code></pre>\n\n<p>If you want to handle an arbitrary number of words, you can use <code>NestedLoops</code>.</p>\n\n<pre><code>use Algorithm::NestedLoops;\n\nmy $iter = NestedLoops([ ([0,1])x@words ]);\nwhile (my @f = $iter-&gt;()) {\n   my $sentence = join \" \", map { $f[$_] ? $words[$_] : () } 0..$#words; \n   say $sentence if length($sentence);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1428760921, "creation_date": 1428760921, "answer_id": 29578742, "question_id": 29573890, "link": "https://stackoverflow.com/questions/29573890/how-to-get-all-combinations-in-perl/29578742#29578742", "title": "How to get all combinations in PERL", "body": "<p>This is called a \"power set\": the set of all subsets of a set. Almost: the power set includes the empty set, which you are excluding in your requirement.</p>\n\n<p>The Rosetta Code site has <a href=\"http://rosettacode.org/wiki/Power_set\" rel=\"nofollow\">a page</a> dedicated to the task of calculating  the power set in numerous programming languages, including three different solutions in Perl.</p>\n\n<p>The word \"combinations\" usually denotes subsets of one specific size, of a set. For instance \"combinations of three cards chosen from a deck of 52\". The power set is built from combinations of all sizes (including empty).</p>\n"}, {"tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": false, "score": 0, "last_activity_date": 1428762174, "creation_date": 1428762174, "answer_id": 29578954, "question_id": 29573890, "link": "https://stackoverflow.com/questions/29573890/how-to-get-all-combinations-in-perl/29578954#29578954", "title": "How to get all combinations in PERL", "body": "<p>Let <a href=\"http://search.cpan.org/dist/Math-Combinatorics/\" rel=\"nofollow\"><code>Math::Combinatorics</code></a> do the heavy lifting:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\n\nuse Math::Combinatorics;\n\nmy @words = qw(i love perl);\nfor my $count (1 .. @words) {\n  my $comb = Math::Combinatorics-&gt;new(count =&gt; $count,\n                                      data  =&gt; [@words]);\n  while (my @combo = $comb-&gt;next_combination) {\n    say \"@combo\";\n  }\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>$:\u00bb perl combo.pl\nlove\ni\nperl\nperl i\nperl love\ni love\nlove i perl\n</code></pre>\n"}], "owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1429112608, "creation_date": 1428724164, "question_id": 29573890, "link": "https://stackoverflow.com/questions/29573890/how-to-get-all-combinations-in-perl", "title": "How to get all combinations in PERL", "body": "<p>Suppose, i have 3 words- \"i\" \"love\" \"perl\". I want an array containing all possible combinations ie  </p>\n\n<pre><code>i  \nlove  \nperl  \ni love  \ni perl  \nlove perl  \ni love perl \n</code></pre>\n"}, {"tags": ["android", "windows", "perl", "adb", "screenshot"], "comments": [{"owner": {"reputation": 417, "user_id": 2915412, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/8fLKL.jpg?s=128&g=1", "display_name": "M. A.", "link": "https://stackoverflow.com/users/2915412/m-a"}, "reply_to_user": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1428730420, "post_id": 29573291, "comment_id": 47297855, "body": "@AlexP. it doesn&#39;t work! sorry!"}, {"owner": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1428732215, "post_id": 29573291, "comment_id": 47298155, "body": "You must be doing something else wrong. It produces valid <code>PNG</code> files on my system. As does <code>sed</code> - <code>adb shell screencap -p | sed &quot;s&#47;\\r\\r$&#47;&#47;g&quot; &gt; test.png</code>"}, {"owner": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1428734279, "post_id": 29573291, "comment_id": 47298524, "body": "also try <code>perl -pe &quot;binmode(STDOUT);s&#47;\\r\\n&#47;\\n&#47;g&quot;</code>"}, {"owner": {"reputation": 417, "user_id": 2915412, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/8fLKL.jpg?s=128&g=1", "display_name": "M. A.", "link": "https://stackoverflow.com/users/2915412/m-a"}, "reply_to_user": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1428759904, "post_id": 29573291, "comment_id": 47305404, "body": "@AlexP.: Same error; P.S: I am using Strawberry Perl (64-bit) 5.20.2.1-64bit on Windows 7 Pro SP1 x64 and latest Android SDK."}, {"owner": {"reputation": 417, "user_id": 2915412, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/8fLKL.jpg?s=128&g=1", "display_name": "M. A.", "link": "https://stackoverflow.com/users/2915412/m-a"}, "reply_to_user": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 1, "creation_date": 1428759943, "post_id": 29573291, "comment_id": 47305418, "body": "When using <b>screencap -p /sdcard/xxx.png</b> it works perfectly."}], "answers": [{"tags": [], "owner": {"reputation": 509, "user_id": 3402166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7252d23b3f51a16cd0d2e3b724df1493?s=128&d=identicon&r=PG&f=1", "display_name": "Passella", "link": "https://stackoverflow.com/users/3402166/passella"}, "is_accepted": false, "score": 1, "last_activity_date": 1436380991, "last_edit_date": 1436380991, "creation_date": 1436364190, "answer_id": 31295050, "question_id": 29573291, "link": "https://stackoverflow.com/questions/29573291/capture-android-device-screenshot-with-adb-perl/31295050#31295050", "title": "capture android device screenshot with adb &amp; perl", "body": "<p>Try this:</p>\n\n<pre><code>adb shell screencap -p /mnt/sdcard/output.png | adb pull /mnt/sdcard/output.png C:\\output.png | adb shell rm /mnt/sdcard/output.png\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2022, "user_id": 474031, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c77e49a58e68f76b9672857916cb2f50?s=128&d=identicon&r=PG", "display_name": "gabrielmaldi", "link": "https://stackoverflow.com/users/474031/gabrielmaldi"}, "is_accepted": false, "score": 4, "last_activity_date": 1454687009, "last_edit_date": 1495540447, "creation_date": 1454687009, "answer_id": 35228067, "question_id": 29573291, "link": "https://stackoverflow.com/questions/29573291/capture-android-device-screenshot-with-adb-perl/35228067#35228067", "title": "capture android device screenshot with adb &amp; perl", "body": "<p>@Passella <a href=\"https://stackoverflow.com/a/31295050/474031\">answer</a> worked for me with a little tweaking:</p>\n\n<pre><code>adb shell screencap -p \"/mnt/sdcard/output.png\" &amp;&amp; adb pull \"/mnt/sdcard/output.png\" \"C:\\output.png\" &amp;&amp; adb shell rm \"/mnt/sdcard/output.png\"\n</code></pre>\n\n<p>I had to quote the paths and replace <code>|</code> with <code>&amp;&amp;</code>.</p>\n\n<p>Also, if you are using a <code>Genymotion</code> simulator, it's better to use its own <code>adb</code>:</p>\n\n<pre><code>C:\\\"Program Files\"\\Genymobile\\Genymotion\\tools\\adb shell screencap -p \"/mnt/sdcard/output.png\" &amp;&amp; C:\\\"Program Files\"\\Genymobile\\Genymotion\\tools\\adb pull \"/mnt/sdcard/output.png\" \"C:\\output.png\" &amp;&amp; C:\\\"Program Files\"\\Genymobile\\Genymotion\\tools\\adb shell rm \"/mnt/sdcard/output.png\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 417, "user_id": 2915412, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/8fLKL.jpg?s=128&g=1", "display_name": "M. A.", "link": "https://stackoverflow.com/users/2915412/m-a"}, "edited": false, "score": 0, "creation_date": 1518077944, "post_id": 48673226, "comment_id": 84358275, "body": "Thanks, shortest answer so far!"}, {"owner": {"reputation": 5006, "user_id": 1093486, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/16db6da14b3ea30d4aeeece4f585aaf5?s=128&d=identicon&r=PG", "display_name": "Raheel Hasan", "link": "https://stackoverflow.com/users/1093486/raheel-hasan"}, "edited": false, "score": 0, "creation_date": 1518398429, "post_id": 48673226, "comment_id": 84476300, "body": "awesome.. that wored"}], "tags": [], "owner": {"reputation": 99, "user_id": 9329875, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TsfxQtf7Sw4/AAAAAAAAAAI/AAAAAAAAvOs/XuPOYikQzYE/photo.jpg?sz=128", "display_name": "Pablo Acevedo Noda", "link": "https://stackoverflow.com/users/9329875/pablo-acevedo-noda"}, "is_accepted": false, "score": 9, "last_activity_date": 1518037519, "creation_date": 1518037519, "answer_id": 48673226, "question_id": 29573291, "link": "https://stackoverflow.com/questions/29573291/capture-android-device-screenshot-with-adb-perl/48673226#48673226", "title": "capture android device screenshot with adb &amp; perl", "body": "<pre><code>adb exec-out screencap -p &gt; screen.png\n</code></pre>\n\n<p>will save it on your machine directly</p>\n"}], "owner": {"reputation": 417, "user_id": 2915412, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/8fLKL.jpg?s=128&g=1", "display_name": "M. A.", "link": "https://stackoverflow.com/users/2915412/m-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7051, "favorite_count": 0, "closed_date": 1518042934, "answer_count": 3, "score": 5, "last_activity_date": 1518037519, "creation_date": 1428718375, "last_edit_date": 1428719560, "question_id": 29573291, "link": "https://stackoverflow.com/questions/29573291/capture-android-device-screenshot-with-adb-perl", "closed_reason": "Duplicate", "title": "capture android device screenshot with adb &amp; perl", "body": "<p>I tried the one liner solution to capture screenshot via adb and the file is created successfully on PC but it is unreadable:</p>\n\n<pre><code> C:\\Program Files\\Android\\android-sdk\\platform-tools&gt;adb shell screencap -p | perl -pe 's/\\x0D\\x0A/\\x0A/g' &gt; c:\\users\\utilisateur\\desktop\\android_screenshot1.png\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/DyXhG.png\" alt=\"enter image description here\"></p>\n\n<p>The file seem to be correct but I think the Magic is not correct:\n<img src=\"https://i.stack.imgur.com/HuEBG.png\" alt=\"enter image description here\"></p>\n\n<p><strong>EDIT:</strong> The same issue happened with Git Bash for Windows.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "edited": false, "score": 0, "creation_date": 1428712669, "post_id": 29572455, "comment_id": 47294648, "body": "What does <code>18Z</code> changing to <code>00Z</code> signify? Will it always be the case that it changes in that way? I assume you want to search for and replace any date and not just <code>31dec2012</code>? You say only the year should be incremented, but it appears you actually incremented the input date by 1 day (or possibly even only 6 hours if <code>18Z</code> signifies the time 18:00). It would be helpful if you provided a larger sample of input lines and their expected outcomes."}, {"owner": {"reputation": 703, "user_id": 893319, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6b7607c262330adf61d96866c7d6ac1c?s=128&d=identicon&r=PG", "display_name": "chuckfinley", "link": "https://stackoverflow.com/users/893319/chuckfinley"}, "reply_to_user": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "edited": false, "score": 0, "creation_date": 1428713558, "post_id": 29572455, "comment_id": 47294823, "body": "This is a control file/template time start indicator for a year of monthly climate variables. 18Zulu is one of the 6-hour data hacks (00, 06, 12, 18). The start time will always be 00Z01Jan, so only the year increments. I was hoping to present my problem without burdening everyone with these details -- the one-liners can get pretty esoteric."}, {"owner": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "edited": false, "score": 0, "creation_date": 1428714390, "post_id": 29572455, "comment_id": 47294998, "body": "Thanks for the clarification. It wasn&#39;t clear to me that you only wanted to update lines that matched <code>18Z31dec</code>. I incorrectly assumed you were actually trying to add a consistent interval to every date in your file. I&#39;m glad you were provided the answer you needed."}, {"owner": {"reputation": 131, "user_id": 3014371, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/675f66ec033d7a56a7ddc5d7e6f9bc12?s=128&d=identicon&r=PG", "display_name": "GWP", "link": "https://stackoverflow.com/users/3014371/gwp"}, "edited": false, "score": 0, "creation_date": 1428715863, "post_id": 29572455, "comment_id": 47295245, "body": "Note that &quot;one line&quot; does not mean &quot;one statement&quot;.  You could compute and store an intermediate result instead of embedding the whole logic into a single substitution."}], "answers": [{"comments": [{"owner": {"reputation": 703, "user_id": 893319, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6b7607c262330adf61d96866c7d6ac1c?s=128&d=identicon&r=PG", "display_name": "chuckfinley", "link": "https://stackoverflow.com/users/893319/chuckfinley"}, "edited": false, "score": 0, "creation_date": 1428712847, "post_id": 29572495, "comment_id": 47294680, "body": "Thanks Mark! I usually use sed, it&#39;s good to know about the right side difference for perl. +1 for the scalar dereference."}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": true, "score": 5, "last_activity_date": 1428712817, "last_edit_date": 1428712817, "creation_date": 1428710686, "answer_id": 29572495, "question_id": 29572455, "link": "https://stackoverflow.com/questions/29572455/perl-one-liner-to-increment-a-value-and-replace-text/29572495#29572495", "title": "Perl one liner to increment a value and replace text", "body": "<pre><code>perl -pe 's/18Z31dec(\\d+)/\"00Z01jan\" . ($1 + 1)/ge'\n</code></pre>\n\n<p>When you use <code>/e</code>, the right side of the substitution is a full Perl expression.  So you have to quote literal strings, concatenate them with <code>.</code>, etc.  </p>\n\n<p>Instead of concatenation, you could use the somewhat unattractive arbitrary-expression interpolation syntax that's based on scalar dereference:</p>\n\n<pre><code>perl -pe 's/18Z31dec(\\d+)/\"00Z01jan${\\($1 + 1)}\"/ge'\n</code></pre>\n\n<p>Same result.</p>\n"}], "owner": {"reputation": 703, "user_id": 893319, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6b7607c262330adf61d96866c7d6ac1c?s=128&d=identicon&r=PG", "display_name": "chuckfinley", "link": "https://stackoverflow.com/users/893319/chuckfinley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1693, "favorite_count": 0, "accepted_answer_id": 29572495, "answer_count": 1, "score": 0, "last_activity_date": 1428789378, "creation_date": 1428710345, "last_edit_date": 1428789378, "question_id": 29572455, "link": "https://stackoverflow.com/questions/29572455/perl-one-liner-to-increment-a-value-and-replace-text", "title": "Perl one liner to increment a value and replace text", "body": "<p>I have a line in some files where only the year differs -- I need to increment the year and replace the preceding text, for example:</p>\n\n<pre><code>tdef 12 linear 18Z31dec2012 1mo\n</code></pre>\n\n<p>should become:</p>\n\n<pre><code>tdef 12 linear 00Z01jan2013 1mo\n</code></pre>\n\n<p>I have a perl one liner that I can't get to replace the text and increment at the same time. I've tried quite a few combinations, the correct formatting evades me. This increments but of course I lose the text:</p>\n\n<pre><code>perl -pe 's/18Z31dec(\\d+)/ 1 + $1 /ge'\n</code></pre>\n\n<p>I can't figure how to insert any text on the substitution and retain the incremented year:</p>\n\n<pre><code>perl -pe \"s/18Z31dec(\\d+)/'00Z01jan($1 + 1)'/ge\"\n</code></pre>\n\n<p>Outputs this:</p>\n\n<pre><code>tdef 12 linear 00Z01jan( + 1) 1mo\n</code></pre>\n"}, {"tags": ["jquery", "json", "forms", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4731960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6124e34338904a278ecc8b4a572f3be1?s=128&d=identicon&r=PG&f=1", "display_name": "Turk", "link": "https://stackoverflow.com/users/4731960/turk"}, "edited": false, "score": 0, "creation_date": 1428946098, "post_id": 29572118, "comment_id": 47368298, "body": "Oh the multiple same id&#39;s were just copy/pasted, just there for filler in this skeleton code example, I guess I was too lazy to fill multiple ones...but yeah in the document itself all id&#39;s are unique"}, {"owner": {"reputation": 1, "user_id": 4731960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6124e34338904a278ecc8b4a572f3be1?s=128&d=identicon&r=PG&f=1", "display_name": "Turk", "link": "https://stackoverflow.com/users/4731960/turk"}, "edited": false, "score": 0, "creation_date": 1428946129, "post_id": 29572118, "comment_id": 47368315, "body": "But just to confirm, doing it this way, will it POST the data to the server without doing a full form submit?"}, {"owner": {"reputation": 8064, "user_id": 2007760, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/da33a5de07879db5ea0d55be9f875932?s=128&d=identicon&r=PG", "display_name": "Peter Uhnak", "link": "https://stackoverflow.com/users/2007760/peter-uhnak"}, "reply_to_user": {"reputation": 1, "user_id": 4731960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6124e34338904a278ecc8b4a572f3be1?s=128&d=identicon&r=PG&f=1", "display_name": "Turk", "link": "https://stackoverflow.com/users/4731960/turk"}, "edited": false, "score": 0, "creation_date": 1428957407, "post_id": 29572118, "comment_id": 47374577, "body": "Normally (without javascript) clicking on a submit button will submit the containing form - that&#39;s why there is <code>event.preventDefault()</code> to cancel this default behavior. Instead the $.ajax is called which sends the request with ajax."}], "tags": [], "owner": {"reputation": 8064, "user_id": 2007760, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/da33a5de07879db5ea0d55be9f875932?s=128&d=identicon&r=PG", "display_name": "Peter Uhnak", "link": "https://stackoverflow.com/users/2007760/peter-uhnak"}, "is_accepted": false, "score": 0, "last_activity_date": 1428708031, "creation_date": 1428708031, "answer_id": 29572118, "question_id": 29571842, "link": "https://stackoverflow.com/questions/29571842/jquery-magnefic-popup-save-form-data-without-full-submit/29572118#29572118", "title": "jQuery magnefic popup save form data without full submit", "body": "<p>You must cancel the default event, otherwise the form still gets submitted.</p>\n\n<pre><code>('#submit').click(function(event){\n    event.preventDefault();\n    $.ajax({\n\n    });\n});\n</code></pre>\n\n<p>Also I see that you are using the same \"id\" for multiple elements - \"id\" should (must) be document-wide unique.</p>\n"}], "owner": {"reputation": 1, "user_id": 4731960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6124e34338904a278ecc8b4a572f3be1?s=128&d=identicon&r=PG&f=1", "display_name": "Turk", "link": "https://stackoverflow.com/users/4731960/turk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428708031, "creation_date": 1428706242, "question_id": 29571842, "link": "https://stackoverflow.com/questions/29571842/jquery-magnefic-popup-save-form-data-without-full-submit", "title": "jQuery magnefic popup save form data without full submit", "body": "<p>I am working on a form that has multiple form fields and at the end an image upload form inside a jquery magnific popup. (Rough mockup below:)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#submit').click(function(){\r\n  $.ajax({\r\n    type: \"POST\",\r\n    url: \"path/to/upl-img.cgi\",\r\n    data: {\r\n      \"dir\":$(\"#filetype\").val(),\r\n      \"cmd\":\"Upload\",\r\n      \"upload\":$(\"#upload\").val\r\n    }\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form id=\"form1\"&gt;\r\n  &lt;!-- stuff stuff stuff --&gt;\r\n  &lt;input type=\"textfield\" id=\"name\" name=\"name\"&gt;&lt;/input&gt;\r\n  &lt;input type=\"textfield\" id=\"height\" name=\"height\"&gt;&lt;/input&gt;\r\n  &lt;!-- etc. etc... --&gt;\r\n&lt;button type=\"upload\" id=\"submit\" name=\"submit\" value=\"Upload\"&gt;Submit&lt;/button&gt;\r\n&lt;button type=\"reset\"&gt;Reset&lt;/button&gt;\r\n &lt;/form&gt;\r\n\r\n&lt;form id=\"form2\"&gt;\r\n  &lt;!-- stuff stuff stuff --&gt;\r\n  &lt;input type=\"textfield\" id=\"age\" name=\"age\"&gt;&lt;/input&gt;\r\n  &lt;input type=\"textfield\" id=\"birthday\" name=\"birthday\"&gt;&lt;/input&gt;\r\n  &lt;!-- etc. etc... --&gt;\r\n&lt;button type=\"upload\" id=\"submit\" name=\"submit\" value=\"Upload\"&gt;Submit&lt;/button&gt;\r\n&lt;button type=\"reset\"&gt;Reset&lt;/button&gt;\r\n &lt;/form&gt;\r\n\r\n&lt;form id=\"form3\" class=\"magnificPopup\"&gt;\r\n  &lt;input type=\"textfield\" id=\"filename\" name=\"filename\"&gt;&lt;/input&gt;\r\n  &lt;input type=\"file\" id=\"upload\" name=\"upload\"&gt;&lt;/input&gt;\r\n  &lt;select id=\"filetype\" name=\"filetype\"&gt;\r\n      &lt;option value=\"path/to/\"&gt;Location 1&lt;/option&gt;\r\n                  ....etc\r\n  &lt;/select&gt;\r\n\r\n&lt;button type=\"upload\" id=\"submit\" name=\"submit\" value=\"Upload\"&gt;Submit&lt;/button&gt;\r\n&lt;button type=\"reset\"&gt;Reset&lt;/button&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>the upl-img.cgi file contains the functions that upload the files to the database. Right now what is happening is that when the \"submit\" button is pressed, it posts the images in the defined directory by doing a full form submission...I want form3 to post the data without doing a full form submission, if that makes sense...I'm not sure how well I am describing what I need</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1428710914, "post_id": 29571692, "comment_id": 47294273, "body": "Use a hash for the option values."}], "answers": [{"tags": [], "owner": {"reputation": 670, "user_id": 2403672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5a0521b2f427ae0c78a3c4c175f12421?s=128&d=identicon&r=PG", "display_name": "deep", "link": "https://stackoverflow.com/users/2403672/deep"}, "is_accepted": true, "score": 1, "last_activity_date": 1428715567, "creation_date": 1428715567, "answer_id": 29572992, "question_id": 29571692, "link": "https://stackoverflow.com/questions/29571692/getoptlong-module-in-perl-for-default-values/29572992#29572992", "title": "GetOpt::Long module in perl for default values", "body": "<p>I just added this following line and it works</p>\n\n<pre><code>if ($ver eq \"\"){\nmy $sql = qq|select count(*) from software_build where finished &lt; '$date'|;\nmy $sth = $dts-&gt;prepare($sql);\n$sth-&gt;execute() or die $DBI::errstr;\nmy $count = $sth-&gt;fetchrow_array();\nprint $count;\n}\nelse{\nmy $sql = qq|select count(*) from software_build where sw_version like ? and finished &gt; '$date' and product like ?|;\nmy $sth = $dts-&gt;prepare($sql);\n$sth-&gt;execute($version, $product) or die $DBI::errstr;\nmy $count = $sth-&gt;fetchrow_array();\nprint $count;\n}\n</code></pre>\n"}], "owner": {"reputation": 670, "user_id": 2403672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5a0521b2f427ae0c78a3c4c175f12421?s=128&d=identicon&r=PG", "display_name": "deep", "link": "https://stackoverflow.com/users/2403672/deep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 2, "accepted_answer_id": 29572992, "answer_count": 1, "score": 1, "last_activity_date": 1428715567, "creation_date": 1428705337, "question_id": 29571692, "link": "https://stackoverflow.com/questions/29571692/getoptlong-module-in-perl-for-default-values", "title": "GetOpt::Long module in perl for default values", "body": "<p>I am writing a perl script which takes values as command line arguments and puts that in the assigned variables and executes query to a database. </p>\n\n<pre><code>GetOptions(\"version=s\"      =&gt; \\$ver,\n       \"product=s\"      =&gt; \\$prod) \nor die (\"Error in input variables\\n\");\n</code></pre>\n\n<p>The query part of the script is as follows:</p>\n\n<pre><code>my $sql = qq|select count(*) from software_build where sw_version like ? and finished &gt; '$date' and product like ?|;\nmy $sth = $dts-&gt;prepare($sql);\n$sth-&gt;execute($ver, $prod) or die $DBI::errstr;\n</code></pre>\n\n<p>What changes should I make that if the user do not include command line arguments than it should execute this query:</p>\n\n<pre><code>my $sql = qq|select count(*) from software_build where finished &gt; '$date'|;\nmy $sth = $dts-&gt;prepare($sql);\n$sth-&gt;execute;\n</code></pre>\n\n<p>I need to execute this query by deafault if no command line arguments given. Thank you.</p>\n"}, {"tags": ["perl", "parsing", "text", "hash", "split"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1428699160, "post_id": 29569412, "comment_id": 47290369, "body": "Please post the contents of your data file, not an image of your editor"}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 4774583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d21cfaa4db9debd5b6aa8675a785c1f?s=128&d=identicon&r=PG&f=1", "display_name": "DGuimar", "link": "https://stackoverflow.com/users/4774583/dguimar"}, "is_accepted": false, "score": 1, "last_activity_date": 1428695839, "creation_date": 1428695839, "answer_id": 29569715, "question_id": 29569412, "link": "https://stackoverflow.com/questions/29569412/cannot-split-line-and-save-to-variable-using-whitespace-in-perl/29569715#29569715", "title": "Cannot split line and save to variable using whitespace in perl", "body": "<p>When I look at the file, it looks like there is more than a single space.  Here is an example of what I mean and what I did to extract the number.</p>\n\n<pre><code>my $test = \"blah   :    123455\";\nmy @test_ary = split(/ /, $test);\nprint scalar @test_ary . \"\\n\";   # Prints the size of the array\n\n$number = $1 if $test =~ m/([0-9]+)/;\nprint \"$number\\n\";      # Prints the extracted number\n</code></pre>\n\n<p>Output of run:</p>\n\n<pre><code>Size of array: 8\nThe extracted number: 123455\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 3014371, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/675f66ec033d7a56a7ddc5d7e6f9bc12?s=128&d=identicon&r=PG", "display_name": "GWP", "link": "https://stackoverflow.com/users/3014371/gwp"}, "is_accepted": false, "score": 1, "last_activity_date": 1428695943, "creation_date": 1428695943, "answer_id": 29569754, "question_id": 29569412, "link": "https://stackoverflow.com/questions/29569412/cannot-split-line-and-save-to-variable-using-whitespace-in-perl/29569754#29569754", "title": "Cannot split line and save to variable using whitespace in perl", "body": "<p>First off, paste in your actual input and output if you want anyone to actually test somethnig for you, not an image.\nSecond, you're not splitting on whitespace, you're splitting on a single literal space.  Use the special case of\n <code>split ' ', $_;</code>\nto split on arbitrary length whitespace, discarding leading and trailing whitespace.</p>\n"}], "owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1428695943, "creation_date": 1428694521, "last_edit_date": 1428695875, "question_id": 29569412, "link": "https://stackoverflow.com/questions/29569412/cannot-split-line-and-save-to-variable-using-whitespace-in-perl", "title": "Cannot split line and save to variable using whitespace in perl", "body": "<p>I'm having some trouble with parsing a file.\nTwo lines in the file contain the word ' Mapped', and I would like to extract the number that is in those two lines.</p>\n\n<p><img src=\"https://i.stack.imgur.com/XT7D0.png\" alt=\"File looks like this:\"></p>\n\n<p>And this is my code:</p>\n\n<pre><code>my %cellHash    = ();\nmy $mapped      = 0;\nmy $alnPairs    = 0;\nmy @mappedReads = ();\n\nwhile (&lt;ALIGN_SUMMARY&gt;) {\n    chomp($_);\n\n    if (/Mapped/) {\n        print \"\\n$_\\n\";\n        $mapped = (split / /, $_)[2];\n        push(@mappedReads, $mapped);\n    }\n\n    if (/Aligned pairs/) {\n        print \"\\n$_\\n\";\n        $alnPairs = (split / /, $_)[4];\n    }\n}\n\n{ $cellHash{$cellDir} } = (\n    'MappedR1' =&gt; $mappedReads[0] ,\n    'MappedR2' =&gt; $mappedReads[1] ,\n    'AlnPairs' =&gt; $alnPairs ,\n);\n\nforeach my $cellName ( keys %cellHash){\n    print OUTPUT $cellName,\n        \"\\t\", ${ $cellHash{$cellName} }{\"LibSize\"},\n        \"\\t\", ${ $cellHash{$cellName} }{\"MappedR1\"},\n        \"\\t\", ${ $cellHash{$cellName} }{\"MappedR2\"},\n        \"\\t\", ${ $cellHash{$cellName} }{\"AlnPairs\"},\n        \"\\n\";\n}\n</code></pre>\n\n<p>But the OUTPUT file only has the 'AlignedPairs' column and never anything in MappedR1 or MappedR2.</p>\n\n<p>What am I doing wrong? Thanks!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 4, "creation_date": 1428691687, "post_id": 29568597, "comment_id": 47286641, "body": "Aren\u2019t square brackets used for character classes?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1428691730, "post_id": 29568597, "comment_id": 47286664, "body": "You want to use parens, <code>if($input =~ &#47;(?:is|was)\\s(?:the|a)?(.+?)\\?&#47;)</code>"}, {"owner": {"reputation": 128, "user_id": 1917026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f3aef788df6e4b09855c4c9c4de8914e?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Jafri", "link": "https://stackoverflow.com/users/1917026/syed-jafri"}, "edited": false, "score": 0, "creation_date": 1428691853, "post_id": 29568597, "comment_id": 47286738, "body": "Can you explain the <code>?:</code> part please?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1428691903, "post_id": 29568597, "comment_id": 47286768, "body": "<code>(?:)</code> is non-capturing group (matched part doesn&#39;t go into $1, $2,..)"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1428692060, "post_id": 29568597, "comment_id": 47286865, "body": "Visit <a href=\"https://regex101.com/#pcre\" rel=\"nofollow noreferrer\">Regex101</a> for all the RegEx stuff."}], "answers": [{"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 2, "last_activity_date": 1428691751, "creation_date": 1428691751, "answer_id": 29568671, "question_id": 29568597, "link": "https://stackoverflow.com/questions/29568597/perl-regex-string-or-string/29568671#29568671", "title": "Perl regex string or string", "body": "<p>Your alternation is wrong.  You want <code>(is|was)</code>, not <code>[is|was]</code>.</p>\n\n<p>You also don't need the <code>/g</code> because you are not in a loop.</p>\n\n<p>Your regex should look like:</p>\n\n<pre><code>if ( $input =~ /\"(.+)\\s+(is|was)\\s+(the|a)\\s+(.+)\\?\"/ ) {\n    my $pronoun = $1;\n    my $is_was  = $2;\n    my $the_a   = $3;\n    my $what    = $4;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "is_accepted": true, "score": 4, "last_activity_date": 1428695587, "creation_date": 1428695587, "answer_id": 29569657, "question_id": 29568597, "link": "https://stackoverflow.com/questions/29568597/perl-regex-string-or-string/29569657#29569657", "title": "Perl regex string or string", "body": "<p>To specify a match of two or more choices, you separate the choices with the alternation symbol.</p>\n\n<pre><code>the|a\n</code></pre>\n\n<p>To specify the boundary or scope of the alternation, you must surround the alternate choices with parentheses.</p>\n\n<pre><code>(the|a)\n</code></pre>\n\n<p>Anything within parentheses also has the consequence that it becomes a capture group. To specify a non-capturing group you add <code>?:</code> after the opening parenthesis.</p>\n\n<pre><code>(?:the|a)\n</code></pre>\n\n<p>You very likely want to also allow the word \"an\" in addition to \"the\" and \"a\".</p>\n\n<pre><code>(?:the|a|an)\n</code></pre>\n\n<p>Since the word is optional (it can appear once or not at all), you need to place a <code>?</code> after the group.</p>\n\n<pre><code>(?:the|a|an)?\n</code></pre>\n\n<p>Furthermore, since the word is optional, the space before it should also be optional (but there should be at least one space if the word is present).</p>\n\n<pre><code>(\\s+(?:the|a|an))?\n</code></pre>\n\n<p>Finally, the new group we just created to account for the leading space should also be specified as non-capturing.</p>\n\n<pre><code>(?:\\s+(?:the|a|an))?\n</code></pre>\n\n<p>Here is a script which successfully parses your examples (as well as my own examples using the optional word \"an\"):</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile (my $input = &lt;DATA&gt;) {\n  chomp $input;\n  if ( my($subject) = $input =~ /\\s+(?:is|was)(?:\\s+(?:the|a|an))?\\s+(.+)\\?/ ) {\n    print \"$input: [$subject]\\n\";\n  }\n}\n\n__DATA__\nWho was King?\nWho is King?\nWho is the King?\nWho is a King?\nWho was the King?\nWho was a King?\nWho is Ace?\nWho is the Ace?\nWho is an Ace?\nWho was Ace?\nWho was the Ace?\nWho was an Ace?\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>Who was King?: [King]\nWho is King?: [King]\nWho is the King?: [King]\nWho is a King?: [King]\nWho was the King?: [King]\nWho was a King?: [King]\nWho is Ace?: [Ace]\nWho is the Ace?: [Ace]\nWho is an Ace?: [Ace]\nWho was Ace?: [Ace]\nWho was the Ace?: [Ace]\nWho was an Ace?: [Ace]\n</code></pre>\n"}], "owner": {"reputation": 128, "user_id": 1917026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f3aef788df6e4b09855c4c9c4de8914e?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Jafri", "link": "https://stackoverflow.com/users/1917026/syed-jafri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 29569657, "answer_count": 2, "score": 0, "last_activity_date": 1428695587, "creation_date": 1428691428, "question_id": 29568597, "link": "https://stackoverflow.com/questions/29568597/perl-regex-string-or-string", "title": "Perl regex string or string", "body": "<p>I have a query that could be worded as follows:</p>\n\n<pre><code>\"Who is King?\"\n\"Who was King?\"\n</code></pre>\n\n<p>and then have an optional \"a\" or \"the\".</p>\n\n<pre><code>\"Who is the King?\"\n\"Who is a King?\"\n\"Who was the King?\"\n\"Who was a King?\"\n</code></pre>\n\n<p>I'm trying to capture anything after \"is\" or \"was\" with the optional \"a\" or \"the\", in this instance it would be 'King'.</p>\n\n<pre><code>if($input =~ /[is|was]\\s[the|a]?(.*)\\?/g)\n{\n    $searchTerm = $1;\n}\n</code></pre>\n\n<p>It all works except when I add \"the\" I get <code>he King</code>.</p>\n\n<p>It seems what is happening is my <code>?</code> is catching 't' then moving on since I have it for 0 or one. But I was under the assumption <code>[the|a]?</code> would match 0 or 1 instance of 'the' or 'a'.</p>\n\n<p>Can someone help with this regular expression?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428689898, "post_id": 29567872, "comment_id": 47285797, "body": "You <i>could</i> do this by sending four separate pages from the server, but the timing would be very inaccurate. The way to do this is to embed some JavaScript in the page that runs in the browser. Since you&#39;re only doing it for curiosity&#39;s sake I suggest you find something else"}], "answers": [{"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 3, "last_activity_date": 1428696037, "last_edit_date": 1428696037, "creation_date": 1428690046, "answer_id": 29568253, "question_id": 29567872, "link": "https://stackoverflow.com/questions/29567872/with-perl-cgi-print-on-webpage-stdout-of-executed-command-gradually/29568253#29568253", "title": "With perl CGI print on webpage STDOUT of executed command gradually", "body": "<p>Backticks don't work the way you're hoping.  Perl will spawn the child process &amp; wait for it to complete (<code>sleep</code> statements &amp; all).  It's output will then be assigned to <code>$out</code> &amp; only then will your script continue, printing the single string <code>$out</code> all at once.</p>\n\n<p>Instead you should use a pipe:</p>\n\n<pre><code>open my $program_pipe, '-|', 'unbuffer', 'swipl', '-g', q{writeln(1), yada yada}\n    or die 'Help me Rhonda';\nlocal $| = 1; # we don't want the web server waiting on us as we wait on the kid.\nwhile (my $line = &lt;$program_pipe&gt;) {\n  print $line;\n}\n</code></pre>\n\n<p>You will probably want to make sure your child program is flushing output before each <code>sleep</code> or you'll get your pauses at unpredictable points, because any buffered output will remain unwritten while the program sleeps.  <code>unbuffer</code> creates a pseudo-tty for the child, and this \"fools\" most programs into performing line buffering instead of block buffering.</p>\n\n<p>For some final polish, you'll probably want to complete the document 1st with some JavaScript that then uses AJAX or web socket like techniques to deliver the additional content...</p>\n"}], "owner": {"reputation": 898, "user_id": 1296891, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Utjd4.jpg?s=128&g=1", "display_name": "Fibo Kowalsky", "link": "https://stackoverflow.com/users/1296891/fibo-kowalsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428696037, "creation_date": 1428688698, "question_id": 29567872, "link": "https://stackoverflow.com/questions/29567872/with-perl-cgi-print-on-webpage-stdout-of-executed-command-gradually", "title": "With perl CGI print on webpage STDOUT of executed command gradually", "body": "<p>I have a CGI script in perl that runs swi-prolog with dummy goal: </p>\n\n<p><em>it writes \"1\" then after a second writes \"2\" on a new line etc in the end writes \"end\" on a new line</em></p>\n\n<p>My aim is to get a web page where <em>1, 2, 3, end</em> will be written <strong>gradually</strong> as it happens in terminal if you execute this prolog code.</p>\n\n<p>mwe of perl CGI:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse diagnostics;\nuse CGI;\n\nprint \"Content-type: text/html\\n\\n\";\n\nprint &lt;&lt;EOF;\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\nEOF\n\nmy $out = `swipl -g 'writeln(1), sleep(1), writeln(2), sleep(1), writeln(3), sleep(1),  writeln(end)' -t halt`;\nprint \"&lt;pre&gt;$out&lt;/pre&gt;\";\n\nprint &lt;&lt;EOF;\n&lt;/body&gt;\n&lt;/html&gt;\nEOF\nexit;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1428690532, "post_id": 29567737, "comment_id": 47286125, "body": "Neither <code>&#47;i</code> nor <code>&#47;s</code> makes any difference to that regex, and they should be removed, as should the <code>m&#47;</code> at the beginning. Just <code>if ( $catcha =~ &#47;^&quot;300&#47; ) { ... }</code> is fine"}, {"owner": {"reputation": 13, "user_id": 4691530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8674895a5c3fd6b3bf9fab70bc04c014?s=128&d=identicon&r=PG&f=1", "display_name": "Leon K.", "link": "https://stackoverflow.com/users/4691530/leon-k"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428690989, "post_id": 29567737, "comment_id": 47286334, "body": "Thanks. Just learming Perl, and beginners guide suggested those switches when looking for the single instance of a value."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1428692693, "post_id": 29567737, "comment_id": 47287189, "body": "Can you provide a link to this beginners guide you were looking at?  It does not make sense that they would be suggesting those modifiers.  <code>&#47;i</code> means &quot;case-insensitive&quot;, which doesn&#39;t matter if there are no letters.  <code>&#47;s</code> only applies if you are matching multiline strings."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4691530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8674895a5c3fd6b3bf9fab70bc04c014?s=128&d=identicon&r=PG&f=1", "display_name": "Leon K.", "link": "https://stackoverflow.com/users/4691530/leon-k"}, "edited": false, "score": 0, "creation_date": 1428690695, "post_id": 29567782, "comment_id": 47286195, "body": "Thanks. That works perfectly. Just for curiosity sakes what if the record started with multiple unrelated values, say 300, 501, 736, etc?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 13, "user_id": 4691530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8674895a5c3fd6b3bf9fab70bc04c014?s=128&d=identicon&r=PG&f=1", "display_name": "Leon K.", "link": "https://stackoverflow.com/users/4691530/leon-k"}, "edited": false, "score": 0, "creation_date": 1428691492, "post_id": 29567782, "comment_id": 47286564, "body": "@LeonK. you might capture these digits with <code>([0-9]{3})</code> and inspect <code>$1</code> after successful match."}, {"owner": {"reputation": 13, "user_id": 4691530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8674895a5c3fd6b3bf9fab70bc04c014?s=128&d=identicon&r=PG&f=1", "display_name": "Leon K.", "link": "https://stackoverflow.com/users/4691530/leon-k"}, "edited": false, "score": 0, "creation_date": 1428697123, "post_id": 29567782, "comment_id": 47289459, "body": "Perchance you could provide an example of what that would look like in code?"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1428688418, "last_edit_date": 1428688418, "creation_date": 1428688382, "answer_id": 29567782, "question_id": 29567737, "link": "https://stackoverflow.com/questions/29567737/how-to-check-the-first-three-characters-in-a-record-using-perl/29567782#29567782", "title": "how to check the first three characters in a record using Perl", "body": "<p>You can define range for last digit <code>[0-8]</code>,</p>\n\n<pre><code>if ($catcha =~ m/^\"30[0-8]/)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "is_accepted": false, "score": 0, "last_activity_date": 1428688397, "creation_date": 1428688397, "answer_id": 29567788, "question_id": 29567737, "link": "https://stackoverflow.com/questions/29567737/how-to-check-the-first-three-characters-in-a-record-using-perl/29567788#29567788", "title": "how to check the first three characters in a record using Perl", "body": "<p>change your regex to</p>\n\n<pre><code>if($catcha=~m/^\"30[0-8]/is)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4691530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8674895a5c3fd6b3bf9fab70bc04c014?s=128&d=identicon&r=PG&f=1", "display_name": "Leon K.", "link": "https://stackoverflow.com/users/4691530/leon-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 29567782, "answer_count": 2, "score": 1, "last_activity_date": 1428688418, "creation_date": 1428688252, "last_edit_date": 1428688343, "question_id": 29567737, "link": "https://stackoverflow.com/questions/29567737/how-to-check-the-first-three-characters-in-a-record-using-perl", "title": "how to check the first three characters in a record using Perl", "body": "<p>This snippet checks to see if the first characters in a record following \u201c is 300. How would I check for different values , say if the record starts with 300 or 301, or 302 (up to 308) following the \u201c? </p>\n\n<pre><code>if($catcha=~m/^\"300/is)\n</code></pre>\n"}, {"tags": ["perl", "hash", "each", "break"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1428687213, "post_id": 29567297, "comment_id": 47284306, "body": "<code>keys %ENV;</code> before the <code>while</code> loop. Also, worth mentioning <a href=\"http://blogs.perl.org/users/rurban/2014/04/do-not-use-each.html\" rel=\"nofollow noreferrer\">blogs.perl.org/users/rurban/2014/04/do-not-use-each.html</a>"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1428687635, "post_id": 29567297, "comment_id": 47284516, "body": "FWIW: Not really what you&#39;re asking about, but the uses of <code>$break</code> might be replaced with <code>last if ($key eq &#39;stop&#39;);</code>"}, {"owner": {"reputation": 498, "user_id": 1769925, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/fb6cf77bdcefd03d0e7e7228314c179e?s=128&d=identicon&r=PG&f=1", "display_name": "user1769925", "link": "https://stackoverflow.com/users/1769925/user1769925"}, "edited": false, "score": 0, "creation_date": 1428688521, "post_id": 29567297, "comment_id": 47285038, "body": "normally true, but actually I am using it within yet another loop that I would also nee to break, so my $break flag does make sense"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1428689315, "post_id": 29567297, "comment_id": 47285481, "body": "@user1769925 - to break out of an outer loop, use can put a label at the start of the loop and call <code>last LABEL</code>"}], "owner": {"reputation": 498, "user_id": 1769925, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/fb6cf77bdcefd03d0e7e7228314c179e?s=128&d=identicon&r=PG&f=1", "display_name": "user1769925", "link": "https://stackoverflow.com/users/1769925/user1769925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1428687161, "answer_count": 0, "score": 0, "last_activity_date": 1428686737, "creation_date": 1428686737, "question_id": 29567297, "link": "https://stackoverflow.com/questions/29567297/break-each-function-iterating-over-hash-in-perl", "closed_reason": "Duplicate", "title": "break each() function iterating over hash in Perl", "body": "<p>I am using a while loop to go over a hash. Within that while loop, I want to be able to terminate the loop from within. The code below works in terms of stopping looping, but when the code is executed again the next time (it is inside a larger loop), the loop continues where it was broken off. I guess I need to somehow reset the each function, but I am not sure how to do that.</p>\n\n<pre><code>my $break = 0;\nwhile (!$break() and (($key,$value) = each %ENV)) {\n    print \"$key=$value\\n\";\n    if ($key eq \"stop\") {\n       $break = 1;\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "oop", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4774583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d21cfaa4db9debd5b6aa8675a785c1f?s=128&d=identicon&r=PG&f=1", "display_name": "DGuimar", "link": "https://stackoverflow.com/users/4774583/dguimar"}, "edited": false, "score": 0, "creation_date": 1428688879, "post_id": 29567336, "comment_id": 47285249, "body": "Awesome!  I have not heard of FindBin so thank you for that.  Also, wow! I feel silly.  Thank you :-)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1428687637, "last_edit_date": 1428687637, "creation_date": 1428686882, "answer_id": 29567336, "question_id": 29567073, "link": "https://stackoverflow.com/questions/29567073/perl-objects-error-cant-locate-object-method-via-package-for-class-im-writing/29567336#29567336", "title": "Perl objects error: Can&#39;t locate object method via package for class I&#39;m writing", "body": "<p>Your file is <code>Pagerduty/Obj.pm</code>, and you are trying to use the class <code>Pagerduty::Obj</code>, but at the top of the module you have</p>\n\n<pre><code>package Pageduty::Obj;\n</code></pre>\n\n<p>which should be </p>\n\n<pre><code>package Pagerduty::Obj;\n</code></pre>\n\n<p>By the way, the canonical way of adding include directories relative to the location of the script is to use <a href=\"https://metacpan.org/pod/FindBin\" rel=\"nofollow\"><code>FindBin</code></a>, which sets a scalar variable <code>$FindBin::Bin</code> (amongst others) to the absolute path to the directory that contains the Perl program file.</p>\n\n<pre><code>use FindBin;\nuse lib \"$FindBin::Bin/../..\";\n</code></pre>\n\n<p>You may have heard about <code>FindBin</code> being broken, but it has been corrected recently in version 16 of Perl 5.</p>\n"}], "owner": {"reputation": 35, "user_id": 4774583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d21cfaa4db9debd5b6aa8675a785c1f?s=128&d=identicon&r=PG&f=1", "display_name": "DGuimar", "link": "https://stackoverflow.com/users/4774583/dguimar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1375, "favorite_count": 0, "accepted_answer_id": 29567336, "answer_count": 1, "score": 1, "last_activity_date": 1428687637, "creation_date": 1428685929, "last_edit_date": 1495541180, "question_id": 29567073, "link": "https://stackoverflow.com/questions/29567073/perl-objects-error-cant-locate-object-method-via-package-for-class-im-writing", "title": "Perl objects error: Can&#39;t locate object method via package for class I&#39;m writing", "body": "<p>I'm getting the listed error when trying to run code.  I started by looking at the previous answers to similar questions.  <a href=\"https://stackoverflow.com/questions/15689661/perl-objects-error-cant-locate-object-method-via-package\">This question </a> gave the best info.  It showed me how to look at the item being loaded.</p>\n\n<p>Here is my directory tree:</p>\n\n<ul>\n<li><p>Pagerduty/</p>\n\n<ul>\n<li><p>Client.pm</p></li>\n<li><p>Obj.pm</p></li>\n<li><p>test/</p>\n\n<ul>\n<li>pagerduty_tester.pl</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Here is what the tester currently looks like:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse lib \"../..\";\n\nuse strict;\nuse warnings;\nuse YAML qw/LoadFile/;\nuse Pagerduty::Client;\nuse Pagerduty::Obj;\nuse Data::Dumper;\n\nuse constant TRUE  =&gt; 1;\nuse constant FALSE =&gt; 0;\n\nprint($INC{\"Pagerduty/Obj.pm\"}, \"\\n\");\n\nmy $settings = LoadFile(\"pagerduty.yml\");\nmy $client = Pagerduty::Client-&gt;new($settings);\n\nsub create_test_incident{\n    my $incident_params = define_test_incident();\n    my $incident = $client-&gt;create_incident( $incident_params );\n\n}\n\nsub define_test_incident{\n    {\n        service_key =&gt; \"&lt;omitted&gt;\",\n        description =&gt; \"Test Incident\",\n        details =&gt; {\n            detail1 =&gt; \"Details blah\",\n            detail2 =&gt; \"more detail\",\n        },\n    }\n}\n\nmy $obj = define_test_incident();\n# print Dumper($obj);\nprint Dumper( Pagerduty::Obj-&gt;new( $obj ) );\n\n# print Dumper( create_test_incident() )\n</code></pre>\n\n<p>Here is Pagerduty::Obj</p>\n\n<pre><code>package Pageduty::Obj;\n\nuse strict;\nuse warnings;\nuse Data::Structure::Util qw/unbless/;\n\nuse constant TRUE =&gt; 1;\n\nsub new{\n    my $class = shift;\n    my $self  = shift;\n    # $self-&gt;{objCode} = lc($self-&gt;{objCode});\n    return bless $self, $class;\n}\n\nsub serialize{\n    my $self = shift;\n    unbless($self);\n}\n\nsub update_values{\n    my $self = shift;\n    my $changes = shift;\n    if($self-&gt;{changes}){\n        while(my ($key, $value) = each $changes){\n            $self-&gt;{changes}-&gt;{$key} = $value;\n        }\n    } else{\n        $self-&gt;{changes} = $changes;\n    }\n}\n\nTRUE;\n</code></pre>\n\n<p>Finally, when I run the code I get the following:</p>\n\n<pre><code>../../Pagerduty/Obj.pm\nCan't locate object method \"new\" via package \"Pagerduty::Obj\" (perhaps you forgot to load \"Pagerduty::Obj\"?)\n</code></pre>\n\n<p>When I cat ../../Pagerduty/Obj.pm I get the code listed above.  This code lives in a library I created.  I put that library in the variable PERL5LIB.  I have the 'use lib ../..' line because I want it work on any computer.  I have been trying to figure out for the past 2 days why this code is not working.  Any ideas?</p>\n\n<p>The other class works accept not being able to create new Pagerduty::Obj with the same error message.</p>\n"}, {"tags": ["regex", "perl", "grep"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428683197, "post_id": 29565451, "comment_id": 47282140, "body": "Please <code>use Data::Dumper; $Data::Dumper::Useqq = 1;  print Dumper $adf_file;</code> and show the results."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1428683368, "post_id": 29565451, "comment_id": 47282217, "body": "Yeah, do that. It will reveal any unprintable characters in <code>$adf_file</code>."}, {"owner": {"reputation": 336, "user_id": 4774247, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e430f4c7642fadbd281987fd60ffb4b6?s=128&d=identicon&r=PG&f=1", "display_name": "emmalg", "link": "https://stackoverflow.com/users/4774247/emmalg"}, "edited": false, "score": 0, "creation_date": 1428683639, "post_id": 29565451, "comment_id": 47282352, "body": "Thank you so much.  I&#39;ll remember that for the future - there&#39;s some trailing whitespace. $VAR1 = &quot;ASA_CON_AXVIEC20120626_153045_20030601_000000_20050916_1957&zwnj;&#8203;33 &quot;;"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1428686139, "creation_date": 1428686139, "answer_id": 29567128, "question_id": 29565451, "link": "https://stackoverflow.com/questions/29565451/perl-string-from-regex-is-different-from-created-string-breaks-fgrep/29567128#29567128", "title": "Perl string from regex is different from created string - breaks fgrep", "body": "<p>It will help to see the differences between your two strings if you add</p>\n\n<pre><code>use Data::Dumper;\n$Data::Dumper::Useqq = 1;\nprint Dumper $adf_file;\n</code></pre>\n\n<p>Setting the <code>Useqq</code> option makes <code>Data::Dumper</code> present strings in double-quoted style, using escape sequences for all non-printable characters.</p>\n\n<p>Better still is <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow\"><code>Data::Dump</code></a>, which requires just </p>\n\n<pre><code>use Data::Dump;\ndd $adf_file;\n</code></pre>\n\n<p>to do the same thing. It also produces much more nicely readable displays of nested data structures, but it isn't a core module and will probably need installing.</p>\n"}], "owner": {"reputation": 336, "user_id": 4774247, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e430f4c7642fadbd281987fd60ffb4b6?s=128&d=identicon&r=PG&f=1", "display_name": "emmalg", "link": "https://stackoverflow.com/users/4774247/emmalg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 29567128, "answer_count": 1, "score": -1, "last_activity_date": 1428686139, "creation_date": 1428680315, "last_edit_date": 1428683209, "question_id": 29565451, "link": "https://stackoverflow.com/questions/29565451/perl-string-from-regex-is-different-from-created-string-breaks-fgrep", "title": "Perl string from regex is different from created string - breaks fgrep", "body": "<p>I have a piece of code which is checking if a filename givne in a file is present in a master list but it keeps saying the string isn't there when it is - but if I declare a second variable with the filename in it - manually typed - it works fine.</p>\n\n<p>The variable that came from the regex is not the same as the one I declared (they look the same).  I checked this but with Perl's automatic type parsing I am at a loss to understand what the issue is.</p>\n\n<pre><code>...\nopen (my $fh_in, $in_file) or die \"Could not open file $in_file $!\";\n\nseek ($fh_in, 5995, 0);\nmy $line = readline ($fh_in);\n$line =~ /\"([^\"]*)\"/;  # extracts the filename from a Filename=\"...\" field\nmy $adf_file = $1;\n\nif (fgrep { /$adf_file/ } \"masterlist.txt\" ) {\n  print \"The file is in the master list\\n\";\n} else {\n  print \"It isn't\\n\";\n}\n</code></pre>\n\n<p>It says the file is not in the master list.\nIf instead I do:</p>\n\n<pre><code>my $testst = \"File_I_Want\";\n\nfgrep { /$testst/ }   ...\n</code></pre>\n\n<p>It says the file is in the master list.</p>\n\n<p>Also if I then compare:</p>\n\n<pre><code>if ($testst eq $adf_file) {\n  print \"variables are the same\\n\";\n} else {\n  print \"variables are not the same\\n\";\n}\n</code></pre>\n\n<p>Is printing that they differ but they look identical.</p>\n\n<p>Thanks in advance for your help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1428680467, "post_id": 29565441, "comment_id": 47280546, "body": "Your problem here appears to be: You need <code>\\n</code> not <code>&#47;n</code>."}, {"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1428680580, "post_id": 29565441, "comment_id": 47280605, "body": "Typo in the question not in real life. I have changed here but the problem still applies"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1428680704, "post_id": 29565441, "comment_id": 47280676, "body": "The second problem is - your <code>m</code> pattern modifier - needs to be on the end of the pattern, not embedded. <code>s{#file1\\nfile =.*}{#file1\\nfile = Another&#47;Path&#47;tostuff.txt}gm</code> and <code>-p</code> defined an implicit <code>while</code> loop.  That&#39;s going line by line, so a multi-line match is never going to work."}, {"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1428681015, "post_id": 29565441, "comment_id": 47280876, "body": "This detects  #file1\\n but not the .*. The result is that #file1\\n gets replaced with Another/Path/tostuff.txt but after that the rest of the line is still there"}], "answers": [{"comments": [{"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428681143, "post_id": 29565673, "comment_id": 47280947, "body": "Tried it but still doesnt eradicate everything after the newline and replace it. Im not quite sure how to make it match stuff on the next line"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428681236, "post_id": 29565673, "comment_id": 47281007, "body": "Bear with me, having a bit of a fiddle. How much do you want it to be an inline perl command?"}, {"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428681316, "post_id": 29565673, "comment_id": 47281056, "body": "Im trying to run it as one line within r for the sake of simplicity if that&#39;s what you mean"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428681585, "post_id": 29565673, "comment_id": 47281231, "body": "I meant rather - could you call a script, instead of trying to remember a complicated and long perl syntax?"}, {"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428681675, "post_id": 29565673, "comment_id": 47281288, "body": "Guess so. Should be easy to do"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428681750, "post_id": 29565673, "comment_id": 47281322, "body": "Edited again - I <i>think</i> that should work, but can&#39;t see why it doesn&#39;t, and am wondering if Windows is making my life miserable."}, {"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428682104, "post_id": 29565673, "comment_id": 47281499, "body": "OK but it doesnt seem to overwrite the original file"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428682700, "post_id": 29565673, "comment_id": 47281896, "body": "No. That&#39;s because Windows (where I&#39;m testing) won&#39;t do an inplace edit. Try removing the <code>.bak</code> from <code>-i.bak</code>. :)"}, {"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428683421, "post_id": 29565673, "comment_id": 47282245, "body": "Didnt work. I guess an alternative is to do a second search and replace after the first one to replace everything after txtfile  (which is the join between the replaced text and and the new text with txt and everything else on the line removed?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428691348, "post_id": 29565673, "comment_id": 47286504, "body": "<code>BEGIN{local $&#47;}</code> will have no effect because it is <code>local</code> to the <code>BEGIN</code> block. use <code>BEGIN{$&#47; = undef}</code> instead. Also, the <code>-0</code> command-line option is more concise: use <code>-0777</code> for slurp mode"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1428692397, "post_id": 29565673, "comment_id": 47287053, "body": "Doh. Obvious really :/"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1428692429, "last_edit_date": 1428692429, "creation_date": 1428680965, "answer_id": 29565673, "question_id": 29565441, "link": "https://stackoverflow.com/questions/29565441/how-to-match-and-replace-over-multiple-lines-in-perl/29565673#29565673", "title": "How to match and replace over multiple lines in perl", "body": "<p>OK. So problems here are:</p>\n\n<ul>\n<li>It's <code>\\n</code> not <code>/n</code>.</li>\n<li>your <code>m</code> needs to be at the end of the pattern: <code>s{#file1\\nfile =.*}{#file1\\nfile = Another/Path/tostuff.txt}gm</code></li>\n<li><code>-p</code> defines a while loop around your code that goes line by line. So you need to <code>local $/;</code> to slurp the whole lot. </li>\n</ul>\n\n<p>Try instead (doesn't work, bear with me):</p>\n\n<pre><code>perl -i.bak -p -0777 -e 's{#file1\\n.*}{#file1\\nfile = Another/Path/tostuff.txt}mgs;' test.txt\n</code></pre>\n\n<p>Without inlining, this works;</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nlocal $/;\nwhile ( &lt;DATA&gt; ) {\n    s{#file1\\nfile =.*}{#file1\\nfile = Another/Path/tostuff.txt}gm;\n    print;\n }\n__DATA__\n#file1\nfile = User/me/stuff.txt #This filename can vary\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1428691876, "creation_date": 1428691876, "answer_id": 29568713, "question_id": 29565441, "link": "https://stackoverflow.com/questions/29565441/how-to-match-and-replace-over-multiple-lines-in-perl/29568713#29568713", "title": "How to match and replace over multiple lines in perl", "body": "<p>I'm not a fan of one-liners at all, but this will work for you. If the current line begins with <code>#file1</code> then it reads the next line, replaces everything after <code>file =</code> with the new path, and appends it to <code>$_</code></p>\n\n<pre><code>perl -i -pe'$_ .= &lt;&gt; =~ s|file\\s*=\\s*\\K.+|Another/Path/tostuff.txt|r if /^#file1/' copy.conf\n</code></pre>\n"}], "owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 29568713, "answer_count": 2, "score": 0, "last_activity_date": 1428692429, "creation_date": 1428680261, "last_edit_date": 1428680633, "question_id": 29565441, "link": "https://stackoverflow.com/questions/29565441/how-to-match-and-replace-over-multiple-lines-in-perl", "title": "How to match and replace over multiple lines in perl", "body": "<p>I am using perl in r but I dont think that makes a difference\nI would like to replace a line in a text file (called copy.conf) with another line.</p>\n\n<p>The line is </p>\n\n<pre><code>#file1\nfile = User/me/stuff.txt #This filename can vary\n</code></pre>\n\n<p>I would like to replace this with </p>\n\n<pre><code>#file1\nfile = Another/Path/tostuff.txt\n</code></pre>\n\n<p>In order to do this I need to match #file1 and also the following file = and everything else on that line. So I have tried a multiline match as follows</p>\n\n<pre><code> perl -i -p -e's{#file1\\n.*}{#file1\\n Another/Path/tostuff.txt}g' /Users/copy.conf\n</code></pre>\n\n<p>Although I don't get an error I also don't get the desired result. On testing it further, the \n    #file1/n</p>\n\n<p>seems to match fine but the \n    .* \nafterwards doesn't.  So I tried using a multiline flag to see if that works as follows:</p>\n\n<pre><code>perl -i -p -e's{#file1\\n.*/m}{#file1\\n Another/Path/tostuff.txt}g' /Users/copy.conf\n\nbut I get the same result.\n</code></pre>\n"}, {"tags": ["php", "perl", "mime"], "answers": [{"tags": [], "owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "is_accepted": false, "score": 0, "last_activity_date": 1428751138, "creation_date": 1428751138, "answer_id": 29577272, "question_id": 29564861, "link": "https://stackoverflow.com/questions/29564861/setting-php-mime-type/29577272#29577272", "title": "Setting PHP Mime Type?", "body": "<blockquote>\n  <p>how do I tell mime to serve php files WITH PHP?</p>\n</blockquote>\n\n<p>The <code>PHP</code> should be served as a <a href=\"http://en.wikipedia.org/wiki/Common_Gateway_Interface\" rel=\"nofollow\">CGI script</a>, which your web server apparently doesn't support.</p>\n\n<p>(For simplicity sake, I'm omitting all security considerations.)</p>\n\n<p>Crudely explained, a page which is a CGI script, instead of been send to the client verbatim, is executed by HTTP server as an application, and its output is sent to the client.</p>\n\n<p>To implement the CGI script support in its simplest form, you would need:</p>\n\n<ol>\n<li><p>Add configuration table of MIME types which are CGI scripts.</p></li>\n<li><p>Before sending the file to the client, check if the MIME type corresponds to the CGI. If it does, and the file is executable, then run it, and pipe the <code>stdout</code> to the client socket.</p></li>\n</ol>\n\n<p>To test that, you can add a MIME type for the (canonical extension) <code>.cgi</code> files, and create simple shell or Perl script (with extension <code>.cgi</code>) which should:</p>\n\n<ul>\n<li><p>print the HTTP header (separated by <code>\"\\n\\r\"</code>) including the (most important) <code>Content-Type</code> field.</p></li>\n<li><p>print extra <code>\"\\n\\r\\n\\r\"</code> as a separator between header and the content,</p></li>\n<li><p>print the content (e.g. simply print \"Hello World\").</p></li>\n</ul>\n\n<p>In a full-fledged CGI implementation, the server passes extra information to the CGI script via <a href=\"http://en.wikipedia.org/wiki/Common_Gateway_Interface#Syntax\" rel=\"nofollow\">the environment variables</a>. Web server also needs to read and process the HTTP header generated by the CGI script, to extend it with the additional <a href=\"http://en.wikipedia.org/wiki/List_of_HTTP_header_fields\" rel=\"nofollow\">HTTP field</a> or to simply check that the header is valid. If scripts couldn't be started or produced empty output or terminated with an error, use the HTTP status code 500 to report the problem to the client.</p>\n\n<p>Now to the PHP. Most PHP pages are not designed as CGI, since PHP most of the time is configured to be loaded by the web server as a shared library (or as the <a href=\"http://en.wikipedia.org/wiki/FastCGI\" rel=\"nofollow\">FastCGI</a>). Thus, even if you implement full proper CGI interface, most <code>.php</code> files would still fail to work. You would have to extend the CGI support with your own \"integration\" for the PHP. The simplest way <a href=\"http://php.net/manual/en/features.commandline.options.php\" rel=\"nofollow\">to execute a PHP file</a> is to run it with the <code>php -f &lt;file.php&gt;</code>. In other words, you need to add to your web server additional configuration, telling that some CGI MIME types shouldn't be run directly, but instead executed with the help of external process.</p>\n\n<p>P.S. Other web server implementations you can check:</p>\n\n<ul>\n<li><p><a href=\"http://utopia.knoware.nl/~hlub/uck/rlwrap/#p5httpd\" rel=\"nofollow\">http://utopia.knoware.nl/~hlub/uck/rlwrap/#p5httpd</a></p></li>\n<li><p><a href=\"http://sourceforge.net/projects/lwpwserver/\" rel=\"nofollow\">http://sourceforge.net/projects/lwpwserver/</a></p></li>\n<li><p><a href=\"http://www.floodgap.com/httpi/\" rel=\"nofollow\">http://www.floodgap.com/httpi/</a></p></li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 4531521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aedc73763bff4bbc703a9e551d2c7bb?s=128&d=identicon&r=PG&f=1", "display_name": "Colt Chambers", "link": "https://stackoverflow.com/users/4531521/colt-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428751138, "creation_date": 1428678525, "last_edit_date": 1428681556, "question_id": 29564861, "link": "https://stackoverflow.com/questions/29564861/setting-php-mime-type", "title": "Setting PHP Mime Type?", "body": "<p>I am trying to work hands-on with web servers and such, so I decided I would see what I can do with an old perl web server. I need to serve php files with httpd-php and not just plain text, after doing some digging around on google I found that \"application/x-httpd-php\" should do the trick, but it isn't..</p>\n\n<pre><code>jpg image/jpeg\nhtml    text/html\nhtm text/html\npdf application/pdf\ngif image/gif\npl  text/plain\nsh  text/plain\ntxt text/plain\nmpeg    video/mpeg\npas text/plain\nphp     application/x-httpd-php\n</code></pre>\n\n<p>how do I tell mime to serve php files WITH PHP?</p>\n\n<pre><code>#!/usr/bin/perl\n\n#\n# $Header: /export/cvs/www.ogris.de/httpd/httpd.pl_,v 1.2 2002/11/10 22:55:45 fjo Exp $\n#\n\nuse IO::Socket;\n\n$PROGRAM_NAME = \"Simple-HTTP\";\n$PIDFILE = \"$PROGRAM_NAME.pid\";\n$TIMEZONE = \"+0200\";\n%HTTPCODE = (\n  200 =&gt; \"Ok\",\n  404 =&gt; \"Not found\"\n);\n@MONTH = (Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec);\n$PORT = 8001;\n$DEFAULT_MIME = \"text/plain\";\n$MIME = $ARGV[0] or $MIME = \"mime.txt\";\n\n$SIG{TERM} = \\&amp;cleanup;\n$SIG{KILL} = \\&amp;cleanup;\n$SIG{INT}  = \\&amp;cleanup;\n$SIG{HUP}  = sub { &amp;load_mime(\"reloading mime types...\") };\n$SIG{CHLD} = sub { wait };\n\nif (open(FH,\"$PIDFILE\")) {\n  $pid = &lt;FH&gt;;\n  close(FH);\n  if (kill 0,$pid) {\n    &amp;error(\"$PROGRAM_NAME already running (pid=$pid)\");\n  }\n  else {\n    &amp;warning(\"removing old pid file\");\n  }\n}\nif (open(FH,\"&gt;$PIDFILE\")) {\n  print FH $$;\n  close(FH);\n}\nelse {\n  &amp;warning(\"can not write pid file $PIDFILE: $!\");\n}\n\n&amp;load_mime();\n\n$listen = IO::Socket::INET-&gt;new(LocalPort=&gt;$PORT, ReuseAddr=&gt;1, Proto=&gt;'tcp',\n                                Listen=&gt;1024) ||\n  &amp;error(\"can not create socket: $!\");\n\n&amp;warning(\"$PROGRAM_NAME starting...\");\nwhile (my $socket = $listen-&gt;accept()) {\n  $pid = fork();\n  if ($pid == 0) {\n    while ((my $s = &lt;$socket&gt;) ne \"\\r\\n\") {\n      if ($s =~ /^get ([^\\s]*)/io) {\n        $url = $1;\n        ($request = $s) =~ s/\\r|\\n//go;\n      }\n    }\n    (my $file = \".$url\") =~ s/\\.\\.//go;\n    if (-d $file) {\n      $file .= \"/\" if $file !~ /\\/$/o;\n      $mime = \"html\";\n      if (($content = &amp;read_file($file.\"index.html\")) ne \"\") {\n        $code = 200;\n      }\n      elsif (!opendir(DH,$file)) {\n        $code = 404;\n        $content = &amp;http_error($socket,$code,$url);\n      }\n      else {\n        @dir = readdir(DH);\n        closedir(DH);\n        $code = 200;\n        $content = \"&lt;html&gt;&lt;head&gt;&lt;title&gt;Index of $url&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\";\n        $content.= \"&lt;h1&gt;Index of $url&lt;/h1&gt;&lt;pre&gt;&lt;table&gt;\";\n        foreach (sort @dir) {\n          $content .= \"&lt;tr&gt;&lt;td&gt;&lt;a href=\\\"$_\";\n          if (-d \"$file$_\") {\n            $content .= \"/\\\"&gt;$_/&lt;/a&gt;&lt;/td&gt;&lt;td align=right&gt;-\";\n          }\n          else {\n            my $size = -s \"$file$_\";\n            $content .= \"\\\"&gt;$_&lt;/a&gt;&lt;/td&gt;&lt;td align=right&gt;\";\n            $content .= &amp;sizef($size);\n          }\n          $content .= \"&lt;/td&gt;&lt;/tr&gt;\";\n        }\n        $content.= \"&lt;/pre&gt;&lt;/table&gt;\".&amp;address($socket);\n      }\n    }\n    elsif (($content = &amp;read_file($file)) ne \"\") {\n      $code = 200;\n      $mime = substr($file,rindex($file,'.')+1);\n    }\n    else {\n      $code = 404;\n      $mime = \"html\";\n      $content = &amp;http_error($socket,$code,$url);\n    }\n    my $len = length($content);\n    print $socket &amp;http_out($code,$mime,$len,$content);\n    print &amp;common_log($socket,$request,$code,$len);\n    $socket-&gt;close();\n    &amp;byebye();\n  }\n}\n\nsub read_file\n{\n my $file = shift;\n if ( (-f $file) &amp;&amp; (open(FH,$file)) ) {\n   binmode FH;\n   while (&lt;FH&gt;) { $content .= $_; }\n   close(FH);\n   binmode $socket;\n   return $content;\n }\n else {\n   return \"\";\n }\n}\n\nsub http_error\n{\n  my $socket = shift;\n  my $code = shift;\n  my $url = shift;\n\n  my $ret = \"&lt;html&gt;&lt;head&gt;&lt;title&gt;$code $HTTPCODE{$code}&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\";\n  $ret .= \"&lt;h1&gt;$HTTPCODE{$code}&lt;/h1&gt;&lt;p&gt;The requested URL $url was not found on\";\n  $ret .= \" this server.&lt;/p&gt;\".&amp;address($socket);\n  return $ret;\n}\n\nsub address\n{\n  my $socket = shift;\n  my $server = $socket-&gt;sockhost();\n  my $port = $socket-&gt;sockport();\n\n  my $ret =  \"&lt;hr&gt;&lt;address&gt;Simple HTTP on $server:$port &lt;br&gt;\";\n  $ret .= scalar localtime(time).\"&lt;/address&gt;&lt;/body&gt;&lt;/html&gt;\";\n  return $ret;\n}\n\nsub http_out\n{\n  my $code = shift;\n  my $mime = shift;\n  my $len = shift;\n  my $content = shift;\n  my $ret = \"HTTP/0.9 $code $HTTPCODE{$code}\\r\\nContent-type: \";\n  $ret .= &amp;get_mime($mime).\"\\r\\nContent-length: \".$len.\"\\r\\n\";\n  $ret .= \"Connection: close\\r\\n\\r\\n$content\";\n}\n\nsub common_log\n{\n  my $socket = shift;\n  my $request = shift;\n  my $code = shift;\n  my $len = shift;\n\n  my $jetzt = time();\n  my $remotehost = $socket-&gt;peerhost();\n\n  my $ret = \"$remotehost - - [\".&amp;datetimestamp($jetzt);\n  $ret .= \"] \\\"$request\\\" $code $len\\n\";\n}\n\nsub datetimestamp\n{\n  my $jetzt = shift;\n  my ($sec,$min,$hour,$day,$mon,$year,@rest) = localtime($jetzt);\n  $year += 1900;\n  foreach ($sec,$min,$hour,$day) {\n    $_ = \"0$_\" if $_ &lt; 10;\n  }\n  return \"$day/$MONTH[$mon]/$year:$hour:$min:$sec $TIMEZONE\";\n}\n\nsub cleanup\n{\n  if (!unlink $PIDFILE) {\n    &amp;warning(\"can not remove pid file $PIDFILE: $!\");\n  }\n  &amp;warning(\"$PROGRAM_NAME shutting down...\");\n  &amp;byebye();\n}\n\nsub load_mime\n{\n  %MIME = ();\n  if (open(MFH,$MIME)) {\n    &amp;warning($_[0]) if $_[0];\n    my @inhalt = &lt;MFH&gt;;\n    close (MFH);\n    %MIME = map {\n      s/\\r|\\n//go;\n      my @split = split(/\\t/,$_);\n      $split[0] =&gt; $split[1]\n    } @inhalt;\n  }\n  else {\n    &amp;warning(\"can not read $MIME: $!\");\n  }\n}\n\nsub get_mime\n{\n  my $ret = $MIME{$_[0]};\n  $ret = $DEFAULT_MIME if $ret eq \"\";\n  return $ret;\n}\n\nsub error\n{\n  &amp;warning($_[0]);\n  &amp;byebye();\n}\n\nsub warning\n{\n  print STDERR \"[\".&amp;datetimestamp(time).\"] $_[0]\\n\";\n}\n\nsub sizef\n{\n  my $size = shift;\n  my $i = 0;\n  my @SIZES = (\"\",\"k\",\"M\",\"G\",\"T\");\n  while ($size &gt; 1024) {\n    $size /= 1024;\n    $i++;\n  }\n  return sprintf(\"%.0f\",$size).$SIZES[$i];\n}\n\nsub byebye\n{\n  close (STDERR);\n  close (STDOUT);\n  exit;\n}\n</code></pre>\n\n<p>from <a href=\"http://www.ogris.de/httpd/\" rel=\"nofollow\">http://www.ogris.de/httpd/</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1428677041, "post_id": 29564267, "comment_id": 47278329, "body": "See <a href=\"http://stackoverflow.com/q/29308727/176646\">Do file locks stay when you use open for a second time?</a> The OP of that question was trying to open a file in append mode, then in read/write mode, but the concept is the same."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1428677199, "post_id": 29564267, "comment_id": 47278429, "body": "given locks are advisory anyway (on unix) could you use a separate lock file?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1428677509, "post_id": 29564267, "comment_id": 47278638, "body": "@Sobrique Yes a separate lock file seems to be a good idea. I wonder, though how to implement that such that a procesess is not busy-waiting if the file is locked?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1428678755, "post_id": 29564267, "comment_id": 47279481, "body": "@H&#229;konH&#230;gland: A process that is suspended waiting to be granted a <code>flock</code> isn&#39;t busy-waiting, so your process can safely request an exclusive lock on a lock file and be sure that it has exclusive access to the data file when the <code>flock</code> call returns. It doesn&#39;t spin on repeatedly checking the lock"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428680079, "post_id": 29564524, "comment_id": 47280293, "body": "In the first snippet, $data_file and $lock_file can be the same file. You could simply do <code>open my $lock_fh, &#39;&lt;&#39;, $data_file;</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1428679016, "last_edit_date": 1428679016, "creation_date": 1428677512, "answer_id": 29564524, "question_id": 29564267, "link": "https://stackoverflow.com/questions/29564267/locking-a-file-for-both-read-and-write/29564524#29564524", "title": "Locking a file for both read and write", "body": "<p><a href=\"http://perldoc.perl.org/functions/flock.html\" rel=\"nofollow\"><code>flock</code></a> will do what you need. Note that it is a <em>cooperative</em> measure, so other processes will need to use the same system otherwise there will be nothing to stop them doing what they like with the file.</p>\n\n<p>With regard to losing the lock on the file, you have two obvious choices</p>\n\n<ul>\n<li><p>Acquire the lock on a separate file that exists only to control access to the primary file. This is probably the tidiest method</p></li>\n<li><p>Open the file with both read and write access using a mode of <code>+&lt;</code>. That will allow you to read through the file and then rewrite after using <a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow\"><code>seek</code></a> and <a href=\"http://perldoc.perl.org/functions/truncate.html\" rel=\"nofollow\"><code>truncate</code></a></p></li>\n</ul>\n\n<p>Each process should try to acquire an exclusive lock with <code>flock $fh, LOCK_EX</code>, and will wait until its turn to access the file.</p>\n\n<p>You should use</p>\n\n<pre><code>use Fcntl qw/ :flock :seek /;\n</code></pre>\n\n<p>to import the relevant constants for these operations.</p>\n\n<p>Here's an example of the first method, which uses a separate lock file to control access to a data file that has just one record containing a count. Note that the lock file must be created outside the process, as any attempt to check whether it exists and create it if not will cause a race condition in the sharing processes</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nuse Fcntl qw/ :flock /;\n\nmy ($data_file, $lock_file) = qw/ data.txt lockfile.lock /;\n\nopen my $lock_fh, '&lt;', $lock_file;\nflock $lock_fh, LOCK_EX;\n\nopen my $data_fh, '&lt;', $data_file;\nchomp(my $record = &lt;$data_fh&gt;);\n\nopen $data_fh, '&gt;', $data_file;\nprint $data_fh ++$record, \"\\n\";\n\nclose $data_fh;\n\nclose $lock_fh;\n</code></pre>\n\n<p>and here's an example of the second method, which does the same thing but without using a separate lock file and instead opening the data file read/write. In the same way that the lock file above must be created independently of the sharing processes, the data file here must be created as a separate action. The locking system won't prevent two processes from creating a new file simultaneously so it cannot be left to them to do it</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nuse Fcntl qw/ :flock :seek /;\n\nmy $data_file = 'data.txt';\n\nopen my $data_fh, '+&lt;', $data_file;\nflock $data_fh, LOCK_EX;\n\nchomp(my $record = &lt;$data_fh&gt;);\n\nseek $data_fh, 0, SEEK_SET;\ntruncate $data_fh, 0;\nprint $data_fh ++$record, \"\\n\";\n\nclose $data_fh;\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1059, "favorite_count": 0, "accepted_answer_id": 29564524, "answer_count": 1, "score": 1, "last_activity_date": 1428679016, "creation_date": 1428676837, "question_id": 29564267, "link": "https://stackoverflow.com/questions/29564267/locking-a-file-for-both-read-and-write", "title": "Locking a file for both read and write", "body": "<p>I am writing an application where two processes needs to update the same file <code>file.txt</code>. There is a chance that this will happen at the same time, so I should implement some locking framework. </p>\n\n<p>Each process needs to first read all of <code>file.txt</code>, process it, and then write out a modified verison of <code>file.txt</code>. So the lock should be obtained before the first file read, and released after the write. I checked out <code>flock</code> in <code>Fcntl</code> but it seems it can only lock on a filehandle, so the lock is lost after the first read (since I have to close the file, before I can reopen it for writing later)..</p>\n\n<p>Also, if one process has locked the file, and the other process tries to lock it, it should not abort, but implement some sort of non-busy waiting until the other file releases the lock on the file.</p>\n\n<p>How can this locking scheme best be implemented? Is there a CPAN module that I can use?</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 6, "creation_date": 1428675608, "post_id": 29563832, "comment_id": 47277295, "body": "I&#39;m guessing it&#39;s because of the <code>#!</code> in the beginning of the file. Indeed if I remove the she-bang, I&#39;m getting the expected behavior. Isn&#39;t that a bad idea from the security perspective, anyway?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 8, "creation_date": 1428675706, "post_id": 29563832, "comment_id": 47277355, "body": "No. The point of the shebang path it to specify an interpreter. If you don&#39;t trust the code to run, then you shouldn&#39;t be running it in the first place."}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1428675786, "post_id": 29563832, "comment_id": 47277403, "body": "@Sobrique, fair point... still there&#39;s something inherently odd here."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1428675828, "post_id": 29563832, "comment_id": 47277422, "body": "No, not really. Your script is a text file. No more, no less. It won&#39;t &#39;run&#39; without an interpreter."}, {"owner": {"reputation": 943, "user_id": 238222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8881283e8e6d6dc99787d6c029330172?s=128&d=identicon&r=PG", "display_name": "styts", "link": "https://stackoverflow.com/users/238222/styts"}, "edited": false, "score": 0, "creation_date": 1428675922, "post_id": 29563832, "comment_id": 47277474, "body": "All depends on the content of your file. The interpreter for each language will try to execute the code in the corresponding language."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1428697702, "post_id": 29563832, "comment_id": 47289728, "body": "&quot;Why is my Perl interpreting my Python?&quot; is not &quot;a problem that can no longer be reproduced or a simple typographical error.&quot; Voted to reopen. The upvotes on the Q and the A show this is a question of popular interest."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1428698230, "post_id": 29563832, "comment_id": 47289945, "body": "@ikegami Regardless of popularity, this is clearly not &quot;a simple typographical error...resolved in a manner unlikely to help future readers.&quot; Voted to reopen."}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1429187598, "post_id": 29563832, "comment_id": 47487247, "body": "(I&#39;m a bit astonished on how much points I&#39;m getting for this question... I tought it was a dumb question to ask, and I should have read perlrun...)"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1609958776, "post_id": 29563832, "comment_id": 115985991, "body": "Perl.com explains it in detail in <a href=\"https://www.perl.com/article/bang-bang/\" rel=\"nofollow noreferrer\">Bang Bang</a>."}], "answers": [{"comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 32, "creation_date": 1428679071, "post_id": 29563961, "comment_id": 47279690, "body": "Wow.  Talk about your obscure features.  I&#39;ve been using Perl for more than 20 years, and I had no idea it did that."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 4, "creation_date": 1428684347, "post_id": 29563961, "comment_id": 47282730, "body": "I started using Perl v4 on DOS, VMS &amp; Solaris.  It&#39;s OS agnostic/bridging features like this that made cross platform life so much easier."}, {"owner": {"reputation": 3297, "user_id": 1436796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a4b86c1c90bc06112c2c069b58bf995?s=128&d=identicon&r=PG", "display_name": "Marc van Leeuwen", "link": "https://stackoverflow.com/users/1436796/marc-van-leeuwen"}, "edited": false, "score": 0, "creation_date": 1428728840, "post_id": 29563961, "comment_id": 47297538, "body": "I find the documentation rather bizarre in itself. Why the hell would &quot;on machines that don&#39;t do <code>#!</code>&quot; there be scripts that start with <code>#!</code> in the first place? I don&#39;t think having <code>&#47;usr&#47;bin&#47;perl</code> (and I would doubt that on mentioned machines it would actually be that path) as you <code>SHELL</code> would be any fun."}, {"owner": {"reputation": 12004, "user_id": 988678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a073cbc871c26b0fb4f1cc1f808e9749?s=128&d=identicon&r=PG", "display_name": "zxq9", "link": "https://stackoverflow.com/users/988678/zxq9"}, "reply_to_user": {"reputation": 3297, "user_id": 1436796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a4b86c1c90bc06112c2c069b58bf995?s=128&d=identicon&r=PG", "display_name": "Marc van Leeuwen", "link": "https://stackoverflow.com/users/1436796/marc-van-leeuwen"}, "edited": false, "score": 1, "creation_date": 1428741885, "post_id": 29563961, "comment_id": 47300169, "body": "@MarcvanLeeuwen When you write programs for Linux, OSX, VAX/VMS, Windows, Solaris, OS/2, and whatever else the most annoying part of porting a script-language program is getting it started, as many of these systems, though usually sharing the &quot;type a command, have it found &amp; executed&quot; feature in common, do nearly everything else differently. This Perl feature makes Perl an easy gap-bridge in functionality -- you can write <i>just</i> a Unix-style shebang and if Perl is present the code, whether Perl code or not, will <i>always</i> work -- its like a more universal <code>#! &#47;usr&#47;bin&#47;env foo</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 1, "creation_date": 1428812751, "post_id": 29563961, "comment_id": 47319839, "body": "@immibis From the thread <a href=\"https://groups.google.com/forum/m/#!topic/perl.perl5.porters/UlKtqq6q0JA\" rel=\"nofollow noreferrer\">Shebang line parsing mystery</a> on the perl5-porters mailing list: &quot;<code>indir</code> was a program designed to indirectly execute other programs.  My recollection is that it was supposed to be particularly useful in setuid situations where the OS didn&#39;t natively provide you much help, and/or perhaps in situations where the OS kernel limited you to 32 character command lines.&quot;"}, {"owner": {"reputation": 1520, "user_id": 86207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/407aa6e814964d24e9041ef6fd7ff633?s=128&d=identicon&r=PG", "display_name": "Maurice Reeves", "link": "https://stackoverflow.com/users/86207/maurice-reeves"}, "edited": false, "score": 0, "creation_date": 1429048035, "post_id": 29563961, "comment_id": 47418208, "body": "GG Perl knows you didn&#39;t mean to invoke perl and sends the work to the right executable anyway.  What a swell guy!"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1429127814, "post_id": 29563961, "comment_id": 47458889, "body": "This just cements Perl&#39;s reputation as the kitchen sink of programming languages. As an interesting observation, I believe the original implementation of shebang was as a shell feature, it only moved into the Unix kernel later. Perl includes many shell mechanism (e.g. backticks for substituting command output), this is just one more."}, {"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 2, "creation_date": 1429257041, "post_id": 29563961, "comment_id": 47523015, "body": "<code>ruby</code> does the same &gt;.&lt;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 114, "last_activity_date": 1519841599, "last_edit_date": 1519841599, "creation_date": 1428675908, "answer_id": 29563961, "question_id": 29563832, "link": "https://stackoverflow.com/questions/29563832/why-dont-i-get-any-syntax-errors-when-i-execute-my-python-script-with-perl/29563961#29563961", "title": "Why don&#39;t I get any syntax errors when I execute my Python script with Perl?", "body": "<p>From <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun</a>,</p>\n\n<blockquote>\n  <p>If the <code>#!</code> line does not contain the word \"perl\" nor the word \"indir\" the program named after the <code>#!</code> is executed instead of the Perl interpreter. This is slightly bizarre, but it helps people on machines that don't do <code>#!</code> , because they can tell a program that their SHELL is <em>/usr/bin/perl</em>, and Perl will then dispatch the program to the correct interpreter for them.</p>\n</blockquote>\n\n<p>For example,</p>\n\n<pre><code>$ cat a\n#!/bin/cat\nmeow\n\n$ perl a\n#!/bin/cat\nmeow\n</code></pre>\n"}], "owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3801, "favorite_count": 7, "accepted_answer_id": 29563961, "answer_count": 1, "score": 85, "last_activity_date": 1609925104, "creation_date": 1428675568, "last_edit_date": 1428697862, "question_id": 29563832, "link": "https://stackoverflow.com/questions/29563832/why-dont-i-get-any-syntax-errors-when-i-execute-my-python-script-with-perl", "title": "Why don&#39;t I get any syntax errors when I execute my Python script with Perl?", "body": "<p>I just wrote some testing python code into <code>test.py</code>, and I'm launching it as follows:</p>\n\n<pre><code>perl test.py\n</code></pre>\n\n<p>After a while I realized my mistake. I say \"after a while\", because the\nPython code gets actually correctly executed, as if in Python interpreter!</p>\n\n<p>Why is my Perl interpreting my Python? <code>test.py</code> looks like this:</p>\n\n<pre><code>#!/usr/bin/python\n\n...Python code here...\n</code></pre>\n\n<p>Interestingly, if I do the opposite (i.e. call <code>python something.pl</code>) I get a good deal of syntax errors.</p>\n"}, {"tags": ["perl", "gd", "perl-module"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1428670508, "post_id": 29561768, "comment_id": 47273718, "body": "You can get some idea from these links: <a href=\"http://stackoverflow.com/q/21444787/4248931\">stackoverflow.com/q/21444787/4248931</a>, <a href=\"http://stackoverflow.com/q/17442932/4248931\">stackoverflow.com/q/17442932/4248931</a>, <a href=\"http://www.perlmonks.org/?node_id=868016\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=868016</a>"}, {"owner": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 5, "creation_date": 1428671228, "post_id": 29561768, "comment_id": 47274152, "body": "Why not just <code>apt-get install libgd-perl</code>?  Unless you need something newer than the packaged versions, I would never use CPAN."}, {"owner": {"reputation": 491, "user_id": 2110417, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6c50c37630a2c3a75ada1be5806e690c?s=128&d=identicon&r=PG", "display_name": "svp", "link": "https://stackoverflow.com/users/2110417/svp"}, "reply_to_user": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 0, "creation_date": 1428719952, "post_id": 29561768, "comment_id": 47296042, "body": "I installed libgd as you suggested. But I got the same error when execute sudo cpan GD @SeanBright"}, {"owner": {"reputation": 491, "user_id": 2110417, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6c50c37630a2c3a75ada1be5806e690c?s=128&d=identicon&r=PG", "display_name": "svp", "link": "https://stackoverflow.com/users/2110417/svp"}, "reply_to_user": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 0, "creation_date": 1428750015, "post_id": 29561768, "comment_id": 47302531, "body": "Thanks @SeanBright. Now it is working"}, {"owner": {"reputation": 1322, "user_id": 2259571, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/PXz74.jpg?s=128&g=1", "display_name": "Emery Lapinski", "link": "https://stackoverflow.com/users/2259571/emery-lapinski"}, "edited": false, "score": 0, "creation_date": 1438962432, "post_id": 29561768, "comment_id": 51681089, "body": "&quot;No package libgd-perl available.&quot;"}], "owner": {"reputation": 491, "user_id": 2110417, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6c50c37630a2c3a75ada1be5806e690c?s=128&d=identicon&r=PG", "display_name": "svp", "link": "https://stackoverflow.com/users/2110417/svp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1424, "favorite_count": 0, "closed_date": 1463895754, "answer_count": 0, "score": 0, "last_activity_date": 1428669816, "creation_date": 1428669816, "last_edit_date": 1495539844, "question_id": 29561768, "link": "https://stackoverflow.com/questions/29561768/installing-perl-gd-on-ubuntu-14-04", "closed_reason": "Duplicate", "title": "Installing Perl GD on Ubuntu 14.04", "body": "<p>My aim is to run Circos plot  on Ubuntu 14.04. I installed every perl modules required except GD and GD::Polyline. When I run the command <strong>$sudo cpan GD</strong>, it fails to install GD. I found similar problems reported <a href=\"http://www.cpantesters.org/cpan/report/4e32ae28-b495-11e4-8502-0b9cc5dea601\" rel=\"nofollow noreferrer\">Here</a> and <a href=\"https://stackoverflow.com/questions/27597167/cannot-install-gd-module-on-darwin-13-0-1-using-cpan\">here</a>. But I couldn\u2019t understand and solve it. Can anyone know an alternative way to install it?</p>\n\n<p><strong>Here is the error,</strong></p>\n\n<pre><code> Reading '/home/junglab/.cpan/Metadata'\n Database was generated on Fri, 10 Apr 2015 05:41:02 GMT\n Running install for module 'GD'\n Running make for L/LD/LDS/GD-2.56.tar.gz\n Checksum for /home/junglab/.cpan/sources/authors/id/L/LD/LDS/GD-2.56.tar.gz ok\n\n CPAN.pm: Building L/LD/LDS/GD-2.56.tar.gz\n\n Configuring for libgd version 2.1.1-dev@.\nChecking for stray libgd header files...none found.\n\nUnknown option: installdirs\nUsage: perl Build.PL [options]\n\nConfigure GD module.\n\n Options:\n -options       \"JPEG,FT,PNG,GIF,XPM,ANIMGIF\"   feature options, separated by commas\n -lib_gd_path   path            path to libgd\n -lib_ft_path   path            path to Freetype library\n -lib_png_path  path            path to libpng\n -lib_jpeg_path path            path to libjpeg\n -lib_xpm_path  path            path to libxpm\n -lib_zlib_path path            path to libpng\n -ignore_missing_gd             Ignore missing or old libgd installations and try to compile anyway\n\nIf no options are passed on the command line.  The program will\nattempt to autoconfigure itself with the gdlib-config program (present\nin GD versions 2.0.27 or later).  Otherwise it will prompt for these\nvalues interactively.\n\nWarning: No success on command[/usr/bin/perl Build.PL --installdirs site]\n 'YAML' not installed, will not store persistent state\n  LDS/GD-2.56.tar.gz\n\n/usr/bin/perl Build.PL --installdirs site -- NOT OK\nRunning Build test\nMake had some problems, won't test\nRunning Build install\nMake had some problems, won't install\nCould not read metadata file. Falling back to other methods to determine prerequisites\n</code></pre>\n"}, {"tags": ["perl", "encryption", "gnupg"], "answers": [{"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 1, "last_activity_date": 1428671673, "last_edit_date": 1428671673, "creation_date": 1428670909, "answer_id": 29562164, "question_id": 29561281, "link": "https://stackoverflow.com/questions/29561281/decryption-with-gpg/29562164#29562164", "title": "Decryption with gpg", "body": "<p>You haven't shown us the way you quote that command in perl, but allow me guess that you haven't taken into account the fact that the backslash is both the Windows directory seperator and the Perl string escape.  You should be aware that <code>\"\\e\"</code>, the 3rd character in your --output &amp; --decrypt paths, is the character (ESC).  The sequences <code>\"\\m\"</code> and <code>\"\\s\"</code> interpolate to <code>'m'</code> and <code>'s'</code> respectively.</p>\n\n<p>Possible solutions include either delimiting the string with <code>q()</code>/single quotes or doubling up the backslashes in <code>qq()</code>/<code>qx()</code>/double quotes/back quotes.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4637091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eb99d0a82d1fdbee941b32f50e88bb2?s=128&d=identicon&r=PG", "display_name": "titan", "link": "https://stackoverflow.com/users/4637091/titan"}, "is_accepted": false, "score": 0, "last_activity_date": 1428803699, "creation_date": 1428803699, "answer_id": 29585117, "question_id": 29561281, "link": "https://stackoverflow.com/questions/29561281/decryption-with-gpg/29585117#29585117", "title": "Decryption with gpg", "body": "<p>The problem was  with pubkey ring. Apparently its stored for each user under their application data directory if you don't mention any home directory specifically at time of installation. If you execute from Command prompt it will directly take from the present user's applicatin data but from perl it wont check there.U have to specifically Configure GNUPGHOME to that folder (application data) then run the perl script.</p>\n"}], "owner": {"reputation": 1, "user_id": 4637091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eb99d0a82d1fdbee941b32f50e88bb2?s=128&d=identicon&r=PG", "display_name": "titan", "link": "https://stackoverflow.com/users/4637091/titan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1428803699, "creation_date": 1428668403, "last_edit_date": 1428669449, "question_id": 29561281, "link": "https://stackoverflow.com/questions/29561281/decryption-with-gpg", "title": "Decryption with gpg", "body": "<pre><code>gpg --output C:\\ecshome\\mboxes\\store\\20150410_030846_1_0001_6pik.msg.\nasc --passphrase abcd. --no-default-keyring  --decrypt C:\\ecshome\\mboxes\\store\\20150410_030846_1_0001_6pik.msg\n</code></pre>\n\n<p>When I try to decrypt an email message by using gpg from the command prompt, it works. But when I try to decrypt the same with a Perl script by using external command, it shows the \"Secret key not available\" error (On Windows).</p>\n"}, {"tags": ["perl", "bioperl"], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 1807188, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c7ee44e93251baa141d4c169ed31a3bd?s=128&d=identicon&r=PG", "display_name": "EpiMan", "link": "https://stackoverflow.com/users/1807188/epiman"}, "edited": false, "score": 0, "creation_date": 1428668527, "post_id": 29561167, "comment_id": 47272350, "body": "my $db = $db -&gt;index_file($fasta_index_file);  ??"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 809, "user_id": 1807188, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c7ee44e93251baa141d4c169ed31a3bd?s=128&d=identicon&r=PG", "display_name": "EpiMan", "link": "https://stackoverflow.com/users/1807188/epiman"}, "edited": false, "score": 0, "creation_date": 1428732056, "post_id": 29561167, "comment_id": 47298127, "body": "Quick examination of the <a href=\"http://search.cpan.org/dist/BioPerl/Bio/DB/Fasta.pm\" rel=\"nofollow noreferrer\">documentation</a> suggests using <code>tie</code> to connect to an existing database."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 1, "last_activity_date": 1428668031, "creation_date": 1428668031, "answer_id": 29561167, "question_id": 29561031, "link": "https://stackoverflow.com/questions/29561031/biodbfasta-cant-call-method-index-file-on-an-undefined-value-at-script-p/29561167#29561167", "title": "Bio::DB::Fasta, Can&#39;t call method &quot;index_file&quot; on an undefined value at script.pl line", "body": "<p>You are not defining <code>$db</code> anywhere in your second script.</p>\n\n<p>As is often the case, <code>use strict;</code> would have revealed this, and should be your first step in troubleshooting.</p>\n"}], "owner": {"reputation": 809, "user_id": 1807188, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c7ee44e93251baa141d4c169ed31a3bd?s=128&d=identicon&r=PG", "display_name": "EpiMan", "link": "https://stackoverflow.com/users/1807188/epiman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428668767, "creation_date": 1428667667, "last_edit_date": 1428668767, "question_id": 29561031, "link": "https://stackoverflow.com/questions/29561031/biodbfasta-cant-call-method-index-file-on-an-undefined-value-at-script-p", "title": "Bio::DB::Fasta, Can&#39;t call method &quot;index_file&quot; on an undefined value at script.pl line", "body": "<p>I would like to reload a pre-index file in perl which has been previously indexed as following:</p>\n\n<pre><code>./first_script.pl hg19.fa\n\nuse Bio::DB::Fasta;\n\nmy $db = Bio::DB::Fasta-&gt;new($file_fasta);\n\n...\n</code></pre>\n\n<p>in an another script I would like to re-load the existing indexed file.</p>\n\n<p>./script.pl hg19.fa.index input</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Bio::DB::Fasta;\n\nmy $fasta_index_file = $ARGV[0];\nmy $input_file = $ARGV[1];\n\nopen(FH,\"&lt;$input_file\");\n\nmy $db-&gt;index_file($fasta_index_file);\n</code></pre>\n\n<p>in the description it syas</p>\n\n<pre><code> Title   : index_file\nUsage   : $db-&gt;index_file($filename)\nFunction: (re)loads a sequence file and indexes sequences offsets in the file\nReturns : seq offsets in the file\nArgs    : filename,\n           boolean to force reloading a file\n</code></pre>\n\n<p>but it returns the following error:</p>\n\n<pre><code>Can't call method \"index_file\" on an undefined value at script.pl line\n</code></pre>\n\n<p>in the second script if I use again:</p>\n\n<pre><code>my $db = Bio::DB::Fasta-&gt;new($file_fasta);\n</code></pre>\n\n<p>it immediately goes to the next step! Does it mean that it already realized it exists? </p>\n"}]