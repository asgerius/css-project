[{"tags": ["regex", "perl", "expression"], "comments": [{"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 1, "creation_date": 1429739432, "post_id": 29809435, "comment_id": 47747132, "body": "You need to escape the forward slash (<code>&#47;</code>) you want to match with a backslash (<code>\\ </code>) since you are using forward slashes (<code>&#47;</code>) as separators. Also you might want to use <code>.+?</code> instead of <code>.+</code> to do non-greedy matching. Also, its generally not best to parse HTML with regular expressions, and it is better to use a regular expression parser."}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1429739445, "post_id": 29809435, "comment_id": 47747136, "body": "Replacing <code>&#47;</code> by <code>\\&#47;</code> should work. Says <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>."}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1429739707, "post_id": 29809435, "comment_id": 47747255, "body": "Please update your answer with an example that fails."}], "answers": [{"tags": [], "owner": {"reputation": 1566, "user_id": 734153, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7bc982ab1911dd199a7987626cd9dd2?s=128&d=identicon&r=PG", "display_name": "kshenoy", "link": "https://stackoverflow.com/users/734153/kshenoy"}, "is_accepted": false, "score": 1, "last_activity_date": 1429752534, "last_edit_date": 1429752534, "creation_date": 1429739428, "answer_id": 29809536, "question_id": 29809435, "link": "https://stackoverflow.com/questions/29809435/perl-regex-substitute-paragraph-tag/29809536#29809536", "title": "Perl Regex Substitute paragraph tag", "body": "<p>Try this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>s#(?=&lt;/p&gt;)#&lt;br&gt;&lt;br&gt;#\n</code></pre>\n\n<p>Whenever dealing with a <code>/</code>, I like to use another separator. Here I'm using <code>#</code>.</p>\n\n<p>Since, you just want to append <code>&lt;br&gt;&lt;br&gt;</code> and not touch anything else in <code>&lt;p&gt;..&lt;/p&gt;</code>, we can use a lookahead anchor. That is what <code>(?=...)</code> does. It looks for a point after which there is a <code>&lt;/p&gt;</code> and substitutes it with the replacement string.</p>\n\n<p>Note that look-around expressions are zero-width i.e. they do not match any char.</p>\n"}, {"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 0, "last_activity_date": 1429740110, "last_edit_date": 1429740110, "creation_date": 1429739633, "answer_id": 29809592, "question_id": 29809435, "link": "https://stackoverflow.com/questions/29809435/perl-regex-substitute-paragraph-tag/29809592#29809592", "title": "Perl Regex Substitute paragraph tag", "body": "<p>You can use this version of your regex:</p>\n\n<pre><code>s/&lt;p&gt;(.+?)&lt;\\/p&gt;/\\1&lt;br&gt;&lt;br&gt;/si\n</code></pre>\n\n<p>I removed string start anchor <code>^</code>, it is highly possible you do not need it. <code>.+?</code> will make sure you will match the closest matching <code>&lt;/p&gt;</code>. The <code>si</code> options will enable case-insensitive matching, and <code>.</code> will also match newline symbols.</p>\n"}], "owner": {"reputation": 11, "user_id": 4821538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb6f24974873f35a92a8495b8ff86c3b?s=128&d=identicon&r=PG&f=1", "display_name": "jayyys", "link": "https://stackoverflow.com/users/4821538/jayyys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1429752534, "creation_date": 1429739053, "last_edit_date": 1429739592, "question_id": 29809435, "link": "https://stackoverflow.com/questions/29809435/perl-regex-substitute-paragraph-tag", "title": "Perl Regex Substitute paragraph tag", "body": "<p>I am trying to use a regex to replace contents inside of paragragh tags with contents followed by br br tags</p>\n\n<pre><code> s/^[&lt;]p[&gt;](.+)[&lt;][/]p[&gt;]/\\1[&lt;]br[&gt;][&lt;]br[&gt;]/\n</code></pre>\n\n<p>I am getting error Unmatched [ in regex marked by &lt;---HERE m/^[&lt;]p>[&lt;][</p>\n\n<p>I tried changing [/] to backslash/ but im not really sure how to go about this. Thank you =]</p>\n\n<p>I actually got it was </p>\n\n<pre><code>s/^&lt;p&gt;(.+)&lt;\\/p&gt;/\\1&lt;br&gt;&lt;br&gt;/;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1429732723, "post_id": 29806085, "comment_id": 47743296, "body": "That&#39;s a lot of backslashes.  You might want to look into alternative string delimiters in <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">perldoc perlop</a> -- e.g., <code>qq{&lt;label for=&quot;foo&quot;&gt;$stuff&lt;&#47;label&gt;}</code> or even a here-doc."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1429733507, "post_id": 29806085, "comment_id": 47743813, "body": "This really hardly has anything to do with perl, and yet isn&#39;t even tagged with html?"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4820935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7eSMaqm7qWs/AAAAAAAAAAI/AAAAAAAAAQ4/8WqGgR5q9FM/photo.jpg?sz=128", "display_name": "iEddiez", "link": "https://stackoverflow.com/users/4820935/ieddiez"}, "edited": false, "score": 1, "creation_date": 1429730557, "post_id": 29806174, "comment_id": 47741915, "body": "That brings the label on top of each text box! ill have a look into it some more. thanks alot!"}], "tags": [], "owner": {"reputation": 2405, "user_id": 3761982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/u8soe.png?s=128&g=1", "display_name": "CrApHeR", "link": "https://stackoverflow.com/users/3761982/crapher"}, "is_accepted": true, "score": 1, "last_activity_date": 1429727851, "creation_date": 1429727851, "answer_id": 29806174, "question_id": 29806085, "link": "https://stackoverflow.com/questions/29806085/perl-script-writes-labels-on-several-lines/29806174#29806174", "title": "Perl Script Writes Labels on Several Lines", "body": "<p>Try adding <code>&lt;br&gt;</code> after each line your want in a new line, something like this</p>\n\n<pre><code>print \"&lt;div id=\\\"form\\\"&gt;\\n\";\nprint \"&lt;form name=\\\"confirm\\\" method=post ACTION=\\\"\\\"&gt;\\n\";\n\nprint\"&lt;label for=\\\"name\\\"&gt;Name:&lt;/label&gt;&lt;br&gt;\\n\";\nprint \"&lt;input type=\\\"text\\\" name=\\\"name\\\" class='forminput' id='name' value=\\\"$name\\\"&gt;&lt;br&gt;\\n\";\n\nprint\"&lt;label for=\\\"amount\\\"&gt;\u00a3:&lt;/label&gt;&lt;br&gt;\\n\";\nprint \"&lt;input type=\\\"text\\\" name=\\\"amount\\\" class='forminput' id='amount' value=\\\"$amount\\\"&gt;&lt;br&gt;\\n\";\n\nprint\"&lt;label for=\\\"comment\\\"&gt;Comment:&lt;/label&gt;&lt;br&gt;\\n\";\nprint \"&lt;input type=\\\"text\\\" name=\\\"comment\\\" class='forminput' id='comment' value=\\\"$comment\\\"&gt;&lt;br&gt;\\n\";\n\nprint \"&lt;/form&gt;\\n\";\n</code></pre>\n\n<p>Hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4827329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03da1ffd945c65ae954270122996dd28?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/4827329/rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1429858956, "creation_date": 1429858956, "answer_id": 29840785, "question_id": 29806085, "link": "https://stackoverflow.com/questions/29806085/perl-script-writes-labels-on-several-lines/29840785#29840785", "title": "Perl Script Writes Labels on Several Lines", "body": "<p>This seems more of an HTML &amp; CSS question, but this would work:</p>\n\n<pre><code>print qq{\n&lt;div id=\"form\"&gt;\n&lt;form name=\"confirm\" method=post ACTION=\"\"&gt;\n&lt;p&gt;&lt;label for=\"name\"&gt;Name:&lt;/label&gt;\n&lt;input type=\"text\" name=\"name\" class='forminput' id='name' value=\"$name\"&gt;&lt;/p&gt;\n&lt;p&gt;&lt;label for=\"amount\"&gt;\u00a3:&lt;/label&gt;\n&lt;input type=\"text\" name=\"amount\" class='forminput' id='amount' value=\"$amount\"&gt;&lt;/p&gt;\n&lt;p&gt;&lt;label for=\"comment\"&gt;Comment:&lt;/label&gt;\n&lt;input type=\"text\" name=\"comment\" class='forminput' id='comment' value=\"$comment\"&gt;&lt;/p&gt;\n&lt;/form&gt;\n};\n</code></pre>\n\n<p>You could use some CSS to style it a bit more, and here's a guide on that:</p>\n\n<p><a href=\"http://www.htmlgoodies.com/tutorials/forms/article.php/3888746/HTML-Forms-From-Basics-to-Style-Layouts.htm\" rel=\"nofollow\">http://www.htmlgoodies.com/tutorials/forms/article.php/3888746/HTML-Forms-From-Basics-to-Style-Layouts.htm</a></p>\n"}], "owner": {"reputation": 5, "user_id": 4820935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7eSMaqm7qWs/AAAAAAAAAAI/AAAAAAAAAQ4/8WqGgR5q9FM/photo.jpg?sz=128", "display_name": "iEddiez", "link": "https://stackoverflow.com/users/4820935/ieddiez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 29806174, "answer_count": 2, "score": 0, "last_activity_date": 1429858956, "creation_date": 1429727551, "question_id": 29806085, "link": "https://stackoverflow.com/questions/29806085/perl-script-writes-labels-on-several-lines", "title": "Perl Script Writes Labels on Several Lines", "body": "<p>So my code is this</p>\n\n<pre><code>print \"&lt;div id=\\\"form\\\"&gt;\\n\";\nprint \"&lt;form name=\\\"confirm\\\" method=post ACTION=\\\"\\\"&gt;\\n\";\n\nprint\"&lt;label for=\\\"name\\\"&gt;Name:&lt;/label&gt;\\n\";\nprint \"&lt;input type=\\\"text\\\" name=\\\"name\\\" class='forminput' id='name' value=\\\"$name\\\"&gt;\\n\";\n\nprint\"&lt;label for=\\\"amount\\\"&gt;\u00a3:&lt;/label&gt;\\n\";\nprint \"&lt;input type=\\\"text\\\" name=\\\"amount\\\" class='forminput' id='amount' value=\\\"$amount\\\"&gt;\\n\";\n\nprint\"&lt;label for=\\\"comment\\\"&gt;Comment:&lt;/label&gt;\\n\";\nprint \"&lt;input type=\\\"text\\\" name=\\\"comment\\\" class='forminput' id='comment' value=\\\"$comment\\\"&gt;\\n\";\n\n\nprint \"&lt;/form&gt;\\n\";\n</code></pre>\n\n<p>The output is as follows <br>\nName: [TextBox] \u00a3:<br>\n[TextBox] Comment:<br>\n[TextBox] </p>\n\n<p>Is it possible to write the perl to write the labels infront of the right text boxes?</p>\n"}, {"tags": ["json", "perl", "mongodb"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429722917, "post_id": 29804404, "comment_id": 47736905, "body": "Re &quot;JSON that gets inserted to MongoDB&quot;, That&#39;s not <a href=\"http://json.org/\" rel=\"nofollow noreferrer\">JSON</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429722973, "post_id": 29804404, "comment_id": 47736942, "body": "Re &quot;Is there any way I can retain the original type for these values?&quot;, I&#39;m not sure what it is you&#39;re asking. I think you want to change what gets inserted into the database. If so, what exactly do you want inserted for your example?"}, {"owner": {"reputation": 271, "user_id": 2317698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a7ef19c1d9d2ad76b8e409ff731afe5e?s=128&d=identicon&r=PG", "display_name": "Code Geass", "link": "https://stackoverflow.com/users/2317698/code-geass"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429730270, "post_id": 29804404, "comment_id": 47741715, "body": "e.g. Referring to my sample JSON, I want value of <code>show_image</code> to be inserted as <code>false</code> instead of <code>BinData(0,&quot;MA==&quot;)</code> and <code>publish_date</code> to be inserted as <code>1136091600</code> instead of <code>NumberLong(1136091600)</code>."}, {"owner": {"reputation": 271, "user_id": 2317698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a7ef19c1d9d2ad76b8e409ff731afe5e?s=128&d=identicon&r=PG", "display_name": "Code Geass", "link": "https://stackoverflow.com/users/2317698/code-geass"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429731725, "post_id": 29804404, "comment_id": 47742682, "body": "Thanks for fixing my question @ikegami. If I don&#39;t decode the JSON, I get the exception <code>not a reference at &#47;Library&#47;Perl&#47;5.18&#47;darwin-thread-multi-2level&#47;MongoDB&#47;Collec&zwnj;&#8203;tion.pm line 235</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429731963, "post_id": 29804404, "comment_id": 47742820, "body": "So that method can&#39;t be used to insert JSON, then. Why do you say you want JSON? Or why do you pass JSON to a method that doesn&#39;t accept JSON? You&#39;re not making sense."}, {"owner": {"reputation": 271, "user_id": 2317698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a7ef19c1d9d2ad76b8e409ff731afe5e?s=128&d=identicon&r=PG", "display_name": "Code Geass", "link": "https://stackoverflow.com/users/2317698/code-geass"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429733398, "post_id": 29804404, "comment_id": 47743750, "body": "I couldn&#39;t insert it as it is. Hence I decode it in an attempt to insert it and ran into issues I mentioned in my original question. Now I am looking for a solution so that I can insert it successfully, using the same approach or a different approach. Makes sense?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429733974, "post_id": 29804404, "comment_id": 47744056, "body": "Nope. What&#39;s &quot;it&quot;, what&#39;s &quot;it&quot;, and what&#39;s &quot;it&quot;? Your comment is just as unclear as the question you have yet to edit."}], "answers": [{"comments": [{"owner": {"reputation": 271, "user_id": 2317698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a7ef19c1d9d2ad76b8e409ff731afe5e?s=128&d=identicon&r=PG", "display_name": "Code Geass", "link": "https://stackoverflow.com/users/2317698/code-geass"}, "edited": false, "score": 0, "creation_date": 1429730297, "post_id": 29805203, "comment_id": 47741739, "body": "e.g. Referring to my sample JSON, I want value of <code>show_image</code> to be inserted as <code>false</code> instead of <code>BinData(0,&quot;MA==&quot;)</code> and <code>publish_date</code> to be inserted as <code>1136091600</code> instead of <code>NumberLong(1136091600)</code>. I don&#39;t think this is MongoDB converting since when I insert the same JSON directly by doing a mongoimport, everything is good. i.e.  value of <code>show_image</code> is <code>false</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429724672, "creation_date": 1429724672, "answer_id": 29805203, "question_id": 29804404, "link": "https://stackoverflow.com/questions/29804404/json-decoding-in-perl-maintaining-the-original-data-type/29805203#29805203", "title": "JSON decoding in PERL - Maintaining the original data type", "body": "<p>JSON data contains only (double-precision) numbers, strings, and the special values <em>true</em>, <em>false</em>, and <em>null</em>. They can be arranged in arrays or \"objects\" (hashes).</p>\n\n<p>The <code>MongoDB</code> engine is converting these basic types into something more complex, but the original values are available in the hash referred to by <code>$record_decoded</code>, like so</p>\n\n<pre><code>$record_decoded-&gt;{_id}\n$record_decoded-&gt;{show_image}\n$record_decoded-&gt;{event}\n$record_decoded-&gt;{publish_date}\n$record_decoded-&gt;{data_version}\n</code></pre>\n\n<p>Is that what you wanted?</p>\n"}, {"tags": [], "owner": {"reputation": 2246, "user_id": 830741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0685bc4f9d869526098968f72812ab75?s=128&d=identicon&r=PG", "display_name": "frezik", "link": "https://stackoverflow.com/users/830741/frezik"}, "is_accepted": false, "score": 0, "last_activity_date": 1429727500, "creation_date": 1429727500, "answer_id": 29806072, "question_id": 29804404, "link": "https://stackoverflow.com/questions/29804404/json-decoding-in-perl-maintaining-the-original-data-type/29806072#29806072", "title": "JSON decoding in PERL - Maintaining the original data type", "body": "<p>The <a href=\"http://search.cpan.org/~mlehmann/JSON-XS-3.01/XS.pm#OBJECT_SERIALISATION\" rel=\"nofollow\">object serialization</a> documentation (particularly <code>allow_tags</code>) in JSON::XS may do something like what you want. Note, though, that this is not a standard JSON feature and will only work with JSON::XS.</p>\n"}, {"comments": [{"owner": {"reputation": 271, "user_id": 2317698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a7ef19c1d9d2ad76b8e409ff731afe5e?s=128&d=identicon&r=PG", "display_name": "Code Geass", "link": "https://stackoverflow.com/users/2317698/code-geass"}, "edited": false, "score": 0, "creation_date": 1429889905, "post_id": 29823198, "comment_id": 47829362, "body": "Yes this works for me. Thanks so much for the detailed and awesome explanation. The NumberLong makes sense, I can live with that. But the boolean was really bothering me. I need to load millions of archive records and don&#39;t want to take any risk. Much appreciated!"}], "tags": [], "owner": {"reputation": 57591, "user_id": 1388319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258babf29502a002296bc415851e2395?s=128&d=identicon&r=PG", "display_name": "Stennie", "link": "https://stackoverflow.com/users/1388319/stennie"}, "is_accepted": true, "score": 3, "last_activity_date": 1429791382, "creation_date": 1429791382, "answer_id": 29823198, "question_id": 29804404, "link": "https://stackoverflow.com/questions/29804404/json-decoding-in-perl-maintaining-the-original-data-type/29823198#29823198", "title": "JSON decoding in PERL - Maintaining the original data type", "body": "<blockquote>\n  <p>I am providing the custom _id for the documents, which I want to get converted to NumberLong type. That is working as expected as you can see from the JSON above. But notice how other non-string values for show_image, publish_date and data_version got converted to it's object representation.</p>\n</blockquote>\n\n<p>From your example all of the data types are actually matching aside from the boolean value for <code>show_image</code> which is currently being converted to binary data.</p>\n\n<p>It is expected that numeric types are displayed as <code>NumberLong</code> or <code>NumberInt</code> when queried from the <code>mongo</code> shell. The <code>mongo</code> shell uses JavaScript, which only has a <a href=\"http://www.w3schools.com/js/js_numbers.asp\" rel=\"nofollow\">single numeric type</a> of <code>Number</code> (64-bit floating point). Shell helpers like <code>NumberLong()</code> and <code>NumberInt()</code> are used to represent values in MongoDB's <a href=\"http://docs.mongodb.org/manual/reference/bson-types/\" rel=\"nofollow\">BSON data types</a> that do not have a native JavaScript equivalent.</p>\n\n<blockquote>\n  <p>Referring to my sample JSON, I want value of show_image to be inserted as false instead of BinData(0,\"MA==\") and publish_date to be inserted as 1136091600 instead of NumberLong(1136091600)</p>\n</blockquote>\n\n<p>While it's OK to insert <code>publish_date</code> as a Unixtime if that suits your use case, you may find it more useful to use MongoDB's <a href=\"http://docs.mongodb.org/manual/core/shell-types/#date\" rel=\"nofollow\"><code>Date</code> type</a> instead. There are convenience methods for querying dates including <a href=\"http://docs.mongodb.org/manual/reference/operator/aggregation-date/\" rel=\"nofollow\">Date Aggregation Operators</a>. FYI, date fields will be displayed in the <code>mongo</code> shell with an <code>ISODate()</code> wrapper.</p>\n\n<p>The boolean value for <code>show_image</code> definitely needs an assist, though.</p>\n\n<p>If you use <code>Data::Dumper</code> to inspect the result from <code>decode_json()</code>, you will see that the <code>show_image</code> field is a blessed object:</p>\n\n<pre><code>'show_image' =&gt; bless( do{\\(my $o = 0)}, 'JSON::PP::Boolean' )\n</code></pre>\n\n<p>In order to get the expected <code>boolean</code> value in MongoDB, the recommended approach in the MongoDB module docs is to use the <code>boolean</code> module (see: <a href=\"https://metacpan.org/pod/distribution/MongoDB/lib/MongoDB/DataTypes.pod#Booleans\" rel=\"nofollow\">MongoDB::DataTypes</a>).</p>\n\n<p>I couldn't find an obvious built-in option for JSON or JSON::XS to support serialising booleans to something other than the JSON emulated boolean class, but one solution would be to use the <code>Data::Clean::Base</code> module which is part of the <a href=\"https://metacpan.org/release/Data-Clean-JSON\" rel=\"nofollow\"><code>Data::Clean::JSON</code></a> distribution.</p>\n\n<p>Sample snippet (excluding the MongoDB set up):</p>\n\n<pre><code>use Data::Clean::Base;\nuse boolean;\n\nmy $cleanser = Data::Clean::Base-&gt;new(\n    'JSON::XS::Boolean' =&gt; ['call_func', 'boolean::boolean'],\n    'JSON::PP::Boolean' =&gt; ['call_func', 'boolean::boolean']\n);\n\nwhile (my $record = &lt;$source_file&gt;) {\n    my $record_decoded = decode_json($record);\n    $cleanser-&gt;clean_in_place($record_decoded);\n    $db_collection-&gt;insert($record_decoded);\n}\n</code></pre>\n\n<p>Sample record as saved in MongoDB 3.0.2:</p>\n\n<pre><code>{\n  \"_id\": NumberLong(\"2006010100000801089\"),\n  \"event\": \"publish\",\n  \"data_version\": NumberLong(\"1\"),\n  \"show_image\": false,\n  \"publish_date\": NumberLong(\"1136091600\")\n}\n</code></pre>\n"}], "owner": {"reputation": 271, "user_id": 2317698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a7ef19c1d9d2ad76b8e409ff731afe5e?s=128&d=identicon&r=PG", "display_name": "Code Geass", "link": "https://stackoverflow.com/users/2317698/code-geass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 29823198, "answer_count": 3, "score": 1, "last_activity_date": 1429791382, "creation_date": 1429722373, "last_edit_date": 1429731977, "question_id": 29804404, "link": "https://stackoverflow.com/questions/29804404/json-decoding-in-perl-maintaining-the-original-data-type", "title": "JSON decoding in PERL - Maintaining the original data type", "body": "<p>I am writing a simple perl script to read JSON from a file and insert into MongoDB. But I am facing issues with json decoding.\nAll non-string values in my original json are getting converted to object type after <code>decode_json</code>.</p>\n\n<p>Input JSON(only part of it since it's original is huge) - </p>\n\n<pre><code>{\n   \"_id\": 2006010100000801089, \n   \"show_image\" : false,\n   \"event\" : \"publish\",\n   \"publish_date\" :1136091600,\n   \"data_version\" : 1\n}\n</code></pre>\n\n<p>JSON that gets inserted to MongoDB -  </p>\n\n<pre><code>{\n   \"_id\": NumberLong(\"2006010100000801089\"), \n   \"show_image\" : BinData(0,\"MA==\"),\n   \"event\" : \"publish\",\n   \"publish_date\" :NumberLong(1136091600),\n   \"data_version\" : NumberLong(1)\n}\n</code></pre>\n\n<p>I am providing the custom <code>_id</code> for the documents, which I want to get converted to <code>NumberLong</code> type. That is working as expected as you can see from the JSON above. But notice how other non-string values for <code>show_image</code>, <code>publish_date</code> and <code>data_version</code> got converted to it's object representation.<br>\nIs there any way I can retain the original type for these values?</p>\n\n<p>Perl code snipper that does the insert - </p>\n\n<pre><code>use MongoDB;\nuse MongoDB::OID;\nuse JSON;\nuse JSON::XS\nwhile(my $record = &lt;$source_file&gt;) {\n  my $record_decoded = decode_json($record);\n  $db_collection-&gt;insert($record_decoded);\n}\n</code></pre>\n\n<p>Perl version used v5.18.2.</p>\n\n<p>I looked up <a href=\"http://search.cpan.org/~mlehmann/JSON-XS-3.01/XS.pm\" rel=\"nofollow\">JSON::XS docs</a> but couldn't find a way to do this. Any help is appreciated. Thanks in advance!</p>\n\n<p>I am very new to perl. Sorry if this is a trivial question.</p>\n"}, {"tags": ["perl", "out-of-memory"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1429722148, "post_id": 29804049, "comment_id": 47736385, "body": "How much memory does your system have? If you&#39;re really tight on memory you&#39;ll have to fetch your results in chunks instead of wholesale."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1429722176, "post_id": 29804049, "comment_id": 47736408, "body": "You are using Perl 4 standards that are around twenty years old. Please add <code>use strict</code> and <code>use warnings</code> to the top of your program and remove the ampersand <code>&amp;</code> from all subroutine calls."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429722451, "post_id": 29804049, "comment_id": 47736579, "body": "What is <code>$pk_string</code>? And <code>execsql</code>?"}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1429722496, "post_id": 29804049, "comment_id": 47736603, "body": "Do you need previous query result in <code>%taccttree_ms_cache</code> hash before second call? If not, you may want to <code>undef %taccttree_ms_cache</code> at the start of the subroutine."}, {"owner": {"reputation": 1, "user_id": 4266929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eca31b2df3e858f022bccf11883920d?s=128&d=identicon&r=PG&f=1", "display_name": "Meera", "link": "https://stackoverflow.com/users/4266929/meera"}, "edited": false, "score": 0, "creation_date": 1429722555, "post_id": 29804049, "comment_id": 47736660, "body": "This is not written by me, am just maintaining the code. execsql is to execute the sql stored in $SQL."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1429722575, "post_id": 29804049, "comment_id": 47736673, "body": "@tivn: No. It is probably best to leave Perl to look after its own memory, so <code>%taccttree_ms_cache = ()</code> is preferable to <code>undef %taccttree_ms_cache</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429722632, "post_id": 29804049, "comment_id": 47736717, "body": "@Meera: I&#39;m trying to find the problem for you, not looking to assign blame. Please show <code>execsql</code>"}, {"owner": {"reputation": 1, "user_id": 4266929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eca31b2df3e858f022bccf11883920d?s=128&d=identicon&r=PG&f=1", "display_name": "Meera", "link": "https://stackoverflow.com/users/4266929/meera"}, "edited": false, "score": 0, "creation_date": 1429736415, "post_id": 29804049, "comment_id": 47745566, "body": "Just before this sub is being called, there is a %taccttree_ms_cache = ();"}, {"owner": {"reputation": 1, "user_id": 4266929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eca31b2df3e858f022bccf11883920d?s=128&d=identicon&r=PG&f=1", "display_name": "Meera", "link": "https://stackoverflow.com/users/4266929/meera"}, "edited": false, "score": 0, "creation_date": 1429736533, "post_id": 29804049, "comment_id": 47745625, "body": "$pk_string is the primary key that is being fetched from the table. I still did not get what do you mean by show execsql.. I thought it is used to execute the sql stmt"}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1429738075, "post_id": 29804049, "comment_id": 47746460, "body": "@Meera I think he wants you to post the actual source code for <code>execsql()</code>. It isn&#39;t built in to Perl so we don&#39;t know what it is doing."}, {"owner": {"reputation": 1, "user_id": 4266929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eca31b2df3e858f022bccf11883920d?s=128&d=identicon&r=PG&f=1", "display_name": "Meera", "link": "https://stackoverflow.com/users/4266929/meera"}, "edited": false, "score": 0, "creation_date": 1429738280, "post_id": 29804049, "comment_id": 47746564, "body": "oh, i got it now, here you go,sub execsql {         my ($MYDBP, $MYSQL) = @_;         $MYDBP-&gt;dbcmd($MYSQL) || die &quot;Error in dbcmd - $MYSQL&quot;;         $MYDBP-&gt;dbsqlexec() || die &quot;Error in dbexec - $MYSQL&quot;;   $MYDBP-&gt;dbresults() || die &quot;Error in dbresults - $MYSQL&quot;;; }"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4266929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eca31b2df3e858f022bccf11883920d?s=128&d=identicon&r=PG&f=1", "display_name": "Meera", "link": "https://stackoverflow.com/users/4266929/meera"}, "edited": false, "score": 0, "creation_date": 1429797585, "post_id": 29811982, "comment_id": 47777776, "body": "Will try this suggestion and let you know if it works."}], "tags": [], "owner": {"reputation": 215, "user_id": 4802804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhIX.jpg?s=128&g=1", "display_name": "Ralph Marshall", "link": "https://stackoverflow.com/users/4802804/ralph-marshall"}, "is_accepted": false, "score": 1, "last_activity_date": 1429752544, "creation_date": 1429752544, "answer_id": 29811982, "question_id": 29804049, "link": "https://stackoverflow.com/questions/29804049/out-of-memory-in-perl-program/29811982#29811982", "title": "Out of memory! in Perl program", "body": "<p>It's a little hard to tell from your example since you are either using global variables or just using them without declaring them; the previous comment about use strict; etc. is a good one.</p>\n\n<p>My thought is that the $dbp variable (which seems to contain all of the results, based on the body of execsql) is consuming space after each call, and you don't have enough free space when the second call comes around. I suggest making dbp a my variable in this function and clearing it out before you exit the function.</p>\n"}], "owner": {"reputation": 1, "user_id": 4266929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eca31b2df3e858f022bccf11883920d?s=128&d=identicon&r=PG&f=1", "display_name": "Meera", "link": "https://stackoverflow.com/users/4266929/meera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429752544, "creation_date": 1429721350, "last_edit_date": 1429722173, "question_id": 29804049, "link": "https://stackoverflow.com/questions/29804049/out-of-memory-in-perl-program", "title": "Out of memory! in Perl program", "body": "<pre><code>sub fetch_ms_table {\n\n  $ms_initial_cnt = 0;\n  $logger-&gt;info(\"begin fetching TACCTTREE_MS\");\n\n  $SQL = \"select $pk_string,LINK_C,LENGTH_Q,PATHS_Q from TACCTTREE_MS tree1 where OUT_Z&gt;\\\"$process_time\\\"\";\n\n  &amp;execsql($dbp, $SQL);\n  $cnt  = 0;\n  $cnt1 = 0;\n\n  #load the MILESTONE table data\n  while (@data = $dbp-&gt;dbnextrow()) {\n    $data[0] =~ s/\\s+//g;\n    $taccttree_ms_cache{ $data[0] }{status}   = \"d\";    #default the record as deleted.\n    $taccttree_ms_cache{ $data[0] }{pk}       = $data[0];\n    $taccttree_ms_cache{ $data[0] }{LINK_C}   = $data[1];\n    $taccttree_ms_cache{ $data[0] }{LENGTH_Q} = $data[2];\n    $taccttree_ms_cache{ $data[0] }{PATHS_Q}  = $data[3];\n    $ms_initial_cnt++;\n  }\n\n  $logger-&gt;info(\"end fetching taccttree_MS - fetched $ms_initial_cnt rows\");\n}\n</code></pre>\n\n<p>The above function fails giving the below log,</p>\n\n<pre><code>INFO&gt; main::fetch_ms_table begin fetching TACCTTREE_MS \nFailed for 'Milestone TACCTTREE table'\n\nStd Err \nOut of memory! \n</code></pre>\n\n<p>The SQL returns around 5,050,402 rows. The same subroutine is called twice from the main program. The first time it goes through fine and the second time it fails for out of memory</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 8, "creation_date": 1429719430, "post_id": 29803058, "comment_id": 47734582, "body": "What&#39;s the logic behind your sort requirements?"}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1429720226, "post_id": 29803058, "comment_id": 47735110, "body": "i don&#39;t really know how to describe this but if  there is a value like 1 2 3 4 4 2 5 3 6 i want to sort this like 4 5 6 (&lt;&lt;incomplete pattern first)1 2 3 4 5 6(&lt;&lt;complete pattern) so it would be like this 3 4 5 1 2 3 4 5 6"}], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429720867, "post_id": 29803844, "comment_id": 47735529, "body": "is it possible to format the output to &quot;30 40 50 60 10 20 30 40 50 60 10 20 30 40 50 60 70&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 3, "creation_date": 1429720962, "post_id": 29803844, "comment_id": 47735590, "body": "@WESTKINz: Yes. Yes it is. How determined are you to do this without any effort of your own?"}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429721118, "post_id": 29803844, "comment_id": 47735682, "body": "I&#39;m reading books about Perl and wish i was cleaver like you but this is my first month trying Perl and I&#39;m just experimenting with my thoughts :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429721150, "post_id": 29803844, "comment_id": 47735700, "body": "@WESTKINz: Then you have started at the wrong place"}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429722508, "post_id": 29803844, "comment_id": 47736616, "body": "btw there an error where its says this &quot;any&quot; is not exported by the List::Util module and yes i am working toward output formatting"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1429720949, "last_edit_date": 1429720949, "creation_date": 1429720705, "answer_id": 29803844, "question_id": 29803058, "link": "https://stackoverflow.com/questions/29803058/perl-trying-to-use-sort-method/29803844#29803844", "title": "Perl - Trying to use sort method", "body": "<p>The best sense I can make of your question is that you want a hierarchy of lists \u2014 each containing all the duplicates from the next list in the sequence. But there are three occurrences of <code>60</code> in the input and only two in the output.</p>\n\n<p>This solution works by pushing each value onto the first element of <code>@groups</code> that doesn't already contain that value. Once all the items are placed, the array is reversed and each sub-array is sorted in numerical order</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util 'any';\n\nmy $var = \"10 60 20 70 30 60 30 50 50 40 40 30 40 20 50 10 60\";\n\nmy @var = split ' ', $var;\n\nmy @groups;\n\nfor my $item ( @var ) {\n  my $i = 0;\n  ++$i while any { $item == $_ } @{ $groups[$i] };\n  push @{ $groups[$i] }, $item;\n}\n\n@groups = map [ sort { $a &lt;=&gt; $b } @$_ ], reverse @groups;\n\nuse Data::Dump;\ndd \\@groups;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[\n  [30, 40, 50, 60],\n  [10, 20, 30, 40, 50, 60],\n  [10, 20, 30, 40, 50, 60, 70],\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3770, "user_id": 4731679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66a9b39bb57049590b4ba59423630ef6?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Doolittle", "link": "https://stackoverflow.com/users/4731679/edward-doolittle"}, "is_accepted": false, "score": 0, "last_activity_date": 1429720763, "creation_date": 1429720763, "answer_id": 29803858, "question_id": 29803058, "link": "https://stackoverflow.com/questions/29803058/perl-trying-to-use-sort-method/29803858#29803858", "title": "Perl - Trying to use sort method", "body": "<p>Maybe you want to put equal values in bins and sort the bins.</p>\n\n<pre><code>1 1\n2 2\n3 3\n4\n5\n6\n</code></pre>\n\n<p>Then you read the answer down column, from rightmost column to leftmost column. Try some more examples and let us know.</p>\n"}], "owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 29803844, "answer_count": 2, "score": -2, "last_activity_date": 1429720949, "creation_date": 1429718552, "last_edit_date": 1429719860, "question_id": 29803058, "link": "https://stackoverflow.com/questions/29803058/perl-trying-to-use-sort-method", "title": "Perl - Trying to use sort method", "body": "<p>I don't know the exact word but this is what I'm trying to achieve in Perl.</p>\n\n<p>I have a variable named <code>$var</code></p>\n\n<pre><code>my $var = \"10 60 20 70 30 60 30 50 50 40 40 30 40 20 50 10 60\";\n</code></pre>\n\n<p>This is a dynamic value. At the moment I predefined it just to make it easy to understand.</p>\n\n<p>then I split <code>$var</code> </p>\n\n<pre><code>my $var1 (split //, $var);\n</code></pre>\n\n<p>and from this point I dont know what im talking about.</p>\n\n<p>I want to sort <code>$var1</code> like this</p>\n\n<pre><code>30 40 50 10 20 30 40 50 60 10 20 30 40 50 60 70\n</code></pre>\n\n<p>Is there a way to achieve this result?</p>\n\n<p>I tried researching sort but none of the results I found covered this issue. Normally if I used their method I would get 10 20 30... and so on.</p>\n"}, {"tags": ["excel", "perl", "cgi"], "comments": [{"owner": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "edited": false, "score": 1, "creation_date": 1429745565, "post_id": 29803008, "comment_id": 47749564, "body": "What have you tried already?  All you&#39;ve shown is a sample of the HTML table, not the code you tried to generate/download the excel file.   The basic flow would be     1:  Gather the data 2:  Generate the excel file 3:  Send the headers for an excel file 4:  Send the content of the excel file"}, {"owner": {"reputation": 45, "user_id": 4341882, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01cefc31e94d3f5c85234ff5ca85d7de?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/4341882/mahesh"}, "reply_to_user": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "edited": false, "score": 0, "creation_date": 1429804432, "post_id": 29803008, "comment_id": 47783424, "body": "I did not know where to start. Indirectly you are asking me the question i asked first."}, {"owner": {"reputation": 45, "user_id": 4341882, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01cefc31e94d3f5c85234ff5ca85d7de?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/4341882/mahesh"}, "reply_to_user": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "edited": false, "score": 0, "creation_date": 1429805602, "post_id": 29803008, "comment_id": 47784292, "body": "How can one ask specific question when working on something new. All i was asking was any similar threads or any links that will help.  Anyways, i managed to do it. will post the answer here shortly."}, {"owner": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "edited": false, "score": 0, "creation_date": 1429819917, "post_id": 29803008, "comment_id": 47793372, "body": "You said you tried SpreadSheet::WriteExcel.  What did you try and and why did you say it didn&#39;t work?"}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 4341882, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01cefc31e94d3f5c85234ff5ca85d7de?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/4341882/mahesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1429805711, "creation_date": 1429805711, "answer_id": 29829061, "question_id": 29803008, "link": "https://stackoverflow.com/questions/29803008/how-to-open-results-in-excel-when-clicked-on-a-link-from-web-page-created-using/29829061#29829061", "title": "How to open results in excel when clicked on a link from web page created using perl cgi script", "body": "<p>In the main script, create a link with anchor tag which redirects to new script where you define what exactly need to be written in Excel.</p>\n\n<p>Created a new script where below sub routine is defined.</p>\n\n<p>When the link is clicked, it will ask for Download/Save option for excel document.</p>\n\n<p>Code:1</p>\n\n<pre><code>                            $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{workstream}&lt;/td&gt;\";\n                            $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{contractor}&lt;/td&gt;\";\n                            $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{amp}&lt;/td&gt;\";\n                            $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC'&gt;&lt;a href='notC.cgi?promoter=$row-&gt;{promoter}' target='_blank'&gt;Link&lt;/a&gt;&lt;/td&gt;\";\n                            $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC'&gt;&lt;a href='escC.cgi?promoter=$row-&gt;{promoter}' target='_blank'&gt;Link&lt;/a&gt;&lt;/td&gt;\";\n</code></pre>\n\n<p>Code:2</p>\n\n<pre><code>sub doExcel {\n\nprint \"Content-type: excel/ms-excel; name=notC.xls\\n\";\nprint \"Content-disposition: attachment; filename=notC.xls\\n\\n\";\nbinmode(STDOUT);\n\n    my $dbh = Kearynet::Database-&gt;Handle();\n    my $query = $dbh-&gt;prepare(\"SELECT * FROM projects.notNames where notPromoter = '$notPromoter' \");\n    $query-&gt;execute();\n\n    while($row = $query-&gt;fetchrow_hashref){\n            $searchresults{ $row-&gt;{notId} } = $row;\n    }\n\n    my $fname=\"notContacts_\".$notPromoter.\".xls\";\n\n    print \"Content-type: excel/ms-excel; name=$fname\\n\";\n    print \"Content-disposition: attachment; filename=$fname\\n\\n\";\n    binmode(STDOUT);\n\n    my $x=0;\n    my $workbook  = Spreadsheet::WriteExcel-&gt;new(\\*STDOUT);\n    my $worksheet = $workbook-&gt;add_worksheet(\"NotificationContacts\");\n    $worksheet-&gt;activate();\n    $worksheet-&gt;write($x, 0,  \"Not RouteId\");\n    $worksheet-&gt;write($x, 1,  \"Not Promoter\");\n    $worksheet-&gt;write($x, 2,  \"Not Level\");\n    .....\n            foreach my $r (sort keys %searchresults){\n            my $nrow = $searchresults{$r};\n            if( not $row-&gt;{notId} ){\n                    $worksheet-&gt;write($x, 0,  $nrow-&gt;{notRouteId} );\n                    $worksheet-&gt;write($x, 1,  $nrow-&gt;{notPromoter} );\n                    $worksheet-&gt;write($x, 2,  $nrow-&gt;{notLevel} );\n                    $worksheet-&gt;write($x, 3,  $nrow-&gt;{notRegion} );\n                    $worksheet-&gt;write($x, 4,  $nrow-&gt;{nTWRConId_1} );\n                    $worksheet-&gt;write($x, 5,  $nrow-&gt;{nTWRConName_1} );\n            }\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 4341882, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01cefc31e94d3f5c85234ff5ca85d7de?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/4341882/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429805711, "creation_date": 1429718456, "last_edit_date": 1429735016, "question_id": 29803008, "link": "https://stackoverflow.com/questions/29803008/how-to-open-results-in-excel-when-clicked-on-a-link-from-web-page-created-using", "title": "How to open results in excel when clicked on a link from web page created using perl cgi script", "body": "<p>I have a Perl CGI script that displays results (50 rows) from a database query on a web page. </p>\n\n<p>At the end of each row, I have a column which is HTML href link.</p>\n\n<p>When this link is clicked, I have to open that particular record in Excel and allow it to be saved. </p>\n\n<p>I tried using <code>SpreadSheet::WriteExcel</code>, but no luck.</p>\n\n<p>Can anyone please give me a help link or help thread regarding this?</p>\n\n<p>Code:</p>\n\n<pre><code>while(my $row = $query-&gt;fetchrow_hashref){\n    $html .= \"&lt;tr&gt;\";\n    $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{promoter}&lt;/td&gt;\";\n    $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{company}&lt;/td&gt;\";\n    $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{bunit}&lt;/td&gt;\";\n    $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{sub}&lt;/td&gt;\";\n    $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{region}&lt;/td&gt;\";\n    $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{workstream}&lt;/td&gt;\";\n    $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{contractor}&lt;/td&gt;\";\n    $html .= \"&lt;td style='border-bottom:1px solid #CCCCCC' nowrap&gt;$row-&gt;{amp}&lt;/td&gt;\";\n    ### Link to open this record in excel sheet ##\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 2, "creation_date": 1429718241, "post_id": 29802893, "comment_id": 47733693, "body": "I would recommend <code>-s ($_)</code> as it makes the intent considerably more clear."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1429718280, "last_edit_date": 1429718280, "creation_date": 1429718197, "answer_id": 29802893, "question_id": 29802791, "link": "https://stackoverflow.com/questions/29802791/perl-file-test-operators-and/29802893#29802893", "title": "perl file test operators and &quot;$_&quot;", "body": "<p><code>&lt;</code> can be the start of a term as the <code>readline</code>/<code>glob</code> shortcut.</p>\n\n<pre><code>print \"[$_]\\n\" for &lt; a b c &gt;;\n</code></pre>\n\n<p><code>&lt;</code> can be the start of an infix operator as the numeric less-than operator.</p>\n\n<pre><code>print \"foo\\n\" if $x &lt; 3;\n</code></pre>\n\n<p><code>-s</code> can legally be followed by both, so Perl has to guess which one you wanted when it sees the <code>&lt;</code>. Using any of the following instead of <code>-s</code> solves the issue since none of them can be followed by a term:</p>\n\n<ul>\n<li><code>-s($_)</code></li>\n<li><code>-s()</code></li>\n<li><code>(-s)</code></li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429718309, "creation_date": 1429717926, "last_edit_date": 1429718309, "question_id": 29802791, "link": "https://stackoverflow.com/questions/29802791/perl-file-test-operators-and", "title": "perl file test operators and &quot;$_&quot;", "body": "<p>I'm going through O'Reilly's \"Intermediate Perl\". <code>-s</code> is used as so:</p>\n\n<pre><code>print map { \"    $_\\n\" } grep { -s &lt; 1000 } @ARGV;\n</code></pre>\n\n<p>which gives this warning: </p>\n\n<blockquote>\n  <p>Warning: Use of \"-s\" without parentheses is ambiguous Unterminated &lt;>\n  operator</p>\n</blockquote>\n\n<p>Though, when I put parentheses around <code>-s</code> it works like a charm. \nNot sure if this is perl version related or a mistype by authors.</p>\n\n<blockquote>\n  <p>Perl version: v5.18.2 built for darwin-thread-multi-2level</p>\n</blockquote>\n\n<p>What is causing this issue and what I can do to correct it?</p>\n"}, {"tags": ["perl", "udp", "multicast"], "owner": {"reputation": 5392, "user_id": 238644, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/60ef42a066987f20df7156205c322689?s=128&d=identicon&r=PG", "display_name": "Dang Khoa", "link": "https://stackoverflow.com/users/238644/dang-khoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1429716768, "creation_date": 1429716768, "question_id": 29802313, "link": "https://stackoverflow.com/questions/29802313/perl-how-do-i-capture-a-multicast-video-stream", "title": "perl - how do I capture a multicast [video] stream?", "body": "<p>I am trying to record a multicast stream coming from a webcam, and record it to a file. I can access the multicast stream and see my video with VLC, but I can't see anything when I try to play the file I'm writing via Perl.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Socket::Multicast;\n\nmy $group = shift @ARGV;\nmy $port  = shift @ARGV;\n\n# Set up the stream\nmy $stream = IO::Socket::Multicast-&gt;new(Proto=&gt;'udp', LocalPort =&gt; $port);\n$stream-&gt;mcast_add($group) or die \"Couldn't set group: $!\\n\";\n\n# Get the date and time. We'll use this to name the stream file\nmy $fname = `date +%Y-%m-%dT%H_%M_%S`;\nchomp $fname;\n$fname .= \".mpg\";\n\nopen (my $file, \"&gt;\", $fname)\n    or die \"Couldn't open file  $fname for writing: $!\";\nbinmode($file);\n\nprint \"Streaming $group:$port to $fname!\\n\";\n\nfor my $i (0..500){\n    my $data;\n    next unless $stream-&gt;recv($data,1024);\n    print \"data received! $i \\n\";\n    print {$file} $data;\n}\nclose ($file);\n</code></pre>\n\n<p>Wireshark shows the protocol of the stream is <code>MPEG TS</code>. </p>\n\n<p>I appreciate any assistance!</p>\n"}, {"tags": ["perl", "hash", "hashref", "data-dumper"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1429716363, "post_id": 29800212, "comment_id": 47732276, "body": "Did you really declare <code>my $blah</code> twice?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429721742, "post_id": 29800212, "comment_id": 47736109, "body": "This is minor, but <code>\\</code> is a backslash, not a slash. Hopefully that will help you with searching in the future."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1429716822, "last_edit_date": 1429716822, "creation_date": 1429712730, "answer_id": 29800670, "question_id": 29800212, "link": "https://stackoverflow.com/questions/29800212/datadumper-returned-hash-with-a-slash/29800670#29800670", "title": "Data::Dumper returned hash with a slash", "body": "<p>I'm not sure what your question is, but your output shows that <code>$stored_value</code> is a reference to a <em>scalar</em>, which, in turn, is a reference to a hash.</p>\n\n<p>It is rarely useful to keep references to scalars so this may indicate a bug.</p>\n\n<p>This short program shows how the value could have been created</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $href = {\n  foo =&gt; 'abc',\n  bar =&gt; '123',\n};\n\nmy $href_ref = \\$href;\n\nprint Dumper $href_ref;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>$VAR1 = \\{\n            'bar' =&gt; '123',\n            'foo' =&gt; 'abc'\n          };\n</code></pre>\n\n<p>And, by the way, it is usually more useful to use <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow\"><code>Data::Dump</code></a> in preference to <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow\"><code>Data::Dumper</code></a></p>\n"}], "owner": {"reputation": 73, "user_id": 1428649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d49a641a462a637650ef1ede49c2718c?s=128&d=identicon&r=PG", "display_name": "user1428649", "link": "https://stackoverflow.com/users/1428649/user1428649"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 29800670, "answer_count": 1, "score": 2, "last_activity_date": 1429716822, "creation_date": 1429711740, "question_id": 29800212, "link": "https://stackoverflow.com/questions/29800212/datadumper-returned-hash-with-a-slash", "title": "Data::Dumper returned hash with a slash", "body": "<p>So I have a line of perl code that reads like this:</p>\n\n<pre><code>my $stored_value = $foo-&gt;some_function($argument);\n</code></pre>\n\n<p>When I do a Dumper on it: </p>\n\n<pre><code>warn Dumper $stored_value\n</code></pre>\n\n<p>I receive this as a result.</p>\n\n<pre><code>$VAR1 = \\{\n             'foo' =&gt; 'abc',\n             'bar' =&gt; '123'\n};\n</code></pre>\n\n<p>Now, I've seen results like this: </p>\n\n<pre><code>warn Dumper $another_hash;\n$VAR1 = {\n      'foo' =&gt; 'bar',\n      'baz' =&gt; 'quux'\n    };\n</code></pre>\n\n<p>And if I wanted to get say, foo's value, I'd type in something like this:</p>\n\n<pre><code>warn Dumper $another_hash-&gt;{'foo'};\n</code></pre>\n\n<p>To get this as a result.</p>\n\n<pre><code>$VAR1 = 'bar';\n</code></pre>\n\n<p>Originally, I couldn't find anything through my Google searches, but just now, I made a little test script to play around with what I saw, and I found this out</p>\n\n<pre><code>#!/usr/bin/perl\n#\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nsub test {\nmy $brother = {'Ted'};\n$brother-&gt;{'Ted'} = 'brother';\nreturn \\$brother;\n}\n\nmy $blah= test();\nmy $blah = ${$blah};\nprint Dumper $blah-&gt;{'Ted'};\nprint \"\\n\";\n</code></pre>\n\n<p>Here are my results:</p>\n\n<pre><code>$VAR1 = 'brother';\n</code></pre>\n\n<p>I wanted to share what I had found incase someone else ran into the same thing, but what exactly did I see? </p>\n\n<p>I saw how to do this in <a href=\"http://perldoc.perl.org/perlref.html#Using-References\" rel=\"nofollow\">http://perldoc.perl.org/perlref.html#Using-References</a>, but I just wanted some clarification on it.</p>\n"}, {"tags": ["perl", "setenv"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1429708767, "post_id": 29798814, "comment_id": 47725810, "body": "Yes. One is a shell script, the other is a Perl script. They are two completely different things. You should include the code you tried, including all the relevant information. Preferably create an <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">sscce</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429728955, "post_id": 29798814, "comment_id": 47740873, "body": "That error doesn&#39;t come from the shell. It comes from <code>perl</code>. That means the script was found, and the script was passed to <code>perl</code>, but some problem occurred. Are you using setuid or something like that?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 3564927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/642be802f6a3c91ba2d506e5bbb3c77d?s=128&d=identicon&r=PG&f=1", "display_name": "user3564927", "link": "https://stackoverflow.com/users/3564927/user3564927"}, "edited": false, "score": 0, "creation_date": 1429710431, "post_id": 29799147, "comment_id": 47727237, "body": "I have edited the question adding the error message.I have given execute permissions to the Perl script as well and used the shebang too."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1429732842, "last_edit_date": 1429732842, "creation_date": 1429709414, "answer_id": 29799147, "question_id": 29798814, "link": "https://stackoverflow.com/questions/29798814/setenv-path-not-functioning-properly/29799147#29799147", "title": "Setenv $PATH not functioning properly", "body": "<blockquote>\n  <p><em>if I run script.pl, it says command not found.</em></p>\n</blockquote>\n\n<p>Just like with shell scripts, you will need to make the Perl script executable (<code>chmod u+x script.pl</code>), and it will need to have a shebang (<code>#!/usr/bin/perl</code>).</p>\n\n<pre><code>$ export PATH=/bin:/usr/bin:$HOME/bin\n\n$ cat &gt;$HOME/bin/script.pl\n#!/usr/bin/perl\nprint \"Hello, world!\\n\";\n^D\n\n$ chmod u+x $HOME/bin/script.pl\n\n$ script.pl\nHello, world!\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 3564927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/642be802f6a3c91ba2d506e5bbb3c77d?s=128&d=identicon&r=PG&f=1", "display_name": "user3564927", "link": "https://stackoverflow.com/users/3564927/user3564927"}, "edited": false, "score": 0, "creation_date": 1429710787, "post_id": 29799256, "comment_id": 47727550, "body": "I have edited the question adding the error message.I have given execute permissions to the Perl script as well and used the shebang too.I am running the script like : &quot;perl script.pl&quot; .Even if I run &quot;perl script&quot; it throws the same error.Just running &quot;script&quot; shows Permissions denied and running &quot;script.pl&quot; shows Command not found."}], "tags": [], "owner": {"reputation": 145, "user_id": 3481208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K13GA.png?s=128&g=1", "display_name": "user3481208", "link": "https://stackoverflow.com/users/3481208/user3481208"}, "is_accepted": false, "score": 0, "last_activity_date": 1429721664, "last_edit_date": 1429721664, "creation_date": 1429709661, "answer_id": 29799256, "question_id": 29798814, "link": "https://stackoverflow.com/questions/29798814/setenv-path-not-functioning-properly/29799256#29799256", "title": "Setenv $PATH not functioning properly", "body": "<p>There are a few of things that you may need to check:</p>\n\n<ol>\n<li>the execute permissions (ie: <code>chmod +x script.pl</code>)</li>\n<li>that the perl script has <code>#!/usr/bin/perl</code> as its first line.</li>\n<li>When you are trying to launch the perl script, are you typing in the whole name of the file including any extensions? (ie: <code>script.pl</code> and not <code>script</code>) I usually don't use extensions for scripts that I keep in a directory in <code>$PATH</code> to make things easier.</li>\n</ol>\n\n<p>It would really help if you showed us what you were typing or the error.</p>\n\n<p>Edit: Another thing you could check would be the ownership of the script. I just made a script as root and it threw up some errors like what you're experiencing.</p>\n\n<pre><code>[root@computer perms-test]# chmod 744 perms.pl  # As Root, give permissions\n[root@computer perms-test]# ll\n-rwxr--r-- 1 root root 96 Apr 22 17:41 perms.pl\n[root@computer perms-test]# exit\nexit\n[user@computer:perms-test]ll\n-rwxr--r-- 1 root root 96 Apr 22 17:41 perms.pl\n[user@computer:perms-test]./perms.pl        # User can't run script\nbash: ./perms.pl: Permission denied\n[user@computer:perms-test]echo 'PATH=/home/user/perms-test:$PATH' &gt;&gt; ~/.bashrc\n[user@computer:perms-test]. ~/.bashrc       # Reinitialise .bashrc\n[user@computer:perms-test]mkdir random-dir\n[user@computer:perms-test]cd random-dir/\n[user@computer:random-dir]perms.pl\nbash: /home/user/perms-test/perms.pl: Permission denied\n[user@computer:random-dir]perl perms.pl # In a different dir, can't find script\nCan't open perl script \"perms.pl\": No such file or directory\n[user@computer:random-dir]cd ..\n[user@computer:perms-test]perl perms.pl \nthe script allowed you to run it.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429720494, "creation_date": 1429720494, "answer_id": 29803770, "question_id": 29798814, "link": "https://stackoverflow.com/questions/29798814/setenv-path-not-functioning-properly/29803770#29803770", "title": "Setenv $PATH not functioning properly", "body": "<p>When you run the script as \"perl script.pl\", the system will use the path environment to locate the perl interpreter but not your script.  The script name is being passed to the interpreter as its arg.  If the script is not in the cwd, you'll need to include its path.</p>\n\n<blockquote>\n  <p>Just running \"script\" shows Permissions denied and running \"script.pl\" shows Command not found.</p>\n</blockquote>\n\n<p>That tells me 2 things.  1) The script's name doesn't include the .pl ext and 2) when called without the ext, it does find the script within the path but its permissions aren't set correctly for you to execute it.</p>\n\n<p>As has been stated by others, you need to assign the correct permissions to allow you to execute the script.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3, "user_id": 3564927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/642be802f6a3c91ba2d506e5bbb3c77d?s=128&d=identicon&r=PG&f=1", "display_name": "user3564927", "link": "https://stackoverflow.com/users/3564927/user3564927"}, "edited": false, "score": 0, "creation_date": 1429732644, "post_id": 29806536, "comment_id": 47743242, "body": "Then I didn&#39;t guess what you did correctly. What did you do differently than my guess? Why are you making us guess?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1429732810, "last_edit_date": 1429732810, "creation_date": 1429729021, "answer_id": 29806536, "question_id": 29798814, "link": "https://stackoverflow.com/questions/29798814/setenv-path-not-functioning-properly/29806536#29806536", "title": "Setenv $PATH not functioning properly", "body": "<blockquote>\n  <p><em>The error thrown is</em><br>\n  <em><code>Can't open perl script \"script.pl\" : No such file or directory</code></em></p>\n</blockquote>\n\n<p>This is an analog of what you've done:</p>\n\n<pre><code>$ export PATH=/bin:/usr/bin:$HOME/bin\n\n$ cat &gt;$HOME/bin/script.pl\n#!/usr/bin/perl\nprint \"Hello, world!\\n\";\n^D\n\n$ chmod u+x $HOME/bin/script.pl\n\n$ perl script.pl\nCan't open perl script \"script.pl\": No such file or directory\n</code></pre>\n\n<p>That's wrong. The path is searched, but it's searched for <code>perl</code>. This is what you should be using:</p>\n\n<pre><code>$ script.pl\nHello, world!\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3564927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/642be802f6a3c91ba2d506e5bbb3c77d?s=128&d=identicon&r=PG&f=1", "display_name": "user3564927", "link": "https://stackoverflow.com/users/3564927/user3564927"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 506, "favorite_count": 0, "answer_count": 4, "score": -2, "last_activity_date": 1429732842, "creation_date": 1429708644, "last_edit_date": 1429717312, "question_id": 29798814, "link": "https://stackoverflow.com/questions/29798814/setenv-path-not-functioning-properly", "title": "Setenv $PATH not functioning properly", "body": "<p>I wrote a shell script which sets the <code>$PATH</code> variable to a directory which contains a shell and a Perl script.</p>\n\n<p>I am able to run the shell script with the current working directory set to any random directory, but the Perl script is different.</p>\n\n<p>Is there any difference between running the two?</p>\n\n<p>The error thrown is</p>\n\n<pre><code>Can't open perl script \"script.pl\" : No such file or directory\n</code></pre>\n\n<p>Though the file exists in the very same folder as the shell script.</p>\n"}, {"tags": ["regex", "r", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1429708757, "post_id": 29798797, "comment_id": 47725800, "body": "Maybe using <code>?</code> can solve this: <code>sub(&quot;.*?\\\\((.*?)\\\\).*&quot;, &quot;\\\\1&quot;, string, perl = TRUE)</code>. Check here: <a href=\"https://regex101.com/r/bV7oH6/1\" rel=\"nofollow noreferrer\">regex101.com/r/bV7oH6/1</a>"}], "answers": [{"comments": [{"owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "edited": false, "score": 0, "creation_date": 1429709134, "post_id": 29798913, "comment_id": 47726149, "body": "<code>regmatches()</code>+<code>regexpr()</code> is the right approach, I would just suggest that you replace the greedy <code>[^()]*</code> with a non-greedy <code>.*?</code>."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "edited": false, "score": 1, "creation_date": 1429709404, "post_id": 29798913, "comment_id": 47726388, "body": "@bgoldst but you approach will return a wrong string if the input is <code>foo(bar(buz)</code> . If op wants <code>bar(buz</code> then me must follow your&#39;s else if he wants <code>buz</code> then must follow mine. Anyway i added your suggestion."}, {"owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "edited": false, "score": 0, "creation_date": 1429711122, "post_id": 29798913, "comment_id": 47727828, "body": "Good point. But I suspect he wouldn&#39;t want <code>buz</code> either, in that case. How about this: <code>str &lt;- &#39;string1(bar(buz)foo)string2(int2)string3(int3)&#39;; regmatches(str,regexpr(&#39;(?&lt;=\\\\().*?(\\\\(.*?\\\\).*?)*(?=\\\\))&#39;,s&zwnj;&#8203;tr,perl=T));</code>."}, {"owner": {"reputation": 224, "user_id": 3455684, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d1GuY.jpg?s=128&g=1", "display_name": "Sadhun", "link": "https://stackoverflow.com/users/3455684/sadhun"}, "edited": false, "score": 0, "creation_date": 1429885267, "post_id": 29798913, "comment_id": 47825871, "body": "@Avinash - Can you please explain your solution in a simpler way,  regmatches(string, regexpr(&quot;(?&lt;=\\&#40;)[^()]*(?=\\&#41;)&quot;, string, perl=TRUE)) [1] &quot;int1&quot;"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1429888710, "post_id": 29798913, "comment_id": 47828535, "body": "<code>(?&lt;=\\\\()</code> lookbehind which matches the boundary exists next to the <code>(</code> character. <code>.*?</code> will match all the characters until the first <code>(?=\\\\)</code> closing bracket <code>)</code> is reached. So it matches all the characters which exists between the parenthesis. <code>regexpr</code> will only do a single match ie, the first match. <code>gregexpr</code> will do a global match. For here, this would return the chars which exists between the first parenthesis."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 2, "last_activity_date": 1429709445, "last_edit_date": 1429709445, "creation_date": 1429708890, "answer_id": 29798913, "question_id": 29798797, "link": "https://stackoverflow.com/questions/29798797/get-the-content-from-the-first-parenthesis-in-a-string/29798913#29798913", "title": "Get the content from the first parenthesis in a string", "body": "<p>You could use regmatches function along <code>regexpr</code> where <code>regexpr</code> will do a single very first match.</p>\n\n<pre><code>&gt; string &lt;- \"string1(int1)string2(int2)string3(int3)\"\n&gt; regmatches(string, regexpr(\"(?&lt;=\\\\()[^()]*(?=\\\\))\", string, perl=TRUE))\n[1] \"int1\"\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>&gt; regmatches(string, regexpr(\"(?&lt;=\\\\().*?(?=\\\\))\", string, perl=TRUE))\n[1] \"int1\"\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>&gt; gsub(\"\\\\).*|^[^()]*\\\\(\", \"\", string)\n[1] \"int1\"\n</code></pre>\n"}], "owner": {"reputation": 6737, "user_id": 2667955, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/acfd630040d9b8ca19d2037350278ca1?s=128&d=identicon&r=PG&f=1", "display_name": "Julien Navarre", "link": "https://stackoverflow.com/users/2667955/julien-navarre"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "closed_date": 1536016127, "accepted_answer_id": 29798913, "answer_count": 1, "score": -1, "last_activity_date": 1559115957, "creation_date": 1429708610, "question_id": 29798797, "link": "https://stackoverflow.com/questions/29798797/get-the-content-from-the-first-parenthesis-in-a-string", "closed_reason": "Duplicate", "title": "Get the content from the first parenthesis in a string", "body": "<p>I have a text with several parenthesis and I would like to extract the text from the 1st parenthesis e.g : in the string bellow I would like to get \"int1\"</p>\n\n<pre><code>string &lt;- \"string1(int1)string2(int2)string3(int3)\"\n</code></pre>\n\n<p>I know nothing about regular expressions and my problem is that I don't know how to stop at the first \"(\" and \")\", in the examples bellow when I match strictly the character, it stops at the 1st in the string (ofc using <code>sub</code> and not <code>gsub</code>). But when I use \".*\" before my character it matchs the last occurence of it in the string.</p>\n\n<pre><code>sub(\"\\\\(\", \"X\", string, perl = TRUE)\n#[1] \"string1Xint1)string2(int2)string3(int3)\"\nsub(\".*\\\\(\", \"X\", string, perl = TRUE)\n#[1] \"Xint3)\"\nsub(\".*\\\\)\", \"X\", string, perl = TRUE)\n#[1] \"X\"\nsub(\"\\\\)\", \"X\", string, perl = TRUE)\n#[1] \"string1(int1Xstring2(int2)string3(int3)\"\n</code></pre>\n\n<p>So when I do something like <code>sub(\".*\\\\((.*)\\\\).*\", \"\\\\1\", string, perl = TRUE)</code> I got the string in the last parenthesis.</p>\n\n<p>My first question is : How can I stop at the first \"(\" and \")\" as in <code>sub(\"\\\\)\", ...)</code> ?</p>\n\n<p>After many tries I found a way to extract the string from the 1st parenthesis (which I'm not very sure to understand because of the grouping part with <code>()</code>) :</p>\n\n<pre><code>string %&gt;%\n  sub(\"(\\\\).*$)\", \"\\\\2\", ., perl = TRUE) %&gt;% #[1] \"string1(int1\"\n  sub(\".*\\\\(\", \"\", ., perl = TRUE)\n#[1] \"int1\"\n</code></pre>\n\n<p>Can you advise me a better solution?</p>\n\n<p>And do you know where I can find a comprehensible document about R and Perl regexp, I learn some basics from <a href=\"https://www.cs.tut.fi/~jkorpela/perl/regexp.html\" rel=\"nofollow\">https://www.cs.tut.fi/~jkorpela/perl/regexp.html</a> and I'm looking for more examples.</p>\n\n<p>Thank You.</p>\n"}, {"tags": ["linux", "perl", "net-ssh"], "answers": [{"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 0, "last_activity_date": 1430119723, "last_edit_date": 1430119723, "creation_date": 1429778411, "answer_id": 29818046, "question_id": 29798602, "link": "https://stackoverflow.com/questions/29798602/problems-with-perl-netssh2channel/29818046#29818046", "title": "Problems with perl Net::SSH2::channel", "body": "<p>You can only invoke <code>shell</code> once for every Channel object.</p>\n\n<p>Also, note that the <code>shell</code> method doesn't take any argument. In order to execute a command you have to write it to the channel:</p>\n\n<pre><code>$channel-&gt;write(\"$cmd\\n\");\n</code></pre>\n\n<p>Or commonly, instead, you request a new Channel object for every command you want to run and then invoke its <code>exec</code> method with the command as an argument. In general, talking to a shell as you are trying to do is a bad idea and quite difficult to do rightly.</p>\n\n<p>In any case, as you are running on a Linux environment, instead of Net::SSH2 that is quite primitive and buggy, you may like to use <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow\">Net::OpenSSH</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4818876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6c6339117ece3a7aa2c1667c7987db5?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf", "link": "https://stackoverflow.com/users/4818876/ralf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1906, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430119723, "creation_date": 1429708174, "question_id": 29798602, "link": "https://stackoverflow.com/questions/29798602/problems-with-perl-netssh2channel", "title": "Problems with perl Net::SSH2::channel", "body": "<p>I'm having a Problem with Net::SSH2::Channel. I'm Working on Oracle LINUX 2.6.39-400.214.5.el6uek.x86_64, using perl-5.10.1-136.el6.x86_64.</p>\n\n<p>The remote server runs Debian 3.2.60-1+deb7u3 x86_64.</p>\n\n<p>The perl code is going to be used as a function inside a bash script. Right now, it is a plain perlscript.</p>\n\n<p>I'm not very experienced to programmming perl. Until now, I only have adapred existing perlscripts. </p>\n\n<p>With my testscript, I can log in to a remote server using SSH2. </p>\n\n<p>Then, i am able to execute one - and only one - command using <code>$chan-&gt;shell(&lt;conmmand&gt;);</code>\nThe second command seems to fail, even if it would be executed successfully as 1st shell-command in the script.\n  --> While <code>$chan-&gt;exec ();</code> is said to support only one command on the channel,  <code>$chan-&gt;shell();</code> should be useable more than once on the same channel.\n      Closing the channel with <code>$chan--&gt;close;</code> and reopening it again does not help,either.\n  --> How do I interpret the output of <code>$ssh2-&gt;error;</code>?</p>\n\n<p>My second question is: what exactly is blocking doing? \nAnd what is the difference between using blocking on the ssh connection (<code>ssh-&gt;blocking();</code> ) and on the channel (<code>$chan-&gt;blocking(0);</code>)? I have seen both.\nFor me, there was no effect using blocking on the channel or not using it.</p>\n\n<p>Finally, I don`t know, how to get the returnvalue of an executed command and how to read it in a way, that I dont have to know its length in advance.\n(The directory /tmpp, which is used in the testscript, does not exist. Using an existing directory does not change anything.\nMy output is always the identical to the first 65 characters of the output of <code>uname -a</code>\nWhen I set <code>bufleng =70</code>, the script hangs. Here, something seems to be completely wrong.</p>\n\n<p>Any suggestions are greatly welcome.\nThank you for your support.</p>\n\n<p>Bye\nRalf</p>\n\n<hr>\n\n<p>my script is as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#!/usr/bin/perl\r\n\r\n  use warnings;\r\n  use strict;\r\n  use Net::SSH2;\r\n  use Data::Dumper;\r\n\r\n  # Handling options\r\n  my $host = shift;\r\n  my $user = shift;\r\n  my $passwd = shift;\r\n  my $command = shift;\r\n  my $destination = shift;\r\n  #my $source = $ARGV;\r\n\r\n  # Defining variables\r\n  my $LEC=\"\";\r\n\r\n  #my $scp_session=new Net::ssh2 ( Errmode=&gt;'return',\r\n  my $ssh2=Net::SSH2 -&gt; new();\r\n  $ssh2-&gt;debug(1);\r\n##print Dumper($ENV);\r\n\r\n  ### Connecting (10)\r\n  #die \"can\\'t connect to ${host}, Error 10\" unless $ssh2-&gt;connect($host);\r\n  #print \"Connected to ${host}\\n\";\r\n  $ssh2-&gt;connect($host);\r\n  if (\"$?\"==0) {\r\n    print \"Connected to ${host}\\n\";\r\n  } else {\r\n    print \"can\\'t connect to ${host}, Error 10\\n\";\r\n    #print $ssh2-&gt;error;\r\n    print \"\\n\";\r\n  }\r\n\r\n  ### Logging in (20)\r\n  #die \"can't authenticate as ${user}\" unless\r\n  #$ssh2-&gt;auth(username =&gt; '${user}',password =&gt; '${passwd}');\r\n  $ssh2-&gt;auth_password(${user},${passwd});\r\n  #  print $ssh2-&gt;error;\r\n  #  #print \"\\n\";\r\n  if (\"$?\"==0) {\r\n    print \"  Authenticated as ${user}\\n\";\r\n  } else {\r\n    print $ssh2-&gt;error;\r\n    print \"   Authentication failed\\n\";\r\n    exit 20\r\n  }\r\n\r\nprint \"  ## step 0\\n\";\r\n\r\n  ### workload (30)\r\n  my $chan = $ssh2-&gt;channel();\r\n    print $ssh2-&gt;error;\r\n    print \"\\n  ## step 2\\n\";\r\n  #$chan-&gt;blocking(0);\r\n  #  print $ssh2-&gt;error;\r\n  #  print \"\\n  ## step 3\\n\";\r\n  #$chan-&gt;shell('set cli-parameters console pager disabled');\r\n  #   print $ssh2-&gt;error;\r\n  #   print \"\\n  ## step 4\\n\";\r\n  #   $chan-&gt;close;\r\n  #   my $chan = $ssh2-&gt;channel();\r\n  ### testing\r\n  $chan-&gt;shell('ls -la');\r\n    print $ssh2-&gt;error;\r\n    print \"\\n  ## step 5\\n\";\r\n  my $buflen = 65;\r\n  my $buf1 = '0' x $buflen;\r\n  $chan-&gt;read($buf1, $buflen);\r\n  print $buf1,\"\\n\";\r\n  $chan1-&gt;shell(${command});\r\n    print $ssh2-&gt;error;\r\n    print \"\\n  ## step 6\\n\";\r\n  #my $buflen = 70;\r\n    print $ssh2-&gt;error;\r\n    print \"\\n  ## step 7\\n\";\r\n  my $buf2 = '0' x $buflen;\r\n    print $ssh2-&gt;error;\r\n    print \"\\n  ## step 8\\n\";\r\n  $chan-&gt;read($LEC, $buflen);\r\n    print $ssh2-&gt;error;\r\n    print \"\\n  ## step 9\\n\";\r\n  print \"${command}:\\n\", $buf1,\"\\n\";\r\n    print $ssh2-&gt;error;\r\n    print \"\\n  ## step 10\\n\";\r\n  $chan-&gt;shell('exit');\r\n    print $ssh2-&gt;error;\r\n    print \"\\n  ## step 11\\n\";\r\n\r\n\r\n  ### Logging off and disconnecting (90)\r\n  $ssh2-&gt;disconnect($host);\r\n    #print $ssh2-&gt;error;\r\n    #print \"\\n\";\r\n\r\n\r\n   #($ssh2-&gt;auth_password($user,$passwd)) {\r\n        #print \"\\n Executing command...\\n\";\r\n        my $cmd = \"ls\";\r\n        #print \" ==&gt; Running $cmd\\n\";</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>The output is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>perl ./test2.perl ifbscdd root dcdiag \"LEC=1 ; [ -d /tmp ] &amp;&amp; LEC=9 ; export LEC ;  return $LEC\"\r\nConnected to ifbscdd\r\n  Authenticated as root\r\n  ## step 0\r\nlibssh2_channel_open_ex(ss-&gt;session, pv_channel_type, len_channel_type, window_size, packet_size, ((void *)0) , 0 ) -&gt; 0x1b89fc0\r\n0\r\n  ## step 2\r\n0\r\n  ## step 5\r\nNet::SSH2::Channel::read(size = 65, ext = 0)\r\n- read 65 bytes\r\n- read 65 total\r\nLinux ifbscdd 3.2.0-4-amd64 #1 SMP Debian 3.2.60-1+deb7u3 x86_64\r\n\r\nlibssh2_channel_open_ex(ss-&gt;session, pv_channel_type, len_channel_type, window_size, packet_size, ((void *)0) , 0 ) -&gt; 0x1ba6490\r\n0\r\n  ## step 6\r\n0\r\n  ## step 7\r\n0\r\n  ## step 8\r\nNet::SSH2::Channel::read(size = 65, ext = 0)\r\n- read 0 bytes\r\n- read 0 total\r\n0\r\n  ## step 9\r\nLEC=1 ; [ -d /tmp ] &amp;&amp; LEC=9 ; export LEC ;  return :\r\nLinux ifbscdd 3.2.0-4-amd64 #1 SMP Debian 3.2.60-1+deb7u3 x86_64\r\n\r\n0\r\n  ## step 10\r\n-1LIBSSH2_ERROR_SOCKET_NONEFailed waiting for channel success\r\n  ## step 11\r\nNet::SSH2::Channel::DESTROY\r\nNet::SSH2::Channel::DESTROY\r\nNet::SSH2::DESTROY object 0x1aa6230</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["multithreading", "perl", "locking", "flock"], "comments": [{"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1429706884, "post_id": 29797878, "comment_id": 47724232, "body": "This is still susceptible to race conditions. If two threads both reach your <code>unless</code> line at the same time, then both will continue happily under the incorrect assumption that they are the only copy that is running."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429710779, "post_id": 29797878, "comment_id": 47727539, "body": "@ikegami has said that you want <i>&quot;to avoid calling <code>sub_that_should_be_locked</code> entirely&quot;</i>. Is that correct?"}, {"owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429712024, "post_id": 29797878, "comment_id": 47728606, "body": "Yes, &quot;sub_that_should_be_locked&quot; should never run/be called at the same time &#39;cause it is a routine that gets a money balance and subtract all funds, if &quot;sub_that_should_be_locked&quot; run at the same time, the money balance would get negative instead of 0 as i desire."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429712307, "post_id": 29797878, "comment_id": 47728857, "body": "We all know it shouldn&#39;t run at the same time in multiple processes. The question is: What should happen if two processes try to run it at the same time? Should the second process just skip calling <code>sub_that_should_be_locked</code>, or should the second process wait for the first process to exit <code>sub_that_should_be_locked</code>?"}, {"owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429713737, "post_id": 29797878, "comment_id": 47730191, "body": "no waiting, the second process should skip calling <code>sub_that_should_be_locked</code> because a fraction of second could cause problems too as the balance may not update so quickly"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429718210, "post_id": 29797878, "comment_id": 47733662, "body": "Your requirement as stated can be met by simply removing all calls to <code>sub_that_should_be_locked</code>, but I doubt that that is what you want. Under what circumstances should the subroutine be called?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429708945, "post_id": 29798363, "comment_id": 47725963, "body": "This doesn&#39;t meet the OP&#39;s requirements since it blocks if someone else is holding the lock. // Also, expecting lock files to already exist is an unneeded restriction that prevents you from placing the lock files in <code>&#47;tmp</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429710355, "post_id": 29798363, "comment_id": 47727159, "body": "@ikegami: I hesitate to respond as you tend to lead a merry dance in your comment dialogues, but how is that contrary to the OP&#39;s statement?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429710440, "post_id": 29798363, "comment_id": 47727245, "body": "He doesn&#39;t want to block if someone holds a lock; Instead, He wants to avoid calling <code>sub_that_should_be_locked</code> entirely. That was the purpose of the <code>-e</code> check, and he stated it explicitly as well."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429710680, "post_id": 29798363, "comment_id": 47727466, "body": "@ikegami: I believe your solution should start by describing the problem that it is answering"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429708647, "last_edit_date": 1429708647, "creation_date": 1429707588, "answer_id": 29798363, "question_id": 29797878, "link": "https://stackoverflow.com/questions/29797878/lock-perl-sub-routine/29798363#29798363", "title": "Lock Perl sub routine", "body": "<p>The threads that you want to synchronise shouldn't create and delete lock files. </p>\n\n<p>You should ensure that the file exists <em>before</em> the threads are started, and then the subroutine should use a <em>lexical</em> file handle to open the lock file for <em>input</em>.</p>\n\n<p>Like this</p>\n\n<pre><code>open my $lock_fh, '&lt;', $lockfile or die $!;\nflock $lock_fh, LOCK_EX;\n</code></pre>\n\n<p>as its first action. That will suspend the thread until it is nect in the queue, after which the file will be closed implicitly at the end of the subroutine (and so release its lock) because <code>$lock_fh</code> goes out of scope</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429710620, "post_id": 29798864, "comment_id": 47727404, "body": "PS - Note that I avoided using a global variable for the file handle (<code>open my $fh</code> instead of <code>open FILE</code>). Avoid using global variables whenever possible."}, {"owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429712463, "post_id": 29798864, "comment_id": 47728981, "body": "What is the final result? All concurrent callings to sub_that_should_be_locked would be rejected? All would be rejected but the first one? Or something else? i&#39;m a bit confused, i&#39;m familiar with perl but not with flock/linux internals"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429712771, "post_id": 29798864, "comment_id": 47729252, "body": "@user3518089, Like your code, the second process simply avoids calling <code>sub_that_should_be_locked</code> if a process is already executing it. Like you asked, it doesn&#39;t wait. If you a different result, let me know (by editing your questions and leaving a comment here saying you edited your question)."}, {"owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429713968, "post_id": 29798864, "comment_id": 47730406, "body": "that&#39;s exactly it, i just hope it works cause i have no reliable means to test it :D"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 1, "creation_date": 1429714419, "post_id": 29798864, "comment_id": 47730796, "body": "@user3518089, Put <code>sleep 15;</code> in <code>sub_that_should_be_locked</code>, and it should be easy to see what happens."}, {"owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429715560, "post_id": 29798864, "comment_id": 47731640, "body": "i&#39;m testing the code with no concurrent processes and it dies at Unable to lock file &quot;/tmp/file.lock&quot;: Invalid argument"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 1, "creation_date": 1429717270, "post_id": 29798864, "comment_id": 47732946, "body": "I&#39;m guessing you forgot to do <code>use Fcntl qw( LOCK_EX LOCK_NB );</code>. If so, that also means you forgot to do <code>use strict; use warnings;</code> (as you always should) since they would have caught that error sooner."}, {"owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429717476, "post_id": 29798864, "comment_id": 47733100, "body": "solved with <code>use Fcntl qw( LOCK_EX LOCK_NB ),</code> thank you very much"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429717668, "post_id": 29798864, "comment_id": 47733244, "body": "Added the <code>use Fcntl ...</code> to my answer. I figured you knew you needed it since your existing code already needed it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429717781, "post_id": 29798864, "comment_id": 47733333, "body": "What about <code>use strict; use warnings;</code>? Do add those. If you don&#39;t, many errors will be hidden from you."}, {"owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429718120, "post_id": 29798864, "comment_id": 47733598, "body": "It may be strange, but i only add those once the project is finished, so i  take a calm time to polish everything. By the way i tested the code with your suggestion of <code>sleep 15;</code> that proved the code works perfectly for what i needed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429718354, "post_id": 29798864, "comment_id": 47733773, "body": "@user3518089: Yes it&#39;s very strange. So you think of bug fixing as <i>polishing</i>? And your project is &quot;finished&quot; before you have found all of the bugs?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "edited": false, "score": 0, "creation_date": 1429718534, "post_id": 29798864, "comment_id": 47733930, "body": "@user3518089, If you have no bugs, adding <code>use strict; use warnings;</code> doesn&#39;t do anything. I don&#39;t understand why you&#39;d only want to find the bugs &quot;after you&#39;re done&quot; (which you&#39;re clearly not if there are still bugs)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1429717619, "last_edit_date": 1429717619, "creation_date": 1429708789, "answer_id": 29798864, "question_id": 29797878, "link": "https://stackoverflow.com/questions/29797878/lock-perl-sub-routine/29798864#29798864", "title": "Lock Perl sub routine", "body": "<p>It's not safe. There's a race condition in your code since there's time between the <code>-e</code> and the <code>open</code>. Don't ever use <code>-e</code> with lock files.</p>\n\n<p>Instead of checking if the file exists, check if the file is already locked. This is done using a non-blocking <code>flock</code>. It'll return success if the file isn't already locked, and it'll return error <code>EWOULDBLOCK</code> if the file is already locked.</p>\n\n<p>Note that for this to work, you must hold the lock for the entire time <code>sub_that_should_be_locked</code> is executing. (Your code releases it as soon as it obtains it.)</p>\n\n<pre><code>use Fcntl qw( LOCK_EX LOCK_NB );\n\nsub get_lock_nb {\n   my ($qfn) = @_;\n\n   open(my $fh, '+&gt;:raw', $qfn)\n      or die(\"Unable to open file \\\"$qfn\\\": $!\\n\");\n\n   if (!flock($fh, LOCK_EX | LOCK_NB)) {\n      return undef if $!{EWOULDBLOCK};\n      die(\"Unable to lock file \\\"$qfn\\\": $!\\n\");\n   }\n\n   return $fh;\n}\n\nsub sub_that_should_be_locked {\n   ... Mutually exclusive code ...\n}\n\n{\n   my $lock = get_lock_nb(\"file.lock\");\n   sub_that_should_be_locked() if $lock;\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 29798864, "answer_count": 2, "score": 2, "last_activity_date": 1591729485, "creation_date": 1429706383, "last_edit_date": 1488488092, "question_id": 29797878, "link": "https://stackoverflow.com/questions/29797878/lock-perl-sub-routine", "title": "Lock Perl sub routine", "body": "<p>I wrote a CGI script. One of its subroutines can't be executed at the same time.  i.e. the same user (or hacker) run two instances at the exact same time). How can I avoid this? </p>\n\n<p>I made the following work-around using lock files, but I'm not sure if it is safe:</p>\n\n<pre><code>unless (-e $filelock) {\n    sub_that_should_be_locked();\n}\n\n\nsub sub_that_should_be_locked {\n    open FILE, \"&gt;\", $filelock;\n    flock DATAFILE, LOCK_EX;\n    close FILE;\n\n    ...Code that cannot be executed at the same time...   \n    ...Code that cannot be executed at the same time...\n\n    unlink $filelock;\n}\n</code></pre>\n\n<p>There should be no waiting/queue, concurrent processes should never call sub_that_should_be_locked</p>\n"}, {"tags": ["python", "perl", "csv"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429709812, "post_id": 29798664, "comment_id": 47726728, "body": "I also think it is more Perlish to use an <i>exclusion</i> <code>next unless &#47;KW2&#47; .. eof</code> rather than your <i>inclusion</i> which requires its own block that terminates at the same point as the <code>while</code> loop itself. And you have a lot of code that is unnecessarily duplicated"}, {"owner": {"reputation": 107, "user_id": 4811262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/423e9bed1601ebb58a96cf63e29311e4?s=128&d=identicon&r=PG&f=1", "display_name": "Marius", "link": "https://stackoverflow.com/users/4811262/marius"}, "edited": false, "score": 0, "creation_date": 1429821213, "post_id": 29798664, "comment_id": 47794160, "body": "This is really close to working for me :) The only issue I discovered is that my input file have some commented lines that I want to remove. The first comment line is right below the &#39;KW2&#39; line, so that I just solved by adding another &#39;next if /--/;&#39;. But the last comment line is after the last line I want to keep, how can I refer to that line (also starting with &#39;--&#39; and remove it from the output array? (I don&#39;t know the length of my array, so if I can&#39;t use text search to find it I need to calculate the # rows first."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": -1, "last_activity_date": 1429708773, "last_edit_date": 1429708773, "creation_date": 1429708329, "answer_id": 29798664, "question_id": 29797875, "link": "https://stackoverflow.com/questions/29797875/adding-in-between-columns-skipping-and-keeping-some-rows-columns/29798664#29798664", "title": "Adding in-between columns, skipping and keeping some rows/columns", "body": "<p>Here is a way to do it with Perl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# initialize output array\nmy @output = ('KW_NEW');\n\n# proceed first file\nopen my $fh1, '&lt;', 'in1.txt' or die \"unable to open file1: $!\";\nwhile(&lt;$fh1&gt;) {\n    # consider only lines after KW2\n    if (/KW2/ .. eof) {\n        # Don't treat KW2 line\n        next if /KW2/;\n        # split the current line on space and keep only the fifth first element\n        my @l = (split ' ', $_)[0..4];\n        # change the first element\n        $l[0] = 'Z_NEW';\n        # insert 1000 at second position\n        splice @l,1,0,1000;\n        # push into output array\n        push @output, \"@l\";\n    }\n}\n\n# proceed second file\nopen my $fh2, '&lt;', 'in2.txt' or die \"unable to open file2: $!\";\nwhile(&lt;$fh2&gt;) {\n    if (/KW2/ .. eof) {\n        next if /KW2/;\n        my @l = (split ' ', $_)[0..4];\n        $l[0] = 'Z_NEW';\n        splice @l,1,0,1000;\n        push @output, \"@l\";\n    }\n}\n\n# write array to output file\nopen my $fh3, '&gt;', 'out.txt' or die \"unable to open file3: $!\";\nprint $fh3 $_,\"\\n\" for @output;  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "is_accepted": false, "score": 1, "last_activity_date": 1429709203, "creation_date": 1429709203, "answer_id": 29799056, "question_id": 29797875, "link": "https://stackoverflow.com/questions/29797875/adding-in-between-columns-skipping-and-keeping-some-rows-columns/29799056#29799056", "title": "Adding in-between columns, skipping and keeping some rows/columns", "body": "<p>Your files are not \"partly csv\" (there is not a comma in sight); they are (partly) <em>space</em> delimited. You can read the files line-by-line, use Python's <code>.split()</code> method to convert the relevant strings into lists of substrings, and then re-arrange the pieces as you please. The splitting and re-assembly might look something like this:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>input_line = \"'Z1' 30 26 1 1 5 7 /\"  # test data\ninput_items = input_line.split()\noutput_items = [\"'Z_NEW'\", '1000']\noutput_items.append(input_items[1])\noutput_items.append(input_items[2])\noutput_items.append(input_items[3])\noutput_items.append('/')\noutput_line = ' '.join(output_items)\nprint(output_line)\n</code></pre>\n\n<p>The final <code>print()</code> statement shows that the resulting string is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>'Z_NEW' 1000 30 26 1 /\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 536, "user_id": 565019, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4ebb464288ec15bc8b7bfd41fcd4fd9c?s=128&d=identicon&r=PG", "display_name": "Derwent", "link": "https://stackoverflow.com/users/565019/derwent"}, "is_accepted": false, "score": 0, "last_activity_date": 1429709396, "creation_date": 1429709396, "answer_id": 29799139, "question_id": 29797875, "link": "https://stackoverflow.com/questions/29797875/adding-in-between-columns-skipping-and-keeping-some-rows-columns/29799139#29799139", "title": "Adding in-between columns, skipping and keeping some rows/columns", "body": "<p>Is your file format static? (this is not actually csv by the way :P) You might want to investigate a standardized file format like JSON or strict CSV to store your data, so that you can use already-existing tools to parse your input files. python has great JSON and CSV libraries that can do all the hard stuff for you.</p>\n\n<p>If you're stuck with this file format, I would try something along these lines.</p>\n\n<pre><code>path = '&lt;input_path&gt;'\nkws = ['KW1', 'KW2']\ndesired_kw = kws[1]\n\ndef parse_columns(line):\n    array = line.split()\n    if array[-1] is '/':\n        # get rid of trailing slash\n        array = array[:-1]\n\ndef is_kw(cols):\n    if len(cols) &gt; 0 and cols[0] in kws:\n        return cols[0]\n\n# to parse the section denoted by desired keyword\nwith open(path, 'r') as input_fp:\n    matrix = []\n    reading_file = False\n    for line in input_fp.readlines:\n        cols = parse_columns(line)\n        line_is_kw = is_kw(line)\n        if line_is_kw:\n            if not reading_file:\n                if line_is_kw is desired_kw:\n                    reading_file = True\n                else:\n                    continue\n            else:\n                break\n\n        if reading_file:\n            matrix = cols\n\nprint matrix\n</code></pre>\n\n<p>From there you can use stuff like slice notation and basic list manipulation to get your desired array. Good luck!</p>\n"}], "owner": {"reputation": 107, "user_id": 4811262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/423e9bed1601ebb58a96cf63e29311e4?s=128&d=identicon&r=PG&f=1", "display_name": "Marius", "link": "https://stackoverflow.com/users/4811262/marius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 29798664, "answer_count": 3, "score": 0, "last_activity_date": 1429709396, "creation_date": 1429706377, "last_edit_date": 1429708988, "question_id": 29797875, "link": "https://stackoverflow.com/questions/29797875/adding-in-between-columns-skipping-and-keeping-some-rows-columns", "title": "Adding in-between columns, skipping and keeping some rows/columns", "body": "<p>I am new to programming but I have started looking into both Python and Perl.</p>\n\n<p>I am looking for data in two input files that are partly CSV, selecting some of them and putting into a new output file.</p>\n\n<p>Maybe Python CSV or Pandas can help here, but I'm a bit stuck when it comes to skipping/keeping rows and columns.</p>\n\n<p>Also, I don't have any headers for my columns.</p>\n\n<p><strong>Input file 1:</strong></p>\n\n<pre><code>-- Some comments\nKW1\n'Z1' 'F' 30 26 'S'\nKW2\n'Z1' 30 26 1 1 5 7 /\n'Z1' 30 26 2 2 6 8 /\n'Z1' 29 27 4 4 12 13 /\n</code></pre>\n\n<p><strong>Input file 2:</strong></p>\n\n<pre><code>-- Some comments\n-- Some more comments\nKW1\n'Z2' 'F' 40 45 'S'\nKW2\n'Z2' 40 45 1 1 10 10 /\n'Z2' 41 45 2 2 14 15 /\n'Z2' 41 46 4 4 16 17 /\n</code></pre>\n\n<p><strong>Desired output file:</strong></p>\n\n<pre><code>KW_NEW\n'Z_NEW' 1000 30 26 1 /\n'Z_NEW' 1000 30 26 2 /\n'Z_NEW' 1000 29 27 4 /\n'Z_NEW' 1000 40 45 1 /\n'Z_NEW' 1000 41 45 2 /\n'Z_NEW' 1000 41 46 4 /\n</code></pre>\n\n<p>So what I want to do is:</p>\n\n<ul>\n<li><p>Do not include anything in either of my two input files before I reach <code>KW2</code></p></li>\n<li><p>Replace <code>KW2</code> with <code>KW_NEW</code></p></li>\n<li><p>Replace either <code>Z1' or</code>Z2<code>with</code>Z_NEW` in the first column</p></li>\n<li><p>Add a new second column with a constant value e.g. 1000</p></li>\n<li><p>Copy the next three columns as they are</p></li>\n<li><p>Leave out any remaining columns before printing the slash <code>/</code> at the end</p></li>\n</ul>\n\n<p>Could anyone give me at least some general hints/tips how to approach this?</p>\n"}, {"tags": ["perl", "fax"], "comments": [{"owner": {"reputation": 2241, "user_id": 2189793, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9ba53a7b64c6c00ae0468271f79db124?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen Dabral", "link": "https://stackoverflow.com/users/2189793/praveen-dabral"}, "edited": false, "score": 0, "creation_date": 1429704331, "post_id": 29796966, "comment_id": 47722097, "body": "What you have done ? Code Please"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1429755302, "post_id": 29796966, "comment_id": 47752682, "body": "You can use <a href=\"https://metacpan.org/pod/Win32::OLE\" rel=\"nofollow noreferrer\">Win32::OLE</a> to <a href=\"http://www.nu42.com/2015/04/send-fax-using-perl-on-windows.html\" rel=\"nofollow noreferrer\">send a fax using Perl on Windows</a>."}], "answers": [{"tags": [], "owner": {"reputation": 338, "user_id": 4705722, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b0292cef8a0a90ed57d525ed015438eb?s=128&d=identicon&r=PG&f=1", "display_name": "sail0r", "link": "https://stackoverflow.com/users/4705722/sail0r"}, "is_accepted": false, "score": 1, "last_activity_date": 1429712109, "creation_date": 1429712109, "answer_id": 29800365, "question_id": 29796966, "link": "https://stackoverflow.com/questions/29796966/how-can-i-send-fax-using-perl-script/29800365#29800365", "title": "How can i send fax using perl script?", "body": "<p>This older (6 yrs) thread on Perlmonks still seems like a good response to this question, in my opinion.</p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=782340\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=782340</a></p>\n\n<p>Basically, if you have a fax server that has some more or less straightforward method of communicating with it programmatically (like HylaFax) then you can use Perl to interact with it in a familiar way.  </p>\n\n<p>If that is not the case then your best answer is to seek out an external program and perhaps automate that, if possible. The \"external program\" is what you need in order to take care of the many fiddly issues involved with dialing the number, negotiating with the receiver, and so on. </p>\n\n<p>One example of an external program to send faxes is OpenOffice\n<a href=\"http://www.linuxjournal.com/content/faxing-openofficeorg\" rel=\"nofollow\">http://www.linuxjournal.com/content/faxing-openofficeorg</a></p>\n\n<p>Finally, there is fax4j in Java which you could try and use with Inline::Java, which is kind of cheating in the sense that it is just barely a Perl solution.</p>\n\n<p><a href=\"http://sourceforge.net/projects/fax4j/\" rel=\"nofollow\">http://sourceforge.net/projects/fax4j/</a></p>\n\n<p><a href=\"http://search.cpan.org/dist/Inline-Java/Java.pod\" rel=\"nofollow\">http://search.cpan.org/dist/Inline-Java/Java.pod</a></p>\n\n<p>If any of this matches something that you can try out in your environment go ahead and then post back in more detail if you run into trouble implementing.</p>\n"}], "owner": {"reputation": 685, "user_id": 4781696, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/491d3294fd8562ef2a4937e21160ce7e?s=128&d=identicon&r=PG&f=1", "display_name": "HP371", "link": "https://stackoverflow.com/users/4781696/hp371"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "closed_date": 1429738016, "answer_count": 1, "score": -5, "last_activity_date": 1429712109, "creation_date": 1429704195, "question_id": 29796966, "link": "https://stackoverflow.com/questions/29796966/how-can-i-send-fax-using-perl-script", "closed_reason": "Needs more focus", "title": "How can i send fax using perl script?", "body": "<p>I want to send FAX using perl script.\nHow can I do it?\nIs their any way send fax using perl script if any idea please tell me.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl", "vim"], "comments": [{"owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "edited": false, "score": 0, "creation_date": 1429708673, "post_id": 29795943, "comment_id": 47725729, "body": "Have you looked at syntastic to help with syntax issues? <a href=\"https://github.com/scrooloose/syntastic/wiki/Perl:---perl\" rel=\"nofollow noreferrer\">github.com/scrooloose/syntastic/wiki/Perl:---perl</a>"}], "answers": [{"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 2, "last_activity_date": 1429708624, "creation_date": 1429708624, "answer_id": 29798803, "question_id": 29795943, "link": "https://stackoverflow.com/questions/29795943/vim-highlight-too-many-closed-brackets-in-perl-code/29798803#29798803", "title": "Vim - Highlight too many closed brackets in Perl code", "body": "<p>It's possible that this is a bug in the syntax highlight for Perl.  The project that keeps track of all the Perl-specific files that get fed back to the vim project is here: <a href=\"https://github.com/vim-perl/vim-perl\" rel=\"nofollow\">https://github.com/vim-perl/vim-perl</a> (I'm one of the maintainers)  If you think it's a bug in the syntax highlighting, then go ahead and submit an issue on GitHub.</p>\n\n<p>You might also try using the syntax files in the vim-perl project in your local vim.  I don't know what version of vim you're running, but it's possible newer support files will solve your problem.</p>\n"}], "owner": {"reputation": 339, "user_id": 452770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/534361eecaa0e74974763080c7b39962?s=128&d=identicon&r=PG", "display_name": "CyberMuz", "link": "https://stackoverflow.com/users/452770/cybermuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429708624, "creation_date": 1429701682, "last_edit_date": 1429707960, "question_id": 29795943, "link": "https://stackoverflow.com/questions/29795943/vim-highlight-too-many-closed-brackets-in-perl-code", "title": "Vim - Highlight too many closed brackets in Perl code", "body": "<p>I'm trying to configure Vim so that it highlights extra closed brackets in Perl, for example ()<strong>)</strong>. For unclosed brackets this works correctly the extra ( is highlighted red. But the extra closed brackets are not highlighted.\nThis issue is only present when <code>syntax=perl</code>. When I use <code>syntax=c</code> or <code>syntax=vim</code> the unmatched closed brackets are correctly highlighted.</p>\n\n<p>Here is an example with <code>syntax=perl</code>. The first row is fine but in the second row the extra ) is not red. :(</p>\n\n<p><img src=\"https://i.stack.imgur.com/GfuVg.png\" alt=\"perl syntax highlight\"></p>\n\n<p>Do you know any tricks or plugins that could solve this?\nI've found some (very) old vim plugins like Highlight-UnMatched-Brackets but they didn't solve this issue for me.</p>\n"}, {"tags": ["macos", "perl", "fortran"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1429702789, "post_id": 29795392, "comment_id": 47720811, "body": "How about a link to the README file?"}, {"owner": {"reputation": 377, "user_id": 1985987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/755ee785f298689f5c87d8c137a97c15?s=128&d=identicon&r=PG", "display_name": "Marko", "link": "https://stackoverflow.com/users/1985987/marko"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1429703323, "post_id": 29795392, "comment_id": 47721228, "body": "<a href=\"ftp://suzaku.eorc.jaxa.jp/pub/GLI/glical/Global_05km/monthly/readme_Global05km.txt\" rel=\"nofollow noreferrer\">suzaku.eorc.jaxa.jp/pub/GLI/glical/Global_05km/monthly/&hellip;</a>"}, {"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1429727966, "post_id": 29795392, "comment_id": 47740250, "body": "as to the simple question at the end you have not told <code>gfortran</code> the source..  <code>gfortran source.f -o executable</code> .."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 1985987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/755ee785f298689f5c87d8c137a97c15?s=128&d=identicon&r=PG", "display_name": "Marko", "link": "https://stackoverflow.com/users/1985987/marko"}, "edited": false, "score": 0, "creation_date": 1429711871, "post_id": 29796649, "comment_id": 47728486, "body": "Many thanks Mark, that&#39;s been really very helpful. I&#39;m going to have a go at modifying the code to get the data into a file and then onto appending more of the data to that file. Will post the resulting script. Cheers"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "reply_to_user": {"reputation": 377, "user_id": 1985987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/755ee785f298689f5c87d8c137a97c15?s=128&d=identicon&r=PG", "display_name": "Marko", "link": "https://stackoverflow.com/users/1985987/marko"}, "edited": false, "score": 0, "creation_date": 1429712784, "post_id": 29796649, "comment_id": 47729263, "body": "Excellent! If you want the output in a file just do <code>.&#47;go.pl &lt; inputfile &gt; outputfile</code>"}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": true, "score": 1, "last_activity_date": 1429708055, "last_edit_date": 1429708055, "creation_date": 1429703407, "answer_id": 29796649, "question_id": 29795392, "link": "https://stackoverflow.com/questions/29795392/reading-freely-available-uvr-data-using-gfortran-on-mac-osx/29796649#29796649", "title": "Reading freely available UVR data using gfortran on mac OSX", "body": "<p>Well, that file expands to 51,868,800 bytes. The comments imply the header is 14,400 bytes, which leaves 51,854,400 bytes of actual data payload.</p>\n\n<p>There seem to be 7200 lines of data, so that means there are 7202 bytes per line. There seem to be 2 bytes (16-bit samples) so if we assume 2 bytes/sample, that means there are 3601 samples per line, which matches the <code>ml=3601</code>.</p>\n\n<p>So basically, you need to read 14,400 bytes of header, then 7200 lines of data, each line consisting of 3601 values, each of those being 2 bytes wide...</p>\n\n<p>Actually, if you are that unfamiliar with FORTRAN, you may like to extract the data with Perl which is already installed and available on OS X anyway. I have started a VERY SIMPLISTIC Perl program that reads the dat and prints the first 2 values on each line:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# Read 14,400 bytes of header\nmy $buffer;\nmy $nBytes = 14400; \nmy $bytesRead = read (STDIN, $buffer, $nBytes) ;\nmy ($npixel,$nline,$lon_min,$lat_max,$reso,$slope,$offset,$junk)=split(' ',$buffer);\nprint \"npixel:$npixel\\n\";\nprint \"nline:$nline\\n\";\nprint \"lon_min:$lon_min\\n\";\nprint \"lat_max:$lat_max\\n\";\nprint \"reso:$reso\\n\";\nprint \"slope:$slope\\n\";\n$offset =~ s/,.*//; # strip trailing comma and junk\nprint \"offset:$offset\\n\";\n\n# Read actual lines of data\nmy $line;\nfor(my $m=1;$m&lt;=$nline;$m++){\n   read(STDIN,$line,$npixel*2);\n   my $x=$npixel*2;\n   my @values=unpack(\"S$x\",$line);\n   printf \"Line: %d\",$m;\n   for(my $j=0;$j&lt;2;$j++){\n      printf \",%f\",$values[$j]*$slope+$offset;\n   }\n   printf \"\\n\"; # newline\n}\n</code></pre>\n\n<p>Save it as <code>go.pl</code> and then in the Terminal, type the following once to make it executable</p>\n\n<pre><code>chmod +x go.pl\n</code></pre>\n\n<p>and then run it like this</p>\n\n<pre><code>./go.pl &lt; MOD02SSH_A20000224Av6_v601_7200_3601_uvb__le\n</code></pre>\n\n<p>Sample output extract:</p>\n\n<pre><code>npixel:7200\nnline:3601\nlon_min:0.00\nlat_max:90.00\nreso:0.0500\nslope:0.10000E-03\noffset:0.00000E+00\n...\n...\nLine: 3306,0.099800,0.099800\nLine: 3307,0.099900,0.099900\nLine: 3308,0.099400,0.074200\nLine: 3309,0.098900,0.098900\nLine: 3310,0.098400,0.098400\nLine: 3311,0.074300,0.074200\nLine: 3312,0.071300,0.071200\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "is_accepted": false, "score": 0, "last_activity_date": 1493064731, "last_edit_date": 1493064731, "creation_date": 1493063073, "answer_id": 43596487, "question_id": 29795392, "link": "https://stackoverflow.com/questions/29795392/reading-freely-available-uvr-data-using-gfortran-on-mac-osx/43596487#43596487", "title": "Reading freely available UVR data using gfortran on mac OSX", "body": "<p>fortran (f2003 or so) solution.  (The linked instructions are awful by the way )</p>\n\n<pre><code>      implicit none\n      character*80 para,outfile\n      character(len=:),allocatable::header,infile      \n      integer npixel,nline,blen,i\nc note kind=2 is not standard. This needs to be a 2-byte integer.\n      integer(kind=2),allocatable :: data(:,:)\n      real lon_min,lat_max,reso,slope,off\nc header is plain text, so first open formatted and\nc directly read header data\n      infile='MOD02SSH_A20000224Av6_v601_7200_3601_uvb__le'\n      open(10,file=infile)\n      read(10,*)npixel,nline,lon_min,lat_max,reso,slope,off,\n     $     para,outfile\n      close(10)\n      write(*,*)npixel,nline,lon_min,lat_max,reso,slope,off,\n     $     trim(para),' ',trim(outfile)\n      blen=2*npixel\n      allocate(character(len=blen)::header)\n      allocate(data(npixel,nline))\n      if( sizeof(data(1,1)).ne.2 )then\n         write(*,*)'error kind=2 did not give a 2 byte integer'\n         stop\n      endif\nc now close and reopen for binary read.\nc direct access approach:\n      open(20,file=infile,access='direct',recl=blen/4)      \nc note the granularity of the recl= specifier is not standard.\nc ifort uses 4 bytes.  (note this will break if npixel is not even )\n      read(20,rec=1)header\n      write(*,*)trim(header)\n      do i=1,nline\n         read(20,rec=i+1)data(:,i)\n      enddo\nc note streams if available is simpler: (we don't need to know rec len )\nc      open(20,file=infile,access='stream')\nc      read(20)header,data\n      end\n</code></pre>\n\n<p>This is not actually validated because I don't have known file content to compare against.</p>\n"}], "owner": {"reputation": 377, "user_id": 1985987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/755ee785f298689f5c87d8c137a97c15?s=128&d=identicon&r=PG", "display_name": "Marko", "link": "https://stackoverflow.com/users/1985987/marko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 29796649, "answer_count": 2, "score": 0, "last_activity_date": 1493064731, "creation_date": 1429700278, "last_edit_date": 1429712163, "question_id": 29795392, "link": "https://stackoverflow.com/questions/29795392/reading-freely-available-uvr-data-using-gfortran-on-mac-osx", "title": "Reading freely available UVR data using gfortran on mac OSX", "body": "<p>I would like to use fortran to read ultraviolet radiation data that has been produced by the Japan Aerospace Exploration Agency. This data is at a daily and monthly temporal resolution from 2000-2010 at a ~5 km spatial resolution. This question is worth answering as the data could be useful for a number of environment/health projects and is freely available, with proper acknowledgement of source and sharing of preprint of any subsequent publications, from: </p>\n\n<p><a href=\"ftp://suzaku.eorc.jaxa.jp/pub/GLI/glical/Global_05km/monthly/uvb/\" rel=\"nofollow\">ftp://suzaku.eorc.jaxa.jp/pub/GLI/glical/Global_05km/monthly/uvb/</a></p>\n\n<p>There is a readme file available, which provides instructions on how to read data using fortran as follows:</p>\n\n<p><strong>Instructions for _le files</strong></p>\n\n<p><em>Header</em></p>\n\n<pre><code>Read header (size= pixel size *2byte):\ncharacter head*14400\n\nread(10,rec=1) head\nread(head,'(2i6,2f8.2,f8.4,2e12.5,a1,a8,a1,a40)') \n     &amp; npixel,nline,lon_min,lat_max,reso,slope,offset,',',\n     &amp; para,',',outfile\n</code></pre>\n\n<p><em>Read data (e.g., fortran77)</em></p>\n\n<pre><code>parameter(nl=7200, ml=3601)\n\n... open file by \"unformatted\", \"recl=nl*2(byte)\" (,\"bytereclen\")\n\ninteger*2 i2buf(nl,ml)\ndo m=1,ml\n read(10,rec=1+m) (i2buf(n,m), n=1,nl)\n do n=1,nl\n   par=i2buf(n,m)*slope+offset\n   write(6,*) 'PAR[Ein/m^2/day]=',par\n enddo\nenddo\n</code></pre>\n\n<p><em>slope values</em></p>\n\n<p>par__le : daily PAR [Ein/m^2/day] = DN * 0.01</p>\n\n<p>dpar_le : direct PAR = DN * 0.01</p>\n\n<p>swr__le : daily mean shortwave radiation [W/m^2] = DN * 0.01</p>\n\n<p>tip__le : transmittance of instantaneous PAR at noon = DN * 0.0001</p>\n\n<p>uva__le : daily mean UVA [W/m^2] = DN * 0.001</p>\n\n<p>uvb__le : daily mean UVB [W/m^2] = DN * 0.0001</p>\n\n<p>rpar_le : PAR-range surface reflectance (TOP of canopy/solid surfaces) = DN * 0.0001 (monthly data only)</p>\n\n<p><em>error values</em></p>\n\n<p>-1 as signed short integer (int16)</p>\n\n<p>65535 as unsigned short integer (uint16)</p>\n\n<p><strong>Progress so far</strong></p>\n\n<p>I have downloaded and installed gfortran successfully on mac OSX. I have downloaded a test file (MOD02SSH_A20000224Av6_v601_7200_3601_uvb__le.gz) and decompressed it. I have created a program file:</p>\n\n<pre><code>PROGRAM readuvr\nIMPLICIT NONE\n\n!some code\n\nEND PROGRAM\n</code></pre>\n\n<p>I will then type the following into the command line to create an executable and run it to extract the data.</p>\n\n<pre><code>gfortran -o executable\n\n./executable\n</code></pre>\n\n<p>As a complete beginner to fortran, my question is: how can I use the instructions provided to build a program that can read the data and output it into a text file? </p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 3932272, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/04339db477ea7e9a3b606d61f9060e76?s=128&d=identicon&r=PG&f=1", "display_name": "sai", "link": "https://stackoverflow.com/users/3932272/sai"}, "edited": false, "score": 0, "creation_date": 1429782717, "post_id": 29796073, "comment_id": 47766124, "body": "oh yeah, i didnt use print statement. It worked . Thank you @Sinan Unur"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 4, "last_activity_date": 1429707795, "last_edit_date": 1592644375, "creation_date": 1429701989, "answer_id": 29796073, "question_id": 29795171, "link": "https://stackoverflow.com/questions/29795171/how-can-i-modify-an-xml-file-in-place-using-perls-xmltwig/29796073#29796073", "title": "How can I modify an XML file in place using Perl&#39;s XML::Twig?", "body": "<p>Here is what <a href=\"https://metacpan.org/pod/XML::Twig#parsefile_inplace-file-optional_extension\" rel=\"nofollow noreferrer\">the documentation for <code>parsefile_inplace</code></a> says:</p>\n<blockquote>\n<p><code>parsefile_inplace ( $file, $optional_extension)</code></p>\n<p>Parse and update a file &quot;in place&quot;. It does this by creating a temp file, <em><strong>selecting it as the default for <code>print()</code> statements</strong></em> (and methods), then parsing the input file. If the parsing is successful, then the temp file is moved to replace the input file.</p>\n<p>If an extension is given then the original file is backed-up (the rules for the extension are the same as the rule for the <code>-i</code> option in <code>perl</code>). (<em>emphasis mine</em>)</p>\n</blockquote>\n<p>I do not see any print statements in your code.</p>\n<p>Here is one way to do it, with small changes to your code:</p>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig= XML::Twig-&gt;new(\n    pretty_print =&gt; 'indented',\n    twig_roots =&gt; {\n        jdk =&gt; sub{\n            my ($t, $jdk) = @_;\n            $jdk-&gt;set_text( 'JDK 1.8.0_40' );\n            $jdk-&gt;print;\n            $jdk-&gt;purge;\n            return;\n        },\n    },\n    twig_print_outside_roots =&gt; 1,\n);\n\n$twig-&gt;parsefile_inplace( 'nightly.xml', '.bak' );\n$twig-&gt;flush;\n</code></pre>\n"}], "owner": {"reputation": 300, "user_id": 3932272, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/04339db477ea7e9a3b606d61f9060e76?s=128&d=identicon&r=PG&f=1", "display_name": "sai", "link": "https://stackoverflow.com/users/3932272/sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 0, "accepted_answer_id": 29796073, "answer_count": 1, "score": 1, "last_activity_date": 1429707795, "creation_date": 1429699698, "last_edit_date": 1429707654, "question_id": 29795171, "link": "https://stackoverflow.com/questions/29795171/how-can-i-modify-an-xml-file-in-place-using-perls-xmltwig", "title": "How can I modify an XML file in place using Perl&#39;s XML::Twig?", "body": "<p>I am using Perl and <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\">XML::Twig</a>. I have made some changes in the XML file( changing the values of the tags). But I cannot write it in the same XML file. If I use <code>parsefile_inplace()</code> the whole XML file got empty. Please find the code below.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig= XML::Twig-&gt;new(\n        pretty_print =&gt; 'indented',\n        twig_handlers =&gt; {\n            jdk =&gt; sub{ \n            $_-&gt;set_text( 'JDK 1.8.0_40' )\n            },\n            },\n        );\n$twig-&gt;parsefile_inplace( 'nightly.xml', 'bak.*' );\n$twig-&gt;flush;\n</code></pre>\n\n<p>Part of XML file:</p>\n\n<pre><code>&lt;jdk&gt;JDK 1.7.0_40&lt;/jdk&gt;\n</code></pre>\n\n<p>If I use flush command it gives the desired output on cmd.</p>\n\n<p>If I use <code>parsefile_inplace</code> command it is emptying the <code>nightly.xml</code>. </p>\n\n<p>If I just use <code>parsefile</code> the original file is left intact without changing the value i want to change.</p>\n\n<p>My requirement is to edit the value and save it in the same file</p>\n"}, {"tags": ["sql", "perl", "plsql", "sqlplus"], "comments": [{"owner": {"reputation": 2508, "user_id": 2235839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he00m.jpg?s=128&g=1", "display_name": "A Nice Guy", "link": "https://stackoverflow.com/users/2235839/a-nice-guy"}, "edited": false, "score": 0, "creation_date": 1430377793, "post_id": 29794842, "comment_id": 48042839, "body": "Can you please remove the DBMS_OUTPUT(the entire loop) from the code and run and check the timing?&lt;/br&gt;                       Also, use a LIMIT clause in FETCH for safety - &quot;FETCH CUR2 BULK COLLECT INTO l_tab2 LIMIT 10000&quot;"}, {"owner": {"reputation": 2508, "user_id": 2235839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he00m.jpg?s=128&g=1", "display_name": "A Nice Guy", "link": "https://stackoverflow.com/users/2235839/a-nice-guy"}, "edited": false, "score": 0, "creation_date": 1430378084, "post_id": 29794842, "comment_id": 48042995, "body": "Did you try using the index?   And of course everything above is assuming VOUCHERHISTORYCLIENTV is a table as you mentioned and not a View"}, {"owner": {"reputation": 187, "user_id": 4395029, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8fc584900f95fe27f78834d21853522d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/4395029/ankur"}, "reply_to_user": {"reputation": 2508, "user_id": 2235839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he00m.jpg?s=128&g=1", "display_name": "A Nice Guy", "link": "https://stackoverflow.com/users/2235839/a-nice-guy"}, "edited": false, "score": 0, "creation_date": 1430378704, "post_id": 29794842, "comment_id": 48043383, "body": "I am sorry I made a blunder.. i forgot to mention that VOUCHERHISTORYCLIENTV is a view not the table... which fetches data from 2 more views &amp; other 6 to 7 tables... meanwhile I will work on your advice &amp; will let u know the result..."}, {"owner": {"reputation": 2508, "user_id": 2235839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he00m.jpg?s=128&g=1", "display_name": "A Nice Guy", "link": "https://stackoverflow.com/users/2235839/a-nice-guy"}, "edited": false, "score": 0, "creation_date": 1430391631, "post_id": 29794842, "comment_id": 48051567, "body": "Man.. that means you need to optimise the underlying view queries  - recursively - till u reach all the views - beacuse that is what is being fired actually.(SELECT * FROM MY_VIEW == THE QUERY OF THE VIEW). You have a lot of analysis to do :)"}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 4395029, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8fc584900f95fe27f78834d21853522d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/4395029/ankur"}, "edited": false, "score": 0, "creation_date": 1429701881, "post_id": 29795224, "comment_id": 47720099, "body": "Thanks.. yes I tried this query but as the Db view is too large &amp; contains millions of records.. query is getting hanged &amp; not able to produce output. That is why I have broken it into two parts..."}, {"owner": {"reputation": 187, "user_id": 4395029, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8fc584900f95fe27f78834d21853522d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/4395029/ankur"}, "edited": false, "score": 0, "creation_date": 1430369285, "post_id": 29795224, "comment_id": 48038918, "body": "Thanks for help.. I went through the links &amp; tried to find out the solution but stuck again.. I have explained my problem in original question. Could you please help.."}], "tags": [], "owner": {"reputation": 2508, "user_id": 2235839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he00m.jpg?s=128&g=1", "display_name": "A Nice Guy", "link": "https://stackoverflow.com/users/2235839/a-nice-guy"}, "is_accepted": false, "score": 2, "last_activity_date": 1429764942, "last_edit_date": 1495541664, "creation_date": 1429699832, "answer_id": 29795224, "question_id": 29794842, "link": "https://stackoverflow.com/questions/29794842/how-to-supply-values-to-a-pl-sql-loop-from-a-select-query/29795224#29795224", "title": "How to supply values to a PL/SQL loop from a select query", "body": "<p>For once, you can just replace the 2 queries with this single query:</p>\n\n<pre><code>SELECT * FROM VSOWNERUPE07.VOUCHERHISTORYCLIENTV \n   WHERE serialnumber IN (SELECT DISTINCT serialnumber FROM  \n                           VOUCHERHISTORYCLIENTV WHERE at LIKE '&amp;1');\n</code></pre>\n\n<p>And write to output to your final file.</p>\n\n<p>You see any issues with this?</p>\n\n<p><strong>UPDATE1</strong>\n<br><br>First, breaking it into 2 different queries is almost never a better solution.SQL context switch will kill you.\n<br><br>Build index on <code>serialnumber</code> and <code>at</code> columns of the two tables respectively and try with the single query.\n<br> If even then its slow you can try UPDATE2.</p>\n\n<p><strong>UPDATE2</strong></p>\n\n<p>If too many records is the problem,, then use Bulk Processing.\nThe process is a bit tedious, but is designed to handle these kind of situations.</p>\n\n<p>Some examples how to do Bulk Processing are <a href=\"https://stackoverflow.com/questions/987013/bulk-insert-into-oracle-database-which-is-better-for-cursor-loop-or-a-simple-s\">here</a>, <a href=\"http://www.java2s.com/Tutorial/Oracle/0440__PL-SQL-Statements/selectBULKCOLLECT.htm\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://www.oracle.com/technetwork/issue-archive/2012/12-sep/o52plsql-1709862.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>For this to work, you will probably have to write  a PLSQL procedure.\n<br> Inside the procedure, bulk collect all the data into a , say, varray from your first query.\nnow run the second select query using this varray and collect your data.</p>\n\n<p>Next\n<br> You can put these serial numbers into, say another v array and write it to a file\n        <br>                        or                 <br>\ncreate a new single column table and write it to this new table.\nthen write it to a file/query this new table from perl separately.\n<br> \n<br> Note1:\nIf you are using a separate table, truncate it after each run; and build index on it \n<br> Note2:  If you are clueless of what I am talking about, check out those links first.</p>\n"}], "owner": {"reputation": 187, "user_id": 4395029, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8fc584900f95fe27f78834d21853522d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/4395029/ankur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430378779, "creation_date": 1429698834, "last_edit_date": 1430378779, "question_id": 29794842, "link": "https://stackoverflow.com/questions/29794842/how-to-supply-values-to-a-pl-sql-loop-from-a-select-query", "title": "How to supply values to a PL/SQL loop from a select query", "body": "<p>Hi friends I have a perl script which interacts with oracle Db through sqlplus. Here I am running two queries. first query fetches the serial numbers for a specific date from view and writes to a file.</p>\n\n<pre><code>SELECT DISTINCT serialnumber FROM VOUCHERHISTORYCLIENTV WHERE at LIKE '&amp;1';    (where &amp;1 = $date)\n</code></pre>\n\n<p>Then perl loop reads this file, takes serial number line by line &amp; runs the below query, writes the data to another file which then processed by the following perl code. Now these serial numbers are too huge so every iteration of loop connects to sqlplus runs the query &amp; generates the output &amp; then disconnects. That is why it is taking too much time.</p>\n\n<pre><code>SELECT * FROM VSOWNERUPE07.VOUCHERHISTORYCLIENTV WHERE serialnumber = '&amp;1';    (where &amp;1 = $serialnumber)\n</code></pre>\n\n<p>Is there any way where I don't need to connect &amp; disconnect sqlplus session again &amp; again? what I want in the end is result of the second query for each iteration appended on an unix file..so that my perl script could format them. I guess pl/sql loop can do that...but I have never worked on pl/sql...could you please help me here?</p>\n\n<p>PS: I can't use DBD::oracle here as I am facing too many issues while installing this module on solaris mahine &amp; as this server is 3rd party server so I can't make any chnages on this</p>\n\n<p><strong>Update: 1</strong></p>\n\n<p>I tried below two procedures &amp; run for specific date for which table has 6 million records. but query kept running &amp; didn't produce any output even after 2 days...</p>\n\n<p><strong>Procedure# 1:</strong></p>\n\n<pre><code>  DECLARE\n\n    CURSOR CUR1 IS\n    SELECT DISTINCT serialnumber FROM VSOWNERUPE07.VOUCHERHISTORYCLIENTV WHERE at LIKE '&amp;1';\n\n    CURSOR CUR2(p_ser_num NUMBER) IS\n    SELECT serialnumber, state, at as time1, operatorid  FROM VSOWNERUPE07.VOUCHERHISTORYCLIENTV WHERE serialnumber = p_ser_num;\n\n    BEGIN\n\n    FOR l_cur1 IN CUR1\n    LOOP\n      NULL;\n      FOR l_cur2 IN CUR2(l_cur1.serialnumber)\n      LOOP\n\n       DBMS_OUTPUT.PUT_LINE(l_cur2.serialnumber||' '||l_cur2.state ||' '||l_cur2.time1 ||' '||l_cur2.operatorid );\n\n      END LOOP;\n    END LOOP;\n    END;\n\n    /\n\n    quit;\n</code></pre>\n\n<p><strong>Procedure# 2:</strong></p>\n\n<pre><code>DECLARE\n\nCURSOR CUR1 IS\nSELECT DISTINCT serialnumber FROM VSOWNERUPE07.VOUCHERHISTORYCLIENTV WHERE at LIKE '&amp;1';\n\nTYPE t_tab1 IS TABLE OF CUR1%ROWTYPE;\n\nl_tab1 t_tab1;\n\nCURSOR CUR2(p_ser_num NUMBER) IS\nSELECT serialnumber, state, at as time1, operatorid  FROM VSOWNERUPE07.VOUCHERHISTORYCLIENTV WHERE serialnumber = p_ser_num;\n\nTYPE t_tab2 IS TABLE OF CUR2%ROWTYPE;\n\nl_tab2 t_tab2;\n\n\nBEGIN\n\n  OPEN CUR1;\n  LOOP\n   FETCH CUR1 BULK COLLECT INTO l_tab1;\n   EXIT WHEN CUR1%NOTFOUND;\n  END LOOP;\n  CLOSE CUR1;\n FOR i in 1..l_tab1.COUNT\n   LOOP\n    OPEN CUR2(l_tab1(i).serialnumber);\n       LOOP\n          FETCH CUR2 BULK COLLECT INTO l_tab2;\n          EXIT WHEN CUR2%NOTFOUND;\n       END LOOP;\n    CLOSE CUR2;\n       for j in 1..l_tab2.COUNT\n            LOOP\n              DBMS_OUTPUT.PUT_LINE(l_tab2(j).serialnumber||' '||l_tab2(j).state ||' '||l_tab2(j).time1 ||' '||l_tab2(j).operatorid );\n            END LOOP;\n   END LOOP;\n\nEND;\n\n/\n\nquit;\n</code></pre>\n\n<p>Can I improve the above procedures or there is any other way which can do the job for us? Please help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1429694171, "post_id": 29791774, "comment_id": 47714379, "body": "<a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "is_accepted": false, "score": 0, "last_activity_date": 1429692190, "last_edit_date": 1429692190, "creation_date": 1429691635, "answer_id": 29791907, "question_id": 29791774, "link": "https://stackoverflow.com/questions/29791774/removing-trailing-words-end-with-from-a-string-using-perl/29791907#29791907", "title": "removing trailing words end with : from a string using perl", "body": "<p>take</p>\n\n<pre><code>my $string = \"lunch_at_home: start at 1pm.\";\n</code></pre>\n\n<p>to remove everything up to the last \":\" and the period at the end of the entry as in your question:</p>\n\n<pre><code>$string =~ s/.*: (.*)\\./$1/;\n</code></pre>\n\n<p>to remove everything up to the first \":\"</p>\n\n<pre><code>$string =~ s/.*?: (.*)\\./$1/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 1893, "user_id": 362922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DxrS.jpg?s=128&g=1", "display_name": "Brian Kintz", "link": "https://stackoverflow.com/users/362922/brian-kintz"}, "edited": false, "score": 0, "creation_date": 1429691908, "post_id": 29791931, "comment_id": 47712697, "body": "@BrianKintz maybe. I have changed my answer"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 3, "last_activity_date": 1429691894, "last_edit_date": 1429691894, "creation_date": 1429691696, "answer_id": 29791931, "question_id": 29791774, "link": "https://stackoverflow.com/questions/29791774/removing-trailing-words-end-with-from-a-string-using-perl/29791931#29791931", "title": "removing trailing words end with : from a string using perl", "body": "<p>This should do the job.</p>\n\n<pre><code>my $string = \"lunch_at_home: start at 1pm.\" \n$string =~ s/^.*:\\s*//;\n</code></pre>\n\n<p>It will remove all char before <code>:</code> including the <code>:</code></p>\n"}, {"tags": [], "owner": {"reputation": 24, "user_id": 910542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0137b1556b47b0e7693a657ecc2a012e?s=128&d=identicon&r=PG", "display_name": "Jeff Walter", "link": "https://stackoverflow.com/users/910542/jeff-walter"}, "is_accepted": false, "score": 1, "last_activity_date": 1429692615, "creation_date": 1429692615, "answer_id": 29792297, "question_id": 29791774, "link": "https://stackoverflow.com/questions/29791774/removing-trailing-words-end-with-from-a-string-using-perl/29792297#29792297", "title": "removing trailing words end with : from a string using perl", "body": "<p>If you want to remove a specific set of words that are set apart from the data you want:</p>\n\n<pre><code>my $string = 'lunch_at_home: start at 1pm.';\n$string =~ s/\\b(lunch_at_home|breakfast_at_work):\\s*//;\n</code></pre>\n\n<p>That would leave you with <code>start at 1pm.</code> and you can expand the list as needed.</p>\n\n<p>If you just want to remove any \"words\" (we'll use the term loosely) that end with a colon:</p>\n\n<pre><code>my $string = 'lunch_at_home: start at 1pm.';\n$string =~ s/\\b\\S+:\\s*//;\n</code></pre>\n\n<p>You'd end up with the same thing in this case.</p>\n"}, {"tags": [], "owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "is_accepted": false, "score": 0, "last_activity_date": 1429694372, "creation_date": 1429694372, "answer_id": 29792986, "question_id": 29791774, "link": "https://stackoverflow.com/questions/29791774/removing-trailing-words-end-with-from-a-string-using-perl/29792986#29792986", "title": "removing trailing words end with : from a string using perl", "body": "<p><a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> on <code>:</code> and discard the first part:</p>\n\n<pre><code>my (undef, $value) = split /:\\s*/, $string, 2;\n</code></pre>\n\n<p>The final argument (<code>2</code>), ensures this works correctly if the trailing string contains a <code>:</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1429694541, "creation_date": 1429694541, "answer_id": 29793062, "question_id": 29791774, "link": "https://stackoverflow.com/questions/29791774/removing-trailing-words-end-with-from-a-string-using-perl/29793062#29793062", "title": "removing trailing words end with : from a string using perl", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a> function to achieve this:</p>\n\n<pre><code>my $string = \"lunch_at_home: start at 1pm.\";\n$string = (split /:\\s*/, $string)[1];\nprint \"$string\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4818388, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lq8aq7C_F6U/AAAAAAAAAAI/AAAAAAAABfs/N0zkd4A5EkM/photo.jpg?sz=128", "display_name": "Intan Mohd Mohdi", "link": "https://stackoverflow.com/users/4818388/intan-mohd-mohdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1429694541, "creation_date": 1429691281, "last_edit_date": 1429692031, "question_id": 29791774, "link": "https://stackoverflow.com/questions/29791774/removing-trailing-words-end-with-from-a-string-using-perl", "title": "removing trailing words end with : from a string using perl", "body": "<p>i have question on how to remove specific set of words that end with : in a string using perl.</p>\n\n<p>For instance, </p>\n\n<pre><code>lunch_at_home: start at 1pm.\n</code></pre>\n\n<p>I want to get only \"start at 1 pm\"after discarding \"lunch_at_home:\"</p>\n\n<p>note that lunch_at_home is just an example. It can be any string with any length  but it should end with \":\"</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1429687861, "post_id": 29790447, "comment_id": 47710160, "body": "What is the language? You do not need a regex here, I believe, unless you are using some text editor."}, {"owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1429687899, "post_id": 29790447, "comment_id": 47710189, "body": "The language is PERL."}], "answers": [{"tags": [], "owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "is_accepted": false, "score": 1, "last_activity_date": 1429693232, "last_edit_date": 1429693232, "creation_date": 1429687506, "answer_id": 29790540, "question_id": 29790447, "link": "https://stackoverflow.com/questions/29790447/match-a-file-name-that-includes-the-path-and-a-period-within-the-name/29790540#29790540", "title": "Match a file name that includes the path and a period within the name", "body": "<p>Just add <code>.txt</code> to your regex and since * is greedy by default it will match everything till last .txt</p>\n\n<pre><code>([^\\/]*)\\.txt$\n</code></pre>\n\n<p><strong>Input:</strong></p>\n\n<pre><code>/var/www/foo/dog.tur-tles.chickens.txt.txt\n/var/www/foo/dog.tur-tles.chickens.txt\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>dog.tur-tles.chickens.txt\ndog.tur-tles.chickens\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/tG5aW4/2\" rel=\"nofollow\">DEMO</a></p>\n"}, {"comments": [{"owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1429687746, "post_id": 29790584, "comment_id": 47710082, "body": "This is not matching <code>dog.tur-tles.chickens.txt</code> and taking out the <code>.txt</code>"}, {"owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1429687974, "post_id": 29790584, "comment_id": 47710240, "body": "What does the 2 match mean?  I&#39;m misunderstanding this thing.  My apologies."}, {"owner": {"reputation": 50117, "user_id": 243943, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1c2c4840dd73dbea59932f83d4640c56?s=128&d=identicon&r=PG", "display_name": "npinti", "link": "https://stackoverflow.com/users/243943/npinti"}, "reply_to_user": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1429688451, "post_id": 29790584, "comment_id": 47710566, "body": "No particular value. You can also use <code>([^\\&#47;]*)\\..+?$</code> if it makes you less confused. I usually use the brackets to try and break down the regex into digestable chunks."}, {"owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1429688907, "post_id": 29790584, "comment_id": 47710834, "body": "I used your solution and it works very well.  I decided to just try it out.  I appreciate you continued effort to work with me on the solution."}, {"owner": {"reputation": 50117, "user_id": 243943, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1c2c4840dd73dbea59932f83d4640c56?s=128&d=identicon&r=PG", "display_name": "npinti", "link": "https://stackoverflow.com/users/243943/npinti"}, "reply_to_user": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1429689476, "post_id": 29790584, "comment_id": 47711176, "body": "@KirsKringle: You&#39;re welcome. That being said, please keep an eye out for possible caveats (mainly files with multiple extensions)."}], "tags": [], "owner": {"reputation": 50117, "user_id": 243943, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1c2c4840dd73dbea59932f83d4640c56?s=128&d=identicon&r=PG", "display_name": "npinti", "link": "https://stackoverflow.com/users/243943/npinti"}, "is_accepted": true, "score": 1, "last_activity_date": 1429687601, "creation_date": 1429687601, "answer_id": 29790584, "question_id": 29790447, "link": "https://stackoverflow.com/questions/29790447/match-a-file-name-that-includes-the-path-and-a-period-within-the-name/29790584#29790584", "title": "Match a file name that includes the path and a period within the name", "body": "<p>You could use something like so: <code>([^\\/]*)(\\.).+?$</code>.</p>\n\n<p>An example is available <a href=\"https://regex101.com/r/dY0iJ5/1\" rel=\"nofollow\">here</a>. Not though that this will fail for extensions such as <code>.tar.gz</code> and so on.</p>\n"}, {"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1429689396, "post_id": 29790972, "comment_id": 47711131, "body": "When it comes to file name parsing, regular expressions are usually not efficient <i>unless</i> there is really a very special requirement."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1429688789, "creation_date": 1429688789, "answer_id": 29790972, "question_id": 29790447, "link": "https://stackoverflow.com/questions/29790447/match-a-file-name-that-includes-the-path-and-a-period-within-the-name/29790972#29790972", "title": "Match a file name that includes the path and a period within the name", "body": "<p>You may use <a href=\"http://search.cpan.org/perldoc/File%3A%3ABasename\" rel=\"nofollow\"><code>File::Basename.fileparse</code></a> to get the file name, then use <code>rindex</code> to get the last index of <code>.</code> and then get the required substring using <code>substr</code>:</p>\n\n<pre><code>use File::Basename;\n$x = fileparse('/var/www/foo/dog.tur-tles.chickens.txt');\nprint substr($x, 0, rindex($x, '.')) . \"\\n\";\n</code></pre>\n\n<p>Output of a <a href=\"http://www.tutorialspoint.com/execute_perl_online.php?PID=0Bw_CjBb95KQMZTdPcUlrNWxwZk0\" rel=\"nofollow\">sample program</a>:</p>\n\n<pre><code>dog.tur-tles.chickens\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 1, "last_activity_date": 1429689671, "creation_date": 1429689671, "answer_id": 29791258, "question_id": 29790447, "link": "https://stackoverflow.com/questions/29790447/match-a-file-name-that-includes-the-path-and-a-period-within-the-name/29791258#29791258", "title": "Match a file name that includes the path and a period within the name", "body": "<pre><code>$name = ($pathname =~ s{.*/}{}r =~ s{\\.[^.]+$}{}r)\n</code></pre>\n\n<ul>\n<li>substitution 1 : just remove dir</li>\n<li>substitution 2 : just remove extension if presente</li>\n</ul>\n"}], "owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 29790584, "answer_count": 4, "score": 0, "last_activity_date": 1429693232, "creation_date": 1429687267, "last_edit_date": 1429688107, "question_id": 29790447, "link": "https://stackoverflow.com/questions/29790447/match-a-file-name-that-includes-the-path-and-a-period-within-the-name", "title": "Match a file name that includes the path and a period within the name", "body": "<p>I have a file I need to take just its name:</p>\n\n<pre><code>/var/www/foo/dog.tur-tles.chickens.txt\n</code></pre>\n\n<p>I want to match just the:</p>\n\n<pre><code>dog.tur-tles.chickens\n</code></pre>\n\n<p>I have tried this in regexer:</p>\n\n<pre><code>([^\\/]*)$\n</code></pre>\n\n<p>This matches:</p>\n\n<pre><code>dog.tur-tles.chickens.txt\n</code></pre>\n\n<p>I can't figure out how to only exclude that last period.  </p>\n\n<p>You can assume it will always be a .txt, but I wanted to build in the ability that if a file was named <code>dog-turtles.txt.txt</code> it would see that the name is <code>dog-turtles.txt</code>.  </p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1429689251, "post_id": 29789606, "comment_id": 47711040, "body": "I don&#39;t really understand your question. Could you give a better example?"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 2438389, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b287324ed49554f0d9f4de1f295632e?s=128&d=identicon&r=PG", "display_name": "mikb", "link": "https://stackoverflow.com/users/2438389/mikb"}, "edited": false, "score": 0, "creation_date": 1429702065, "post_id": 29791112, "comment_id": 47720254, "body": "Yes, that does work. Thank you. The supplementary question is why does using a block work, but using and expr does not?"}, {"owner": {"reputation": 91, "user_id": 4317237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ed4612090aceefcd284b80da8ca845?s=128&d=identicon&r=PG&f=1", "display_name": "clumb", "link": "https://stackoverflow.com/users/4317237/clumb"}, "reply_to_user": {"reputation": 123, "user_id": 2438389, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b287324ed49554f0d9f4de1f295632e?s=128&d=identicon&r=PG", "display_name": "mikb", "link": "https://stackoverflow.com/users/2438389/mikb"}, "edited": false, "score": 0, "creation_date": 1429705203, "post_id": 29791112, "comment_id": 47722810, "body": "This is ripped from perldoc: &quot; %hash = map +( lc($_) =&gt; 1 ), @ array # this is EXPR and works! &quot; - looks like you need brackets around it if you want to use EXPR. @mikb"}], "tags": [], "owner": {"reputation": 91, "user_id": 4317237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ed4612090aceefcd284b80da8ca845?s=128&d=identicon&r=PG&f=1", "display_name": "clumb", "link": "https://stackoverflow.com/users/4317237/clumb"}, "is_accepted": false, "score": 0, "last_activity_date": 1429689201, "creation_date": 1429689201, "answer_id": 29791112, "question_id": 29789606, "link": "https://stackoverflow.com/questions/29789606/slicing-key-value-pairs-from-a-hash-of-hashes-in-perl/29791112#29791112", "title": "Slicing key-value pairs from a hash of hashes in Perl", "body": "<p>I changed your line from:</p>\n\n<pre><code>$_ =&gt; +{map ($_ =&gt; $hashref-&gt;{$_}, grep (!/^SWITCH$/, keys %{$hashref}))}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>$_ =&gt; +{ map {$_ =&gt; $hashref-&gt;{$_}} grep (!/^SWITCH$/, keys %{$hashref}) }\n</code></pre>\n\n<p>I've run it and it seems to work - what do you think?</p>\n"}, {"tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 0, "last_activity_date": 1429691177, "creation_date": 1429691177, "answer_id": 29791742, "question_id": 29789606, "link": "https://stackoverflow.com/questions/29789606/slicing-key-value-pairs-from-a-hash-of-hashes-in-perl/29791742#29791742", "title": "Slicing key-value pairs from a hash of hashes in Perl", "body": "<p>One possible way is to make a copy and remove unwanted keys</p>\n\n<pre><code>use Storable qw(dclone);\n\nmy %newcfg = %{ dclone(\\%qcfg) };           ## make a deep copy\nfor(keys %newcfg){\n     delete $newcfg{$_}{SWITCH}             ## remode SWITCH\n}\n</code></pre>\n\n<p>(untested!)</p>\n"}], "owner": {"reputation": 123, "user_id": 2438389, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b287324ed49554f0d9f4de1f295632e?s=128&d=identicon&r=PG", "display_name": "mikb", "link": "https://stackoverflow.com/users/2438389/mikb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1429691177, "creation_date": 1429684691, "question_id": 29789606, "link": "https://stackoverflow.com/questions/29789606/slicing-key-value-pairs-from-a-hash-of-hashes-in-perl", "title": "Slicing key-value pairs from a hash of hashes in Perl", "body": "<p>I'm doing some work with AppConfig, but for convenience, I want the array of options to have another data element (here called <code>'SWITCH'</code>) to it. </p>\n\n<p>The typical input to AppConfig's <code>define()</code> function is a list of (string, hashref) pairs, eg</p>\n\n<pre><code>    \"cfg\" =&gt; { ALIAS =&gt; 'c',ARGS =&gt; \"=s\"},\n</code></pre>\n\n<p>Now, for ease of maintaining a very long list of configuration options, I have extended this with a new key (call it \"<code>SWITCH</code>\") that I use for housekeeping during the execution of the program, well after the arguments are processed.\nExample:</p>\n\n<pre><code>source =&gt; { \nSWITCH =&gt; '/File',\nALIAS =&gt; \"file\",\nARGS =&gt; \"=s\",\n},\n</code></pre>\n\n<p>AppConfig does not like this, of course, and generates an error if it encounters the <code>SWITCH</code> key. So before I pass the list of options to <code>define()</code> I need to slice out <code>SWITCH</code> and its value for each option.</p>\n\n<p>Following the previous example, the result would be:</p>\n\n<pre><code>source =&gt; { \nALIAS =&gt; \"file\",\nARGS =&gt; \"=s\",\n},\n</code></pre>\n\n<p>I had some code like this (<code>%qcfg</code> is a hash containing the options list for <code>define()</code>; yes, I know AppConfig treats it as a list, but it's easier to work with as a hash, and then flatten it to a list when passing it to <code>define()</code>): </p>\n\n<pre><code>my %newcfg = map {\n    my $hashref = $qcfg{$_};\n    $_ =&gt; +{map ($_ =&gt; $hashref-&gt;{$_}, grep (!/^SWITCH$/, keys %{$hashref}))}\n} keys %qcfg;\n</code></pre>\n\n<p>But %newcfg comes out as a jumbled up mess, so I'm not getting this right. How to get it to manipulate the hashes correctly?</p>\n"}, {"tags": ["forms", "perl", "authentication", "mechanize", "lwp"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4298136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07bfb2033b700eb7b004f432bb6c1912?s=128&d=identicon&r=PG&f=1", "display_name": "Charli", "link": "https://stackoverflow.com/users/4298136/charli"}, "edited": false, "score": 0, "creation_date": 1430100077, "post_id": 29794001, "comment_id": 47896052, "body": "Thank you for this @gangabass. Sorry, I am not able to post a screenshot of the actual form since I am new to stackoverflow, and I don&#39;t have enough reputation points. The login form is just like the typical login forms you can see over the web: Two text fields for the UserName and Password. And a button named, &quot;Sign On&quot;.   I also edited the error message, form name to &#39;Login&#39;."}, {"owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "reply_to_user": {"reputation": 13, "user_id": 4298136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07bfb2033b700eb7b004f432bb6c1912?s=128&d=identicon&r=PG&f=1", "display_name": "Charli", "link": "https://stackoverflow.com/users/4298136/charli"}, "edited": false, "score": 0, "creation_date": 1430117272, "post_id": 29794001, "comment_id": 47901502, "body": "@Charli I talked about HTML code of the form not it&#39;s screenshot."}, {"owner": {"reputation": 13, "user_id": 4298136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07bfb2033b700eb7b004f432bb6c1912?s=128&d=identicon&r=PG&f=1", "display_name": "Charli", "link": "https://stackoverflow.com/users/4298136/charli"}, "edited": false, "score": 0, "creation_date": 1430182209, "post_id": 29794001, "comment_id": 47939269, "body": "Would it be okay if I post just a code snippet of the HTML  form?"}, {"owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "reply_to_user": {"reputation": 13, "user_id": 4298136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07bfb2033b700eb7b004f432bb6c1912?s=128&d=identicon&r=PG&f=1", "display_name": "Charli", "link": "https://stackoverflow.com/users/4298136/charli"}, "edited": false, "score": 0, "creation_date": 1430182398, "post_id": 29794001, "comment_id": 47939313, "body": "@Charli yes, this is all I need"}, {"owner": {"reputation": 13, "user_id": 4298136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07bfb2033b700eb7b004f432bb6c1912?s=128&d=identicon&r=PG&f=1", "display_name": "Charli", "link": "https://stackoverflow.com/users/4298136/charli"}, "edited": false, "score": 0, "creation_date": 1430185601, "post_id": 29794001, "comment_id": 47940197, "body": "Hi @gangbass, I&#39;ve added the HTML form code snippet in the original question I had above since it&#39;s too long to post it here."}, {"owner": {"reputation": 13, "user_id": 4298136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07bfb2033b700eb7b004f432bb6c1912?s=128&d=identicon&r=PG&f=1", "display_name": "Charli", "link": "https://stackoverflow.com/users/4298136/charli"}, "edited": false, "score": 0, "creation_date": 1430188405, "post_id": 29794001, "comment_id": 47940988, "body": "We have another question, relating to going through the Login page. Since we are unable to go through the Login page, we tried using <i>\u2018require &quot;$mech.pm&quot;; \u2018</i> just before the $mech-&gt;submit_form(\u2026..); But after running the code, we received this error message: <b>\u2018WWW::Mechanize=HASH(0x3812504).pm in @INC (@INC contains: C:/Perl/site/lib C:/Perl/lib .) at ADS.pl line 44, &lt;$input&gt; line 1.\u2019</b> Do we need to have an installer for this to be able to make a successful run? Or any other options?"}], "tags": [], "owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "is_accepted": true, "score": 0, "last_activity_date": 1430185909, "last_edit_date": 1430185909, "creation_date": 1429696688, "answer_id": 29794001, "question_id": 29789563, "link": "https://stackoverflow.com/questions/29789563/form-authentication-for-net-sites-using-perl/29794001#29794001", "title": "Form authentication for . NET sites using Perl", "body": "<p>Usually this code works for .NET sites:</p>\n\n<pre><code>$mech-&gt;submit_form(\n    with_fields =&gt; {\n        login =&gt; \"somelogin\",\n        pass  =&gt; \"somepass\",\n    },\n    button =&gt; \"submit_button_name\",\n);\n</code></pre>\n\n<p>But you have weird error message: you're selecting \"Login\" form but <code>$mech</code> searching for \"loginForm\"... Can you show actual form's HTML?</p>\n\n<p>Also there is no need to do <code>$mech-&gt;cookie_jar(...)</code> because <code>$mech</code> do this by default.</p>\n\n<p><strong>UPDATE</strong>\nTry this code (<code>Login</code> is <code>id</code> of your form but not the <code>name</code>):</p>\n\n<pre><code>$mech-&gt;submit_form(\n    with_fields =&gt; {\n        UserName =&gt; \"somelogin\",\n        Password  =&gt; \"somepass\",\n    },\n);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4298136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07bfb2033b700eb7b004f432bb6c1912?s=128&d=identicon&r=PG&f=1", "display_name": "Charli", "link": "https://stackoverflow.com/users/4298136/charli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 29794001, "answer_count": 1, "score": 0, "last_activity_date": 1430185909, "creation_date": 1429684582, "last_edit_date": 1430184385, "question_id": 29789563, "link": "https://stackoverflow.com/questions/29789563/form-authentication-for-net-sites-using-perl", "title": "Form authentication for . NET sites using Perl", "body": "<p>We are new in Perl scripting and we wanted to pass through a .NET site authentication. \nWe have an existing code for authentication specific for Sharepoint sites, code snippet below:</p>\n\n<pre><code>my $ua = new LWP::UserAgent('keep_alive' =&gt; '1');\nprint \"$url \\n\";\n$ua-&gt;credentials(\"$uname\", \"$pwd\");\nmy $response =$ua-&gt;get($url);\nmy $cde = $response-&gt;code();\n</code></pre>\n\n<p>We wanted to customize the code so that it will work specific for .NET sites authentication. We used WWW::Mechanize, see code snippet below: </p>\n\n<pre><code>my $mech = WWW::Mechanize-&gt;new();\n$mech-&gt;cookie_jar(HTTP::Cookies-&gt;new());\n$mech-&gt;get($url);\n$mech-&gt;form_name('Login');\n$mech-&gt;field(\"UserName\", $username);\n$mech-&gt;field(\"Password\", $password);\n$mech-&gt;click();\n</code></pre>\n\n<p>But when the program is run, an error is shown: \"There is no form named 'Login' in sample.pl\". Any thoughts on how to authenticate forms specific for .NET sites?</p>\n\n<p>Adding: HTML form code snippet...</p>\n\n<pre><code>&lt;div id=\"loginArea\"&gt;        \n        &lt;div id=\"loginMessage\" class=\"groupMargin\"&gt;Sign in with your account&lt;/div&gt;\n        &lt;form method=\"post\" id=\"Login\" autocomplete=\"off\" novalidate=\"novalidate\" onkeypress=\"if (event &amp;amp;&amp;amp; event.keyCode\n== 13) Login.submitLoginRequest();\" action=\"\"&gt;\n            &lt;div id=\"formsAuthenticationArea\"&gt;\n                &lt;div id=\"userNameArea\"&gt;\n                    &lt;input id=\"userNameInput\" name=\"UserName\" type=\"email\" value=\"\" tabindex=\"1\" class=\"text fullWidth\" spellcheck=\"false\" placeholder=\"Username\" autocomplete=\"off\"&gt;     \n                &lt;/div&gt;\n                &lt;div id=\"passwordArea\"&gt;\n                     &lt;input id=\"passwordInput\" name=\"Password\" type=\"password\" tabindex=\"2\" class=\"text fullWidth\" placeholder=\"Password\" autocomplete=\"off\"&gt;                            \n\n                &lt;/div&gt;\n                &lt;div id=\"kmsiArea\" style=\"display:none\"&gt;\n                    &lt;input type=\"checkbox\" name=\"Kmsi\" id=\"kmsiInput\" value=\"true\" tabindex=\"3\"&gt;\n                    &lt;label for=\"kmsiInput\"&gt;Keep me signed in&lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div id=\"submissionArea\" class=\"submitMargin\"&gt;\n                    &lt;span id=\"submitButton\" class=\"submit\" tabindex=\"4\" onkeypress=\"if (event &amp;amp;&amp;amp; event.keyCode == 32) Login.submitLoginRequest();\" onclick=\"return Login.submitLoginRequest();\"&gt;Sign in&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["perl", "checksum"], "comments": [{"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1429683721, "post_id": 29788960, "comment_id": 47707642, "body": "Not sure why you think unpack(&quot;%32C*&quot;,$data); will give you the checksum, looks like it just grabs the first 32 bytes from your file.  If you could install cygwqin, it has the cksum utility, so run it on the file to see if they match. Or try this module <a href=\"http://search.cpan.org/~ahamm/String-CRC-Cksum-0.91/Cksum.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~ahamm/String-CRC-Cksum-0.91/Cksum.pm</a>"}, {"owner": {"reputation": 345, "user_id": 3165644, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5df901b904eafec54f790a4b8b5a8143?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3165644/mihir"}, "reply_to_user": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1429685071, "post_id": 29788960, "comment_id": 47708406, "body": "I am referring to perldoc for unpack (<a href=\"http://perldoc.perl.org/functions/unpack.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/unpack.html</a>)  &quot;you may prefix a field with a %&lt;number&gt; to indicate that you want a &lt;number&gt;-bit checksum of the items instead of the items themselves. &quot;"}, {"owner": {"reputation": 8410, "user_id": 202553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Clpiv.jpg?s=128&g=1", "display_name": "knb", "link": "https://stackoverflow.com/users/202553/knb"}, "edited": false, "score": 0, "creation_date": 1429689217, "post_id": 29788960, "comment_id": 47711023, "body": "This guy has implemented a pure-perl viariant of CRC32. I haven&#39;t used it, though. <a href=\"http://billauer.co.il/blog/2011/05/perl-crc32-crc-xs-module/\" rel=\"nofollow noreferrer\">billauer.co.il/blog/2011/05/perl-crc32-crc-xs-module</a>"}, {"owner": {"reputation": 345, "user_id": 3165644, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5df901b904eafec54f790a4b8b5a8143?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3165644/mihir"}, "edited": false, "score": 0, "creation_date": 1429693741, "post_id": 29788960, "comment_id": 47714081, "body": "Thanks, I tried to follow the same, but the results are still different. Basically, I am not sure that the Linux utility (cksum) uses CRC-32 algorithm or not. The man page and other docs only mention that cksum uses CRC. As per my understanding we have many variants of CRC like CRC-32, CRC-16 ,etc."}, {"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1429695000, "post_id": 29788960, "comment_id": 47714956, "body": "Ok, unpack might do the trick. But I would use cygwin&#39;s cksum for Windows to see if you have the right algorithm. If you can attach the file, and its not too large, I could check it for you."}, {"owner": {"reputation": 345, "user_id": 3165644, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5df901b904eafec54f790a4b8b5a8143?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3165644/mihir"}, "edited": false, "score": 0, "creation_date": 1429696628, "post_id": 29788960, "comment_id": 47716151, "body": "Yes, cygwin one works (on my local machine), however due to company&#39;s restrictions there is no Cygwin on production boxes....It is not possible to post the same file (company data), but this can be check by any sample test file created in Linux."}, {"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1429751013, "post_id": 29788960, "comment_id": 47751331, "body": "According to <a href=\"http://en.wikipedia.org/wiki/Cksum\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Cksum</a> the Linux cksum is not compatible with CRC32. Maybe yoo need an exception to com,pany restriction for this case? Also seems like you got this question answered here <a href=\"http://www.perlmonks.org/?node_id=1124224\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1124224</a>"}], "owner": {"reputation": 345, "user_id": 3165644, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5df901b904eafec54f790a4b8b5a8143?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3165644/mihir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429682439, "creation_date": 1429682439, "question_id": 29788960, "link": "https://stackoverflow.com/questions/29788960/find-checksum-linux-equivalent-in-perl-windows", "title": "Find checksum (Linux) equivalent in Perl windows", "body": "<p>I am checking the files on 2 different system. </p>\n\n<p>Source: Linux RHEL5 x86_64\nTarget: (2 or more machines) Windows XP, Windows Server 2008</p>\n\n<p>Target has ActiveState Perl 5.8 (v5.8.8 built for MSWin32-x86-multi-thread) installed.</p>\n\n<p>In my source machine the checksum is calculated for the input file and sent across. The checksum on Linux is calculated using \"/usr/bin/cksum\"</p>\n\n<p><em>LINUX checksum value = 1345810991</em></p>\n\n<p>In windows I am using unpack to calculate the checksum to verify if file is correct or not.</p>\n\n<pre><code>use strict;\nuse English;\n\nmy $file = &lt;windows path which recieved the input file&gt;/filename.txt\nlocal $/ = undef;\npen(FILE, $file) or die \"Can't open '$file': $!\";\nbinmode(FILE);\nmy $data = &lt;FILE&gt;;\nclose FILE;\n\nmy $cksum = unpack(\"%32C*\",$data);\nprint \"|$cksum|\\n\";\n</code></pre>\n\n<p><em>Windows checksum value: |24253975|</em> </p>\n\n<p>Basically, I am not getting the same values. What am I missing here? Is there any algorithm or method to imitate linux's cksum on Windows (perl) </p>\n\n<p>Please note that the source is not under my control, so can't ask them to calculate the checksum using md5sum (and subsequently use Digest::MD5 in perl windows)</p>\n"}, {"tags": ["perl", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "edited": false, "score": 0, "creation_date": 1429673678, "post_id": 29786479, "comment_id": 47704013, "body": "I screwed up that comment.  Here is one that is more complete: Yes, MKS Toolkit is installed and typically I run the Korn shell with sh -KL. That reg query yielded CompletionChar 0x9, DefaultColor 0x0 and EnableExtensions 0x1.  However, setting Shell=  was the answer but the correct expression was &quot;export Shell=&quot;.  Thanks much for answering.  I was about to find with grep to look for escape issues with dir separators."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "edited": false, "score": 0, "creation_date": 1429711522, "post_id": 29786479, "comment_id": 47728177, "body": "@perlboy, <code>set shell=</code> is the cmd shell syntax to clear an env var. <code>export shell=</code> is the <code>sh</code> shell syntax to clear an env var."}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": true, "score": 0, "last_activity_date": 1429668475, "last_edit_date": 1495539816, "creation_date": 1429668475, "answer_id": 29786479, "question_id": 29785597, "link": "https://stackoverflow.com/questions/29785597/cpan-appcpanminus-fails-with-identical-error-in-straw-5-18-5-20/29786479#29786479", "title": "cpan App::cpanminus fails with identical error in Straw 5.18 &amp; 5.20", "body": "<p>Do you have mks installed? To see if you do from cmd.exe try</p>\n\n<pre><code>reg query \"HKCU\\Software\\Microsoft\\Command Processor\"\n</code></pre>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/2923419/how-can-i-make-strawberry-perls-cpan1-find-perl\">How can I make Strawberry Perl&#39;s cpan(1) find perl?</a>  mks sets a env var shell which you should disable before running cpan</p>\n\n<pre><code>set shell=\n</code></pre>\n\n<p>or if that doesn't work and its the cmd.exe extensions edit your perl Config ( <code>lib\\Config_heavy.pl</code> ) to ignore/disable command extensions, meaning change it from</p>\n\n<pre><code>$ perl -V:sh\nsh='cmd /x /c';\n</code></pre>\n\n<p>change into <code>cmd /E:off /c</code> aka <code>cmd /y /c</code> where it means <code>/E:OFF  Disable command extensions</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2649095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bfbe3fe21bdeec77d0743835aaf6abd?s=128&d=identicon&r=PG", "display_name": "perlboy_too", "link": "https://stackoverflow.com/users/2649095/perlboy-too"}, "is_accepted": false, "score": 0, "last_activity_date": 1429724375, "creation_date": 1429724375, "answer_id": 29805109, "question_id": 29785597, "link": "https://stackoverflow.com/questions/29785597/cpan-appcpanminus-fails-with-identical-error-in-straw-5-18-5-20/29805109#29805109", "title": "cpan App::cpanminus fails with identical error in Straw 5.18 &amp; 5.20", "body": "<p>Thank you @ikegami but I almost never run cmd.exe; always sh.exe, as @optional correctly inferred.</p>\n"}], "owner": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 29786479, "answer_count": 2, "score": 0, "last_activity_date": 1429724375, "creation_date": 1429662597, "question_id": 29785597, "link": "https://stackoverflow.com/questions/29785597/cpan-appcpanminus-fails-with-identical-error-in-straw-5-18-5-20", "title": "cpan App::cpanminus fails with identical error in Straw 5.18 &amp; 5.20", "body": "<p>I'm trying to run cpan App::cpanminus in 32-bit Strawberry Perl 5.18.2.2 and/or 5.20.2.1 and both instances fail with same error:</p>\n\n<p>Here are last few lines of log:</p>\n\n<pre><code>Checking if your kit is complete...\nLooks good\nGenerating a dmake-style Makefile\nWriting Makefile for App::cpanminus\nWriting MYMETA.yml and MYMETA.json\n  MIYAGAWA/App-cpanminus-1.7030.tar.gz\n  C:\\Strawberry\\perl\\bin\\perl.exe Makefile.PL -- OK\nRunning make for M/MI/MIYAGAWA/App-cpanminus-1.7030.tar.gz\nC:Strawberryperlbinperl.exe: not found\ndmake.exe:  Error code 255, while making 'blib\\lib\\App\\.exists'\n  MIYAGAWA/App-cpanminus-1.7030.tar.gz\n  C:\\STRAWB~1\\c\\bin\\dmake.exe -- NOT OK\nStopping: 'install' failed for 'App::cpanminus'.\n</code></pre>\n\n<p>Environment is XP SP3 running in Parallels vm 9.0.24251 on OS X 10.8.5.  It's a long story why I run XP this way.  Suffice it to say, I MUST.  Strawberry Perl runs superbly, as good or better than native Perl 5.12.4 in OS X but the fact that I can't get cpan App::cpanminus to work makes me very, very uncomfortable.  To paraphrase OJ: \"if the gloves don't fit you can't convict\" ... \"if the script fails to build, you can't trust the sucker.\"</p>\n\n<p>Notice how that error message squeezes out the slashes between dir nodes.  I've coded $PATH with '/' and '\\' and the error is the same.</p>\n\n<p>I upgraded to 5.20 from 5.18 to see if that would fix problem.  It didn't... so the problem almost certainly is in my environment... or it's pilot error :-(</p>\n\n<p>Any ideas will be greatly appreciated and thank you for reading.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 209, "user_id": 754870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b83e2aa7aa28dcf2e99421146c387c?s=128&d=identicon&r=PG", "display_name": "elbows", "link": "https://stackoverflow.com/users/754870/elbows"}, "is_accepted": true, "score": 1, "last_activity_date": 1429662006, "creation_date": 1429662006, "answer_id": 29785489, "question_id": 29785322, "link": "https://stackoverflow.com/questions/29785322/regex-substitute-doesnt-replace-even-though-the-regex-matches-properly/29785489#29785489", "title": "Regex - substitute doesn&#39;t replace even though the regex matches properly", "body": "<p>The first argument of <code>s//</code> is interpreted as a regexp, so the \"[\" and \"]\" characters in your match are screwing things up. You can use '\\Q' to escape them:</p>\n\n<pre><code>$pTemp =~ s/\\Q$1/NEED TO REPLACE/;\n</code></pre>\n"}], "owner": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 29785489, "answer_count": 1, "score": 0, "last_activity_date": 1429662650, "creation_date": 1429660921, "last_edit_date": 1429662650, "question_id": 29785322, "link": "https://stackoverflow.com/questions/29785322/regex-substitute-doesnt-replace-even-though-the-regex-matches-properly", "title": "Regex - substitute doesn&#39;t replace even though the regex matches properly", "body": "<p>Trying to replace <code>[[http://someUrl.com][link]]</code> with <code>&lt;a href=\"http://someUrl.com\"&gt;link&lt;/a&gt;</code></p>\n\n<p>The regex matches properly and I can see the $1,$2,$3 set properly.</p>\n\n<p><a href=\"http://refiddle.com/292g\" rel=\"nofollow\">http://refiddle.com/292g</a></p>\n\n<p><code>$1:[[http://someUrl.com][link]]</code>         <code>$2:http://someUrl.com</code> <code>$3:link</code></p>\n\n<pre><code>foreach my $pText(\"line1 [[http://google.com][google]] end\",\"line2 [[http://someUrl.com][link]] end\"){\n        my $pTemp = $pText;\n        print \"\\n\".$pTemp.\"\\n\";\n        if ($pTemp =~ /(\\[\\[((?:http|https|ftp|file|gopher|irc|news|mailto|nntp|telnet)\\:\\/\\/[a-zA-Z0-9\\-\\.]+\\.[a-zA-Z]{2,3}(?::[a-zA-Z0-9]*)?\\/?[a-zA-Z0-9\\-\\._\\?\\,\\'\\/\\\\\\+&amp;amp;%\\$#\\=~]*)\\]\\[(.*?)\\]\\])/){\n            print \"MATCHED  : $1 &gt;&gt; $2 &gt;&gt; $3\\n\";\n            #$pTemp =~ s/$1/&lt;a href=\"$2\"&gt;$3&lt;\\/a\\&gt;/;\n            $pTemp =~ s/$1/NEED TO REPLACE/;\n            print \"MODIFIED : $pTemp\\n\\n\";\n        }\n    }\n</code></pre>\n\n<p>Strangely it results in </p>\n\n<pre><code>line1 [[http://google.com][google]] end\nMATCHED  : [[http://google.com][google]] &gt;&gt; http://google.com &gt;&gt; google\nMODIFIED : line1 [[http://google.com][googNEED TO REPLACE] end\n\n\nline2 [[http://someUrl.com][link]] end\nMATCHED  : [[http://someUrl.com][link]] &gt;&gt; http://someUrl.com &gt;&gt; link\nMODIFIED : line2 [[http://someUrl.com][link]] end\n</code></pre>\n\n<p>I am not sure why the substitution is failing even though the regex matches the strings properly.\nAny pointers will be a great help.</p>\n"}, {"tags": ["linux", "perl", "ipc"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1429665438, "post_id": 29785073, "comment_id": 47701798, "body": "Try wrapping the program you&#39;re trying to execute with a wrapper that dumps the contents of $LD_LIBRARY_PATH. Divide the unknown problem into two halfs. If you&#39;re not seeing the $LD_LIBRARY_PATH that you expect to see, you can look in one direction. If you&#39;re seeing the right $LD_LIBRARY_PATH, but your wrapper can&#39;t execute the program anyway, you&#39;ll then look into a different direction."}, {"owner": {"reputation": 123, "user_id": 2438389, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b287324ed49554f0d9f4de1f295632e?s=128&d=identicon&r=PG", "display_name": "mikb", "link": "https://stackoverflow.com/users/2438389/mikb"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1429669206, "post_id": 29785073, "comment_id": 47702877, "body": "Thanks for the advice - your approach uncovered the real problem (which wasn&#39;t with LD_LIBRARY_PATH at all, after all that)"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429711909, "post_id": 29786685, "comment_id": 47728514, "body": "Right, should just be <code>capturex($config-&gt;rsq(), $source)</code>. The whole point of using <code>capturex</code> is to avoid using <code>shell_quote</code> or very buggy quoting solutions like <code>qq&#47;&quot;$source&quot;&#47;</code>."}], "tags": [], "owner": {"reputation": 123, "user_id": 2438389, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b287324ed49554f0d9f4de1f295632e?s=128&d=identicon&r=PG", "display_name": "mikb", "link": "https://stackoverflow.com/users/2438389/mikb"}, "is_accepted": false, "score": 1, "last_activity_date": 1429671686, "last_edit_date": 1429671686, "creation_date": 1429669780, "answer_id": 29786685, "question_id": 29785073, "link": "https://stackoverflow.com/questions/29785073/modifying-the-environment-for-a-child-process-in-perl/29786685#29786685", "title": "Modifying the environment for a child process in Perl", "body": "<pre><code>    eval {\n      $output = capturex(\n        $config-&gt;rsq(),\n        qq/\"$source\"/\n      );\n    };\n</code></pre>\n\n<p>Here's the problem: I wasn't examining what was in <code>$@</code> (or <code>$EVAL_ERR</code> if you <code>use ENGLISH;</code>)</p>\n\n<p>If I had, I would have seen that the problem was with the quoting <code>qq/\"$source\"/</code> - because <code>capturex()</code> <strong>doesn't</strong> call the shell (which was the desired behaviour) the quotes break the file name (i.e. <code>test.pdf</code> exists, but <code>\"\"test.pdf\"\"</code> does not).</p>\n"}], "owner": {"reputation": 123, "user_id": 2438389, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b287324ed49554f0d9f4de1f295632e?s=128&d=identicon&r=PG", "display_name": "mikb", "link": "https://stackoverflow.com/users/2438389/mikb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1429671686, "creation_date": 1429659452, "last_edit_date": 1429671588, "question_id": 29785073, "link": "https://stackoverflow.com/questions/29785073/modifying-the-environment-for-a-child-process-in-perl", "title": "Modifying the environment for a child process in Perl", "body": "<p>I'm not sure why this isn't working, but perhaps I've oversimplified/overcomplicated things</p>\n\n<p>I'm writing a Perl script that ultimately needs to call an external program. The catch is, this program needs a modified version of the <code>LD_LIBRARY_PATH</code> environment variable, in order to find a couple of libraries which the vendor does not install in standard places.</p>\n\n<p>OK, the environment is in <code>%ENV</code>, which can be rewritten, yes?</p>\n\n<p>I thought if I changed <code>LD_LIBRARY_PATH</code> in the parent, it would affect the dynamic linking of the child.</p>\n\n<p>So I have:</p>\n\n<pre><code>use Env qw(@LD_LIBRARY_PATH);\nuse IPC::System::Simple qw(capturex $EXITVAL);\n\n# We need these to establish the call to rsq later\nmy ($rsqexe, $rsqhome, $suffix) = fileparse($config-&gt;rsq());\npush @LD_LIBRARY_PATH, $rsqhome;\n\neval {\n  $output = capturex(\n    $config-&gt;rsq(),\n    qq/\"$source\"/\n  );\n};\n</code></pre>\n\n<p>But the child process dies with an error indicating the shared libraries can't be found.</p>\n\n<p>How can I improve this?</p>\n\n<p>I do need to examine the contents of <code>$output</code> after successful execution.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1429638321, "post_id": 29779441, "comment_id": 47689058, "body": "And what it the Output you get?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1429638334, "post_id": 29779441, "comment_id": 47689063, "body": "That just removes asterisks."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1429638896, "post_id": 29779441, "comment_id": 47689423, "body": "try this  print $1 if($stval=~/([a-zA-Z \\s]*)*/);"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429638989, "post_id": 29779441, "comment_id": 47689487, "body": "As the comment says, <code>s&#47;[*]&#47;&#47;g</code> <i>\u201cremoves all * characters\u201d</i>. What did you want to do? No one can help unless you can describe precisely what part of the text you want to remove"}], "answers": [{"tags": [], "owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "is_accepted": false, "score": -1, "last_activity_date": 1429638804, "creation_date": 1429638804, "answer_id": 29779694, "question_id": 29779441, "link": "https://stackoverflow.com/questions/29779441/remove-text-between-two-strings/29779694#29779694", "title": "Remove Text between two Strings", "body": "<p>Use <code>s</code> modifier to include newline in the deletion:</p>\n\n<pre><code>$stval =~ s/\\*{10}.*//s;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 1947768, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f088fc80b3da13000d02ecc6185eca6e?s=128&d=identicon&r=PG", "display_name": "user1947768", "link": "https://stackoverflow.com/users/1947768/user1947768"}, "edited": false, "score": 0, "creation_date": 1429688378, "post_id": 29788042, "comment_id": 47710519, "body": "Worked fine for *. Thanks a lot."}, {"owner": {"reputation": 5, "user_id": 1947768, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f088fc80b3da13000d02ecc6185eca6e?s=128&d=identicon&r=PG", "display_name": "user1947768", "link": "https://stackoverflow.com/users/1947768/user1947768"}, "edited": false, "score": 0, "creation_date": 1429688903, "post_id": 29788042, "comment_id": 47710826, "body": "But can you suggest if i have to remove from &#39;CAUTION&#39; text onward what can be the option. The reason why i am asking is if there is any * character in the mail then it will remove the text after that as well."}, {"owner": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "reply_to_user": {"reputation": 5, "user_id": 1947768, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f088fc80b3da13000d02ecc6185eca6e?s=128&d=identicon&r=PG", "display_name": "user1947768", "link": "https://stackoverflow.com/users/1947768/user1947768"}, "edited": false, "score": 0, "creation_date": 1429722978, "post_id": 29788042, "comment_id": 47736945, "body": "<code>my $stvalcopy = $stval; print &quot;$stval\\n\\n&quot;; $stval =~ s&#47;[*\\n]+.+&#47;&#47;g;    # this removes all * Characters print &quot;$stval\\n\\n&quot;;  print &quot;$stvalcopy\\n\\n&quot;; $stvalcopy =~ s&#47;\\s+Caution.*&#47;&#47;is;    # this removes &#39; Caution&#39; + all Characters print &quot;$stvalcopy\\n\\n&quot;;  print &quot;Programming Perl (3rd) Chapter 5: Pattern Matching is must read&#47;learn if you intend to stay with Perl\\n&quot;;</code>"}], "tags": [], "owner": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "is_accepted": true, "score": 0, "last_activity_date": 1429678492, "creation_date": 1429678492, "answer_id": 29788042, "question_id": 29779441, "link": "https://stackoverflow.com/questions/29779441/remove-text-between-two-strings/29788042#29788042", "title": "Remove Text between two Strings", "body": "<p>That scalar string has several embedded \\n, as if it is a here document.  You can remove everything from the first '*' to the end of the string with:</p>\n\n<pre><code>$stval =~ s/[*\\n]+.+//g;    # this removes all * Characters\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 1947768, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f088fc80b3da13000d02ecc6185eca6e?s=128&d=identicon&r=PG", "display_name": "user1947768", "link": "https://stackoverflow.com/users/1947768/user1947768"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "accepted_answer_id": 29788042, "answer_count": 2, "score": -5, "last_activity_date": 1429678492, "creation_date": 1429638020, "last_edit_date": 1429638249, "question_id": 29779441, "link": "https://stackoverflow.com/questions/29779441/remove-text-between-two-strings", "title": "Remove Text between two Strings", "body": "<p>I have a disclaimer message in an email which I want to remove using Perl.</p>\n\n<p>The code is below:</p>\n\n<pre><code>my $stval = 'hii This is a test Email*************** CAUTION - Disclaimer *****************\n        This e-mail contains PRIVILEGED AND CONFIDENTIAL INFORMATION intended solely\n        for the use of the addressee(s). If you are not the intended recipient, please\n        notify the sender by e-mail and delete the original message.\n        ******MAILEND***** End of Disclaimer ******MAILEND*****';\n\n$stval =~ s/[*]//g;    # this removes all * Characters\nprint \"$stval\\n\\n\";\n</code></pre>\n\n<p>The output I am expecting should be as below:</p>\n\n<pre><code>hii This is a test Email\n</code></pre>\n"}, {"tags": ["c", "perl", "embedding", "freeradius"], "owner": {"reputation": 5076, "user_id": 2117998, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/33e568baba35cd1512dcd8adacc393d7?s=128&d=identicon&r=PG", "display_name": "Arran Cudbard-Bell", "link": "https://stackoverflow.com/users/2117998/arran-cudbard-bell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 3, "answer_count": 0, "score": 2, "last_activity_date": 1429639690, "creation_date": 1429634333, "last_edit_date": 1429639690, "question_id": 29778257, "link": "https://stackoverflow.com/questions/29778257/making-global-variables-available-to-script-parsed-with-perl-parse", "title": "Making global variables available to script parsed with perl_parse", "body": "<p>I'm working on the rlm_perl module for the FreeRADIUS project. This module handles marshalling/unmarshalling of attribute value pairs to/from a perl interpreter. It allows AAA policies to be written in perl.</p>\n\n<p>To simplify managing these policies, a user contributed a patch which creates a multidimensional hash table, that represents a multidimensional user specific configuration section.</p>\n\n<p>For example</p>\n\n<pre><code>foo {\n    bar {\n        dink = 'donk'\n    }\n    baz = 'boink'\n}\n</code></pre>\n\n<p>Would become</p>\n\n<pre><code>%RAD_PERLCONF = {\n    foo =&gt; {\n        bar =&gt; {\n            dink = 'donk'\n        }\n    },\n    baz =&gt; 'boink'\n};\n</code></pre>\n\n<p>The issue is this needs to be available when the user specified perl script, which will be run by the interpreter, is loaded (it's currently only available to subroutines when they're called at runtime).</p>\n\n<p>Allowing something like:</p>\n\n<pre><code>use constant FOO_DIR =&gt; $RAD_PERLCONF{'foo'};\n</code></pre>\n\n<p>To be specified outside of a subroutine in the body of the file.</p>\n\n<p>The current C code looks like this:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>MEM(embed_c = talloc_zero_array(inst, char const *, 4));\nmemcpy(&amp;embed, &amp;embed_c, sizeof(embed));\n\n# inst-&gt;module here means the path to the script to be parsed\nembed_c[0] = NULL;\nif (inst-&gt;perl_flags) {\n    embed_c[1] = inst-&gt;perl_flags;\n    embed_c[2] = inst-&gt;module;\n    embed_c[3] = arg;\n    argc = 4;\n} else {\n    embed_c[1] = inst-&gt;module;\n    embed_c[2] = arg;\n    argc = 3;\n}\n\nPERL_SYS_INIT3(&amp;argc, &amp;embed, &amp;envp);\n\nif ((inst-&gt;perl = perl_alloc()) == NULL) {\n    ERROR(\"rlm_perl: No memory for allocating new perl !\");\n    return -1;\n}\n\nperl_construct(inst-&gt;perl);\n\n#ifdef USE_ITHREADS\nPL_perl_destruct_level = 2;\n\n{\n    dTHXa(inst-&gt;perl);\n}\nPERL_SET_CONTEXT(inst-&gt;perl);\n#endif\n\n#if PERL_REVISION &gt;= 5 &amp;&amp; PERL_VERSION &gt;=8\nPL_exit_flags |= PERL_EXIT_DESTRUCT_END;\n#endif\n\nexitstatus = perl_parse(inst-&gt;perl, xs_init, argc, embed, NULL);\nif (exitstatus) return -1;\nperl_run(inst-&gt;perl);\n</code></pre>\n\n<p>I'm providing it so that the various parts of the perl setup processes can be referenced rather than for comments or style or brokeness.</p>\n\n<p>I'm guessing that between <code>perl_construct</code> and <code>perl_parse</code> I should be able to define other global variables, so that they're available in the scope of the file parsed. Can anyone give an example of doing that, or suggest another way of making configuration data from the module, available to the parsed perl script when it's parsed?</p>\n\n<p>Sorry if this question is vague. I'm not that familiar with the concepts around embedding perl.</p>\n"}, {"tags": ["perl", "snmp", "cisco-axl", "cucm"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429630773, "post_id": 29776809, "comment_id": 47684024, "body": "Please <a href=\"https://stackoverflow.com/posts/29776809/edit\">edit</a> your question to show the <code>SNMP.pm</code> or <code>Net::SNMP</code> code you wrote that only returns one IP address. Also show the results of the <code>snmpwalk</code> and the output of your script. Out of curiosity, what were the Stack Overflow posts with the broken links? It would be nice if we could fix those."}, {"owner": {"reputation": 71, "user_id": 4580792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92e00aed1cba440409373e5c13881ac?s=128&d=identicon&r=PG", "display_name": "user141715", "link": "https://stackoverflow.com/users/4580792/user141715"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429634578, "post_id": 29776809, "comment_id": 47686698, "body": "One of the posts I found is this one:  <a href=\"http://stackoverflow.com/questions/100620/how-do-i-get-the-mac-address-or-ipaddress-from-a-cisco-callmanager/2184270#2184270\" title=\"how do i get the mac address or ipaddress from a cisco callmanager\">stackoverflow.com/questions/100620/&hellip;</a>"}, {"owner": {"reputation": 71, "user_id": 4580792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92e00aed1cba440409373e5c13881ac?s=128&d=identicon&r=PG", "display_name": "user141715", "link": "https://stackoverflow.com/users/4580792/user141715"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1429634603, "post_id": 29776809, "comment_id": 47686718, "body": "The original post has been edited with the code and snmpwalk results"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429634913, "post_id": 29776809, "comment_id": 47686901, "body": "I don&#39;t have a device that I can test that particular OID on, but your code works for me for a different OID. Are you saying that <code>@table</code> only contains one value after you run the script? How are you outputting the results?"}, {"owner": {"reputation": 71, "user_id": 4580792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92e00aed1cba440409373e5c13881ac?s=128&d=identicon&r=PG", "display_name": "user141715", "link": "https://stackoverflow.com/users/4580792/user141715"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429635311, "post_id": 29776809, "comment_id": 47687161, "body": "Yes, that&#39;s correct.  I&#39;m just doing a simple foreach loop to print out the table."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429635430, "post_id": 29776809, "comment_id": 47687246, "body": "Also, you should avoid <a href=\"http://modernperlbooks.com/mt/2009/08/the-problems-with-indirect-object-notation.html\" rel=\"nofollow noreferrer\">indirect object notation</a> and use <code>my $foo = Foo-&gt;new;</code> instead of <code>my $foo = new Foo;</code>. The docs should probably be updated. And finally, if your OID is a leaf node or only has one child, your current code throws it away. I would do what they do in the docs, e.g. <code>do { my @values = $sess-&gt;getnext($vars); push @table, @values; } until ($sess-&gt;{ErrorStr});</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429636096, "post_id": 29776809, "comment_id": 47687683, "body": "Can you show all of the relevant code (including how you print the results), as well as the generated output? Also, do you have this problem with other OIDs or just this one? Perhaps try some standard OIDs like <code>1.3.6.1.2.1.1.9</code>. If you can, it would be helpful if you could make a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, verifiable example</a> that demonstrates your problem and that others can simply copy-paste and run on their own systems (minus the credentials, of course)."}, {"owner": {"reputation": 71, "user_id": 4580792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92e00aed1cba440409373e5c13881ac?s=128&d=identicon&r=PG", "display_name": "user141715", "link": "https://stackoverflow.com/users/4580792/user141715"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429639248, "post_id": 29776809, "comment_id": 47689659, "body": "Using some code I found on the perlmonks site I was able to do the query and get the results I&#39;m looking for.  <a href=\"http://www.perlmonks.org/bare/?node_id=341313\" rel=\"nofollow noreferrer\">perlmonks.org/bare/?node_id=341313</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1429642050, "post_id": 29776809, "comment_id": 47691356, "body": "@user141715: Stack Overflow is meant to be a public resource, rather than a forum where individuals can resolve their own problems. That means that your post needs a proper statement of the problem in the question, as well as an answer (that you can write yourself and accept) that contains the code that you used to fix the issue"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4821121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195d84749ecfa5e4cf5de3ffda7dbc05?s=128&d=identicon&r=PG&f=1", "display_name": "Chester Rieman", "link": "https://stackoverflow.com/users/4821121/chester-rieman"}, "is_accepted": false, "score": 1, "last_activity_date": 1443494766, "last_edit_date": 1443494766, "creation_date": 1443491242, "answer_id": 32834400, "question_id": 29776809, "link": "https://stackoverflow.com/questions/29776809/using-perl-to-get-list-of-ip-addresses-from-cisco-call-manager/32834400#32834400", "title": "Using Perl to get list of IP addresses from Cisco Call Manager", "body": "<p>You can do this with curl and send an XML to query the risdb since only registered phones will have IP addresses:</p>\n\n<pre><code>curl -s -k -u axluser:${AXLPASSWORD} -H 'Content-type: text/xml;' -H 'SOAPAction: \"CUCM:DB ver=8.0\"' -d @ris_reg.xml https://x.x.x.x:8443/realtimeservice/services/RisPort | xmllint --format - &gt; ris_reg_8.log\n</code></pre>\n\n<p>See:</p>\n\n<pre><code>ris_reg.xml:&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; &lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"  xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;   &lt;soapenv:Body&gt;\n    &lt;ns1:SelectCmDevice soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"  xmlns:ns1=\"http://schemas.cisco.com/ast/soap/\"&gt;\n      &lt;StateInfo xsi:type=\"xsd:string\"/&gt;\n      &lt;CmSelectionCriteria href=\"#id0\"/&gt;\n    &lt;/ns1:SelectCmDevice&gt;\n    &lt;multiRef id=\"id0\" soapenc:root=\"0\"  soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"  xsi:type=\"ns2:CmSelectionCriteria\"  xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\"  xmlns:ns2=\"http://schemas.cisco.com/ast/soap/\"&gt;\n      &lt;MaxReturnedDevices xsi:type=\"xsd:unsignedInt\"&gt;0&lt;/MaxReturnedDevices&gt;\n      &lt;Class xsi:type=\"xsd:string\"&gt;Phone&lt;/Class&gt;\n      &lt;Model xsi:type=\"xsd:unsignedInt\"&gt;503&lt;/Model&gt;\n      &lt;Status xsi:type=\"xsd:string\"&gt;Registered&lt;/Status&gt;\n      &lt;NodeName xsi:type=\"xsd:string\" xsi:nil=\"true\"/&gt;\n      &lt;SelectBy xsi:type=\"xsd:string\"&gt;Name&lt;/SelectBy&gt;\n      &lt;SelectItems soapenc:arrayType=\"ns2:SelectItem[1]\" xsi:type=\"soapenc:Array\"&gt;\n        &lt;item href=\"#id1\"/&gt;\n      &lt;/SelectItems&gt;\n    &lt;/multiRef&gt;\n    &lt;multiRef id=\"id1\" soapenc:root=\"0\"  soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"  xsi:type=\"ns3:SelectItem\" xmlns:ns3=\"http://schemas.cisco.com/ast/soap/\"  xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;\n      &lt;Item xsi:type=\"xsd:string\"&gt;*&lt;/Item&gt;\n    &lt;/multiRef&gt;   &lt;/soapenv:Body&gt; &lt;/soapenv:Envelope&gt;\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4580792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92e00aed1cba440409373e5c13881ac?s=128&d=identicon&r=PG", "display_name": "user141715", "link": "https://stackoverflow.com/users/4580792/user141715"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1368, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1501590274, "creation_date": 1429630558, "last_edit_date": 1501590274, "question_id": 29776809, "link": "https://stackoverflow.com/questions/29776809/using-perl-to-get-list-of-ip-addresses-from-cisco-call-manager", "title": "Using Perl to get list of IP addresses from Cisco Call Manager", "body": "<p>I need to retrieve a list of IP addresses of phones from Cisco Unified Call Manager, and I'd like to be able to do it using Perl and standard modules as much as possible.</p>\n\n<p>I can get the addresses using snmpwalk (we are using SNMP v3) but for some reason when I use existing code to try to do the same thing through SNMP or Net::SNMP, the most I get is one IP address.  I can't seem to get either one to give me the full list.</p>\n\n<p>Here is my snmpwalk command:</p>\n\n<pre><code>snmpwalk -v3 -u &lt;user&gt; -A &lt;password&gt; -l authNoPriv -a SHA &lt;ip address&gt; 1.3.6.1.4.1.9.9.156.1.2.1.1.6\n</code></pre>\n\n<p>I'm also getting the phone Description field (156.1.2.1.1.4) and merging those two fields into a text file so I can use them to query the phones themselves using LWP.</p>\n\n<p>It would be great to be able to combine these two functions into one script to get the IP address and query the phone for its specific details.</p>\n\n<p>Does anyone have code that does this?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>snmpwalk returns (a whole bunch of these):</p>\n\n<pre><code>SNMPv2-SMI::enterprises.9.9.156.1.2.1.1.6.100 = IpAddress: xxx.xxx.xxx.xxx\n</code></pre>\n\n<p>My Perl code that returns one IP address (I have to retype it because it's on a closed network without Internet access):</p>\n\n<pre><code>use SNMP;\n\nmy $ccmip = \"xxx.xxx.xxx.xxx\";\nmy $user = \"&lt;username&gt;\";\nmy $pass = \"&lt;password&gt;\";\n\n$sess = new SNMP::Session(DestHost =&gt; $ccmip, SecName =&gt; $user, SecLevel =&gt; 'authnoPriv', AuthPass =&gt; $pass, AuthProto =&gt; 'SHA', PrivProto =&gt; 'AES', PrivPass =&gt; $pass, Version =&gt; 3);\n\nmy $vars = new SNMP::VarList(['1.3.6.1.4.1.9.9.156.1.2.1.1.6']);\nmy @values = $sess-&gt;getnext($vars);\n\nmy @table = ();\nwhile ((!$sess-&gt;{ErrorStr})) {\n   push(@table, $values[0]);\n   @values = $sess-&gt;getnext($vars);\n}\n</code></pre>\n"}, {"tags": ["python", "bash", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429629805, "post_id": 29776449, "comment_id": 47683283, "body": "Related: <a href=\"http://stackoverflow.com/q/7842919/176646\">Python equivalent to perl -pe?</a> (<code>-p</code> is similar to <code>-n</code>, but prints each line automatically)"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1429629815, "post_id": 29776449, "comment_id": 47683293, "body": "If you&#39;re looking for a &quot;cleaner&quot; language, but all the one-liner goodies, investigate Ruby."}, {"owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 1, "creation_date": 1429629946, "post_id": 29776449, "comment_id": 47683412, "body": "+1 to glenn jackman&#39;s comment. Python is not a good one-liner language due to its dependence on indentation as a core of its syntax."}, {"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429630237, "post_id": 29776449, "comment_id": 47683621, "body": "very easy create a script that takes args with python and just run the script"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1429632900, "post_id": 29776449, "comment_id": 47685558, "body": "@Jake Griffin, meh, I rarely put my Perl &quot;one-liners&quot; all on one line. There&#39;s no reason for the code to be unreadable."}, {"owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429633091, "post_id": 29776449, "comment_id": 47685688, "body": "@ikegami, I was referring to the example given in the question (piping output from one command to another). That is not possible to do in one line in python without it looking significantly more complex."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1429634542, "post_id": 29776449, "comment_id": 47686684, "body": "@Jake Griffin, And I said, so what? I wouldn&#39;t even have put all that Perl code on one line. Don&#39;t put it all on one line. <code>sh</code> strings can contain newlines."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429634701, "post_id": 29776449, "comment_id": 47686771, "body": "(Then again, I would have used <code>perl -F&#39;\\t&#39; -lane&#39;print if $F[3] &gt;= 50&#39;</code>)"}, {"owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429634721, "post_id": 29776449, "comment_id": 47686785, "body": "@ikegami: Fair enough, however, I don&#39;t think that the example given could be done as succinctly as perl or ruby. I will say however that I favor the readability of python. It just doesn&#39;t lend itself well to the example the asker gave."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1429642313, "post_id": 29776449, "comment_id": 47691504, "body": "@JakeGriffin: I agree wholeheartedly"}, {"owner": {"reputation": 675, "user_id": 3923510, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f7dd2e6c44ff159597a1dec2004a3476?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/3923510/josh"}, "reply_to_user": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429718742, "post_id": 29776449, "comment_id": 47734083, "body": "@PadraicCunningham: yes, but it took me 45 seconds to write it as a pipe and it would take a few minutes to write/save a script. I&#39;m disappointed python doesn&#39;t have these switches. What it means is that while perl has the power of sed and awk from the command line, python does not seem to."}], "owner": {"reputation": 675, "user_id": 3923510, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f7dd2e6c44ff159597a1dec2004a3476?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/3923510/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "closed_date": 1429629871, "answer_count": 0, "score": 0, "last_activity_date": 1429629632, "creation_date": 1429629632, "question_id": 29776449, "link": "https://stackoverflow.com/questions/29776449/python-equivalent-to-perl-ne-switch", "closed_reason": "Duplicate", "title": "Python equivalent to perl -ne switch", "body": "<p>I am attempting the perl to python transition and I also happen to use lots of perl one-liners in the bash prompt for parsing files. For example,</p>\n\n<pre><code>cat input_file.txt|perl -ne 'chomp $_; @a=split /\\t/,$_;print \"$_\\n\" if ($a[3]&gt;=50)' &gt; output_file.txt\n</code></pre>\n\n<p>loops through through the file and prints only those lines that have the 4th column with a value greater than 50. This is accomplished with the \"perl -ne\" flag.</p>\n\n<p>My question: Does python have an equivalent to \"perl -ne\" or have any other flags beyond \"python -c\" for taking commands from the prompt? Most solutions I have seen for using python commands from the prompt are ugly and would be solved with the use of such switches.</p>\n\n<p>If not, I'll just have to use perl for on the fly one liners and python for scripting</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "reply_to_user": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1429623285, "post_id": 29773645, "comment_id": 47677787, "body": "not sure how to use that but I will Google it and try it out thanks for the tip :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429624069, "post_id": 29773645, "comment_id": 47678457, "body": "<code>split</code> is the Perl function to use. <code>perldoc -f split</code> is the command that will tell you how to use it."}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429624678, "post_id": 29773645, "comment_id": 47679004, "body": "yhea I managed to figure it out thanks now I have to implement while loop on it I think"}], "answers": [{"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1429625534, "post_id": 29774240, "comment_id": 47679710, "body": "If you want a list, you need to use one; <code>my @list = split &#47;\\n&#47;, $var4;</code>.  You asked for a single value, so that&#39;s what you got.  When you assigned an array (the output from <code>split</code>) to a scalar, you get the number of elements in the array (hence 8, since you split on the empty string; that&#39;s the number of characters in &quot;10 20 30&quot;)."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1429626023, "post_id": 29774240, "comment_id": 47680142, "body": "Yeah; that&#39;s because you used <code>&#47;&#47;</code> rather than <code>&#47;\\n&#47;</code> or <code>&#47;\\s&#47;</code> or <code>&#47; &#47;</code> or some other variant splitting regex.  Don&#39;t split using <code>$_</code> unless you know a lot about Perl \u2014 sufficient that you&#39;d not be asking this question."}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1429626194, "post_id": 29774240, "comment_id": 47680305, "body": "ahhhh thank you now I get 10 20 30 now let me see if it works with if statement"}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1429626775, "post_id": 29774240, "comment_id": 47680774, "body": "it seems nothing happens when it goes through if statement its shows no error and it doesn&#39;t print anything"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1429626973, "post_id": 29774240, "comment_id": 47680912, "body": "You will need a loop to iterate over the list elements one at a time.  <code>for my $var (split &#47; &#47;, $var4) { if ($var &gt; 20) { print ...; } elsif ($var &lt; 20) { print ...; } }</code>.  Note the <code>elsif</code> keyword."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1429627606, "post_id": 29774240, "comment_id": 47681395, "body": "@JonathanLeffler&#39;s comment contains valid <i>Perl</i> code, it sounds like you tried it in the <i>shell</i> by mistake."}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429627905, "post_id": 29774240, "comment_id": 47681649, "body": "I have updated my answer I have done exactly the way you said it"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1429638852, "post_id": 29774240, "comment_id": 47689384, "body": "Your update doesn&#39;t contain the keyword <code>for</code> which my suggested iterative code does contain."}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429639590, "post_id": 29774240, "comment_id": 47689907, "body": "ahhh i give up now nothing happens it shows no error but again no print message."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1429670392, "post_id": 29774240, "comment_id": 47703204, "body": "You&#39;ve lost the newlines in your print statements.  I got <code>less than 20over 20</code> printed and then my prompt when I run your final fragment, which is what you should get from your code."}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429706662, "post_id": 29774240, "comment_id": 47724040, "body": "yep that too and i had other code that was causing the issue now its fixed thank you"}], "tags": [], "owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "is_accepted": false, "score": 0, "last_activity_date": 1429706700, "last_edit_date": 1429706700, "creation_date": 1429624371, "answer_id": 29774240, "question_id": 29773645, "link": "https://stackoverflow.com/questions/29773645/bash-grep-export-perl-env-and-if-statements/29774240#29774240", "title": "bash, grep, export, perl,ENV and if statements", "body": "<p>Ok so far I got this done</p>\n\n<p>in perl I did </p>\n\n<pre><code>my $var5 = split(//,$var4);\n</code></pre>\n\n<p>but it doesn't go back for second number so I think I have to use while loop ahh...... my worst nightmare if I got anything I will update this answer.</p>\n\n<p>no scrap this it not working at all when I print it I get 8. I will post further updates if I find anything</p>\n\n<p>update 1</p>\n\n<pre><code>my @list  = split / /,$var4;\nprint \"@list\";\n</code></pre>\n\n<p>still not perfect because nothing happens in if statement</p>\n\n<p>update 2</p>\n\n<pre><code>my $var4 = \"10 20 30\"; #I have pre defined the value for time sake other wise this value will come from bash script.\n\nfor my $var (split / /, $var4)\n{\nif ($var &gt; 20)\n{\nprint \"over 20\\n\";\n}\nelsif ($var &lt; 20)\n{\nprint \"less than 20\\n\";\n}\n}\n</code></pre>\n\n<p>completed!</p>\n"}], "owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429706700, "creation_date": 1429623010, "last_edit_date": 1429623438, "question_id": 29773645, "link": "https://stackoverflow.com/questions/29773645/bash-grep-export-perl-env-and-if-statements", "title": "bash, grep, export, perl,ENV and if statements", "body": "<p>I have this grep statements in bash script like</p>\n\n<pre><code>HDD3_block=$(grep -i $username block_access.db -s | awk -F \":\" '{print $3}')\n</code></pre>\n\n<p>and I if use echo $HDD3_block I get 10 20 30 so I used </p>\n\n<pre><code>export HDD3_block\n</code></pre>\n\n<p>so I can used this variable in Perl</p>\n\n<pre><code>my $var4 = $ENV{\"HDD3_block\"};\n</code></pre>\n\n<p>I know I'm getting 10 20 30 because I used print \"$var4\\n\"; but that not what I want I'm trying to run 10 20 30 through if statements in perl. Like</p>\n\n<pre><code>print \"var result                   comments\\n\";\nif ($var4 &gt; 20){\nprint \"$var4                        this is more than 20\\n\";\n}elsif ($var &lt; 20){\nprint \"$var4                        this is less than 20\\n\";\n}\n</code></pre>\n\n<p>but I am getting an error saying 10\\n20\\n30 isn't numeric so I'm guessing its getting all that value at once. Is there a way to separate 10 20 30 so the numbers goes through if statement one number at a time like 10 goes through if statement and it goes back get 20 and goes through if statement and it goes back gets 30 and goes through if statements. or is there another way of doing it.</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429620173, "post_id": 29772368, "comment_id": 47675526, "body": "Can anyone tell me Is it possible or Not?"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1429625160, "post_id": 29772368, "comment_id": 47679381, "body": "why dont you just pass the variable to the .sh script?"}, {"owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1429625380, "post_id": 29772368, "comment_id": 47679568, "body": "I have include the .sh file into .pl so, some variable need in that file .sh which calculate in .pl var."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1429625576, "post_id": 29772368, "comment_id": 47679747, "body": "that doesnt make sense, why dont you post your code so we can see what you are trying to achieve."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1429627799, "post_id": 29772368, "comment_id": 47681560, "body": "@Pranay, I think what Chris means is calling your shell script like this: <code>system &#39;sh main.sh&#39;, $var;</code> and then access <code>$var</code> in the shell script as its argument."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1429628313, "post_id": 29772368, "comment_id": 47682009, "body": "No, you haven&#39;t included the <code>.sh</code> file into the <code>.pl</code> file. You&#39;ve <i>called</i> it."}, {"owner": {"reputation": 96259, "user_id": 247696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/936383b387d6cc6d51279e429e5d7cd9?s=128&d=identicon&r=PG", "display_name": "Flimm", "link": "https://stackoverflow.com/users/247696/flimm"}, "edited": false, "score": 0, "creation_date": 1429699408, "post_id": 29772368, "comment_id": 47718221, "body": "Use arguments or environment variables."}, {"owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "reply_to_user": {"reputation": 96259, "user_id": 247696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/936383b387d6cc6d51279e429e5d7cd9?s=128&d=identicon&r=PG", "display_name": "Flimm", "link": "https://stackoverflow.com/users/247696/flimm"}, "edited": false, "score": 0, "creation_date": 1429700675, "post_id": 29772368, "comment_id": 47719201, "body": "@Flimm this question is done but, can you give me the ans of another question that I have asked before 1 hour. Thanx"}, {"owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429700720, "post_id": 29772368, "comment_id": 47719228, "body": "<a href=\"http://stackoverflow.com/questions/29791204/delete-rows-with-mysqldump-backup-table\" title=\"delete rows with mysqldump backup table\">stackoverflow.com/questions/29791204/&hellip;</a> this question"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429680928, "post_id": 29774820, "comment_id": 47706309, "body": "What exactly this line do? pls tell me. I did not get this line."}, {"owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429683490, "post_id": 29774820, "comment_id": 47707522, "body": "Hey @ikegami please can we chat on email ID.?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429708050, "post_id": 29774820, "comment_id": 47725167, "body": "<code>sh -c cmd</code> is the same thing as <code>sh script</code> where <code>script</code> contains <code>cmd</code>. // <code>local $ENV{VAR} = &quot;VAL&quot;;</code> sets var <code>$ENV{VAR}</code>, and I already explained why. // <code>my $var = &quot;VAL&quot;;</code> sets var <code>$var</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429708235, "post_id": 29774820, "comment_id": 47725325, "body": "<a href=\"http://chat.stackexchange.com/rooms/23080/discussion-between-pranay-and-ikegami\">Chat</a>"}, {"owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429723413, "post_id": 29774820, "comment_id": 47737212, "body": "Can you send me your mail ID.SO, I will tell you my problem. I have accept the answer because. I get the logic. But, It oes down for problem so, can you paste here your mail ID."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429724355, "post_id": 29774820, "comment_id": 47737899, "body": "When I want to work on these kinds of problems, I come here. You have no need for my address. You can write in <a href=\"http://chat.stackexchange.com/rooms/23080/discussion-between-pranay-and-ikegami\">here</a>. If you include <code>@ikegami</code> in a message, it will notify me of the message."}, {"owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429724686, "post_id": 29774820, "comment_id": 47738139, "body": "But, I dont have 20+ reputation"}, {"owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "edited": false, "score": 0, "creation_date": 1429724704, "post_id": 29774820, "comment_id": 47738155, "body": "So, I cant refer for chat"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1429628611, "last_edit_date": 1429628611, "creation_date": 1429625788, "answer_id": 29774820, "question_id": 29772368, "link": "https://stackoverflow.com/questions/29772368/include-sh-file-in-pl-file-and-access-variable-of-pl-file-in-sh/29774820#29774820", "title": "Include .sh file in .pl file and access variable of .pl file in .sh", "body": "<p>The child (<code>sh</code>) will receive the contents of <code>%ENV</code> as its environment.</p>\n\n<pre><code>$ perl -e'local $ENV{VAR} = \"VAL\"; system(\"sh\", \"-c\", q{printf \"%s\\n\" \"$VAR\"})'\nVAL\n</code></pre>\n\n<p>You could also pass the values as arguments.</p>\n\n<pre><code>$ perl -e'my $var = \"VAL\"; system(\"sh\", \"-c\", q{printf \"%s\\n\" \"$1\"}, \"-\", $var)'\nVAL\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 29774820, "answer_count": 1, "score": -1, "last_activity_date": 1429628611, "creation_date": 1429619640, "question_id": 29772368, "link": "https://stackoverflow.com/questions/29772368/include-sh-file-in-pl-file-and-access-variable-of-pl-file-in-sh", "title": "Include .sh file in .pl file and access variable of .pl file in .sh", "body": "<pre><code>In .pl script.\n..\n//variables\nmy $var;\nsystem(\"sh main.sh\");\n..\n\nIn .sh script.\n// can I used here, some variables of declare in .pl file.\n</code></pre>\n\n<p>How to used the .pl file variables in .sh file. and obvious.. have used the .sh file<br>\nThanx!</p>\n"}, {"tags": ["perl", "command-line", "process", "aix"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1429620301, "post_id": 29772325, "comment_id": 47675616, "body": "It is a needlessly complicated one-liner, and it looks like it might be fragile. (Ab)using <code>$.</code> looks very sketchy."}, {"owner": {"reputation": 163, "user_id": 169178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81b0c71c6ad89c9fef746da4c72a425?s=128&d=identicon&r=PG", "display_name": "Snark", "link": "https://stackoverflow.com/users/169178/snark"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1429621925, "post_id": 29772325, "comment_id": 47676777, "body": "Can the same result be done in a simpler, more robust way?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1429622031, "post_id": 29772325, "comment_id": 47676869, "body": "Almost certainly, although it would be somewhat of a guesswork without a definition, or sample of the input."}, {"owner": {"reputation": 163, "user_id": 169178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81b0c71c6ad89c9fef746da4c72a425?s=128&d=identicon&r=PG", "display_name": "Snark", "link": "https://stackoverflow.com/users/169178/snark"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1429622792, "post_id": 29772325, "comment_id": 47677412, "body": "Command output has been added, with and without the perl part"}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 169178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81b0c71c6ad89c9fef746da4c72a425?s=128&d=identicon&r=PG", "display_name": "Snark", "link": "https://stackoverflow.com/users/169178/snark"}, "edited": false, "score": 0, "creation_date": 1429619853, "post_id": 29772389, "comment_id": 47675278, "body": "Thanks! But what about the <code>$s++</code> path? It&#39;s incrementing something but I couldn&#39;t find the purpose."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 163, "user_id": 169178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81b0c71c6ad89c9fef746da4c72a425?s=128&d=identicon&r=PG", "display_name": "Snark", "link": "https://stackoverflow.com/users/169178/snark"}, "edited": false, "score": 0, "creation_date": 1429619891, "post_id": 29772389, "comment_id": 47675312, "body": "Can you add the output of <code>svmon</code> to the question?"}, {"owner": {"reputation": 163, "user_id": 169178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81b0c71c6ad89c9fef746da4c72a425?s=128&d=identicon&r=PG", "display_name": "Snark", "link": "https://stackoverflow.com/users/169178/snark"}, "edited": false, "score": 0, "creation_date": 1429620076, "post_id": 29772389, "comment_id": 47675455, "body": "The output after perl parses it, or the raw output? If the later, it&#39;s huge (4813 lines on my server). I cannot host it anywhere either, for confidentiality reasons, I&#39;m afraid."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 163, "user_id": 169178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81b0c71c6ad89c9fef746da4c72a425?s=128&d=identicon&r=PG", "display_name": "Snark", "link": "https://stackoverflow.com/users/169178/snark"}, "edited": false, "score": 0, "creation_date": 1429620336, "post_id": 29772389, "comment_id": 47675642, "body": "@Snark: Check the update. Also read <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429620337, "post_id": 29772389, "comment_id": 47675644, "body": "<code>!$s++</code> is a Perl idiom for finding duplicates. For example, <code>@unique = grep !$seen{$_}++, @list;</code>. In this case, it will prevent <code>print</code> from being reached more than once."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1429620388, "last_edit_date": 1429620388, "creation_date": 1429619714, "answer_id": 29772389, "question_id": 29772325, "link": "https://stackoverflow.com/questions/29772325/understanding-a-perl-one-liner/29772389#29772389", "title": "Understanding a Perl one-liner", "body": "<p>You are decomposing it correctly, as we can verify with <a href=\"http://p3rl.org/B::Deparse\" rel=\"nofollow\">B::Deparse</a>:</p>\n\n<pre><code>perl -MO=Deparse,-p -e 'while(&lt;&gt;){print if($.==2||$&amp;&amp;&amp;!$s++);$.=0 if(/^-+$/)}'\nwhile (defined(($_ = &lt;ARGV&gt;))) {\n    ((($. == 2) || ($&amp; &amp;&amp; (!($s++)))) and print($_));\n    (/^-+$/ and ($. = 0));\n}\n</code></pre>\n\n<p>The <code>$&amp;</code> contains the last match, in this case there's only one place where matching happens: <code>/^-+$/</code>.</p>\n\n<p><code>!$s++</code> is true only when <code>$s++</code> is false, i.e. on the very first match (<code>$&amp; &amp;&amp; !$s++</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 5, "last_activity_date": 1429863506, "last_edit_date": 1429863506, "creation_date": 1429625046, "answer_id": 29774532, "question_id": 29772325, "link": "https://stackoverflow.com/questions/29772325/understanding-a-perl-one-liner/29774532#29774532", "title": "Understanding a Perl one-liner", "body": "<pre><code>perl -e 'while(&lt;&gt;){print if($.==2||$&amp;&amp;&amp;!$s++);$.=0 if(/^-+$/)}'\n</code></pre>\n\n<p>This looks -- at first glance -- like something meant to print every other line, and also the first line after a <code>---</code> line. Lets take a look at the parts.</p>\n\n<p><code>while(&lt;&gt;) { ... }</code> reads standard input (or a file, if you provide arguments) in a line-by-line mode. The most common way to do this in a one-liner is to use the <code>-n</code> or <code>-p</code> switch. I.e. this:</p>\n\n<pre><code>perl -e 'while(&lt;&gt;) { ... }'\n</code></pre>\n\n<p>Is the same as this:</p>\n\n<pre><code>perl -ne ' ... '\n</code></pre>\n\n<p><code>print if</code> will print <code>$_</code>, one of the read lines, if the condition following it is true. The condition <code>if ( $. == 2 || $&amp; &amp;&amp; !$s++ )</code> is a clunky piece of horse manure. Lets dissect it.</p>\n\n<p>First of all, lets note that it consists of two statements, joined with <code>||</code>, meaning the whole statement is true, if either of the statements are true. Second of all, note that it is short-circuiting, meaning that the right hand statement is never evaluated if the left one is true. This is relevant here because of the counter variable <code>$s</code>.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html#$.\" rel=\"nofollow\"><code>$.</code></a> is the built-in variable for line number on the last input file handle accessed. It can be manipulated, but god knows why one would want to. In this case, if the line number is <code>2</code>, the line is printed.</p>\n\n<p>If <code>$.</code> is not <code>2</code>, the right hand statement is checked. It is also a chained statement, with <code>&amp;&amp;</code>, meaning both must be true. In reality, all three statements are chained with each other: <code>a || b &amp;&amp; c</code>, making this a rather complicated mess of <a href=\"http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity\" rel=\"nofollow\">operator precedence</a>. Luckily (?), it seems to mean what we assume it means: <code>(a || (b &amp;&amp; c))</code>. So, if <code>$&amp;</code> is true, and <code>!$s++</code> is true, the print goes through. The <a href=\"http://perldoc.perl.org/perlop.html#Auto-increment-and-Auto-decrement\" rel=\"nofollow\">increment operator</a> on the right side of the variable returns the value <em>before</em> being incremented, in this case it returns <code>0</code> the first time the code is run, which negated turns into <code>1</code>, a true value. All times after that, <code>!$s++</code> returns false. This is a common Perl idiom to return true only for the first encountered value.</p>\n\n<p>Phew! </p>\n\n<p>The part after that resets <code>$.</code> to <code>0</code> if there is a line that consists only of dashes <code>----</code>. Presumably this is done to separate \"records\", e.g.:</p>\n\n<pre><code>foo\nbar\n------\nnext\n...\n</code></pre>\n\n<p>But that begs the question why <code>!$s++</code>? Do we always print the second line of every record? We always print the first line that is \"not line #2\", that is preceded by a line of \"just\" dashes <code>----</code>. </p>\n\n<p>So lets try and summarize... this will print </p>\n\n<ul>\n<li>Line number 2 in the input, <em>or</em> the 2nd line after a line of only dashes <code>----</code>, <em>if</em> there are no lines of only dashes in between.</li>\n<li>The first line after the first line of only dashes it finds (and only the first)</li>\n</ul>\n\n<blockquote>\n  <p>Can the same result be done in a simpler, more robust way? </p>\n</blockquote>\n\n<p>Oh yes, certainly. Here's an example of doing the same thing, but with simpler tools:</p>\n\n<pre><code>$ perl -ne'if ($. &lt;= 3) { print } elsif (/^-+$/) { &lt;&gt;; print &lt;&gt;.\"\"; }'\n-------------------------------------------------------------------------------\n     Pid Command          Inuse      Pin     Pgsp  Virtual 64-bit Mthrd  16MB\n12058652 java            579432     8261   397386   824106      Y     Y     N\n 6094910 java            494585     8110     5754   484444      Y     Y     N\n99058652 java            579432     8261   397386   824106      Y     Y     N\n22058652 java            579432     8261   397386   824106      Y     Y     N\n</code></pre>\n\n<p>This basically reads like english, which is always nice. It takes the first three lines, and prints them, then checks for the \"dash line\", discards the line after it, and prints the next. I use the concatenation operator <code>.</code> to put the file handle in scalar context, to just print one line. An alternative is to use a scalar variable and print that.</p>\n\n<p>Is this the best way? Well... it is a simple way. You could improve it lots by creating a program file, which would be run like:</p>\n\n<pre><code>svmon -Pt15 | perl program.pl\n</code></pre>\n\n<p>Combine it with the linux systems handy features, and you have a new command at your disposal.</p>\n\n<p>That program could be something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint &lt;&gt; . \"\" for 1 .. 3;\n\nwhile (&lt;&gt;) {\n    if (/^-+$/) {\n        &lt;&gt;;\n        print &lt;&gt; . \"\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 169178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81b0c71c6ad89c9fef746da4c72a425?s=128&d=identicon&r=PG", "display_name": "Snark", "link": "https://stackoverflow.com/users/169178/snark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 29774532, "answer_count": 2, "score": 0, "last_activity_date": 1488144573, "creation_date": 1429619517, "last_edit_date": 1488144573, "question_id": 29772325, "link": "https://stackoverflow.com/questions/29772325/understanding-a-perl-one-liner", "title": "Understanding a Perl one-liner", "body": "<p>I was looking at a way to check the memory usage of processes on AIX and found <a href=\"http://www-01.ibm.com/support/knowledgecenter/ssw_aix_71/com.ibm.aix.performance/mem_use_processes.htm\" rel=\"nofollow noreferrer\">this page</a>, listing this command:</p>\n\n<pre><code># svmon -Pt15 | perl -e 'while(&lt;&gt;){print if($.==2||$&amp;&amp;&amp;!$s++);$.=0 if(/^-+$/)}'\n</code></pre>\n\n<p>It works fine for my purpose, but I would like to understand how the Perl one-liner part works.</p>\n\n<p>I know it's parsing the output of the <code>svmon</code> command. I already understood the part <code>$.==2</code> which output the 2nd line. The part <code>$.=0</code> resets the line number so it can do the same processing for each process listed by <code>svmon</code>.</p>\n\n<p>However I'm at loss to understand the part <code>||$&amp;&amp;&amp;!$s++</code>. There is a OR. <code>$&amp;</code> is the matched part (of what?) and &amp;&amp; is the AND operator, but I'm not sure I'm decomposing it correctly either.</p>\n\n<p><code>svmon</code> returns (without any redirection) a similar block of lines per process. The first lines are similar to:</p>\n\n<pre><code># svmon -Pt15 | head -n 20\n\n-------------------------------------------------------------------------------\n     Pid Command          Inuse      Pin     Pgsp  Virtual 64-bit Mthrd  16MB\n12058652 java            579432     8261   397386   824106      Y     Y     N\n\n     PageSize                Inuse        Pin       Pgsp    Virtual\n     s    4 KB               67560        309       1610      40138\n     m   64 KB               31992        497      24736      48998\n\n    Vsid      Esid Type Description              PSize  Inuse   Pin Pgsp Virtual\n  c86b4c        7e work text data BSS heap           m   4096     0   43    4096\n  c30d43        7f work text data BSS heap           m   4096     0  215    4096\n  db2358        68 work text data BSS heap           m   4089     0 3667    4096\n  d25056        69 work text data BSS heap           m   4057     0  585    4096\n  99d59b      1002 work text data BSS heap           m   3461     0 2061    4082\n  b531b1        7d work text data BSS heap           m   3440     0   39    3440\n  a551a7      1001 work text data BSS heap           m   2933     0 2597    3767\n  970017  90000000 work shared library text          m   2172     0  213    2413\n  ca3c48        6a work text data BSS heap           m   2090     0 2006    4096\n  ade32e         4 work text or shared-lib code seg sm  25389     0    0   25389\n... (tons of lines)\n-------------------------------------------------------------------------------\n     Pid Command          Inuse      Pin     Pgsp  Virtual 64-bit Mthrd  16MB\n 6094910 java            494585     8110     5754   484444      Y     Y     N\n\n     PageSize                Inuse        Pin       Pgsp    Virtual\n     s    4 KB               31257        158       1610      16780\n     m   64 KB               28958        497        259      29229\n\n    Vsid      Esid Type Description              PSize  Inuse   Pin Pgsp Virtual\n  a31ba7         8 work text or shared-lib code seg  m   4096     0    0    4096\n  da3159         6 work text or shared-lib code seg  m   4096     0    0    4096\n... repeated several times\n</code></pre>\n\n<p>The processed output with the perl part returns the headers, the dash line and one line per process, with the command and memory details:</p>\n\n<pre><code># svmon -Pt15 | perl -e 'while(&lt;&gt;){print if($.==2||$&amp;&amp;&amp;!$s++);$.=0 if(/^-+$/)}'\n-------------------------------------------------------------------------------\n     Pid Command          Inuse      Pin     Pgsp  Virtual 64-bit Mthrd  16MB\n12058652 java            579438     8261   397386   824106      Y     Y     N\n 6094910 java            494583     8110     5754   484444      Y     Y     N\n 5046378 java            382458     8217     5738   339847      Y     Y     N\n21102818 java            352534     8149     5738   305644      Y     Y     N\n18219048 java            321394     8081   176586   340617      Y     Y     N\n18612404 java            235323     8161   100746   267565      Y     Y     N\n 3735554 java            195412     8118   125306   222885      Y     Y     N\n24772644 java            185403     8209    88474   202652      Y     Y     N\n25559102 java            143341     8095     5738   118094      Y     Y     N\n11272240 java            137082     8193    82810   167151      Y     Y     N\n18874550 java            131531     8129    79898   144249      Y     Y     N\n 5505082 java            121320     8075    50922   136195      Y     Y     N\n</code></pre>\n"}, {"tags": ["perl", "clone", "argument-passing"], "answers": [{"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": true, "score": 3, "last_activity_date": 1429619353, "creation_date": 1429619353, "answer_id": 29772263, "question_id": 29772150, "link": "https://stackoverflow.com/questions/29772150/what-is-the-best-one-line-way-to-clone-array-passed-by-reference-in-perl/29772263#29772263", "title": "What is the best one-line way to clone array passed by reference in Perl?", "body": "<p><code>map { $_ }</code> is redundant.  Just do:</p>\n\n<pre><code>$arrayref = [ @$arrayref ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 3, "last_activity_date": 1429619777, "last_edit_date": 1429619777, "creation_date": 1429619438, "answer_id": 29772294, "question_id": 29772150, "link": "https://stackoverflow.com/questions/29772150/what-is-the-best-one-line-way-to-clone-array-passed-by-reference-in-perl/29772294#29772294", "title": "What is the best one-line way to clone array passed by reference in Perl?", "body": "<p>You don't need the map statement. Simply de-reference your arrayref with the <code>@</code> sigil, create a new anonymous arrayref using the de-referenced values, then assign the result of that to some new variable.</p>\n\n<pre><code>main::(-e:1):   0\n  DB&lt;1&gt; $a = [1,2,3];\n\n  DB&lt;2&gt; x $a;\n0  ARRAY(0x7fe7cb80bd78)\n   0  1\n   1  2\n   2  3\n  DB&lt;3&gt; $b = [ @$a ];\n\n  DB&lt;4&gt; x $b;\n0  ARRAY(0x7fe7cc0b9da0)  # &lt; different address\n   0  1\n   1  2\n   2  3\n</code></pre>\n\n<p>You could also wrap this in a simple sub: </p>\n\n<pre><code>sub clone {\n   my $arrayref = shift; \n\n   croak 'Supplied argument is not an arrayref'\n      unless $arrayref &amp;&amp; ref($arrayref) eq 'ARRAY';\n\n   return [ @$arrayref ];\n}\n</code></pre>\n\n<p>Note: if your data-structure has more than 1-layer (e.g. multi-dimensional arrays) this solution will not work, because the inner references will remain the same. There is a nice module called <a href=\"https://metacpan.org/pod/Clone\" rel=\"nofollow\"><code>Clone</code></a> on CPAN that can handle nested data-structures quite well.</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1429619544, "creation_date": 1429619544, "answer_id": 29772339, "question_id": 29772150, "link": "https://stackoverflow.com/questions/29772150/what-is-the-best-one-line-way-to-clone-array-passed-by-reference-in-perl/29772339#29772339", "title": "What is the best one-line way to clone array passed by reference in Perl?", "body": "<p>You can do everything in one command:</p>\n\n<pre><code>my $clonedref = [ @{ shift() } ];\n</code></pre>\n\n<p>Note it only clones the top layer of the array reference, i.e. if there are structures nested in the array, they won't be cloned.</p>\n"}], "owner": {"reputation": 503, "user_id": 1485889, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b28775c093e89408d6ed09287b6071b5?s=128&d=identicon&r=PG", "display_name": "isevcik", "link": "https://stackoverflow.com/users/1485889/isevcik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 29772263, "answer_count": 3, "score": 0, "last_activity_date": 1429639671, "creation_date": 1429619045, "last_edit_date": 1429639671, "question_id": 29772150, "link": "https://stackoverflow.com/questions/29772150/what-is-the-best-one-line-way-to-clone-array-passed-by-reference-in-perl", "title": "What is the best one-line way to clone array passed by reference in Perl?", "body": "<p>When passing array to sub by reference, i need to clone the array, because i don't want reflect local array changes out of sub, so i can do this:</p>\n\n<pre><code>$arrayref = shift;\n$arrayref = [ map { $_ } @$arrayref ];\n</code></pre>\n\n<p>Is there a better, elegant one-line way of doing this? Please take a note about passing array by reference and assigning reference to new array to the same variable.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429618612, "post_id": 29771314, "comment_id": 47674327, "body": "It isn&#39;t clear what output you want. Surely there should be <code>is:</code> in there somewhere? I think you should show your Perl program so that we can help you properly"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1429616867, "creation_date": 1429616867, "answer_id": 29771381, "question_id": 29771314, "link": "https://stackoverflow.com/questions/29771314/perl-code-output-not-displayed-properly/29771381#29771381", "title": "Perl Code : Output not displayed properly", "body": "<p>Seems like CR/LF versus LF issue. Convert your input from MSWin to Linux by running <code>dos2unix</code> or <code>fromdos</code>, or remove the <code>\"\\r\"</code> characters from within the Perl code.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4814616, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UzHcQj5IS6Q/AAAAAAAAAAI/AAAAAAAAAD8/vQGzaD402GQ/photo.jpg?sz=128", "display_name": "shraddha bhadauria", "link": "https://stackoverflow.com/users/4814616/shraddha-bhadauria"}, "edited": false, "score": 0, "creation_date": 1429684269, "post_id": 29771575, "comment_id": 47707963, "body": "Heya, thanks...  I have been using conf file taken from windows and running on Linux. Dint know about this thing. Thank you :) @borodin"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429618178, "last_edit_date": 1429618178, "creation_date": 1429617428, "answer_id": 29771575, "question_id": 29771314, "link": "https://stackoverflow.com/questions/29771314/perl-code-output-not-displayed-properly/29771575#29771575", "title": "Perl Code : Output not displayed properly", "body": "<p>As choroba says, I guess you are reading a file on Linux that has been generated on Windows. The easiest fix is to replace <code>chomp</code> with <code>s/\\s+\\z//</code>or <code>s/\\p{cntrl}+\\z//</code></p>\n\n<p>Or, if trailing spaces are significant, you can use <code>s/[\\r\\n]+\\z//</code> or, if you are running version 10 or later of Perl 5, <code>s/\\R\\z//</code></p>\n"}], "owner": {"reputation": 1, "user_id": 4814616, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UzHcQj5IS6Q/AAAAAAAAAAI/AAAAAAAAAD8/vQGzaD402GQ/photo.jpg?sz=128", "display_name": "shraddha bhadauria", "link": "https://stackoverflow.com/users/4814616/shraddha-bhadauria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1429618333, "creation_date": 1429616659, "last_edit_date": 1429618333, "question_id": 29771314, "link": "https://stackoverflow.com/questions/29771314/perl-code-output-not-displayed-properly", "title": "Perl Code : Output not displayed properly", "body": "<p>I have a perl code where I access multiple txt files and produce output for them. \nWhile I run the code, the output lines on the console are overwritten.</p>\n\n<pre><code>2015-04-21:12-04-54|getFilesInInputDir|  ********** name : PEPORT **********\nPEPORT4-21:12-04-54|readNFormOutputFile|  name :\nPEPORT\" is : -04-54|readNFormOutputFile| Frequency for name \"\n</code></pre>\n\n<p>Please note, that the second and  third line it should have been like </p>\n\n<pre><code>2015-04-21:12-04-54|readNFormOutputFile| name : PEPORT\n2015-04-21:12-04-54|readNFormOutputFile| Frequency for name \"PEPORT\"\n</code></pre>\n\n<p>Also, after this the code stops processing my files. The code seems fine. May I know what may be the possible cause for this.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "is_accepted": false, "score": 0, "last_activity_date": 1430686163, "creation_date": 1430686163, "answer_id": 30019226, "question_id": 29770658, "link": "https://stackoverflow.com/questions/29770658/perlbrew-installation-failed-in-the-freebsd-jail/30019226#30019226", "title": "Perlbrew installation failed in the freebsd jail", "body": "<p>Solved.</p>\n\n<p>The problem was outside of perl. If such thing happens, check first your <code>syslogd</code> flags the <code>/etc/rc.conf</code>.</p>\n\n<p>The <code>-ss</code> doesn't allows any connections via sockets, so the test fails. You can safely ignore this - or you can change the flags to:</p>\n\n<pre><code>-s -b localhost\n</code></pre>\n\n<p>and after this perlbrew will install perl without any errors.</p>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492333215, "creation_date": 1429614982, "last_edit_date": 1492333215, "question_id": 29770658, "link": "https://stackoverflow.com/questions/29770658/perlbrew-installation-failed-in-the-freebsd-jail", "title": "Perlbrew installation failed in the freebsd jail", "body": "<p>Just tried install <code>perlbrew</code> inside of the freebsd jail, with</p>\n\n<pre><code>perlbrew available\nperlbrew install perl-5.20.2\n</code></pre>\n\n<p>finished with error</p>\n\n<pre><code>#   Failed test '[inet] syslog() should return true: '0''\n#   at t/syslog.t line 180.\n\n#   Failed test '[inet] syslog() should return true: '0''\n#   at t/syslog.t line 187.\n\n#   Failed test '[udp] syslog() should return true: '0''\n#   at t/syslog.t line 180.\n\n#   Failed test '[udp] syslog() should return true: '0''\n#   at t/syslog.t line 187.\n# Looks like you failed 4 tests of 225.\n../cpan/Sys-Syslog/t/syslog.t ..................................... \nDubious, test returned 4 (wstat 1024, 0x400)\nFailed 4/225 subtests \n        (less 98 skipped subtests: 123 okay)\n</code></pre>\n\n<p>I know I could do:</p>\n\n<pre><code>perlbrew --notest install perl-5.20.2\nperlbrew --force install perl-5.20.2\n</code></pre>\n\n<p>but don't know how \"serious\" are the above fails.</p>\n\n<pre><code>uname -a\nFreeBSD example.com 9.0-RELEASE-p3 FreeBSD 9.0-RELEASE-p3 #0: Tue Jun 12 02:52:29 UTC 2012     root@amd64-builder.daemonology.net:/usr/obj/usr/src/sys/GENERIC  amd64\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429614740, "post_id": 29770286, "comment_id": 47671547, "body": "It can only be set when you build perl"}, {"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 1, "creation_date": 1429614742, "post_id": 29770286, "comment_id": 47671549, "body": "your question and subject don&#39;t match.   If you want to force 32-bit math, it might help to explain why, as there may be a way to coerce your results into 32-bit numbers."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1429615081, "post_id": 29770286, "comment_id": 47671789, "body": "Wouldn&#39;t it be simplest to install 32-bit ActivePerl instead?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429615241, "post_id": 29770286, "comment_id": 47671916, "body": "There is nothing under <i>Incompatible Changes</i> about your problem. The text you quote is from <i>Platform-Specific Notes/Win32</i>, and it provides for 64-bit integers on a 32-bit build of Perl, not the other way around"}, {"owner": {"reputation": 11, "user_id": 4814437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e9ff8710b4ed2ff1ec8c5a9c70622f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuong Vo", "link": "https://stackoverflow.com/users/4814437/chuong-vo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429615287, "post_id": 29770286, "comment_id": 47671945, "body": "@ikegami : the problem is that I didn&#39;t find any ways to enable/disable this option when installing ActivePerl on Windows. Could you please help to give instruction more details ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429618581, "post_id": 29770286, "comment_id": 47674304, "body": "You said you installed from msi, but it has to be set when perl is built."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1429623006, "post_id": 29770286, "comment_id": 47677566, "body": "Why do you want 32-bit integers?"}, {"owner": {"reputation": 11, "user_id": 4814437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e9ff8710b4ed2ff1ec8c5a9c70622f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuong Vo", "link": "https://stackoverflow.com/users/4814437/chuong-vo"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1429625178, "post_id": 29770286, "comment_id": 47679396, "body": "@Sinan&#220;n&#252;r : this can reduce size of my script when I create executable file."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1429625586, "post_id": 29770286, "comment_id": 47679755, "body": "@ChuongVo I am not sure if I understand your claim. In any case, you need to <a href=\"http://www.nu42.com/2014/11/64-bit-perl-5201-with-visual-studio.html\" rel=\"nofollow noreferrer\">compile your own <code>perl</code></a>. Edit <code>win32\\Makefile</code> to disable 64 bit integers. Also, run the build from the 32-bit build environment. ActivePerl distribute what they distribute. If you want something else, you need to build your own."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429625997, "post_id": 29770286, "comment_id": 47680115, "body": "@ChuongVo: How are you creating an executable file from your script?"}, {"owner": {"reputation": 11, "user_id": 4814437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e9ff8710b4ed2ff1ec8c5a9c70622f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuong Vo", "link": "https://stackoverflow.com/users/4814437/chuong-vo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429626649, "post_id": 29770286, "comment_id": 47680681, "body": "@Borodin : I use PerlApp"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429618798, "post_id": 29770808, "comment_id": 47674451, "body": "The 32-bit ActivePerl uses 64-bit ints"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429615427, "creation_date": 1429615427, "answer_id": 29770808, "question_id": 29770286, "link": "https://stackoverflow.com/questions/29770286/perl-activestate-how-to-set-integer-variable-to-32-bit-width-on-windows-x64/29770808#29770808", "title": "Perl ActiveState - How to set Integer variable to 32-bit width on Windows x64?", "body": "<p>If you want 32-bit integers then install 32-bit ActivePerl. (Better still, install 32-bit Strawberry Perl)</p>\n\n<p>The <code>USE_64_BIT_INT</code> option is for enabling 64-bit integers on a 32-bit Perl, which isn't what you're asking for</p>\n\n<p>If you explain the problem that you're trying to solve by restricting your Perl installation to using 32-bit integers then I am sure we will be able to help better</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1429625970, "last_edit_date": 1429625970, "creation_date": 1429619597, "answer_id": 29772356, "question_id": 29770286, "link": "https://stackoverflow.com/questions/29770286/perl-activestate-how-to-set-integer-variable-to-32-bit-width-on-windows-x64/29772356#29772356", "title": "Perl ActiveState - How to set Integer variable to 32-bit width on Windows x64?", "body": "<p>Perl guarantees that integers values are large enough to hold a pointer. As such, a 32-bit bit <code>perl</code>'s integers will be at least 32 bits in size, and a 64-bit bit <code>perl</code>'s integers will be at least 64 bits in size.</p>\n\n<p>By default, a 32-bit <code>perl</code> will use 32-bit integers, but it's possible to pass flag <code>-Duse64bitint</code> to <code>Configure</code> to have the build process build a 32-bit <code>perl</code> that uses 64-bit integers instead. <code>Configure</code> isn't used on Windows build, but the same behaviour can be obtained by editing the value of <code>USE_64_BIT_INT</code> in the makefile.</p>\n\n<p>You chose to download a pre-built <code>perl</code> from ActiveState rather than building your own. ActiveState now uses the equivalent of <code>-Duse64bitint</code> when building its 32-bit <code>perl</code>.</p>\n\n<pre><code>&gt;perl -v | find \"This is\"\nThis is perl 5, version 20, subversion 2 (v5.20.2) built for MSWin32-x86-multi-thread-64int\n\n&gt;perl -V:archname\narchname='MSWin32-x86-multi-thread-64int';   # x86 = 32-bit binary\n                                             # x64 = 64-bit binary\n&gt;perl -V:use64bitint\nuse64bitint='define';                        # -Duse64bitint or makefile equiv was used\n\n&gt;perl -V:ivsize                              # Size of integer values\nivsize='8';                                  # 8 bytes = 64 bits\n</code></pre>\n\n<p>If you want a build of Perl that uses 32-bit integers, you'll need to build your own or have someone else build one for you. (Strawberry Perl's 32-bit Perl might use 32-bit integers.)</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4814437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e9ff8710b4ed2ff1ec8c5a9c70622f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuong Vo", "link": "https://stackoverflow.com/users/4814437/chuong-vo"}, "edited": false, "score": 0, "creation_date": 1429778786, "post_id": 29776657, "comment_id": 47763154, "body": "I am not sure I can built my.exe file with <code>--dependent</code> or <code>--trim</code> option because this exe file will run on  target machine that might not have same modules as my machine. I am trying to recompile Perl myself with some modification in <i>win32/Makefile</i>"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 11, "user_id": 4814437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e9ff8710b4ed2ff1ec8c5a9c70622f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuong Vo", "link": "https://stackoverflow.com/users/4814437/chuong-vo"}, "edited": false, "score": 0, "creation_date": 1429802638, "post_id": 29776657, "comment_id": 47782051, "body": "I expect PerlApp will fail miserably with a non-ActiveState build of Perl.  Without an ActivePerl build you may have better luck with <code>PAR::Packer</code> and one of the Strawberry Perl builds without USE_64_BIT_INT.  Check out the 3rd box (as of 2015-04-23) at <a href=\"http://strawberryperl.com/releases.html\" rel=\"nofollow noreferrer\">strawberryperl.com/releases.html</a>"}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1429631678, "last_edit_date": 1429631678, "creation_date": 1429630144, "answer_id": 29776657, "question_id": 29770286, "link": "https://stackoverflow.com/questions/29770286/perl-activestate-how-to-set-integer-variable-to-32-bit-width-on-windows-x64/29776657#29776657", "title": "Perl ActiveState - How to set Integer variable to 32-bit width on Windows x64?", "body": "<p>I write this answer based on your comment that you are using <code>PerlApp</code> and want a smaller .exe in the end.</p>\n\n<p>PerlApp does not \"compile\" perl scripts in the conventional sense.  It wraps up a perl .dll with your script source, the source of any used/included modules and the .dll files of any XS modules and an extractor stub, all into a single self extracting/executing Zip archive.</p>\n\n<p>As such, the size of your in-memory variables will have little relation to the size of the textual name of that variable in your script when it is encapsulated in the .exe</p>\n\n<hr>\n\n<p>Possible actions that may affect the size of your resultant .exe:</p>\n\n<ul>\n<li>Tell PerlApp to use the \"Windows\" target instead of the \"Windows 64\" target to get a relatively minor savings of including 32 bit instead of 64 bit .dlls .</li>\n<li>Build your .exe with the <code>--dependent</code> or <code>--trim</code> options to remove some larger files from the archive entirely.  (Those files will have to be available on the system separately)</li>\n</ul>\n\n<p>Now the caveat:  These options require that ActivePerl and/or Modules be installed on the target machine.  If your .exe is the only one in use, you will, in the end, gain nothing at the price of increasing your maintenance overhead.  If there are several PerlApp generated .exe files on the machine, the space savings of not including the perl .dll in each of them can be significant.</p>\n\n<hr>\n\n<p>One final word:  I find PerlApp a helpful way of delivering a Perl program in a single self-contained file.  The same could be accomplished with any decent installation wizard.  The overhead of the PerlApp packaging process is generally a poor way to reduce required disk space, memory usage, or even start-up time.  It is also a remarkably poor protection from reverse engineering, even though it is frequently used for this purpose.</p>\n"}], "owner": {"reputation": 11, "user_id": 4814437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e9ff8710b4ed2ff1ec8c5a9c70622f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuong Vo", "link": "https://stackoverflow.com/users/4814437/chuong-vo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "accepted_answer_id": 29772356, "answer_count": 3, "score": 0, "last_activity_date": 1429631678, "creation_date": 1429613934, "last_edit_date": 1429614899, "question_id": 29770286, "link": "https://stackoverflow.com/questions/29770286/perl-activestate-how-to-set-integer-variable-to-32-bit-width-on-windows-x64", "title": "Perl ActiveState - How to set Integer variable to 32-bit width on Windows x64?", "body": "<blockquote>\n  <p>$ perl -V | grep use64bitint<br>\n   use64bitint=define, use64bitall=undef, uselongdouble=undef</p>\n</blockquote>\n\n<p>I have installed ActiveState 5.20 for Perl 64 on Windows. Integer variables are allocated in memory as 64-bit. Is is possible to switch to 32-bit integer?</p>\n\n<p>I tried to google and got this :</p>\n\n<p><a href=\"http://docs.activestate.com/activeperl/5.18/lib/pods/perl5180delta.html#Incompatible-Changes\" rel=\"nofollow\">http://docs.activestate.com/activeperl/5.18/lib/pods/perl5180delta.html#Incompatible-Changes</a></p>\n\n<blockquote>\n  <p>\"A new makefile option, USE_64_BIT_INT, has been added to the Windows makefiles. Set this to \"define\" when building a 32-bit perl if you want it to use 64-bit integers.\"</p>\n</blockquote>\n\n<p>The issue is that I installed through *.msi so It did not prompt to enable/disable this option.</p>\n"}, {"tags": ["perl", "perl-module", "subroutine"], "comments": [{"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "edited": false, "score": 0, "creation_date": 1429625107, "post_id": 29770131, "comment_id": 47679349, "body": "What do you mean by &quot;need to have their own inputs&quot;? Do you mean, these functions have different input parameters than <code>&amp;initiator</code>? Because, in this case, what sense does it make to pass that function (<i>function reference</i>, to be precise),  to reader?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1429625174, "post_id": 29770131, "comment_id": 47679393, "body": "Prefixing functions with <code>&amp;</code> is deprecated in the current version of perl. It has a rather specific meaning now, and <i>at best</i> it&#39;s redundant."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 3481208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K13GA.png?s=128&g=1", "display_name": "user3481208", "link": "https://stackoverflow.com/users/3481208/user3481208"}, "edited": false, "score": 1, "creation_date": 1429708902, "post_id": 29775164, "comment_id": 47725924, "body": "Thanks for the info! It was really comprehensive and informative."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1429627150, "last_edit_date": 1429627150, "creation_date": 1429626577, "answer_id": 29775164, "question_id": 29770131, "link": "https://stackoverflow.com/questions/29770131/nested-modular-subroutines-where-the-inner-subroutine-changes/29775164#29775164", "title": "Nested modular subroutines where the inner subroutine changes", "body": "<p>Perl allows you to create references to things, and that includes both subroutines and arrays.</p>\n\n<p>If you've got differing arguments to pass, then I would suggest you want to do so via array reference rather than what you're doing. A bit like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub variable_args {\n    my ( $code_ref, $array_ref ) = @_;\n    #dereference code ref;\n    #dereference array ref;\n    &amp;$code_ref( @$array_ref, \"optional\", \"extra\", \"arg\" );\n}\n\nsub foo_func {\n    foreach (@_) {\n        print \"Foo $_\\n\";\n    }\n}\n\nsub bar_func {\n    print \"BAR: \", join( \":\", @_ ), \"\\n\";\n}\n\n\n#could inline the functions as anonymous subs. I would avoid doing that\n#unless they're pretty short/clear. \nmy %functions = (\n    'foo' =&gt; \\&amp;foo_func,\n    'bar' =&gt; \\&amp;bar_func,\n);\n\nmy %args_to_pass = (\n    'foo' =&gt; [ \"Mary\", \"Lamb\" ],\n    'bar' =&gt; [ \"Some\", \"Fish\", \"Pie\" ],\n);\n\n\nfor my $thing ( \"foo\", \"bar\" ) {\n    variable_args( $functions{$thing}, $args_to_pass{$thing} );\n}\n</code></pre>\n\n<p>Note - in the example above, you call <code>&amp;initiator</code>. You shouldn't do this. It's deprecated syntax from Perl 4, and is redundant (and may have some undesired consequences in certain scenarios). </p>\n\n<p>But I would suggest doing it this way rather than the way you've got. You <em>could</em> get this to work:</p>\n\n<pre><code>&amp;reader($file_to_read, $functions{'foo'}($par[0], $par[1]));\n</code></pre>\n\n<p>But what will happen when you try and do that is you'll (potentially) just run your function immediately, and pass it's result into <code>reader</code>. </p>\n\n<p>E.g.:</p>\n\n<pre><code>variable_args ( &amp;{$functions{'foo'}}(\"Mary\", \"Lamb\"), [\"more stuff\"] );\n</code></pre>\n\n<p>Won't work, because you're 'running' it immediately, and then sending the result - which'll make your <code>$code_ref</code> whatever the <em>result</em> of the subroutine was. </p>\n\n<p>However you <em>could</em> make an anonymous sub, and pass that:</p>\n\n<pre><code>variable_args( sub {\n                     &amp;{ $functions{'foo'} }( \"Special\", \"Argument\", @_ ) \n                   },\n               $args_to_pass{'foo'} );\n</code></pre>\n\n<p>I would suggest you're getting needlessly convoluted by that point though :)</p>\n"}, {"tags": [], "owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "is_accepted": false, "score": 1, "last_activity_date": 1429626681, "creation_date": 1429626681, "answer_id": 29775202, "question_id": 29770131, "link": "https://stackoverflow.com/questions/29770131/nested-modular-subroutines-where-the-inner-subroutine-changes/29775202#29775202", "title": "Nested modular subroutines where the inner subroutine changes", "body": "<p>As far as I can guess, you want to pass a function (reference) as parameter.\nSomething like this should work for you</p>\n\n<pre><code># Script\n\nuse Reader qw(reader);\nuse Othersub qw(subroutine);\n\nmy @par = .... ; \nreader( $file_to_read , \\&amp;subroutine , @par);\n\n# Reader.pm\n\nsub reader {\n    my $file = shift;\n    my $initiator = shift;\n    my @par = @_; \n    ...\n    $initiator-&gt;( $file , @par)\n    ...\n}  \n</code></pre>\n\n<p><em>Remark:</em> In the last line of your code, you are not passing the function <code>subroutine</code> to <code>reader</code>, as you might have intendend; instead, you invoke it and pass <em>the result of soubroutine, given the paramers par</em> to reader. </p>\n"}], "owner": {"reputation": 145, "user_id": 3481208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K13GA.png?s=128&g=1", "display_name": "user3481208", "link": "https://stackoverflow.com/users/3481208/user3481208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 29775164, "answer_count": 2, "score": 0, "last_activity_date": 1429627150, "creation_date": 1429613530, "last_edit_date": 1429614151, "question_id": 29770131, "link": "https://stackoverflow.com/questions/29770131/nested-modular-subroutines-where-the-inner-subroutine-changes", "title": "Nested modular subroutines where the inner subroutine changes", "body": "<p>I have a sub that reads a <a href=\"http://en.wikipedia.org/wiki/FASTA_format\" rel=\"nofollow\">FASTA</a> text file in chunks.</p>\n\n<pre><code>sub reader {\n    foreach my $line (&lt;IN&gt;) {   # read line by line\n        chomp $line;\n        if ($line =~ m/^&gt;/) {   # if it's a title\n            &amp;initiator($title, $seq) unless $firsttitle == 1;\n            $firsttitle = 0;\n            ($title = $line) =~ s/^&gt;//; # title without &gt; at start\n            $seq = '';  # new seq\n        } else {\n            $seq = $seq . $line;    # append seq lines\n        }\n    }\n    &amp;initiator($title, $seq);   # Do the thing for the last seq.\n}\n</code></pre>\n\n<p>In the middle of several loops, &amp;initiator is called. I'd like to have this in a module that I can \"use\" but substitute &amp;initiator with other subs from other modules. These subs will need to have their own inputs as well. Would something like the following work or is there a more elegant solution?</p>\n\n<pre><code>use Reader qw(reader);\nuse Othersub qw(subroutine);\nmy @par = ('Mary', 'Lamb');\nmy %functions = (foo =&gt; \\&amp;Othersub::subroutine);\n&amp;reader($file_to_read, $functions{'foo'}($par[0], $par[1]));\n</code></pre>\n\n<p>Note: Final file structure is Othersub.pm, Reader.pm and the script that uses both modules.</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429613461, "post_id": 29769925, "comment_id": 47670649, "body": "I get error saying use of uninitialized value in print at perlscript.pl line2."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429613791, "post_id": 29769925, "comment_id": 47670910, "body": "@user3250974 <code>var=&quot;bob&quot;; perl -E &#39;say $ENV{var}&#39;</code>"}, {"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429614214, "post_id": 29769925, "comment_id": 47671228, "body": "I&#39;m doing exact thing you are saying but I still get the same error"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1429613006, "creation_date": 1429613006, "answer_id": 29769925, "question_id": 29769797, "link": "https://stackoverflow.com/questions/29769797/how-can-i-send-variable-from-bash-script-to-perl-script/29769925#29769925", "title": "how can i send variable from bash script to perl script", "body": "<p>Since you want to access environment, you can use <a href=\"http://perldoc.perl.org/perlvar.html#%25ENV\" rel=\"nofollow\"><code>%ENV</code></a> global hash,</p>\n\n<pre><code>print $ENV{var};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1435761576, "post_id": 29770646, "comment_id": 50337267, "body": "So you went with the environment variable rather than actually passing it as an argument to your Perl script then? By passing it as an argument to perlscript.pl you make it more portable and less reliant on an Environment variable being set. And you accepted your own answer. WOW !!"}], "tags": [], "owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "is_accepted": false, "score": 3, "last_activity_date": 1429614961, "creation_date": 1429614961, "answer_id": 29770646, "question_id": 29769797, "link": "https://stackoverflow.com/questions/29769797/how-can-i-send-variable-from-bash-script-to-perl-script/29770646#29770646", "title": "how can i send variable from bash script to perl script", "body": "<p>ok after some reading the books I got this I think</p>\n\n<pre><code>#!/bin/bash\n\nvar=\"bob\"\nexport var\nperl perlscript.pl\n</code></pre>\n\n<p>and in perlscript.pl</p>\n\n<pre><code>#!/usr/bi/perl -w\n\nmy $var1 = $ENV{\"var\"};\nprint \"\\ $var1\\n\";\n</code></pre>\n\n<p>who knew book was actually more useful than internet</p>\n"}, {"comments": [{"owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "edited": false, "score": 0, "creation_date": 1429636518, "post_id": 29776242, "comment_id": 47687953, "body": "oh yes this is what i was looking for. one of my friend told me this method but i forgot so i came here but they told me to use use env now i will use this."}], "tags": [], "owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "is_accepted": true, "score": 0, "last_activity_date": 1429629108, "creation_date": 1429629108, "answer_id": 29776242, "question_id": 29769797, "link": "https://stackoverflow.com/questions/29769797/how-can-i-send-variable-from-bash-script-to-perl-script/29776242#29776242", "title": "how can i send variable from bash script to perl script", "body": "<p>Might an easier way be to do the following...</p>\n\n<p><strong>Shell script</strong></p>\n\n<pre><code>#!/bin/bash\n\nvar=\"bob\"\nperl perlscript.pl $var\n</code></pre>\n\n<p><strong>Perl script</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;    \n\nmy $var = shift;    # reads first arg passed on command line\nprint \"$var \\n\";\n</code></pre>\n\n<p>I suggest this as reading from the environment is ok but there is always a chance that you may read/write from/to an existing variable. </p>\n\n<p>At least if you keep it to local shell script variables then you are in control of what is being passed into your Perl script. </p>\n"}], "owner": {"reputation": 207, "user_id": 3250974, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bba8f8ccb36a220f3a332bb1f1ce6777?s=128&d=identicon&r=PG&f=1", "display_name": "WESTKINz", "link": "https://stackoverflow.com/users/3250974/westkinz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 29776242, "answer_count": 3, "score": 0, "last_activity_date": 1429629108, "creation_date": 1429612611, "question_id": 29769797, "link": "https://stackoverflow.com/questions/29769797/how-can-i-send-variable-from-bash-script-to-perl-script", "title": "how can i send variable from bash script to perl script", "body": "<p>I just wanted to know how can I send variable that are set to bash script to Perl script. For Example</p>\n\n<p>bash script</p>\n\n<pre><code>#!/bin/bash\n\nvar=\"bob\"\nperl perlscript.pl\n\nreturn 0\n</code></pre>\n\n<p>so when the perlscript is launched I want to have bob in Perl script</p>\n\n<pre><code>#!/usr/bi/perl -w\nprint \"\"\n</code></pre>\n"}, {"tags": ["perl", "parsing", "nlp", "charniak-parser"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429610494, "post_id": 29768265, "comment_id": 47668509, "body": "Please give a link to the page where you downloaded the parser. I cannot see it on Charniak&#39;s home page"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429610942, "post_id": 29768265, "comment_id": 47668849, "body": "Please see <a href=\"http://stackoverflow.com/q/7287087\"><i>Compiling Charniak&#39;s Parser</i></a>"}, {"owner": {"reputation": 2309, "user_id": 1118542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c28cff26d7fda5d7ab55b9824f8e5dff?s=128&d=identicon&r=PG", "display_name": "dmcc", "link": "https://stackoverflow.com/users/1118542/dmcc"}, "edited": false, "score": 0, "creation_date": 1429628286, "post_id": 29768265, "comment_id": 47681984, "body": "The version of the parser on Charniak&#39;s website doesn&#39;t compile easily these days. The currently maintained version is at <a href=\"https://github.com/BLLIP/bllip-parser\" rel=\"nofollow noreferrer\">github.com/BLLIP/bllip-parser</a>. To build parseIt, you&#39;ll need to run <code>make PARSE</code> from the top-level directory."}, {"owner": {"reputation": 1, "user_id": 3024055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81a62b29c4d733ebb654aa55f51bb11?s=128&d=identicon&r=PG&f=1", "display_name": "Khaing", "link": "https://stackoverflow.com/users/3024055/khaing"}, "edited": false, "score": 0, "creation_date": 1429806832, "post_id": 29768265, "comment_id": 47785213, "body": "&gt;&gt; here is link for parser [link] (<a href=\"ftp://ftp.cs.brown.edu/pub/nlparser/\" rel=\"nofollow noreferrer\">ftp.cs.brown.edu/pub/nlparser</a>) @ Borodin"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3024055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81a62b29c4d733ebb654aa55f51bb11?s=128&d=identicon&r=PG&f=1", "display_name": "Khaing", "link": "https://stackoverflow.com/users/3024055/khaing"}, "edited": false, "score": 0, "creation_date": 1429808113, "post_id": 29768864, "comment_id": 47786082, "body": "in SPADE, the instruction is &quot; set the value for the $CHP variable to the directory path for Charniak parser&quot; . So, i set the value &#39; $CHP = &quot;/home/Khaing/CharniakParser/&quot;;&#39; for path of the parser.  But in line 26, the code is  &#39;@args = (&quot;$CHP/parseIt -LEn $CHP/DATA/ $argv &gt; $argv.chp&quot;); \tprint STDERR &quot;Charniak&#39;s syntactic parser in progress...\\n&quot;;&#39; In running, the error appeared like that &quot; /home/Khaing/CharniakParser/parseIt not found&quot; . I didn&#39;t find any information on parseIt. May i know if i need to create parseIt under this parser or not. Please! @Borodin"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429610248, "creation_date": 1429610248, "answer_id": 29768864, "question_id": 29768265, "link": "https://stackoverflow.com/questions/29768265/how-to-solve-the-errors-when-i-run-spade/29768864#29768864", "title": "How to solve the errors when I run SPADE", "body": "<p>The instructions that you link to say</p>\n\n<blockquote>\n  <p>Edit spade.pl in the bin/ directory; set the value for the $CHP variable to the directory path for Charniak's parser</p>\n</blockquote>\n\n<p>So if SPADE cannot find <code>parseIt</code> then you have set <code>$CHP</code> to the wrong path.</p>\n\n<p>If there is no <code>parseIt</code> binary but you have <code>parseIt.c</code> then I would guess that you have to build it. Check the documentation for the <em>Charniak Parser</em></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3024055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81a62b29c4d733ebb654aa55f51bb11?s=128&d=identicon&r=PG&f=1", "display_name": "Khaing", "link": "https://stackoverflow.com/users/3024055/khaing"}, "edited": false, "score": 0, "creation_date": 1430756477, "post_id": 29879922, "comment_id": 48185918, "body": "Thanks a lot @dmcc, i did step by step to your instructions. In step 3, when i did &quot; make PARSE&quot;, i found 2 errors . How can I fix them? i searched the errors frequently but still appear. **** &#39; khaing@khaing-VirtualBox:~/bllip-parser$ make PARSE &lt;br&gt;make -C first-stage/PARSE parseIt &lt;br&gt; make[1]: Entering directory `/home/khaing/bllip-parser/first-stage/PARSE&#39; &lt;br&gt;g++ -MMD -O3 -Wall -ffast-math -finline-functions -fomit-frame-pointer -fstrict-aliasing  -c Bchart.C&lt;br&gt; make[1]: g++: Command not found &lt;br&gt;make[1]: *** [Bchart.o] Error 127 &#39; ***"}, {"owner": {"reputation": 2309, "user_id": 1118542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c28cff26d7fda5d7ab55b9824f8e5dff?s=128&d=identicon&r=PG", "display_name": "dmcc", "link": "https://stackoverflow.com/users/1118542/dmcc"}, "reply_to_user": {"reputation": 1, "user_id": 3024055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81a62b29c4d733ebb654aa55f51bb11?s=128&d=identicon&r=PG&f=1", "display_name": "Khaing", "link": "https://stackoverflow.com/users/3024055/khaing"}, "edited": false, "score": 0, "creation_date": 1430762864, "post_id": 29879922, "comment_id": 48189714, "body": "Looks like you don&#39;t have g++ which you&#39;ll need to compile the C++ code. You should install gcc (which includes g++)."}], "tags": [], "owner": {"reputation": 2309, "user_id": 1118542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c28cff26d7fda5d7ab55b9824f8e5dff?s=128&d=identicon&r=PG", "display_name": "dmcc", "link": "https://stackoverflow.com/users/1118542/dmcc"}, "is_accepted": false, "score": 0, "last_activity_date": 1430063852, "creation_date": 1430063852, "answer_id": 29879922, "question_id": 29768265, "link": "https://stackoverflow.com/questions/29768265/how-to-solve-the-errors-when-i-run-spade/29879922#29879922", "title": "How to solve the errors when I run SPADE", "body": "<p>Here are concrete steps to obtain the latest version of the Charniak parser and build it:</p>\n\n<ol>\n<li><p>Make a directory where you'll install the parser: (where <code>/path/to</code> is the directory you'd like to put the parser in -- maybe <code>/home/Khaing</code> in your case)</p>\n\n<pre><code>shell% mkdir /path/to/bllip-parser\nshell% cd /path/to/bllip-parser/\n</code></pre></li>\n<li><p>Download and extract the latest version of the Charniak Parser:</p>\n\n<pre><code>shell% wget https://github.com/BLLIP/bllip-parser/archive/master.zip\nshell% unzip master.zip\nshell% mv bllip-parser-master/* bllip-parser-master/.* .\nshell% rmdir bllip-parser-master\n</code></pre></li>\n<li><p>Build the parser:</p>\n\n<pre><code>shell% make PARSE\n</code></pre></li>\n<li><p>Confirm that <code>parseIt</code> was built correctly:</p>\n\n<pre><code>shell% ls first-stage/PARSE/parseIt  \nfirst-stage/PARSE/parseIt\n</code></pre>\n\n<p>If you run <code>first-stage/PARSE/parseIt</code> you should see its help menu.</p></li>\n<li><p>At this point, you can set <code>$CHP</code> to point inside the <code>bllip-parser</code> directory you made in step 1: Change <code>$CHP</code> in <code>spade.pl</code> to <code>/path/to/bllip-parser/first-stage/PARSE/</code></p></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 3024055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81a62b29c4d733ebb654aa55f51bb11?s=128&d=identicon&r=PG&f=1", "display_name": "Khaing", "link": "https://stackoverflow.com/users/3024055/khaing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430063852, "creation_date": 1429608858, "last_edit_date": 1429609929, "question_id": 29768265, "link": "https://stackoverflow.com/questions/29768265/how-to-solve-the-errors-when-i-run-spade", "title": "How to solve the errors when I run SPADE", "body": "<p>I run the <a href=\"http://www.isi.edu/licensed-sw/spade/\" rel=\"nofollow\"><code>SPADE</code></a> package and I referenced the Charniak Parser according to the documentation and edited <code>spade.pl</code> for the <code>$CHP</code> variable, but it did not work. It still throws an exception as follows</p>\n\n<pre><code>sh: 1: /home/khaing/Downloads/CharniakParser/parseIt: not found\nsystem /home/khaing/Downloads/CharniakParser/parseIt -LEn /home/khaing/Downloads/CharniakParser/DATA/ /home/khaing/Documents/test.txt &gt; /home/khaing/Documents/test.txt.chp failed: 32512 at /home/khaing/Downloads/SPADE/bin/spade.pl line 38.\n</code></pre>\n\n<p>The exception is that <code>parseIt</code> is not found. When I review the Charniak Parser, it has five folders: <code>CVS</code>, <code>ecstuff</code>, <code>DATA</code>, <code>TRAIN</code> and <code>PARSE</code>. I did not see <code>parseIt</code>. But I found <code>pareIt.c</code> in <code>PARSE</code> folder so I edited the path CharniakParser/PARSE/parseIt but it still has errors. </p>\n"}, {"tags": ["perl", "substr"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4813098"}, "edited": false, "score": 0, "creation_date": 1429860462, "post_id": 29772301, "comment_id": 47808622, "body": "Thank you - you are a programming GOD. Wow. I wish I understood all those hieroglyphics but I&#39;m thankful that you&#39;ve solved my problem. Both solutions work and I like the elegance of your one.Thank you Lecstor, you&#39;ve made my week."}, {"owner": {"reputation": 4915, "user_id": 1315176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809e49872e79afb7d9b077b9742da515?s=128&d=identicon&r=PG", "display_name": "lecstor", "link": "https://stackoverflow.com/users/1315176/lecstor"}, "edited": false, "score": 0, "creation_date": 1429878675, "post_id": 29772301, "comment_id": 47820873, "body": "umm, no, far from it, but thanks Adrian, definitely always happy to make someones week."}], "tags": [], "owner": {"reputation": 4915, "user_id": 1315176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809e49872e79afb7d9b077b9742da515?s=128&d=identicon&r=PG", "display_name": "lecstor", "link": "https://stackoverflow.com/users/1315176/lecstor"}, "is_accepted": true, "score": 1, "last_activity_date": 1429619462, "creation_date": 1429619462, "answer_id": 29772301, "question_id": 29767785, "link": "https://stackoverflow.com/questions/29767785/how-to-use-text-output-from-one-perl-script-as-input-to-another-perl-script-i-s/29772301#29772301", "title": "How to use text output from one perl script as input to another perl script? I seem to be able run this as two separate scripts but not as one", "body": "<p>so I think all you were really missing was <code>close(part2);</code> to allow it to be reopened as SEL..</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n# this reformats the SEL file to remove the first line and replace the \" with nothing\n\nmy $file = shift;\nmy $temp = shift;\nmy $linesH = shift;\n\nopen my $in,  '&lt;', $file      or die \"Can't read old file: Inappropriate I/O control operation\";\nopen my $out, '&gt;', $temp or die \"Can't write new file: Inappropriate I/O control operation\"; \n\nmy $firstLine = 1;                                                                               \n\nwhile (my $line = &lt;$in&gt;){\n  print \"LINE: $line\\n\";\n  if ($firstLine){                                                                                            \n    $firstLine = 0;                                                                          \n  } else {\n    $line =~ s/\"L/L/g; # replace \"L with L\n    $line =~ s/\"/,/g;  # replace \" with,\n    $line =~ s/\\s+//g; # concatenates it all into one line\n    print $out $line;  \n  }\n} \nclose $out;\n\n\nopen (part1, $temp) || die \"Couldn't open selection file\";\nopen (part2, \"&gt;\", $linesH) || die \"Couldn't open selection file\";\n\nwhile (my $temp_line = &lt;part1&gt;){\n  print \"TEMPLINE: $temp_line\\n\";    \n  my $string = substr($temp_line, 0, -1);\n  print part2 &lt;&lt;ENDGS;\n$string\nENDGS\n}\n\nclose(part2);\n\n#### this creates the merge script from the output \n#### file from the previous loop.\nopen (MergeScript, \"&gt;MergeScript.gs\")||die \"couldn't open output .gs file\";\nopen (SEL, $linesH) || die \"Couldn't open selection file\";  \n\n#iterate over required files\nwhile ( my $sel_line = &lt;SEL&gt; ){\n  chomp $sel_line;            \n  print STDOUT $sel_line;     \n  print MergeScript &lt;&lt;\"ENDGS\";\nCURRENT        Database,\"RAD_F146.gdb\"\nSETINI         MERGLINE.OUT=\"DALL\"\nSETINI         MERGLINE.LINES=\"$sel_line\"\nGX             mergline.gx\n\nENDGS\n\n}\n</code></pre>\n\n<p>and one alternative way of doing it..</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $file = shift;\n\nopen my $in,  '&lt;', $file or die \"Can't read old file: Inappropriate I/O control operation\";\nmy @lines = &lt;$in&gt;;            # read in all the lines\nshift @lines;                 # discard the first line\nmy $line = join(',', @lines); # join the lines with commas\n$line =~ s/[\\r\\n\"]+//g;       # remove the quotes and newlines\n\n# print the line into the mergescript\nopen (MergeScript, \"&gt;MergeScript.gs\")||die \"couldn't open output .gs file\";\n\nprint MergeScript &lt;&lt;\"ENDGS\";\nCURRENT        Database,\"RAD_F146.gdb\"\nSETINI         MERGLINE.OUT=\"DALL\"\nSETINI         MERGLINE.LINES=\"$line\"\nGX             mergline.gx\n\nENDGS\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4813098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 29772301, "answer_count": 1, "score": 2, "last_activity_date": 1429619462, "creation_date": 1429607533, "question_id": 29767785, "link": "https://stackoverflow.com/questions/29767785/how-to-use-text-output-from-one-perl-script-as-input-to-another-perl-script-i-s", "title": "How to use text output from one perl script as input to another perl script? I seem to be able run this as two separate scripts but not as one", "body": "<p>I've got a script that reformats an input file and creates an output file. When I try to read that output file for the second part of the script, it doesn't work. However if I split the script into two parts it works fine and gives me the output that I need. I'm not a programmer and surprised I've got this far - I've been banging my head for days trying to resolve this.</p>\n\n<p>My command for running it is this (BTW the temp.txt was just a brute force workaround for getting rid of the final comma to get my final output file - couldn't find another solution):  </p>\n\n<pre><code>c:\\perl\\bin\\perl merge.pl F146.sel temp.txt F146H.txt\n</code></pre>\n\n<p>Input looks like this (from another software package) (\"F146.sel\"): </p>\n\n<pre><code>/ Selected holes from the .\\Mag_F146_Trimmed.gdb database.\n\"L12260\"\n\"L12270\"\n\"L12280\"\n\"L12290\"\n</code></pre>\n\n<p>Output looks like this (mods to the text: quotes removed, insert comma, concatenate into one line, remove the last comma) \"F146H.txt\":</p>\n\n<pre><code>L12260,L12270,L12280,L12290 \n</code></pre>\n\n<p>Then I want to use this as input in the next part of the script, which basically inserts this output into a line of code that I can use in another software package (my \"merge.gs\" file). This is the output that I get if I split my script into two parts, but it just gives me a blank if I do it as one (see below).</p>\n\n<pre><code>CURRENT        Database,\"RAD_F146.gdb\"\nSETINI         MERGLINE.OUT=\"DALL\"\nSETINI         MERGLINE.LINES=\"L12260,L12270,L12280,L12290\"\nGX             mergline.gx\n</code></pre>\n\n<p>What follows is my \"merge.pl\". What have I done wrong? </p>\n\n<p>(actually, the question could be - what haven't I done wrong, as this is probably the most retarded code you've seen in a while. In fact, I bet some of you could get this entire operation done in 10-15 lines of code, instead of my butchered 90. Thanks in advance.)</p>\n\n<pre><code># this reformats the SEL file to remove the first line and replace the \" with nothing\n\n$file = shift ;\n$temp = shift ;\n$linesH = shift ;\n\n#open (Profiles, \"&gt;.\\\\scripts\\\\P2.gs\")||die \"couldn't open output .gs file\";\n\nopen my $in,  '&lt;', $file      or die \"Can't read old file: Inappropriate I/O control operation\";\nopen my $out, '&gt;', $temp or die \"Can't write new file: Inappropriate I/O control operation\"; \n\nmy $firstLine = 1;                                                                               \n\nwhile( &lt;$in&gt; )                                                                                   \n{                                                                                                \n    if($firstLine)                                                                               \n    {                                                                                            \n        $firstLine = 0;                                                                          \n    }                                                                                            \n    else{                                                                                        \n   s/\"L/L/g; # replace \"L with L                                                                 \n   s/\"/,/g; # replace \" with, \n   s|\\s+||; # concatenates it all into one line \n   print $out $_;  \n    }\n} \nclose $out;\n\n\nopen (part1, \"${temp}\")||die \"Couldn't open selection file\";\nopen (part2, \"&gt;${linesH}\")||die \"Couldn't open selection file\";\nprintitChomp();\n\nsub printitChomp\n{\nprint part2 &lt;&lt;ENDGS;\nENDGS\n}\n\nwhile ($temp = &lt;part1&gt; )\n{\n    print $temp;    \n    printit();\n}\n\nsub printit \n{$string = substr (${temp}, 0,-1);\nprint part2 &lt;&lt;ENDGS;\n$string\nENDGS\n}                                                                                      \n\n####Theoretically this creates the merge script from the output \n####file from the previous loop. However it only seems to work \n####if I split this into 2 perl scripts.\nopen (MergeScript, \"&gt;MergeScript.gs\")||die \"couldn't open output .gs file\";\nprintitMerge();\n\nopen (SEL, \"${linesH}\")||die \"Couldn't open selection file\";  \nsub printitMerge\n#open .sel file                                                 \n\n{\nprint MergeScript &lt;&lt;ENDGS;\nENDGS\n}\n\n#iterate over required files\nwhile ( $line = &lt;SEL&gt; ){    \n    chomp $line;            \n    print STDOUT $line;     \n    printitLines();              \n\n}                           \n\nsub printitLines \n{\nprint MergeScript &lt;&lt;ENDGS;\nCURRENT        Database,\"RAD_F146.gdb\"\nSETINI         MERGLINE.OUT=\"DALL\"\nSETINI         MERGLINE.LINES=\"${line}\"\nGX             mergline.gx\n\nENDGS\n}\n</code></pre>\n"}, {"tags": ["excel", "perl", "email", "zip", "email-attachments"], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "is_accepted": false, "score": 0, "last_activity_date": 1429620914, "creation_date": 1429620914, "answer_id": 29772816, "question_id": 29765627, "link": "https://stackoverflow.com/questions/29765627/how-to-extract-the-zipped-xls-file-from-the-email-attachment/29772816#29772816", "title": "How to extract the zipped xls file from the email attachment?", "body": "<p>The problem is here</p>\n\n<pre><code>next if $a-&gt;{content_type} !~ /octet-stream/i;\n</code></pre>\n\n<p>zip have content type as application/zip</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4813388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58a66885695f91274dd58b18d97eb36?s=128&d=identicon&r=PG&f=1", "display_name": "Mitul Vyas", "link": "https://stackoverflow.com/users/4813388/mitul-vyas"}, "is_accepted": false, "score": 0, "last_activity_date": 1429768659, "creation_date": 1429768659, "answer_id": 29814889, "question_id": 29765627, "link": "https://stackoverflow.com/questions/29765627/how-to-extract-the-zipped-xls-file-from-the-email-attachment/29814889#29814889", "title": "How to extract the zipped xls file from the email attachment?", "body": "<p>@NeoNox, Thanks for the response. But the perl system identifies the file as octet-stream only, not with application/zip.</p>\n\n<p>Anyways, I could find the solution.</p>\n\n<p>I could resolve the problem by writing the file in the binary mode(mentioning explicitely as below:</p>\n\n<pre><code>    binmode $fh;\n</code></pre>\n\n<p>Here the file is being writting in the binary mode So I don't get the output as the broken file.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 5023361, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MaXl4rZx29w/AAAAAAAAAAI/AAAAAAAAC20/p87flpEWEoo/photo.jpg?sz=128", "display_name": "Jacob Jarick", "link": "https://stackoverflow.com/users/5023361/jacob-jarick"}, "is_accepted": false, "score": 0, "last_activity_date": 1434699477, "creation_date": 1434699477, "answer_id": 30932559, "question_id": 29765627, "link": "https://stackoverflow.com/questions/29765627/how-to-extract-the-zipped-xls-file-from-the-email-attachment/30932559#30932559", "title": "How to extract the zipped xls file from the email attachment?", "body": "<p>I am finding the same issue.</p>\n\n<p>XLSX files are not seen as attachments.\nI am using IMAP.</p>\n\n<p>It will download the email body, any jpgs or pngs etc but does not find the attached xlsx even when in an email that has attachments that are downloaded.</p>\n"}], "owner": {"reputation": 31, "user_id": 4813388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58a66885695f91274dd58b18d97eb36?s=128&d=identicon&r=PG&f=1", "display_name": "Mitul Vyas", "link": "https://stackoverflow.com/users/4813388/mitul-vyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1434699477, "creation_date": 1429601265, "last_edit_date": 1429603292, "question_id": 29765627, "link": "https://stackoverflow.com/questions/29765627/how-to-extract-the-zipped-xls-file-from-the-email-attachment", "title": "How to extract the zipped xls file from the email attachment?", "body": "<p>I have a module which is supposed to extract the email attachment and place it at a specific location. The code creates the POP3 Client to fetch the mail and has been using <strong>EMAIL::MIME::Attachment::Stripper</strong> module to extract the attachment as below.</p>\n\n<pre><code>     my $mail=$pop-&gt;HeadAndBody($i);\n     my $parsed = Email::MIME-&gt;new($mail);\n     my $stripper = Email::MIME::Attachment::Stripper-&gt;new($parsed);\n     my @attachments = $stripper-&gt;attachments;\n\n     foreach my $a(@attachments)\n     {\n        next if $a-&gt;{content_type} !~ /octet-stream/i;\n        my $f = new IO::File \"C:/MAIL_PARSING_DATA/\" . \"&lt;filename&gt;.&lt;file-extension&gt;\", \"w\" or die \"Can not create file!\";\n        print $f $a-&gt;{payload};\n        goto EXITPOINT;\n     }\n</code></pre>\n\n<p>The code is working fine for the standard files identified by the Perl module, like spreadsheet etc. But not for the specific mail which has a <strong>zipped Excel file</strong> as an attachment. While extracting the file the identified <strong>content_type</strong> by the Perl script for this file is <strong>application/octet-stream</strong>. While extracting the file using the above-mentioned code the file seems to be broken because:</p>\n\n<ol>\n<li>The file is not getting opened through WinZip, WinRAR or 7-Zip.</li>\n<li>File size for the file extracted through this script is slightly different than the same file extracted using Outlook.</li>\n</ol>\n\n<p>Kindly provide some input on the issue.</p>\n"}, {"tags": ["perl", "input", "output"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 6, "creation_date": 1429596737, "post_id": 29764216, "comment_id": 47660085, "body": "Don&#39;t close OUTFILE inside the loop..."}, {"owner": {"reputation": 25, "user_id": 4597464, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/957835688d1f8a326b672579d88e4424?s=128&d=identicon&r=PG&f=1", "display_name": "srikanth", "link": "https://stackoverflow.com/users/4597464/srikanth"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1429596974, "post_id": 29764216, "comment_id": 47660204, "body": "am getting this error in for loop :&quot;print() on closed filehandle OUTFILE at main.pl line 137 ,print() on closed filehandle OUTFILE at main.pl line 138.&quot;like repeatedly ."}, {"owner": {"reputation": 25, "user_id": 4597464, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/957835688d1f8a326b672579d88e4424?s=128&d=identicon&r=PG&f=1", "display_name": "srikanth", "link": "https://stackoverflow.com/users/4597464/srikanth"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1429597073, "post_id": 29764216, "comment_id": 47660246, "body": "even after putting Outside the loop getting same error"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429606965, "post_id": 29764216, "comment_id": 47665971, "body": "There is really no need in general for a <code>close</code> on file handles as Perl will close them for you when the program terminates. If your output data is critical and you want to be sure that it has been written to disk then you can <code>close</code> the output filer handle, but you need to check the return status for this to be of any benefit. Alternatively, if you have a program that has a huge number of file handles then it is wasteful to leave them open once you are done with them"}], "answers": [{"comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 25, "user_id": 4597464, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/957835688d1f8a326b672579d88e4424?s=128&d=identicon&r=PG&f=1", "display_name": "srikanth", "link": "https://stackoverflow.com/users/4597464/srikanth"}, "edited": false, "score": 0, "creation_date": 1429596935, "post_id": 29764252, "comment_id": 47660184, "body": "@srikanth sorry my fault. See my updated answer. The close statement must be the last line of the code snipped."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1429597791, "post_id": 29764252, "comment_id": 47660585, "body": "Can you fix the indentation so it is consistent?  I tried twice but couldn&#39;t decide how you&#39;d want it done."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1429605335, "post_id": 29764252, "comment_id": 47664901, "body": "Can I suggest: This answer would be improved if there were 3 arg open with lexical filehandles. 2 arg open works, but is generally bad style."}, {"owner": {"reputation": 25, "user_id": 4597464, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/957835688d1f8a326b672579d88e4424?s=128&d=identicon&r=PG&f=1", "display_name": "srikanth", "link": "https://stackoverflow.com/users/4597464/srikanth"}, "edited": false, "score": 0, "creation_date": 1429860885, "post_id": 29764252, "comment_id": 47808858, "body": "yes you are correct i accept . i am new to perl ,in many  books i saw like this only ; so plz tell me which is better style of writing ..thank you"}, {"owner": {"reputation": 25, "user_id": 4597464, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/957835688d1f8a326b672579d88e4424?s=128&d=identicon&r=PG&f=1", "display_name": "srikanth", "link": "https://stackoverflow.com/users/4597464/srikanth"}, "edited": false, "score": 0, "creation_date": 1429861444, "post_id": 29764252, "comment_id": 47809169, "body": "i found that i was using bad style thank you i will make changes  source  <a href=\"http://perlmaven.com/open-files-in-the-old-way\" rel=\"nofollow noreferrer\">perlmaven.com/open-files-in-the-old-way</a>"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 3, "last_activity_date": 1429625397, "last_edit_date": 1429625397, "creation_date": 1429596733, "answer_id": 29764252, "question_id": 29764216, "link": "https://stackoverflow.com/questions/29764216/why-am-i-getting-error-print-on-closed-filehandle-in-perl/29764252#29764252", "title": "Why am I getting error print() on closed filehandle in Perl", "body": "<p>You close the output file inside the <code>for</code> loop. By the second iteration, the file handle has been closed. You have to close the file once the loop has run to completion.</p>\n\n<p>Also, bareword file handles have package scope which comes with all the disadvantages of global variables. Use lexical file handles.</p>\n\n<p>Also, especially if the name of the file you are opening is coming from the outside, use the three argument form of open, and always include the name of the file in error messages.</p>\n\n<p>Finally, presumably, <code>$hash{$i}</code> contains an array reference, so you have to dereference it if you are going to interpolate its contents into a string.</p>\n\n<pre><code>my $fileoutput = \"output.c\";\nopen my $OUTFILE, '&gt;', $fileoutput\n    or die \"Failed to open '$fileoutput': $!\";\n\nfor my $i (keys %hash) {\n   #grep for c file output and compare with xml key print both key and values #\n   if (grep $_ eq $i, @c_result_array) {\n      if(defined $hash{$i}) {\n            my @values = @{ $hash{$i} };\n            print $OUTFILE \"$i =&gt; @values\\n\";\n       }\n   }\n}\nclose $OUTFILE\n    or die \"Failed to close '$fileoutput': $!\";\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4597464, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/957835688d1f8a326b672579d88e4424?s=128&d=identicon&r=PG&f=1", "display_name": "srikanth", "link": "https://stackoverflow.com/users/4597464/srikanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2101, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1429625397, "creation_date": 1429596609, "last_edit_date": 1429597863, "question_id": 29764216, "link": "https://stackoverflow.com/questions/29764216/why-am-i-getting-error-print-on-closed-filehandle-in-perl", "title": "Why am I getting error print() on closed filehandle in Perl", "body": "<p>I am trying to write output to one C file but I'm getting an error about <code>print() on closed filehandle</code>.</p>\n\n<pre><code>my $fileoutput=\"output.c\";\nopen OUTFILE, \"&gt; $fileoutput\" or die $!;\nfor my $i (keys%hash) {\n    # grep for c file output and compare\n    # with xml key print both key and values\n    if (grep $_ eq $i,@c_result_array) {\n        if (defined $hash{$i}) {\n            my @values = $hash{$i};\n            print OUTFILE $i . \"=&gt; @values\";\n            print OUTFILE \"\\n\";\n        }\n\n        close OUTFILE;\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "nlp", "document", "data-mining", "stop-words"], "answers": [{"tags": [], "owner": {"reputation": 592, "user_id": 3346210, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6H2pa.jpg?s=128&g=1", "display_name": "Zhiya", "link": "https://stackoverflow.com/users/3346210/zhiya"}, "is_accepted": true, "score": 0, "last_activity_date": 1429648188, "last_edit_date": 1429648188, "creation_date": 1429636017, "answer_id": 29778800, "question_id": 29763296, "link": "https://stackoverflow.com/questions/29763296/cluto-doc2mat-specified-stop-word-list-not-working/29778800#29778800", "title": "CLUTO doc2mat specified stop word list not working", "body": "<p>There's one important thing I should remember: I should include ALL the unwanted words in my stop list. This is somewhat difficult since there's always some variations available...</p>\n\n<p>For example, if I want to exclude <code>method</code> I add it to my list. However, the resulting vocabulary may also contain <code>method</code> since there are words like <code>methodist</code>, <code>methods</code>, etc. Then doc2mat by default stems these words and I will still get <code>method</code> in the output.</p>\n\n<p>Another thing is to make sure that \"-nostop\" option must be provided for user-specified stop list. </p>\n"}], "owner": {"reputation": 592, "user_id": 3346210, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6H2pa.jpg?s=128&g=1", "display_name": "Zhiya", "link": "https://stackoverflow.com/users/3346210/zhiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 29778800, "answer_count": 1, "score": 1, "last_activity_date": 1429648188, "creation_date": 1429592478, "question_id": 29763296, "link": "https://stackoverflow.com/questions/29763296/cluto-doc2mat-specified-stop-word-list-not-working", "title": "CLUTO doc2mat specified stop word list not working", "body": "<p>I am trying to convert my documents into vector-space format using <a href=\"http://glaros.dtc.umn.edu/gkhome/files/fs/sw/cluto/doc2mat.html\" rel=\"nofollow\" title=\"doc2mat\">doc2mat</a></p>\n\n<p>On the website, it says I can use my specified text file where words are white-space separated or on multiple lines. So, I use some code similar to this one:</p>\n\n<p><code>./doc2mat -mystoplist=stopword.txt -skipnumeric mydocuments.txt myvectorspace.txt</code></p>\n\n<p>However, when I check the output <code>.clabel</code> file, it still has stop words that's in <code>stopword.txt</code>.</p>\n\n<p>I really do not know how to do this. Someone help me out please? Thank you!</p>\n"}, {"tags": ["perl", "file", "filehandler"], "comments": [{"owner": {"reputation": 3923, "user_id": 3640699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NxDM0.jpg?s=128&g=1", "display_name": "Karthikeyan.R.S", "link": "https://stackoverflow.com/users/3640699/karthikeyan-r-s"}, "edited": false, "score": 0, "creation_date": 1429592243, "post_id": 29762796, "comment_id": 47658097, "body": "Have you tried this with <code>use strict ; use warnings;</code> ? It is throwing the error in open call."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1429592540, "post_id": 29762796, "comment_id": 47658207, "body": "When I run you code I get this: <code>syntax error at fh.pl line 3, near &quot;, &gt;&quot; syntax error at fh.pl line 4, near &quot;, &gt;&quot; Execution of fh.pl aborted due to compilation errors.</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429607021, "post_id": 29762796, "comment_id": 47666011, "body": "They&#39;re <i>file HANDLES</i>"}], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1429606766, "post_id": 29763939, "comment_id": 47665834, "body": "You can even write <code>open my $fh1 , &#39;&gt;&#39; , &#39;...&#39; or die &quot;Cannot write: $!\\n&quot;;</code>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1429595371, "creation_date": 1429595371, "answer_id": 29763939, "question_id": 29762796, "link": "https://stackoverflow.com/questions/29762796/file-handles-not-working-properly-in-perl/29763939#29763939", "title": "File handles not working properly in Perl", "body": "<p>You have set <code>$fh1</code> and <code>$fh2</code> to the same value (a space character, not NULL) and so they refer to the same underlying typeglob for I/O.</p>\n\n<p>Filehandles in Perl are a special variable type called a glob or typeglob. In the old days of Perl 4, you always referred to a glob as a character string, often as a bareword. The barewords <code>STDIN</code>, <code>STDOUT</code>, and <code>STDERR</code> are relics of this simpler time.</p>\n\n<p>Nowadays, you can (and usually should) use lexical filehandles, but the underlying reference to a typeglob will still be there. For example, you can write</p>\n\n<pre><code>my $fh = 'STDOUT';\nprint $fh \"hello world\\n\";\n</code></pre>\n\n<p>and this will do the exact same thing as</p>\n\n<pre><code>print STDOUT \"hello world\\n\";\n</code></pre>\n\n<p>Now if you pass an uninitialized scalar as the first argument to <code>open</code>, Perl will assign an arbitrary typeglob to it. You probably don't need to know which typeglob it is.</p>\n\n<p>But if the argument to <code>open</code> is already initialized, Perl uses the typeglob with that argument's value. So this snippet of code will create and add data to a file:</p>\n\n<pre><code>my $fh = \"FOO\";\nopen $fh, '&gt;', '/tmp/1';\nprint FOO \"This is going into /tmp/1\\n\";\nclose $fh;\n</code></pre>\n\n<p>Now we can look at your example. You have set <code>$fh1</code> and <code>$fh2</code> to the same value -- a string consisting of a space character. So your <code>open</code> call to <code>$fh1</code> creates an association between a typeglob named <code>\" \"</code> and the file descriptor for the output stream to <code>$fname1</code>.</p>\n\n<p>When you call <code>open</code> on <code>$fh2</code>, you are reusing the typeglob named <code>\" \"</code>, which will automatically close the other filehandle using the same typeglob (<code>$fh1</code>), the same was as if you say <code>open FOO, \"&gt;/tmp/1\"; open FOO, \"&gt;/tmp/2\"</code>, the second <code>open</code> call will implicitly <code>close</code> the first filehandle.</p>\n\n<p>Now you are printing on <code>$fh1</code>, which refers to the typeglob named <code>\" \"</code>, which is associated with the output stream to file <code>$fname2</code>, and that's where the output goes.</p>\n\n<p>It was a mistake to initialize <code>$fh1</code> and <code>$fh2</code>. Just leave them undefined:</p>\n\n<pre><code>my ($fh1, $fh2);\nopen $fh1, \"&gt;\", ...   # assigns $fh1 to arbitrary typeglob\nopen $fh2, \"&gt;\", ...   # assigns $fh2 to different arbitrary typeglob\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429607566, "creation_date": 1429607566, "answer_id": 29767794, "question_id": 29762796, "link": "https://stackoverflow.com/questions/29762796/file-handles-not-working-properly-in-perl/29767794#29767794", "title": "File handles not working properly in Perl", "body": "<p>You shouldn't initialise your file handles at all, otherwise Perl will try to use that value as a file handle instead of creating a new one. In this case you have opened <code>$fname1</code> on the file handle <code>' '</code> (a single space) and then opened <code>$fname2</code> on the same file handle, which closes <code>$fname1</code>.</p>\n\n<p>Rather than declaring the file handles separately, it is best to declare them in the <code>open</code> statement, like this</p>\n\n<pre><code>open my $fh1, '&gt;', $fname1;\nopen my $fh2, '&gt;', $fname2;\n</code></pre>\n\n<p>then there is less that can go wrong</p>\n"}], "owner": {"reputation": 119, "user_id": 2775241, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f30c460abf8e7b552957faa788d4b8fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2775241", "link": "https://stackoverflow.com/users/2775241/user2775241"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 29763939, "answer_count": 2, "score": 3, "last_activity_date": 1516829527, "creation_date": 1429589687, "last_edit_date": 1516829527, "question_id": 29762796, "link": "https://stackoverflow.com/questions/29762796/file-handles-not-working-properly-in-perl", "title": "File handles not working properly in Perl", "body": "<p>I tried initializing two file handles to NULL and later use it in my program.</p>\n\n<p>This was my code:</p>\n\n<pre><code>my $fh1 = \" \";\nmy $fh2 = \" \";\nopen($fh1, \"&gt;\", $fname1);\nopen($fh2, \"&gt;\", $fname2);\nprint $fh1 \"HI this is fh1\";\n</code></pre>\n\n<p>After executing, my files contained this:</p>\n\n<p>fname1 is empty</p>\n\n<p>fname2 cointains</p>\n\n<pre><code>Hi this is fh1\n</code></pre>\n\n<p>What was the mistake ?</p>\n\n<p>Why is fname1 empty while fname2 contains a string, even though I haven't  inserted any string in fh2?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1429606960, "post_id": 29760848, "comment_id": 47665966, "body": "To avoid subdirectories ending with <code>.txt</code> you can modify the grep <code>... grep { -f &amp;&amp; &#47;\\.txt$&#47; } ...</code> will only find files and then search for the <code>.txt</code> type."}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 1, "last_activity_date": 1429577830, "last_edit_date": 1429577830, "creation_date": 1429576573, "answer_id": 29760848, "question_id": 29760701, "link": "https://stackoverflow.com/questions/29760701/how-can-i-filter-the-latest-occurring-filename-from-a-certain-directory-that-mat/29760848#29760848", "title": "How can I filter the latest occurring filename from a certain directory that matches a filetype?", "body": "<p>Use <code>grep</code> again:</p>\n\n<pre><code>my @files = map { [ stat \"$DIR/$_\", $_ ] } grep { /\\.txt$/ } grep(! /^\\.\\.?$/, readdir($DH));\n</code></pre>\n\n<p>This assumes you have no subdirectories with a <code>.txt</code> suffix.</p>\n\n<p>This can be further simplified since it'll filter out the 2 dot directories:</p>\n\n<pre><code>my @files = map { [ stat \"$DIR/$_\", $_ ] } grep { /\\.txt$/ } readdir($DH);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1429607705, "creation_date": 1429607705, "answer_id": 29767846, "question_id": 29760701, "link": "https://stackoverflow.com/questions/29760701/how-can-i-filter-the-latest-occurring-filename-from-a-certain-directory-that-mat/29767846#29767846", "title": "How can I filter the latest occurring filename from a certain directory that matches a filetype?", "body": "<p>You could also do, instead of readdir:</p>\n\n<pre><code>my @files = map { [ stat $_, $_ ] } &lt;$DIR/*.txt&gt;;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\">glob</a> operator.</p>\n"}], "owner": {"reputation": 220, "user_id": 3295322, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1a114d13f7cb21d6f699f5ac0b2de8a3?s=128&d=identicon&r=PG&f=1", "display_name": "YouHaveaBigEgo", "link": "https://stackoverflow.com/users/3295322/youhaveabigego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1585313441, "creation_date": 1429575522, "last_edit_date": 1585313441, "question_id": 29760701, "link": "https://stackoverflow.com/questions/29760701/how-can-i-filter-the-latest-occurring-filename-from-a-certain-directory-that-mat", "title": "How can I filter the latest occurring filename from a certain directory that matches a filetype?", "body": "<p>I wrote this to check if there's a file created at a certain directory and give me the newest file.  How do I modify my regex to only pick up the latest file of a certain file type (say only <code>.txt</code>)?</p>\n\n<pre><code>my $DIR=\"C:\\\\Dropbox\\\\AnalysesLogs\";\nopendir(my $DH, $DIR) or die \"Error opening $DIR: $!\";\nmy @files = map { [ stat \"$DIR/$_\", $_ ] } grep(! /^\\.\\.?$/, readdir($DH));\nclosedir($DH);\n\nsub rev_by_date { $b-&gt;[9] &lt;=&gt; $a-&gt;[9] }\nmy @sorted_files = sort rev_by_date @files;\nmy @newest = @{$sorted_files[0]};\nmy $newestfile = pop(@newest);\n</code></pre>\n\n<p>Currently, <code>$newestfile</code> would be the latest file, but it is an undesired type. I only wish to see the very latest <code>.txt</code> type. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 7290, "user_id": 4785110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bae5c00f27770d807c943268438bb6?s=128&d=identicon&r=PG&f=1", "display_name": "maraca", "link": "https://stackoverflow.com/users/4785110/maraca"}, "edited": false, "score": 0, "creation_date": 1429561053, "post_id": 29757523, "comment_id": 47647396, "body": "Can you please add which values are possible for project-version, other_info etc.?"}, {"owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1429561085, "post_id": 29757523, "comment_id": 47647412, "body": "can you give example for normally 5 and sometimes 6?"}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "reply_to_user": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1429561243, "post_id": 29757523, "comment_id": 47647498, "body": "@karthikmanchala normally version is 11111 and sometimes version is 11111A"}, {"owner": {"reputation": 7290, "user_id": 4785110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bae5c00f27770d807c943268438bb6?s=128&d=identicon&r=PG&f=1", "display_name": "maraca", "link": "https://stackoverflow.com/users/4785110/maraca"}, "edited": false, "score": 0, "creation_date": 1429561523, "post_id": 29757523, "comment_id": 47647663, "body": "Ok about the greediness etc. it all depends on your data which one is the best solution... if you also have <code>-</code> in other info it could be impossible."}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "reply_to_user": {"reputation": 7290, "user_id": 4785110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bae5c00f27770d807c943268438bb6?s=128&d=identicon&r=PG&f=1", "display_name": "maraca", "link": "https://stackoverflow.com/users/4785110/maraca"}, "edited": false, "score": 0, "creation_date": 1429561642, "post_id": 29757523, "comment_id": 47647727, "body": "@maraca I added more info. The &#39;other_info&#39; never has a <code>-</code> in it . But it can have <code>.</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1429561720, "post_id": 29757644, "comment_id": 47647776, "body": "Could you add an explanation to your answer?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1429565922, "last_edit_date": 1429565922, "creation_date": 1429561292, "answer_id": 29757644, "question_id": 29757523, "link": "https://stackoverflow.com/questions/29757523/cant-get-a-specific-regex-to-work-in-perl/29757644#29757644", "title": "Can&#39;t get a specific regex to work in Perl", "body": "<p>Since no field other than the desired one can contain <code>-</code>, any extra <code>-</code> belongs to the desired field.</p>\n\n<pre><code>      +--------------------------- project\n      |     +--------------------- version\n      |     |   +----------------- project_test-type\n      |     |   |      +---------- other_info\n      |     |   |      |     +---- other_info.file_type\n      |     |   |      |     |\n  ____| ____|  _|  ____| ____|\n/^[^-]*-[^-]*-(.*)-[^-]*-[^-]*\\z/\n</code></pre>\n\n<p><code>[^-]</code> matches a character that's not a <code>-</code>.<br>\n<code>[^-]*</code> matches zero or more characters that's aren't <code>-</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1429561711, "post_id": 29757655, "comment_id": 47647769, "body": "Could you include more of an explanation in your answer than just an external link? It is helpful but it&#39;s nice to protect against link-rot."}, {"owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "reply_to_user": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1429562412, "post_id": 29757655, "comment_id": 47648159, "body": "@jkeuhlen Updated answer for your specs and added explanation :)"}], "tags": [], "owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "is_accepted": false, "score": 0, "last_activity_date": 1429562365, "last_edit_date": 1429562365, "creation_date": 1429561314, "answer_id": 29757655, "question_id": 29757523, "link": "https://stackoverflow.com/questions/29757523/cant-get-a-specific-regex-to-work-in-perl/29757655#29757655", "title": "Can&#39;t get a specific regex to work in Perl", "body": "<p>You can use </p>\n\n<pre><code>/\\w+\\s*-\\s*\\d{5}[a-zA-Z]?\\s*-\\s*(.*?)(?=\\s*-\\s*\\d)/\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li><code>\\w+\\s*-</code> ==> match character sequence followed by any number of spaces and a <code>-</code></li>\n<li><code>\\d{5}[a-zA-Z]?</code> ==> always 5 digits with one or zero character</li>\n<li><code>(.*?)</code> => match everything in a non greedy way</li>\n<li><code>(?=\\s*-\\s*\\d)</code> => look forward for a digit and stop (since IP starts with a digit)</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/eU4dX6/3\" rel=\"nofollow\">Demo and Explanation</a></p>\n"}, {"comments": [{"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1429566365, "post_id": 29758008, "comment_id": 47650271, "body": "But it was a great attempt. Thanks for the help. ikegami&#39;s solution is just a little cleaner"}], "tags": [], "owner": {"reputation": 7290, "user_id": 4785110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bae5c00f27770d807c943268438bb6?s=128&d=identicon&r=PG&f=1", "display_name": "maraca", "link": "https://stackoverflow.com/users/4785110/maraca"}, "is_accepted": false, "score": 1, "last_activity_date": 1429563652, "last_edit_date": 1429563652, "creation_date": 1429562568, "answer_id": 29758008, "question_id": 29757523, "link": "https://stackoverflow.com/questions/29757523/cant-get-a-specific-regex-to-work-in-perl/29758008#29758008", "title": "Can&#39;t get a specific regex to work in Perl", "body": "<p>To match everything:</p>\n\n<pre><code>/^([^-]+)-([^-]+)-(.+)-([^-]+)-([^-]+)\\.([a-zA-Z0-9]+)$/\n</code></pre>\n\n<p><code>[]</code> defines character sets and <code>^</code> at the beginning of a set means \"NOT\". Also a <code>-</code> in a set usually means a range, unless it is at the beginning or end. So <code>[^-]+</code> consumes as many non-dash characters as possible (at least one).</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1429567127, "creation_date": 1429567127, "answer_id": 29759191, "question_id": 29757523, "link": "https://stackoverflow.com/questions/29757523/cant-get-a-specific-regex-to-work-in-perl/29759191#29759191", "title": "Can&#39;t get a specific regex to work in Perl", "body": "<p>Greedy/non-greedy approach</p>\n\n<pre><code>($type) = /.*?-.*?-(.*)-.*-.*/;\n</code></pre>\n\n<p><code>.*?</code> is a non-greedy match, meaning match any number of any character, but no more than necessary to match the regular expression. Using <code>.*</code> between the second and third dashes is a greedy match, matching as many characters as possible while still matching the regular expression, and using this will capture words with any extra dashes in them.</p>\n"}], "owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 29757644, "answer_count": 4, "score": 1, "last_activity_date": 1429567127, "creation_date": 1429560886, "last_edit_date": 1429561554, "question_id": 29757523, "link": "https://stackoverflow.com/questions/29757523/cant-get-a-specific-regex-to-work-in-perl", "title": "Can&#39;t get a specific regex to work in Perl", "body": "<p>I have a string formatted like:</p>\n\n<pre><code>project-version-project_test-type-other_info-other_info.file_type\n</code></pre>\n\n<p>I can strip most of the information I need out of this string in most cases. My trouble arises when my version has an extra qualifying character in it (i.e. normally 5 characters but sometimes a 6th is added). </p>\n\n<p>Previously, I was using substrings to remove the excess information and get the 'project_test-type' however, now I need to switch to a regex (mostly to handle that extra version character). I could keep using substrings and change the length depending on whether I have that extra version character or not but a regex seems more appropriate here. </p>\n\n<p>I tried using patterns like: </p>\n\n<pre><code>my ($type) = $_ =~ /.*-.*-(.*)-.*/;\n</code></pre>\n\n<p>But the extra '-' in the 'project_test-type' means I can't simply space my regex using that character. </p>\n\n<p><strong>What regex can I use to get the 'project_test-type' out of my string?</strong></p>\n\n<hr>\n\n<p>More information:\nAs a more human readable example, the information is grouped in the following way:</p>\n\n<pre><code>project - version - project_test-type - other_info - other_info . file_type\n</code></pre>\n\n<ul>\n<li>'project' is a simple string of chars</li>\n<li>'version' is normally a string of 5 integers, but is sometimes followed by a char, i.e. 11111 is normal and 11111A is the rarer occurence. </li>\n<li>'project_test-type' is a specific test associated with a project that can have both '_' and '-' in it's otherwise char name</li>\n<li>Both cases of 'other_info' are additional bits of information for the system like an IP address or another version number. The first has no fixed length while the second is always 10 characters long</li>\n</ul>\n"}, {"tags": ["javascript", "html", "perl", "cgi", "perl-module"], "comments": [{"owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "edited": false, "score": 0, "creation_date": 1429564316, "post_id": 29756569, "comment_id": 47649205, "body": "you need to create a multi-part message refer to this module <a href=\"http://search.cpan.org/~rjbs/MIME-Lite-3.030/lib/MIME/Lite.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~rjbs/MIME-Lite-3.030/lib/MIME/Lite.pm</a> and look at this section : Create a multipart message (i.e., one with attachments) and send it SMTP"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "edited": false, "score": 1, "creation_date": 1429565365, "post_id": 29756569, "comment_id": 47649770, "body": "@smith FYI, the docs for MIME::Lite say, &quot;<b>WAIT!</b> MIME::Lite is not recommended by its current maintainer. There are a number of alternatives, like Email::MIME or MIME::Entity and Email::Sender, which you should probably use instead. MIME::Lite continues to accrue weird bug reports, and it is not receiving a large amount of refactoring due to the availability of better alternatives. Please consider using something else.&quot;"}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1429568167, "post_id": 29756569, "comment_id": 47651044, "body": "MIME::Lite was my goto module for sending email. I&#39;m not sure I&#39;m ready to let go :-)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429585827, "post_id": 29756569, "comment_id": 47656172, "body": "What module do you currently use to send your emails?"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1429607486, "post_id": 29756569, "comment_id": 47666319, "body": "I am using this module &quot;use MIME::Lite;&quot; for mails"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "reply_to_user": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 1, "creation_date": 1429618246, "post_id": 29756569, "comment_id": 47674059, "body": "@jkeuhlen This is not a duplicate Question."}], "answers": [{"tags": [], "owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "is_accepted": true, "score": 1, "last_activity_date": 1429629191, "creation_date": 1429629191, "answer_id": 29776288, "question_id": 29756569, "link": "https://stackoverflow.com/questions/29756569/how-to-send-an-html-page-as-an-attachment-with-email-in-perl/29776288#29776288", "title": "How to send an html page as an attachment with email in Perl", "body": "<p>Since you said you are already using <a href=\"http://search.cpan.org/~rjbs/MIME-Lite-3.029/lib/MIME/Lite.pm\" rel=\"nofollow\">MIME::Lite</a>, they explicitly say how to do this in their documentation:</p>\n\n<pre><code>$msg = MIME::Lite-&gt;new(\n     To      =&gt;'you@yourhost.com',\n     Subject =&gt;'HTML with in-line images!',\n     Type    =&gt;'multipart/related'\n);\n$msg-&gt;attach(\n    Type =&gt; 'text/html',\n    Data =&gt; qq{\n        &lt;body&gt;\n            Here's &lt;i&gt;my&lt;/i&gt; image:\n            &lt;img src=\"cid:myimage.gif\"&gt;\n        &lt;/body&gt;\n    },\n);\n$msg-&gt;attach(\n    Type =&gt; 'image/gif',\n    Id   =&gt; 'myimage.gif',\n    Path =&gt; '/path/to/somefile.gif',\n);\n$msg-&gt;send();\n</code></pre>\n\n<p>However, as has been pointed out in the comments and on their documentation page. You should really use an alternative. <a href=\"http://search.cpan.org/~mivkovic/Mail-Sendmail/Sendmail.pm\" rel=\"nofollow\">Mail::Sendmail</a> works fine and tells you how to do this in their <a href=\"http://alma.ch/perl/Mail-Sendmail-FAQ.html#attachments\" rel=\"nofollow\">documentation</a></p>\n"}], "owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1200, "favorite_count": 0, "closed_date": 1429783033, "accepted_answer_id": 29776288, "answer_count": 1, "score": -1, "last_activity_date": 1429629191, "creation_date": 1429557669, "last_edit_date": 1495542324, "question_id": 29756569, "link": "https://stackoverflow.com/questions/29756569/how-to-send-an-html-page-as-an-attachment-with-email-in-perl", "closed_reason": "Duplicate", "title": "How to send an html page as an attachment with email in Perl", "body": "<p>I recently started programming I know how to send a mail in perl, but I am generating a Scrollable tables in HTML page and I need to send it as an attachment in Perl and I have no idea about it. Could anyone help me?<br>\n<strong>Edit:</strong>\nThis question is different then <a href=\"https://stackoverflow.com/questions/2623651/how-can-i-send-an-html-email-with-perl\">How can I send an HTML email with Perl?</a>, I am asking for send html page as an attachment rather then sending a html Email</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429542994, "post_id": 29751713, "comment_id": 47635676, "body": "Currently, your function only uses the first argument passed anyway. However, I think it makes more sense to say <code>0 is false</code> than <code>def5 is false</code>; what is <code>def5</code>? The variable name itself has little meaning; the value is what you really care about. If you want to include the variable name in your output, do something like: <code>my $foo = 0; say &#39;$foo: &#39;, check($foo);</code>"}, {"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429543122, "post_id": 29751713, "comment_id": 47635769, "body": "Your right. That should have been <code>print &quot;$args[1] =...</code> instead of <code>print &quot;def =...</code> - updated. Yeah, that does make more sense. Part of it is definitely curiosity though. With .Net, I could delve into reflection to get stuff like parental parameter names (even if it would be what one might call... messy) and was just wondering if the name of the pulling parameter could be called."}, {"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429543396, "post_id": 29751713, "comment_id": 47635987, "body": "Also, the code this started with was a books question - that got expanded via my curiosity. So <code>say &quot;0.0 = &quot;, check(0.0);&quot;</code> or something simple would definitely result in the same output, but I curiosity makes me explore different ways to skin the same cat :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429543947, "post_id": 29751713, "comment_id": 47636433, "body": "<code>0</code>, <code>0.0</code> and <code>0.00</code> are three different ways of writing exactly the same thing"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1429544067, "post_id": 29751713, "comment_id": 47636536, "body": "You certainly <i>can</i> do this (see, for example, <a href=\"https://metacpan.org/pod/PadWalker\" rel=\"nofollow noreferrer\"><code>PadWalker</code></a> and <a href=\"https://metacpan.org/pod/Data::Dumper::Names\" rel=\"nofollow noreferrer\"><code>Data::Dumper::Names</code></a>, which uses <code>PadWalker</code>), but it&#39;s ugly, doesn&#39;t work for all cases, and generally avoided except for things like debugging. If you need to associate a name with a value in your output, use a data structure like a hash or array as <a href=\"http://stackoverflow.com/a/29752136/176646\">ikegami demonstrated</a>. You can also use named parameters in your functions, e.g. <code>check( name =&gt; &#39;foo&#39;, value =&gt; 0 );</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1429544115, "post_id": 29751713, "comment_id": 47636569, "body": "PadWalker won&#39;t give you anything you if you do <code>check($a+$b)</code>"}, {"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429544160, "post_id": 29751713, "comment_id": 47636603, "body": "@ikegami Yeah, the inputs are from the book I&#39;m poking at. I understand THAT part, just trying to make perl functions work in my mind :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429544189, "post_id": 29751713, "comment_id": 47636624, "body": "<code>0</code> and <code>0.0</code> are different in C and C++"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429544221, "post_id": 29751713, "comment_id": 47636648, "body": "@ikegami Edited my comment."}, {"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "edited": false, "score": 0, "creation_date": 1429544561, "post_id": 29751713, "comment_id": 47636892, "body": "Yeah, using the right data structure definitely clicks for me. Odds are, I&#39;d end up using a List of Objects in C#, and placing a name within the object - and Ikegami&#39;s answer isn&#39;t far from that - not really going for &quot;reflection&quot; to pull the underlying name unless needed. Part of this is more &quot;How&quot; since I haven&#39;t really seen &quot;relfection&quot; in perl."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1429546875, "post_id": 29751713, "comment_id": 47638475, "body": "I don&#39;t think you use <i>grep</i> correctly in your intro sentence. You are perhaps confusing it with <i>grok</i>."}], "answers": [{"comments": [{"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "edited": false, "score": 0, "creation_date": 1429543931, "post_id": 29752136, "comment_id": 47636415, "body": "I can see where you are coming from - going from the name being the name of the variable to the name being part of the data structure. Definitely an avenue I hadn&#39;t considered."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1429543805, "creation_date": 1429543805, "answer_id": 29752136, "question_id": 29751713, "link": "https://stackoverflow.com/questions/29751713/perl-functions-get-name-of-incoming-parameters/29752136#29752136", "title": "Perl functions: Get &quot;name&quot; of incoming parameters", "body": "<p>The solution isn't to get the name of the variable; the solution is to eliminate the variable.</p>\n\n<pre><code>sub check {\n    my ($name, $value, $expected) = @_;\n    my $got = $value ? 'true' : 'false';\n    print(\"$name is $got. Expected $expected.\\n\");\n}\n\nmy @tests = (\n   [ 'def1', undef,   'false' ],\n   [ 'def3', 0.0,     'false' ],\n   [ 'def5', 0,       'false' ],\n   [ 'def2', ' ',     'true'  ],\n   [ 'def4', '0.0',   'true'  ],\n   [ 'def6', 'false', 'true'  ],\n); \n\ncheck(@$_) for @tests;\n</code></pre>\n"}], "owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 29752136, "answer_count": 1, "score": -1, "last_activity_date": 1429544083, "creation_date": 1429542693, "last_edit_date": 1429544083, "question_id": 29751713, "link": "https://stackoverflow.com/questions/29751713/perl-functions-get-name-of-incoming-parameters", "title": "Perl functions: Get &quot;name&quot; of incoming parameters", "body": "<p>I'm trying to wrap my head around perl. It's different enough from what I'm used too (.Net mainly, but C/C++/php/javascript) that some things just aren't \"grepping\" for me.</p>\n\n<p>I'm working through a book that has some exercises. One of the exercises involves practice coercing scalars into Boolean - Undef and Zeros = false, others = true.</p>\n\n<p>Taking the question, some previous code examples and a desire to pull functions out of repeated code... I'm sitting with this function:</p>\n\n<pre><code># Which of the following evaluates to true?\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nsub check1 {\n    my @args = @_;\n    if ($args[0]) {\n        return \"true\";\n    } else {\n        return \"false\";\n    }\n}\n\nsub check2 {\n    my @args = @_;\n    if ($args[0]) {\n        print \"$args[1] = true\\n\";\n    } else {\n        print \"$args[1] = false\\n\";\n    }\n}\n\n# false (zero or undef)\nmy $def1 = undef;  check2($def1, 'def1');\nmy $def3 = 0.0;    check2($def3, 'def3');\nmy $def5 = 0;      check2($def5, 'def5');\n\n# true (not zero and not undef)\nmy $def2 = ' ';    check2($def2, 'def2');\nmy $def4 = '0.0';  check2($def4, 'def4');\nmy $def6 = 'false';check2($def6, 'def6');\nmy $def7 = 1/0;    check2($def7, 'def7');\n\n#as suggested by TheSuitIsBlackNot\nmy $foo = 0.0; print '$foo = ', check1($foo), \"\\n\";\n</code></pre>\n\n<p>My question is: Is there a way to remove the duplicate parameter? such that the <code>check</code> function can pull the name of the parameter instead of saying <code>$def1, \"def1\"</code>?</p>\n"}, {"tags": ["arrays", "perl", "function", "scalar"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 2, "creation_date": 1429540910, "post_id": 29750701, "comment_id": 47634016, "body": "As others have noted, you would use <code>wantarray</code>for this. See <code>perldoc -f wantarray</code> <a href=\"http://perldoc.perl.org/functions/wantarray.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/wantarray.html</a>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 6, "creation_date": 1429542137, "post_id": 29750701, "comment_id": 47635025, "body": "Don&#39;t use prototypes (the empty parentheses after sub name). Their usage is <i>only</i> to override the normal subroutine functionality, to create obscure things that mimic the behaviour of some built-ins."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1429542890, "post_id": 29750701, "comment_id": 47635602, "body": "@TLP: unless you have 5.20+ and have enabled the experimental signatures (but even there, <code>()</code> is inappropriate in this case)"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1429561717, "post_id": 29750701, "comment_id": 47647772, "body": "Welcome to SO you are off to a fair start.  This is still a relevant question (though perhaps a FAQ) and pretty well asked here. Since it doesn&#39;t effect the substance of the responses I think you should correct <code>sub testfunc() { ... } </code> to <code>sub testfunc {... }</code> in your question since they shouldn&#39;t be used to define the subroutine unless you need prototypes / signatures as others have pointed out."}], "answers": [{"tags": [], "owner": {"reputation": 7042, "user_id": 1671032, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FfJD4.jpg?s=128&g=1", "display_name": "PSIAlt", "link": "https://stackoverflow.com/users/1671032/psialt"}, "is_accepted": false, "score": 4, "last_activity_date": 1429540484, "creation_date": 1429540484, "answer_id": 29750803, "question_id": 29750701, "link": "https://stackoverflow.com/questions/29750701/scalar-or-array-function/29750803#29750803", "title": "Scalar or array function", "body": "<p>This feature is named \"call context\". Use the <a href=\"http://perldoc.perl.org/functions/wantarray.html\" rel=\"nofollow\">wantarray</a> keyword.</p>\n\n<pre><code>@t = testfunc(1, 2, 3, 4);\n$x = testfunc(1, 2, 3, 4);\nsub testfunc {\n    if ( wantarray ) {\n        print \"List context\\n\";\n    }\n    # False, but defined\n    elsif ( defined wantarray ) {\n        print \"Scalar context\\n\";\n    }\n    # False and undefined\n    else {\n        print \"Void context\\n\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1429541076, "post_id": 29750852, "comment_id": 47634162, "body": "add something about the OP&#39;s bad prototype"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1429560945, "post_id": 29750852, "comment_id": 47647343, "body": "Wow .. this is really really good. Thanks!  Adding a reference to this to my answer."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1429547211, "last_edit_date": 1429547211, "creation_date": 1429540584, "answer_id": 29750852, "question_id": 29750701, "link": "https://stackoverflow.com/questions/29750701/scalar-or-array-function/29750852#29750852", "title": "Scalar or array function", "body": "<p>There's a function in perl  called <a href=\"http://perldoc.perl.org/functions/wantarray.html\" rel=\"nofollow\"><code>wantarray</code></a> which returns:</p>\n\n<ul>\n<li><code>true</code> if the sub is called in a list context</li>\n<li><code>false</code> if scalar</li>\n<li><code>undef</code> if neither.</li>\n</ul>\n\n<p>As an example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub wantarray_test {\n\n    if ( not defined wantarray() ) {\n        print \"Called in void context by \", caller(), \"\\n\";\n    }\n    else {\n        if ( wantarray() ) {\n            print \"Called in list context by \", caller(), \"\\n\";\n            return ( \"A\", \"list\", \"of\", \"results\" );\n        }\n        else {\n            print \"called in a scalar context by \", caller(), \"\\n\";\n            return \"scalar result\";\n        }\n    }\n\n}\n\nmy @result = wantarray_test();\nprint \"@result\\n\";\n\nmy $result = wantarray_test();\nprint $result, \"\\n\";\n\nwantarray_test();\n</code></pre>\n\n<p>Bonus question:</p>\n\n<p>What do you think you'll get if you:</p>\n\n<pre><code>print wantarray_test();\n</code></pre>\n\n<p>You can do even more than this if you're so inclined with <a href=\"http://search.cpan.org/~dconway/Contextual-Return-0.004007/lib/Contextual/Return.pm\" rel=\"nofollow\"><code>Contextual::Return</code></a> - this will allow you to test for more detailed contexts, such as the difference between <code>scalar</code> and <code>boolean</code>. (This is useful for example, if you'd want to test a percentage - you may not want to treat '0' as 'false'). </p>\n\n<p>But be careful with context sensitive functions. It's quite easy to build in some unexpected behaviour, which is something that can bite you badly down the line. </p>\n\n<p>As a related note - you should not declare your sub the way you have. There's a mechanism in perl called prototypes that define what sort of arguments your subroutine is expecting. See: <a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow\"><code>perlsub</code></a>. You should not define your sub as:</p>\n\n<pre><code>sub testfunc() \n{   \n     # some stuff\n}\n</code></pre>\n\n<p>This specifies a prototype, and should be avoided unless you're sure that's what you want. </p>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 502231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a42dfc20540198a55e025fd67070465?s=128&d=identicon&r=PG", "display_name": "abra", "link": "https://stackoverflow.com/users/502231/abra"}, "is_accepted": false, "score": 2, "last_activity_date": 1429551505, "creation_date": 1429551505, "answer_id": 29754674, "question_id": 29750701, "link": "https://stackoverflow.com/questions/29750701/scalar-or-array-function/29754674#29754674", "title": "Scalar or array function", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/wantarray.html\" rel=\"nofollow\">wantarray</a> function</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nsay my $x = testfunc(1,2,3,4);\nsay my @x = testfunc(1,2,3,4);\n\nsub testfunc {\n    return wantarray ? @_ : \"@_\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1429621949, "last_edit_date": 1429621949, "creation_date": 1429560821, "answer_id": 29757507, "question_id": 29750701, "link": "https://stackoverflow.com/questions/29750701/scalar-or-array-function/29757507#29757507", "title": "Scalar or array function", "body": "<p>The strangely named <a href=\"https://metacpan.org/pod/perlfunc#wantarray\" rel=\"nofollow\"><code>wantarray</code></a> is the standard approach - it lets you distinguish between list and scalar contexts. You can also use <a href=\"https://metacpan.org/pod/Want\" rel=\"nofollow\"><code>Want</code></a> from CPAN which goes a bit further than the standard <code>wantarray</code> builtin function (see the <a href=\"https://metacpan.org/pod/Want\" rel=\"nofollow\"><code>Want</code> documentation</a>). </p>\n\n<p>The following should return the same results as the <code>wantarray</code> solutions:</p>\n\n<pre><code>use Want;\nsub testfuncadelic {\n  if (want('LIST')) { \n    rreturn @_; }  \n  elsif (want('SCALAR')) { \n    rreturn \"@_\" ; } \n  return \n}\n</code></pre>\n\n<p>The following should cut and paste into a shell as a pseudo-\"oneliner\" (Unix syntax) to demonstrate:</p>\n\n<pre><code>% cpanm Want\n% perl -MWant -E '\nsub testfunc { \nif (want(\"LIST\")) { \n   rreturn \"array in list context \", @_;}\nelsif (want(\"SCALAR\")) { \n   rreturn \"string in scalar context @_\"; } \nreturn }\n$result =  testfunc(qw/1 2 3 4/ ); say $result; \n@results = testfunc(qw/1 2 3 4/ ); say @results;'  \n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>string in scalar context 1 2 3 4\narray in list context 1234\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>@Sobrique has the most thorough treatment of the standard approach here - he/she would get my acceptance if I had asked the question.  One thing I neglected above is that (obviously, 'doh!) if <code>wantarray</code> is <code>undef</code> then you have void context! Perhaps I assumed this and didn't realize it could be used explicitly to detect void contxt. So <code>wantarray</code> can give you all three of the standard calling contexts. <code>Wanted</code> on the other hand is about tricky fun stuff and I did not mean to imply it should be used <em>instead</em> of <code>wantarray</code>. I still think <code>wantarray</code> should have a better name :-)</p>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1429621949, "creation_date": 1429540191, "question_id": 29750701, "link": "https://stackoverflow.com/questions/29750701/scalar-or-array-function", "title": "Scalar or array function", "body": "<p>I have to do function which will work as scalar and as array. For example:</p>\n\n<pre><code>@t = testfunc(1, 2, 3, 4);\n$x = testfunc(1, 2, 3, 4);\n</code></pre>\n\n<p>Anbody have idea how I can do it?\nIt have to print \"scalar\" if it's $x and print \"array\" if @t. I tried to do something like this:</p>\n\n<pre><code>sub testfunc()\n{\n   print \"test\";\n}\n</code></pre>\n\n<p>But even this doesn't work :/</p>\n"}, {"tags": ["perl", "internationalization", "cpan"], "comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1429543367, "post_id": 29749855, "comment_id": 47635966, "body": "I&#39;ve been thinking about how to do this for the cpan client. I don&#39;t have any answers though."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429553447, "post_id": 29752034, "comment_id": 47642659, "body": "This does not answer the question at all"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429554282, "post_id": 29752034, "comment_id": 47643148, "body": "@ikegami The first item on the OP&#39;s list is: &quot;1. Ignore them, which I find dissatisfactory.&quot; My answer makes the point that (1) is a valid option, but it requires some explanation of my motivation as translating into a bunch of different languages seems to be the unquestioned default these days."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1429554361, "post_id": 29752034, "comment_id": 47643204, "body": "Re &quot;My answer makes the point that (1) is a valid option&quot;. No, it does not. It doesn&#39;t even touch the topic of not translating library messages. You talk about not translating computer terms, which is completely unrelated to the question."}, {"owner": {"reputation": 1803, "user_id": 321307, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2dee6b4872d0e1dc7189d930af6335a3?s=128&d=identicon&r=PG", "display_name": "sschober", "link": "https://stackoverflow.com/users/321307/sschober"}, "edited": false, "score": 0, "creation_date": 1429605223, "post_id": 29752034, "comment_id": 47664832, "body": "@Sinan&#220;n&#252;r Thank you for your answer! But I think ikegami is right. I was not proposing tranlating &#39;computer terms&#39;, or, for that matter, terms used in the user interface of the command. (The <code>cp</code> command takes the same command line options no matter what your locale is set to.) My concern is about documentation, help, and error strings."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1803, "user_id": 321307, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2dee6b4872d0e1dc7189d930af6335a3?s=128&d=identicon&r=PG", "display_name": "sschober", "link": "https://stackoverflow.com/users/321307/sschober"}, "edited": false, "score": 0, "creation_date": 1429617208, "post_id": 29752034, "comment_id": 47673295, "body": "@sschober If you are going to have the messages translated, they will most likely not be good translations (see the error message from the IBM product). And, I do not see the point of not translating <code>cp</code> ... After all, it is short for <code>copy</code> ... shouldn&#39;t it adapt to the user&#39;s language? Command line options are memorable because a single letter or short string corresponds to something that means something in English. And, &quot;Unknown option&quot; or &quot;File not found&quot; are computing terms as well."}, {"owner": {"reputation": 1803, "user_id": 321307, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2dee6b4872d0e1dc7189d930af6335a3?s=128&d=identicon&r=PG", "display_name": "sschober", "link": "https://stackoverflow.com/users/321307/sschober"}, "edited": false, "score": 0, "creation_date": 1429617534, "post_id": 29752034, "comment_id": 47673547, "body": "The point of not translating commands and their options is that they&#39;re part of the interface of the command (think of scriptability). Making an interface locale dependent is not a very good idea in my opinion."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1429617908, "post_id": 29752034, "comment_id": 47673824, "body": "&quot;Making an interface locale dependent is not a very good idea in my opinion.&quot; Neither is making it impossible for humans to transfer their knowledge of how programs work from one country to another. If the lack of consistency would hurt a machine, why not care as much about the human user? If a Turkish user wants to know what an error message means, she needs to figure out what it is in English and look it up. Why make it difficult for her? <b>What is the purpose of translating &quot;Unknown option&quot;?</b>"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1429544205, "last_edit_date": 1429544205, "creation_date": 1429543531, "answer_id": 29752034, "question_id": 29749855, "link": "https://stackoverflow.com/questions/29749855/how-to-localize-cpan-module-and-dependencies/29752034#29752034", "title": "How to localize CPAN module and dependencies", "body": "<p>I have rather <a href=\"http://www.nu42.com/2013/04/translation-of-programming-terms-and.html\" rel=\"nofollow\">strong opionions</a> on the idea of translating computing terms, and most people disagree with my views, so take what I am saying with a grain of salt.</p>\n\n<p>I do not understand the point of internationalizing a library for parsing command line options unless you want to further <a href=\"https://www.google.com/search?q=ghettoize\" rel=\"nofollow\">ghettoize</a> what is already a small group of users of said library.</p>\n\n<p>Would <code>wget</code> be more useful to Turkish users if instead it was called <code>wal</code> or <code>wgetir</code>? Or, instead of <code>wget --mirror</code>, should Turkish users write <code>getir --ayna</code>? What about that <code>w</code>?</p>\n\n<p>If you just translate the messages, what is the point of outputting a help message in response to <code>wget -h</code> when the Turkish equivalent would be <code>wget -y</code>?</p>\n\n<p>The fact is, almost all attempts at translating programming related terms I have seen are <a href=\"http://www.nu42.com/2014/08/replacing-hash-keys-with-values-does.html\" rel=\"nofollow\">simply awful</a>. The people who are most eager to translate are usually not in command of either human language &mdash; Nor do they seem to  understand what they are translating.</p>\n\n<p>However, as a result of these eager people, I find that at least the Turkish translations of pretty much any software I touch is just awful. Whatever Danish translations I have seen did not fare much better, but, at least, they were tolerable owing to the greater commonality of structure between Danish and English.</p>\n\n<p>I think everyone's energy is better spent on actually making sure their programs handle <strong><em>content</em></strong>, including names of external resources/references, in different languages well, rather than giving me error messages in some Frankenstein language, or letting me specify command line options whose mnemonics do not match their descriptions etc, or presenting menus that contain of strings of words that really do not convey any meaning.</p>\n\n<p>I have felt this way for the last for many decades now ... Even when I was patching IBM PC keyboard drivers with hex editors so people at various places could type reports in WordStar, and create charts in Harvard Graphics.</p>\n\n<p>So, my unpopular advice is to put your energy elsewhere ...</p>\n\n<p>For example, use exception objects so the user of your library (who is likely a programmer and will understand \"Directory not found\" much more readily than \"K\u00fct\u00fck bulunamad\u0131\") can deduce in a human-language independent way what happened, and what message to show the user. I haven't looked closely at <code>MooX::Options</code>, but I notice there is at least one string <code>croak</code>.</p>\n\n<p>Here is an <a href=\"http://www-01.ibm.com/support/knowledgecenter/SSEPGG_8.2.0/com.ibm.db2.udb.doc/core/r0ccamsg.htm?lang=tr\" rel=\"nofollow\">actual error message from an IBM product</a>:</p>\n\n<blockquote>\n  <p>Belirtilen k\u00fct\u00fck \u00f6r\u00fcnt\u00fcs\u00fcyle e\u015fle\u015fen hi\u00e7bir k\u00fct\u00fck bulunamad\u0131</p>\n</blockquote>\n\n<p>You can ask every one of the almost 200 million Turkic people on earth what a \"k\u00fct\u00fck \u00f6r\u00fcnt\u00fcs\u00fc\" is, and only the person who actually came up with this non-sensical string of characters will be able to tell you that it corresponds to \"file pattern\". What, then, do they gain by using the phrase \"k\u00fct\u00fck \u00f6r\u00fcnt\u00fcs\u00fc\" versus \"file pattern\"? Nothing.</p>\n\n<p>However, they lose the ability to communicate with, and, also, compete with, programmers in the English speaking world.</p>\n\n<p>PS: Apologies for all Turkish examples, but I feel most comfortable drawing abominable examples based on my native language.</p>\n"}], "owner": {"reputation": 1803, "user_id": 321307, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2dee6b4872d0e1dc7189d930af6335a3?s=128&d=identicon&r=PG", "display_name": "sschober", "link": "https://stackoverflow.com/users/321307/sschober"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429544333, "creation_date": 1429537934, "last_edit_date": 1429544333, "question_id": 29749855, "link": "https://stackoverflow.com/questions/29749855/how-to-localize-cpan-module-and-dependencies", "title": "How to localize CPAN module and dependencies", "body": "<p>I am trying to localize a CPAN module <a href=\"https://github.com/celogeek/MooX-Options/pull/38\" rel=\"nofollow\">MooX::Options</a> using <a href=\"https://metacpan.org/pod/Locale::TextDomain\" rel=\"nofollow\">Locale::TextDomain</a> after having read <a href=\"http://rassie.org/archives/247\" rel=\"nofollow\">\"On the state of I18N in perl\"</a>.</p>\n\n<p>In the discussion in the pull request the question came up how to deal with messages not originating in the module itself, but in a dependency. In this specific case, when you specify an option on the command line which is not defined anywhere in the code, you'll get the warning:</p>\n\n<blockquote>\n  <p>Unknown option: xyz</p>\n</blockquote>\n\n<p>originating in the module <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow\">Getopt::Long</a>, which in itself is not localized yet.</p>\n\n<p>The question is how to deal with these. I see basically three strategies:</p>\n\n<ol>\n<li>Ignore them, which I find dissatisfactory.</li>\n<li>Try to someway or other <em>catch all the corner cases and messages</em> in the module I'm currently localizing (in this case <code>MooX::Options</code>), and this way working around the missing localization in the dependent modules. This option seems brittle, as I'd have to constantly adapt to changes in the base modules. Sometimes, it might by next to impossible to catch messages, as they're written to output streams directly by the modules (as is the case in this example).</li>\n<li>Try to <em>localize the dependent modules themselves</em>. This option seems hard to achieve, as different projects might use different I18N tools and strategies themselves and the dependency graph might be huge.</li>\n</ol>\n\n<p>All in all, I think this problem is more general and not that specific to perl and cpan modules. So, I'm interessted in your thoughts, strategies and approaches.</p>\n"}, {"tags": ["perl", "imagemagick"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 0, "last_activity_date": 1429569058, "creation_date": 1429569058, "answer_id": 29759580, "question_id": 29749028, "link": "https://stackoverflow.com/questions/29749028/create-thumbnail-of-png-image-using-perl-imagemagic/29759580#29759580", "title": "create thumbnail of png image using Perl Image::Magic", "body": "<p>You are only reading the input up to the first occurrence of <code>\\n</code>, and so you are passing incomplete/corrupt data to your <code>create_thumbnail</code> function.</p>\n\n<p>The canonical way to load the entire contents of a file handle into a scalar variable would look like:</p>\n\n<pre><code>open my $file, \"data2\";\n$image_data = do { local $/; &lt;$file&gt; };\n</code></pre>\n\n<p>but if the <code>local $/</code> looks too esoteric, these are equivalent:</p>\n\n<pre><code>$image_data = join '', &lt;$file&gt;;\n\nuse File::Slurp;\n$image_data = read_file(\"data2\");  # don't need $file handle\n</code></pre>\n"}], "owner": {"reputation": 3409, "user_id": 2310989, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/034bf2e2ba137b4b6db19cea989150d1?s=128&d=identicon&r=PG", "display_name": "Gaurav Pant", "link": "https://stackoverflow.com/users/2310989/gaurav-pant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 29759580, "answer_count": 1, "score": 1, "last_activity_date": 1429569058, "creation_date": 1429535891, "last_edit_date": 1429539871, "question_id": 29749028, "link": "https://stackoverflow.com/questions/29749028/create-thumbnail-of-png-image-using-perl-imagemagic", "title": "create thumbnail of png image using Perl Image::Magic", "body": "<p>I am using below code to get thumbnail image from large image.</p>\n\n<p>I am using image magic for the same. </p>\n\n<pre><code>$thumbnail_width = 100;\n$thumbnail_height = 60;\n\nopen my $file, \"data2\";\n$image_data = &lt;$file&gt;;\ncreate_thumbnail($image_data);\n\n\nsub create_thumbnail {\n    my ($image_data, $garb) = @_;\n    use Image::Magick;\n    #my $image = Image::Magick-&gt;new(magick=&gt;'jpg');\n    #my $image = Image::Magick-&gt;new(magick=&gt;'png');\n    #print \"===&gt;$image_data&lt;===\";\n    my $image = Image::Magick-&gt;new;\n    $error = $image-&gt;BlobToImage($image_data);\n    print \"1--\".$error;\n    $error = $image-&gt;SetAttribute(quality =&gt; 80);\n    print \"2--\".$error;\n    $error = $image-&gt;SetAttribute(compression =&gt; 'JPEG');\n    print \"3--\".$error;\n    $error = $image-&gt;Thumbnail(width =&gt; $thumbnail_width, height =&gt; $thumbnail_height);\n    print \"4--\".$error;\n    my $thumbnail_data = $image-&gt;ImageToBlob();\n\n    print \"Content-type: image/jpeg\\nContent-length: \" . length($thumbnail_data) . \"\\n\\n\";\n    print STDERR \"===&gt;$thumbnail_data&lt;=====\";\n    #print $thumbnail_data;\n}\n</code></pre>\n\n<p>I am getting below error.</p>\n\n<p>1--Exception 425: negative or zero image size <code>' @ error/gif.c/ReadGIFImage/13692--3--4--Exception 410: no images defined</code>Thumbnail' @ error/Magick.xs/XS_Image__Magick_Mogrify/7403Content-type: image/jpeg\nContent-length:</p>\n\n<p>The image from which I want to create thumbnail image is of type PNG.I am using ImageMagick-6.9.1-2. </p>\n"}, {"tags": ["css", "perl", "html-table", "html-email"], "comments": [{"owner": {"reputation": 94324, "user_id": 2802040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCB9I.png?s=128&g=1", "display_name": "Paulie_D", "link": "https://stackoverflow.com/users/2802040/paulie-d"}, "edited": false, "score": 1, "creation_date": 1429536236, "post_id": 29748939, "comment_id": 47630532, "body": "CSS cannot detect content. You need Javascript."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1429546740, "post_id": 29749564, "comment_id": 47638390, "body": "hmm sorry,,, i am just new to jQuery i have attached my full code above for your reference.. can you edit it in jQuery satisfying my above two conditions"}, {"owner": {"reputation": 87, "user_id": 4355437, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3eb60d9c99903a2328e334fafd3417a8?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/4355437/zachary"}, "reply_to_user": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1429619936, "post_id": 29749564, "comment_id": 47675345, "body": "do you have any jQuery written?  I&#39;m pretty new to html and don&#39;t know what everything in your code does. @stephenjacob"}], "tags": [], "owner": {"reputation": 87, "user_id": 4355437, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3eb60d9c99903a2328e334fafd3417a8?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/4355437/zachary"}, "is_accepted": false, "score": 0, "last_activity_date": 1429537200, "creation_date": 1429537200, "answer_id": 29749564, "question_id": 29748939, "link": "https://stackoverflow.com/questions/29748939/changing-background-color-of-each-cell-dynamically-depending-on-its-value/29749564#29749564", "title": "Changing background color of each cell dynamically depending on its value", "body": "<p>I don't know any way in CSS to do what you are expecting, in jQuery it's really simple.  </p>\n\n<pre><code>$(document).ready(function() {\n    $(element).css('background-color','color');\n});\n</code></pre>\n\n<p>Where <code>element</code> is the <code>#id</code> or <code>.class</code> or <code>div</code> you are using.</p>\n\n<p>And <code>color</code> is the hex color you are planning to use like <code>#FF0000</code> which is red.</p>\n\n<p>Instead of trying to do it difficultly just do it simple with jQuery.</p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1429585957, "post_id": 29758543, "comment_id": 47656208, "body": "hi..i have modified the query but i get an syntax error while running."}, {"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1429586985, "post_id": 29758543, "comment_id": 47656465, "body": "i get an error while running the script..........syntax error at ./test.pl line 68, near &quot;);&quot; syntax error at ./itest.pl line 73, near &quot;);&quot; Execution of ./test.pl aborted due to compilation errors."}, {"owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "reply_to_user": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1429610234, "post_id": 29758543, "comment_id": 47668332, "body": "sorry, these are the typos...: you have to add a closing parenthesis in those lines: <code>$ary[0]));</code> and <code>$ary[1]));</code>"}, {"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1429621804, "post_id": 29758543, "comment_id": 47676697, "body": "you made my life very easy!!  that code works... two questions    1) now i am including two more columns in sql but i don&#39;t want add any bgcolour just printing.      2) for the single column i want to add  bgcolour have two conditions eg: phone_no = 1234 and phone_no=null (no value) i want highlight these cells in red.  Can you help to re-write the while loop code for the above two cases"}, {"owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "reply_to_user": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1429651552, "post_id": 29758543, "comment_id": 47696762, "body": "It&#39;s been a long day for me, so I only did some minor changes. I suggest to do some more research on your own, since there are probably a lot of other changes you might need. Btw, when your life has been made easy, accepting the answer would be appreciated..."}, {"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1429670529, "post_id": 29758543, "comment_id": 47703253, "body": "thanks i did bit research  and learned few things.. appreciate your help"}, {"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1441005841, "post_id": 29758543, "comment_id": 52487454, "body": "Hi Leu, now i have created two mores styles Green and yellow. For the 2nd column how to conditionally change to Green or red depending on the values.  i have tries this but execution failed:                                          (!length($ary[2])|| $ary[2] eq &quot;steve&quot;) ? &quot; class=\\&quot;alert\\&quot;&quot; || ( $ary[2] eq &quot;paul&quot;) ? &quot; class=\\&quot;alert1\\&quot;&quot;: &quot;&quot;,"}], "tags": [], "owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "is_accepted": true, "score": 1, "last_activity_date": 1429651117, "last_edit_date": 1429651117, "creation_date": 1429564501, "answer_id": 29758543, "question_id": 29748939, "link": "https://stackoverflow.com/questions/29748939/changing-background-color-of-each-cell-dynamically-depending-on-its-value/29758543#29758543", "title": "Changing background color of each cell dynamically depending on its value", "body": "<p>I'm not really sure whether I get it right when you want to \"change background color during the load\". But when the receiving e-mail-client renders your HTML, there is no dynamic process anymore - all database interaction is done by your script. Therefore, you can apply the background color in your perl script and you don't need JavaScript or even jQuery.</p>\n\n<p>You have to change only small pieces of code:</p>\n\n<p>In the \"STYLE\"-here-doc add</p>\n\n<pre><code>td.alert { padding:3px;border:1px solid #0066FF; background-color: #ff0000;}\n</code></pre>\n\n<p>modify the while-loop body of executeSQL like so:</p>\n\n<pre><code>$count++;\npush(@HTML,\"&lt;tr&gt;\");\nchomp($ary[0]);\npush(@HTML,sprintf(\"&lt;td%s&gt;%s&lt;/td&gt;\",\n                    ($ary[0] eq \"steven\") ? \" class=\\\"alert\\\"\" : \"\",\n                    $ary[0]));\n\nchomp($ary[1]);\npush(@HTML,sprintf(\"&lt;td%s&gt;%s&lt;/td&gt;\",\n                    (!length($ary[1]) || $ary[1] eq \"1234\") ? \" class=\\\"alert\\\"\" : \"\",\n                    $ary[1]));\n\npush(@HTML,\"&lt;/tr&gt;\\12\"); \n</code></pre>\n\n<p>to highlight empty entries in the 2nd column or the entry \"1234\". </p>\n"}], "owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1628, "favorite_count": 0, "accepted_answer_id": 29758543, "answer_count": 2, "score": 0, "last_activity_date": 1495200818, "creation_date": 1429535690, "last_edit_date": 1495200818, "question_id": 29748939, "link": "https://stackoverflow.com/questions/29748939/changing-background-color-of-each-cell-dynamically-depending-on-its-value", "title": "Changing background color of each cell dynamically depending on its value", "body": "<p>I have table with two columns loading from oracle database.</p>\n\n<p>one column contains <code>employee_name</code> and another column is <code>phone_no</code></p>\n\n<p>I am running the <code>css</code> script in perl to send an <code>html</code> table in email. However I want to represent the table in a user friendly manner.</p>\n\n<p><strong>e.g.:</strong> </p>\n\n<ol>\n<li><p>I want to change the bg colour to red for column 1 cell where <code>emplpyee_name=steven</code>.</p></li>\n<li><p>I want to change the bg colour to red for column 2 cells where <code>phone_no=null</code></p></li>\n</ol>\n\n<p>I want to change the <code>bgcolour</code> during the load dynamically. I don't want <code>jQuery</code>, only in css/html it is possible?</p>\n\n<pre><code>#!/efs/dist/perl5/core/5.8/exec/bin/perl\n\nuse EFSPerl::Version (\n'DBD-Oracle' =&gt; '1.19',\n'DBI' =&gt; '1.58'\n);\n\n\nuse DBI;\nuse CommonFunctions;\n\nmy @HTML        =();\n\n\n$STYLE=&lt;&lt;STYLE;\n&lt;style type=\"text/css\"&gt;\n.myTable { background-color:#E6F0FF;border: 1px solid blue;border-collapse: collapse; }\n.myTable th { background-color:#0066FF;color:white;font-size: 100%; }\n.myTable td { padding:3px;border:1px solid #0066FF; }\n\n&lt;/style&gt;\nSTYLE\n    push(@HTML,\"$STYLE\");\n\n\n    push(@HTML,\"&lt;table class=\\\"myTable\\\" border=1&gt;\\12&lt;tr bgcolor=708090&gt;&lt;th&gt;EMPLOYEE_NAME&lt;/th&gt;&lt;th&gt;PHONE_NO&lt;/th&gt;&lt;/tr&gt;\");\n\n    $retCode=executeSQL(\" SELECT EMPLOYEE_NAME, PHONE_NO FROM EMPLOYEE_TABLE\");\n push(@HTML,\"&lt;/table&gt;\\12\\12\");\n\n if($retCode) {\n    push(@HTML,\"&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&lt;td&gt;&lt;/td&gt;\");\n    push(@HTML,\"&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\\12\");\n    }\n\n\n&amp;sendMail;\n\nsub sendMail\n{\n\n$sub=\"test report\";\n$from='abc@example.com';\n$to='123@xample.com.com';\n\n    open(MAIL, \"|/usr/lib/sendmail -t\");\n            print MAIL \"From: $from \\12\"; print MAIL \"To: $to \\12\";print MAIL \"Cc: $Cc \\12\";\n            print MAIL \"Subject: $sub \\12\";\n            print MAIL \"Content-Type: text/html \\12\";\n            print MAIL \"Content-Disposition:inline \\12\";\n            print MAIL @HTML;\n close(MAIL);\n}\nsub executeSQL\n{\n    my $SQL=$_[0];chomp($SQL);\n    print \"$SQL\\12\";\n\n\n\n    my $dsn = \"dbi:Oracle:host=server.com;sid=sample;port=1111;\";\n    my $dbuser = \"username\";\n    my $dbpass = 'password';\n    my $dbh = DBI-&gt;connect($dsn, $dbuser, $dbpass, { RaiseError =&gt; 1, AutoCommit =&gt; 0 });\n\n    my $sth=$dbh-&gt;prepare($SQL);\n    $sth-&gt;execute or die \"EXEC ERROR $sth-&gt;errstr\";\n    $count=0;\n    while (@ary = $sth-&gt;fetchrow_array) {\n            $count++;\n            push(@HTML,\"&lt;tr&gt;\");\n            foreach(@ary) {\n                    chomp($_);\n                    push(@HTML,\"&lt;td&gt;$_&lt;/td&gt;\");\n                    print \"$_,\";\n            }\n            push(@HTML,\"&lt;/tr&gt;\\12\");\n    }\n    $dbh-&gt;disconnect();\n\n\n\nprint \"COUNT : $count\\12\";\n    return 1 if($count==0);\n\n}\n</code></pre>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 2045, "user_id": 32763, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ee3d3d14cec0d6a819633d0ae2b4dfd6?s=128&d=identicon&r=PG", "display_name": "Loopo", "link": "https://stackoverflow.com/users/32763/loopo"}, "edited": false, "score": 0, "creation_date": 1429533800, "post_id": 29748014, "comment_id": 47628706, "body": "As noted in one of the answers you link to above, you can pass command line arguments when calling php from your perl script.   There is also the possibility of using something like wget to save a url (potentially with GET parameters as in <code>http:&#47;&#47;example.com&#47;?q=&lt;somequery&gt;</code>) to a file and then parsing that file for the information you need"}, {"owner": {"reputation": 69, "user_id": 4810324, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/02b53f23b5cf160e99eef87b323c3c53?s=128&d=identicon&r=PG&f=1", "display_name": "Gzyniu", "link": "https://stackoverflow.com/users/4810324/gzyniu"}, "reply_to_user": {"reputation": 2045, "user_id": 32763, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ee3d3d14cec0d6a819633d0ae2b4dfd6?s=128&d=identicon&r=PG", "display_name": "Loopo", "link": "https://stackoverflow.com/users/32763/loopo"}, "edited": false, "score": 0, "creation_date": 1429535649, "post_id": 29748014, "comment_id": 47630048, "body": "Good idea :) I was thinking about something different. How about this: PERL script is passing string variable to .txt file, and calling PHP script, then PHP is reading .txt and take this string, then process it and echo the result. Then in Perl Script in my $output = <code>php test.php</code>; like in the link above I will have my result. What do you think?"}, {"owner": {"reputation": 2045, "user_id": 32763, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ee3d3d14cec0d6a819633d0ae2b4dfd6?s=128&d=identicon&r=PG", "display_name": "Loopo", "link": "https://stackoverflow.com/users/32763/loopo"}, "edited": false, "score": 0, "creation_date": 1429537565, "post_id": 29748014, "comment_id": 47631591, "body": "yes, that can also work. It could also be interesting for you to look at <a href=\"http://search.cpan.org/~szbalint/WWW-Curl-4.17/lib/WWW/Curl.pm\" rel=\"nofollow noreferrer\">curl</a> And/or you might even build a small API for the PHP webapp that would allow you to have more flexibility"}, {"owner": {"reputation": 5271, "user_id": 1658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879e79284efb4639584574a5fc46c9e4?s=128&d=identicon&r=PG", "display_name": "lcd047", "link": "https://stackoverflow.com/users/1658042/lcd047"}, "edited": false, "score": 1, "creation_date": 1429537929, "post_id": 29748014, "comment_id": 47631859, "body": "How about some other forms of IPC?  As in pipes or shm?"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 4810324, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/02b53f23b5cf160e99eef87b323c3c53?s=128&d=identicon&r=PG&f=1", "display_name": "Gzyniu", "link": "https://stackoverflow.com/users/4810324/gzyniu"}, "edited": false, "score": 0, "creation_date": 1429626600, "post_id": 29759174, "comment_id": 47680636, "body": "I did it like in the link I posted in the question. In php: echo &quot;PHP generated this&quot;; and in perl: my $output = <code>php test.php</code>; so perl generates a .txt file and put there a string, then with $output = <code>php test.php</code>; I call php script that reads the .txt file, process it, and return a result with echo which I &quot;catch&quot; with $output. For me it was the easiest way :) Thx all!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1429567361, "last_edit_date": 1429567361, "creation_date": 1429567049, "answer_id": 29759174, "question_id": 29748014, "link": "https://stackoverflow.com/questions/29748014/can-i-pass-variable-from-perl-to-php-and-backwards/29759174#29759174", "title": "Can I pass variable from Perl to PHP and backwards?", "body": "<p>You can't pass a variable per say (since that refers to memory in one process), but there numerous ways of passing information from one program to another. Here's one:</p>\n\n<p>First program:</p>\n\n<pre><code>#!/usr/bin/perl\nuse IPC::System::Simple qw( capturex );\nmy $request = \"abc\";\nmy $reply = capturex('upper', $request);\nprint(\"$request =&gt; $reply\\n\");\n</code></pre>\n\n<p>Second program (<code>upper</code>):</p>\n\n<pre><code>#!/usr/bin/php\n&lt;?php echo(strtoupper($argv[1])) ?&gt;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 4810324, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/02b53f23b5cf160e99eef87b323c3c53?s=128&d=identicon&r=PG&f=1", "display_name": "Gzyniu", "link": "https://stackoverflow.com/users/4810324/gzyniu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 1, "accepted_answer_id": 29759174, "answer_count": 1, "score": 0, "last_activity_date": 1474551056, "creation_date": 1429533190, "last_edit_date": 1495535437, "question_id": 29748014, "link": "https://stackoverflow.com/questions/29748014/can-i-pass-variable-from-perl-to-php-and-backwards", "title": "Can I pass variable from Perl to PHP and backwards?", "body": "<p>I was asked to write a plugin for Foswiki in Perl, and I found complete code of my task in PHP (huge amount of code). What I wanted is to write simple plugin in Perl which is passing String variable to PHP script, PHP script will process it and return the result, and I want to pass it to Perl and thats it :)</p>\n\n<p>I found this: <a href=\"https://stackoverflow.com/a/455453\">https://stackoverflow.com/a/455453</a>\nSomeone described a solution to \"catch\" a result from PHP, but I still need passing string to PHP. Is this even possible?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1429531693, "post_id": 29747268, "comment_id": 47627103, "body": "Is there a difference between <code>[^\\s]</code> and <code>\\S</code> that I&#39;m not aware of? I think they&#39;re the same?"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1429532936, "post_id": 29747268, "comment_id": 47628062, "body": "@Sobrique: No there&#39;re no differences between <code>[^\\s]</code> and <code>\\S</code>, but in my regex I&#39;ve added right parenthesis."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1429531095, "creation_date": 1429531095, "answer_id": 29747268, "question_id": 29747225, "link": "https://stackoverflow.com/questions/29747225/use-regular-expressions-to-find-host-name/29747268#29747268", "title": "Use regular expressions to find host name", "body": "<p>How about:</p>\n\n<pre><code>if(my ($test) = $linelist =~ /\\(\\?\\@([^\\s)]+)/)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1429532282, "post_id": 29747286, "comment_id": 47627582, "body": "As for <code>\\b</code>, I have explained it in one of my former posts: <a href=\"http://stackoverflow.com/questions/29562943/python-regex-not-matching-as-required/29563789#29563789\" title=\"python regex not matching as required\">stackoverflow.com/questions/29562943/&hellip;</a>. You really do not have to use it here, or at least at the original place."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1429531884, "last_edit_date": 1429531884, "creation_date": 1429531132, "answer_id": 29747286, "question_id": 29747225, "link": "https://stackoverflow.com/questions/29747225/use-regular-expressions-to-find-host-name/29747286#29747286", "title": "Use regular expressions to find host name", "body": "<p>You can use this regex:</p>\n\n<pre><code>\\(\\?@(.*?)\\)\n</code></pre>\n\n<p><code>researchscan425.eecs.umich.edu</code> will be captured into Group 1.</p>\n\n<p>See <a href=\"https://regex101.com/r/jT5hZ4/1\" rel=\"nofollow\">demo</a></p>\n\n<p><a href=\"http://www.tutorialspoint.com/execute_perl_online.php?PID=0Bw_CjBb95KQMaUtTZDRqWWZoalU\" rel=\"nofollow\">Sample code</a>:</p>\n\n<pre><code>my $linelist = 'Apr 17 23:39:02 test pure-ftpd: (?@researchscan425.eecs.umich.edu) [INFO] New connection from researchscan425.eecs.umich.edu';\nif(my ($test) = $linelist =~ /\\(\\?@(.*?)\\)/)\n{\n   print \"$test\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1429531315, "post_id": 29747333, "comment_id": 47626849, "body": "I think that <code>\\b</code> <i>should</i> work though. I can&#39;t tell why it doesn&#39;t? But yes, if you switch it to <code>\\s</code> it works fine."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1429531345, "last_edit_date": 1429531345, "creation_date": 1429531239, "answer_id": 29747333, "question_id": 29747225, "link": "https://stackoverflow.com/questions/29747225/use-regular-expressions-to-find-host-name/29747333#29747333", "title": "Use regular expressions to find host name", "body": "<p>You need to remove the <code>\\b</code> which exists before <code>(</code>. Because there isn't a word boundary exists before <code>(</code> (<em>non-word character</em>) and after space (<em>non-word charcater</em>).</p>\n\n<pre><code>my $linelist = 'Apr 17 23:39:02 test pure-ftpd: (?@researchscan425.eecs.umich.edu) [INFO] New connection from researchscan425.eecs.umich.edu';\nif(my ($test) = $linelist =~ /\\(\\?\\@([^)]*)/)\n{\n   print \"$test\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1429531633, "creation_date": 1429531633, "answer_id": 29747457, "question_id": 29747225, "link": "https://stackoverflow.com/questions/29747225/use-regular-expressions-to-find-host-name/29747457#29747457", "title": "Use regular expressions to find host name", "body": "<p>The problem here is the definition of <code>\\b</code>. </p>\n\n<p>It's \"word boundary\" - on regex101 that means: </p>\n\n<pre><code>(^\\w|\\w$|\\W\\w|\\w\\W)\n</code></pre>\n\n<p>Now, why this is causing you problems - <code>(</code> is not a <code>word character</code>. So the transition from <code>space</code> to <code>bracket</code> doesn't trigger this pattern. </p>\n\n<p>Switch your pattern to:</p>\n\n<pre><code>\\s\\(\\?\\@(\\S+)\n</code></pre>\n\n<p>And it'll work. (Note - I've changed <code>*</code> to <code>+</code> because you probably want one or more, not zero or more). </p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1429549972, "creation_date": 1429549972, "answer_id": 29754185, "question_id": 29747225, "link": "https://stackoverflow.com/questions/29747225/use-regular-expressions-to-find-host-name/29754185#29754185", "title": "Use regular expressions to find host name", "body": "<p>It's amazing what you can do with logging tools or with <code>perl</code> as <em>part</em> of the logging service itself (<em>c.f.</em> <a href=\"http://metacpan.org/release/Ubic\" rel=\"nofollow\"><code>Ubic</code></a>), but even if you're just writing a \"quick script\" to parse logs for reporting (<em>i.e.</em> something you or someone else won't look at again for months or years) it helps to make them easy to maintain.</p>\n\n<p>One approach to doing this is to process the lines of your log file lines with <a href=\"http://www.metacpan.org/pod/Regexp::Common\" rel=\"nofollow\"><code>Regexp::Common</code></a>. One advantage is that <code>RX::Common</code> matches practically \"self document\" what you are doing. For example, to match on specific \"RFC compliant\" definitions of what constitutes a \"domain\" using the <code>$linelist</code> you posted:</p>\n\n<pre><code>use Regexp::Common qw /net/;\nif ( $line =~ /\\?\\@$RE{net}{domain}{-keep}/ ) { say $1 }\n</code></pre>\n\n<p>Then, later, if you need you can add other matches <em>e.g</em> \"numeric\" IPv4 or IPv6 addresses, assign them for use later in the script, <em>etc.</em> (<a href=\"https://metacpan.org/pod/Perl6::Form\" rel=\"nofollow\"><code>Perl6::Form</code></a> and <a href=\"https://metacpan.org/release/IO-All\" rel=\"nofollow\"><code>IO::All</code></a> used for demonstration purposes only - try them out!):</p>\n\n<pre><code>use IO::All ;\nuse Regexp::Common qw/net/;\nuse Perl6::Form;\n\nmy $purelog = io 'logfile.lines.txt' ;\n\nsub _get_ftphost_names {\n  my @hosts = () ;\n  while ($_ = $purelog-&gt;getline) {\n     /\\(\\?\\@$RE{net}{IPv6}{-sep =&gt; \":\" }{-keep}/    || \n     /\\(\\?\\@$RE{net}{IPv4}{-keep}/                  || \n     /\\(\\?\\@$RE{net}{domain}{-keep}/ and push @hosts , $1 ; \n   }\n   return \\@hosts ;\n}\n\nsub _get_bytes_transfered {\n  ... ;\n}\n\nmy @host_list = _get_ftphost_names ;\n\nprint form \n\"{[[[[[[[[[[(30+)[[[[[[[[[[[[[}\", @host_list ; \n</code></pre>\n\n<p>One of the great things about <code>Regexp::Common</code> (besides stealing regexp ideas from the source) is that it also makes it fairly easy to roll your own matches, You can use those to capture other parts of the file in an easily understandable way adding them piece by piece. Then, as what was supposed to be your four line script grows and transforms itself into a ITIL compliant corporate reporting tool, you and your career can advance apace  :-)</p>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 29747286, "answer_count": 5, "score": 0, "last_activity_date": 1429549972, "creation_date": 1429530994, "question_id": 29747225, "link": "https://stackoverflow.com/questions/29747225/use-regular-expressions-to-find-host-name", "title": "Use regular expressions to find host name", "body": "<p>so I have little problem, because I need to print host name which is bettwen \"(?@ )\", for example:</p>\n\n<pre><code>Apr 17 23:39:02 test pure-ftpd: (?@researchscan425.eecs.umich.edu) [INFO] New connection from researchscan425.eecs.umich.edu\n</code></pre>\n\n<p>And I need to print \"researchscan425.eecs.umich.edu\".</p>\n\n<p>I tried something like:</p>\n\n<pre><code>if(my ($test) = $linelist =~ /\\b\\(\\?\\@(\\S*)/)\n{\n   print \"$test\\n\";\n}\n</code></pre>\n\n<p>But it doesn't print me anything. </p>\n"}, {"tags": ["windows", "perl", "activestate", "xs"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4809964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/018ecd719196d34b4593b626abfb0086?s=128&d=identicon&r=PG&f=1", "display_name": "ubastuhl", "link": "https://stackoverflow.com/users/4809964/ubastuhl"}, "edited": false, "score": 0, "creation_date": 1429531820, "post_id": 29747101, "comment_id": 47627201, "body": "Have tried that before, but &quot;PPM list&quot; shows all installed modules and does not differerntiate between &quot;normal&quot; and XS packages."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1, "user_id": 4809964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/018ecd719196d34b4593b626abfb0086?s=128&d=identicon&r=PG&f=1", "display_name": "ubastuhl", "link": "https://stackoverflow.com/users/4809964/ubastuhl"}, "edited": false, "score": 0, "creation_date": 1429531992, "post_id": 29747101, "comment_id": 47627351, "body": "I&#39;m not honestly sure that perl differentiates in &#39;normal operation&#39;. I suspect you&#39;ll be needing to look at the module installation to see."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1429530629, "creation_date": 1429530629, "answer_id": 29747101, "question_id": 29745898, "link": "https://stackoverflow.com/questions/29745898/activestate-perl-windows-find-all-installed-xs-modules/29747101#29747101", "title": "activestate perl windows - find all installed xs modules", "body": "<p>I'm not sure how easy it is to properly differentiate between 'installed packages' and 'installed XS packages'. </p>\n\n<p>The latter will very likely have been installed via PPM, so you should be able to list them with <code>ppm list</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1429544805, "creation_date": 1429544805, "answer_id": 29752478, "question_id": 29745898, "link": "https://stackoverflow.com/questions/29745898/activestate-perl-windows-find-all-installed-xs-modules/29752478#29752478", "title": "activestate perl windows - find all installed xs modules", "body": "<p><code>dir /s/b *.dll</code> from your AP's <code>lib</code> and <code>site\\lib</code> directory. (I think those in <code>lib</code> came with AP, and those in <code>site\\lib</code> were installed afterwards.)</p>\n"}], "owner": {"reputation": 1, "user_id": 4809964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/018ecd719196d34b4593b626abfb0086?s=128&d=identicon&r=PG&f=1", "display_name": "ubastuhl", "link": "https://stackoverflow.com/users/4809964/ubastuhl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1429544805, "creation_date": 1429527275, "question_id": 29745898, "link": "https://stackoverflow.com/questions/29745898/activestate-perl-windows-find-all-installed-xs-modules", "title": "activestate perl windows - find all installed xs modules", "body": "<p>For prepairing a perl upgrade, i wanted to know which <a href=\"http://en.wikipedia.org/wiki/XS_%28Perl%29\" rel=\"nofollow\">perl xs modules</a> are installed for my local activestate perl 5.16 installation.</p>\n\n<p>Does anybody know how i could get such a list of perl modules?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1429525258, "creation_date": 1429525258, "answer_id": 29745194, "question_id": 29745110, "link": "https://stackoverflow.com/questions/29745110/regular-expressions-to-find-user-name/29745194#29745194", "title": "Regular expressions to find user name", "body": "<p>The <code>{1}</code> is redundant.</p>\n\n<pre><code>if (my ($user) = $linelist =~ /\\buser[ =](.*)/) {\n    print \"$user\\n\";\n}\n</code></pre>\n\n<p>Enclosing $user in parentheses creates list context for the binding operator, so $1 is returned. If there could be some information after the username, you'd have to restrict the * (e.g. <code>/\\buser[ =]([^ ]*)/</code>).</p>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 29745194, "answer_count": 1, "score": 0, "last_activity_date": 1429525258, "creation_date": 1429525017, "question_id": 29745110, "link": "https://stackoverflow.com/questions/29745110/regular-expressions-to-find-user-name", "title": "Regular expressions to find user name", "body": "<p>so I have for example:</p>\n\n<pre><code>Mar 22 09:05:06 test sshd[8156]: pam_unix(sshd:auth): authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=111.111.111.111  user=root\nMar 15 06:35:01 test CRON[22947]: pam_unix(cron:session): session closed for user bogdan\n</code></pre>\n\n<p>And I have to find user name using regular expressions. I know, that to word \"user \" and \"user=\" I can use this:</p>\n\n<pre><code>while($linelist = &lt;&gt;)\n{\n if($linelist =~ /(\\buser[ =]{1})/)\n {\n    print $1;\n }\n}\n</code></pre>\n\n<p>But how can I find for example \"bogdan\" or \"root\"? And other users's names.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1429524470, "post_id": 29744817, "comment_id": 47622241, "body": "<code>&#47;[^\\d*]&#47;</code> matches any char in the string, which is NOT digit and not literal asterisk <code>*</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5903, "user_id": 1387612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j3ybF.png?s=128&g=1", "display_name": "janisz", "link": "https://stackoverflow.com/users/1387612/janisz"}, "is_accepted": false, "score": 2, "last_activity_date": 1429524774, "last_edit_date": 1429524774, "creation_date": 1429524316, "answer_id": 29744848, "question_id": 29744817, "link": "https://stackoverflow.com/questions/29744817/perl-regular-expression-matching-digits/29744848#29744848", "title": "Perl Regular Expression matching digits", "body": "<p>You need to write it that way:</p>\n\n<p><a href=\"http://regexper.com/#%2F%5E%5B%5E%5Cd%5D*%24%2F\" rel=\"nofollow\"><code>/^[^\\d]*$/</code></a></p>\n\n<p><strong>Explanation:</strong>\nYour regexp <a href=\"http://regexper.com/#%2F%5B%5E%5Cd*%5D%2F\" rel=\"nofollow\"><code>/[^\\d*]/</code></a> match part of line that does not contain digit or is <code>*</code>, so it will works as long as you have NaN characters in your line.\nTo mach whole line you must explicitly say that from beginning to end it is made of NaN chars</p>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1429528159, "creation_date": 1429528159, "answer_id": 29746208, "question_id": 29744817, "link": "https://stackoverflow.com/questions/29744817/perl-regular-expression-matching-digits/29746208#29746208", "title": "Perl Regular Expression matching digits", "body": "<p>You could do:</p>\n\n<pre><code>if($str =~ /\\D/) {\n    print \"\\nNOT a Number\\n\";\n}\nelse {\n    print \"\\nThis is a number\\n\";\n}\n</code></pre>\n\n<p>Where <code>\\D</code> matches any character that is not digit.</p>\n"}], "owner": {"reputation": 21, "user_id": 4809828, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9VCDfTKuWeE/AAAAAAAAAAI/AAAAAAAAARM/2EyZ6vQlQgU/photo.jpg?sz=128", "display_name": "subhas chandra", "link": "https://stackoverflow.com/users/4809828/subhas-chandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1429530700, "creation_date": 1429524227, "last_edit_date": 1429530700, "question_id": 29744817, "link": "https://stackoverflow.com/questions/29744817/perl-regular-expression-matching-digits", "title": "Perl Regular Expression matching digits", "body": "<pre><code>use strict;\nuse warnings;\n\nprint \"Enter string\\n\";\nmy $str = &lt;STDIN&gt;;\nchomp($str);\n\nif($str =~ /[^\\d*]/)\n{\nprint \"\\n\";\nprint \"*********MATCHED**********\\n\";\n}\nelse\n{\nprint \"\\n\";\nprint \"#######WRONG############\\n\";\n}\n</code></pre>\n\n<p>when i enter the string as  '2323adsdf'. It says matched. As for as my knowledge, it should not match as there are numbers in the string.\nCan anyone please explain me, why this match occurs??</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": true, "score": 2, "last_activity_date": 1429521800, "creation_date": 1429521800, "answer_id": 29743882, "question_id": 29743711, "link": "https://stackoverflow.com/questions/29743711/perl-regular-expression-to-match-input-for-port-numbers/29743882#29743882", "title": "Perl regular expression to match input for port numbers", "body": "<p>Try this code:</p>\n\n<pre><code>$result = ($port_number =~ m/^[0-9]{1,5}$/);\n</code></pre>\n\n<p><code>$result</code> will be set to 1 if the <code>$port_number</code> matches your criteria, and will be set to 0 otherwise.</p>\n"}], "owner": {"reputation": 125, "user_id": 3691006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/476c0966ea9fad748b26078c4ece7884?s=128&d=identicon&r=PG&f=1", "display_name": "user3691006", "link": "https://stackoverflow.com/users/3691006/user3691006"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 29743882, "answer_count": 1, "score": 0, "last_activity_date": 1429521800, "creation_date": 1429521312, "question_id": 29743711, "link": "https://stackoverflow.com/questions/29743711/perl-regular-expression-to-match-input-for-port-numbers", "title": "Perl regular expression to match input for port numbers", "body": "<p>I would like to write a <strong>regular expression</strong> that would only accept valid input that would qualify as a port number. I want to only accept input for the characters 0-9 and no special characters. The number should not be longer than 5 characters.</p>\n\n<p>I read user input using this method.</p>\n\n<pre><code>my $port_number = &lt;&gt;;\n</code></pre>\n\n<p>I know that the regular expression should look something like this.</p>\n\n<pre><code>^[0-9]*$\n</code></pre>\n\n<p>How do I combine the regular expression with the reading of the command line input without using an <strong>if</strong> statement?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429522629, "post_id": 29743187, "comment_id": 47620992, "body": "I wasted my time by reading your question and having no clue what are you talking about, thus down voted it."}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429523257, "post_id": 29743187, "comment_id": 47621418, "body": "what u didnt understood???"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429523513, "post_id": 29743187, "comment_id": 47621591, "body": "<code>I am trying to copy the data to Zip folder to newly created folder</code> what is zip folder, is it plain folder which ends with <code>.gz</code> or <code>gz</code> archive? Data is going simultaneously <b>to</b> this zip folder and <b>to</b> &quot;newly created one&quot; (where does it come from, etc..)? Please go and study how to ask the question, <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429523734, "post_id": 29743187, "comment_id": 47621735, "body": "Yes its a plain folders which ends with .gz , the newly created folders are empty, i want to copy those .gz files to newly created empty folders in same orders as folder created with out giving keyboard input now understood or still u have doughts?"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "edited": false, "score": 0, "creation_date": 1429524876, "post_id": 29743187, "comment_id": 47622486, "body": "Aditya, It is clear that you have some problems with English (80% of us are also not native English speakers). This time I will try to edit your question (I will add my interpretation in the end -- but you have to check it!!) Is this OK?"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "edited": false, "score": 0, "creation_date": 1429525753, "post_id": 29743187, "comment_id": 47623065, "body": "Aditiya, it is also problematic when the question changes (the previous answers make no sense...)"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429526965, "post_id": 29743187, "comment_id": 47623776, "body": "tyes sir u r edited question is correct. if possible give solution sir"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429530008, "post_id": 29743187, "comment_id": 47625874, "body": "help me out guys, still i am struggling to develop the answer"}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429520263, "post_id": 29743276, "comment_id": 47619417, "body": "it will generate all the folders at a time??"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429520323, "post_id": 29743276, "comment_id": 47619453, "body": "If <code>a.txt</code> has 20 non-empty lines it will create 20 folders."}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429522034, "post_id": 29743276, "comment_id": 47620604, "body": "how to use this in perl script? somehow like this[system(-nle &#39;mkdir $_ if /\\S/&#39; a.txt)]??"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429523517, "post_id": 29743276, "comment_id": 47621597, "body": "sir if possible help me to above posted question."}], "tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": true, "score": 0, "last_activity_date": 1429522659, "last_edit_date": 1429522659, "creation_date": 1429520193, "answer_id": 29743276, "question_id": 29743187, "link": "https://stackoverflow.com/questions/29743187/how-to-link-zip-folders-to-newly-created-folder/29743276#29743276", "title": "How to link zip folders to newly created folder", "body": "<pre><code>perl -nle 'mkdir $_ if /\\S/' a.txt\n</code></pre>\n\n<ul>\n<li><code>-l</code> to remove <code>\\n</code> from folder names (otherwise folder name would be <code>SO_100\\n</code>) </li>\n<li><code>if /\\S/</code> to skip possible empty-lines in the input file</li>\n</ul>\n\n<hr>\n\n<p>(your question changed....) Update: If you need more complex processing, you may  build a script where you can include someting like:</p>\n\n<pre><code>open(my $F, \"a.txt\") or die(\"cant open a.txt\\n\");\nwhile(&lt;$F&gt;){ \n  chomp;\n  next unless /\\S/;\n  mkdir $_ ;\n  #... do other things related with this folder...\n}\nclose $F;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429530797, "post_id": 29747000, "comment_id": 47626452, "body": "thank you so much sir, but its not showing any output. i have pasted mkdir code also , than also its not giving any output ."}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429590261, "post_id": 29747000, "comment_id": 47657430, "body": "its creating new folders but, its not copying Zip folders to those folders."}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429601322, "post_id": 29747000, "comment_id": 47662509, "body": "I added some warnings to the code to help in debug. Check (1) is you folder named &quot;ZIP&quot;? (2) are your files  zip-files named <code>..._X_L001_R1.fastq.gz</code>?"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429605016, "post_id": 29747000, "comment_id": 47664726, "body": "this is my zip file name SO_90_X_L001_R1.fastq.gz, i want to copy this in to SO_90 folder"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429607579, "post_id": 29747000, "comment_id": 47666382, "body": "the file name is L00 onnly not LOO sir"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429607918, "post_id": 29747000, "comment_id": 47666605, "body": "Ok. In your script: close($F) must be outside the while cycle!"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429608194, "post_id": 29747000, "comment_id": 47666790, "body": "no changes sir, sir i am updating the code again, check once again"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429610367, "post_id": 29747000, "comment_id": 47668418, "body": "same output i am getting sir, kindly help me out"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429610586, "post_id": 29747000, "comment_id": 47668570, "body": "What is the current behavior? (1) is there any warnings? (2) could you run <code>find SO_ </code> and post a part of it?"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429610812, "post_id": 29747000, "comment_id": 47668750, "body": "there is no warning sir, script is executing , syntax is ok, it is creating empty folders, but its not fetching data from zip files to corresponding folder"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1429615554, "post_id": 29747000, "comment_id": 47672114, "body": "Have you evaluated the above script sir?@JJoao"}], "tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 1, "last_activity_date": 1429601194, "last_edit_date": 1429601194, "creation_date": 1429530362, "answer_id": 29747000, "question_id": 29743187, "link": "https://stackoverflow.com/questions/29743187/how-to-link-zip-folders-to-newly-created-folder/29747000#29747000", "title": "How to link zip folders to newly created folder", "body": "<p>I am writing a new answer because we the question is in fact different.</p>\n\n<p>We have several files like <code>ZIP/SO_100_X_L001_R1.fastq.gz</code> to copy to \n<code>SO_100/...</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse File::Copy \"cp\";\n\nfor my $file (&lt;ZIP/*.fastq.gz&gt;){\n  print $_;\n  if( $file =~ m!ZIP/(.*)_X_L001_R1.fastq.gz! ) {\n     mkdir($1);              # comment this line if not necessary\n     cp($file, \"$1/\") or  warn(\"Copy '$file, $1' failed\\n\"); \n  } else {\n     warn(\"$file is not ending in '_X_L001_R1.fasta.gz'\\n\");\n  }\n}\n</code></pre>\n\n<p>Edit: I added some \"warnings\" in order to help with the debug</p>\n"}], "owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 29743276, "answer_count": 2, "score": -1, "last_activity_date": 1429608250, "creation_date": 1429519959, "last_edit_date": 1429608250, "question_id": 29743187, "link": "https://stackoverflow.com/questions/29743187/how-to-link-zip-folders-to-newly-created-folder", "title": "How to link zip folders to newly created folder", "body": "<p>I am trying to copy data from a folder (named Zip) to a set of newly created folders.</p>\n\n<p>Zip folder content is:</p>\n\n<pre><code>SO_90_X_L001_R1.fastq.gz\nSO_100_X_L001_R1.fastq.gz\nSO_101_X_L001_R1.fastq.gz \n</code></pre>\n\n<p>and I have created the following empty folders:</p>\n\n<pre><code>SO_90\nSO_100\nSO_101\n</code></pre>\n\n<p>Without giving keyboard input, is it possible to copy those zipped files to matching folders using Perl?</p>\n\n<p>i tryed below script, than also i am not getting proper output.</p>\n\n<pre><code>#!usr/bin/perl\n\nuse File::Copy \"cp\";\nopen(my $F, \"a.txt\") or die(\"cant open a.txt\\n\");\n  while(&lt;$F&gt;)\n{\nnext unless /\\S/;\nmkdir $_ ;\n\n}\nclose($F);\nfor my $file (&lt;SO_/*.fastq.gz&gt;){\n  print $_;\n  if( $file =~ m!SO_/(.*)_X_L001_R1.fastq.gz! ) {\n     mkdir($_);              # comment this line if not necessary\n     cp($file, \"$1/\") or  warn(\"Copy '$file, $1' failed\\n\"); \n  } else {\n     warn(\"$file is not ending in '_X_L001_R1.fasta.gz'\\n\");\n  }\n}\n</code></pre>\n"}, {"tags": ["perl", "command-line", "options"], "answers": [{"tags": [], "owner": {"reputation": 6099, "user_id": 1638010, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02688b7723adbdc1a47705b2bf6b617c?s=128&d=identicon&r=PG", "display_name": "Craig S. Anderson", "link": "https://stackoverflow.com/users/1638010/craig-s-anderson"}, "is_accepted": false, "score": 2, "last_activity_date": 1429518964, "creation_date": 1429518964, "answer_id": 29742880, "question_id": 29742722, "link": "https://stackoverflow.com/questions/29742722/how-can-i-create-my-own-perl-options/29742880#29742880", "title": "How can I create my own Perl options?", "body": "<p>You are passing options to the perl interpreter itself, while I think you want to pass it to your <code>program.pl</code> script.  Try:</p>\n\n<pre><code>perl program.pl --ip auth.csv\nperl program.pl --acc auth.csv\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 450, "user_id": 4053745, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vDnf9CWTsbM/AAAAAAAAAAI/AAAAAAAAAbo/8mnq1hnnPFE/photo.jpg?sz=128", "display_name": "Beuss", "link": "https://stackoverflow.com/users/4053745/beuss"}, "is_accepted": false, "score": 2, "last_activity_date": 1429522160, "creation_date": 1429522160, "answer_id": 29744014, "question_id": 29742722, "link": "https://stackoverflow.com/questions/29742722/how-can-i-create-my-own-perl-options/29744014#29744014", "title": "How can I create my own Perl options?", "body": "<p>A very simple way to manage options is to use Getopt::Long : </p>\n\n<p><a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow\">perldoc Getopt::Long</a></p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 0, "last_activity_date": 1429545028, "creation_date": 1429545028, "answer_id": 29752564, "question_id": 29742722, "link": "https://stackoverflow.com/questions/29742722/how-can-i-create-my-own-perl-options/29752564#29752564", "title": "How can I create my own Perl options?", "body": "<p>In Perl, the command line arguments go into the <code>@ARGV</code> array. Those are the arguments after the name of your program, including things that look like switches or filenames or whatever:</p>\n\n<pre><code>perl program.pl --ip auth.csv\nperl program.pl --acc auth.csv\n</code></pre>\n\n<p>It's up to you to process those, but there are many modules to choose from (I go through several in <a href=\"http://www.masteringperl.org/\" rel=\"nofollow\">Mastering Perl</a>. The <a href=\"http://www.metacpan.org/module/Getopt::Std\" rel=\"nofollow\">Getopt::Std</a> and <a href=\"http://www.metacpan.org/module/Getopt::Long\" rel=\"nofollow\">Getopt::Long</a> modules come with Perl and do what most people want. They'll look at <code>@ARGV</code>, process the stuff that looks like switches, and leave everything else alone.</p>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1429545050, "creation_date": 1429518469, "last_edit_date": 1429545050, "question_id": 29742722, "link": "https://stackoverflow.com/questions/29742722/how-can-i-create-my-own-perl-options", "title": "How can I create my own Perl options?", "body": "<p>How I can create in perl my own options? Because I want to read file and have 2 options to chose, so I need something like:</p>\n\n<pre><code>perl --ip program.pl auth.csv\nperl --acc program.pl auth.csv\n</code></pre>\n\n<p>Somebody have idea how I can do this?</p>\n"}, {"tags": ["perl", "oop", "inheritance", "module"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1429517468, "post_id": 29742376, "comment_id": 47617823, "body": "Are you using OOP? If not, are you using Exporter?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1429518691, "post_id": 29742376, "comment_id": 47618482, "body": "Then <code>use EDL::Functions</code> should make <code>EDL::Functions::Average-&gt;new</code> available."}, {"owner": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1429519242, "post_id": 29742376, "comment_id": 47618815, "body": "it doesn&#39;t: &quot;can&#39;t load package ...&quot;, i have the Functions.pm in a folder called EDL, and the functions in EDL/Functions. That&#39;s as it should be right?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1429519495, "post_id": 29742376, "comment_id": 47618961, "body": "Show the code. I can&#39;t reproduce the problem."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1429551906, "post_id": 29742376, "comment_id": 47641704, "body": "If you&#39;re having trouble locating your library files, you may want to <code>use lib ...</code> and perhaps <code>use FindBin;</code>"}, {"owner": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1429598153, "post_id": 29742376, "comment_id": 47660759, "body": "@tjd it does find EDL::Functions and EDL::Functions::* when i load them seperately. It does not recognize the submodules&#39; methods after loading the parent module via use <code>EDL::Functions</code>"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "edited": false, "score": 0, "creation_date": 1429597378, "post_id": 29747362, "comment_id": 47660391, "body": "I&#39;ve split it, however i still can&#39;t access the submodules via <code>use EDL::Functions</code>. Which seems weird to me."}, {"owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "reply_to_user": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "edited": false, "score": 0, "creation_date": 1429603136, "post_id": 29747362, "comment_id": 47663556, "body": "Using &#39;use modules&#39; is useless or I missed part of realization, they are already in the same scope. What error you got when you try to access it?"}, {"owner": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "edited": false, "score": 0, "creation_date": 1429603940, "post_id": 29747362, "comment_id": 47664032, "body": "Can&#39;t locate object method &quot;new&quot; via package &quot;EDL::Functions::Average&quot; (perhaps you forgot to load &quot;EDL::Functions::Average&quot;?) at &quot;the path where the calling module is, not the Functions module&quot;. Which is obviously what causes the Can&#39;t locate error. But what makes perl oversee that it is part of the EDL::Functions module?"}, {"owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "reply_to_user": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "edited": false, "score": 0, "creation_date": 1429605954, "post_id": 29747362, "comment_id": 47665289, "body": "Strange, could you verify that my code works on your box? Then paste your code and tell how you run it."}, {"owner": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "edited": false, "score": 0, "creation_date": 1429608531, "post_id": 29747362, "comment_id": 47667043, "body": "your code returns nothing on my box. When i write a short perl file, it does exactly what it should do. Even without the -I. When i split the file again the same error as before occurs."}, {"owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "reply_to_user": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "edited": false, "score": 0, "creation_date": 1429608747, "post_id": 29747362, "comment_id": 47667214, "body": "perl -v and perl -V please"}, {"owner": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "reply_to_user": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "edited": false, "score": 0, "creation_date": 1429616544, "post_id": 29747362, "comment_id": 47672812, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/75804/discussion-between-flo-win-and-neonox-neonox\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "is_accepted": false, "score": 0, "last_activity_date": 1429531310, "creation_date": 1429531310, "answer_id": 29747362, "question_id": 29742376, "link": "https://stackoverflow.com/questions/29742376/perl-inheritance-in-modules-import-and-interfacing/29747362#29747362", "title": "Perl: Inheritance in modules - import and interfacing", "body": "<p>It should work</p>\n\n<pre><code> perl -I ./ -MEDL::Functions -e 'EDL::Functions::Average-&gt;new();'\n</code></pre>\n\n<p>returns \"I'm new\".</p>\n\n<p>cat EDL/Functions.pm</p>\n\n<pre><code>package EDL::Functions;\nuse warnings;\nuse strict;\n\n\npackage EDL::Functions::Average;\nuse parent \"EDL::Functions\";\nsub new{ print \"I'm new\"; }\nsub execute { print \"Executing something\";}\n\n1;\n</code></pre>\n\n<p>But I prefere different structure, not declare several packages in one pm file. It'll save time for other devs and follows common practice, so EDL::Functions::Average should be at EDL/Functions/Average.pm</p>\n"}], "owner": {"reputation": 125, "user_id": 4658360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/15db3cf407a8031ad1d357672abff405?s=128&d=identicon&r=PG&f=1", "display_name": "Flo Win", "link": "https://stackoverflow.com/users/4658360/flo-win"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429597648, "creation_date": 1429517254, "last_edit_date": 1429597648, "question_id": 29742376, "link": "https://stackoverflow.com/questions/29742376/perl-inheritance-in-modules-import-and-interfacing", "title": "Perl: Inheritance in modules - import and interfacing", "body": "<p>I am trying to create my own module in perl that provides functions for data analysis out of a database.\nI have several functions in EDL::Functions, eg. EDL::Functions::Average.</p>\n\n<pre><code>package EDL::Functions;\nuse warnings;\nuse strict;\n</code></pre>\n\n<hr>\n\n<pre><code>package EDL::Functions::Average;\nuse parent \"EDL::Functions\";\nsub new{...}\nsub execute {...}\n</code></pre>\n\n<p>1) What do i have to add so <code>use EDL::Functions;</code> automatically imports all modules in <code>EDL::Functions</code>? Currently i have to import all submodules (in <code>EDL::Functions</code>)in order to make it work:</p>\n\n<pre><code>BEGIN {\n our $VERSION = 5.20;\n use EDL::Functions::Average;\n use EDL::Functions::GetAllValues;\n use EDL::Functions::GetValueStart;\n use EDL::Functions::GetValueEnd;\n use EDL::Functions::Min;\n use EDL::Functions::Max;\n use EDL::Functions::Median;\n}\n</code></pre>\n\n<p><strong>2) I want to make sure that if someone else builds his own function module the compilation will fail if it doesn't have the functions <code>new</code> and <code>execute</code>. How can i achieve that?</strong></p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python", "linux", "perl", "centos6", "importerror"], "comments": [{"owner": {"reputation": 407, "user_id": 1116320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57109f0ba9d6d7a3ad945a6d5c3c019e?s=128&d=identicon&r=PG", "display_name": "HaseebR7", "link": "https://stackoverflow.com/users/1116320/haseebr7"}, "edited": false, "score": 0, "creation_date": 1429514271, "post_id": 29741388, "comment_id": 47616059, "body": "does the perl python module install automatically when you install perl ?  try checking if the perl module path is available in sys.path"}, {"owner": {"reputation": 4791, "user_id": 3899471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f65ff7602231a1a1653a7debf32e7f?s=128&d=identicon&r=PG&f=1", "display_name": "kvorobiev", "link": "https://stackoverflow.com/users/3899471/kvorobiev"}, "edited": false, "score": 0, "creation_date": 1429514292, "post_id": 29741388, "comment_id": 47616076, "body": "What are you trying to do? You want to work with written in Perl functions/objects from python?"}, {"owner": {"reputation": 4108, "user_id": 977593, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/afRtt.jpg?s=128&g=1", "display_name": "slackmart", "link": "https://stackoverflow.com/users/977593/slackmart"}, "edited": false, "score": 1, "creation_date": 1429514371, "post_id": 29741388, "comment_id": 47616118, "body": "This could be useful: <a href=\"http://stackoverflow.com/questions/4002344/how-can-i-use-a-perl-module-from-python\" title=\"how can i use a perl module from python\">stackoverflow.com/questions/4002344/&hellip;</a>"}, {"owner": {"reputation": 101, "user_id": 4448441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7401bf20e3c3c67ba348107bbb6f1d83?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4448441/aman"}, "edited": false, "score": 0, "creation_date": 1429514426, "post_id": 29741388, "comment_id": 47616145, "body": "Yes. I have some scripts in python which are trying to import the perl package and use some functions from the package."}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429515490, "post_id": 29741388, "comment_id": 47616799, "body": "Python doesn&#39;t come with a module named <code>perl</code>. There appear to be at least three third-party packages for interacting with perl that might install modules named <code>perl</code>. Do you have any idea which one you want?"}, {"owner": {"reputation": 101, "user_id": 4448441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7401bf20e3c3c67ba348107bbb6f1d83?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4448441/aman"}, "edited": false, "score": 0, "creation_date": 1429515822, "post_id": 29741388, "comment_id": 47616956, "body": "I have no idea. I am working on a script written by somebody else. The script was written a few months back."}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429515932, "post_id": 29741388, "comment_id": 47617015, "body": "Well, what machine did the script run on? Someone had to have installed the module on that machine. Do you have access to it?"}, {"owner": {"reputation": 101, "user_id": 4448441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7401bf20e3c3c67ba348107bbb6f1d83?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4448441/aman"}, "edited": false, "score": 0, "creation_date": 1429516540, "post_id": 29741388, "comment_id": 47617341, "body": "Yes. I do have access to the machine."}, {"owner": {"reputation": 101, "user_id": 4448441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7401bf20e3c3c67ba348107bbb6f1d83?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4448441/aman"}, "edited": false, "score": 0, "creation_date": 1429523993, "post_id": 29741388, "comment_id": 47621896, "body": "abarnert, could you list the third-party packages?"}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429723601, "post_id": 29741388, "comment_id": 47737345, "body": "On the machine that has a module named <code>perl</code>, in Python, try <code>import perl; print perl.__file__</code>. If we&#39;re lucky, it&#39;s a .py file that wraps a compiled module, not just a raw compiled module. By looking at the first few lines of that .py file, it should be easier to find it online."}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429723782, "post_id": 29741388, "comment_id": 47737469, "body": "Also, what version of Python does that other machine have? If it&#39;s using 2.3, it could also be using the ancient PyPerl module that may not have ever been ported to 2.6. That means you&#39;d either have to install 2.3, port PyPerl yourself, or adapt the script to use a different solution."}, {"owner": {"reputation": 101, "user_id": 4448441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7401bf20e3c3c67ba348107bbb6f1d83?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4448441/aman"}, "edited": false, "score": 0, "creation_date": 1429860340, "post_id": 29741388, "comment_id": 47808535, "body": "The other machine uses python 2.6.6."}, {"owner": {"reputation": 101, "user_id": 4448441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7401bf20e3c3c67ba348107bbb6f1d83?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4448441/aman"}, "reply_to_user": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429860423, "post_id": 29741388, "comment_id": 47808594, "body": "@abarnert Also, I tried printing &#39;perl.__file__&#39;. It turned out to be a .so file."}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429862148, "post_id": 29741388, "comment_id": 47809588, "body": "As a last resort, if the two machines have the same OS and architecture, you can always just copy over <code>perl.so</code> (or whatever it&#39;s called)."}], "answers": [{"comments": [{"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429515184, "post_id": 29741645, "comment_id": 47616617, "body": "Are you sure this is the module he wants? It&#39;s not on PyPI, the page you linked says it&#39;s outdated (since 2005), it doesn&#39;t seem to built with Python 2.7 (or 3.4, unsurprisingly) against Perl 5.18.2, at least for 64-bit OS X or Fedora Linux\u2026"}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429515214, "post_id": 29741645, "comment_id": 47616636, "body": "Also, the instructions say pretty clearly that there are other steps you have to do before the <code>setup.py</code>, especially installing the <code>Python::Object</code> module for perl."}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429515388, "post_id": 29741645, "comment_id": 47616724, "body": "There&#39;s a newer package called <code>PythonPerl</code> that <i>is</i> on PyPI, and its module appears to be named <code>perl</code>\u2026 but that won&#39;t build for me either on 2.7\u2026 (in fact, it won&#39;t even download; it thinks the right package version for Python 2.7 is the empty string, which it can&#39;t find\u2026)."}, {"owner": {"reputation": 2065, "user_id": 3312761, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3ff445a61d3458660b972ca4edc54700?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu dua", "link": "https://stackoverflow.com/users/3312761/himanshu-dua"}, "reply_to_user": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429515443, "post_id": 29741645, "comment_id": 47616767, "body": "@abarnet This is no official version of pyperl. this is just a patch"}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429515789, "post_id": 29741645, "comment_id": 47616939, "body": "Yes, I see that the patch says there <i>is</i> no official version. It also says it probably won&#39;t work for you since it hasn&#39;t been updated since Python 2.3, although maybe some other patches might help. So\u2026 does this actually work for you, or anyone else you know, on 2.7 (or whichever version CentOS 6 comes with)?"}, {"owner": {"reputation": 101, "user_id": 4448441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7401bf20e3c3c67ba348107bbb6f1d83?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4448441/aman"}, "edited": false, "score": 0, "creation_date": 1429521557, "post_id": 29741645, "comment_id": 47620307, "body": "This didn&#39;t help. There are a lot of errors when I&#39;m trying to run the setup.py file.  Also, my copy of CentOS has python 2.6.6"}, {"owner": {"reputation": 2065, "user_id": 3312761, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3ff445a61d3458660b972ca4edc54700?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu dua", "link": "https://stackoverflow.com/users/3312761/himanshu-dua"}, "reply_to_user": {"reputation": 101, "user_id": 4448441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7401bf20e3c3c67ba348107bbb6f1d83?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4448441/aman"}, "edited": false, "score": 0, "creation_date": 1429529895, "post_id": 29741645, "comment_id": 47625792, "body": "@aman you have to install pyperl.There is no official version available right now.You have to search for stable pypearl version."}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429723708, "post_id": 29741645, "comment_id": 47737413, "body": "@himanshu: If (as I suspect) there is no stable version of PyPerl anywhere, or any version that works with 2.6, that doesn&#39;t help very much. (It also doesn&#39;t help if the script wants <code>python-perl</code> instead of <code>pyperl</code>, etc.)."}], "tags": [], "owner": {"reputation": 2065, "user_id": 3312761, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3ff445a61d3458660b972ca4edc54700?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu dua", "link": "https://stackoverflow.com/users/3312761/himanshu-dua"}, "is_accepted": false, "score": 0, "last_activity_date": 1429514834, "creation_date": 1429514834, "answer_id": 29741645, "question_id": 29741388, "link": "https://stackoverflow.com/questions/29741388/importerror-for-perl-in-python-terminal/29741645#29741645", "title": "ImportError for perl in python terminal", "body": "<p>First you have to download pyperl package and then install it.<br>\nDownload link <a href=\"http://www.felix-schwarz.name/files/opensource/pyperl/\" rel=\"nofollow\">http://www.felix-schwarz.name/files/opensource/pyperl/</a></p>\n\n<ol>\n<li>Download the package</li>\n<li>unzip it if it is zipped</li>\n<li>open cmd and cd into the directory containing setup.py</li>\n<li>type in python setup.py install</li>\n</ol>\n"}], "owner": {"reputation": 101, "user_id": 4448441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7401bf20e3c3c67ba348107bbb6f1d83?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4448441/aman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429514834, "creation_date": 1429513970, "last_edit_date": 1495542497, "question_id": 29741388, "link": "https://stackoverflow.com/questions/29741388/importerror-for-perl-in-python-terminal", "title": "ImportError for perl in python terminal", "body": "<p>I have Perl v5.10.1 installed on my CentOS 6 linux box. However, when I try to import perl in the python terminal, I get an ImportError.</p>\n\n<pre><code>&gt;&gt;&gt;import perl\nTraceback (most recent call last):\n   File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named perl\n</code></pre>\n\n<p>I had a similar issue earlier with Gnuplot, but that was resolved by simply installing another package.\n<a href=\"https://stackoverflow.com/questions/29429886/importerror-for-gnuplot-in-python-terminal/29430484#29430484\">ImportError for Gnuplot in python terminal</a></p>\n\n<p>I cannot figure out what is wrong.</p>\n\n<p>Please help. Thanks.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429513507, "post_id": 29741233, "comment_id": 47615566, "body": "<a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/system.html</a>"}, {"owner": {"reputation": 1, "user_id": 4679826, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d611dfdc2fdb461c10b278a91a4e15ca?s=128&d=identicon&r=PG&f=1", "display_name": "Pratiksha", "link": "https://stackoverflow.com/users/4679826/pratiksha"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429513610, "post_id": 29741233, "comment_id": 47615635, "body": "I want exact backup line"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429513782, "post_id": 29741233, "comment_id": 47615763, "body": "You have all needed resources to resolve your own problem."}, {"owner": {"reputation": 3027, "user_id": 2621706, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0aead89db990468d5359999664020289?s=128&d=identicon&r=PG", "display_name": "Uwe Allner", "link": "https://stackoverflow.com/users/2621706/uwe-allner"}, "edited": false, "score": 0, "creation_date": 1429513817, "post_id": 29741233, "comment_id": 47615783, "body": "Hopefully you know your user name, password and local file system?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1429513827, "post_id": 29741233, "comment_id": 47615798, "body": "<i>\u201cI want\u201d</i> won&#39;t get you the help you&#39;re after. But some politeness and manners, and showing that you&#39;ve put some effort into finding the solution yourself just might"}, {"owner": {"reputation": 1, "user_id": 4679826, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d611dfdc2fdb461c10b278a91a4e15ca?s=128&d=identicon&r=PG&f=1", "display_name": "Pratiksha", "link": "https://stackoverflow.com/users/4679826/pratiksha"}, "reply_to_user": {"reputation": 3027, "user_id": 2621706, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0aead89db990468d5359999664020289?s=128&d=identicon&r=PG", "display_name": "Uwe Allner", "link": "https://stackoverflow.com/users/2621706/uwe-allner"}, "edited": false, "score": 0, "creation_date": 1429513947, "post_id": 29741233, "comment_id": 47615873, "body": "@Uwe Allner Ya I know the username and password..but the line which I have written that line gives me syntax error\\. so, I want the perfect line to do mysqldump of tables in perl script."}], "answers": [{"tags": [], "owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "is_accepted": false, "score": 1, "last_activity_date": 1429557987, "creation_date": 1429557987, "answer_id": 29756661, "question_id": 29741233, "link": "https://stackoverflow.com/questions/29741233/mysql-dump-code-using-perl-script/29756661#29756661", "title": "Mysql dump code using perl script", "body": "<p>Have you tried running that line from the command prompt?  It looks like it should work.  Are you putting the command in quotes?  </p>\n\n<p>system('mysqldump -u username -pPassword databasename database table > to /local path') or die('This failed');</p>\n"}], "owner": {"reputation": 1, "user_id": 4679826, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d611dfdc2fdb461c10b278a91a4e15ca?s=128&d=identicon&r=PG&f=1", "display_name": "Pratiksha", "link": "https://stackoverflow.com/users/4679826/pratiksha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "closed_date": 1429994496, "answer_count": 1, "score": -2, "last_activity_date": 1429557987, "creation_date": 1429513404, "last_edit_date": 1429513622, "question_id": 29741233, "link": "https://stackoverflow.com/questions/29741233/mysql-dump-code-using-perl-script", "closed_reason": "Not suitable for this site", "title": "Mysql dump code using perl script", "body": "<p>I want to do the mysql-dump using perl script.Backup from some tables from mysql database in perl script.</p>\n\n<pre><code>system(mysqldump -u username -pPassword databasename database table &gt; to /local path) or die..;\n</code></pre>\n\n<p>Tell me this line which will store backup file of tables to the local path.</p>\n"}, {"tags": ["perl", "dictionary", "fork"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429511226, "post_id": 29740293, "comment_id": 47614355, "body": "The big question is why you want to use a <code>map</code>, which is intended for translating one list to another by applying the same function to each element of the input list. By the way, don&#39;t use an ampersand <code>&amp;</code> when calling Perl functions: that hasn&#39;t been necessary since Perl 4 about twenty years ago"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 3790904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7804c57dcfedc03a50ccef3fa22319bd?s=128&d=identicon&r=PG&f=1", "display_name": "vagrant", "link": "https://stackoverflow.com/users/3790904/vagrant"}, "edited": false, "score": 0, "creation_date": 1429513319, "post_id": 29740986, "comment_id": 47615447, "body": "Thanks for the respone, but i did not remove the $pm-&gt;finish ; my code was !($pm-&gt;start) or do_something($_) ; $pm-&gt;finish; But now i understand where the logic went wrong. $pm-&gt;finish is executed irrespective of do_something($_) was performed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51, "user_id": 3790904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7804c57dcfedc03a50ccef3fa22319bd?s=128&d=identicon&r=PG&f=1", "display_name": "vagrant", "link": "https://stackoverflow.com/users/3790904/vagrant"}, "edited": false, "score": 0, "creation_date": 1429513620, "post_id": 29740986, "comment_id": 47615644, "body": "@vagrant: I hope you will explain why you want to use <code>map</code> please?"}, {"owner": {"reputation": 51, "user_id": 3790904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7804c57dcfedc03a50ccef3fa22319bd?s=128&d=identicon&r=PG&f=1", "display_name": "vagrant", "link": "https://stackoverflow.com/users/3790904/vagrant"}, "edited": false, "score": 0, "creation_date": 1429522369, "post_id": 29740986, "comment_id": 47620824, "body": "I will try to be brief, I was trying to use perl as a wrapup script.  basically i have some function in fortran (and some C written) which does some quadrature integrations and matrix operations, on a set of matrices. These matrices are generated from varying a single parameter and hence It was easy to think of the range of the parameter as a list and the series of operations acting on the list. Passing the operations as map piping seemed logical at that point.  so thought it would be good to use fork with a map - probably not!."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429512534, "creation_date": 1429512534, "answer_id": 29740986, "question_id": 29740293, "link": "https://stackoverflow.com/questions/29740293/perl-parallelforkmanager-takes-long-time-with-fork-condition-changed/29740986#29740986", "title": "Perl Parallel::ForkManager , takes long time with fork condition changed", "body": "<p>If you change this loop</p>\n\n<pre><code>foreach (1..64) {\n  $pm-&gt;start and next;\n  do_something($_);\n  $pm-&gt;finish;\n}\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>foreach (1..64) {\n  !($pm-&gt;start) or do_something($_);\n}\n</code></pre>\n\n<p>then you have removed the <code>$pm-&gt;finish</code> call which terminates each child. That means the child processes will continue to execute the <code>for</code> loop, trying to start their own children, which will fail (because the child processes need their own <code>Parallel::ForkManager</code> object - they cannot use the parent's) and so they will <code>do_something</code> each time around the loop. Furthermore, because the children are delayed while they execute the subroutine many times, it will take much longer to get all 64 children started because you have a limit of 32 running at any one time.</p>\n\n<p>You could write</p>\n\n<pre><code>for ( 1 .. 64 ) {\n  my $pid = $pm-&gt;start;\n  if ( $pid == 0 ) {\n    do_something($_);\n    $pm-&gt;finish;\n  }\n}\n\n$pm-&gt;wait_all_children;\n</code></pre>\n\n<p>but as I said in my comment, if this is just so that you can misuse <code>map</code> instead of using a <code>for</code> then please don't do it</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1429557840, "last_edit_date": 1429557840, "creation_date": 1429554665, "answer_id": 29755680, "question_id": 29740293, "link": "https://stackoverflow.com/questions/29740293/perl-parallelforkmanager-takes-long-time-with-fork-condition-changed/29755680#29755680", "title": "Perl Parallel::ForkManager , takes long time with fork condition changed", "body": "<p>The changes you claimed you made would not cause the process to take longer. As such, I'm going to concentrate on your question: How to convert foreach loop into a <code>map</code> loop.</p>\n\n<p><code>for (LIST) BLOCK</code> can be written as <code>map BLOCK LIST</code>. The catch is that you can't use <code>next</code> since each pass of the loop is expected to return something (if only the empty list).</p>\n\n<pre><code>my $pm = ...;\nmap {\n   if (!$pm-&gt;start) {\n      do_something($_);\n      $pm-&gt;finish;\n   }\n   ()\n} 1..64;\n$pm-&gt;wait_all_children();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sub child {\n   my ($job) = @_;\n   ...\n   exit();\n}\n\n{\n   my $pm = ...;\n   map { $pm-&gt;start or child($_) } 1..64;\n   $pm-&gt;wait_all_children();\n}\n</code></pre>\n\n<p>I have no idea why you'd want to do that. It just makes the code harder to read.</p>\n"}], "owner": {"reputation": 51, "user_id": 3790904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7804c57dcfedc03a50ccef3fa22319bd?s=128&d=identicon&r=PG&f=1", "display_name": "vagrant", "link": "https://stackoverflow.com/users/3790904/vagrant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1429557840, "creation_date": 1429509766, "last_edit_date": 1429511920, "question_id": 29740293, "link": "https://stackoverflow.com/questions/29740293/perl-parallelforkmanager-takes-long-time-with-fork-condition-changed", "title": "Perl Parallel::ForkManager , takes long time with fork condition changed", "body": "<p>I have two questions with Parallel::ForkManager , in modifing the pid condition. </p>\n\n<p>Question 1 : with a simple example,</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Parallel::ForkManager;\nuse IO::Socket ;\n\nmy $np = 32 ;\nmy $pm = Parallel::ForkManager-&gt;new($np);\n$| = 1 ;\n\nsub do_something{ #an example for 3 second delay\n    my $port = shift @_ ;\n    my $tgt = 192.168.0.1 ;\n    my $sock = IO::Socket::INET-&gt;new(PeerAddr=&gt;\"$tgt:$port\",Proto='tcp',Timeout=&gt;3) ;\n    $sock ? return $sock : return 0 ;\n}\n\nforeach (1..64) {\n    $pm-&gt;start and next ;\n    do_something($_) ;\n    $pm-&gt;finish ;\n}\n$pm-&gt;wait_all_children ;\n</code></pre>\n\n<p>The above script works , with</p>\n\n<pre><code>time perl simple_script.pl \n\nreal    0m7.109s\nuser    0m0.237s\nsys     0m0.080s\n</code></pre>\n\n<p>while modifying the </p>\n\n<pre><code>$pm-&gt;start and next ; \ndo_something($_) ;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$pm-&gt;start and next or do_something($_) ;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>!($pm-&gt;start) or do_something($_) ; \n</code></pre>\n\n<p>does seem to work also but not as intended. </p>\n\n<pre><code>time perl modified_script.pl \n\nreal     3m12.307s\nuser     0m0.237s\nsys      0m0.080s\n</code></pre>\n\n<p>seems like the other two modified version run a single process at a time. </p>\n\n<p>Question 2: </p>\n\n<p>Is there any alternate way to do the same without using the next inside the foreach loop? That way the script can be adapted for map instead of a foreach loop. </p>\n\n<p>P.S: Forking and Object creation are not my strong points.</p>\n\n<p>Edit: removed &amp; as per suggestion . </p>\n"}, {"tags": ["javascript", "perl", "cgi", "wamp"], "answers": [{"tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": false, "score": 6, "last_activity_date": 1430145870, "last_edit_date": 1430145870, "creation_date": 1429510694, "answer_id": 29740503, "question_id": 29739486, "link": "https://stackoverflow.com/questions/29739486/use-javascript-in-perl-cgi/29740503#29740503", "title": "Use javascript in Perl CGI", "body": "<p>You can't use double quotes inside your double-quoted string without escaping them.  The internal server error is caused by Perl trying to tell you that</p>\n\n<pre><code>$html = \"...\"TEXT/JAVASCRIPT\"...\"i am here\"...\";\n</code></pre>\n\n<p>is not valid Perl code.  If you check your server's error log, you'll see something like \"Bareword found where operator expected at...\".</p>\n\n<p>The simpler solution is to use a <a href=\"http://perldoc.perl.org/perlop.html#%3C%3CEOF\" rel=\"nofollow noreferrer\">here document</a>:</p>\n\n<pre><code>#!C:\\wamp\\bin\\perl\\bin\\perl.exe\n\nuse strict;\nuse warnings;\n\nmy $html = &lt;&lt;\"END HTML\";\nContent-Type: text/html\n\n&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;TITLE&gt;Hello World&lt;/TITLE&gt;\n&lt;SCRIPT TYPE=\"TEXT/JAVASCRIPT\"&gt;\nalert(\"i am here\");\n&lt;/SCRIPT&gt;\n&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;H4&gt;Hello World&lt;/H4&gt;\n&lt;P&gt;\nYour IP Address is $ENV{REMOTE_ADDR}\n&lt;P&gt;\n&lt;H5&gt;Have a nice day&lt;/H5&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\nEND HTML\n\nprint $html;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1429512117, "last_edit_date": 1429512117, "creation_date": 1429511145, "answer_id": 29740628, "question_id": 29739486, "link": "https://stackoverflow.com/questions/29739486/use-javascript-in-perl-cgi/29740628#29740628", "title": "Use javascript in Perl CGI", "body": "<p>Use <code>qq()</code> when outputing HTML or JavaScript.</p>\n\n<pre><code>#!C:\\wamp\\bin\\perl\\bin\\perl.exe\nuse warnings;\nuse strict;\n\nmy $html = qq(Content-Type: text/html\n\n&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;TITLE&gt;Hello World&lt;/TITLE&gt;\n&lt;SCRIPT TYPE=\"TEXT/JAVASCRIPT\"&gt;\nalert(\"i am here\");\n&lt;/SCRIPT&gt;\n&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;H4&gt;Hello World&lt;/H4&gt;\n&lt;P&gt;\nYour IP Address is $ENV{REMOTE_ADDR}\n&lt;P&gt;\n&lt;H5&gt;Have a nice day&lt;/H5&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;);\n\nprint $html;\n</code></pre>\n\n<p>You can use <code>{}</code> instead of <code>()</code> as delimiters. see the <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\">document</a>.</p>\n\n<blockquote>\n  <p>a {} represents any pair of delimiters you choose.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 0, "last_activity_date": 1430051693, "last_edit_date": 1430051693, "creation_date": 1429515144, "answer_id": 29741727, "question_id": 29739486, "link": "https://stackoverflow.com/questions/29739486/use-javascript-in-perl-cgi/29741727#29741727", "title": "Use javascript in Perl CGI", "body": "<p>As already pointed out the problem is the erroneous quoting.</p>\n\n<p>As a small tip (besides fixing the quoting as mentioned above) </p>\n\n<p>Add </p>\n\n<pre><code>use warnings;\nuse strict;\n</code></pre>\n\n<p>to the top of your script, so you can always check the syntax by executing <code>perl -c</code> </p>\n\n<p>in your case:</p>\n\n<pre><code>C:\\wamp\\bin\\perl\\bin\\perl.exe -c &lt;filename&gt;\n</code></pre>\n\n<p>this would have shown you the error immidiately.</p>\n\n<p>HTH Georg</p>\n"}], "owner": {"reputation": 23, "user_id": 4674878, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a08106ca2fd2c0b2e3de3366a80ea173?s=128&d=identicon&r=PG&f=1", "display_name": "Amaresh H S", "link": "https://stackoverflow.com/users/4674878/amaresh-h-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1623, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1430145870, "creation_date": 1429505098, "last_edit_date": 1429507629, "question_id": 29739486, "link": "https://stackoverflow.com/questions/29739486/use-javascript-in-perl-cgi", "title": "Use javascript in Perl CGI", "body": "<p>i am trying to run javascript in a perl CGI file. The code is as follows</p>\n\n<pre><code>#!C:\\wamp\\bin\\perl\\bin\\perl.exe\n\n$html = \"Content-Type: text/html\n\n&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;TITLE&gt;Hello World&lt;/TITLE&gt;\n&lt;SCRIPT TYPE=\"TEXT/JAVASCRIPT\"&gt;\nalert(\"i am here\");\n&lt;/SCRIPT&gt;\n&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;H4&gt;Hello World&lt;/H4&gt;\n&lt;P&gt;\nYour IP Address is $ENV{REMOTE_ADDR}\n&lt;P&gt;\n&lt;H5&gt;Have a nice day&lt;/H5&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\";\n\nprint $html;\n</code></pre>\n\n<p>I am getting an internal server error.</p>\n\n<p>The code with just the html works fine\nPlease let me know what has to be done to include javascript in Perl</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429504396, "post_id": 29739323, "comment_id": 47611832, "body": "Please show the output of <code>print Dumper $hash</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "edited": false, "score": 0, "creation_date": 1429506050, "post_id": 29739458, "comment_id": 47612317, "body": "Thanks Borodin, I&#39;ve updated my question to include the original full hash, the key in this case in the &#39;CVE-2015-0677&#39;. There can be multiple &#39;CVE&#39; entries but I&#39;ve just shown one for simplicity. Please note I simplified the structure in my original question of the &#39;vuln:references&#39; to remove what seemed irrelavent to the question."}, {"owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "edited": false, "score": 0, "creation_date": 1429507297, "post_id": 29739458, "comment_id": 47612697, "body": "ok, so if I use &#39;my $data = $hash-&gt;{key}{&#39;vuln:references&#39;}[0];&#39; it works, but if I use a for loop instead like so &#39;for my $data  ($hash-&gt;{$key}{&#39;vuln:references&#39;})&#39;  it tells me that &#39;$data&#39; is not a hash reference when I try to access it in the same way as you have described above. What is the difference between the two? I&#39;m still stuck with the same original question. Why does my first for loop not appear to change the data at all?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1429510688, "last_edit_date": 1429510688, "creation_date": 1429504861, "answer_id": 29739458, "question_id": 29739323, "link": "https://stackoverflow.com/questions/29739323/how-to-access-hash-in-array-of-hashes-in-perl/29739458#29739458", "title": "How to access Hash in Array of Hashes in Perl", "body": "<p>You don't show the topmost level of the hash. The <code>$VAR1</code> that you show is the value of <code>$hash-&gt;{key}</code>, but I can't tell what <code>key</code> might be.</p>\n\n<p>Anyway, using what I have,</p>\n\n<ul>\n<li><p><code>$hash-&gt;{key}</code> is a reference to a <em>hash</em> with a single element with the key <code>vuln:references</code></p></li>\n<li><p><code>$hash-&gt;{key}{'vuln:references'}</code> is a reference to an <em>array</em> with a single element at index zero</p></li>\n<li><p><code>$hash-&gt;{key}{'vuln:references'}[0]</code> is a reference to another <em>hash</em>, this time with <em>two</em> elements</p></li>\n</ul>\n\n<p>You don't say what you want to do with this data, but it looks like all you need is</p>\n\n<pre><code>my $data = $hash-&gt;{key}{'vuln:references'}[0];\n\nfor my $key (keys %$data) {\n  printf \"%s =&gt; %s\\n\", $key, $data-&gt;{$key};\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>vuln:source =&gt; CISCO\nvuln:reference =&gt; VENDOR\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>You don't say how <code>$key</code> gets defined, but in</p>\n\n<pre><code>for my $data ( $hash-&gt;{$key}{'vuln:references'} ) { ... }\n</code></pre>\n\n<p>you have written a loop that executes <em>once</em> with <code>$data</code> set to the array reference that I described above.</p>\n\n<p>To loop over the whole structure, assuming your outermost hash referred to by <code>$hash</code> and the inner array are the only layers with multiple elements, you could write</p>\n\n<pre><code>for my $cve ( keys %$hash ) {\n  my $refs = $hash-&gt;{$cve}{'vuln:references'};\n  print $cve, \" \\n\";\n  for my $ref ( @$refs ) {\n    printf \"  %s =&gt; %s\\n\", $_, $ref-&gt;{$_} for keys %$ref;\n    print \"\\n\";\n  }\n}\n</code></pre>\n\n<p>Notice the <em>dereferencing</em> of the structures in <code>keys %$hash</code>, <code>@$refs</code> and <code>%$ref</code>. In more recent versions of Perl you can use <code>keys $hash</code> without the dereference, but it is an experimental feature that shouldn't be used in live code, and will produce a warning message if you have <code>use warnings</code> in place as you should (together with <code>use strict</code>) at the top of your program</p>\n\n<p>As for why your code dumps the same values twice, you have</p>\n\n<pre><code>my @references = $hash-&gt;{$key}{'vuln:references'};\n</code></pre>\n\n<p>which sets the array <code>@references</code> to hold <em>one element</em> which is the array reference from the hash at that point. Then</p>\n\n<pre><code>print Dumper(@references);\n</code></pre>\n\n<p>dumps each element of the array, one by one. Because there is only one element it outputs only one dump. Finally</p>\n\n<pre><code>for my $vulnref (@references) {\n  for my $vuln ($vulnref) {\n    print Dumper($vuln);\n  }\n}\n</code></pre>\n\n<p>sets <code>$vulnref</code> to each element of <code>@references</code>. Because there is only one the loop executes once, with <code>$vulnref</code> set to the array reference. Then <code>$vuln</code> is set to each element of the list <code>( $vulnref )</code> so it takes another copy of the same reference. Finally that value is dumped, with the result that the same array reference as before is displayed.</p>\n\n<p>Remember that Perl scalar values start with <code>$</code>; even an element of an array is <code>$array[0]</code>, and it is treated as a <em>single value</em> even if that value is a reference. If you want to access the data it refers to you must <em>dereference</em> it with the appropriate symbol</p>\n"}], "owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2264, "favorite_count": 0, "accepted_answer_id": 29739458, "answer_count": 1, "score": 0, "last_activity_date": 1429510688, "creation_date": 1429503917, "last_edit_date": 1429505446, "question_id": 29739323, "link": "https://stackoverflow.com/questions/29739323/how-to-access-hash-in-array-of-hashes-in-perl", "title": "How to access Hash in Array of Hashes in Perl", "body": "<p>I have what I believe to be a Hash that references an array of hashes. What I am trying to understand is how to access the hash elements within this array of hashes.</p>\n\n<p>EDIT: Here is the full hash structure</p>\n\n<pre><code>$VAR1 = {\n      'CVE-2015-0677' =&gt; {\n                         'vuln:references' =&gt; [\n                                              {\n                                                'attr' =&gt; {\n                                                            'reference_type' =&gt; 'VENDOR_ADVISORY',\n                                                            'xml:lang' =&gt; 'en'\n                                                          },\n                                                'vuln:source' =&gt; 'CISCO',\n                                                'vuln:reference' =&gt; [\n                                                                    {\n                                                                      'attr' =&gt; {\n                                                                                  'href' =&gt; 'http://tools.cisco.com/security/center/content/CiscoSecurityAdvisory/cisco-sa-20150408-asa',\n                                                                                  'xml:lang' =&gt; 'en'\n                                                                                }\n                                                                    }\n                                                                  ]\n                                              }\n                                            ],\n                         'vuln:published-datetime' =&gt; '2015-04-12T21:59:03.033-04:00',\n                         'vuln:last-modified-datetime' =&gt; '2015-04-13T17:45:18.310-04:00',\n                         'vuln:vulnerable-software-list' =&gt; [\n                                                              'cpe:/o:cisco:adaptive_security_appliance_software:9.0.3',\n                                                              'cpe:/o:cisco:adaptive_security_appliance_software:8.4.5',\n                                                            ],\n                         'vuln:summary' =&gt; 'The XML parser in Cisco Adaptive Security Appliance (ASA) Software 8.4 before 8.4(7.28), 8.6 before 8.6(1.17), 9.0 before 9.0(4.33), 9.1 before 9.1(6), 9.2 before 9.2(3.4), and 9.3 before 9.3(3), when Clientless SSL VPN, AnyConnect SSL VPN, or AnyConnect IKEv2 VPN is used, allows remote attackers to cause a denial of service (VPN outage or device reload) via a crafted XML document, aka Bug ID CSCus95290.'\n                       }\n    };\n</code></pre>\n\n<p>If I try the following the output of the first Data::Dumper output is identical to the second.      </p>\n\n<pre><code>for my $key ( keys $hash ) {\n my @references =  $hash-&gt;{$key}{'vuln:references'};\n print Dumper(@references);  #1\n  for my $vulnref (@references) {\n    print Dumper($vulnref); #2\n  }\n}\n\n#1\n$VAR1 = [\n       {\n         'vuln:reference' =&gt; 'VENDOR',\n         'vuln:source' =&gt; 'CISCO',\n        }\n        ];\n\n#2  \n$VAR1 = [\n      {\n        'vuln:reference' =&gt; 'VENDOR',\n        'vuln:source' =&gt; 'CISCO',\n\n      }\n    ];\n</code></pre>\n\n<p>So my for loop doesn't seem to be having any affect?</p>\n\n<p>However if I loop through twice then the second loop </p>\n\n<pre><code>for my $key ( keys $hash ) {\n  my @references =  $hash-&gt;{$key}{'vuln:references'};\n  print Dumper(@references); #1\n  for my $vulnref (@references) {\n    for my $vuln ($vulnref) {\n       print Dumper($vuln);  #2\n    }\n   }\n}\n\n\n#1 \n$VAR1 = [\n       {\n        'vuln:reference' =&gt; 'VENDOR',\n        'vuln:source' =&gt; 'CISCO',\n\n      }\n    ];\n\n#2\n$VAR1 = {\n       'vuln:reference' =&gt; 'VENDOR',\n       'vuln:source' =&gt; 'CISCO', \n    };\n</code></pre>\n\n<p>I now seem to be accessing the hash.</p>\n\n<p>I believe I am missing something fundamental here.</p>\n\n<p>Many thanks.</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 7145, "user_id": 267398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/beea308e4f0cd2781b8b3a362bac5493?s=128&d=identicon&r=PG", "display_name": "sebnukem", "link": "https://stackoverflow.com/users/267398/sebnukem"}, "edited": false, "score": 1, "creation_date": 1429501745, "post_id": 29738314, "comment_id": 47611151, "body": "&quot;But it didn&#39;t work&quot; isn&#39;t very helpful.  What&#39;s the error?"}, {"owner": {"reputation": 17600, "user_id": 793796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mk3lA.jpg?s=128&g=1", "display_name": "anishsane", "link": "https://stackoverflow.com/users/793796/anishsane"}, "edited": false, "score": 0, "creation_date": 1429502388, "post_id": 29738314, "comment_id": 47611315, "body": "Try <code>perl &#47;var&#47;scripts&#47;compare.pl ${1}_textgrid.mlf ${1}_vtt.mlf </code>"}], "answers": [{"tags": [], "owner": {"reputation": 213, "user_id": 4465075, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/31b8e2df04aa1233290eee6010a5d4f7?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/4465075/nikolaus"}, "is_accepted": false, "score": -1, "last_activity_date": 1429523658, "creation_date": 1429523658, "answer_id": 29744593, "question_id": 29738314, "link": "https://stackoverflow.com/questions/29738314/run-perl-script-in-bash/29744593#29744593", "title": "Run PERL script in BASH", "body": "<p>I made new script in BASG to run this \"comparing\":</p>\n\n<pre><code>#!/bin/bash\nmid=$1\nreff=\"/home/var/www/vids/$mid/${mid}_textgrid.mlf\"\nhyp=\"/home/var/www/vids/$mid/${mid}_vtt.mlf\"\nout=\"/home/var/www/vids/$mid/${mid}_wer.txt\"\n\nperl /var/scripts/mlf_compare.pl $reff $hyp &gt;&gt; $out\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 4465075, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/31b8e2df04aa1233290eee6010a5d4f7?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/4465075/nikolaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1074, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1429523658, "creation_date": 1429496102, "question_id": 29738314, "link": "https://stackoverflow.com/questions/29738314/run-perl-script-in-bash", "title": "Run PERL script in BASH", "body": "<p>I use 2 BASH scripts which convert text to file with <code>.mlf</code> extension.</p>\n\n<p><strong>Definition of output in 1. script:</strong></p>\n\n<pre><code>outfile=\"${mid}_textgrid.mlf\"\n</code></pre>\n\n<p>i.e: 1_textgrid.mlf</p>\n\n<p>Script is runned by: </p>\n\n<pre><code>bash /var/scripts/textgrid-to-mlf-refference.sh $1\n</code></pre>\n\n<p><strong>Definition of output in 2. script:</strong> </p>\n\n<pre><code>outfile=\"${mid}_vtt.mlf\"\n</code></pre>\n\n<p>i.e: 1_vtt.mlf</p>\n\n<p>Script is runned by: </p>\n\n<pre><code>bash /var/scripts/vtt-to-mlf-hypothesis.sh $1\n</code></pre>\n\n<p><code>mid</code>(multimedia identifier) is defined in another script that creates these files. These files are used to compare  using <code>compare.pl</code> script(written in PERL). I can run this script using terminal: i.e: <code>./compare.pl 1_textgrid.mlf 1_vtt.mlf</code></p>\n\n<p>Problem is that I want to run this script automatically with BASH script. I tried it in script using: <code>perl /var/scripts/compare.pl $1_textgrid.mlf $1_vtt.mlf</code> But it didn't work. Can you give me an example how to run it correctly in this script?</p>\n"}, {"tags": ["c++", "regex", "perl", "optimization", "boost"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1429492022, "post_id": 29737498, "comment_id": 47608720, "body": "You could try <a href=\"http://www.pcre.org/\" rel=\"nofollow noreferrer\">PCRE</a>  a perl compatable regex engine with a <code>C++</code> API."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1429492213, "post_id": 29737498, "comment_id": 47608765, "body": "Also <a href=\"https://github.com/google/re2\" rel=\"nofollow noreferrer\">re2</a> is supposed to be fast at the expense of fewer features."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1429503173, "post_id": 29737498, "comment_id": 47611517, "body": "Your Perl version could be re-written to be an order of magnitude faster.  There is a Perl approach that would completely eliminate the nesting of loops, and that would play to Perl&#39;s strengths.  While I understand the utility of improving performance through using a language that is closer to the metal, one shouldn&#39;t neglect the fact that choice of algorithm is often even more important than choice of language."}, {"owner": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1429503467, "post_id": 29737498, "comment_id": 47611597, "body": "@DavidO - that sounds interesting - how would it be done?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1429503885, "post_id": 29737498, "comment_id": 47611714, "body": "@JonathanBasile : I&#39;ll put something up for you to look at in a few minutes."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1429504707, "post_id": 29737498, "comment_id": 47611917, "body": "@JonathanBasile <a href=\"https://gist.github.com/daoswald/500266d0f23eddf23dc8\" rel=\"nofollow noreferrer\">gist.github.com/daoswald/500266d0f23eddf23dc8</a>  (untested).  This plays to the fact that Perl uses Trie optimization for plain-word alternation.  It also means that you no longer have a set of nested loops; just the single <code>while</code> loop."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1429504842, "post_id": 29737498, "comment_id": 47611954, "body": "The reason that the original Perl version didn&#39;t perform poorly is that Perl implements Boyer-Moore searching for plain text within a string.  Nevertheless, you are currently passing through your target string potentially 270000 times, whereas my solution passes through the target string one time."}, {"owner": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "edited": false, "score": 0, "creation_date": 1429539433, "post_id": 29737498, "comment_id": 47632961, "body": "Some of the C++ responses took a similar approach - but there&#39;s no way to match overlapping words with a regex like this, which is one of the things I want my program to be able to do"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1429541263, "post_id": 29737498, "comment_id": 47634317, "body": "In that case I suggest implementing a trie structure with your dictionary.  With such a structure you will be able to walk the target string character by character and generate a list of matches very quickly.  A trie would preserve the goal of avoiding walking the entire word list for every letter in your target string, or the target string for every word in word list.  Spell checkers are a good example of trie structures in use; imagine if every letter you typed required the spell checker to iterate through all 270k words in your computer&#39;s dictionary.  Clearly this doesn&#39;t happen."}], "answers": [{"comments": [{"owner": {"reputation": 326109, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1429496049, "post_id": 29738283, "comment_id": 47609724, "body": "In general you can expect arrays to be faster (because of locality). Perhaps you were hinting at a trie (under <code>1)</code>)?"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "reply_to_user": {"reputation": 326109, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1429496187, "post_id": 29738283, "comment_id": 47609762, "body": "When the lookup set crosses some threshold, I would expect any gains from locality to be insufficient to make up for being bogged down with O(n) search complexity from an array, versus logarithmic complexity one would get from a std::set-based approach."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "reply_to_user": {"reputation": 326109, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1429496302, "post_id": 29738283, "comment_id": 47609795, "body": "Note that a std::vector&lt;std::string&gt; may not necessarily gain much from a vector&#39;s locality. The vector itself may be located in one, single clump, but the string data, from each string, itself would likely be scattered throughout the heap, and that&#39;s what you end up searching."}, {"owner": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "edited": false, "score": 0, "creation_date": 1429496525, "post_id": 29738283, "comment_id": 47609850, "body": "It wouldn&#39;t be possible to read the text being searched one &quot;word&quot; at a time because I am matching words in strings of random letters not separated by whitespace or anything else."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1429496687, "post_id": 29738283, "comment_id": 47609905, "body": "In that case, use std::search(). Or, take the list of words from wordthree, and turn it into one huge /real/ regular expression: (word1|word2|word3...), using the words from the word file."}, {"owner": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "reply_to_user": {"reputation": 326109, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1429503544, "post_id": 29738283, "comment_id": 47611616, "body": "I&#39;ll try std::search - unfortunately, as @Sehe mentioned above a regex like that wouldn&#39;t be able to match overlapping elements."}], "tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": false, "score": 0, "last_activity_date": 1429495960, "creation_date": 1429495960, "answer_id": 29738283, "question_id": 29737498, "link": "https://stackoverflow.com/questions/29737498/perl-regex-faster-than-c-boost/29738283#29738283", "title": "perl regex faster than c++/boost", "body": "<p>It looks to me like Perl is smart enough to figure out that you're abusing regular expressions to do an ordinary linear search, a straightforward lookup. You are looking up straight text, and none of your search patterns appear to be, well, a pattern. Based on your description, all your search patterns look like ordinary strings, so Perl is likely optimizing it down to a linear string search.</p>\n\n<p>I am not familiar with Boost's internal implementation of regular expression matching, but it's likely that it's compiling each search string into a state machine, and then executing the state machine for each search. That's the usual approach used with generic regular expression implementations. And that's a lot of work. A lot of completely needless work, in this specific case.</p>\n\n<p>What you should do is as follows:</p>\n\n<p>1) You are reading <code>wordthree.txt</code> into an array of strings. Instead of doing it, read it into a <code>std::set&lt;std::string&gt;</code> instead.</p>\n\n<p>2) You are reading the entire text to search into a single <code>book</code> container. It's not clear, based on your code, whether <code>book</code> is a single <code>std::string</code>, or a <code>std::vector&lt;char&gt;</code>. But whatever the case, don't do that. Read the text to search iteratively, one word at a time. For each word, look it up in the <code>std::set</code>, and go from there.</p>\n\n<p>This is, after all, what you're trying to do directly, and you should do that instead of taking a grand detour through the wonders of regular expressions, which accomplishes very little other than wasting a lot of time.</p>\n\n<p>If you implement this correctly, you'll likely see C++ being just as fast, if not faster, than Perl.</p>\n\n<p>I could also think of several other, more aggresively optimized approaches which also leverage <code>std::set</code>, but with custom classes and comparators, that seek to avoid all the heap allocations inherent with using a bunch of <code>std::string</code>, but it probably won't be necessary. A basic approach using a <code>std::set</code>-based lookup should be fast enough.</p>\n"}, {"comments": [{"owner": {"reputation": 326109, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1429497458, "post_id": 29738284, "comment_id": 47610111, "body": "With a 20000 line wordlist, the first c++ version runs in 7.573s, the second c++ version runs in 5.465s <i>(but it doesn&#39;t mark overlapping matches!)</i>, where the perl version runs in 8m27s. [Note my wordlist and book are identical and probably very different from your use-case, @JonathanBasile]"}, {"owner": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "edited": false, "score": 0, "creation_date": 1429499891, "post_id": 29738284, "comment_id": 47610683, "body": "when you were testing the perl code, was the text you were searching broken by new lines, or did you search it one line at a time as you input it from a file? I find that perl produces vastly different results if you search a pre-chomped block of text all at once"}, {"owner": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "edited": false, "score": 0, "creation_date": 1429501890, "post_id": 29738284, "comment_id": 47611196, "body": "Thank you for this detailed response, @Sehe - I was able to get the second working, but I&#39;d definitely like to be able to keep matching overlapping words - unfortunately the first program you&#39;ve written here gives me a segmentation fault when I try to run it - I can see that the fault is occurring inside the loop, but this code is much too new for me to figure out how to debug it. do you have any ideas of what might be causing the overflow?"}, {"owner": {"reputation": 326109, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "edited": false, "score": 0, "creation_date": 1429512461, "post_id": 29738284, "comment_id": 47614975, "body": "@JonathanBasile Oops that&#39;s probably because I didn&#39;t guarantee the lifetime of the first memory map long enough. <a href=\"http://stackoverflow.com/posts/29738284/revisions\">Fixed it</a>"}, {"owner": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "edited": false, "score": 0, "creation_date": 1429540091, "post_id": 29738284, "comment_id": 47633418, "body": "Thank you! This is excellent - the first version brought the time down from 12 seconds to two. I&#39;m going to try out a couple of the other suggestions, but I&#39;ll probably end up accepting this answer."}, {"owner": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "edited": false, "score": 0, "creation_date": 1429595260, "post_id": 29738284, "comment_id": 47659391, "body": "I ended up rewriting the program as a trie as @DavidO suggested - and incorporating the boost elements you used here. its under a second now. Thanks to everyone for their help"}], "tags": [], "owner": {"reputation": 326109, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 1, "last_activity_date": 1429512386, "last_edit_date": 1429512386, "creation_date": 1429495967, "answer_id": 29738284, "question_id": 29737498, "link": "https://stackoverflow.com/questions/29737498/perl-regex-faster-than-c-boost/29738284#29738284", "title": "perl regex faster than c++/boost", "body": "<p>Firstly I'd cut down on the number of allocations:</p>\n\n<ul>\n<li>use <code>string_ref</code> instead of <code>std::string</code> where possible</li>\n<li>use mapped files instead of reading it all in memory ahead of time</li>\n<li>use <code>const char*</code> instead <code>std::string::const_iterator</code> to navigate the book</li>\n</ul>\n\n<p>Here is a sample that uses Boost Spirit Qi to parse the wordlist (I don't have yours, so I assume line-separated words).</p>\n\n<pre><code>std::vector&lt;sref&gt; wordlist;\nio::mapped_file_source mapped(\"/etc/dictionaries-common/words\");\nqi::parse(mapped.begin(), mapped.end(), qi::raw[+(qi::char_ - qi::eol)] % qi::eol, wordlist);\n</code></pre>\n\n<p>In full <strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/9786110034a3c917\" rel=\"nofollow\">Live On Coliru</a></kbd></strong>\u00b9</p>\n\n<pre><code>#include &lt;boost/regex.hpp&gt;\n#include &lt;boost/utility/string_ref.hpp&gt;\n#include &lt;boost/spirit/include/qi.hpp&gt;\n#include &lt;boost/iostreams/device/mapped_file.hpp&gt;\n\nnamespace qi = boost::spirit::qi;\nnamespace io = boost::iostreams;\nusing sref   = boost::string_ref;\nusing regex  = boost::regex;\n\nnamespace boost { namespace spirit { namespace traits {\n    template &lt;typename It&gt;\n    struct assign_to_attribute_from_iterators&lt;sref, It, void&gt; {\n        static void call(It f, It l, sref&amp; attr) { attr = { f, size_t(std::distance(f,l)) }; }\n    };\n} } }\n\ntypedef std::map&lt;std::string::difference_type, sref&gt; hitmap;\nhitmap hits;\n\nvoid regres(const boost::match_results&lt;const char*&gt;&amp; what) {\n    hits[what.position()] = sref(what[0].first, what[0].length());\n}\n\nint main() {\n    std::vector&lt;sref&gt; wordlist;\n    io::mapped_file_source mapped(\"/etc/dictionaries-common/words\");\n    qi::parse(mapped.begin(), mapped.end(), qi::raw[+(qi::char_ - qi::eol)] % qi::eol, wordlist);\n\n    std::cout &lt;&lt; \"Wordlist contains \" &lt;&lt; wordlist.size() &lt;&lt; \" entries\\n\";\n\n    io::mapped_file_source book(\"/etc/dictionaries-common/words\");\n\n    for (auto const&amp; s: wordlist) {\n        regex word(s.to_string());\n        boost::cregex_iterator lex(book.begin(), book.end(), word), end;\n        std::for_each(lex, end, &amp;regres);\n    }\n}\n</code></pre>\n\n<h2>Next step</h2>\n\n<p>This still creates a regex each iteration. I have a suspicion it will be a <strong>lot</strong> more efficient if you combine it all into a single pattern. You'll spend more memory/CPU creating the regex, but you'll reduce the power of the loop by the number of entries in the word list.</p>\n\n<p>Because the regex library might not have been designed for this scale, you could have better results with a custom search and a trie implementation.</p>\n\n<p>Here's a simple attempt (that is indeed much faster for my <code>/etc/dictionaries-common/words</code> file of 99171 lines):</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/56beec4878c5d54f\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/regex.hpp&gt;\n#include &lt;boost/utility/string_ref.hpp&gt;\n#include &lt;boost/iostreams/device/mapped_file.hpp&gt;\n\nnamespace io = boost::iostreams;\nusing sref   = boost::string_ref;\nusing regex  = boost::regex;\n\ntypedef std::map&lt;std::string::difference_type, sref&gt; hitmap;\nhitmap hits;\n\nvoid regres(const boost::match_results&lt;const char*&gt;&amp; what) {\n    hits[what.position()] = sref(what[0].first, what[0].length());\n}\n\nint main() {\n    io::mapped_file_params params(\"/etc/dictionaries-common/words\");\n    params.flags = io::mapped_file::mapmode::priv;\n    io::mapped_file mapped(params);\n    std::replace(mapped.data(), mapped.end(), '\\n', '|');\n\n    regex const wordlist(mapped.begin(), mapped.end() - 1);\n\n    io::mapped_file_source book(\"/etc/dictionaries-common/words\");\n\n    boost::cregex_iterator lex(book.begin(), book.end(), wordlist), end;\n    std::for_each(lex, end, &amp;regres);\n}\n</code></pre>\n\n<p>\u00b9 of course coliru doesn't have a suitable wordlist</p>\n"}], "owner": {"reputation": 559, "user_id": 4296471, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YMVKU.jpg?s=128&g=1", "display_name": "Jonathan Basile", "link": "https://stackoverflow.com/users/4296471/jonathan-basile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 29738284, "answer_count": 2, "score": 0, "last_activity_date": 1429512386, "creation_date": 1429489465, "question_id": 29737498, "link": "https://stackoverflow.com/questions/29737498/perl-regex-faster-than-c-boost", "title": "perl regex faster than c++/boost", "body": "<p>I wrote a CGI script for my website which reads through blocks of text and matches all occurrences of English words. I've been making some fundamental changes to the site's code recently which have necessitated rewriting most of it in C++. As I'd hoped, almost everything has become much faster in C++ than perl, with the exception of this function. </p>\n\n<p>I know that regexes are a relatively recent addition to C++ and not necessarily its strongest suit. It may simply be the case that it is slower than perl in this instance. But I wanted to share my code in the hopes that someone might be able to find a way of speeding up what I am doing in C++.</p>\n\n<p>Here is the perl code:</p>\n\n<pre><code>open(WORD, \"&lt;/file/path/wordthree.txt\") || die \"opening\";\n\nwhile(&lt;WORD&gt;) {\nchomp;\npush @wordlist,$_;\n}\nclose (WORD) || die \"closing\";\n\nforeach (@wordlist) {\n   while ($bloc =~ m/$_/g) {\n      $location = pos($bloc) - length($_);\n      $match=$location.\";\".pos($bloc).\";\".$_;\n      push(@hits,$match);\n   }\n}\n</code></pre>\n\n<p>wordthree.txt is a list of ~270,000 English words separated by new lines, and $bloc is 3200 characters of text. Perl performs these searches in about one second. You can see it in play here if you like: <a href=\"http://libraryofbabel.info/anglishize.cgi?05y-w1-s3-v20:1\" rel=\"nofollow\">http://libraryofbabel.info/anglishize.cgi?05y-w1-s3-v20:1</a></p>\n\n<p>With C++ I have tried the following:</p>\n\n<pre><code>typedef std::map&lt;std::string::difference_type, std::string&gt; hitmap;\nhitmap hits;\n\nvoid regres(const boost::match_results&lt;std::string::const_iterator&gt;&amp; what) {\nhits[what.position()]=what[0].str();\n}\n\nwords.open (\"/file/path/wordthree.txt\");\nstd::string wordlist[274784];\nunsigned i = 0;\nwhile (words &gt;&gt; wordlist[i]) {i++;}\nwords.close();\n\nfor (unsigned i=0;i&lt;274783;i++) {\n    boost::regex word(wordlist[i]);\n    boost::sregex_iterator lex(book.begin(),book.end(), word);\n    boost::sregex_iterator end;\n    std::for_each(lex, end, &amp;regres);\n}\n</code></pre>\n\n<p>The C++ version takes about 12 seconds to read the same amount of text the same number of times. Any advice on how to make it competitive with the perl script is greatly appreciated.</p>\n"}, {"tags": ["linux", "bash", "perl", "awk", "grep"], "answers": [{"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1429489616, "post_id": 29737243, "comment_id": 47608174, "body": "FYI There;s nothing gawk-specific in those solutions."}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 0, "last_activity_date": 1429487245, "creation_date": 1429487245, "answer_id": 29737243, "question_id": 29737155, "link": "https://stackoverflow.com/questions/29737155/how-to-separate-a-field-ussing-awk-by-letter-or-end-character/29737243#29737243", "title": "How to separate a field ussing awk by letter or end character", "body": "<p>With GNU awk:</p>\n\n<pre><code>$ awk -F, '{gsub(/PUC/, \",\"); for (i=3;i&lt;=NF;i++)print $1\",PUC\"$i}' file.db\nID25333,PUC-AP_MEX_UFM-GOL_44\nID25333,PUC-AP_VEX_UFM-ROL_55\nID25333,PUCAP_MEX_UFM-DOJ_49\nID55555,PUC-AP_PPP_UFM-HOL_44\nID55555,PUC-AF_GEX_UJM-SOL_45\nID55555,PUCAP_MEX_UFM-DOJ_59\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>$ awk -F'(,|PUC)' '{for (i=3;i&lt;=NF;i++)print $1\",PUC\"$i}' file.db\nID25333,PUC-AP_MEX_UFM-GOL_44\nID25333,PUC-AP_VEX_UFM-ROL_55\nID25333,PUCAP_MEX_UFM-DOJ_49\nID55555,PUC-AP_PPP_UFM-HOL_44\nID55555,PUC-AF_GEX_UJM-SOL_45\nID55555,PUCAP_MEX_UFM-DOJ_59\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 4524800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ35U.jpg?s=128&g=1", "display_name": "Costas", "link": "https://stackoverflow.com/users/4524800/costas"}, "is_accepted": false, "score": 0, "last_activity_date": 1429487303, "creation_date": 1429487303, "answer_id": 29737250, "question_id": 29737155, "link": "https://stackoverflow.com/questions/29737155/how-to-separate-a-field-ussing-awk-by-letter-or-end-character/29737250#29737250", "title": "How to separate a field ussing awk by letter or end character", "body": "<p>If you like <code>awk</code></p>\n\n<pre><code>awk -F, ' -v OFS=','\n{\n  id=$1\n  split($2,line,\"PUC\")\n  for(i=2;i&lt;=length(line);i++)\n    print id,\"PUC\" line[i]\n}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1429489987, "creation_date": 1429489987, "answer_id": 29737580, "question_id": 29737155, "link": "https://stackoverflow.com/questions/29737155/how-to-separate-a-field-ussing-awk-by-letter-or-end-character/29737580#29737580", "title": "How to separate a field ussing awk by letter or end character", "body": "<p>With GNU awk for fixed width fields:</p>\n\n<pre><code>$ awk -v FIELDWIDTHS=\"8 15 21 21 21\" '{for (i=3;i&lt;=NF;i++) print $1 $i}' file\nID25333,PUC-AP_MEX_UFM-GOL_44\nID25333,PUC-AP_VEX_UFM-ROL_55\nID25333,PUCAP_MEX_UFM-DOJ_49\nID55555,PUC-AP_PPP_UFM-HOL_44\nID55555,PUC-AF_GEX_UJM-SOL_45\nID55555,PUCAP_MEX_UFM-DOJ_59\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4808273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58fe8b5519c2fd23e7320044646d9a0?s=128&d=identicon&r=PG&f=1", "display_name": "Robinson", "link": "https://stackoverflow.com/users/4808273/robinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 29737243, "answer_count": 3, "score": -2, "last_activity_date": 1429489987, "creation_date": 1429486476, "question_id": 29737155, "link": "https://stackoverflow.com/questions/29737155/how-to-separate-a-field-ussing-awk-by-letter-or-end-character", "title": "How to separate a field ussing awk by letter or end character", "body": "<p>i have a 2 fields in my DB</p>\n\n<pre><code>ID25333,1429291340lNormPUC-AP_MEX_UFM-GOL_44PUC-AP_VEX_UFM-ROL_55PUCAP_MEX_UFM-DOJ_49\nID55555,1429291340lNormPUC-AP_PPP_UFM-HOL_44PUC-AF_GEX_UJM-SOL_45PUCAP_MEX_UFM-DOJ_59\n</code></pre>\n\n<p>and i need separate like this</p>\n\n<pre><code>ID25333,PUC-AP_MEX_UFM-GOL_44     \nID25333,PUC-AP_VEX_UFM-ROL_55\nID25333,PUCAP_MEX_UFM-DOJ_49\nID55555,PUC-AP_PPP_UFM-HOL_44\nID55555,PUC-AF_GEX_UJM-SOL_45\nID55555,PUCAP_MEX_UFM-DOJ_59\n</code></pre>\n\n<p>with the same numbre ID</p>\n\n<p>i using the AWK  or grep </p>\n\n<pre><code>awk 'BEGIN{FS=\"PUC\"}{for(i=1;i&lt;=NF;i++)print $(i)}'\n</code></pre>\n\n<p>any suggestions</p>\n\n<p>thanks!</p>\n"}, {"tags": ["perl", "shell", "security", "ssh", "directory-traversal"], "answers": [{"comments": [{"owner": {"reputation": 1886, "user_id": 4621186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd25d700135ccfcc35acde85334a6527?s=128&d=identicon&r=PG&f=1", "display_name": "c0xc", "link": "https://stackoverflow.com/users/4621186/c0xc"}, "edited": false, "score": 1, "creation_date": 1431803973, "post_id": 29742784, "comment_id": 48657766, "body": "Thanks - I did not expect to get an answer from the developer of the module I&#39;m using, that&#39;s great! Net::SFTP::Foreign works really well, especially the append option. It takes care of all the escaping/quoting nicely. Btw., for some reason, put_content() complains when the append option is provided, but since it&#39;s just a wrapper around put(), using put() directly works (not sure why)."}], "tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": true, "score": 0, "last_activity_date": 1429518696, "creation_date": 1429518696, "answer_id": 29742784, "question_id": 29737082, "link": "https://stackoverflow.com/questions/29737082/how-to-safely-write-to-a-remote-file-using-netopenssh/29742784#29742784", "title": "How to safely write to a remote file using Net::OpenSSH", "body": "<p>The mayor potential security issue with sending things through an SSH connection is that the remote shell is unavoidable. In other words, every time you ask SSH to execute a command, instead of just <code>fork+exec</code>'ing the given command (<code>@CMD</code>), it actually calls a shell (<code>$LOGIN_SHELL -c $CMD</code>), so command arguments must be properly quoted.</p>\n\n<p>You are are already doing the quoting yourself, and the code seems correct to me. But anyway, you can let Net::OpenSSH do that for you and have something less to worry about:</p>\n\n<pre><code>my $safe_path = $ssh-&gt;shell_quote($path);\n$ssh-&gt;system(\"cat &gt;&gt;$safe_path\");\n</code></pre>\n\n<p>Finally, actually, there is a way to avoid the shell: using SFTP.</p>\n\n<p>Net::OpenSSH integrates with Net::SFTP::Foreign, which you can use to access the remote file system in an easy manner.</p>\n"}], "owner": {"reputation": 1886, "user_id": 4621186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd25d700135ccfcc35acde85334a6527?s=128&d=identicon&r=PG&f=1", "display_name": "c0xc", "link": "https://stackoverflow.com/users/4621186/c0xc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 1, "accepted_answer_id": 29742784, "answer_count": 1, "score": 2, "last_activity_date": 1429518696, "creation_date": 1429485888, "question_id": 29737082, "link": "https://stackoverflow.com/questions/29737082/how-to-safely-write-to-a-remote-file-using-netopenssh", "title": "How to safely write to a remote file using Net::OpenSSH", "body": "<p>Suppose an application server receives a binary blob from a client and writes that to a file on a remote host.</p>\n\n<pre><code>client -(HTTP)&gt; application server -(SSH)&gt; remote data host\n</code></pre>\n\n<p>Given that the file name is user input coming from the client, what has to be done on the (app) server to protect against attacks (directory traversal attacks)?</p>\n\n<p>The user account used to connect to the remote host has a home directory <code>/home/datauser</code> and should not access anything outside of its home.</p>\n\n<p>This is the code:</p>\n\n<pre><code># User input\nmy $name = ...; # bob's car.jpg\nmy $dir = ...; # pics/vacation \"country\"/\n\n# Slashes are illegal\ndie \"Illegal dir\" if ($dir =~ /\\.\\.\\//); # ../ is an attack\ndie \"Illegal name\" if ($name =~ /\\//); # / in file name is an attack\n\n# Escape single quotes\nmy $safe_path = $dir.$name;\n$safe_path =~ s/'/'\\\\''/g;\n\n# my $ssh = Net::OpenSSH-&gt;new(...);\nmy $root_dir = '/home/datauseruser';\nmy $cmd =\n    \"cd '$root_dir' &amp;&amp; \".\n    \"cat &gt;&gt;'$safe_path'\";\n$ssh-&gt;system({stdin_data =&gt; $bytes}, $cmd);\n</code></pre>\n\n<p>Is this a good approach? Are there more vulnerabilities?</p>\n\n<p>Note: Random access is required, so scp cannot be used.</p>\n"}, {"tags": ["perl", "hexchat"], "answers": [{"tags": [], "owner": {"reputation": 1943, "user_id": 1391824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20b30c131f358c299e7b5c89870c3761?s=128&d=identicon&r=PG", "display_name": "TingPing", "link": "https://stackoverflow.com/users/1391824/tingping"}, "is_accepted": true, "score": 1, "last_activity_date": 1429561996, "creation_date": 1429561996, "answer_id": 29757849, "question_id": 29736928, "link": "https://stackoverflow.com/questions/29736928/hexchat-perl-get-network-context-instead-of-channel-context/29757849#29757849", "title": "HexChat Perl get network context instead of channel context", "body": "<p>Translate this snippet from <a href=\"https://github.com/TingPing/plugins/blob/master/HexChat/twitch.py\" rel=\"nofollow\">one of my scripts</a> to perl basically:</p>\n\n<pre><code>for chan in hexchat.get_list('channels'):\n    if chan.type == 1 and chan.id == hexchat.get_prefs('id'):\n        SERVER_CONTEXT = chan.context\n</code></pre>\n\n<p>find_context() goes off of strings which not very smart since they are not unique. Going of the unique id of the network is always correct and using the context type always gets the server tab (though note users can disable that).</p>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 101277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96d9867bacb6d57cf7b0e5d6901b2006?s=128&d=identicon&r=PG", "display_name": "rjschnorenberg", "link": "https://stackoverflow.com/users/101277/rjschnorenberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1429722473, "creation_date": 1429722473, "answer_id": 29804442, "question_id": 29736928, "link": "https://stackoverflow.com/questions/29736928/hexchat-perl-get-network-context-instead-of-channel-context/29804442#29804442", "title": "HexChat Perl get network context instead of channel context", "body": "<p>Here is the perl I ended up using:</p>\n\n<pre><code>sub get_server_context() {\n    foreach my $chan (HexChat::get_list(\"channels\")) {\n        if ($chan-&gt;{\"type\"} == 1 &amp;&amp; $chan-&gt;{\"id\"} == HexChat::get_prefs(\"id\")) {\n            return $chan-&gt;{\"context\"};\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 436, "user_id": 101277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96d9867bacb6d57cf7b0e5d6901b2006?s=128&d=identicon&r=PG", "display_name": "rjschnorenberg", "link": "https://stackoverflow.com/users/101277/rjschnorenberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 29757849, "answer_count": 2, "score": 1, "last_activity_date": 1429722473, "creation_date": 1429484772, "question_id": 29736928, "link": "https://stackoverflow.com/questions/29736928/hexchat-perl-get-network-context-instead-of-channel-context", "title": "HexChat Perl get network context instead of channel context", "body": "<p>I have the following code in a channel message hook to get the server context and print to the server window:</p>\n\n<pre><code>my $network = HexChat::get_info('network');\nmy $networkContext = HexChat::find_context(undef, $network);\nHexChat::set_context($networkContext);\nHexChat::print('test');\n</code></pre>\n\n<p>It works if I already have the server window open, or a channel on a different server, but if the current window is a channel on the server I request the context for I get the context of the current channel instead of the server. Is there any way to force find_context to always get the server context so 'test' is printed in the server window instead of the current channel's window</p>\n"}, {"tags": ["perl", "sqlite", "dbix-class"], "answers": [{"comments": [{"owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "edited": false, "score": 0, "creation_date": 1429484230, "post_id": 29736533, "comment_id": 47606911, "body": "Thanks for the answer -- I&#39;ll try that tomorrow."}], "tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": true, "score": 1, "last_activity_date": 1429481706, "creation_date": 1429481706, "answer_id": 29736533, "question_id": 29736444, "link": "https://stackoverflow.com/questions/29736444/dbixclass-has-one-might-have-relationship/29736533#29736533", "title": "DBIx::Class has_one &lt;-&gt; might_have relationship", "body": "<p>Wrong relationship definitions. Use this:</p>\n\n<pre><code># InvoiceLine.pm\n__PACKAGE__-&gt;might_have(\n    \"txn\",\n    \"Test::DB::Schema::Result::Transaction\",\n    \"invoice_line_id\",\n);\n\n# Transaction.pm\n__PACKAGE__-&gt;belongs_to(\n    \"invoice_line\",\n    \"Test::DB::Schema::Result::InvoiceLine\",\n    \"invoice_line_id\",\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "edited": false, "score": 0, "creation_date": 1429729291, "post_id": 29756440, "comment_id": 47741092, "body": "To summarise what this has taught me: has_many, has_one, and might_have relationship (nearly) always apply in the parent-&gt;child direction; belongs_to applies in the other direction."}], "tags": [], "owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "is_accepted": false, "score": 0, "last_activity_date": 1429557234, "creation_date": 1429557234, "answer_id": 29756440, "question_id": 29736444, "link": "https://stackoverflow.com/questions/29736444/dbixclass-has-one-might-have-relationship/29756440#29756440", "title": "DBIx::Class has_one &lt;-&gt; might_have relationship", "body": "<p>Thanks to Denis Ibaev's answer, I've reworked the problem, and found a good solution.</p>\n\n<p>In fact, I need the invoice line to have a <em>has_one</em> relationship rather than <em>might_have</em>, but that's only a slight change.  </p>\n\n<p>Changing the transaction's side of the relationship from <em>might_have</em> to <em>belongs_to</em> was the important bit.</p>\n\n<p>I also had to manually enter the txn_id in the invoice line.</p>\n\n<p>Here's my new code:</p>\n\n<p>InvoiceLine.pm:</p>\n\n<pre><code>package Test::DB::Schema::Result::InvoiceLine;\nuse strict;\nuse warnings;\nuse base 'DBIx::Class::Core';\n__PACKAGE__-&gt;table(\"invoice_lines\");\n__PACKAGE__-&gt;add_columns(\n    \"id\",\n    { data_type =&gt; \"integer\", is_auto_increment =&gt; 1, is_nullable =&gt; 0 },\n    \"txn_id\",\n    { data_type =&gt; \"integer\", is_foreign_key =&gt; 1, is_nullable =&gt; 1 }, # because , is_deferrable =&gt; 1 }, doesn't work with SQLite\n    'details',\n    { data_type =&gt; 'text', is_nullable =&gt; 0 },\n);\n__PACKAGE__-&gt;set_primary_key(\"id\");\n# Invoice line has an associated transaction\n__PACKAGE__-&gt;has_one(\n    \"txn\",\n    \"Test::DB::Schema::Result::Transaction\",\n    'invoice_line_id',\n);\n1;\n</code></pre>\n\n<p>Transaction.pm:</p>\n\n<pre><code>package Test::DB::Schema::Result::Transaction;\nuse strict;\nuse warnings;\nuse base 'DBIx::Class::Core';\n__PACKAGE__-&gt;table(\"transactions\");\n__PACKAGE__-&gt;add_columns(\n    \"id\",\n    { data_type =&gt; \"integer\", is_auto_increment =&gt; 1, is_nullable =&gt; 0 },\n    'description',\n    { data_type =&gt; 'text', is_nullable =&gt; 0 },\n    # Invoice line \n    # Null if no associated invoice\n    'invoice_line_id',\n    {data_type =&gt; 'integer', is_nullable =&gt; 1 }, \n);\n__PACKAGE__-&gt;set_primary_key(\"id\");\n__PACKAGE__-&gt;belongs_to(\n    \"invoice_line\",\n    \"Test::DB::Schema::Result::InvoiceLine\",\n    'invoice_line_id', # our_fk_column\n);\n1;\n</code></pre>\n\n<p>Test.pl:</p>\n\n<pre><code>my $schema = Test::DB::Schema-&gt;connect(\n    \"dbi:SQLite:dbname=dbic_test.db\", '', '', {}\n);\n$schema-&gt;deploy({ add_drop_table =&gt; 1 } , '.');\n$schema-&gt;storage-&gt;debug(1);\nmy $data1 = {\n    details =&gt; 'abc',\n    txn =&gt; {\n        description =&gt; 'xyz',\n    }\n};\n$schema-&gt;txn_do(sub {\n    my $new1 = $schema-&gt;resultset('InvoiceLine')-&gt;create($data1);\n    # add the reverse link\n    $new1-&gt;txn_id($new1-&gt;txn-&gt;id);\n    $new1-&gt;update;\n}); # end of txn_do\n# Add another one with the same data to make sure\n# they end up as separate rows\n$schema-&gt;txn_do(sub {\n    my $new2 = $schema-&gt;resultset('InvoiceLine')-&gt;create($data1);\n    $new2-&gt;txn_id($new2-&gt;txn-&gt;id);\n    $new2-&gt;update;\n}); # end of txn_do\n</code></pre>\n\n<p>Running Test.pl generates and runs this SQL:</p>\n\n<pre><code>BEGIN WORK\nINSERT INTO invoice_lines ( details) VALUES ( ? ): 'abc'\nINSERT INTO transactions ( description, invoice_line_id) VALUES ( ?, ? ): 'xyz', '1'\nUPDATE invoice_lines SET txn_id = ? WHERE ( id = ? ): '1', '1'\nCOMMIT\nBEGIN WORK\nINSERT INTO invoice_lines ( details) VALUES ( ? ): 'abc'\nINSERT INTO transactions ( description, invoice_line_id) VALUES ( ?, ? ): 'xyz', '2'\nUPDATE invoice_lines SET txn_id = ? WHERE ( id = ? ): '2', '2'\nCOMMIT\n</code></pre>\n\n<p>And now the tables contain the right values:</p>\n\n<pre><code>Invoice Lines       \n1|1|abc\n2|2|abc\n\nTransactions\n1|xyz|1\n2|xyz|2\n</code></pre>\n"}], "owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "accepted_answer_id": 29736533, "answer_count": 2, "score": 0, "last_activity_date": 1429557234, "creation_date": 1429481039, "question_id": 29736444, "link": "https://stackoverflow.com/questions/29736444/dbixclass-has-one-might-have-relationship", "title": "DBIx::Class has_one &lt;-&gt; might_have relationship", "body": "<p>I'm trying to set up a database, the relevant bits of which are shown below.  I'm using SQLite3 (3.8.8.3-1) on Arch Linux, with DBIx::Class 0.082820.</p>\n\n<p>It's part of a simple book-keeping system.  An invoice line <em>has_one</em> transaction, but a transaction only <em>might_have</em> an corresponding invoice line (because some transactions can be created without an invoice).</p>\n\n<p>I can't get DBIx::Class to insert an invoice line and its corresponding transaction in one go.  The error messages are below too.</p>\n\n<p>Am I doing it wrong?  Or doing something that doesn't make sense?</p>\n\n<p>And why does it start by searching for an existing transaction with the same description?</p>\n\n<p>Here are the gory details of my much-simplified test case:</p>\n\n<p>InvoiceLine.pm:</p>\n\n<pre><code>package Test::DB::Schema::Result::InvoiceLine;\n\nuse strict;\nuse warnings;\n\nuse base 'DBIx::Class::Core';\n__PACKAGE__-&gt;table(\"invoice_lines\");\n__PACKAGE__-&gt;add_columns(\n\n  \"id\",\n  { data_type =&gt; \"integer\", is_auto_increment =&gt; 1, is_nullable =&gt; 0 },\n\n  \"txn_id\",\n  { data_type =&gt; \"integer\", is_foreign_key =&gt; 1, is_nullable =&gt; 0, \n    is_deferrable =&gt; 1 }, # tried this, but it doesn't help\n\n  'details',\n  { data_type =&gt; 'text', is_nullable =&gt; 0 },\n\n);\n__PACKAGE__-&gt;set_primary_key(\"id\");\n\n# Invoice line has an associated transaction\n__PACKAGE__-&gt;has_one(\n  \"txn\",\n  \"Test::DB::Schema::Result::Transaction\",\n  'id',\n);\n\n# Experimental -- this doesn't work either\n#__PACKAGE__-&gt;belongs_to(\n#  \"txn\",\n#  \"Test::DB::Schema::Result::Transaction\",\n#  \"txn_id\",\n#);\n\n1;\n</code></pre>\n\n<p>Transaction.pm:</p>\n\n<pre><code>use utf8;\npackage Test::DB::Schema::Result::Transaction;\n\nuse strict;\nuse warnings;\n\nuse base 'DBIx::Class::Core';\n__PACKAGE__-&gt;table(\"transactions\");\n__PACKAGE__-&gt;add_columns(\n    \"id\",\n    { data_type =&gt; \"integer\", is_auto_increment =&gt; 1, is_nullable =&gt; 0 },\n\n    'description',\n    { data_type =&gt; 'text', is_nullable =&gt; 0 },\n\n    # Invoice line \n    # Null if no associated invoice\n    'invoice_line_id',\n    {data_type =&gt; 'integer', is_nullable =&gt; 1 },\n);\n__PACKAGE__-&gt;set_primary_key(\"id\");\n\n# Some transactions have a single corresponding\n# invoice line\n__PACKAGE__-&gt;might_have(\n    \"invoice_line\",\n    \"Test::DB::Schema::Result::InvoiceLine\",\n    'id',\n    { cascade_copy =&gt; 0, cascade_delete =&gt; 0 },\n);\n# EXPERIMENTAL == this doesn't work either\n# might_have isn't working, so try has_many (where many can be 0):\n#__PACKAGE__-&gt;has_many(\n#   'invoice_lines',\n#   \"Test::DB::Schema::Result::InvoiceLine\",\n#   'txn_id',\n#);\n\n1;\n</code></pre>\n\n<p>Test.pl</p>\n\n<pre><code>#!/usr/bin/perl\n# Test.pl\n# Testing might_have &lt;-&gt; has_one relationship\nuse Test::DB::Schema;\nmy $schema = Test::DB::Schema-&gt;connect(\n    \"dbi:SQLite:dbname=dbic_test.db\", '', '', {}\n);\n$schema-&gt;deploy({ add_drop_table =&gt; 1 } , '.');\n$schema-&gt;storage-&gt;debug(1);\nmy $data1 = {\n    details =&gt; 'abc',\n    txn =&gt; {\n        description =&gt; 'xyz',\n    }\n};\nmy $new1 = $schema-&gt;resultset('InvoiceLine')-&gt;create($data1);\n</code></pre>\n\n<p>The result of running Test.pl is:</p>\n\n<pre><code>BEGIN WORK\nSELECT me.id, me.description, me.invoice_line_id FROM transactions me WHERE ( me.description = ? ): 'xyz'\nINSERT INTO transactions ( description) VALUES ( ? ): 'xyz'\nINSERT INTO invoice_lines ( details, id) VALUES ( ?, ? ): 'abc', '1'\nDBIx::Class::Storage::DBI::_dbh_execute(): DBI Exception: DBD::SQLite::st execute failed: NOT NULL constraint failed: invoice_lines.txn_id [for Statement \"INSERT INTO invoice_lines ( details, id) VALUES ( ?, ? )\"] at ./Test.pl line 16\nDBIx::Class::Storage::TxnScopeGuard::DESTROY(): A DBIx::Class::Storage::TxnScopeGuard went out of scope without explicit commit or error. Rolling back. at /usr/share/perl5/site_perl/DBIx/Class/Exception.pm line 77\nROLLBACK\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1429480898, "post_id": 29736330, "comment_id": 47605954, "body": "I&#39;m not quite sure I see why you can&#39;t just use $1 inside the <code>if</code>, could you please help explain why you substitute with the pattern to be matched again?  couldn&#39;t you do <code>my $t = $1</code> as the body of the if?  Well, that and the <code>print</code>"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "reply_to_user": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1429480983, "post_id": 29736330, "comment_id": 47605978, "body": "I&#39;ve seen that a few times, but am used to using this as a substitution.  Will use your suggestion."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429487565, "post_id": 29736330, "comment_id": 47607698, "body": "That assumes your words contain only \u201cword\u201d characters. It doesn&#39;t allow for punctuation of any sort"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1429487725, "post_id": 29736330, "comment_id": 47607735, "body": "OP did say &quot;word&quot;, so the regex uses word."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": true, "score": 2, "last_activity_date": 1429481826, "last_edit_date": 1429481826, "creation_date": 1429480336, "answer_id": 29736330, "question_id": 29736180, "link": "https://stackoverflow.com/questions/29736180/using-regex-to-match-everything-before-the-word-containing-a-comma/29736330#29736330", "title": "Using regex to match everything before the word containing a comma", "body": "<p>The OP asked for everything <em>up to</em> the word with the comma.  That can be done like this:</p>\n\n<pre><code>#!/usr/bin/perl -w\nmy $s = 'Four score and seven years ago, our forefathers';\nprint \"$1\\n\" if ($s =~ /^([^,]+)\\b\\w+,.*/);\n</code></pre>\n\n<p>Result is</p>\n\n<pre><code>Four score and seven years\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 670, "user_id": 2759538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1817647009/picture?type=large", "display_name": "Prasaanth Neelakandan", "link": "https://stackoverflow.com/users/2759538/prasaanth-neelakandan"}, "edited": false, "score": 0, "creation_date": 1429493431, "post_id": 29736738, "comment_id": 47609023, "body": "I am not the downvoter but I think you could explain the regex may be."}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 670, "user_id": 2759538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1817647009/picture?type=large", "display_name": "Prasaanth Neelakandan", "link": "https://stackoverflow.com/users/2759538/prasaanth-neelakandan"}, "edited": false, "score": 0, "creation_date": 1429543300, "post_id": 29736738, "comment_id": 47635921, "body": "@PrasaanthNeelakandan Thanks for constructive comment, I have improved the answer with that"}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": false, "score": 1, "last_activity_date": 1429543216, "last_edit_date": 1429543216, "creation_date": 1429483377, "answer_id": 29736738, "question_id": 29736180, "link": "https://stackoverflow.com/questions/29736180/using-regex-to-match-everything-before-the-word-containing-a-comma/29736738#29736738", "title": "Using regex to match everything before the word containing a comma", "body": "<p>You can use this regex:</p>\n\n<pre><code>(.*?) \\w+,           &lt;-- you can use \\s instead of a space: (.*?)\\s\\w+,\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/xS9rF9/1\" rel=\"nofollow noreferrer\">Working demo</a></strong></p>\n\n<p>Below, you can see in green your captured content\n<img src=\"https://i.stack.imgur.com/AuGiX.png\" alt=\"enter image description here\"></p>\n\n<p>This regex will do:</p>\n\n<pre><code>(.*?) \\w+,\n  ^   ^\n  |   +-- the first word with a spaces before and a comma\n  +--- captures everything (ungreedy) until the first word which contains a comma\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429487429, "creation_date": 1429487429, "answer_id": 29737266, "question_id": 29736180, "link": "https://stackoverflow.com/questions/29736180/using-regex-to-match-everything-before-the-word-containing-a-comma/29737266#29737266", "title": "Using regex to match everything before the word containing a comma", "body": "<p>This solution matches all characters from the start of the string until it reaches a point that is followed by optional spaces, then optional non-spaces, then a comma. Note that it will also stop before words that <em>contain</em> a comma, like <code>abc,def</code> but I assume that's okay?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $s = 'Four score and seven years ago, our forefathers';\n\nprint \"$1\\n\" if $s =~ /((?:(?!\\s*\\S*,).)*)/;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Four score and seven years\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 4154133, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7073d55c2bdcc25e697a9cd9638d13f0?s=128&d=identicon&r=PG&f=1", "display_name": "Dider", "link": "https://stackoverflow.com/users/4154133/dider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1413, "favorite_count": 0, "accepted_answer_id": 29736330, "answer_count": 3, "score": -2, "last_activity_date": 1429543216, "creation_date": 1429479453, "question_id": 29736180, "link": "https://stackoverflow.com/questions/29736180/using-regex-to-match-everything-before-the-word-containing-a-comma", "title": "Using regex to match everything before the word containing a comma", "body": "<p>Suppose I have this sentence:</p>\n\n<blockquote>\n  <p>Four score and seven years ago, our forefathers</p>\n</blockquote>\n\n<p>I want to obtain the string up to the word ending with the comma (i.e the the word <strong>ago</strong>) but not word with the comma itself. </p>\n\n<p>In the above example I would like to match the bolded text:</p>\n\n<p><strong>Four score and seven years</strong> ago, our forefathers</p>\n\n<p>How would I do this?</p>\n"}, {"tags": ["bash", "perl", "shell"], "answers": [{"tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 1, "last_activity_date": 1429476429, "creation_date": 1429476429, "answer_id": 29735659, "question_id": 29735540, "link": "https://stackoverflow.com/questions/29735540/export-file-to-directory-in-perl-script/29735659#29735659", "title": "Export file to directory in Perl script", "body": "<p><code>$1</code> means something different in Perl.  The arguments to your program are stored in <a href=\"http://perldoc.perl.org/perlvar.html#SPECIAL-VARIABLES\" rel=\"nofollow\"><code>@ARGV</code></a>, and are typically extracted with <a href=\"http://perldoc.perl.org/functions/shift.html\" rel=\"nofollow\"><code>shift</code></a>.</p>\n\n<pre><code>my $mid = shift;\n</code></pre>\n\n<p>Variables aren't interpolated in single-quotes, but are in <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\">double-quotes</a>.</p>\n\n<pre><code>my $filename = \"/home/var/www/vids/$mid/${mid}_wer.txt\";\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 4465075, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/31b8e2df04aa1233290eee6010a5d4f7?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/4465075/nikolaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 29735659, "answer_count": 1, "score": 1, "last_activity_date": 1429476429, "creation_date": 1429475789, "question_id": 29735540, "link": "https://stackoverflow.com/questions/29735540/export-file-to-directory-in-perl-script", "title": "Export file to directory in Perl script", "body": "<p>I want to save file to directory using variable <code>$mid</code> which is defined in another BASH script in.  I am trying to use this code, but it doesn't work:</p>\n\n<p><strong>Perl script to export file to folder</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $mid=$1;\nmy $filename = '/home/var/www/vids/$mid/${mid}_wer.txt';\nopen(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\nprint $fh \"My first report generated by perl\\n\";\nclose $fh;\nprint \"done\\n\"\n</code></pre>\n\n<p>In my work I also use some other BASH code in which I also use $mid variable to export file to the same folder and it works fine:</p>\n\n<p><strong>Bash script to export file using $mid</strong></p>\n\n<pre><code>mid=$1\ninfile=\"/var/www/tmp/textgrid_uploads/${mid}.txt\"\noutfile=\"/home/var/www/vids/$mid/${mid}_textgrid.mlf\"\ntmpfile=\"/home/var/www/vids/$mid/${mid}.tmp\"\n</code></pre>\n\n<p>I want to create PERL script with the same functionality as BASH script above. The same way how to export file to the directory as it is written in BASH. Please give me some example, I have never used Perl to write script and I need to create it till tommorow.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1429465876, "post_id": 29733305, "comment_id": 47600317, "body": "I don&#39;t understand the samples that you say are being marked as GOOD or INVALID. Are you saying that you are testing those code strings? You are testing <code>$substring4</code> but your test prints <code>$buffer</code>, so we cannot see the string being tested"}], "answers": [{"comments": [{"owner": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "edited": false, "score": 0, "creation_date": 1429473332, "post_id": 29733661, "comment_id": 47603234, "body": "thank you for your answer, but, now it gives me invalid all the way <a href=\"http://pastebin.com/QPHDZFje\" rel=\"nofollow noreferrer\">pastebin.com/QPHDZFje</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "edited": false, "score": 0, "creation_date": 1429482766, "post_id": 29733661, "comment_id": 47606500, "body": "@Damian: Okay, but you still haven&#39;t explained what data you&#39;re testing, and what <code>$substring4</code> is. I need an example of data that is incorrectly coming up as invalid. And what is your pastebin? Is that the contents of <code>$buffer</code>? Because there are no invalid characters in that"}, {"owner": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "edited": false, "score": 0, "creation_date": 1447850226, "post_id": 29733661, "comment_id": 55326763, "body": "thank you so much for your answers, but i switched to <code>node.js</code> ... much stable and faster, with <code>perl</code> i cannot view 2 sites at the time, with <code>node.js</code> i can ..."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429466332, "creation_date": 1429466332, "answer_id": 29733661, "question_id": 29733305, "link": "https://stackoverflow.com/questions/29733305/regex-ignore-special-ascii-characters/29733661#29733661", "title": "Regex ignore special ASCII characters", "body": "<p>It's unclear what you're asking for, but you could try checking for any non-ASCII characters, or ampersand or angle brackets.</p>\n\n<p>Like this</p>\n\n<pre><code>if ( $buffer =~ /[\\P{ascii}&amp;&lt;&gt;]/ ) {\n    print \"INVALID\\n\";\n}\nelse {\n    print \"GOOD\\n\";\n}\nprint $buffer, \"\\n\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429483665, "post_id": 29735623, "comment_id": 47606752, "body": "<i>\u201cthe modifiers <code>ms</code> and the anchors <code>\\A</code>, <code>\\z</code> are recommended for binary patterns\u201d</i> That isn&#39;t true. Modifiers <code>&#47;m</code> and <code>&#47;s</code> affect only the behaviour of metacharacters <code>^</code>, <code>$</code> and <code>.</code>, and you have none of those in your pattern. <code>\\A</code> is only different from <code>^</code> in the presence of <code>&#47;m</code>, and the same applies to <code>\\z</code> except it can be useful to avoid matching before a newline at the end of the string"}, {"owner": {"reputation": 591, "user_id": 4735903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870c3cd3096f304513e2573fa7e63091?s=128&d=identicon&r=PG", "display_name": "Loic", "link": "https://stackoverflow.com/users/4735903/loic"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429565669, "post_id": 29735623, "comment_id": 47649918, "body": "The expanation above is completely correct. In Perl Best Practices, Damian Conway recommends to always use the modifiers <code>xms</code> and the anchors <code>\\A</code> <code>\\z</code>. Anyone may agree or not, it is just a recommendation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429602701, "post_id": 29735623, "comment_id": 47663320, "body": "PBP is very out of date now, but in this regard nothing has changed. But it has nothing to do with <i>\u201cbinary patterns</i> whatever they may be"}, {"owner": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "edited": false, "score": 0, "creation_date": 1446295388, "post_id": 29735623, "comment_id": 54690101, "body": "I think this is the answer, i testetd that and works fine, but i don&#39;t quite understand how it is working ... they are like allow between ASCII hex x09 and ASCII hex x7E ?"}, {"owner": {"reputation": 591, "user_id": 4735903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870c3cd3096f304513e2573fa7e63091?s=128&d=identicon&r=PG", "display_name": "Loic", "link": "https://stackoverflow.com/users/4735903/loic"}, "reply_to_user": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "edited": false, "score": 0, "creation_date": 1446835384, "post_id": 29735623, "comment_id": 54924882, "body": "@Damian, the simpler [\\x09-\\x7F] is also possible, but less accurate. [\\x00-\\x1F\\x7F] are control characters, of which only \\x09 (tab) \\x0A (line feed) and \\x0D (carriage return) occur in usual plain text. See (<a href=\"https://en.wikipedia.org/wiki/ASCII#ASCII_control_characters\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ASCII#ASCII_control_characters</a>)."}], "tags": [], "owner": {"reputation": 591, "user_id": 4735903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870c3cd3096f304513e2573fa7e63091?s=128&d=identicon&r=PG", "display_name": "Loic", "link": "https://stackoverflow.com/users/4735903/loic"}, "is_accepted": true, "score": 0, "last_activity_date": 1429476238, "creation_date": 1429476238, "answer_id": 29735623, "question_id": 29733305, "link": "https://stackoverflow.com/questions/29733305/regex-ignore-special-ascii-characters/29735623#29735623", "title": "Regex ignore special ASCII characters", "body": "<p>You probably want to select lines consisting exclusively of visible ascii characters and/or <code>\\t</code>, <code>\\r</code>, <code>\\n</code>:</p>\n\n<pre><code>if ($substring4 =~ m/\\A [\\x09\\x0A\\x0D\\x20-\\x7E]* \\z/xms) {\n    print STDOUT \"GOOD ...\\n\";\n}\n</code></pre>\n\n<p>Remarks</p>\n\n<ul>\n<li>the whole line has to be matched: <code>*</code></li>\n<li><code>\\n</code> and <code>\\r</code> are not portable in perl, use <code>\\x0A</code> and <code>\\x0D</code> instead</li>\n<li>the modifiers <code>ms</code> and the anchors <code>\\A</code>, <code>\\z</code> are recommended for binary patterns</li>\n<li>the modifier <code>x</code> allows formatted regexps (whitespace ignored)</li>\n</ul>\n"}], "owner": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 29735623, "answer_count": 2, "score": -2, "last_activity_date": 1429476238, "creation_date": 1429464395, "question_id": 29733305, "link": "https://stackoverflow.com/questions/29733305/regex-ignore-special-ascii-characters", "title": "Regex ignore special ASCII characters", "body": "<p>I am reading a bunch of files from a <code>PERL</code> script : css, html, js, png, jpg and i want to print only the text. The script is using this regex :</p>\n\n<pre><code>if($substring4 =~ /[A-Za-z0-9 \\t\\n\\r]/)\n{\n    print(\"GOOD ...\\n\");\n    print($buffer);\n}\nelse\n{\n    print(\"INVALID ...\\n\");\n    print($buffer);\n    print(\"\\n\\n\");\n}\n</code></pre>\n\n<p>Witch is not working well :</p>\n\n<p><strong>Marked as good :</strong></p>\n\n<pre><code>--G=154 W=164 F=168 L=512--\nGOOD ...\nunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&amp;&amp;c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&amp;&amp;a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&amp;&amp;a.detachEvent(\"on\"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&amp;&amp;a.type?(this.originalEven\n\n--G=155 W=165 F=169 L=512--\nGOOD ... ===&gt; GOOD, it must accept those characters\nt=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&amp;&amp;a.getPreventDefault()?K:J):this.type=a,b&amp;&amp;f.extend(this,b),this.timeStamp=a&amp;&amp;a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&amp;&amp;a.stopPropagation(),a.cancel\n\n--G=156 W=166 F=170 L=512--\nGOOD ... ===&gt; GOOD, it must accept those characters\nBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&amp;&amp;!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.ev\n</code></pre>\n\n<p><strong>Marked as invalid when it should be arked as GOOD, there are normal characters there, that you find on the keyboard:</strong></p>\n\n<pre><code>INVALID ... ===&gt; WRONG, it must accept those characters\n/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delet\n\nINVALID ... ===&gt; WRONG, it must accept those characters\n\"\"),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\\\/g,k=/\\r\\n/g,l=/\\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&amp;&amp;d.nodeType!==9)return[];if(!b||typeof b!=\"string\")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(\"\"),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length&gt;1&amp;&amp;p.exec(b))if(w.length===2&amp;&amp;o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(\n</code></pre>\n\n<p><strong>Marked as GOOD but must be marked as bad, wired characters ... from a image of ssl certificate</strong></p>\n\n<pre><code>--G=722 W=723 F=749 L=512--\nGOOD ... ===&gt; WRONG, it must skip those characters, mark them as bad character\n\u00a3\u00a94\u00d3\u00f4]&gt;E\u2018\u01780AN=G\u00e5r\u2122\u00c9\u00c9I\u00b2\u00b50\u00f4 \u00aa\u00aa\u00d2\u00d2\u00d2B\"\u2018 \u2039\u00d5-\u00fb\u00da\u00d7\u00beV'\u00fc\u00ae\u00bc\u00f2Jx\u00e0z{{\u00eb\\+1\u00d3\u00f1&gt;\u0178\u00df\u00fe\u00ed\u00df\u00a6\u00b3\u00b3\u201c\u00dbn\u00bbT*\u2026\u00eb\u00ba\u00fc\u00fe\u00ef\u00ff&gt;K\u2014.e\u00cb\u2013-}\u02dc\u2039\u00f9\u00e5\u00e1\u201d\u00e2\u00e5\u00fc\u00c3A\u00bdyBp\u00f0\u0160w\u2018m\u00efd\u00e3\u00af\u0178\u00c30+\u00b3\u00cb~\u00e4\u00e1j\u00e0\u00dd\u00f7\u00ea\u00e9\u00f5\u00c7:~&lt;E\u00c1\u00b1\u2020\u00a2\u00e9\u00a1P\u201e\u00f1\u00d4(\u00a5R\u2018\u00fee\u00e7`\u0161&amp;\u201c\u201cD\"\u00fa\u2013,edd\u201eJ\u00b9L1B+[\u201d\n\u00b9\u00aa ,9x\u00f0 @\u00b5:\u00abi\u00fa\u017d\u00a0\u00e3xa\u203a.\u2122L\u0161\u00f3\u00d7\\\u00c0\u00a6\u00cb\u00dem\u0161D\u00c3\u0161\u00e22\u2013JQ\u00cc\u00d1[[)U\u00f2\u00c5RM\u201e+57\u00b8ZY\u00d4\u00d0T\u00ce]\u00de\u00cb\u00b2\u017ev\u2020F\u2019\u00e2\u00c0\u00a1A\u2020F\u2019\u00d5F\u00ec\u00ae\u2039\u00a6i\u00e2\u00f2 \u201a\u00b0h\u00e5\u00ffg\u00ef\u00cd\u00e3\u00e4\u00a8\u00eb\u00fc\u00ffg\u00dd\u00d5\u00c7\u00f4\\=\u00f7\u00e4\"\u201e%\u201a\u00ab\u201a(\u00e40(\u201a\u00fa\u00d4wY\u00fd\u0160+\u00bb\u00ae\u00ab\u00a0+*\u00caOEQ\u00d4u\u00bf_\u2014\u00e5'\u2021\u00c0*\u00bb \u201a,\"\u00a7\u02c6rGH$d\u00ce\u00cc\u00dd\u00f7Q\u00e7\u00f7\u00ea\u00aa\u00a9\u00e9\u2122   dfr\u00d43JuWW\u00d7\u00e7\u00d3=]U\u0178\u00d7\u00e7}\u00bd\u00f0\u00c2\u00bc\u00f0\u00c2&lt;\u00fd\u00f4\u00d3\u00bc\u00fc\u00f2\u00cb\u0152\u201c\u00c9d\u00c8f\u00b3X\u201353\u00c5\u00be \u00d0\u00d8\u00d8Hcc#\u00e9t\u0161\u2022+W\u00f2\u00a67\u00bd\u2030\u00c9\u00c9I\u00be\u00f9\u00cdo\u00fb\u2026\u2026_\u00c4\u00ce\u00e1\u00c0SO=\u2022;\u00ef\u00bc\u201cu\u00eb\u00d6\u2018\u00cf\u00e7)\u2014\u00cb\u0153{\u00ee\u00b9&lt;\u00fc\u00f0\u00c3\u00b3\n\n--G=723 W=724 F=750 L=512--\nINVALID ... ===&gt; GOOD, it must skip those characters, mark them as bad character, i don't know why here is working\n,\u00a8\u00fb+\u00d1]4\"\"bI\u00f0\u00adp\u00f5q\u20aca\u00a0(\u0160&gt;\u201e\u00c7\u0161\u01619\u00f2\u00a1{I\u00f2\u00bb\u00dc\u017d\u00bb\u00f9%\u0160\u0178\u00bb\u00fb\u0178.F\u00ff\u2039\u00c3\u201a\u00e3\u00ee\u00b3\u00d0uA&amp;\u02c6\"\u00ed]\u00e0:H\u00b2\u2014 EQ5\u00c7%\u203a\u00cd\u00cf\u00e7H&amp;\u2019\u00c8\u00b2\u02c6$\n\u00e4\u00b2\u2019\u00a9\u00ae\u00a3T\u00a5\\\u00a9`T\u00ab&lt;\u00f7\u00dcsl\u00db\u00b6\\.G6\u203a\nJx\u00f8\u00b3\u00da\u2026|\u017e|.\u00c7\u00fa\u00b3\u00cf\u00a3\u00a9\u00b9\u00cb\u00b2hI\u00c6(\u2014\u00cb\u00bc\u00fc\u00f2TY&amp;\u2039\u2018\u00cfe\u00c9\u00e7stv\u00f5 \u00cb\n\u00e3\u00a34\u00a4\u00d1c1,\u00db\u00a6\u00fb-\u00fc\u00e1\u2030gx~\u00e3K\u00e0z\u00bfQ\u2019\u02c6\u00f2uFDD,\u00f3\u00c5\u00d5m\u00dc\u00b8\u2018{\u00ee\u00b9\u2021{\u00ee\u00b9\u2021\u00a7\u017ez\u0160\u00c1\u00c1\u00c1]:v&gt;\u0178g`\u00c0ix\u00f0\u00c1\u00b9\u00f6\u00dakg\u00bc\u00bev\u00edZn\u00bb\u00ed\u00b6\u00c2o\u0178\u00bd_\u00ed&amp;\u00ea\u00bf\u01787\u00bf\u00f9\u00cd\u00dcx\u00e3\u0153s\u00ce9T*&amp;&amp;&amp;\u00f8\u00c8G&gt;\u00c2&lt;0\u00cb\u00e2\u00ba?\u2030\u00bf\u02c6\u02c6\u02c6%cGq\u20ac\u00f5\u00c0\u201a$\u00f1\u00e4\u00a9\u00eb9\u00f8\u00f7\u00be\u00a68@\u00b2*_\u00fb\u00f6\u2021\u00cf'~\u00fa\u00bb\u00f7\u00d98\u00c0Z5\u00be Ae\u00db6\u2018%\u2122\u00f6\u00f6.\u00aa\u00a6\u00ae\u00e9\u00a4\u00d3\u00ed$\u201c)\u00f4X\u00c3\u00a8\u00d2\u00dd\u00dd\u00cd\u00c8\u00c8(\u00e5R\u2018Tc\u017d\u0161`t\u00a0\u00d7u1\u201c\u2018\u2018L\u00d3\u00a4Z\u00ad\u00d6?\u00c7q0M\u201c\u00bem\u00dbXs\u00e8Z\u00de\u00fa\u00f6u\u00b8\u017dW\u20ac=\u2022T\u00ce\u00d2\u00d8\u00dc\u201a}\u00b8\u00a3    IDAT\"I\u02c6\u2019\u201ei\u0161H\u00a2\u02c6\u00e3:\u00f29&amp;'\u00c7M\u00f7\u0160\u00d1[\u017d\u2014f*\u201c\u00c5\u00b6t-\u00caj\u00b1\u00f8\u00d4\u00df,\u00cb\u00e2W\u00bf\u00fa\n</code></pre>\n\n<p>I want a regex that accept all characters that you may find in a <code>html</code>, <code>xml</code>, <code>json</code>, <code>css</code> file but exclude the ones like <code>s\u00ce9T*&amp;&amp;&amp;\u00f8\u00c8G&gt;\u00c2&lt;0\u00cb\u00e2\u00ba?\u2030\u00bf\u02c6\u02c6\u02c6%cGq\u20ac\u00f5\u00c0\u201a$\u00f1\u00e4</code> wich can be found when reading a picture.</p>\n\n<p>My curent regex is :</p>\n\n<p><code>/[A-Za-z0-9 \\t\\n\\r]/</code></p>\n\n<p>What am i doing wrong?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1429463235, "post_id": 29731730, "comment_id": 47599246, "body": "Try put the image inside a wide table, e.g.: with <code>width=100%</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1429467195, "creation_date": 1429467195, "answer_id": 29733830, "question_id": 29731730, "link": "https://stackoverflow.com/questions/29731730/cgi-center-image/29733830#29733830", "title": "CGI center image", "body": "<p>In CSS, to centre an item in a block, set its left and right margins to <code>auto</code>:</p>\n\n<pre><code>margin-left: auto;\nmargin-right: auto;\n</code></pre>\n\n<p>Using CGI.pm</p>\n\n<pre><code>print Tr(\n         th(\n            { -style=&gt;'margin-left: auto; margin-right: auto;' },\n            $p\n           )\n        );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4751843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DSIrTdxQrfc/AAAAAAAAAAI/AAAAAAAAANw/ytwer5KhVa0/photo.jpg?sz=128", "display_name": "Joe Gardner", "link": "https://stackoverflow.com/users/4751843/joe-gardner"}, "edited": false, "score": 0, "creation_date": 1429557802, "post_id": 29733996, "comment_id": 47645411, "body": "OK I took the img out for now but I will try what you said when I get a chance ...thank you."}, {"owner": {"reputation": 11, "user_id": 4751843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DSIrTdxQrfc/AAAAAAAAAAI/AAAAAAAAANw/ytwer5KhVa0/photo.jpg?sz=128", "display_name": "Joe Gardner", "link": "https://stackoverflow.com/users/4751843/joe-gardner"}, "edited": false, "score": 0, "creation_date": 1429727781, "post_id": 29733996, "comment_id": 47740143, "body": "ok this one worked but im am trying some css now   $cgi-&gt;div({ -align =&gt; &#39;center&#39; }, $cgi-&gt;img({ -src =&gt; &quot;../cgi-bin/images/mtlogos.png&quot; }));   thank you so much"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429467969, "creation_date": 1429467969, "answer_id": 29733996, "question_id": 29731730, "link": "https://stackoverflow.com/questions/29731730/cgi-center-image/29733996#29733996", "title": "CGI center image", "body": "<p>Your code is a little odd: you are calling <code>start_html</code> and <code>center</code> and just throwing away the text that they generate without printing it.</p>\n\n<p><code>img</code> isn't a block element, so an <code>align</code> attribute of <code>center</code> is ignored.</p>\n\n<p>You could just wrap the image in a <code>center</code> element:</p>\n\n<pre><code>print $cgi-&gt;center($cgi-&gt;img({ -src =&gt; \"../cgi-bin/images/mtlogos.png\" }));\n</code></pre>\n\n<p>or you could use the <code>align</code> attribute on an enclosing element like <code>div</code>:</p>\n\n<pre><code>$cgi-&gt;div({ -align =&gt; 'center' }, $cgi-&gt;img({ -src =&gt; \"../cgi-bin/images/mtlogos.png\" }));\n</code></pre>\n\n<p>But you should note that both the <code>center</code> tag and the <code>align</code> attribute are deprecated, and the only proper way to do this is with CSS</p>\n"}], "owner": {"reputation": 11, "user_id": 4751843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DSIrTdxQrfc/AAAAAAAAAAI/AAAAAAAAANw/ytwer5KhVa0/photo.jpg?sz=128", "display_name": "Joe Gardner", "link": "https://stackoverflow.com/users/4751843/joe-gardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1429467969, "creation_date": 1429456557, "last_edit_date": 1429466625, "question_id": 29731730, "link": "https://stackoverflow.com/questions/29731730/cgi-center-image", "title": "CGI center image", "body": "<p>I am having a heck of a time to get this image centered. Any help would be appreciated.</p>\n\n<p>test form at <code>http://www.quickpaysolutions.com/ttb.html</code></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nuse strict;\nuse CGI;\n\nmy $cgi = new CGI;\n\nprint\n\n    $cgi-&gt;header() . \n\n    img {src =&gt; \"../cgi-bin/images/mtlogos.png\", align=&gt;\"CENTER\"};\n\n$cgi-&gt;start_html( -title =&gt; 'Form Results') .\n\n$cgi-&gt;center($cgi-&gt;h1('Reciept &lt;br&gt; Please Print this Reciept')). \"\\n\";\n\nmy @params = $cgi-&gt;param();\nprint '&lt;table border=\"1\" width=\"600\" align=\"center\" cellspacing=\"1\"               cellpadding=\"2\"&gt;' . \"\\n\";\nforeach my $p (param()) {\n    print \"&lt;tr&gt;&lt;th&gt;$p&lt;/th&gt;&lt;td&gt;\" . $cgi-&gt;param($p) . \"&lt;/td&gt;&lt;/tr&gt;\\n\";\n}\nprint \"&lt;/table&gt;\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 3, "creation_date": 1429456324, "post_id": 29731665, "comment_id": 47596539, "body": "That&#39;s not bash, that&#39;s Perl: look at the top line of your script which is a &#39;shebang&#39; to run this script using Perl. It&#39;s a file handle / stream identifier which you can declare with <code>local</code> or not declare at all."}, {"owner": {"reputation": 5834, "user_id": 2752520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6CORJ.jpg?s=128&g=1", "display_name": "Nelson Teixeira", "link": "https://stackoverflow.com/users/2752520/nelson-teixeira"}, "reply_to_user": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 0, "creation_date": 1429456520, "post_id": 29731665, "comment_id": 47596613, "body": "oh my mistake... should have looked at the first line of the script. Sorry."}, {"owner": {"reputation": 8726, "user_id": 597305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ad05a19a937275934237503fc77d887?s=128&d=identicon&r=PG", "display_name": "Bill Ruppert", "link": "https://stackoverflow.com/users/597305/bill-ruppert"}, "edited": false, "score": 2, "creation_date": 1429456956, "post_id": 29731665, "comment_id": 47596746, "body": "Syntax is ok, old two argument open.  The problem may be what the system is saying - it can&#39;t create the file, possibly because the path does not exist."}, {"owner": {"reputation": 5834, "user_id": 2752520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6CORJ.jpg?s=128&g=1", "display_name": "Nelson Teixeira", "link": "https://stackoverflow.com/users/2752520/nelson-teixeira"}, "edited": false, "score": 0, "creation_date": 1429457685, "post_id": 29731665, "comment_id": 47597021, "body": "Yes... the problem was that I created the path in the wrong place :D But someone has found the below answer interesting, so I&#39;ll maintain this question. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1429465156, "post_id": 29731704, "comment_id": 47600023, "body": "This is no error, it is the old deprecated two-argument-version of <code>open</code>. And if the error message is &quot;file not found&quot; ... that cannot be from the lines the OP showed because the open has its own error message."}], "tags": [], "owner": {"reputation": 9139, "user_id": 927408, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b569692de127b2f110ac8c44eae5c06?s=128&d=identicon&r=PG", "display_name": "J&#248;rgen R", "link": "https://stackoverflow.com/users/927408/j%c3%b8rgen-r"}, "is_accepted": false, "score": 2, "last_activity_date": 1429456422, "last_edit_date": 1592644375, "creation_date": 1429456422, "answer_id": 29731704, "question_id": 29731665, "link": "https://stackoverflow.com/questions/29731665/whats-the-l-in-open-l-logfile/29731704#29731704", "title": "What&#39;s the L in &quot;open ( L , &quot;&gt;$logfile&quot; )&quot;?", "body": "<p>This is the perl <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">file handle</a>:</p>\n<blockquote>\n<p>Opens the file whose filename is given by EXPR, and associates it with FILEHANDLE.</p>\n<p>Simple examples to open a file for reading:</p>\n</blockquote>\n<pre><code>open(my $fh, &quot;&lt;&quot;, &quot;input.txt&quot;) \n    or die &quot;cannot open &lt; input.txt: $!&quot;;\n</code></pre>\n<p>It seems your error is that you need to pass the arrow as the second argument and the file name as the third, not both in the same string.</p>\n"}, {"tags": [], "owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "is_accepted": true, "score": 2, "last_activity_date": 1429468003, "last_edit_date": 1429468003, "creation_date": 1429467304, "answer_id": 29733855, "question_id": 29731665, "link": "https://stackoverflow.com/questions/29731665/whats-the-l-in-open-l-logfile/29733855#29733855", "title": "What&#39;s the L in &quot;open ( L , &quot;&gt;$logfile&quot; )&quot;?", "body": "<p><code>L</code> is the <strong>freely chosen name of the file handle</strong> that refers to file <code>$logfile</code>, which is being opened for writing (<code>&gt;</code>);<br>\n<code>L</code> is then used in the later <code>print</code> and <code>close</code> calls to refer to the open file.</p>\n\n<p>As others have noted, <code>open ( L , \"&gt;$logfile\" )</code> is <strong>outdated syntax</strong> in two respects:</p>\n\n<ul>\n<li>Using a <em>bareword</em> such as <code>L</code> creates a <em>global</em> variable<sup>[1]</sup>, so the preferred approach nowadays is to <strong>use a <em>local</em> variable</strong>:\n<ul>\n<li><code>open(my $fh, ...);  # local var. $fh receives the file handle</code></li>\n<li>Note that you then use the usual variable syntax - <em>with</em> prefix <code>$</code> - in later calls, e.g., <code>close $fh</code>.</li>\n</ul></li>\n<li>Specifying the file <em>mode</em> (<code>&lt;</code> for reading, <code>&gt;</code> for writing, ...) and the filename as a <em>combined, single</em> argument is deprecated; nowadays it is preferred to <strong>specify the mode first, followed by the filename as a separate argument</strong>:\n<ul>\n<li><code>open(my $fh, '&gt;', $logfile)</code></li>\n</ul></li>\n</ul>\n\n<p><sup>[1] It's a globally defined symbol, but not a variable as such, because it can only be used in situations where a file handle is expected. You <em>cannot</em> refer to the <code>L</code> file handle as <code>$L</code> later.</sup></p>\n\n<hr>\n\n<p>Documentation links:</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow\">Tutorial on using <code>open()</code></a></li>\n<li><a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\"><code>open()</code> reference</a></li>\n</ul>\n"}], "owner": {"reputation": 5834, "user_id": 2752520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6CORJ.jpg?s=128&g=1", "display_name": "Nelson Teixeira", "link": "https://stackoverflow.com/users/2752520/nelson-teixeira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 29733855, "answer_count": 2, "score": 0, "last_activity_date": 1429468003, "creation_date": 1429456207, "last_edit_date": 1429467427, "question_id": 29731665, "link": "https://stackoverflow.com/questions/29731665/whats-the-l-in-open-l-logfile", "title": "What&#39;s the L in &quot;open ( L , &quot;&gt;$logfile&quot; )&quot;?", "body": "<p>Can somebody explain to me what's the \"L\" in the code below ?</p>\n\n<pre><code>open ( L , \"&gt;$logfile\" )\n    or die \"Can't create logfile \\\"$logfile\\\": $!\\n\" ;\nprint L \"CMD: $cmd\\n\" , \"=\" x 78 , \"\\n\" ;\nclose L ;\n</code></pre>\n\n<p>Open as it's a common word (\"open\"), it's more difficult to search for it.</p>\n\n<p>This code is part of a script that logs ssh sessions. You can get the whole code here: <a href=\"http://pastebin.com/ZZbBj4tU\" rel=\"nofollow\">http://pastebin.com/ZZbBj4tU</a></p>\n\n<p>My actual problem is that when I try to run this script I get a \"file not found\" error in this part of the code. What I think is that it's trying to open an existing log when it should create the file first. But in order to fix this I need to understand what this L does first.</p>\n"}, {"tags": ["javascript", "perl", "google-chrome"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4807169, "user_type": "registered", "profile_image": "https://graph.facebook.com/955063297845311/picture?type=large", "display_name": "C Arnold Ruban", "link": "https://stackoverflow.com/users/4807169/c-arnold-ruban"}, "edited": false, "score": 0, "creation_date": 1429623616, "post_id": 29731611, "comment_id": 47678078, "body": "no it didnt work. When I click the back button for first time it doesnt navigate back to the page instead it gets cached I guess. So I have to press again which now displaces stale information. Could you please help me to fix this"}, {"owner": {"reputation": 3281, "user_id": 1341535, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8nhAS.png?s=128&g=1", "display_name": "Vsevolod Golovanov", "link": "https://stackoverflow.com/users/1341535/vsevolod-golovanov"}, "reply_to_user": {"reputation": 3, "user_id": 4807169, "user_type": "registered", "profile_image": "https://graph.facebook.com/955063297845311/picture?type=large", "display_name": "C Arnold Ruban", "link": "https://stackoverflow.com/users/4807169/c-arnold-ruban"}, "edited": false, "score": 0, "creation_date": 1429624129, "post_id": 29731611, "comment_id": 47678508, "body": "@CArnoldRuban, that&#39;s not cache then, that&#39;s something else. Maybe you&#39;re using History API (manipulating the URL in an address bar)?"}, {"owner": {"reputation": 3, "user_id": 4807169, "user_type": "registered", "profile_image": "https://graph.facebook.com/955063297845311/picture?type=large", "display_name": "C Arnold Ruban", "link": "https://stackoverflow.com/users/4807169/c-arnold-ruban"}, "edited": false, "score": 0, "creation_date": 1429713966, "post_id": 29731611, "comment_id": 47730403, "body": "yes I construct URL like using history.pushState. But still why this happens how to get rid of it. Thank you :)"}, {"owner": {"reputation": 3, "user_id": 4807169, "user_type": "registered", "profile_image": "https://graph.facebook.com/955063297845311/picture?type=large", "display_name": "C Arnold Ruban", "link": "https://stackoverflow.com/users/4807169/c-arnold-ruban"}, "edited": false, "score": 0, "creation_date": 1429718068, "post_id": 29731611, "comment_id": 47733552, "body": "Thanks very much Pressing back button issue has been resolved. But I cant stop page from getting cached :P"}, {"owner": {"reputation": 3, "user_id": 4807169, "user_type": "registered", "profile_image": "https://graph.facebook.com/955063297845311/picture?type=large", "display_name": "C Arnold Ruban", "link": "https://stackoverflow.com/users/4807169/c-arnold-ruban"}, "edited": false, "score": 0, "creation_date": 1429721341, "post_id": 29731611, "comment_id": 47735848, "body": "can we set headers using java script if so how ?"}, {"owner": {"reputation": 3281, "user_id": 1341535, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8nhAS.png?s=128&g=1", "display_name": "Vsevolod Golovanov", "link": "https://stackoverflow.com/users/1341535/vsevolod-golovanov"}, "reply_to_user": {"reputation": 3, "user_id": 4807169, "user_type": "registered", "profile_image": "https://graph.facebook.com/955063297845311/picture?type=large", "display_name": "C Arnold Ruban", "link": "https://stackoverflow.com/users/4807169/c-arnold-ruban"}, "edited": false, "score": 0, "creation_date": 1429722820, "post_id": 29731611, "comment_id": 47736837, "body": "@CArnoldRuban, no, the server must set these headers when responding. I&#39;m not familiar with perl-related software stacks, so can&#39;t say how exactly."}], "tags": [], "owner": {"reputation": 3281, "user_id": 1341535, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8nhAS.png?s=128&g=1", "display_name": "Vsevolod Golovanov", "link": "https://stackoverflow.com/users/1341535/vsevolod-golovanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1429714634, "last_edit_date": 1429714634, "creation_date": 1429455917, "answer_id": 29731611, "question_id": 29731465, "link": "https://stackoverflow.com/questions/29731465/back-button-issue-in-chrome-due-to-cache/29731611#29731611", "title": "Back Button issue in Chrome due to cache", "body": "<p>Tell browsers not to cache the pages by sending the appropriate response headers.</p>\n\n<pre><code>Cache-Control: no-cache, no-store, must-revalidate\nPragma: no-cache\nExpires: 0\n</code></pre>\n\n<p>Update: the actual problem is not caused by caching, but by the <code>history.pushState</code> usage. It creates a second entry in browser history for the same page, that's why you have to click Back twice. <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history#Adding_and_modifying_history_entries\" rel=\"nofollow\">This MDN article</a> explains it in more detail. Consider using <code>history.replaceState</code> instead.</p>\n"}], "owner": {"reputation": 3, "user_id": 4807169, "user_type": "registered", "profile_image": "https://graph.facebook.com/955063297845311/picture?type=large", "display_name": "C Arnold Ruban", "link": "https://stackoverflow.com/users/4807169/c-arnold-ruban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1488, "favorite_count": 0, "accepted_answer_id": 29731611, "answer_count": 1, "score": -1, "last_activity_date": 1429714634, "creation_date": 1429455148, "question_id": 29731465, "link": "https://stackoverflow.com/questions/29731465/back-button-issue-in-chrome-due-to-cache", "title": "Back Button issue in Chrome due to cache", "body": "<p>When ever I press a back button in google chrome browser, For the first click it doesnt navigate instead it store the data in cache and while I press it again it goes back and displays stale information. I am using JS and Perl in my web page. I dont want the data to be cached. I want to stop displaying stale information. Could some body please help me regarding this.\nThanks\nRuban C</p>\n"}, {"tags": ["perl", "cygwin"], "comments": [{"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1429448827, "post_id": 29730019, "comment_id": 47593938, "body": "Are you invoking the script from a cygwin shell or a windows shell?  If you&#39;re trying to run it from Windows (either a cmd shell or double clicking on it in Explorer) you won&#39;t be able to use Cygwin paths/interpreters."}, {"owner": {"reputation": 209, "user_id": 4472008, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bd71c1a8aa2e57c83c58df78a9638e72?s=128&d=identicon&r=PG&f=1", "display_name": "tuturyokgaming", "link": "https://stackoverflow.com/users/4472008/tuturyokgaming"}, "reply_to_user": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1429449218, "post_id": 29730019, "comment_id": 47594095, "body": "I&#39;m invoking the script from a cygwin shell."}, {"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 2, "creation_date": 1429450086, "post_id": 29730019, "comment_id": 47594375, "body": "Did you create the file using a Windows editor?  If so there could be a stray \\r at the end of the line so the real interpreter it&#39;s trying to invoke is <code>&#47;usr&#47;bin&#47;perl^M</code>?  From the shell can you run /usr/bin/perl and have it actually execute perl?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1429455210, "post_id": 29730019, "comment_id": 47596080, "body": "Show the first few lines of your script including the <a href=\"http://stackoverflow.com/q/2429511/100754\">shebang line</a>. Also include the hexdump of the first few lines: From the Cygwin bash shell: <code>head testperl.pl | od</code> ... I am guessing you have an extrac CR following the <code>perl</code> on the shebang line."}, {"owner": {"reputation": 1058, "user_id": 1054925, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XqJna.jpg?s=128&g=1", "display_name": "R-JANA", "link": "https://stackoverflow.com/users/1054925/r-jana"}, "edited": false, "score": 0, "creation_date": 1441302957, "post_id": 29730019, "comment_id": 52635246, "body": "i had similar problem but issue was not related . putting it in comment so that it may help somebody. In case you are not using C drive for the executable cygwin will never be able to find the same. Keep all the program in C drive for cygwin to work on"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1429455401, "creation_date": 1429455401, "answer_id": 29731517, "question_id": 29730019, "link": "https://stackoverflow.com/questions/29730019/cygwin-usr-bin-perl-bad-interpreter-permission-denied/29731517#29731517", "title": "Cygwin usr/bin/perl: bad interpreter : Permission denied", "body": "<p>You probably saved the Perl script with DOS style <a href=\"http://en.wikipedia.org/wiki/Newline\" rel=\"nofollow\">line endings</a>. The shell is looking for a file called <code>/usr/bin/perl&lt;CR&gt;</code>.</p>\n\n<p>Save your files with Unix-style line endings. My <code>.vimrc</code> which I use with my natively compiled <code>vim</code> and <code>gvim</code> has:</p>\n\n<pre><code>set fileformat=unix\nset fileformats=unix,dos\n</code></pre>\n\n<p>Check your editor's settings for the appropriate options.</p>\n\n<p>To fix line endings in a particular file, use <code>$ dos2unix filename</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1118, "user_id": 655106, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/68230e89bc8658ab7f2fc847d1e55c1a?s=128&d=identicon&r=PG", "display_name": "Nigel Davies", "link": "https://stackoverflow.com/users/655106/nigel-davies"}, "edited": false, "score": 0, "creation_date": 1513340596, "post_id": 30637174, "comment_id": 82627444, "body": "This worked for me when the error quoted by the OP arose trying to use autoreconf in cygwin."}], "tags": [], "owner": {"reputation": 41, "user_id": 1235765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9d4830d5d8489c7c64255e53026509c?s=128&d=identicon&r=PG", "display_name": "Thanh Cong Vu", "link": "https://stackoverflow.com/users/1235765/thanh-cong-vu"}, "is_accepted": false, "score": 2, "last_activity_date": 1433401511, "creation_date": 1433401511, "answer_id": 30637174, "question_id": 29730019, "link": "https://stackoverflow.com/questions/29730019/cygwin-usr-bin-perl-bad-interpreter-permission-denied/30637174#30637174", "title": "Cygwin usr/bin/perl: bad interpreter : Permission denied", "body": "<p>You may not install <code>Perl</code> in default cygwin64 package. Please ensure that you have <code>Perl</code> at <code>/usr/bin/perl.exe</code>.</p>\n\n<p>If it is not there, run <code>setup-x86_64.exe</code> again and select <code>Perl</code> interpreter.</p>\n"}], "owner": {"reputation": 209, "user_id": 4472008, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bd71c1a8aa2e57c83c58df78a9638e72?s=128&d=identicon&r=PG&f=1", "display_name": "tuturyokgaming", "link": "https://stackoverflow.com/users/4472008/tuturyokgaming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5026, "favorite_count": 0, "accepted_answer_id": 29731517, "answer_count": 2, "score": 1, "last_activity_date": 1433401511, "creation_date": 1429447478, "last_edit_date": 1429455612, "question_id": 29730019, "link": "https://stackoverflow.com/questions/29730019/cygwin-usr-bin-perl-bad-interpreter-permission-denied", "title": "Cygwin usr/bin/perl: bad interpreter : Permission denied", "body": "<p>Hello I'm trying to run a perl script on a Windows 64 bit. I'm getting the error like this :</p>\n\n<blockquote>\n  <p>/usr/bin/perl : bad interpreter : Permission denied</p>\n</blockquote>\n\n<p>I have my perl script on my windows 64 bit <code>C:\\test\\perlscripts\\testperl.pl</code>.</p>\n"}, {"tags": ["perl", "wamp"], "comments": [{"owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 0, "creation_date": 1429444029, "post_id": 29729096, "comment_id": 47592358, "body": "Maybe a look at the ActiveState perl documentation will help... as a last resort of course <a href=\"http://docs.activestate.com/activeperl/5.14/faq/ActivePerl-faq2.html\" rel=\"nofollow noreferrer\">ActiveState Using ppm</a>"}], "owner": {"reputation": 23, "user_id": 4674878, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a08106ca2fd2c0b2e3de3366a80ea173?s=128&d=identicon&r=PG&f=1", "display_name": "Amaresh H S", "link": "https://stackoverflow.com/users/4674878/amaresh-h-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1429442062, "creation_date": 1429442062, "question_id": 29729096, "link": "https://stackoverflow.com/questions/29729096/setting-up-wamp-server-for-perl", "title": "Setting up wamp server for Perl", "body": "<p>I am following the steps given in the following 2 links to setup wamp server for perl\n<a href=\"https://shravanthimohan.wordpress.com/2011/11/26/configuring-perl-on-wamp/\" rel=\"nofollow\">https://shravanthimohan.wordpress.com/2011/11/26/configuring-perl-on-wamp/</a>\n<a href=\"http://chromicdesign.com/2009/05/setting-up-perl-for-wampp.html\" rel=\"nofollow\">http://chromicdesign.com/2009/05/setting-up-perl-for-wampp.html</a></p>\n\n<p>However I am not able to run the perl scripts, the error says that the requested URL can not be found</p>\n\n<p>I am also not able to run the command 'ppm repo add uwinnipeg'\nI am getting the following error, NOT NULL constraint failed: repo.packlist_uri </p>\n\n<p>Please help me out</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4915, "user_id": 1315176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809e49872e79afb7d9b077b9742da515?s=128&d=identicon&r=PG", "display_name": "lecstor", "link": "https://stackoverflow.com/users/1315176/lecstor"}, "edited": false, "score": 0, "creation_date": 1429418556, "post_id": 29725643, "comment_id": 47585808, "body": "I&#39;d say you need to add more detail about your issue. Each line in the csv <i>should</i> end with a newline, whether that be CRLF (windows) or just LF (unix). You should not ned to remove this from the last line in the file to prevent an empty record row at the end of the file."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1429423209, "post_id": 29725643, "comment_id": 47586622, "body": "Consider using one of the existing CSV parsers instead like <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a> or <a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"nofollow noreferrer\">Text::CSV_XS</a>.  They will likely be faster and less buggy than doing it yourself."}], "answers": [{"tags": [], "owner": {"reputation": 1329, "user_id": 1924274, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cae5d0f32db0b220e470a24594e0aeb9?s=128&d=identicon&r=PG", "display_name": "dmc7z", "link": "https://stackoverflow.com/users/1924274/dmc7z"}, "is_accepted": false, "score": 0, "last_activity_date": 1429423142, "creation_date": 1429423142, "answer_id": 29726359, "question_id": 29725643, "link": "https://stackoverflow.com/questions/29725643/remove-crlf-end-of-csv-file-using-perl/29726359#29726359", "title": "Remove CRLF end of csv file using Perl", "body": "<p>If I follow the question correctly, there is a line feed trailing the last record, which is creating an empty row at the end of the file.</p>\n\n<p>You can read the file into a scalar and remove the trailing, blank row with a substitution. \\R will work on new Perl versions (5.10, I think) and will match any system's line break, otherwise you'll need to use \\n or \\n\\r</p>\n\n<pre><code>open $fh, '&lt;', 'test.csv';\n\nwhile (&lt;$fh&gt;) {\n    $str .= $_;\n}\n\n$str =~ s/\\R+(.*)\\R+/$1/s;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4806048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7401f83836437e31200a87b4221a650?s=128&d=identicon&r=PG&f=1", "display_name": "JJT", "link": "https://stackoverflow.com/users/4806048/jjt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1429423142, "creation_date": 1429416179, "question_id": 29725643, "link": "https://stackoverflow.com/questions/29725643/remove-crlf-end-of-csv-file-using-perl", "title": "Remove CRLF end of csv file using Perl", "body": "<p>I have a csv file ending with CRLF in each row record. Using Perl, how to remove the CRLF only in the final record of the file so that there is no empty record row at the end of file?  Thank you.</p>\n"}, {"tags": ["apache", "perl", ".htaccess", "cgi", "dancer"], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 3161560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788206a8c712062bbcceee384f2e8852?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Knutov", "link": "https://stackoverflow.com/users/3161560/nick-knutov"}, "is_accepted": false, "score": 0, "last_activity_date": 1429444837, "creation_date": 1429444837, "answer_id": 29729568, "question_id": 29725465, "link": "https://stackoverflow.com/questions/29725465/perl-dancer2-cgi-dispatcher-and-uri-for-helper/29729568#29729568", "title": "PERL Dancer2, cgi dispatcher and uri_for helper", "body": "<p>Have the same problem with D1.</p>\n\n<p>$ENV{SCRIPT_NAME} = ''; </p>\n\n<p>inside dispatch.fcgi helps me.</p>\n"}], "owner": {"reputation": 146, "user_id": 4805993, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PPw_eGZogPA/AAAAAAAAAAI/AAAAAAAACeA/kasHIIUWVfA/photo.jpg?sz=128", "display_name": "Pierre VIGIER", "link": "https://stackoverflow.com/users/4805993/pierre-vigier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1429444837, "creation_date": 1429414326, "question_id": 29725465, "link": "https://stackoverflow.com/questions/29725465/perl-dancer2-cgi-dispatcher-and-uri-for-helper", "title": "PERL Dancer2, cgi dispatcher and uri_for helper", "body": "<p>I have a web interface that i need to maintain and improve, written in a plain old CGI.pm way. That app is not using templating system neither. It's served by apache, like that:</p>\n\n<pre><code>/var/www/vhost/myapp/cgi-bin/app.cgi\n              /htdocs/css/styles.css\n              /htdocs/js/script.js\n</code></pre>\n\n<p>To add new pages to that app, and make my life easyer, i want to host a Dancer or Dancer2 app next to it, i was thinking about something like that:</p>\n\n<pre><code>/var/www/vhost/myapp/cgi-bin/app.cgi\n                    /cgi-bin/dispatch.cgi (the one from Dancer2)\n                    /htdocs/css/styles.css\n                           /js/script.js\n                           /dancer_public/...\n                    /dancer2/lib/...\n                            /views/...\n                            /environement/...\n</code></pre>\n\n<p>In the dispatcher, i'm changing the path to reach the Dancer2 bin/app.psgi.\nI added the following .htaccess file to the htdocs dir:</p>\n\n<pre><code># BEGIN dancer application htaccess\n  RewriteEngine On\n  RewriteBase /v2\n  RewriteRule ^/v2$ /cgi-bin/dispatch.cgi [L]\n  RewriteCond %{SCRIPT_FILENAME} !-d\n  RewriteCond %{SCRIPT_FILENAME} !-f\n  RewriteRule v2/(.*) /cgi-bin/dispatch.cgi/$1 [L]\n# END dancer application htaccess\n</code></pre>\n\n<p>By doing that, </p>\n\n<ul>\n<li>accesssing to example.com/cgi-bin/app.cgi show me the old app\nas expected</li>\n<li>accesssing to example.com/v2 show me the dancer\napp home page, default one, without css, which is expected as i moved\nthe public dir, and some other modification</li>\n</ul>\n\n<p>Now that you have the setup, here is where i have an issue,\nthe redirection from v2 to the dancer app is working really well, however, in order to keep consistent, i would like to have the <strong>uri_for</strong> creating url from v2 , but it's using the SCRIPT_NAME as base url, to show the issue, when i'm creating that url: uri_for('/mypage'), </p>\n\n<ul>\n<li><p>i would like to have that url : example.com/v2/mypage, </p></li>\n<li><p>but instead i have url example.com/cgi-bin/dispatch.cgi/mypage</p></li>\n</ul>\n\n<p>SCRIPT_NAME environment variable is containing cgi-bin/dispatch.cgi , i have one terrible hack, that is working, but clearly not the solution, i can have my expected behavior by forcing SCRIPT_NAME to /v2 in the cgi dispatcher, in a BEGIN block.\nIf someone as a clean solution for that, that would be of a great help!</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl", "pattern-matching"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429403519, "post_id": 29724127, "comment_id": 47583136, "body": "<code>$matches[$#matches]</code> is usually written <code>$matches[-1]</code>"}, {"owner": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429403664, "post_id": 29724127, "comment_id": 47583172, "body": "Additional information: &quot;A&quot; can be a word in real situation."}], "answers": [{"comments": [{"owner": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429403703, "post_id": 29724418, "comment_id": 47583184, "body": "A can be a word like APPLE. How can we change the $regex?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429404005, "post_id": 29724418, "comment_id": 47583250, "body": "@MichaelC. then you need to use a non-capturing group like <code>(?:Apple|Orange|.....)</code> instead of <code>[AQIJ]</code>"}, {"owner": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429404694, "post_id": 29724418, "comment_id": 47583418, "body": "Can you please confirm the new code is correct? It looks like it is matching the first Apple (beginning of line), instead of the last Apple (end of line)."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429404967, "post_id": 29724418, "comment_id": 47583460, "body": "no it matches the last <code>Apple</code> string. You may check by changing the above regex to <code>my $regex = qr&#47;.*\\K\\b(?:Apple|Range|Mango)\\b.*&#47;;</code> . It must display <code>Apple</code> only because there isn&#39;t any character after the last <code>Apple</code> . <code>.*</code> at the first will match all the characters greedily upto the last."}, {"owner": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429405065, "post_id": 29724418, "comment_id": 47583473, "body": "It is right. I&#39;m evaluating all answers for performance improvement."}, {"owner": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 1, "creation_date": 1429433544, "post_id": 29724418, "comment_id": 47589283, "body": "For benchmark purpose, it takes 1 hours 50 minutes to complete original script using this proposed solution."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429433948, "post_id": 29724418, "comment_id": 47589401, "body": "Accept a solution which you loves the most."}, {"owner": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429435091, "post_id": 29724418, "comment_id": 47589696, "body": "I&#39;m still see if there is other answers. I will choose the one yield best performance."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429436324, "post_id": 29724418, "comment_id": 47590023, "body": "Ok, it&#39;s all upto you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429614236, "post_id": 29724418, "comment_id": 47671251, "body": "@MichaelC.: Making your decision on the basis of a fractional improvement in timing is wrong. If a few minutes in each hour are significant then you need to show your complete program. There are likely to be many more economies made elsewhere than the regular expression"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": -1, "last_activity_date": 1429404208, "last_edit_date": 1429404208, "creation_date": 1429403096, "answer_id": 29724418, "question_id": 29724127, "link": "https://stackoverflow.com/questions/29724127/improve-performance-of-last-occurrence-match-in-perl-regex/29724418#29724418", "title": "Improve Performance of Last Occurrence Match in Perl Regex", "body": "<p>Use <code>\\K</code> to discard the previously matched characters from printing at the final.</p>\n\n<pre><code>my $input = \"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\";\nmy $regex = qr/.*\\K\\b[AQIJ]\\b/;\nif ($input =~ m/$regex/) {\nprint $&amp;.\"\\n\";\n}\n</code></pre>\n\n<p>Use capturing group.</p>\n\n<pre><code>my $input = \"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\";\nmy $regex = qr/.*\\b([AQIJ])\\b/;\nif ($input =~ m/$regex/) {\nprint $1.\"\\n\";\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>my $input = \"Apple Orange Mango Apple\";\nmy $regex = qr/.*\\K\\b(?:Apple|Range|Mango)\\b/;\nif ($input =~ m/$regex/) {\nprint $&amp;.\"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "edited": false, "score": 0, "creation_date": 1429433506, "post_id": 29724492, "comment_id": 47589271, "body": "For benchmark purpose, it takes 2 hours 04 minutes to complete original script using this proposed solution."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1429403783, "creation_date": 1429403783, "answer_id": 29724492, "question_id": 29724127, "link": "https://stackoverflow.com/questions/29724127/improve-performance-of-last-occurrence-match-in-perl-regex/29724492#29724492", "title": "Improve Performance of Last Occurrence Match in Perl Regex", "body": "<p>You can find the last match by simply adding a <code>.*</code> before the matching pattern.</p>\n\n<p>Like this</p>\n\n<pre><code>my $input = \"APPLE B C D E F G H INDIGO JACKAL K L M N O P QUIVER R S T U V W X Y Z\";\nmy $regex = qr/APPLE|QUIVER|INDIGO|JACKAL/;\nmy ($last) = $input =~ /.*\\b($regex)\\b/;\nprint $last, \"\\n\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>QUIVER\n</code></pre>\n"}], "owner": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 29724418, "answer_count": 2, "score": -1, "last_activity_date": 1429404208, "creation_date": 1429400191, "question_id": 29724127, "link": "https://stackoverflow.com/questions/29724127/improve-performance-of-last-occurrence-match-in-perl-regex", "title": "Improve Performance of Last Occurrence Match in Perl Regex", "body": "<p>I need to find the last occurrence of matches based on an array of acceptable of value. Below is the source codes in Perl. The answer is Q because it is the last occurrence based on acceptable values of A, Q, I &amp; J.</p>\n\n<p>The challenge is how can I change my codes to make the regex faster. It is currently a bottleneck because I have to run it millions times.</p>\n\n<pre><code>my $input = \"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\";\nmy $regex = qr/(A|Q|I|J)/;\n\nmy @matches = $input =~ m/\\b$regex\\b/g;\n\nprint $matches[$#matches];\n</code></pre>\n\n<p>I would like to see new codes that improves the query speed but still can find the Q match.</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 64716, "user_id": 157957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBRE7.jpg?s=128&g=1", "display_name": "IMSoP", "link": "https://stackoverflow.com/users/157957/imsop"}, "edited": false, "score": 3, "creation_date": 1429386972, "post_id": 29722063, "comment_id": 47578675, "body": "You need to be more  specific than &quot;doesn&#39;t work&quot;. Do you get an error? Can you show us expected and actual output?"}, {"owner": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "edited": false, "score": 3, "creation_date": 1429387175, "post_id": 29722063, "comment_id": 47578737, "body": "`cd /`  not `cd/`"}, {"owner": {"reputation": 11, "user_id": 3820043, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/baaf20126f393e4b6ab3a46fc9004ab3?s=128&d=identicon&r=PG&f=1", "display_name": "user3820043", "link": "https://stackoverflow.com/users/3820043/user3820043"}, "edited": false, "score": 0, "creation_date": 1429387729, "post_id": 29722063, "comment_id": 47578922, "body": "The problem with Perl is sometimes if there is an error, it doesn&#39;t print it. Rather it waits for next command. So I am not sure about it. But I expected that my program would have changed the directory, which it does not."}, {"owner": {"reputation": 11, "user_id": 3820043, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/baaf20126f393e4b6ab3a46fc9004ab3?s=128&d=identicon&r=PG&f=1", "display_name": "user3820043", "link": "https://stackoverflow.com/users/3820043/user3820043"}, "edited": false, "score": 0, "creation_date": 1429388130, "post_id": 29722063, "comment_id": 47579033, "body": "even `cd /` doesn&#39;t help."}], "answers": [{"tags": [], "owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "is_accepted": false, "score": 3, "last_activity_date": 1429451114, "last_edit_date": 1429451114, "creation_date": 1429388776, "answer_id": 29722447, "question_id": 29722063, "link": "https://stackoverflow.com/questions/29722063/perl-script-that-invokes-shell-command-doesnt-work/29722447#29722447", "title": "Perl script that invokes shell command doesn&#39;t work", "body": "<p><code>cd</code> (by default) <em>doesn't output anything</em>, so you're assigning an <em>empty string</em> to your <code>$result</code> variable.</p>\n\n<p>If you want to <em>output</em> the (full) path of the directory you changed to, simply append <code>&amp;&amp; pwd</code> inside the backticks:</p>\n\n<pre><code> $result = `cd / &amp;&amp; pwd`;\n</code></pre>\n\n<p>Note that <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow\"><code>`...`</code></a> creates a <em>child process</em> for running the shell with the specified command, so whatever environment changes you perform there - including changing the directory - do NOT affect the Perl script itself.</p>\n\n<p>In other words: you're NOT changing the <em>Perl script</em>'s current directory with your shell command.</p>\n\n<hr>\n\n<p>If your intent is:</p>\n\n<ul>\n<li><p>to <strong>simply <em>test</em> whether the shell command you enclose in <code>`...`</code> <em>succeeds</em></strong> or not, use, the <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\"><code>system()</code> function</a> instead; e.g.:</p>\n\n<pre><code>    system('cd /') == 0 || die \"Command failed\";\n</code></pre></li>\n<li><p>to <strong><em>capture</em> the output from the shell command</strong>, presume it to be a directory path and <strong><a href=\"http://perldoc.perl.org/functions/chdir.html\" rel=\"nofollow\">change the <em>Perl</em> script's working directory</a></strong> to it:</p>\n\n<pre><code>    $result = `cd / &amp;&amp; pwd` || die \"Command failed.\";\n    chomp $result; # trim trailing newline\n\n    # Change Perl script's working dir.\n    chdir $result || die \"Could not change to $result.\";\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 4, "last_activity_date": 1429450702, "last_edit_date": 1429450702, "creation_date": 1429390148, "answer_id": 29722680, "question_id": 29722063, "link": "https://stackoverflow.com/questions/29722063/perl-script-that-invokes-shell-command-doesnt-work/29722680#29722680", "title": "Perl script that invokes shell command doesn&#39;t work", "body": "<p>If you need to change the cwd directory in your script, then you should use Perl's built-in <code>chdir</code> function.\n<a href=\"http://perldoc.perl.org/functions/chdir.html\" rel=\"nofollow\">perldoc -f chdir</a></p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1429423286, "creation_date": 1429423286, "answer_id": 29726373, "question_id": 29722063, "link": "https://stackoverflow.com/questions/29722063/perl-script-that-invokes-shell-command-doesnt-work/29726373#29726373", "title": "Perl script that invokes shell command doesn&#39;t work", "body": "<p>To affect the current working directory of the perl process, use the <a href=\"http://perldoc.perl.org/functions/chdir.html\" rel=\"nofollow\">chdir()</a> function.</p>\n"}], "owner": {"reputation": 11, "user_id": 3820043, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/baaf20126f393e4b6ab3a46fc9004ab3?s=128&d=identicon&r=PG&f=1", "display_name": "user3820043", "link": "https://stackoverflow.com/users/3820043/user3820043"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1429451114, "creation_date": 1429386820, "last_edit_date": 1429388336, "question_id": 29722063, "link": "https://stackoverflow.com/questions/29722063/perl-script-that-invokes-shell-command-doesnt-work", "title": "Perl script that invokes shell command doesn&#39;t work", "body": "<p>I am writing a simple Perl program to test a shell script for changing directory. But it doesn't work.</p>\n\n<p>This is my code :</p>\n\n<pre><code>$result = `cd/`;\nprint $result;  \n</code></pre>\n\n<p>It works fine when I use </p>\n\n<pre><code>$result =`dir`;\n</code></pre>\n"}, {"tags": ["html", "perl", "format"], "answers": [{"tags": [], "owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "is_accepted": false, "score": 0, "last_activity_date": 1429373172, "creation_date": 1429373172, "answer_id": 29719658, "question_id": 29719535, "link": "https://stackoverflow.com/questions/29719535/add-html-p-tag-to-a-formatted-file/29719658#29719658", "title": "add html &lt;p&gt; tag to a formatted file", "body": "<p>I'd read the complete file to a buffer and apply a regex:</p>\n\n<pre><code>my $buffer = \"\";\nwhile(&lt;&gt;) {\n    $buffer .= $_;\n}\n\n$buffer =~ s|&lt;P&gt;\\s+&lt;P&gt;\\s(.*?)\\n|&lt;p&gt;\\n$1\\n&lt;/p&gt;\\n|gs;\n\nprint \"$buffer\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1354, "user_id": 2122007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/563KL.jpg?s=128&g=1", "display_name": "Jim Black", "link": "https://stackoverflow.com/users/2122007/jim-black"}, "edited": false, "score": 0, "creation_date": 1429416084, "post_id": 29719880, "comment_id": 47585449, "body": "Faster to simply ignore/skip the lines you don&#39;t want, and print only the lines you do want - with the correct tags."}], "tags": [], "owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "is_accepted": true, "score": 1, "last_activity_date": 1429375956, "last_edit_date": 1429375956, "creation_date": 1429374425, "answer_id": 29719880, "question_id": 29719535, "link": "https://stackoverflow.com/questions/29719535/add-html-p-tag-to-a-formatted-file/29719880#29719880", "title": "add html &lt;p&gt; tag to a formatted file", "body": "<p>Use this code:</p>\n\n<pre><code>my $p = 0;\n\nwhile ( my $text = &lt;IN&gt; ) {\n    if ( $text =~ /(&lt;P&gt;\\s*&lt;P&gt;)/ ) {   \n        if ( $p == 0 ) {\n            $text =~ s{$&amp;}{&lt;P&gt;};\n        }\n        else {\n            $text =~ s{$&amp;}{&lt;/P&gt;\\n&lt;P&gt;};\n        }\n        $p++;\n    }\n    print $text;\n}\nprint \"&lt;/P&gt;\\n\";\n</code></pre>\n\n<p>Basically what it does is change any <code>&lt;P&gt; &lt;P&gt;</code> to <code>&lt;/P&gt;\\n&lt;P&gt;</code> except the first occurrence which in this case the replacement will be only <code>&lt;P&gt;</code>. Also using <code>\\s*</code> instead of <code>\\t</code> in the <code>if</code> condition will also handle whitespace other than <code>tab</code>.</p>\n"}], "owner": {"reputation": 437, "user_id": 4061558, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P4sEj.jpg?s=128&g=1", "display_name": "Chester Mc Allister", "link": "https://stackoverflow.com/users/4061558/chester-mc-allister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 29719880, "answer_count": 2, "score": 1, "last_activity_date": 1429375956, "creation_date": 1429372435, "last_edit_date": 1429375884, "question_id": 29719535, "link": "https://stackoverflow.com/questions/29719535/add-html-p-tag-to-a-formatted-file", "title": "add html &lt;p&gt; tag to a formatted file", "body": "<p>I have a formatted text file such as this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;P&gt; &lt;P&gt;\nparagraph 1 blablablabla\n&lt;P&gt; &lt;P&gt;\nparagraph 2 blablablabla\n&lt;P&gt; &lt;P&gt;\nparagraph 3 blablablabla\n&lt;P&gt; &lt;P&gt;\nparagraph 4 blablablabla\n</code></pre>\n\n<p>I need to transform this file to have a well formed html file like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p&gt;\nparagraph 1 blablablabla\n&lt;/p&gt;\n&lt;p&gt;\nparagraph 2 blablablabla\n&lt;/p&gt;\n&lt;p&gt;\nparagraph 3 blablablabla\n&lt;/p&gt;\n&lt;p&gt;\nparagraph 4 blablablabla\n&lt;/p&gt;\n</code></pre>\n\n<p>For now I use a perl script but it doesn't work:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $p = 0;\n\n    while(my $text = &lt;IN&gt;)\n    {\n        if($text =~ /(&lt;P&gt;\\t&lt;P&gt;)/)\n        {   \n            $p++;\n            if($p % 2 == 0){\n                print \"&lt;/p&gt;\".\"\\n\";\n            }\n            else{\n                print \"&lt;p&gt;\".\"\\n\";\n\n            }\n\n        }\n   }\n</code></pre>\n"}, {"tags": ["regex", "perl", "vim"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1429368445, "post_id": 29717916, "comment_id": 47572083, "body": "<i>&quot;if possible in vim it were a lot faster [than Perl], right?&quot;</i> Wrong. Perl is almost certainly very much faster than Vim"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4804522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7dc98980a837917202c46b9468a23aa?s=128&d=identicon&r=PG&f=1", "display_name": "murph_sof", "link": "https://stackoverflow.com/users/4804522/murph-sof"}, "edited": false, "score": 0, "creation_date": 1429602377, "post_id": 29718585, "comment_id": 47663134, "body": "Thank you so far. Actually the second task was what I intended to do. When I use the getreg()-function as suggested, I still get the E118: Too many arguments for function: getreg. However, I&#39;m confident that it would work this way. I wrote a perl-script now, which took some time... Do you still think perl is faster for my task? (I didn&#39;t mean &quot;faster&quot; w.r.t. the final execution but w.r.t. its implementation) ;)"}, {"owner": {"reputation": 5271, "user_id": 1658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879e79284efb4639584574a5fc46c9e4?s=128&d=identicon&r=PG", "display_name": "lcd047", "link": "https://stackoverflow.com/users/1658042/lcd047"}, "reply_to_user": {"reputation": 33, "user_id": 4804522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7dc98980a837917202c46b9468a23aa?s=128&d=identicon&r=PG&f=1", "display_name": "murph_sof", "link": "https://stackoverflow.com/users/4804522/murph-sof"}, "edited": false, "score": 0, "creation_date": 1429605173, "post_id": 29718585, "comment_id": 47664807, "body": "The exact arguments of <code>getreg()</code> might depend on Vim version, I only tried it with 7.4.703.  As for Perl-thinking being faster than Vim-thinking, I&#39;d say it is.  Unless you happen to maintain a few Vim plugins or some such (which basically force you to know the details of VimL inside out), VimL is just insane. <i>shrug</i>"}, {"owner": {"reputation": 6510, "user_id": 5889131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S0TUH.jpg?s=128&g=1", "display_name": "jeremysprofile", "link": "https://stackoverflow.com/users/5889131/jeremysprofile"}, "edited": false, "score": 0, "creation_date": 1596830223, "post_id": 29718585, "comment_id": 111947338, "body": "Where can I find documentation on <code>\\=</code>? vimregex.com only says that it &quot;matches 0 or 1 more of the preceding characters&quot;"}], "tags": [], "owner": {"reputation": 5271, "user_id": 1658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879e79284efb4639584574a5fc46c9e4?s=128&d=identicon&r=PG", "display_name": "lcd047", "link": "https://stackoverflow.com/users/1658042/lcd047"}, "is_accepted": true, "score": 3, "last_activity_date": 1429367040, "creation_date": 1429367040, "answer_id": 29718585, "question_id": 29717916, "link": "https://stackoverflow.com/questions/29717916/vim-search-regular-expression-replace-with-register/29718585#29718585", "title": "vim search regular expression replace with register", "body": "<p>If you want to replace all strings matching <code>[0-9]{3}</code> with the same value, which happens to be the contents of register <code>a</code>:\n</p>\n\n<pre><code>:%s/\\v\\d{3}/\\=@a/g\n</code></pre>\n\n<p>In detail:</p>\n\n<ul>\n<li><code>:%</code> - apply to all lines in buffer</li>\n<li><code>s/.../.../g</code> - replace all occurrences </li>\n<li><code>\\v</code> - what follows is a \"very magic\" regular expression</li>\n<li><code>\\d{3}</code> - match 3 digits</li>\n<li><code>\\=</code> - replace with the value of...</li>\n<li><code>@a</code> - register <code>a</code></li>\n</ul>\n\n<p>If on the other hand you want to read replacement values from register <code>a</code>:\n</p>\n\n<pre><code>:let a=getreg('a', 1, 1)\n:%s/\\v\\d{3}/\\=remove(a, 0)/g\n</code></pre>\n\n<p>In detail:</p>\n\n<ul>\n<li><code>let a=getreg('a', 1, 1)</code> - transfer the contents of register <code>a</code> to a list, imaginatively also named <code>a</code></li>\n<li>then same as above, except...</li>\n<li><code>remove(a, 0)</code> - deletes the first element in list <code>a</code> and returns it.</li>\n</ul>\n\n<p>Also, VimL is, sadly, nowhere near as fast as Perl. :)</p>\n"}], "owner": {"reputation": 33, "user_id": 4804522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7dc98980a837917202c46b9468a23aa?s=128&d=identicon&r=PG&f=1", "display_name": "murph_sof", "link": "https://stackoverflow.com/users/4804522/murph-sof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1446, "favorite_count": 1, "accepted_answer_id": 29718585, "answer_count": 1, "score": 1, "last_activity_date": 1429367040, "creation_date": 1429363105, "question_id": 29717916, "link": "https://stackoverflow.com/questions/29717916/vim-search-regular-expression-replace-with-register", "title": "vim search regular expression replace with register", "body": "<p>I'd like to search a regex pattern with vim and replace the matches with a paste from a register. In detail that means:</p>\n\n<pre><code>acb123acb\nasokqwdad\ndef442ads\nasduiosdf\ndf567hjk\n</code></pre>\n\n<p>should finish with </p>\n\n<pre><code>acbXYZacb\nasokqwdad\ndefPOWads\nasduiosdf\ndafMANhjk\n</code></pre>\n\n<p>where I had </p>\n\n<pre><code>XYZ\nPOW\nMAN\n</code></pre>\n\n<p>in a register A (:g/pattern/y A)</p>\n\n<p>A regex pattern to search for might be [0-9]{3} to match the 3 numbers from the text block.</p>\n\n<p>Block mode would help if there were no lines between the matches...</p>\n\n<p>I could use a perl script therefore of course. However I'm sure, if possible in vim it were a lot faster, right?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["json", "perl"], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 1, "last_activity_date": 1429350282, "creation_date": 1429350282, "answer_id": 29715577, "question_id": 29715455, "link": "https://stackoverflow.com/questions/29715455/missing-or-empty-input-error/29715577#29715577", "title": "Missing or empty input error", "body": "<p>I guess that  <code>$jsmusic</code> is not defined here:</p>\n\n<pre><code>my $music_info = JSON::Tiny::decode_json($jsmusic);\n</code></pre>\n\n<p>Change to:</p>\n\n<pre><code>my $music_info;\n$music_info = JSON::Tiny::decode_json($jsmusic) if defined $jsmusic;\nreturn $music_info;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4804063, "user_type": "registered", "profile_image": "https://graph.facebook.com/368988886619585/picture?type=large", "display_name": "Boak Darkin", "link": "https://stackoverflow.com/users/4804063/boak-darkin"}, "edited": false, "score": 0, "creation_date": 1429378974, "post_id": 29715670, "comment_id": 47575815, "body": "this solution doesn&#39;t resolve because the script returns all the time &quot;Music Info not found&quot;  thank&#39;s for your reactivity @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 4804063, "user_type": "registered", "profile_image": "https://graph.facebook.com/368988886619585/picture?type=large", "display_name": "Boak Darkin", "link": "https://stackoverflow.com/users/4804063/boak-darkin"}, "edited": false, "score": 0, "creation_date": 1429381409, "post_id": 29715670, "comment_id": 47576749, "body": "Well that just means that the regex pattern doesn&#39;t appear in the data. There&#39;s nothing much else the program can do! Perhaps your regex is wrong. Can you show a sample of the data you&#39;re trying to match?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1429351229, "last_edit_date": 1429351229, "creation_date": 1429350812, "answer_id": 29715670, "question_id": 29715455, "link": "https://stackoverflow.com/questions/29715455/missing-or-empty-input-error/29715670#29715670", "title": "Missing or empty input error", "body": "<p>It is unlikely to he the cause of your problem, but you shouldn't make <em>declarations</em> conditional. The behaviour is undefined, and it can lead to all sorts of nonsense.</p>\n\n<p>So this</p>\n\n<pre><code>my $jsmusic = $1 if $page =~ m{window.SC.bufferTracks.push\\((.*)}i;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>my $jsmusic;\n$jsmusic = $1 if $page =~ /window\\.SC\\.bufferTracks\\.push\\(([^)]*)/i;\n</code></pre>\n\n<p>Note also that I have changed the regex to escape the dots, and to capture only the characters up to the next closing parenthesis. That means the following substitutions shouldn't be necessary if I understand your data properly</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>In fact, looking again, the whole purpose of your subroutine is invalidated if the pattern doesn't match, so you should write it more like</p>\n\n<pre><code>sub fetch_music_info {\n  my ($self, $music_url) = @_;\n\n  $music_url ||= $self-&gt;{url};\n\n  my $page = $self-&gt;_get_content($music_url);\n  if ($page =~ /window\\.SC\\.bufferTracks\\.push\\(([^)]*)/i) {\n    return JSON::Tiny::decode_json($1);\n  }\n  else {\n    die \"Music Info not found\";\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4780549, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rJ2Zp8RT5Mk/AAAAAAAAAAI/AAAAAAAAGXo/E-wmeapQM9E/photo.jpg?sz=128", "display_name": "Rich Daley", "link": "https://stackoverflow.com/users/4780549/rich-daley"}, "is_accepted": false, "score": 0, "last_activity_date": 1429442691, "creation_date": 1429442691, "answer_id": 29729211, "question_id": 29715455, "link": "https://stackoverflow.com/questions/29715455/missing-or-empty-input-error/29729211#29729211", "title": "Missing or empty input error", "body": "<p>I agree with Borodin, but there's a more Perlish way to write this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my ($jsmusic) = ($page =~ m{window.SC.bufferTracks.push\\((.*)}i);\n</code></pre>\n\n<p>That's because the <code>=~</code> operator returns a list of the matchvars (<code>$1</code>,<code>$2</code>, etc.).</p>\n\n<p>In this case, <code>$jsmusic</code> will always be <i>declared</i> but it will be undefined if the regexp doesn't match. You need the parentheses around <code>($jsmusic)</code> to force the operator to list context.</p>\n"}], "owner": {"reputation": 3, "user_id": 4804063, "user_type": "registered", "profile_image": "https://graph.facebook.com/368988886619585/picture?type=large", "display_name": "Boak Darkin", "link": "https://stackoverflow.com/users/4804063/boak-darkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 29715577, "answer_count": 3, "score": 0, "last_activity_date": 1429442691, "creation_date": 1429349572, "last_edit_date": 1429386777, "question_id": 29715455, "link": "https://stackoverflow.com/questions/29715455/missing-or-empty-input-error", "title": "Missing or empty input error", "body": "<p>I have this problem in my script but I don't have ideas for resolve this ! </p>\n\n<p>when I launch the script :</p>\n\n<pre><code>boak@boak-LX:~/Documents$ perl dl-sound.pl --url http://soundcloud.com/alexorion/bigger-room-radio-015\nMissing or empty input at dl-sound.pl line 100.\n</code></pre>\n\n<p>the script : </p>\n\n<pre><code>sub fetch_music_info {\n  my ($self, $music_url) = @_;\n\n  $music_url ||= $self-&gt;{url};\n\n  my $page = $self-&gt;_get_content($music_url);\n  my $jsmusic = $1 if ($page =~ m{window.SC.bufferTracks.push\\((.*)}i);\n  $jsmusic =~ s/;//g if defined($jsmusic);\n  $jsmusic =~ s/\\)//g if defined($jsmusic);\n\n  my $music_info = JSON::Tiny::decode_json($jsmusic);\n\n  return $music_info;\n}\n</code></pre>\n"}, {"tags": ["perl", "email", "encoding", "utf8-decode", "procmail"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1429516852, "post_id": 29715013, "comment_id": 47617512, "body": "What you are looking at is a RFC2047-encoded header. Like it says in the charset part, it is in UTF-8, base64-encoded.  There is no ISO-8859-1 here (that&#39;s a different encoding; it can&#39;t be in ISO-8859-1 aka Latin-1 if it&#39;s in UTF-8)."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1429517005, "post_id": 29715013, "comment_id": 47617580, "body": "In the general case, the repertoire of UTF-8 is much larger than the repertoire of ISO-8859-1, so you will not always be able to translate UTF-8 to ISO-8859-1. If you only care about unwrapping the RFC2047 encoding and recovering the UTF-8 text, that&#39;s always possible (and perhaps a better thing to do)."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1429373575, "post_id": 29715987, "comment_id": 47573975, "body": "Nice. I had no idea that <code>MIME-Header</code> was an available encoding"}, {"owner": {"reputation": 129, "user_id": 4643684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a40b1c36c9979dbca36adfe747e743d?s=128&d=identicon&r=PG&f=1", "display_name": "MON", "link": "https://stackoverflow.com/users/4643684/mon"}, "edited": false, "score": 0, "creation_date": 1429418767, "post_id": 29715987, "comment_id": 47585853, "body": "Thanks much @Andrzej A. Filip"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1429505529, "post_id": 29715987, "comment_id": 47612154, "body": "Though the <code>r*</code> in the regex <code>New Order*</code> is kind of silly, and arguably wrong."}, {"owner": {"reputation": 4530, "user_id": 94687, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/ef249e4381c9d55297cddc4bd5b5c3c2?s=128&d=identicon&r=PG", "display_name": "imz -- Ivan Zakharyaschev", "link": "https://stackoverflow.com/users/94687/imz-ivan-zakharyaschev"}, "edited": false, "score": 0, "creation_date": 1490544921, "post_id": 29715987, "comment_id": 73147942, "body": "Why is the command for the &quot;remaining cases&quot; like this: <code>SUBJECT=| formail -cXSubject</code> <b>without a colon</b>, unlike the command for the first case: <code>SUBJECT=| formail -cXSubject: |</code>?"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1490572350, "post_id": 29715987, "comment_id": 73157105, "body": "I have fixed example to syntax as in <code>man formail</code> examples.  Basic test of ` formail -cXSubject` seem to produce correct results too."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1599125700, "post_id": 29715987, "comment_id": 112679058, "body": "The argument to <code>formail -x</code> is just a string prefix; without the colon you will extract every header which <i>starts</i> with <code>Subject</code>; of course, in practice, unless you are running a fuzz tester or something, only <code>Subject:</code> will actually match."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 18, "last_activity_date": 1583609376, "last_edit_date": 1583609376, "creation_date": 1429352725, "answer_id": 29715987, "question_id": 29715013, "link": "https://stackoverflow.com/questions/29715013/decode-the-utf8-to-iso-8859-1-mail-subject-to-text-in-procmailrc-file/29715987#29715987", "title": "Decode the utf8 to ISO-8859-1 mail subject to text in .procmailrc file", "body": "<p>You may use perl one liner to decode <code>Subject:</code> before assigment to procmail variable.</p>\n\n<pre><code># Store \"may be encoded\" Subject: into $SUBJECT after conversion to ISO-8859-1\n:0 h\n* ^Subject:.*=\\?\nSUBJECT=| formail -cXSubject: | perl -MEncode=from_to -pe 'from_to $_, \"MIME-Header\", \"iso-8859-1\"'\n\n# Store all remaining cases of Subject: into $SUBJECT\n:0 hE\nSUBJECT=| formail -cXSubject:\n\n# trigger recipe based also on $SUBJECT content\n:0\n* ^(To|From).*abc@cdefgh.com\n* SUBJECT ?? ^Subject:.*ABC Store: New Order\n{\n....\n}\n</code></pre>\n\n<hr>\n\n<p>Comment (2020-03-07): It may be better to convert to UTF-8 charset instead of ISO-8859-*.</p>\n"}, {"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1429517142, "post_id": 29719035, "comment_id": 47617655, "body": "This only unwraps the RFC2047 encoding; the result is still in UTF-8.  Because the OP&#39;s regex doesn&#39;t contain any characters where the encoding differs between ISO-8859-1 and UTF-8, it doesn&#39;t seem to matter; but if you want to match text which is not pure ASCII, the encoding does matter, and you should know which encoding you are using.  (Like I argue in another comment, I would actually suggest to keep everything in UTF-8; but that is perhaps not what the OP is requesting. Though the question is unclear on this part.)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429369473, "creation_date": 1429369473, "answer_id": 29719035, "question_id": 29715013, "link": "https://stackoverflow.com/questions/29715013/decode-the-utf8-to-iso-8859-1-mail-subject-to-text-in-procmailrc-file/29719035#29719035", "title": "Decode the utf8 to ISO-8859-1 mail subject to text in .procmailrc file", "body": "<p>You should use <a href=\"https://metacpan.org/pod/MIME::EncWords\" rel=\"nofollow\"><code>MIME::EncWords</code></a>.</p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse MIME::EncWords 'decode_mimewords';\n\nmy $subject = '=?UTF-8?B?QUJDIFN0b3JlOiBOZXcgT3JkZXI=?=';\nmy $decoded = decode_mimewords($subject);\nsay $decoded;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>ABC Store: New Order\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 4643684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a40b1c36c9979dbca36adfe747e743d?s=128&d=identicon&r=PG&f=1", "display_name": "MON", "link": "https://stackoverflow.com/users/4643684/mon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3755, "favorite_count": 0, "accepted_answer_id": 29715987, "answer_count": 2, "score": 11, "last_activity_date": 1583609376, "creation_date": 1429347071, "last_edit_date": 1451291514, "question_id": 29715013, "link": "https://stackoverflow.com/questions/29715013/decode-the-utf8-to-iso-8859-1-mail-subject-to-text-in-procmailrc-file", "title": "Decode the utf8 to ISO-8859-1 mail subject to text in .procmailrc file", "body": "<p>Set out to write a simple procmail recipie that would forward the mail if it found the text \"ABC Store: New Order\" in the subject.</p>\n\n<pre><code> :0\n    * ^(To|From).*abc@cdefgh.com\n    * ^Subject:.*ABC Store: New Order*\n    {\n</code></pre>\n\n<p>Unfortunately the subject field in the mail message coming from the mail server was in MIME encoded-word syntax. </p>\n\n<p>Subject: =?UTF-8?B?QUJDIFN0b3JlOiBOZXcgT3JkZXI=?=</p>\n\n<p>The above subject is utf-8 ISO-8859-1 charset, So was wondering if there are any mechanisms/scripts/utilities to parse this and convert to string format so that I could apply my procmail filter.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 0, "creation_date": 1429348353, "post_id": 29714975, "comment_id": 47565389, "body": "The mention of HTML tags makes me think you need a parser vs. regex, what are the actual strings you want to compare?"}, {"owner": {"reputation": 1269, "user_id": 3057743, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a3d701e8b44019a5d90f360b2d3af3a4?s=128&d=identicon&r=PG&f=1", "display_name": "barej", "link": "https://stackoverflow.com/users/3057743/barej"}, "reply_to_user": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 0, "creation_date": 1429348473, "post_id": 29714975, "comment_id": 47565426, "body": "I also like to use anything else. But we are forced to use regex. This is what question requires use. While there is no example."}], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 2979599, "user_type": "registered", "profile_image": "https://graph.facebook.com/683741519/picture?type=large", "display_name": "rheese", "link": "https://stackoverflow.com/users/2979599/rheese"}, "is_accepted": true, "score": 1, "last_activity_date": 1429424713, "last_edit_date": 1429424713, "creation_date": 1429349873, "answer_id": 29715503, "question_id": 29714975, "link": "https://stackoverflow.com/questions/29714975/perl-regular-expressions-compare-text-form-of-html/29715503#29715503", "title": "Perl regular expressions compare text form of HTML", "body": "<p>take a look on <code>Text::WordDiff</code> or <code>String::Diff</code> module (maybe <code>Text::Diff</code> is enough too).</p>\n\n<p>Only by coding , I guess it's impossible to make in one single step.</p>\n\n<p>without modules I should make the following steps:</p>\n\n<p>First remove all html tags and punctuation (replace them with nothing or one space, depending on what you want, they are word separater or not) and after that you can compare them or count the differences.</p>\n\n<p>1: remove html tags and punctuations:</p>\n\n<pre><code>$string =~ s/&lt;[^&gt;]+?&gt;|[[:punct:] ]/ /igm; #replace with space in this case\n</code></pre>\n\n<p>after that remove multiple white spaces - not need if you use <code>/x</code> -  <code>($string =~ s/\\s+/ /igm;)</code> , and compare them with eq or regex (<code>$string1 =~ //is;</code>), using the /x modifier ( /x = Extended with whitespace and comments; and depends on regex motor which you use) .</p>\n\n<p>after that you need a function to eliminate words present on both texts (I guess multiple presence is ignored too) and get the count of remaining array.</p>\n\n<p>code examples you can find <a href=\"http://www.perlmonks.org/?node_id=660854\" rel=\"nofollow\">here</a></p>\n\n<p>I hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": -1, "last_activity_date": 1429358960, "creation_date": 1429358960, "answer_id": 29717128, "question_id": 29714975, "link": "https://stackoverflow.com/questions/29714975/perl-regular-expressions-compare-text-form-of-html/29717128#29717128", "title": "Perl regular expressions compare text form of HTML", "body": "<pre><code>#subroutine to clean html tags, pontuation and spaces &gt; 2\nsub clean {\nmy ($string) = @_;\n$string =~ s/(&lt;.+?&gt;|[^\\w\\s])//ig;\n$string =~ s/[\\s]{2,}//ig;\nreturn $string;\n}\n\n#clean the strings\nmy $str1 = clean('&lt;B&gt;, &lt;BR /&gt;, &lt;img src=\"aaaa.png\" /&gt;, &lt;/B&gt; test 123');\nmy $str2 = clean('&lt;B&gt;,  test 123 &lt;BR /&gt;, &lt;im g src=\"aaaa.png\" /&gt;, &lt;/B&gt;');\n\n\n#compare two strings\nif($str1 eq $str2){\nprint \"equal\"\n}else{\nprint \"not equal\";\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/vvtVAs\" rel=\"nofollow\">LIVE DEMO</a></p>\n"}], "owner": {"reputation": 1269, "user_id": 3057743, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a3d701e8b44019a5d90f360b2d3af3a4?s=128&d=identicon&r=PG&f=1", "display_name": "barej", "link": "https://stackoverflow.com/users/3057743/barej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 29715503, "answer_count": 2, "score": 1, "last_activity_date": 1429424713, "creation_date": 1429346885, "question_id": 29714975, "link": "https://stackoverflow.com/questions/29714975/perl-regular-expressions-compare-text-form-of-html", "title": "Perl regular expressions compare text form of HTML", "body": "<p>I am very new in Perl. </p>\n\n<p>Previously two texts are compared this way:</p>\n\n<pre><code>        if($arr1[$k1-1] eq $arr2[$k2-1])\n</code></pre>\n\n<p>Now, I am looking for a Perl regex solution to compare two strings with each other in the form that it</p>\n\n<ul>\n<li>ignores case sensitivity</li>\n<li>All punctuation symbols are ignored</li>\n<li>All HTML tags such as <code>&lt;B&gt;</code>, <code>&lt;BR /&gt;</code>, <code>&lt;img src=\"aaaa.png\" /&gt;</code>, <code>&lt;/B&gt;</code> are ignored</li>\n</ul>\n\n<p>I also need the number of words that are different between two texts (regardless of aforementioned cases)</p>\n\n<p>Is there any solution for that in Perl?</p>\n"}, {"tags": ["arrays", "perl", "data-structures", "insert-update", "perl-data-structures"], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 4803909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3d57d08f19bbbd6ba80df4ba2f7ea8?s=128&d=identicon&r=PG&f=1", "display_name": "paperazzo79", "link": "https://stackoverflow.com/users/4803909/paperazzo79"}, "edited": false, "score": 0, "creation_date": 1429352380, "post_id": 29715060, "comment_id": 47566600, "body": "That&#180;s what I was looking for. Thank you very much!"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 1, "last_activity_date": 1429347286, "creation_date": 1429347286, "answer_id": 29715060, "question_id": 29714926, "link": "https://stackoverflow.com/questions/29714926/perl-insert-elements-of-array-in-file-by-substitution/29715060#29715060", "title": "Perl: insert elements of array in file by substitution", "body": "<p>You could do:</p>\n\n<pre><code>my $str = \"line 1\nline 2\nline 3\nSTRING\nline 4\";\nmy @array = qw (ele1 ele2 ele3);\n$str =~ s/STRING/join\"\\n\",@array/e;\nsay $str;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>line 1\nline 2\nline 3\nele1\nele2\nele3\nline 4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4780549, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rJ2Zp8RT5Mk/AAAAAAAAAAI/AAAAAAAAGXo/E-wmeapQM9E/photo.jpg?sz=128", "display_name": "Rich Daley", "link": "https://stackoverflow.com/users/4780549/rich-daley"}, "is_accepted": false, "score": 0, "last_activity_date": 1429442115, "creation_date": 1429442115, "answer_id": 29729110, "question_id": 29714926, "link": "https://stackoverflow.com/questions/29714926/perl-insert-elements-of-array-in-file-by-substitution/29729110#29729110", "title": "Perl: insert elements of array in file by substitution", "body": "<p>You can actually do this without the <code>/e</code> operator, using the <code>$\"</code> variable (<code>$LIST_SEPARATOR</code> if you use English), which changes how arrays are joined when interpolated into strings (including the right-hand side of a <code>s///</code>):</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$\" = \"\\n\";\n@array = qw(ele1 ele2 ele3);\nopen FILE, 'file.txt';\nopen OUTPUT, '&gt;', 'new.txt';\nwhile (&lt;FILE&gt;) {\n  s/^STRING$/@array/;\n  print OUTPUT;\n}\n</code></pre>\n\n<p>Note also that you need <code>^</code> and <code>$</code> anchors on your regexp if you don't want it to match lines <i>containing</i> the word \"STRING\".</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 883460, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b73b87eff7848756220ac4e15ffb2fb7?s=128&d=identicon&r=PG", "display_name": "Saravanan", "link": "https://stackoverflow.com/users/883460/saravanan"}, "is_accepted": false, "score": 0, "last_activity_date": 1429510694, "creation_date": 1429510694, "answer_id": 29740502, "question_id": 29714926, "link": "https://stackoverflow.com/questions/29714926/perl-insert-elements-of-array-in-file-by-substitution/29740502#29740502", "title": "Perl: insert elements of array in file by substitution", "body": "<p>You can also use onliner</p>\n\n<pre><code>perl -pi -e '@a=qw(a b c d e);$aa=join(\"\\n\",@a);s/string/$aa/g;' tt.txt\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 4803909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3d57d08f19bbbd6ba80df4ba2f7ea8?s=128&d=identicon&r=PG&f=1", "display_name": "paperazzo79", "link": "https://stackoverflow.com/users/4803909/paperazzo79"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "accepted_answer_id": 29715060, "answer_count": 3, "score": 0, "last_activity_date": 1429510694, "creation_date": 1429346577, "last_edit_date": 1429413853, "question_id": 29714926, "link": "https://stackoverflow.com/questions/29714926/perl-insert-elements-of-array-in-file-by-substitution", "title": "Perl: insert elements of array in file by substitution", "body": "<p>1) I have a textfile. The file contains a STRING that needs to be substituted with multiple lines, those lines are elements of an array.</p>\n\n<p>Contents of file:  </p>\n\n<pre><code>line 1  \nline 2   \nline 3  \nSTRING  \nline 4  \n...  \n</code></pre>\n\n<p>2.)I have an array</p>\n\n<pre><code>@array = qw (ele1 ele2 ele3);\n</code></pre>\n\n<p>This array can have 2 or more elements.</p>\n\n<p>3.)I want to open the file, substitute the STRING with following pseudocode:  </p>\n\n<pre><code>s/STRING/@array/;  \n</code></pre>\n\n<p>and write results in a new file.</p>\n\n<p>4.) The new file with result should look like this :</p>\n\n<pre><code>line 1  \nline 2   \nline 3  \nele1  \nele2  \nele3\nline 4  \n...\n</code></pre>\n\n<p>Here a piece of pseudocode:</p>\n\n<pre><code>open (FILE \"&lt; file.txt\");\nopen (OUTPUT \"&gt; new.txt\");\n@array=qw(ele1 ele2 ele3);\nfor $line (&lt;FILE&gt;) {\n    s/STRING/@array/;\n    print OUTPUT \"$line\\n\";\n}\nclose FILE;\nclose OUTPUT;\n</code></pre>\n\n<p>Any suggestions on how to insert elements of an array into this file using substitution?</p>\n\n<p>I am not looking for solutions based on <code>sed</code>, <code>awk</code>, <code>cat</code> or Unix shell tools.</p>\n"}, {"tags": ["perl", "url", "escaping"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429340666, "post_id": 29714085, "comment_id": 47563203, "body": "<code>perl yourscript.pl | hexdump -C</code> might be helpful. (and how about <code>qx{}</code>?)"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1429343731, "post_id": 29714085, "comment_id": 47564090, "body": "Please post the actual code of an example that we can run. The code in the question contains a fatal syntax error (the <code>qx</code> is not terminated), so it is not the code you ran to produce your results (because it won&#39;t run, period). Also, even if we could run it, we don&#39;t have your <code>get_port.pl</code> program, so we would get different results for reasons completely unrelated to your question."}, {"owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "edited": false, "score": 0, "creation_date": 1429344319, "post_id": 29714085, "comment_id": 47564247, "body": "Thanks for pointing that out Dave. I have modified it as per latest suggestions and it still doesn&#39;t work. I will post the get_port.pl code shortly. It&#39;s making some calls to an internal API after downloading java &amp; setting a couple of env variables."}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1429346581, "post_id": 29714085, "comment_id": 47564867, "body": "Can you show the result of <code>&#47;usr&#47;bin&#47;perl get_port.pl | od -c</code> ?"}, {"owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429375726, "post_id": 29714085, "comment_id": 47574707, "body": "I&#39;m sorry the get_port.pl has a lot of internal code which I don&#39;t think I should post here. However, @Borodin&#39;s answer worked for me."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429376884, "post_id": 29714085, "comment_id": 47575078, "body": "@manpreetbhamba: The command that tivn asked you to run displays the <i>output</i> of your program, which is just a decimal number with some formatting. The contents of the code are safe. I think using <code>od -a</code> would be a little better though. Please would you do that for us? I realise you are happy with my solution but I would like to see what the problem is"}, {"owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429381036, "post_id": 29714085, "comment_id": 47576627, "body": "Sure @Borodin. I have added the output to my question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429381635, "post_id": 29714085, "comment_id": 47576844, "body": "Okay thanks. Then you have shown only part of the output of your program there is a line <code>http:&#47;&#47;localhost:</code> before that, and we have been trying to fathom why it wasn&#39;t being printed"}, {"owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "edited": false, "score": 0, "creation_date": 1429382568, "post_id": 29714085, "comment_id": 47577191, "body": "Sorry but I thought you wanted me to run the script that I am calling in the above code that only prints the port not the full url."}], "answers": [{"comments": [{"owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "edited": false, "score": 0, "creation_date": 1429344163, "post_id": 29714204, "comment_id": 47564199, "body": "Nope. Doesn&#39;t work for me. Still getting the same output. I do not understand how changing the code for getting port would affect how the url is being stored. Thanks anyways!"}, {"owner": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "reply_to_user": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "edited": false, "score": 0, "creation_date": 1429344951, "post_id": 29714204, "comment_id": 47564402, "body": "running <code>perl -v</code> here yields <code>v5.20.2</code>.  However, the behavior reported isn&#39;t making much sense to me.  It should be printing &quot;http://...&quot; instead of omitting the beginning and providing only the file path."}], "tags": [], "owner": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1429341203, "creation_date": 1429341203, "answer_id": 29714204, "question_id": 29714085, "link": "https://stackoverflow.com/questions/29714085/perl-issue-with-storing-url-in-variable/29714204#29714204", "title": "Perl issue with storing url in variable", "body": "<p>As @\u0421\u0443\u0445\u043e\u043927 I think was trying to point out, you can use other character besides '/' with qx, to simplify syntax and then you don't have to escape the slashes.</p>\n\n<p>I also added a default port 8080 in case get_port.pl does not exist.  </p>\n\n<p>This seems to work properly.</p>\n\n<pre><code>#!/usr/bin/perl -w\n# make 8080 the default port\nmy $port = qx{/usr/bin/perl get_port.pl} || 8080;\nprint $port;\nmy $url = \"http://localhost:$port/cds/ws/CDS\";\nprint \"\\n$url\\n\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>paul@ki6cq:~/SO$ ./so1.pl \nCan't open perl script \"get_port.pl\": No such file or directory\n8080\nhttp://localhost:8080/cds/ws/CDS\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1429368269, "creation_date": 1429368269, "answer_id": 29718783, "question_id": 29714085, "link": "https://stackoverflow.com/questions/29714085/perl-issue-with-storing-url-in-variable/29718783#29718783", "title": "Perl issue with storing url in variable", "body": "<p>There is noithing wrong with your <code>$url</code> string. The problem is almost certainly that the <code>$port</code> string contains carriage-return characters. Presumably you are working on Windows?</p>\n\n<p>Try this code instead, which extracts the first string of digits it finds in the value returned by <code>get_port.pl</code> and discards everything else.</p>\n\n<pre><code>my ($port) = qx{/usr/bin/perl get_port.pl} =~ /(\\d+)/;\nprint $port, \"\\n\";\nmy $url = \"http://localhost:$port/cds/ws/CDS\";\nprint $url, \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 29718783, "answer_count": 2, "score": 0, "last_activity_date": 1429381090, "creation_date": 1429340521, "last_edit_date": 1429381090, "question_id": 29714085, "link": "https://stackoverflow.com/questions/29714085/perl-issue-with-storing-url-in-variable", "title": "Perl issue with storing url in variable", "body": "<p>I am relatively new to Perl. I am trying to store a URL in a variable. Here's my code:</p>\n\n<pre><code>my $port = qx{/usr/bin/perl get_port.pl};\nprint $port;\nmy $url = \"http://localhost:$port/cds/ws/CDS\";\nprint \"\\n$url\\n\";\n</code></pre>\n\n<p>This gives me the below output:</p>\n\n<pre><code>4578\n/cds/ws/CDS\n</code></pre>\n\n<p>So the <code>get_port.pl</code> script is giving me the port correctly but the URL isn't getting stored properly. I believe there's some issue with the slash <code>/</code> but I am not sure how to get around it. I have tried escaping it with backslash and I have also tried <code>qq{}</code> but it keeps giving the same output. </p>\n\n<p>Please advise.</p>\n\n<p>Output for <code>perl get_port.pl | od -a</code></p>\n\n<p><code>0000000  nl   4   5   7   8  nl\n0000006</code></p>\n"}, {"tags": ["string", "perl", "csv", "string-formatting"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "edited": false, "score": 0, "creation_date": 1429429740, "post_id": 29719588, "comment_id": 47588303, "body": "@Borodin   Can you explain to me what the code highlighted fix section do? I am not yet familiar with regex&#39;es. Thanks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "edited": false, "score": 0, "creation_date": 1429450721, "post_id": 29719588, "comment_id": 47594575, "body": "@Meeyaw: That checks whether the current line contains <code>SOURCE=</code> followed by a single- or double-quoted string, and captures (in <code>$1</code>) the string inside the quotes. The comment is just a single quote to prevent the code highlighter from getting confused: without it it thinks the whole of the rest of the program is a string literal"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1429372769, "creation_date": 1429372769, "answer_id": 29719588, "question_id": 29714040, "link": "https://stackoverflow.com/questions/29714040/format-the-following-result-file-into-a-tabular-format-using-perl/29719588#29719588", "title": "format the following result file into a tabular format using Perl", "body": "<p>Here's a program that produces the output you ask for. I don't generally approve of offering answers to questions where the OP hasn't made any attempt to write a solution themselves, but this question interested me.</p>\n\n<p>It may well be that this could be written more simply, but you don't say what parts of the input are invariant. For instance, I have written it so that there can be any number of different columns with any names, rather than just <code>tdr</code> and <code>tdf</code> every time. As it is I have had to guess that the trailing part of each header ends in <code>ll</code>, so for instance <code>tdrll10_0</code> is <code>tdr</code> and <code>ll10_0</code>. If that is wrong then you will need a different way of splitting the string.</p>\n\n<p>I have written the program so that it reads from the <code>DATA</code> file handle. I trust you are able to write an <code>open</code> statement to read from the correct input file?</p>\n\n<p>I hope this helps</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Number::FormatEng 'format_eng';\nNumber::FormatEng::use_e_zero();\n\nmy $fh = \\*DATA;\n\nmy ($source, @headers, @values);\nwhile ( &lt;$fh&gt; ) {\n  if ( /SOURCE=(?|'([^']+)'|\"([^\"]+)\")/ ) { #' code highlighting fix\n    ($source = $1) =~ s/\\.[^.]*\\z//;\n  }\n  elsif ( /^\\.TITLE/ ) {\n    @headers = split ' ', &lt;$fh&gt;;\n    @values  = split ' ', &lt;$fh&gt;;\n    last;\n  }\n}\n\nmy @title = ( $source );\nmy (%headers, @table, @line);\nfor my $i ( 0 .. $#headers) {\n  my @fields = split /(?=ll)/, $headers[$i];\n  if ( $headers{$fields[0]} ) {\n    push @table, [ @line ];\n    @line = ();\n    %headers = ();\n  }\n  ++$headers{$fields[0]};\n  push @line, $fields[1] if @line == 0;\n  push @line, format_eng($values[$i]);\n  push @title, $fields[0] unless @table;\n}\nprint \"$_,\" for @title;\nprint \"\\n\";\n\nfor ( @table ) {\n  print \"$_,\" for @$_;\n  print \"\\n\";\n}\n\n__DATA__\n$MEAS COMMANDS SOURCE='llq1_dly.meas' DB FILE='clk_top_45h_lpe_sim.fsdb'\n.TITLE '**-------------'\n    tdrll10_0        tdfll10_0        tdrll10_1        tdfll10_1        tdrll10_2        tdfll10_2        tdrll10_3\n 2.106560e-10     1.990381e-10     2.102583e-10     1.986280e-10     2.095036e-10     1.978480e-10     2.083813e-10\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>llq1_dly,tdr,tdf,\nll10_0,210.656e-12,199.0381e-12,\nll10_1,210.2583e-12,198.628e-12,\nll10_2,209.5036e-12,197.848e-12,\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 29719588, "answer_count": 1, "score": 0, "last_activity_date": 1429372769, "creation_date": 1429340261, "last_edit_date": 1429369770, "question_id": 29714040, "link": "https://stackoverflow.com/questions/29714040/format-the-following-result-file-into-a-tabular-format-using-perl", "title": "format the following result file into a tabular format using Perl", "body": "<p>I have a sort of a problem, and I am still novice with Perl.</p>\n\n<p>I just want to ask how can I format the following results file into an Excel readable format (let's say CSV). </p>\n\n<p>Result file example. <code>llq1_dly.mt0</code></p>\n\n<pre><code>$MEAS COMMANDS SOURCE='llq1_dly.meas' DB FILE='clk_top_45h_lpe_sim.fsdb'\n.TITLE '**-------------'\n    tdrll10_0        tdfll10_0        tdrll10_1        tdfll10_1        tdrll10_2        tdfll10_2        tdrll10_3\n 2.106560e-10     1.990381e-10     2.102583e-10     1.986280e-10     2.095036e-10     1.978480e-10     2.083813e-10\n</code></pre>\n\n<p>into the following file with a result like this one below</p>\n\n<pre><code>llq1_dly,tdr,tdf,\nll10_0,2.106560e-10,1.990381e-10,\nll10_1,2.102583e-10,1.986280e-10,\nll10_2,2.095036e-10,1.978480e-10,\nll10_3,2.083813e-10,1.967019e-10,\n...\n</code></pre>\n\n<p>or more likely this one (to be compatible with engineering scientific notations):</p>\n\n<pre><code>llq1_dly,tdr,tdf,\nll10_0,210.6560e-12,199.0381e-12,\nll10_1,210.2583e-12,198.6280e-12,\nll10_2,209.5036e-12,197.8480e-12,\nll10_3,208.3813e-12,196.7019e-12,\n...\n</code></pre>\n"}, {"tags": ["html", "perl", "css-selectors", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 625590, "user_id": 106224, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a2d818d801ce38a33807f68fdd92043a?s=128&d=identicon&r=PG", "display_name": "BoltClock", "link": "https://stackoverflow.com/users/106224/boltclock"}, "is_accepted": true, "score": 1, "last_activity_date": 1429339789, "last_edit_date": 1429339789, "creation_date": 1429337476, "answer_id": 29713646, "question_id": 29713580, "link": "https://stackoverflow.com/questions/29713580/mojodom-how-does-matches-work/29713646#29713646", "title": "Mojo::DOM: how does &quot;matches&quot; work?", "body": "<p>The result of <code>Mojo::DOM-&gt;new( $content )</code> is the entire DOM represented by the markup. The starting element is always the top-level element; in this case, it's <code>html</code>. Naturally, <code>html</code> does not match the selector <code>a[rel=\"next\"]</code>, and therefore <code>matches()</code> returns false.</p>\n\n<p>You need to navigate to the <code>a</code> element using <a href=\"http://mojolicio.us/perldoc/Mojo/DOM#at\" rel=\"nofollow\"><code>at()</code></a> before testing it:</p>\n\n<pre><code>my $dom = Mojo::DOM-&gt;new( $content );\nmy $a = $dom-&gt;at( 'a' );\nmy $bool_2;\nif ( defined $a ) {\n    $bool_2= $a-&gt;matches( 'a[rel=\"next\"]' );\n}\nprint \"2 OK\\n\" if $bool_2;\n</code></pre>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 29713646, "answer_count": 1, "score": 0, "last_activity_date": 1429339789, "creation_date": 1429337060, "last_edit_date": 1429337235, "question_id": 29713580, "link": "https://stackoverflow.com/questions/29713580/mojodom-how-does-matches-work", "title": "Mojo::DOM: how does &quot;matches&quot; work?", "body": "<p>What do I need to change in the example below, so that the <code>matches( 'a[rel=\"next\"]' )</code> returns <code>true</code>?</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse Mojo::DOM;\n\nmy $content = '&lt;html&gt;&lt;body&gt;&lt;div&gt;&lt;a hello=\"world\" rel=\"next\"&gt;Next&lt;/a&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;';\n\nmy $bool_1 = $content =~ /&lt;a.+?rel=\"next\"/;\nprint \"1 OK\\n\" if $bool_1;\n\nmy $dom = Mojo::DOM-&gt;new( $content );\nmy $bool_2 = $dom-&gt;matches( 'a[rel=\"next\"]' );\nprint \"2 OK\\n\" if $bool_2; # does not print \"2 OK\"\n</code></pre>\n"}, {"tags": ["perl", "http", "redirect", "cookies", "header"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1429314280, "post_id": 29710672, "comment_id": 47557901, "body": "Please elaborate. What does <i>&quot;The redirect won&#39;t work&quot;</i> mean? Does <i>&quot;does not work after cookie&quot;</i> mean that everyting is fine without the <code>$session-&gt;header</code> statement? I think you need to show the context wherein you&#39;re calling <code>$q-&gt;redirect</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429377995, "post_id": 29710672, "comment_id": 47575463, "body": "1) It doesn&#39;t happen. 2) The purpose of that call is to send a session cookie."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429377830, "post_id": 29711771, "comment_id": 47575396, "body": "Why create the sub in CGI::Session&#39;s namespace?"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429668715, "post_id": 29711771, "comment_id": 47702738, "body": "for convenience and because CGI::Session should provide this convenience :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429669838, "post_id": 29711771, "comment_id": 47703057, "body": "That&#39;s a reason not to do it. Cause if it starts, you could end up with hard to debug problems. There is absolutely no good reason to do it the way you did, and many bad ones. The question was rhetorical; it was identifying a problem needing fixing in your answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429670007, "post_id": 29711771, "comment_id": 47703096, "body": "Besides, CGI::Session already does make it quite convenient, as I showed in my answer"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429670735, "post_id": 29711771, "comment_id": 47703310, "body": "you should probably just mention that you&#39;re being rhetorical next time"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429670811, "post_id": 29711771, "comment_id": 47703338, "body": "I was giving you the benefit of the doubt"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429671859, "post_id": 29711771, "comment_id": 47703590, "body": "why? if all you want to say is &quot;monkeypatch bad&quot; you can lead with that, I won&#39;t mind :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1429671928, "post_id": 29711771, "comment_id": 47703598, "body": "Monkeypatching has uses"}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 0, "last_activity_date": 1429319627, "creation_date": 1429319627, "answer_id": 29711771, "question_id": 29710672, "link": "https://stackoverflow.com/questions/29710672/http-redirect-does-not-work-after-cookie/29711771#29711771", "title": "HTTP redirect does not work after cookie", "body": "<p>Here you go, now you can use <code>$session-&gt;redirect</code>...</p>\n\n<pre><code>#!/usr/bin/perl --\nuse strict;\nuse warnings;\nuse Data::Dump qw/ dd /;\nuse CGI::Session;\nsub CGI::Session::redirect {\n    my $self = shift;\n    my( @args ) = 1==@_ ? (  -uri =&gt; @_ ) : @_;\n    return $self-&gt;query-&gt;redirect(-cookie =&gt; $self-&gt;cookie, @args );\n}\n\ndd( CGI::Session-&gt;new-&gt;redirect );\ndd( CGI::Session-&gt;new-&gt;redirect( 'http://blah' ) );\ndd( CGI::Session-&gt;new-&gt;redirect( -status =&gt; '307 Temporary Redirect' ) );\n__END__\n\"Status: 302 Found\\r\\nSet-Cookie: CGISESSID=ca91ba2e503366755dfad156fc2c3db8; path=/\\r\\nDate: Sat, 18 Apr 2015 01:15:49 GMT\\r\\nLocation: http://localhost\\r\\n\\r\\n\"\n\"Status: 302 Found\\r\\nSet-Cookie: CGISESSID=be18ccf65a3cfaa4997b7047d662a825; path=/\\r\\nDate: Sat, 18 Apr 2015 01:15:49 GMT\\r\\nLocation: http://blah\\r\\n\\r\\n\"\n\"Status: 307 Temporary Redirect\\r\\nSet-Cookie: CGISESSID=ae059a7d25d0932077035bbc108784f2; path=/\\r\\nDate: Sat, 18 Apr 2015 01:15:49 GMT\\r\\nLocation: http://localhost\\r\\n\\r\\n\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1429377804, "last_edit_date": 1429377804, "creation_date": 1429377182, "answer_id": 29720359, "question_id": 29710672, "link": "https://stackoverflow.com/questions/29710672/http-redirect-does-not-work-after-cookie/29720359#29720359", "title": "HTTP redirect does not work after cookie", "body": "<p>Problem:</p>\n\n<p>You are outputting two headers.</p>\n\n<p>Solution:</p>\n\n<p>Instruct $session->header to output the correct header.</p>\n\n<pre><code>$session-&gt;header( -status =&gt; '302 Found', -location =&gt; $url );\n</code></pre>\n\n<hr>\n\n<ul>\n<li><p><code>$session-&gt;header</code> is a shortcut for:</p>\n\n<pre><code>my $cookie = CGI::Cookie-&gt;new( -name =&gt; $session-&gt;name, -value =&gt; $session-&gt;id );\nprint $cgi-&gt;header( -cookie =&gt; $cookie, @_ );\n</code></pre></li>\n<li><p><code>$cgi-&gt;redirect($url)</code> is a shortcut for:</p>\n\n<pre><code>$cgi-&gt;header( -status =&gt; '302 Found', -location =&gt; $url );\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1429377804, "creation_date": 1429310941, "last_edit_date": 1429314181, "question_id": 29710672, "link": "https://stackoverflow.com/questions/29710672/http-redirect-does-not-work-after-cookie", "title": "HTTP redirect does not work after cookie", "body": "<p>Using Perl with <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow\"><code>CGI</code></a> and <a href=\"https://metacpan.org/pod/CGI::Session\" rel=\"nofollow\"><code>CGI::Session</code></a></p>\n\n<pre><code> $session = CGI::Session-&gt;load();\n $session-&gt;header(-cookie =&gt; $cookie, @_);\n</code></pre>\n\n<p>then after the above:</p>\n\n<pre><code> $q = new CGI;\n $q-&gt;redirect('url.com');\n</code></pre>\n\n<p>The redirect won't work this way, is there a solution? I don't want to use an HTML <code>&lt;meta http-equiv=\"refresh\"&gt;</code> element</p>\n"}, {"tags": ["perl", "google-cloud-messaging"], "answers": [{"tags": [], "owner": {"reputation": 3793, "user_id": 4348158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffc277494e458e2be6a0283a7df5767?s=128&d=identicon&r=PG", "display_name": "AniV", "link": "https://stackoverflow.com/users/4348158/aniv"}, "is_accepted": false, "score": 1, "last_activity_date": 1429577030, "creation_date": 1429577030, "answer_id": 29760916, "question_id": 29710331, "link": "https://stackoverflow.com/questions/29710331/maintain-persistent-connection-with-gcm-using-perl-wwwgooglecloudmessaging/29760916#29760916", "title": "Maintain persistent connection with GCM using perl WWW::Google::Cloud::Messaging", "body": "<p>If you want to have a persistent connection for GCM type of messaging rather than having a connection opened everytime you make, You can make use of the <code>libwww</code> library. Please click on the following <a href=\"http://www.nntp.perl.org/group/perl.libwww/1999/11/msg51.html\" rel=\"nofollow\">link</a> to download and learn more about the installation.</p>\n\n<p>Hope that Helps!!</p>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1429601473, "creation_date": 1429308982, "last_edit_date": 1429601473, "question_id": 29710331, "link": "https://stackoverflow.com/questions/29710331/maintain-persistent-connection-with-gcm-using-perl-wwwgooglecloudmessaging", "title": "Maintain persistent connection with GCM using perl WWW::Google::Cloud::Messaging", "body": "<p>I found perl has got a library <code>WWW::Google::Cloud::Messaging</code>. I want to maintain a single TCP connection for communicating with GCM rather than opening new connection for individual message. Is this possible using <code>WWW::Google::Cloud::Messaging</code>? </p>\n"}, {"tags": ["java", "perl", "weka"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429290368, "post_id": 29704924, "comment_id": 47546272, "body": "<a href=\"http://perlmeme.org/howtos/using_perl/interpolation.html\" rel=\"nofollow noreferrer\">perlmeme.org/howtos/using_perl/interpolation.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 1, "last_activity_date": 1429290977, "creation_date": 1429290977, "answer_id": 29705590, "question_id": 29704924, "link": "https://stackoverflow.com/questions/29704924/perl-strings-inside-system-call-to-java/29705590#29705590", "title": "Perl strings inside system call to Java", "body": "<p>When you call a function in Perl, like <code>system</code> in your case, you can use <code>interpolation</code> to have variables inside the strings substituted.</p>\n\n<p>You need to pass the string in double quotes for this to happen, so first you have to replace your surrounding single quotes with double quotes. </p>\n\n<p>Besides, for disambiguation of any variable names appearing in the string, you should write them like this:</p>\n\n<pre><code>\"${id}\" \n</code></pre>\n\n<p>to avoid confusing variable names like i.e. <code>id</code> and <code>idsomething</code>.</p>\n\n<p>Documented here:\n<a href=\"http://perldoc.perl.org/perldata.html#Scalar-value-constructors\" rel=\"nofollow\">http://perldoc.perl.org/perldata.html#Scalar-value-constructors</a></p>\n"}, {"comments": [{"owner": {"reputation": 758, "user_id": 4211231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c11386378a442612ab14ee7e93ce3c7?s=128&d=identicon&r=PG", "display_name": "Matt Oates", "link": "https://stackoverflow.com/users/4211231/matt-oates"}, "edited": false, "score": 1, "creation_date": 1429293377, "post_id": 29706261, "comment_id": 47548096, "body": "Also your for loop should be using a local variable so <code>for my $id (@ID) {}</code>. This is suggestive you haven&#39;t got  use strict; use warnings; at the top of your script which will help you out a lot in avoiding common problems. That or you are reusing $id from outside scope which isn&#39;t a good plan unless you have a good reason, which it doesn&#39;t look like you do."}], "tags": [], "owner": {"reputation": 758, "user_id": 4211231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c11386378a442612ab14ee7e93ce3c7?s=128&d=identicon&r=PG", "display_name": "Matt Oates", "link": "https://stackoverflow.com/users/4211231/matt-oates"}, "is_accepted": true, "score": 1, "last_activity_date": 1429293252, "creation_date": 1429293252, "answer_id": 29706261, "question_id": 29704924, "link": "https://stackoverflow.com/questions/29704924/perl-strings-inside-system-call-to-java/29706261#29706261", "title": "Perl strings inside system call to Java", "body": "<p>It's not clear if the other variables are shell variables other than $id? If you want <em>just</em> $id to be substituted the easiest way is to just use string concatenation:</p>\n\n<pre><code>for $id (@ID) {\n    system('java -Djava.util.Arrays.useLegacyMergeSort=true weka.classifiers.meta.FilteredClassifier -t $PATH/proteins/$id_MSA/$id_.arff -x $cv -s 0 -p 1,2 -distribution \\\n        -F \"weka.filters.MultiFilter -F \\\" weka.filters.unsupervised.attribute.Remove -R 7,9\\\" -F \\\" weka.filters.unsupervised.attribute.RemoveType -T string\\\" \\\n        -F \\\"weka.filters.supervised.instance.SMOTE -C 0 -K 5 -P $smo -S 1\\\"\" -W weka.classifiers.functions.MultilayerPerceptron -- -L 0.3 -M 0.2 -N 500 -V 0 -S 0 -E 20 -H 0 \\\n        &gt; $PATH/rbfs/' . $id . '.rbf');\n}\n</code></pre>\n\n<p>If you wanted all the $something to be treated as if they were perl variables probably the easiest way given you need to use \" and \\\" inside the system string is to replace system() with the `` operator which basically does the same thing as system.</p>\n\n<pre><code>for $id (@ID) {\n    `java -Djava.util.Arrays.useLegacyMergeSort=true weka.classifiers.meta.FilteredClassifier -t $PATH/proteins/$id_MSA/$id_.arff -x $cv -s 0 -p 1,2 -distribution \\\n        -F \"weka.filters.MultiFilter -F \\\" weka.filters.unsupervised.attribute.Remove -R 7,9\\\" -F \\\" weka.filters.unsupervised.attribute.RemoveType -T string\\\" \\\n        -F \\\"weka.filters.supervised.instance.SMOTE -C 0 -K 5 -P $smo -S 1\\\"\" -W weka.classifiers.functions.MultilayerPerceptron -- -L 0.3 -M 0.2 -N 500 -V 0 -S 0 -E 20 -H 0 \\\n        &gt; $PATH/rbfs/$id.rbf`;\n}\n</code></pre>\n"}], "owner": {"reputation": 2999, "user_id": 1472286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fefc10bcebd74a609fe7f8a8e5970909?s=128&d=identicon&r=PG&f=1", "display_name": "PGreen", "link": "https://stackoverflow.com/users/1472286/pgreen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 29706261, "answer_count": 2, "score": 0, "last_activity_date": 1429529161, "creation_date": 1429288794, "last_edit_date": 1429529161, "question_id": 29704924, "link": "https://stackoverflow.com/questions/29704924/perl-strings-inside-system-call-to-java", "title": "Perl strings inside system call to Java", "body": "<p>I define array @ID at the beginning of the code. I do different things with this list of ids, and therefore I define <code>my $id;</code> at the beginning only (I <code>use strict; warnings</code>).</p>\n\n<p>Maybe I simplified too much to ask the question, so it end up being unclear. </p>\n\n<p>Both <code>$cv</code> and <code>$smo</code> are <code>$id</code> dependent and they are all perl strings. Like this:</p>\n\n<pre><code>.... \nfor $id (@ID) { \n\n    $cv = $htotal{$id};\n    $smo = $hsmote{$id};\n\n    system('java -Djava.util.Arrays.useLegacyMergeSort=true weka.classifiers.meta.FilteredClassifier -t Projects/proteins/$id_MSA/$id_.arff -x $cv -s 0 -p 1,2 -distribution \\\n        -F \"weka.filters.MultiFilter -F \\\" weka.filters.unsupervised.attribute.Remove -R 7,9\\\" -F \\\" weka.filters.unsupervised.attribute.RemoveType -T string\\\" \\\n        -F \\\"weka.filters.supervised.instance.SMOTE -C 0 -K 5 -P $smo -S 1\\\"\" -W weka.classifiers.functions.MultilayerPerceptron -- -L 0.3 -M 0.2 -N 500 -V 0 -S 0 -E 20 -H 0 \\\n        &gt; Projects/rbfs/$id.rbf');\n}\n...\n</code></pre>\n\n<p>To make sure there were no Weka errors, I tried, e.g. cv = 2, smo =100, id=P12345; and it worked fine, so it was an interpolation issue, as some of you mentioned.</p>\n\n<p>From the solutions you've mentioned I tried double quotes + {} as @nlu suggested:</p>\n\n<pre><code>system('java [...] -t Projects/proteins/\"${id}\"_MSA/\"${id}\"_.arff -x \"${cv}\" -s 0 -p 1,2 -distribution [...]    -F \\\"weka.filters.supervised.instance.SMOTE -C 0 -K 5 -P \"${smo}\" -S 1\\\"\" [...] &gt; Projects/rbfs/\"${id}\".rbf');\n</code></pre>\n\n<p>But didn't worked, did I write it wrong?</p>\n\n<p>Same with this (replacing <code>system()</code> for ``  ) didn't work: </p>\n\n<p><code>java [...] -t Projects/150400_GSupdate/proteins/${id}_MSA/${id}.arff -x ${cv} -s 0 -p 1,2 [...] -F \\\"weka.filters.supervised.instance.SMOTE -C 0 -K 5 -P ${smo} -S [...] &gt; Projects/150400_GSupdate/rbfs/${id}.rbf</code>;</p>\n\n<p>What finally has worked for me is string concatenation (as @Matt suggested) but I'm sure that all other options should be fine too, although don't know why not. </p>\n"}, {"tags": ["perl", "grep", "pattern-matching"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4746974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3481a6bd19f2cf1b397e493620dde6?s=128&d=identicon&r=PG&f=1", "display_name": "dr057", "link": "https://stackoverflow.com/users/4746974/dr057"}, "edited": false, "score": 1, "creation_date": 1429291893, "post_id": 29704265, "comment_id": 47547192, "body": "Ah, that works! Thank you very much and for explaining details fedorqui, much appreciated."}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": true, "score": 1, "last_activity_date": 1429313251, "last_edit_date": 1429313251, "creation_date": 1429286830, "answer_id": 29704265, "question_id": 29703524, "link": "https://stackoverflow.com/questions/29703524/substring-pattern-matching-in-two-files/29704265#29704265", "title": "Substring pattern matching in two files", "body": "<p>I would use this approach in <code>awk</code>:</p>\n\n<pre><code>$ awk 'FNR==NR {FS=\";\"; a[$2]; next}\n       {FS=\"[,=]\"; if ($4 in a) c++}\n       END{print c}' master file\n3\n</code></pre>\n\n<p>This works by setting different field separators and storing / matching the emails. Then, printing the final sum.</p>\n\n<p>For <code>master</code> file we use <code>;</code> and get the 2nd field:</p>\n\n<pre><code>$ awk -F\";\" '{print $2}' master \nfrc777o.@it.test.com\nbobe@jg.test.com\nrrfuf@us.test.com\nrttuu4en@us.test.com\nfrc77@xed.test.com\nccis6n@cn.test.com\n</code></pre>\n\n<p>For <code>file</code> file (the one with all the info) we use either <code>,</code> or <code>=</code> and get the 4th field:</p>\n\n<pre><code>$ awk -F[,=] '{print $4}' file\njoe7@it.test.com\nbobe@jg.test.com\njerry777@it.test.com\nfrc777o.@it.test.com\nfrc77@xed.test.com\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 758, "user_id": 4211231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c11386378a442612ab14ee7e93ce3c7?s=128&d=identicon&r=PG", "display_name": "Matt Oates", "link": "https://stackoverflow.com/users/4211231/matt-oates"}, "edited": false, "score": 0, "creation_date": 1429295495, "post_id": 29706846, "comment_id": 47549319, "body": "<code>| wc -l</code> if all you need is the count ;P"}, {"owner": {"reputation": 27, "user_id": 4746974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3481a6bd19f2cf1b397e493620dde6?s=128&d=identicon&r=PG&f=1", "display_name": "dr057", "link": "https://stackoverflow.com/users/4746974/dr057"}, "edited": false, "score": 0, "creation_date": 1429298455, "post_id": 29706846, "comment_id": 47551051, "body": "Thanks Matt, that works very nicely from cmd line also, trying to figure out how to merge it into the existing perl script to get it to work."}, {"owner": {"reputation": 27, "user_id": 4746974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3481a6bd19f2cf1b397e493620dde6?s=128&d=identicon&r=PG&f=1", "display_name": "dr057", "link": "https://stackoverflow.com/users/4746974/dr057"}, "edited": false, "score": 0, "creation_date": 1429298632, "post_id": 29706846, "comment_id": 47551150, "body": "I have it like this but it&#39;s throwing an error.  <code>diff &lt;( perl -F&#39;;&#39; -anE &#39;say @F[1]&#39; $mstr | sort -u ) &lt;( perl -pe &#39;m&#47;User-Name=([^,]+),&#47;; $_ = &quot;$1\\n&quot;&#39; $infile | sort -u ) | grep &#39;^&gt;&#39; | perl -pe &#39;s&#47;&gt; &#47;&#47;;&#39; | wc -l &gt; $outcount</code>;  sh: -c: line 0: syntax error near unexpected token <code>(&#39; sh: -c: line 0: </code>diff &lt;( perl -F&#39;;&#39; -anE &#39;say &#39; macid-master.csv | sort -u ) &lt;( perl -pe &#39;m/User-Name=([^,]+),/;  = &quot;&#39;"}, {"owner": {"reputation": 758, "user_id": 4211231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c11386378a442612ab14ee7e93ce3c7?s=128&d=identicon&r=PG", "display_name": "Matt Oates", "link": "https://stackoverflow.com/users/4211231/matt-oates"}, "reply_to_user": {"reputation": 27, "user_id": 4746974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3481a6bd19f2cf1b397e493620dde6?s=128&d=identicon&r=PG&f=1", "display_name": "dr057", "link": "https://stackoverflow.com/users/4746974/dr057"}, "edited": false, "score": 0, "creation_date": 1429312999, "post_id": 29706846, "comment_id": 47557565, "body": "That most certainly isnt exactly what you have in your perl script... The $_ and $1 looks like its being interpreted before it gets to the shell so my guess is you have the whole thing in back ticks in you perl script? If you already have a perl script why not just do all of this properly in there with a couple of hashes?"}, {"owner": {"reputation": 27, "user_id": 4746974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3481a6bd19f2cf1b397e493620dde6?s=128&d=identicon&r=PG&f=1", "display_name": "dr057", "link": "https://stackoverflow.com/users/4746974/dr057"}, "edited": false, "score": 0, "creation_date": 1429364681, "post_id": 29706846, "comment_id": 47570735, "body": "Yes, I added back ticks, I&#39;ll try it with a couple hashes.. Thanks again Matt."}, {"owner": {"reputation": 758, "user_id": 4211231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c11386378a442612ab14ee7e93ce3c7?s=128&d=identicon&r=PG", "display_name": "Matt Oates", "link": "https://stackoverflow.com/users/4211231/matt-oates"}, "reply_to_user": {"reputation": 27, "user_id": 4746974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3481a6bd19f2cf1b397e493620dde6?s=128&d=identicon&r=PG&f=1", "display_name": "dr057", "link": "https://stackoverflow.com/users/4746974/dr057"}, "edited": false, "score": 0, "creation_date": 1429440664, "post_id": 29706846, "comment_id": 47591281, "body": "To get it working as is use system() and juggle the quote usage."}], "tags": [], "owner": {"reputation": 758, "user_id": 4211231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c11386378a442612ab14ee7e93ce3c7?s=128&d=identicon&r=PG", "display_name": "Matt Oates", "link": "https://stackoverflow.com/users/4211231/matt-oates"}, "is_accepted": false, "score": 1, "last_activity_date": 1429295914, "last_edit_date": 1429295914, "creation_date": 1429295383, "answer_id": 29706846, "question_id": 29703524, "link": "https://stackoverflow.com/questions/29703524/substring-pattern-matching-in-two-files/29706846#29706846", "title": "Substring pattern matching in two files", "body": "<p>Think the below does what you want as a one liner with diff and perl:</p>\n\n<pre><code>diff &lt;( perl -F';' -anE 'say @F[1]' master | sort -u ) &lt;( perl -pe 'm/User-Name=([^,]+),/; $_ = \"$1\\n\"' data | sort -u ) | grep '^&gt;' | perl -pe 's/&gt; //;'\n</code></pre>\n\n<p>The <code>diff &lt;( command_a |sort -u ) &lt;( command_b |sort -u) | grep '&gt;'</code> lets you handle the set difference of the command output.</p>\n\n<p><code>perl -F';' -anE 'say @F[1]'</code> just splits each line of the file on ';' and prints the second field on its own line.</p>\n\n<p><code>perl -pe 'm/User-Name=([^,]+),/; $_ = \"$1\\n\"'</code> gets the specific field you wanted ignoring the surrounding key= and prints on a new line implicitly.</p>\n"}], "owner": {"reputation": 27, "user_id": 4746974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3481a6bd19f2cf1b397e493620dde6?s=128&d=identicon&r=PG&f=1", "display_name": "dr057", "link": "https://stackoverflow.com/users/4746974/dr057"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 29704265, "answer_count": 2, "score": 0, "last_activity_date": 1429313251, "creation_date": 1429284750, "last_edit_date": 1429286879, "question_id": 29703524, "link": "https://stackoverflow.com/questions/29703524/substring-pattern-matching-in-two-files", "title": "Substring pattern matching in two files", "body": "<p>I have an input flat file like this with many rows:</p>\n\n<pre><code>Apr  3 13:30:02 aag8-ca-acs01-en2 CisACS_01_PassedAuth p1n5ut5s 1 0 Message-Type=Authen OK,User-Name=joe7@it.test.com,NAS-  IP-Address=4.196.63.55,Caller-ID=az-4d-31-89-92-90,EAP Type=17,EAP Type Name=LEAP,Response Time=0,\nApr  3 13:30:02 aag8-ca-acs01-en2 CisACS_01_PassedAuth p1n6ut5s 1 0 Message-Type=Authen OK,User-Name=bobe@jg.test.com,NAS-IP-Address=4.197.43.55,Caller-ID=az-4d-4q-x8-92-80,EAP Type=17,EAP Type Name=LEAP,Response Time=0,\nApr  3 13:30:02 abg8-ca-acs01-en2 CisACS_01_PassedAuth p1n4ut5s 1 0 Message-Type=Authen OK,User-Name=jerry777@it.test.com,NAS-IP-Address=7.196.63.55,Caller-ID=az-4d-n6-4e-y2-90,EAP Type=17,EAP Type Name=LEAP,Response Time=0,\nApr  3 13:30:02 aca8-ca-acs01-en2 CisACS_01_PassedAuth p1n4ut5s 1 0 Message-Type=Authen OK,User-Name=frc777o.@it.test.com,NAS-IP-Address=4.196.263.55,Caller-ID=a4-4e-31-99-92-90,EAP Type=17,EAP Type Name=LEAP,Response Time=0,\nApr  3 13:30:02 aag8-ca-acs01-en2 CisACS_01_PassedAuth p1n4ut5s 1 0 Message-Type=Authen OK,User-Name=frc77@xed.test.com,NAS-IP-Address=4.136.163.55,Caller-ID=az-4d-4w-b5-s2-90,EAP Type=17,EAP Type Name=LEAP,Response Time=0,\n</code></pre>\n\n<p>I'm trying to <code>grep</code> the email addresses from input file to see if they already exist in the master file.</p>\n\n<p>Master flat file looks like this:</p>\n\n<pre><code>a44e31999290;frc777o.@it.test.com;20150403\naz4d4qx89280;bobe@jg.test.com;20150403\n0dbgd0fed04t;rrfuf@us.test.com;20150403\n28cbe9191d53;rttuu4en@us.test.com;20150403\naz4d4wb5s290;frc77@xed.test.com;20150403\nd89695174805;ccis6n@cn.test.com;20150403\n</code></pre>\n\n<p>If the email doesn't exist in master I want a simple count.</p>\n\n<p>So using the examples I hope to see: <code>count=3</code>, because <code>bobe@jg.test.com</code> and <code>frc77@xed.test.com</code> already exist in master but the others don't.</p>\n\n<p>I tried various combinations of grep, example below from last tests but it is not working.. I'm using grep within a perl script to first capture emails and then count them but all I really need is the count of emails from input file that don't exist in master. </p>\n\n<pre><code>grep -o -P '(?&lt;=User-Name=\\).*(?=,NAS-IP-)' $infile $mstr &gt; $new_emails;\n</code></pre>\n\n<p>Any help would be appreciated, Thanks.</p>\n"}, {"tags": ["perl", "csv", "bioinformatics", "strict"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1429284267, "creation_date": 1429284267, "answer_id": 29703346, "question_id": 29703158, "link": "https://stackoverflow.com/questions/29703158/perl-compilation-error/29703346#29703346", "title": "Perl compilation error", "body": "<p>Create a hash from the CSV where the key is the name and the value is the position.</p>\n\n<pre><code>use Text::CSV_XS qw( );\n\nmy %pos_by_name;\n{\n   open(my $fh, '&lt;', $input_qfn)\n      or die(\"Can't open $input_qfn: $!\\n\");\n\n   my $csv = Text::CSV_XS-&gt;new({ auto_diag =&gt; 1, binary =&gt; 1 });\n   while (my $row = $csv_in-&gt;getline($fh)) {\n      $pos_by_name{ $row-&gt;[0] } = $row-&gt;[2];\n   }\n}\n</code></pre>\n\n<p>Then, it's just a question of extracting the names from the other file, and using the hash to find the associated position.</p>\n\n<pre><code>open(my $fh, '&lt;', $fasta_qfn)\n   or die(\"Can't open $fasta_qfn: $!\\n\");\n\nwhile (&lt;$fh&gt;) {\n   chomp;\n   my ($name) = /^&gt;(.*)/\n      or next;\n\n   my $pos = $pos_by_name{$name};\n   if (!defined($pos)) {\n      die(\"Can't find position for $name\\n\");\n   }\n\n   ... Do something with $name and $pos ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1890, "user_id": 1585439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/v6Hik.jpg?s=128&g=1", "display_name": "Zach Leighton", "link": "https://stackoverflow.com/users/1585439/zach-leighton"}, "edited": false, "score": 1, "creation_date": 1429286159, "post_id": 29703349, "comment_id": 47543640, "body": "Perl::Tidy might be helpful for him."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1429284274, "creation_date": 1429284274, "answer_id": 29703349, "question_id": 29703158, "link": "https://stackoverflow.com/questions/29703158/perl-compilation-error/29703349#29703349", "title": "Perl compilation error", "body": "<p>Please, learn to indent the code correctly. Then the error will be more obvious:</p>\n\n<pre><code>while (my $linea = &lt;$fh3&gt;){  #same order.\n    chomp $linea;\n    if ($linea =~ /^&gt;(.+)/) { \n        print $fh3 \"\\n$linea\\n\";\n    } else {\n        # Commented out as it does nothing.\n        # $linea =~ /^\\s*(.*)\\s*$/;\n        # chomp $linea;\n        print $fh3 \"$linea\\n\";\n    }   \n}\n\nif ($Rscore &gt;= 0.5){\n    $Psequence = substr $linea, -20, 81; \n    print \"$seqname\\n$Psequence\";\n}\n</code></pre>\n\n<p><code>$linea</code> exists only in the while loop, but you try to use it in the following paragraph, too. The variable disappears when the loop ends.</p>\n"}], "owner": {"reputation": 11, "user_id": 4801701, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153167084390365/picture?type=large", "display_name": "Valentin Iglesias", "link": "https://stackoverflow.com/users/4801701/valentin-iglesias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1429284274, "creation_date": 1429283762, "question_id": 29703158, "link": "https://stackoverflow.com/questions/29703158/perl-compilation-error", "title": "Perl compilation error", "body": "<p>sorry if it seems obvious but Im pretty new at Perl and programming and I've been working over a week and can't get it done. \nMy idea is simple. I've got a .csv where I've got the names in the first column, a number from -1 to 1 in the second and a position on the third. Then another file where I have got the names (line starts with >) and the info with 80 characters per line.</p>\n\n<p>What I want to do is keep the name lines of the first file and grab the 'position' given from -20 to +60. But I cannot get it to work and I've got to the point where don't know where to follow.  </p>\n\n<pre><code>use strict;                 #read file line by line\nuse warnings;\nmy $outputfile = \"Output1.txt\";\nmy $filename = \"InputP.txt\";\nmy $inputfasta = \"Inputfasta.txt\";\nopen my $fh, '&lt;', $filename or die \"Couldn't open '$filename'\";\nopen my $fh2, '&gt;', $outputfile or die \"Couldn't create '$outputfile'\";\nopen my $fh3, '&lt;', $inputfasta or die \"Couldn't open '$inputfasta'\";\nmy $Psequence = 0;\nmy $seqname = 0;\n\nwhile (my $line = &lt;$fh&gt;) {\nchomp $line;\nmy $length = index ($line, \",\");\n$seqname = substr ($line, 0, $length);  \n\nmy $length2 = index ($line, \",\", $length);\nmy $score = substr ($line, $length +1, $length2);   \n\nmy $length3 = index ($line, \",\", $length2);\nmy $position = substr ($line, $length2 +1, $length3);   \n\n#print $fh2 \"$seqname\".\"\\t\".\"$score\".\"\\t\".\"$position\".\"\\n\";  }\n\nmy $Rlength2 = index ($score, \",\");\nmy $Rscore = substr ($score, 0, $Rlength2);\n#print \"$Rscore\".\"\\n\";}\n        while (my $linea = &lt;$fh3&gt;){  #same order.\n\n            chomp $linea;\n                if ($linea=~/^&gt;(.+)/) { \n                    print $fh3 \"\\n\".\"$linea\".\"\\n\"; }\n                else { $linea =~ /^\\s*(.*)\\s*$/;\n                    chomp $linea;\n                    print $fh3 \"$linea\". \"\\n\"; }   \n                    }\n                if ($Rscore &gt;= 0.5){\n                    $Psequence = substr ($linea, -20, 81); \n                    print \"$seqname\".\"\\n\".\"$Psequence\";}\n        }\n</code></pre>\n"}]