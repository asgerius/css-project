[{"tags": ["perl", "shell", "unix", "awk", "sed"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1465429905, "post_id": 37714716, "comment_id": 62903076, "body": "<code>sed &#39;s&#47;^&#47; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\u00a0\u00a0 \u00a0 \u00a0 &#47;&#39;</code> (where I typed 25 spaces but SO Markdown probably removed most of them; it&#39;s better with some <code>&amp;nbsp;</code> non-breaking spaces, but damn fiddly)."}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 2, "creation_date": 1465434821, "post_id": 37714716, "comment_id": 62904260, "body": "seems like a X-Y problem.  What will the spaces be used for in the next step?"}], "answers": [{"comments": [{"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1465483958, "post_id": 37714940, "comment_id": 62929989, "body": "<code>-p</code> doesn&#39;t chomp input, <code>-l</code> does (which also sets <code>$\\ = &quot;\\n&quot;</code>). You can reassign <code>$_</code> with <code>-p</code>: <code>perl -pe &#39;$_ = $&quot;x25 . $_&#39; filename</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1465492421, "post_id": 37714940, "comment_id": 62935704, "body": "@andlrc  Oh ... thank you. I forget and mix them up sometimes, and it&#39;s annoying.  Thank you.  That trick with <code>$&quot;x25</code> I had <i>no idea</i> about! I&#39;m adding it, and have to loop it up  :) Thank you :)."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1465492549, "post_id": 37714940, "comment_id": 62935791, "body": "Using <code>-l</code>  which sets: <code>$\\ = &quot;\\n&quot;</code>, which is prepended to each print statement. Try running: <code>perl -e &#39;print for 1..3&#39;</code> vs  <code>perl -le &#39;print for 1..3&#39;</code>"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1465492661, "post_id": 37714940, "comment_id": 62935857, "body": "A good way to figure out what each flag do is running: <code>perl -MO=Deparse -e &#39;&#39;</code>, eg: <code>perl -MO=Deparse -n -e &#39;&#39;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1465493307, "post_id": 37714940, "comment_id": 62936236, "body": "@andlrc Yes, thank you, that&#39;s probably why I mixed them up.  I removed it, the point here was to have it simple and clear.  Thanks for <code>$&quot;</code>, I didn&#39;t actually know about that one at all.  I use <code>Deparse</code>, it&#39;s such a great tool. I used it for a post here recently, one-liner actually.  Thank you for fixing this :)"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1465493785, "post_id": 37714940, "comment_id": 62936555, "body": "Using <code>$&quot;</code> is a bad golfing habit and I wouldn&#39;t recommend it in production code. But it&#39;s still nice. Going off topic: There are many cool of these, to name a few <code>$=</code> which is casting to int, <code>$.</code> which is true after each line read as it contains the line number of the last used fh. <code>$&#47;</code> which defaults to a newline, as it&#39;s the input separator, can be set to a NUL byte to slurp a file: <code>$&#47; = &quot;\\0&quot;; $a = &lt;$fh&gt;;</code>. :-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1465494079, "post_id": 37714940, "comment_id": 62936737, "body": "@andlrc Completely agree, most of these are to be used secretly (make better bugs that way).  I do use <code>local $&#47;</code>, mostly in <code>$file = do { ... };</code>, also so that I can scope that one-time <code>$fh</code> as well. The <code>$.</code> is ocassionally exactly what&#39;s needed.  Didn&#39;t know about <code>$=</code> (or forgot very successfully :).  I think I should read through all of them again, it&#39;s been a long while."}, {"owner": {"reputation": 33, "user_id": 4965756, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4e02c88fdfb82acac38d755c322ce036?s=128&d=identicon&r=PG&f=1", "display_name": "predictive", "link": "https://stackoverflow.com/users/4965756/predictive"}, "edited": false, "score": 0, "creation_date": 1465768233, "post_id": 37714940, "comment_id": 63026489, "body": "@zdim  @ andlrc how to to update and add the blank cells in the same &quot;filename&quot; instead of sending result to a newer file &quot; output &quot; ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 33, "user_id": 4965756, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4e02c88fdfb82acac38d755c322ce036?s=128&d=identicon&r=PG&f=1", "display_name": "predictive", "link": "https://stackoverflow.com/users/4965756/predictive"}, "edited": false, "score": 0, "creation_date": 1465786821, "post_id": 37714940, "comment_id": 63029822, "body": "@predictive  I&#39;ve added this to the end of the post. In short, you add <code>-i</code> switch (to either version) and then the input file itself is changed instead of printing to screen."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1465786762, "last_edit_date": 1495535348, "creation_date": 1465431090, "answer_id": 37714940, "question_id": 37714716, "link": "https://stackoverflow.com/questions/37714716/adding-blank-cells-in-huge-file/37714940#37714940", "title": "Adding blank cells in huge file", "body": "<p>Both of these read each line of the file <code>filename</code> and print it out with 25 blank spaces prepending it, what is all redirected to a file. You can use either</p>\n\n<pre><code>perl -ne 'print \" \" x 25 . $_' filename  &gt; outfile\n</code></pre>\n\n<p>or </p>\n\n<pre><code>perl -pe '$_ = \" \" x 25 . $_' filename   &gt; outfile\n</code></pre>\n\n<p>The commands are the same for all practical purposes, and both read the file line by line which is what you want if the file is large. The <code>&gt; outfile</code> redirects the output to a file with that name.</p>\n\n<hr>\n\n<p>Each of the examples above is a complete command-line program, that is entered and executed in the terminal. The switches </p>\n\n<ul>\n<li><code>-e</code> means that everything that is in between the following single quotes, <code>'...'</code>, is to be executed by Perl as a program.  It can be any valid Perl code.  </li>\n</ul>\n\n<p>However, these <em>one-liner</em> mini programs come with extra conveniences.</p>\n\n<ul>\n<li><p><code>-n</code> sets up a loop over the standard input, so a file submitted after the command (<code>filename</code> above) is read line by line and whatever code is between <code>''</code> is executed on each of its lines in turn. So we don't have to open a file and loop over its lines by hand.</p></li>\n<li><p><code>-p</code> does the same as <code>-n</code> with an additional convenience -- it prints the line once it's processed. So if we want each line printed we can use <code>-p</code> and don't have to say <code>print</code>.  The second example above uses this.</p></li>\n<li><p><code>-i</code> change the input file \"in-place,\" used below. A backup can be made as well, see docs.</p></li>\n<li><p>Each line is read into the default variable <code>$_</code>, and many facilities in Perl operate on it by default (if no variable is passed to them). For example, to print a line we often just say <code>print</code>. Here each line needs to be manipulated so I explicitly use <code>$_</code> but most of the time we don't.</p></li>\n</ul>\n\n<p>There is quite a bit more, see <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>perlrun</code></a></p>\n\n<hr>\n\n<p>Note, provided by <a href=\"https://stackoverflow.com/users/887539/andlrc\"><code>andlrc</code></a> in a comment -- one can also use the<code>$\"</code> for single white space</p>\n\n<pre><code>perl -pe '$_ = $\"x25 . $_' filename  &gt; outfile\n</code></pre>\n\n<p>From <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">Special Variables in <code>perlrun</code></a></p>\n\n<blockquote>\n  <ul>\n  <li>$\"<br>\n  When an array or an array slice is interpolated into a double-quoted string or a similar context such as /.../ , its elements are separated by this value. Default is a space.</li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<p>To change the original file add the switch <code>-i</code>, for \"in-place.\"  This works with either version above</p>\n\n<pre><code>perl -i -ne 'print \" \" x 25 . $_' filename\n</code></pre>\n\n<p>After this the input <code>filename</code> will have been changed (so that each line has 25 spaces prepended). It is possible to have a backup of the original file saved, see <a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\"><code>Command switches in perlrun</code></a>.</p>\n"}, {"comments": [{"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 1, "creation_date": 1465472012, "post_id": 37716896, "comment_id": 62920729, "body": "+ for the <code>%*s</code>... always learn from u."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1465446936, "creation_date": 1465446936, "answer_id": 37716896, "question_id": 37714716, "link": "https://stackoverflow.com/questions/37714716/adding-blank-cells-in-huge-file/37716896#37716896", "title": "Adding blank cells in huge file", "body": "<p>Take your pick:</p>\n\n<pre><code>$ awk '{printf \"%34s\\n\", $0}' file\n                         125552552\n                         126382233\n                         454654654\n                         548652545\n                         876544545\n\n$ awk '{printf \"%25s%s\\n\", \"\", $0}' file\n                         125552552\n                         126382233\n                         454654654\n                         548652545\n                         876544545\n\n$ awk '{printf \"%*s\\n\", length()+25, $0}' file\n                         125552552\n                         126382233\n                         454654654\n                         548652545\n                         876544545\n\n$ awk 'BEGIN{s=sprintf(\"%25s\",\"\")} {printf \"%s%s\\n\", s, $0}' file\n                         125552552\n                         126382233\n                         454654654\n                         548652545\n                         876544545\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4965756, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4e02c88fdfb82acac38d755c322ce036?s=128&d=identicon&r=PG&f=1", "display_name": "predictive", "link": "https://stackoverflow.com/users/4965756/predictive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "closed_date": 1466691893, "accepted_answer_id": 37714940, "answer_count": 2, "score": -2, "last_activity_date": 1465786762, "creation_date": 1465429465, "last_edit_date": 1465430829, "question_id": 37714716, "link": "https://stackoverflow.com/questions/37714716/adding-blank-cells-in-huge-file", "closed_reason": "Needs more focus", "title": "Adding blank cells in huge file", "body": "<p>I have a huge file that looks like: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>125552552\n126382233\n454654654\n548652545\n876544545\n</code></pre>\n\n<p>I want to add 25 blank cells that way: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>                                       125552552\n                                       126382233\n                                       454654654\n                                       548652545\n                                       876544545\n</code></pre>\n\n<p>I know that there is a way to do that via awk or sed...</p>\n"}, {"tags": ["javascript", "html", "perl", "iframe"], "comments": [{"owner": {"reputation": 2737, "user_id": 890537, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/W8eJ5.png?s=128&g=1", "display_name": "m02ph3u5", "link": "https://stackoverflow.com/users/890537/m02ph3u5"}, "edited": false, "score": 0, "creation_date": 1465422670, "post_id": 37713513, "comment_id": 62900672, "body": "So why are you changing <code>document.location</code>? If you want to change the documents <i>content</i> use the DOM or <code>document.write()</code> ..."}, {"owner": {"reputation": 3, "user_id": 6442615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37cbde1f9dc3c2cff971b2aee41a72fd?s=128&d=identicon&r=PG&f=1", "display_name": "kepj", "link": "https://stackoverflow.com/users/6442615/kepj"}, "reply_to_user": {"reputation": 2737, "user_id": 890537, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/W8eJ5.png?s=128&g=1", "display_name": "m02ph3u5", "link": "https://stackoverflow.com/users/890537/m02ph3u5"}, "edited": false, "score": 0, "creation_date": 1465423035, "post_id": 37713513, "comment_id": 62900839, "body": "@m02ph3u5 What do you mean by &quot;use the DOM&quot;? Could you show how you would do this?"}, {"owner": {"reputation": 10578, "user_id": 3233827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LVngi.jpg?s=128&g=1", "display_name": "ssc-hrep3", "link": "https://stackoverflow.com/users/3233827/ssc-hrep3"}, "edited": false, "score": 0, "creation_date": 1465429540, "post_id": 37713513, "comment_id": 62902969, "body": "What do you want to change?"}, {"owner": {"reputation": 2737, "user_id": 890537, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/W8eJ5.png?s=128&g=1", "display_name": "m02ph3u5", "link": "https://stackoverflow.com/users/890537/m02ph3u5"}, "edited": false, "score": 0, "creation_date": 1465596179, "post_id": 37713513, "comment_id": 62984800, "body": "It is unclear what you&#39;re asking for. The page inside the iframe shall change it&#39;s contents? Depending on what? The page inside the iframe doesn&#39;t care that it&#39;s inside an iframe."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 6174907, "user_type": "registered", "profile_image": "https://graph.facebook.com/993907760700820/picture?type=large", "display_name": "Juan Manuel Dom&#237;nguez", "link": "https://stackoverflow.com/users/6174907/juan-manuel-dom%c3%adnguez"}, "is_accepted": false, "score": 1, "last_activity_date": 1465430346, "creation_date": 1465430346, "answer_id": 37714834, "question_id": 37713513, "link": "https://stackoverflow.com/questions/37713513/change-iframe-from-inside/37714834#37714834", "title": "Change iframe from inside", "body": "<p>Let's call <em>Outside</em> the page that loads the iframe tag, and let's call <em>Inside</em> the cotent whitin the iframe.</p>\n\n<p><em>Outside</em> can control <em>Inside</em><br>\n<em>Inside</em> can't control <em>Outside</em> for security reasons</p>\n\n<p>In order for <em>Inside</em> to speak with <em>Outside</em> it must be server-side. <em>Inside</em> talks to the server via AJAX (among others methods), and <em>Outside</em> may retrieve that information.</p>\n\n<p>If you want <em>Inside</em> to change its location (<a href=\"http://localhost/givemehtml\" rel=\"nofollow\">http://localhost/givemehtml</a>), you may use:</p>\n\n<pre><code>window.location.href = 'http://localhost/anotherhtml'\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6442615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37cbde1f9dc3c2cff971b2aee41a72fd?s=128&d=identicon&r=PG&f=1", "display_name": "kepj", "link": "https://stackoverflow.com/users/6442615/kepj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465430346, "creation_date": 1465422416, "question_id": 37713513, "link": "https://stackoverflow.com/questions/37713513/change-iframe-from-inside", "title": "Change iframe from inside", "body": "<p>I am trying to change the content of an iframe from inside the iframe.</p>\n\n<p>Perl/backend:</p>\n\n<pre><code>my $doc = `curl -k 'http://localhost/givemehtml`;\n$doc =~ s|&lt;/script|&lt;/scr/ipt|g;\n$form .=  qq|&lt;script&gt;document.location='data:text/html;charset:utf-8,' + '$doc'; &lt;/script&gt;|;\n</code></pre>\n\n<p><code>$form</code> is all of the html in the iframe, which has default content (inserted into <code>$form</code> earlier), which I want to change with the script.</p>\n\n<p>With my code above the iframe doesn't change content. How do I fix this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 25335, "user_id": 1118101, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/iiW7i.png?s=128&g=1", "display_name": "theglauber", "link": "https://stackoverflow.com/users/1118101/theglauber"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465491307, "post_id": 37713137, "comment_id": 62935065, "body": "@Borodin , thanks for the edit"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465491450, "post_id": 37713137, "comment_id": 62935152, "body": "You&#39;re welcome. Most people take a parental attitude to their posts and curse me for even touching them!"}], "answers": [{"comments": [{"owner": {"reputation": 25335, "user_id": 1118101, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/iiW7i.png?s=128&g=1", "display_name": "theglauber", "link": "https://stackoverflow.com/users/1118101/theglauber"}, "edited": false, "score": 0, "creation_date": 1465490919, "post_id": 37720749, "comment_id": 62934843, "body": "Yes, same here. Thanks for looking, i couldn&#39;t believe something this basic would be overlooked. So depending on how long the program lives, connections may be timed out by the server, or they will be closed when the program terminates and Unix releases its resources.  If the server times out the connection, i think some resources still are kept on the client side (the client side of the socket). So a  long lived program may be able to make many connections and eventually starve the system, because they are not properly released."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 25335, "user_id": 1118101, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/iiW7i.png?s=128&g=1", "display_name": "theglauber", "link": "https://stackoverflow.com/users/1118101/theglauber"}, "edited": false, "score": 0, "creation_date": 1465503614, "post_id": 37720749, "comment_id": 62942178, "body": "That sounds reasonable, but I don&#39;t know enough about SSH to say anything about it."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1465461211, "creation_date": 1465461211, "answer_id": 37720749, "question_id": 37713137, "link": "https://stackoverflow.com/questions/37713137/how-to-log-out-when-using-netsftp/37720749#37720749", "title": "How to log out when using Net::SFTP", "body": "<p><strong>You can't.</strong></p>\n\n<p>I've looked at the source code for both <a href=\"https://metacpan.org/source/DBROBINS/Net-SFTP-0.10/lib/Net/SFTP.pm\" rel=\"noreferrer\">Net::SFTP</a> and Net::SSH::Perl. Neither of them has a <code>DESTROY</code> method, so there is no explicit cleanup being done. There are also no <code>disconnect</code> or <code>quit</code> or similar.</p>\n\n<p>Net::SSH::Perl has a <a href=\"https://metacpan.org/source/Net::SSH::Perl#L267\" rel=\"noreferrer\"><code>sub _disconnect</code> which is empty</a>. It's <a href=\"https://metacpan.org/source/Net::SSH::Perl#L269\" rel=\"noreferrer\">called by <code>sub fatal_disconnect</code></a>. <a href=\"https://metacpan.org/source/DBROBINS/Net-SFTP-0.10/lib/Net/SFTP.pm#L93\" rel=\"noreferrer\"><code>fatal_disconnect</code> is used</a> by Net::SFTP in case an SFTP request failed. But that's it. Nothing else.</p>\n\n<p>The objects get cleaned up by Perl as soon as they go out of scope.</p>\n\n<pre><code>{\n    my $sftp = Net::SFTP-&gt;connect; # example\n    # do stuff...\n}\n\n# here it has been cleaned up and DESTROY was called on it\n</code></pre>\n\n<p>But since there is no code, nothing else happens. I cannot find code that tells the SSH to log out. Maybe it just times out. We would have to look at the server logs to see what happens.</p>\n"}], "owner": {"reputation": 25335, "user_id": 1118101, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/iiW7i.png?s=128&g=1", "display_name": "theglauber", "link": "https://stackoverflow.com/users/1118101/theglauber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 37720749, "answer_count": 1, "score": 5, "last_activity_date": 1465461211, "creation_date": 1465420924, "last_edit_date": 1465421891, "question_id": 37713137, "link": "https://stackoverflow.com/questions/37713137/how-to-log-out-when-using-netsftp", "title": "How to log out when using Net::SFTP", "body": "<p>I'm trying to get started with <a href=\"https://metacpan.org/pod/Net::SFTP\" rel=\"noreferrer\"><code>Net::SFTP</code></a>, but I wasn't able to find in its documentation or in the documentation for <a href=\"https://metacpan.org/pod/Net::SSH::Perl\" rel=\"noreferrer\"><code>Net::SSH::Perl</code></a>, how we're supposed to log out of the SFTP server. </p>\n\n<p>What am I missing? </p>\n\n<p>Is logout handled by garbage control?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1465420979, "post_id": 37713115, "comment_id": 62899908, "body": "<a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Quote-Like-Operators</a> Do a ctrl-f for <code>tr&#47;SEARCHLIST</code> and you&#39;ll find the relevant section"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 3, "creation_date": 1465421308, "post_id": 37713115, "comment_id": 62900060, "body": "There&#39;s a <i>&quot;from&quot;</i> list of letters on the left and a <i>&quot;to&quot;</i> list of letters on the right. Each single letter that occurs in the left list is transliterated into the corresponding one in the right list."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1465421591, "post_id": 37713115, "comment_id": 62900194, "body": "@MarkSetchell make that an answer not a comment"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 8, "last_activity_date": 1465424106, "creation_date": 1465424106, "answer_id": 37713853, "question_id": 37713115, "link": "https://stackoverflow.com/questions/37713115/transliteration/37713853#37713853", "title": "Transliteration", "body": "<p><code>a-z</code> is expanded to the 26 character string <code>abcdefghijklmnopqrstuvwxyz</code>.</p>\n\n<p><code>c-za-b</code> is expanded to the 26 character string <code>cdefghijklmnopqrstuvwxyzab</code>.</p>\n\n<p>Given the two strings</p>\n\n<pre><code>1. abcdefghijklmnopqrstuvwxyz\n2. cdefghijklmnopqrstuvwxyzab\n</code></pre>\n\n<p><code>$string =~ tr/a-z/c-za-b/</code> converts each character it can find in the first row into the corresponding character in the second row.</p>\n\n<p>Similar notation is used to implement the reversible <a href=\"https://en.wikipedia.org/wiki/ROT13\">rot13</a> encoding:</p>\n\n<pre><code>($encoded = $original) =~ tr/a-zA-Z/n-za-mN-ZA-M/;\n($encoded2 = $encoded) =~ tr/a-zA-Z/n-za-mN-ZA-M/; # now $encoded2 eq $original\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 865, "user_id": 5888860, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153265400236581/picture?type=large", "display_name": "Jim Driscoll", "link": "https://stackoverflow.com/users/5888860/jim-driscoll"}, "is_accepted": false, "score": 1, "last_activity_date": 1465424961, "creation_date": 1465424961, "answer_id": 37714003, "question_id": 37713115, "link": "https://stackoverflow.com/questions/37713115/transliteration/37714003#37714003", "title": "Transliteration", "body": "<p>You're not alone in finding it incomprehensible. tr// is rarely used in modern code.</p>\n\n<p>Anyway, in Perl-speak, if you have a line like:</p>\n\n<pre><code>$x=~tr/0-9a-f/a-p/;\n</code></pre>\n\n<p>That is roughly:</p>\n\n<pre><code>my @in = (0 .. 9, \"a\" .. \"f\");\nmy @out = (\"a\" .. \"p\");\nfor my $i (0 .. $#in) {\n    $x =~ s/$in[$i]/$out[$i]/g;\n}\n</code></pre>\n\n<p>It's a little more complicated than that because <code>tr//</code> doesn't work iteratively, but this should give you a good sense of what's going on.</p>\n"}], "owner": {"reputation": 65, "user_id": 6437396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fce2c19d0f362d4940738a71661229b0?s=128&d=identicon&r=PG&f=1", "display_name": "jonasv", "link": "https://stackoverflow.com/users/6437396/jonasv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1465437952, "creation_date": 1465420819, "last_edit_date": 1465437952, "question_id": 37713115, "link": "https://stackoverflow.com/questions/37713115/transliteration", "title": "Transliteration", "body": "<p>I got got such line:</p>\n\n<pre><code>print \"a b c\" =~ tr/a-z/c-za-b/r . \"\\n\";\n</code></pre>\n\n<p>Which basically translates <code>a b c</code> to <code>c d e</code>,but I don't completely understand is how this works. </p>\n\n<p>So, lets have a look at this part:</p>\n\n<pre><code>tr/a-z/c-za-b/r \n</code></pre>\n\n<p><code>tr</code> is used in perl for transliterating, which is clear and ok for me.</p>\n\n<p>in the part <code>/a-z/</code> part we select all lowercase letters from a to z, the second part <code>/c-za-b/</code> is mystery to me, I tried to experiment but can't figure out how this works. Can someone explain how this being converted or link me to some good explanation or manual ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["apache", "perl"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 10, "creation_date": 1465415851, "post_id": 37711561, "comment_id": 62897290, "body": "Your assertion that they are the same error doesn&#39;t ring true.  Server A is complaining about some code with a <code>==</code> in it, while Server B is complaining about some code with a <code>eq</code> in it.  Without more <i>relevant</i> info, I&#39;m not sure we can help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465416708, "post_id": 37711561, "comment_id": 62897803, "body": "If you are correct about all warnings being fatal, you can remedy it with <code>use warnings NONFATAL =&gt; &#39;all&#39;</code> at the start of your code. I offer that as a diagnostic technique rather than a solution"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1465416913, "post_id": 37711561, "comment_id": 62897909, "body": "@tjd: While the instances of the error may be different, they are both warnings in the category <code>uninitialized</code>, and the program is behaving as if <code>use warnings FATAL =&gt; &#39;uninitialized&#39;</code> is in place on server B and not on server A"}, {"owner": {"reputation": 123, "user_id": 1258053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d19b0f7ddc26968d3e1979d9d98c1d40?s=128&d=identicon&r=PG", "display_name": "Rafael Manoel", "link": "https://stackoverflow.com/users/1258053/rafael-manoel"}, "edited": false, "score": 0, "creation_date": 1465417373, "post_id": 37711561, "comment_id": 62898171, "body": "Guys, thanks for the tips. I tried to use <code>use warnings NONFATAL =&gt; &#39;all&#39;</code>  but didn&#39;t work... maybe, in some dark place there is a file overriding this only in one server..."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1465420667, "post_id": 37711561, "comment_id": 62899752, "body": "<code>use warnings;</code> is lexically scoped, and never crosses file boundaries, so the file name that usually follows the <code>Use of uninitialized value in string eq at </code> you posted will have the <code>use warnings FATAL =&gt; &#39;all&#39;;</code> in it."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1465420834, "post_id": 37711561, "comment_id": 62899839, "body": "Or is loading some other module that is causing the same effect"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1465420906, "post_id": 37711561, "comment_id": 62899873, "body": "Not according to <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow noreferrer\">warnings</a>, and I can&#39;t reproduce it either by having it in a module I <code>use</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1465421215, "post_id": 37711561, "comment_id": 62900019, "body": "Can you please edit your question to include the code around where the error occurs?"}, {"owner": {"reputation": 123, "user_id": 1258053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d19b0f7ddc26968d3e1979d9d98c1d40?s=128&d=identicon&r=PG", "display_name": "Rafael Manoel", "link": "https://stackoverflow.com/users/1258053/rafael-manoel"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1465423204, "post_id": 37711561, "comment_id": 62900927, "body": "Guys, I put <code>use warnings NONFATAL =&gt; &#39;all&#39;</code> at the top of the file in which the error occurs, but it didn&#39;t solve!!!! After this, I put the <code>use warnings NONFATAL =&gt; &#39;all&#39;</code> right before the error, and this time, it worked... So, I guess, like @ysth told, there is some module, in a different version, that is messing this."}, {"owner": {"reputation": 123, "user_id": 1258053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d19b0f7ddc26968d3e1979d9d98c1d40?s=128&d=identicon&r=PG", "display_name": "Rafael Manoel", "link": "https://stackoverflow.com/users/1258053/rafael-manoel"}, "edited": false, "score": 0, "creation_date": 1465423612, "post_id": 37711561, "comment_id": 62901100, "body": "Is it possible to set this behavior (FATAL =&gt; &#39;ALL&#39;) in the mod_perl configuration ? Or in the environment ? It does not seems to be related to the code"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1465426237, "post_id": 37711561, "comment_id": 62901954, "body": "@ysth: I was wrong in my statements above... I had my thinking hat off for the day. I&#39;m sure what you meant is that the warning could have been spewed from within a use()d module. In this case, if the file in the warning is a calling script, still should be trivial to see what sub from what module is being called at that time."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1465432840, "post_id": 37711561, "comment_id": 62903854, "body": "@RafaelManoel it&#39;s almost certainly something you are loading in that file that is causing this.  See for example <a href=\"http://stackoverflow.com/q/4907954/17389\">stackoverflow.com/q/4907954/17389</a> where someone wanted to set fatal warnings on all files that use a certain module."}, {"owner": {"reputation": 123, "user_id": 1258053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d19b0f7ddc26968d3e1979d9d98c1d40?s=128&d=identicon&r=PG", "display_name": "Rafael Manoel", "link": "https://stackoverflow.com/users/1258053/rafael-manoel"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1465489363, "post_id": 37711561, "comment_id": 62933915, "body": "Good point @ysth. I have updated the Question with a code found in the Moo module that I am using."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1465491560, "post_id": 37711561, "comment_id": 62935217, "body": "@RafaelManoel Good find. I wonder if something else is enabling strictures. Run your script in the debugger: <code>perl -d &#47;path&#47;to&#47;script</code>. Enter <code>b strictures::import</code>, then <code>R</code>, then <code>T</code>; this will print a stack trace showing what (if anything) called <code>use strictures;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1465491814, "post_id": 37711561, "comment_id": 62935349, "body": "Also, which version of Moo are you using? Until v2.000000, <code>use Moo;</code> enabled strictures by default, which meant fatal warnings. You can check the version by running <code>perl -MMoo -le&#39;print $Moo::VERSION&#39;</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1465502405, "post_id": 37711561, "comment_id": 62941570, "body": "@ThisSuitIsBlackNot I think you mean before version 2"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1465502979, "post_id": 37711561, "comment_id": 62941862, "body": "@ysth I just copied that out of the change log. 2, 2.000000, 4/2, what&#39;s the difference? ;P"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1465503919, "post_id": 37711561, "comment_id": 62942313, "body": "@ThisSuitIsBlackNot I mean &quot;until&quot; sounds like until and including"}, {"owner": {"reputation": 123, "user_id": 1258053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d19b0f7ddc26968d3e1979d9d98c1d40?s=128&d=identicon&r=PG", "display_name": "Rafael Manoel", "link": "https://stackoverflow.com/users/1258053/rafael-manoel"}, "edited": false, "score": 0, "creation_date": 1465504109, "post_id": 37711561, "comment_id": 62942410, "body": "Guys, I think we found it! In the server B (where the error occurs) I&#39;m using Moo version 1.003, while in the server A the version is 2.000001. Next step: update the Moo version in the Server B. \\o/"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1465506201, "post_id": 37711561, "comment_id": 62943481, "body": "@ysth Oh, I see. Good point."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1465506357, "post_id": 37711561, "comment_id": 62943568, "body": "@RafaelManoel Great! I posted an answer in case someone in the future has the same issue. Can you please move your comments about the Moo versions you&#39;re using into your question? That will make it easier to follow."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 4, "last_activity_date": 1465506114, "creation_date": 1465506114, "answer_id": 37736112, "question_id": 37711561, "link": "https://stackoverflow.com/questions/37711561/my-perl-warnings-are-fatal-and-i-dont-know-why/37736112#37736112", "title": "My Perl warnings are FATAL and I don&#39;t know why", "body": "<p><a href=\"https://metacpan.org/changes/distribution/Moo\" rel=\"nofollow\">Before version 2</a>, calling <code>use Moo;</code> enabled <a href=\"https://metacpan.org/pod/strictures\" rel=\"nofollow\">strictures</a>, which makes all warnings fatal except for a few categories. This caused a lot of problems*, so warnings are no longer fatal in version 2 and up.</p>\n\n<p>To fix, upgrade Moo to the latest version. While you're at it, you should really fix the cause of the warnings, too.</p>\n\n<hr>\n\n<p>* See the following discussions:</p>\n\n<ul>\n<li><a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=93004\" rel=\"nofollow\">Default fatalization of warnings needs mst's clarification before new major strictures</a></li>\n<li><a href=\"http://blogs.perl.org/users/peter_rabbitson/2014/01/fatal-warnings-are-a-ticking-time-bomb-via-chromatic.html\" rel=\"nofollow\">fatal warnings are a ticking time bomb</a></li>\n<li><a href=\"http://shadow.cat/blog/matt-s-trout/moo-2-strictures-2/\" rel=\"nofollow\">Moo 2 and strictures 2</a></li>\n</ul>\n"}], "owner": {"reputation": 123, "user_id": 1258053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d19b0f7ddc26968d3e1979d9d98c1d40?s=128&d=identicon&r=PG", "display_name": "Rafael Manoel", "link": "https://stackoverflow.com/users/1258053/rafael-manoel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 1, "accepted_answer_id": 37736112, "answer_count": 1, "score": 4, "last_activity_date": 1465999663, "creation_date": 1465415072, "last_edit_date": 1465999663, "question_id": 37711561, "link": "https://stackoverflow.com/questions/37711561/my-perl-warnings-are-fatal-and-i-dont-know-why", "title": "My Perl warnings are FATAL and I don&#39;t know why", "body": "<p>I have two servers with the same configurations: httpd + mod_perl (I thought the settings were 100% the same), but in one server I got some perl warnings, while in the other server the same warnings get me FATAL errors. Look:</p>\n\n<p>Server A log:\nUse of uninitialized value in numeric eq (==) at </p>\n\n<p>Server B log:\n[Wed Jun 08 14:32:47 2016] <strong>[error]</strong> Use of uninitialized value in string eq at </p>\n\n<p>In server A the request flow goes on and the user gets the desired result, but in server B the user gets a 500 error.</p>\n\n<p>I am using </p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>in the file on both servers.</p>\n\n<p>Any  thoughts ?</p>\n\n<p>Example of the code causing this warning/FATAL:</p>\n\n<pre><code>$allowed_sellers = any { $_ == $user-&gt;{user_id} } (111,123,222,345);\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>I found this code in a module that I am using (Moo):</p>\n\n<pre><code>package Moo::_strictures;\nuse strict;\nuse warnings;\n\nsub import {\n  if ($ENV{MOO_FATAL_WARNINGS}) {\n    require strictures;\n    strictures-&gt;VERSION(2);\n    @_ = ('strictures');\n    goto &amp;strictures::import;\n  }\n  else {\n    strict-&gt;import;\n    warnings-&gt;import;\n  }\n}\n\n1;\n</code></pre>\n\n<p>But the env variable MOO_FATAL_WARNINGS seems to not be defined. Any thougts ?</p>\n\n<p>SOLVED:</p>\n\n<p>Guys, thanks a lot! We have finally discovered the problem: In server A the version of module Moo was 1.003 while server B was using a newer version 2.000001</p>\n"}, {"tags": ["perl", "rrdtool"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5823414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb113d004599fb8f24c693072a51f31?s=128&d=identicon&r=PG&f=1", "display_name": "Eriel72", "link": "https://stackoverflow.com/users/5823414/eriel72"}, "edited": false, "score": 0, "creation_date": 1475656217, "post_id": 37758143, "comment_id": 67025024, "body": "Thank you, I&#39;ll try this!  I*ve forgot that had this question in here :)"}], "tags": [], "owner": {"reputation": 4591, "user_id": 235990, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a6bad1085e07d7f29498019f1840f4b?s=128&d=identicon&r=PG", "display_name": "Tobi Oetiker", "link": "https://stackoverflow.com/users/235990/tobi-oetiker"}, "is_accepted": true, "score": 0, "last_activity_date": 1465598991, "creation_date": 1465598991, "answer_id": 37758143, "question_id": 37711244, "link": "https://stackoverflow.com/questions/37711244/hrule-at-min-value-in-rrdtool/37758143#37758143", "title": "HRULE at MIN-value in RRDTOOL", "body": "<p>You could use</p>\n\n<pre><code>VDEF:m=Temperatur,MINIMUM\nLINE1:m#003300\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5823414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb113d004599fb8f24c693072a51f31?s=128&d=identicon&r=PG&f=1", "display_name": "Eriel72", "link": "https://stackoverflow.com/users/5823414/eriel72"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 37758143, "answer_count": 1, "score": 0, "last_activity_date": 1465598991, "creation_date": 1465414062, "question_id": 37711244, "link": "https://stackoverflow.com/questions/37711244/hrule-at-min-value-in-rrdtool", "title": "HRULE at MIN-value in RRDTOOL", "body": "<p>I'm trying to get a Horizontal line (HRULE) at the lowest value in my RRD-GRAPH with out any good result :(  </p>\n\n<p>I have only one data source in the database, end the script is coded in PEARL</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse RRDs;\n\nmy $cur_time = time();\nmy $start_time = $cur_time - 86400;  # s\u00e4tt start ill 24 timmar sedan\nmy $end_1 = time() - 86400;\nmy $start_1 = $end_1 - 86400;\nRRDs::graph \"/var/www/ute.png\",\n            \"--start= $start_time\",\n            \"--end= $cur_time\",\n            \"--title= outdoor temperature 1-WIRE 24h\",\n            \"--height= 600\",\n            \"--width= 1000\",\n            \"--vertical-label= \u00b0C\",\n            \"--upper-limit= 30\",\n            \"--lower-limit= -30\",\n            \"DEF:Temperatur=/home/nordviken/rrddata/ute_temp.rrd:ute:AVERAGE\",\n            \"CDEF:a=Temperatur,-50,0,LIMIT\",\n            \"DEF:b=/home/nordviken/rrddata/ute_temp.rrd:ute:AVERAGE:end= $end_1:start= $start_1\",\n            \"SHIFT:b:86400\",\n            \"COMMENT:\\t\\t\\t\\t     Nu      Medel    Max     Min\\\\n\",\n            \"HRULE:0#003300\",\n            \"LINE1:Temperatur#ff0000:ute\\t\\t\\t\\t\",\n            \"LINE1:a#0000ff\",\n            \"LINE1:b#00ff00\",\n            \"GPRINT:Temperatur:LAST:%6.1lf\",\n            \"GPRINT:Temperatur:AVERAGE:%6.1lf\",\n            \"GPRINT:Temperatur:MAX:%6.1lf\",\n            \"GPRINT:Temperatur:MIN:%6.1lf\\\\n\";\n\nmy $err=RRDs::error;\nif ($err) {print \"problem med att skapa grafen: $err\\n\";}\n\nprint \"klar!\\n\"\n</code></pre>\n"}, {"tags": ["perl", "maintenance"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465413524, "post_id": 37711048, "comment_id": 62896044, "body": "Re &quot;<i>Notice that case 2 is 87%3 faster than case 1, and 56% faster than case 3.</i>&quot;, It would be far easier to notice this if you had used <code>cmpthese</code> instead of <code>timethese</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465413588, "post_id": 37711048, "comment_id": 62896079, "body": "@ikegami Yes I considered using <code>cmpthese</code> but I found that the numbers confused me"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465413693, "post_id": 37711048, "comment_id": 62896131, "body": "Each of your function vary in two ways from the others. Consipicuously absent: <code>sub case4 {     if ( (!defined $_[0]) || $_[0] eq &#39;&#39; ) {          return &quot;\\x{21B5}&quot;;     } return $_[0]; }</code>"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1475675947, "post_id": 37711048, "comment_id": 67038655, "body": "The best advice is not to use output arguments at all. Side effects are a necessary evil, they make it harder to combine and reason about your code, so avoid them when possible. Fix the calls to the function, not the function itself."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1465415381, "post_id": 37711371, "comment_id": 62897021, "body": "Sorry I do not quite understand. Why is <code>fix_nulls( $s )</code> easier to read?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1465415975, "post_id": 37711371, "comment_id": 62897359, "body": "I think it implies that the parameter will be modified better than <code>handle_empty_lines</code>, which could be doing pretty much anything, like ignoring them"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1465414418, "creation_date": 1465414418, "answer_id": 37711371, "question_id": 37711048, "link": "https://stackoverflow.com/questions/37711048/best-practice-naming-convention-in-perl-for-subroutine-with-output-arguments/37711371#37711371", "title": "Best practice naming convention in Perl for subroutine with output arguments", "body": "<p>I would write this</p>\n\n<pre><code>use utf8;\nuse strict;\nuse warnings 'all';\nuse feature 'say';\nuse open qw/ :std :encoding(utf-8) /;\n\nfor ( '', undef, 'xx' ) {\n    my $s = $_;\n    fix_nulls($s);\n    say $s;\n}\n\nsub fix_nulls {\n    for ( $_[0] ) {\n        $_ = \"\\x{21B5}\" unless defined and length;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1465416574, "post_id": 37711806, "comment_id": 62897717, "body": "What you say is that you would never use case 2 (even if it would cause a significant speedup of your program), because it is not possible write maintainable code for that case? ( So you would sacrifice the user&#39;s experience of the program for the maintainer&#39;s comfort)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1465417894, "post_id": 37711806, "comment_id": 62898437, "body": "@H&#229;konH&#230;gland Well ... it&#39;s hard to make such a definite statement.  But what is <i>significant</i> enough? If simple function calls introduce noticable slow down I&#39;d think that one should definitely go back to the drawing board.  It&#39;s not just convenience -- it&#39;s development time, and bugs. They come through little cracks in design.  All design solutions with #2 are awkward, and dangerous. The third one the least, but including the <i>how</i> in name is not good design. Also, I&#39;ve played with speeding up the simplest function calls in a <code>wxWidgets</code> GUI -- it&#39;s tricky. It&#39;s hard to estimate so finely."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1465418870, "post_id": 37711806, "comment_id": 62898932, "body": "@H&#229;konH&#230;gland  I&#39;ve added these two functions to <a href=\"http://stackoverflow.com/users/589924/ikegami\">ikegami</a>&#39;s benchmark. It appears to be only %14 behind. Let me know if it would be a good idea to add my reasoning above to the the post."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1589092347, "last_edit_date": 1589092347, "creation_date": 1465415925, "answer_id": 37711806, "question_id": 37711048, "link": "https://stackoverflow.com/questions/37711048/best-practice-naming-convention-in-perl-for-subroutine-with-output-arguments/37711806#37711806", "title": "Best practice naming convention in Perl for subroutine with output arguments", "body": "<p>I'd always go for design and clarity. I feel that once performance issues start biting into the interface design it's time to redesign. (What for me often means introducing extra layers.) I find that your final discussion indicates that one would have to pay quite a bit, as all options bear problems. I would <em>not</em> go into <code>@_</code>.</p>\n\n<p>So in this case I'd stay with either return by value</p>\n\n<pre><code>$line = handle_empty_lines( $line );\n\nsub handle_empty_lines {\n    defined $_[0] &amp;&amp; $_[0] ne '' &amp;&amp; return $_[0];\n    return \"\\x{21B5}\";\n}\n</code></pre>\n\n<p>or by reference, which I'd expect to be a little faster.</p>\n\n<pre><code>handle_empty_lines( \\$line);\n\nsub handle_empty_lines {\n    defined ${$_[0]} &amp;&amp; ${$_[0]} ne '' &amp;&amp; return 1;\n    ${$_[0]} = \"\\x{21B5}\";\n}\n</code></pre>\n\n<p>The more frequent case should certainly come first, while the optimization of removing the branching <code>if</code> tests helps, as seen in benchmark below, but little.</p>\n\n<p>I'd choose based on which better fits the overall code design.</p>\n\n<hr>\n\n<p>I've added these two to the benchmark posted by <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>, as </p>\n\n<pre><code>sub micro {\n    defined $_[0] &amp;&amp; $_[0] ne '' &amp;&amp; return $_[0];\n    return \"\\x{21B5}\";\n}\n\nsub microref {\n    defined ${$_[0]} &amp;&amp; ${$_[0]} ne '' &amp;&amp; return 1;\n    ${$_[0]} = \"\\x{21B5}\";\n}\n</code></pre>\n\n<p>Full results of <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>'s benchmark with these two functions added</p>\n\n<pre>\n              Rate with_ref microref baseline   by_ref    micro  inplace\nwith_ref 1522762/s       --     -13%     -19%     -34%     -36%     -43%\nmicroref 1742620/s      14%       --      -8%     -24%     -26%     -35%\nbaseline 1890650/s      24%       8%       --     -18%     -20%     -29%\nby_ref   2296676/s      51%      32%      21%       --      -3%     -14%\nmicro    2360880/s      55%      35%      25%       3%       --     -12%\ninplace  2680740/s      76%      54%      42%      17%      14%       --\n</pre>\n\n<p>It turns out that the 'mirco'-optimized version with return-by-value fares well.  In my mind these results imply that going to difficult design decisions for speed is not warranted here. </p>\n\n<hr>\n\n<p>In the above the string passed to functions is empty. Here are the results when it is a simple word.</p>\n\n<pre>\n              Rate with_ref microref baseline   by_ref    micro  inplace\nwith_ref 1470954/s       --     -16%     -21%     -34%     -39%     -55%\nmicroref 1742620/s      18%       --      -6%     -21%     -27%     -47%\nbaseline 1854974/s      26%       6%       --     -16%     -23%     -43%\nby_ref   2213644/s      50%      27%      19%       --      -8%     -32%\nmicro    2399206/s      63%      38%      29%       8%       --     -27%\ninplace  3267412/s     122%      87%      76%      48%      36%       --\n</pre>\n\n<p>This attests difficulties in estimating so finely what is better in real use. There are yet other factors in a real program that may skew these. I still see no justification in going to trouble with design for speed.</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1465423094, "post_id": 37711955, "comment_id": 62900873, "body": "Thanks for the added tests! Interesting but still <code>inplace</code> is much faster. It is a pitty one cannot use it in practice only due to language design. I think language design should allow for example <code>$str = #inplace( $str )</code>, and then the compiler would simply change the call to <code>inplace $str</code>. Then both efficiency and maintainability could be achieved.. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1465423224, "post_id": 37711955, "comment_id": 62900935, "body": "It does exactly that for <code>sort</code>. Harder to do generically."}, {"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1465824003, "post_id": 37711955, "comment_id": 63047823, "body": "I guess this varies with the perl version, I had similar &quot;sorting&quot; but wildly different results. One thing that I noticed is that the subs are not fairly equivalent, as the &quot;inplace&quot; variant lacks the return statement. For me, this accounted for about 3-4% difference in 5.16.2 (Mac OS X) and about 13-15% difference in 5.18.1 (Linux in VM)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1465824737, "post_id": 37711955, "comment_id": 63048378, "body": "@polettix, No, it is fair to remove the return. It is required for the others, but it makes no sense for the in-place sub. If removing it is a gain, then the gain is part of the switch to in-place, and it would be unfair to leave it in."}, {"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1465897162, "post_id": 37711955, "comment_id": 63080808, "body": "@ikegami I see. Shouldn&#39;t a &quot;with_ref&quot; that changes the input parameter through the provided input reference be added to the lot then?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1465908778, "post_id": 37711955, "comment_id": 63089262, "body": "@polettix, You could,  but the results are obvious"}, {"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1465914021, "post_id": 37711955, "comment_id": 63093374, "body": "@ikegami I was quite surprised to be honest. Empty-string tests give the worse results of all, probably due to the additional indirection and assignment. Trying with a non-empty string yielded inconsistent results (better than with_ref only in 5.16.2 Mac OS by about 2%, worse than all and with_ref better by 5% in 5.18.1 Linux VM), I would have expected that skipping the assignment would have given me much better results than with_ref."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1465914220, "post_id": 37711955, "comment_id": 63093545, "body": "@polettix, Why is that surprising? Except for <code>baseline</code>, the code for any other value is a subset of the code for empty strings. <code>baseline</code> will actually be slower for long strings in Perl &lt;5.22 (i.e. before COW string copies were introduced.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1465416441, "creation_date": 1465416441, "answer_id": 37711955, "question_id": 37711048, "link": "https://stackoverflow.com/questions/37711048/best-practice-naming-convention-in-perl-for-subroutine-with-output-arguments/37711955#37711955", "title": "Best practice naming convention in Perl for subroutine with output arguments", "body": "<p>Your tests alter multiple variables each. Here's a better test:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Benchmark qw( cmpthese );\n\nsub baseline {\n    my ( $str ) = @_;\n    if ( (!defined $str) || $str eq '' ) {\n        return \"\\x{21B5}\";\n    }\n    return $str;\n}\n\n\nsub with_ref {\n    my ( $ref ) = @_;\n    if ( (!defined $$ref) || $$ref eq '' ) {\n        return \"\\x{21B5}\";\n    }\n    return $$ref;\n}\n\n\nsub by_ref {\n    if ( (!defined $_[0]) || $_[0] eq '' ) {\n        return \"\\x{21B5}\";\n    }\n    return $_[0];\n}\n\n\nsub inplace {\n    if ( (!defined $_[0]) || $_[0] eq '' ) {\n        $_[0] = \"\\x{21B5}\";\n    }\n}\n\n{\n    my $str = '';\n\n    cmpthese(-3, {\n        baseline =&gt; sub { my $test = $str; $test = baseline  $test; },\n        with_ref =&gt; sub { my $test = $str; $test = with_ref \\$test; },\n        by_ref   =&gt; sub { my $test = $str; $test = by_ref    $test; },\n        inplace  =&gt; sub { my $test = $str;         inplace   $test; },\n    });\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>              Rate with_ref baseline   by_ref  inplace\nwith_ref 1252657/s       --     -14%     -27%     -45%\nbaseline 1461434/s      17%       --     -15%     -36%\nby_ref   1718499/s      37%      18%       --     -24%\ninplace  2271005/s      81%      55%      32%       --\n</code></pre>\n\n<ul>\n<li>Adding a reference slows things down.</li>\n<li><p>Keeping things anonymous is 18% faster than the baseline, saving 0.14 microseconds.</p>\n\n<pre><code>$ perl -E'say 1/1718499 - 1/2271005'\n1.41569475973388e-07\n</code></pre></li>\n<li><p>The inplace version is 55% faster than the baseline, saving 0.24 microseconds.</p>\n\n<pre><code>$ perl -E'say 1/1461434 - 1/2271005'\n2.4392574799202e-07\n</code></pre></li>\n</ul>\n\n<p>Unless this is a commonly used function, this appears to be a case of premature optimization.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1589092347, "creation_date": 1465413397, "question_id": 37711048, "link": "https://stackoverflow.com/questions/37711048/best-practice-naming-convention-in-perl-for-subroutine-with-output-arguments", "title": "Best practice naming convention in Perl for subroutine with output arguments", "body": "<p><strong>Introduction:</strong></p>\n\n<p>I usually don't use output arguments (arguments that acts as both input and output values or as output only). This in order to improve the readability and maintainability of my code. But then again, the other day I suddenly had a deeply nested subroutine call. And I found myself trying to optimize it to gain some speed improvements.</p>\n\n<p>Here is an example: I have a string representing a whitespace trimmed line read from file. If the line is empty I would like to replace it with a unicode symbol representing the return key. Suppose I searched on google and found that the symbol <code>\u21b5</code> (unicode <code>U+21B5</code>) looked nice<sup>[1]</sup>. So I wrote a short subroutine:</p>\n\n<pre><code>sub handle_empty_lines {\n    my ( $str ) = @_;\n    if ( (!defined $str) || $str eq '' ) { \n        return \"\\x{21B5}\";\n    }\n    return $str;\n}\n</code></pre>\n\n<p>and I used it like this:</p>\n\n<pre><code>$line = handle_empty_lines( $line );\n</code></pre>\n\n<p>Now, I would like to optimize this call, but still have the code being readable and maintainable.</p>\n\n<p>First option is putting it inline:</p>\n\n<pre><code>$line = \"\\x{21B5}\" if (!defined $str) || $str eq ''; \n</code></pre>\n\n<p>is of course natural and fast, but let's assume I did not want to clutter the code with if statements<sup>2</sup> and rejected this option. </p>\n\n<p>Here are two other options, </p>\n\n<ol>\n<li><p>pass a reference to <code>$str</code> to avoid copying the input argument in the subroutine (that is: convert call-by-value to call-by-reference), or</p></li>\n<li><p>make use of Perl's builtin call by reference mechanism.</p></li>\n</ol>\n\n<p>Both options introduces an <code>\"input/output argument\"</code> (that is: an argument that acts as both input and output) and thus reduces the readability of the code and makes maintenance more difficult (in my opinion). </p>\n\n<p>Let a third option be to keep the original version (the call-by-value). Here is a quick comparison of the three options for speed only (not readability).</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Benchmark qw(timethese);\n\nmy $str1 = '';\n\ntimethese(\n    2_000_000,\n    {\n        case1 =&gt; sub { my $test = $str1; case1( \\$test ) },\n        case2 =&gt; sub { my $test = $str1; case2( $test ) },\n        case3 =&gt; sub { my $test = $str1; $test = case3( $test ) },\n    }\n);\n\nsub case1 {\n    if ( (!defined $$_[0]) || $$_[0] eq '' ) { \n        $$_[0] = \"\\x{21B5}\";\n    }\n}\n\nsub case2 {\n    if ( (!defined $_[0]) || $_[0] eq '' ) { \n        $_[0] = \"\\x{21B5}\";\n    }\n}\n\nsub case3 {\n    my ( $str ) = @_;\n    if ( (!defined $str) || $str eq '' ) { \n        return \"\\x{21B5}\";\n    }\n    return $str;\n}\n</code></pre>\n\n<p>The output is (Ubuntu laptop, Intel(R) Core(TM) i7-4702MQ CPU @ 2.20GHz):</p>\n\n<pre><code>Benchmark: timing 2000000 iterations of case1, case2, case3...\n     case1:  1 wallclock secs ( 0.84 usr +  0.00 sys =  0.84 CPU) @ 2380952.38/s (n=2000000)\n     case2:  1 wallclock secs ( 0.45 usr +  0.00 sys =  0.45 CPU) @ 4444444.44/s (n=2000000)\n     case3:  1 wallclock secs ( 0.70 usr +  0.00 sys =  0.70 CPU) @ 2857142.86/s (n=2000000)\n</code></pre>\n\n<p>Notice that case 2 is 87%<sup>3</sup> faster than case 1, and 56% faster than case 3.</p>\n\n<p>It is interesting that the call by reference (case 1) is slower than call by value (case 3).</p>\n\n<p><strong>Question:</strong></p>\n\n<p>Suppose I now would like to keep case 2 :</p>\n\n<pre><code>sub handle_empty_lines {\n    if ( (!defined $_[0]) || $_[0] eq '' ) { \n        $_[0] = \"\\x{21B5}\";\n    }\n}\n</code></pre>\n\n<p>Then, if I call it using:</p>\n\n<pre><code>handle_empty_lines( $line );\n</code></pre>\n\n<p>it gives no clue to the reader that it modifies <code>$line</code>.</p>\n\n<p>How should I deal with this? I can think of two options:</p>\n\n<ul>\n<li><p>Place a comment after the call:</p>\n\n<pre><code>handle_empty_lines( $line ); # Note: modifies $line\n</code></pre></li>\n<li><p>Change name of subroutine. Give a name that gives an indication to the\nreader that <code>$line</code> is modified, e.g.:</p>\n\n<pre><code>handle_empty_lines__modifies_arg( $line );\n</code></pre></li>\n</ul>\n\n<p><sub><strong>Footnotes:</strong></sub></p>\n\n<p><sub>\n1. I later found out that I could use the <code>N{}</code> escape to make the code more readable using \"\\N{DOWNWARDS ARROW WITH CORNER LEFTWARDS}\" instead of \"\\x{21B5}\"\n</sub></p>\n\n<p><sub>\n2. For this simple case, I agree it is questionable if this can be called any form of clutter.. \n</sub></p>\n\n<p><sup>\n3. 4444444.44 / 2380952.38 = 1.87\n</sup></p>\n"}, {"tags": ["perl", "parsing", "null"], "comments": [{"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1465408522, "post_id": 37709367, "comment_id": 62893123, "body": "So <code>null</code> in your context is a comma separated field with no data?   I was wondering what might happen if you changed every comma a comma bracketed by whilespace.  Like <code>1,$s&#47;,&#47; , &#47;g</code> would do in <code>vi</code>.  Would that mangle it too much, or is it padding tolerant?  If there was no worry about a <code>null</code> at the beginning or at end of a line, you could get by with just a one space pad"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465410152, "post_id": 37709367, "comment_id": 62894097, "body": "@BigRedEO: You don&#39;t say what you want to do this to. Are you processing the raw comma-separated lines of text from the file, or have you split it into an array, or what? And do you want just a literal space, or a space surrounded by quotes?"}, {"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465411344, "post_id": 37709367, "comment_id": 62894804, "body": "@Borodin - I don&#39;t want to post the entire script - last time I did that, I got chastised left and right for it.  Now when I don&#39;t post it, people mark my question down.  Sometimes, there&#39;s no winning with stackoverflow"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1465412715, "post_id": 37709367, "comment_id": 62895603, "body": "@BigRedEO  I&#39;d suggest that you simply consider carefully the comments and feedback that you&#39;ve been getting from people on your questions, rather than getting frustrated.  Please appreciate that all these <i>people</i> do give you their time and effort, and expertise.  You can help by trying your best to post good and articulate questions (which sometimes isn&#39;t easy)."}, {"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465412811, "post_id": 37709367, "comment_id": 62895669, "body": "Thanks @zdim - yet nobody&#39;s actually answered my question."}, {"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465413300, "post_id": 37709367, "comment_id": 62895932, "body": "@zdim - But you&#39;re right about the frustrating part - whenever I&#39;m writing in Powershell and go to powershell dot com, those people there are so genuinely helpful.  Here, everyone wants to see all of your code, tell you how they would do it all differently (even though most of what you have is already working for you) and then don&#39;t actually answer your question.  I wish I could delete questions and start all over after all the upbraids go through first."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1465413646, "post_id": 37709367, "comment_id": 62896108, "body": "@BigRedEO  Let me suggest this -- perhaphs your questions on that powershell forum are just better (easy to happen if you&#39;re more comfortable with that material) ?  If you don&#39;t get straight answers here it can only mean that the questions aren&#39;t clear enough (brief and clear anwers are prized here).  I&#39;ve looked through your questions and through responses you were getting.  Everyone you get answers from would blow away your problem in one line if that were possible. But re-read their comments and solutions when you have a little time, you&#39;ll find all answers there."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1465415838, "post_id": 37709367, "comment_id": 62897280, "body": "I am living proof that there is winning with stackoverflow."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465485288, "post_id": 37709367, "comment_id": 62931069, "body": "@BigRedEO: <i>&quot;last time I did that I got chastised for posting the whole script&quot;</i> The thing is, we need to see as much information as possible without having to sift through a pile of junk.  Don&#39;t forget that you&#39;re asking for a <i>favour</i> here\u2014we don&#39;t get anything but your thanks\u2014and if you can&#39;t be bothered to post your data or reduce your code so that it&#39;s compact but still misbehaves, then it&#39;s hard to be bothered to help you. Powershell questions are likely to be much less about syntax, and the people who suggest a rewrite are trying to help you avoid the same problem again"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465485443, "post_id": 37709367, "comment_id": 62931193, "body": "@BigRedEO: Note that I&#39;ve asked you three times now and you still haven&#39;t shown any data. Meanwhile your only comment to my answer is <i>&quot;almost there - this section did not work&quot;</i>. Only my manager, who authorises my salary, gets to talk like that to me. You are just being rude"}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 0, "creation_date": 1465409981, "post_id": 37709699, "comment_id": 62894016, "body": "The issue is that I have several fields that if they are null (!length), then I have to add something to them other than a blank space, such as &quot;0000-00-00&quot; for some date fields and a few other items like that.  Once I&#39;ve made all those necessary replacements first, then I&#39;d want to check for any other fields that are zero length and put in a blank space."}], "tags": [], "owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "is_accepted": false, "score": 0, "last_activity_date": 1465408813, "creation_date": 1465408813, "answer_id": 37709699, "question_id": 37709367, "link": "https://stackoverflow.com/questions/37709367/perl-parse-csv-file-fill-and-null-fields/37709699#37709699", "title": "Perl parse CSV file &quot;fill&quot; and &quot;null&quot; fields", "body": "<p>Well if you did it before splitting into <code>$fields</code>, you ought to be able to do something like</p>\n\n<pre><code># assuming a CSV line is in $_\n#pad null at start of line\ns/^,/ ,/;\n\n#pad nulls in the middle\ns/,,/, ,/g;\n\n#pad null at the end\ns/,$/, /;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465411101, "post_id": 37710322, "comment_id": 62894671, "body": "<code>split &#47;,&#47;</code> is perfectly satisfactory if there are no quoted fields in the data"}, {"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 0, "creation_date": 1465411206, "post_id": 37710322, "comment_id": 62894723, "body": "@jira - No Text:CSV of any kind available to me, nor will there be.  My script already fine and dandy and working correctly with the original &quot;test&quot; data I was given.  Then the actual data I was given from another dept is what threw in this extra trouble."}], "tags": [], "owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "is_accepted": false, "score": 0, "last_activity_date": 1465411212, "last_edit_date": 1465411212, "creation_date": 1465410945, "answer_id": 37710322, "question_id": 37709367, "link": "https://stackoverflow.com/questions/37709367/perl-parse-csv-file-fill-and-null-fields/37710322#37710322", "title": "Perl parse CSV file &quot;fill&quot; and &quot;null&quot; fields", "body": "<p>Don't try to roll out your own CSV parsing code. Use <a href=\"http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm\" rel=\"nofollow\">Text::CSV</a> or <a href=\"http://search.cpan.org/~babf/Text-CSV-Slurp-1.03/lib/Text/CSV/Slurp.pm\" rel=\"nofollow\">Text::CSV::Slurp</a>.</p>\n\n<p>With Text::CSV you could do something like</p>\n\n<pre><code>$line   = $csv-&gt;string();             # get the combined string\n$status  = $csv-&gt;parse($line);        # parse a CSV string into fields\n@columns = map {defined $_ ? $_ : \" \"} $csv-&gt;fields(); # get the parsed fields\n</code></pre>\n\n<p>Are you really sure you want to replace nulls with spaces? I'd say if the field is undefined it should be NULL in db. </p>\n"}, {"comments": [{"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 0, "creation_date": 1465413676, "post_id": 37710343, "comment_id": 62896122, "body": "Thank you for your patience.  You and zdim have helped in the past and I think your answer helps me greatly.  Part of my frustration also stems from being told one thing and working with one set of data, only to have a completely different set of data from the other depts, which throws everything off for me."}, {"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 0, "creation_date": 1465483197, "post_id": 37710343, "comment_id": 62929403, "body": "almost there - this section did not work -         <code># If tran_date is blank, insert 0000-00-00         elsif ( grep { $i == $_ } 10, 14, 24, 26 ) {             $_ = &#39;0000-00-00&#39; if $_ eq &quot;&quot;;         }</code>    It didn&#39;t change any of the empty or blank date fields to the 0000-00-00.  I think I originally tried something like this and it would only check field 10 and if that wasn&#39;t blank, it would leave the rest alone.  Instead I now have blank spaces there."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 0, "creation_date": 1465484715, "post_id": 37710343, "comment_id": 62930620, "body": "Okay, fixed. I simply incremented the index in the wrong place. But I repeat: it could be a whole lot nicer if the behaviour could be dependent on the column name instead of the field index, but I can&#39;t write that without seeing your data"}, {"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 0, "creation_date": 1465489449, "post_id": 37710343, "comment_id": 62933969, "body": "There is a header record for each file I&#39;m scrubbing - would that make a difference, even though it&#39;s being eliminated from the scrubbed file?"}, {"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 0, "creation_date": 1465490133, "post_id": 37710343, "comment_id": 62934381, "body": "the move of the increment did work!  Thank you.  Now I&#39;ve got what I&#39;ve been told is needed - and THEIR program still won&#39;t load the files.  That is their issue - I&#39;m seeing that wherever there&#39;s an INT, it still considers it &quot;null&quot; even with the blank space, and won&#39;t load.  But at least my part is done.  Thank you again!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 1, "creation_date": 1465492062, "post_id": 37710343, "comment_id": 62935502, "body": "@BigRedEO: I hope you&#39;ve been left with a better attitude to what we are trying to do? We normally ask for a <a href=\"http://stackoverflow.com/help/mcve\"><i>Minimal, Complete, and Verifiable example</i></a> (MCVE) so that we can help you properly. But that requires the person raising the question to actually do some work, which rarely goes down well. It&#39;s a shame that you see us as being less helpful than the PowerShell guys, but Perl is really a different deal, and a problem may be far away elsewhere in your code or even in your data"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 1, "creation_date": 1465492139, "post_id": 37710343, "comment_id": 62935544, "body": "@BigRedEO: If we can see nothing wrong in what you have posted then we can just say &quot;nothing wrong there!&quot; or we can ask to see more of your code or data. Which would you prefer? As it stands, you still haven&#39;t offered me any data; so you are left with a program that uses <i>magic numbers</i> instead of column names. You could write much better code, and I&#39;m baffled why you would want to stop at something that just barely works"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 2, "creation_date": 1465492606, "post_id": 37710343, "comment_id": 62935821, "body": "@BigRedEO: By the way, if you have just copied my solution and submitted it as a job complete, then why don&#39;t you owe me a couple days&#39; salary, let&#39;s say $300?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467555254, "last_edit_date": 1467555254, "creation_date": 1465411031, "answer_id": 37710343, "question_id": 37709367, "link": "https://stackoverflow.com/questions/37709367/perl-parse-csv-file-fill-and-null-fields/37710343#37710343", "title": "Perl parse CSV file &quot;fill&quot; and &quot;null&quot; fields", "body": "<p>As far as I can tell you have split a record on commas <code>,</code>, and you want to alter all fields that are empty strings to contain a single space</p>\n\n<p>I would write this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $record = 'a,b,c,,e,,g,,i,,k,,m,n,o,p,q,r,s,t';\n\nmy @fields = map { $_ eq \"\" ? ' ' : $_ } split /,/, $record;\n\n\nuse Data::Dump;\ndd \\@fields;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[ \"a\", \"b\", \"c\", \" \", \"e\", \" \", \"g\", \" \", \"i\", \" \", \"k\", \" \", \"m\" .. \"t\" ]\n</code></pre>\n\n<p>Alternatively, if you have some fields that need to be set to something different if they are empty, you can set up an array of defaults</p>\n\n<p>That would look like this. All of the <code>@defaults</code> array is set to spaces except for fields 10, 11 and 12, which are <code>0000-00-00</code>. These are picked up after the record is split</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @defaults = (' ') x 20;\n\n$defaults[$_] = '0000-00-00' for 9, 10, 11;\n\nmy $record = 'a,b,c,,e,,g,,i,,k,,m,n,o,p,q,r,s,t';\n\nmy @fields = split /,/, $record;\n\nfor my $i ( 0 .. $#fields ) {\n    $fields[$i] = $defaults[$i] if $fields[$i] eq '';\n}\n\n\nuse Data::Dump;\ndd \\@fields;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[ \"a\", \"b\", \"c\", \" \", \"e\", \" \", \"g\", \" \", \"i\", \"0000-00-00\", \"k\", \"0000-00-00\", \"m\" .. \"t\" ]\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>Having seen your full program, I recommend something like this. If you had shown a sample of your input data then I could have used a hash to refer to column names instead of numbers, making it much more readable</p>\n\n<pre><code>#!/usr/bin/perl/\n\nuse strict;\nuse warnings 'all';\n\nuse Data::Dumper;\nuse Time::Piece;\n\nmy $filename = 'mistints_1505_comma.csv';\n#my $filename = 'test.csv';\n\nopen my $FH, $filename\n        or die \"Could not read from $filename &lt;$!&gt;, program halting.\";\n\nopen( my $ERR_FH, '&gt;', \"errorFiles1505.csv\" ) or die $!;\n\nchomp( my $line = &lt;$FH&gt; );\nmy @fields = split /,/, $line;    #/\nprint Dumper( \\@fields ), \"\\n\";\n\nmy @data;\n\n# Read the lines one by one.\nwhile ( &lt;$FH&gt; ) {\n\n    chomp;\n\n    # Scrub data of characters that cause scripting problems down the line.\n    tr/'\\\\/  /;                   #'\n\n    my @fields = split /,/;       #/\n\n    # Check if the storeNbr field is empty.  If so, write record to error file.\n\n    if ( $fields[28] eq \"\" ) {\n        my $str = join ',', @fields;\n        print $ERR_FH \"$str\\n\";\n        next;\n    }\n\n    # Concatenate the first three fields and add to the beginning of each record\n    unshift @fields, join '_', @fields[ 28 .. 30 ];\n\n    # Format the DATE fields for MySQL\n    $_ = join '-', ( split /\\// )[ 2, 0, 1 ] for @fields[ 10, 14, 24, 26 ];\n\n    # Scrub colons from the data\n    tr/://d;                      #/\n\n    my $i = 0;\n    for ( @fields ) {\n\n        # If \"Spectro_Model\" is \"UNKNOWN\" then change to \"UNKNOW\"\n        if ( $i == 22 ) {\n            $_ = 'UNKNOW' if $_ eq 'UNKNOWN';\n        }\n\n        # If a date field is blank then insert 0000-00-00\n        elsif ( grep { $i == $_ } 10, 14, 24, 26 ) {\n            $_ = '0000-00-00' if $_ eq \"\";\n        }\n\n        # Format the PROD_NBR field by deleting any leading zeros before decimals.\n        elsif ( $i == 12 ) {\n            s/^\\s*0\\././;\n        }\n\n        # Change all remaining empty fields to a single space\n        else {\n            $_ = ' ' if $_ eq \"\";\n        }\n\n        ++$i;\n    }\n\n    push @data, \\@fields;\n}\n\nclose $FH;\nclose $ERR_FH;\n\nprint \"Unsorted:\\n\", Dumper(@data);    #, $/;\n\n#Sort the clean files on Primary Key, initTranDate, updateTranDate, and updateTranTime\n@data = sort {\n    $a-&gt;[0] cmp $b-&gt;[0]   or\n    $a-&gt;[14] cmp $b-&gt;[14] or\n    $a-&gt;[26] cmp $b-&gt;[26] or\n    $a-&gt;[27] cmp $b-&gt;[27]\n} @data;\n\n#open my $OFH, '&gt;', '/swpkg/shared/batch_processing/mistints/parsedMistints.csv';\nopen my $OFH, '&gt;', '/swpkg/shared/batch_processing/mistints/cleaned1505.csv' or die $!;\nprint $OFH join(',', @$_), $/ for @data;\nclose $OFH;\n</code></pre>\n"}], "owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1051, "favorite_count": 0, "accepted_answer_id": 37710343, "answer_count": 3, "score": -4, "last_activity_date": 1467555254, "creation_date": 1465407757, "last_edit_date": 1465411617, "question_id": 37709367, "link": "https://stackoverflow.com/questions/37709367/perl-parse-csv-file-fill-and-null-fields", "title": "Perl parse CSV file &quot;fill&quot; and &quot;null&quot; fields", "body": "<p>Okay - I'm going to post my entire script since I get chastised when I don't do it - even though, last time I did that I got chastised for posting the whole script.  I simply need to know if the one line I originally asked about would work.  ENTIRE SCRIPT (which was working just fine until the other dept gave me their data entirely differently than what we were originally told it would be) TO FOLLOW AT THE END</p>\n\n<p>I'm parsing through and scrubbing a CSV file to make it ready to be loaded in a MySQL table. It is loaded through the table via someone else's \"batch Java program\" and if any field is empty the batch file stops with an error.</p>\n\n<p>I've been told to just put in a blank space whenever there's an empty field in any record. Would something as simple as this work?</p>\n\n<pre><code>if ( ! length $fields[2] ) { \n    $_ = ' ' for $fields[2];\n}\n</code></pre>\n\n<p>And would there be a way to check either various multiple fields at once?  Or what might be better would be to check ALL the fields (this is after the record has been split) as the last thing I do just before writing the record back out to the CSV file.</p>\n\n<p>Here's the entire script.  Please don't tell me how what I'm doing within the already working script is not how you would do it. - </p>\n\n<pre><code>#!/usr/bin/perl/\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse Time::Piece;\n\nmy $filename = 'mistints_1505_comma.csv';\n#my $filename = 'test.csv';\n\n# Open input file\nopen my $FH, $filename\n  or die \"Could not read from $filename &lt;$!&gt;, program halting.\";\n\n# Open error handling file\nopen ( my $ERR_FH, '&gt;', \"errorFiles1505.csv\" ) or die $!;\n\n# Read the header line of the input file and print to screen.\nchomp(my $line = &lt;$FH&gt;);\nmy @fields = split(/,/, $line);\nprint Dumper(@fields), $/;\n\nmy @data;\n\n# Read the lines one by one.\nwhile($line = &lt;$FH&gt;) {\n\n    chomp($line);\n\n# Scrub data of characters that cause scripting problems down the line.\n    $line =~ s/[\\'\\\\]/ /g;\n\n# split the fields of each record\n\n    my @fields = split(/,/, $line);\n\n# Check if the storeNbr field is empty.  If so, write record to error file.\n    if (!length $fields[28]) {\n        chomp (@fields);\n        my $str = join ',', @fields;\n        print $ERR_FH \"$str\\n\";\n        }\n    else\n    {\n\n# Concatenate the first three fields and add to the beginning of each record\n    unshift @fields, join '_', @fields[28..30];\n\n# Format the DATE fields for MySQL\n    $_ = join '-', (split /\\//)[2,0,1] for @fields[10,14,24,26];\n\n# Scrub colons from the data\n    $line =~ s/:/ /g;\n\n# If Spectro_Model is \"UNKNOWN\", change\n    if($fields[22] eq \"UNKNOWN\"){\n        $_ = 'UNKNOW' for $fields[22];\n        }\n\n# If tran_date is blank, insert 0000-00-00\n    if(!length $fields[10]){\n        $_ = '0000-00-00' for $fields[10];\n        }\n\n# If init_tran_date is blank, insert 0000-00-00\n    if(!length $fields[14]){\n        $_ = '0000-00-00' for $fields[14];\n        }\n\n# If update_tran_date is blank, insert 0000-00-00\n    if(!length $fields[24]){\n        $_ = '0000-00-00' for $fields[24];\n        }\n\n# If cancel_date is blank, insert 0000-00-00\n    if(!length $fields[26]){\n        $_ = '0000-00-00' for $fields[26];\n        }\n\n# Format the PROD_NBR field by deleting any leading zeros before decimals.\n    $fields[12] =~ s/^\\s*0\\././;\n\n# put the records back\n    push @data, \\@fields;\n}\n}\n\nclose $FH;\nclose $ERR_FH;\n\nprint \"Unsorted:\\n\", Dumper(@data); #, $/;\n\n#Sort the clean files on Primary Key, initTranDate, updateTranDate, and updateTranTime\n@data = sort {\n    $a-&gt;[0] cmp $b-&gt;[0] ||\n    $a-&gt;[14] cmp $b-&gt;[14] ||\n    $a-&gt;[26] cmp $b-&gt;[26] ||\n    $a-&gt;[27] cmp $b-&gt; [27]\n} @data;\n\n#open my $OFH, '&gt;', '/swpkg/shared/batch_processing/mistints/parsedMistints.csv';\nopen my $OFH, '&gt;', '/swpkg/shared/batch_processing/mistints/cleaned1505.csv';\nprint $OFH join(',', @$_), $/ for @data;\nclose $OFH;\n\nexit;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 2, "last_activity_date": 1465407898, "creation_date": 1465407898, "answer_id": 37709410, "question_id": 37709236, "link": "https://stackoverflow.com/questions/37709236/i-am-trying-to-pass-this-array-but-with-numbers-only-into-my-perl-function/37709410#37709410", "title": "I am trying to pass this array but with numbers only into my Perl function", "body": "<p>Assuming your <code>$id_array</code> is as follows, you can use <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\">map</a> instead of <code>Dumper</code> to access just the numbers:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Data::Dumper;\n\nmy $id_array = [\n        {\n          'MISC' =&gt; '1743'\n        },\n        {\n          'MISC' =&gt; '1743'\n        },\n        {\n          'MISC' =&gt; '1733'\n        },\n        {\n          'MISC' =&gt; '2736'\n        },\n        {\n          'MISC' =&gt; '1763'\n        },\n        {\n          'MISC' =&gt; '3133'\n        },\n];\n\nmy @decodedIDS = map { $_-&gt;{MISC} } @{ $id_array };\nprint Dumper(\\@decodedIDS);\n\n__END__\n\n$VAR1 = [\n          '1743',\n          '1743',\n          '1733',\n          '2736',\n          '1763',\n          '3133'\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": -1, "last_activity_date": 1465438417, "last_edit_date": 1465438417, "creation_date": 1465408240, "answer_id": 37709531, "question_id": 37709236, "link": "https://stackoverflow.com/questions/37709236/i-am-trying-to-pass-this-array-but-with-numbers-only-into-my-perl-function/37709531#37709531", "title": "I am trying to pass this array but with numbers only into my Perl function", "body": "<p>There's two ways to do this, flatten before you loop over it or reference each item's data in the loop.</p>\n\n<p>Flatten:</p>\n\n<pre><code>\u2026\nforeach my $ids (map {$_-&gt;{'MISC'}} @decodedIDS){ \u2026\n\u2026\n</code></pre>\n\n<p>Or refer to contents:</p>\n\n<pre><code>\u2026\nforeach my $ids (@decodedIDS) {\n    print $ids-&gt;{'MISC'};\n\u2026\n</code></pre>\n"}], "owner": {"reputation": 174, "user_id": 6409919, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10208881690855599/picture?type=large", "display_name": "Andras Palfi", "link": "https://stackoverflow.com/users/6409919/andras-palfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 37709410, "answer_count": 2, "score": -2, "last_activity_date": 1466572590, "creation_date": 1465407295, "question_id": 37709236, "link": "https://stackoverflow.com/questions/37709236/i-am-trying-to-pass-this-array-but-with-numbers-only-into-my-perl-function", "title": "I am trying to pass this array but with numbers only into my Perl function", "body": "<p>Perl beginner here. I am writing a small automation script for a workflow for my job. I need to pass a set of numbers as inputs (which are beginning inputed from a JSON file) into my Perl function. Here is my code:</p>\n\n<pre><code>my $idFile='GNOC_IDS.json';\nmy $idJSON;\n{\n    local $/;\n    open my $fh, '&lt;', $idFile or die $!;\n    $idJSON = &lt;$fh&gt;;\n    close $fh;\n}\nmy $id_array = decode_json $idJSON;\nmy @decodedIDS = Dumper(\\$id_array);\nforeach my $ids(@decodedIDS){\n    print $ids;\n    my $results= $client-&gt;get_entities(\n            entity_id=&gt;$ids\n\n            );\n    print Dumper(\\$results);\n}\n</code></pre>\n\n<p>However, my problem is that the $ids have the following format:</p>\n\n<pre><code>[       {\n          'MISC' =&gt; '1743'\n        },\n        {\n          'MISC' =&gt; '1743'\n        },\n        {\n          'MISC' =&gt; '1733'\n        },\n        {\n          'MISC' =&gt; '2736'\n        },\n        {\n          'MISC' =&gt; '1763'\n        },\n        {\n          'MISC' =&gt; '3133'\n        },\n        {\n          'MISC' =&gt; '1743'\n        },\n        {\n          'MISC' =&gt; '1733'\n        },\n        {\n          'MISC' =&gt; '2802'\n        },\n        {\n          'MISC' =&gt; '1699'\n        },\n        {\n          'MISC' =&gt; '2736'\n        },\n        {\n          'MISC' =&gt; '2600'\n        }\n]\n</code></pre>\n\n<p>What I want is to feed just the numbers (e.g 1699, 2735, etc) into the 'get_entities' function because right now its giving me a \"input must be integer only error\".</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1465409309, "post_id": 37709213, "comment_id": 62893621, "body": "<a href=\"http://stackoverflow.com/q/17978927/936986\">stackoverflow.com/q/17978927/936986</a>"}], "answers": [{"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1465409474, "post_id": 37709836, "comment_id": 62893726, "body": "<code>$file</code> will be the name of a file in <code>$dateDir</code> but you&#39;re treating it like it&#39;s in the current directory, which won&#39;t work. Either join the path together, or just use <code>glob</code>."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1581037244, "last_edit_date": 1581037244, "creation_date": 1465409305, "answer_id": 37709836, "question_id": 37709213, "link": "https://stackoverflow.com/questions/37709213/deleting-files-over-90-days-in-perl/37709836#37709836", "title": "Deleting files over 90 days in Perl", "body": "<p>You can get the age of a file in days with the <code>-M</code> file test.  From <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\"><code>-X</code></a></p>\n\n<blockquote>\n  <p>-M  Script start time minus file modification time, in days.</p>\n</blockquote>\n\n<p>The rest is about getting the list of files.  </p>\n\n<p>As it seems to need not be recursive here is an example with  <a href=\"http://perldoc.perl.org/functions/opendir.html\" rel=\"nofollow noreferrer\">opendir</a> + <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow noreferrer\">readdir</a>.</p>\n\n<pre><code>use 5.012; # so readdir assigns to $_ in a lone while test\nopendir(my $dh, $dateDir) or die \"Can't open $dateDir directory: $!\";\nwhile (readdir($dh)) {\n    my $file = \"$dateDir/$_\";\n    if (-f $file and -M $file &gt; 90) {\n        unlink $file or warn \"Can't unlink $file: $!\";\n    }\n}\n</code></pre>\n\n<p>The path addition above is needed because <code>readdir</code> returns a bare file name, without any path. You can include various tests before actually deleting. (And please <em>always test code first</em>.)</p>\n\n<p>In versions prior to Perl 5.12 the bare <code>readdir</code> <em>did not</em> set <code>$_</code>, which is what the <code>use 5.012</code> above is about. For these versions we need to do</p>\n\n<pre><code>opendir(my $dh, $dateDir) or die \"Can't open $dateDir directory: $!\";\nwhile (my $file_nopath = readdir($dh)) {\n    my $file = \"$dateDir/$file_nopath\";\n    # same as above\n}\n</code></pre>\n\n<hr>\n\n<p>We can read the directory in one statement, if we'd rather have the list of all files first</p>\n\n<pre><code>my @filenames_relative = readdir($dh);\n</code></pre>\n\n<p>This is because <code>readdir</code> returns based on the context it's called in. Since its output here is assigned to an array it is called in the <em>list context</em> and it returns the list of all entries in the directory. As the file names are relative to that directory we can also <code>map</code> them into full path right away</p>\n\n<pre><code>my @files = map { \"$dateDir/$_\" } readdir($dh);\n</code></pre>\n\n<p>Here the <em>list context</em> is imposed on <code>readdir</code> by <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">map</a>, since that function needs a list as input.</p>\n\n<p>Now go <code>unlink</code> per your criteria, or filter on that as well to get the ready list</p>\n\n<pre><code>my @files_to_delete = \n    grep { -f and -M &gt; 90 } \n    map { \"$dateDir/$_\" }\n    readdir($dh);\n</code></pre>\n\n<p>which can all be absorbed inside <code>map</code></p>\n\n<pre><code>my @files_to_delete = map { \n    my $f = \"$dateDir/$_\"; \n    ( -f $f  and -M $f &gt; 90 ) ? $f : () \n} readdir($dh);\n</code></pre>\n\n<p>since the empty list <code>()</code> gets flattened in the return list, effectively vanishing.</p>\n\n<hr>\n\n<p>Another way is using <a href=\"https://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">glob</a></p>\n\n<pre><code>use File::Glob ':bsd_glob';  # for glob() to respect space in filenames\n\nmy @files = glob \"$dateDir/*\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 4398301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb3043b3b4dbb03046411a69775e052?s=128&d=identicon&r=PG&f=1", "display_name": "cvirus96", "link": "https://stackoverflow.com/users/4398301/cvirus96"}, "edited": false, "score": 1, "creation_date": 1465413640, "post_id": 37709880, "comment_id": 62896106, "body": "This is exactly what I was looking for. Thanks"}, {"owner": {"reputation": 229, "user_id": 7083302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-zb3IDf7cw98/AAAAAAAAAAI/AAAAAAAAAAA/b3dmb0b1ftE/photo.jpg?sz=128", "display_name": "Wafie Ali", "link": "https://stackoverflow.com/users/7083302/wafie-ali"}, "edited": false, "score": 0, "creation_date": 1562751039, "post_id": 37709880, "comment_id": 100472173, "body": "in my case -M return value with decimal point, eg; 1.32366898148148. how to ensure it just return the whole number, so easily to compare with the conditions? thanks"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 229, "user_id": 7083302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-zb3IDf7cw98/AAAAAAAAAAI/AAAAAAAAAAA/b3dmb0b1ftE/photo.jpg?sz=128", "display_name": "Wafie Ali", "link": "https://stackoverflow.com/users/7083302/wafie-ali"}, "edited": false, "score": 0, "creation_date": 1562753788, "post_id": 37709880, "comment_id": 100473753, "body": "@WafieAli What conditions? My check is for greater than 90. Why do you need a whole number? If your check is for 2, your 1.323... will be less than 2. It&#39;ll be greater than 1. Perl is magical; you can compare a float against any number (even a string) without issue."}, {"owner": {"reputation": 229, "user_id": 7083302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-zb3IDf7cw98/AAAAAAAAAAI/AAAAAAAAAAA/b3dmb0b1ftE/photo.jpg?sz=128", "display_name": "Wafie Ali", "link": "https://stackoverflow.com/users/7083302/wafie-ali"}, "edited": false, "score": 0, "creation_date": 1562837117, "post_id": 37709880, "comment_id": 100506409, "body": "@stevieb same as in OP. btw, its already solved since I got it on how it works. Just new to perl. self-learning in by hands-on task for current projects. thanks for aid &amp; concerns buddy =)"}, {"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 0, "creation_date": 1614121381, "post_id": 37709880, "comment_id": 117287688, "body": "The string <code>*.2016*</code> is not a valid regex pattern. I assume you wanted to say <b>wildcard characters</b>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 4, "last_activity_date": 1465409459, "creation_date": 1465409459, "answer_id": 37709880, "question_id": 37709213, "link": "https://stackoverflow.com/questions/37709213/deleting-files-over-90-days-in-perl/37709880#37709880", "title": "Deleting files over 90 days in Perl", "body": "<p>Here's a way using <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow\">File::Find::Rule</a>, as it keeps the full path information. The important piece for the comparison is <code>-M $file &gt; 90</code>. <code>-M</code> returns the number of days since the file was last modified.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse File::Find::Rule;\n\nmy $dir = '.';\nmy $days = 90;\n\nmy @files = File::Find::Rule-&gt;file()\n                            -&gt;maxdepth(1)\n                            -&gt;in($dir);\n\nfor my $file (@files){\n    if (-M $file &gt; 90){\n        print \"deleting $file\\n\";\n        unlink $file or warn $!;\n    }\n}\n</code></pre>\n\n<p>Note the <code>maxdepth()</code> method says \"don't traverse into sub directories\". Set that to <code>0</code> if you want to look in sub dirs.</p>\n\n<p>Also, if you want to specify a specific name, you can add a <code>name()</code> method, which will take regexes and only operate on those files. eg: <code>name('*.2016*')</code></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1465409727, "creation_date": 1465409727, "answer_id": 37709961, "question_id": 37709213, "link": "https://stackoverflow.com/questions/37709213/deleting-files-over-90-days-in-perl/37709961#37709961", "title": "Deleting files over 90 days in Perl", "body": "<p>If I understand you correctly then you want to delete all files older than 90 days in directory <code>/test/dir</code>. I don't understand what <code>my $dateDir = \"$logDir/$date</code> is for, but this one-line solution will do as you ask</p>\n\n<pre><code>$ perl -e 'unlink grep { -f and -M &gt;= 90 } glob \"/test/dir/*\"'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "is_accepted": false, "score": 0, "last_activity_date": 1465411136, "creation_date": 1465411136, "answer_id": 37710373, "question_id": 37709213, "link": "https://stackoverflow.com/questions/37709213/deleting-files-over-90-days-in-perl/37710373#37710373", "title": "Deleting files over 90 days in Perl", "body": "<p>Here's my function to find the age of a file in Perl: </p>\n\n<pre><code>###########################################################################\n# In: complete path to filename.\n# Out: age in fractional days\nsub getfileage\n{my($fn)=@_;\nmy(@a,@b,$i,$j,$procname,$s,$t);\n\n$procname=\"util2.pl:getfileage\";\n\nif (! -e $fn)\n    {\n    print \"$procname ERROR: $fn does not exist\\n\";\n    exit 1;\n    }\n\nmy $age = -M $fn; # Returns age in days\n$age=sprintf(\"%.2f\",$age);\n\nreturn $age; # getfileage\n}\n</code></pre>\n\n<p>Just plug that in, and pass in the filename.\nThis can also be useful for other users that might stumble on this question. </p>\n"}], "owner": {"reputation": 93, "user_id": 4398301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb3043b3b4dbb03046411a69775e052?s=128&d=identicon&r=PG&f=1", "display_name": "cvirus96", "link": "https://stackoverflow.com/users/4398301/cvirus96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3657, "favorite_count": 0, "accepted_answer_id": 37709880, "answer_count": 4, "score": 3, "last_activity_date": 1581037244, "creation_date": 1465407242, "question_id": 37709213, "link": "https://stackoverflow.com/questions/37709213/deleting-files-over-90-days-in-perl", "title": "Deleting files over 90 days in Perl", "body": "<p>I am currently trying to delete all files over 90 days old in a directory. The only solution I can think of is more work than I think is necessary. Is there a quick and easy way to do this? If you were working with this code:</p>\n\n<pre><code>my $date=POSIX::strftime('%b%Y', localtime);\nmy $logDir = \"/test/dir/\"\nmy $dateDir = \"$logDir/$date\n#this directory contains files with the form of someName.date\n</code></pre>\n"}, {"tags": ["perl", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 1, "creation_date": 1465406885, "post_id": 37709021, "comment_id": 62892236, "body": "Did you test again another remote instance, to make sure the problem is on the client side? Or did you try to fetch the data for example with curl or wget?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1465407093, "post_id": 37709021, "comment_id": 62892349, "body": "A GET with content is not only odd but plain invalid. You probably need to have a POST or PUT request."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465412320, "post_id": 37709021, "comment_id": 62895385, "body": "@ikegami: the newer RFC 7231 is more clear in this regard: <a href=\"https://tools.ietf.org/html/rfc7231#section-4.3.1\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc7231#section-4.3.1</a> -  &quot;A payload within a GET request message has <b>no defined semantics</b>; sending a payload body on a GET request might cause some existing  implementations to <b>reject the request.</b>&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1465438336, "post_id": 37709021, "comment_id": 62904941, "body": "@Steffen Ullrich, &quot;No defined semantics&quot; just means the server gets to define its own semantics.  The part about some devices rejecting the request is problematic, though, because the device could be a proxy."}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1465446490, "last_edit_date": 1465446490, "creation_date": 1465412928, "answer_id": 37710922, "question_id": 37709021, "link": "https://stackoverflow.com/questions/37709021/perl-lwpuseragent-slow-response-more-then-4096-characters/37710922#37710922", "title": "Perl - LWP::UserAgent; slow response - more then 4096 characters", "body": "<blockquote>\n  <p>The API on the remote device responds to GET requests only.</p>\n</blockquote>\n\n<p>Using a message body with a GET request has no defined behavior. In fact <a href=\"http://tools.ietf.org/html/rfc7231#section-4.3.1\" rel=\"nofollow\">RFC 7231 clearly says</a></p>\n\n<blockquote>\n  <p>A payload within a GET request message <strong>has no defined semantics</strong>; sending a payload body on a GET request might cause some existing implementations to <strong>reject the request</strong>.</p>\n</blockquote>\n\n<p>Thus if your API really requires a GET with a message body you should consider the API broken. </p>\n\n<p>But given the URL you show I would rather suggest that the API does not require a message body but that you simply use LWP in the wrong way.\nAccording to your example URL the <code>session_id=...</code> is not inside the message body but actually part of the URL and should be added to this, i.e.</p>\n\n<pre><code> $URL = \"https://192.168.99.51:443/services/rest/V2.1/session_id=....\"\n</code></pre>\n\n<p>And while you could just append it directly to the URL a more clean and readable way would be to construct your URL with <a href=\"https://metacpan.org/pod/URI\" rel=\"nofollow\">URI</a> as suggested by ikegami@:</p>\n\n<pre><code> use URI;\n\n my $url = URI-&gt;new(\"https://192.168.99.51:443/services/rest/V2.1/\");\n $url-&gt;query_form(\n    session_id =&gt; $sessionID,\n    format     =&gt; 'json',\n    method     =&gt; 'network.interface.fetchAllStatistics',\n );\n my $interface_getAll = HTTP::Request-&gt;new( GET =&gt; $url );\n # no setting content() here\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1465438700, "creation_date": 1465438700, "answer_id": 37715814, "question_id": 37709021, "link": "https://stackoverflow.com/questions/37709021/perl-lwpuseragent-slow-response-more-then-4096-characters/37715814#37715814", "title": "Perl - LWP::UserAgent; slow response - more then 4096 characters", "body": "<p>You say you need to fetch url</p>\n\n<blockquote>\n  <p>h&#xFEFF;ttps://192.168.99.51:443/services/rest/V2.1/session_id=b121c16aa0c0361e9bebe5bd67e60a&amp;format=json&amp;method=network.interface.fetchStatistics </p>\n</blockquote>\n\n<p>but your code is fetching url</p>\n\n<blockquote>\n  <p>h&#xFEFF;ttps://192.168.99.51:443/services/rest/V2.1/</p>\n</blockquote>\n\n<p>The following is how you fetch the correct url:</p>\n\n<pre><code>use URI;\n\nmy $url = URI-&gt;new(\"https://192.168.99.51:443/services/rest/V2.1/\");\n$url-&gt;query_form(\n   session_id =&gt; $sessionID,\n   format     =&gt; 'json',\n   method     =&gt; 'network.interface.fetchAllStatistics',\n);\n\nmy $response = $ua-&gt;get($url);\n</code></pre>\n\n<p>Using <code>$url-&gt;query_form</code> ensures your values are properly encoded.</p>\n"}], "owner": {"reputation": 1, "user_id": 6441546, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bGdcdNy0ArI/AAAAAAAAAAI/AAAAAAAAAFw/QnM-_F8EwtE/photo.jpg?sz=128", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6441546/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465446490, "creation_date": 1465406512, "last_edit_date": 1465411163, "question_id": 37709021, "link": "https://stackoverflow.com/questions/37709021/perl-lwpuseragent-slow-response-more-then-4096-characters", "title": "Perl - LWP::UserAgent; slow response - more then 4096 characters", "body": "<p>I'm trying to retrieve interface statistics data via HTTPS GET from a remote network device. The script is working, however when a response is larger than 4098 characters the connection hangs for 60 seconds. Please help ! I'm slowly going crazy.</p>\n\n<pre><code>my $interface_getAll = HTTP::Request-&gt;new( GET =&gt; $URL );\n$interface_getAll-&gt;content( 'session_id=' . $sessionID . '&amp;format=json&amp;method=network.interface.fetchAllStatistics' );\n\nmy $res = $ua-&gt;request($interface_getAll);\n$interface_getAll_rData = $res-&gt;content;\n\nmy $InterfaceValues = decode_json($interface_getAll_rData);\nprint Dumper($InterfaceValues);\n</code></pre>\n\n<p>I can't replicate this issue when using curl or wget, I get a response instantly. The API on the remote device responds to GET requests only. If you think that my code is invalid I'm open to any suggestions. </p>\n\n<p>request URL example/format:</p>\n\n<pre><code>https://192.168.99.51:443/services/rest/V2.1/session_id=b121c16aa0c0361e9bebe5bd67e60a&amp;format=json&amp;method=network.interface.fetchStatistics  \n</code></pre>\n"}, {"tags": ["perl", "snmp"], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1465405658, "creation_date": 1465405658, "answer_id": 37708770, "question_id": 37707315, "link": "https://stackoverflow.com/questions/37707315/why-doesnt-netsnmputiloid-convert-all-of-my-textual-oids-to-numeric-oids/37708770#37708770", "title": "Why doesn&#39;t Net::SNMP::Util::OID convert all of my textual OIDs to numeric OIDs?", "body": "<p>Net::SNMP::Util::OID uses a <a href=\"https://metacpan.org/source/TONODERA/Net-SNMP-Util-1.04/lib/Net/SNMP/Util/OID.pm#L81\" rel=\"nofollow\">hard-coded lookup table</a>, so it only works for certain OIDs in MIB-II and IF-MIB. For example, <code>IF-MIB::ifName</code> is included, while <code>IF-MIB::linkDown</code> isn't.</p>\n\n<p>It doesn't allow you to prefix the MIB name, either, so</p>\n\n<pre><code>oid('ifName')\n</code></pre>\n\n<p>works while</p>\n\n<pre><code>oid('IF-MIB::ifName')\n</code></pre>\n\n<p>doesn't.</p>\n\n<hr>\n\n<p>I would recommend using the <a href=\"https://metacpan.org/pod/SNMP\" rel=\"nofollow\">Perl API to the Net-SNMP library</a> instead. It allows you to load arbitrary MIBs and translate OIDs from and into a variety of formats.</p>\n\n<p>For example:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nuse SNMP;\n\n# Load a MIB not bundled with Net-SNMP\nSNMP::addMibFiles('./Sentry3.mib');\n\nmy @names = qw(\n    linkDown\n    IF-MIB::linkDown\n    SNMPv2-MIB::snmpTrapOID.0\n    systemTotalPower\n);\n\nforeach my $name (@names) {\n    say \"$name: \", SNMP::translateObj($name);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>linkDown: .1.3.6.1.6.3.1.1.5.3\nIF-MIB::linkDown: .1.3.6.1.6.3.1.1.5.3\nSNMPv2-MIB::snmpTrapOID.0: .1.3.6.1.6.3.1.1.4.1.0\nsystemTotalPower: .1.3.6.1.4.1.1718.3.1.6\n</code></pre>\n"}], "owner": {"reputation": 2606, "user_id": 2807083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5243f429132252828f081c61979aa614?s=128&d=identicon&r=PG&f=1", "display_name": "user2807083", "link": "https://stackoverflow.com/users/2807083/user2807083"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 37708770, "answer_count": 1, "score": 1, "last_activity_date": 1465419176, "creation_date": 1465401118, "last_edit_date": 1465419176, "question_id": 37707315, "link": "https://stackoverflow.com/questions/37707315/why-doesnt-netsnmputiloid-convert-all-of-my-textual-oids-to-numeric-oids", "title": "Why doesn&#39;t Net::SNMP::Util::OID convert all of my textual OIDs to numeric OIDs?", "body": "<p>I'm trying to convert some OIDs I got from a trap to numeric dotted notation (like <code>1.3.6.1.2</code>) using <a href=\"https://metacpan.org/pod/Net::SNMP::Util::OID\" rel=\"nofollow\">Net::SNMP::Util::OID</a>, but not all of them are converted. Can anybody explain what I'm doing wrong?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse diagnostics;\n\nuse Net::SNMP::Util::OID qw(*);\n\nprintf \"%s\\n\", oid(\"DISMAN-EVENT-MIB::sysUpTimeInstance\");\nprintf \"%s\\n\", oid(\"sysDescr\");\nprintf \"%s\\n\", oid(\"SNMPv2-MIB::snmpTrapOID.0\");\nprintf \"%s\\n\", oid(\"IF-MIB::linkDown\");\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>DISMAN-EVENT-MIB::sysUpTimeInstance\n1.3.6.1.2.1.1.1.0\nSNMPv2-MIB::snmpTrapOID.0\nIF-MIB::linkDown\n</code></pre>\n"}, {"tags": ["r", "perl"], "owner": {"reputation": 21, "user_id": 6440974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36943223f1d8bb824ce36cef92639880?s=128&d=identicon&r=PG&f=1", "display_name": "luke519", "link": "https://stackoverflow.com/users/6440974/luke519"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2018, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1465401540, "creation_date": 1465397451, "last_edit_date": 1465401540, "question_id": 37705940, "link": "https://stackoverflow.com/questions/37705940/perl-script-writexlsx-failed-to-run-successfully-on-rstudio-had-status-127", "title": "Perl script &#39;WriteXLSX&#39; failed to run successfully on RStudio - had status 127", "body": "<p>I recently switched computers at work and after redownloading R and RStudio and installing the required packages I get the following error message in the console in Rstudio:</p>\n\n<blockquote>\n  <p>\" running command 'perl\n  -I\"C:/Users/lroy/Documents/R/win-library/3.2/WriteXLS/Perl\" \"C:/Users/lroy/Documents/R/win-library/3.2/WriteXLS/Perl/WriteXLSX.pl\"\n  --CSVPath \"C:\\Users\\lroy\\AppData\\Local\\Temp\\RtmpeQaBzc/WriteXLS\" --verbose FALSE --AdjWidth TRUE --AutoFilter TRUE --BoldHeaderRow TRUE --FreezeRow 1 --FreezeCol 0 --Encoding UTF-8 \"C:\\Users\\lroy\\Desktop\\Weekly Data Reporting\\SureFire Trunk\n  Fiber\\SureFire_New.xlsx\"' had status 127 \"</p>\n</blockquote>\n\n<p>I am just learning R and am not an expert. The only thing that changed is the computer it runs on. All the scripts are the same. </p>\n"}, {"tags": ["r", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1465393954, "post_id": 37704378, "comment_id": 62882903, "body": "Have you made any attempt at solving this already?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1465394206, "post_id": 37704378, "comment_id": 62883099, "body": "Did you tag with perl because you are using Perl regexes in R, or because you would be fine with a pure Perl solution as well?"}, {"owner": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1465394245, "post_id": 37704378, "comment_id": 62883125, "body": "I would like to use perl because my input is very large, maybe to large to be loaded in R"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1465394849, "post_id": 37704378, "comment_id": 62883630, "body": "Can you expand on &#39;divided by length&#39; - if there&#39;s one instance of <code>GTG</code> in the first string, does that mean the &#39;frequency&#39; should be <code>1&#47;207</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1465394600, "post_id": 37704700, "comment_id": 62883434, "body": "My ouput was just an example"}, {"owner": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1465394764, "post_id": 37704700, "comment_id": 62883562, "body": "Thanks, looks nice. String lengths is number of letters. How would you include that?  How do you call the input data?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1465395411, "post_id": 37704700, "comment_id": 62884097, "body": "Edited. <code>&lt;&gt;</code> is a really handy feature of perl, worth learning about."}, {"owner": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1465397854, "post_id": 37704700, "comment_id": 62886048, "body": "By the way. Is it possible to get the frequency output as a separate column. I would like to sort the output based on frequency. Usually I would to sort -nk2, but the frequency is not the second column it seems"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1465398897, "post_id": 37704700, "comment_id": 62886844, "body": "trivially. Edit that print line; job done. The frequency would be column 4 in the example above. But <code>print &quot;$gene &quot;, @hits &#47; length($gene_str), &quot;\\n&quot;;</code> will do what you want."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1465395942, "last_edit_date": 1465395942, "creation_date": 1465394401, "answer_id": 37704700, "question_id": 37704378, "link": "https://stackoverflow.com/questions/37704378/find-frequency-of-substring-in-a-set-of-strings/37704700#37704700", "title": "find frequency of substring in a set of strings", "body": "<p>Well, you have an R solution. I've hacked something together in <code>perl</code> because you tagged it:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $target = 'GTG'; \n\nlocal $/ = \"\\n&gt;\"; \nwhile ( &lt;&gt; ) {\n    my ($gene) = m/(Gene\\d+)/;  \n    my @hits = grep { /^$target$/ } m/ ( [GTCA]{3} ) /xg;\n    print \"$gene: \".( scalar @hits), \"\\n\";\n}\n</code></pre>\n\n<p>This doesn't give the same results as your input though:</p>\n\n<pre><code>Gene1: 1\nGene2: 0\nGene3: 1\n</code></pre>\n\n<p>I'm decomposing your string into 3 element lists, and looking for ones that specifically match. (And I haven't divided by length, as I'm not entirely clear if that's the actual string length in letters, or some other metric). </p>\n\n<p>Including length matching - we need to capture both name and string:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nlocal $/ = \"\\n&gt;\";\nwhile (&lt;&gt;) {\n   my ($gene, $gene_str) = m/(Gene\\d+)\\n([GTCA]+)/m;\n   my @hits = grep { /^GTG$/ } $gene_str =~ m/ ( [GTCA]{3} ) /xg;   \n\n   print \"$gene: \" .  @hits . \"/\". length ( $gene_str ), \" = \", @hits / length($gene_str), \"\\n\";\n\n}\n</code></pre>\n\n<p>We use <code>&lt;&gt;</code> which is the 'magic' filehandle, and tells perl to read from <em>either</em> <code>STDIN</code> or a file specified on command line. Much like <code>sed</code> or <code>grep</code> does. </p>\n\n<p>With your input:</p>\n\n<pre><code>Gene1: 1/207 = 0.00483091787439614\nGene2: 0/74 = 0\nGene3: 1/331 = 0.00302114803625378\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1465395320, "post_id": 37704865, "comment_id": 62884029, "body": "<code>split&#47;(...)&#47;</code> to split on 3 characters?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465396985, "post_id": 37704865, "comment_id": 62885381, "body": "<code>$line =~ &#47;(...)&#47;g</code> or <code>unpack(&#39;(a3)*&#39;, $line)</code> would make more sense than <code>split &#47;(...)&#47;, $line</code>"}, {"owner": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1465496256, "post_id": 37704865, "comment_id": 62938038, "body": "My input looks a bit different, could you check how linebreaks affect the output?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1465503327, "post_id": 37704865, "comment_id": 62942020, "body": "@user2300940 this approach is not working if there are line breaks in between. You edited the question after accepting a solution. That&#39;s not how Stack Overflow is supposed to work. You now pose a completely different problem. I suggest you ask a new question for that."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1465395597, "last_edit_date": 1465395597, "creation_date": 1465394824, "answer_id": 37704865, "question_id": 37704378, "link": "https://stackoverflow.com/questions/37704378/find-frequency-of-substring-in-a-set-of-strings/37704865#37704865", "title": "find frequency of substring in a set of strings", "body": "<p>Here is an alternate solution that does not use a pattern match. Not that it will matter much.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $gene;\nwhile ( my $line = &lt;&gt; ) {\n    if ( $line =~ /^&gt;(.+)/ ) {\n        $gene = $1;\n        next;\n    }\n\n    chomp $line;\n\n    printf \"%s: %s\\n\", \n        $gene, \n        ( grep { $_ eq 'GTG' } split /(...)/, $line ) / length $line;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Gene1: 0.00483091787439614\nGene2: 0\nGene3: 0.00302114803625378\n</code></pre>\n\n<p>It is essentially similar to Sobrique's answer, but assumes that the gene lines contain the right characters. It splits up the gene string into a list of three-character pieces and takes the ones that are literally <code>GTG</code>.</p>\n\n<p>The splitting works by abusing the fact that <code>split</code> uses a pattern as the delimiter, and that it will also capture the delimiter if a capture group is used. Here's an example.</p>\n\n<pre><code>my @foo = split /(...)/, '1234567890';\np @foo; # from Data::Printer\n\n__END__\n[\n    [0] \"\",\n    [1] 123,\n    [2] \"\",\n    [3] 456,\n    [4] \"\",\n    [5] 789,\n    [6] 0\n]\n</code></pre>\n\n<p>The empty elements get filter out by <code>grep</code>. It might not be the most efficient way, but it gets the job done.</p>\n\n<hr>\n\n<p>You can run it by calling <code>perl foo.pl horribly-large-gene-sequence.file</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 19995, "user_id": 4064778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c0b5823126d8a8cd77aab5a92624dd9?s=128&d=identicon&r=PG", "display_name": "Steven Beaupr&#233;", "link": "https://stackoverflow.com/users/4064778/steven-beaupr%c3%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1465399078, "last_edit_date": 1465399078, "creation_date": 1465395632, "answer_id": 37705165, "question_id": 37704378, "link": "https://stackoverflow.com/questions/37704378/find-frequency-of-substring-in-a-set-of-strings/37705165#37705165", "title": "find frequency of substring in a set of strings", "body": "<p>Here is an idea in R using <code>stringi</code>. </p>\n\n<p>We use <code>stri_locate_all_fixed()</code> to find the <code>start</code> and <code>end</code> position of each <code>GTG</code> occurence. Then we create a column <code>condition</code> to test if <code>start</code> position is in <code>1,4,7,10,13,16,19,22 ...</code>. </p>\n\n<pre><code>library(stringi)\nlibrary(dplyr)\n\ndata.frame(stri_locate_all_fixed(gene1, \"GTG\")) %&gt;%\n  mutate(condition = start %in% seq(1, nchar(gene), 3))\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre><code>#  start end condition\n#1     4   6      TRUE\n</code></pre>\n\n<hr>\n\n<p>If you want to generalize this to a list of genes, you could do:</p>\n\n<pre><code>lst &lt;- list(gene1, gene2, gene3)\n\nres &lt;- lapply(lst, function(x) { \n  data.frame(stri_locate_all_fixed(x, \"GTG\")) %&gt;% \n    mutate(condition = start %in% seq(1, nchar(x), 3))\n})\n</code></pre>\n\n<p>Which would give:</p>\n\n<pre><code>#[[1]]\n#  start end condition\n#1     4   6      TRUE\n#\n#[[2]]\n#  start end condition\n#1    NA  NA     FALSE\n#\n#[[3]]\n#  start end condition\n#1     3   5     FALSE\n#2     9  11     FALSE\n#3    21  23     FALSE\n#4    70  72      TRUE\n#5    75  77     FALSE\n</code></pre>\n\n<p>Following @Sobrique's comment, if <em>divided by length</em> means <em>number of occurences respecting condition divided by total number of char in each gene</em>,  you could do:</p>\n\n<pre><code>lapply(1:length(res), function(x) sum(res[[x]][[\"condition\"]]) / nchar(lst[[x]]))\n</code></pre>\n\n<p>Which would give:</p>\n\n<pre><code>#[[1]]\n#[1] 0.004830918\n#\n#[[2]]\n#[1] 0\n#\n#[[3]]\n#[1] 0.003021148\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 480, "user_id": 2713078, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/87032a89c1433c8a9cfdb236677e6e25?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmeet", "link": "https://stackoverflow.com/users/2713078/jasmeet"}, "edited": false, "score": 0, "creation_date": 1465412105, "post_id": 37706119, "comment_id": 62895261, "body": "I argue, whoever has downvoted this answer, can you please quote a reason or atleast try the solution yourself. I don&#39;t see a reason to downvote it without an explanation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465495150, "post_id": 37706119, "comment_id": 62937390, "body": "I have received a downvote myself, and it has been commented on by a third party. I suggest that you learn to live with it: it&#39;s only -1 point"}, {"owner": {"reputation": 480, "user_id": 2713078, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/87032a89c1433c8a9cfdb236677e6e25?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmeet", "link": "https://stackoverflow.com/users/2713078/jasmeet"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465497669, "post_id": 37706119, "comment_id": 62938850, "body": "I am not concerned about negative points at all. I was just thinking that there should be a good reason for downvoting. It will at least let the person know what is wrong with his approach. I just want to learn along the way with other great people here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465497978, "post_id": 37706119, "comment_id": 62939064, "body": "Votes are cast anonymously, and it is futile to demand an explanation. I trust that your country has anonymous voting for a democratic government? Do you see them dancing and accusing over every vote for the opposition? It is odd for someone who poses as Aladdin to demand openness and honesty from their critics"}], "tags": [], "owner": {"reputation": 480, "user_id": 2713078, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/87032a89c1433c8a9cfdb236677e6e25?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmeet", "link": "https://stackoverflow.com/users/2713078/jasmeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1465412485, "last_edit_date": 1465412485, "creation_date": 1465397867, "answer_id": 37706119, "question_id": 37704378, "link": "https://stackoverflow.com/questions/37704378/find-frequency-of-substring-in-a-set-of-strings/37706119#37706119", "title": "find frequency of substring in a set of strings", "body": "<p>Here is a function I created based on your requirement. I am pretty sure there are alternate ways better than this but this solves the problem.</p>\n\n<pre><code>require(stringi)\n\ninput_gene_list&lt;- list(gene1= \"GTGGGGGTTTGTGGGGGTG\", gene2= \"GTGGGGGTTTGTGGGGGTG\", gene3= \"GTGGGGGTTTGTGGGGGTG\")\n\ngene_counter&lt;- function(gene){\n      x&lt;- gene\n      y&lt;- gsub(pattern = \"GTG\",replacement =  \"GTG \", x = x, perl=TRUE)\n\n      if(str_count(y,pattern = \"GTG\")) {\n\n        gene_count&lt;- unlist(gregexpr(pattern = \" \", y))\n\n          counter&lt;- 0\n          for(i in 1:length(gene_count)){\n            if((gene_count[i] %% 3) == 1) counter=counter+1\n          }\n          return(counter/nchar(x))\n        }\n}\n\n\noutput_list&lt;- lapply(input_gene_list, function(x) gene_counter(x))\n\nresult&lt;- t(as.data.frame(output_list))\n</code></pre>\n\n<blockquote>\n  <p>result</p>\n</blockquote>\n\n<pre><code>           [,1]\ngene1 0.1052632\ngene2 0.1052632\ngene3 0.1052632\n</code></pre>\n\n<p>Also share your thoughts on it! Thanks!</p>\n"}, {"comments": [{"owner": {"reputation": 19995, "user_id": 4064778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c0b5823126d8a8cd77aab5a92624dd9?s=128&d=identicon&r=PG", "display_name": "Steven Beaupr&#233;", "link": "https://stackoverflow.com/users/4064778/steven-beaupr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1465408732, "post_id": 37707152, "comment_id": 62893254, "body": "I don&#39;t understand the downvote here. Perfectly viable solution. +1"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467555274, "last_edit_date": 1467555274, "creation_date": 1465400603, "answer_id": 37707152, "question_id": 37704378, "link": "https://stackoverflow.com/questions/37704378/find-frequency-of-substring-in-a-set-of-strings/37707152#37707152", "title": "find frequency of substring in a set of strings", "body": "\n\n<p>Here's a Perl solution that does as you ask</p>\n\n<p>But I don't understand how your example output is derived: the first and last sequences have only one occurrence of <code>GTG</code> in the positions you require, and the second sequence has none at all. That means the outputs are <code>1 / 207</code>, <code>0 / 74</code>, and <code>1 / 331</code> respectively. None of those are anything like <code>3</code> and <code>6.3</code> that you say you're expecting</p>\n\n<p>This program expects the path to the input file as a parameter on the command line</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nprint \"Gene   Frequency\\n\";\n\nmy $name;\n\nlocal $/ = '&gt;';\n\nwhile ( &lt;&gt; ) {\n\n    chomp;\n\n    next unless /\\S/;\n\n    my ($name, $seq) = split /\\n/, $_, 2;\n    $seq =~ tr/A-Z//cd;\n\n    my $n = 0;\n    while ( $seq =~ /(?=GTG)/g ) {\n        ++$n if $-[0] % 3 == 0;\n    }\n\n    printf \"%-7s%.6f\\n\", $name, $n / length($seq);\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Gene   Frequency\nGene1  0.004831\nGene2  0.000000\nGene3  0.003021\n</code></pre>\n"}], "owner": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 37704865, "answer_count": 5, "score": 2, "last_activity_date": 1467555274, "creation_date": 1465393620, "last_edit_date": 1465496196, "question_id": 37704378, "link": "https://stackoverflow.com/questions/37704378/find-frequency-of-substring-in-a-set-of-strings", "title": "find frequency of substring in a set of strings", "body": "<p>I have as input a gene list where each genes has a header like >SomeText.\nFor each gene I would like to find the frequency of the string <code>GTG</code>. (number of occurences divided by length of gene). The string should only be counted if it starts at position 1,4,7,10 etc (every thids position). </p>\n\n<pre><code> &gt;ENST00000619537.4 cds:known chromosome:GRCh38:21:6560714:6564489:1 gene:ENSG00000276076.4 gene_biotype:protein_coding transcript_biotype:protein_coding gene_symbol:CH507-152C13.3 description:alpha-crystallin A chain  [Source:RefSeq peptide;Acc:NP_001300979]\nATGGATGTGACCATCCAGCACCCCTGGTTCAAGCGCACCCTGGGGCCCTTCTACCCCAGC\nCGGCTGTTCGACCAGTTTTTCGGCGAGGGCCTTTTTGAGTATGACCTGCTGCCCTTCCTG\nTCGTCCACCATCAGCCCCTACTACCGCCAGTCCCTCTTCCGCACCGTGCTGGACTCCGGC\nATCTCTGAGGTTCGATCCGACCGGGACAAGTTCGTCATCTTCCTCGATGTGAAGCACTTC\nTCCCCGGAGGACCTCACCGTGAAGGTGCAGGACGACTTTGTGGAGATCCACGGAAAGCAC\nAACGAGCGCCAGGACGACCACGGCTACATTTCCCGTGAGTTCCACCGCCGCTACCGCCTG\nCCGTCCAACGTGGACCAGTCGGCCCTCTCTTGCTCCCTGTCTGCCGATGGCATGCTGACC\nTTCTGTGGCCCCAAGATCCAGACTGGCCTGGATGCCACCCACGCCGAGCGAGCCATCCCC\nGTGTCGCGGGAGGAGAAGCCCACCTCGGCTCCCTCGTCCTAA\n&gt;ENST00000624019.3 cds:known chromosome:GRCh38:21:6561284:6563978:1 gene:ENSG00000276076.4 gene_biotype:protein_coding transcript_biotype:protein_coding gene_symbol:CH507-152C13.3 description:alpha-crystallin A chain  [Source:RefSeq peptide;Acc:NP_001300979]\nATGGACGCCCCCCCCCCCCACCCAACCACAGGCCTCCTCTCTGAGCCACGGGTTCGATCC\nGACCGGGACAAGTTCGTCATCTTCCTCGATGTGAAGCACTTCTCCCCGGAGGACCTCACC\nGTGAAGGTGCAGGACGACTTTGTGGAGATCCACGGAAAGCACAACGAGCGCCAGGACGAC\nCACGGCTACATTTCCCGTGAGTTCCACCGCCGCTACCGCCTGCCGTCCAACGTGGACCAG\nTCGGCCCTCTCTTGCTCCCTGTCTGCCGATGGCATGCTGACCTTCTGTGGCCCCAAGATC\nCAGACTGGCCTGGATGCCACCCACGCCGAGCGAGCCATCCCCGTGTCGCGGGAGGAGAAG\nCCCACCTCGGCTCCCTCGTCCTAA\n&gt;ENST00000624932.1 cds:known chromosome:GRCh38:21:6561954:6564203:1 gene:ENSG00000276076.4 gene_biotype:protein_coding transcript_biotype:protein_coding gene_symbol:CH507-152C13.3 description:alpha-crystallin A chain  [Source:RefSeq peptide;Acc:NP_001300979]\nATGCCTGTCTGTCCAGGAGACAGTCACAGGCCCCCGAAAGCTCTGCCCCACTTGGTGTGT\nGGGAGAAGAGGCCGGCAGGTTCGATCCGACCGGGACAAGTTCGTCATCTTCCTCGATGTG\nAAGCACTTCTCCCCGGAGGACCTCACCGTGAAGGTGCAGGACGACTTTGTGGAGATCCAC\nGGAAAGCACAACGAGCGCCAGGACGACCACGGCTACATTTCCCGTGAGTTCCACCGCCGC\nTACCGCCTGCCGTCCAACGTGGACCAGTCGGCCCTCTCTTGCTCCCTGTCTGCCGATGGC\nATGCTGACCTTCTGTGGCCCCAAGATCCAGACTGGCCTGGATGCCACCCACGCCGAGCGA\nGCCATCCCCGTGTCGCGGGAGGAGAAGCCCACCTCGGCTCCCTCGTCCTAA\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Gene   Frequency\nGene1: 3\nGene2 6.3\n....\n</code></pre>\n\n<p>I was thinging of something like this, but I dont now how to define the positions requirements:</p>\n\n<pre><code>freq &lt;- sapply(gregexpr(\"GTG\",x),function(x)if(x[[1]]!=-1) length(x) else 0)\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 0, "creation_date": 1465392895, "post_id": 37703864, "comment_id": 62882040, "body": "There are digits in my email..."}, {"owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "reply_to_user": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 0, "creation_date": 1465394331, "post_id": 37703864, "comment_id": 62883199, "body": "I am new in regular expression also. But I have tried here with only character class like from only [a-zA-Z]. You can add there [a-zA-Z0-9] if you have alphanumeric one as Arijit suggested below. But in my case it seems \\@ and after the \\@ characters are skipped until \\."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 0, "creation_date": 1465393226, "post_id": 37704058, "comment_id": 62882288, "body": "I have tried and made the script as you suggested : Here is the modified script.                                                                                                              #!/users/bin/perl/ $string = &quot;XYZ@yahoo.com&quot;;  if ($string =~ /^[a-z0-9]([a-z0-9.]+[a-z0-9])?\\@[a-z0-9.-]+$/) { \tprint &quot;TRUE&quot;; \tprint $string; } else { \tprint &quot;FALSE&quot;; \tprint $string; } but the output is &quot;FALSE&quot;"}, {"owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 0, "creation_date": 1465393938, "post_id": 37704058, "comment_id": 62882894, "body": "I am using Strawberry Perl. It is showing me same &quot;FALSE&quot; even with your updated regular expression."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 0, "creation_date": 1465394035, "post_id": 37704058, "comment_id": 62882962, "body": "Please change <b>$string = &quot;XYZ@yahoo.com&quot;;</b> to <b>$string = &#39;XYZ@yahoo.com&#39;;</b> . it considering @yahoo as a array variable."}, {"owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 0, "creation_date": 1465394472, "post_id": 37704058, "comment_id": 62883318, "body": "Thanks ... it is working now. I wonder if a string in perl can only be in single quote or I can use the double quote also. Here it puzzles me a little."}, {"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 0, "creation_date": 1465394575, "post_id": 37704058, "comment_id": 62883414, "body": "Always <code>use strict;</code> and <code>use warnings</code>, that would have given you an error saying that <code>@yahoo</code> was not declared."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1465394769, "post_id": 37704058, "comment_id": 62883572, "body": "You can put strings in double quotes in Perl. But anything that looks like a variable will be expanded. <code>@yahoo</code> looks like a variable, so it gets expanded (to an empty string as the array doesn&#39;t exist) in double quotes."}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": 1, "last_activity_date": 1465394397, "last_edit_date": 1465394397, "creation_date": 1465392888, "answer_id": 37704058, "question_id": 37703864, "link": "https://stackoverflow.com/questions/37703864/regular-expression-to-validate-an-email-in-perl/37704058#37704058", "title": "Regular expression to validate an email in perl", "body": "<p>Change your if condition to </p>\n\n<pre><code>  if ($string =~ /^[a-z0-9A-Z][A-Za-z0-9.]+[A-Za-z0-9]\\@[A-Za-z0-9.-]+$/)\n</code></pre>\n\n<p>and change \n<code>$string = \"XYZ@yahoo.com\";</code> to</p>\n\n<pre><code>$string = 'XYZ@yahoo.com';\n</code></pre>\n\n<p>Refference : <a href=\"http://perlmaven.com/email-validation-using-regular-expression-in-perl\" rel=\"nofollow\">http://perlmaven.com/email-validation-using-regular-expression-in-perl</a>\n for details.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 0, "creation_date": 1465393723, "post_id": 37704065, "comment_id": 62882685, "body": "Thanks .. it is working but I needed with regular expression"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1465459929, "post_id": 37704065, "comment_id": 62912984, "body": "That&#39;s a really bad regex to use. Valid email addresses can use far more characters than that. Domain names can have more than two sections (for example, I own the domain dave.org.uk). Also many newer top-level domains (for example .london) are longer than four characters."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1465479586, "post_id": 37704065, "comment_id": 62926650, "body": "@Dave Cross: Your inputs are valuable. Thanks."}, {"owner": {"reputation": 63, "user_id": 2494858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxAxh.png?s=128&g=1", "display_name": "Negative Zero", "link": "https://stackoverflow.com/users/2494858/negative-zero"}, "edited": false, "score": 0, "creation_date": 1617373365, "post_id": 37704065, "comment_id": 118292284, "body": "my $pattern= &#39;^([a-zA-Z][\\w\\_\\.]{2,})\\@([a-zA-Z0-9.-]+)\\.([a-zA-Z]{2,4})$&zwnj;&#8203;&#39;;   My email didn&#39;t work until I changed the username part to 2 characters or more. Many emails have user names smaller than 6 characters and some larger than 15."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1617882978, "post_id": 37704065, "comment_id": 118436224, "body": "Based on the OP&#39;s question we have answered. And there is a default module is available to find basic email domain formats."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 8, "last_activity_date": 1465394524, "last_edit_date": 1465394524, "creation_date": 1465392896, "answer_id": 37704065, "question_id": 37703864, "link": "https://stackoverflow.com/questions/37703864/regular-expression-to-validate-an-email-in-perl/37704065#37704065", "title": "Regular expression to validate an email in perl", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Email::Valid;\n\nmy $email_address = 'a.n@example.com';\n\nunless( Email::Valid-&gt;address($email_address) ) {\n    print \"Sorry, that email address is not valid!\";\n}\n</code></pre>\n\n<p>Reference Site: <a href=\"http://learn.perl.org/examples/email_valid.html\" rel=\"noreferrer\">http://learn.perl.org/examples/email_valid.html</a></p>\n\n<p>For Regex Pattern try this:</p>\n\n<pre><code> my $pattern= '^([a-zA-Z][\\w\\_\\.]{6,15})\\@([a-zA-Z0-9.-]+)\\.([a-zA-Z]{2,4})$'; \n</code></pre>\n\n<p>Reference Site: <a href=\"https://www.experts-exchange.com/articles/8652/Email-validation-using-Regular-Expression-in-Perl.html\" rel=\"noreferrer\">https://www.experts-exchange.com/articles/8652/Email-validation-using-Regular-Expression-in-Perl.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 0, "creation_date": 1465394692, "post_id": 37704683, "comment_id": 62883519, "body": "Thanks for you got the code and pasted it over here. But it is really big and sorry to say that I am not understanding a bit also."}, {"owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 0, "creation_date": 1465394861, "post_id": 37704683, "comment_id": 62883639, "body": "Thanks for the explanation. Definitely I will add &#39;use strict&#39; and &#39;use warnings&#39; in my perl code now onwards ..Its working ..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 12, "creation_date": 1465394972, "post_id": 37704683, "comment_id": 62883728, "body": "You&#39;re not supposed to understand the regex. It&#39;s there to scare people into using the module which hides the regex from you :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 18, "last_activity_date": 1465394687, "last_edit_date": 1465394687, "creation_date": 1465394373, "answer_id": 37704683, "question_id": 37703864, "link": "https://stackoverflow.com/questions/37703864/regular-expression-to-validate-an-email-in-perl/37704683#37704683", "title": "Regular expression to validate an email in perl", "body": "<p>The regex for validating an email address is included in the <a href=\"https://metacpan.org/source/RJBS/Email-Valid-1.200/lib/Email/Valid.pm\">source code for Email::Valid</a>. I've copied it below:</p>\n\n<pre><code>$RFC822PAT = &lt;&lt;'EOF';\n[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\\nxff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xf\nf\\n\\015()]*)*\\)[\\040\\t]*)*(?:(?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\x\nff]+(?![^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff])|\"[^\\\\\\x80-\\xff\\n\\015\n\"]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015\"]*)*\")[\\040\\t]*(?:\\([^\\\\\\x80-\\\nxff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80\n-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*\n)*(?:\\.[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\n\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\\nx80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*(?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x8\n0-\\xff]+(?![^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff])|\"[^\\\\\\x80-\\xff\\n\n\\015\"]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015\"]*)*\")[\\040\\t]*(?:\\([^\\\\\\x\n80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\n\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\n\\t]*)*)*@[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([\n^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\n\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*(?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\\nx80-\\xff]+(?![^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff])|\\[(?:[^\\\\\\x80-\n\\xff\\n\\015\\[\\]]|\\\\[^\\x80-\\xff])*\\])[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()\n]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\\nx80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*(?:\\.[\\04\n0\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\\nn\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\\n015()]*)*\\)[\\040\\t]*)*(?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?!\n[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff])|\\[(?:[^\\\\\\x80-\\xff\\n\\015\\[\\\n]]|\\\\[^\\x80-\\xff])*\\])[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\\nx80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\01\n5()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*)*|(?:[^(\\040)&lt;&gt;@,;:\".\n\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?![^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]\n)|\"[^\\\\\\x80-\\xff\\n\\015\"]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015\"]*)*\")[^\n()&lt;&gt;@,;:\".\\\\\\[\\]\\x80-\\xff\\000-\\010\\012-\\037]*(?:(?:\\([^\\\\\\x80-\\xff\\n\\0\n15()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][\n^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)|\"[^\\\\\\x80-\\xff\\\nn\\015\"]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015\"]*)*\")[^()&lt;&gt;@,;:\".\\\\\\[\\]\\\nx80-\\xff\\000-\\010\\012-\\037]*)*&lt;[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?\n:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\n\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*(?:@[\\040\\t]*\n(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015\n()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()\n]*)*\\)[\\040\\t]*)*(?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?![^(\\0\n40)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff])|\\[(?:[^\\\\\\x80-\\xff\\n\\015\\[\\]]|\\\\\n[^\\x80-\\xff])*\\])[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\\nxff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*\n)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*(?:\\.[\\040\\t]*(?:\\([^\\\\\\x80\n-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x\n80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t\n]*)*(?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?![^(\\040)&lt;&gt;@,;:\".\\\\\n\\[\\]\\000-\\037\\x80-\\xff])|\\[(?:[^\\\\\\x80-\\xff\\n\\015\\[\\]]|\\\\[^\\x80-\\xff])\n*\\])[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x\n80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80\n-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*)*(?:,[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015(\n)]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\n\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*@[\\040\\t\n]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\0\n15()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015\n()]*)*\\)[\\040\\t]*)*(?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?![^(\n\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff])|\\[(?:[^\\\\\\x80-\\xff\\n\\015\\[\\]]|\n\\\\[^\\x80-\\xff])*\\])[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80\n-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()\n]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*(?:\\.[\\040\\t]*(?:\\([^\\\\\\x\n80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\n\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\n\\t]*)*(?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?![^(\\040)&lt;&gt;@,;:\".\n\\\\\\[\\]\\000-\\037\\x80-\\xff])|\\[(?:[^\\\\\\x80-\\xff\\n\\015\\[\\]]|\\\\[^\\x80-\\xff\n])*\\])[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\n\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x\n80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*)*)*:[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015\n()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\n\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*)?(?:[^\n(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?![^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\n\\037\\x80-\\xff])|\"[^\\\\\\x80-\\xff\\n\\015\"]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\\nn\\015\"]*)*\")[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\n\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))\n[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*(?:\\.[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\n\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\x\nff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*(\n?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?![^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\\n000-\\037\\x80-\\xff])|\"[^\\\\\\x80-\\xff\\n\\015\"]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\\nxff\\n\\015\"]*)*\")[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\x\nff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)\n*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*)*@[\\040\\t]*(?:\\([^\\\\\\x80-\\x\nff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\n\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)\n*(?:[^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?![^(\\040)&lt;&gt;@,;:\".\\\\\\[\\\n]\\000-\\037\\x80-\\xff])|\\[(?:[^\\\\\\x80-\\xff\\n\\015\\[\\]]|\\\\[^\\x80-\\xff])*\\]\n)[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\n\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\x\nff\\n\\015()]*)*\\)[\\040\\t]*)*(?:\\.[\\040\\t]*(?:\\([^\\\\\\x80-\\xff\\n\\015()]*(\n?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]*(?:\\\\[^\\x80-\\xff][^\\\\\\x80\n-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)*\\)[\\040\\t]*)*(?:[^(\\040)&lt;\n&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x80-\\xff]+(?![^(\\040)&lt;&gt;@,;:\".\\\\\\[\\]\\000-\\037\\x8\n0-\\xff])|\\[(?:[^\\\\\\x80-\\xff\\n\\015\\[\\]]|\\\\[^\\x80-\\xff])*\\])[\\040\\t]*(?:\n\\([^\\\\\\x80-\\xff\\n\\015()]*(?:(?:\\\\[^\\x80-\\xff]|\\([^\\\\\\x80-\\xff\\n\\015()]\n*(?:\\\\[^\\x80-\\xff][^\\\\\\x80-\\xff\\n\\015()]*)*\\))[^\\\\\\x80-\\xff\\n\\015()]*)\n*\\)[\\040\\t]*)*)*&gt;)\nEOF\n</code></pre>\n\n<p>But your actual problem is this line:</p>\n\n<pre><code>$string = \"XYZ@yahoo.com\";\n</code></pre>\n\n<p>The <code>@yahoo</code> looks like an array variable to Perl, and and you don't have an array called <code>@yahoo</code> it gets replaced with an empty string. Try printing the value of <code>$string</code> to see what you get.</p>\n\n<p>The solution is either to use single quotes (so the array variable isn't expanded):</p>\n\n<pre><code>$string = 'XYZ@yahoo.com';\n</code></pre>\n\n<p>Or to escape the <code>@</code> with a <code>\\</code>:</p>\n\n<pre><code>$string = \"XYZ\\@yahoo.com\";\n</code></pre>\n\n<p>Alway add <code>use strict</code> and <code>use warnings</code> to your Perl programs. They would have told you what the problem is.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1465394876, "post_id": 37704790, "comment_id": 62883649, "body": "The problem is not the regex. The problem is the assignment to <code>$string</code>."}, {"owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 0, "creation_date": 1465395161, "post_id": 37704790, "comment_id": 62883878, "body": "yes I understood .. I wonder if a string in perl can only be in single quote or I can use the double quote also. Here it puzzles me a little.                                Thanks ..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1465396201, "post_id": 37704790, "comment_id": 62884776, "body": "I have explained that in another comment elsewhere on this page and also in my answer. Perl accepts strings in double quotes, but it expands variables in double-quoted strings. And <code>@yahoo</code> looks like a (non-existent) variable. If you don&#39;t understand that, can I recommend that you find the time to read a good introductory Perl tutorial."}, {"owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "edited": false, "score": 0, "creation_date": 1498234918, "post_id": 37704790, "comment_id": 76434353, "body": "I do not know why this of my question is still getting downvote even today whereas I can see this was asked 1 year ago. so surprised."}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 0, "last_activity_date": 1465394652, "creation_date": 1465394652, "answer_id": 37704790, "question_id": 37703864, "link": "https://stackoverflow.com/questions/37703864/regular-expression-to-validate-an-email-in-perl/37704790#37704790", "title": "Regular expression to validate an email in perl", "body": "<p>Try</p>\n\n<pre><code>if ($email =~ /^[a-z0-9]([a-z0-9.]+[a-z0-9])?\\@[a-z0-9.-]+$/)\n</code></pre>\n\n<p>And some test code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $email = \"john.doe\\@acme.org\";\n\nif ($email =~ /^[a-z0-9]([a-z0-9.]+[a-z0-9])?\\@[a-z0-9.-]+$/) {\n    print \"Valid email\\n\";\n} else {\n    print \"Not valid email\\n\";\n}\n\nexit;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Valid email \n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 2225318, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3a6b960f4c55c893147cbfd7d2fced04?s=128&d=identicon&r=PG", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/2225318/anirban-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17029, "favorite_count": 1, "accepted_answer_id": 37704683, "answer_count": 4, "score": 2, "last_activity_date": 1465394687, "creation_date": 1465392386, "question_id": 37703864, "link": "https://stackoverflow.com/questions/37703864/regular-expression-to-validate-an-email-in-perl", "title": "Regular expression to validate an email in perl", "body": "<p>I am new in Perl and trying to catch hold of the scripting language where I come across regular expression to validate a email address. I am sharing the perl script. I am not sure where I am making mistake in it. The \\@ part is omitted always following which the correct email id is also showing as invalid. </p>\n\n<p>Here is the code :</p>\n\n<pre><code>#!/usrs/bin/perl/\n$string = \"XYZ@yahoo.com\";\nif ( $string =~ /([a-zA-Z]+)\\@([a-zA-Z]+)\\.(com|net|org)/)\n{\n    print \"TRUE\";\n    print $string;\n}\nelse\n{\n    print \"FALSE\";\n    print $string;\n}\n</code></pre>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["regex", "bash", "perl", "unix", "sed"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 4, "creation_date": 1465383288, "post_id": 37700448, "comment_id": 62875168, "body": "You need to use single quotes. The $1 is interpreted by bash before perl, therefore it is empty when perl sees it. Or just escape it, as you use single quotes in your replacement. <code>\\$</code>"}, {"owner": {"reputation": 167, "user_id": 2550837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8d4c57a78feb19932a1dfb9aba35c5?s=128&d=identicon&r=PG", "display_name": "Peter O&#39;Brien", "link": "https://stackoverflow.com/users/2550837/peter-obrien"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1465383660, "post_id": 37700448, "comment_id": 62875391, "body": "thanks @123 that&#39;s also an alternative fix"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1465383761, "post_id": 37700448, "comment_id": 62875452, "body": "Looks a bit like JSON or another structured data format. Is it? Because if so, regular expressions are probably not the tool for the job."}, {"owner": {"reputation": 167, "user_id": 2550837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8d4c57a78feb19932a1dfb9aba35c5?s=128&d=identicon&r=PG", "display_name": "Peter O&#39;Brien", "link": "https://stackoverflow.com/users/2550837/peter-obrien"}, "edited": false, "score": 0, "creation_date": 1465403246, "post_id": 37700448, "comment_id": 62890000, "body": "Sorry can&#39;t go into specifics. If it were JSON though and you had say 500 files you just wanted to tweak in a small way, why not regex? What else?"}], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 2550837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8d4c57a78feb19932a1dfb9aba35c5?s=128&d=identicon&r=PG", "display_name": "Peter O&#39;Brien", "link": "https://stackoverflow.com/users/2550837/peter-obrien"}, "is_accepted": true, "score": 1, "last_activity_date": 1465559243, "last_edit_date": 1495535343, "creation_date": 1465559243, "answer_id": 37747502, "question_id": 37700448, "link": "https://stackoverflow.com/questions/37700448/search-and-replace-unix-command-line-perl-capture-group-empty/37747502#37747502", "title": "Search and replace unix command line, perl capture group empty", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/users/4923629/123\">@123</a> for <a href=\"https://stackoverflow.com/questions/37700448/search-and-replace-unix-command-line-perl-capture-group-empty#comment62875168_37700448\">answer in the comments</a>:</p>\n\n<blockquote>\n  <p>You need to use single quotes. The $1 is interpreted by bash before perl, therefore it is empty when perl sees it. Or just escape it, as you use single quotes in your replacement.</p>\n</blockquote>\n\n<p>Thus translating to:</p>\n\n<pre><code>find . -type f -exec perl -p -i -e 's/somethingElse:(.*)/somethingElse:$1,\\n\\tsomethingNew: '\\''ah ha'\\''/g' {} \\;\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>find . -type f -exec perl -p -i -e \"s/somethingElse:(.*)/somethingElse:\\$1,\\n\\tsomethingNew: 'ah ha'/g\" {} \\;\n</code></pre>\n\n<p>It might also be wise to add a file extension when doing this, one guess why: you may perform accidentally from too high a directory and corrupt say version control files, i.e.  </p>\n\n<pre><code>find . -type f -name '*.json' -exec perl -p -i -e \"s/somethingElse:(.*)/somethingElse:\\$1,\\n\\tsomethingNew: 'ah ha'/g\" {} \\;\n</code></pre>\n\n<p>The originally accepted answer which was deleted suggested <code>\\1</code> rather than <code>$1</code>. Whilst this worked it was noted as <a href=\"http://perldoc.perl.org/perlre.html#Warning-on-%5c1-Instead-of-%241\" rel=\"nofollow noreferrer\">bad practice</a> by other commenters.</p>\n"}], "owner": {"reputation": 167, "user_id": 2550837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8d4c57a78feb19932a1dfb9aba35c5?s=128&d=identicon&r=PG", "display_name": "Peter O&#39;Brien", "link": "https://stackoverflow.com/users/2550837/peter-obrien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1332, "favorite_count": 0, "accepted_answer_id": 37747502, "answer_count": 1, "score": 0, "last_activity_date": 1465999010, "creation_date": 1465383088, "last_edit_date": 1465999010, "question_id": 37700448, "link": "https://stackoverflow.com/questions/37700448/search-and-replace-unix-command-line-perl-capture-group-empty", "title": "Search and replace unix command line, perl capture group empty", "body": "<p>I'm trying to perform a recursive search and replace of file content in multiple files.</p>\n\n<p>Given the below in a number of files:</p>\n\n<pre><code>example:{\n  something: 'ha',\n  somethingElse: 'ah'\n}\n</code></pre>\n\n<p>I'd like to end up with:</p>\n\n<pre><code>example:{\n  something: 'ha',\n  somethingElse: 'ah',\n  somethingNew: 'ah ha'\n}\n</code></pre>\n\n<p>On Mac OS X, I am trying the following from command line from within a parent directory:</p>\n\n<pre><code>find . -type f -exec perl -p -i -e \"s/somethingElse:(.*)/somethingElse:$1,\\n\\tsomethingNew: 'ah ha'/g\" {} \\;\n</code></pre>\n\n<p>It's almost working except the capture group is interpreted as blank resulting in:</p>\n\n<pre><code>example:{\n  something: 'ha',\n  somethingElse:,\n  somethingNew: 'ah ha'\n}\n</code></pre>\n\n<p>What's the problem?</p>\n\n<p>Also not tied to <code>perl</code>, I don't mind an alternative approach (can use <code>sed</code> for example)</p>\n"}, {"tags": ["javascript", "perl", "unit-testing", "selenium-webdriver", "internet-explorer-11"], "answers": [{"tags": [], "owner": {"reputation": 871289, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 71, "last_activity_date": 1548868103, "last_edit_date": 1548868103, "creation_date": 1465379802, "answer_id": 37699217, "question_id": 37698996, "link": "https://stackoverflow.com/questions/37698996/findindex-method-issue-with-internet-explorer/37699217#37699217", "title": "findIndex() method issue with internet explorer", "body": "<blockquote>\n  <p>So my question is how can i do differently to get my index for every browser ?</p>\n</blockquote>\n\n<p>You have at least three options:</p>\n\n<ol>\n<li><p>Shim <code>Array#findIndex</code>; <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\" rel=\"noreferrer\">MDN</a> has a shim/polyfill you can use.</p></li>\n<li><p>Use something else that IE11 has, such as <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"noreferrer\"><code>Array#some</code></a> (which even IE9 has):</p>\n\n<pre><code>var index = -1;\nitems.some(function(el, i) {\n    if (el.name == paramProgramName) {\n        index = i;\n        return true;\n    }\n});\n</code></pre></li>\n<li><p>Use something else that even IE8 has, such as <code>for</code>:</p>\n\n<pre><code>var index = -1;\nfor (var i = 0; i &lt; items.length; ++i) {\n    if (items[i].name == paramProgramName) {\n        index = i;\n        break;\n    }\n}\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2137, "user_id": 979010, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JLYyB.jpg?s=128&g=1", "display_name": "Dimitris Damilos", "link": "https://stackoverflow.com/users/979010/dimitris-damilos"}, "edited": false, "score": 2, "creation_date": 1521184876, "post_id": 48201092, "comment_id": 85631631, "body": "Why is this a &quot;better&quot; function than the one approved as the right answer? Could you please explain? I see it as over-engineered and complicated with the <code>predicateFunction</code>."}, {"owner": {"reputation": 372, "user_id": 3578279, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2f55f10da895f971f5db8476393bcd74?s=128&d=identicon&r=PG&f=1", "display_name": "zingh", "link": "https://stackoverflow.com/users/3578279/zingh"}, "edited": false, "score": 0, "creation_date": 1573262311, "post_id": 48201092, "comment_id": 103836923, "body": "i was looking for a lodash &#39;s _.findIndex replacement. Worked for me.."}, {"owner": {"reputation": 4327, "user_id": 422845, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/19a780bc6754e1a9644ee1833d89b5c2?s=128&d=identicon&r=PG", "display_name": "jbyrd", "link": "https://stackoverflow.com/users/422845/jbyrd"}, "reply_to_user": {"reputation": 2137, "user_id": 979010, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JLYyB.jpg?s=128&g=1", "display_name": "Dimitris Damilos", "link": "https://stackoverflow.com/users/979010/dimitris-damilos"}, "edited": false, "score": 0, "creation_date": 1593009242, "post_id": 48201092, "comment_id": 110630308, "body": "@DimitrisDamilos and upvoters of his comment - this is actually a decent and useful function - this is basically a simplified rewrite/polyfill of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\" rel=\"nofollow noreferrer\">Array.prototype.findIndex</a> supported in modern browsers - look at that reference and you&#39;ll see the use is the exact same as here. Instead of calling the 2nd parameter <code>predicateFunction</code>, however, it should really just be called <code>callback</code> to be consistent with other JavaScript built-in functions."}], "tags": [], "owner": {"reputation": 19, "user_id": 9202296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27078f6d414975ed1b15e9f34919ef56?s=128&d=identicon&r=PG&f=1", "display_name": "Shivank Kaul", "link": "https://stackoverflow.com/users/9202296/shivank-kaul"}, "is_accepted": false, "score": -2, "last_activity_date": 1515652553, "creation_date": 1515652553, "answer_id": 48201092, "question_id": 37698996, "link": "https://stackoverflow.com/questions/37698996/findindex-method-issue-with-internet-explorer/48201092#48201092", "title": "findIndex() method issue with internet explorer", "body": "<p>A better way: </p>\n\n<pre><code>var findArrayIndex = function (array, predicateFunction) {\n    var length = array == null ? 0 : array.length;\n    if (!length) {\n        return -1;\n    }\n    var index = -1;\n    for (var i = 0; i &lt; array.length; ++i) {\n        if(predicateFunction(array[i])) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>findArrayIndex(cachedAnnouncementsArray, function(o){return o.ID == 17;}); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2983869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67fcd25b0ac8af96e5243e86cb85f62?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed", "link": "https://stackoverflow.com/users/2983869/mohammed"}, "is_accepted": false, "score": -2, "last_activity_date": 1528883612, "creation_date": 1528883612, "answer_id": 50834265, "question_id": 37698996, "link": "https://stackoverflow.com/questions/37698996/findindex-method-issue-with-internet-explorer/50834265#50834265", "title": "findIndex() method issue with internet explorer", "body": "<p>Another way:</p>\n\n<pre><code>var objects = [\n  { 'key' : 1, 'name' : 'ABC' },\n  { 'key' : 2, 'name' : 'QLP' },\n  { 'key' : 3, 'name' : 'XYZ' },\n];\n\nfunction filterByKey(obj) {\n  if ('key' in obj) {\n    return obj.key === 'some_value';\n  }\n}\n\nvar index = objects.indexOf(\n  objects.filter(filterByKey)[0]\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 5549817, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0a888f760aba1e5b2e9a614e6616da70?s=128&d=identicon&r=PG", "display_name": "CuheGuevara", "link": "https://stackoverflow.com/users/5549817/cuheguevara"}, "is_accepted": false, "score": 2, "last_activity_date": 1535604589, "creation_date": 1535604589, "answer_id": 52089402, "question_id": 37698996, "link": "https://stackoverflow.com/questions/37698996/findindex-method-issue-with-internet-explorer/52089402#52089402", "title": "findIndex() method issue with internet explorer", "body": "<p>you can use <a href=\"http://underscorejs.org/\" rel=\"nofollow noreferrer\">http://underscorejs.org/</a>, </p>\n\n<p>how to use:</p>\n\n<pre><code>var index = _.findIndex(objects, function(item){\nreturn item.name == programName;\n});\n</code></pre>\n"}], "owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38241, "favorite_count": 2, "accepted_answer_id": 37699217, "answer_count": 4, "score": 23, "last_activity_date": 1548868103, "creation_date": 1465379277, "last_edit_date": 1527330392, "question_id": 37698996, "link": "https://stackoverflow.com/questions/37698996/findindex-method-issue-with-internet-explorer", "title": "findIndex() method issue with internet explorer", "body": "<p>I am doing some tests with differents browsers using the <a href=\"https://metacpan.org/pod/Selenium::Remote::Driver\" rel=\"noreferrer\"><code>Selenium::Remote::Driver</code></a> module.</p>\n\n<p>I would like to check if I find some item in my web site list, list from a framework JavaScript (which  creates grids). For this case I have to use JavaScript snippet allowed by <code>Selenium::Remote::Driver</code>.</p>\n\n<p>I wrote the following code</p>\n\n<pre><code>$script = q{\n\n      var paramProgramName = arguments[0];\n\n      var list  = $('#c-list').dxList('instance');\n      var items = list.option('items');\n      var index = items.findIndex(function(el){ return el.name == paramProgramName; });\n\n      list.selectItem(index);\n\n      return ;\n};\n\n$driver-&gt;execute_script($script, $programName);\n</code></pre>\n\n<p>It works fine with Chrome and Firefox but not with Internet Explorer because the <code>findIndex</code> method is only supported by version 12 and following. For some reason I have to use version 11.</p>\n\n<p>What can I do differently to get an index from every browser?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465384903, "post_id": 37697466, "comment_id": 62876127, "body": "This would make more sense if it were <code>$length = (-s $value1) &#47; $value2</code>. That is, it uses <code>$value1</code> as the name of a file, fetches its size, and divides that by <code>$value2</code>"}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1465376732, "post_id": 37697917, "comment_id": 62870781, "body": "@simbabque: Do you also have a script to generate a markdown link to a given perldoc page? ;-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1465376829, "post_id": 37697917, "comment_id": 62870841, "body": "No, I press crtl+t, type <code>p foo</code> and copy it. I should start making scripts like that."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1465376647, "last_edit_date": 1465376647, "creation_date": 1465376549, "answer_id": 37697917, "question_id": 37697466, "link": "https://stackoverflow.com/questions/37697466/perl-s-argument-in-division/37697917#37697917", "title": "Perl -s argument in division", "body": "<p>See <a href=\"http://p3rl.org/-X\" rel=\"nofollow\">-X</a>:</p>\n\n<blockquote>\n  <p>-s  File has nonzero size (returns size in bytes).</p>\n</blockquote>\n\n<p>It doesn't seem to make any sense in this context. The division returns a number that is considered a file name which probably doesn't exist.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465385019, "post_id": 37697923, "comment_id": 62876207, "body": "<i>&quot;The <code>-s</code> operator takes a filename and checks that the size is not zero, and returns the size in byte. &quot;</i> It doesn&#39;t do any checks: it simply returns the size of the file, zero or otherwise"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465385147, "post_id": 37697923, "comment_id": 62876292, "body": "@Borodin better like this?"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1465396875, "last_edit_date": 1465396875, "creation_date": 1465376565, "answer_id": 37697923, "question_id": 37697466, "link": "https://stackoverflow.com/questions/37697466/perl-s-argument-in-division/37697923#37697923", "title": "Perl -s argument in division", "body": "<p>The <code>-s</code> operator takes a filename and returns the size in bytes, or <code>undef</code> if an error occurs. One most commonly receives an error when the file doesn't exist, or when one has insufficient permissions. See <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">-X in perldoc</a>.</p>\n\n<p>Your <code>$value1/$value2</code> will return a number, and <code>-s</code> will then try to find a file in the current directory with that number as its name. That likely fails, so it returns <code>undef</code>.</p>\n"}], "owner": {"reputation": 135, "user_id": 6012983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/86ac0f66662fc92aa5670c9dddeb6c29?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/6012983/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 37697917, "answer_count": 2, "score": 0, "last_activity_date": 1465396875, "creation_date": 1465375389, "last_edit_date": 1465376712, "question_id": 37697466, "link": "https://stackoverflow.com/questions/37697466/perl-s-argument-in-division", "title": "Perl -s argument in division", "body": "<p>I'm working with a code where integers are divided:</p>\n\n<pre><code>$length = (-s $value1/$value2);\n</code></pre>\n\n<p>I'm getting an error that -s is an uninitialized value. What does that -s argument mean?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1465372691, "post_id": 37695800, "comment_id": 62868209, "body": "Can you give some more explicit sample input? And be more specific about what your &#39;start&#39; and &#39;end&#39; date are set to, because what you&#39;ve quoted isn&#39;t valid."}, {"owner": {"reputation": 1072, "user_id": 6304472, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/77e9fb5d49e7a6520f3405ade4905dd7?s=128&d=identicon&r=PG&f=1", "display_name": "Joby", "link": "https://stackoverflow.com/users/6304472/joby"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1465459269, "post_id": 37695800, "comment_id": 62912582, "body": "HI @Sobrique we have a <b>Perl Engine</b> setup and that&#39;s what passes the data to run the perl file perl MCLoader_DSS.pl [This is the perl file being called]-sSERVERNAME [Server to run on] -u** [Username] -p** [Password]-c321[Predicate Data] -i511359[Predicate data] -H1 [HTMl format output] -C1 [CSV output] -a2015-07-28 [Startdate] &gt; a.txt pause"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1465375579, "creation_date": 1465375579, "answer_id": 37697547, "question_id": 37695800, "link": "https://stackoverflow.com/questions/37695800/startdate-and-enddate/37697547#37697547", "title": "StartDate and EndDate", "body": "<p>Looks like you're making this all far harder than it needs to be. <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a> has been included with Perl since 2007.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\nuse Time::Seconds;\n\nmy $format = '%Y-%m-%d';\n\nmy $start_date = Time::Piece-&gt;strptime('2015-07-28', $format);\nmy $end_date   = $start_date + ONE_DAY;\n\nsay $start_date-&gt;strftime($format);\nsay $end_date-&gt;strftime($format);\n</code></pre>\n"}], "owner": {"reputation": 1072, "user_id": 6304472, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/77e9fb5d49e7a6520f3405ade4905dd7?s=128&d=identicon&r=PG&f=1", "display_name": "Joby", "link": "https://stackoverflow.com/users/6304472/joby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1465385262, "creation_date": 1465370596, "last_edit_date": 1465385262, "question_id": 37695800, "link": "https://stackoverflow.com/questions/37695800/startdate-and-enddate", "title": "StartDate and EndDate", "body": "<p>Can you please help me with this piece of code</p>\n\n<h3>Perl BAT command</h3>\n\n<pre><code>perl MCLoader_DSS.pl -sSERVERNAME -u** -p** -c321 -i511359 -H1 -C1 -a2015-07-28 &gt; a.txt\npause\n</code></pre>\n\n<h3>Code in the file</h3>\n\n<pre><code>    $mStartDate = $endDate;\n    $mStartDate =~ s/\\-//g;\n    $mStartDate =~ s/\\'//g;\n\n    $mEndDate = $endDate;\n    $mEndDate =~ s/\\'//g;\n\n    ($yy, $mm, $dd) = Add_Delta_Days(split('-', $mEndDate), 1);\n    $mEndDate = sprintf ('%4d-%02d-%02d', $yy, $mm, $dd);\n    $mEndDate = \"'\".$mEndDate .\"'\";\n</code></pre>\n\n<p>The output I get in the text file is </p>\n\n<pre><code>@StartDate = '2015-07-29', @EndDate = '2015-07-30'\n</code></pre>\n\n<p>which actually doesnt match with the date I passed</p>\n\n<p>I wish to achieve <code>@Startdate = [The date I pass]</code> i.e. : a2015-07-28 and the <code>@EndDate = [Should add +1 to its date]</code></p>\n\n<p>And how can I explicitly pass both the dates?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465385929, "post_id": 37695458, "comment_id": 62876849, "body": "You mustn&#39;t comment out <code>use warnings</code>. The messages are there to indicate that something&#39;s not quite right in your code, and switching them off doesn&#39;t fix the problem!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465385984, "post_id": 37695458, "comment_id": 62876893, "body": "This should be done with a proper HTML parser. Please show the original HTML so that we can help you properly. If it&#39;s on line then a link is fine"}, {"owner": {"reputation": 13, "user_id": 6433897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/422f0e64f24545ad1e74c1a529fc6335?s=128&d=identicon&r=PG&f=1", "display_name": "S.Sandy", "link": "https://stackoverflow.com/users/6433897/s-sandy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465468627, "post_id": 37695458, "comment_id": 62918501, "body": "The HTML i cannot share because of its confidential official things. I just need to split the html file in to multiple files by using the class name, which u can see above in my coding. but that should be in dynamic and i need to  create a directory with the name of input file and the all splitted html&#39;s need to move inside the folder."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465468810, "post_id": 37695458, "comment_id": 62918609, "body": "Then please show an equivalent HTML file with the sensitive text altered. It is really very difficult to help you without it"}, {"owner": {"reputation": 13, "user_id": 6433897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/422f0e64f24545ad1e74c1a529fc6335?s=128&d=identicon&r=PG&f=1", "display_name": "S.Sandy", "link": "https://stackoverflow.com/users/6433897/s-sandy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465536018, "post_id": 37695458, "comment_id": 62951295, "body": "I have added above the sample code. Please help"}], "answers": [{"tags": [], "owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "is_accepted": false, "score": 0, "last_activity_date": 1465643388, "creation_date": 1465643388, "answer_id": 37763040, "question_id": 37695458, "link": "https://stackoverflow.com/questions/37695458/spliting-the-html-files-using-perl/37763040#37763040", "title": "spliting the html files using perl", "body": "<p>Maybe this example will give you an idea on how to be able to complete your program.</p>\n\n<p>In this example the focus is on how to split files based on the delimiter. </p>\n\n<p>Note: Only the html body is saved.</p>\n\n<pre><code>#!/usr/bin/env perl\n# test.pl\n\nuse strict;\nuse warnings;\n\nmy $file = './htmlInput.html'; # input file\nmy $delim = 'class=\"bch_ha\"'; # delimiter\nmy $dir = 'chapter' . time; # folder with unix timestamp\n\n# mkdir returns 1 if success\nif ( mkdir($dir, 0755) ) {\n    print \"INFO: Created folder $dir to collect files.\\n\";  \n} else {\n    die \"Can't make folder $dir\\n\";\n}\n\n# reader_x.html, x = [0..]\nmy $reader = 'reader_0.html';\n\nmy $fh2;\nmy $cnt = 0;\nmy $delim_first_time = 1;\nopen(my $fh, \"&lt;\", $file) or die \"Can't open and read $file: $!\"; # read file\nwhile (my $li = &lt;$fh&gt;) {\n    last if ( $li =~ /&lt;\\/body&gt;/ ); # quit the while loop\n\n    if ( $delim_first_time &amp;&amp; $li =~ /$delim/ ) { \n        open($fh2, \"&gt;\", \"./$dir/$reader\") or die \"Can't write to $reader : $!\"; # write\n        $delim_first_time = 0;\n    } elsif ( $li =~ /$delim/ ) {\n        close($fh2);\n        $cnt++;\n        $reader =~ s/[0-9]+/$cnt/; # reader_0.html -&gt; reader_1.html\n        open($fh2, \"&gt;\", \"./$dir/$reader\") or die \"Can't write to $reader : $!\"; # write\n    }\n    print $fh2 $li if !$delim_first_time;\n}\nclose($fh);\nclose($fh2);\n\n# output:\n# [~]$ ./test.pl\n# INFO: Created folder chapter1465642603 to collect files.\n# [~]$ ls chapter1465642603\n# reader_0.html  reader_1.html\n# [~]$ cat chapter1465642603/reader_0.html\n# &lt;p sourcepage=\"27\" `class=\"bch_ha\"`&gt;&lt;/p&gt;\n# &lt;p sourcepage=\"26\"     class=\"bopob_ct\"&gt;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&lt;/p&gt;\n# &lt;p sourcepage=\"26\"     class=\"bopob_cr\"&gt;Xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%    &lt;i&gt;Xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/i&gt;&lt;/p&gt;\n# &lt;p sourcepage=\"26\"     class=\"bch_nmword\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n# &lt;p sourcepage=\"26\" class=\"bch_nm\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n# &lt;p sourcepage=\"26\" class=\"bch_tt\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n# &lt;p sourcepage=\"26\" class=\"bopob_tt\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%    &lt;b&gt;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX%    &lt;/b&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n# &lt;p sourcepage=\"26\"     class=\"bopob_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/i&gt;&lt;/p&gt;\n# &lt;p sourcepage=\"26\" class=\"bopob_lbfirst\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n# &lt;p sourcepage=\"26\" class=\"bopob_lb\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n# &lt;p sourcepage=\"26\" class=\"bopob_lb\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n# &lt;p sourcepage=\"26\" class=\"bopob_lb\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n# [~]$\n# [~]$ cat chapter1465642603/reader_1.html\n# &lt;p sourcepage=\"26\" class=\"bch_ha\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n# &lt;p sourcepage=\"26\"     class=\"bopob_lblast\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;    &lt;/p&gt;\n# &lt;p sourcepage=\"26\"     class=\"bopcs_txfirst\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n# &lt;p sourcepage=\"26\"     class=\"bopcs_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n# &lt;p sourcepage=\"26\"     class=\"bopcs_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n# &lt;p sourcepage=\"27\" class=\"bopcs_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n# &lt;p sourcepage=\"27\" class=\"bopcs_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;span class=\"sup\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/sup&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n# &lt;p sourcepage=\"27\" class=\"bch_txfirst\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n# [~]$\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6433897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/422f0e64f24545ad1e74c1a529fc6335?s=128&d=identicon&r=PG&f=1", "display_name": "S.Sandy", "link": "https://stackoverflow.com/users/6433897/s-sandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1465643388, "creation_date": 1465369543, "last_edit_date": 1465535946, "question_id": 37695458, "link": "https://stackoverflow.com/questions/37695458/spliting-the-html-files-using-perl", "title": "spliting the html files using perl", "body": "<p>I am new to Perl but I have tried to write a program to split a single HTML file into multiple HTML files.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\n#use warnings;\n\nmy @file_names;\n\n## Read the list of file names\nopen( my $fh, \"$ARGV[0]\" );\nwhile ( &lt;$fh&gt; ) {\n    chomp;    #remove new line character from the end of the line\n    push @file_names, $_;\n}\n\nmy $counter = 0;\nmy ( $file_name, $fn );\n\n## Read the input file\nopen( $fh, \"$ARGV[1]\" );\nwhile ( &lt;$fh&gt; ) {\n\n    ## If this is an opening class, open the next output file,\n    ## and set $counter to 1.\n\n    if ( / class=\"bch_ha\"/ ) {\n        $counter   = 1;\n        $file_name = shift(@file_names);\n        open( $fn, \"&gt;\", \"$file_name\" );\n\n        #print \"&lt;html&gt;\\n&lt;body&gt;\";\n    }\n\n    ## If this is a closing class, print the line and set $counter back to 0\n\n    if ( /\\n&lt;p sourcepage=\"(\\d+)\" class=\"bch_ha\"/ ) {\n        $counter = 0;\n        print $fn $_;\n        close($fn);\n    }\n\n    if ( / class=\"bcesu_tt\"/ ) {\n        $counter   = 1;\n        $file_name = shift(@file_names);\n        open( $fn, \"&gt;\", \"$file_name\" );\n\n        #print \"&lt;html&gt;\\n&lt;body&gt;\";\n    }\n\n    if ( /\\n&lt;p sourcepage=\"(\\d+)\" class=\"bcekt_tt\"/ ) {\n        $counter = 0;\n        print $fn $_;\n        close($fn);\n    }\n\n    if (/ class=\"bcekt_tt\"/ ) {\n        $counter   = 1;\n        $file_name = shift(@file_names);\n        open( $fn, \"&gt;\", \"$file_name\" );\n\n        #print \"&lt;html&gt;\\n&lt;body&gt;\";\n    }\n\n    if ( /\\n&lt;p sourcepage=\"(\\d+)\" class=\"bcepq_tt\"/ ) {\n        $counter = 0;\n        print $fn $_;\n        close($fn);\n    }\n\n    if ( / class=\"bcepq_tt\"/ ) {\n        $counter   = 1;\n        $file_name = shift(@file_names);\n        open( $fn, \"&gt;\", \"$file_name\" );\n\n        #print \"&lt;html&gt;\\n&lt;body&gt;\";\n    }\n\n    if ( /\\n&lt;p sourcepage=\"(\\d+)\" class=\"bcecs_tt\"/ ) {\n        $counter = 0;\n        print $fn $_;\n        close($fn);\n    }\n\n    if ( / class=\"bcecs_tt\"/ ) {\n        $counter   = 1;\n        $file_name = shift(@file_names);\n        open( $fn, \"&gt;\", \"$file_name\" );\n\n        #print \"&lt;html&gt;\\n&lt;body&gt;\";\n    }\n\n    if ( /\\n&lt;p sourcepage=\"(\\d+)\" class=\"bceex_tt\"/ ) {\n        $counter = 0;\n        print $fn $_;\n        close($fn);\n    }\n\n    if ( / class=\"bceex_tt\"/ ) {\n        $counter   = 1;\n        $file_name = shift(@file_names);\n        open( $fn, \"&gt;\", \"$file_name\" );\n\n        #print \"&lt;html&gt;\\n&lt;body&gt;\";\n    }\n\n    if ( /\\n&lt;\\/body&gt;\\n&lt;\\/html&gt;/ ) {\n        $counter = 0;\n        print $fn $_;\n        close($fn);\n    }\n\n    ## Print into the corresponding file handle if $counter is 1\n\n    print $fn $_ if $counter == 1\n}\n</code></pre>\n\n<p>I need to add some more options. The code should ask for manual input for the delimiters and the split files should go to folder name <code>chapterxx</code>. Please help me on this</p>\n\n<p>Yeah Please find the below HTML sample.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta charset=\"UTF-8\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p sourcepage=\"27\" `class=\"bch_ha\"`&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\"     class=\"bopob_ct\"&gt;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&lt;/p&gt;\n&lt;p sourcepage=\"26\"     class=\"bopob_cr\"&gt;Xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%    &lt;i&gt;Xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/i&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\"     class=\"bch_nmword\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\" class=\"bch_nm\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\" class=\"bch_tt\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n&lt;p sourcepage=\"26\" class=\"bopob_tt\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%    &lt;b&gt;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX%    &lt;/b&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n&lt;p sourcepage=\"26\"     class=\"bopob_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/i&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\" class=\"bopob_lbfirst\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\" class=\"bopob_lb\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\" class=\"bopob_lb\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\" class=\"bopob_lb\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\" class=\"bch_ha\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;&lt;/p&gt;\n&lt;p sourcepage=\"26\"     class=\"bopob_lblast\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/b&gt;    &lt;/p&gt;\n&lt;p sourcepage=\"26\"     class=\"bopcs_txfirst\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n&lt;p sourcepage=\"26\"     class=\"bopcs_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n&lt;p sourcepage=\"26\"     class=\"bopcs_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n&lt;p sourcepage=\"27\" class=\"bopcs_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n&lt;p sourcepage=\"27\" class=\"bopcs_tx\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;span class=\"sup\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/sup&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n&lt;p sourcepage=\"27\" class=\"bch_txfirst\"&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I just need to split the html based on the class <code>class=\"bch_ha\"</code> to next <code>class=\"bch_ha\"</code> and write the content in new html named reader_0.html. the file name will be incremental like reader_1.html.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1465377492, "post_id": 37694988, "comment_id": 62871256, "body": "Where did you get that <i>use CORE</i> from?"}], "answers": [{"comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 3, "creation_date": 1465378067, "post_id": 37697419, "comment_id": 62871627, "body": "Isn&#39;t invoking with <code>perl -E</code> a fourth possibility?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1465379448, "post_id": 37697419, "comment_id": 62872610, "body": "@mark in general, yes. But you cannot do that for stuff a file run from OP&#39;s intelliJ I believe. So probably not applicable here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465384537, "post_id": 37697419, "comment_id": 62875917, "body": "The <code>-E</code> command-line switch is equivalent to a <code>use feature &#39;:all&#39;</code>, and @simbabque you&#39;re looking for <code>perl -Mfeature=say -e &#39;say &quot;hello&quot;&#39;</code>, which is fine"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465384715, "post_id": 37697419, "comment_id": 62876011, "body": "@Borodin you&#39;re right of course. The comma would have been for multiple arguments. My bad."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1465384865, "last_edit_date": 1465384865, "creation_date": 1465375248, "answer_id": 37697419, "question_id": 37694988, "link": "https://stackoverflow.com/questions/37694988/how-do-i-get-say-to-work/37697419#37697419", "title": "How do I get say to work?", "body": "<p>You cannot do that. There is no <strong>CORE.pm</strong> that you can load. To get <a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"nofollow\"><code>say</code></a>, you need to do one of the following.</p>\n\n<ul>\n<li><p>Load the <code>say</code> feature explicitly at the top of your program</p>\n\n<pre><code>use feature 'say';\n</code></pre></li>\n<li><p>Turn on all <em>feature</em> features of Perl 5.10 or higher at the top of your program</p>\n\n<pre><code>use v5.10; # or v5.12 or something higher\n</code></pre>\n\n<p>But only as high as your Perl version. Run <code>perl -v</code> to see which version you have. This might also turn on other features. Make sure to check <a href=\"http://perldoc.perl.org/feature.html\" rel=\"nofollow\">the perldoc for feature</a>.</p></li>\n<li><p>Reference <code>say</code> directly from <code>CORE::</code>.</p>\n\n<pre><code>CORE::say 'Hello World!';\n</code></pre></li>\n</ul>\n\n<p>All of those will work and are explained in the <a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"nofollow\">perldoc for <code>say</code></a>. I prefer the first option.</p>\n\n<hr>\n\n<p>A fourth alternative is to add <code>-Mfeature=say</code> to the arguments of your Perl interpreter (or path to perl, or similar) in IntelliJ. I don't know how to do that, though. <strong>But then your programs will not work on other computers</strong>, or if you run them outside of your IDE.</p>\n"}], "owner": {"reputation": 1446, "user_id": 5411628, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1b3eebf82dacd8e7d2498c286631ce3e?s=128&d=identicon&r=PG&f=1", "display_name": "nadavgam", "link": "https://stackoverflow.com/users/5411628/nadavgam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 37697419, "answer_count": 1, "score": 0, "last_activity_date": 1465384865, "creation_date": 1465367986, "last_edit_date": 1465377472, "question_id": 37694988, "link": "https://stackoverflow.com/questions/37694988/how-do-i-get-say-to-work", "title": "How do I get say to work?", "body": "<p>Im using Intellij 2016.1.1 and installed Perl plugin in it which work great.\nI want to use <strong>\"say\"</strong> function and for that I added at the beginning of the script <strong>use CORE</strong>.</p>\n\n<p>Though when I run the script (which use <strong>say</strong> function) it gives me the following error :</p>\n\n<blockquote>\n  <p>can't locate CORE.pm in @INC (you may need to install the CORE module) (@INC contains: C:/strawberry/perl/site/lib C:/strawberry/perl/vendor/lib C:/strawberry/perl/lib .) at C:\\Users\\ngampel\\IdeaProjects\\itizik\\myTestScript.pl line 4.</p>\n</blockquote>\n\n<p>I tried looking online how to add module <strong>CORE.pm</strong> to intellij but coudln't find.</p>\n"}, {"tags": ["linux", "perl", "amazon", "rhel", "maxscale"], "comments": [{"owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1465363048, "post_id": 37693747, "comment_id": 62863364, "body": "Have you tried using <code>yum</code> yet?"}, {"owner": {"reputation": 51, "user_id": 6416606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e462ab8facdde7b502b9c4d68aceb3?s=128&d=identicon&r=PG", "display_name": "Prince", "link": "https://stackoverflow.com/users/6416606/prince"}, "reply_to_user": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1465364013, "post_id": 37693747, "comment_id": 62863711, "body": "i tried using yum install libaio but it doesn&#39;t fulfill the dependency. i tried installing the pcre pcre-8.37-1.fc22.x86_64.rpm and instlling it but it doesn;t work as well."}, {"owner": {"reputation": 287218, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1477431915, "post_id": 37693747, "comment_id": 67763129, "body": "Did you get past this?"}], "answers": [{"comments": [{"owner": {"reputation": 287218, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 5, "creation_date": 1477431973, "post_id": 37699745, "comment_id": 67763166, "body": "This does not work. <code>pcre.x86_64</code> is already installed and yet you see the <code>Requires: libpcre.so.1()(64bit)</code> message."}, {"owner": {"reputation": 1571, "user_id": 2627025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5d4a75385e53ab4a84d3c8f596a19543?s=128&d=identicon&r=PG", "display_name": "Chaminda Bandara", "link": "https://stackoverflow.com/users/2627025/chaminda-bandara"}, "edited": false, "score": 0, "creation_date": 1602935502, "post_id": 37699745, "comment_id": 113880176, "body": "This not working. Package pcre-8.32-17.el7.x86_64 already installed and latest version. It require <code>libpcre</code>"}], "tags": [], "owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "is_accepted": false, "score": -2, "last_activity_date": 1465381215, "creation_date": 1465381215, "answer_id": 37699745, "question_id": 37693747, "link": "https://stackoverflow.com/questions/37693747/how-to-resolve-libpcre-so-164bit-dependency-in-amazon-linux-ami/37699745#37699745", "title": "How to resolve libpcre.so.1()(64bit) dependency in amazon linux ami", "body": "<hr>\n\n<blockquote>\n  <p>libpcre.so.1()(64bit) is needed by maxscale-1.4.3-1.x86_64</p>\n</blockquote>\n\n<p><code>yum install pcre.x86_64</code></p>\n\n<p>And : You must use yum to install maxscale-1.4.3-1.rhel.7.x86_64.rpm, if you also want the dependencies installed : $ <code>cd Downloads/</code> , # <code>yum install maxscale-1.4.3-1.rhel.7.x86_64.rpm</code></p>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14579880, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gi-DEIihyFHJEOn-6Gbo3M6HG28mHieHaGb_XZ9=k-s128", "display_name": "Satoshi Isomatsu", "link": "https://stackoverflow.com/users/14579880/satoshi-isomatsu"}, "is_accepted": false, "score": -1, "last_activity_date": 1604525049, "last_edit_date": 1604525049, "creation_date": 1604524747, "answer_id": 64687883, "question_id": 37693747, "link": "https://stackoverflow.com/questions/37693747/how-to-resolve-libpcre-so-164bit-dependency-in-amazon-linux-ami/64687883#64687883", "title": "How to resolve libpcre.so.1()(64bit) dependency in amazon linux ami", "body": "<p>This worked for me:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>yum install pcre2-devel.x86_64\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6416606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e462ab8facdde7b502b9c4d68aceb3?s=128&d=identicon&r=PG", "display_name": "Prince", "link": "https://stackoverflow.com/users/6416606/prince"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4505, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1604525049, "creation_date": 1465362854, "last_edit_date": 1603096255, "question_id": 37693747, "link": "https://stackoverflow.com/questions/37693747/how-to-resolve-libpcre-so-164bit-dependency-in-amazon-linux-ami", "title": "How to resolve libpcre.so.1()(64bit) dependency in amazon linux ami", "body": "<p>When try to install <em><strong>maxscale</strong></em>, it ask <em><strong>libpcre</strong></em>. How to install <em><strong>libpcre</strong></em> on linux ?</p>\n<pre><code>rpm -ivh maxscale-1.4.3-1.rhel.7.x86_64.rpm\nwarning: maxscale-1.4.3-1.rhel.7.x86_64.rpm: Header V4 RSA/SHA1 Signature, key ID 8167ee24: NOKEY\nerror: Failed dependencies:\n       libpcre.so.1()(64bit) is needed by maxscale-1.4.3-1.x86_64\n</code></pre>\n"}, {"tags": ["regex", "perl", "backtracking"], "comments": [{"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 3, "creation_date": 1465362733, "post_id": 37693683, "comment_id": 62863251, "body": "Have you considered using a legit parser instead?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 0, "creation_date": 1465363119, "post_id": 37693683, "comment_id": 62863397, "body": "@hwnd Fair point, but I am actually interested in why such a simple regex would run so slowly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465365264, "post_id": 37693683, "comment_id": 62864176, "body": "All you need is <code>m&lt;(\\d{4})&lt;&#47;i&gt;\\)&gt;</code>. Is that faster? If you don&#39;t see any improvement then it&#39;s not the regex that&#39;s slow"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465365589, "post_id": 37693683, "comment_id": 62864323, "body": "@Borodin Yes that does completely speed it up.  I realise now that the <code>.+?</code> is unnecessary, but it shouldn&#39;t really cause a problem."}, {"owner": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "edited": false, "score": 0, "creation_date": 1465368355, "post_id": 37693683, "comment_id": 62865645, "body": "Not really, non-greedy is slow in a backtracking regex engine."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1465373584, "post_id": 37693683, "comment_id": 62868753, "body": "If you switch on <code>use re &#39;debug&#39;;</code> you&#39;ll see the steps the regex engine is using. Probably quite a lot, because backtracking."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1465395908, "post_id": 37693683, "comment_id": 62884538, "body": "@Wiktor Why did you remove the perl tag and add pcre? There&#39;s no indication anywhere that the OP is using PCRE, and <a href=\"http://www.pcre.org/current/doc/html/pcre2compat.html\" rel=\"nofollow noreferrer\">Perl regex and PCRE are not equivalent</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "edited": false, "score": 2, "creation_date": 1465398679, "post_id": 37693683, "comment_id": 62886672, "body": "@kennytm <i>&quot;non-greedy is slow in a backtracking regex engine&quot;</i> <b><i>Non-greedy</i></b> is fastest if the remainder of the pattern can be found <i>early</i> in the string, while <b><i>greedy</i></b> is fastest if the remainder of the pattern can be found <i>late</i> in the string. There is nothing inherently slow about non-greedy quantifiers"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1465387553, "post_id": 37695509, "comment_id": 62878021, "body": "<i>&quot;&quot;This regex is slow because you introduce lazyness to <code>.</code> with <code>+?</code>&quot;</i> This isn&#39;t true. A &quot;lazy&quot; quantifier starts by matching as little as possible, and backtracks by extending that match by one character at a time until the rest of the pattern succeeds. A &quot;non-lazy&quot; quantifier does the opposite -- it matches as much as possible and backtracks by matching one character less until the pattern matches. Which of those is fastest depends on whether the remainder of the pattern matches the object string closer to the beginning or the end. Neither is inherently slow or fast"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465398822, "post_id": 37695509, "comment_id": 62886783, "body": "<i>&quot;For a 20 lines long html hello world it raises the steps from 60 (when greedy) to 2000 (when lazy)&quot;</i> I&#39;m not sure what you mean here. are you saying there are twenty lines of 100 characters? I can&#39;t see where you get the 60 from at all"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1465401153, "post_id": 37695509, "comment_id": 62888628, "body": "As Borodin said, the issue is not that the quantifier is lazy. Changing to a greedy quantifier can actually be slower if there&#39;s a match early in the string. The OP probably wants simply <code>&#47;(\\d{4})&lt;\\&#47;i&gt;\\)&#47;s</code>. Also, the &quot;don&#39;t parse HTML with regex&quot; answer you linked to <a href=\"http://meta.stackoverflow.com/q/261561\">doesn&#39;t really explain anything</a>; something like <a href=\"http://htmlparsing.com/regexes\" rel=\"nofollow noreferrer\">this</a> is much more useful."}], "tags": [], "owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "is_accepted": false, "score": 2, "last_activity_date": 1465369710, "last_edit_date": 1495542708, "creation_date": 1465369710, "answer_id": 37695509, "question_id": 37693683, "link": "https://stackoverflow.com/questions/37693683/why-is-this-regex-slow/37695509#37695509", "title": "Why is this regex slow?", "body": "<p>This regex is slow because you introduce lazyness to <code>.</code> with <code>+?</code>. For a 20 lines long html hello world it raises the steps from 60 (when greedy) to 2000 (when lazy).</p>\n\n<p>Imagine what it would do with \"<em>some normal size HTML pages</em>\". You can test <a href=\"https://regex101.com/r/mJ6mX4/1\" rel=\"nofollow noreferrer\">here</a> (under <em>regex debugger</em>).</p>\n\n<p>Also take a look at <a href=\"https://stackoverflow.com/a/1732454/2307070\">why you shouldn't use regex to parse html</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1465391885, "post_id": 37702585, "comment_id": 62881240, "body": "So you think that with &quot;non-lazy&quot; patterns it&#39; called backtracking, and for &quot;lazy&quot; patterns it&#39;s called lazy pattern expansion"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1465392276, "post_id": 37702585, "comment_id": 62881532, "body": "@WiktorStribi\u017cew: The processes are both called backtracking. The only difference is that backtracking into a <i>lazy</i> match makes the match longer, while backtracking into a *non-lazy&quot; match makes it shorter. Please can you give me a reference that supports your idea?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1465392395, "post_id": 37702585, "comment_id": 62881641, "body": "@WiktorStribi\u017cew: It&#39;s very hard to demonstrate a negative, but <a href=\"http://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">Regular-Expressions.info</a> says this under the heading <code>Laziness Instead of Greediness</code> <b><i>&quot;Again, the engine will</i></b> <b>backtrack.</b> <b><i>But this time, the backtracking will force the lazy plus to expand rather than reduce its reach.&quot;</i></b>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1465397926, "post_id": 37702585, "comment_id": 62886092, "body": "@WiktorStribi\u017cew From <a href=\"http://perldoc.perl.org/perlre.html#Backtracking\" rel=\"nofollow noreferrer\">perlre</a>: &quot;A fundamental feature of regular expression matching involves the notion called backtracking, which is currently used (when needed) by all regular non-possessive expression quantifiers, namely <code>&quot;*&quot;</code> , <code>&quot;*?&quot;</code>, <code>&quot;+&quot;</code>, <code>&quot;+?&quot;</code>, <code>{n,m}</code>, and <code>{n,m}?</code>.&quot;"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1465535042, "post_id": 37702585, "comment_id": 62950978, "body": "@Borodin I am noticing a delay of several minutes.  See my edit to the question for sample code demonstrating the problem."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1465535303, "post_id": 37702585, "comment_id": 62951062, "body": "I&#39;m vaguely guessing here, but the optimizations done by the engine are probably masking out the difference more than the current explanation.  With <code>.*</code> Perl knows that it should start by looking for a match on the expression right after it, so it does a straight-up linear search for that (provided it&#39;s simple and long enough) instead of the backtracking behavior you describe."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1465572514, "post_id": 37702585, "comment_id": 62973474, "body": "@tripleee In both <code>&#47;.*foo&#47;</code> and <code>&#47;.*?foo&#47;</code>, the optimizer searches for the longest floating substring (<code>foo</code>). If it can&#39;t find it, the match fails immediately without invoking the full regex engine; in that case, you&#39;re correct that there would be no backtracking. However, Borodin&#39;s example input <i>does</i> contain the longest floating substring, so the best the optimizer can do is say that the match begins at position zero; it still has to invoke the full regex engine, and there is backtracking."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1465573068, "post_id": 37702585, "comment_id": 62973800, "body": "@ThisSuitIsBlackNot Thanks for stepping in with actual facts where I was too lazy."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1465389084, "creation_date": 1465389084, "answer_id": 37702585, "question_id": 37693683, "link": "https://stackoverflow.com/questions/37693683/why-is-this-regex-slow/37702585#37702585", "title": "Why is this regex slow?", "body": "<p>There seems to be some misunderstanding about this</p>\n\n<p>Suppose we have a string</p>\n\n<pre><code>my $s = 'xxxxxxxxxx9999&lt;/i&gt;)';\n</code></pre>\n\n<p>then a pattern match like this</p>\n\n<pre><code>$s =~ m&lt;.*?(\\d{4})&lt;/i&gt;\\)&gt;\n</code></pre>\n\n<p>will start by assuming that <code>.*?</code> takes up <em>no characters</em> at the start of the string. Then it will check to see whether <code>(\\d{4})&lt;/i&gt;\\)</code> matches the string at that point</p>\n\n<p>It fails, so the regex engine gives a single character <code>x</code> to <code>.*?</code> and tries again. This also fails, so the part of the string consumed by <code>.*?</code> is extended character-by-character until it matches the ten characters <code>xxxxxxxxxx</code>. At that point the remainder of the pattern matches successfully and the regex test is declared to be a success</p>\n\n<p>If instead we have a non-lazy pattern</p>\n\n<pre><code>$s =~ m&lt;.*(\\d{4})&lt;/i&gt;\\)&gt;\n</code></pre>\n\n<p>This will start by assuming that <code>.*</code> takes up <em>all of the string</em></p>\n\n<p>The remainder of the pattern doesn't match at that point, so backtracking commences again, giving <code>.*</code> all but one character of the string and trying again</p>\n\n<p>This repeats, as before, but <em>shortening</em> the match character-by-character, until a match is found when it has retreated over the trailing nine characters of the string <code>9999&lt;/i&gt;)</code> and <code>.*</code> now matches <code>xxxxxxxxxx</code> as before</p>\n\n<p><strong><em>Backtracking</em></strong> is going <em>back</em> to a previously-matched pattern element when a match has been found to fail, changing how that element matches and trying again. It isn't going <em>backwards</em> through the object string looking for something</p>\n\n<p>The problem here is caused by the <code>.*?</code> having to be accounted for in the pattern. If we had just <code>m&lt;(\\d{4})&lt;/i&gt;\\)&gt;</code> instead, then there is no backtracking at all. The regex engine simply searches for <code>\\d{4}&lt;/i&gt;\\)</code> and either finds it or it doesn't</p>\n\n<p>This works fine as long as it's the <em>first</em> occurrence of a pattern that you want. Unfortunately, the only way of finding the <em>last</em> occurrence of a substring is to precede it with <code>.*</code>, which kicks off backtracking and makes the process necessarily slower</p>\n\n<blockquote>\n  <p>The above regex is slow when I run it over some normal size HTML pages?</p>\n</blockquote>\n\n<p>Even so, depending on what your idea of \"normal size HTML pages\" is, I can't see this taking more than a few milliseconds. The regex engine is coded in C and written to be very fast. I guess you must have run a timer on it to notice any delay at all?</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1595, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1465535681, "creation_date": 1465362516, "last_edit_date": 1465535681, "question_id": 37693683, "link": "https://stackoverflow.com/questions/37693683/why-is-this-regex-slow", "title": "Why is this regex slow?", "body": "<p><code>m/.+?(\\d{4})&lt;\\/i&gt;\\)/s</code></p>\n\n<p>The above regex is slow when I run it over some normal size HTML pages?  Why?  I wouldn't have thought it should run slowly.</p>\n\n<p>EDIT: Here is a code sample which demonstrates the problem:</p>\n\n<pre><code>use WWW::Mechanize;\nmy $mech = new WWW::Mechanize;\n$mech-&gt;get(\"http://www.elaws.gov.bw/desplaysubsidiary.php?m=SUBSIDIARY&amp;v=I&amp;vp=&amp;id=904\");\n$page = $mech-&gt;content();\n$page =~ m/.+?(\\d{4})&lt;\\/i&gt;\\)/s;\n</code></pre>\n\n<p>The regex line takes forever.  If I remove the <code>.+?</code> there is no delay.</p>\n"}, {"tags": ["perl", "while-loop", "split", "count", "bioinformatics"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1465357862, "post_id": 37692874, "comment_id": 62861842, "body": "Please check your %hash has duplicate entry. you will not able to handle duplicate entries with your hash structure."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465358829, "post_id": 37693019, "comment_id": 62862107, "body": "I am solving a biological problem that will yield multiple identical keys. I will look into using a hash of array then to create the hash. Thanks."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465359075, "post_id": 37693019, "comment_id": 62862187, "body": "If you can tell me how you are creating your <b>%hash</b> hash . Then I can help you more properly. are you creating your %hash manually?"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465359262, "post_id": 37693019, "comment_id": 62862239, "body": "This is part of a much larger set of codes that will generate the hash. For this example (made up for posting the question) I made it manually."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465359345, "post_id": 37693019, "comment_id": 62862261, "body": "Long story short, I am doing a regex in a while loop and using the hits of the regex to create the hash."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465359411, "post_id": 37693019, "comment_id": 62862288, "body": "large code will not be the problem. Just tell the original format for your input file for your %hash and show the code structure . Because that is the most important part for your problem"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465361412, "post_id": 37693019, "comment_id": 62862847, "body": "I updated my question. Hopefully that can provide you with the information you are looking for."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465362658, "post_id": 37693019, "comment_id": 62863225, "body": "can you please tell  , what will be output file name for TTTATAA and its content  in your final step as you have multiple entry?"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465362946, "post_id": 37693019, "comment_id": 62863324, "body": "TTTATAA is on the second line in the input file &quot;Clustered_Barcodes.txt&quot;. Therefore, it will have the name &quot;Clustered_Barcode_2.txt&quot;. I mentioned this earlier. The output is similar to the one previously described, only it will have 5 carrots and 10 rows."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465363769, "post_id": 37693019, "comment_id": 62863628, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/114084/discussion-between-arijit-and-rob\">continue this discussion in chat</a>."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465395822, "post_id": 37693019, "comment_id": 62884466, "body": "When I make your suggested changes, I get the following type of output &gt;TCCTTTTTTTTCATCT ARRAY(0x203a3b8) &gt;TATCTTTTTTCATCTC ARRAY(0x202f870) &gt;TTTTTTTTTCATCTCC ARRAY(0x3346df8) &gt;ATTTTTATTTCATCTC ARRAY(0x32ea1c8)"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465395867, "post_id": 37693019, "comment_id": 62884498, "body": "Also, there is no indication of the number of sequences in the file name. The file I just opened has 4 sequences."}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": 1, "last_activity_date": 1465367441, "last_edit_date": 1465367441, "creation_date": 1465358608, "answer_id": 37693019, "question_id": 37692874, "link": "https://stackoverflow.com/questions/37692874/count-the-number-of-items-derived-from-split-without-putting-into-an-array/37693019#37693019", "title": "Count the number of items derived from split without putting into an array", "body": "<p>Your hash structure is not right for your problem as you have multiple entries for same ids. for example <strong>TTTATAA</strong> hash id has 2 entries in your <strong>%hash</strong>.</p>\n\n<p>To solve this, use <strong>hash of array</strong>  to create the hash.</p>\n\n<p>Change your hash creation code in </p>\n\n<pre><code>$hash{$2} = $3;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>push(@{$hash{$2}}, $3);\n</code></pre>\n\n<p>Now change your code in the while loop</p>\n\n<pre><code>while(my $line = &lt;INFILE&gt;){ \n        chomp $line; \n        open my $out, '&gt;', \"Clustered_Barcode_$..txt\" or die $!;\n\n        my %id_list;\n        foreach my $sequence (split /\\t/, $line){\n            $id_list{$sequence}=1;\n\n        }\n        foreach my $sequence(keys %id_list)\n        {\n            foreach my $val (@{$hash{$sequence}})\n            {\n                    print $out \"&gt;$sequence\\n$val\\n\";\n            }\n        }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465399669, "post_id": 37693675, "comment_id": 62887450, "body": "Thank you for an easy, effective answer."}, {"owner": {"reputation": 37732, "user_id": 407731, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=128&d=identicon&r=PG", "display_name": "Dave Dopson", "link": "https://stackoverflow.com/users/407731/dave-dopson"}, "edited": false, "score": 0, "creation_date": 1590549645, "post_id": 37693675, "comment_id": 109718338, "body": "Why does &quot;$thing = () = ..&quot; give you a count? Man, perl is subtle..."}], "tags": [], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "is_accepted": true, "score": 1, "last_activity_date": 1465362466, "creation_date": 1465362466, "answer_id": 37693675, "question_id": 37692874, "link": "https://stackoverflow.com/questions/37692874/count-the-number-of-items-derived-from-split-without-putting-into-an-array/37693675#37693675", "title": "Count the number of items derived from split without putting into an array", "body": "<p>You can use regex to get the count:</p>\n\n<pre><code>my $delimiter = \"\\t\";\nmy $line = \"zyz pqr abc xyz\";\nmy $count = () = $line =~ /$delimiter/g;  # $count is now 3\nprint $count;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1465369669, "last_edit_date": 1465369669, "creation_date": 1465363090, "answer_id": 37693785, "question_id": 37692874, "link": "https://stackoverflow.com/questions/37692874/count-the-number-of-items-derived-from-split-without-putting-into-an-array/37693785#37693785", "title": "Count the number of items derived from split without putting into an array", "body": "<p>I have assummed that;</p>\n\n<ol>\n<li>The first digit in the output file <strong>name</strong> is the input file <strong>line number</strong></li>\n<li>The second digit in the output file <strong>name</strong> is the input file <strong>column number</strong></li>\n<li>That the input hash is a hash of arrays to cover the case of several sequences \"matching\" the one barcode as mentioned in the comments</li>\n<li>When a barcode has a match in the hash, that the output file will lists all the sequences in the array, one per line.</li>\n</ol>\n\n<p>The simplest way to do this that I can see is to build the output file using a temporary filename and the rename it when you have all the data.  According to the <a href=\"http://docstore.mik.ua/orelly/perl4/cook/ch07_12.htm\" rel=\"nofollow\">perl cookbook</a>, the easiest way to create temporary files is with the module <a href=\"https://metacpan.org/pod/File::Temp\" rel=\"nofollow\">File::Temp</a>.</p>\n\n<p>The key to this solution is to move through the list of barcodes that appear on a line by column index rather than the usual perl way of simply iterating over the list itself.  To get the actual barcodes, the column number <code>$col</code> is used to index back into <code>@barcodes</code> which is created by splitting the line on whitespace. (Note that <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">splitting on a single space</a> is special cased by perl to emulate the behaviour of one of its predecessors, awk (leading whitespace is removed and the split is on whitespace, not a single space)).</p>\n\n<p>This way we have the column number (indexed from 1) and the line number we can get from <a href=\"http://perldoc.perl.org/perlvar.html#SPECIAL-VARIABLES\" rel=\"nofollow\">the perl special variable, <code>$.</code></a>  We can then use these to rename the file using the builtin, <a href=\"http://perldoc.perl.org/functions/rename.html\" rel=\"nofollow\">rename()</a>.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse diagnostics;\nuse File::Temp qw(tempfile);\n\nopen(INFILE, \"&lt;\", \"Clustered_Barcodes.txt\") or die $!;\n\nmy %hash = (\n    \"TTTATGC\" =&gt; [ \"TATAGCGCTTTATGCTAGCTAGC\" ],\n    \"TTTATGG\" =&gt; [ \"TAGCTAGCTTTATGGGCTAGCTA\" ],\n    \"TTTATCC\" =&gt; [ \"GCTAGCTATTTATCCGCTAGCTA\" ],\n    \"TTTATCG\" =&gt; [ \"AGTCATGCTTTATCGCGATCGAT\" ],\n    \"TTTATAA\" =&gt; [ \"TAGCTAGCTTTATAATAGCTAGC\", \"ATCGATCGTTTATAACGATCGAT\" ],\n    \"TTTATAT\" =&gt; [ \"TCGATCGATTTATATTAGCTAGC\", \"TAGCTAGCTTTATATGCTAGCTA\" ],\n    \"TTTATTA\" =&gt; [ \"GCTAGCTATTTATTATAGCTAGC\" ],\n    \"CTTGTAA\" =&gt; [ \"ATCGATCGCTTGTAACGATTAGC\" ]\n);\n\nmy $cbn = \"Clustered_Barcode_Number\";\nmy $trailer = \"Sequence.txt\";\n\nwhile (my $line = &lt;INFILE&gt;) {\n    chomp $line ;\n    my $line_num = $. ;\n\n    my @barcodes = split \" \", $line ;\n    for my $col ( 1 .. @barcodes )  {\n        my $barcode = $barcodes[ $col - 1 ];  # arrays indexed from 0\n\n        # skip this one if its not in the hash\n        next unless exists $hash{$barcode} ;\n        my @sequences =  @{ $hash{$barcode} } ;\n\n        # Have a hit - create temp file and output sequences\n        my ($out, $temp_filename) = tempfile();\n        say $out \"&gt;$barcode\" ;\n        say $out $_ for (@sequences) ;\n        close $out ;\n\n        # Rename based on input line and column\n        my $new_name = join \"_\", $cbn, $line_num, $col, $trailer  ;\n        rename ($temp_filename, $new_name) or\n            warn \"Couldn't rename $temp_filename to $new_name: $!\\n\" ;\n    }\n}\nclose INFILE\n</code></pre>\n\n<p>All of the barcodes in your sample input data have a match in the hash, so when I run this, I get 4 files for line 1, 5 for line 2 and 1 for line 3.</p>\n\n<pre><code>Clustered_Barcode_Number_1_1_Sequence.txt\nClustered_Barcode_Number_1_2_Sequence.txt\nClustered_Barcode_Number_1_3_Sequence.txt\nClustered_Barcode_Number_1_4_Sequence.txt\nClustered_Barcode_Number_2_1_Sequence.txt\nClustered_Barcode_Number_2_2_Sequence.txt\nClustered_Barcode_Number_2_3_Sequence.txt\nClustered_Barcode_Number_2_4_Sequence.txt\nClustered_Barcode_Number_2_5_Sequence.txt\nClustered_Barcode_Number_3_1_Sequence.txt\n</code></pre>\n\n<p><code>Clustered_Barcode_Number_1_2_Sequence.txt</code> for example has:</p>\n\n<pre><code>&gt;TTTATGG\nTAGCTAGCTTTATGGGCTAGCTA\n</code></pre>\n\n<p>and <code>Clustered_Barcode_Number_2_5_Sequence.txt</code> has:</p>\n\n<pre><code>&gt;TTTATTA\nGCTAGCTATTTATTATAGCTAGC\n</code></pre>\n\n<p><code>Clustered_Barcode_Number_2_3_Sequence.txt</code> - which matched a hash key with two sequences - had the following;</p>\n\n<pre><code>&gt;TTTATAT\nTCGATCGATTTATATTAGCTAGC\nTAGCTAGCTTTATATGCTAGCTA\n</code></pre>\n\n<p>I was speculating here about what you wanted when a supplied barcode had two matches.  Hope that helps.</p>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "accepted_answer_id": 37693675, "answer_count": 3, "score": 1, "last_activity_date": 1465369669, "creation_date": 1465357551, "last_edit_date": 1465361342, "question_id": 37692874, "link": "https://stackoverflow.com/questions/37692874/count-the-number-of-items-derived-from-split-without-putting-into-an-array", "title": "Count the number of items derived from split without putting into an array", "body": "<p>I am looking to spare the use of an array for memory's sake, but still get the number of items derived from the split function for each pass of a while loop.<br>\nThe ultimate goal is to filter the output files according to the number of their sequences, which could either be deduced by the number of rows the file has, or the number of carrots that appear, or the number of line breaks, etc. \nBelow is my code:  </p>\n\n<pre><code>    #!/usr/bin/perl\n    use warnings; \n    use strict; \n    use diagnostics; \n\n    open(INFILE, \"&lt;\", \"Clustered_Barcodes.txt\") or die $!;\n\n    my %hash = ( \n            \"TTTATGC\" =&gt; \"TATAGCGCTTTATGCTAGCTAGC\",\n            \"TTTATGG\" =&gt; \"TAGCTAGCTTTATGGGCTAGCTA\",\n            \"TTTATCC\" =&gt; \"GCTAGCTATTTATCCGCTAGCTA\",\n            \"TTTATCG\" =&gt; \"AGTCATGCTTTATCGCGATCGAT\",\n            \"TTTATAA\" =&gt; \"TAGCTAGCTTTATAATAGCTAGC\",\n            \"TTTATAA\" =&gt; \"ATCGATCGTTTATAACGATCGAT\",\n            \"TTTATAT\" =&gt; \"TCGATCGATTTATATTAGCTAGC\",\n            \"TTTATAT\" =&gt; \"TAGCTAGCTTTATATGCTAGCTA\",\n            \"TTTATTA\" =&gt; \"GCTAGCTATTTATTATAGCTAGC\",\n            \"CTTGTAA\" =&gt; \"ATCGATCGCTTGTAACGATTAGC\",\n    );\n\n    while(my $line = &lt;INFILE&gt;){ \n            chomp $line; \n            open my $out, '&gt;', \"Clustered_Barcode_$..txt\" or die $!;\n            foreach my $sequence (split /\\t/, $line){\n                    if (exists $hash{$sequence}){\n                        print $out \"&gt;$sequence\\n$hash{$sequence}\\n\";\n                    } \n            }\n    }\n</code></pre>\n\n<p>The input file, \"Clustered_Barcodes.txt\" when opened, looks like the following:   </p>\n\n<pre><code>    TTTATGC TTTATGG TTTATCC TTTATCG\n    TTTATAA TTTATAA TTTATAT TTTATAT TTTATTA\n    CTTGTAA \n</code></pre>\n\n<p>There will be three output files from the code, \"Clustered_Barcode_1.txt\", \"Clustered_Barcode_2.txt\", and \"Clustered_Barcode_3.txt\". An example of what the output files would look like could be the 3rd and final file, which would look like the following: </p>\n\n<pre><code>    &gt;CTTGTAA \n    ATCGATCGCTTGTAACGATTAGC \n</code></pre>\n\n<p>I need some way to modify my code to identify the number of rows, carrots, or sequences that appear in the file and work that into the title of the file. The new title for the above sequence could be something like \"Clustered_Barcode_Number_3_1_Sequence.txt\" </p>\n\n<p>PS- I made the hash in the above code manually in attempt to make things simpler. If you want to see the original code, here it is. The input file format is something like: </p>\n\n<pre><code>   &gt;TAGCTAGC \n    GCTAAGCGATGCTACGGCTATTAGCTAGCCGGTA  \n</code></pre>\n\n<p>Here is the code for setting up the hash: </p>\n\n<pre><code>    my $dir = (\"~/Documents/Sequences\");          \n    open(INFILE, \"&lt;\", \"~/Documents/Clustered_Barcodes.txt\") or die $!; \n\n    my %hash = (); \n\n    my @ArrayofFiles = glob \"$dir/*\";            #put all files from the specified directory into an array\n\n    #print join(\"\\n\", @ArrayofFiles), \"\\n\";       #this is a diagnostic test print statement\n\n    foreach my $file (@ArrayofFiles){                                 #make hash of barcodes and sequences\n        open (my $sequence, $file) or die \"can't open file: $!\";        \n        while (my $line = &lt;$sequence&gt;) {    \n            if ($line !~/^&gt;/){ \n                my $seq = $line; \n                $seq =~ s/\\R//g;\n                #print $seq;           \n                $seq =~ m/(CATCAT|TACTAC)([TAGC]{16})([TAGC]+)([TAGC]{16})(CATCAT|TACTAC)/;  \n                $hash{$2} = $3;                    \n            }\n        }\n    } \n\n    while(&lt;INFILE&gt;){ \n</code></pre>\n\n<p>etc</p>\n"}, {"tags": ["perl", "encryption", "blowfish"], "answers": [{"tags": [], "owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "is_accepted": true, "score": 1, "last_activity_date": 1465358826, "last_edit_date": 1495542158, "creation_date": 1465358826, "answer_id": 37693054, "question_id": 37692278, "link": "https://stackoverflow.com/questions/37692278/blowfish-encrypt-and-decrypt-need-to-return-an-error/37693054#37693054", "title": "Blowfish Encrypt and Decrypt need to return an error", "body": "<p>Do not use Blowfish: yes it is a neat name but it is antiquated and superseded by AES. Use AES if security is what you want to achieve.</p>\n\n<p>There are plenty of answers on SO that provide example code.</p>\n\n<p>If you need to know if the decryption was successful, meaning the same as what was encrypted, use authenticated encryption. See this <a href=\"https://stackoverflow.com/a/37664062/451475\">SO Answer</a> for more details on authenticated encryption.</p>\n\n<p>By definition encryption is just a math function, it is always successful. It is like x = y * z, x will always equal something, it just may not be what you want if the incorrect values are provided for y &amp; z. Encryption is similar, you need to provide the correct encrypted data and key in order to get the desired decrypted data. If you provide incorrect encrypted data and/or an incorrect key you will get a result but it will not be the desired decrypted data.</p>\n\n<p>If there is padding a padding error may be noticed on an invalid key but this <strong>must be ignored and not reported</strong> or a padding oracle attack is possible.</p>\n"}], "owner": {"reputation": 47, "user_id": 6437905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0148e34a275395e33da0c81d21292357?s=128&d=identicon&r=PG&f=1", "display_name": "Fred Garvin", "link": "https://stackoverflow.com/users/6437905/fred-garvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 37693054, "answer_count": 1, "score": 1, "last_activity_date": 1465358826, "creation_date": 1465352698, "question_id": 37692278, "link": "https://stackoverflow.com/questions/37692278/blowfish-encrypt-and-decrypt-need-to-return-an-error", "title": "Blowfish Encrypt and Decrypt need to return an error", "body": "<p>I'm using Blowfish to encrypt and Decrypt with the code below. I need to return an error if there is  a problem with Decryption if say the encrypted line doesn't have the correct Salt. As it is, the script just dies. Thanks</p>\n\n<pre><code>sub decrypt { $cipher = new Crypt::CBC( $key, 'Blowfish' );  \ndefined $_[0] ? $cipher-&gt;decrypt_hex($_[0]) : '' \n#I NEED SOMETHING LIKE\n#if ($cipher){ $return = $cypher; }\n#else{ $return = \"BadNumber\"; }\nreturn $return;\n}\n\nsub encrypt { $cipher = new Crypt::CBC( $key, 'Blowfish' );  \ndefined $_[0] ? $cipher-&gt;encrypt_hex($_[0]) : ''  }\n</code></pre>\n"}, {"tags": ["sql", "sql-server", "perl", "dbi"], "comments": [{"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 1, "creation_date": 1465346403, "post_id": 37688902, "comment_id": 62859424, "body": "What does your connect string look like? Do you have auto commit set?"}, {"owner": {"reputation": 435, "user_id": 1590930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946bd3f1654342077ef798550ab0b14?s=128&d=identicon&r=PG", "display_name": "Hans Goldman", "link": "https://stackoverflow.com/users/1590930/hans-goldman"}, "reply_to_user": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1465425916, "post_id": 37688902, "comment_id": 62901853, "body": "I added the connection string to the bottom of the question. Issue remains the same regardless of auto-commit being set or not."}], "owner": {"reputation": 435, "user_id": 1590930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946bd3f1654342077ef798550ab0b14?s=128&d=identicon&r=PG", "display_name": "Hans Goldman", "link": "https://stackoverflow.com/users/1590930/hans-goldman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1465427236, "creation_date": 1465331895, "last_edit_date": 1465427236, "question_id": 37688902, "link": "https://stackoverflow.com/questions/37688902/persistence-of-sql-variables-between-statements-using-set-and-declare-in-perls", "title": "Persistence of SQL Variables Between Statements Using SET and DECLARE in Perl&#39;s DBI", "body": "<p>I am trying to declare/set some variables in SQL-Server using a Perl DBI statement and then use those variables in other DBI statements, but it seems like the variables are not persisting between statement calls.</p>\n\n<pre><code>$dbh-&gt;do(\n    q{\n        DECLARE @BOM1 datetime      -- Beginning of Month 1 in the Quarter\n        DECLARE @BOM2 datetime      -- Beginning of Month 2 in the Quarter\n        DECLARE @BOM3 datetime      -- Beginning of Month 3 in the Quarter\n        DECLARE @EOM1 datetime      -- End of Month 1 in the Quarter\n        DECLARE @EOM2 datetime      -- End of Month 2 in the Quarter\n        DECLARE @EOM3 datetime      -- End of Month 3 in the Quarter\n\n        SET @BOM1 = DATEADD(MONTH, DATEDIFF(MONTH, 0, GETDATE()) -3,  0)\n        SET @BOM2 = DATEADD(MONTH, DATEDIFF(MONTH, 0, GETDATE()) -2,  0)\n        SET @BOM3 = DATEADD(MONTH, DATEDIFF(MONTH, 0, GETDATE()) -1,  0)\n        SET @EOM1 = DATEADD(DAY, -1, @BOM2)\n        SET @EOM2 = DATEADD(DAY, -1, @BOM3)\n        SET @EOM3 = DATEADD(MONTH, DATEDIFF(MONTH, 0, GETDATE()), 0) -1\n    }\n);\n\n\n(\n    $start_of_month_1,\n    $start_of_month_2,\n    $start_of_month_3,\n    $end_of_month_1,\n    $end_of_month_2,\n    $end_of_month_3\n) = $dbh-&gt;selectrow_array(\n    q{\n        SELECT CONVERT(VARCHAR(12), @BOM1, 107),\n               CONVERT(VARCHAR(12), @BOM2, 107),\n               CONVERT(VARCHAR(12), @BOM3, 107),\n               CONVERT(VARCHAR(12), @EOM1, 107),\n               CONVERT(VARCHAR(12), @EOM2, 107),\n               CONVERT(VARCHAR(12), @EOM3  107)\n    }\n);\n</code></pre>\n\n<p>I get the following error messages:  </p>\n\n<pre><code>DBD::ODBC::db selectrow_array failed: [Microsoft][ODBC SQL Server Driver][SQL Server]Must declare the scalar variable \"@BOM1\". (SQL-42000)\n\n[Microsoft][ODBC SQL Server Driver][SQL Server]Statement(s) could not be prepared. (SQL-42000)\n</code></pre>\n\n<p>If I merge these two statements then everything works fine, but I have many different queries that I want to run and use those declared variables. I could solve this by using the Perl variables I get back, but I wanted to know what I'm doing wrong or if it is possible to do this with the SQL variables.</p>\n\n<p>Edit:\nThis is the connection string I am using:</p>\n\n<pre><code>\"dbi:ODBC:driver={SQL Server};server=$server;database=$database;port=$port\"\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1465322548, "post_id": 37686124, "comment_id": 62849720, "body": "Please, remove the <code>&gt;</code> characters. Also, comments in Perl start with a <code>#</code>, not <code>&#47;*</code>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1465323169, "post_id": 37686124, "comment_id": 62850018, "body": "<code>&quot;$nam&quot;</code> is the same as <code>$nam</code>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1465323370, "post_id": 37686124, "comment_id": 62850122, "body": "works dandy for me, after removing this line: <code>my $VAR; $VAR=$ARGV[0];chomp $VAR;</code>. Note that there are still other issues per the other commenters."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1465323372, "post_id": 37686124, "comment_id": 62850125, "body": "@choroba Also <code>&#39;$s1&#39; ne &#39;$s2&#39;</code> is <i>not</i> the same as <code>$s1 ne $s2</code>. The first is always true."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1465323662, "post_id": 37686124, "comment_id": 62850307, "body": "@stevieb Not sure what <i>works dandy</i> means (I&#39;m German) but the line seems completely useless. <code>$VAR</code> is never refereneced."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1465324019, "post_id": 37686124, "comment_id": 62850507, "body": "works fine, as-is, after removing the <code>$VAR</code> line. (Otherwise, it emits a warning)."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1465324108, "post_id": 37686124, "comment_id": 62850554, "body": "@stevieb Thanks. I thought that but what&#39;s the impact of that line after all? Cannot see how it influences the behaviour of the rest of the script."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1465324166, "post_id": 37686124, "comment_id": 62850589, "body": "it doesn&#39;t. it just prevents a long diagnostic message from being printed out. functionally, it doesn&#39;t change anything."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1465324349, "post_id": 37686124, "comment_id": 62850716, "body": "@stevieb: The line <code>my $VAR; $VAR=$ARGV[0];chomp $VAR;</code> makes no difference at all except that it spews a bunch of diagnostic text. It can be left in place and the program works fine"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1465324866, "post_id": 37686124, "comment_id": 62851022, "body": "yes, I know. I should have been more precise in my original comment. I should have said &quot;it works fine, and after removing X line, prevents it from emitting any diagnostic/warning messages&quot;"}, {"owner": {"reputation": 3, "user_id": 6410668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5af12b2c7addf6a682ecb38ee56a37f?s=128&d=identicon&r=PG&f=1", "display_name": "prakasham", "link": "https://stackoverflow.com/users/6410668/prakasham"}, "edited": false, "score": 0, "creation_date": 1465331180, "post_id": 37686124, "comment_id": 62854453, "body": "guys i didn&#39;t used /*, i only have given here for explaing the lines, i have working prograrm for search and replace but i am trying to grep for a parameter in a file and use it as replacement string for this file...  my $s1=&quot;system(\\&quot;cd \\$folder\\;grep $VAR * | awk -F &#39; &#39; &#39;{print \\$NF}&#39; | head -1\\&quot;)&quot;; my $s2=&quot;system(\\&quot;cd $another_folder\\;grep $VAR * | awk -F &#39; &#39; &#39;{print \\$NF}&#39; | head -1\\&quot;)&quot;;"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6410668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5af12b2c7addf6a682ecb38ee56a37f?s=128&d=identicon&r=PG&f=1", "display_name": "prakasham", "link": "https://stackoverflow.com/users/6410668/prakasham"}, "edited": false, "score": 0, "creation_date": 1465329995, "post_id": 37686703, "comment_id": 62853852, "body": "actually i have above code working if the sting is inputed as argument but its working where i and using i/p from difference between another file and the currect file using the below command                                                               our $s1=&quot;system(\\&quot;cd \\$DIR/floder\\;grep $VAR * | awk -F &#39; &#39; &#39;{print \\$NF}&#39; | head -1\\&quot;)&quot;; and the o/p of it is like -var&quot; where - &amp;&quot; is also present with that varible"}, {"owner": {"reputation": 3, "user_id": 6410668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5af12b2c7addf6a682ecb38ee56a37f?s=128&d=identicon&r=PG&f=1", "display_name": "prakasham", "link": "https://stackoverflow.com/users/6410668/prakasham"}, "edited": false, "score": 0, "creation_date": 1465330862, "post_id": 37686703, "comment_id": 62854298, "body": "#/usr/bin/perl-w use strict; use warnings; use diagnostics; use Tie::File;   my $nam; my @lines; print &quot; enter the file name:\\n&quot;; $nam=&lt;STDIN&gt;;chomp $nam; replace ();  sub replace { my $s1; my $s2;  print &quot; ENTER the STRING to be replaced:\\n&quot;; $s1 = &lt;STDIN&gt;; print &quot; ENTER the STRING to  replace:\\n&quot;; $s2 = &lt;STDIN&gt;; chomp $s1;chomp $s2;   tie @lines, &#39;Tie::File&#39;, &quot;$nam&quot; or die &quot; can&#39;t open the file\\n&quot;; foreach (@lines) { s/$s1/$s2/g } untie @lines; };"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1465324556, "last_edit_date": 1465324556, "creation_date": 1465324101, "answer_id": 37686703, "question_id": 37686124, "link": "https://stackoverflow.com/questions/37686124/file-search-and-replace-with-tiefile/37686703#37686703", "title": "File search and replace with Tie::File", "body": "<p>I think you've got yourself confused with so many unnecessary <code>use</code> statements, calling string constants <code>var1</code>, <code>var2</code> etc, messing about with <code>$VAR</code> which is never used, and calling <code>chomp</code> on variables that have no trailing newline</p>\n\n<p>I've rewritten your code so that I could see what it did, and it works fine</p>\n\n<p>It substitutes the value of <code>$s2</code> (<code>var2</code>) with the value of <code>$s1</code> (<code>var1</code>) throughout the file. Every <code>var2</code> is changed to <code>var1</code></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nuse Tie::File;\n\nmy $name = 'file_name.txt';\n\nmy ($s1, $s2) = qw/ var1 var2 /;\n\nif ( $s1 ne $s2 ) {\n\n    tie my @lines, 'Tie::File', $name or die qq{Can't open \"$name\" the file: $!};\n\n    s/$s2/$s1/g for @lines;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465332420, "post_id": 37688924, "comment_id": 62855043, "body": "Worth noting that <code>$^I</code> is the <i>inplace-edit extension</i>. Setting it means editing the file (&#39;file_name&#39; in this case) in-place. It&#39;s the same as <code>perl -p -i -e &#39;s&#47;var2&#47;var1&#47;g;&#39; file_name</code>."}, {"owner": {"reputation": 3, "user_id": 6410668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5af12b2c7addf6a682ecb38ee56a37f?s=128&d=identicon&r=PG&f=1", "display_name": "prakasham", "link": "https://stackoverflow.com/users/6410668/prakasham"}, "edited": false, "score": 0, "creation_date": 1465334570, "post_id": 37688924, "comment_id": 62855990, "body": "normal replace/sed/perl command replace doesn&#39;t work for my case,as the directory i am editing doesn&#39;t have write permission but the file i am editing has write permission"}, {"owner": {"reputation": 3, "user_id": 6410668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5af12b2c7addf6a682ecb38ee56a37f?s=128&d=identicon&r=PG&f=1", "display_name": "prakasham", "link": "https://stackoverflow.com/users/6410668/prakasham"}, "edited": false, "score": 0, "creation_date": 1465343560, "post_id": 37688924, "comment_id": 62858819, "body": "hi, thanks dude, i have took your script and modified for my function, but there are 4 occurance of that string but only the 4th occurance is modified, first 3 occurance are not modified, can you help me with it...i have used the same code you have given in &quot;If creating files is not an option, then I&#39;d use the following: &quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465343738, "post_id": 37688924, "comment_id": 62858856, "body": "Then the first three didn&#39;t match for some reason. I haven&#39;t seen your pattern or your input, so I can&#39;t help you. This sounds like separate question, though, because it has nothing to do with how you read in the data (unless the match you are expecting spans lines)."}, {"owner": {"reputation": 3, "user_id": 6410668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5af12b2c7addf6a682ecb38ee56a37f?s=128&d=identicon&r=PG&f=1", "display_name": "prakasham", "link": "https://stackoverflow.com/users/6410668/prakasham"}, "edited": false, "score": 0, "creation_date": 1465345964, "post_id": 37688924, "comment_id": 62859339, "body": "thanks Dude, i have added the chomp to my string variable and now all strings are replaced...."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1465340626, "last_edit_date": 1465340626, "creation_date": 1465331967, "answer_id": 37688924, "question_id": 37686124, "link": "https://stackoverflow.com/questions/37686124/file-search-and-replace-with-tiefile/37688924#37688924", "title": "File search and replace with Tie::File", "body": "<p>Tie::File rarely helps. If you're going to do <code>for (@lines)</code> with a tied file, you're going to make things abysmally slow and use way more memory that you would have if you hadn't used Tie::File.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n@ARGV = 'file_name';\n$^I = '';   # Like the -i command line option\n\nwhile (&lt;&gt;) {\n   s/var2/var1/g;\n   print;\n}\n</code></pre>\n\n<p>This is basically the samething as doing</p>\n\n<pre><code>perl -i -pe's/var2/var1/g' file_name\n</code></pre>\n\n<hr>\n\n<p>If creating files is not an option, then I'd use the following:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse autodie;\n\nmy $qfn = 'file_name';\n\nmy @lines;\n{\n   open(my $fh, '&lt;', $qfn);\n   @lines = &lt;$fh&gt;;\n}\n\n{\n   open(my $fh, '&gt;', $qfn);\n   s/var2/var1/g for @lines;\n   print($fh @lines);\n}\n</code></pre>\n\n<p>This <em>way</em> faster than with Tie::File &mdash; 30x faster, IIRC. It also uses <em>way</em> less memory than with Tie::File.</p>\n"}], "owner": {"reputation": 3, "user_id": 6410668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5af12b2c7addf6a682ecb38ee56a37f?s=128&d=identicon&r=PG&f=1", "display_name": "prakasham", "link": "https://stackoverflow.com/users/6410668/prakasham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 37688924, "answer_count": 2, "score": -2, "last_activity_date": 1465340626, "creation_date": 1465322030, "last_edit_date": 1465326325, "question_id": 37686124, "link": "https://stackoverflow.com/questions/37686124/file-search-and-replace-with-tiefile", "title": "File search and replace with Tie::File", "body": "<p>My search and replace is not working, nor is it throwing any error.</p>\n\n<p>I tried to modify the code and provide the input where it is working. I'm not sure where the error occurs.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nuse Tie::File;\nuse v5.10;\nuse File::Compare;\n\nmy $VAR; $VAR=$ARGV[0];chomp $VAR;\n\nmy $nam=qq~file_name~;\n\nmy @lines;\n\nour $s1=\"var1\";\nour $s2=\"var2\";\n\nif ('$s1' ne '$s2'){\n    replace();\n}\n\nsub replace {\n\n    chomp $s1;chomp $s2;\n\n    tie @lines, 'Tie::File', \"$nam\" or die \" can't open the file\\n\";\n\n    foreach ( @lines ) {\n        s/$s2/$s1/g; # replacing the strings\n    }\n\n    untie @lines;\n};\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465321654, "post_id": 37685769, "comment_id": 62849198, "body": "I don&#39;t understand the last line of your output. Why do <code>p4</code> and <code>p5</code> have values of 4 and 1? There is no line in the input with <code>10_Coverage_Contigs_contig_3</code> and an SSR of <code>p5</code>"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465360004, "post_id": 37685769, "comment_id": 62862424, "body": "@Borodin Sorry one small typo post edited."}], "answers": [{"tags": [], "owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "is_accepted": true, "score": 1, "last_activity_date": 1465365160, "creation_date": 1465365160, "answer_id": 37694254, "question_id": 37685769, "link": "https://stackoverflow.com/questions/37685769/is-it-possible-to-count-the-number-of-duplicates-from-two-column-by-using-single/37694254#37694254", "title": "Is it possible to count the number of duplicates from two column by using single hash?", "body": "<p>No need to use 2 hashes. you can use only hash of hash. I've just modified your code. see that below code.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy %hash;\n&lt;DATA&gt;;\nwhile (&lt;DATA&gt;)\n{\n    chomp;\n    my($first,$second,$thrid) = split(\"\\t\");\n    $hash{$first}{$thrid}++; #I tried $hash{$first}++{$thrid}++ It throws syntax error\n}\nmy @ar = qw(p1  p2  p3  p4  p5);\n$, = \"\\t\"; \nprint @ar,\"\\n\";\nforeach (keys %hash)\n{\n#    print \"$_\\t$hash2{$_}\\t\";\n    my @in = values $hash{$_};\n    my $cnt = eval(join(\"+\",@in));\n    print \"$_\\t$cnt\\t\";\n    foreach my $ary(@ar)\n    {\n        if(!$hash{$_}{$ary})\n        {\n            print \"0\\t\"; \n        }\n        else\n        {\n            print \"$hash{$_}{$ary}\\t\";\n        }\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>You have hash of hash to store data. first keys are <code>id</code> and second keys are <code>N</code>. Simply count values of the <code>id</code>, it gives the total values what you want. </p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1465375087, "creation_date": 1465375087, "answer_id": 37697346, "question_id": 37685769, "link": "https://stackoverflow.com/questions/37685769/is-it-possible-to-count-the-number-of-duplicates-from-two-column-by-using-single/37697346#37697346", "title": "Is it possible to count the number of duplicates from two column by using single hash?", "body": "<p>I'd probably do it like that:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %count_of;\n\n#read the header row \nchomp( my @header = split ' ', &lt;DATA&gt; );\n\nwhile (&lt;DATA&gt;) {\n   my ( $ID, $M, $N ) = split;\n   $count_of{ $ID }{ $N }++;\n}\n#print Dumper \\%count_of;\n\n#setup the output headers. We could autodetect, but some of these (p3) are entirely empty. \nmy @p_headers = qw ( p1 p2 p3 p4 p5 );\n#if you did want to:\n#my @p_headers = sort keys %{{map { $_ =&gt; 1 } map { keys %{$count_of{$_}} } keys %count_of }};\n#will give p1 p2 p4 p5. \n\nprint join \"\\t\", qw ( ID M ), @p_headers, \"\\n\";\nforeach my $ID ( sort keys %count_of ) {\n   my $total = 0;\n   $total += $_ for values %{ $count_of{$ID} };\n   print join \"\\t\", \n                   $ID, \n                   $total,\n                   ( map { $count_of{$ID}{$_} // 0 } @p_headers ),\n                   \"\\n\";\n}\n\n__DATA__\nID  M   N \ncc1 1   p1\ncc1 10  p2\ncc1 10  p2\ncc2 1   p1\ncc2 2   p5\ncc3 2   p1\ncc3 2   p4\n</code></pre>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 37694254, "answer_count": 2, "score": 1, "last_activity_date": 1465375087, "creation_date": 1465320871, "last_edit_date": 1465360340, "question_id": 37685769, "link": "https://stackoverflow.com/questions/37685769/is-it-possible-to-count-the-number-of-duplicates-from-two-column-by-using-single", "title": "Is it possible to count the number of duplicates from two column by using single hash?", "body": "<p>My input data as follow. From below data I want to unique the <code>p1 p2 .. p5</code> and the first column and get the count of those.</p>\n\n<pre><code>ID  M   N \ncc1 1   p1\ncc1 10  p2\ncc1 10  p2\ncc2 1   p1\ncc2 2   p5\ncc3 2   p1\ncc3 2   p4\n</code></pre>\n\n<p>I expected the result was</p>\n\n<pre><code>ID  M   p1  p2  p3  p4  p5 \ncc1 3   1   2   0   0   0   \ncc3 2   1   0   0   1   0   \ncc2 2   1   0   0   0   1   \n</code></pre>\n\n<p>For this I tried the <code>hash of hash</code> and <code>hash</code> I'm getting output what I expect. But my doubt is it is possible to do this by using single hash.? Because the same data was stored into the two different hash.</p>\n\n<pre><code>my (%hash,$hash2);\n&lt;$fh&gt;;\nwhile (&lt;$fh&gt;)\n{\n    my($first,$second,$thrid) = split(\"\\t\");\n    $hash{$first}{$thrid}++; #I tried $hash{$first}++{$thrid}++ It throws syntax error\n    $hash2{$first}++; #it is possible to reduce this hash\n}\nmy @ar = qw(p1  p2  p3  p4  p5);\n$, = \"\\t\"; \nprint @ar,\"\\n\";\nforeach (keys %hash)\n{\n    print \"$_\\t$hash2{$_}\\t\";\n    foreach my $ary(@ar)\n    {\n        if(!$hash{$_}{$ary})\n        {\n            print \"0\\t\"; \n        }\n        else\n        {\n            print \"$hash{$_}{$ary}\\t\";\n        }\n    }\n    print \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 186, "user_id": 4023663, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RenuOcCp5Ao/AAAAAAAAAAI/AAAAAAAAFqI/B3pUAonGrLM/photo.jpg?sz=128", "display_name": "Franciscon Santos", "link": "https://stackoverflow.com/users/4023663/franciscon-santos"}, "edited": false, "score": 0, "creation_date": 1465320566, "post_id": 37685622, "comment_id": 62848573, "body": "Do you want to remove entire line?"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "reply_to_user": {"reputation": 186, "user_id": 4023663, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RenuOcCp5Ao/AAAAAAAAAAI/AAAAAAAAFqI/B3pUAonGrLM/photo.jpg?sz=128", "display_name": "Franciscon Santos", "link": "https://stackoverflow.com/users/4023663/franciscon-santos"}, "edited": false, "score": 0, "creation_date": 1465320717, "post_id": 37685622, "comment_id": 62848661, "body": "Yes, I would like to remove the entire line. Thank"}, {"owner": {"reputation": 186, "user_id": 4023663, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RenuOcCp5Ao/AAAAAAAAAAI/AAAAAAAAFqI/B3pUAonGrLM/photo.jpg?sz=128", "display_name": "Franciscon Santos", "link": "https://stackoverflow.com/users/4023663/franciscon-santos"}, "edited": false, "score": 0, "creation_date": 1465322465, "post_id": 37685622, "comment_id": 62849680, "body": "cat old_file.txt | sed &#39;/\\.\\/\\./d&#39; | sed &#39;/0\\/0/d&#39; &gt; new_file.txt"}, {"owner": {"reputation": 186, "user_id": 4023663, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RenuOcCp5Ao/AAAAAAAAAAI/AAAAAAAAFqI/B3pUAonGrLM/photo.jpg?sz=128", "display_name": "Franciscon Santos", "link": "https://stackoverflow.com/users/4023663/franciscon-santos"}, "edited": false, "score": 0, "creation_date": 1465322534, "post_id": 37685622, "comment_id": 62849713, "body": "may it help you! It&#39;s not the most beautiful way!"}, {"owner": {"reputation": 2405, "user_id": 3639306, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GJfHk.png?s=128&g=1", "display_name": "sumitya", "link": "https://stackoverflow.com/users/3639306/sumitya"}, "reply_to_user": {"reputation": 186, "user_id": 4023663, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RenuOcCp5Ao/AAAAAAAAAAI/AAAAAAAAFqI/B3pUAonGrLM/photo.jpg?sz=128", "display_name": "Franciscon Santos", "link": "https://stackoverflow.com/users/4023663/franciscon-santos"}, "edited": false, "score": 0, "creation_date": 1465323147, "post_id": 37685622, "comment_id": 62850002, "body": "@FrancisconSantos - OP wants it from column 71. it will delete lines wherever it finds in whole line. This is not the correct approach."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1465324330, "post_id": 37685622, "comment_id": 62850705, "body": "I would prefer to be specific to col 71, if possible. Thanks"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465325875, "post_id": 37685622, "comment_id": 62851587, "body": "Do I understand the requirement correctly:  if either <code>0&#47;0</code> or <code>.&#47;.</code> are found starting at column 71, drop the line. (In this case the <i>&quot;FORMAT...</i> is not of essence, correct?)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1465326795, "post_id": 37685622, "comment_id": 62852076, "body": "I&#39;m still unclear what <i>column 71</i> means: Is it the 71st tab-separated field (like borodin assumes) or the 71st character in the line (like zdim assumes)?"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1465327719, "post_id": 37685622, "comment_id": 62852539, "body": "It&#39;s a tab delimited file. Column 71 sometimes contains 0/0 or ./. I would like to remove these lines."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465327000, "post_id": 37686837, "comment_id": 62852170, "body": "True, if <i>column 71</i> means: 71st character in the line."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1465328538, "post_id": 37686837, "comment_id": 62853000, "body": "@zdim. my $cmd6 = <code>perl -ne &#39;print if not substr($_, 70, 3) =~ m{(?:0&#47;0|\\.&#47;\\.)}&#39; $currenttsvfile &gt; $MDLtsvfile</code>; print &quot;$cmd6&quot;;  gave me errors when I ran it from my Perl script."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1465344998, "post_id": 37686837, "comment_id": 62859137, "body": "@user3781528  Sorry that I didn&#39;t respond to your message -- I just didn&#39;t see it until now. (I think it&#39;s because there is a period after username?)  You did get an explanation and your good answer so all is well :)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1465325616, "last_edit_date": 1465325616, "creation_date": 1465324541, "answer_id": 37686837, "question_id": 37685622, "link": "https://stackoverflow.com/questions/37685622/remove-lines-from-text-file-that-contain-specific-text/37686837#37686837", "title": "remove lines from text file that contain specific text", "body": "<p>Since you need the exact position and know string lenghts <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow\"><code>substr</code></a> can find it</p>\n\n<pre><code>perl -ne 'print if not substr($_, 70, 3) =~ m{(?:0/0|\\./\\.)}' filename\n</code></pre>\n\n<p>This prints lines only when a three-character long string starting at 71st column does not match either of <code>0/0</code> and <code>./.</code></p>\n\n<p>The <code>{}</code> delimiters around the regex allow us to use <code>/</code> and <code>|</code> inside without escaping.  The <code>?:</code> is there so that the <code>()</code> are used only for grouping, and not capturing. It will work fine also without <code>?:</code> which is there only for efficiency's sake. </p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465325710, "post_id": 37686886, "comment_id": 62851493, "body": "There are people out here who would blame you for the <i><a href=\"http://stackoverflow.com/q/11710552/5830574\">useless use of cat</a></i>. I don&#39;t, but be prepared."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465326294, "post_id": 37686886, "comment_id": 62851817, "body": "@PerlDog Count me in."}], "tags": [], "owner": {"reputation": 186, "user_id": 4023663, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RenuOcCp5Ao/AAAAAAAAAAI/AAAAAAAAFqI/B3pUAonGrLM/photo.jpg?sz=128", "display_name": "Franciscon Santos", "link": "https://stackoverflow.com/users/4023663/franciscon-santos"}, "is_accepted": false, "score": 0, "last_activity_date": 1465327276, "last_edit_date": 1465327276, "creation_date": 1465324708, "answer_id": 37686886, "question_id": 37685622, "link": "https://stackoverflow.com/questions/37685622/remove-lines-from-text-file-that-contain-specific-text/37686886#37686886", "title": "remove lines from text file that contain specific text", "body": "<p>Try it!</p>\n\n<pre><code>awk '{ if ($71 != \"./.\" &amp;&amp; $71 != \".0.\") print ;  }' old_file.txt  &gt; new_file.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465326984, "post_id": 37687253, "comment_id": 62852164, "body": "True, if <i>column 71</i> means: 71st tab-separated field."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465327610, "post_id": 37687253, "comment_id": 62852472, "body": "@PerlDog: We&#39;re told it&#39;s a tab-separated file, and column number rarely means character position. Besides, character position is very vague if there are tabs involved, especially when we don&#39;t know the size of the tab stops"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465328119, "post_id": 37687253, "comment_id": 62852767, "body": "Given that, your answer is right. But zdim&#39;s answer was also upvoted so someone must have thought it&#39;s the 71st character."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1465329873, "post_id": 37687253, "comment_id": 62853780, "body": "I get &quot;Global symbol &quot;@F&quot; requires explicit package name&quot; error"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 1, "creation_date": 1465330253, "post_id": 37687253, "comment_id": 62853974, "body": "@user3781528: That&#39;s a self-contained Perl program. You should enter it on the command line, not as part of a script file"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1465331286, "post_id": 37687253, "comment_id": 62854516, "body": "@user3781528 That&#39;s because you are calling borodin&#39;s and zdim&#39;s Perl one-liners from within your Perl program. Don&#39;t do that. Please see my answer."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1465325926, "creation_date": 1465325926, "answer_id": 37687253, "question_id": 37685622, "link": "https://stackoverflow.com/questions/37685622/remove-lines-from-text-file-that-contain-specific-text/37687253#37687253", "title": "remove lines from text file that contain specific text", "body": "<pre><code>perl -ane 'print unless $F[70] =~ m|([0.])/\\1|' myfile &gt; newfile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 0, "last_activity_date": 1465326717, "creation_date": 1465326717, "answer_id": 37687490, "question_id": 37685622, "link": "https://stackoverflow.com/questions/37685622/remove-lines-from-text-file-that-contain-specific-text/37687490#37687490", "title": "remove lines from text file that contain specific text", "body": "<p>The problem with your command is that you are attempting to capture the output of a command which produces no output - all the matches are redirected to a file, so that's where all the output is going.</p>\n\n<p>Anyway, calling <code>grep</code> from Perl is just wacky. Reading the file in Perl itself is the way to go.</p>\n\n<p>If you do want a single shell command,</p>\n\n<pre><code>grep -Ev $'^([^\\t]*\\t){70}(\\./\\.|0/0)\\t' file\n</code></pre>\n\n<p>would do what you are asking more precisely and elegantly. But you can use that regex straight off in your Perl program just as well.</p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465332774, "post_id": 37688729, "comment_id": 62855170, "body": "I&#39;m ashamed because I only did a mash-up of two very good answers."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1465497039, "post_id": 37688729, "comment_id": 62938470, "body": "@PerlDog This is a very good post and a perfectly fine answer in my opinion -- you pulled together what is needed and in fact answered the question in a suitable way. All good I say :) I find it interesting that we never were told which way it is. So even after all is said and done, and past and gone, we still don&#39;t know for sure."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 1, "last_activity_date": 1465331779, "last_edit_date": 1465331779, "creation_date": 1465331331, "answer_id": 37688729, "question_id": 37685622, "link": "https://stackoverflow.com/questions/37685622/remove-lines-from-text-file-that-contain-specific-text/37688729#37688729", "title": "remove lines from text file that contain specific text", "body": "<p>You can either call a one-liner as borodin and zdim said. Which one is right for you is still not clear because you don't tell whether <em>71st column</em> means the 71st tab-separated field of a line or the 71st character of that line. Consider</p>\n\n<pre><code>12345\\t6789\n</code></pre>\n\n<p>Now what is the 2nd column? Is it the character <code>2</code> or the field <code>6789</code>? Borodin's answer assumes it's <code>6789</code> while zdim assumes it's <code>2</code>. Both showed a solution for either case but these solutions are stand-alone solutions. Programs of its own to be run from the commandline.</p>\n\n<p>If you want to integrate that into your Perl script you could do it like this:</p>\n\n<p>Replace this line:</p>\n\n<pre><code>my $cmd6 = `fgrep -v \"0/0\" | fgrep -v \"./.\" $Variantlinestsvfile &gt; $MDLtsvfile`; print \"$cmd6\"; \n</code></pre>\n\n<p>with this snippet:</p>\n\n<pre><code>open( my $fh_in, '&lt;', $Variantlinestsvfile ) or die \"cannot open $Variantlinestsvfile: $!\\n\";\nopen( my $fh_out, '&gt;', $MDLtsvfile ) or die \"cannot open $MDLtsvfile: $!\\n\";\nwhile( my $line = &lt;$fh_in&gt; ) {\n\n    # character-based:\n    print $fh_out $line unless (substr($line, 70, 3) =~ m{(?:0/0|\\./\\.)});\n\n    # tab/field-based:\n    my @fields = split(/\\s+/, $line);\n    print $fh_out $line unless ($fields[70] =~ m|([0.])/\\1|);\n}\nclose($fh_in);\nclose($fh_out);\n</code></pre>\n\n<p>Use <strong><em>either</em></strong> the character-based line <strong><em>or</em></strong> the tab/field-based lines. Not both!</p>\n\n<p>Borodin and zdim condensed this snippet to a one-liner, but you must not call that from a Perl script.</p>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 37688729, "answer_count": 5, "score": -1, "last_activity_date": 1465331779, "creation_date": 1465320394, "question_id": 37685622, "link": "https://stackoverflow.com/questions/37685622/remove-lines-from-text-file-that-contain-specific-text", "title": "remove lines from text file that contain specific text", "body": "<p>I'm trying to remove lines that contain 0/0 or ./. in column 71 \"FORMAT.1.GT\" from a tab delimited text file.<br>\nI've tried the following code but it doesn't work. What is the correct way of accomplishing this? Thank you</p>\n\n<pre><code>my $cmd6 = `fgrep -v \"0/0\" | fgrep -v \"./.\" $Variantlinestsvfile &gt; $MDLtsvfile`; print \"$cmd6\"; \n</code></pre>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1465330607, "post_id": 37685383, "comment_id": 62854167, "body": "If you wish to change the way the scripts operate and interact (e.g. do not start the script each time), there are countless ways, it&#39;s really up to you. They include specially crafted alternatives to CGI like FastCGI, SCGI and WSGI."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6436513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CoZ_EALyelY/AAAAAAAAAAI/AAAAAAAAABM/3HucOiBPKrc/photo.jpg?sz=128", "display_name": "Erik Per\u010di\u0107", "link": "https://stackoverflow.com/users/6436513/erik-per%c4%8di%c4%87"}, "edited": false, "score": 0, "creation_date": 1465322897, "post_id": 37685708, "comment_id": 62849889, "body": "is that it? I thought about that but I tried not to change/adapt the original script for my special case"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 31, "user_id": 6436513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CoZ_EALyelY/AAAAAAAAAAI/AAAAAAAAABM/3HucOiBPKrc/photo.jpg?sz=128", "display_name": "Erik Per\u010di\u0107", "link": "https://stackoverflow.com/users/6436513/erik-per%c4%8di%c4%87"}, "edited": false, "score": 0, "creation_date": 1465326228, "post_id": 37685708, "comment_id": 62851772, "body": "Sorry, my internet cut out as I was about to add to my answer. It&#39;s been added now."}, {"owner": {"reputation": 31, "user_id": 6436513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CoZ_EALyelY/AAAAAAAAAAI/AAAAAAAAABM/3HucOiBPKrc/photo.jpg?sz=128", "display_name": "Erik Per\u010di\u0107", "link": "https://stackoverflow.com/users/6436513/erik-per%c4%8di%c4%87"}, "edited": false, "score": 0, "creation_date": 1465337125, "post_id": 37685708, "comment_id": 62857012, "body": "Thanks! The first part of your reply is what I think I was looking for.. now do you know of any resources I could check out to learn how to &quot;provide an appropriate CGI environment&quot; to a perl script called inside a python program?  another reason I don&#39;t want to modify the original script is that I don&#39;t want to have two separate perl scripts (which are doing the same) for two different technologies (AJAX and WebSocket). The Perl script is the heart of the webapp and I foresee a lot of changes to it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 31, "user_id": 6436513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CoZ_EALyelY/AAAAAAAAAAI/AAAAAAAAABM/3HucOiBPKrc/photo.jpg?sz=128", "display_name": "Erik Per\u010di\u0107", "link": "https://stackoverflow.com/users/6436513/erik-per%c4%8di%c4%87"}, "edited": false, "score": 0, "creation_date": 1465337724, "post_id": 37685708, "comment_id": 62857230, "body": "It&#39;s really just a bunch of env vars + the request body on stdin (for requests with bodys, so not HEAD and GET). The response is a MIME document on stdout. I found an attempt to formally define it <a href=\"https://tools.ietf.org/html/rfc3875\" rel=\"nofollow noreferrer\">here</a>, but it might be easier just to hack your way using the <a href=\"https://en.wikipedia.org/wiki/Common_Gateway_Interface\" rel=\"nofollow noreferrer\">this information</a>."}, {"owner": {"reputation": 31, "user_id": 6436513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CoZ_EALyelY/AAAAAAAAAAI/AAAAAAAAABM/3HucOiBPKrc/photo.jpg?sz=128", "display_name": "Erik Per\u010di\u0107", "link": "https://stackoverflow.com/users/6436513/erik-per%c4%8di%c4%87"}, "edited": false, "score": 0, "creation_date": 1465407432, "post_id": 37685708, "comment_id": 62892514, "body": "I would consider myself a beginner in the area and I have no idea what you&#39;re describing or how to do it..  how can I call the CGI Perl script from Python? is there a function? I have to POST the data from Python to the script (both in backend) and catch/use the results"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 31, "user_id": 6436513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CoZ_EALyelY/AAAAAAAAAAI/AAAAAAAAABM/3HucOiBPKrc/photo.jpg?sz=128", "display_name": "Erik Per\u010di\u0107", "link": "https://stackoverflow.com/users/6436513/erik-per%c4%8di%c4%87"}, "edited": false, "score": 0, "creation_date": 1465407775, "post_id": 37685708, "comment_id": 62892690, "body": "You already are calling the CGI script from Python. // POST data is passed via stdin."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1465328622, "last_edit_date": 1465328622, "creation_date": 1465320689, "answer_id": 37685708, "question_id": 37685383, "link": "https://stackoverflow.com/questions/37685383/how-to-call-from-python-perl-scripts-with-arguments-that-return-values/37685708#37685708", "title": "How to call from Python Perl scripts with arguments that return values?", "body": "<p>Personally, I wouldn't change the Perl script at all. It's already designed to handle a request from its parent process and return its response via stdout. Just provide an appropriate CGI environment for it.</p>\n\n<p>If you want to return transmit a more complex structure, you'll need to serialize it. JSON is usually the best choice.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse JSON::XS qw( encode_json );\nmy $name = shift;\nprint encode_json({ code =&gt; 200, content =&gt; \"Hello, World!\\n\" });\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6436513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CoZ_EALyelY/AAAAAAAAAAI/AAAAAAAAABM/3HucOiBPKrc/photo.jpg?sz=128", "display_name": "Erik Per\u010di\u0107", "link": "https://stackoverflow.com/users/6436513/erik-per%c4%8di%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1331, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465328622, "creation_date": 1465319611, "last_edit_date": 1465320006, "question_id": 37685383, "link": "https://stackoverflow.com/questions/37685383/how-to-call-from-python-perl-scripts-with-arguments-that-return-values", "title": "How to call from Python Perl scripts with arguments that return values?", "body": "<p>I would like to call a Perl script with arguments from my Python program.\nso far I have been able to do it using subprocess and piping</p>\n\n<pre><code>#!/usr/bin/python\nimport subprocess\nvar = \"world\"\npipe = subprocess.Popen([\"./x.pl\", var], stdout=subprocess.PIPE)\nresult = pipe.stdout.read()\nprint result\n\n#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $name = shift;\nprint \"Hello $name!\\n\";\n</code></pre>\n\n<p>But as the name states, it's just piping the output.</p>\n\n<p>What I need is the Perl script returning some value (for example here it would return the string instead of printing) and Python catching that value and using it.</p>\n\n<p>I need to do this because the Perl script already exists and I'm trying to convert it from CGI (returns a value for each call) to Python (a Websocket server acts as proxy between the client and script)</p>\n"}, {"tags": ["perl", "web-scraping", "dynamic-content"], "comments": [{"owner": {"reputation": 147, "user_id": 3219471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a45d76850a43c64b2a6b559a3173c9fa?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/3219471/jonathan"}, "edited": false, "score": 0, "creation_date": 1465331300, "post_id": 37683771, "comment_id": 62854527, "body": "My solution was installing WWW::Scripter with WWW::Scripter::Plugin::JavaScript and Web::Scraper for processing the returned content."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 1, "creation_date": 1465394310, "post_id": 37683771, "comment_id": 62883182, "body": "^ Would you add that as an answer below, Jonathan? You can then click the adjacent tick mark to set this question as solved."}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 3219471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a45d76850a43c64b2a6b559a3173c9fa?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/3219471/jonathan"}, "is_accepted": true, "score": 0, "last_activity_date": 1465834837, "creation_date": 1465834837, "answer_id": 37794676, "question_id": 37683771, "link": "https://stackoverflow.com/questions/37683771/web-scraping-full-img-src-from-dynamic-website-using-perl/37794676#37794676", "title": "web scraping full img src from dynamic website using Perl", "body": "<p>My solution was installing WWW::Scripter with WWW::Scripter::Plugin::JavaScript (and Web::Scraper for processing the returned content). </p>\n\n<p>The above plugins were able to access the dynamically generated content from the Javascript. No additional modules were needed.</p>\n\n<p>Thank you!</p>\n"}], "owner": {"reputation": 147, "user_id": 3219471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a45d76850a43c64b2a6b559a3173c9fa?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/3219471/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 37794676, "answer_count": 1, "score": 1, "last_activity_date": 1465834837, "creation_date": 1465314099, "last_edit_date": 1465394215, "question_id": 37683771, "link": "https://stackoverflow.com/questions/37683771/web-scraping-full-img-src-from-dynamic-website-using-perl", "title": "web scraping full img src from dynamic website using Perl", "body": "<p>I'm using the Perl Web::Scraper module to fetch an img src from a Zazzle product page which is the result of an API call.</p>\n\n<p>If I use a web browser to view page source, the image has a full path (from the ? onwards). When I retrieve the HTML using a Perl script (I also tried File::Fetch), I only get until \".jpg\". </p>\n\n<p>Browser Page Source produces this img src:</p>\n\n<p><a href=\"http://rlv.zcache.com/coat_of_arms_t_shirt-rb35fa7573d9448a4aeed82f56d98c523_j2nhl_512.jpg?t_supporters_iid=18c7f0d0-5bf8-4aa5-b6b8-5151099cc0ad\" rel=\"nofollow\">http://rlv.zcache.com/coat_of_arms_t_shirt-rb35fa7573d9448a4aeed82f56d98c523_j2nhl_512.jpg?t_supporters_iid=18c7f0d0-5bf8-4aa5-b6b8-5151099cc0ad</a></p>\n\n<p>Perl script retrieves this img src:</p>\n\n<p><a href=\"http://rlv.zcache.com/coat_of_arms_t_shirt-rb35fa7573d9448a4aeed82f56d98c523_j2nhl_512.jpg\" rel=\"nofollow\">http://rlv.zcache.com/coat_of_arms_t_shirt-rb35fa7573d9448a4aeed82f56d98c523_j2nhl_512.jpg</a></p>\n\n<p>Is it possible to retrieve the full src from this kind of website using a Perl script?</p>\n\n<p>Here is the Perl script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse URI;\nuse Web::Scraper;\n\nmy $api_call = \"http://www.zazzle.com/api/create/at-238543087866915480?rf=238543087866915480&amp;ax=linkover&amp;pd=235262722863405468&amp;fwd=productpage&amp;ed=true&amp;supporters=http%3A%2F%2Fcoadb-dev.com%2Fwp-content%2Fprocessed_images%2Firvine%2Ffull_size%2Firvine-arms-1.png\";\n\nmy $image_scraper = scraper {\n\n    process \".ZazzleWidgetsSppMainView-realviewCrop\", \"images[]\" =&gt; scraper {\n\n        process \"img\", src =&gt; '@src';\n\n    };\n};\n\nmy $res = $image_scraper-&gt;scrape(URI-&gt;new($api_call));\n\nfor my $img (@{$res-&gt;{images}}) {\n\n    print $img-&gt;{src}  . \"\\n\";\n\n}\n</code></pre>\n"}, {"tags": ["json", "perl", "api", "lwp"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1465312504, "post_id": 37683136, "comment_id": 62843413, "body": "do you want to download a file from any site via perl?"}, {"owner": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1465312555, "post_id": 37683136, "comment_id": 62843464, "body": "Nah, its just this site, its generated with API manual <a href=\"http://a.wykop.pl/observatory/entries/appkey,dJ4w7fXYpL\" rel=\"nofollow noreferrer\">a.wykop.pl/observatory/entries/appkey,dJ4w7fXYpL</a>"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1465312881, "post_id": 37683136, "comment_id": 62843700, "body": "Its not very clear to me . If you can explain your problem more properly, may be with some code.  Then I may able to help you."}, {"owner": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1465313200, "post_id": 37683136, "comment_id": 62843924, "body": "I want to download content of this link, and display in terminal. What commend or module should I use to download content into Perl variable?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1465313304, "post_id": 37683136, "comment_id": 62844012, "body": "I think he has to use Perl because the URL has the <code>.pl</code> domain. ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1465313953, "post_id": 37683136, "comment_id": 62844493, "body": "@simbabque: That&#39;s the Poland top-level domain.  ... Ah, you were joking :-/"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "edited": false, "score": 0, "creation_date": 1465316161, "post_id": 37683393, "comment_id": 62845963, "body": "I know, that professors should have taught us, but there is nothing I can do. This is perfect answer, however I would like to ask one more question. What should I do, to Data::Dumper doesn&#39;t write variable names as &quot;deleted&quot; &quot;id&quot; &quot;date&quot;, just content? Or would I like  to just print each &quot;author&quot; variable from my $data?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "edited": false, "score": 0, "creation_date": 1465316602, "post_id": 37683393, "comment_id": 62846218, "body": "@FilipBartman... if this answer helped you, please check the checkmark next to it to &quot;accept&quot; it. If you want to get only authors: <code>for (@$data){ print &quot;$_-&gt;{author}\\n&quot;;}</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "edited": false, "score": 0, "creation_date": 1465321267, "post_id": 37683393, "comment_id": 62848967, "body": "@FilipBartman: The only variable is <code>$data</code>, and you know its name. I&#39;ve altered my answer to print a list of the authors instead of using <code>Data::Dumper</code> to display the whole data structure"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "edited": false, "score": 0, "creation_date": 1465323820, "post_id": 37683393, "comment_id": 62850395, "body": "@FilipBartman: You can&#39;t learn the whole of the Perl language by asking questions one by one; in any case you shouldn&#39;t ask further questions in the comments, you need to open a new question. If you get that error message then the data isn&#39;t what you think it is, and it&#39;s probably an array"}, {"owner": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "edited": false, "score": 0, "creation_date": 1465323878, "post_id": 37683393, "comment_id": 62850423, "body": "@Borodin I have tried to write a second program, I just changed API link to &#39;<a href=\"http://a.wykop.pl/entries/index/18040011/appkey,dJ4w7fXYpL\" rel=\"nofollow noreferrer\">a.wykop.pl/entries/index/18040011/appkey,dJ4w7fXYpL</a>&#39;, now it&#39;s not an array, 25 top entries, now it&#39;s 1 single entry. I have &quot;Not a HASH &quot; error, in this line print &quot;$data-&gt;{author} &quot;"}, {"owner": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "edited": false, "score": 0, "creation_date": 1465324172, "post_id": 37683393, "comment_id": 62850597, "body": "@Borodin unfortunately, I must wait 2 days to open a new question. I&#39;ve tried print&quot;$data{&#39;author&#39;} but now I see &quot;global symbol %data require explicit package name&quot;. It is defined above, I have no clue"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "edited": false, "score": 0, "creation_date": 1465324884, "post_id": 37683393, "comment_id": 62851031, "body": "@FilipBartman: Using that URL, <code>print $data-&gt;{author}, &quot;\\n&quot;</code> produces <code>Variv</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "edited": false, "score": 0, "creation_date": 1465325494, "post_id": 37683393, "comment_id": 62851373, "body": "@FilipBartman You should use what I wrote. <code>$data{author}</code> is looking up element <code>author</code> in <code>%data</code>, which doesn&#39;t exist. You hash a <i>hash reference</i> <code>$data</code>, so you need to write <code>print $data-&gt;{author}, &quot;\\n&quot;</code>. Now you should go and learn Perl. It isn&#39;t fair to press me to make off-topic posts just to help you out, and this  is no way to learn a language. <a href=\"http://learn.perl.org/\" rel=\"nofollow noreferrer\">learn.perl.org</a> and  <a href=\"http://perl-tutorial.org/\" rel=\"nofollow noreferrer\">perl-tutorial.org</a> are excellent resources, and Stack Overflow has some very useful links on its <a href=\"http://stackoverflow.com/tags/perl/info\">perl tag information page</a>"}, {"owner": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "edited": false, "score": 0, "creation_date": 1465325674, "post_id": 37683393, "comment_id": 62851476, "body": "@Borodin Thank you very much for your help, I won&#39;t press you any more :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1465321202, "last_edit_date": 1465321202, "creation_date": 1465313022, "answer_id": 37683393, "question_id": 37683136, "link": "https://stackoverflow.com/questions/37683136/how-do-i-get-data-from-a-web-api/37683393#37683393", "title": "How do I get data from a web API?", "body": "\n\n<p>Aren't you supposed to be <em>learning</em> Perl if it's a university project?</p>\n\n<p>Anyway, your program will look something like this. It uses the <a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow\"><code>LWP::Simple</code></a> module to fetch the JSON data, and then <a href=\"https://metacpan.org/pod/JSON::Parse\" rel=\"nofollow\"><code>JSON::Parse</code></a> to process it into a Perl data structure</p>\n\n<p>I've used printed the <code>author</code> value from each item of the array, as requested in your comment</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse LWP::Simple 'get';\nuse JSON::Parse 'parse_json';\n\nuse constant URL =&gt; 'http://a.wykop.pl/observatory/entries/appkey,dJ4w7fXYpL';\n\nmy $json = get URL or die \"Unable to get JSON data\";\nmy $data = parse_json($json);\n\nprint \"Authors:\\n\";\nprint \"  $_-&gt;{author}\\n\" for @$data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Authors:\n  Snurq\n  AferaZaAfera\n  Devest\n  igorsped\n  Matt23\n  labla\n  poprawnie-niepoprawny\n  Parkero\n  Speed666\n  Xune\n  Gasior9\n  mikolajeq\n  Aztek2201\n  blogerbezbloga\n  Pan_wons\n  PanKaczucha\n  NieznanyAleAmbitny\n  dzika_kaczka_bez_dzioba\n  ilili\n  Bager\n  bmbcz01\n  hydrocyfolumpus\n  acarter\n  Doctor_Manhattan\n  strumienzgor\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6435983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1123645544345182/picture?type=large", "display_name": "Filip Bartman", "link": "https://stackoverflow.com/users/6435983/filip-bartman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "closed_date": 1465337769, "accepted_answer_id": 37683393, "answer_count": 1, "score": -2, "last_activity_date": 1465321202, "creation_date": 1465312321, "last_edit_date": 1465313482, "question_id": 37683136, "link": "https://stackoverflow.com/questions/37683136/how-do-i-get-data-from-a-web-api", "closed_reason": "Needs more focus", "title": "How do I get data from a web API?", "body": "<p>I'm pretty basic at Perl, and I need to make a project for my university.</p>\n\n<p>I want to download data from certain link, it is JSON data, so I know I have to use  <a href=\"https://metacpan.org/pod/JSON::Parse\" rel=\"nofollow\"><code>JSON::Parse</code></a> module from CPAN.</p>\n\n<p>But how to download content of link to my Perl variable? Should I use <code>LWP</code> <code>get()</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1465297830, "post_id": 37677508, "comment_id": 62832339, "body": "Maybe you want to read about <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">Perl data structures</a> and the use of <a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow noreferrer\">my</a> to declare variables."}], "answers": [{"tags": [], "owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "is_accepted": false, "score": 5, "last_activity_date": 1465297310, "creation_date": 1465297310, "answer_id": 37677559, "question_id": 37677508, "link": "https://stackoverflow.com/questions/37677508/what-is-the-meaning-of-these-empty-array-assignments-in-perl/37677559#37677559", "title": "What is the meaning of these empty array assignments in perl?", "body": "<p>These initialize the arrays as empty and if the next thing is an array assignment, it's basically useless. I would write</p>\n\n<pre><code>my @tables = getAllTables4TP($tp);\n</code></pre>\n\n<p>I can't say anything about <code>@emptytables</code> because I don't see code using it.</p>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": 2, "last_activity_date": 1465403261, "last_edit_date": 1465403261, "creation_date": 1465297489, "answer_id": 37677633, "question_id": 37677508, "link": "https://stackoverflow.com/questions/37677508/what-is-the-meaning-of-these-empty-array-assignments-in-perl/37677633#37677633", "title": "What is the meaning of these empty array assignments in perl?", "body": "<p>Yes you are correct, it's defining an empty array.</p>\n\n<p>Check this part</p>\n\n<pre><code>my @tables=();\n@tables= getAllTables4TP($tp);\n</code></pre>\n\n<p>Here the data insertion is done into the tables array. You can directly write the above lines as one line:</p>\n\n<pre><code>my @tables= getAllTables4TP($tp);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1465308720, "creation_date": 1465308720, "answer_id": 37681775, "question_id": 37677508, "link": "https://stackoverflow.com/questions/37677508/what-is-the-meaning-of-these-empty-array-assignments-in-perl/37681775#37681775", "title": "What is the meaning of these empty array assignments in perl?", "body": "<ul>\n<li><code>my @tables;</code> creates an empty array</li>\n<li><code>my @tables = ();</code> creates an empty array, then replaces its contents with nothing (empties it).</li>\n<li><code>my @tables = (); @tables = getAllTables4TP($tp);</code> creates an empty array, then replaces its contents with nothing, then replaces its contents with something else.</li>\n</ul>\n\n<p>I would use just the following:</p>\n\n<pre><code>my @tables = getAllTables4TP($tp);\n</code></pre>\n"}], "owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 37681775, "answer_count": 3, "score": 1, "last_activity_date": 1465403261, "creation_date": 1465297176, "last_edit_date": 1465297550, "question_id": 37677508, "link": "https://stackoverflow.com/questions/37677508/what-is-the-meaning-of-these-empty-array-assignments-in-perl", "title": "What is the meaning of these empty array assignments in perl?", "body": "<pre><code>foreach my $tp (@tpList)\n{\nprint \"inside function 14\";\nmy $result1_fail = \"\";\n$_=$tp;\nnext if(/^$/);\nprint \"TP : $tp\\n\";\n$result.=\"&lt;h3&gt;$tp&lt;/h3&gt;&lt;BR&gt;\\n\";\n$result1_fail.=\"&lt;h3&gt;$tp&lt;/h3&gt;&lt;BR&gt;\\n\";\n#------------------------------#\nprint \"inside function 15\";\n***my @emptytables=();\nmy @tables=();***\n@tables= getAllTables4TP($tp);\n</code></pre>\n\n<ul>\n<li>Please explain the meaning of  my @emptytables=();</li>\n<li>And also my @tables=();</li>\n<li>is this used for defining some empty array?</li>\n<li>if it is, then what is its use?</li>\n</ul>\n"}, {"tags": ["regex", "perl", "grep"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 3, "creation_date": 1465294265, "post_id": 37676366, "comment_id": 62829951, "body": "Please carify your question with appropriate <b>input strings</b> and the desired <b>output strings</b>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1465294270, "post_id": 37676366, "comment_id": 62829953, "body": "Regular expressions are probably the wrong choice for parsing a contextual language. They simply cannot do it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465323105, "post_id": 37676366, "comment_id": 62849984, "body": "Practically the same answered in <a href=\"http://stackoverflow.com/questions/37558561/regex-to-match-absence-of-substring/\">this post</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1465329790, "last_edit_date": 1465329790, "creation_date": 1465298759, "answer_id": 37678085, "question_id": 37676366, "link": "https://stackoverflow.com/questions/37676366/grep-perl-regex-negative-lookbehind-not-working/37678085#37678085", "title": "Grep &amp; Perl regex negative lookbehind not working", "body": "<p>In Perl you can use   </p>\n\n<pre><code>$regex_new = /( (?:finally\\s+\\{\\s+|.) )(\\S+\\.submitBatch\\(\\)\\; ) /sx;\n</code></pre>\n\n<p>to extract substrings with <code>.submitBatch</code> from the file. If the first capture group ( the content of <code>$1</code> ) starts with <code>finally</code> you can ignore that match (since you wanted to exclude those matches).</p>\n\n<p>Regarding your original regex,</p>\n\n<pre><code>$regex = /( (?&lt;!finally\\s\\{.) .*? \\.submitBatch\\(\\)\\; )/sx;\n</code></pre>\n\n<p>what is the problem here? It will match much more than needed, and it will be difficult to extract the matches that you are looking for.</p>\n\n<p>For example:</p>\n\n<pre><code>use feature qw(say state);\nuse strict;\nuse warnings;\n\nuse Term::ANSIColor;\n\nmy $str = do { local $/; &lt;DATA&gt; };\nmy $regex = /( (?&lt;!finally\\s\\{.) .*? \\.submitBatch\\(\\)\\; )/sx;\n$str =~ s/$regex/color_match( $1 )/ge;\nsay $str;\n\nsub color_match {\n    state $i = 0;\n    state $colors = [qw[red green blue]];\n    return color( \"bold \" . $colors-&gt;[$i++] ) . $_[0] . color(\"reset\");\n}\n\n__DATA__\n         ... code ...\n       } finally {\n         impl.submitBatch();\n         test.close();\n     }\n     batch.addToBatchUpdate(item1);\n  }\n  batch.submitBatch();\n  dao.update(item2);\n  //another text\n} finally {\n  impl.submitBatch();\n  test.close();\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JDZ6o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JDZ6o.png\" alt=\"enter image description here\"></a></p>\n\n<p>So each match ends with <code>.submitBatch();</code> but the negative look-behind assertion <code>(?&lt;!finally\\s\\{.)</code> matches immediately for each iteration of <code>g</code> modifier. For example, for the first iteration it matches at the beginning of the file and then <code>.*?</code> matches all up until the first <code>.submitBatch();</code> and that completes the first iteration ( no need for backtracking). Similarly for the other matches.</p>\n\n<p>If we replace <code>$regex</code> with <code>$regex_new</code>, the output will be:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ebIYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebIYw.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now it is easy to exclude the false matches.\nFor example, you can use the <code>e</code> modifier:</p>\n\n<pre><code>$str =~ s/$regex/fix_missing_finally_clause( $1, $2)/ge;\n</code></pre>\n\n<p>where ( for example ) :</p>\n\n<pre><code>sub fix_missing_finally_clause {\n    if ($_[0] =~ /^finally/ ) {\n        return $_[0].$_[1];\n    }  \n    else {\n        # Insert your edits here... for example:\n        return \"finally {\\n\" . $_[0] . $_[1] . \"\\n\\t}\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 1753538, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/da333bbfa39d0be52e3a577d3be567d6?s=128&d=identicon&r=PG", "display_name": "Alessandro Ilardo", "link": "https://stackoverflow.com/users/1753538/alessandro-ilardo"}, "is_accepted": false, "score": 1, "last_activity_date": 1465396247, "creation_date": 1465396247, "answer_id": 37705425, "question_id": 37676366, "link": "https://stackoverflow.com/questions/37676366/grep-perl-regex-negative-lookbehind-not-working/37705425#37705425", "title": "Grep &amp; Perl regex negative lookbehind not working", "body": "<p>Thanks for the detailed answer H\u00e5kon, but I prefer to use the perl extension from grep as I have other regex in place and I don't want to rewrite the all script in perl (I like to keep my script as tidy as possible), even though might be easier.\nI finally managed to fix the regex with this one, which also takes care to look in between the method signature amd the method which I am interested.</p>\n\n<p>I know that the regex selects too much, but I am not an expert and I am not interested in substitution, so as long as there is a match for me it is enough.</p>\n\n<pre><code>myself@mymachine:~$grep -Pzo '(?s)(?&lt;=public|private|protected).(?&lt;!finally).*?\\.submitBatch\\(\\)\\;' /tmp/test.java\n     method\n    //sample text\n            batch.addToBatchUpdate(item1);\n        }\n        batch.submitBatch();\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 1753538, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/da333bbfa39d0be52e3a577d3be567d6?s=128&d=identicon&r=PG", "display_name": "Alessandro Ilardo", "link": "https://stackoverflow.com/users/1753538/alessandro-ilardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1465396247, "creation_date": 1465294084, "last_edit_date": 1465301743, "question_id": 37676366, "link": "https://stackoverflow.com/questions/37676366/grep-perl-regex-negative-lookbehind-not-working", "title": "Grep &amp; Perl regex negative lookbehind not working", "body": "<p>I'd like to use a regex in grep+perl, in order to select <strong>unclosed</strong> java statements within a <em>finally</em> clause.</p>\n\n<p>The pattern I came up with is supposed to select all .submitBacth(); which are not preceded by a <em>finally {</em> </p>\n\n<p>However the negative look behind doesn't seem to be right or working as expected as all matches are returned.</p>\n\n<pre><code>myself@mymachine:~/Desktop$ grep -C 3 -P '(?s)(?&lt;!finally\\s\\{.).*?\\.submitBatch\\(\\)\\;' ~/myfile.txt\n</code></pre>\n\n<p>Sample text (myfile.txt):</p>\n\n<pre><code>        //sample text\n        batch.addToBatchUpdate(item1);\n    }\n    batch.submitBatch();\n    dao.update(item2);\n    //another text\n} finally {\n\n--\n\n        }\n    }\n} finally {\n    impl.submitBatch();\n    test.close();\n}\n</code></pre>\n\n<p>Expected output should be:</p>\n\n<pre><code>                //sample text\n                batch.addToBatchUpdate(item1);\n            }\n            batch.submitBatch();\n            dao.update(item2);\n            //anotehr text\n        } finally {\n</code></pre>\n\n<p>I'd have expected to see only the first entry batch.submitBatch(); but as you can see both are returned.</p>\n"}, {"tags": ["perl", "atom-editor", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1465290406, "post_id": 37674957, "comment_id": 62827233, "body": "Welcome to Stack Overflow and the Perl tag. I feel with you, but I believe this might be a better fit for <a href=\"http://superuser.com\">superuser.com</a>. If you don&#39;t get answers here, you should try there. At least on the writing it yourself part."}], "answers": [{"comments": [{"owner": {"reputation": 580, "user_id": 2574407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/haZlP.jpg?s=128&g=1", "display_name": "Thorkil V&#230;rge", "link": "https://stackoverflow.com/users/2574407/thorkil-v%c3%a6rge"}, "edited": false, "score": 1, "creation_date": 1465291922, "post_id": 37675352, "comment_id": 62828321, "body": "Got it. Thank you. For some reason I was searching for &quot;embedded perl&quot; and perl only. I didn&#39;t think that there was a Mojolicious syntax highlighter.  To answer my other question about associating an extension with a syntax: Go to Settings -&gt; Open config Folder -&gt; .atom/packages/language-mojolicious/grammars/perl (mojolicious templates).json -&gt; find &quot;fileTypes&quot; and add the needed extensions there."}, {"owner": {"reputation": 580, "user_id": 2574407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/haZlP.jpg?s=128&g=1", "display_name": "Thorkil V&#230;rge", "link": "https://stackoverflow.com/users/2574407/thorkil-v%c3%a6rge"}, "edited": false, "score": 2, "creation_date": 1465292497, "post_id": 37675352, "comment_id": 62828724, "body": "I could use a bit more syntax highlighting on the HTML, though. HTML comments could be highlighted and so could HTML attributes and values."}], "tags": [], "owner": {"reputation": 236, "user_id": 2231922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fae208c6398bc6172b97ad62427842?s=128&d=identicon&r=PG", "display_name": "Sebastian Riedel", "link": "https://stackoverflow.com/users/2231922/sebastian-riedel"}, "is_accepted": true, "score": 3, "last_activity_date": 1465291318, "creation_date": 1465291318, "answer_id": 37675352, "question_id": 37674957, "link": "https://stackoverflow.com/questions/37674957/atom-editor-and-embedded-perl-syntax-highlighting/37675352#37675352", "title": "Atom editor and embedded perl: syntax highlighting", "body": "<p>It should have been easy to find with the Atom package search feature. <a href=\"https://github.com/kraih/atom-mojo\" rel=\"nofollow\">https://github.com/kraih/atom-mojo</a></p>\n"}], "owner": {"reputation": 580, "user_id": 2574407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/haZlP.jpg?s=128&g=1", "display_name": "Thorkil V&#230;rge", "link": "https://stackoverflow.com/users/2574407/thorkil-v%c3%a6rge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 37675352, "answer_count": 1, "score": 4, "last_activity_date": 1465291318, "creation_date": 1465290258, "question_id": 37674957, "link": "https://stackoverflow.com/questions/37674957/atom-editor-and-embedded-perl-syntax-highlighting", "title": "Atom editor and embedded perl: syntax highlighting", "body": "<p>I am using the atom text editor to write Perl and I would like to have proper syntax highlighting and indentation for the template system used by the Mojolicious framework called Embedded Perl. I have tried to enable the Perl syntax manually in Atom but this does not create automatic indentation when I for instance create a &lt;div&gt; element. So it does not work properly for the Embedded Perl files (html.ep).</p>\n\n<p>How do I bind a syntax highlighting to a specific file extension such that atom automatically associates an extension with a syntax and where can I find a syntax highlighter for atom for Embedded Perl?</p>\n\n<p>If no such syntax highlighter exists, can you perhaps point me in the direction of how to write one myself?</p>\n"}, {"tags": ["perl", "email", "google-apps"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1465286085, "post_id": 37673381, "comment_id": 62824613, "body": "All that <code>warn&#39;s</code> surely output something?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465286137, "post_id": 37673381, "comment_id": 62824654, "body": "Can you use <code>Return</code> and/or &#39;Envelope` parameters to <code>mail</code> command for Delivery Status Notification? (<a href=\"http://search.cpan.org/~shay/libnet-3.08/lib/Net/SMTP.pm\" rel=\"nofollow noreferrer\"><code>Net::SMTP</code></a>)"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1465287671, "post_id": 37673381, "comment_id": 62825538, "body": "A bit hard to read.  Could you reformat.  Try if/elsif/else.  if + not = unless"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465307995, "post_id": 37673381, "comment_id": 62839957, "body": "Reformatting your code reveals that, despite checking the from and to addresses, you still go ahead and try to send the email even if they are invalid. All that nesting of <code>if</code> statements is unnecessary"}, {"owner": {"reputation": 173, "user_id": 5478114, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41edd9b1f1237bf1216b24ad5e1f6178?s=128&d=identicon&r=PG&f=1", "display_name": "Melchester", "link": "https://stackoverflow.com/users/5478114/melchester"}, "edited": false, "score": 0, "creation_date": 1465342708, "post_id": 37673381, "comment_id": 62858655, "body": "Yes, sorry, the code was just to indicate how we were looking for problems. None of the warnings happen. The attempt to send the mail does not trigger any warnings or errors, but the mail is not sent."}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 5478114, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41edd9b1f1237bf1216b24ad5e1f6178?s=128&d=identicon&r=PG&f=1", "display_name": "Melchester", "link": "https://stackoverflow.com/users/5478114/melchester"}, "edited": false, "score": 0, "creation_date": 1465343812, "post_id": 37675629, "comment_id": 62858872, "body": "Thankyou, I have added the missing two bottom lines to the example - they are in our active code. I did not have a test on the dataend() statement. So I will try that. Unfortunately it is hard to replicate, so it may be a day or two before I can confirm your suggestion worked."}, {"owner": {"reputation": 173, "user_id": 5478114, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41edd9b1f1237bf1216b24ad5e1f6178?s=128&d=identicon&r=PG&f=1", "display_name": "Melchester", "link": "https://stackoverflow.com/users/5478114/melchester"}, "edited": false, "score": 0, "creation_date": 1465522844, "post_id": 37675629, "comment_id": 62948075, "body": "Yes the test on the dataend() statement works. Thank you."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 0, "last_activity_date": 1465292102, "creation_date": 1465292102, "answer_id": 37675629, "question_id": 37673381, "link": "https://stackoverflow.com/questions/37673381/how-to-detect-a-refuse-to-send-smtp-response/37675629#37675629", "title": "How to detect a refuse to send SMTP response?", "body": "<p>I don't know how exactly google rejects the delivery of emails if the limit is reached but there are a few ways:</p>\n\n<ul>\n<li>reject mail from or rcpt to commands: in this case you should see the warnings in your code</li>\n<li>reject the mail delivery: in this case <code>dataend()</code> should tell you the problem, i.e. the last method which should be called when sending the mail. But it looks like you don't even use <code>dataend()</code> in your code which might result in the delivery being pure luck anyway.</li>\n</ul>\n"}], "owner": {"reputation": 173, "user_id": 5478114, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41edd9b1f1237bf1216b24ad5e1f6178?s=128&d=identicon&r=PG&f=1", "display_name": "Melchester", "link": "https://stackoverflow.com/users/5478114/melchester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 37675629, "answer_count": 1, "score": 1, "last_activity_date": 1465366464, "creation_date": 1465285446, "last_edit_date": 1465366464, "question_id": 37673381, "link": "https://stackoverflow.com/questions/37673381/how-to-detect-a-refuse-to-send-smtp-response", "title": "How to detect a refuse to send SMTP response?", "body": "<p>We are using a Perl program to send email using the <a href=\"https://metacpan.org/pod/Net::SMTP::SSL\" rel=\"nofollow\"><code>Net::SMTP::SSL</code></a> module. We are also using the Google SMTP server. They have a limit of 100 emails per day sent via SMTP (if you are using the free service). </p>\n\n<p>Occasionally we accidentally exceed that limit and Google does not send the email. But our Perl program does not seem to pick that up. Does anyone know how to detect the failure to send?</p>\n\n<p>I think this is the relevant code:</p>\n\n<pre><code>use Net::SMTP::SSL;\n\nmy $smtp;\n\n$smtp = Net::SMTP::SSL-&gt;new( 'smtp.gmail.com', Port =&gt; 465, Debug =&gt; 0 ) or\n        die \"Could not connect to Gmail server!\";\n\n$smtp-&gt;auth( $L, $P ) or die \"Authentication Failed!\";\n$smtp-&gt;mail( $from . \"\\n\" )  or die \"Cannot send as user $from!\";\n$smtp-&gt;to( $to . \"\\n\" ) or die \"Cannot send to $to!\";\n\n$smtp-&gt;data();\n$smtp-&gt;datasend( \"MIME-Version: 1.0\\n\" );\n$smtp-&gt;datasend( \"From: \" . $from . \"\\n\" );\n$smtp-&gt;datasend( \"To: \" . $to . \"\\n\" );\n$smtp-&gt;datasend( \"Subject: \" . $subject . \"\\n\" );\n$smtp-&gt;datasend( \"\\n\");\n$smtp-&gt;datasend( $body . \"\\n\" );\n$smtp-&gt;dataend();\n$smtp-&gt;quit;\n</code></pre>\n"}, {"tags": ["perl", "expect.pm"], "comments": [{"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 1, "creation_date": 1465278783, "post_id": 37671192, "comment_id": 62820561, "body": "Did you check the Expect module documentation: <a href=\"http://search.cpan.org/~szabgab/Expect-1.32/lib/Expect.pm#I_just_want_to_read_the_output_of_a_process_without_expect%28%29ing_anything._How_can_I_do_this\" rel=\"nofollow noreferrer\">search.cpan.org/~szabgab/Expect-1.32/lib/&hellip;</a>?"}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 0, "creation_date": 1465279086, "post_id": 37671192, "comment_id": 62820686, "body": "Also, looks like duplicate of <a href=\"http://stackoverflow.com/questions/26908683/get-the-output-of-a-command-executed-via-self-send-on-a-remote-host-in-perl?rq=1\" title=\"get the output of a command executed via self send on a remote host in perl\">stackoverflow.com/questions/26908683/&hellip;</a>"}, {"owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "reply_to_user": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 0, "creation_date": 1465279928, "post_id": 37671192, "comment_id": 62821081, "body": "Yes, checked but no help..!!"}, {"owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "reply_to_user": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 0, "creation_date": 1465279982, "post_id": 37671192, "comment_id": 62821118, "body": "This is not duplicate of <a href=\"http://stackoverflow.com/questions/26908683/get-the-output-of-a-command-executed-via-self-send-on-a-remote-host-in-perl?rq=1\" title=\"get the output of a command executed via self send on a remote host in perl\">stackoverflow.com/questions/26908683/&hellip;</a>, this is different question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465282440, "post_id": 37671192, "comment_id": 62822373, "body": "Don&#39;t you <code>expect</code> after <code>send</code> to receive the answer?"}], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "is_accepted": false, "score": 1, "last_activity_date": 1465297382, "creation_date": 1465297382, "answer_id": 37677589, "question_id": 37671192, "link": "https://stackoverflow.com/questions/37671192/how-to-capture-the-result-of-a-command-sent-using-expect/37677589#37677589", "title": "How to capture the result of a command sent using Expect", "body": "<p>First of all you have to know how the last line of your CLI looks like after the output of your requested data. The <code>Expect</code> cann search for a certain Pattern within your defined timeout. If it found sth. you can capture everything since your <code>$expect-&gt;send($command)</code> with the <code>$exp-before()</code>-command. Or if you wish to capture everything after your command just use <code>$expect-&gt;after()</code> without checking for a special symbol.</p>\n\n<p>Let me give you an example:</p>\n\n<pre><code>$expect-&gt;send(\"$command\\n\");\n#mask the pipe-symbol for later use. Expect expects a valid regex\n$command =~ s/\\|/\\\\\\|/;\n#if a huge amount of data is requested you have to avoid the timeout\n$expect-&gt;restart_timeout_upon_receive(1);\nif(!$expect-&gt;expect($timeout, [$command])){ #timeout\n   die: \"Timeout at $command\";\n}else{\n   #command found, no timeout\n   $expect-&gt;after();\n   $expect-&gt;restart_timeout_upon_receive(1);\n   if(!expect-&gt;expect($timeout,[\"#\"])){\n     die \"Timeout at $command\";\n   } else{\n      $data = $expect-&gt;before(); #fetch everything before the last expect() call\n   }\n}\n   return $data;\n</code></pre>\n\n<p>So you have to fire your command, then expect your command been fired. After this you can fetch everything till your command prompt, in my case it's indicated by the <code>#</code>. The rows between your command and the last <code>$expect-&gt;expect($timeout,[\"#\"]</code> will be stored in $data as a single string. After that you can process this String.</p>\n\n<p>I hope I could help you a bit further. ;)</p>\n"}], "owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1296, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1504624041, "creation_date": 1465277401, "last_edit_date": 1504624041, "question_id": 37671192, "link": "https://stackoverflow.com/questions/37671192/how-to-capture-the-result-of-a-command-sent-using-expect", "title": "How to capture the result of a command sent using Expect", "body": "<p>I have to capture output of the send command when using Perl <a href=\"https://metacpan.org/pod/Expect\" rel=\"nofollow\"><code>Expect</code></a> module.</p>\n\n<p>I know that in shell or Tcl I can use <code>puts $expect_out(buffer);</code> to capture the previously run command.</p>\n\n<p>How can I do the same thing in Perl?</p>\n\n<p>I am sending below command on remote machine:</p>\n\n<pre><code>$expect-&gt;send(\"stats\\n\");\n</code></pre>\n\n<p>I need to capture the <code>stats</code> output in some variable.</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1465286124, "post_id": 37668898, "comment_id": 62824644, "body": "I&#39;m still not convinced it&#39;s &quot;perfectly reasonable&quot; as they&#39;re from two different models of IPC."}], "answers": [{"comments": [{"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1465261533, "post_id": 37668950, "comment_id": 62816011, "body": "This sounds perfectly reasonable, except for other examples people have posted, which claim to work, such as that other SO question. Also, looking at perldocs, they also claim the opposite. The perldoc for alarm specifically states, &quot;If you want to use alarm to time out a system call...&quot; and the perldoc for perlipc says, &quot;Signal handling is also used for timeouts in Unix...Then try your blocking operation...&quot;. Why is join different from other system calls?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1465262218, "post_id": 37668950, "comment_id": 62816160, "body": "<code>$thread-&gt;join</code> isn&#39;t special, and this has nothing to do with threads. What I said applies to all functions written in C. This even includes regexp matches (<code>$s =~ &#47;$re&#47;</code>). Now, some blocking system system calls will return prematurely with error <code>EINTR</code> or <code>EAGAIN</code> when a signal comes in, but <code>$thread-&gt;join</code> is effectively a call to <code>mutex_join</code>, and <code>mutex_join</code> doesn&#39;t have a means of returning an error. It blocks until it succeeds, period."}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1465263229, "post_id": 37668950, "comment_id": 62816367, "body": "Again, totally willing to believe this, but the same code in C doesn&#39;t behave this way. I would expect the perl implementation to be using the same C libraries under the hood, or is that a false assumption? Or is pthreads written in a more sane fashion? In C, I can do a <code>pthread_join</code>, and my <code>alarm</code> still goes off as planned."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1465265225, "post_id": 37668950, "comment_id": 62816820, "body": "Yes, but in Perl, signals are only processed between Perl ops. It&#39;s not safe to run Perl code in the middle of running other Perl code, so the actual signal handler simply increments a counter which is checked between Perl ops. // You say it&#39;s different in C, but it&#39;s not really. A signal handler in well written C program would most likely do exactly the same thing. You can&#39;t just throw an exception in the middle of arbitrary code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1465265588, "post_id": 37668950, "comment_id": 62816892, "body": "The question is not when the alarm goes off. It &quot;goes off as planned&quot; in Perl too. The question is when does <code>join</code>/<code>pthread_join</code> return. And that&#39;s the same in Perl and C."}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1465265672, "post_id": 37668950, "comment_id": 62816910, "body": "The only reason I say it&#39;s different in C is that when I wrote the same code in C, <code>pthread_join</code> was interrupted by SIGALRM. I would have assumed that whatever mechanism is used to interrupt C library level I/O calls in perl, resulting in EINTR, would also be used for interrupting that <code>threads::join</code> operation as well. I get that signal delivery is deferred until the perl op is finished, it just seems like if one system call is interruptable, then others ought to as well, especially when the C library itself is able to do it. Just seems like a deficiency is all."}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465266250, "post_id": 37668950, "comment_id": 62817053, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/113971/discussion-between-cdahn-and-ikegami\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1465266191, "last_edit_date": 1465266191, "creation_date": 1465261151, "answer_id": 37668950, "question_id": 37668898, "link": "https://stackoverflow.com/questions/37668898/does-join-in-perl-threads-block-sigalrm/37668950#37668950", "title": "Does join in perl threads block SIGALRM?", "body": "<p>The problem has nothing to do with threads. Signals are only <a href=\"http://perldoc.perl.org/perlipc.html#Deferred-Signals-(Safe-Signals)\" rel=\"nofollow\">processed</a> between Perl ops, and <code>join</code> is written in C, so the signal will only be handled when <code>join</code> returns. The following demonstrates this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse threads;\n\nsub worker {\n    print \"Worker thread started.\\n\";\n    for (1..5) {\n       sleep(1);\n       print(\".\\n\");\n    }\n}\n\nmy $thread = threads-&gt;create(\\&amp;worker);\n\nprint \"Setting alarm.\\n\";\n$SIG{ALRM} = sub { print \"Alarm!\\n\" };\nalarm 2;\n\nprint \"Joining.\\n\";\n$thread-&gt;join();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Setting alarm.\nJoining.\nWorker thread started.\n.\n.\n.\n.\n.\nAlarm!\n</code></pre>\n\n<p><a href=\"https://metacpan.org/source/JDHEDDEN/threads-2.09/threads.xs#L1315\" rel=\"nofollow\"><code>join</code></a> is essentially a call to <code>pthread_join</code>. Unlike other blocking system calls, <code>pthread_join</code> does not get interrupted by signals.</p>\n\n<hr>\n\n<p>By the way, I renamed <code>$tid</code> to <code>$thread</code> since <code>threads-&gt;create</code> returns a thread object, not a thread id.</p>\n"}, {"tags": [], "owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "is_accepted": false, "score": 2, "last_activity_date": 1465354252, "creation_date": 1465354252, "answer_id": 37692445, "question_id": 37668898, "link": "https://stackoverflow.com/questions/37668898/does-join-in-perl-threads-block-sigalrm/37692445#37692445", "title": "Does join in perl threads block SIGALRM?", "body": "<p>I'm going to post an answer to my own question to add some detail to ikegami's response above, and summarize our conversation, which should save future visitors from having to read through the huge comment trail it collected.</p>\n\n<p>After discussing things with ikegami, I went and did some more reading on perl signals, consulted some other perl experts, and discovered the exact reason why <code>join</code> isn't being \"interrupted\" by the interpreter. As ikegami said, signals only get delivered in between perl operations. In perl, this is called <a href=\"http://perldoc.perl.org/perlipc.html#Deferred-Signals-%28Safe-Signals%29\" rel=\"nofollow\">Deferred Signals, or Safe Signals</a>.</p>\n\n<p>Deferred Signals were released in 5.8.0, back in 2002, which could be one of the reasons I was seeing older posts on the Net which don't appear to work. They probably worked with \"unsafe signals\", which act more like signal delivery that we're used to in C. In fact, as of 5.8.1, you can turn off deferred signal delivery by setting the environment variable <code>PERL_SIGNALS=unsafe</code> before executing your script. When I do this, the <code>threads::join</code> call is indeed interrupted as I was expecting, just as <code>pthread_join</code> is interrupted in C in this same scenario.</p>\n\n<p>Unlike other I/O operations, like <code>read</code>, which returns EINTR when a signal interrupts it, <code>threads::join</code> doesn't do this. Under the hood it's a call to the C library call <code>pthread_join</code>, which the man page confirms does not return EINTR. Under deferred signals, when the interpreter gets the SIGALRM, it schedules delivery of the signal, deferring it, until the <code>threads::join</code>-><code>pthread_join</code> library call returns. Since <code>pthread_join</code> doesn't \"interrupt\" and return EINTR, my SIGALRM is effectively being swallowed by the <code>threads::join</code>. With other I/O operations, they would \"interrupt\" and return EINTR, giving the perl interpreter a chance to deliver the signal and then restart the system call via SA_RESTART.</p>\n\n<p>Obviously, running in unsafe signals mode is probably a Bad Thing, so as an alternative, according to <code>perlipc</code>, you can use the POSIX module to install a signal handler directly via <code>sigaction</code>. This then makes the one particular signal \"unsafe\".</p>\n"}], "owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 1, "accepted_answer_id": 37668950, "answer_count": 2, "score": 2, "last_activity_date": 1465354252, "creation_date": 1465260597, "last_edit_date": 1495541296, "question_id": 37668898, "link": "https://stackoverflow.com/questions/37668898/does-join-in-perl-threads-block-sigalrm", "title": "Does join in perl threads block SIGALRM?", "body": "<p>I have a small sample program that hangs on perl 5.16.3. I am attempting to use an <code>alarm</code> to trigger if two threads don't finish working in time in a much more complicated program, but this boils down the gist of it. I know there's plenty of other ways to do this, but for the sake of argument, let's say I'm stuck with the code the way it is. I'm not sure if this is a bug in perl, or something that legitimately shouldn't work.</p>\n\n<p>I have researched this on the Internet, and it seems like mixing alarms and threads is generally discouraged, but I've seen plenty of examples where people claim that this is a perfectly reasonable thing to do, such as this other SO question, <a href=\"https://stackoverflow.com/questions/6332885/perl-threads-with-alarm\" title=\"Perl threads with alarm\">Perl threads with alarm</a>. The code provided in the accepted answer on that question also hangs on my system, which is why I'm wondering if maybe this is something that's now broke, at least as of 5.16.3.</p>\n\n<p>It appears that in the code below, if I call <code>join</code> before the <code>alarm</code> goes off, the <code>alarm</code> never triggers. If I replace the <code>join</code> with <code>while(1){}</code> and go into a busy-wait loop, then the <code>alarm</code> goes off just fine, so it appears that <code>join</code> is blocking the SIGALRM for some reason.</p>\n\n<p>My expectation is that the <code>join</code> happens, and then a few seconds later I see \"Alarm!\" printed on the screen, but this never happens, so long as that <code>join</code> gets called before the <code>alarm</code> goes off.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse threads;\n\nsub worker {\n    print \"Worker thread started.\\n\";\n    while(1){}\n}\n\nmy $thread = threads-&gt;create(\\&amp;worker);\n\nprint \"Setting alarm.\\n\";\n$SIG{ALRM} = sub { print \"Alarm!\\n\" };\nalarm 2;\n\nprint \"Joining.\\n\";\n$thread-&gt;join();\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-simple"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1465252411, "post_id": 37667825, "comment_id": 62813934, "body": "<code>XML::Simple</code> is anything but &quot;simple&quot; to use. Please avoid it if you possibly can. Take a look at <a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><i>Why is XML::Simple &quot;Discouraged&quot;?</i></a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1467555295, "last_edit_date": 1467555295, "creation_date": 1465254174, "answer_id": 37668106, "question_id": 37667825, "link": "https://stackoverflow.com/questions/37667825/parsing-xml-data-into-a-different-structure/37668106#37668106", "title": "Parsing XML data into a different structure", "body": "<p><code>XML::Simple</code> is an awkward and frustrating module to use, and I doubt very much if you can persuade it to build the data structure that you require. Almost any other XML parser would be a step forward</p>\n\n<p>Here's a solution using <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a>. You can interrogate the parsed XML data and build whatever data structure you like from it</p>\n\n<p>I've used <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow\"><code>Data::Dump</code></a> only to display the resulting data</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse XML::Twig;\n\nmy $config;\n\n{\n    my $twig = XML::Twig-&gt;new;\n    $twig-&gt;parsefile('books.xml');\n\n    for my $book ( $twig-&gt;findnodes('/Books/book') ) {\n\n        my $atts = $book-&gt;atts;\n        my ( $name, $feed ) = delete @{$atts}{qw/ name feed /};\n\n        $config-&gt;{book}{$name}{$feed} = $atts;\n    }\n}\n\nuse Data::Dump;\ndd $config;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  book =&gt; {\n    first  =&gt; {\n                communityfeed =&gt; { mode =&gt; \"modes\", region =&gt; 1 },\n                contentfeed   =&gt; { mode =&gt; \"modes\" },\n              },\n    second =&gt; {\n                articlefeed   =&gt; { mode =&gt; \"modes\" },\n                communityfeed =&gt; { mode =&gt; \"modes\" },\n                contentfeed   =&gt; { mode =&gt; \"\" },\n              },\n  },\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6432474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fcad3c51e70a79624455207beec277?s=128&d=identicon&r=PG&f=1", "display_name": "Novices", "link": "https://stackoverflow.com/users/6432474/novices"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 37668106, "answer_count": 1, "score": 2, "last_activity_date": 1467555295, "creation_date": 1465252208, "last_edit_date": 1592644375, "question_id": 37667825, "link": "https://stackoverflow.com/questions/37667825/parsing-xml-data-into-a-different-structure", "title": "Parsing XML data into a different structure", "body": "\n<p>I have the below XML file and I am trying to parse it</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Books&gt;\n  &lt;book name=&quot;first&quot; feed=&quot;contentfeed&quot; mode=&quot;modes&quot; /&gt;\n  &lt;book name=&quot;first&quot; feed=&quot;communityfeed&quot; mode=&quot;modes&quot; region=&quot;1&quot;/&gt;\n  &lt;book name=&quot;second&quot; feed=&quot;contentfeed&quot; mode=&quot;&quot; /&gt;\n  &lt;book name=&quot;second&quot; feed=&quot;communityfeed&quot; mode=&quot;modes&quot; /&gt;\n  &lt;book name=&quot;second&quot; feed=&quot;articlefeed&quot; mode=&quot;modes&quot; /&gt; \n&lt;/Books&gt;\n</code></pre>\n<p>I am using Perl version 5.8 together with <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow noreferrer\"><code>XML::Simple</code></a>. Below is the code I have written</p>\n<pre class=\"lang-perl prettyprint-override\"><code>    use XML::Simple;\n\n    my $xs = new XML::Simple( KeyAttr =&gt; { book =&gt; 'name' } , ForceArray =&gt; [ 'book','name' ] );\n    my $config = $xs-&gt;XMLin( &lt;complete path to xml file&gt; );\n</code></pre>\n<p>Below is the result (displayed using <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\"><code>Data::Dumper</code></a>)</p>\n<pre class=\"lang-perl prettyprint-override\"><code>'book' =&gt; {\n    'first' =&gt; {\n        'feed'   =&gt; 'communityfeed',\n        'mode'   =&gt; 'modes',\n        'region' =&gt; '1'\n    },\n    'second' =&gt; {\n        'feed' =&gt; 'articlefeed',\n        'mode' =&gt; 'modes'\n    },\n}\n</code></pre>\n<p>Instead I would like to have the output in the format below</p>\n<pre class=\"lang-perl prettyprint-override\"><code>'book' =&gt; {\n    'first' =&gt; {\n        'communityfeed' =&gt; { mode =&gt; 'modes', region =&gt; '1' },\n        'contentfeed'   =&gt; { mode =&gt; 'modes' }\n    },\n    'second' =&gt; {\n        'communityfeed' =&gt; { mode =&gt; 'modes' },\n        'contentfeed'   =&gt; { mode =&gt; '' },\n        'articlefeed'   =&gt; { mode =&gt; 'modes' }\n    },\n}\n</code></pre>\n<h3>Notes</h3>\n<ol>\n<li>The XML file format cannot be changed as it is the current production version</li>\n<li>Perl version 5.8 is preferred as this is the version used in the parent script and parsing logic should be merged into that script</li>\n</ol>\n<p>Have you encountered this kind of issue before? If so then how can this be tackled?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1, "user_id": 6055276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b22a270a0d248495d7b792afe554c143?s=128&d=identicon&r=PG&f=1", "display_name": "Hossein Kianimehr", "link": "https://stackoverflow.com/users/6055276/hossein-kianimehr"}, "edited": false, "score": 0, "creation_date": 1465244369, "post_id": 37666156, "comment_id": 62810628, "body": "file 1 has 2 lines, and file 2 has three lines"}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1465246083, "post_id": 37666156, "comment_id": 62811526, "body": "Welcome to Stack Overflow! Have you tried anything to solve the problem? This isn&#39;t a free coding service. Also, I think it would help to clarify your question if possible."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465252051, "post_id": 37666156, "comment_id": 62813845, "body": "I assume that by &quot;integer&quot; and &quot;digit&quot; you mean &quot;floating-point value&quot;? Why are there so many lines in the output when you only have two strings in file1? Is <code>CHAHP </code> supposed to match <code>CHAH</code>? What happens to <code>SANAP</code>? You appear to have nothing that takes its place in the output file"}], "answers": [{"tags": [], "owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "is_accepted": false, "score": 1, "last_activity_date": 1465256810, "creation_date": 1465256810, "answer_id": 37668470, "question_id": 37666156, "link": "https://stackoverflow.com/questions/37666156/how-can-i-replace-in-perl-when-i-have-2-texts/37668470#37668470", "title": "How can I replace in Perl when I have 2 texts?", "body": "<p>Try this program, maybe it will give an idea on how to get started.</p>\n\n<p>More about Perl basics: <a href=\"https://www.perl.org/books/beginning-perl/\" rel=\"nofollow\">https://www.perl.org/books/beginning-perl/</a></p>\n\n<pre><code>#!/usr/bin/perl\n# test.pl\n\nuse strict;\nuse warnings;\n\n# 1. Assign the files\nmy $file1 = './file1.txt';\nmy $file2 = './file2.txt';\n\n# 2. Read the files\nmy @file1_arr;\nopen(my $fh, \"&lt;\", $file1) or die \"Can't open $file1: $!\";\nwhile (my $row = &lt;$fh&gt;) {\n  chomp $row;\n  push(@file1_arr, $row);\n}\nclose($fh);\n\nmy @file2_arr;\nopen(my $fh2, \"&lt;\", $file2) or die \"Can't open $file2: $!\";\nwhile (my $row = &lt;$fh2&gt;) {\n  chomp $row;\n  push(@file2_arr, $row);\n}\nclose($fh2);\n\n# 3. Replace string in file1 with corresponding number in file 2\n# create a look up table from @file2_arr\nmy %name_ha;\nforeach my $i (@file2_arr) {\n    my @arr = split(/\\s+/,$i);\n    my $key = $arr[0] . 'P'; # modify from CHAH to CHAHP...\n    my $value = \"$arr[1] $arr[2]\";\n    $name_ha{$key} = $value;\n}\n\n# replace...\nmy @str_arr = split(/\\s+/, $file1_arr[1]); # CHAHP SANAP\nmy @str_res;\nforeach my $i (@str_arr) {\n    push(@str_res, $name_ha{$i}) if (defined $name_ha{$i}); \n}\n\n# print result\nmy $res;\nforeach my $i (@str_res) { \n    $res .= \"$file1_arr[0]\\n\";\n    $res .= \"$i\\n---\\n\";\n}\nprint $res;\n\n# 4. Write result into a new file\nopen(my $fh3, \"&gt;\", \"./output.txt\") or die \"Can't open &gt; ./output.txt: $!\";\nprint $fh3 $res;\nclose($fh3);\n\nprint \"Result saved in ./output.txt\\n\";\n\n# output: \n# [~]$ ./test.pl\n# 51.6659 28.4185\n# 28.4683 51.6566\n# ---\n# 51.6659 28.4185\n# 28.4513 51.6041\n# ---\n# Result saved in ./output.txt\n# [~]$ cat ./output.txt\n# 51.6659 28.4185\n# 28.4683 51.6566\n# ---\n# 51.6659 28.4185\n# 28.4513 51.6041\n# ---\n# [~]$ \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6055276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b22a270a0d248495d7b792afe554c143?s=128&d=identicon&r=PG&f=1", "display_name": "Hossein Kianimehr", "link": "https://stackoverflow.com/users/6055276/hossein-kianimehr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "closed_date": 1465286637, "answer_count": 1, "score": -4, "last_activity_date": 1465256810, "creation_date": 1465244268, "last_edit_date": 1592644375, "question_id": 37666156, "link": "https://stackoverflow.com/questions/37666156/how-can-i-replace-in-perl-when-i-have-2-texts", "closed_reason": "Needs details or clarity", "title": "How can I replace in Perl when I have 2 texts?", "body": "\n<p>I have 2 files that the first one has 2 lines: first line is integer and second is a string. Second file is string with corresponding number, I want to replace string in file 1 with corresponding number in file 2 (like output file that is after file 2):</p>\n<h3>file 1:</h3>\n<pre class=\"lang-none prettyprint-override\"><code>51.6659  28.4185 \nCHAHP SANAP \n</code></pre>\n<p>I want to replace a digit instead of string:</p>\n<h3>file 2:</h3>\n<pre class=\"lang-none prettyprint-override\"><code>KARD 28.5581  51.6588 \nCHAH 28.4683  51.6566 \nSANA 28.4513  51.6041\n</code></pre>\n<p>What I want to have:</p>\n<h3>output:</h3>\n<pre class=\"lang-none prettyprint-override\"><code>51.6659  28.4185\n28.4683  51.6566\n--- \n51.6659  28.4185\n28.4513  51.6041\n</code></pre>\n"}, {"tags": ["perl", "curl", "lwp"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1465244676, "post_id": 37665804, "comment_id": 62810789, "body": "&quot;How do I do X?&quot; questions are much easier to answer than &quot;how can translate X?&quot; because an exact translation is usually next to impossible, and rarely required."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6432142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b26a0462a9819794eb40be625f0111b?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6432142/john"}, "edited": false, "score": 1, "creation_date": 1465308740, "post_id": 37666272, "comment_id": 62840505, "body": "Really great feedback and answers.  I&#39;m sorry for my generality or vagueness, I didn&#39;t know enough to even realize I was being that way.  Now I get it, I learned a lot and this really helps!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1465245304, "last_edit_date": 1465245304, "creation_date": 1465244705, "answer_id": 37666272, "question_id": 37665804, "link": "https://stackoverflow.com/questions/37665804/convert-curl-command-line-to-perl-wwwcurl-or-lwp/37666272#37666272", "title": "convert curl command line to Perl WWW::Curl or LWP", "body": "<p>I think you are asking how to submit a form with a file field named <code>file</code> populated with the contents of file <code>myfile.csv</code>.</p>\n\n<pre><code>use LWP::UserAgent qw( );\n\nmy $ua = LWP::UserAgent-&gt;new();\n\nmy $response = $ua-&gt;post('https://myserver/api/import/data_save.html',\n   Content_Type =&gt; 'form-data',\n   Content =&gt; [\n      file =&gt; [ 'myfile.csv' ],\n   ],\n);\n\ndie($response-&gt;status_line)\n   if !$response-&gt;is_success;\n</code></pre>\n\n<p>The arguments to <code>$ua-&gt;post</code> are documented in <a href=\"http://search.cpan.org/perldoc?HTTP::Request::Common\" rel=\"nofollow\">HTTP::Request::Common</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1465245058, "post_id": 37666324, "comment_id": 62811004, "body": "curl is faster. LWP is more portable. The curl module maybe <i>looks</i> a bit harder, but I don&#39;t think it actually <i>is</i> harder."}, {"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465245146, "post_id": 37666324, "comment_id": 62811052, "body": "Certainly, neither is as easy as the <code>curl</code> command-line version."}, {"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465245268, "post_id": 37666324, "comment_id": 62811106, "body": "As far as I can tell, the only reason you might prefer WWW::Curl is that you&#39;re already familiar with the libcurl API from another language."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1465245432, "post_id": 37666324, "comment_id": 62811192, "body": "It&#39;s much much faster than LWP, and it supports doing requests in parallel. We used Net::Curl at my job for these reasons. It was even faster than LWP when emulating (the parts we needed of) LWP&#39;s interface!"}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": false, "score": 2, "last_activity_date": 1465245191, "last_edit_date": 1465245191, "creation_date": 1465244853, "answer_id": 37666324, "question_id": 37665804, "link": "https://stackoverflow.com/questions/37665804/convert-curl-command-line-to-perl-wwwcurl-or-lwp/37666324#37666324", "title": "convert curl command line to Perl WWW::Curl or LWP", "body": "<p>Well, let's unpack what that curl command actually does, because <code>-F</code> implies a lot.</p>\n\n<ol>\n<li>It sets the HTTP method of the request to POST.</li>\n<li>It sets the Content-Type of the request to multipart/form-data.</li>\n<li>It composes a MIME multipart request body with the form metadata indicating that the \"file\" input is being provided from a file named \"myfile.csv\", as well as a part containing the actual file contents.</li>\n</ol>\n\n<p>Here's how to replicate that using WWW::Curl:</p>\n\n<pre><code>use WWW::Curl::Easy;\nuse WWW::Curl::Form;\n\nmy $curl = WWW::Curl::Easy-&gt;new;\nmy $form = WWW::Curl::Form-&gt;new;\n\n$form-&gt;formaddfile('myfile.csv', 'file', \"multipart/form-data\");\n\n$curl-&gt;setopt(CURLOPT_URL, 'https://myserver/api/import/data_save.html');\n$curl-&gt;setopt(CURLOPT_HTTPPOST, $form);\nmy $response = $curl-&gt;perform;\n</code></pre>\n\n<p>But LWP is probably easier; see ikegami's answer.</p>\n"}], "owner": {"reputation": 3, "user_id": 6432142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b26a0462a9819794eb40be625f0111b?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6432142/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2018, "favorite_count": 0, "closed_date": 1465286669, "accepted_answer_id": 37666272, "answer_count": 2, "score": 0, "last_activity_date": 1465245304, "creation_date": 1465242877, "last_edit_date": 1465243886, "question_id": 37665804, "link": "https://stackoverflow.com/questions/37665804/convert-curl-command-line-to-perl-wwwcurl-or-lwp", "closed_reason": "Needs more focus", "title": "convert curl command line to Perl WWW::Curl or LWP", "body": "<p>I'm trying to replicate the following command line curl:</p>\n\n<pre><code>curl -F file=@myfile.csv 'https://myserver/api/import/data_save.html'\n</code></pre>\n\n<p>Does anyone have an example in either www::curl or lwp perhaps?  I have been trying all day and it's not even worth me posting my tries at this point, it would only confuse things.  Thank you!!!</p>\n"}, {"tags": ["perl", "debugging"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1465243804, "post_id": 37665719, "comment_id": 62810347, "body": "All three work starting with 5.20, and so do <code>${ &quot;main::_&lt;$f&quot; }{3} = {};</code> and <code>${ *{ $main::{ &quot;_&lt;$f&quot; } } }{3} = {};</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1465248296, "post_id": 37665719, "comment_id": 62812546, "body": "Looks like a bug. I can reproduce the issue in 5.16.3, but not in 5.22.1."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 6, "last_activity_date": 1465252083, "last_edit_date": 1592644375, "creation_date": 1465251330, "answer_id": 37667693, "question_id": 37665719, "link": "https://stackoverflow.com/questions/37665719/why-does-this-workaround-for-magic-perl-internal-variable-work/37667693#37667693", "title": "Why does this workaround for magic Perl internal variable work?", "body": "<p>This has been <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=119799\" rel=\"noreferrer\">reported</a> before:</p>\n<blockquote>\n<p>perldebguts says:</p>\n<ul>\n<li>Each hash <code>%{&quot;_&lt;$filename&quot;}</code> contains breakpoints and actions keyed by line number. Individual entries (as opposed to the whole hash) are settable.</li>\n</ul>\n<p>This implies that breakpoints set on <code>%{&quot;_&lt;...&quot;}</code> apply to the named file. That is not actually true, as every <code>%{&quot;_&lt;...&quot;}</code> hash sets breakpoints on lines in <code>@DB::dbline</code>, regardless of which file it refers to. The assumption is that debuggers will alias <code>*DB::dbline</code> to <code>*{&quot;_&lt;...&quot;}</code> before setting any breakpoints.</p>\n<p>Hence, all <code>%{&quot;_&lt;...&quot;}</code> hashes are the same.</p>\n<p>Is this a case where the documentation should be expanded to match the implementation? Or should we change the implementation to make each <code>%{&quot;_&lt;...&quot;}</code> hash work on its corresponding <code>@{&quot;_&lt;...&quot;}</code> array? The latter seems more useful to me.</p>\n</blockquote>\n<p>In 5.20.0, the behavior was <a href=\"http://perldoc.perl.org/perl5200delta.html#Perl-5-Debugger-and--d\" rel=\"noreferrer\">changed</a> so that you don't have to alias <code>@DB::dbline</code>:</p>\n<pre><code>$ PERL5DB='\n  sub DB::DB {\n      ($p,$f,$l) = caller;\n      print &quot;$f:$l\\n&quot;;\n      ${&quot;::_&lt;$f&quot;}{3} = 1; # no need for alias\n      $DB::single = 0\n  }\n' perl -d foo\nfoo:1\nfoo:3\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 1, "accepted_answer_id": 37667693, "answer_count": 1, "score": 4, "last_activity_date": 1465252083, "creation_date": 1465242578, "last_edit_date": 1465248441, "question_id": 37665719, "link": "https://stackoverflow.com/questions/37665719/why-does-this-workaround-for-magic-perl-internal-variable-work", "title": "Why does this workaround for magic Perl internal variable work?", "body": "<h3>t2.pl</h3>\n\n<pre><code>1;\n2;\n3;\n</code></pre>\n\n<h3>t.pl</h3>\n\n<pre><code>package DB;\n\nsub DB {\n    print \"HERE\";\n\n    our(undef, $f, undef) =  caller;\n\n    # This does not work\n    # my $ref =  \\%{ \"main::_&lt;$f\" };\n    # $ref-&gt;{ 3 } =  {};\n\n    # This does not work\n    # *x =  $main::{ \"_&lt;$f\" };\n    # $x{ 3 } =  {};\n\n    *dbline =  $main::{ \"_&lt;$f\" };\n    $dbline{ 3 } =  {};\n\n    $DB::single =  0;\n}\n\n1;\n</code></pre>\n\n\n\n<pre><code>PERL5DB=\"BEGIN{ require 't.pl' }\" perl -d t2.pl\n</code></pre>\n\n<p>When you run this code you get <code>HEREHERE</code>, but the magic Perl variable has no effect when you do not alias it using <code>*dbline</code>.</p>\n\n<p>So when you change first two examples to look like:</p>\n\n<pre><code>*dbline =  $main::{ \"_&lt;$f\" }; # &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; With this it works!!!!\n*x =  $main::{ \"_&lt;$f\" };\n$x{ 3 } =  { };\n</code></pre>\n\n<p>the breakpoint starts to work. (This is applied to Perl 5.14.4)</p>\n\n<p>Why does it work in such way?</p>\n\n<p><a href=\"http://perldoc.perl.org/5.14.2/perldebguts.html#Debugger-Internals\" rel=\"nofollow\">DOC</a></p>\n"}, {"tags": ["sql", "perl", "group-by", "dbix-class"], "comments": [{"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1465403819, "post_id": 37664800, "comment_id": 62890388, "body": "Please also show the ResultClass definition of QueryCommitmentsFinancial. Note that columns is generally recommended instead of seelct + as."}], "owner": {"reputation": 911, "user_id": 211029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/660d3cca0f3de0bf1ee1e8be322a8c27?s=128&d=identicon&r=PG", "display_name": "pcronin", "link": "https://stackoverflow.com/users/211029/pcronin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1465405619, "creation_date": 1465238961, "last_edit_date": 1465405619, "question_id": 37664800, "link": "https://stackoverflow.com/questions/37664800/perl-dbixclass-select-attribute-not-precluding-other-fields", "title": "Perl DBIx::Class: select attribute not precluding other fields", "body": "<p>I'm trying to use a DBIx::Class ResultSet to build:</p>\n\n<pre><code>SELECT commitment_sub_activity_id, SUM(commitment_amount_in_usd)\nFROM query_commitments_financials\nGROUP BY (commitment_sub_activity_id)\n</code></pre>\n\n<p>Here's the Perl code I'm trying to use to do this:</p>\n\n<pre><code>my $sub_activity_commitments = $schema-&gt;resultset('QueryCommitmentsFinancial')-&gt;search(undef,\n{\n    select =&gt; [\n        'commitment_sub_activity_id',\n        { sum =&gt; 'commitment_amount_in_usd' }\n    ],\n    as =&gt; [qw/commitment_sub_activity_id total_commitment_in_usd/],\n    'group_by' =&gt; [qw/commitment_sub_activity_id/],\n});\n</code></pre>\n\n<p>As I understand it, the <code>select</code> attribute should prevent any unlisted fields from appearing in the <code>SELECT</code> statement. However, the SQL statement DBIx::Class creates comes out as:</p>\n\n<pre><code>SELECT\n    me.source_id, me.commitment_id,\n    me.commitment_obligation_id, me.commitment_sub_activity_id,\n    me.commitment_task_code, me.commitment_status,\n    me.commitment_date, me.commitment_currency_id,\n    me.commitment_amount, me.exchange_rate,\n    me.commitment_amount_in_usd, me.commitment_sub_activity_id,\n    SUM( commitment_amount_in_usd )\nFROM query_commitments_financials me\nGROUP BY commitment_sub_activity_id\n</code></pre>\n\n<p>This query causes my RDBMS to throw an error because those unexpected columns would all need to be included in the GROUP BY.</p>\n\n<p>What is the correct way to get the DBIx::Class ResultSet to build this aggregate query?</p>\n\n<p>UPDATE: Providing the ResultClass definition of QueryCommitmentsFinancial as requested. I used DBIx::Class::Schema::Loader to create it, so I removed the POD.</p>\n\n<pre><code>use utf8;\npackage IPMS::Schema::Result::QueryCommitmentsFinancial;\n\nuse strict;\nuse warnings;\n\nuse base 'DBIx::Class::Core';\n\n__PACKAGE__-&gt;load_components(\"InflateColumn::DateTime\");\n__PACKAGE__-&gt;table_class(\"DBIx::Class::ResultSource::View\");\n\n__PACKAGE__-&gt;table(\"query_commitments_financials\");\n\n__PACKAGE__-&gt;add_columns(\n  \"source_id\",\n  { data_type =&gt; \"nvarchar\", is_nullable =&gt; 1, size =&gt; 52 },\n  \"commitment_id\",\n  { data_type =&gt; \"nvarchar\", is_nullable =&gt; 1, size =&gt; 51 },\n  \"commitment_obligation_id\",\n  { data_type =&gt; \"nvarchar\", is_nullable =&gt; 1, size =&gt; 45 },\n  \"commitment_sub_activity_id\",\n  { data_type =&gt; \"integer\", is_nullable =&gt; 0 },\n  \"commitment_task_code\",\n  { data_type =&gt; \"nchar\", is_nullable =&gt; 0, size =&gt; 7 },\n  \"commitment_status\",\n  { data_type =&gt; \"nvarchar\", is_nullable =&gt; 0, size =&gt; 10 },\n  \"commitment_date\",\n  { data_type =&gt; \"datetime\", is_nullable =&gt; 1 },\n  \"commitment_currency_id\",\n  { data_type =&gt; \"integer\", is_nullable =&gt; 0 },\n  \"commitment_amount\",\n  { data_type =&gt; \"money\", is_nullable =&gt; 1 },\n  \"exchange_rate\",\n  { data_type =&gt; \"double precision\", is_nullable =&gt; 1 },\n  \"commitment_amount_in_usd\",\n  { data_type =&gt; \"money\", is_nullable =&gt; 1 },\n);\n\n1;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1465236461, "post_id": 37664038, "comment_id": 62806528, "body": "What are you trying to accomplish with this statement <code>if ( $&amp;&amp; $args-&gt;{port} !~ &#47;20016|20026&#47; ) { }</code>?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 5, "creation_date": 1465236608, "post_id": 37664038, "comment_id": 62806612, "body": "<a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>$&amp;</code></a> is a valid variable in Perl and <a href=\"http://perldoc.perl.org/perlop.html#Bitwise-And\" rel=\"nofollow noreferrer\"><code>&amp;</code></a> is the bitwise-and operator. This statement is probably not doing what you want/expect."}, {"owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1465237539, "post_id": 37664038, "comment_id": 62807100, "body": "The problem is that I just got this program and trying to understand what it does and why it has so many errors."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1465247997, "post_id": 37664038, "comment_id": 62812414, "body": "What do you mean you got this program? From where? (Also, stackoverflow isn&#39;t application support.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465274274, "post_id": 37664038, "comment_id": 62818975, "body": "I think <code>$&amp;&amp; $args-&gt;{port} !~ &#47;20016|20026&#47;</code> used to be <code>$&lt;something&gt; &amp;&amp; $args-&gt;{port} !~ &#47;20016|20026&#47;</code> and something was erased accidentally"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 0, "creation_date": 1465238982, "post_id": 37664548, "comment_id": 62807926, "body": "It seems like $&amp; not need to be used in this line. It doesn&#39;t mean anything because I don&#39;t see any regular expression before it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 1, "creation_date": 1465239203, "post_id": 37664548, "comment_id": 62808059, "body": "@nelli: I agree with you. Even if it was a valid test it would look like <code>if $&amp; &amp;&amp; $args-&gt;{port} !~ &#47;20016|20026&#47;</code>. I think your predecessor was simply inept"}, {"owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 0, "creation_date": 1465240286, "post_id": 37664548, "comment_id": 62808641, "body": "coul,d you please tell me, how to print each of mtghe following variables:                                                                                           $data-&gt;{external_mf}-&gt;{cur_price} = nearest(.000001,  $data-&gt;{external_mf}-&gt;{cur_price} + $data-&gt;{external_mf}-&gt;{daily_div_rate}"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 0, "creation_date": 1465240449, "post_id": 37664548, "comment_id": 62808714, "body": "@nelli: Just <code>print $data-&gt;{external_mf}-&gt;{cur_price}, &quot;\\n&quot;</code> etc."}, {"owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 0, "creation_date": 1465242436, "post_id": 37664548, "comment_id": 62809698, "body": "No, it show me Scalar found where operator expected"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 0, "creation_date": 1465248157, "post_id": 37664548, "comment_id": 62812484, "body": "@nelli Have you missed the comma before the newline? Is there a semicolon missing from the previous line? Have you put a semicolon at the end of this line? Please show exactly what you have written, including the previous statement"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1465239105, "last_edit_date": 1465239105, "creation_date": 1465238112, "answer_id": 37664548, "question_id": 37664038, "link": "https://stackoverflow.com/questions/37664038/strange-error-message-in-my-perl-program/37664548#37664548", "title": "Strange error message in my perl program", "body": "<p>The problem is here</p>\n\n<pre><code>... if ( $&amp;&amp; $args-&gt;{port} !~ /20016|20026/)\n</code></pre>\n\n<p>which parses as</p>\n\n<pre><code>... if $&amp; &amp; $args-&gt;{port} !~ /20016|20026/;\n</code></pre>\n\n<p>It's hard to tell what you meant by this, but <code>$&amp;</code> holds the string last matched by a regex pattern. It is <code>undef</code> here, presumably because you haven't previously used regex patterns in your code</p>\n\n<p>It looks like this may be enough. Note that you must also <em>anchor</em> your regex pattern, otherwise it will match any substring instead of the whole string</p>\n\n<pre><code>$data-&gt;{external_mf}{pre_price} = nearest(0.01, $data-&gt;{external_mf}{pre_price} )\n        unless $args-&gt;{port} =~ /^200[12]6$/\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>It may help to see this code refactored properly. I would write it like this</p>\n\n<pre><code>$data-&gt;{external_mf}{pre_price} = do {\n\n    my $price = MOA::CLSUtils::get_price($data-&gt;{external_mf}{pool_cusip}, $start_date);\n\n    if ( $price ) {\n        my $precision = $args-&gt;{port} =~ /^200[12]6$/) ? 0.000001 : 0.01;\n        $price = nearest($precision, $price);\n    }\n    else {\n        $price = 0;\n    }\n\n    $price;\n};\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1465239105, "creation_date": 1465236258, "last_edit_date": 1465236313, "question_id": 37664038, "link": "https://stackoverflow.com/questions/37664038/strange-error-message-in-my-perl-program", "title": "Strange error message in my perl program", "body": "<p>I have lines in the program:   </p>\n\n<pre><code>  $data-&gt;{external_mf}-&gt;{pre_price} = nearest(.000001, MOA::CLSUtils::get_price( $data-&gt;{external_mf}-&gt;{pool_cusip}  ,$start_date) );     \n  $data-&gt;{external_mf}-&gt;{pre_price} = ( defined ( $data-&gt;{external_mf}-&gt;{pre_price} ) ) ? $data-&gt;{external_mf}-&gt;{pre_price} : 0;     \n  $data-&gt;{external_mf}-&gt;{pre_price} ||=0;    \n  $data-&gt;{external_mf}-&gt;{pre_price} = nearest ( .01, $data-&gt;{external_mf}-&gt;{pre_price} ) if ( $&amp;&amp; $args-&gt;{port} !~ /20016|20026/);  \n</code></pre>\n\n<p>When I run the program, got an error:     </p>\n\n<blockquote>\n  <p>Use of uninitialized value $&amp; in bitwise and (&amp;) at\n  G:\\invacct\\perl\\scripts\\pfi_ general_ledger_check.pl line 286.</p>\n</blockquote>\n\n<p>Line 286 is the last in segment above. Can anybody tell me what should it be?</p>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1465236736, "post_id": 37663788, "comment_id": 62806667, "body": "<code>viacode</code> gets the full list by calling <code>do &quot;unicore&#47;Name.pl&quot;</code>, but that&#39;s a generated file for internal use only...not sure if there&#39;s a public interface to it besides what <code>charnames</code> provides."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465239944, "post_id": 37663788, "comment_id": 62808460, "body": "Do you want just the Unicode aliases of the code point, or all values that can be used in <code>\\N{}</code> to produce that code point?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1484850697, "last_edit_date": 1495540915, "creation_date": 1465242043, "answer_id": 37665588, "question_id": 37663788, "link": "https://stackoverflow.com/questions/37663788/getting-all-unicode-aliases-for-a-codepoint/37665588#37665588", "title": "Getting all Unicode aliases for a codepoint", "body": "<p>To get the Unicode aliases of a code point, you can use the following:</p>\n\n<pre><code>use Unicode::UCD qw( charprop );\n\nmy @aliases =\n   map { s/:.*//sr }\n      split /,/,\n         charprop($ucp, \"Name_Alias\");   # $ucp is the Unicode code point as a number.\n</code></pre>\n\n<p>For example, this returns <code>SP</code> for U+0020 SPACE.</p>\n\n<p>The complete list can be found <a href=\"http://www.unicode.org/Public/UNIDATA/NameAliases.txt\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<hr>\n\n<p>For all the values you can pass to <code>\\N{}</code>, see <a href=\"https://stackoverflow.com/q/41745993/589924\">here</a>.</p>\n"}], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 3, "accepted_answer_id": 37665588, "answer_count": 1, "score": 3, "last_activity_date": 1484850697, "creation_date": 1465235316, "question_id": 37663788, "link": "https://stackoverflow.com/questions/37663788/getting-all-unicode-aliases-for-a-codepoint", "title": "Getting all Unicode aliases for a codepoint", "body": "<p>The <a href=\"https://metacpan.org/pod/charnames\" rel=\"nofollow\"><code>charnames</code></a> pragma provides <code>charnames::viacode</code> which returns the \"best\" name for a given code point</p>\n\n<p>For instance</p>\n\n<pre><code>$ perl -Mcharnames=:full -E'say charnames::viacode(ord \"A\")'\nLATIN CAPITAL LETTER A\n</code></pre>\n\n<p>Is there a convenient way to discover all known aliases for this name from within Perl?</p>\n"}, {"tags": ["arrays", "regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1465235261, "post_id": 37663744, "comment_id": 62805853, "body": "Do you need to handle arrays with more than one element, e.g. <code>A[1, 2]</code>? If so, what would the output be?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465235559, "post_id": 37663744, "comment_id": 62806060, "body": "Regex are not the right tool for this"}, {"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "edited": false, "score": 1, "creation_date": 1465236096, "post_id": 37663744, "comment_id": 62806360, "body": "This question lacks the detail needed to give a good answer. Why isn&#39;t <code>10</code> its own entry?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1465248583, "post_id": 37663744, "comment_id": 62812654, "body": "Please state your question in the title."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467555344, "last_edit_date": 1467555344, "creation_date": 1465237207, "answer_id": 37664276, "question_id": 37663744, "link": "https://stackoverflow.com/questions/37663744/related-to-regular-expressions-in-perl/37664276#37664276", "title": "Related to regular expressions in Perl", "body": "\n\n<p>You can use a regex pattern to parse this string recursively, and call Perl code to save intermediate values</p>\n\n<p>Like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse v5.14;\n\nmy @items;\nmy $i;\n\nmy $re = qr{\n    ([A-Z]\\[)    (?{ $items[$i++] = $^N })\n    (?:\n        (?R)\n        | \n        (\\d+)    (?{ $items[$i-1] .= $^N })\n    )\n    \\]           (?{ $items[--$i] .= ']' })\n}x;\n\nmy $s = 'A[B[C[D[E[F[10]]]]]]';\n\n\nuse Data::Dump;\n\n(@items, $i) = ();\ndd \\@items if 'A[B[C[10]]]' =~  /$re/g;\n\n(@items, $i) = ();\ndd \\@items if 'A[B[C[D[E[F[10]]]]]]' =~  /$re/g;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\"A[]\", \"B[]\", \"C[10]\"]\n[\"A[]\", \"B[]\", \"C[]\", \"D[]\", \"E[]\", \"F[10]\"]\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6431635, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8dec6c6d0b4605f627d5544e1f6cd4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Rajat Gupta", "link": "https://stackoverflow.com/users/6431635/rajat-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1467555344, "creation_date": 1465235112, "last_edit_date": 1465235232, "question_id": 37663744, "link": "https://stackoverflow.com/questions/37663744/related-to-regular-expressions-in-perl", "title": "Related to regular expressions in Perl", "body": "<p>I have a string written in some text file - </p>\n\n<pre><code>A[B[C[10]]]\n</code></pre>\n\n<p>I need to extract the information of arrays used in this string. Example, I have to store the information in an array,</p>\n\n<pre><code>@str = (A[], B[], C[10])\n</code></pre>\n\n<p>I want to accomplish this thing using regex in <strong>Perl</strong>.\nI want solution that works for the every case of <strong>array inside array</strong>, like this</p>\n\n<pre><code>A[B[C[D[E[F[10]]]]]]\n</code></pre>\n\n<p>So, how to create that <code>@str</code> <strong>array</strong>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "edited": false, "score": 0, "creation_date": 1465231070, "post_id": 37662618, "comment_id": 62803622, "body": "That&#39;s a hash, not a list."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1465231202, "post_id": 37662618, "comment_id": 62803695, "body": "I&#39;m having problems understanding what you want."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1465231443, "post_id": 37662677, "comment_id": 62803826, "body": "perl5 doesn&#39;t have the say() function available by default. May want to throw in <code>use feature &#39;say&#39;;</code>, or just use <code>print</code>"}, {"owner": {"reputation": 51, "user_id": 6227274, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1295932613759591/picture?type=large", "display_name": "Cecily", "link": "https://stackoverflow.com/users/6227274/cecily"}, "edited": false, "score": 0, "creation_date": 1465232126, "post_id": 37662677, "comment_id": 62804200, "body": "Thank you, this should get me heading in the correct direction. I&#39;ll keep you updated!"}], "tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": false, "score": 2, "last_activity_date": 1465231156, "creation_date": 1465231156, "answer_id": 37662677, "question_id": 37662618, "link": "https://stackoverflow.com/questions/37662618/how-do-i-loop-over-a-hash-of-hashes-in-perl-and-access-the-data-contained/37662677#37662677", "title": "How do I loop over a hash of hashes in perl and access the data contained?", "body": "<p>Easy enough, try looping over the data structure</p>\n\n<pre><code>while ( my ($k, $data) = each %SERVICES ) {\n  my $service_name = $data-&gt;{description};\n  say $service_name;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": 0, "last_activity_date": 1465240276, "creation_date": 1465240276, "answer_id": 37665135, "question_id": 37662618, "link": "https://stackoverflow.com/questions/37662618/how-do-i-loop-over-a-hash-of-hashes-in-perl-and-access-the-data-contained/37665135#37665135", "title": "How do I loop over a hash of hashes in perl and access the data contained?", "body": "<p>Program:</p>\n\n<pre><code>foreach my $id (keys %SERVICES)\n{\n  my $des = $SERVICES{$id}{'description'};\n  print \"$des\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6227274, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1295932613759591/picture?type=large", "display_name": "Cecily", "link": "https://stackoverflow.com/users/6227274/cecily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1465240276, "creation_date": 1465230942, "last_edit_date": 1465231222, "question_id": 37662618, "link": "https://stackoverflow.com/questions/37662618/how-do-i-loop-over-a-hash-of-hashes-in-perl-and-access-the-data-contained", "title": "How do I loop over a hash of hashes in perl and access the data contained?", "body": "<p>I have a list </p>\n\n<pre><code>my %SERVICES = (\n              name=&gt;\n              {\n                 description =&gt; 'Item 1',\n                 service_codes =&gt; [ 'item1' ],\n              },\n              name2=&gt;\n              {\n                 description =&gt; 'Item 2',\n                 service_codes =&gt; [ 'item2' ],\n              },\n            );\n</code></pre>\n\n<p>what I need to do is reference the description and print it to a variable called $service_name so when referenced the text will read Item 1 or Item 2.</p>\n\n<p>I am VERY new at perl and am trying to learn this on my own the best as I can. Any help would be appreciated, please use small words. :)</p>\n"}, {"tags": ["perl", "reference", "subroutine"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1465224549, "post_id": 37660431, "comment_id": 62799478, "body": "<a href=\"http://metacpan.org/pod/perlobj\" rel=\"nofollow noreferrer\"><code>perldoc perlobj</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1465228753, "last_edit_date": 1465228753, "creation_date": 1465225060, "answer_id": 37660630, "question_id": 37660431, "link": "https://stackoverflow.com/questions/37660431/perl-dereferencing-a-subroutine/37660630#37660630", "title": "Perl dereferencing a subroutine", "body": "<p>That's a <a href=\"https://en.wikipedia.org/wiki/Method_(computer_programming)\" rel=\"nofollow\">method</a> call. <code>$a</code> is the invocant (a class name or an object), <code>mysub</code> is the method name, and <code>$b</code> is an argument. You should proceed to read <a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"nofollow\">perlootut</a> which explains all of this.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1465229708, "post_id": 37661172, "comment_id": 62802829, "body": "The second and third paragraph are completely wrong (and the rest just duplicates perlootut). Objects don&#39;t have to be hashes. The methods are not in the hash; they&#39;re not even associated with the object (like in JS) but with the class. Validation can be done just as easily without OOP. perlootut is a much better reference than perlobj."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1465226673, "creation_date": 1465226673, "answer_id": 37661172, "question_id": 37660431, "link": "https://stackoverflow.com/questions/37660431/perl-dereferencing-a-subroutine/37661172#37661172", "title": "Perl dereferencing a subroutine", "body": "<p>What you have encountered is object oriented perl. </p>\n\n<p>it's documented in <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow\"><code>perlobj</code></a>. The principle is fairly simple though - an object is a sort of super-hash, which <em>as well</em> as data, also includes built in code. </p>\n\n<p>The advantage of this, is that your data structure 'knows what to do' with it's contents. At a basic level, that's just validate data - so you can make a hash that rejects \"incorrect\" input.</p>\n\n<p>But it allows you to do considerably more complicated things. The real point of it is encapsulation, such that I can write a module, and you can make use of it without really having to care what's going on inside it - only the mechanisms for driving it. </p>\n\n<p>So a really basic example might look like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\npackage MyObject;\n\n#define new object\nsub new {\n   my ($class) = @_;\n   my $self = {};\n   $self-&gt;{count} = 0;\n   bless( $self, $class );\n   return $self;\n}\n#method within the object\nsub mysub {\n   my ( $self, $new_count ) = @_;\n   $self-&gt;{count} += $new_count;\n   print \"Internal counter: \", $self-&gt;{count}, \"\\n\";\n}\n\npackage main;\n#create a new instance of `MyObject`. \nmy $obj = MyObject-&gt;new();\n#call the method, \n$obj-&gt;mysub(10);\n$obj-&gt;mysub(10);\n</code></pre>\n\n<p>We define \"class\" which is a description of how the object 'works'. In this, class, we set up a subroutine called <code>mysub</code> - but because it's a class, we refer to it as a \"method\" - that is, a subroutine that is <em>specifically</em> tied to an object. </p>\n\n<p>We create a new instance of the object (basically the same as <code>my %newhash</code>) and then call the methods within it. If you create multiple objects, they each hold their own internal state, just the same as it would if you created separate hashes.  </p>\n\n<p>Also:  Don't use <code>$a</code> and <code>$b</code> as variable names. It's dirty. Both because single var names are wrong, but also because these two <em>in particular</em> are used for <code>sort</code>. </p>\n"}], "owner": {"reputation": 1, "user_id": 6414937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2020e1503089a0cf5621770f24b8ca8f?s=128&d=identicon&r=PG&f=1", "display_name": "Drew Kelson", "link": "https://stackoverflow.com/users/6414937/drew-kelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 37660630, "answer_count": 2, "score": 0, "last_activity_date": 1465228753, "creation_date": 1465224489, "last_edit_date": 1465224907, "question_id": 37660431, "link": "https://stackoverflow.com/questions/37660431/perl-dereferencing-a-subroutine", "title": "Perl dereferencing a subroutine", "body": "<p>I have come across code with the following syntax:</p>\n\n<pre><code>$a -&gt; mysub($b);\n</code></pre>\n\n<p>And after looking into it I am still struggling to figure out what it means. Any help would be greatly appreciated, thanks! </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 0, "creation_date": 1465226839, "post_id": 37660613, "comment_id": 62801049, "body": "The same result. The program dies"}, {"owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 0, "creation_date": 1465227497, "post_id": 37660613, "comment_id": 62801489, "body": "program name and arguments"}], "tags": [], "owner": {"reputation": 82, "user_id": 2920468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI2cO.jpg?s=128&g=1", "display_name": "crustycollins", "link": "https://stackoverflow.com/users/2920468/crustycollins"}, "is_accepted": false, "score": -2, "last_activity_date": 1465225005, "creation_date": 1465225005, "answer_id": 37660613, "question_id": 37660280, "link": "https://stackoverflow.com/questions/37660280/how-to-set-up-log-file-for-windows-perl-program/37660613#37660613", "title": "How to set up log file for Windows perl program", "body": "<p>Change \nsystem($cmd) > \\path_to\\logdir\\file.log\nto \nsystem($cmd > \\path_to\\logdir\\file.log )</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 0, "creation_date": 1465228225, "post_id": 37661538, "comment_id": 62801930, "body": "inside $cmd is execution file cmd.exe. Now I got a message   &quot; Can&#39;t spawn &quot;cmd.exe&quot;: No such file or directory at G:\\INVACCT\\Perl\\scripts\\pfi_menu.pl line 295, &lt;STDIN&gt; line 12."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465228294, "post_id": 37661538, "comment_id": 62801971, "body": "I suggest escaping the backslashes and using proper Perl syntax to concatenate strings. <b>Either</b> <code>system($cmd . &quot;&gt; \\\\path_to\\\\logdir\\\\file.log&quot;)</code> <b>or</b> <code>system(&quot;$cmd &gt; \\\\path_to\\\\logdir\\\\file.log&quot;)</code>."}, {"owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "edited": false, "score": 0, "creation_date": 1465228405, "post_id": 37661538, "comment_id": 62802032, "body": "system(&quot;$cmd &gt; \\path_to\\logdir\\file.log&quot; ). This ways it is working"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1465228427, "post_id": 37661538, "comment_id": 62802049, "body": "Please fix your first answer (by <a href=\"http://stackoverflow.com/posts/37660613/edit\">editing</a> it) instead of posting a second answer."}], "tags": [], "owner": {"reputation": 82, "user_id": 2920468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI2cO.jpg?s=128&g=1", "display_name": "crustycollins", "link": "https://stackoverflow.com/users/2920468/crustycollins"}, "is_accepted": false, "score": -2, "last_activity_date": 1465227677, "creation_date": 1465227677, "answer_id": 37661538, "question_id": 37660280, "link": "https://stackoverflow.com/questions/37660280/how-to-set-up-log-file-for-windows-perl-program/37661538#37661538", "title": "How to set up log file for Windows perl program", "body": "<p>oops.  <br>\nChange <br></p>\n\n<pre><code>system($cmd &gt; \\path_to\\logdir\\file.log )\n</code></pre>\n\n<p><br>\nto<br></p>\n\n<pre><code>system($cmd \"&gt; \\path_to\\logdir\\file.log\" )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 0, "last_activity_date": 1465412366, "last_edit_date": 1495540352, "creation_date": 1465231786, "answer_id": 37662863, "question_id": 37660280, "link": "https://stackoverflow.com/questions/37660280/how-to-set-up-log-file-for-windows-perl-program/37662863#37662863", "title": "How to set up log file for Windows perl program", "body": "<p>There are some issues in your script:</p>\n\n<ul>\n<li><p>If you had added </p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>to your script it would have shown you the following errors with your first attempt:</p>\n\n<pre><code>Useless use of numeric gt (&gt;) in void context at ./foo line 9.\nBareword \"logfile\" not allowed while \"strict subs\" in use at ./foo line 9.\nBareword \"txt\" not allowed while \"strict subs\" in use at ./foo line 9.\nExecution of ./foo aborted due to compilation errors.\n</code></pre></li>\n<li>You need to join the <code>$cmd</code> and the logfile's name into one string and give that string as a parameter to <code>system()</code>.</li>\n<li>You need to escape the backslashes because e.g. <code>\\f</code> means <em>form feed</em> and <code>\\l</code> means <em>lowercase next character</em>.</li>\n<li>When you want to redirect error messages, you usually want to redirect STDOUT <strong>and</strong> STDERR to a file.</li>\n</ul>\n\n<p>To summarize:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $logfile = \"\\\\path_to\\\\logdir\\\\file.log\";\nmy $rc = system(\"$cmd &gt; $logfile 2&gt;&amp;1\");\nif (!$rc) {\n    warn \"something went wrong\\n\";\n}\n</code></pre>\n\n<p>This redirects both STDOUT and STDERR to the same file.</p>\n\n<hr>\n\n<p>My answer refers to <a href=\"https://stackoverflow.com/revisions/37660280/1\">this revision</a> of the question. Meanwhile someone edited the Q, added double backslashes <code>\\\\</code>, and thus invalidated the 3rd bullet above.</p>\n"}], "owner": {"reputation": 1, "user_id": 6420327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a680801289bf8a52f41e3b32b24a205?s=128&d=identicon&r=PG&f=1", "display_name": "nelli", "link": "https://stackoverflow.com/users/6420327/nelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 436, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1465598737, "creation_date": 1465224027, "last_edit_date": 1465598737, "question_id": 37660280, "link": "https://stackoverflow.com/questions/37660280/how-to-set-up-log-file-for-windows-perl-program", "title": "How to set up log file for Windows perl program", "body": "<p>I have huge Perl program on Windows 7. When I make : </p>\n\n<pre><code>system($cmd) &gt; \\\\path_to\\\\logdir\\\\file.log    \n</code></pre>\n\n<p>The programs dies without any messages.</p>\n\n<p>How can I correctly set up log file?    </p>\n\n<p>Otherwise I am losing a lot of information with errors</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1465223429, "post_id": 37660027, "comment_id": 62798734, "body": "I think that <code>(! l $filename)</code> should be <code>(! -l $filename)</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1465224396, "post_id": 37660027, "comment_id": 62799378, "body": "Related: <a href=\"http://www.perlmonks.org/?node_id=1059303\" rel=\"nofollow noreferrer\">Should -f test return true for symlinks?</a> on PerlMonks"}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1465224550, "post_id": 37660394, "comment_id": 62799480, "body": "<code>-f and not -l _</code> might be faster to prevent another <code>stat</code> call."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1465224382, "creation_date": 1465224382, "answer_id": 37660394, "question_id": 37660027, "link": "https://stackoverflow.com/questions/37660027/filefind-in-perl-looking-for-files-only/37660394#37660394", "title": "File::Find in Perl - Looking for files only", "body": "<p><code>-f</code> is testing for file, and that <em>includes</em> symlinks. So yes, you do have to test both.</p>\n\n<p>One slightly useful thing, is that you can probably just do:</p>\n\n<pre><code>if ( -f and not -l ) { \n</code></pre>\n\n<p>because <code>File::Find</code> sets <code>$_</code> to the current file, and the <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">file test</a>s default to using that too. (won't work if you turn on <code>no_chdir</code> though). </p>\n\n<p>You may also want to consider <a href=\"http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow\"><code>File::Find::Rule</code></a> as an alternative to <code>File::Find</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1465231420, "last_edit_date": 1465231420, "creation_date": 1465230853, "answer_id": 37662585, "question_id": 37660027, "link": "https://stackoverflow.com/questions/37660027/filefind-in-perl-looking-for-files-only/37662585#37662585", "title": "File::Find in Perl - Looking for files only", "body": "<p><a href=\"http://perldoc.perl.org/functions/stat.html\" rel=\"nofollow\"><code>stat</code></a> and <a href=\"http://perldoc.perl.org/functions/lstat.html\" rel=\"nofollow\"><code>lstat</code></a> are identical except when it comes to symlinks. The former collects information about the linked file, whereas the latter collects information about the link itself.</p>\n\n<p>The <code>-X EXPR</code> uses <code>stat</code>. <code>lstat</code> is needed here.</p>\n\n<pre><code>sub Search {\n    my $filename = $File::Find::name;\n\n    if (!lstat($filename)) {\n        warn(\"Can't stat $filename: $!\\n\");\n        return;\n    }\n\n    say $filename if -f _;\n}\n</code></pre>\n\n<p>Bonus: Error checking becomes much simpler when you pre-call <code>stat</code> or <code>lstat</code>.</p>\n"}], "owner": {"reputation": 269, "user_id": 6239384, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/491422b5d64a8d352c3babc8d2771d6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlexPham", "link": "https://stackoverflow.com/users/6239384/alexpham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465231420, "creation_date": 1465223279, "last_edit_date": 1465230566, "question_id": 37660027, "link": "https://stackoverflow.com/questions/37660027/filefind-in-perl-looking-for-files-only", "title": "File::Find in Perl - Looking for files only", "body": "<p>I have a script like this to list every FILES inside my root path</p>\n\n<pre><code>use strict;\nuse File::Find qw(find);\nmy $path = \"&lt;my root path&gt;\";\n\nfind(\\&amp;Search, $path);\n\nsub Search{\n    my $filename = $File::Find::name;\n    if(-f $filename){\n        print $filename.\"\\n\";\n    }   \n}\n</code></pre>\n\n<p>My point is to try to list all the FILES. However, it also listed the symlink inside my $root. I modify my Search function like this and it worked:</p>\n\n<pre><code>sub Search{\n    my $filename = $File::Find::name;\n    #Check if $filename is not symlink first\n    if(!-l $filename){\n        if(-f $filename){\n            print $filename.\"\\n\";\n        }  \n    }   \n}\n</code></pre>\n\n<p>But it seem awkward right ? Why do we need two if condition just to verify $filename is the real file and not a symlink !!!</p>\n\n<p>Is there anyone can suggest a better, more decent solution for this ?</p>\n\n<p>Thank you and best regards.</p>\n\n<p>Alex </p>\n"}, {"tags": ["perl", "git-bash", "shebang"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1465219497, "post_id": 37658626, "comment_id": 62795915, "body": "What does the <b><i><code>bush</code></i></b> GIT command do?"}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1465224071, "post_id": 37658626, "comment_id": 62799153, "body": "What does this have to do with Git?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1465452038, "post_id": 37658626, "comment_id": 62908671, "body": "What does <code>type -a perl</code> say?"}, {"owner": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 0, "creation_date": 1465452142, "post_id": 37658626, "comment_id": 62908720, "body": "$ type -a perl perl is /c/strawberry/perl/bin/perl perl is /c/usr/bin/perl"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1465452345, "post_id": 37658626, "comment_id": 62908802, "body": "Then you probably need to put one of those in your <code>#!</code> line."}, {"owner": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 0, "creation_date": 1465456551, "post_id": 37658626, "comment_id": 62910906, "body": "With <code>#!&#47;c&#47;usr&#47;bin&#47;perl</code> same problem, with <code>#!&#47;c&#47;strawberry&#47;perl&#47;bin&#47;perl</code> syntax problem. So it isn&#39;t the solution."}], "answers": [{"comments": [{"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "reply_to_user": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 3, "creation_date": 1465223942, "post_id": 37658996, "comment_id": 62799060, "body": "@PiotrBielski, <code>#!&#47;bin&#47;bash</code> executes the script as a bash script. Please modify it as suggested and try"}, {"owner": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 0, "creation_date": 1465224317, "post_id": 37658996, "comment_id": 62799327, "body": "When I used #!/usr/bin/env perl is &quot;No such file or directory&quot; when I changed to #!/usr/bin/ perl is bad interpreter.   #!/usr/bin/perl =&gt; Command not found"}, {"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "reply_to_user": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 0, "creation_date": 1465224918, "post_id": 37658996, "comment_id": 62799708, "body": "@PiotrBielski, do <code>echo $PATH</code> in git-bash and post the result"}, {"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "reply_to_user": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 0, "creation_date": 1465453604, "post_id": 37658996, "comment_id": 62909369, "body": "@PiotrBielski Like melpomene suggested put one of <code>#!&#47;c&#47;strawberry&#47;perl&#47;bin&#47;perl</code> or <code>#!&#47;c&#47;usr&#47;bin&#47;perl</code> in the first line and try."}, {"owner": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 0, "creation_date": 1465455835, "post_id": 37658996, "comment_id": 62910523, "body": "With <code>#!&#47;c&#47;usr&#47;bin&#47;perl</code> same problem, with #!/c/strawberry/perl/bin/perl&#39; syntax problem. So it isnt the solution."}, {"owner": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 0, "creation_date": 1465457373, "post_id": 37658996, "comment_id": 62911388, "body": "Changes encoding from UTF-8 to UTF-8 without BOM."}], "tags": [], "owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "is_accepted": true, "score": 2, "last_activity_date": 1465220608, "last_edit_date": 1465220608, "creation_date": 1465220323, "answer_id": 37658996, "question_id": 37658626, "link": "https://stackoverflow.com/questions/37658626/running-perl-executables-in-git-bash/37658996#37658996", "title": "Running Perl executables in git-bash", "body": "<p>You need to use a <a href=\"https://en.wikipedia.org/wiki/Shebang_(Unix)\" rel=\"nofollow\">shebang</a>.</p>\n\n<p>Add this as the first line of the script: </p>\n\n<p><code>#!/usr/bin/env perl</code></p>\n\n<p>This conveys that the script should be run using Perl interpreter.</p>\n\n<p>If you are running the script on windows shebang is not parsed. The file extension(.pl) is used to decide the interpreter. In a <code>bash</code> shell shebang is necessary.</p>\n"}], "owner": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4178, "favorite_count": 0, "accepted_answer_id": 37658996, "answer_count": 1, "score": 3, "last_activity_date": 1465450589, "creation_date": 1465219290, "last_edit_date": 1465450589, "question_id": 37658626, "link": "https://stackoverflow.com/questions/37658626/running-perl-executables-in-git-bash", "title": "Running Perl executables in git-bash", "body": "<p>I tried to run script in git bash command line and I saw:\n<code>\"use: command not found\"</code>\nWhen I changed sh file from \n<code>'./clean_translations.pl'</code> to '<code>perl ./clean_translations.pl'</code>\nAfter that script works. </p>\n\n<p>I have win 8.1. Path is as in other PC (win 7).\nWhat should I change to works without 'perl'?</p>\n\n<p>Edit: echo $PATH:</p>\n\n<pre><code>/c/Users/PBI/bin:/mingw64/bin:/usr/local/bin:/usr/bin:/bin:/mingw64/bin:/usr/bin:/c/Users/PBI/bin:/c/usr/bin:/c/strawberry/c/bin:/c/strawberry/perl/bin:/c/straw\nberry/perl/site/bin:/c/strawberry/c/lib:/c/strawberry/perl/site/lib:/c/strawberr\ny/perl/lib:/c/Program Files (x86)/ActiveState Komodo IDE 8:/c/instantclient_12_1\n:/c/Program Files/Java/jdk1.8.0_91/bin:/c/Program Files/Java/jre1.8.0_91/bin:/c/\nProgram Files (x86)/Intel/iCLS Client:/c/Program Files/Intel/iCLS Client:/c/Wind\nows/system32:/cmd:/c/Windows:/c/Windows/System32/Wbem:/c/Windows/System32/Window\nsPowerShell/v1.0:/c/Program Files/Intel/Intel(R) Management Engine Components/DA\nL:/c/Program Files (x86)/Intel/Intel(R) Management Engine Components/DAL:/c/Prog\nram Files/Intel/Intel(R) Management Engine Components/IPT:/c/Program Files (x86)\n/Intel/Intel(R) Management Engine Components/IPT:/c/Program Files (x86)/ATI Tech\nnologies/ATI.ACE/Core-Static:/c/Program Files (x86)/GitExtensions:/bin:/mingw64/\nbin:/usr/bin/vendor_perl:/usr/bin/core_perl\n</code></pre>\n"}, {"tags": ["perl", "context-free-language"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1465218243, "post_id": 37657245, "comment_id": 62795107, "body": "Is the contextfree language fixed or are you reading a specification as input to your program? What does the specification look like, a contex-free grammar?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 3, "creation_date": 1465218727, "post_id": 37657245, "comment_id": 62795419, "body": "<a href=\"http://cs.stackexchange.com/questions/4839/which-languages-do-perl-compatible-regular-expressions-recognize\">Perl regular expressions can describe arbitrary context-free languages</a>, so yes, this can be done with them."}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1465219813, "post_id": 37657245, "comment_id": 62796135, "body": "@reinierpost : For the Beginning I want to use a set of fixed languages but I&#39;m heading to use a variable set of languages specified in the command line as an argument. I will read the article you linked! Sounds good!"}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1465223234, "post_id": 37657245, "comment_id": 62798590, "body": "@reinierpost Thanks for your answer, it took me a great step further! Now I&#39;m able to process a CFG. I&#39;ll try around with it to check if it holds on every desired grammar. The upcoming question now is, how I can produce the grammar from a given language. (or if I have to within my case. I&#39;ll try around)"}, {"owner": {"reputation": 1104, "user_id": 6034255, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CLcY7.jpg?s=128&g=1", "display_name": "Peter Leupold", "link": "https://stackoverflow.com/users/6034255/peter-leupold"}, "edited": false, "score": 0, "creation_date": 1465282334, "post_id": 37657245, "comment_id": 62822295, "body": "In the Iast sentence you probably mean &quot;parse&quot;, not &quot;pass&quot;. There is no general way to get a grammar from a language. First of all, it depends on the form in which your language is given. If you have a PDA, then there are conversion algorithms. For a set description like the one in your question, there is no general conversion algorithm."}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "reply_to_user": {"reputation": 1104, "user_id": 6034255, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CLcY7.jpg?s=128&g=1", "display_name": "Peter Leupold", "link": "https://stackoverflow.com/users/6034255/peter-leupold"}, "edited": false, "score": 0, "creation_date": 1465284074, "post_id": 37657245, "comment_id": 62823398, "body": "I actually did ment &quot;pass&quot; but in the sense of passing the grammar to a function which parses it. Hm ... I&#39;m actually stuck at the point you mentioned. Like I said, I&#39;m able to process a CFG given in Greibach NF to produce random words out of its production. But there&#39;s no general form for the language-Definitions. Maybe I have to admit that my approach isn&#39;t a possible way for this problem. Thanks for your feedback! @Peter Leupold"}, {"owner": {"reputation": 1104, "user_id": 6034255, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CLcY7.jpg?s=128&g=1", "display_name": "Peter Leupold", "link": "https://stackoverflow.com/users/6034255/peter-leupold"}, "edited": false, "score": 0, "creation_date": 1465286037, "post_id": 37657245, "comment_id": 62824584, "body": "So in what form are your languages given? And how do you know they really are context-free? In the set specification you can also describe non-context-free languages like a^n b^n c^n. For context-free languages there are not so many common descriptions besides grammars, PDAs, maybe tree automata."}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "edited": false, "score": 0, "creation_date": 1465287209, "post_id": 37657245, "comment_id": 62825300, "body": "Well the check if the given language is a CFL happens manually atm. So my script won&#39;t get started, if there&#39;s no proof for the certain language to be a CFL. For now they&#39;re described like above and yes, it&#39;s possible to descripte even context-sensitive-languages. Actually I thought of asking step by step for the PDA-transitions. Unfortunately this would take some time for bigger machines. But maybe I could speed it up by reading them from a file or sth. I think this could be a way. Again, a big thanks!!"}], "owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1465215791, "creation_date": 1465215420, "last_edit_date": 1465215791, "question_id": 37657245, "link": "https://stackoverflow.com/questions/37657245/check-if-word-is-part-of-contextfree-language", "title": "Check if word is part of contextfree language", "body": "<p>Good evening to all!\nAs a fan of regular expressions in Perl, I came up with a question, which I could not answer by googling and searching for myself.</p>\n\n<p>So let me give you a minimal example of my problem:</p>\n\n<p>I have two text-files:</p>\n\n<p>FileA.txt:</p>\n\n<pre><code>aaabbb\n</code></pre>\n\n<p>FileB.txt:</p>\n\n<pre><code>abbb\n</code></pre>\n\n<p>I want to check each file-content if it is a word, generated by a specific contextfree language. For example in this case:\n<strong>L={a^nb^n | n > 0}</strong>.</p>\n\n<p>Now I have the problem, that the regex from Perl won't work, since it isn't a regular language.\nFor sure I could script a little PDA and check if it terminates.</p>\n\n<p>But is there another way in Perl to solve this problem? Maybe a way to pass a context-free-grammar or sth.?</p>\n"}, {"tags": ["perl", "character-encoding", "zip"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6426546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GC8kACYcNd4/AAAAAAAAAAI/AAAAAAAAAFQ/dz5Wlxc5Gvs/photo.jpg?sz=128", "display_name": "random access", "link": "https://stackoverflow.com/users/6426546/random-access"}, "edited": false, "score": 0, "creation_date": 1465258263, "post_id": 37655639, "comment_id": 62815350, "body": "Thanks, I&#39;ve given that a go in the past and it half works. It extracts the file, but throws an error and crashes. I&#39;m not sure if that&#39;s to do with the reported bugs or my code."}], "tags": [], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "is_accepted": false, "score": 4, "last_activity_date": 1465210690, "creation_date": 1465210690, "answer_id": 37655639, "question_id": 37655394, "link": "https://stackoverflow.com/questions/37655394/change-the-character-set-of-a-file-when-extracting-a-zip/37655639#37655639", "title": "Change the character set of a file when extracting a zip", "body": "<p>From cpan.org</p>\n\n<pre><code>$Archive::Zip::UNICODE\n</code></pre>\n\n<p>This variable governs how Unicode file and directory names are added to or extracted from an archive. If set, file and directory names are considered to be UTF-8 encoded. This is EXPERIMENTAL AND BUGGY (there are some edge cases on Win32). Please report problems.</p>\n\n<pre><code>    {\n        local $Archive::Zip::UNICODE = 1;\n        $zip-&gt;addFile('D\u00e9j\u00e0 vu.txt');\n    }\n</code></pre>\n\n<p>link:<a href=\"http://search.cpan.org/~phred/Archive-Zip-1.57/lib/Archive/Zip.pm\" rel=\"nofollow\">cpan</a></p>\n"}], "owner": {"reputation": 21, "user_id": 6426546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GC8kACYcNd4/AAAAAAAAAAI/AAAAAAAAAFQ/dz5Wlxc5Gvs/photo.jpg?sz=128", "display_name": "random access", "link": "https://stackoverflow.com/users/6426546/random-access"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1465210690, "creation_date": 1465209895, "question_id": 37655394, "link": "https://stackoverflow.com/questions/37655394/change-the-character-set-of-a-file-when-extracting-a-zip", "title": "Change the character set of a file when extracting a zip", "body": "<p>I have a zip file that I'm trying to decompress; there's a file inside it\nthat has an encoded (I think UTF8?) filename and instead of \"\u00edmynd.dd\" it's changing the name to \"\u00c3\u00admynd.dd\"</p>\n\n<p>this is my code:</p>\n\n<pre><code>use Archive::Zip qw( :ERROR_CODES );\nmy $testsArchive = \"master.zip\";\nmy $testsDirectory = \"master/\";\nmy $zip = Archive::Zip-&gt;new();\ndie 'read error' unless ( $zip-&gt;read( $testsArchive ) == AZ_OK );\n$zip-&gt;extractTree( '', $testsDirectory );\n</code></pre>\n\n<p>You can download the zip file from here:\n<a href=\"https://github.com/log2timeline/dfvfs/archive/master.zip\" rel=\"nofollow\">https://github.com/log2timeline/dfvfs/archive/master.zip</a></p>\n\n<p>I'm using version 1.57 of the library, on win7, perl 5.22.1.\nIf I run the same code on OS X it works file, so it has something to do with the charset encoding on Windows, but I'm at a loss how to fix it.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "docker", "dbi", "alpine"], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 2, "last_activity_date": 1465491145, "creation_date": 1465491145, "answer_id": 37731958, "question_id": 37654790, "link": "https://stackoverflow.com/questions/37654790/running-mkbootstrap-for-dbi-dbixs-h2220-fatal-error-extern-h-no-such/37731958#37731958", "title": "Running Mkbootstrap for DBI () =&gt; DBIXS.h:22:20: fatal error: EXTERN.h: No such file or directory", "body": "<p>You need the libperl headers to be able to build certain modules, including DBI. On Alpine it looks like they are provided by the package <code>perl-dev</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 3537077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e2e12ad483d4230a5eef3733880862?s=128&d=identicon&r=PG&f=1", "display_name": "kklepper", "link": "https://stackoverflow.com/users/3537077/kklepper"}, "is_accepted": false, "score": 1, "last_activity_date": 1465557072, "last_edit_date": 1465557072, "creation_date": 1465508064, "answer_id": 37736580, "question_id": 37654790, "link": "https://stackoverflow.com/questions/37654790/running-mkbootstrap-for-dbi-dbixs-h2220-fatal-error-extern-h-no-such/37736580#37736580", "title": "Running Mkbootstrap for DBI () =&gt; DBIXS.h:22:20: fatal error: EXTERN.h: No such file or directory", "body": "<p>From <a href=\"http://www.perlmonks.org/bare/?node_id=486526\" rel=\"nofollow\">http://www.perlmonks.org/bare/?node_id=486526</a></p>\n\n<blockquote>\n  <p>EXTERN.h is part of the perl C API which is needed for embedding the interpreter and building XS modules. The official perl distribution contains all these files, but many linux distributions don't bundle it as part of the base perl package (some even leave out a lot of core modules). There should be one or more additional packages for your distribution that supply the C API files. They're usually called \"perl-<em>dev</em>\" or something like it. (From googling, it looks like the mandrage package is \"perl-devel-5.*.rpm\") </p>\n</blockquote>\n\n<p>So the solution looked like to add perl-dev to the apk add command, but this was not enough:</p>\n\n<pre><code>In file included from DBIXS.h:23:0,\n                 from Perl.xs:7:\n/usr/lib/perl5/core_perl/CORE/perl.h:699:23: fatal error: sys/types.h: No such file or directory\ncompilation terminated.\nMakefile:628: recipe for target 'Perl.o' failed\n</code></pre>\n\n<p>Ok, some more googling resulted in addin musl-dev as well. Now that works:</p>\n\n<pre><code>FROM alpine\n\nENV MHA_NODE_VERSION=0.54 \\\n    MHA_MANAGER_VERSION=0.55\n\nCOPY ./mha/* /tmp/\n# mha4mysql-manager-0.55.tar.gz\n# mha4mysql-node-0.54.tar.gz\n\nRUN apk add --update perl perl-dev musl-dev make gcc \\\n  &amp;&amp; perl -MCPAN -e 'install DBD::mysql' \\\n  &amp;&amp; perl -MCPAN -e \"install Config::Tiny\" \\\n  &amp;&amp; perl -MCPAN -e \"install Log::Dispatch\" \\\n  &amp;&amp; perl -MCPAN -e \"install Parallel::ForkManager\" \\\n  &amp;&amp; cd /tmp \\\n  &amp;&amp; tar -zxf mha4mysql-node-${MHA_NODE_VERSION}.tar.gz \\\n  &amp;&amp; cd mha4mysql-node-${MHA_NODE_VERSION}/ \\\n  &amp;&amp; perl Makefile.PL \\\n  &amp;&amp; make \\\n  &amp;&amp; make install \\\n  &amp;&amp; cd /tmp \\\n  &amp;&amp; tar -zxf mha4mysql-manager-${MHA_MANAGER_VERSION}.tar.gz \\\n  &amp;&amp; cd mha4mysql-manager-${MHA_MANAGER_VERSION}/ \\\n  &amp;&amp; perl Makefile.PL \\\n  &amp;&amp; make \\\n  &amp;&amp; make install \\\n  &amp;&amp; apk del make gcc musl-dev perl-dev \\\n  &amp;&amp; rm -rf /var/cache/apk/*\n\nENTRYPOINT [\"/usr/bin/perl\", \"-de0\"]\n</code></pre>\n"}], "owner": {"reputation": 379, "user_id": 3537077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e2e12ad483d4230a5eef3733880862?s=128&d=identicon&r=PG&f=1", "display_name": "kklepper", "link": "https://stackoverflow.com/users/3537077/kklepper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1896, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1465557072, "creation_date": 1465207931, "last_edit_date": 1465490885, "question_id": 37654790, "link": "https://stackoverflow.com/questions/37654790/running-mkbootstrap-for-dbi-dbixs-h2220-fatal-error-extern-h-no-such", "title": "Running Mkbootstrap for DBI () =&gt; DBIXS.h:22:20: fatal error: EXTERN.h: No such file or directory", "body": "<p>I try to install MHA node on a docker container based on Alpine. The container has perl, make and gcc via apk. :</p>\n\n<pre><code>RUN apk add --update perl make gcc \n</code></pre>\n\n<p>A prerequisite for MHA node is DBD::mysql. The command</p>\n\n<pre><code>perl -MCPAN -e 'install DBD::mysql'\n</code></pre>\n\n<p>results in the above given error. Google does know nothing about it.</p>\n\n<p>The following commands, needed for MHA manager, do run fine, however:</p>\n\n<pre><code>perl -MCPAN -e \"install Config::Tiny\"\nperl -MCPAN -e \"install Log::Dispatch\"\nperl -MCPAN -e \"install Parallel::ForkManager\"\n</code></pre>\n\n<p>The problem obviously is related to DBI:</p>\n\n<pre><code>Running Mkbootstrap for DBI ()\nchmod 644 \"DBI.bs\"\n\"/usr/bin/perl\" -p -e \"s/~DRIVER~/Perl/g\" ./Driver.xst &gt; Perl.xsi\n\"/usr/bin/perl\" \"/usr/share/perl5/core_perl/ExtUtils/xsubpp\"  -typemap \"/usr/share/perl5/core_perl/ExtUtils/typemap\" -typemap \"typemap\"  Perl.xs &gt; Perl.xsc &amp;&amp; mv Perl.xsc Perl.c\ncc -c   -D_REENTRANT -D_GNU_SOURCE -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -Os -fomit-frame-pointer   -DVERSION=\\\"1.636\\\" -DXS_VERSION=\\\"1.636\\\" -fPIC \"-I/usr/lib/perl5/core_perl/CORE\"  -W -Wall -Wpointer-arith -Wbad-function-cast -Wno-comment -Wno-sign-compare -Wno-cast-qual -Wmissing-noreturn -Wno-unused-parameter Perl.c\nIn file included from Perl.xs:7:0:\nDBIXS.h:22:20: fatal error: EXTERN.h: No such file or directory\ncompilation terminated.\nMakefile:625: recipe for target 'Perl.o' failed\nmake: *** [Perl.o] Error 1\n  TIMB/DBI-1.636.tar.gz\n  /usr/bin/make -- NOT OK\n</code></pre>\n\n<p>What can I do to resolve it?</p>\n\n<p>Works with Ubuntu 14.04 after install make gcc</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1465205854, "post_id": 37653959, "comment_id": 62787425, "body": "Wow, is that like a real <code>goto</code>? I haven&#39;t seen those in AGES!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1465206270, "post_id": 37653959, "comment_id": 62787657, "body": "Not only the <code>goto</code>. The <code>if($filename = $filename_check)</code> is always true, because it&#39;s an assignment. This is effectively an endless loop."}, {"owner": {"reputation": 37, "user_id": 5554966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tKzCySChBVA/AAAAAAAAAAI/AAAAAAAARO4/jJUS5yQPXSc/photo.jpg?sz=128", "display_name": "Mrmisi", "link": "https://stackoverflow.com/users/5554966/mrmisi"}, "edited": false, "score": 0, "creation_date": 1465207199, "post_id": 37653959, "comment_id": 62788221, "body": "so the correct way is  if($filename eq $filename_check) ? What&#39;s the alternatives to goto?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1465208200, "post_id": 37653959, "comment_id": 62788839, "body": "<code>==</code> is numeric comparison. <code>eq</code> is string comparison. <code>=</code> is assignment, and is always &quot;true&quot; if tested conditionally."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1465208236, "post_id": 37653959, "comment_id": 62788862, "body": "Instead of <code>goto</code> the convention is conditional code blocks. Either inline, or subroutine."}, {"owner": {"reputation": 37, "user_id": 5554966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tKzCySChBVA/AAAAAAAAAAI/AAAAAAAARO4/jJUS5yQPXSc/photo.jpg?sz=128", "display_name": "Mrmisi", "link": "https://stackoverflow.com/users/5554966/mrmisi"}, "edited": false, "score": 0, "creation_date": 1465209080, "post_id": 37653959, "comment_id": 62789312, "body": "Ok thx, I usually use Python, Perl is something new to me. thx"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1465210563, "post_id": 37653959, "comment_id": 62790210, "body": "Do you use <code>goto</code> in python then? I thought that wasn&#39;t a done thing there either?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 5, "creation_date": 1465213903, "post_id": 37653959, "comment_id": 62792157, "body": "So you have a compiled script called SpeedTest.exe calling a programm called speedtest (<code>...qx(speedtest -Q...</code>). My guess is that this will simply spawn another instance of your SpeedTest.exe which then will again spawn another one which (you might guess) spawns another one which ..."}, {"owner": {"reputation": 37, "user_id": 5554966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tKzCySChBVA/AAAAAAAAAAI/AAAAAAAARO4/jJUS5yQPXSc/photo.jpg?sz=128", "display_name": "Mrmisi", "link": "https://stackoverflow.com/users/5554966/mrmisi"}, "edited": false, "score": 0, "creation_date": 1465295759, "post_id": 37653959, "comment_id": 62830935, "body": "Unbelievable, what a stupid mistake.. thx Steffen"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5554966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tKzCySChBVA/AAAAAAAAAAI/AAAAAAAARO4/jJUS5yQPXSc/photo.jpg?sz=128", "display_name": "Mrmisi", "link": "https://stackoverflow.com/users/5554966/mrmisi"}, "edited": false, "score": 0, "creation_date": 1465295703, "post_id": 37662417, "comment_id": 62830898, "body": "Yeah, right... I&#39;m quite embarassed at the moment (what a noob mistake)"}], "tags": [], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "is_accepted": false, "score": 0, "last_activity_date": 1465230343, "creation_date": 1465230343, "answer_id": 37662417, "question_id": 37653959, "link": "https://stackoverflow.com/questions/37653959/why-windows-generate-a-lot-of-process-for-a-compiled-perl-script/37662417#37662417", "title": "Why Windows generate a lot of process for a compiled Perl script?", "body": "<p>Well, Steffen really answered this by way of a Comment, but here it is as an Answer.  Just compile your Perl into an EXE that does NOT have the same name as the one that the Perl script is calling, for example:</p>\n\n<p><code>speedtest.pl</code> compiled into <code>myspeedtest.exe</code>, which calls <code>speedtest.exe</code></p>\n"}], "owner": {"reputation": 37, "user_id": 5554966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tKzCySChBVA/AAAAAAAAAAI/AAAAAAAARO4/jJUS5yQPXSc/photo.jpg?sz=128", "display_name": "Mrmisi", "link": "https://stackoverflow.com/users/5554966/mrmisi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1465230343, "creation_date": 1465205539, "question_id": 37653959, "link": "https://stackoverflow.com/questions/37653959/why-windows-generate-a-lot-of-process-for-a-compiled-perl-script", "title": "Why Windows generate a lot of process for a compiled Perl script?", "body": "<p>I've written this script (called SpeedTest.pl) to log internet speed due to resolve a problem with my ISP.\nIt work well, but just if I use a Perl interpreter (if I double-click on the script). I want to compile it to generate a stand-alone executable to run in a different PC without Perl installed.</p>\n\n<p>Well, I've try with pp and Perl2Exe both, but when I launch the SpeedTest.exe i see a lot of process called \"SpeedTest.exe\" in task manager. If I don't block all these process, the PC OS will crash (a pop-up say: \"the memory can't be written, blah blah blah). </p>\n\n<p>Any ideas?</p>\n\n<p>This is the script:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\nuse App::SpeedTest;\n\n\nmy($day, $month_temp, $year_temp)=(localtime)[3,4,5];\nmy $year = $year_temp+1900;\nmy $month = $month_temp+1;\nmy $date = \"0\".\"$day\".\"-\".\"0\".\"$month\".\"-\".\"$year\";\nmy $filename = \"Speed Test - \".\"$date\".\".csv\";\n\n\nif (-e $filename) {\n     goto SPEEDTEST; \n     } else {\n     goto CREATEFILE;\n                  }\n\n\nCREATEFILE:\n\nopen(FILE, '&gt;', $filename);\nprint FILE \"Date\".\";\".\"Time\".\";\".\"Download [Mbit/s]\".\";\".\"Upload [Mbit/s]\".\";\".\"\\n\";\nclose FILE;\ngoto SPEEDTEST; \n\n\n\nSPEEDTEST:\n\n\nmy $download = qx(speedtest -Q -C --no-upload);\nmy $upload = qx(speedtest -Q -C --no-download);\n\nmy @download_chars = split(\"\", $download);\nmy @upload_chars = split(\"\", $upload);\nmy $time = \"$download_chars[12]\".\"$download_chars[13]\".\"$download_chars[14]\".\"$download_chars[15]\".\"$download_chars[16]\";\nmy $download_speed = \"$download_chars[49]\".\"$download_chars[50]\".\"$download_chars[51]\".\"$download_chars[52]\".\"$download_chars[53]\";\nmy $upload_speed = \"$upload_chars[49]\".\"$upload_chars[50]\".\"$upload_chars[51]\".\"$upload_chars[52]\".\"$upload_chars[53]\";\nmy $output = \"$date\".\";\".\"$time\".\";\".\"$download_speed\".\";\".\"$upload_speed\".\";\";\n\nopen(FILE, '&gt;&gt;', $filename);\nprint FILE $output.\"\\n\";\nclose FILE;\n\nsleep 300;\n\nmy($day_check, $month_temp_check, $year_temp_check)=(localtime)[3,4,5];\nmy $year_check = $year_temp_check+1900;\nmy $month_check = $month_temp_check+1;\nmy $date_check = \"0\".\"$day_check\".\"-\".\"0\".\"$month_check\".\"-\".\"$year_check\";\nmy $filename_check = \"Speed Test - \".\"$date_check\".\".csv\";\n\nif ($filename = $filename_check) {\ngoto SPEEDTEST; \n} else {\n$filename = $filename_check;\ngoto CREATEFILE;\n                                 }\n</code></pre>\n"}, {"tags": ["perl", "xml-libxml"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465229117, "post_id": 37653578, "comment_id": 62802511, "body": "Why are you trying to install such an ancient version? That version is 14 years old!!! The function giving you an error doesn&#39;t even exist anymore."}, {"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470033488, "post_id": 37653578, "comment_id": 64763542, "body": "you are right, the latest version fixed the issues. thanks!"}], "owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465206696, "creation_date": 1465204410, "last_edit_date": 1465206696, "question_id": 37653578, "link": "https://stackoverflow.com/questions/37653578/perl-xmllibxml-installation-in-solaris-issue-with-make-test", "title": "PERL XML::LIBXML installation in Solaris - issue with &quot;make test&quot;", "body": "<p>Looking to move away from XML::Simple, I tried to install XML::LibXML.\nI downloaded XML-LibXML-1.40.tar.gz, unzipped and untar it to find the below in README.</p>\n\n<blockquote>\n  <p>**Prior to installation you MUST have installed the libxml2 library. Then run:  1 perl Makefile.PL</p>\n  \n  <p>2 make test</p>\n  \n  <p>3 su</p>\n  \n  <p>4 make install\n  **</p>\n</blockquote>\n\n<p>Step 1 ran fine: Output below,</p>\n\n<pre><code>perl Makefile.PL\nenable native perl UTF8\nrunning xml2-config... ok\nlooking for -lxml2... yes\nIf you are building XML::LibXML from CVS, you may wish to run\n\n  $ make docs\n\nbefore doing anything else. This will re-build the documentation\nfrom the XML file in examples/libxml.xml. This is *not* necessary\nif you are building from a CPAN distribution.\nGenerating a Unix-style Makefile\nWriting Makefile for XML::LibXML\nWriting MYMETA.yml and MYMETA.json\n</code></pre>\n\n<p>The second step throws a lot of warnings of incompatibility in the output and fails like below. </p>\n\n<pre><code>\"perl-libxml-mm.c\", line 112: warning: assignment type mismatch:\n        pointer to unsigned char \"=\" pointer to char\n\n\"perl-libxml-mm.c\", line 228: a cast does not yield an lvalue\ncc: acomp failed for perl-libxml-mm.c\n*** Error code 2\n\n**make: Fatal error: Command failed for target `perl-libxml-mm.o'**\n</code></pre>\n\n<p>Can someone help me to understand this ?</p>\n"}, {"tags": ["perl", "sequence", "permutation"], "comments": [{"owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "edited": false, "score": 0, "creation_date": 1465204853, "post_id": 37653385, "comment_id": 62786799, "body": "From your description I understand what it you&#39;re trying to do. I can&#39;t see how you get from your original sequence to the 8 sequences. What has M, Y and W got to do with things?"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1465204879, "creation_date": 1465204879, "answer_id": 37653749, "question_id": 37653385, "link": "https://stackoverflow.com/questions/37653385/perl-replace-ambiguous-letters-with-each-option/37653749#37653749", "title": "Perl: replace ambiguous letters with each option", "body": "<p>For each letter, expand the set of possible sequences.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\nuse Syntax::Construct qw{ /r };\n\nmy %ambiguous = ( M =&gt; [qw[ A C ]],\n                  Y =&gt; [qw[ C T ]],\n                  W =&gt; [qw[ A T ]],\n                );\n\nmy $string = 'CAGCMGCCGCGGTAAYWC';\nmy $is_ambiguous = '[' . (join q(), keys %ambiguous) . ']';\n\nmy @strings = $string;\nwhile ($strings[0] =~ $is_ambiguous) {\n    my ($letter) = $strings[0] =~ /($is_ambiguous)/;\n    @strings = map {\n        my $s = $_;\n        map $s =~ s/$letter/$_/r, @{ $ambiguous{$letter} }\n        # map { (my $x = $s) =~ s/$letter/$_/; $x } @{ $ambiguous{$letter} }\n    } @strings;\n}\n\nsay for @strings;\n</code></pre>\n\n<p>On Perl before 5.14, use the commented line instead of the line above it, and remove Syntax::Construct.</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1465234198, "last_edit_date": 1465234198, "creation_date": 1465233719, "answer_id": 37663394, "question_id": 37653385, "link": "https://stackoverflow.com/questions/37653385/perl-replace-ambiguous-letters-with-each-option/37663394#37663394", "title": "Perl: replace ambiguous letters with each option", "body": "<p>Here is solution using recursion:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy %seqs = (\n    \"PrefixPE/1\"  =&gt; \"CAGCMGCCGCGGTAAYWC\",\n    \"PrefixPE/2\" =&gt; \"BSCCCGYCAATTYMTKTRAGT\"\n);\n\nmy %ops = (\n    R =&gt; 'AG',\n    Y =&gt; 'CT',\n    M =&gt; 'AC',\n    K =&gt; 'GT',\n    W =&gt; 'AT',\n    B =&gt; 'CGT',\n    S =&gt; 'CG',\n);\n\n$ops{$_} = [ split //, $ops{$_} ] for keys %ops;\n\nmy $perm = GenPermutations-&gt;new( \\%ops  );\nfor my $id (keys %seqs) {\n    my $seq = $seqs{$id};\n    $perm-&gt;gen( $seq );\n    $perm-&gt;print_result();\n}\nexit;\n\npackage GenPermutations;\n\nsub new {\n    my ( $class, $ops ) = @_;\n    my ($pat) = map qr/$_/, '[' . (join '', keys %$ops) . ']';\n    my $info = { ops =&gt; $ops, pat =&gt; $pat, pos =&gt; [], result =&gt; [], seq =&gt; undef }; \n    return bless $info, $class;\n}\n\nsub _init {\n    my ( $self, $seq ) = @_;\n    @{ $self-&gt;{pos} } = ();\n    @{ $self-&gt;{result} } = ();\n    $self-&gt;{seq} = $seq;\n    while ( $seq =~ /($self-&gt;{pat})/g ) {\n        push @{ $self-&gt;{pos} }, [$-[1], $1];\n    }\n}\n\nsub print_result {\n    my ( $self ) = @_;\n\n    say $self-&gt;{seq} . ' : found ' . (scalar @{ $self-&gt;{result} }) . ' permutations : ';\n    say \"  $_\" for @{ $self-&gt;{result} };\n    say \"\";\n}\n\nsub gen {\n    my ( $self, $seq ) = @_;\n    $self-&gt;_init( $seq );\n    $self-&gt;_gen( $seq, 0 );\n}\n\nsub _gen {\n    my ( $self, $str, $pos_index ) = @_;\n\n    if ( $pos_index &gt; $#{$self-&gt;{pos}} ) {\n        push @{ $self-&gt;{result} }, $str;\n        return;\n    }\n\n    my $info = $self-&gt;{pos}[$pos_index];\n    my ( $index, $letter) = @$info;\n    $pos_index++;\n    for my $replace ( @{ $self-&gt;{ops}{$letter} } ) {\n        my $temp = $str;\n        substr $temp, $index, 1, $replace; \n        $self-&gt;_gen( $temp, $pos_index );\n    }\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 1633, "user_id": 2573168, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/747f3fba6f89de542cd8f03cc53e0b69?s=128&d=identicon&r=PG", "display_name": "DaniCee", "link": "https://stackoverflow.com/users/2573168/danicee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 37653749, "answer_count": 2, "score": -1, "last_activity_date": 1465234198, "creation_date": 1465203786, "question_id": 37653385, "link": "https://stackoverflow.com/questions/37653385/perl-replace-ambiguous-letters-with-each-option", "title": "Perl: replace ambiguous letters with each option", "body": "<p>I am trying to do the following task which should be easy, but I cannot get my head around it:</p>\n\n<p>I have two sequences with letters (nucleotide bases) that might be ambiguous. I want to rewrite each sequence in all its possibilities...</p>\n\n<p>For example, the first sequence is:</p>\n\n<pre><code> CAGCMGCCGCGGTAAYWC\n</code></pre>\n\n<p>And it contains M, Y and W, which can be [A,C], [C,T], [A,T] respectively. Hence, the above sequence should be rewritten into the following possibilities:</p>\n\n<pre><code> CAGCAGCCGCGGTAACAC\n CAGCAGCCGCGGTAACTC\n CAGCAGCCGCGGTAATAC\n CAGCAGCCGCGGTAATTC\n CAGCCGCCGCGGTAACAC\n CAGCCGCCGCGGTAACTC\n CAGCCGCCGCGGTAATAC\n CAGCCGCCGCGGTAATTC\n</code></pre>\n\n<p>I have the MWE so far:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse warnings;\nuse strict;\n\nmy %seqs = (\n    \"PrefixPE/1\"  =&gt; \"CAGCMGCCGCGGTAAYWC\",\n    \"PrefixPE/2\" =&gt; \"BSCCCGYCAATTYMTKTRAGT\"\n);\n\nmy %ops;\n$ops{\"R\"}{\"A\"}=\"\";\n$ops{\"R\"}{\"G\"}=\"\";\n$ops{\"Y\"}{\"C\"}=\"\";\n$ops{\"Y\"}{\"T\"}=\"\";\n$ops{\"M\"}{\"A\"}=\"\";\n$ops{\"M\"}{\"C\"}=\"\";\n$ops{\"K\"}{\"G\"}=\"\";\n$ops{\"K\"}{\"T\"}=\"\";\n$ops{\"W\"}{\"A\"}=\"\";\n$ops{\"W\"}{\"T\"}=\"\";\n$ops{\"B\"}{\"C\"}=\"\";\n$ops{\"B\"}{\"G\"}=\"\";\n$ops{\"B\"}{\"T\"}=\"\";\n$ops{\"S\"}{\"C\"}=\"\";\n$ops{\"S\"}{\"G\"}=\"\";\n\nforeach my $id(keys %seqs){\n    my $seq=$seqs{$id};\n    my @nts=(split '', $seq);\n    my $i=0;\n    foreach my $n(@nts){\n        $i++;\n        if (exists $ops{$n}){\n            my $j=0;\n            foreach my $o(keys %{$ops{$n}}){\n                $j++;\n                print \"$id, pos $i\\.$j = &lt;$o&gt;\\n\";\n            }\n        }\n        else{\n            print \"$id, pos $i = &lt;$n&gt;\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465198181, "post_id": 37651286, "comment_id": 62783136, "body": "The error is reported in the library, on its line 15. Can you show the relevant part? Also, you seem to be redefining a sub imported from it -- Is that what you intend to do, to redefine a sub from a loaded package?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465199942, "post_id": 37651286, "comment_id": 62784094, "body": "<a href=\"https://github.com/KES777/Devel-DebugHooks/blob/master/t/lib/Devel/DbInteract.pm#L15\" rel=\"nofollow noreferrer\">github.com/KES777/Devel-DebugHooks/blob/master/t/lib/Devel/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1465200179, "post_id": 37652271, "comment_id": 62784203, "body": "It would greatly improve this answer to include the line where that&#39;s present. As it stands, there&#39;s no indication in the question as to the nature of the problem."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465200356, "post_id": 37652271, "comment_id": 62784296, "body": "Ah! Good catch.  Now I&#39;d suggest to explain it a little, as Sobrique says."}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 3, "last_activity_date": 1465214298, "last_edit_date": 1465214298, "creation_date": 1465199951, "answer_id": 37652271, "question_id": 37651286, "link": "https://stackoverflow.com/questions/37651286/how-to-fix-error-cant-find-string-terminator-anywhere-before-eof/37652271#37652271", "title": "How to fix error: Can&#39;t find string terminator &quot;^@&quot; anywhere before EOF?", "body": "<p>The library you are calling is producing the error message. The <a href=\"https://github.com/KES777/Devel-DebugHooks/blob/master/t/lib/Devel/DbInteract.pm#L15\" rel=\"nofollow\">source line</a> is</p>\n\n<pre><code>15:  my $endline = $1 // ';';\n</code></pre>\n\n<p>Your old Perl (5.8.9) does not support the <code>//</code> operator.</p>\n"}, {"tags": [], "owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "is_accepted": false, "score": -1, "last_activity_date": 1465205571, "creation_date": 1465205571, "answer_id": 37653973, "question_id": 37651286, "link": "https://stackoverflow.com/questions/37651286/how-to-fix-error-cant-find-string-terminator-anywhere-before-eof/37653973#37653973", "title": "How to fix error: Can&#39;t find string terminator &quot;^@&quot; anywhere before EOF?", "body": "<p>Try escaping your <code>@</code> symbols (so you have <code>\\@list</code>).\nAlternatively, change your script capture from double to single quotes. eg</p>\n\n<pre><code>... DbInteract=\"t();q\" -e 'sub t { ..... } 1;'\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1465214298, "creation_date": 1465196370, "question_id": 37651286, "link": "https://stackoverflow.com/questions/37651286/how-to-fix-error-cant-find-string-terminator-anywhere-before-eof", "title": "How to fix error: Can&#39;t find string terminator &quot;^@&quot; anywhere before EOF?", "body": "<p>I got the error when try to run:</p>\n\n<pre><code>/home/kes/perl5/perlbrew/perls/perl-5.8.9/bin/perl -I/home/kes/work/projects/perl_libs/t/lib -I/home/kes/work/projects/perl_libs/t/../lib -d:DbInteract=\"t();q\" -e \"sub t {\nreturn ( 1, undef, undef, 2 );\n}\nsub a {\nmy @list =  ( 1, undef, undef, 2 );\nreturn @list;\n}\n1;\n\"\nCan't find string terminator \"^@\" anywhere before EOF at /home/kes/work/projects/perl_libs/t/lib/Devel/DbInteract.pm line 15.\nCompilation failed in require.\nBEGIN failed--compilation aborted.\n</code></pre>\n\n<p>What should I change to fix error?</p>\n"}, {"tags": ["perl", "sockets"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6428800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa0ab3a0b9b56ac56e58ad9ac9b639e8?s=128&d=identicon&r=PG&f=1", "display_name": "R Y", "link": "https://stackoverflow.com/users/6428800/r-y"}, "edited": false, "score": 0, "creation_date": 1465316345, "post_id": 37651616, "comment_id": 62846067, "body": "Thanks Chris. I moved ahead with the force flush resolution you provided.Now my Server is waiting for the client but there seems to be some problem . Plz see my Client program :"}, {"owner": {"reputation": 11, "user_id": 6428800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa0ab3a0b9b56ac56e58ad9ac9b639e8?s=128&d=identicon&r=PG&f=1", "display_name": "R Y", "link": "https://stackoverflow.com/users/6428800/r-y"}, "edited": false, "score": 0, "creation_date": 1465316838, "post_id": 37651616, "comment_id": 62846351, "body": "Thanks Chris. I moved ahead with the force flush resolution you provided.Now my Server is waiting for the client but there seems to be some problem . Plz see my Client program :  use strict; use warning;  use IO::Socket::INET;  $|=1; my($socket,$client_socket);   #Socket creation $socket  = new IO::Socket::INET(PeerHost=&gt;&#39;127.0.0.1&#39;,PeerPort=&gt;&#39;5000&#39;,Prot&zwnj;&#8203;o=&gt;&#39;tcp&#39;,Listen=&gt;5) or die &quot;Error in Socket Creation: $!n&quot;;  print &quot;Print TCP Connection Success&quot;;  #Read Data sent by Server  my $data = &lt;$socket&gt;;  print &quot;Received from Server : $data\\n&quot;;  $socket-&gt;close();"}, {"owner": {"reputation": 11, "user_id": 6428800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa0ab3a0b9b56ac56e58ad9ac9b639e8?s=128&d=identicon&r=PG&f=1", "display_name": "R Y", "link": "https://stackoverflow.com/users/6428800/r-y"}, "edited": false, "score": 0, "creation_date": 1465316981, "post_id": 37651616, "comment_id": 62846443, "body": "The output on the Client program execution with the Server waiting for connection is : Print TCP Connection SuccessUse of uninitialized value $data in concatenation (.) or string at ClientSocket.pl line 18. Received from Server :"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 11, "user_id": 6428800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa0ab3a0b9b56ac56e58ad9ac9b639e8?s=128&d=identicon&r=PG&f=1", "display_name": "R Y", "link": "https://stackoverflow.com/users/6428800/r-y"}, "edited": false, "score": 0, "creation_date": 1465320501, "post_id": 37651616, "comment_id": 62848536, "body": "To read data on the socket you need to use the sockets <code>recv</code> method. So  instead if you want to read the next 1024 bytes of data you should have  <code>$socket-&gt;recv( my $data, 1024);</code> this would read 1024 bytes from the socket and store it in the <code>$data</code> variable."}], "tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": false, "score": 1, "last_activity_date": 1465197596, "creation_date": 1465197596, "answer_id": 37651616, "question_id": 37650492, "link": "https://stackoverflow.com/questions/37650492/server-side-socket-program-not-working-in-perl/37651616#37651616", "title": "Server side socket program not working in PERL", "body": "<p>There is likely nothing wrong with your socket creation. Chances are your print statement it being buffered. Either put a new line char at the end of the print statement or set <code>$|=1;</code>at the start of the script to force Perl to flush the print the statement without buffering it.</p>\n\n<p>also its good practice to use strict and warnings in your code.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Socket::INET;\n$|=1;\n\nmy($socket,$client_socket);\nmy($peeraddress,$peerport);\n\n#Socket creation\n$socket  = new IO::Socket::INET(LocalHost=&gt;'127.0.0.1',LocalPort=&gt;'5000',Proto=&gt;'tcp',Listen=&gt;5) or die \"Error in Socket Creation: $!n\";\n\nprint \"Server Waiting for client connection on port 5000\";\n\nwhile(1)\n{\n    my $client_socket = $socket-&gt;accept();\n    my $peer_address = $client_socket-&gt;peerhost();\n    my $peer_port = $client_socket-&gt;peerport();\n    print \"Accepted New Client Connection From : $peer_address $peer_port\\n\";\n\n    #Send message to the client\n    my $data = \"Message from Server\";\n    $client_socket-&gt;send($data);\n}\n\n$socket-&gt;close();\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6428800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa0ab3a0b9b56ac56e58ad9ac9b639e8?s=128&d=identicon&r=PG&f=1", "display_name": "R Y", "link": "https://stackoverflow.com/users/6428800/r-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465197596, "creation_date": 1465192984, "last_edit_date": 1465196230, "question_id": 37650492, "link": "https://stackoverflow.com/questions/37650492/server-side-socket-program-not-working-in-perl", "title": "Server side socket program not working in PERL", "body": "<p>I created a simple Socket program in PERL. The Server side program does not seem to complete socket creation. It does not print the statement after Socket creation. The Client whereas waits for message from the Server and then closes the socket. On printing the Socket, It gets the reference of the Server socket but no operation is performed. Please find below the simple Server and Client programs. </p>\n\n<p>Server Side Program:</p>\n\n<pre><code>#!usr/bin/perl\n#tcpserver.pl\n\nuse IO::Socket::INET;\n\nmy($socket,$client_socket);\n\nmy($peeraddress,$peerport);\n\n#Socket creation\n$socket  = new IO::Socket::INET(LocalHost=&gt;'127.0.0.1',LocalPort=&gt;'5000',Proto=&gt;'tcp',Listen=&gt;5) or die \"Error in Socket Creation: $!n\";\n\nprint \"Server Waiting for client connection on port 5000\";\n\nwhile(1)\n{   \n    $client_socket = $socket-&gt;accept();\n\n    $peer_address = $client_socket-&gt;peerhost();\n\n    $peer_port = $client_socket-&gt;peerport();\n\n    print \"Accepted New Client Connection From : $peer_address $peer_port\\n\";\n\n    #Send message to the client \n\n    $data = \"Message from Server\";\n\n    $client_socket-&gt;send($data);\n\n}\n\n$socket-&gt;close();\n</code></pre>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "dereference"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465191870, "post_id": 37650187, "comment_id": 62780304, "body": "Just syntax -- <code>@{$arr1[0]}</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1465194023, "post_id": 37650187, "comment_id": 62781113, "body": "<a href=\"http://perlmonks.org/?node=References+quick+reference\" rel=\"nofollow noreferrer\">perlmonks.org/?node=References+quick+reference</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1465200268, "post_id": 37650333, "comment_id": 62784251, "body": "There&#39;s also <code>map</code>: <code>@arr2 = map { ref $_ eq &quot;ARRAY&quot; ? @$_ : $_ } @arr1;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1465200949, "post_id": 37650333, "comment_id": 62784605, "body": "@Sobrique  Nice, avoids explicit indexing so no precedence problems.  This flattens the whole thing though, no? (Which is useful!)  For this question, perhaps <code>: ()</code> instead of <code>: $_</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1465203043, "post_id": 37650333, "comment_id": 62785795, "body": "Yeah, it flattens it. <code>()</code> would work, but it&#39;d discard that element, which may or may not be what&#39;s desired."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1465613748, "last_edit_date": 1495541786, "creation_date": 1465192216, "answer_id": 37650333, "question_id": 37650187, "link": "https://stackoverflow.com/questions/37650187/dereference-array-within-an-array-in-one-statement/37650333#37650333", "title": "Dereference array within an array in one statement?", "body": "<p>You have to add the braces because of the precedence rules</p>\n\n<pre><code>@arr2 = @{$arr1[0]};\n</code></pre>\n\n<p>From <a href=\"http://perldoc.perl.org/perldsc.html#CAVEAT-ON-PRECEDENCE\" rel=\"nofollow noreferrer\">perldsc, Caveat on precedence</a></p>\n\n<blockquote>\n  <p>Speaking of things like <code>@{$AoA[$i]}</code><br>\n  [ ... ]<br>\n  That's because Perl's precedence rules on its five prefix dereferencers (which look like someone swearing: <code>$</code> <code>@</code> <code>*</code> <code>%</code> <code>&amp;</code> ) make them bind more tightly than the postfix subscripting brackets or braces!</p>\n</blockquote>\n\n<hr>\n\n<p>This implies that if explicit indexing isn't needed then there is no need for <code>{}</code>, for instance in code that retrieves array elements already. For example, to flatten an array with arrayrefs inside, per <a href=\"https://stackoverflow.com/users/2566198/sobrique\">Sobrique</a>'s comment</p>\n\n<pre><code>@all_elems = map { ref $_ eq \"ARRAY\" ? @$_ : $_ } @arr1;\n</code></pre>\n\n<p>To retrieve content of only arrayrefs one can use <code>: ()</code> instead of <code>: $_</code> in the ternary operator inside the block.  The <code>()</code> returns an empty list that gets flattened in the result thus not affecting it. (When the condition evaluates to false <em>something</em> has to be returned. This trick allows <code>map</code> to do <code>grep</code>'s work, effectively filtering.)</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 37650333, "answer_count": 1, "score": 0, "last_activity_date": 1465857832, "creation_date": 1465191452, "last_edit_date": 1465857832, "question_id": 37650187, "link": "https://stackoverflow.com/questions/37650187/dereference-array-within-an-array-in-one-statement", "title": "Dereference array within an array in one statement?", "body": "<pre><code>@arr1 = ([1,2,3], 4, 5, 6);\n$arr_ref = $arr1[0];\n@arr2 = @$arr_ref;\n</code></pre>\n\n<p>Is it possible to do lines 2 and 3 in one statement?</p>\n\n<p>I have tried <code>@arr2 = @$arr1[0];</code> but it doesn't compile.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 37, "user_id": 6384690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bcdc747c17fb084166b7992486cce0d?s=128&d=identicon&r=PG&f=1", "display_name": "akshay.s.jagtap", "link": "https://stackoverflow.com/users/6384690/akshay-s-jagtap"}, "edited": false, "score": 1, "creation_date": 1465189288, "post_id": 37649682, "comment_id": 62779523, "body": "<a href=\"http://stackoverflow.com/questions/19284208/perl-directories-file-sort-print-list-with-size-and-date\" title=\"perl directories file sort print list with size and date\">stackoverflow.com/questions/19284208/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1465191316, "post_id": 37649682, "comment_id": 62780124, "body": "Creation date is commonly unavailable on unix; it&#39;s simply not stored anywhere."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1465191392, "post_id": 37649682, "comment_id": 62780142, "body": "File::Find::Rule makes this easy."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1465203463, "creation_date": 1465203463, "answer_id": 37653279, "question_id": 37649682, "link": "https://stackoverflow.com/questions/37649682/filter-file-in-folder-according-to-its-modified-date/37653279#37653279", "title": "Filter file in folder according to its modified date", "body": "<p>You can't have create time - Unix doesn't track it. </p>\n\n<p>You can have modification time (or <code>ctime</code> which is \"change time\"). </p>\n\n<p>But you can't do this without looping through all the files - because at the very least, you need to <code>stat</code> them to check their attributes. </p>\n\n<p>If you need recursion - <code>File::Find::Rule</code> is the tool for the job (as Ikegami suggests in the comments).</p>\n\n<p>If you don't, then as simple as the <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\"><code>-M</code></a> test (or <a href=\"http://perldoc.perl.org/functions/stat.html\" rel=\"nofollow\"><code>stat</code></a>) </p>\n\n<pre><code>foreach my $file ( glob \"/path/*.ext\" ) { \n    next unless (stat($file))[9] &lt; time() - 84600; \n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>next unless -M $file &gt; 1; \n</code></pre>\n\n<p>Or you could apply <code>grep</code> to filter your <code>glob</code>:</p>\n\n<pre><code>foreach my $file ( grep { -M &lt; 1 } glob \"/path/to/*.ext\" ) {\n</code></pre>\n\n<p>But be under no illusions - in each case, there is a loop to test every file, and perform a <code>stat</code> to check it's age. </p>\n"}], "owner": {"reputation": 1, "user_id": 878013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc9b8a1a0317929ca6a05203f14ac15?s=128&d=identicon&r=PG", "display_name": "Om Prakash", "link": "https://stackoverflow.com/users/878013/om-prakash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1465203463, "creation_date": 1465188337, "last_edit_date": 1465193854, "question_id": 37649682, "link": "https://stackoverflow.com/questions/37649682/filter-file-in-folder-according-to-its-modified-date", "title": "Filter file in folder according to its modified date", "body": "<p>There is folder which contains a lots of file. I want to pick the file which are create or modified today in Perl. I don't want to loop through the all file in the folder.\nFor example, I have 50 files in a folder, out them 10 files are added today, than I want to pick only 10 file that are added today in the folder.</p>\n\n<p>Any help will be great for me. Thanks in advance</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 0, "last_activity_date": 1465190875, "creation_date": 1465190875, "answer_id": 37650087, "question_id": 37649522, "link": "https://stackoverflow.com/questions/37649522/perl-how-to-obtain-epoch-time/37650087#37650087", "title": "Perl : How to obtain epoch time", "body": "<p>The <a href=\"http://www.metacpan.org/module/Date::Parse\" rel=\"nofollow\">Date::Parse</a> module can turn datetime stamps into epoch times. In general, if you have something you need to do, search the <a href=\"http://www.metacpan.org\" rel=\"nofollow\">Comprehensive Perl Archive Network</a> for a module to handle it. Searching Stackoverflow is another good way to get answers to common questions.</p>\n"}], "owner": {"reputation": 5296, "user_id": 352403, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e8473a08926aca6bea5d246ed15e697?s=128&d=identicon&r=PG", "display_name": "souser", "link": "https://stackoverflow.com/users/352403/souser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "closed_date": 1465190898, "answer_count": 1, "score": -2, "last_activity_date": 1465191334, "creation_date": 1465187102, "last_edit_date": 1465191334, "question_id": 37649522, "link": "https://stackoverflow.com/questions/37649522/perl-how-to-obtain-epoch-time", "closed_reason": "Duplicate", "title": "Perl : How to obtain epoch time", "body": "<p>I need a quick way to convert date <strong>\"Tue Jul 02 17:50:55 MDT 2024\"</strong> into epoch time.   </p>\n\n<p>Effectively, I need the shell equivalent of <code>date -d \"Tue Jul 02 17:50:55 MDT 2024\" +%s</code>    </p>\n\n<p>I currently use the following in perl but it requires a lot of conversion. Hoping to find a simpler and more elegant solution. </p>\n\n<pre>\n$current_epoch = timelocal($seconds, $minute, $hour, $day_of_month, $month_num, $year)\n</pre>\n\n<p>I currently use Perl 5.8 ; I dont believe it has \"Time::Piece\"<br>\nI am only interested in solutions that do not require downloading another library</p>\n"}, {"tags": ["perl", "hash", "record", "bioinformatics"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465176920, "post_id": 37648267, "comment_id": 62777120, "body": "That is great. Thanks so much for the response. In regards to slurping, I will have thousands of lines of text to feed into the code. I will be doing this over a server and might have enough RAM, but I might not, depending on my dataset. Is there a memory efficient alternative to slurp? Again, I REALLY appreciate your expertise. Thanks."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 3, "last_activity_date": 1465177313, "last_edit_date": 1465177313, "creation_date": 1465174654, "answer_id": 37648267, "question_id": 37648170, "link": "https://stackoverflow.com/questions/37648170/record-separator-within-a-record-separator/37648267#37648267", "title": "Record separator within a record separator", "body": "<p>OK, so here's one way to do it:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n</code></pre>\n\n<p>Standard preamble.</p>\n\n<pre><code>my %hash = (\n    \"TTTATGC\" =&gt; \"TATAGCGCTTTATGCTAGCTAGC\",\n    \"TTTATGG\" =&gt; \"TAGCTAGCTTTATGGGCTAGCTA\",\n    \"TTTATCC\" =&gt; \"GCTAGCTATTTATCCGCTAGCTA\",\n    \"TTTATCG\" =&gt; \"TAGCTAGCTTTATCGCGTACGTA\",\n    \"TTTATAA\" =&gt; \"TAGCTAGCTTTATAATAGCTAGC\",\n    \"TTTATAA\" =&gt; \"ATCGATCGTTTATAACGATCGAT\",\n    \"TTTATAT\" =&gt; \"TCGATCGATTTATATTAGCTAGC\",\n    \"TTTATAT\" =&gt; \"TAGCTAGCTTTATATGCTAGCTA\",\n    \"TTTATTA\" =&gt; \"GCTAGCTATTTATTATAGCTAGC\",\n    \"CTTGTAA\" =&gt; \"ATCGATCGCTTGTAACGATTAGC\",\n);\n</code></pre>\n\n<p>Set up the hash of sequences.</p>\n\n<pre><code>my $infile = 'Clustered_Barcodes.txt';\nopen my $infh, '&lt;', $infile or die \"$0: $infile: $!\\n\";\n</code></pre>\n\n<p>Open file for reading.</p>\n\n<pre><code>chomp(my @rows = readline $infh);\nmy $row_count = @rows;\n</code></pre>\n\n<p>Slurp all lines into memory in order to get the number of sequences. If you have too many sequences, this approach is not going to work (because you'll run out of memory (but that depends on how much RAM you have)).</p>\n\n<pre><code>my $i = 1;\nfor my $row (@rows) {\n</code></pre>\n\n<p>Loop over the lines.</p>\n\n<pre><code>    my @fields = split /\\t/, $row;\n</code></pre>\n\n<p>Split each line into fields separated by tabs.</p>\n\n<pre><code>    my $outfile = \"Clustered_Barcodes_${i}_File_${row_count}_Sequences.fasta\";\n    $i++;\n    open my $outfh, '&gt;', $outfile or die \"$0: $outfile: $!\\n\";\n</code></pre>\n\n<p>Open current output file and increment counter.</p>\n\n<pre><code>    for my $field (@fields) {\n        print $outfh \"&gt;$field\\n$hash{$field}\\n\" if exists $hash{$field};\n    }\n</code></pre>\n\n<p>Write each field (and its mapping) to outfile.</p>\n\n<pre><code>}\n</code></pre>\n\n<p>And we're done. The main difference to your original code is using <code>split /\\t/</code> and <code>foreach</code> to loop over fields within a line.</p>\n\n<hr>\n\n<p>We can do it without slurping, too:</p>\n\n<pre><code>while (my $row = readline $infh) {\n    chomp $row;\n</code></pre>\n\n<p>Loop over the lines, one by one. This replaces the 4 lines from <code>chomp(my @rows = readline $infh);</code> to <code>for my $row (@rows) {</code>.</p>\n\n<p>But now we've lost the <code>$i</code> and <code>$row_count</code> variables, so we have to change the initialization of <code>$outfile</code>:</p>\n\n<pre><code>    my $outfile = \"Clustered_Barcodes_$..fasta\";\n</code></pre>\n\n<p>That should be all the changes you need. (You can get <code>$row_count</code> back in this scenario by reading <code>$infh</code> twice (the first time just for counting, then <a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow\"><code>seek</code></a>ing back to the start); this is left as an exercise for the reader.)</p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1465324177, "post_id": 37648733, "comment_id": 62850600, "body": "Is there a way to modify this, so that the name of the output file includes the number of rows in the file? For example, there would only be 2 rows in the output file &quot;Clustered_Barcode_3_2_rows.fasta&quot; and there would be 4 rows in the output file &quot;Clustered_Barcode_2_4_rows.fasta&quot;. Thanks,"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1465179511, "creation_date": 1465179511, "answer_id": 37648733, "question_id": 37648170, "link": "https://stackoverflow.com/questions/37648170/record-separator-within-a-record-separator/37648733#37648733", "title": "Record separator within a record separator", "body": "<p>There's no need to read in the whole file that I see here.  You just need to loop over the contents of each line:</p>\n\n<pre><code>    while(my $line = &lt;INFILE&gt;) {\n        chomp $line;\n        open my $out, '&gt;', \"Clustered_Barcode_$..fasta\" or die $!;\n        foreach my $sequence ( split /\\t/, $line ){\n            if (exists $hash{$sequence}){\n                print $out \"&gt;$sequence\\n$hash{$sequence}\\n\";\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 37648733, "answer_count": 2, "score": 2, "last_activity_date": 1465179511, "creation_date": 1465173628, "question_id": 37648170, "link": "https://stackoverflow.com/questions/37648170/record-separator-within-a-record-separator", "title": "Record separator within a record separator", "body": "<p>How can I make use of a record separator, and then simultaneously use a sub-record separator? Perhaps that isn't the best way to think about what I am trying to do. Here is my goal: </p>\n\n<p>I want to perform a while loop on a single tab delimitated item at a time, in a specified row of items. For every line (row) of tab separated items, I need to print the outcomes of all the while loops into a unique file. Allow the following examples to help clarify. </p>\n\n<p>My input file will be something like the following. It will be called \"Clustered_Barcodes.txt\"</p>\n\n<pre><code>    TTTATGC TTTATGG TTTATCC TTTATCG\n    TTTATAA TTTATAA TTTATAT TTTATAT TTTATTA\n    CTTGTAA \n</code></pre>\n\n<p>My perl code looks like the following: </p>\n\n<pre><code>    #!/usr/bin/perl\n    use warnings;\n    use strict;\n\n    open(INFILE, \"&lt;\", \"Clustered_Barcodes.txt\") or die $!;\n\n    my %hash = (\n            \"TTTATGC\" =&gt; \"TATAGCGCTTTATGCTAGCTAGC\",\n            \"TTTATGG\" =&gt; \"TAGCTAGCTTTATGGGCTAGCTA\",\n            \"TTTATCC\" =&gt; \"GCTAGCTATTTATCCGCTAGCTA\",\n            \"TTTATCG\" =&gt; \"TAGCTAGCTTTATCGCGTACGTA\",\n            \"TTTATAA\" =&gt; \"TAGCTAGCTTTATAATAGCTAGC\",\n            \"TTTATAA\" =&gt; \"ATCGATCGTTTATAACGATCGAT\",\n            \"TTTATAT\" =&gt; \"TCGATCGATTTATATTAGCTAGC\",\n            \"TTTATAT\" =&gt; \"TAGCTAGCTTTATATGCTAGCTA\",\n            \"TTTATTA\" =&gt; \"GCTAGCTATTTATTATAGCTAGC\",\n            \"CTTGTAA\" =&gt; \"ATCGATCGCTTGTAACGATTAGC\",\n    );\n\n    while(&lt;INFILE&gt;) {\n            $/ = \"\\n\";\n            my @lines = &lt;INFILE&gt;;\n            open my $out, '&gt;', \"Clustered_Barcode_$..fasta\" or die $!;\n            foreach my $sequence (@lines){\n                   if (exists $hash{$sequence}){\n                   print $out \"&gt;$sequence\\n$hash{$sequence}\\n\";\n                   }\n            }\n   } \n</code></pre>\n\n<p>My desired output would be three different files. \nThe first file will be called \"Clustered_Barcode_1.fasta\" and will look like: </p>\n\n<pre><code>    &gt;TTTATGC\n    TATAGCGCTTTATGCTAGCTAGC \n    &gt;TTTATGG \n    TAGCTAGCTTTATGGGCTAGCTA \n    &gt;TTTATCC\n    GCTAGCTATTTATCCGCTAGCTA\n    &gt;TTTATCG\n    TAGCTAGCTTTATCGCGTACGTA \n</code></pre>\n\n<p>Note that this is formatted so that the keys are preceded by a carrot, and then on the next line is the longer associated sequence (value). This file includes all the sequences in the first line of Clustered_Barcodes.txt </p>\n\n<p>My third file should be named \"Clustered_Barcode_3.fasta\" and look like the following: </p>\n\n<pre><code>    &gt;CTTGTAA \n    ATCGATCGCTTGTAACGATTAGC \n</code></pre>\n\n<p>When I run my code, it only takes the second and third lines of sequences in the input file. How can I start with the first line (by getting rid of the \\n requirement for a record separator)? How can I then process each item at a time and then print the line's worth of results into one file? Also, if there is a way to incorporate the number of sequences into the file name, that would be great. It would help me to later organize the files by size. For example, the name could be something like \"Clusterd_Barcodes_1_File_3_Sequences.fasta\". </p>\n\n<p>Thank you all. </p>\n"}, {"tags": ["perl", "file", "readline"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6378625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49c7a2b38e2d1693a3a88b31f02c0b62?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6378625/dan"}, "edited": false, "score": 0, "creation_date": 1465169356, "post_id": 37647743, "comment_id": 62775678, "body": "Thanks, completely missed that. It is now doing something unexpected though. It is trying to locate an object method from         read_line $line; Will edit op."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1465169816, "post_id": 37647743, "comment_id": 62775756, "body": "If it&#39;s doing something different, it may warrant a new question being asked. Your code is definitely worthy of being put up for <a href=\"http://codereview.stackexchange.com/\">review</a> before you ask new questions. Right off the bat, your formatting needs to be fixed. Editing a question after it&#39;s been answered causes all sorts of confusion for future readers."}, {"owner": {"reputation": 11, "user_id": 6378625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49c7a2b38e2d1693a3a88b31f02c0b62?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6378625/dan"}, "edited": false, "score": 0, "creation_date": 1465170116, "post_id": 37647743, "comment_id": 62775817, "body": "Ok. I was asking here because it is making me wait 40min before asking a new question :/."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1465170472, "post_id": 37647743, "comment_id": 62775883, "body": "fair enough, and understandable. However, there are reasons for that ;) you should be able to post over at review though, no?"}, {"owner": {"reputation": 11, "user_id": 6378625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49c7a2b38e2d1693a3a88b31f02c0b62?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6378625/dan"}, "edited": false, "score": 0, "creation_date": 1465170919, "post_id": 37647743, "comment_id": 62775973, "body": "Nope. I figured out what was wrong though. I didn&#39;t realize that perl required me to put the subs preceding any that called them. I was calling read_line before I defined it. It was layed out that way in the book so I assumed it was supposed to be that way :/."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1465170978, "post_id": 37647743, "comment_id": 62775980, "body": "you can avoid that problem if you use parens in your call. <code>read_file(@ARGV);</code> will allow you to call your subs before you&#39;ve defined them. It is common in Perl to have all of your sub definitions/declarations at the bottom of a file, and call them up in an earlier code section."}, {"owner": {"reputation": 11, "user_id": 6378625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49c7a2b38e2d1693a3a88b31f02c0b62?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6378625/dan"}, "edited": false, "score": 0, "creation_date": 1465176451, "post_id": 37647743, "comment_id": 62777031, "body": "Did so and commented. However, the goal was to get a working answer to the exercise. Your advice to post in code review is what required 40 mins. I do not see the reason for the neg."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1465169244, "last_edit_date": 1492087233, "creation_date": 1465168888, "answer_id": 37647743, "question_id": 37647723, "link": "https://stackoverflow.com/questions/37647723/illegal-declaration-of-subroutine-perl/37647743#37647743", "title": "illegal declaration of subroutine, perl", "body": "<p>This is wrong:</p>\n\n<pre><code>sub read_file @ARGV\nsub print_has\n</code></pre>\n\n<p>I think you're trying to call the subs? Subroutine calls don't use the <code>sub</code> keyword.</p>\n\n<pre><code>read_file @ARGV;\nprint_has;\n</code></pre>\n\n<p>There are a number of bad practices in the code, one of which prevents the code from running. You should subject it to a <a href=\"https://codereview.stackexchange.com/\">code review</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 6378625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49c7a2b38e2d1693a3a88b31f02c0b62?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6378625/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 735, "favorite_count": 0, "accepted_answer_id": 37647743, "answer_count": 1, "score": -2, "last_activity_date": 1465187803, "creation_date": 1465168649, "last_edit_date": 1465187803, "question_id": 37647723, "link": "https://stackoverflow.com/questions/37647723/illegal-declaration-of-subroutine-perl", "title": "illegal declaration of subroutine, perl", "body": "<p>I'm going through a book and made the following from pieces of examples in order to answer an exercise. I may have messed something up, but it looks ok to me. I get the error: Illegal declaration of subroutine main::read_file at x3.pl line 31. I'm not sure what is wrong here and would appreciate help. The author wants use to use croak so if that is messed up please include it in the solution.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub croak { die \"$0: @_: $!\\n\" }\n\nsub read_file {\n    my $file = shift;\n    open (FILE, $file) || croak \"Couldn't open $file\";\n\n    while (my $line = &lt;FILE&gt;) {\n        read_line $line;\n        }\n        }\n\nsub read_line {\n    our %hash;\n\n    my @list = split \" \", shift;\n    foreach my $word (@list) {\n        $hash{$word}++;\n        }\n        }\n\nsub print_has {\n    our %hash;\n\n    my @list = keys %hash;\n    print \"@list\\n\";\n    }\n\nsub read_file @ARGV\nsub print_has\n</code></pre>\n"}, {"tags": ["perl", "http-headers", "cgi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465153174, "post_id": 37645381, "comment_id": 62771255, "body": "You can&#39;t get an HTTP 500 error on the server. You have given way too little information. Show your code and describe the network"}, {"owner": {"reputation": 1, "user_id": 6427548, "user_type": "registered", "profile_image": "https://graph.facebook.com/1801610426736161/picture?type=large", "display_name": "Abdelhafidh Belalia", "link": "https://stackoverflow.com/users/6427548/abdelhafidh-belalia"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465153589, "post_id": 37645381, "comment_id": 62771432, "body": "@Borodin i have just updated the question, check the code, .. for some reason i&#39;m getting HTTP 500 error but if i remove that line <code>print qq{HTTP&#47;1.1 206 Partial Content\\n};</code> i get 200 OK, i need to get 206 Partial Content for resumable download"}, {"owner": {"reputation": 1, "user_id": 6427548, "user_type": "registered", "profile_image": "https://graph.facebook.com/1801610426736161/picture?type=large", "display_name": "Abdelhafidh Belalia", "link": "https://stackoverflow.com/users/6427548/abdelhafidh-belalia"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465158996, "post_id": 37645381, "comment_id": 62773161, "body": "@Borodin nevermind i have just selected the best answer :)"}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465160334, "post_id": 37645381, "comment_id": 62773528, "body": "@Borodin, You are incorrect! CGI responses differs from HTTP responses! But what do I know about HTTP or CGI? I have only written most Engines for Catalyst, HTTP::Body, HTTP::Tiny and maintains FCGI ;o)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1465160595, "post_id": 37645381, "comment_id": 62773596, "body": "@chansen: Yes, my senses departed me and I made a mistake. Your reminder that this is CGI and not bare HTTP restored them. Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6427548, "user_type": "registered", "profile_image": "https://graph.facebook.com/1801610426736161/picture?type=large", "display_name": "Abdelhafidh Belalia", "link": "https://stackoverflow.com/users/6427548/abdelhafidh-belalia"}, "edited": false, "score": 1, "creation_date": 1465158957, "post_id": 37646243, "comment_id": 62773146, "body": "That what i was looking for. Thank you ^^"}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1465159920, "post_id": 37646243, "comment_id": 62773399, "body": "@Borodin, <a href=\"https://tools.ietf.org/html/rfc3875#section-6\" rel=\"nofollow noreferrer\">CGI</a> responses differs from HTTP responses! First and second hyperlink refers to the HTTP standard, third and forth hyperlinks refers to the CGI standard."}], "tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": true, "score": 2, "last_activity_date": 1465160857, "last_edit_date": 1465160857, "creation_date": 1465157079, "answer_id": 37646243, "question_id": 37645381, "link": "https://stackoverflow.com/questions/37645381/perl-http-1-1-206-partial-content/37646243#37646243", "title": "Perl HTTP/1.1 206 Partial Content", "body": "<p>You should not send a <a href=\"https://tools.ietf.org/html/rfc7230#section-3.1.2\" rel=\"nofollow\">HTTP status line</a> for <a href=\"https://tools.ietf.org/html/rfc7233#section-4.1\" rel=\"nofollow\">Partial Content response</a> in a CGI script. Your script should send a correct <a href=\"https://tools.ietf.org/html/rfc3875#section-6\" rel=\"nofollow\">CGI response</a>: </p>\n\n<blockquote>\n  <p>1*header-field NL [ response-body ]</p>\n</blockquote>\n\n<p>This should work:</p>\n\n<pre><code>Status: 206 Partial Content\\n\nContent-Range: bytes 500-900/12000\\n\nContent-Type: ?\\n\n</code></pre>\n\n<p>Your script must also send a Content-Type header:</p>\n\n<blockquote>\n  <p><a href=\"https://tools.ietf.org/html/rfc3875#section-6.3.1\" rel=\"nofollow\">If an entity body is returned, the script MUST supply a Content-Type\n  field in the response.</a></p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 6427548, "user_type": "registered", "profile_image": "https://graph.facebook.com/1801610426736161/picture?type=large", "display_name": "Abdelhafidh Belalia", "link": "https://stackoverflow.com/users/6427548/abdelhafidh-belalia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 37646243, "answer_count": 1, "score": 0, "last_activity_date": 1465160857, "creation_date": 1465151491, "last_edit_date": 1465156314, "question_id": 37645381, "link": "https://stackoverflow.com/questions/37645381/perl-http-1-1-206-partial-content", "title": "Perl HTTP/1.1 206 Partial Content", "body": "\n\n<p>How can I set my server's HTTP response to:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HTTP/1.1 206 Partial Content\n</code></pre>\n\n<p>In PHP I would write <code>header('HTTP/1.1 206 Partial Content')</code> but what about in Perl CGI?</p>\n\n<p>I'm using this code but the client reports an HTTP 500 error</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>if ( defined $ENV{HTTP_RANGE} ) {\n\n    my $startrange = 500;\n    my $endrange = 900;\n    $length = $endrange-$startrange;\n\n    print qq{HTTP/1.1 206 Partial Content\\n};\n    my $range = $startrange.'-'.$endrange.'/'.$filesize;\n    print qq{Content-Range: bytes $range\\n};\n}\n\nprint qq{Accept-Ranges: bytes\\n};\nprint qq{Content-Disposition: attachment; filename=\"$filename\"\\n};\nprint qq{Content-length: $length\\n\\n};\n</code></pre>\n\n<p>I have checked the error log, which says this:</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>malformed header from script 'download.cgi': Bad header: HTTP/1.1 206 Partial Content\n</code></pre>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465139902, "post_id": 37643395, "comment_id": 62766795, "body": "Please give a proper example of your dictionary file that we can use to test with. The whole things is only a few MB so you could post it on <a href=\"http://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin.com</a>"}, {"owner": {"reputation": 23, "user_id": 6423302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47dc3d9762bc55c404ab4f483c0113ae?s=128&d=identicon&r=PG&f=1", "display_name": "ohenri100", "link": "https://stackoverflow.com/users/6423302/ohenri100"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465140812, "post_id": 37643395, "comment_id": 62767031, "body": "Tks Borodin, I have add my dic link for test."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465142371, "post_id": 37643395, "comment_id": 62767558, "body": "Thank you very much. That helps a lot"}, {"owner": {"reputation": 23, "user_id": 6423302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47dc3d9762bc55c404ab4f483c0113ae?s=128&d=identicon&r=PG&f=1", "display_name": "ohenri100", "link": "https://stackoverflow.com/users/6423302/ohenri100"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465187578, "post_id": 37643395, "comment_id": 62779074, "body": "Tks Borodin. Very useful code."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465146480, "post_id": 37643719, "comment_id": 62768936, "body": "Very nice approach. I&#39;m always afraid of <code>seek</code> and <code>tell</code> because I assumed they introduce a &#177;1 problem but your solution is so simple and elegant. Plus it reveals your 2nd passion: languages :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465147607, "post_id": 37643719, "comment_id": 62769311, "body": "@PerlDog: As long as you ignore the actual values returned by <code>tell</code>, and only use them to feed back into <code>seek</code> (that is, use them as black-box objects) everything will work fine. And thank you, but I know far fewer languages than I would like. My main interest is in formalising languages and dialects so that they may be treated as data. Unfortunately the technology started with western languages and only later tried to squeeze Asian and African languages and dialects into the same pattern. Inevitably it didn&#39;t work, and to be honest the Unicode programme has been a huge step forward"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465150895, "post_id": 37643719, "comment_id": 62770455, "body": "I admit I haven&#39;t used seek/tell very often. You use it like <i>&quot;freezing&quot;</i> and <i>&quot;thawing&quot;</i> the file pointer. I&#39;ll consider that next time. Seems easy. /// Languages are really interesting and I also like dialects a lot but I don&#39;t deal with them &quot;scientifically&quot;. I just enjoy them."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1465155573, "post_id": 37643719, "comment_id": 62772069, "body": "@PerlDog: I wouldn&#39;t compare it to freeze/thaw, it&#39;s simply a matter of gathering metadata about the file. It&#39;s an alternative to reading the whole file into an array of text blocks, which would be a perfectly valid solution here. I guess the wind was blowing in a different direction today! It&#39;s basically how <a href=\"https://metacpan.org/pod/Tie::File\" rel=\"nofollow noreferrer\">Tie::File</a> works. Many damn that module for being slow, but as always it&#39;s perfectly fine unless its <i>too slow</i> for your application. I think it&#39;s a shame it&#39;s not used much more, as it allows you to edit a file as an array of lines. Magic!"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1465186518, "post_id": 37643719, "comment_id": 62778839, "body": "As PerlDog alluded - thank you for the expose on seek/tell."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1465232019, "last_edit_date": 1465232019, "creation_date": 1465141303, "answer_id": 37643719, "question_id": 37643395, "link": "https://stackoverflow.com/questions/37643395/perl-how-to-print-a-random-section-word-definition-from-a-dictionary-file/37643719#37643719", "title": "Perl: How to print a random section (word definition) from a dictionary file", "body": "\n\n<p>Something like this, perhaps?</p>\n\n<p>Your data has helped me to exclude the header entries in your dictionary file</p>\n\n<p>This program finds the location of all of the entries (lines beginning with <code>@</code>) in the file, then chooses one at random and prints it</p>\n\n<p><em>T\u1ed1t h\u1ecdc ti\u1ebfng Anh may m\u1eafn</em></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Fcntl ':seek';\n\nuse constant FILE =&gt; 'anhviet109K.txt';\n\nopen my $fh, '&lt;', FILE or die qq{Unable to open \"@{[FILE]}\" for input: $!};\n\nmy @seek;  # Locations of all the definitions\n\nmy $addr = tell $fh;\nwhile ( &lt;$fh&gt; ) {\n    push @seek, $addr if /^\\@(?!00-)/;  \n    $addr = tell $fh;\n}\n\nmy $choice = $seek[rand @seek];\n\nseek $fh, $choice, SEEK_SET;\nprint scalar &lt;$fh&gt;;\nwhile ( &lt;$fh&gt; ) {\n    last if /^\\@/;\n    print;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>@finesse /fi'nes/\n*  danh t\u1eeb\n- s\u1ef1 kh\u00e9o l\u00e9o, s\u1ef1 ph\u00e2n bi\u1ec7t t\u1ebf nh\u1ecb\n- m\u01b0u m\u1eb9o, m\u00e1nh kho\u00e9\n*  \u0111\u1ed9ng t\u1eeb\n- d\u00f9ng m\u01b0u \u0111o\u1ea1t (c\u00e1i g\u00ec); d\u00f9ng m\u01b0u \u0111\u1ea9y (ai) l\u00e0m g\u00ec; d\u00f9ng m\u01b0u, d\u00f9ng k\u1ebf\n=to finesse something away+ d\u00f9ng m\u01b0u \u0111o\u1ea1t c\u00e1i g\u00ec\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1465186420, "post_id": 37645116, "comment_id": 62778817, "body": "Love the algorithm - had to think about it for a minute to be convinced that it was &quot;fair&quot; - which may simply mean I&#39;m a bit slower than most. :-)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1465192375, "post_id": 37645116, "comment_id": 62780475, "body": "@Marty me too first time I saw it.  proof: if there&#39;s 1 element, it is the selected one.  if you have a fairly randomly selected element of N elements, and you add a N+1th, then 1/(N+1) of the time you should select the new element; the rest of the time (N/(N+1) of the time), you keep the previously selected one, changing its probability from 1/N to (1/N)(N/(N+1)) = 1/(N+1)."}, {"owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "edited": false, "score": 0, "creation_date": 1465258967, "post_id": 37645116, "comment_id": 62815482, "body": "That&#39;s interesting. At first I thought the algorithm was all dumb, but I now see that for the price of a whole lot of extra calls to <code>rand()</code> and assignments to <code>$definition</code>, the memory footprint is kept very small and there are no additional <code>seek</code> commands required. Depending on your constraints, that could be very useful."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "edited": false, "score": 1, "creation_date": 1465260714, "post_id": 37645116, "comment_id": 62815833, "body": "@Mort: it isn&#39;t a whole lot more assignments to definition unless you strike it really unlucky; if there are 10000 definitions, on average it will be assigning to $definition for 10 of them."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1465149840, "creation_date": 1465149840, "answer_id": 37645116, "question_id": 37643395, "link": "https://stackoverflow.com/questions/37643395/perl-how-to-print-a-random-section-word-definition-from-a-dictionary-file/37645116#37645116", "title": "Perl: How to print a random section (word definition) from a dictionary file", "body": "<p>A single pass approach:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;\n\nopen my $fh, '&lt;:utf8', 'anhviet109K.txt';\n\nmy $definition = '';\nmy $count;\nmy $select;\n\nwhile (my $line = &lt;$fh&gt;) {\n    if ($line =~ /^@(?!00-)/) {\n        ++$count;\n        $select = rand($count) &lt; 1;\n        if ($select) {\n            $definition = $line;\n        }\n    }\n    elsif ($select) {\n        $definition .= $line;\n    }\n}\n\n# remove blank line that some entries have\n$definition =~ s/^\\s+\\z//m;\n\nbinmode STDOUT, ':utf8';\nprint $definition;\n</code></pre>\n\n<p>This iterative random selection always selects the first item, has a 1/2 chance of replacing it with the second item, a 1/3 for the third, and so on.</p>\n"}], "owner": {"reputation": 23, "user_id": 6423302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47dc3d9762bc55c404ab4f483c0113ae?s=128&d=identicon&r=PG&f=1", "display_name": "ohenri100", "link": "https://stackoverflow.com/users/6423302/ohenri100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1465232019, "creation_date": 1465139205, "last_edit_date": 1465142549, "question_id": 37643395, "link": "https://stackoverflow.com/questions/37643395/perl-how-to-print-a-random-section-word-definition-from-a-dictionary-file", "title": "Perl: How to print a random section (word definition) from a dictionary file", "body": "\n\n<p>I want to print a random new word English in dictionary file in terminal Unix by Perl. I want to select and print a random line and 2 follow lines.</p>\n\n<p>But my code doesn't complete this work.</p>\n\n<p>Please help me to improve it.</p>\n\n<h3>An example of the output I wish:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>@inspire: ....\n\nghk\n\nlko...\n</code></pre>\n\n<h3>Dictionary file:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>@inspiration: mean....\n\nabc def...\n\nghk lmn\n...\n\n@inspire: ....\n\nghk\n\nlko...\n\n@people: ...\n\n...\n</code></pre>\n\n<p>The complete dictionary file is here <a href=\"http://www.mediafire.com/download/g4266s1aldm0uma/anhviet109K.txt\" rel=\"nofollow\">anhviet109K.txt</a>. It's about 14MB</p>\n\n<h3>My code:</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse File::Copy qw(copy move);\n\nmy $files = 'anhviet109K.txt';\nmy $fh;\nmy $linewanted = 16 + int( rand( 513796 - 16 ) );\n\n# 513796: number of lines of file dic.txt\n\nopen( $fh, \"&lt;\", $files ) or die \"cannot open &lt; $fh: $!\";\n\nmy $del   = \" {2,}\";\nmy $temp  = 0;\nmy $count = 0;\n\nwhile ( my $line = &lt;$fh&gt; ) {\n\n    if ( ( $line =~ \"@\" ) &amp;&amp; ( $. &gt; $linewanted ) ) {\n        $count = 4;\n    }\n    else {\n        next;\n    }\n\n    if ( $count &gt; 0 ) {\n        print $line;\n        $count--;\n    }\n    else {\n        last;\n    }\n}\n\nclose $fh;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "slice"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1465102388, "post_id": 37635914, "comment_id": 62757656, "body": "<a href=\"http://perlmonks.org/?node=References+quick+reference\" rel=\"nofollow noreferrer\">perlmonks.org/?node=References+quick+reference</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 0, "creation_date": 1465082512, "post_id": 37635943, "comment_id": 62753704, "body": "Why does the range operator return a reference?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 0, "creation_date": 1465083118, "post_id": 37635943, "comment_id": 62753816, "body": "Oh, I had a typo in the reply. Check it again: the <code>$arr[$x][$y]</code> is a reference."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1465083050, "last_edit_date": 1465083050, "creation_date": 1465082300, "answer_id": 37635943, "question_id": 37635914, "link": "https://stackoverflow.com/questions/37635914/assigning-to-a-slice-of-a-3d-array-using-the-range-operator/37635943#37635943", "title": "Assigning to a slice of a 3D array using the range operator", "body": "<p>You need to dereference the inner array:</p>\n\n<pre><code>@{ $arr[$x][$y] }[ 0 .. 2 ] = (0, 1, 2);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1465190911, "last_edit_date": 1465190911, "creation_date": 1465151160, "answer_id": 37645332, "question_id": 37635914, "link": "https://stackoverflow.com/questions/37635914/assigning-to-a-slice-of-a-3d-array-using-the-range-operator/37645332#37645332", "title": "Assigning to a slice of a 3D array using the range operator", "body": "<p><code>$array[$x][$y][0..2]</code> isn't a slice; it's just an element lookup.</p>\n\n<p>When you attempted to change it into a slice, you sliced the wrong array. You sliced <code>@arr</code> instead of <code>@{ $arr[$x][$y] }</code>.</p>\n\n<p>The key here is to realize that there's no such thing as 3d arrays in Perl. What you have is an array of references to arrays of references to array, which is colloquially called array of array of array, and often abbreviated to AoAoA. </p>\n\n<p>Array slices have the following syntax:</p>\n\n<ul>\n<li><code>@NAME[LIST]</code></li>\n<li><code>@BLOCK[LIST]</code></li>\n<li><code>@$REF[LIST]</code></li>\n<li><code>EXPR-&gt;@[LIST]</code><sup>[1]</sup></li>\n</ul>\n\n<p>You could use any of the following:</p>\n\n<ul>\n<li>The first syntax can't be used since the array to slice doesn't have a name.</li>\n<li><code>@{ $array[$x][$y] }[0..2] = 0..2;</code></li>\n<li><code>my $ref = $array[$x][$y];  @$ref[0..2] = 0..2;</code></li>\n<li><code>$array[$x][$y]-&gt;@[0..2] = 0..2;</code><sup>[1]</sup></li>\n</ul>\n\n<p>See <a href=\"http://www.perlmonks.org/?node_id=977408\" rel=\"nofollow\">Dereferencing Syntax</a>.</p>\n\n<hr>\n\n<ol>\n<li>Requires Perl 5.24+. Available in Perl 5.20+ by adding both <code>use feature qw( postderef );</code> and <code>no warnings qw( experimental::postderef );</code>.</li>\n</ol>\n"}], "owner": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 37635943, "answer_count": 2, "score": 4, "last_activity_date": 1465190911, "creation_date": 1465082027, "question_id": 37635914, "link": "https://stackoverflow.com/questions/37635914/assigning-to-a-slice-of-a-3d-array-using-the-range-operator", "title": "Assigning to a slice of a 3D array using the range operator", "body": "<p>I have a 3 dimensional array. I want to set three elements of it like this:</p>\n\n<pre><code>$array[$x][$y][0 .. 2] = (0, 1, 2);\n</code></pre>\n\n<p>but perl tells me:</p>\n\n<blockquote>\n  <p>Useless use of a constant (1) in void context</p>\n</blockquote>\n\n<p>In array context:</p>\n\n<pre><code>@array[$x][$y][0 .. 2] = (0, 1, 2);\n</code></pre>\n\n<p>but perl tells me:</p>\n\n<blockquote>\n  <p>syntax error near \"][\"</p>\n</blockquote>\n\n<p>presumably meaning that it expects me to give it two indices and then assign to the third dimension as a separate array? However, on <a href=\"https://affy.blogspot.com/p5be/ch04.htm\" rel=\"nofollow\">this page</a>, under <code>Example: Assignment Using Array Slices</code>, it suggests that it is possible to assign to a slice using the range operator where it says:</p>\n\n<pre><code>@array1[1..3] = @array2[23..25];\n</code></pre>\n\n<p>How can I assign to a slice of the array like this, or do I have to assign each index individually?</p>\n"}, {"tags": ["perl", "dbix-class"], "owner": {"reputation": 1350, "user_id": 1103848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/aMC26.jpg?s=128&g=1", "display_name": "Sandeep Chayapathi", "link": "https://stackoverflow.com/users/1103848/sandeep-chayapathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1465078980, "creation_date": 1465078980, "question_id": 37635596, "link": "https://stackoverflow.com/questions/37635596/dbicdump-and-set-on-create-with-timestamp", "title": "dbicdump and set_on_create with TimeStamp", "body": "<p>In my webapp all of the tables have a <em>created_date</em> field. I'm using <a href=\"http://search.cpan.org/~ribasushi/DBIx-Class-TimeStamp-0.14/lib/DBIx/Class/TimeStamp.pm\" rel=\"nofollow\">DBIx::Class::TimeStamp</a> so that I can use <code>set_on_create</code> and <code>set_on_update</code>  while declaring the columns. </p>\n\n<p>Im using <code>dbicdump</code> to auto-generate the schema classes. Can <code>dbicdump</code> add the <code>set_on_create</code> etc while generating the schema ? </p>\n"}, {"tags": ["perl", "swig", "c-api"], "comments": [{"owner": {"reputation": 5040, "user_id": 1226807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d09717ce290fa000b37b839066d4653?s=128&d=identicon&r=PG&f=1", "display_name": "airween", "link": "https://stackoverflow.com/users/1226807/airween"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1465073265, "post_id": 37634442, "comment_id": 62751554, "body": "I&#39;ve completed the post - see the &quot;EDIT&quot; part. What do you need even more?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1465130246, "post_id": 37634442, "comment_id": 62763712, "body": "<a href=\"http://www.perlmonks.org/?node_id=1164929\" rel=\"nofollow noreferrer\">Crossposted</a>."}, {"owner": {"reputation": 5040, "user_id": 1226807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d09717ce290fa000b37b839066d4653?s=128&d=identicon&r=PG&f=1", "display_name": "airween", "link": "https://stackoverflow.com/users/1226807/airween"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1465135151, "post_id": 37634442, "comment_id": 62765371, "body": "Yes, that&#39;s crossposted - is there any list of forums/mailing lists, that depends Stackoverflow, and will marked as crosspost? I thought the SO and Perlmonks are two different places. Anyway, I apologize for crosspost, sorry."}], "answers": [{"comments": [{"owner": {"reputation": 5040, "user_id": 1226807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d09717ce290fa000b37b839066d4653?s=128&d=identicon&r=PG&f=1", "display_name": "airween", "link": "https://stackoverflow.com/users/1226807/airween"}, "edited": false, "score": 1, "creation_date": 1465307845, "post_id": 37667575, "comment_id": 62839859, "body": "Hi H&#229;kon, many-many thanks for your help. Looks like my SWIG file, typemaps and all components except the Perl file were right. I&#39;m not a Perl guru (I really don&#39;t know Perl), I just screwed up the assignment and walk of array - see the Perl script here: <a href=\"http://www.perlmonks.org/?node_id=1164929\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1164929</a>. Many thanks again!"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1465251132, "last_edit_date": 1465251132, "creation_date": 1465250733, "answer_id": 37667575, "question_id": 37634442, "link": "https://stackoverflow.com/questions/37634442/swig-typedef-perl-array/37667575#37667575", "title": "SWIG typedef - Perl array", "body": "<p>I have not used SWIG before, but I thought it could be intersting to learn a little bit about it. After reading the <a href=\"http://www.swig.org/Doc3.0/Sections.html#Sections\" rel=\"nofollow\">documentation</a> for hours, I think I might have found something that could solve your problem. First we need the interface file <code>example.i</code>:</p>\n\n<pre><code>%module example\n\n%typemap(out) int [ANY] {\n    AV* av = newAV();\n    int i = 0,len = 0;\n    len = $1_dim0;\n\n    for (i = 0; i &lt; len ; i++) {\n        SV* perlval = newSV(0);\n        sv_setiv(perlval, (IV)$1[i]);\n        av_push(av, perlval);\n    }\n    $result = newRV_noinc((SV*) av );\n    sv_2mortal( $result );\n    argvi++;\n}\n\n%typemap(in) int [ANY] {\n  AV *tempav;\n  I32 len;\n  int i;\n  SV  **tv;\n  if (!SvROK($input))\n    croak(\"Argument $argnum is not a reference.\");\n  if (SvTYPE(SvRV($input)) != SVt_PVAV)\n    croak(\"Argument $argnum is not an array.\");\n  tempav = (AV*)SvRV($input);\n  len = av_len(tempav);\n  $1 = (int *) malloc((len+1)*sizeof(int));\n  for (i = 0; i &lt;= len; i++) {\n    tv = av_fetch(tempav, i, 0);\n    $1[i] = (int) SvIV(*tv);\n  }\n}\n\n%typemap(freearg) int * {\n  free($1);\n}\n\n%typemap(memberin) int [ANY] {\n  int i;\n  for (i = 0; i &lt; $1_dim0; i++) {\n      $1[i] = $input[i];\n  }\n}\n\n%inline %{\n\nstruct m {\n    int ilist[3];\n};\n\n%}\n</code></pre>\n\n<p>Then we need to create a Perl script to test the <code>example::m</code> package:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse example;\n\nmy $m = example::m-&gt;new();\n$m-&gt;{ilist} = [1, 2, 3];\nmy $list = $m-&gt;{ilist};\n\nmy $i = 0;\nfor ( @$list ) {\n    say \"$i: '$_'\";\n    $i=$i+1;\n}\n</code></pre>\n\n<p>The output is now (after compiling the interface file and running the Perl script):</p>\n\n<pre><code>0: '1'\n1: '2'\n2: '3'\n</code></pre>\n\n<p><strong>Note</strong>:</p>\n\n<ul>\n<li><p>I first installed SWIG 3.0.8 ( on Ubuntu 16.04 ) using</p>\n\n<pre><code>$ sudo apt-get install swig\n</code></pre></li>\n<li><p>Then I compiled the interface file <code>example.i</code> using:</p>\n\n<pre><code>$ swig -perl5 example.i\n$ gcc -fpic -c -Dbool=char -D_GNU_SOURCE \\ \n   -I/usr/lib/x86_64-linux-gnu/perl/5.22/CORE example_wrap.c\n$ gcc -shared example.o example_wrap.o -o example.so\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 5040, "user_id": 1226807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d09717ce290fa000b37b839066d4653?s=128&d=identicon&r=PG&f=1", "display_name": "airween", "link": "https://stackoverflow.com/users/1226807/airween"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 37667575, "answer_count": 1, "score": 2, "last_activity_date": 1465251132, "creation_date": 1465070114, "last_edit_date": 1465073185, "question_id": 37634442, "link": "https://stackoverflow.com/questions/37634442/swig-typedef-perl-array", "title": "SWIG typedef - Perl array", "body": "<p>I have a SWIG file to make many bindings for languages. There is a variable in C source, which is a fixed length list, with integer type. When I'm accessing to that in Perl, that has no items - just shows it's an ARRAY.</p>\n\n<p>Same problem was in Python, but I could fixed that with a SWIG typemap:</p>\n\n<pre><code>#ifdef SWIGPYTHON\n%typemap(out) int [ANY] {\n   ...\n</code></pre>\n\n<p>Ok, I'ld like to do it again with Perl - but I'm not a Perl expert, so I can fix this typemap for Perl. This is what I try:</p>\n\n<pre><code>#ifdef SWIGPERL\n%typemap(out) int [ANY] {\n    SV* sv = newSV(0);\n    AV* av = (AV *)sv_2mortal((SV *)newAV());\n    int i = 0,len = 0;\n    printf(\"len: %d\\n\", $1_dim0);\n    len = $1_dim0;\n\n    for (i = 0; i &lt; len ; i++) {\n        SV* perlval = newSV(0);\n        sv_setiv(perlval, (IV)$1[i]);\n        av_push(av, perlval);\n    }\n    SvSetSV($result, newRV_noinc((SV *)av));\n}\n#endif\n</code></pre>\n\n<p>The perl script shows me the \"len: 10\", when it runs, but the array is empty:</p>\n\n<pre><code>$i=1;\nforeach(@m) {\n    print $i, \"'\", $_, \"'\\n\";\n    $i=$i+1;\n}\n</code></pre>\n\n<p>the result is:</p>\n\n<blockquote>\n  <p>0''</p>\n</blockquote>\n\n<p>What em'I missing?</p>\n\n<p>Thanks,</p>\n\n<p>a.</p>\n\n<p>EDIT: here's the Perl script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse example1;\n\n# this function set up the built-in list in example1 module\nexample1::get_att(7);\nmy @m = $example1::m-&gt;{ilist};\n\n# \"m\" is a C structure in C source, and it has an \"int ilist[10];\" member.\n# get_att(int n) will fill this list with \"n\" number\n# This will be accesable in binded lanugage (eg in Python) as like this:\n# print m.ilist  -&gt; [0, 3, 6, 9, 12, 15, 18, 0, 0, 0]\n$i = 0;\nforeach(@m) {\n    print $i, \"'\", $_, \"'\\n\";\n    $i=$i+1;\n}\n</code></pre>\n\n<p>Now, this script produces this result:</p>\n\n<pre><code>len: 10\n0''\n</code></pre>\n\n<p>The \"len: 10\" output came from SWIG typedef - see \"printf(\"len: %d...\" line...</p>\n"}, {"tags": ["macos", "apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1465077445, "post_id": 37634188, "comment_id": 62752651, "body": "bit more info? whats the URL you are using to execute the CGI script? when you say plain text do you mean your browser just shows the contents of the script rather than executing it?"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1465078587, "post_id": 37634188, "comment_id": 62752937, "body": "What is your <code>ScriptAliased</code> directive set to?"}, {"owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1465089062, "post_id": 37634188, "comment_id": 62754749, "body": "@ChrisDoyle I used <a href=\"http://localhost/cgi-bin/test.pl\" rel=\"nofollow noreferrer\">localhost/cgi-bin/test.pl</a> as I&#39;ve put my pl file in the directory  /Library/WebServer/CGI-Executables. And yes, it just shows the content of my script and not executing it though when I do perl test.pl, it does generate specified html tags in the terminal."}, {"owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1465089149, "post_id": 37634188, "comment_id": 62754761, "body": "@RonBergin how should I check where my ScriptAliased directive has been set to?"}, {"owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1465133758, "post_id": 37634188, "comment_id": 62764923, "body": "@RonBergin if this is what you meant my ScriptAliased is set like this: ScriptAliasMatch ^/cgi-bin/((?!(?i:webobjects)).*$) &quot;/Library/WebServer/CGI-Executables/$1&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "is_accepted": true, "score": 1, "last_activity_date": 1465134637, "creation_date": 1465134637, "answer_id": 37642668, "question_id": 37634188, "link": "https://stackoverflow.com/questions/37634188/cgi-script-runs-as-plain-text-instead-of-a-webpage-on-mac/37642668#37642668", "title": "cgi script runs as plain text instead of a webpage on mac", "body": "<p>So..I digged more into it and re-visited more stack overflow posts. It turns that I need to uncomment the line in the config file:</p>\n\n<pre><code>  LoadModule cgi_module libexec/apache2/mod_cgi.so\n</code></pre>\n\n<p>which isn't mentioned in the tutorial that I followed. Thanks for all the previous comments</p>\n"}], "owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 37642668, "answer_count": 1, "score": 0, "last_activity_date": 1465134637, "creation_date": 1465068404, "question_id": 37634188, "link": "https://stackoverflow.com/questions/37634188/cgi-script-runs-as-plain-text-instead-of-a-webpage-on-mac", "title": "cgi script runs as plain text instead of a webpage on mac", "body": "<p>I've followed this post to run the test.pl file:</p>\n\n<pre><code> http://editrocket.com/articles/perl_apache_mac.html\n</code></pre>\n\n<p>I've also done some configuration in the httpd.conf file and here's a snapshot of what I did:</p>\n\n<pre><code>#\n# Deny access to the entirety of your server's filesystem. You must\n# explicitly permit access to web content directories in other \n# &lt;Directory&gt; blocks below.\n#\n&lt;Directory /&gt;\n#Options FollowSymLinks\nOptions Indexes FollowSymLinks Includes ExecCGI\nAllowOverride All\nRequire all granted\nAllow from all\n&lt;/Directory&gt;\n\n.....\n#\n# \"/Library/WebServer/CGI-Executables\" should be changed to whatever your ScriptAliased\n# CGI directory exists, if you have that configured.\n#\n&lt;Directory \"/Library/WebServer/CGI-Executables\"&gt;\nAllowOverride None\nOptions None\nRequire all granted\n&lt;/Directory&gt;\n...\n    #\n# AddHandler allows you to map certain file extensions to \"handlers\":\n# actions unrelated to filetype. These can be either built into the server\n# or added with the Action directive (see below)\n#\n# To use CGI scripts outside of ScriptAliased directories:\n# (You will also need to add \"ExecCGI\" to the \"Options\" directive.)\n#\nAddHandler cgi-script .cgi .pl\n</code></pre>\n\n<p>Like the apache server is running as I run <a href=\"http://localhost\" rel=\"nofollow\">http://localhost</a>, I get a \"It works!\" page. What else should I do to get the .cgi running?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1465155038, "post_id": 37633699, "comment_id": 62771880, "body": "Perfore 5.20, you could use /p or captures."}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 6, "last_activity_date": 1465068016, "creation_date": 1465068016, "answer_id": 37634131, "question_id": 37633699, "link": "https://stackoverflow.com/questions/37633699/perl-match-variables-and-performance-how-does-it-work/37634131#37634131", "title": "Perl match variables and performance. How does it work?", "body": "<ul>\n<li><p>It has to copy the string because the original variable may have been modified between the regex match and the time the match variables are used:</p>\n\n<pre><code>my $var = \"foobar\";\n$var =~ /.../ or die;\n$var = \"hello\";\nprint \"$&amp; $'\";  # outputs \"foo bar\"\n</code></pre></li>\n<li><p>It has to effectively make a copy of the whole string because that's what <code>$` . $&amp; . $'</code> results in. As you quoted yourself, in perl 5.18 someone realized that you could track each variable separately and thus only copy the part before the match (or the match itself, or the part after the match) if only that variable appears in the code:</p>\n\n<blockquote>\n  <p>In Perl 5.18.0 onwards, perl started noting the presence of each of the three variables separately, and only copied that part of the string required</p>\n</blockquote></li>\n<li><p>The match variables are global. You could at any time call a function (that calls a function that calls a function ...) that accesses <code>$`</code> or <code>$&amp;</code> or <code>$'</code>, so perl has to do a full copy after each successful regex match if those variables have been seen anywhere in the code. (Basically, perl can't statically determine that a particular piece of code is never going to access those match variables and thus avoid the copy.)</p></li>\n</ul>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 37634131, "answer_count": 1, "score": 4, "last_activity_date": 1465068016, "creation_date": 1465065217, "last_edit_date": 1465066702, "question_id": 37633699, "link": "https://stackoverflow.com/questions/37633699/perl-match-variables-and-performance-how-does-it-work", "title": "Perl match variables and performance. How does it work?", "body": "<p>According to <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perlvar</a>:</p>\n\n<blockquote>\n  <p><strong>Variables related to regular expressions</strong>  </p>\n  \n  <p>These variables are read-only\n  and dynamically-scoped, unless we note otherwise. The dynamic nature\n  of the regular expression variables means that their value is limited\n  to the block that they are in.</p>\n</blockquote>\n\n<p>and further down:</p>\n\n<blockquote>\n  <p>Traditionally in Perl, any use of any of the three variables <code>$`</code> , <code>$&amp;</code>\n  or <code>$'</code> anywhere in the code, caused\n  all subsequent successful pattern matches to make a copy of the\n  matched string, in case the code might subsequently access one of\n  those variables.</p>\n</blockquote>\n\n<p>After reading the rest of the section from the documentation, I still missed some information like: </p>\n\n<ul>\n<li><p>Why is a copy made in the first place? </p>\n\n<p>I think I know the answer to this one: It is sort of clear from the last statement <code>\"in case the code might subsequently access one of those variables\"</code>.\nSo in my understanding:</p>\n\n<pre><code>my $s = \"Hello world\";\n$s =~ s/Hello //;\nsay $';\n</code></pre>\n\n<p>this would still print <code>world</code> since a copy was made before <code>$s</code> was modified.</p></li>\n<li><p>Why is a copy of the <em>whole</em> string done?</p>\n\n<p>In the previous example, it would suffice to copy only the trailing part of the string, since only <code>$'</code> was used ( we did not use <code>$`</code> or <code>$&amp;</code> ). So why copy the whole string?</p></li>\n<li><p>Finally: Since it says <code>\"all subsequent\"</code> and not <code>\"all subsequent matches in that block\"</code>, I would like to have that confirmed:  </p>\n\n<pre><code>my $s = \"no\\n yesHello world\";\n{\n    $s =~ /yes/ and say $'; # Note the use of $'\n}\n$s = '12' x 1_000_000;\nmy $n = () = $s =~ /2/g;\nsay \"Found $n matches\";\n</code></pre>\n\n<p>In this case, (since <code>$'</code> is used only in the inner scope) there would be no copying related to the one million  successfull matches in <code>$s =~ /2/g</code>? (Asumming I did not mention any of <code>$`</code>, <code>$&amp;</code> and <code>$'</code> in the outer scope)</p></li>\n</ul>\n\n<hr>\n\n<p><strong>Note</strong>:</p>\n\n<ul>\n<li><p>The question assumes a perl version less than 5.18.\nAccording to <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perlvar</a>:</p>\n\n<blockquote>\n  <p>In Perl 5.18.0 onwards, perl started noting the presence of each of\n  the three variables separately, and only copied that part of the\n  string required</p>\n  \n  <p>In Perl 5.20.0 a new copy-on-write system was enabled by default,\n  which finally fixes all performance issues with these three variables,\n  and makes them safe to use anywhere.</p>\n</blockquote></li>\n<li><p>I am only asking this question out of curiosity. I am not intending to actually use any of these variables in my code since I would like my program to work for efficiently for earlier perl versions ( &lt; 5.20 ) also.</p>\n\n<p>Further, as noted in the manual, they can be easily emulated (without the implicit copying and performance hit) using <code>$+[0]</code> and <code>$-[0]</code> (which was introduced in perl version 5.6. I am using perl version 5.22 myself). See <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perlvar</a> for more information.</p></li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1465060981, "post_id": 37632902, "comment_id": 62747900, "body": "what about to download this link <a href=\"http://www.tpex.org.tw/web/stock/aftertrading/daily_mktval/mkt_print.php?l=en-us&amp;d=2016/06/04&amp;s=0,asc,0\" rel=\"nofollow noreferrer\">tpex.org.tw/web/stock/aftertrading/daily_mktval/&hellip;</a>"}, {"owner": {"reputation": 1244, "user_id": 5771474, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d72304402b6865856d86e1ab6282163c?s=128&d=identicon&r=PG&f=1", "display_name": "Ice", "link": "https://stackoverflow.com/users/5771474/ice"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1465061061, "post_id": 37632902, "comment_id": 62747926, "body": "But how to do it? Using $content ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465061259, "post_id": 37632902, "comment_id": 62747981, "body": "You must describe and give an example of the output that you need before anyone can help you"}, {"owner": {"reputation": 1244, "user_id": 5771474, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d72304402b6865856d86e1ab6282163c?s=128&d=identicon&r=PG&f=1", "display_name": "Ice", "link": "https://stackoverflow.com/users/5771474/ice"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465061450, "post_id": 37632902, "comment_id": 62748045, "body": "@Borodin  Output should be like that: OBI Pharma, Inc. \t171,199,584 \t594.00 \t101,692 Vanguard  Co. \t1,638,982,267 \t53.90 \t88,341 and more rows.  Just simple display"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1465061773, "post_id": 37632902, "comment_id": 62748153, "body": "This doesn&#39;t seem to be too hard. What is the problem that you&#39;re having? What have you written that doesn&#39;t work?"}, {"owner": {"reputation": 5091, "user_id": 2077386, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/49bce27bde92d6ee5970ef7259c09bb3?s=128&d=identicon&r=PG", "display_name": "rrauenza", "link": "https://stackoverflow.com/users/2077386/rrauenza"}, "edited": false, "score": 2, "creation_date": 1465067099, "post_id": 37632902, "comment_id": 62749681, "body": "Please edit your question to add more information, not the comments."}, {"owner": {"reputation": 1244, "user_id": 5771474, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d72304402b6865856d86e1ab6282163c?s=128&d=identicon&r=PG&f=1", "display_name": "Ice", "link": "https://stackoverflow.com/users/5771474/ice"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1465137734, "post_id": 37632902, "comment_id": 62766146, "body": "@mkHun could you tell me how you get this link to this table?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1465142176, "post_id": 37632902, "comment_id": 62767475, "body": "@Ice Simply click the  &#39;Print/Export HTML&#39; button on top of the table."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465147796, "post_id": 37632902, "comment_id": 62769376, "body": "@Ice: Please don&#39;t just delete your questions before we have had a chance to understand your issues"}, {"owner": {"reputation": 1244, "user_id": 5771474, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d72304402b6865856d86e1ab6282163c?s=128&d=identicon&r=PG&f=1", "display_name": "Ice", "link": "https://stackoverflow.com/users/5771474/ice"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465148208, "post_id": 37632902, "comment_id": 62769502, "body": "@Borodin that was bad question, my bad. Sorry :("}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465150316, "post_id": 37632902, "comment_id": 62770247, "body": "@Ice: Maybe. We will never know now"}], "answers": [{"comments": [{"owner": {"reputation": 1244, "user_id": 5771474, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d72304402b6865856d86e1ab6282163c?s=128&d=identicon&r=PG&f=1", "display_name": "Ice", "link": "https://stackoverflow.com/users/5771474/ice"}, "edited": false, "score": 0, "creation_date": 1465062134, "post_id": 37633140, "comment_id": 62748252, "body": "What $, = &quot;\\t,\\t&quot; doing ?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 1244, "user_id": 5771474, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d72304402b6865856d86e1ab6282163c?s=128&d=identicon&r=PG&f=1", "display_name": "Ice", "link": "https://stackoverflow.com/users/5771474/ice"}, "edited": false, "score": 0, "creation_date": 1465062503, "post_id": 37633140, "comment_id": 62748378, "body": "@Ice This is nothing this is called <a href=\"http://perlmaven.com/output-field-separator-and-list-separator\" rel=\"nofollow noreferrer\">output field separator</a>. I just add the two tabs in  your output."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1465062984, "last_edit_date": 1465062984, "creation_date": 1465061589, "answer_id": 37633140, "question_id": 37632902, "link": "https://stackoverflow.com/questions/37632902/getting-data-from-table/37633140#37633140", "title": "Getting data from table ?", "body": "<p>Simple pattern matching and some trick enough for to do it.</p>\n\n<p>In your task <code>$content</code> contain the whole text.</p>\n\n<p>First, extract the table body content from the <code>$content</code> by using <code>.+</code> with <code>s</code> flag. <code>s</code> flag helps to allow, match the any character with new line.</p>\n\n<p>Second, split the extracted data by using <code>&lt;/tr&gt;</code>.</p>\n\n<p>Third, Iterate the foreach for the array then again will do pattern matching with grouping for extract the data. </p>\n\n<p>Here <code>$l1</code> and <code>$l2</code> stores the <code>rank</code> and <code>stock code</code>. And the other data will be stored into the <code>@arc</code> variable</p>\n\n<pre><code>my $url = 'http://www.tpex.org.tw/web/stock/aftertrading/daily_mktval/mkt_print.php?l=en-us&amp;d=2016/06/04&amp;s=0,asc,0';\nuse LWP::Simple;\nmy $content = get $url;\ndie \"Couldn't get $url\" unless defined $content;\n\n\nmy ($table_body) = $content =~m/&lt;tbody&gt;(.+)&lt;\\/tbody&gt;/s;\n\nmy @ar = split(\"&lt;/tr&gt;\",$table_body);\n\nforeach my $lines(@ar)\n{\n    my ($l1,$l2,@arc) = $lines =~m/&gt;(.+?)&lt;\\/td&gt;/g;\n    $, = \"\\t\\t\";\n    print @arc,\"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1465139025, "last_edit_date": 1465139025, "creation_date": 1465061663, "answer_id": 37633160, "question_id": 37632902, "link": "https://stackoverflow.com/questions/37632902/getting-data-from-table/37633160#37633160", "title": "Getting data from table ?", "body": "<p>You need to take a look at the excellent <a href=\"https://metacpan.org/pod/HTML::TableExtract\" rel=\"nofollow\"><code>HTML::TableExtract</code> module</a></p>\n\n<p>Here's an example that uses the module to extract the data you require. I've used the URL for the printer-friendly version of the page for two reasons: the standard page uses JavaScript to build the table after it has been downloaded, so it isn't available to <code>LWP::Simple</code> which doesn't have JavaScript support; and it includes all the information on a single page, whereas the main page splits it up into many short sections</p>\n\n<p>This is a far more robust, clear, and flexible technique than using regex patterns to parse HTML, which is generally a terrible idea</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse LWP::Simple;\nuse HTML::TableExtract;\n\nuse open qw/ :std :encoding(utf-8) /;\n\nuse constant URL =&gt; 'http://www.tpex.org.tw/web/stock/aftertrading/daily_mktval/mkt_print.php?l=en-us';\n\nmy $content = get URL or die \"Couldn't get \" . URL;\n\nmy $te = HTML::TableExtract-&gt;new( headers =&gt; [\n    qr/Stock\\s+Name/,\n    qr/Capitals/,\n    qr/Close\\s+Price/,\n    qr/Market\\s+Value/,\n] );\n\n$te-&gt;parse($content);\n\nfor my $row ( $te-&gt;rows ) {\n\n    next unless $row-&gt;[0];        # Skip the final row with empty fields\n\n    $_ = qq{\"$_\"} for $row-&gt;[0];  # Enclose the Stock Name in quotes\n    tr/,//d for @{$row}[1,2,3];   # and remove commas from the numeric columns\n\n    print join(',', @$row), \"\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"OBI Pharma, Inc.\",171199584,594.00,101692\n\"Vanguard International Semiconductor Co.\",1638982267,53.90,88341\n\"Hermes Microvision, Inc.\",71000000,1155.00,82005\n\"TaiMed Biologics Inc.\",247732750,238.00,58960\n\"Phison Electronics Corp.\",197373993,271.00,53488\n\"FamilyMart.co.,Ltd\",223220000,202.00,45090\n\"WIN SEMICONDUCTORS CORP.\",596666262,65.30,38962\n\"PChome online Inc.\",99854871,368.50,36796\n\"TUNG THIH ELECTRONIC CO.,LTD.\",84488699,435.00,36752\n\"ST.SHINE OPTICAL CO.,LTD\",50416516,694.00,34989\n\"POYA CO.,LTD\",95277388,350.00,33347\n\"SIMPLO TECHNOLOGY CO.,LTD.\",308284198,108.00,33294\n\"LandMark Optoelectronics Corporation\",69909752,474.50,33172\n\"Ginko International Co., Ltd.\",92697472,340.00,31517\n\"GIGASOLAR MATERIALS CORPORATION\",60989036,506.00,30860\n\"TTY Biopharm Company Limited\",248649959,114.00,28346\n\"CHIPBOND TECHNOLOGY CORPORATION\",649261998,41.90,27204\n\"Globalwafers.Co.,Ltd.\",369250000,69.10,25515\n\"eMemory Technology lnc.\",75782242,321.00,24326\n\"Parade Technology, Ltd.\",76111677,315.50,24013\n\"PharmaEngine, Inc.\",102101000,235.00,23993\n\"JIH SUN FINANCIAL HOLDING CO., LTD\",3396302860,6.86,23298\n...\n</code></pre>\n"}], "owner": {"reputation": 1244, "user_id": 5771474, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d72304402b6865856d86e1ab6282163c?s=128&d=identicon&r=PG&f=1", "display_name": "Ice", "link": "https://stackoverflow.com/users/5771474/ice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 37633160, "answer_count": 2, "score": 0, "last_activity_date": 1465139025, "creation_date": 1465060077, "question_id": 37632902, "link": "https://stackoverflow.com/questions/37632902/getting-data-from-table", "title": "Getting data from table ?", "body": "<p>how to display data (Stock name, Capitals, Close Price, Market value)from the website in terminal? I have this website:</p>\n\n<p><a href=\"http://www.tpex.org.tw/web/stock/aftertrading/daily_mktval/mkt.php?l=en-us\" rel=\"nofollow\">http://www.tpex.org.tw/web/stock/aftertrading/daily_mktval/mkt.php?l=en-us</a></p>\n\n<p>, I create somethink.</p>\n\n<pre><code>    my $url = 'http://www.tpex.org.tw/web/stock/aftertrading/daily_mktval/mkt.php?l=en-us';\n\n\n  use LWP::Simple;\n  my $content = get $url;\n  die \"Couldn't get $url\" unless defined $content;\n</code></pre>\n\n<p>But I don't really know how to use <code>$content</code> to print the data which I need.</p>\n\n<p>I'll be grateful for each help :)</p>\n"}, {"tags": ["perl", "backticks"], "answers": [{"comments": [{"owner": {"reputation": 64, "user_id": 5961290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cdd1605a3863e981937f578f286ce70?s=128&d=identicon&r=PG&f=1", "display_name": "fat_apupu", "link": "https://stackoverflow.com/users/5961290/fat-apupu"}, "edited": false, "score": 0, "creation_date": 1465055476, "post_id": 37631817, "comment_id": 62746096, "body": "Thanks. I wasn&#39;t aware that key/value assignment within <code>{....}</code> is array context. I thought that values are always scalar. Thanks for pointing this out."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 6, "last_activity_date": 1465055807, "last_edit_date": 1465055807, "creation_date": 1465053432, "answer_id": 37631817, "question_id": 37631634, "link": "https://stackoverflow.com/questions/37631634/perl-backticks-in-hash-ref-giving-different-results/37631817#37631817", "title": "Perl backticks in hash ref giving different results", "body": "<p><a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\">perldoc perlop</a>:</p>\n\n<blockquote>\n  <p>In scalar context, it comes back as a single (potentially multi-line) string, or <code>undef</code> if the command failed. In list context, returns a list of lines (however you've defined lines with <code>$/</code> or <code>$INPUT_RECORD_SEPARATOR</code>), or an empty list if the command failed.</p>\n</blockquote>\n\n<p>Assigning to a scalar puts <code>``</code> in scalar context; using it in <code>{ ... }</code> puts it in list context.</p>\n\n<p><code>{ LIST }</code> takes a list and interprets its contents alternating between keys and values, i.e. <code>key1, value1, key2, value2, key3, value3, ...</code>. If the number of elements is odd, you get a warning (and the missing value is taken to be <code>undef</code>).</p>\n\n<p><code>LIST , LIST</code> (the comma operator in list context) concatenates two lists.</p>\n\n<p><code>=&gt;</code> works just like <code>,</code> but automatically quotes the identifier to its left (if there is one).</p>\n"}], "owner": {"reputation": 64, "user_id": 5961290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cdd1605a3863e981937f578f286ce70?s=128&d=identicon&r=PG&f=1", "display_name": "fat_apupu", "link": "https://stackoverflow.com/users/5961290/fat-apupu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 1, "accepted_answer_id": 37631817, "answer_count": 1, "score": 4, "last_activity_date": 1465055807, "creation_date": 1465052255, "last_edit_date": 1465055564, "question_id": 37631634, "link": "https://stackoverflow.com/questions/37631634/perl-backticks-in-hash-ref-giving-different-results", "title": "Perl backticks in hash ref giving different results", "body": "<p>I have a file called a.gz which is a gzipped file which contains the following lines when unzipped:</p>\n\n<pre><code>a\nb\n</code></pre>\n\n<p>Below are two blocks of perl code which I think \"should\" give the same results but they don't.</p>\n\n<p>Code #1:</p>\n\n<pre><code>use Data::Dumper;\nmy $s = {\n        status =&gt; 'ok',\n        msg    =&gt; `zcat a.gz`\n};\nprint Dumper($s),\"\\n\";\n</code></pre>\n\n<p>Code #2:</p>\n\n<pre><code>use Data::Dumper;\nmy $content = `zcat a.gz`;\nmy $s = {\n      status =&gt; 'ok',\n      msg    =&gt; $content\n};\nprint Dumper($s), \"\\n\";\n</code></pre>\n\n<p>Code #1 gives the following result:</p>\n\n<pre><code>Odd number of elements in anonymous hash at ./x.pl line 8.\n$VAR1 = {\n          'msg' =&gt; 'a\n',\n          'b\n' =&gt; undef,\n          'status' =&gt; 'ok'\n        };\n</code></pre>\n\n<p>Code #2 returns the following result:</p>\n\n<pre><code>$VAR1 = {\n          'msg' =&gt; 'a\nb\n',\n          'status' =&gt; 'ok'\n        };\n</code></pre>\n\n<p>I'm using perl 5.10.1 running in Linux</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 3, "creation_date": 1465020559, "post_id": 37626969, "comment_id": 62736217, "body": "you need to print $1 value.."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465033727, "post_id": 37626969, "comment_id": 62739469, "body": "Your regex is fine -- the <code>&#47;s</code> modifier provides that the <code>.</code> matches the new line as well. There are variations and subtleties but it should work as it stands and it does for me.  Please show your whole program, the mistake is somewhere else."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1465039993, "post_id": 37627124, "comment_id": 62741184, "body": "The OP already has the <code>&#47;s</code> modifier in their <code>&#47;haha(.*?)lolo&#47;s</code>"}], "tags": [], "owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "is_accepted": true, "score": 3, "last_activity_date": 1465050568, "last_edit_date": 1465050568, "creation_date": 1465021665, "answer_id": 37627124, "question_id": 37626969, "link": "https://stackoverflow.com/questions/37626969/perl-regex-match-string-including-newline/37627124#37627124", "title": "Perl regex match string including newline", "body": "<p>You need <code>(?s)</code> modifier</p>\n\n<pre><code>$x=\"haha\\nhphp\\nhdhd\\nlolo\\n\";\n$x =~ s/(?s)haha\\s*(.*?)\\s*lolo/$1/;\nprint $x;\n</code></pre>\n\n<p>or lookahad and lookbehind</p>\n\n<pre><code>$x=\"haha\\nhphp\\nhdhd\\nlolo\\n\";\n$x =~ m/(?s)(?&lt;=haha)\\s*(.*?)(?=\\s*lolo)/;\nprint $1;\n</code></pre>\n\n<p><strong>NOTE</strong> :- <code>(?s)</code> is DOTALL modifier. It allows to matche newline with <code>.</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>You can also use what you were using earlier (<em>I didn't paid attention to it</em>). You just need to access the first capturing group which can be done by using <code>$1</code>, <code>$2</code> etc.</p>\n\n<pre><code>$x =~ s/haha\\s*(.*?)\\s*lolo/$1/s\n               &lt;---&gt;\n                $1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1465040268, "last_edit_date": 1495541755, "creation_date": 1465040268, "answer_id": 37629748, "question_id": 37626969, "link": "https://stackoverflow.com/questions/37626969/perl-regex-match-string-including-newline/37629748#37629748", "title": "Perl regex match string including newline", "body": "<p>There is nothing wrong with your code, and you should disregard the answers from others who are unfamiliar with Perl</p>\n\n<p>As <a href=\"https://stackoverflow.com/questions/37626969/perl-regex-match-string-including-newline#comment62736217_37626969\"><strong>Avinash Raj</strong> said in his comment</a>, your regex matches your string, and all you need to do is to use the capture variable <code>$1</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump;\n\nmy $s = \"haha\\nhphp\\nhdhd\\nlolo\\n\";\n\ndd $1 if $s =~ /haha(.*?)lolo/s\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>\"\\nhphp\\nhdhd\\n\"\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 3635458, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000066897378/picture?type=large", "display_name": "Tatt Ehian", "link": "https://stackoverflow.com/users/3635458/tatt-ehian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3358, "favorite_count": 1, "accepted_answer_id": 37627124, "answer_count": 2, "score": 2, "last_activity_date": 1465074206, "creation_date": 1465020468, "last_edit_date": 1465035794, "question_id": 37626969, "link": "https://stackoverflow.com/questions/37626969/perl-regex-match-string-including-newline", "title": "Perl regex match string including newline", "body": "<p>How do I match something like this:</p>\n\n<pre><code>haha\\nhphp\\nhdhd\\nlolo\\n\n</code></pre>\n\n<p>I want to extract between <code>haha</code> and <code>lolo</code> including the newline character, I was using the regex below but failed:</p>\n\n<pre><code>/haha(.*?)lolo/s\n</code></pre>\n\n<p>What I expected to be extracted:</p>\n\n<pre><code>\\nhphp\\nhdhd\\n\n</code></pre>\n\n<p>I tried with the other modifiers like <code>//n</code>, <code>//m</code>, but it doesn't work.</p>\n"}, {"tags": ["regex", "perl", "awk", "uniq"], "answers": [{"tags": [], "owner": {"reputation": 1155, "user_id": 1087300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7faaec4af21cbf24c6f14977a74d0744?s=128&d=identicon&r=PG", "display_name": "Chet", "link": "https://stackoverflow.com/users/1087300/chet"}, "is_accepted": false, "score": 0, "last_activity_date": 1465013809, "last_edit_date": 1465013809, "creation_date": 1465012412, "answer_id": 37626171, "question_id": 37626039, "link": "https://stackoverflow.com/questions/37626039/perform-uniq-only-on-matching-lines-while-also-ignoring-some-columns/37626171#37626171", "title": "Perform uniq only on matching lines while also ignoring some columns", "body": "<p>with awk:</p>\n\n<pre><code>awk -F\"&gt;\" '!($2 in a) || $2 ~ /disconnected/ {a[$2]=$2; print}' &lt; file.txt\n</code></pre>\n\n<p>check if a value is already present in a array or bypasses if a string has 'disconnected' in it</p>\n\n<pre><code>!($2 in a) || $2 ~ /disconnected/ \n</code></pre>\n\n<p>output</p>\n\n<pre><code>2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 0, "last_activity_date": 1465013034, "creation_date": 1465013034, "answer_id": 37626231, "question_id": 37626039, "link": "https://stackoverflow.com/questions/37626039/perform-uniq-only-on-matching-lines-while-also-ignoring-some-columns/37626231#37626231", "title": "Perform uniq only on matching lines while also ignoring some columns", "body": "<p>I think this perl solution might be what you want. I added some more lines in the data.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %seen;\nwhile (&lt;DATA&gt;) {\n    if (/ &gt; (.+? connected)/) {\n        print unless $seen{$1}++;\n    }\n    else {\n        %seen = ();\n        print;  \n    }   \n}\n\n__DATA__\n2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:15 &gt; user1 has connected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:31 &gt; user1 has connected.\n2016-06-03 21:00:31 &gt; user1 has connected.\n2016-06-03 21:00:34 &gt; user1 has connected.\n2016-06-03 21:00:50 &gt; user2 has connected.\n2016-06-03 21:00:51 &gt; user2 has connected.\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:31 &gt; user1 has connected.\n2016-06-03 21:00:50 &gt; user2 has connected.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1465016194, "creation_date": 1465016194, "answer_id": 37626535, "question_id": 37626039, "link": "https://stackoverflow.com/questions/37626039/perform-uniq-only-on-matching-lines-while-also-ignoring-some-columns/37626535#37626535", "title": "Perform uniq only on matching lines while also ignoring some columns", "body": "<pre><code>$ awk -F'&gt;' '!(/has connected/ &amp;&amp; seen[$2]++)' file\n2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1465039781, "last_edit_date": 1495542159, "creation_date": 1465038239, "answer_id": 37629415, "question_id": 37626039, "link": "https://stackoverflow.com/questions/37626039/perform-uniq-only-on-matching-lines-while-also-ignoring-some-columns/37629415#37629415", "title": "Perform uniq only on matching lines while also ignoring some columns", "body": "<p>A one-line Perl solution</p>\n\n<pre><code>perl -nE 'print unless /has connected/ &amp;&amp; @s{/&gt;\\s+(.+)/}++' myfile.log\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n</code></pre>\n\n<p><em>Note that the use of a</em> <strong>hash slice</strong> <code>@s{/&gt;\\s+(.+)/}++</code> <em>is deliberate. It would normally be an error, but here it serves to put the regex in list context</em></p>\n\n<p><br/></p>\n\n<hr>\n\n<p>If you want something cute like <a href=\"https://stackoverflow.com/a/37626231/622310\">Chris Charley wrote</a> that will report <em>connected</em> only if the user was previously disconnected, then it's not sensibly possible in a one-liner. This script will do that for you</p>\n\n<p>If you're unfamiliar with Perl, then to run this on a file you should change <code>&lt;DATA&gt;</code> to <code>&lt;&gt;</code> and run the program like this</p>\n\n<pre><code>$ perl filter.pl myfile.log\n</code></pre>\n\n\n\n<pre><code>use strict;\nuse warnings;\n\nmy %online;\n\nwhile ( &lt;DATA&gt; ) {\n\n    next unless my ($name, $op) = /&gt;\\s+(.+)\\s+(disconnected|has connected)\\./;\n\n    if ( $op eq 'disconnected' ) {\n        delete $online{$name};\n        print;\n    }\n    else {\n        print unless $online{$name}++;\n    }\n}\n\n__DATA__\n2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:15 &gt; user1 has connected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:15 &gt; user1 disconnected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has disconnected.\n2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:15 &gt; user1 disconnected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has disconnected.\n2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 2044638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3890886c515b6bfbceffe6049fc18375?s=128&d=identicon&r=PG", "display_name": "user2044638", "link": "https://stackoverflow.com/users/2044638/user2044638"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1465039781, "creation_date": 1465010897, "question_id": 37626039, "link": "https://stackoverflow.com/questions/37626039/perform-uniq-only-on-matching-lines-while-also-ignoring-some-columns", "title": "Perform uniq only on matching lines while also ignoring some columns", "body": "<p>Let's say I have an input file that looks like this:</p>\n\n<pre><code>2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:15 &gt; user1 has connected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n</code></pre>\n\n<p>I could remove all of the duplicate consecutive lines ignoring first 2 columns with <code>uniq -f2 file.txt</code> but I'm looking for a way to remove only the duplicates that have <code>has connected.</code> in them so the output will look like this:</p>\n\n<pre><code>2016-06-03 21:00:14 &gt; user1 has connected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:22 &gt; foobar disconnected.\n2016-06-03 21:00:29 &gt; user2 has connected.\n2016-06-03 21:00:29 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n2016-06-03 21:00:30 &gt; user2 has disconnected.\n</code></pre>\n\n<p>I suppose this could be done just by matching a fixed string (\"has connected.\") but I'm also interested in a command that would work with a regex.</p>\n\n<p>I took a look at the answers to <a href=\"https://stackoverflow.com/questions/26633425/advanced-uniq-with-unique-part-regex\">this question</a> but couldn't modify the commands so they would work with the input I have.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1465037380, "post_id": 37625821, "comment_id": 62740454, "body": "Welcome to Stack Overflow and the Perl tag. This is a pretty good first question. :) Having the files directly would have been nice though. You can <a href=\"https://stackoverflow.com/posts/37625821/edit\">edit</a> the question to add them if you want. Also make sure to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1465038198, "post_id": 37625821, "comment_id": 62740641, "body": "If I see it correctly, the difference in your current output and the expected output is that you want it sorted by <code>Item Name</code>, and with blanks between the different item names. Next time, include that information in the question please. What about the efficiency? Why do you think it&#39;s not efficient? It looks like it is doing what it should already, and the user of the Excel file could easily add a sorting function in Excel. That requires about two to three clicks to sort it the way you want. At $work, I would tell the business people to sort it themselves and be happy they get XLS, not CSV.:)"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1465038908, "creation_date": 1465038908, "answer_id": 37629514, "question_id": 37625821, "link": "https://stackoverflow.com/questions/37625821/how-to-delete-entire-column-in-excel-sheet-and-write-updated-data-in-new-excel-f/37629514#37629514", "title": "How to delete entire column in Excel sheet and write updated data in new excel file using Perl?", "body": "<p>To get your output sorted, you need to collect all the information first before you are writing it out. Right now, you are doing a bit of jumping back and forth between rows and columns.</p>\n\n<p>Here are some changes I would make to get it sorted, and make it more efficient (to read).</p>\n\n<ul>\n<li>Create a data structure <code>$data</code> outside of your loop to store all the information.</li>\n<li>If there is only one worksheet, you don't need to loop over sheets. Just work with one sheet.</li>\n<li>Loop over the lines.</li>\n<li><p>Inside that loop, use the code you have to parse the individual fields to just parse them. No <code>2..2</code> loops. Just a bunch of statements.</p>\n\n<pre><code>my @item_fields = split /_/, $inws-&gt;get_cell( $in_row, 0 ) || q{};\nmy @name_fields = split /_/, $inws-&gt;get_cell( $in_row, $col ) || q{};\n</code></pre></li>\n<li><p>Store them in <code>$data</code> per item.</p>\n\n<pre><code>push @{ $data } = [ $item_fields[0], ... ];\n</code></pre></li>\n<li><p>Done with the loop. Open the output file.</p></li>\n<li><p>Loop over <code>$data</code> with a <code>sort</code> and write to the output file.</p>\n\n<pre><code>foreach my $row (sort { $a-&gt;[0] cmp $b-&gt;[0] } @{ $data } ) { ... }\n</code></pre></li>\n<li><p>Done.</p></li>\n</ul>\n\n<p>I suggest you read up on <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow\"><code>sort</code></a> and also check out <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a> to learn more about references (data structures).</p>\n"}], "owner": {"reputation": 63, "user_id": 6421075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36dee5d8ca67b5eb972d356b58b0035e?s=128&d=identicon&r=PG&f=1", "display_name": "Joe the techie", "link": "https://stackoverflow.com/users/6421075/joe-the-techie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "accepted_answer_id": 37629514, "answer_count": 1, "score": 6, "last_activity_date": 1465039582, "creation_date": 1465008273, "last_edit_date": 1465039582, "question_id": 37625821, "link": "https://stackoverflow.com/questions/37625821/how-to-delete-entire-column-in-excel-sheet-and-write-updated-data-in-new-excel-f", "title": "How to delete entire column in Excel sheet and write updated data in new excel file using Perl?", "body": "<p>I am new to Perl. I have excel file say \"sample.xls\" which looks like follows. \n<a href=\"http://i.stack.imgur.com/1aBnK.png\" rel=\"nofollow\">Sample.xls</a></p>\n\n<p>There are about data of 1000 rows like this. I want to parse this file and write it in another file say \"output.xls\" with following output format. </p>\n\n<p><a href=\"http://i.stack.imgur.com/qM9QZ.png\" rel=\"nofollow\">output.xls</a>\nI have written a script in perl, however, it doesn't give me the exact output the way I want. Also, looks like the script is not very efficient. Can anyone guide me how I can improve my script as well as have my output as shown in \"output.xls\" ??</p>\n\n<p>Here's the Script:</p>\n\n<pre><code>#!/usr/bin/perl \u2013w\n\nuse strict;\nuse warnings;\nuse Spreadsheet::ParseExcel;\nuse Spreadsheet::WriteExcel;\nuse Spreadsheet::WriteExcel::Chart;\n\n\n# Read the input and output filenames.\nmy $inputfile  = \"path/sample.xls\";\nmy $outputfile = \"path/output.xls\";\n\nif ( !$inputfile || !$outputfile ) {\n    die( \"Couldn't find file\\n\" );\n}\n\nmy $parser      = Spreadsheet::ParseExcel-&gt;new();\nmy $inwb = $parser-&gt;parse( $inputfile );\n\nif ( !defined $inwb ) {\n    die \"Parsing error: \", $parser-&gt;error(), \".\\n\";\n}\n\nmy $outwb = Spreadsheet::WriteExcel-&gt;new( $outputfile );\n\n\nmy $inws  = $inwb-&gt;worksheet( \"Sheet1\" );\nmy $outws = $outwb-&gt;add_worksheet(\"Sheet1\");\nmy $out_row       = 0;\n\nmy ( $row_min, $row_max ) = $inws-&gt;row_range();\nmy ( $col_min, $col_max ) = $inws-&gt;col_range();\n\nmy $format = $outwb-&gt;add_format(\ncenter_across =&gt; 1,\nbold =&gt; 1,\nsize =&gt; 10,\nborder =&gt; 4,\ncolor =&gt; 'black',\nborder_color =&gt; 'black',\nalign =&gt; 'vcenter',\n);\n\n\n$outws-&gt;write(0,0, \"Item Name\", $format);\n$outws-&gt;write(0,1, \"Spec\", $format);\n$outws-&gt;write(0,2, \"First name\", $format);\n$outws-&gt;write(0,3, \"Middle Name\", $format);\n$outws-&gt;write(0,4, \"Last Name\", $format);\n$outws-&gt;write(0,5, \"Customer Number\", $format);\n$outws-&gt;write(0,6, \"Age\", $format);\n$outws-&gt;write(0,7, \"Units\", $format);\n\nmy $col_count = 1;\n#$row_min = 1;\nfor my $inws ( $inwb-&gt;worksheets() ) {\n    my ( $row_min, $row_max ) = $inws-&gt;row_range();\n    my ( $col_min, $col_max ) = $inws-&gt;col_range();\n\n    for my $in_row ( 2 .. $row_max ) {\n\n        for my $col (  0 .. 0 ) {\n\n\n            my $cell = $inws-&gt;get_cell( $in_row, $col);\n\n            my @fields = split /_/, $cell-&gt;value();\n                next unless $cell;\n\n\n            $outws-&gt;write($in_row,$col, $cell-&gt;value());\n            $outws-&gt;write($in_row,$col+1, $fields[1]);\n        }\n    }   \n\n    for my $in_row ( 2 .. $row_max ) {\n\n        for my $col (  1 .. 1 ) {\n\n            my $cell = $inws-&gt;get_cell( $in_row, $col);\n\n            my @fields = split /_/, $cell-&gt;value();\n                next unless $cell;\n\n\n            #$outws-&gt;write($in_row,$col+1, $cell-&gt;value());\n            $outws-&gt;write($in_row,$col+1, $fields[0]);\n            $outws-&gt;write($in_row,$col+2, $fields[1]);\n            $outws-&gt;write($in_row,$col+3, $fields[2]);\n            $outws-&gt;write($in_row,$col+4, $fields[3]);\n        }\n    }   \n\n    for my $in_row ( 2 .. $row_max ) {\n\n        for my $col (  2 .. 2 ) {\n\n            my $cell = $inws-&gt;get_cell( $in_row, $col);\n\n            my @fields = split /_/, $cell-&gt;value();\n                next unless $cell;\n\n\n            $outws-&gt;write($in_row,6, $cell-&gt;value());\n        }\n    }   \n\n    for my $in_row ( 2 .. $row_max ) {\n\n        for my $col (  3 .. 9 ) {\n\n            my $cell = $inws-&gt;get_cell( $in_row, $col);\n\n            next unless $cell;\n\n\n        }\n    }   \n\n    for my $in_row ( 2 .. $row_max ) {\n        for my $col ( 10 .. 10 ) {\n\n            my $cell = $inws-&gt;get_cell( $in_row, $col );\n\n            next unless $cell;\n\n\n            $outws-&gt;write($in_row,7, $cell-&gt;value());\n\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "regex-lookarounds"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1465009517, "post_id": 37625021, "comment_id": 62734234, "body": "The warning is because <code>(?=...)*</code> makes no sense"}], "answers": [{"comments": [{"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "edited": false, "score": 0, "creation_date": 1465048753, "post_id": 37630950, "comment_id": 62743863, "body": "Thanks for the great explanation. Certainly using ? instead of * did the trick. I like the way you implemented this without the lookahead regex. I&#39;m going to see about incorporating that. Looks very useful for some other things I&#39;m doing as well. Thanks again!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "edited": false, "score": 1, "creation_date": 1465049055, "post_id": 37630950, "comment_id": 62743972, "body": "@SgtB: You&#39;re welcome. It&#39;s common to come across questions where the author has tried to cram <i>everything</i> into a single regex pattern. That may well not be necessary, and is almost never wise for complex conditions. Perl has given you logical operators, so you can say <code>if ( &#47;aaa&#47; or &#47;bbb&#47; ) ...</code> instead of <code>if ( &#47;aaa|bbb&#47; ) ...</code>, and it can make a real difference to the readability of your code"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1465048240, "last_edit_date": 1465048240, "creation_date": 1465047929, "answer_id": 37630950, "question_id": 37625021, "link": "https://stackoverflow.com/questions/37625021/regex-works-but-receive-warning-matches-null-string-many-times-in-regex-errors/37630950#37630950", "title": "Regex works, but receive warning: matches null string many times in regex errors", "body": "\n\n<p>Matching a look-ahead <code>(?=...)</code> multiple times doesn't make sense. It doesn't consume any data from the object string, and so if it matches once it will match indefinitely</p>\n\n<p>The main change that you need to make is to replace <code>(?=.*\\(test1=(.*?)\\))*</code> etc. with <code>(?=.*\\(test1=(.*?)\\))?</code>. That just makes your look-ahead \"optional\", and will get rid of your warnings</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump;\n\nmy $pattern = qr/\n    (?= .* \\( test1= (.*?) \\) )?\n    (?= .* \\( test2= (.*?) \\) )?\n    (?= .* \\( test3= (.*?) \\) )?\n/x;\n\nmy @strings = qw/\n    (test1=cat)(test2=dog)(test3=mouse)\n    (test1=cat)(test3=mouse)(test2=dog)(test1=cat)\n    (test3=mouse)(test1=cat)\n    (test3=mouse)(test2=dog)\n/;\n\nfor my $str ( @strings ) {\n\n    next unless my @map = $str =~ /$pattern/;\n\n    $_ //= 'empty' for @map;\n\n    dd \\@map;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\"cat\", \"dog\", \"mouse\"]\n[\"cat\", \"dog\", \"mouse\"]\n[\"cat\", \"empty\", \"mouse\"]\n[\"empty\", \"dog\", \"mouse\"]\n</code></pre>\n\n<p>However, this sounds like another case of getting a single regex pattern to do too much work. You are writing in Perl, so why not use it?</p>\n\n<p><em>The following code assumes the same header as the full program above, up to and including the definition of <code>@strings</code>. The <code>for</code> loop is all that I have changed</em></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>for my $str ( @strings ) {\n    my @map = map {  $str =~ / \\( test$_= ( [^()]* ) \\)/x ? $1 : 'empty' } 1 .. 3;\n    dd \\@map;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\"cat\", \"dog\", \"mouse\"]\n[\"cat\", \"dog\", \"mouse\"]\n[\"cat\", \"empty\", \"mouse\"]\n[\"empty\", \"dog\", \"mouse\"]\n</code></pre>\n\n<p>Or it may be that something different is appropriate. Hashes are useful for this sort of thing</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>for my $str ( @strings ) {\n    my %map = $str =~ / \\( ( test\\d+ ) = ( [^()]* ) \\) /gx; \n    dd \\%map;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>{ test1 =&gt; \"cat\", test2 =&gt; \"dog\", test3 =&gt; \"mouse\" }\n{ test1 =&gt; \"cat\", test2 =&gt; \"dog\", test3 =&gt; \"mouse\" }\n{ test1 =&gt; \"cat\", test3 =&gt; \"mouse\" }\n{ test2 =&gt; \"dog\", test3 =&gt; \"mouse\" }\n</code></pre>\n"}], "owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 0, "accepted_answer_id": 37630950, "answer_count": 1, "score": 1, "last_activity_date": 1465048240, "creation_date": 1464998128, "last_edit_date": 1464999824, "question_id": 37625021, "link": "https://stackoverflow.com/questions/37625021/regex-works-but-receive-warning-matches-null-string-many-times-in-regex-errors", "title": "Regex works, but receive warning: matches null string many times in regex errors", "body": "<p>I've got a string that has a number of components I need to extract. These are well formed and predictable, but the order in which they appear varies. Below is a snippet that illustrates what the strings may look like and the regex I'm using to extract the information I need. This code works and I get the output expected.</p>\n\n<pre><code>my $str1 = '(test1=cat)(test2=dog)(test3=mouse)';         # prints cat\\ndog\\mouse\n$str1 = '(test1=cat)(test3=mouse)(test2=dog)(test1=cat)'; # prints cat\\ndog\\nmouse\n$str1 = '(test3=mouse)(test1=cat)';                       # prints cat\\nempty\\nmouse\n$str1 = '(test3=mouse)(test2=dog)';                       # prints empty\\ndog\\nmouse\nmy $pattern1 = '(?=.*\\(test1=(.*?)\\))*(?=.*\\(test2=(.*?)\\))*(?=.*\\(test3=(.*?)\\))*';\n\nif (my @map = $str1 =~ /$pattern1/) {\n    foreach my $match (@map) {\n        say $match if $match;\n        say \"empty\" if !$match;\n    }\n}\n</code></pre>\n\n<p>The expected and received outcome for the last string above is as follows:</p>\n\n<pre><code>empty\ndog\nmouse\n</code></pre>\n\n<p>However, in addition to the expected response are the following warnings:</p>\n\n<pre><code>(?=.*\\(test1=(.*?)\\))* matches null string many times in regex; marked by &lt;-- HERE in m/(?=.*\\(test1=(.*?)\\))* &lt;-- HERE (?=.*\\(test2=(.*?)\\))*(?=.*\\(test3=(.*?)\\))*/ at /path/to/scratch1.pl line 32.\n(?=.*\\(test2=(.*?)\\))* matches null string many times in regex; marked by &lt;-- HERE in m/(?=.*\\(test1=(.*?)\\))*(?=.*\\(test2=(.*?)\\))* &lt;-- HERE (?=.*\\(test3=(.*?)\\))*/ at /path/to/scratch1.pl line 32.\n(?=.*\\(test3=(.*?)\\))* matches null string many times in regex; marked by &lt;-- HERE in m/(?=.*\\(test1=(.*?)\\))*(?=.*\\(test2=(.*?)\\))*(?=.*\\(test3=(.*?)\\))* &lt;-- HERE / at /path/to/scratch1.pl line 32.\n</code></pre>\n\n<p>This tells me that while my regex works, it may have some problems.</p>\n\n<p>How could I adjust the above regex to continue to work as expected while eliminating the warnings?</p>\n\n<p>Here are a few constraints I have to work with:</p>\n\n<ul>\n<li>The order of the results must be maintained (e.g., \"test1\" will always be the first element of the array)</li>\n<li>The field names aren't really \"testN\", there are a number of unique ones I have to work with, these are static values</li>\n<li>Duplicates are fine, but the last one should be used (the above script does this)</li>\n</ul>\n\n<p>I don't normally work with lookarounds so my mistake might be rudimentary (hopefully). Any advice or feedback is much appreciated. Thanks!</p>\n\n<p>Edit - Running Perl 5.20</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1465831653, "post_id": 37624124, "comment_id": 63053367, "body": "How did you make out on this buddy?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 0, "last_activity_date": 1464996798, "last_edit_date": 1464996798, "creation_date": 1464993324, "answer_id": 37624398, "question_id": 37624124, "link": "https://stackoverflow.com/questions/37624124/perl-regex-to-match-multiline-with-space-and-non-word-characters/37624398#37624398", "title": "perl regex to match multiline with space and non-word characters", "body": "<p>I guess you could pre-compile with <code>qr//</code> and the <em>x</em> option.  </p>\n\n<pre><code>$copyright_RE = qr/\n     \\s* [^\\w]* \\s* \n     \\QCopyright (c) \\E\n     ( \\d .* )                     # (1)\n     \\Q by Bill Shakespeare.\\E\n     \\s* [^\\w]* \\s* \\n* \n     \\s* [^\\w]* \\s* \n     \\QAll Rights Reserved.\\E\n     \\s* [^\\w]* \\s* \\n* \n     \\s* [^\\w]* \\s* \n     \\QGraw Hill publishers, Inc.\\E\n     \\s* [^\\w]* \\s* \\n* \n/xi;\n</code></pre>\n\n<p>However, this regex is frought with backtracking problems on a non-match.  </p>\n\n<p>It's better to <em>limit</em> the backtracking catastrophy potential.<br>\nI've tried to do it with the below change.  </p>\n\n<p>Notice the <em>atomic</em> group as well <code>(?&gt;)</code>  </p>\n\n<p>Also, note that <code>[^\\w]</code> also matches whitespaces <code>\\s</code> as well.<br>\nMight as well get rid of all the <code>\\s</code> in the regex while your at it.  </p>\n\n<pre><code> use strict;\nuse warnings;\n\n$/ = undef;\n\nmy $copyright_RE = qr/\n(?&gt;\n      [^\\w]*  \n      \\QCopyright (c) \\E\n      ( \\d .* )                     # (1)\n      \\Q by Bill Shakespeare.\\E\n      [^\\w]*  \n      \\QAll Rights Reserved.\\E\n      [^\\w]*  \n      \\QGraw Hill publishers, Inc.\\E\n      [^\\w]*  \n )\n/xi;\n\n\nmy $file_head = &lt;DATA&gt;;\n\nprint $file_head, \"\\n\";\n\nif ($file_head !~ /$copyright_RE/ ) {\n       print \"\\nInvalid copyright, or copyright missing\\n\";\n} else {\n       print \"\\ncopyright is good ($1)\\n\";\n}    \n\n__DATA__\n# Copyright (c) 2008,2009-2011 by Bill Shakespeare. # \n$     All rights reserved.                          $\n*     Graw Hill publishers, Inc.                    *\n</code></pre>\n\n<p>Try it out.  </p>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 37624398, "answer_count": 1, "score": 0, "last_activity_date": 1464996798, "creation_date": 1464991494, "question_id": 37624124, "link": "https://stackoverflow.com/questions/37624124/perl-regex-to-match-multiline-with-space-and-non-word-characters", "title": "perl regex to match multiline with space and non-word characters", "body": "<p>want to check if copyright is exactly as specified:</p>\n\n<pre><code>my $copyright_RE= '\\s*[^\\w]*\\s*'.\"\\QCopyright (c) \\E\".'(\\d.*)'.\"\\Q by Bill Shakespeare.\\E\".'\\s*[^\\w]*\\s*\\n*'.\n             '\\s*[^\\w]*\\s*'.\"\\QAll Rights Reserved.\\E\".'\\s*[^\\w]*\\s*\\n*'.\n             '\\s*[^\\w]*\\s*'.\"\\QGraw Hill publishers, Inc.\\E\".'\\s*[^\\w]*\\s*\\n*';\n\nmy $file_head=`head -n 100 /tmp/sample.txt`;\nif ($file_head !~ /$copyright_RE/i) {\n       print \"\\nInvalid copyright, or copyright missing\\n\";\n\n} else {\n       print \"\\ncopyright is good\\n\";\n}\n</code></pre>\n\n<p>This works, but is there a better way to specify \"$copyright_RE\" and pattern match?</p>\n\n<p>sample.txt has:</p>\n\n<pre><code># Copyright (c) 2008,2009-2011 by Bill Shakespeare. # \n$     All rights reserved.                          $\n*     Graw Hill publishers, Inc.                    *\n</code></pre>\n"}, {"tags": ["perl", "sdk", "vmware"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1464989228, "post_id": 37623591, "comment_id": 62729845, "body": "It means you have an object of class <code>HostCpuInfo</code>. You should use the methods of that class to access the values, though you are able to access the referenced object as a hash."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464989349, "post_id": 37623591, "comment_id": 62729891, "body": "What is the Perl library that you&#39;re using? Please show your program"}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1464990612, "post_id": 37623591, "comment_id": 62730373, "body": "updated it however again I&#39;m unsure how to access the numCpuThreads or any of the other values in the hash"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1464991105, "post_id": 37623591, "comment_id": 62730532, "body": "While Data::Dumper is nice to look at the underlying data structure, <a href=\"https://metacpan.org/pod/Data::Printer\" rel=\"nofollow noreferrer\">Data::Printer</a> is way better for objects. It will give you a list of methods, information about values and inheritance. Install it from CPAN and use it. Or just try to call <code>$each_host-&gt;hardware-&gt;cupInfo-&gt;numCpuThreads</code>. That sounds like a reasonable guess."}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1464991201, "post_id": 37623591, "comment_id": 62730560, "body": "ok I called      print Dumper($each_host-&gt;hardware-&gt;cpuInfo-&gt;numCpuPackages).&quot;\\n\\n&quot;&zwnj;&#8203;;  and got      $VAR1 = &#39;2&#39;;   CLOSER :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1464992304, "post_id": 37623591, "comment_id": 62730902, "body": "@BostonMacOSX You shouldn&#39;t have to guess what methods an object provides: there should be documentation for each class you&#39;re using. Well-written Perl modules actually contain POD documentation directly in the source code; you can view the documentation for module Foo::Bar by running <code>perldoc Foo::Bar</code> on the command line. Hopefully the VMware SDK has decent documentation."}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1464993321, "post_id": 37623591, "comment_id": 62731214, "body": "added Data::Printer and got see above"}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464993691, "post_id": 37623591, "comment_id": 62731329, "body": "@ThisSuitIsBlackNot VmWare doesn&#39;t have perdocs with their classes..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464993919, "post_id": 37623591, "comment_id": 62731400, "body": "According to the <code>Data::Printer</code> output, there is a method that by its name would return all properties. Try <code>$each_host-&gt;hardware-&gt;cpuInfo-&gt;get_property_list</code>.  But there has to be some documentation of the class&#39;s interface, even if there is no POD embedded in code."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464994089, "post_id": 37623591, "comment_id": 62731438, "body": "@BostonMacOSX Well, they do have <i>some</i> kind of documentation. <a href=\"http://pubs.vmware.com/vsphere-60/topic/com.vmware.ICbase/PDF/vsphere-esxi-vcenter-server-60-sdk-for-perl-programming-guide.pdf\" rel=\"nofollow noreferrer\">Here&#39;s</a> some documentation for <code>find_entity_views</code>, which says you can get a list of properties from the API reference (which I think is <a href=\"https://www.vmware.com/support/developer/vc-sdk/visdk41pubs/ApiReference/\" rel=\"nofollow noreferrer\">here</a>)."}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1464995268, "post_id": 37623591, "comment_id": 62731770, "body": "I saw that but nowhere in their documentation do they have get_property_list as a method but there it is in the module."}, {"owner": {"reputation": 930, "user_id": 4511056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb6c2868ac49ca03c83544133f34b3?s=128&d=identicon&r=PG&f=1", "display_name": "Secto Kia", "link": "https://stackoverflow.com/users/4511056/secto-kia"}, "edited": false, "score": 0, "creation_date": 1464995662, "post_id": 37623591, "comment_id": 62731876, "body": "If you just want to access the contents, just specify them each individually: $each_host-&gt;hardware-&gt;cpuInfo-&gt;hz etc.  If you want a hash of the data, he will have to make it yourself, since cpuInfo isn&#39;t returning a hash, its returning a HostCpuInfo object."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464998439, "post_id": 37623591, "comment_id": 62732522, "body": "This helps and puzzles. The <code>get_property_list</code> returns a list. When fed into $array1 you get its lenght. That&#39;s 4 while Dumpers output gives 6 -- showing the elements to be references to arrays. However, numbers in arrays disagree with data seen directly (in two ways). I&#39;d say that <code>get_property_list</code> merely shows which properties exist. Check: return into an array, say @properties, and iterate, dereferencing each element into an array. Test for <code>undef</code> as you print. But it seems you&#39;ll need to query directly, or find methods in docs. Report back so we can summarize this thread in a post."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1465037690, "creation_date": 1465037690, "answer_id": 37629336, "question_id": 37623591, "link": "https://stackoverflow.com/questions/37623591/new-to-perl-and-confused-by-hashes-and-bless/37629336#37629336", "title": "New to Perl and Confused by hashes and bless", "body": "<p>The documentation you need to be reading is <a href=\"https://developercenter.vmware.com/web/sdk/60/vsphere-perl\" rel=\"nofollow\"><em>vSphere Perl SDK for vSphere 6.0</em></a>. You need to click on the <code>Documentation</code> button under \"Downloads\" to get to the web page, or you can download the information for local use on your own system</p>\n\n<p>If you go to that page and look in the contents section for \"Writing vSphere SDK for Perl Scripts\", you will see a page uselessly labelled \"Working with\". That leads to this page</p>\n\n<p><a href=\"https://developercenter.vmware.com/web/dp/doc/preview?id=1498#https://vdc-repo.vmware.com/vmwb-repository/dcr-public/2c79a0ce-6908-4d59-b927-ec7676753301/7b2fed23-1b69-4412-9e8b-f73e4fd8c73a/doc/viperl_modscripts.4.5.html\" rel=\"nofollow\"><em>Working with View Object Property Values</em></a></p>\n\n<p>The important information relevant to your question is this</p>\n\n<blockquote>\n  <p>To access a simple property from a view, call the property\u2019s accessor on the view object. The accessor has the same name as the property itself, as follows:</p>\n\n<pre><code>$view_name-&gt;property_name\n</code></pre>\n</blockquote>\n\n<p>It looks like your <code>$each_host</code> is an object of type <a href=\"https://www.vmware.com/support/developer/vc-sdk/visdk25pubs/ReferenceGuide/vim.HostSystem.html\" rel=\"nofollow\"><code>HostSystem</code></a>, which has a property <code>hardware</code>    of type <a href=\"https://www.vmware.com/support/developer/vc-sdk/visdk25pubs/ReferenceGuide/vim.host.HardwareInfo.html\" rel=\"nofollow\"><code>HostHardwareInfo</code></a>, which in turn has a property <code>cpuInfo</code> of type <a href=\"https://www.vmware.com/support/developer/vc-sdk/visdk25pubs/ReferenceGuide/vim.host.CpuInfo.html\" rel=\"nofollow\"><code>HostCpuInfo</code></a>. The last is the object that you have dumped using <code>Dumper</code> at the start of your question</p>\n\n<p>If you read the documentation for <code>HostCpuInfo</code> objects, you will see that they have four properties: <code>hz</code>, <code>numCpuCores</code>, <code>numCpuPackages</code> and <code>numCpuThreads</code></p>\n\n<p>You should be able to write code like this that accesses all four values:</p>\n\n<pre><code>my $cpuinfo = $each_host-&gt;hardware-&gt;cpuInfo;\n\nfor my $property ( qw/ hz numCpuCores  numCpuPackages  numCpuThreads / ) {\n    printf \"%s = %d\\n\", $property, $cpuinfo-&gt;$property;\n}\n</code></pre>\n\n<p>or individually like this</p>\n\n<pre><code>printf \"hz = %d\\n\", $cpuinfo-&gt;hz;\nprintf \"numCpuCores = %d\\n\", $cpuinfo-&gt;numCpuCores;\nprintf \"numCpuPackages = %d\\n\", $cpuinfo-&gt;numCpuPackages;\nprintf \"numCpuThreads = %d\\n\", $cpuinfo-&gt;numCpuThreads;\n</code></pre>\n\n<p>Note that this is the <em>correct</em> way to access the object's properties, and uses the information in the documentation. It does not rely on any information gleaned using <code>Data::Dumper</code> or similar</p>\n\n<p>I recommend that you spend some time with the documentation and familiarise yourself with the API. It looks like the facts are all there somewhere</p>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1465037690, "creation_date": 1464988817, "last_edit_date": 1464995501, "question_id": 37623591, "link": "https://stackoverflow.com/questions/37623591/new-to-perl-and-confused-by-hashes-and-bless", "title": "New to Perl and Confused by hashes and bless", "body": "<p>I'm retrieving some data from an Perl library using</p>\n\n<pre><code>print Dumper($each_host-&gt;hardware-&gt;cpuInfo).\"\\n\\n\";\n</code></pre>\n\n<p>What I get back is .</p>\n\n<pre><code>$VAR1 = bless( {\n             'hz' =&gt; '2199999664',\n             'numCpuCores' =&gt; '20',\n             'numCpuPackages' =&gt; '2',\n             'numCpuThreads' =&gt; '40'\n           }, 'HostCpuInfo' );\n</code></pre>\n\n<p>I have no idea how to deal with that or what bless is. My goal is just to access the raw values of the hash that was returned by the call to the Perl VMware SDK</p>\n\n<p>It is coming from the VMware perl SDK.</p>\n\n<pre><code>my $host_view = Vim::find_entity_views(view_type=&gt;'HostSystem',properties=&gt;['name','config','hardware'],begin_entity=&gt;$each_dc);\nforeach my $each_host(@$host_view){\nprint \"\\n\\t\".$each_host-&gt;name.\"\\n\";\nprint Dumper($each_host-&gt;hardware-&gt;cpuInfo).\"\\n\\n\";\n</code></pre>\n\n<p>When I did Data::Printer</p>\n\n<pre><code>HostCpuInfo  {\nParents       DynamicData\npublic methods (1) : get_property_list\nprivate methods (0)\ninternals: {\n    hz               2199999664,\n    numCpuCores      20,\n    numCpuPackages   2,\n    numCpuThreads    40\n}\n}\n</code></pre>\n\n<p>SO I changed up the code to:</p>\n\n<pre><code>print Dumper($each_host-&gt;hardware-&gt;cpuInfo-&gt;numCpuPackages).\"\\n\\n\";\nmy $array1 = $each_host-&gt;hardware-&gt;cpuInfo-&gt;get_property_list;\nprint 'return'.$array1.\"\\n\\n\";\nprint Dumper($each_host-&gt;hardware-&gt;cpuInfo-&gt;get_property_list);\n</code></pre>\n\n<p>and it returns</p>\n\n<pre><code>$VAR1 = '2';\n\nreturn4\n\n$VAR1 = [\n          'dynamicType',\n          undef,\n          undef,\n          0\n        ];\n$VAR2 = [\n          'dynamicProperty',\n          'DynamicProperty',\n          1,\n          0\n        ];\n$VAR3 = [\n          'numCpuPackages',\n          undef,\n          undef,\n          1\n        ];\n$VAR4 = [\n          'numCpuCores',\n          undef,\n          undef,\n          1\n        ];\n$VAR5 = [\n          'numCpuThreads',\n          undef,\n          undef,\n          1\n        ];\n$VAR6 = [\n          'hz',\n          undef,\n          undef,\n          1\n        ];\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1464986071, "post_id": 37622752, "comment_id": 62728537, "body": "<i>&quot;I received some commands from a website&quot;</i> Web sites don&#39;t generally issue commands to people; you must be more specific. Are you saying that you have a web server that needs to execute shell commands?"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464988668, "post_id": 37622752, "comment_id": 62729636, "body": "The command pulls information off it&#39;s website, The important part is that there is not an equivalent perl command, I received through email from an online database."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 3, "creation_date": 1464989845, "post_id": 37622752, "comment_id": 62730083, "body": "@C.Monster: Your question is close to being closed (as of this writing, 3 votes to close, because it is &quot;unclear what you&#39;re asking&quot;). To prevent that, add information <i>directly to your question</i> and consider providing an <a href=\"http://stackoverflow.com/help/mcve\">MCVE (Minimal, Complete, and Verifiable Example)</a>; See <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> for tips on how to ask good questions."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1464989983, "post_id": 37622752, "comment_id": 62730133, "body": "@C.Monster Specifically, I&#39;d suggest to address the comment by Borodin, and perhaps provide example(s) of a command to be run."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464991489, "post_id": 37622752, "comment_id": 62730652, "body": "Why would you expect <code>0123456789</code>, with all contents on one line, not <code>0</code> on one line, <code>1</code> on the next, etc? Is quashing newlines part of the specification for an answer to resolve?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465364012, "post_id": 37622752, "comment_id": 62863710, "body": "@C.Monster Thank you for updating your question, it is much clearer now.  Just wanted to let you know that I updated my answer as well, you may want to have a look as it may be clearer now."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 5, "creation_date": 1464990396, "post_id": 37622994, "comment_id": 62730293, "body": "@C.Monster  I am glad that what I posted answered your need, thanks for attribution.  Still, I suggest that you now edit and clarify your question.  Please appreciate that people later search for and come to these posts and leaving them behind in a good shape can help many later. In doing so we need to be careful not to <i>change</i> the question in a way that invalidates the answers."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1591087645, "last_edit_date": 1591087645, "creation_date": 1464986279, "answer_id": 37622994, "question_id": 37622752, "link": "https://stackoverflow.com/questions/37622752/running-a-shell-command-in-a-perl-loop-using-a-variable-from-the-perl-loop/37622994#37622994", "title": "Running a shell command in a perl loop, using a variable from the perl loop", "body": "<p>You can do it in several ways, depending on what exactly is needed. Generally, this involves use of <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a>, backticks (with operator form <a href=\"https://perldoc.perl.org/functions/qx.html\" rel=\"nofollow noreferrer\">qx</a>), or <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a>. There is also a number of great modules for it.</p>\n\n<p>The <code>qx</code> returns its <code>STDOUT</code> to the program. If you need it assign it to a variable.</p>\n\n<pre><code>for my $i (0..9) {\n    my $cmd = \"external-command $i\";\n    my $cmdout = qx($cmd);             # needs error checking ($?)\n    print $cmdout;                     # process as needed\n}\n</code></pre>\n\n<p>The output can also be assigned to an array, when each line becomes one array element.  Depending on what your command is you may have to pay close attention to how to quote it correctly, and <a href=\"https://metacpan.org/pod/String::ShellQuote\" rel=\"nofollow noreferrer\">String::ShellQuote</a> can help a lot. If you want to get the command's <code>STDERR</code> as well use</p>\n\n<pre><code>my $cmd = \"external-command $i 2&gt;&amp;1\";\n</code></pre>\n\n<p>See <a href=\"https://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\"><code>qx</code> in perlop</a> (or <a href=\"https://perldoc.perl.org/functions/readpipe.html\" rel=\"nofollow noreferrer\">readpipe</a>), which also discusses error checking; also see <code>$?</code> <a href=\"https://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">in pervar</a>.</p>\n\n<p>If you don't need the command's output in your script, or specifically want it to wind up together with your script's other output, use <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a>.  Commands run by it inherit the script's <code>STDOUT</code> and <code>STDERR</code> so what they print to standard streams will go where your script's output goes (unless it is redirected by the command invocation).</p>\n\n<pre><code>for my $i (0..9) {\n    my $cmd = \"external-command $i\";\n    my $ret = system($cmd);\n    if ($ret != 0) {\n        warn \"Error running $cmd: $ret\";\n        # interrogate further, see documentation for 'system'\n    }\n}\n</code></pre>\n\n<p>The error handling above is rudimentary, see docs for more.  Finally, there are various forms of <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a> that run a process.  For example, see <a href=\"http://learn.perl.org/faq/perlfaq8.html#How-can-I-capture-STDERR-from-an-external-command\" rel=\"nofollow noreferrer\">it in perlfaq8</a>, along with a full review of what you are asking.</p>\n\n<p>And then there are modules, that make this kind of work far easier and better. From simple to more capable, some of well-known ones are <a href=\"https://metacpan.org/pod/IPC::System::Simple\" rel=\"nofollow noreferrer\">IPC::System::Simple</a>, <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a>, <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a>, and <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a>.  Also see links (examples) assembled in <a href=\"https://stackoverflow.com/a/44185799/4653379\">this post</a>, for example.</p>\n\n<p>A command can be executed via a shell or not (but via <code>execvp</code>) depending on how exactly it is invoked, as discussed in the docs. The phrase \"<em>shell command</em>\" strictly refers to a facility provided by the shell itself, in which case you of course want to run it that way. However, it is also often used for a program that we normally execute by typing in a terminal, so it gets executed by the shell. In this case you may (or may not) want to bypass the shell.</p>\n\n<p>Also note that the above all block (do not return control before completing), so the script continues only after they're done. This seems to be what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 3014371, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/675f66ec033d7a56a7ddc5d7e6f9bc12?s=128&d=identicon&r=PG", "display_name": "GWP", "link": "https://stackoverflow.com/users/3014371/gwp"}, "is_accepted": false, "score": 0, "last_activity_date": 1465423894, "creation_date": 1465423894, "answer_id": 37713809, "question_id": 37622752, "link": "https://stackoverflow.com/questions/37622752/running-a-shell-command-in-a-perl-loop-using-a-variable-from-the-perl-loop/37713809#37713809", "title": "Running a shell command in a perl loop, using a variable from the perl loop", "body": "<p>If you just want to pass through the shell output, simply do</p>\n\n<pre><code>print STDOUT `echo $i`;\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1578, "favorite_count": 0, "accepted_answer_id": 37622994, "answer_count": 2, "score": 2, "last_activity_date": 1591087645, "creation_date": 1464985303, "last_edit_date": 1464998443, "question_id": 37622752, "link": "https://stackoverflow.com/questions/37622752/running-a-shell-command-in-a-perl-loop-using-a-variable-from-the-perl-loop", "title": "Running a shell command in a perl loop, using a variable from the perl loop", "body": "<p>I need to run a shell command within a perl script(It needs to be a shell command) but I need to use a variable in a perl loop</p>\n\n<p>Ex. doing something like</p>\n\n<pre><code>#!/usr/bin/perl\nfor my $i (0..9) {\n     `echo $i`;\n}\n</code></pre>\n\n<p>should produce the output</p>\n\n<pre><code>0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n</code></pre>\n"}, {"tags": ["perl", "soap"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1464979324, "post_id": 37621322, "comment_id": 62725295, "body": "You shouldn&#39;t be poking around in the internals of objects (things that have been <code>bless</code>ed). Instead, you should use the object&#39;s methods to access the data that it wants to make public. Can you please edit the full output into your question so we can see what type of object that is?"}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 6, "creation_date": 1464979525, "post_id": 37621426, "comment_id": 62725389, "body": "You should put a loud warning that doing this breaks encapsulation; object methods should be used on a blessed thing. Otherwise, if the author changes any internals, code will break."}, {"owner": {"reputation": 458, "user_id": 3145399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65149d909a74a8f392d80e75244bc75c?s=128&d=identicon&r=PG&f=1", "display_name": "nasatome", "link": "https://stackoverflow.com/users/3145399/nasatome"}, "edited": false, "score": 0, "creation_date": 1464979779, "post_id": 37621426, "comment_id": 62725512, "body": "my result es the dumper of $products"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 458, "user_id": 3145399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65149d909a74a8f392d80e75244bc75c?s=128&d=identicon&r=PG&f=1", "display_name": "nasatome", "link": "https://stackoverflow.com/users/3145399/nasatome"}, "edited": false, "score": 5, "creation_date": 1464980466, "post_id": 37621426, "comment_id": 62725872, "body": "@nasatome: you&#39;ve been warned twice that although this is a quick fix and it works, the author of the module(s) you&#39;re using could change their code, and all of your code may very well break, causing a lot of confusion and wasted time. You&#39;re better off spending some time to see if the module&#39;s in use have object methods that will do what you want. It could save a lot of time refactoring things later."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 458, "user_id": 3145399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65149d909a74a8f392d80e75244bc75c?s=128&d=identicon&r=PG&f=1", "display_name": "nasatome", "link": "https://stackoverflow.com/users/3145399/nasatome"}, "edited": false, "score": 2, "creation_date": 1464984318, "post_id": 37621426, "comment_id": 62727742, "body": "@nasatome: This is <b>not</b> a good answer to your question. Unfortunately we can&#39;t provide a proper answer without seeing the code or documentation of the <code>parametros_salida</code> class. Please don&#39;t use this solution just because it &quot;works&quot;. Instead you should ask another question giving details of your module&#39;s API"}], "tags": [], "owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "is_accepted": true, "score": 3, "last_activity_date": 1464983827, "last_edit_date": 1592644375, "creation_date": 1464979426, "answer_id": 37621426, "question_id": 37621322, "link": "https://stackoverflow.com/questions/37621322/how-to-get-the-number-of-items-in-a-list-within-an-object/37621426#37621426", "title": "How to get the number of items in a list within an object", "body": "<blockquote>\n<p><em><strong>EDIT</strong></em> <em>As others have pointed out, for this specific example - when your hash reference is in fact a blessed reference (that is to say, an object), you should be using the class's API to obtain its members, not digging into the internals of the objects.</em></p>\n<p><em>What follows is a generic answer that explains how to access an equivalent</em> <strong>unblessed</strong> <em>Perl data structure, and isn't directly relevant to your situation</em></p>\n</blockquote>\n<br/>\n<hr />\n<p><code>$products</code> and <code>@products</code> are two entirely unrelated variables. They have\nnothing to do with one another.</p>\n<p>Assuming that <code>$products</code> is the variable that you passed to <code>Data::Dumper</code> to obtain that output, then <code>$products</code> is a reference to a hash.  It is not an array, so I'm not sure what you mean when you ask for the &quot;array size&quot;.</p>\n<p>You can find out how many keys are in the hash that <code>$products</code> references by using:</p>\n<pre><code>my $key_count = keys %{$products}\n</code></pre>\n<p>Or if you wanted the size of the one of the arrays inside the hash that <code>$products</code> references, such as <code>manufacturer</code>, you can do:</p>\n<pre><code>my $size = @{ $products-&gt;{manufacturer} }\n</code></pre>\n<p>You can learn more about Perl references and data structures in Perl from the documentation <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\"><em>Perl references and nested data structures</em></a> and <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\"><em>Perl Data Structures Cookbook</em></a> which is part of every standard Perl distribution</p>\n<p>For proper advice on your situation you should read <a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"nofollow noreferrer\"><em>Object-Oriented Programming in Perl Tutorial</em></a></p>\n"}], "owner": {"reputation": 458, "user_id": 3145399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65149d909a74a8f392d80e75244bc75c?s=128&d=identicon&r=PG&f=1", "display_name": "nasatome", "link": "https://stackoverflow.com/users/3145399/nasatome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 37621426, "answer_count": 1, "score": 0, "last_activity_date": 1464983827, "creation_date": 1464979042, "last_edit_date": 1464983018, "question_id": 37621322, "link": "https://stackoverflow.com/questions/37621322/how-to-get-the-number-of-items-in-a-list-within-an-object", "title": "How to get the number of items in a list within an object", "body": "<p>I am a beginner in Perl, I need to get the size of an array</p>\n\n<p>SOAP consultation code is as follows</p>\n\n<pre><code>my @params = (\n    SOAP::Data-&gt;name(user =&gt; '2355'),\n    SOAP::Data-&gt;name(psw  =&gt; '2355')\n);\n\nmy $soap = SOAP::Lite\n    -&gt;uri( 'https://service.example.com' )\n    -&gt;on_action( sub { join '/', 'https://service.example.com', $_[1] } )\n    -&gt;proxy( 'https://service.example.com/service.php?wsdl' );\n\nmy $method = SOAP::Data-&gt;name('GetAll')\n    -&gt;attr( {xmlns =&gt; 'https://service.example.com'} );\n\nmy @products =  $soap-&gt;call($method =&gt; @params)-&gt;result;\n</code></pre>\n\n<p>This returns</p>\n\n<pre><code>$VAR1 = bless({\n  date_end =&gt; [0, 0, \"2016-06-30\"],\n  dispach =&gt; [0, 51, 0],\n  manufacturer =&gt; [\"Microsoft\", \"Lenovo\", \"HP\"],\n  sku =&gt; [\n    \"R23649C          \",\n    \"DW47-03           \",\n    \"YDG-016           \",\n  ],\n  tree =&gt; [\n    \"MS-OPEN             \",\n    \"LENOVO-AIO          \",\n    \"HP ACADEMIC   \",\n  ],\n}, \"parametros_salida\");\n</code></pre>\n\n<p>I can access the data with</p>\n\n<pre><code>print $products-&gt;{\"sku\"}[0];\nprint $products-&gt;{\"manufacturer\"}[0];\nprint $products-&gt;{\"manufacturer\"}[1];\n</code></pre>\n\n<p>But I cannot count as the result of my call SOAP only return a single variable Dumper($products) therefore I can not get the array size.</p>\n\n<p>I've tried</p>\n\n<pre><code>my @products2 = $products\nprint 0 + @products2;\nprint scalar(@products2);\nprint scalar $products;\n</code></pre>\n"}, {"tags": ["perl", "if-statement"], "comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 4, "creation_date": 1464978795, "post_id": 37621223, "comment_id": 62725060, "body": "Use <code>==</code> for numerical comparison, but use <code>eq</code> for string comparision:  <a href=\"http://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Equality-Operators</a>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1464978795, "post_id": 37621223, "comment_id": 62725061, "body": "Your code has a syntax error. And quoting single variables like <code>&quot;$band1&quot;</code> or <code>&quot;$splitB1[1]&quot;</code> is unnecessary and makes it harder to read. Could you show us what is typically in <code>$band1</code> and <code>$band2</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1464978981, "post_id": 37621223, "comment_id": 62725152, "body": "Always <code>use warnings &#39;all&#39;;</code> (and <code>use strict;</code> if you aren&#39;t already). That would have warned you about <code>==</code> being for numeric comparisons as Miller explained."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1464979322, "post_id": 37621223, "comment_id": 62725293, "body": "This can&#39;t be the running code, because there is a syntax error of unbalanced parentheses on the <code>if</code> statement. But even removing the extra left paren, the <code>if</code> logic is not as your text describes! The <code>if</code> condition says that only if 1st number is <i>less than</i> 2nd number <i>and</i> first letter is <code>s</code> <i>and</i> second letter is <code>s</code> will the <code>print</code> be reached. <i>None</i> of your data lines meets that strict condition."}], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464986378, "post_id": 37621509, "comment_id": 62728662, "body": "Ok well I know I didn&#39;t specifically say what&#39;s wrong with my logic, but that was all I wanted, the only reason I posted was to figure out what was wrong with my logic"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464986745, "post_id": 37621509, "comment_id": 62728841, "body": "@schwem Just I wasn&#39;t asking to make my code cleaner, I was asking how can I fix my if statement so that it evaluates to true"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464987136, "post_id": 37621509, "comment_id": 62729026, "body": "You kind just posted some code that does the same thing as mine that I&#39;m unfamiliar with"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 2, "creation_date": 1464989143, "post_id": 37621509, "comment_id": 62729814, "body": "I posted an answer to your most obvious problem. I also posted some not immediately obvious extra cleanups with explanation. It&#39;s a bonus; even if you don&#39;t understand it now, it points to what you might learn next. Coding is more than just getting the desired output, and Stack Overflow is not a &quot;fix my code for free&quot; service. If you have questions about the answer, please ask them."}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464989661, "post_id": 37621509, "comment_id": 62730016, "body": "I&#39;m just unfamiliar with it and if I still can&#39;t get the output I need it&#39;s easier for me to fiddle the code I wrote that I do understand, but I didn&#39;t need to know any of this stuff posted, I just needed to know why my if statement was evaluating to false."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 2, "creation_date": 1464990240, "post_id": 37621509, "comment_id": 62730238, "body": "@C.Monster &quot;<i>I didn&#39;t need to know any of this stuff</i>&quot;... part of asking an expert is that the expert knows things you don&#39;t know that you don&#39;t know (not a typo) and can see things you can&#39;t. And, again, it&#39;s clearly separated from the main part of the answer (which spells out the main bug) so you can ignore it if you like. Now, you can talk about what trouble you&#39;re still having and I can try to help. Or you can complain again about your free, expert code review and I&#39;ll delete the answer if it&#39;s that galling to you."}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464990864, "post_id": 37621509, "comment_id": 62730458, "body": "Well the only help  I need is my if stament to evaluate to true, I realize half o f it got cut off so the expected output doesn&#39;t make sense,  but if that bracket were in there I would still want the second line of input (s21 s11) to eavaluate to true and I don&#39;t know why it isn&#39;t And it&#39;s just that the only answer I need is getting the if statement to evaluate to true, and I can&#39;t figure out why it&#39;s not, that&#39;s the only thing I&#39;m wondering and I&#39;ve noticed that if it looks like it&#39;s already answered then people won&#39;t leave other answers"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464990981, "post_id": 37621509, "comment_id": 62730486, "body": "@C.Monster <a href=\"https://gist.github.com/schwern/c03f419ece50cdf24e975c5fb39d291e\" rel=\"nofollow noreferrer\">It does evaluate to true for me</a>, even with the <code>==</code> bug, if <code>$band1 = &#39;s11&#39;</code> and <code>$band2 = &#39;s12&#39;</code>. Are you sure you&#39;re not missing the <code>Hello World</code> because there&#39;s no newline at the end of the <code>print</code>? (this is why I switched to <a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"nofollow noreferrer\"><code>say</code></a>)"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464991084, "post_id": 37621509, "comment_id": 62730524, "body": "@C.Monster According to your rules, <code>s21 s11</code> should be (and is) false. &quot;<i>or band 1 and 2 are both s&#39;s and band 2&#39;s number is higher than band 1&#39;s</i>&quot;. They&#39;re both <code>s</code>, but 11 is not higher than 21. False. And don&#39;t worry, people will continue to answer if the question is clear and the answers are not complete."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 5, "last_activity_date": 1464980174, "last_edit_date": 1464980174, "creation_date": 1464979784, "answer_id": 37621509, "question_id": 37621223, "link": "https://stackoverflow.com/questions/37621223/perl-if-statement-never-correct-but-theoretically-should-be/37621509#37621509", "title": "Perl if statement never correct, but theoretically should be", "body": "<p>The immediate problem is <a href=\"http://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"nofollow\"><code>==</code> is used for numeric equality and <code>eq</code> is used for string equality</a>. These are different operations, so Perl has separate string and numeric operators. Some other languages can guess what you mean by <code>==</code>, but Perl variables lack types so it cannot.</p>\n\n<p>With warnings on (<code>use warnings</code>) you'll get a warning.</p>\n\n<pre><code>s   11  t   12\nArgument \"s\" isn't numeric in numeric eq (==) at /Users/schwern/tmp/test.plx line 13.\nArgument \"s\" isn't numeric in numeric eq (==) at /Users/schwern/tmp/test.plx line 13.\nArgument \"s\" isn't numeric in numeric eq (==) at /Users/schwern/tmp/test.plx line 13.\nArgument \"t\" isn't numeric in numeric eq (==) at /Users/schwern/tmp/test.plx line 13.\nHello World\n</code></pre>\n\n<p>The condition is true because when Perl tries to force the letters <code>s</code> or <code>t</code> or anything that doesn't look like a number to be a number it uses <code>0</code>. <code>0 == 0</code> so <code>$splitB1[0] == \"s\"</code> is true.</p>\n\n<hr>\n\n<h2>Other issues...</h2>\n\n<p><strong><em>Don't quote single variables</em></strong>. It makes the code harder to read and in some cases with overloaded objects (ie. objects acting like they're strings) it can cause subtle bugs by prematurely turning the object into a string.</p>\n\n<pre><code>join(\"\",$splitB1[1],$splitB1[2]);      # Yes\njoin(\"\",\"$splitB1[1]\",\"$splitB1[2]\");  # NO\n</code></pre>\n\n<p><strong><em>Use a regex, not split</em></strong>. This is not an appropriate use of split. Your code relies on the incoming string to only have one letter and two digits. It's faster, less code, and more robust to use a regex to look for letters followed by numbers.</p>\n\n<pre><code>my($code1, $num1) = $band1 = /([a-z]+)(\\d+)/i;\n</code></pre>\n\n<p><strong><em>Use an array or hash rather than $var1 and $var2</em></strong>. Any time you find yourself writing <code>$var1</code> and <code>$var2</code> consider using an array instead. <code>$var[0]</code> and <code>$var[1]</code>. It's easier to pass them around as a group, and you can loop over them saving repeating code.</p>\n\n<p>Putting it all together, plus a few other touches like using <a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"nofollow\"><code>say</code></a> and spacing out complex conditions...</p>\n\n<pre><code>use v5.10;\nuse strict;\nuse warnings;\n\nmy @bands = qw(s11 s12);\n\nmy @codes;\nmy @nums;\n\nfor my $idx (0..1) {\n    ($codes[$idx], $nums[$idx]) = $bands[$idx] =~ /([a-z]+)(\\d+)/i;\n}\n\nsay $codes[0], \"\\t\", $nums[0], \"\\t\", $codes[1], \"\\t\", $nums[1];\n\nif (\n    $nums[0] &lt; $nums[1] and\n    $codes[0] eq \"s\"    and\n    $codes[1] eq \"s\"\n) {\n    say \"Hello World\"\n}\n</code></pre>\n\n<p>This does not match the logic you described, but the code already had that problem. I leave that for you to figure out from here. (Hint: <a href=\"http://perldoc.perl.org/perlop.html#Logical-or-and-Exclusive-Or\" rel=\"nofollow\"><code>xor</code></a>, exclusive or, or the way humans mean \"or\", might help here).</p>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1464980174, "creation_date": 1464978582, "question_id": 37621223, "link": "https://stackoverflow.com/questions/37621223/perl-if-statement-never-correct-but-theoretically-should-be", "title": "Perl if statement never correct, but theoretically should be", "body": "<p>$band1 and $band2 two are declared as (with $band1 on the left and $band2 on the right)</p>\n\n<pre><code>s12 t12\ns21 s11\nt12 s12\nt15 t23\nt23 t15\n</code></pre>\n\n<p>After the first print statement I get</p>\n\n<pre><code>s   12  t   12\ns   21  s   11\nt   12  s   12\nt   15  t   23\nt   23  t   15\n</code></pre>\n\n<p>But it seems as if my second if statement is never executed(as in should it the second time through. It looks correct to me though I don't know why it's not executing, it should print hello the second time, third time and fourth time through. Really it should print hello any time band and two are both t's and band 1's number is higher than band 2's or band 1 and 2 are both s's and band 2's number is higher than band 1's, or if the band on the left is a t and the band on the right is a s. </p>\n\n<pre><code>my @splitB1 = split(//, \"$band1\");\nmy @splitB2 = split(//, \"$band2\");\nmy $band1Num = join(\"\",\"$splitB1[1]\",\"$splitB1[2]\");\nmy $band2Num = join(\"\",\"$splitB2[1]\",\"$splitB2[2]\");\nprint $splitB1[0], \"\\t\", $band1Num, \"\\t\", $splitB2[0], \"\\t\", $band2Num, \"\\n\";\nif (($band1Num &lt; $band2Num and $splitB1[0]==\"s\" and $splitB2[0]==\"s\"){\n       print \"Hello World\"\n }\n</code></pre>\n\n<p>Thank-you</p>\n"}, {"tags": ["sql", "sql-server", "perl", "cygwin", "dbi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464975929, "post_id": 37620262, "comment_id": 62723617, "body": "@Stivan: I don&#39;t see any improvement in your edit: the original code is readable and nicely indented. But your proposal has blocked anyone from making any changes until three of your peers have reviewed your changes. Please be aware of the manifestations of your next edit"}, {"owner": {"reputation": 49560, "user_id": 119477, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/838f94e4247f0740e8be0cc6a9900278?s=128&d=identicon&r=PG", "display_name": "Conrad Frix", "link": "https://stackoverflow.com/users/119477/conrad-frix"}, "edited": false, "score": 1, "creation_date": 1464975963, "post_id": 37620262, "comment_id": 62723630, "body": "I&#39;m guessing you think that a timestamp is something that represents a date and or time. If that&#39;s the case then <a href=\"http://stackoverflow.com/a/8119407/119477\">Timestamps aren&#39;t what you think they are</a> ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464976398, "post_id": 37620262, "comment_id": 62723849, "body": "It looks like that column is being retrieved as a packed 32-bit binary number. Please show the output if you use <code>print unpack &#39;N&#39;, $row-&gt;[0], &quot;\\n&quot;;</code>. If that produces strange results then go for <code>print unpack &#39;V&#39;, $row-&gt;[0], &quot;\\n&quot;;</code>. But what you see will be something akin to a sequence number or an access count; its value isn&#39;t usually useful unless you want to compare them, and that&#39;s best left to the database engine"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "reply_to_user": {"reputation": 49560, "user_id": 119477, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/838f94e4247f0740e8be0cc6a9900278?s=128&d=identicon&r=PG", "display_name": "Conrad Frix", "link": "https://stackoverflow.com/users/119477/conrad-frix"}, "edited": false, "score": 0, "creation_date": 1464978378, "post_id": 37620262, "comment_id": 62724855, "body": "@ConradFrix I actually did not think that, based on the fact that SQL Server was showing me long hex numbers.  I don&#39;t know what they are, but no, I didn&#39;t think they were dates and times."}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464978411, "post_id": 37620262, "comment_id": 62724870, "body": "@Borodin both of those give me 0 for each row."}], "answers": [{"comments": [{"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1464978598, "post_id": 37620718, "comment_id": 62724962, "body": "I am woefully ignorant as to the meaning and usage of <code>pack</code> and <code>unpack</code>.  Off to <a href=\"http://perldoc.perl.org\" rel=\"nofollow noreferrer\">perldoc.perl.org</a> I go.  Thank you very much, @mob!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1464976562, "creation_date": 1464976562, "answer_id": 37620718, "question_id": 37620262, "link": "https://stackoverflow.com/questions/37620262/sql-server-timestamp-fields-coming-out-unprintable-with-perl-dbi/37620718#37620718", "title": "SQL Server timestamp fields coming out unprintable with Perl DBI", "body": "<p>I can see the original data in the console output. <code>chr(0x0A)</code> is a newline, <code>chr(0xA5)</code> is a weird character, <code>chr(0x31)</code> is the digit <code>1</code>, <code>chr(0xFB)</code> is another weird character, etc.</p>\n\n<p>So the 64-bit integer displayed in the SQL Server application is encoded in a string. And when you hear the words \"integer\", \"string\", and \"encoding\", then you should think <a href=\"http://metacpan.org/pod/perlfunc#pack-TEMPLATE-LIST\" rel=\"nofollow\"><code>\"pack\"</code> and <code>\"unpack\"</code></a>.</p>\n\n<p>After some trial-and-error, I find that the Perl code to recreate SQL Server's hex strings from the output to Perl looks like:</p>\n\n<pre><code>sub rawTimestampToHex {\n    my $i = shift;\n    sprintf \"0x%016X\", unpack(\"Q&gt;\",$i);\n}\n</code></pre>\n\n<p>where the <code>\"Q&gt;\"</code> template means to interpret the first 8-bytes of input as a packed unsigned quad (64-bit integer) value in big-endian byte-order (most significant bits first)</p>\n\n<p>Example:</p>\n\n<pre><code>print rawTimestampToHex(\"\\x00\\x00\\x00\\x00\\x0A\\xA5\\x31\\xFB\")\n0x000000000AA531FB\n</code></pre>\n"}], "owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 37620718, "answer_count": 1, "score": 0, "last_activity_date": 1464976562, "creation_date": 1464974717, "last_edit_date": 1464975875, "question_id": 37620262, "link": "https://stackoverflow.com/questions/37620262/sql-server-timestamp-fields-coming-out-unprintable-with-perl-dbi", "title": "SQL Server timestamp fields coming out unprintable with Perl DBI", "body": "<p>I am connecting to an SQL Server 2014 database, via the Perl DBI module with DBD::ODBC.  The table I'm looking at has the following structure:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE [dbo].[JonesFrank$EMSM Printouts](\n    [timestamp] [timestamp] NOT NULL,\n    [Document Type] [int] NOT NULL,\n    [Document No_] [nvarchar](20) NOT NULL,\n    [Line No_] [int] NOT NULL,\n    [Entry No_] [int] NOT NULL,\n    [Printout] [image] NULL,\n    [Date] [datetime] NOT NULL,\n CONSTRAINT [JonesFrank$EMSM Printouts$0] PRIMARY KEY CLUSTERED \n(\n    [Document Type] ASC,\n    [Document No_] ASC,\n    [Line No_] ASC,\n    [Entry No_] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]\n) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]\n</code></pre>\n\n<p>As you can see, it has a <code>timestamp</code> column, cleverly named 'timestamp'.  When I select values from this table within the SQL Server application, they come out as long hex numbers, like so:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>+====================+\n| timestamp          |\n+====================+\n| 0x000000000AA531FB |\n| 0x000000000AB0F485 |\n| 0x000000000AB0F483 |\n| 0x000000000A941C0C |\n| 0x000000000AA531F5 |\n| 0x000000000AA53448 |\n+====================+\n</code></pre>\n\n<p>However, when I run a Perl program, using <code>DBI</code> and <code>DBD::ODBC</code>, the results are strings containing non-printable characters:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse DBI;\nuse Getopt::Long;\n\nGetOptions (\n   'dbname=s' =&gt; \\my $dbname,\n   'driver=s' =&gt; \\my $driver,\n   'server=s' =&gt; \\my $server,\n   'user=s'   =&gt; \\my $user,\n   'pwd=s'    =&gt; \\my $pwd,\n) or die \"Invalid command line options\\n\";\n\ndie \"--dbname &lt;database name&gt; required!\\n\" unless defined $dbname;\n\n$driver //= 'SQL Server';\n$server //= 'SQL';\n$user   //= 'xxx';\n$pwd    //= 'xxxxxxxx';\n\nmy $table = 'TheTable';    \n\nmy $dbh = DBI-&gt;connect(\n    \"dbi:ODBC:Driver={$driver};Server=$server;UID=$user;PWD=$pwd\",\n    { RaiseError =&gt; 1}\n) or die \"Cannot connect: $DBI::errstr\";\n\n$dbh-&gt;do(\"use $dbname\");\n\nmy $sql = \"SELECT [timestamp] FROM [$table] WHERE Printout IS NOT NULL\";\nmy $sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute();\nwhile (my $row = $sth-&gt;fetch()) {\n   print $row-&gt;[0], \"\\n\";\n}\n</code></pre>\n\n<p>(I have to post the output as an image, as I don't know how to reproduce the strings that are output just by typing on my keyboard here...)</p>\n\n<p><a href=\"https://i.stack.imgur.com/BBzGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BBzGp.png\" alt=\"enter image description here\"></a> </p>\n\n<p>I am using perl 5.22.2 for cygwin, DBI.pm 1.636, and DBD/ODBC.pm 1.52.</p>\n\n<p>Does anyone know why the timestamp values are coming out like this, and how to get the 'real' values, that I see in the SQL Server application?</p>\n"}, {"tags": ["perl", "snmp"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464971368, "post_id": 37618827, "comment_id": 62721195, "body": "Sorry, this is too broad to meaningfully answer. It should be possible to catch an SNMPv3 trap and create a new SNMPv2 trap with approximately similar information."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1464972622, "post_id": 37618827, "comment_id": 62721858, "body": "@Sobrique I disagree that it&#39;s too broad. Perhaps rephrasing would help: &quot;How can I use <a href=\"https://metacpan.org/pod/NetSNMP::TrapReceiver\" rel=\"nofollow noreferrer\">NetSNMP::TrapReceiver</a> to catch SNMP v3 traps and forward them as v2 traps?&quot; Since snmptrapd can run arbitrary Perl code, I expect the solution wouldn&#39;t be very long."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464975535, "post_id": 37618827, "comment_id": 62723416, "body": "I&#39;m confused about your structure: you don&#39;t mention a <i>network manager</i> anywhere. Does your <i>&quot;client application&quot;</i> mean your new HP OpenView agent? In which case, what are <i>&quot;the agents we use&quot;</i>? This is one case where it would be useful to post an image."}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1465318899, "post_id": 37618827, "comment_id": 62847595, "body": "I&#39;m not voting to close, but I do feel this would be a better question if you showed some indication of what you&#39;ve tried so far with the Perl module. The page you&#39;ve linked to appears to have lots of good info including example code, what is missing from it that you can&#39;t get started on this?"}, {"owner": {"reputation": 95, "user_id": 5185099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/691933426843cb153554499525ba0e49?s=128&d=identicon&r=PG&f=1", "display_name": "MatteoS", "link": "https://stackoverflow.com/users/5185099/matteos"}, "edited": false, "score": 0, "creation_date": 1465467574, "post_id": 37618827, "comment_id": 62917828, "body": "Sorry guy&#39;s I realise that I did perhaps jump the gun on this and I have now identified an SNMP trap interceptor that caters for v3 traps.  I will close this question - sorry for wasting peoples time"}], "answers": [{"tags": [], "owner": {"reputation": 2606, "user_id": 2807083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5243f429132252828f081c61979aa614?s=128&d=identicon&r=PG&f=1", "display_name": "user2807083", "link": "https://stackoverflow.com/users/2807083/user2807083"}, "is_accepted": false, "score": 0, "last_activity_date": 1466155687, "creation_date": 1466155687, "answer_id": 37877933, "question_id": 37618827, "link": "https://stackoverflow.com/questions/37618827/snmpv3-to-snmpv2-glue-layer/37877933#37877933", "title": "SNMPv3 to SNMPv2 glue layer", "body": "<p>By chance I have same task for now. So my decision with NetSNMP::TrapReceiver is here:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nuse Net::SNMP;\nuse SNMP;\nuse Switch;\n\n\nmy $snmpTrapDestHost = \"127.0.0.1\";\nmy $snmpTrapRemotePort = 16162; #other than default trap port or we got infinite trap loop\nmy $snmpTrapCommunity = \"public\";\nmy $snmpTrapVersion = \"2c\";\n\n\nmy $sess = new SNMP::TrapSession(DestHost =&gt; $snmpTrapDestHost, Community =&gt; $snmpTrapCommunity, Version =&gt; $snmpTrapVersion, RemotePort =&gt; $snmpTrapRemotePort);\n\nsub my_receiver {\n    print \"********** PERL RECEIVED A NOTIFICATION:\\n\";\n\n    my @bunchOfVarbinds;\n    foreach my $x (@{$_[1]})\n    {\n        printf \"'%s' type='%d' value='%s'\\n\", $x-&gt;[0], $x-&gt;[2], $x-&gt;[1];\n        my $lsOid = $x-&gt;[0];\n        my $liOid = &amp;SNMP::translateObj($lsOid);\n        my $lsVal = $x-&gt;[1];\n        my $lType = $x-&gt;[2];\n        my $lVal;\n# You need some convertion here, cause we got data in \"human readable\" format\n        switch($lType)\n        {\n            case Net::SNMP::OBJECT_IDENTIFIER\n            {\n                $lType = \"OBJECTID\";\n                if ($lsVal =~ /OID\\:\\s+(.*)$/)\n                {\n                    $lVal = $1\n                }\n                else\n                {\n                    $lVal = $lsVal;\n                }\n                $lVal = &amp;SNMP::translateObj($lVal);\n            }\n            case Net::SNMP::TIMETICKS\n            {\n                $lType = \"TICKS\";\n                if($lsVal =~ /Timeticks\\:\\s+\\((\\d+)\\)\\s+.*$/)\n                {\n                    $lVal = $1;\n                }\n                else\n                {\n                    my ($d, $h, $m, $s) = split(/\\:/, $lsVal);\n                    $lVal = $d * 24;\n                    $lVal = ($lVal + $h)*60;\n                    $lVal = ($lVal + $m)*60;\n                    $lVal = ($lVal + $s)*100;\n                }\n            }\n            case Net::SNMP::OCTET_STRING\n            {\n                $lType = \"OCTETSTR\";\n                my $isHex;\n                ($isHex, $lVal) = split(/STRING\\:\\s*/, $lsVal);\n                if (!defined($lVal))\n                {\n                    $lVal = $lsVal;\n                }\n                $lVal =~ s/\"//g;\n\n                if (defined($isHex))\n                {\n                    if($isHex eq \"Hex-\")\n                    {\n                        $lVal =~ s/\\n//g;\n                        $lVal =~ s/ //g;\n                    }\n                }\n            }\n            case Net::SNMP::INTEGER\n            {\n                $lType = \"INTEGER\";\n                $lVal = $lsVal;\n            }\n            case Net::SNMP::IPADDRESS\n            {\n# IPADDR\n# NETADDR\n                $lType = \"IPADDR\";\n                $lVal = $lsVal;\n            }\n            case Net::SNMP::COUNTER\n            {\n# COUNTER\n                $lType = \"COUNTER\";\n                $lVal = $lsVal;\n            }\n            case Net::SNMP::COUNTER64\n            {\n# COUNTER64\n                $lType = \"COUNTER64\";\n                $lVal = $lsVal;\n            }\n            case Net::SNMP::GAUGE\n            {\n# GAUGE\n                $lType = \"GAUGE\";\n                $lVal = $lsVal;\n            }\n            case Net::SNMP::NULL\n            {\n# NULL\n                $lType = \"NULL\";\n                $lVal = $lsVal;\n            }\n            else\n            {\n# UINTEGER\n# OPAQUE\n                $lVal = $lsVal;\n            }\n        }        \n        push @bunchOfVarbinds, new SNMP::Varbind([$liOid, undef, $lVal, $lType]);\n\n    }\n\n    my $vl = new SNMP::VarList(@bunchOfVarbinds);\n\n    $sess-&gt;trap(\n                    oid =&gt; $initiTrapProxyServiceOid,\n                    uptime =&gt; $trapUptimeValue,\n                    $vl\n               );\n\n    return NETSNMPTRAPD_HANDLER_OK;\n}\n\n$SNMP::use_numeric = 1;\nNetSNMP::TrapReceiver::register(\"all\", \\&amp;my_receiver) ||\n warn \"failed to register perl trap handler\\n\";\nprint STDERR \"Loaded perl snmptrapd handler\\n\";\n</code></pre>\n\n<p>I am newbie in perl so any fixes are appreciated.</p>\n"}], "owner": {"reputation": 95, "user_id": 5185099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/691933426843cb153554499525ba0e49?s=128&d=identicon&r=PG&f=1", "display_name": "MatteoS", "link": "https://stackoverflow.com/users/5185099/matteos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 609, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1473871387, "creation_date": 1464969507, "last_edit_date": 1464973840, "question_id": 37618827, "link": "https://stackoverflow.com/questions/37618827/snmpv3-to-snmpv2-glue-layer", "title": "SNMPv3 to SNMPv2 glue layer", "body": "<p>I have been asked to install an HP OpenView agent onto a remote Unix platform to capture SNMP traps forwarded by a client application.</p>\n\n<p>I have since discovered that the client application can only forward SNMPv3 traps, and the agents we use can only accept SNMPv2 traps. </p>\n\n<p>I have discovered that I may be able to resolve this issue through the use of the Perl module <a href=\"https://metacpan.org/pod/NetSNMP::TrapReceiver\" rel=\"nofollow\"><code>NetSNMP::TrapReceiver</code></a> but I am unclear how this is setup or how/if you can convert a v3 trap to a v2 trap.</p>\n\n<p>My goal is to capture the v3 trap and, hopefully via a script or tool, convert this to a v2 trap and send it back out on an alternative port.</p>\n"}, {"tags": ["perl", "upload"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1464967621, "post_id": 37617913, "comment_id": 62719002, "body": "I think today is file-Friday. This is the third question about *loading files through the web almost in a row. :D"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464982620, "post_id": 37617913, "comment_id": 62726966, "body": "A couple of debugging questions.  (1) Did you try the line in my answer to your previous question, to look at the <i>temporary</i> file that the server writes? This may help to check whether that part of the process works.  That&#39;s done the same way with this new script as well.  (2) Can you add another print, along with <code>print UPLOADFILE</code>, so to print to a location where you surely can write a file, like your home directory?"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1465023622, "post_id": 37617913, "comment_id": 62736911, "body": "Try this print UPLOADFILE $_;"}, {"owner": {"reputation": 35, "user_id": 1681502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/acea32033b417f3eb246063c45c30caa?s=128&d=identicon&r=PG", "display_name": "user1681502", "link": "https://stackoverflow.com/users/1681502/user1681502"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465080986, "post_id": 37617913, "comment_id": 62753490, "body": "@zdim - I did try your suggestion and did have the same result.  I tried writing the file to the html directory.  The file was created but it was empty."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1465535808, "post_id": 37617913, "comment_id": 62951227, "body": "It seems that the problem is with the upload process itself, as stated in my answer to your previous Q, in the first and last sentences, and in between. Print the following diagnostics to a file. I use <code>$ufh</code> for <code>$upload_filehandle</code>. (1) Check filehandle -- <code>print &quot;$ufh\\n&quot;</code> should print <code>GLOB(...)</code>. The <code>print fileno($ufh), &quot;\\n&quot;</code> should print (positive!) integer. Compare with <code>print fileno UPLOADFILE</code>, should differ.  The <code>print tell($ufh)</code> should print <code>0</code> (beginning of file).  (2) Use <code>uploadInfo</code> and other query methods in CGI docs I linked to in my answer, see what you get. Let me know."}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 6447967, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4kt-uhK8pQk/AAAAAAAAAAI/AAAAAAAAADM/d7KEkgnoFOw/photo.jpg?sz=128", "display_name": "Shaka Flex", "link": "https://stackoverflow.com/users/6447967/shaka-flex"}, "is_accepted": false, "score": 0, "last_activity_date": 1465523087, "creation_date": 1465523087, "answer_id": 37738721, "question_id": 37617913, "link": "https://stackoverflow.com/questions/37617913/files-not-uploading-via-perl-script/37738721#37738721", "title": "Files Not Uploading Via Perl Script", "body": "<p>Your folder's permissions should be set to 755.\nDo not upload to the cgi-bin, move the folder out of there.\nThe uploaded files can be set with permissions 644 <code>chmod 0644, $upload_dir.'/'.$filename;</code> after you <code>close UPLOADFILE;</code> but with that upload script you still have a few security issues.</p>\n"}], "owner": {"reputation": 35, "user_id": 1681502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/acea32033b417f3eb246063c45c30caa?s=128&d=identicon&r=PG", "display_name": "user1681502", "link": "https://stackoverflow.com/users/1681502/user1681502"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 394, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1465523087, "creation_date": 1464966734, "question_id": 37617913, "link": "https://stackoverflow.com/questions/37617913/files-not-uploading-via-perl-script", "title": "Files Not Uploading Via Perl Script", "body": "<p>Previously, I had posted a PERL file upload script that I had used for years that had mysteriously stopped working.  I have since tried another script (borrowed from a website - <a href=\"https://www.sitepoint.com/uploading-files-cgi-perl/\" rel=\"nofollow\">https://www.sitepoint.com/uploading-files-cgi-perl/</a>), and it is not working either.  I really need to get a file upload script working on our site, so any help is appreciated.</p>\n\n<p>When I try to upload a file using the html form, it appears to work correctly and gives the confirmation screen.  The file exists in the upload folder but it is empty.  I changed permissions to 777 on the folder where the upload files are stored, but that didn't seem to help.  So, it is able to open the file in the folder but not write to it.</p>\n\n<p>HTML CODE</p>\n\n<pre><code>    &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"DTD/xhtml1-strict.dtd\"&gt;\n    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n    &lt;head&gt;\n\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n\n    &lt;title&gt;File Upload&lt;/title&gt;\n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n    &lt;form action=\"/cgi-bin/upload.cgi\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n    &lt;h2 style=\"margin-left:40px;\"&gt;Nursing File Upload&lt;/h2&gt;\n\n    &lt;p style=\"margin-left:40px;margin-top:40px;font-size:24px;\"&gt;File to Upload: &lt;input type=\"file\" name=\"photo\" /&gt;&lt;/p&gt;\n\n    &lt;p style=\"margin-left:40px;font-size:24px;\"&gt;Password: &lt;input type=\"password\" name=\"password\" /&gt;&lt;/p&gt;\n\n    &lt;p style=\"margin-left:40px;font-size:24px;\"&gt;&lt;input type=\"submit\" name=\"Submit\" value=\"Submit Form\" /&gt;&lt;/p&gt;\n\n    &lt;/form&gt;\n\n    &lt;/body&gt;\n\n    &lt;/html&gt;\n</code></pre>\n\n<p>PERL CODE</p>\n\n<pre><code>    #!/usr/bin/perl -wT\n\n    use strict;\n    use CGI;\n    use CGI::Carp qw ( fatalsToBrowser );\n    use File::Basename;\n\n    $CGI::POST_MAX = 1024 * 5000;\n    my $safe_filename_characters = \"a-zA-Z0-9_.-\";\n    my $upload_dir = \"/home/httpd/cgi-bin/ge\";\n\n    my $query = new CGI;\n    my $filename = $query-&gt;param(\"photo\");\n    my $password = $query-&gt;param(\"password\");\n\n    if ($password ne \"nursing1\")\n    {\n    print $query-&gt;header ( );\n    print \"Password incorrect.  Please try again.\";\n    exit;\n    }\n\n    if ( !$filename )\n    {\n    print $query-&gt;header ( );\n    print \"There was a problem uploading your file.\";\n    exit;\n    }\n\n   my ( $name, $path, $extension ) = fileparse ( $filename, '..*' );\n   $filename = $name . $extension;\n   $filename =~ tr/ /_/;\n   $filename =~ s/[^$safe_filename_characters]//g;\n\n   if ( $filename =~ /^([$safe_filename_characters]+)$/ )\n   {\n   $filename = $1;\n   }\n   else\n   {\n   die \"Filename contains invalid characters\";\n   }\n\n   my $upload_filehandle = $query-&gt;upload(\"photo\");\n\n   open ( UPLOADFILE, \"&gt;$upload_dir/$filename\" ) or die \"$!\";\n   binmode UPLOADFILE;\n\n   while ( &lt;$upload_filehandle&gt; )\n   {\n   print UPLOADFILE;\n   }\n\n   close UPLOADFILE;\n\n   print $query-&gt;header ( );\n\n   print \"&lt;!DOCTYPE html PUBLIC \\\"-//W3C//DTD XHTML 1.0 Strict//EN\\\"     \\\"DTD/xhtml1-strict.dtd\\\"&gt;\";\n   print \"&lt;html xmlns=\\\"http://www.w3.org/1999/xhtml\\\" xml:lang=\\\"en\\\" lang=\\\"en\\\"&gt;\";\n   print \"&lt;head&gt;\";\n   print \"&lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html;     charset=utf-8\\\" /&gt;\";\n   print \"&lt;title&gt;Thanks!&lt;/title&gt;\";\n   print \"&lt;style type=\\\"text/css\\\"&gt;\";\n   print \"img {border: none;}\";\n   print \"&lt;/style&gt;\";\n   print \"&lt;/head&gt;\";\n   print \"&lt;body&gt;\";\n   print \"&lt;p&gt;Thanks for uploading your file!&lt;/p&gt;\";\n   print \"&lt;/body&gt;\";\n   print \"&lt;/html&gt;\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1464961100, "post_id": 37615749, "comment_id": 62714379, "body": "I&#39;m sorry, I can&#39;t figure out what the question is. Could you illustrate with some code perhaps? That syntax isn&#39;t valid. Try printing your structure with <code>use Data::Dumper; print Dumper \\%output;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1464961101, "post_id": 37615749, "comment_id": 62714380, "body": "If you have a structure like that then <code>%output</code> should be an array <code>@output</code>"}, {"owner": {"reputation": 1448, "user_id": 5788941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f31a4cc635f38fbc7a10dacb2cb6336?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandre Cartapanis", "link": "https://stackoverflow.com/users/5788941/alexandre-cartapanis"}, "edited": false, "score": 1, "creation_date": 1464961440, "post_id": 37615749, "comment_id": 62714631, "body": "Please read <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1464961457, "creation_date": 1464961457, "answer_id": 37616058, "question_id": 37615749, "link": "https://stackoverflow.com/questions/37615749/reference-on-indexed-hash/37616058#37616058", "title": "Reference on indexed hash", "body": "<p>You've set up a hash when you should have an array. You must also realise that Perl hashes are <em>unordered</em>, so if you need to display the fields in a particular order then you need a different strategy</p>\n\n<p>However, to answer your questions</p>\n\n<p>The number of records is</p>\n\n<pre><code>my $nrec = keys %output;\n</code></pre>\n\n<p>And you can iterate over the hash like this. For each record, <code>@names</code> is set to the names of the fields while <code>@values</code> is set to their corresponding values</p>\n\n<pre><code>for my $n ( sort { $a &lt;=&gt; $b } keys %output ) {\n    my $rec = $output{$n};\n    my @names = keys %$rec;\n    my @values = values %$rec;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1464967239, "creation_date": 1464967239, "answer_id": 37618077, "question_id": 37615749, "link": "https://stackoverflow.com/questions/37615749/reference-on-indexed-hash/37618077#37618077", "title": "Reference on indexed hash", "body": "<pre><code>%output[$n]{\"$names\"}\n</code></pre>\n\n<p>makes no sense. The closest thing that makes sense is</p>\n\n<pre><code>$output[$n]{\"$names\"}\n</code></pre>\n\n<p>You might also be using</p>\n\n<pre><code>$output-&gt;[$n]{\"$names\"}\n</code></pre>\n\n<p>In neither case do you have a hash.</p>\n\n<hr>\n\n<p>In the first case, you have an array (<code>@output</code>) of references (<code>$output[$i]</code>) to hashes (<code>%{ $output[$i] }</code>).</p>\n\n<p>To find the number of elements in an array, evaluate it in scalar context. For example,</p>\n\n<pre><code>my $size = @output;\n\nsay 0+@output;\n</code></pre>\n\n<hr>\n\n<p>In the first case, you have a reference (<code>$output</code>) to an array (<code>@$output</code>) of references (<code>$output-&gt;[$i]</code>) to hashes (<code>%{ $output-&gt;[$i] }</code>).</p>\n\n<p>To find the number of elements in an array, evaluate it in scalar context. For example,</p>\n\n<pre><code>my $size = @$output;\n\nsay 0+@$output;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6419679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0da38e9059e996a0810eea0ae91b6e37?s=128&d=identicon&r=PG&f=1", "display_name": "Valio", "link": "https://stackoverflow.com/users/6419679/valio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1464984792, "answer_count": 2, "score": -2, "last_activity_date": 1464967239, "creation_date": 1464960630, "last_edit_date": 1464966924, "question_id": 37615749, "link": "https://stackoverflow.com/questions/37615749/reference-on-indexed-hash", "closed_reason": "Needs details or clarity", "title": "Reference on indexed hash", "body": "<p>I have such hash:</p>\n\n<pre><code>%output[$n]{\"$names\"}\n</code></pre>\n\n<p>where n - numbers = [0,1..n] (means records)\n      $names - hash keys  {\"key\",\"moi\",\"hy\",..} (means name of columns)</p>\n\n<p>How to:\n1) count how many records \u0448\u0442 hash\n2) for each record get name of fields\n3) get value of each element for each record in cycle ?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 4213, "user_id": 66088, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e1ffa81923af662a75e4f6d49ae83201?s=128&d=identicon&r=PG", "display_name": "Andrew Bainbridge", "link": "https://stackoverflow.com/users/66088/andrew-bainbridge"}, "edited": false, "score": 3, "creation_date": 1464957875, "post_id": 37614036, "comment_id": 62712044, "body": "You should include some output here that includes the unknown characters."}, {"owner": {"reputation": 137, "user_id": 4243343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-1RQhwdB4kW8/AAAAAAAAAAI/AAAAAAAAAFQ/x35pbl8QZRM/photo.jpg?sz=128", "display_name": "prateek goyal", "link": "https://stackoverflow.com/users/4243343/prateek-goyal"}, "reply_to_user": {"reputation": 4213, "user_id": 66088, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e1ffa81923af662a75e4f6d49ae83201?s=128&d=identicon&r=PG", "display_name": "Andrew Bainbridge", "link": "https://stackoverflow.com/users/66088/andrew-bainbridge"}, "edited": false, "score": 0, "creation_date": 1464959717, "post_id": 37614036, "comment_id": 62713332, "body": "@AndrewBainbridge , Sorry for that. But I could not figure out the way to provide the output. AS part of debugging I subsitituted all non-word chars(\\W) to some other character like &quot;!&quot;, so I got to know that after every readable character it prints out &quot;!&quot;. Regex for substitution: s/\\W+/!/g"}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1464956365, "post_id": 37614107, "comment_id": 62711053, "body": "Would you provide a brief example so that readers (myself included) get to view a minimal snip here, and can then follow through to the docs if desired?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464958697, "post_id": 37614107, "comment_id": 62712634, "body": "@stevieb: I was hoping the OP woiuld come up with some more specific information, but I&#39;ve written something very general"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464958975, "post_id": 37614107, "comment_id": 62712814, "body": "I figured @Borodin, and I understand. Thank you for updating with some examples regardless of the OPs lack of information. ++"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1464958660, "last_edit_date": 1464958660, "creation_date": 1464955953, "answer_id": 37614107, "question_id": 37614036, "link": "https://stackoverflow.com/questions/37614036/conversion-of-windows-command-output-in-linux-environment-in-perl/37614107#37614107", "title": "Conversion of windows command output in linux environment in perl", "body": "<p>Windows uses UTF-16LE to encode Unicode strings. You will need to use the <a href=\"https://metacpan.org/pod/Encode\" rel=\"nofollow\"><code>Encode</code></a> module to decode them</p>\n\n<p>It's difficult to know what to advise with so little information, but in general you can write</p>\n\n<pre><code>use Encode qw/ decode :fallbacks /;\n\nmy $text = decode('UTF-16', $windows_bytes, FB_CROAK);\n</code></pre>\n\n<p>As far as I know, Windows always uses a <em>Byte Order Mark</em> (BOM) so I've specified just <code>UTF-16</code>. If there were no BOM I would need to specify the byte ordering myself with <code>UTF-16LE</code></p>\n\n<p>The third parameter to <code>decode</code> defines the behaviour if the data is an invalid example of the specified encoding. It is safest to <em>croak</em> in this case</p>\n\n<p>Or if you're opening a UTF-16-encoded file, you should open with <code>:encoding(UTF-16)</code> and <code>:crlf</code>, like this</p>\n\n<pre><code>open my $fh, '&lt;:encoding(UTF-16):crlf', $filename;\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 4243343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-1RQhwdB4kW8/AAAAAAAAAAI/AAAAAAAAAFQ/x35pbl8QZRM/photo.jpg?sz=128", "display_name": "prateek goyal", "link": "https://stackoverflow.com/users/4243343/prateek-goyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1464958660, "creation_date": 1464955775, "question_id": 37614036, "link": "https://stackoverflow.com/questions/37614036/conversion-of-windows-command-output-in-linux-environment-in-perl", "title": "Conversion of windows command output in linux environment in perl", "body": "<p>I am facing one problem. I am writing a Perl program on Linux, where I am executing a windows command on a remote windows machine and capturing output in Perl variable. But there are some unknown characters between every 2 characters.\nWhat introduces this character? PLease help.</p>\n"}, {"tags": ["perl", "format", "string-formatting"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1464952546, "post_id": 37612633, "comment_id": 62708595, "body": "Can you add sample input and expected output?"}, {"owner": {"reputation": 323, "user_id": 3544092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4f7dfcf6ed90b09ba50588b9ed9be4d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3544092", "link": "https://stackoverflow.com/users/3544092/user3544092"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1464952676, "post_id": 37612633, "comment_id": 62708673, "body": "@choroba added some samples"}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 3544092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4f7dfcf6ed90b09ba50588b9ed9be4d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3544092", "link": "https://stackoverflow.com/users/3544092/user3544092"}, "edited": false, "score": 0, "creation_date": 1464953361, "post_id": 37613146, "comment_id": 62709100, "body": "and what can i do if <code>$k</code> is longer than 20 characters?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 323, "user_id": 3544092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4f7dfcf6ed90b09ba50588b9ed9be4d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3544092", "link": "https://stackoverflow.com/users/3544092/user3544092"}, "edited": false, "score": 1, "creation_date": 1464953639, "post_id": 37613146, "comment_id": 62709277, "body": "@user3544092: What do you want to happen?"}, {"owner": {"reputation": 323, "user_id": 3544092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4f7dfcf6ed90b09ba50588b9ed9be4d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3544092", "link": "https://stackoverflow.com/users/3544092/user3544092"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1464953729, "post_id": 37613146, "comment_id": 62709332, "body": "@choroba keep the string formatted? i mean the spaces between first columnt to second must be determinated according to the longest value of column 1 and it must be used for all other lines to keep the final output the same"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464958637, "post_id": 37613146, "comment_id": 62712587, "body": "Does anyone still use <code>format</code> in anger? I have used it for the sake of some training, but ... never since."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464959176, "post_id": 37613146, "comment_id": 62712969, "body": "@Sobrique: It&#39;s quite awkward laying out big reports using <code>printf</code>, so <code>format</code> has its uses there. I tend to use <a href=\"https://metacpan.org/pod/Perl6::Form\" rel=\"nofollow noreferrer\">Perl6::Form</a> in similar situations to where a <i>here document</i> would be more appropriate. It&#39;s a huge improvement over the Perl 5 version"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1606166662, "last_edit_date": 1606166662, "creation_date": 1464953149, "answer_id": 37613146, "question_id": 37612633, "link": "https://stackoverflow.com/questions/37612633/perl-formatting-a-string/37613146#37613146", "title": "Perl formatting a string", "body": "\n<p>I suggest you forget about Perl's <a href=\"https://perldoc.perl.org/perlfunc#format\" rel=\"nofollow noreferrer\">format()</a> and use <a href=\"https://perldoc.perl.org/perlfunc#printf-FILEHANDLE-FORMAT%2C-LIST\" rel=\"nofollow noreferrer\">printf()</a> instead:</p>\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $k1 = '+';\nmy $k2 = '-';\n\nfor my $k (qw/ aaa_bbb  aaa_bbb_ccc  aaa_bbb_ccc_ddd /) {\n    printf &quot;%-20s%-5s%-5s\\n&quot;, $k, $k1, $k2;\n}\n</code></pre>\n<h3>Output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>aaa_bbb             +    -\naaa_bbb_ccc         +    -\naaa_bbb_ccc_ddd     +    -\n</code></pre>\n<br/>\n<hr />\n<h3>Update</h3>\n<p>If you want to fit the first column width to the longest of the values, you can use a dynamic field width in <em>printf</em>. A format specifier like <code>%*s</code> takes two values from the parameter list: an integer width for the fields and a string.</p>\n<p>The program would look like this:</p>\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'max';\n\nmy $k1 = '+';\nmy $k2 = '-';\n\nmy @k_vals = qw/ aaa_bbb  aaa_bbb_ccc  aaa_bbb_ccc_ddd  aaa_bbb_ccc_ddd_eee /;\nmy $w = max map length, @k_vals;\n\nfor my $k ( @k_vals ) {\n    printf &quot;%-*s %-5s%-5s\\n&quot;, $w, $k, $k1, $k2;\n}\n</code></pre>\n<h3>Output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>aaa_bbb             +    -\naaa_bbb_ccc         +    -\naaa_bbb_ccc_ddd     +    -\naaa_bbb_ccc_ddd_eee +    -\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 3544092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4f7dfcf6ed90b09ba50588b9ed9be4d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3544092", "link": "https://stackoverflow.com/users/3544092/user3544092"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 741, "favorite_count": 0, "accepted_answer_id": 37613146, "answer_count": 1, "score": 1, "last_activity_date": 1606166662, "creation_date": 1464951639, "last_edit_date": 1606166593, "question_id": 37612633, "link": "https://stackoverflow.com/questions/37612633/perl-formatting-a-string", "title": "Perl formatting a string", "body": "<p>I'm trying to format a string which has three columns. The first column data length can be different so I don\u2019t know how to format my string in a right way.</p>\n<pre><code>for my $k(keys %results) {\n   my ($k1,$k2);\n   # $k1 and $k2 are always equal to '-' or '+'\n   # $k = &quot;nnn_12_555_addd&quot;;\n   ...\n   format STDOUT =\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @&gt; @&gt;\n$k, $k1, $k2\n.\n   write;\n}\n</code></pre>\n<p>How do I make the first column <code>@&lt;&lt;&lt;&lt;</code> to keep the right size?</p>\n<p>If the <code>$k</code> value is longer than the specified <code>&lt;</code>'s, I'm losing a part from that value in the output...</p>\n<h3>Sample input</h3>\n<pre><code>$k1 = '+'\n$k2 = '-'\n\n$k = 'aaa_bbb'\noutput:\naaa_bbb            +    -\n\n$k = 'aaa_bbb_ccc'\noutput:\naaa_bbb_ccc        +    -\n\n$k = 'aaa_bbb_ccc_ddd'\noutput:\naaa_bbb_ccc_ddd    +    -\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1464951731, "post_id": 37612628, "comment_id": 62708130, "body": "Welcome to Stack Overflow. Right now your question does not clearly say what you want to do. Is the <code>Pass</code>/<code>Fail</code> in the file&#39;s name or the file&#39;s content? Please <a href=\"https://stackoverflow.com/posts/37612628/edit\">edit</a> your question and clarify. Please also add the code you have already written."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1464951767, "post_id": 37612628, "comment_id": 62708151, "body": "It&#39;s hard to answer this question as is - you haven&#39;t given us enough detail. It <i>sounds</i> pretty straightforward, but an example of e.g. filenames, etc. and perhaps some code that you&#39;ve tried already would help us understand your problem."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464959031, "post_id": 37612976, "comment_id": 62712860, "body": "I know you&#39;re trying to help, but I&#39;m really not convinced this is particularly useful - the OP&#39;s detail is vague, so your answer in return must necessarily be so. This in turn makes it unlikely to be much help to people who refer to Stack Overflow in future, and may well not help the OP much either."}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464961251, "post_id": 37612976, "comment_id": 62714487, "body": "Well you may be correct in your assumption to say that it won&#39;t be that much useful for other people browsing stackoverflow. But there are many many highly specific questions which aren&#39;t also. From my point of view, I say that stackoverflow is a place to help from programmer to programmer. And in fact my post answers his question about the string-checking. I can partially agree with you and so I think it&#39;s a greyish environment we&#39;re discussion about."}], "tags": [], "owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "is_accepted": false, "score": 2, "last_activity_date": 1464952635, "creation_date": 1464952635, "answer_id": 37612976, "question_id": 37612628, "link": "https://stackoverflow.com/questions/37612628/how-to-read-multiple-files-in-a-directory-by-matching-a-pattern-in-perl/37612976#37612976", "title": "How to read multiple files in a directory by matching a pattern in perl?", "body": "<p>Welcome at stackoverflow!</p>\n\n<p>To give you a concret and helpful solution to your problem you have to specify your problem as eaxactly as you can.\nOut of your decription I get the following Information:</p>\n\n<ul>\n<li>Your script operates with files</li>\n<li>you want to copy some files from directory a/ to directory b/</li>\n<li>you are able to open each file and read it</li>\n<li>you want to check whether each file contains the String <code>Pass</code> or <code>Fail</code></li>\n<li>you don't have any problems with copying the files</li>\n</ul>\n\n<p>To solve your exact problem we would need to know:</p>\n\n<ul>\n<li>How are these files structured</li>\n<li>how do you read in each file?</li>\n<li>does the String has to appear at the end of a line, middle, begin?</li>\n</ul>\n\n<p>Nevertheless I'll give it a shot. I assume that you read the files <strong>line by line</strong> and that you can process each line seperately.\nThen you can use a <code>regex</code> to check the occurence of your certain strings.</p>\n\n<pre><code>... you read the file line by line and store\n... temporary each line in the variable $line...\n... for each line you check:\nchomp($line);\nif( $line =~ /^Pass$/ ){\n  #the line begins immediatly with the string 'Pass' and after that the line\n  #the line terminates\n}\nif( $line =~ /Pass/){\n  #somewhere in the $line the String 'Pass' occurs\n}\nif( $line =~ /^Pass/){\n  #the line starts with the String 'Pass'\n}\nif( $line =~ /Pass$/){\n  #the line terminates with the String 'Pass'\n}\n</code></pre>\n\n<p>The same thing is possible with the String <code>Fail</code> of course. </p>\n"}], "owner": {"reputation": 11, "user_id": 5061032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3167fc6fe93245e646f2089618092e?s=128&d=identicon&r=PG&f=1", "display_name": "nani", "link": "https://stackoverflow.com/users/5061032/nani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1465361661, "creation_date": 1464951621, "last_edit_date": 1465290966, "question_id": 37612628, "link": "https://stackoverflow.com/questions/37612628/how-to-read-multiple-files-in-a-directory-by-matching-a-pattern-in-perl", "title": "How to read multiple files in a directory by matching a pattern in perl?", "body": "<p>How to read multiple files in a directory by matching a pattern?</p>\n\n<p>I have a directory containing a few directories. Each directory contains a '.log' file and a directory named Cov_work. Each log file in the directory either has a \"Pass\" string or a \"Fail\" string. I need to separate both and store the .log with the pass string in a new directory along with the Cov_work. I am able to transfer the files but not the directory. I apologize for my first post as it was a little jumbled all together. The program is given below</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse File::Copy::Recursive qw(fcopy rcopy dircopy fmove rmove dirmove);\n\nmy $dir  = (\"/home/Narayanan/Cov_script/logs\");\nmy $home  = (\"/home/Narayanan/Cov_script\");\nmy $dest_dir = \"Pass_dir\";\nmy $dest_dir1 = (\"/home/Narayanan/Cov_script/Pass_dir/\");\n\n\n   if (-e $dest_dir) {\n        print \"$dest_dir already exists\\n\";\n   } else {\n    system(\"mkdir $dest_dir\");\n   }\n\nmy @file =   `grep \"TEST HAS PASSED\" $dir/*/*.log`;\n\nmy $cov = \"Cov_work\";\n\nprint \"@file\\n\";\n\nmy $i=0;\n\n\n    foreach my $cnt(@file){\n\n           my $pf_names  = (split(/ /, $file[$i])) [-3];\n       my $pf_names1 = (split(/:/, $pf_names)) [-2];\n\n       my $cov_names  = $pf_names1;\n       my @cov_names1 = split /\\//, $cov_names;\n\n       pop @cov_names1;\n       my $cov_new2 = $cov_names1[-1];\n       print (\"1 : Last Element $cov_new2\\n\"); \n\n       $cov_names = join('/', @cov_names1);\n       my $cov_names2 = (\"$cov_names/$cov\");\n\n       if (-e $dest_dir1){\n\n        system (chdir \"$dest_dir1\");\n        system (mkdir \"$cov_new2\");\n        system (chdir \"$home\");\n       }\n       else {\n        print \"Can't create the directory\\n\";\n       }\n\n       my $pass_path = (\"$dest_dir1$cov_new2\");\n       print \" Moved Location : $pass_path\\n\";\n\n       print \" Cov : $cov_names\\n\";\n\n       if (-e $pf_names1){\n\n        print \"$pf_names1\\n\";\n        fcopy ($pf_names1, $pass_path);\n        }\n       else { \n        print \"No path found\\n\";\n    }\n\n       if (-e $cov_names){\n\n        print \"Inside Cover loop: $cov_names2\\n\";\n        dircopy ($cov_names2, $pass_path) or die \"Can't copy\";\n        }\n       else { \n        print \"No cover report found\\n\";\n    }\n\n   $i++;\n     }\n\nprint \"$i\\n\";\n$i=0;\n</code></pre>\n"}, {"tags": ["bash", "perl", "logging", "grep", "pcre"], "comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1464949672, "post_id": 37611888, "comment_id": 62706880, "body": "try to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> because this is too little to start playing with."}], "answers": [{"comments": [{"owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "edited": false, "score": 0, "creation_date": 1464951258, "post_id": 37612283, "comment_id": 62707854, "body": "sed method works, grep method doesn&#39;t, it prints a line which starts with the non needed date."}, {"owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "edited": false, "score": 0, "creation_date": 1464952811, "post_id": 37612283, "comment_id": 62708766, "body": "before the date string there is nothing, it&#39;s the start of the line."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "edited": false, "score": 0, "creation_date": 1464953529, "post_id": 37612283, "comment_id": 62709205, "body": "@Konstantin What is it that doesn&#39;t work with the grep?"}, {"owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "edited": false, "score": 0, "creation_date": 1465673383, "post_id": 37612283, "comment_id": 63003923, "body": "It printed a lot of lines with an improper date. Sed solution was even faster."}], "tags": [], "owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "is_accepted": true, "score": 1, "last_activity_date": 1464953294, "last_edit_date": 1464953294, "creation_date": 1464950620, "answer_id": 37612283, "question_id": 37611888, "link": "https://stackoverflow.com/questions/37611888/grep-out-the-last-matching-line-of-a-text-file-which-line-contains-a-given-strin/37612283#37612283", "title": "Grep out the last matching line of a text file which line contains a given string, and doesn&#39;t start with another string", "body": "<p><code>^(?&lt;!2016-06-03).*?86.171.55.134</code> this regex will never work, lets break it down to understand:</p>\n\n<pre><code>^                # Start of line\n (?&lt;!2016-06-03) # Negative look behind searching for 2016-06-03\n</code></pre>\n\n<p>Can there be anything before start of line?</p>\n\n<p>You might want to try to change it to a look ahead:</p>\n\n<pre><code>tac logfile.txt | grep -P '^(?!2016-06-03).*?86.171.55.134'\n</code></pre>\n\n<p>Or with sed:</p>\n\n<pre><code>tac logfile.txt | sed -n '/^2016-06-03/!{/86\\.171\\.55\\.134/p}'\n</code></pre>\n\n<p>And if you only want the first (last because of <code>tac</code>) match:</p>\n\n<pre><code>tac logfile.txt | sed -n '/^2016-06-03/!{/86\\.171\\.55\\.134/{p;q}}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "is_accepted": false, "score": 0, "last_activity_date": 1464951275, "creation_date": 1464951275, "answer_id": 37612519, "question_id": 37611888, "link": "https://stackoverflow.com/questions/37611888/grep-out-the-last-matching-line-of-a-text-file-which-line-contains-a-given-strin/37612519#37612519", "title": "Grep out the last matching line of a text file which line contains a given string, and doesn&#39;t start with another string", "body": "<p>This will grep for the lines having IP in it, and then remove the lines having todays date. (Generalized way) and head to chop only the first one of it. </p>\n\n<pre><code>tac data |grep  \"86.171.55.134\" |grep -v \"`date +%Y-%m-%d`\" |head -1\n2016-06-02 11:46:33 +0200 -&gt; 86.171.55.134\n</code></pre>\n"}], "owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 37612283, "answer_count": 2, "score": 0, "last_activity_date": 1464953417, "creation_date": 1464949483, "last_edit_date": 1464952109, "question_id": 37611888, "link": "https://stackoverflow.com/questions/37611888/grep-out-the-last-matching-line-of-a-text-file-which-line-contains-a-given-strin", "title": "Grep out the last matching line of a text file which line contains a given string, and doesn&#39;t start with another string", "body": "<p>I would like to analyze a log file, and grepping for an IP address. Log file looks like:</p>\n\n<pre><code>&lt;date&gt; -&gt; &lt;IP address&gt;\n</code></pre>\n\n<p>for example:</p>\n\n<pre><code>2016-06-02 11:46:33 +0200 -&gt; 86.171.55.134\n</code></pre>\n\n<p>So I would like to select the last line which contains a given IP, and the line doesn't start with the today date (2016-06-02), my first attempt unfortunately doesn't work:</p>\n\n<pre><code>tac logfile.txt|grep -P  '^(?&lt;!2016-06-03).*?86.171.55.134'\n</code></pre>\n\n<p>This way I succeeded to make it work, but I would like to work out a more general way, where I can use .* or .*? instead of 19 points, because sometimes there are more and unknown length data between the two pattern:</p>\n\n<pre><code>tac logfile.txt|grep -aP -m1 '(?&lt;!2016\\-06\\-03)...................86.171.55.134'\n</code></pre>\n\n<p>Here 5000 actual line of log data to play with: </p>\n\n<p><a href=\"http://www.filefactory.com/file/2sdj77aqflxp/5000.txt\" rel=\"nofollow\">http://www.filefactory.com/file/2sdj77aqflxp/5000.txt</a></p>\n\n<p>Only the IP addresses were faked.</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1464951480, "post_id": 37611829, "comment_id": 62707977, "body": "When I clicked your title I thought this is about passing a file as a commandline argument to the application at startup. Just to clarify, you want to send a request using curl that has the content of a file as its body? Or maybe not. Please <a href=\"https://stackoverflow.com/posts/37611829/edit\">edit</a> your question and clarify. Also, is the code you show of upload_test.pl?"}, {"owner": {"reputation": 89, "user_id": 5835722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TWRsLC4nXpQ/AAAAAAAAAAI/AAAAAAAAAqk/voah1E7EFKg/photo.jpg?sz=128", "display_name": "Neyaz Ahmad", "link": "https://stackoverflow.com/users/5835722/neyaz-ahmad"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464954466, "post_id": 37611829, "comment_id": 62709801, "body": "I have given curl as well mojolicious command line example which i have tried.Curl is working fine but i dont know how to use command in mojolicious for file content as argument. So could you please tell me how i will passing file as a command argument in mojolicious."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 5835722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TWRsLC4nXpQ/AAAAAAAAAAI/AAAAAAAAAqk/voah1E7EFKg/photo.jpg?sz=128", "display_name": "Neyaz Ahmad", "link": "https://stackoverflow.com/users/5835722/neyaz-ahmad"}, "edited": false, "score": 0, "creation_date": 1465538510, "post_id": 37675542, "comment_id": 62952235, "body": "Hi Sebastian, I think you misunderstood my question. The only thing i want is to supply file as an argument to Mojolicious get from CLI. your suggested syntax is not useful for code debugging."}], "tags": [], "owner": {"reputation": 236, "user_id": 2231922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fae208c6398bc6172b97ad62427842?s=128&d=identicon&r=PG", "display_name": "Sebastian Riedel", "link": "https://stackoverflow.com/users/2231922/sebastian-riedel"}, "is_accepted": false, "score": 4, "last_activity_date": 1465291852, "creation_date": 1465291852, "answer_id": 37675542, "question_id": 37611829, "link": "https://stackoverflow.com/questions/37611829/how-to-debug-server-side-script-for-file-uploading-from-client-curl-at-this-exa/37675542#37675542", "title": "How to debug server side script for file uploading from client (curl at this example)?", "body": "<p>The Mojolicious get command does not support generating requests from files i'm afraid.</p>\n\n<pre><code>perl -Mojo -E 'p(\"http://localhost:3000\" =&gt; form =&gt; {Input_Type =&gt; \"XML\", Input_File =&gt; {file =&gt; \"d:/xml/test.xml\"}})'\n</code></pre>\n\n<p>You'd have to use an <code>ojo</code> one-liner.</p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 5835722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TWRsLC4nXpQ/AAAAAAAAAAI/AAAAAAAAAqk/voah1E7EFKg/photo.jpg?sz=128", "display_name": "Neyaz Ahmad", "link": "https://stackoverflow.com/users/5835722/neyaz-ahmad"}, "edited": false, "score": 0, "creation_date": 1465893245, "post_id": 37763736, "comment_id": 63078181, "body": "Yes, you are right, mojolicious get does not support file as argument . I want to debug my code which has file as a argument . curl is not supporting for this so i used mojolicious. But it does not have feature for same. Is there any alternative to debug my web service which is getting a file as argument?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 89, "user_id": 5835722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TWRsLC4nXpQ/AAAAAAAAAAI/AAAAAAAAAqk/voah1E7EFKg/photo.jpg?sz=128", "display_name": "Neyaz Ahmad", "link": "https://stackoverflow.com/users/5835722/neyaz-ahmad"}, "edited": false, "score": 0, "creation_date": 1465895041, "post_id": 37763736, "comment_id": 63079329, "body": "I do not understand you. You want to debug server side script which allow file uploading or do file uploading with Mojo::UserAgent? If second I gave <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Cookbook#Large-file-upload\" rel=\"nofollow noreferrer\">the answer</a> (This is same as <code>-F Input_File=@d:&#47;xml&#47;test.xml</code>)"}, {"owner": {"reputation": 89, "user_id": 5835722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TWRsLC4nXpQ/AAAAAAAAAAI/AAAAAAAAAqk/voah1E7EFKg/photo.jpg?sz=128", "display_name": "Neyaz Ahmad", "link": "https://stackoverflow.com/users/5835722/neyaz-ahmad"}, "edited": false, "score": 1, "creation_date": 1465905492, "post_id": 37763736, "comment_id": 63086830, "body": "yes, I want to debug server side script which allow file uploading."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 89, "user_id": 5835722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TWRsLC4nXpQ/AAAAAAAAAAI/AAAAAAAAAqk/voah1E7EFKg/photo.jpg?sz=128", "display_name": "Neyaz Ahmad", "link": "https://stackoverflow.com/users/5835722/neyaz-ahmad"}, "edited": false, "score": 0, "creation_date": 1465999328, "post_id": 37763736, "comment_id": 63136316, "body": "@NeyazAhmad Hmmm... it seems my answer was useless =)"}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 4, "last_activity_date": 1470947283, "last_edit_date": 1495540020, "creation_date": 1465648150, "answer_id": 37763736, "question_id": 37611829, "link": "https://stackoverflow.com/questions/37611829/how-to-debug-server-side-script-for-file-uploading-from-client-curl-at-this-exa/37763736#37763736", "title": "How to debug server side script for file uploading from client (curl at this example)?", "body": "<p>I think you are not understand what <code>post '/upload'</code> does and <code>uploadtest.pl</code> is.</p>\n\n<p>Your script is a small HTTP server which receive requests and does responses.\nYou can run your server permanently and do requests with, for example, <code>curl</code> or do one request to it and exit.</p>\n\n<pre><code>$ perl uploadtest.pl daemon\n[Sat Jun 11 14:00:41 2016] [info] Listening at \"http://*:3000\"\nServer available at http://127.0.0.1:3000\n\n# in other shell\n$ curl -X POST \"http://localhost:3000/uploadtest.pl/status?Token=6d949625-2f07-1e7a-d57a-de0fa949035d\"\n</code></pre>\n\n<p>Or both at once:</p>\n\n<pre><code>$perl ./uploadtest.pl get -v -M POST /status?\"Token=3780e99a-fc2c-54e5-2c31-417f945c1792\"\n</code></pre>\n\n<p>These POSTs make requests to permanent (first example) or onetime server (second one) with <strong>empty content</strong></p>\n\n<p>If you run your curl with <code>-v</code> options:</p>\n\n<pre><code>$ curl -v -X POST \"http://localhost:3000/status?Token=6d949625-2f07-1e7a-d57a-de0fa949035d\"\n* Hostname was NOT found in DNS cache\n*   Trying 127.0.0.1...\n* Connected to localhost (127.0.0.1) port 3000 (#0)\n&gt; POST /status?Token=6d949625-2f07-1e7a-d57a-de0fa949035d HTTP/1.1\n&gt; User-Agent: curl/7.35.0\n&gt; Host: localhost:3000\n&gt; Accept: */*\n&gt; \n&lt; HTTP/1.1 200 OK\n* Server Mojolicious (Perl) is not blacklisted\n&lt; Server: Mojolicious (Perl)\n&lt; Date: Sat, 11 Jun 2016 11:42:24 GMT\n&lt; Content-Length: 48\n&lt; Content-Type: text/html;charset=UTF-8\n&lt; \n* Connection #0 to host localhost left intact\nIn process: 6d949625-2f07-1e7a-d57a-de0fa949035d\n</code></pre>\n\n<p>You even may do <code>tcpdump</code> while querying your server:</p>\n\n<pre><code>$ sudo tcpdump -x -X -i lo port 3000\n14:41:51.665032 IP localhost.49063 &gt; localhost.3000: Flags [P.], seq 1:129, ack 1, win 342, options [nop,nop,TS val 1097613 ecr 1097613], length 128\n    0x0000:  4500 00b4 38c4 4000 4006 037e 7f00 0001  E...8.@.@..~....\n    0x0010:  7f00 0001 bfa7 0bb8 3b17 8750 a281 4839  ........;..P..H9\n    0x0020:  8018 0156 fea8 0000 0101 080a 0010 bf8d  ...V............\n    0x0030:  0010 bf8d 504f 5354 202f 7374 6174 7573  ....POST./status\n    0x0040:  3f54 6f6b 656e 3d36 6439 3439 3632 352d  ?Token=6d949625-\n    0x0050:  3266 3037 2d31 6537 612d 6435 3761 2d64  2f07-1e7a-d57a-d\n    0x0060:  6530 6661 3934 3930 3335 6420 4854 5450  e0fa949035d.HTTP\n    0x0070:  2f31 2e31 0d0a 5573 6572 2d41 6765 6e74  /1.1..User-Agent\n    0x0080:  3a20 6375 726c 2f37 2e33 352e 300d 0a48  :.curl/7.35.0..H\n    0x0090:  6f73 743a 206c 6f63 616c 686f 7374 3a33  ost:.localhost:3\n    0x00a0:  3030 300d 0a41 6363 6570 743a 202a 2f2a  000..Accept:.*/*\n    0x00b0:  0d0a 0d0a                                ....\n</code></pre>\n\n<p>When you want to upload file to your server you use <code>-F Input_File=@d:/xml/test.xml</code> curl option. You also expect you can do same <strong>onetime</strong> request, but next command:</p>\n\n<pre><code>$perl ./uploadtest.pl get -v -M POST /upload?\"Input_Type=XML&amp;Input_File=d:/xml/test.xml\"\n</code></pre>\n\n<p>does not support such option.</p>\n\n<pre><code>$perl ./uploadtest.pl help get\nUsage: APPLICATION get [OPTIONS] URL [SELECTOR|JSON-POINTER] [COMMANDS]\n\n  ./myapp.pl get /\n  ./myapp.pl get -H 'Accept: text/html' /hello.html 'head &gt; title' text\n  ./myapp.pl get //sri:secr3t@/secrets.json /1/content\n  mojo get mojolicious.org\n  mojo get -v -r google.com\n  mojo get -v -H 'Host: mojolicious.org' -H 'Accept: */*' mojolicious.org\n  mojo get -M POST -H 'Content-Type: text/trololo' -c 'trololo' perl.org\n  mojo get mojolicious.org 'head &gt; title' text\n  mojo get mojolicious.org .footer all\n  mojo get mojolicious.org a attr href\n  mojo get mojolicious.org '*' attr id\n  mojo get mojolicious.org 'h1, h2, h3' 3 text\n  mojo get https://api.metacpan.org/v0/author/SRI /name\n\nOptions:\n  -C, --charset &lt;charset&gt;     Charset of HTML/XML content, defaults to\n                              auto-detection\n  -c, --content &lt;content&gt;     Content to send with request\n  -H, --header &lt;name:value&gt;   Additional HTTP header\n  -h, --help                  Show this summary of available options\n      --home &lt;path&gt;           Path to home directory of your application,\n                              defaults to the value of MOJO_HOME or\n                              auto-detection\n  -M, --method &lt;method&gt;       HTTP method to use, defaults to \"GET\"\n  -m, --mode &lt;name&gt;           Operating mode for your application, defaults to\n                              the value of MOJO_MODE/PLACK_ENV or\n                              \"development\"\n  -r, --redirect              Follow up to 10 redirects\n  -v, --verbose               Print request and response headers to STDERR\n</code></pre>\n\n<p>As you can see from help, you can send short text message:</p>\n\n<pre><code>  ./uploadtest.pl get -M POST -H 'Content-Type: text/trololo' -c 'trololo' perl.org\n</code></pre>\n\n<p>To upload files into your <code>uploadtest.pl</code> server you may write your own uploader. For this need you should use <a href=\"http://mojolicious.org/perldoc/Mojo/UserAgent\" rel=\"nofollow noreferrer\">Mojo::UserAgent</a> module. <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Cookbook#Large-file-upload\" rel=\"nofollow noreferrer\">Example</a></p>\n\n<pre><code>use Mojo::UserAgent;\n\n# Upload file via POST and \"multipart/form-data\"\nmy $ua = Mojo::UserAgent-&gt;new;\n$ua-&gt;post(\"http://localhost:3000\" =&gt; form =&gt; {Input_Type =&gt; \"XML\", Input_File =&gt; {file =&gt; \"d:/xml/test.xml\"}});\n</code></pre>\n\n<p>But this is <a href=\"https://stackoverflow.com/a/37675542/4632019\">same</a> as:</p>\n\n<pre><code>perl -Mojo -E 'p(\"http://localhost:3000\" =&gt; form =&gt; {Input_Type =&gt; \"XML\", Input_File =&gt; {file =&gt; \"d:/xml/test.xml\"}})'\n</code></pre>\n\n<p><strong>UPD</strong></p>\n\n<p>To debug server side script for file uploading you should </p>\n\n<pre><code>perl -d uploadtest.pl daemon\n\nLoading DB routines from perl5db.pl version 1.49_04\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(tx.pl:6):    get '/' =&gt; 'form';\n  DB&lt;1&gt;\n</code></pre>\n\n<p>This will bring you into <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow noreferrer\">perl debugger</a> (<a href=\"http://perldoc.perl.org/perldebtut.html\" rel=\"nofollow noreferrer\">Tutorial</a>)</p>\n\n<pre><code>  DB&lt;1&gt; l 1-30\n1   #uploadtest.pl\n2   \n3:  use Mojolicious::Lite;\n4   \n5   # Upload form in DATA section\n6==&gt;    get '/' =&gt; 'form';\n7   \n8   \n9   # Check status\n10  post '/status' =&gt; sub {\n11:   my $self = shift;\n12:   my $Token = $self-&gt;param('Token');\n13:   $self-&gt;render(text =&gt; \"In process: $Token\");\n14: };\n15  \n16  # Multipart upload handler\n17  post '/upload' =&gt; sub {\n18:   my $self = shift;\n19  \n20    # Process uploaded file\n21:   my $Input_File = $self-&gt;param('Input_File');\n22:   my $Input_Type = $self-&gt;param('Input_Type');\n23:   my $size = $Input_File-&gt;size;\n24:   my $name = $Input_File-&gt;filename;\n25:   my $upload = $self-&gt;req-&gt;upload('Input_File');\n26:   $upload-&gt;move_to(\"d:/xml/$name\");  #move location\n27:   $self-&gt;render(text =&gt; \"Thanks for uploading $size byte file $name.\");\n28: };\n29  \n30: app-&gt;start;\n  DB&lt;2&gt; b 11\n  DB&lt;3&gt; b 18\n  DB&lt;4&gt; l 1-30\n1   #uploadtest.pl\n2   \n3:  use Mojolicious::Lite;\n4   \n5   # Upload form in DATA section\n6==&gt;    get '/' =&gt; 'form';\n7   \n8   \n9   # Check status\n10  post '/status' =&gt; sub {\n11:b      my $self = shift;\n12:   my $Token = $self-&gt;param('Token');\n13:   $self-&gt;render(text =&gt; \"In process: $Token\");\n14: };\n15  \n16  # Multipart upload handler\n17  post '/upload' =&gt; sub {\n18:b      my $self = shift;\n19  \n20    # Process uploaded file\n21:   my $Input_File = $self-&gt;param('Input_File');\n22:   my $Input_Type = $self-&gt;param('Input_Type');\n23:   my $size = $Input_File-&gt;size;\n24:   my $name = $Input_File-&gt;filename;\n25:   my $upload = $self-&gt;req-&gt;upload('Input_File');\n26:   $upload-&gt;move_to(\"d:/xml/$name\");  #move location\n27:   $self-&gt;render(text =&gt; \"Thanks for uploading $size byte file $name.\");\n28: };\n29  \n30: app-&gt;start;\n  DB&lt;5&gt; c\n[Tue Jun 14 16:43:06 2016] [info] Listening at \"http://*:3000\"\nServer available at http://127.0.0.1:3000\n[Tue Jun 14 16:43:10 2016] [debug] POST \"/status\"\n[Tue Jun 14 16:43:10 2016] [debug] Routing to a callback\nmain::CODE(0x23f7be0)(tx.pl:11):      my $self = shift;\n  DB&lt;5&gt; n\nmain::CODE(0x23f7be0)(tx.pl:12):      my $Token = $self-&gt;param('Token');\n  DB&lt;5&gt; n\nmain::CODE(0x23f7be0)(tx.pl:13):      $self-&gt;render(text =&gt; \"In process: $Token\");\n  DB&lt;5&gt; x $Token\n0  '6d949625-2f07-1e7a-d57a-de0fa949035d'\n  DB&lt;6&gt; \n</code></pre>\n\n<p>Here I list source from 1 to 30 line <code>l 1-30</code>, set two breakpoints <code>b 11</code> <code>b 18</code>, list source again <code>l 1-30</code> to see that breakpoints are in effect (Notice <em>b</em> near the line), run script from current point (Notice <em>==></em> sign near the line) until next break point, done two steps with <code>n</code> command and view value of <em>$Token</em> variable with <code>x $Token</code> command.</p>\n\n<p>Notice, that after <code>c</code> script wait interaction. I do that with <code>curl</code></p>\n\n<pre><code>http://localhost:3000/status?Token=6d949625-2f07-1e7a-d57a-de0fa949035d\n</code></pre>\n\n<p><em>NOTICE:</em> You should request '/status' and '/upload' <strong>NOT</strong> '/updater.pl/status' as you did. It has no matter for the outer word how your server script is named. Just only two things:</p>\n\n<ol>\n<li>Where your script listen: localhost:3000</li>\n<li>Which request may serve: '/upload' and '/status'</li>\n</ol>\n"}], "owner": {"reputation": 89, "user_id": 5835722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TWRsLC4nXpQ/AAAAAAAAAAI/AAAAAAAAAqk/voah1E7EFKg/photo.jpg?sz=128", "display_name": "Neyaz Ahmad", "link": "https://stackoverflow.com/users/5835722/neyaz-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1470947283, "creation_date": 1464949325, "last_edit_date": 1465917559, "question_id": 37611829, "link": "https://stackoverflow.com/questions/37611829/how-to-debug-server-side-script-for-file-uploading-from-client-curl-at-this-exa", "title": "How to debug server side script for file uploading from client (curl at this example)?", "body": "<p>I am trying to write a Perl Mojolicious request from CLI. I want to pass a file as a parameter to this request.\nBelow are the things I have tried so far, but no avail.</p>\n\n<p>Below Example is what working fine with me.</p>\n\n<pre><code>curl (working):          curl -X POST \"http://localhost:3000/uploadtest.pl/status?Token=6d949625-2f07-1e7a-d57a-de0fa949035d\"\nMojolicious (working):  perl ./uploadtest.pl get -v -M POST /status?\"Token=3780e99a-fc2c-54e5-2c31-417f945c1792\"\n</code></pre>\n\n<p>Below is the the example in which i am stuck, becouse below perl script take file as a input [file upload]: </p>\n\n<pre><code>curl (working):          curl -X POST -F Input_File=@d:/xml/test.xml \"http://localhost:3000/uploadtest.pl/upload?Input_Type=XML\nMojolicious (not working):  perl ./uploadtest.pl get -v -M POST /upload?\"Input_Type=XML&amp;Input_File=d:/xml/test.xml\"\n</code></pre>\n\n<p>It will be great help if someone helps me out with this. </p>\n\n<hr>\n\n<pre><code>#uploadtest.pl\n\nuse Mojolicious::Lite;\n\n# Upload form in DATA section\nget '/' =&gt; 'form';\n\n\n# Check status\npost '/status' =&gt; sub {\n  my $self = shift;\n  my $Token = $self-&gt;param('Token');\n  $self-&gt;render(text =&gt; \"In process: $Token\");\n};\n\n# Multipart upload handler\npost '/upload' =&gt; sub {\n  my $self = shift;\n\n  # Process uploaded file\n  my $Input_File = $self-&gt;param('Input_File');\n  my $Input_Type = $self-&gt;param('Input_Type');\n  my $size = $Input_File-&gt;size;\n  my $name = $Input_File-&gt;filename;\n  my $upload = $self-&gt;req-&gt;upload('Input_File');\n  $upload-&gt;move_to(\"d:/xml/$name\");  #move location\n  $self-&gt;render(text =&gt; \"Thanks for uploading $size byte file $name.\");\n};\n\napp-&gt;start;\n__DATA__\n\n@@ form.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;File Upload&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n  &lt;form name=\"FileUpload\" action=\"http://localhost:3000/uploadtest.pl/upload\" enctype=\"multipart/form-data\" method=\"post\"&gt;\n       Input Type:&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" name=\"Input_Type\" /&gt;\n       Please specify a file:&lt;/td&gt;&lt;td&gt;&lt;input type=\"file\" name=\"Input_File\" size=\"40\"&gt;&lt;/td&gt;&lt;/tr&gt;\n       &lt;input type=\"submit\" value=\"Submit\"/&gt;\n   &lt;/form&gt;\n   &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;hr&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\n  &lt;form name=\"Status\" action=\"http://localhost:3000/uploadtest.pl/status\" method=\"post\"&gt;\n      Token ID: &lt;input type=\"text\" name=\"Token\" /&gt;\n     &lt;input type=\"submit\" value=\"Check Status\"/&gt;\n  &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["perl", "printf"], "answers": [{"comments": [{"owner": {"reputation": 1268, "user_id": 3402772, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000733159561/picture?type=large", "display_name": "SibiCoder", "link": "https://stackoverflow.com/users/3402772/sibicoder"}, "edited": false, "score": 1, "creation_date": 1464969534, "post_id": 37611918, "comment_id": 62720224, "body": "I have choosen this answer, since it covers explanation as well as a solution for zero."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 7, "last_activity_date": 1464966659, "last_edit_date": 1464966659, "creation_date": 1464949560, "answer_id": 37611918, "question_id": 37611737, "link": "https://stackoverflow.com/questions/37611737/sprintf-in-perl-doesnt-display-hexadecimal-character-properly/37611918#37611918", "title": "Sprintf in Perl doesn&#39;t display hexadecimal character properly", "body": "<p>According to the documentation for <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\">sprintf</a>:</p>\n\n<blockquote>\n  <p><strong>flags</strong><br>\n  #     prefix non-zero hexadecimal with \"0x\" or \"0X\"</p>\n</blockquote>\n\n<p>Note that it says <code>non-zero</code>, so only non-zero values will be prefixed by <code>0x</code>.</p>\n\n<p>A simple fix is to add the prefix manually:</p>\n\n<pre><code>sprintf \"0x%04x\", $entry;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1268, "user_id": 3402772, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000733159561/picture?type=large", "display_name": "SibiCoder", "link": "https://stackoverflow.com/users/3402772/sibicoder"}, "edited": false, "score": 1, "creation_date": 1464950291, "post_id": 37612076, "comment_id": 62707262, "body": "In our script, there is a literal match function which we have to make use of, checks for 0x0000, doesn&#39;t consider that as equal to 0."}], "tags": [], "owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "is_accepted": false, "score": 2, "last_activity_date": 1464950035, "creation_date": 1464950035, "answer_id": 37612076, "question_id": 37611737, "link": "https://stackoverflow.com/questions/37611737/sprintf-in-perl-doesnt-display-hexadecimal-character-properly/37612076#37612076", "title": "Sprintf in Perl doesn&#39;t display hexadecimal character properly", "body": "<p>The doc clearly mentions that <code>0x</code> is appended only for non-zero numbers when <code>#</code> flag is used.This makes sense since zero is zero whether it is in Octal or Hexadecimal. Hence prefixing it with <code>0x</code> doesn't make sense.</p>\n\n<p>Best way to handle this would be:</p>\n\n<pre><code>if($var=~ /$hex/ or !$var)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1268, "user_id": 3402772, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000733159561/picture?type=large", "display_name": "SibiCoder", "link": "https://stackoverflow.com/users/3402772/sibicoder"}, "edited": false, "score": 0, "creation_date": 1464969413, "post_id": 37617935, "comment_id": 62720144, "body": "Sorry, We are comparing output from a device with the expected one. So, <code>match is done literally</code>, meaning that except difference in number of spaces, each and every character in a line has to be matched as they are.  No evaluation of number or strings is done. Our framework is like that. I gave a small example to get to know about it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1268, "user_id": 3402772, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000733159561/picture?type=large", "display_name": "SibiCoder", "link": "https://stackoverflow.com/users/3402772/sibicoder"}, "edited": false, "score": 0, "creation_date": 1464969831, "post_id": 37617935, "comment_id": 62720390, "body": "Cool. I&#39;ll leave this here anyway in case it helps anyone else."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1464966787, "creation_date": 1464966787, "answer_id": 37617935, "question_id": 37611737, "link": "https://stackoverflow.com/questions/37611737/sprintf-in-perl-doesnt-display-hexadecimal-character-properly/37617935#37617935", "title": "Sprintf in Perl doesn&#39;t display hexadecimal character properly", "body": "<p>Sounds like you are doing things backwards. Wouldn't the following make more sense?</p>\n\n<pre><code>if ($entry == hex($hex))\n</code></pre>\n\n<p>If you want to compare numbers, compare the numbers, not their text representation.</p>\n"}], "owner": {"reputation": 1268, "user_id": 3402772, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000733159561/picture?type=large", "display_name": "SibiCoder", "link": "https://stackoverflow.com/users/3402772/sibicoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 1, "accepted_answer_id": 37611918, "answer_count": 3, "score": 2, "last_activity_date": 1464966787, "creation_date": 1464949062, "question_id": 37611737, "link": "https://stackoverflow.com/questions/37611737/sprintf-in-perl-doesnt-display-hexadecimal-character-properly", "title": "Sprintf in Perl doesn&#39;t display hexadecimal character properly", "body": "<p>I have a code like this.</p>\n\n<pre><code>     $entry = &amp;function();   //returns a number between 0 to 20\n     $var = sprintf(\"%#.4x\", $entry);\n     if($var=~ /$hex/)\n     {\n         //block of statements\n      }\n</code></pre>\n\n<p>$hex will be within 0x0000 ..... 0x0014. Now, when <code>function</code> returns from 1 to 20, $var matches $hex. (Like 0x0001 .... 0x0014)</p>\n\n<p>But when $entry is 0, $var becomes <code>0000</code>. But I want it to be <code>0x0000</code>. Currently, I am checking if that is <code>0000</code>, I am changing it through a if loop. Please let me know if that is possible in sprintf itself.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5, "user_id": 4948216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b4a4603c619ad98981c9bb38b4dc66?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Kumar Nayak", "link": "https://stackoverflow.com/users/4948216/deepak-kumar-nayak"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1464949465, "post_id": 37611705, "comment_id": 62706748, "body": "my $val = &lt;&quot;data.txt&quot;&gt;; chomp ($val); my $cnt=0; open (HNDL, &quot;$val&quot;) || die &quot;wrong filename&quot;; while ($val = &lt;HNDL&gt;) {   while ($val =~ /\\bis\\b/ig)   {     ++$cnt;          } } print &quot;Number of instances of &#39;is&#39; found: $cnt\\n\\n&quot;; print &quot;$.: $val\\n&quot;; close (HNDL);"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 0, "last_activity_date": 1464950751, "last_edit_date": 1464950751, "creation_date": 1464949906, "answer_id": 37612031, "question_id": 37611705, "link": "https://stackoverflow.com/questions/37611705/count-how-many-times-a-word-occurs-in-a-file-and-also-in-which-lines/37612031#37612031", "title": "count how many times a word occurs in a file and also in which lines?", "body": "<p>Try as follow</p>\n\n<pre><code>my $total;\nmy $lines;\nopen my $fh,\"&lt;\",\"file.txt\";\nwhile (&lt;DATA&gt;)\n{\n    if(my $ech_count = () = /\\bfoo\\b/g)\n    {\n        $total+=$ech_count;\n        $lines.=$..\"\\n\";\n    }\n\n}\nprint \" Total count : $total\\nLines are: \\n $lines\";\n</code></pre>\n\n<p>In above script <code>$ech_count</code> stores the number of matches in a lines it is perform by the <code>= () =</code>. </p>\n\n<p><code>$.</code> It is the perl inbuild special variable which give the current line number.</p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1464950212, "creation_date": 1464950212, "answer_id": 37612133, "question_id": 37611705, "link": "https://stackoverflow.com/questions/37611705/count-how-many-times-a-word-occurs-in-a-file-and-also-in-which-lines/37612133#37612133", "title": "count how many times a word occurs in a file and also in which lines?", "body": "<p>Please try this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @lines = &lt;DATA&gt;;\nmy ($word_count, $total) = '';\nforeach my $single(@lines)\n{\n    if($single=~m/\\bfoo\\b/g)\n    {\n        $word_count = $single=~s/\\bfoo\\b/$&amp;/g;\n        print \"Line Matched: $single\\n\";\n        $total = $total + $word_count;\n    }\n}\nprint \"Foo Count: $total\\n\";   \n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4948216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b4a4603c619ad98981c9bb38b4dc66?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Kumar Nayak", "link": "https://stackoverflow.com/users/4948216/deepak-kumar-nayak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 37612031, "answer_count": 2, "score": -2, "last_activity_date": 1464950751, "creation_date": 1464948980, "last_edit_date": 1464949206, "question_id": 37611705, "link": "https://stackoverflow.com/questions/37611705/count-how-many-times-a-word-occurs-in-a-file-and-also-in-which-lines", "title": "count how many times a word occurs in a file and also in which lines?", "body": "<p>let be explain In a text file \"script.txt\" i have to find \"foo\" word how many times of it Occurrence and in which lines and i have to list that lines.</p>\n"}, {"tags": ["perl", "multidimensional-array"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1464948774, "creation_date": 1464948774, "answer_id": 37611615, "question_id": 37611203, "link": "https://stackoverflow.com/questions/37611203/array-of-hashes-example-fails/37611615#37611615", "title": "array of hashes example fails", "body": "<p>Useful trick for illustrative examples - you can in line <code>__DATA__</code> at the end of your file, and use that.  </p>\n\n<p>Anyway, when I run your code, I get:</p>\n\n<pre><code>Global symbol \"$key\" requires explicit package name (did you forget to declare \"my $key\"?)\nGlobal symbol \"$value\" requires explicit package name (did you forget to declare \"my $value\"?\n</code></pre>\n\n<p>You are also declaring <code>%HoH</code> badly - you shouldn't use that form, and instead:</p>\n\n<pre><code>my %HoH;\n</code></pre>\n\n<p>And <em>also</em> that regex - will skip your input text, because it's looking for <code>:</code> and your input doesn't contain any. I will assume that like should be prefixed with <code>flintstone:</code>. </p>\n\n<p>So to simplify and give you something that works:</p>\n\n<pre><code>#! usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %HoH;\n\nwhile (&lt;DATA&gt;) {\n   next unless s/^(.*?):\\s*//;\n   my $who = $1;\n   for my $field (split) {\n      my ( $key, $value ) = split /=/, $field;\n      $HoH{$who}{$key} = $value;\n   }\n}\n\nprint Dumper \\%HoH;\n\n__DATA__\nflintstone: husband=fred pal=barney wife=wilma pet=dino\n</code></pre>\n\n<p>This outputs the dumped HoH:</p>\n\n<pre><code>$VAR1 = {\n          'flintstone' =&gt; {\n                       'husband' =&gt; 'fred',\n                       'wife' =&gt; 'wilma',\n                       'pal' =&gt; 'barney',\n                       'pet' =&gt; 'dino'\n                     }\n        };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1464948791, "creation_date": 1464948791, "answer_id": 37611623, "question_id": 37611203, "link": "https://stackoverflow.com/questions/37611203/array-of-hashes-example-fails/37611623#37611623", "title": "array of hashes example fails", "body": "<p>Your code contains some syntax errors, and your input text is wrong (there is no <code>:</code></p>\n\n<p>Try this: </p>\n\n<pre><code>my %HoH;\nwhile ( &lt;DATA&gt; ) {\n    next unless s/^(.*?):\\s*//;\n    my $who = $1;\n    for my $field ( split ) {\n            my ($key, $value) = split /=/, $field;\n            $HoH{$who}{$key} = $value;\n        }\n    }\n\nprint Dumper \\%HoH;\n\n__DATA__\nflintstones: husband=fred pal=barney wife=wilma pet=dino\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6418420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0eRx8.jpg?s=128&g=1", "display_name": "Deon.S", "link": "https://stackoverflow.com/users/6418420/deon-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464948791, "creation_date": 1464947594, "last_edit_date": 1464948350, "question_id": 37611203, "link": "https://stackoverflow.com/questions/37611203/array-of-hashes-example-fails", "title": "array of hashes example fails", "body": "<p>I have a problem with multi dimension arrays. I then tried a sample in the book <em>Perl 4th edition</em>, page 379, and that failed as well! Why?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n# example in manual page 379\n# input from file containing: husband=fred pal=barney wife=wilma     pet=dino\nwhile ( &lt;&gt; ) {\n next unless s/^(.*?):\\s*//;\n my $who = $1;\n  for my $field ( split ) {\n  (my $key, my $value) = split /=/, $field;\n  my $HoH{$who}{$key} = $value;\n }\n}\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "edited": false, "score": 0, "creation_date": 1464945426, "post_id": 37610409, "comment_id": 62704327, "body": "If this is real code, reformat to <code>if($content =~ &#47;&gt;$nameaux&lt;\\&#47;a&gt;&lt;\\&#47;td&gt;&lt;td class=&quot;class\\d+&quot;&gt;(.*?)&lt;\\&#47;td&gt;)&#47;</code>"}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 1, "creation_date": 1464945429, "post_id": 37610409, "comment_id": 62704330, "body": "<code>+</code> in a regex means the previous element (a character, class, group..) should appear one or more times. To match the <code>+</code> itself you will need to scape it <code>\\+</code>."}], "answers": [{"tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": true, "score": 5, "last_activity_date": 1464945825, "last_edit_date": 1464945825, "creation_date": 1464945519, "answer_id": 37610514, "question_id": 37610409, "link": "https://stackoverflow.com/questions/37610409/regex-does-not-work-with-input-string-containing-inside/37610514#37610514", "title": "Regex does not work with input string containing + inside", "body": "<p>If $nameaux can contain regex characters (like +), you need to escape the field to a regex literal by wrapping with <code>\\Q</code> ... <code>\\E</code>.</p>\n\n<pre><code>$content =~ /&gt;\\Q$nameaux\\E&lt;\\/a&gt;&lt;\\/td&gt;&lt;td class=\"class1\"&gt;(.*?)&lt;\\/td&gt;/ ||\n</code></pre>\n\n<p>So <code>+</code> will be just a plus sign and not mean \"one or more of\", which is why your regex doesn't match.</p>\n"}], "owner": {"reputation": 3083, "user_id": 1884961, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Dur0v.png?s=128&g=1", "display_name": "jherran", "link": "https://stackoverflow.com/users/1884961/jherran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 2, "accepted_answer_id": 37610514, "answer_count": 1, "score": 3, "last_activity_date": 1464945825, "creation_date": 1464945215, "question_id": 37610409, "link": "https://stackoverflow.com/questions/37610409/regex-does-not-work-with-input-string-containing-inside", "title": "Regex does not work with input string containing + inside", "body": "<p>I have the following piece of code:</p>\n\n<pre><code>$url = \"http://www.example.com/url.html\";\n$content=Encode::encode_utf8(get $url);\n\n$nameaux = Encode::encode_utf8($DBfield);\n\nif($content =~ /&gt;$nameaux&lt;\\/a&gt;&lt;\\/td&gt;&lt;td class=\"class1\"&gt;(.*?)&lt;\\/td&gt;/ ||\n   $content =~ /&gt;$nameaux&lt;\\/a&gt;&lt;\\/td&gt;&lt;td class=\"class2\"&gt;(.*?)&lt;\\/td&gt;/ ||\n   $content =~ /&gt;$nameaux&lt;\\/a&gt;&lt;\\/td&gt;&lt;td class=\"class3\"&gt;(.*?)&lt;\\/td&gt;/ ) {\n    ... more code ...\n}\n</code></pre>\n\n<p>This piece of code works great except when <code>$DBfield</code> is equal to a string containing a plus (ex. A+1) on it that exists on <code>$content</code>.</p>\n\n<p>Could someone explain my how to handle this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1464946902, "post_id": 37610138, "comment_id": 62705235, "body": "Probably <code>opendir()</code> is failing giving the invalid file handle. Try to check for errors: <code>opendir($par_dir, $parent) or die &quot;opendir() failed: $!&quot;;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464951545, "post_id": 37610138, "comment_id": 62708028, "body": "You <i>must always</i> <code>use strict</code> at the top of every Perl program you write"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 1, "creation_date": 1464952807, "post_id": 37610138, "comment_id": 62708763, "body": "@SilentMonk: It&#39;s a <b><i>handle</i></b> to the directory. A handler is something completely different"}, {"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464952874, "post_id": 37610138, "comment_id": 62708798, "body": "@Borodin, Thanks. I will delete the comment so that others don&#39;t get confused."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1464954314, "last_edit_date": 1495542158, "creation_date": 1464947548, "answer_id": 37611191, "question_id": 37610138, "link": "https://stackoverflow.com/questions/37610138/readdir-attempted-on-invalid-dirhandle-par-dir/37611191#37611191", "title": "readdir() attempted on invalid dirhandle $par_dir", "body": "<p>Probably <code>opendir()</code> is failing giving the invalid file handle (probably it fails because you try to open a nonexistent <code>$parent</code> directory).</p>\n\n<p>If <a href=\"http://perldoc.perl.org/functions/opendir.html\" rel=\"nofollow noreferrer\"><code>opendir</code></a> fails it will return false, and <code>$par_dir</code> is left unchanged as <code>undef</code>. If you attempt to call <code>readdir()</code> on an undefined file handle you will get a runtime warning like:</p>\n\n<pre><code>readdir() attempted on invalid dirhandle at ...\n</code></pre>\n\n<p>Therefore you should always check the return code from <code>opendir</code>. For example, you can do:</p>\n\n<pre><code>opendir($par_dir, $parent) or die \"opendir() failed: $!\";\n</code></pre>\n\n<p>or see more suggestions on what to do in this link  <a href=\"https://stackoverflow.com/questions/17306466/does-die-have-to-be-used-if-opening-a-file-fails\">Does die have to be used if opening a file fails?</a></p>\n\n<p>Note that your code could have been simplified using <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow noreferrer\"><code>File::Find::Rule</code></a>, for example:</p>\n\n<pre><code>my @dirs = File::Find::Rule\n   -&gt;directory-&gt;maxdepth(1)-&gt;mindepth(1)-&gt;in( $parent );\n\nfor my $dir (@dirs) {\n    say \"$dir\";\n    my @files = File::Find::Rule-&gt;file-&gt;maxdepth(1)-&gt;in( $dir );\n    say \"--&gt; $_\" for @files;\n}\n</code></pre>\n\n<p>Alternatively, if you don't need the directory names:</p>\n\n<pre><code>my @files = File::Find::Rule\n    -&gt;file-&gt;maxdepth(2)-&gt;mindepth(2)-&gt;in( $parent );\nsay for @files;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1464952762, "creation_date": 1464952762, "answer_id": 37613009, "question_id": 37610138, "link": "https://stackoverflow.com/questions/37610138/readdir-attempted-on-invalid-dirhandle-par-dir/37613009#37613009", "title": "readdir() attempted on invalid dirhandle $par_dir", "body": "<p>The problem is probably that the directory you specify in <code>$parent</code> doesn't exist. You must always check to make sure that a call to <code>open</code> or <code>opendir</code> succeeded before going on to use the handle</p>\n\n<p>That path step <code>01-   DATA</code> is suspicious. I would expect <code>01-DATA</code> or perhaps <code>01- DATA</code> with a single space, but multiple spaces are rarely used because they are invisible and difficult to count</p>\n\n<p>Here are some other thoughts on your program</p>\n\n<ul>\n<li><p>You <em>must always</em> <code>use strict</code> and <code>use warnings 'all'</code> at the top of every Perl program you write. That will alert you to many simple errors that you may otherwise overlook</p></li>\n<li><p>Your statement <code>next if ( $sub_folders =~ /^..?$/ )</code> is wrong because the dots must be escaped. As it is you are discarding any name that is one or two characters in length</p></li>\n<li><p>If your path really does contain spaces then you need to <code>use File::Glob ':bsd_glob'</code>, as otherwise the spaces will be treated as separators between multipl glob patterns</p></li>\n<li><p>You execute the <code>foreach</code> loop for every file or directory found in <code>$path</code>, but your <code>system</code> calls aren't affected by the name of that file, so you're making the same call multiple times</p></li>\n</ul>\n\n<p>It's worth noting that <code>glob</code> will do all the directory searching for you. I would write something like this</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nuse File::Glob ':bsd_glob';\n\nmy $parent_dir = \"/media/sequentia/NAS/projects/131-prgdb3/01-DATA/All_plant_genomes_proteomes\";\n\nprint \"$parent_dir\\n\";\n\nwhile ( my $path = glob \"$parent_dir/*\" ) {\n\n    next unless -d $path;\n\n    print \"$path\\n\";\n\n    chdir $path or die qq{Unable to chdir to \"$path\": $!};\n\n    while ( my $filename = glob \"$path/*\" ) {\n\n        next unless -f $filename;\n\n        print \"$filename\\n\";\n\n        system \"grep 'comment' PutativeGenes.txt | wc -l\";\n        system \"grep 'class'   PutativeGenes.txt | wc -l\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6061314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0c70993cc9b5c929dbe924ee44cdc40?s=128&d=identicon&r=PG&f=1", "display_name": "Cristina Osuna", "link": "https://stackoverflow.com/users/6061314/cristina-osuna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3146, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1464954314, "creation_date": 1464944426, "question_id": 37610138, "link": "https://stackoverflow.com/questions/37610138/readdir-attempted-on-invalid-dirhandle-par-dir", "title": "readdir() attempted on invalid dirhandle $par_dir", "body": "<p>I am trying just to execute a perl script inside multiple folders, but I don't understand why I have a problem with readdir() attempted on invalid dirhandle $par_dir. $parent is printed good but $par_dir is printed like \"GLOB(0x17e7a68)\".</p>\n\n<p>Any idea of why it is happening? Thanks a lot!</p>\n\n<p>Here the code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse Cwd;\nuse FileHandle;\nuse File::Glob;\n\nmy $parent = \"/media/sequentia/NAS/projects/131-prgdb3/01-   DATA/All_plant_genomes_proteomes\";\n\nmy ($par_dir, $sub_dir);\n\nopendir($par_dir, $parent);\n\nprint $parent.\"\\n\";\n\nprint $par_dir.\"\\n\";\n\nwhile (my $sub_folders = readdir($par_dir)) {\n\nnext if ($sub_folders =~ /^..?$/);  # skip . and ..\nmy $path = $parent . '/' . $sub_folders;\n\nnext unless (-d $path);   # skip anything that isn't a directory\n\nprint $path.\"\\n\";\n\nchdir($path) or die;\n\n @files = glob( $path. '/*' );\n\n    foreach $filename (@files){\n\n        print $filename .\"\\n\";\n\n        system (\"grep 'comment' PutativeGenes.txt | wc -l\");\n        system (\"grep 'class' PutativeGenes.txt | wc -l\");\n\n    }\n\n}\nclosedir($par_dir);\n</code></pre>\n"}, {"tags": ["perl", "sed", "match"], "comments": [{"owner": {"reputation": 1, "user_id": 5814204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zkiSE.jpg?s=128&g=1", "display_name": "Gaur", "link": "https://stackoverflow.com/users/5814204/gaur"}, "edited": false, "score": 0, "creation_date": 1464938177, "post_id": 37607791, "comment_id": 62700191, "body": "Please visit <a href=\"http://stackoverflow.com/questions/19700002/sed-search-two-pattern-in-a-line-and-insert-few-word-at-the-end-of-the-line-if\">here</a> for already answered"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1464937990, "post_id": 37608102, "comment_id": 62700072, "body": "Not all <code>sed</code> dialects like the semicolon statement separator. If this is a problem for you, try with a newline instead, or passing multiple <code>-e</code> options."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 4, "last_activity_date": 1464937860, "creation_date": 1464937860, "answer_id": 37608102, "question_id": 37607791, "link": "https://stackoverflow.com/questions/37607791/sed-print-lines-that-match-two-patterns/37608102#37608102", "title": "Sed - Print Lines that match two patterns", "body": "<p>You can add an <code>-a</code> option to <code>grep</code> to force it to read a file as text.</p>\n\n<p><code>sed</code> is a scripting language; you can combine multiple conditions and actions easily.</p>\n\n<pre><code>sed -n '/regex1/!d;/regex2/p' files...\n</code></pre>\n\n<p>(If no match on the first regex, delete this line and take the next one. Otherwise, if it matches the second regex, print.)</p>\n\n<p>The same is also easy -- perhaps even easier -- in Awk.</p>\n\n<pre><code>awk '/regex1/ &amp;&amp; /regex2/' files...\n</code></pre>\n"}], "owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2286, "favorite_count": 0, "accepted_answer_id": 37608102, "answer_count": 1, "score": 1, "last_activity_date": 1465324013, "creation_date": 1464936755, "last_edit_date": 1464937408, "question_id": 37607791, "link": "https://stackoverflow.com/questions/37607791/sed-print-lines-that-match-two-patterns", "title": "Sed - Print Lines that match two patterns", "body": "<p>i have the following problem. My file looks like this :</p>\n\n<pre><code>1082016051300000010005690902BCDE\u03940204366221002201612052016-00001274448A                                                                     \n1082016051300000010034397704EDFG10865125102001201626042016-000001028134\n1082016051300000010068901401RADJ34835974123112201528042016-000001343290                                                                     \n1082016051300000010068901401RADJ34835974103112201528042016-000000910290                                                                     \n1082016051300000010095474301RADJ13453401102812201525042016-00000208995K                                                                     \n1082016051300000010098429002RADJ\u03a41052947211312201218042016-000034021290\n1032016051300000010095474301RADJ13453401102812201525042016-00000208995K                                                                     \n1032016051300000010098429002RADJ\u03a41052947211312201218042016-000034021290\n</code></pre>\n\n<p>and i m trying to print only lines that match both patterns, anywhere on the line. I want to print only lines that match two patterns, the first pattern being on columbs 2:1 (08) and the second pattern being the word (RAD). I ve tried to do this with grep :</p>\n\n<pre><code>grep -o '.[0-1][1-8]*RAD' FILEIN\n</code></pre>\n\n<p>and the only response i get is that FILEIN is a binary file. I ve also tried with sed this :</p>\n\n<pre><code>sed -n '/[0-1][1-8]*RAD/p' FILEIN \n</code></pre>\n\n<p>but i have a feelign the * is not expanded. I ve managed to make it work by looking for two patterns in succession, like :</p>\n\n<pre><code>sed -n '/RAD/p' FILEIN | sed '/^108/p' \n</code></pre>\n\n<p>and this works, but the file i ll be using as input is potentially huge, and i m not sure that piping a stream into another is time efficient. Could someone help me? Awk or Perl are welcome too. Thank you</p>\n"}, {"tags": ["perl", "awk", "formatting"], "comments": [{"owner": {"reputation": 3089, "user_id": 6165935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5SjwIcK5M8I/AAAAAAAAAAI/AAAAAAAAAFQ/xyQQHb_jXoQ/photo.jpg?sz=128", "display_name": "Michael Vehrs", "link": "https://stackoverflow.com/users/6165935/michael-vehrs"}, "edited": false, "score": 0, "creation_date": 1464936631, "post_id": 37606689, "comment_id": 62699324, "body": "You can simplify your <code>awk</code> script considerably: <code>awk &#39;&#47;ab ce&#47; { $4 = $4 * 2.0 } {print}&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6417732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60221478a2a8147074c4be614522208a?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/6417732/joe"}, "edited": false, "score": 0, "creation_date": 1464946464, "post_id": 37608367, "comment_id": 62704970, "body": "This worked perfectly for me after a couple of changes:"}, {"owner": {"reputation": 13, "user_id": 6417732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60221478a2a8147074c4be614522208a?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/6417732/joe"}, "edited": false, "score": 0, "creation_date": 1464947197, "post_id": 37608367, "comment_id": 62705410, "body": "I changed Line 1: $0~ pattern { and line 7: fields[col].  It also seems to require a newer version of awk, as it didn&#39;t work with 3.1.7, producing the error awk: input.awk:2: fatal: 4 is invalid as number of arguments for split.  However, it works with 4.1.3.  Thanks!"}], "tags": [], "owner": {"reputation": 3089, "user_id": 6165935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5SjwIcK5M8I/AAAAAAAAAAI/AAAAAAAAAFQ/xyQQHb_jXoQ/photo.jpg?sz=128", "display_name": "Michael Vehrs", "link": "https://stackoverflow.com/users/6165935/michael-vehrs"}, "is_accepted": true, "score": 0, "last_activity_date": 1464943605, "last_edit_date": 1464943605, "creation_date": 1464938672, "answer_id": 37608367, "question_id": 37606689, "link": "https://stackoverflow.com/questions/37606689/edit-a-file-without-change-in-formatting/37608367#37608367", "title": "Edit a file without change in formatting", "body": "<p>A solution using GNU <code>awk</code>:</p>\n\n<pre><code>awk -v pattern=\"ab ce\" -v scale=2.0 -v col=4 -f input.awk inputfile.txt\n</code></pre>\n\n<p>The <code>input.awk</code>:</p>\n\n<pre><code>pattern {\n    count = split($0, fields, / +/, seps);\n    printf fields[1];\n    for (i = 2; i &lt;= count; i++) {\n        if (i == col) {\n            len = length(seps[col-1] fields[col]);\n            printf(\"%\" len \".1f\", fields[4] * scale);\n        } else {\n            printf(seps[i-1] fields[i]);\n        }\n    }\n    print \"\";\n    next;\n}\n{ print }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6417732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60221478a2a8147074c4be614522208a?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/6417732/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 37608367, "answer_count": 1, "score": 0, "last_activity_date": 1464943605, "creation_date": 1464932327, "last_edit_date": 1464940330, "question_id": 37606689, "link": "https://stackoverflow.com/questions/37606689/edit-a-file-without-change-in-formatting", "title": "Edit a file without change in formatting", "body": "<p>I have a text file containing a strings and numbers.  I would like to create a short script that searches for a given string, and if the string is found, it multiplies the nth space-separated argument of that line by a scaling factor and saves everything into a new file.<br>\nWe can assume there will be only one such string in the file, and also that the nth argument on that line will be a floating point number.  Ideally the program would preserve the formatting of the original file as well.<br>\nFor example to search for the string \"ab ce\" and multiply the fourth argument of that line by 2.0:</p>\n\n<pre><code>./prog \"ab ce\" 4 2.0 inputfile.txt output.txt\n</code></pre>\n\n<p>inputfile.txt:</p>\n\n<pre><code>ab cd   1.0   2.0       3.0 \nab ce   1.0   2.0       3.0 \nac ce   1.0   2.0       3.0\nac ce   de  ef  1.0   2.0       3.0\n</code></pre>\n\n<p>output.txt</p>\n\n<pre><code>ab cd   1.0   2.0       3.0\nab ce   1.0   4.0       3.0\nac ce   1.0   2.0       3.0\nac ce   de  ef  1.0   2.0       3.0\n</code></pre>\n\n<p>I have attempted to do this with awk (below), however this does not preserve the formatting and I suspect there is a more elegant solution.  Can someone suggest another approach? </p>\n\n<pre><code>#!/bin/sh\n\nsearch_string=$1\nn=$2\nscaling=$3\ninputfilename=$4\noutputname=$5\n\nawk -vORS= -v scal=\"$scaling\" -v ch=\"$n\" -v inp=\"$search_string\" 'BEGIN {} {if($0 ~ inp){ s = \"\"; for (i = 1; i &lt; ch; i++) s = s $i \" \"; print s; print $ch*scal,\" \"; s = \"\"; for (i = ch+1; i &lt;= NF; i++) s = s $i \" \"; print s,\"\\n\" } else print $0,\"\\n\" } END{}' $inputfilename&gt;$outputname\n</code></pre>\n"}, {"tags": ["perl", "character-encoding", "html-entities", "html-encode", "chinese-locale"], "answers": [{"comments": [{"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1464930989, "post_id": 37606186, "comment_id": 62696841, "body": "Great, it&#39;s working on my test sample.  But after running a few more test data, I find that some characters don&#39;t work, and I couldn&#39;t figure out why.  Please see if you can get it to work with this string <code>$str2 = &quot;&amp;#23947;\u4e00&amp;#12392;\u4e09&amp;#20870;&quot;;</code> Output should be <code>\u5d8b\u4e00\u3068\u4e09\u5186</code> but now the first and last characters become ? mark"}, {"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1464931433, "post_id": 37606186, "comment_id": 62697004, "body": "These HTML Entities characters do show up properly if using my original code <code>$str2 = encode(&#39;utf8&#39;, decode(&quot;big5&quot;,$str2));</code> (but with other scrambled Chinese characters)"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1464931713, "post_id": 37606186, "comment_id": 62697129, "body": "@KDX: your example gives <code>\u5d8b\u4e00\u3068\u4e09\u5186</code> for me, so it works at least for me. Tried with perl versions 5.22.1, 5.12.5 and even 5.8.9 with a current version of <code>HTML::Entities</code>. I have no idea what you are using nor what your code exactly looks like. I&#39;ve just set <code>$str2 = &quot;&amp;#23947;\u4e00&amp;#12392;\u4e09&amp;#20870;&quot;</code> in my code example."}, {"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1464932647, "post_id": 37606186, "comment_id": 62697490, "body": "My hosting is running Perl 5.12.4 and <code>HTML::Entities</code> is showing as 3.69.  I&#39;m using the exact test code you wrote with the <code>use</code> declaration in my  original question.  I find it strange because these very same characters do show up if using <code>$str2 = encode(&#39;utf8&#39;, decode(&quot;big5&quot;,$str2));</code> What versions are you running in your test environment?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1464933550, "post_id": 37606186, "comment_id": 62697802, "body": "@KDX: HTML::Entities is 3.69 but the actual implementation of decode_entities is done in some C code in HTML::Parser.  Version of HTML::Parser is 3.72 in all cases."}, {"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1464938717, "post_id": 37606186, "comment_id": 62700491, "body": "I don&#39;t quite get it.  Do I need to use HTML::Parser in the code?  The string data I&#39;m going to process doesn&#39;t contain any HTML, but only plain text containing data field and delimiters. I checked with <code>perl -MHTML::Parser -e &#39;print $HTML::Parser::VERSION&#39;;</code> and it&#39;s giving me 3.69 too.  Is Perl version going to make a difference?  Thanks."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1464946552, "post_id": 37606186, "comment_id": 62705025, "body": "@KDX: <a href=\"https://metacpan.org/pod/HTML::Entities\" rel=\"nofollow noreferrer\">HTML::Entities</a> is part of the HTML::Parser distribution. The function decode_entities is not implemented inside the HTML::Entities module but in same other file (<a href=\"https://metacpan.org/source/GAAS/HTML-Parser-3.72/util.c\" rel=\"nofollow noreferrer\">util.c</a>) and thus the version of the HTML::Entities module itself does not matter.  Perl version might make a difference but in this case I doubt it since it works for me with current HTML::Parser distribution and Perl 5.8.9."}, {"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1464997172, "post_id": 37606186, "comment_id": 62732243, "body": "In this case, Do you suggest me upgrading HTML::Parser from 3.69 to 3.72 where the decode_entities in <code>util.c</code> will be up-to-date?  It seems like to me only certain HTML Entities are not converting, else it works in most of the cases."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1465015152, "post_id": 37606186, "comment_id": 62735085, "body": "@KDX: I would give it a try."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1464930495, "last_edit_date": 1464930495, "creation_date": 1464929536, "answer_id": 37606186, "question_id": 37605425, "link": "https://stackoverflow.com/questions/37605425/html-entity-decoding-mixing-with-big5-characters-convert-to-utf-8-using-perl/37606186#37606186", "title": "HTML Entity decoding mixing with BIG5 characters, convert to UTF-8 using Perl", "body": "<p>The problem is that you mix decode_entities which outputs an utf8 string (<code>utf8::is_utf8</code> returns true)  with a raw string (<code>utf8::is_utf8</code> returns false) consisting of an octet stream which could be interpreted as utf8. Instead you should combine either raw strings or utf8 strings.</p>\n\n<p>The following works by first encoding your string from big5 to an utf8 string, then replacing the HTML encodings and then finally converting everything to a raw string representing utf8 characters:</p>\n\n<pre><code>$str2 = \"\u4e00&amp;#12392;\u4e09\";\n$str2 = decode(\"big5\",$str2);  # big5 to internal utf8 -&gt; utf8::is_utf8($str2) is true\ndecode_entities($str2);        # decode HTML entities\n$str2 = encode('utf8',$str2);  # internal utf8 to raw bytes, utf8::is_utf8($str2) is false\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "accepted_answer_id": 37606186, "answer_count": 1, "score": 1, "last_activity_date": 1464930495, "creation_date": 1464924135, "question_id": 37605425, "link": "https://stackoverflow.com/questions/37605425/html-entity-decoding-mixing-with-big5-characters-convert-to-utf-8-using-perl", "title": "HTML Entity decoding mixing with BIG5 characters, convert to UTF-8 using Perl", "body": "<p>My Perl script and data input file are in BIG5 Chinese encoding.</p>\n\n<p>The string data contains HTML entity, eg. Japanese characters</p>\n\n<p>The result displays perfectly when viewing on the browser.</p>\n\n<p>But for further data manipulation, I need to convert them all into UTF-8</p>\n\n<p>eg.</p>\n\n<p>From BIG5 encoding</p>\n\n<p><code>\u4e00&amp;#12392;\u4e09</code></p>\n\n<p>To UTF-8 encoding</p>\n\n<p><code>\u4e00\u3068\u4e09</code></p>\n\n<p>Here's the code I've tried:</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse Encode qw/encode decode/;\nuse HTML::Entities;\n\nprint \"Content-type: text/html\\n\\n\";\n\n$str = \"&amp;#12392;\";\n$str = encode('utf8', decode(\"big5\",$str));\nprint \"$str\\n\";\ndecode_entities($str);\nprint \"$str\\n\";\n\n$str2 = \"\u4e00&amp;#12392;\u4e09\";\n$str2 = encode('utf8', decode(\"big5\",$str2));\nprint \"$str2\\n\";\ndecode_entities($str2); # where the issue is\nprint \"$str2\\n\";\n</code></pre>\n\n<p>Here's the result after running the above code.</p>\n\n<pre><code>&amp;#12392;\n\u3068\n\u4e00&amp;#12392;\u4e09\n\u00e4\u00b8\u3068\u00e4\u00b8\n</code></pre>\n\n<p>Please note the script itself is also saved as BIG5 encoding.</p>\n\n<p>After <code>decode_entities($str2);</code> it seems that it's trying to decode the Chinese characters in UTF-8 too, that's causing the issue.</p>\n\n<p>How do I fix this issue?  Or limit to the decode_entities() only applying to <code>&amp;xxxxx;</code> pattern?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464913364, "post_id": 37604106, "comment_id": 62692825, "body": "Are you saying that the code you have written works but it is too slow?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1464914792, "creation_date": 1464914792, "answer_id": 37604293, "question_id": 37604106, "link": "https://stackoverflow.com/questions/37604106/how-can-i-store-data-from-excel-to-hash-of-arrays/37604293#37604293", "title": "How can I store data from Excel to Hash of arrays?", "body": "<p>What I think you're asking for is a more general program that will process a spreadsheet that contains any number of rows and columns</p>\n\n<p>I've written this according to the <a href=\"https://metacpan.org/pod/Spreadsheet::Read\" rel=\"nofollow\">documentation for <code>Spreadsheet::Read</code></a>, which says that it exports a <code>row</code> function which will return an array of the elements in the given row number of the given spreadsheet</p>\n\n<p>I've not been able to test this as I don't have a copy of Excel installed, but it does compile successfully and it's fairly simple so I don't anticipate any problems</p>\n\n<pre><code>#!/usr/bin/perl   \n\nuse strict;\nuse warnings 'all';\n\nuse Spreadsheet::Read qw/ ReadData row /;\n\nmy $workbook = ReadData('test.xls', rc =&gt; 1, cells =&gt; 0);\nmy $sheet = $workbook-&gt;[1];\n\nmy %data;\n\nfor my $i ( 1 .. $sheet-&gt;{maxrow} ) {\n    my ($col1, @rest) = row($sheet, $i);\n    $data{ $col1 } = \\@rest;\n}\n\nuse Data::Dumper;\n\nprint Dumper \\%data;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": -1, "last_activity_date": 1464950558, "last_edit_date": 1464950558, "creation_date": 1464927707, "answer_id": 37605885, "question_id": 37604106, "link": "https://stackoverflow.com/questions/37604106/how-can-i-store-data-from-excel-to-hash-of-arrays/37605885#37605885", "title": "How can I store data from Excel to Hash of arrays?", "body": "<p>The problem is very straight forward.First count total no of rows and columns in the excel sheet.Then insert the values in the hash</p>\n\n<pre><code>    #!/usr/bin/perl   \n    use Spreadsheet::Read;\n    my $worksheet = ReadData (\"test.xls\");\n    my $workbook = $worksheet-&gt;[1];     #excel sheet no\n\n    #row count....\n    my $max_rows = $workbook-&gt;{'maxrow'};\n    #column count...\n    my $max_cols = $workbook-&gt;{'maxcol'};\n\n    my %hash ;\n    for my $row_num (1..($max_rows))\n    {\n        if(exists $workbook-&gt;{'cell'}[1][$row_num])\n        {\n              #insert values in the hash \n              my $id = $workbook-&gt;{'cell'}[1][$row_num];\n              my $val1 = $workbook-&gt;{'cell'}[2][$row_num];\n              my $val2 = $workbook-&gt;{'cell'}[3][$row_num];\n              my $val3 = $workbook-&gt;{'cell'}[4][$row_num];\n              push (@{$hash{$id}},$val1, $val2, $val3);\n        }\n   }\n   #hash Reading\n   foreach my $id (keys %hash)\n   {\n       my @arr = @{$hash{$id}};\n       print \"$id\\t@arr\\n\";\n   }\n</code></pre>\n\n<p>You can modify the hash insertion process depending on your requirement</p>\n"}], "owner": {"reputation": 173, "user_id": 6327124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a90a8e9e4fa289b6161fc80fa6d60dfd?s=128&d=identicon&r=PG&f=1", "display_name": "ITnewbie", "link": "https://stackoverflow.com/users/6327124/itnewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 985, "favorite_count": 0, "accepted_answer_id": 37604293, "answer_count": 2, "score": 1, "last_activity_date": 1464950558, "creation_date": 1464913205, "last_edit_date": 1592644375, "question_id": 37604106, "link": "https://stackoverflow.com/questions/37604106/how-can-i-store-data-from-excel-to-hash-of-arrays", "title": "How can I store data from Excel to Hash of arrays?", "body": "<p>I want to read data from excel file and store it to Hash of arrays.</p>\n<p>For example, I have an Excel file as below:</p>\n<p><img src=\"https://i.stack.imgur.com/6EAcY.jpg\" alt=\"Example Excel spreadsheet\" /></p>\n<p>I want to fetch value from datasheet and store it like this:</p>\n<pre><code>%hash = (\n    &quot;A1&quot; =&gt; [ &quot;B1&quot;, &quot;C1&quot;, &quot;D1&quot; ],\n    &quot;A2&quot; =&gt; [ &quot;B2&quot;, &quot;C2&quot;, &quot;D2&quot; ],\n    &quot;A3&quot; =&gt; [ &quot;B3&quot;, &quot;C3&quot;, &quot;D3&quot; ]\n);\n</code></pre>\n<p>I have installed <a href=\"https://metacpan.org/pod/Spreadsheet::Read\" rel=\"nofollow noreferrer\"><code>Spreadsheet::Read</code></a> and used the method  below to store it.</p>\n<pre><code>#!/usr/bin/perl   \nuse Spreadsheet::Read;\nmy $workbook = ReadData (&quot;test.xls&quot;);\nmy %hash = (\n             &quot;$workbook-&gt;[1]{A2}&quot; =&gt; [&quot;$workbook-&gt;[1]{B2}&quot;,&quot;$workbook-&gt;[1]{B3}&quot;]\n           );\n    \n print $hash{&quot;$workbook-&gt;[1]{A2}&quot;}-&gt;[1];\n</code></pre>\n<p>But it is not smart.How can I archive it more efficient?</p>\n<p>Can anybody give me some suggestions?</p>\n"}]