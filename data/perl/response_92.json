[{"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1476316420, "post_id": 40010113, "comment_id": 67298319, "body": "with what you&#39;ve shown, what would be your expected output, and which column is the number that decides the %?"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1476316547, "post_id": 40010113, "comment_id": 67298350, "body": "1) Match the things that would be 100% 2) Calculate the <a href=\"https://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"nofollow noreferrer\">Leveshtein Dinstance</a> and do some arithmetic."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476317753, "post_id": 40010113, "comment_id": 67298673, "body": "Do you mean that you do get some match and want to see what part of the whole string that match is?"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476318096, "post_id": 40010113, "comment_id": 67298751, "body": "You&#39;ll need to make parts of the pattern optional. Then you can get the length of the match and compare it to the length of a full beacon, and you&#39;ll know how much of it you received."}, {"owner": {"reputation": 83, "user_id": 610615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857dfc4e30ba3df73bc68d6ef1eb536b?s=128&d=identicon&r=PG", "display_name": "Sean Smith", "link": "https://stackoverflow.com/users/610615/sean-smith"}, "edited": false, "score": 0, "creation_date": 1476326261, "post_id": 40010113, "comment_id": 67300691, "body": "I need to test the entire string to determine the decode rate."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476388267, "post_id": 40010113, "comment_id": 67336666, "body": "@SeanSmith  Thank you for the update.  (1) So this &quot;beacon&quot; that you show, that is the whole string to be parsed, correct? (2) What is the ultimate, exact goal -- To know that the beacon <i>is</i> there and its percent match to the expected?  To actually read off things that you marked, all or just some?"}, {"owner": {"reputation": 83, "user_id": 610615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857dfc4e30ba3df73bc68d6ef1eb536b?s=128&d=identicon&r=PG", "display_name": "Sean Smith", "link": "https://stackoverflow.com/users/610615/sean-smith"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476389619, "post_id": 40010113, "comment_id": 67337398, "body": "@zdim The goal is to determine the percentage match so we can compare against solar data and say when these solar conditions exist there is a confidence level of x that the two stations will be able to reliably communicate. The solar conditions side we&#39;ve got locked down it&#39;s the beacon side that&#39;s giving us issues now. Another way to look at it how confident are we that the decoded data is correct."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476470082, "post_id": 40010113, "comment_id": 67375790, "body": "@SeanSmith  I rewrote and restored my answer, reviewing three modules that give you directly related measures. Some can probably be used to get exactly what you want with some more work."}], "answers": [{"comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476318047, "post_id": 40010258, "comment_id": 67298742, "body": "I think he&#39;s saying that he doesn&#39;t always get a match for the whole pattern. He wants to know how much of the pattern was matched."}, {"owner": {"reputation": 25937, "user_id": 338904, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dea29233fa03ea84f8a853102deb0344?s=128&d=identicon&r=PG", "display_name": "e2-e4", "link": "https://stackoverflow.com/users/338904/e2-e4"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476319441, "post_id": 40010258, "comment_id": 67299044, "body": "Hmm ok thanks. not time to improve this ;-)"}, {"owner": {"reputation": 83, "user_id": 610615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857dfc4e30ba3df73bc68d6ef1eb536b?s=128&d=identicon&r=PG", "display_name": "Sean Smith", "link": "https://stackoverflow.com/users/610615/sean-smith"}, "edited": false, "score": 0, "creation_date": 1476326471, "post_id": 40010258, "comment_id": 67300748, "body": "That&#39;s correct I don&#39;t always get a match in the full pattern, I&#39;m trying to figure out what percentage of the pattern does match."}], "tags": [], "owner": {"reputation": 25937, "user_id": 338904, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dea29233fa03ea84f8a853102deb0344?s=128&d=identicon&r=PG", "display_name": "e2-e4", "link": "https://stackoverflow.com/users/338904/e2-e4"}, "is_accepted": false, "score": 2, "last_activity_date": 1476317539, "last_edit_date": 1476317539, "creation_date": 1476317150, "answer_id": 40010258, "question_id": 40010113, "link": "https://stackoverflow.com/questions/40010113/how-can-i-find-the-percentage-of-a-regex-match-on-a-string/40010258#40010258", "title": "How can I find the percentage of a regex match on a string?", "body": "<p>You could calculate the number of characters matching compared to the length of the initial string, for instance looking for <code>/\\bva\\dshs\\b/</code> (<code>\\b</code> is a <em>word boundary</em>, and <code>\\d</code> is a <em>digit</em>, see <a href=\"http://perldoc.perl.org/perlrebackslash.html#The-backslash\" rel=\"nofollow\">the manual page</a>)</p>\n\n<pre><code>my $s = 'de va6shs va6shs va6shs Loc DO46gs Olivia-4-250 NBEMS test 2218Z';\n\nmy $r = join('', $s =~ m/\\bva\\dshs\\b/g);\n\nprint(((length($r)*100) / length($s)) . \"%\\n\");\n</code></pre>\n\n<p>The matching strings, combined, give</p>\n\n<pre><code>\"va6shsva6shsva6shs\"\n</code></pre>\n\n<p>which is <strong>28.125%</strong> of the initial string length.</p>\n"}, {"comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476317986, "post_id": 40010321, "comment_id": 67298732, "body": "I think he&#39;s saying that the string doesn&#39;t always match the entire pattern, because part of the string is missing."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476318154, "post_id": 40010321, "comment_id": 67298760, "body": "@Barmar  So that they don&#39;t know what to match in fact?  That&#39;s different, sure.  Thank you.  I&#39;ll wait for a clarification ..."}, {"owner": {"reputation": 83, "user_id": 610615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857dfc4e30ba3df73bc68d6ef1eb536b?s=128&d=identicon&r=PG", "display_name": "Sean Smith", "link": "https://stackoverflow.com/users/610615/sean-smith"}, "edited": false, "score": 0, "creation_date": 1476502518, "post_id": 40010321, "comment_id": 67384953, "body": "Thanks @zdim, I will try these out over the weekend. Much appreciated."}, {"owner": {"reputation": 83, "user_id": 610615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857dfc4e30ba3df73bc68d6ef1eb536b?s=128&d=identicon&r=PG", "display_name": "Sean Smith", "link": "https://stackoverflow.com/users/610615/sean-smith"}, "edited": false, "score": 0, "creation_date": 1480545323, "post_id": 40010321, "comment_id": 69012746, "body": "Sorry for not getting back the the question String::Similarity is working great for my project."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 83, "user_id": 610615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857dfc4e30ba3df73bc68d6ef1eb536b?s=128&d=identicon&r=PG", "display_name": "Sean Smith", "link": "https://stackoverflow.com/users/610615/sean-smith"}, "edited": false, "score": 0, "creation_date": 1480545445, "post_id": 40010321, "comment_id": 69012808, "body": "@SeanSmith  Well, that&#39;s great to hear -- and useful to know!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1476897028, "last_edit_date": 1495535416, "creation_date": 1476317555, "answer_id": 40010321, "question_id": 40010113, "link": "https://stackoverflow.com/questions/40010113/how-can-i-find-the-percentage-of-a-regex-match-on-a-string/40010321#40010321", "title": "How can I find the percentage of a regex match on a string?", "body": "<p>The problem is one of partial or fuzzy matching. There are modules out there that may help.  They mostly use <em>Levenshtein distance</em>, the number of edits needed to get one string from the other, but there are other methods. See a partial list in <a href=\"http://search.cpan.org/dist/Text-Levenshtein/lib/Text/Levenshtein.pm\" rel=\"nofollow noreferrer\">Text::Levenshtein</a>. See <a href=\"https://stackoverflow.com/questions/11763875/perl-module-for-text-comparison\">this post</a> for search phrases that will offer far more.</p>\n\n<p>Here are examples using <a href=\"http://search.cpan.org/dist/String-Approx/Approx.pm\" rel=\"nofollow noreferrer\">String::Approx</a>, <a href=\"http://search.cpan.org/~mlehmann/String-Similarity-1.04/Similarity.pm\" rel=\"nofollow noreferrer\">String::Similarity</a>, and <a href=\"http://search.cpan.org/~bkb/Text-Fuzzy-0.24/lib/Text/Fuzzy.pod\" rel=\"nofollow noreferrer\">Text::Fuzzy</a>. None gives exactly what you ask but all retrieve similar measures, and have options that may allow you to get your target.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\nmy $beacon = \n    'de va6shs va6shs va6shs Loc DO46gs Olivia-4-250 NBEMS test 2218Z';\nmy $received = \n    'P!de ve6rfm ve6rfm ve6rfm Loc DO46gs Olivia-4-250 NBEMS &lt;TAB&gt;est F248Z';\n\n# Can use an object, or the functional interface\nuse Text::Fuzzy qw(fuzzy_index distance_edits);\nmy $tf = Text::Fuzzy-&gt;new ($beacon);   \n\nmy ($offset, $edits, $distance);\n# Different distance/edits\n$distance = $tf-&gt;distance($received);\n($offset, $edits, $distance) = fuzzy_index    ($received, $beacon);\n($distance, $edits)          = distance_edits ($received, $beacon);\n\n# Provides \"similarity\", in terms of edit distance\nuse String::Similarity;  \nmy $similarity = similarity $beacon, $received;\n\n# Can be tuned, but is more like regex in some sense. See docs.\nuse String::Approx qw(amatch);\nmy @matches = amatch($beacon, $received);  # within 10% \n# amatch($beacon, [\"20%\"], $received);     # within 20%\n# amatch($beacon, [\"S0\"], $received);      # no \"substitutions\"\n</code></pre>\n\n<p>Please look through their documentation.</p>\n\n<p>The <code>String::Approx</code> considers a \"match\" if it is not further than 10% in length.  This is the default, and the module allows to adjust that parameter. For example,</p>\n\n<pre><code>amatch($beacon, [\"20%\"], $received);\n</code></pre>\n\n<p>would make that 20%. Other refinements of possible use for you can be made. \n Newer versions of the module are written in C and are much better perfoming.</p>\n"}], "owner": {"reputation": 83, "user_id": 610615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857dfc4e30ba3df73bc68d6ef1eb536b?s=128&d=identicon&r=PG", "display_name": "Sean Smith", "link": "https://stackoverflow.com/users/610615/sean-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1082, "favorite_count": 2, "closed_date": 1476330386, "accepted_answer_id": 40010321, "answer_count": 2, "score": 3, "last_activity_date": 1476897028, "creation_date": 1476316085, "last_edit_date": 1476370699, "question_id": 40010113, "link": "https://stackoverflow.com/questions/40010113/how-can-i-find-the-percentage-of-a-regex-match-on-a-string", "closed_reason": "Needs details or clarity", "title": "How can I find the percentage of a regex match on a string?", "body": "<p>I'm involved in a digital radio propagation study where a remote transmitter sends a predefined beacon at a defined time that's easily matched with a regex. </p>\n\n<p>But due to solar and atmospheric conditions it's not always a 100% decoded. What I want to do is calculate the percentage of the decode.</p>\n\n<p>The beacon format is as so:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>de va6shs va6shs va6shs Loc DO46gs Olivia-4-250 NBEMS test 2218Z \n     |                        |          |                   |\n (Station)               (Location) (Digital Mode)       (UTC Time)\n</code></pre>\n\n<p>Can I actually figure out the percentage with Perl, or should I be looking for another solution?</p>\n\n<p>Edit: What often happens as there is limited error correction in the data mode we are using so random characters often end up in the decoded string or characters are not decode at all these are received strings from the same station at different times of the same day as solar conditions degraded.</p>\n\n<pre><code>100% decode \nde ve6rfm ve6rfm ve6rfm Loc DO46gs Olivia-4-250 NBEMS test 0218Z\n\n93.75% \nP!de ve6rfm ve6rfm ve6rfm Loc DO46gs Olivia-4-250 NBEMS &lt;TAB&gt;est F248Z\n\n9.375% \nde ve6rfmr&amp;\n</code></pre>\n\n<p>The only difference there should be between the two beacon strings is the UTC time at the end of the string, but as you can see there's a few characters that didn't decode correctly.</p>\n\n<p>The correctly decodes string has 64 characters.\nThe first incorrectly decoded string has 60 correct characters.\nSo 60/64 * 100 = 93.75% decode.</p>\n\n<p>My regex for the station call sign, the three repeated words is </p>\n\n<pre><code> /[vV][aAeEyY][15678]\\w{2,3}/\n</code></pre>\n\n<p>There are several different stations involved in the study across western Canada so I need to capture them as propagation permits, and using the above regex saves me from having to update my script every time a new station comes on the air.</p>\n"}, {"tags": ["perl", "replace"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1476302448, "post_id": 40007287, "comment_id": 67292664, "body": "Always <code>use strict;</code> and <code>use warnings &#39;all&#39;;</code>! Enabling warnings would have given you a nice hint at what&#39;s wrong."}, {"owner": {"reputation": 33, "user_id": 7004929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b900b6ba740bc9f8d3d38f2010628c?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Doe", "link": "https://stackoverflow.com/users/7004929/jane-doe"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476302487, "post_id": 40007287, "comment_id": 67292687, "body": "Thanks. Let me see what feedback I get."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1476304146, "post_id": 40007287, "comment_id": 67293557, "body": "If you have a new question, please post a new question. It gets very confusing if you change your question completely after people have already posted answers."}], "answers": [{"tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": true, "score": 3, "last_activity_date": 1476304091, "last_edit_date": 1476304091, "creation_date": 1476303208, "answer_id": 40007529, "question_id": 40007287, "link": "https://stackoverflow.com/questions/40007287/perl-script-find-and-replace-not-working/40007529#40007529", "title": "Perl script find and replace not working?", "body": "<p>You are using the two argument version of <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\"><code>open</code></a>.  If <code>$file</code> does not start with \"&lt;\", \">\", or \">>\", it will be opened as read filehandle.  You cannot write to a read file handle.  To solve this, use the three argument version of open:</p>\n\n<pre><code>open my $in, \"&lt;\", $file or die \"could not open $file: $!\";\nopen my $out, \"&gt;\", $file or die \"could not open $file: $!\";\n</code></pre>\n\n<p>Also note the use of lexical filehandles (<code>$in</code>) instead of the bareword file handles (<code>FILE</code>).  Lexical filehandles have many benefits over bareword filehandles:</p>\n\n<ol>\n<li>They are lexically scoped instead of global</li>\n<li>They close when they go out of scope instead of at the end of the program</li>\n<li>They are easier to pass to functions (ie you don't have to use a typeglob reference).</li>\n</ol>\n\n<p>You use them just like you would use a bareword filehandle.</p>\n\n<p>Other things you might want to consider:</p>\n\n<ol>\n<li>use the strict pragma</li>\n<li>use the warnings pragma</li>\n<li>work on files a line or chunk at a time rather than reading them in all at once</li>\n<li>use an HTML parser instead of regex</li>\n<li>use named variables instead of the default variable (<code>$_</code>)</li>\n<li>if you are using the default variable, don't include it where it is already going to be used (eg <code>s/foo/bar/;</code> instead of <code>$_ =~ s/foo/bar/;</code>)</li>\n</ol>\n\n<p>Number 4 may be very important for what you are doing.  If you are not certain of the format these HTML files are in, then you could easily miss things.  For instance, <code>\"Authors Here\"</code> and <code>\"Authors\\nHere\"</code> means the same thing to HTML, but your regex will miss the later.  You might want to take a look at <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a> (I know it says XML, but it handles HTML as well).  It is a very easy to use XML/HTML parser.</p>\n"}], "owner": {"reputation": 33, "user_id": 7004929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b900b6ba740bc9f8d3d38f2010628c?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Doe", "link": "https://stackoverflow.com/users/7004929/jane-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 40007529, "answer_count": 1, "score": 2, "last_activity_date": 1476304091, "creation_date": 1476302307, "last_edit_date": 1476304035, "question_id": 40007287, "link": "https://stackoverflow.com/questions/40007287/perl-script-find-and-replace-not-working", "title": "Perl script find and replace not working?", "body": "<p>I am trying to create a script in Perl to replace text in all HTML files in a given directory. However, it is not working. Could anyone explain what I'm doing wrong?</p>\n\n<pre><code>my @files = glob \"ACM_CCS/*.html\";\n\nforeach my $file (@files)\n{\n    open(FILE, $file) || die \"File not found\";\n    my @lines = &lt;FILE&gt;;\n    close(FILE);\n\n    my @newlines;\n    foreach(@lines) {\n        $_ =~ s/Authors Here/Authors introduced this subject for the first time in this paper./g;\n        #$_ =~ s/Authors Elsewhere/Authors introduced this subject in a previous paper./g;\n        #$_ =~ s/D4-/D4: Is the supporting evidence described or cited?/g;\n        push(@newlines,$_);\n    }\n\n    open(FILE, $file) || die \"File not found\";\n    print FILE @newlines;\n    close(FILE);\n}\n</code></pre>\n\n<p>For example, I'd want to replace \"D4-\" with \"D4: Is the...\", etc. Thanks, I'd appreciate any tips.</p>\n"}, {"tags": ["bash", "perl", "shell", "awk"], "comments": [{"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1476356471, "post_id": 40006336, "comment_id": 67315082, "body": "expecting: foo1 foo2 foo10 foo20 foo21, I am okay using Perl as suggested below, thanks."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1476357246, "post_id": 40006336, "comment_id": 67315583, "body": "ok, you have perl and awk answers."}], "answers": [{"comments": [{"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1476369982, "post_id": 40006389, "comment_id": 67325578, "body": "thanks for your answer, how is it matching the line starting with Register?, you used <code>\\s+Register</code>, which should match only space followed by Register, correct?."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1476373116, "post_id": 40006389, "comment_id": 67327958, "body": "Because the first command is there only to put <code>Register</code> at the beginning of lines. So, this is already the case for the first line, not modified, and the next <code>grep</code> command will do the match as it should"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": true, "score": 0, "last_activity_date": 1476299498, "last_edit_date": 1476299498, "creation_date": 1476298840, "answer_id": 40006389, "question_id": 40006336, "link": "https://stackoverflow.com/questions/40006336/get-the-word-after-a-match-in-a-line-when-line-has-multiple-match/40006389#40006389", "title": "Get the word after a match in a line when line has multiple match", "body": "<p>Try this :</p>\n\n<pre><code>perl -pe 's/\\s+Register/\\nRegister/g' file |\n  grep -oP '^Register\\s+\\Kfoo\\S*'\n</code></pre>\n\n<h3>Output :</h3>\n\n<pre><code>foo1\nfoo2\nfoo10...\nfoo20\nfoo21\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1476300696, "creation_date": 1476300696, "answer_id": 40006874, "question_id": 40006336, "link": "https://stackoverflow.com/questions/40006336/get-the-word-after-a-match-in-a-line-when-line-has-multiple-match/40006874#40006874", "title": "Get the word after a match in a line when line has multiple match", "body": "<p>here's a perl one-liner to find the word after \"Register\" but not \"Un-Register\", and all the words from a line will be kept on a line</p>\n\n<pre><code>$ perl -nE 'say \"@{[/(?&lt;!Un-)Register\\s+\\K\\S+/g]}\"' file\nfoo1 foo2 foo10...\nfoo20\nfoo21\n</code></pre>\n\n<p>A less dense version:</p>\n\n<pre><code>$ perl -nE '\n      @words = /  (?&lt;!Un-)        # preceding characters are not \"Un-\"\n                  Register \\s+    # must have \"Register\" followed by whitespace\n                  \\K              # disregard the previous from matching\n                  \\S+             # capture the next non-whitespace characters\n              /gx;                # \"g\"lobally on this line\n      say \"@words\";\n  ' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 0, "last_activity_date": 1476301791, "creation_date": 1476301791, "answer_id": 40007134, "question_id": 40006336, "link": "https://stackoverflow.com/questions/40006336/get-the-word-after-a-match-in-a-line-when-line-has-multiple-match/40007134#40007134", "title": "Get the word after a match in a line when line has multiple match", "body": "<p>Here is a non-regex <code>awk</code> solution to get the job done:</p>\n\n<pre><code>awk '{\n   s=\"\"\n   for (i=2; i&lt;=NF; i++)\n      if ($(i-1) == \"Register\")\n         s = sprintf(\"%s%s\", (s==\"\"?\"\":s OFS), $i)\n   print s\n}' file\n\nfoo1 foo2 foo10...\nfoo20\nfoo21\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 7013021, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fgNwYd2g1rA/AAAAAAAAAAI/AAAAAAAAwDw/z-1IQRo1GF8/photo.jpg?sz=128", "display_name": "Artur Siara", "link": "https://stackoverflow.com/users/7013021/artur-siara"}, "is_accepted": false, "score": 0, "last_activity_date": 1476779664, "last_edit_date": 1476779664, "creation_date": 1476741972, "answer_id": 40096437, "question_id": 40006336, "link": "https://stackoverflow.com/questions/40006336/get-the-word-after-a-match-in-a-line-when-line-has-multiple-match/40096437#40096437", "title": "Get the word after a match in a line when line has multiple match", "body": "<p><code>egrep -o '(^|[^-])Register \\w*' file | awk '{print $2 }'</code></p>\n\n<ul>\n<li>first grep filters <code>Register word</code> (and not <code>Un-Register</code>) and print the matches in new lines (<code>-o</code> option)</li>\n<li>And <code>awk</code> prints only the word</li>\n</ul>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 40006389, "answer_count": 4, "score": 0, "last_activity_date": 1476779664, "creation_date": 1476298635, "last_edit_date": 1476357259, "question_id": 40006336, "link": "https://stackoverflow.com/questions/40006336/get-the-word-after-a-match-in-a-line-when-line-has-multiple-match", "title": "Get the word after a match in a line when line has multiple match", "body": "<p>I have a big text file with content as below:</p>\n\n<pre><code>Register foo1 ... Register foo2 ... Register foo10...\nRegister foo20 ...\nUn-Register bar1 ... Register foo21 ...\n</code></pre>\n\n<p>I wrote below bash script, which will work only if there is one \"Register\" per line, but how to get all foo's in same line?</p>\n\n<pre><code>#!/bin/bash\nfile=/tmp/log\ngrep -e 'Register\\s' $file | awk '{print $2}' | grep -v Un-Register | while read -r line; do\n    #do something with $line\ndone\n</code></pre>\n"}, {"tags": ["string", "perl", "loops", "csv", "split"], "comments": [{"owner": {"reputation": 1626, "user_id": 2477215, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/5asqT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/2477215/ashish"}, "edited": false, "score": 0, "creation_date": 1476298460, "post_id": 40006250, "comment_id": 67290504, "body": "<code>csplit</code> is shell command. Have to tried it ??"}, {"owner": {"reputation": 1626, "user_id": 2477215, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/5asqT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/2477215/ashish"}, "edited": false, "score": 0, "creation_date": 1476298618, "post_id": 40006250, "comment_id": 67290585, "body": "also please check SO other questions related <a href=\"http://stackoverflow.com/questions/8272017/split-files-based-on-file-content-and-pattern-matching\" title=\"split files based on file content and pattern matching\">stackoverflow.com/questions/8272017/&hellip;</a>"}, {"owner": {"reputation": 1354, "user_id": 1007709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iuIAp.jpg?s=128&g=1", "display_name": "jmcneirney", "link": "https://stackoverflow.com/users/1007709/jmcneirney"}, "edited": false, "score": 1, "creation_date": 1476298660, "post_id": 40006250, "comment_id": 67290614, "body": "Are you meaning to do an assignment here?     $name eq $a;                 #want to indicate first line    $name = $a;"}, {"owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1476302264, "post_id": 40006250, "comment_id": 67292560, "body": "Not an assignment no... trying to make my work life easier with large data files that I recieve so I don&#39;t have to struggle splitting them in excel... I had a look at the csplit - it doesn&#39;t give a solution to the file naming - but will give it a try nonetheless!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476305648, "post_id": 40006250, "comment_id": 67294350, "body": "@DKru When jmcneirney says &quot;assignment,&quot; he means the assignment operator, not a homework assignment. <code>$name eq $a</code> doesn&#39;t make any sense by itself (and you should be getting the warning &quot;Useless use of string eq in void context&quot;). Maybe you meant to assign <code>$a</code> to <code>$name</code>, i.e. <code>$name = $a;</code>?"}, {"owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1476335784, "post_id": 40006250, "comment_id": 67303193, "body": "Ahhhh ok now I understand!! Sorry about that.. Yes I want to assign the first string to the name but am not sure how.. I&#39;m still new at perl - trying to learn through trial, error and lots of Googling!!"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476393506, "post_id": 40011594, "comment_id": 67339543, "body": "&quot;It comes standard with all recent versions&quot; Unfortunately, this is not the case. Maybe you&#39;re thinking of Text::Balanced or Text::ParseWords?"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476401593, "post_id": 40011594, "comment_id": 67342383, "body": "@ThisSuitIsBlackNot -- I thought it was, but I must be mistaken.  Thanks for the correction"}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": true, "score": 2, "last_activity_date": 1476327687, "creation_date": 1476327687, "answer_id": 40011594, "question_id": 40006250, "link": "https://stackoverflow.com/questions/40006250/perl-split-csv-at-given-string-and-use-specific-string-as-file-name/40011594#40011594", "title": "Perl: Split CSV at given string and use specific string as file name", "body": "<p>First of all, your line:</p>\n\n<pre><code>open (INPUT, \"&gt;\", \"$input_file\") \n</code></pre>\n\n<p>Looks like it's opening a file for <strong>WRITING</strong> -- you wanted to read it, right?</p>\n\n<p>If you're really dealing with a true CSV file, you may want to explore <code>Text::CSV</code> instead of splitting just on commas.  It comes standard with all recent versions, and it handles the inevitable:</p>\n\n<pre><code>ID        Quote                Date\n1         No, I'm fine         1/1/2016\n2         Roger Winco          5/1/2016\n</code></pre>\n\n<p>That said, the real issue at hand...</p>\n\n<p>Assuming the names don't repeat, you should be able to open an output filehandle and continue using it until it hits the terminating word:</p>\n\n<pre><code>my $OUTPUT;\n\nopen my $INPUT, '&lt;', \"$file_name.csv\" or die;\nwhile (&lt;$INPUT&gt;) {\n  my ($a) = split /,/, $_, 2;\n\n  if ($OUTPUT eq undef) {\n    open $OUTPUT, '&gt;', \"$a.csv\" or die;\n  }\n\n  print $OUTPUT $_;\n\n  if ($a eq $split_woord) {\n     close $OUTPUT;\n     $OUTPUT = undef;        \n  }\n}\nclose $INPUT;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 40011594, "answer_count": 1, "score": 1, "last_activity_date": 1476327687, "creation_date": 1476298327, "question_id": 40006250, "link": "https://stackoverflow.com/questions/40006250/perl-split-csv-at-given-string-and-use-specific-string-as-file-name", "title": "Perl: Split CSV at given string and use specific string as file name", "body": "<p>So I have several large CSV files with several columns and rows (6000 odd rows and +-60 columns each) that I would like to split into seperate CSV files at a given string (number of lines between string differs), where each file is to be named the string that appears in the first row of the first column... for example:</p>\n\n<pre><code>Peter  B1  C1  D1\nA2     B2  C2  D2\nA3     B3  C3  D3\nEND    B4  C4  D4\nJack   B5  C5  D5\nA6     B6  C6  D6\nA7     B7  C7  D7\nEND    B8  C8  D8 \nBilly  B9  C9  D9\nA10    B10 C10 D10 \nA11    B11 C11 D11\nEND    B12 C12 D12\n</code></pre>\n\n<p>so there should be 3 files named Peter, Jack and Billy, with the word END signalling that this is the last row to be written for this file. Peter contains range A1 (contains the word Peter) to D4; Jack A5 to D8 and Billy A9 to D12.</p>\n\n<p>I have this so far:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n### INPUT\nmy $split_woord = 'END';       #word that signals file to be split\nprint \"Input file: \";\nmy $file_name = &lt;STDIN&gt;;\n\nmy $input_file = \"file locataion/$file_name.csv\";\n\n### OPEN\nopen (INPUT, \"&gt;\", \"$input_file\") or die \"Can't open $file_name: $!\\n\";\n\nmy $name= undef;\n\nwhile (&lt;INPUT&gt;){\n\n  my $line = $_;\n\n  my ($a,$b,$c,$d)=split('\\,', $line);\n\n  until ($a eq $split_word){     #loop until column 1 reads 'END', then restart\n    $name eq $a;                 #want to indictae first line\n\n    my $output_file = \"file_location/$name.csv\";\n    open (OUTPUT, \"&gt;&gt;\", \"$output_file\") or die \"Can't create $output_file: $!\\n\";\n\n    print OUTPUT \"$a,$b,$c,$d\\n\";\n    next;\n\n    }\n\n}\n\nexit;\n</code></pre>\n\n<p>I can't seem to get it to loop properly, and am also struggling to use the first column/row to act as the name for the file. Any help will be tremendously appreciated!!! TIA</p>\n"}, {"tags": ["c++", "perl", "wxwidgets"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 3089170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69782426f694cdbfa66316c4aa3670a?s=128&d=identicon&r=PG&f=1", "display_name": "Jdun", "link": "https://stackoverflow.com/users/3089170/jdun"}, "edited": false, "score": 0, "creation_date": 1476745894, "post_id": 40061776, "comment_id": 67466786, "body": "Thanks for the reply VZ.  I may revisit this and give your suggestion a try.  I had to move on and worked around the sizing issue by locking down the form to prevent resizing and then accounted for the vertical scrollbar when it was in play."}], "tags": [], "owner": {"reputation": 18238, "user_id": 15275, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WNTZ3.jpg?s=128&g=1", "display_name": "VZ.", "link": "https://stackoverflow.com/users/15275/vz"}, "is_accepted": false, "score": 1, "last_activity_date": 1476550568, "creation_date": 1476550568, "answer_id": 40061776, "question_id": 40004369, "link": "https://stackoverflow.com/questions/40004369/wxwidgets-wx-perl-grid-sizing-issues/40061776#40061776", "title": "Wxwidgets / Wx Perl grid sizing issues", "body": "<p>There is too much code here to read it all carefully, but one thing that immediately seems suspicious to me is that you don't call <code>$event-&gt;Skip()</code> on the event in your <code>on_size</code> handler. The <code>EVT_SIZE</code> handler should almost invariably call <code>Skip()</code> to allow the default handling of the size event to take place, so while it might not explain all of your problems, I'd be surprised if it didn't explain at least some of them.</p>\n"}], "owner": {"reputation": 63, "user_id": 3089170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69782426f694cdbfa66316c4aa3670a?s=128&d=identicon&r=PG&f=1", "display_name": "Jdun", "link": "https://stackoverflow.com/users/3089170/jdun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476550568, "creation_date": 1476291808, "last_edit_date": 1476390881, "question_id": 40004369, "link": "https://stackoverflow.com/questions/40004369/wxwidgets-wx-perl-grid-sizing-issues", "title": "Wxwidgets / Wx Perl grid sizing issues", "body": "<p>Ok.  I've been stuck on this for several days now and I'm at wits end here.  I'm by no means an expert in Perl.</p>\n\n<p>I'm writing a GUI app using WxPerl.  To cut down on the noise, I've recreated a portion of the app where I'm having issues.  I designed the layout in FormBuilder, then used the resulting XRC file.  The XRC data is included below, save it in a file called noname.xrc.</p>\n\n<p>In a nutshell, the GUI has two grids (left and right), with two buttons in the middle.  For testing, there's an \"add row\" button at the top of the main frame, which adds a row to the left grid.  I wrote an EVT_SIZE function to adjust the last column of the grid on the left to fill the remaining space, which then modifies the grid on the right in the same way to keep them equal proportions.</p>\n\n<p>Issues:</p>\n\n<p>1) Click the add button 20 times, then adjust the size of the main frame window.  Notice how the grid all of a sudden expands and eats up the entire bottom of the frame.  Click the add button a few more times and it continues eating up the bottom... I can't seem to get the height to adjust to prevent it from eating up the bottom portion.  Maybe there's an obvious form setting I'm missing?  Even removing the growablecols flag from the wxGridBagSizer doesn't stop this from happening.</p>\n\n<p>2) An annoying visual issue, which is probably related to the proportional sizing.  Basically, there's border padding on each side of the grid (5x2), which is 10.  So I've subtracted 11 from the width before it is set, but ideally it should be 10.  However, if it's set to 10, when resizing occurs the last column keeps growing forever...</p>\n\n<p>3) If you click the \"Maximize\" button in the top right corner of the main frame, then click it again (it's called \"Restore Down\" then), to revert it back to the previous size, you'll see that the right grid never adjusts obviously, since the left grid hasn't changed size which never triggers the EVT_SIZE event... I've been brainstorming how to fix this, maybe the on size event can check the position of the right grid and determine if it's beyond the width of the main frame?  Is there an easier way to get this to size properly?</p>\n\n<p>Ideally, I'd like to set minimum sizes for certain grid columns, but have all the columns grow as the main window is resized.  But that's probably a pipe-dream at this point.</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage wxToplevelFrame;\n use strict;\n use warnings;\n use Wx qw(:everything);\n use Wx::Grid;\n use Wx::XRC;\n use base 'Wx::Frame';\n use Data::Dumper;\n use diagnostics;\n\n# import event registration function\nuse Wx::Event qw(:everything);\n\nuse base qw(Wx::Panel Class::Accessor::Fast);\n__PACKAGE__-&gt;mk_ro_accessors( qw(xrc) );\n\n$| = 1;\n\n### GUI CODE BEGINS ###\n\n# create specialized constructor for new subclass\nsub new {\n    my $class = shift;\n    my $self = $class-&gt;SUPER::new();\n\n    $self-&gt;initialize();    \n    return $self;\n}\n\n\nsub initialize {\n    my ($self) = @_;\n\n    my $xrc_path = 'noname.xrc';\n\n    Wx::InitAllImageHandlers();\n\n    $self-&gt;{ xrc } = Wx::XmlResource-&gt;new();\n    $self-&gt;xrc-&gt;InitAllHandlers();\n    $self-&gt;xrc-&gt;Load($xrc_path);\n    $self-&gt;xrc-&gt;LoadFrame($self, undef, 'MyFrame1',);\n\n    # main frame close\n    EVT_CLOSE( $self, \n        sub {\n            my ($self) = @_;\n            $self-&gt;Destroy();\n        }\n    );\n\n\n    # LEFT GRID\n    my $grid_left = $self-&gt;{ grid_left } = $self-&gt;FindWindow('m_grid4');\n    $grid_left-&gt;CreateGrid(0, 3);\n\n    $grid_left-&gt;SetColLabelSize(25); # label height\n    $grid_left-&gt;SetRowLabelSize(25); # row width (far left, the numbers column basically)\n\n    $grid_left-&gt;SetColLabelValue(0, 'col_1');\n    $grid_left-&gt;SetColLabelValue(1, 'col_2');\n    $grid_left-&gt;SetColLabelValue(2, 'col_3');\n\n    $grid_left-&gt;EnableDragColSize(0);\n    $grid_left-&gt;EnableDragRowSize(0);\n    $grid_left-&gt;EnableEditing(0);\n\n    $grid_left-&gt;SetDefaultRowSize(20);\n\n    $grid_left-&gt;SetColSize( 0, 190 ); # col 1\n    $grid_left-&gt;SetColSize( 1, 50 );  # col 2\n    $grid_left-&gt;SetColSize( 2, 179 ); # col 3\n\n\n    # RIGHT GRID\n    my $grid_right = $self-&gt;{ grid_right } = $self-&gt;FindWindow('m_grid5');\n\n    $grid_right-&gt;CreateGrid(0, 3);\n\n    $grid_right-&gt;SetColLabelSize(25); # label height\n    $grid_right-&gt;SetRowLabelSize(25); # row width (far left, the numbers column basically)\n\n    $grid_right-&gt;SetColLabelValue(0, 'col_');\n    $grid_right-&gt;SetColLabelValue(1, 'col_2');\n    $grid_right-&gt;SetColLabelValue(2, 'col_3');\n\n    $grid_right-&gt;EnableDragColSize(0);\n    $grid_right-&gt;EnableDragRowSize(0);\n    $grid_right-&gt;EnableEditing(0);\n\n    $grid_right-&gt;SetDefaultRowSize(20);\n\n    $grid_right-&gt;SetColSize( 0, 190 ); # col 1\n    $grid_right-&gt;SetColSize( 1, 50 );  # col 2\n    $grid_right-&gt;SetColSize( 2, 179 ); # col 3\n\n    #EVT_SIZE( $grid_left, \\&amp;on_size ); # adjust grid when size changes\n    #EVT_SIZE( $grid_right, \\&amp;on_size ); # adjust grid when size changes\n\n    my $on_size = \\&amp;on_size;\n    EVT_SIZE($grid_left, callback($on_size, $self, $grid_left) );\n\n\n    my $button = $self-&gt;{ button } = $self-&gt;FindWindow('m_button3');\n\n    EVT_BUTTON(\n        $button,\n        $button-&gt;GetId(),\n        callback(my $button_sub = \\&amp;add_row, $self, $button),\n    );\n\n    my $gui_actions_text_ctrl = $self-&gt;FindWindow('m_textCtrl1');\n    my $gui_log = Wx::LogTextCtrl-&gt;new( $gui_actions_text_ctrl );\n    $self-&gt;{ gui_log_text_ctrl } = Wx::Log::SetActiveTarget( $gui_log );\n\n    $self-&gt;SetStatusBarPane(-1);\n    return;\n}\n\nsub callback { \n    my $coderef = shift; \n    my @args = @_;\n\n    #print \"what is args\\n\";\n    #print Dumper \\@args;\n\n    sub { $coderef-&gt;(@args) } \n\n    # callback function.  when we want to pass addition args to a method call, such as an event (EVT_*), we can use this\n    # example:\n    # my $on_size_test = \\&amp;on_size_test;\n    # EVT_SIZE($grid_left, callback($on_size, $grid_left, $self) );\n} \n\nsub on_close {\n    my ($self) = @_;\n    $self-&gt;Destroy();\n}\n\nsub on_size {\n    my ($self, $grid) = @_;\n    print \"in on_size sub\\n\";\n\n    # get the number of columns and the initial width which includes the far left number column (gutter column, with row indicators 1, 2, 3 ...)\n    my $num_cols   = $grid-&gt;GetNumberCols();\n    my $width      = $grid-&gt;GetRowLabelSize();\n    my $gutter_col = $width;\n\n    print \"num_cols: $num_cols\\n\";\n    print \"initial width: $width\\n\";\n\n    my $col_0;\n    my $col_1;\n    my $col_2;\n\n    # iterate over each column, get size and add it to our width\n    for (my $col = 0; $col &lt; $num_cols; $col++) {\n\n        # conditionals of no importance currently, but used during testing\n        if ($col == 0) {\n            $col_0 = $grid-&gt;GetColSize($col);\n            print \"col: $col, width col_0: $col_0\\n\";\n\n        } elsif ($col == 1) {\n            $col_1 = $grid-&gt;GetColSize($col);\n            print \"col: $col, width col_1: $col_1\\n\";\n\n        } elsif ($col == 2) {\n            $col_2 = $grid-&gt;GetColSize($col);\n            print \"col: $col, width col_2: $col_2\\n\";\n        }\n        $width += $grid-&gt;GetColSize($col);\n    }\n\n    print \"width after iterating over each column: $width\\n\";\n\n    # get sizer that grid is contained in\n    # get width of sizer and subtract it from the total width\n    # the difference will be the size we set for our last column\n    if ($num_cols &gt; 0) {\n\n        my $static_box_sizer = $grid-&gt;GetContainingSizer();\n        my $sizer            = $static_box_sizer-&gt;GetSize();\n        my $sizer_width      = $sizer-&gt;GetWidth();\n\n        print \"sizer_width: $sizer_width\\n\";\n        print \"we are setting width for the last column.  sizer_width: $sizer_width minus the total width: $width (gutter_col: $gutter_col, col_0, col_1, col_2)\\n\";\n\n        my $width_diff = $sizer_width - $width + $col_2 - 11;   # ideally this should be 10 for padding (5x2) on each side of sizer\n                                                                # but setting it at 10 causes the col to keep expanding...\n\n        print \"width_diff result of above calc: $width_diff\\n\";\n\n        $grid-&gt;SetColSize($num_cols - 1, $width_diff); # last column\n\n        # adjust grid right to reflect same proportions\n        $self-&gt;{ grid_right }-&gt;SetColSize($num_cols - 1, $width_diff); # last column        \n    }\n\n    return;\n}\n\nsub add_row {\n    my ($self, $button) = @_;\n\n    $self-&gt;{ grid_left }-&gt;AppendRows(1);\n\n    my $col = 0;\n    foreach my $value ('testing', 100, 'Sat Aug 20 20:52:20 2016') {\n        my $row;    \n        if ($col == 3) {\n            $self-&gt;{ grid_left }-&gt;AppendRows(1);\n            $row = $self-&gt;{ grid_left }-&gt;GetNumberRows() - 1; # minus one from total rows\n            print \"col == 2\\n\";\n            print \"reset\\n\";\n            print \"what is row: $row\\n\";\n            $col = 0;\n        } else {\n            $row = $self-&gt;{ grid_left }-&gt;GetNumberRows() - 1;\n        }\n        print \"value: $value\\n\";\n\n        $self-&gt;{ grid_left }-&gt;SetCellValue(\n            $row,\n            $col,\n            $value,\n        );\n\n        if ($col == 1) {\n            $self-&gt;{ grid_left }-&gt;SetCellAlignment(\n                $row,\n                $col,\n                wxALIGN_RIGHT,\n                wxALIGN_CENTRE,\n            );\n\n        } elsif ($col == 2) {\n            $self-&gt;{ grid_left }-&gt;SetCellAlignment(\n                $row,\n                $col,\n                wxALIGN_CENTRE,\n                wxALIGN_CENTRE,\n            );\n        }\n        $col++;\n\n    }\n}\n### GUI CODE ENDS ###\n\n# END: wxToplevelFrame package\n\n\n# create an app object\npackage MyApp;\n use strict;\n use warnings;\n use base 'Wx::App';\n\n# OnInit is called automatically when an app object is first constructed\nsub OnInit {\n    my $self = shift;\n    my $toplevel_frame = wxToplevelFrame-&gt;new();\n    $self-&gt;SetTopWindow($toplevel_frame);   \n    $toplevel_frame-&gt;Show(1);\n}\n# END: MyApp package\n\n\npackage main;\n use strict;\n use warnings;\n use Data::Dumper;\n\n$| = 1;\n\nmy $app = MyApp-&gt;new(); # instantiate our app first\n$app-&gt;MainLoop();\n\nexit;\n</code></pre>\n\n<p><strong>XRC file</strong>: noname.xrc</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\" ?&gt;\n&lt;resource xmlns=\"http://www.wxwindows.org/wxxrc\" version=\"2.3.0.1\"&gt;\n    &lt;object class=\"wxFrame\" name=\"MyFrame1\"&gt;\n        &lt;style&gt;wxCAPTION|wxCLOSE_BOX|wxMAXIMIZE_BOX|wxMINIMIZE_BOX|wxRESIZE_BORDER|wxSYSTEM_MENU|wxFULL_REPAINT_ON_RESIZE|wxTAB_TRAVERSAL&lt;/style&gt;\n        &lt;size&gt;998,700&lt;/size&gt;\n        &lt;title&gt;Grid Issues&lt;/title&gt;\n        &lt;centered&gt;1&lt;/centered&gt;\n        &lt;aui_managed&gt;0&lt;/aui_managed&gt;\n        &lt;object class=\"wxPanel\" name=\"m_panel6\"&gt;\n            &lt;style&gt;wxTAB_TRAVERSAL&lt;/style&gt;\n            &lt;object class=\"wxBoxSizer\"&gt;\n                &lt;orient&gt;wxVERTICAL&lt;/orient&gt;\n                &lt;object class=\"sizeritem\"&gt;\n                    &lt;option&gt;1&lt;/option&gt;\n                    &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                    &lt;border&gt;5&lt;/border&gt;\n                    &lt;object class=\"wxFlexGridSizer\"&gt;\n                        &lt;rows&gt;0&lt;/rows&gt;\n                        &lt;cols&gt;6&lt;/cols&gt;\n                        &lt;vgap&gt;0&lt;/vgap&gt;\n                        &lt;hgap&gt;0&lt;/hgap&gt;\n                        &lt;growablecols&gt;&lt;/growablecols&gt;\n                        &lt;growablerows&gt;&lt;/growablerows&gt;\n                        &lt;object class=\"sizeritem\"&gt;\n                            &lt;option&gt;0&lt;/option&gt;\n                            &lt;flag&gt;wxALL&lt;/flag&gt;\n                            &lt;border&gt;5&lt;/border&gt;\n                            &lt;object class=\"wxButton\" name=\"m_button3\"&gt;\n                                &lt;label&gt;add row&lt;/label&gt;\n                                &lt;default&gt;0&lt;/default&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                    &lt;/object&gt;\n                &lt;/object&gt;\n                &lt;object class=\"sizeritem\"&gt;\n                    &lt;option&gt;3&lt;/option&gt;\n                    &lt;flag&gt;wxEXPAND|wxLEFT|wxRIGHT&lt;/flag&gt;\n                    &lt;border&gt;5&lt;/border&gt;\n                    &lt;object class=\"wxGridBagSizer\"&gt;\n                        &lt;vgap&gt;0&lt;/vgap&gt;\n                        &lt;hgap&gt;0&lt;/hgap&gt;\n                        &lt;growablecols&gt;0,2&lt;/growablecols&gt;\n                        &lt;growablerows&gt;0&lt;/growablerows&gt;\n                        &lt;object class=\"sizeritem\"&gt;\n                            &lt;cellpos&gt;0,0&lt;/cellpos&gt;\n                            &lt;cellspan&gt;1,1&lt;/cellspan&gt;\n                            &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                            &lt;border&gt;5&lt;/border&gt;\n                            &lt;object class=\"wxStaticBoxSizer\"&gt;\n                                &lt;orient&gt;wxHORIZONTAL&lt;/orient&gt;\n                                &lt;label&gt;left&lt;/label&gt;\n                                &lt;object class=\"sizeritem\"&gt;\n                                    &lt;option&gt;1&lt;/option&gt;\n                                    &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                                    &lt;border&gt;5&lt;/border&gt;\n                                    &lt;object class=\"wxGrid\" name=\"m_grid4\" /&gt;\n                                &lt;/object&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                        &lt;object class=\"sizeritem\"&gt;\n                            &lt;cellpos&gt;0,1&lt;/cellpos&gt;\n                            &lt;cellspan&gt;1,1&lt;/cellspan&gt;\n                            &lt;flag&gt;wxALIGN_CENTER_HORIZONTAL|wxALIGN_CENTER_VERTICAL&lt;/flag&gt;\n                            &lt;border&gt;5&lt;/border&gt;\n                            &lt;object class=\"wxBoxSizer\"&gt;\n                                &lt;orient&gt;wxVERTICAL&lt;/orient&gt;\n                                &lt;object class=\"sizeritem\"&gt;\n                                    &lt;option&gt;0&lt;/option&gt;\n                                    &lt;flag&gt;wxALL&lt;/flag&gt;\n                                    &lt;border&gt;5&lt;/border&gt;\n                                    &lt;object class=\"wxButton\" name=\"m_button4\"&gt;\n                                        &lt;style&gt;wxBU_EXACTFIT&lt;/style&gt;\n                                        &lt;label&gt;&amp;gt;&lt;/label&gt;\n                                        &lt;default&gt;0&lt;/default&gt;\n                                    &lt;/object&gt;\n                                &lt;/object&gt;\n                                &lt;object class=\"sizeritem\"&gt;\n                                    &lt;option&gt;0&lt;/option&gt;\n                                    &lt;flag&gt;wxALL&lt;/flag&gt;\n                                    &lt;border&gt;5&lt;/border&gt;\n                                    &lt;object class=\"wxButton\" name=\"m_button5\"&gt;\n                                        &lt;style&gt;wxBU_EXACTFIT&lt;/style&gt;\n                                        &lt;label&gt;&amp;lt;&lt;/label&gt;\n                                        &lt;default&gt;0&lt;/default&gt;\n                                    &lt;/object&gt;\n                                &lt;/object&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                        &lt;object class=\"sizeritem\"&gt;\n                            &lt;cellpos&gt;0,2&lt;/cellpos&gt;\n                            &lt;cellspan&gt;1,1&lt;/cellspan&gt;\n                            &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                            &lt;border&gt;5&lt;/border&gt;\n                            &lt;object class=\"wxStaticBoxSizer\"&gt;\n                                &lt;orient&gt;wxHORIZONTAL&lt;/orient&gt;\n                                &lt;label&gt;right&lt;/label&gt;\n                                &lt;object class=\"sizeritem\"&gt;\n                                    &lt;option&gt;1&lt;/option&gt;\n                                    &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                                    &lt;border&gt;5&lt;/border&gt;\n                                    &lt;object class=\"wxGrid\" name=\"m_grid5\" /&gt;\n                                &lt;/object&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                    &lt;/object&gt;\n                &lt;/object&gt;\n                &lt;object class=\"sizeritem\"&gt;\n                    &lt;option&gt;2&lt;/option&gt;\n                    &lt;flag&gt;wxEXPAND | wxALL&lt;/flag&gt;\n                    &lt;border&gt;5&lt;/border&gt;\n                    &lt;object class=\"wxNotebook\" name=\"m_notebook2\"&gt;\n                        &lt;object class=\"notebookpage\"&gt;\n                            &lt;label&gt;a page&lt;/label&gt;\n                            &lt;selected&gt;0&lt;/selected&gt;\n                            &lt;object class=\"wxPanel\" name=\"m_panel2\"&gt;\n                                &lt;style&gt;wxTAB_TRAVERSAL&lt;/style&gt;\n                                &lt;object class=\"wxBoxSizer\"&gt;\n                                    &lt;orient&gt;wxHORIZONTAL&lt;/orient&gt;\n                                    &lt;object class=\"sizeritem\"&gt;\n                                        &lt;option&gt;1&lt;/option&gt;\n                                        &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                                        &lt;border&gt;5&lt;/border&gt;\n                                        &lt;object class=\"wxTextCtrl\" name=\"m_textCtrl1\"&gt;\n                                            &lt;value&gt;&lt;/value&gt;\n                                        &lt;/object&gt;\n                                    &lt;/object&gt;\n                                &lt;/object&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                    &lt;/object&gt;\n                &lt;/object&gt;\n            &lt;/object&gt;\n        &lt;/object&gt;\n        &lt;object class=\"wxStatusBar\" name=\"m_statusBar1\"&gt;\n            &lt;style&gt;wxST_SIZEGRIP&lt;/style&gt;\n            &lt;fields&gt;2&lt;/fields&gt;\n        &lt;/object&gt;\n    &lt;/object&gt;\n&lt;/resource&gt;\n</code></pre>\n\n<p>Any help greatly appreciated,</p>\n\n<p>Thanks,</p>\n\n<p>-Jdun</p>\n"}, {"tags": ["perl", "hash", "compare", "key"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1476291186, "post_id": 40003747, "comment_id": 67286133, "body": "Its not entirely clear on what you are expecting.  Could you provide some input and expected output?"}, {"owner": {"reputation": 23, "user_id": 6199122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e058f381e265d96e11c41c5e66b9af12?s=128&d=identicon&r=PG&f=1", "display_name": "Jule", "link": "https://stackoverflow.com/users/6199122/jule"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476293230, "post_id": 40003747, "comment_id": 67287401, "body": "ok I see I forgot to make clear, that I have thousands of intervals and even more pairs of numbers, sorry!  so I wanted to avoid to go through each pair and interval in nested for loops :("}, {"owner": {"reputation": 23, "user_id": 6199122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e058f381e265d96e11c41c5e66b9af12?s=128&d=identicon&r=PG&f=1", "display_name": "Jule", "link": "https://stackoverflow.com/users/6199122/jule"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476293270, "post_id": 40003747, "comment_id": 67287426, "body": "also, the format of input does not matter so much"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476292284, "post_id": 40004440, "comment_id": 67286812, "body": "OP is probably preprocessing data for a statistical test."}, {"owner": {"reputation": 607, "user_id": 6712483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/014a02423bc67af28dfa8ef3d33d6029?s=128&d=identicon&r=PG", "display_name": "Sunny Pun", "link": "https://stackoverflow.com/users/6712483/sunny-pun"}, "edited": false, "score": 0, "creation_date": 1476292738, "post_id": 40004440, "comment_id": 67287095, "body": "From OP&#39;s desired output, it seems that OP wants high and low to be recorded separately for all intervals. A dirty way would be using <code>$inter-&gt;[2]</code> as high and 3 as low - a better way may be defining <code>@records</code> and loop with <code>$i</code> so can alter the values <code>$records-&gt;[$i]-&gt;[0]</code> for high."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 607, "user_id": 6712483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/014a02423bc67af28dfa8ef3d33d6029?s=128&d=identicon&r=PG", "display_name": "Sunny Pun", "link": "https://stackoverflow.com/users/6712483/sunny-pun"}, "edited": false, "score": 0, "creation_date": 1476295522, "post_id": 40004440, "comment_id": 67288782, "body": "@SunnyPun  Thank you for the comment -- yes, it looked like that, but I just wasn&#39;t sure.  Added to the answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476295729, "post_id": 40004440, "comment_id": 67288913, "body": "@Jule I added a version to keep counters for each interval."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1476343188, "last_edit_date": 1476343188, "creation_date": 1476292045, "answer_id": 40004440, "question_id": 40003747, "link": "https://stackoverflow.com/questions/40003747/perl-assign-interval-to-number-with-hash-keys-increment-counter-if-number-is-i/40004440#40004440", "title": "perl: assign interval to number with hash keys, increment counter if number is in interval", "body": "<p>If the counters are to be kept for each interval we can record them in a data structure of choice. For example, store counters for each interval in a hash with the key being the interval index and low-high counters being in a two-element refarray as its value.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\nmy @intervals = ( [1,10], [11,20], [21,30] );\nmy @pairs     = ( [5,15], [24, 13] );\n\nmy %counter = map { $_ =&gt; [0,0] } (0..$#intervals);  # initialize\n\nforeach my $i (0..$#intervals) \n{\n    foreach my $pair (@pairs)\n    {   \n        my ($beg, $end) = @{$intervals[$i]};\n        my ($pl, $pr)   = @$pair;\n\n        if ($pl &gt;= $beg and $pl &lt;= $end) \n        {   \n            if ($pr &gt; $pl) { ++$counter{$i}[1] }   \n            else           { ++$counter{$i}[0] }   \n        }   \n    }   \n}\n\nprint \"$_ =&gt; @{$counter{$_}}\\n\" for sort keys %counter;\n</code></pre>\n\n<p>This is still rudimentary, in order to be easier to adjust. For one thing, since the hash uses the index of <code>@intervals</code> array it may well be an array (with arrayrefs) itself.  Another possibility is to use a hash with keys like <code>low</code> and <code>high</code> for counters instead of a two-element array.</p>\n\n<hr>\n\n<p>In order to use start of interval as a key</p>\n\n<pre><code>my %counter = map { $_-&gt;[0] =&gt; [0,0] } @intervals;  # initialize\n\nfor my $inter (@intervals) {\n    for my $pair (@pairs) {\n        my ($beg, $end) = @$inter;\n        my ($pl, $pr)   = @$pair;\n\n        if ($pl &gt;= $beg and $pr &lt;= $end) \n        {   \n            if ($pr &gt; $pl) { ++$counter{$beg}[1] }\n            else           { ++$counter{$end}[0] }\n        }\n    }\n}\nprintf(\"%3d =&gt; @{$counter{$_}}\\n\", $_) for sort keys %counter;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1476292260, "creation_date": 1476292260, "answer_id": 40004503, "question_id": 40003747, "link": "https://stackoverflow.com/questions/40003747/perl-assign-interval-to-number-with-hash-keys-increment-counter-if-number-is-i/40004503#40004503", "title": "perl: assign interval to number with hash keys, increment counter if number is in interval", "body": "<p>Something like this maybe?</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse List::MoreUtils qw( first_index );\n\nsub interval_to_key { sprintf '(%d,%d)', @{ $_[0] } }\n\nmy @intervals = (\n    [  1, 10 ],\n    [ 11, 20 ],\n    [ 21, 30 ],\n);\n\nmy @upper_bounds = map $_-&gt;[0], @intervals;\n\nmy @pairs = (\n    [  5, 15 ],\n    [ 24, 13 ],\n);\n\nmy @keys = qw( ascending descending );\n\nmy %counts;\n\nfor my $interval ( @intervals ) {\n    @{ $counts{ interval_to_key($interval) } }{ @keys } = (0) x @keys;\n}\n\nfor my $pair ( @pairs ) {\n    my $is_ascending = ($pair-&gt;[0] &lt;= $pair-&gt;[1]);\n\n    my $i = first_index { $pair-&gt;[0] &lt;= $_ } @upper_bounds;\n\n    ++ $counts{ interval_to_key( $intervals[$i]) }{ $keys[1 - $is_ascending] };\n}\n\nuse Data::Dumper;\nprint Dumper \\%counts;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6199122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e058f381e265d96e11c41c5e66b9af12?s=128&d=identicon&r=PG&f=1", "display_name": "Jule", "link": "https://stackoverflow.com/users/6199122/jule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1476343188, "creation_date": 1476289747, "last_edit_date": 1476293340, "question_id": 40003747, "link": "https://stackoverflow.com/questions/40003747/perl-assign-interval-to-number-with-hash-keys-increment-counter-if-number-is-i", "title": "perl: assign interval to number with hash keys, increment counter if number is in interval", "body": "<p>I have several pairs of numbers and want to check whether the first one falls into a given interval. If so, I want to increment one of two counters for that interval, depending on whether the second number of the pair is higher or lower than the first.</p>\n\n<p>The intervals are simple and look like 1-10,11-20,21-30 etc. The pairs of numbers look like (5,15),(24,13) etc. But I have several thousand of each. The exact format of input does not matter so much.</p>\n\n<p>The desired outcome looks like this</p>\n\n<pre><code>1-10: higher=1, lower=0\n11-20: higher=0,lower=0\n21-30: higher=0,lower=1\n</code></pre>\n\n<p>My idea was to create a hash with the interval start as key and store the two counters in the value.</p>\n\n<pre><code>for(my $i = $start;$i&lt;=$end;$i = ($i+$intervalsize)){\n    my $counter1 = 0;\n    my $counter2 = 0;\n    @{$hash{$i}} = ($counter1,$counter2);\n</code></pre>\n\n<p>but now I don't know how to compare the numbers with the keys and how to address the counters.\nThank you for any help!</p>\n"}, {"tags": ["perl", "solaris"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1476285894, "post_id": 40002381, "comment_id": 67282615, "body": "And if you want integers, see <a href=\"http://stackoverflow.com/q/178539/176646\">How do you round a floating point number in Perl?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 3, "last_activity_date": 1476285847, "creation_date": 1476285847, "answer_id": 40002450, "question_id": 40002381, "link": "https://stackoverflow.com/questions/40002381/perl-get-file-age-round-numbers/40002450#40002450", "title": "Perl get file age, round numbers", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/printf.html\" rel=\"nofollow\">printf</a>:</p>\n\n<pre><code>perl -l -e 'printf \"%.2f days\", -M $ARGV[0]' file\n</code></pre>\n"}], "owner": {"reputation": 515, "user_id": 1053904, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/61c1d46c26a07b4ad09f84704231db67?s=128&d=identicon&r=PG", "display_name": "Ben Coughlan", "link": "https://stackoverflow.com/users/1053904/ben-coughlan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "closed_date": 1476334885, "accepted_answer_id": 40002450, "answer_count": 1, "score": 0, "last_activity_date": 1476334906, "creation_date": 1476285661, "last_edit_date": 1476334906, "question_id": 40002381, "link": "https://stackoverflow.com/questions/40002381/perl-get-file-age-round-numbers", "closed_reason": "Duplicate", "title": "Perl get file age, round numbers", "body": "<p>I have the following command. </p>\n\n<pre><code>perl -l -e 'print -M $ARGV[0], \" days\"' $testfile\n</code></pre>\n\n<p>It works fine, in that it gives me the correct age, and works on solaris, linux, unix, as required. </p>\n\n<p>However, the format is </p>\n\n<pre><code>\"1.000000394945 days.\"\n</code></pre>\n\n<p>I'd like to round this down to make the post-processing easier to something like </p>\n\n<pre><code>\"1.00 days.\"\n</code></pre>\n\n<p>Any idea how one might modify this to make them whole numbers? </p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476283227, "post_id": 40001385, "comment_id": 67280702, "body": "Have you tried running <a href=\"http://dev.mysql.com/doc/refman/5.7/en/mysqlcheck.html\" rel=\"nofollow noreferrer\">mysqlcheck</a>?"}, {"owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476464136, "post_id": 40001385, "comment_id": 67372696, "body": "Thanks for the tip. I will check that function out. However, it is used to check tables and in this case it was the server I could not communicate with."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476465137, "post_id": 40001385, "comment_id": 67373185, "body": "&quot;The server has gone away&quot; means you lost your connection <i>after it was already established successfully.</i> This can happen when mysqld crashes. There are lots of possible causes for crashes, but one I&#39;ve seen is table corruption, which can be repaired with mysqlcheck."}, {"owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476560003, "post_id": 40001385, "comment_id": 67400635, "body": "I had this error many times before and reconnecting has always solved it until now.The strange thing about this time is that the error occurs immediately after connection, even a few milliseconds. MySQL had not crashed, it was still alive and well and the tables were not corrupt. I have read that MySQL does not treat localhost the same as 127.0.0.1. I don&#39;t know why, but my experience confirms this. Making this change solved the problem. &quot;localhost&quot; worked on Ubuntu, but I had to use &quot;127.0.0.1&quot; on CentOS. That&#39;s all I know."}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 1, "creation_date": 1477230670, "post_id": 40001385, "comment_id": 67671870, "body": "re: the difference between 127.0.0.1 and localhost: if you connect to <code>localhost</code> mysql will use a unix socket connection and if you connect to 127.0.0.1 mysql will use TCP/IP instead."}], "answers": [{"tags": [], "owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "is_accepted": false, "score": -1, "last_activity_date": 1476285302, "last_edit_date": 1476285302, "creation_date": 1476284971, "answer_id": 40002117, "question_id": 40001385, "link": "https://stackoverflow.com/questions/40001385/perl-dbi-mysql-server-has-gone-away-not-a-timeout-issue/40002117#40002117", "title": "perl DBI mysql server has gone away - Not a timeout issue", "body": "<p>Solved. I changed the host from localhost to 127.0.0.1 and it worked.</p>\n"}], "owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 809, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476285302, "creation_date": 1476282944, "question_id": 40001385, "link": "https://stackoverflow.com/questions/40001385/perl-dbi-mysql-server-has-gone-away-not-a-timeout-issue", "title": "perl DBI mysql server has gone away - Not a timeout issue", "body": "<p>There have been many posts with this question, so let me be clear about the salient features:</p>\n\n<ul>\n<li>it happens with perl DBI</li>\n<li>it happens with a $db->do('delete rows from table where condition')</li>\n<li>it happens immediately after the db object is created, ie the statement never succeeds, ever</li>\n<li>it happens with a script that works perfectly on my workstation but does not work on the server</li>\n<li>the mysql versions on both machines are the same:\nmysql  Ver 14.14 Distrib 5.7.15, for Linux (x86_64) using  EditLine wrapper</li>\n</ul>\n\n<p>I always get this error:</p>\n\n<p>DBD::mysql::db do failed: MySQL server has gone away at (eval 18)[/usr/share/perl5/perl5db.pl:646] line 2</p>\n\n<p>DBI_TRACE=1 does not reveal anything in particular</p>\n\n<p>What could be causing this?</p>\n\n<p>Many thanks in advance.</p>\n"}, {"tags": ["perl", "soap", "soaplite"], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1476288664, "post_id": 40003237, "comment_id": 67284611, "body": "Thanks for the reply Brian. I had a feeling it wouldn&#39;t be simple. I&#39;m thinking I&#39;m just going to do a replacement for &quot;normal&quot; characters: <code>tr{&#192;&#194;&#196;&#224;&#226;&#228;&#199;&#231;&#201;&#202;&#200;&#203;&#233;&#234;&#232;&#235;&#207;&#204;&#206;&#239;&#236;&#238;&#214;&#212;&#210;&#246;&#244;&#242;&#220;&#219;&#217;&#252;&#251;&#249;}{AAAaaaCcEEEEeeeeIIIii&zwnj;&#8203;iOOOoooUUUuuu};</code>. This is only a backend invoice system for myself, so its not imperative they have the proper accents"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1476301023, "last_edit_date": 1476301023, "creation_date": 1476288255, "answer_id": 40003237, "question_id": 40001224, "link": "https://stackoverflow.com/questions/40001224/netkashflow-doesnt-work-with-utf8-descriptions/40003237#40003237", "title": "Net::Kashflow - doesn&#39;t work with utf8 descriptions", "body": "<p>I think this is probably <a href=\"http://www.metacpan.org/module/SOAP::Lite\" rel=\"nofollow\">SOAP::Lite</a> deciding to convert things to base64 when it thinks they aren't a particular subset of ASCII. You'll find this heuristic in <em>SOAP/Lite.pm</em> in <code>SOAP::Serializer</code>:</p>\n\n<pre><code>$self-&gt;typelookup({\n       'base64Binary' =&gt;\n          [10, sub {$_[0] =~ /[^\\x09\\x0a\\x0d\\x20-\\x7f]/ }, 'as_base64Binary'],\n       'zerostring' =&gt;\n           [12, sub { $_[0] =~ /^0\\d+$/ }, 'as_string'],\n\n... many other types ...\n        'string' =&gt;\n           [100, sub {1}, 'as_string'],\n    });\n</code></pre>\n\n<p>This comes into play when SOAP::Lite doesn't know an object's type because no one has told it. I'm guessing that in the bowels of your program it's serializing <code>Description</code> and <code>typelookup</code> sticks its dirty mitts in.</p>\n\n<p>And from here you are on your own because SOAP::Lite is no fun. I would start by hacking on SOAP::Lite a bit to see what you can trace. Copy the <em>SOAP/Lite.pm</em> file somewhere and put that location in your <code>@INC</code>. That way you don't mess around with the original file. </p>\n\n<p>If you never want the base64, it might be as simple as deleting that line in <em>typelookup</em>, although declaring the <code>Description</code> type would be more proper (but also a rabbit's hole of work, potentially). The fast fix can stand in while you work on the right fix. </p>\n\n<p>There's also the Perlmonk's meditation <a href=\"http://www.perlmonks.org/?node_id=955106\" rel=\"nofollow\">How to convince SOAP::Lite to return UTF-8 data in responses as UTF-8?</a>.</p>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476301023, "creation_date": 1476282495, "question_id": 40001224, "link": "https://stackoverflow.com/questions/40001224/netkashflow-doesnt-work-with-utf8-descriptions", "title": "Net::Kashflow - doesn&#39;t work with utf8 descriptions", "body": "<p>I know this is a very old Perl module (5 or so years ago since the last update). I've found it useful for a project I'm doing though, that needs to be in Perl. Rather than starting from the bottom up, I've found this helpful to do the basics. I've already fixed up a few bugs with it - but this one I can't figure out</p>\n\n<p>The module in question is: <a href=\"https://github.com/simoncozens/Net-KashFlow\" rel=\"nofollow\">https://github.com/simoncozens/Net-KashFlow</a></p>\n\n<p>An example usage with the problem is:</p>\n\n<pre><code>my $kf = Net::KashFlow-&gt;new(username =&gt; q|foo@bar.com|, password =&gt; \"xxxx\" );\n\n my $i = $kf-&gt;create_invoice({\n     CustomerReference =&gt; \"0123-1111111\", CustomerID =&gt; 50108952,\n     CurrencyCode =&gt; \"EUR\"\n }) || die $!;\n\n\n$i-&gt;add_line({\n    Quantity =&gt; 1,\n    Description =&gt; \"\u00ed\u00e9\u00f3 foo bar test\",\n    Rate =&gt; 10,\n    VatAmount =&gt; 4,\n    VatRate =&gt; 0,\n    CurrencyCode =&gt; \"GBP\"\n});\n</code></pre>\n\n<p>This item gets added, but the \"Description\" value gets converted to:</p>\n\n<blockquote>\n  <p>7enzIGZvbyBiYXIgdGVzdA==</p>\n</blockquote>\n\n<p>If you use normal a-z 0-9 it works fine (and shows correctly). The issue seems to be that its encoding into base64, and then not being decoded correctly at the other end. My guess is that KashFlow are not going to \"fix\" this, so it really needs to be done this end. I'm not really familiar with the SOAP::Lite module (again, a pretty old module it seems!), but that's what it uses. </p>\n\n<p>This is the part I think that deals with adding a new \"line\" to the invoice:</p>\n\n<pre><code>InsertInvoiceLine =&gt; {\n    endpoint =&gt; 'https://securedwebapp.com/api/service.asmx',\n    soapaction =&gt; 'KashFlow/InsertInvoiceLine',\n    namespace =&gt; 'KashFlow',\n    parameters =&gt; [\n      SOAP::Data-&gt;new(name =&gt; 'UserName', type =&gt; 'xsd:string', attr =&gt; {}),\n      SOAP::Data-&gt;new(name =&gt; 'Password', type =&gt; 'xsd:string', attr =&gt; {}),\n      SOAP::Data-&gt;new(name =&gt; 'InvoiceID', type =&gt; 'xsd:int', attr =&gt; {}),\n      SOAP::Data-&gt;new(name =&gt; 'InvLine', type =&gt; 'tns:InvoiceLine', attr =&gt; {}),=&gt; {})\n    ], # end parameters\n  }, # end InsertInvoiceLine\n</code></pre>\n\n<p>You can see the structure here:</p>\n\n<p><a href=\"https://securedwebapp.com/api/service.asmx?op=InsertInvoiceLine\" rel=\"nofollow\">https://securedwebapp.com/api/service.asmx?op=InsertInvoiceLine</a></p>\n\n<p>After researching this, it was suggested that you tell <strong>SOAP::Lite</strong> to <em>not</em> convert utf8 into base64, using (I assume), something like:</p>\n\n<p>The structure is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;InsertInvoiceLine xmlns=\"KashFlow\"&gt;\n      &lt;UserName&gt;string&lt;/UserName&gt;\n      &lt;Password&gt;string&lt;/Password&gt;\n      &lt;InvoiceID&gt;int&lt;/InvoiceID&gt;\n      &lt;InvLine&gt;\n        &lt;Quantity&gt;decimal&lt;/Quantity&gt;\n        &lt;Description&gt;string&lt;/Description&gt;\n        &lt;Rate&gt;decimal&lt;/Rate&gt;\n        &lt;ChargeType&gt;int&lt;/ChargeType&gt;\n        &lt;VatRate&gt;decimal&lt;/VatRate&gt;\n        &lt;VatAmount&gt;decimal&lt;/VatAmount&gt;\n        &lt;ProductID&gt;int&lt;/ProductID&gt;\n        &lt;Sort&gt;int&lt;/Sort&gt;\n        &lt;ProjID&gt;int&lt;/ProjID&gt;\n        &lt;LineID&gt;int&lt;/LineID&gt;\n        &lt;ValuesInCurrency&gt;integer&lt;/ValuesInCurrency&gt;\n      &lt;/InvLine&gt;\n    &lt;/InsertInvoiceLine&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>So looks like its <strong>Body > InsertInvoiceLine  > InvLine > Description</strong>  .. but I'm unsure how I can tell it not to encode that particular string.</p>\n\n<p>Any advise would be much appreciated. While its not a major show stopper (as all the data is in the system), it would be much nicer/easier to see the item names as expected :)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "random"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1476278078, "post_id": 39998823, "comment_id": 67276799, "body": "This is confusing. The outputs are not integers, so there is no &quot;bigint&quot; format. Looking at <code>Math::Random::Secure</code>, I see no reason why you would be able to get anything other than a 32-bit pseudo-random integer at a time. Also, even under ideal conditions, the output is probably biased, because the module confuses floating point numbers with reals. Maybe you should revise the question to explain what your real goal is."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1476278651, "post_id": 39998823, "comment_id": 67277220, "body": "s/bigint/&quot;scientific notation&quot;/g"}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 1, "last_activity_date": 1476285432, "last_edit_date": 1476285432, "creation_date": 1476285086, "answer_id": 40002167, "question_id": 39998823, "link": "https://stackoverflow.com/questions/39998823/how-do-i-get-the-full-decimal-expansion-from-perls-mathrandomsecure/40002167#40002167", "title": "How do I get the full decimal expansion from Perl&#39;s Math::Random::Secure?", "body": "<p>You won't get the big numbers you are looking for. <a href=\"http://www.metacpan.org/module/Math::Random::Secure\" rel=\"nofollow\">Math::Random::Secure</a> is limited to 32-bit numbers. You'll need to use something else if you want larger numbers.</p>\n"}], "owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 40002167, "answer_count": 1, "score": 1, "last_activity_date": 1476285432, "creation_date": 1476275904, "last_edit_date": 1476284947, "question_id": 39998823, "link": "https://stackoverflow.com/questions/39998823/how-do-i-get-the-full-decimal-expansion-from-perls-mathrandomsecure", "title": "How do I get the full decimal expansion from Perl&#39;s Math::Random::Secure?", "body": "<p>Is the following problem with Math::Random::Secure fixable? For numbers greater than 2^32, the results are in scientific notation; unlike most modules, the string terminator quotes <code>''</code> and <code>\"\"</code> don't put this in normal integer form:</p>\n\n<pre><code>perl -MMath::Random::Secure -E \"say rand(10**300)\"\n1.02799411703931e+299\n\nperl -MMath::Random::Secure -E 'say rand(\"10**300\")'\n9.30305125498312e+299\n</code></pre>\n\n<p>I want my results to look like this, except much larger:</p>\n\n<pre><code>perl -MMath::Random::Secure -E 'say rand(\"10**12\")'\n200565369174.914\n</code></pre>\n\n<p>How can I get the full decimal expansion of these numbers rather than scientific notation? </p>\n"}, {"tags": ["xml", "perl", "web-services", "soap", "soaplite"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476271490, "post_id": 39997155, "comment_id": 67272473, "body": "You need one more upvote to edit in the links you want. Or you could make some meaningful edits to other questions. You want <a href=\"http://stackoverflow.com/help/privileges/new-user\">the new user restrictions</a> removed."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476271585, "post_id": 39997155, "comment_id": 67272528, "body": "Can you also please <a href=\"https://stackoverflow.com/posts/39997155/edit\">edit</a> and show the envelope you are sending?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476277511, "post_id": 39997155, "comment_id": 67276398, "body": "The module code looks odd here. It seems as though the <code>SOAP::Lite</code> object keeps its own copies of the version and corresponding strings, but it is the serializer that needs to use them. Please try <code>print $soap-&gt;soapversion, &quot;\\n&quot;</code> right after your <code>$soap-&gt;soapversion(&#39;1.2&#39;)</code> as well as <code>print $soap-&gt;serializer-&gt;soapversion, &quot;\\n&quot;</code> You could also see whether <code>$soap-&gt;serializer-&gt;soapversion(&#39;1.2&#39;)</code> works instead of your current code to call <code>soapversion</code>."}, {"owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "edited": false, "score": 0, "creation_date": 1583493996, "post_id": 39997155, "comment_id": 107145051, "body": "If anyone&#39;s still interested: I faced a similar issue, though the envelope version was erratic - sometimes it was 1.1 and sometimes 1.2. <code>$soap-&gt;serializer-&gt;soapversion(&#39;1.2&#39;)</code> made $soap-&gt;call return with no result at all. However, adding <code>$soap-&gt;envprefix(&#39;soap12&#39;)</code> as suggested here <a href=\"http://www.herongyang.com/Web-Services/Perl-SOAP-1-2-soapversion-and-envprefix-Methods.html\" rel=\"nofollow noreferrer\">herongyang.com/Web-Services/&hellip;</a> solved the issue for me"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 7003907, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154627094121912/picture?type=large", "display_name": "Ed Gray", "link": "https://stackoverflow.com/users/7003907/ed-gray"}, "is_accepted": false, "score": 1, "last_activity_date": 1476469644, "creation_date": 1476469644, "answer_id": 40049818, "question_id": 39997155, "link": "https://stackoverflow.com/questions/39997155/soaplite-perl-module-sends-wrong-soap-envelope-namespace/40049818#40049818", "title": "SOAP::Lite Perl Module Sends Wrong SOAP Envelope Namespace", "body": "<p>The answer to my question was provided by Borodin. The correct code is to use the soapversion method both on the SOAP::Lite object and the SOAP::Lite::Serializer object. Here is a working example:</p>\n\n<pre><code>my $soap = SOAP::Lite-&gt;new(proxy =&gt; 'https://sandbox.domainbox.net/');\n$soap-&gt;default_ns('https://sandbox.domainbox.net/');\n$soap-&gt;soapversion('1.2');\n$soap-&gt;serializer-&gt;soapversion('1.2');\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7003907, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154627094121912/picture?type=large", "display_name": "Ed Gray", "link": "https://stackoverflow.com/users/7003907/ed-gray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1476, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1476469644, "creation_date": 1476270756, "last_edit_date": 1476469219, "question_id": 39997155, "link": "https://stackoverflow.com/questions/39997155/soaplite-perl-module-sends-wrong-soap-envelope-namespace", "title": "SOAP::Lite Perl Module Sends Wrong SOAP Envelope Namespace", "body": "<p>I am having problems writing a SOAP/XML client to talk to an API provided by a company called Domainbox. I am writing the client in Perl using the SOAP::Lite Module/Library. I am getting the following error message:</p>\n\n<p>Possible SOAP version mismatch: Envelope namespace <a href=\"http://schemas.xmlsoap.org/soap/envelope/\" rel=\"nofollow\">http://schemas.xmlsoap.org/soap/envelope/</a> was unexpected. Expecting <a href=\"http://www.w3.org/2003/05/soap-envelope\" rel=\"nofollow\">http://www.w3.org/2003/05/soap-envelope</a>.</p>\n\n<p>This is because the library is sending the SOAP Envelope using a SOAP 1.1 Namespace and the server expects SOAP 1.2.</p>\n\n<p>But I cannot come up with a solution, I've tried explicitly setting $soap->soapversion('1.2'); in the SOAP::Lite object but this only affects the Envelope received in the response message, not the Envelope sent by the client.</p>\n\n<p>The server is running ASP.net and doesn't seem to want to accept SOAP version 1.1 messages.</p>\n\n<p>Querying the soapversion() method by default it returns version 1.1 and when I change it to 1.2 it returns 1.2 but internally it is clearly ignoring this somewhere.</p>\n\n<p>The WSDL doesn't seem to define xmlns:soap or xmlns:soap12 properly but SOAP::Lite isn't using those Namespaces either. I would provide a link but I am not allowed to post more than two on here.</p>\n\n<p>I tried also using the service() method of SOAP::Lite but that made no difference at all.</p>\n\n<p>Here's the code I'm using:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse SOAP::Lite;\nuse Data::Dumper;\n\n### API Info\nmy $reseller = 'Removed';\nmy $username = 'Removed';\nmy $password  = 'Removed';\n\nmy $soap = SOAP::Lite-&gt;new(proxy =&gt; 'https://sandbox.domainbox.net/');\n$soap-&gt;default_ns('https://sandbox.domainbox.net/');\n$soap-&gt;soapversion('1.2');\n\nmy $header = SOAP::Header-&gt;new-&gt;attr({xmlns =&gt; 'https://sandbox.domainbox.net/'});\n\nmy $body = SOAP::Data-&gt;name('CheckDomainAvailability' =&gt; \\SOAP::Data-&gt;value(\n            SOAP::Data-&gt;name('AuthenticationParameters' =&gt; \\SOAP::Data-&gt;value(\n                SOAP::Data-&gt;name('Reseller' =&gt; $reseller),\n                SOAP::Data-&gt;name('Username' =&gt; $username),\n                SOAP::Data-&gt;name('Password' =&gt; $password),\n            )\n        )\n    )\n);\n\n$soap-&gt;on_action( sub { \"https://sandbox.domainbox.net/\" });\nmy $som = $soap-&gt;call('',\n$header,\n$body\n);\n\ndie $som-&gt;faultstring if ($som-&gt;fault);\nprint $som-&gt;result, \"\\n\";\n\n#print Dumper($som);\n</code></pre>\n\n<p>Additional:</p>\n\n<p>The xmlns:soap attribute in the envelope is set to <a href=\"http://schemas.xmlsoap.org/soap/envelope\" rel=\"nofollow\">http://schemas.xmlsoap.org/soap/envelope</a> regardless of the soapversion setting in the class. I am thinking it's a bug in the Perl module or something strange about the WSDL that is causing it. Here's the WSDL: <a href=\"http://sandbox.domainbox.net/?WSDL\" rel=\"nofollow\">http://sandbox.domainbox.net/?WSDL</a></p>\n\n<p>XML Request Message:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;Envelope \nsoap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" \nxmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" \nxmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" \nxmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org\n/2001/XMLSchema-instance\"&gt;&lt;Header&gt;&lt;c-gensym3 \nxmlns=\"https://sandbox.domainbox.net/\" /&gt;&lt;/Header&gt;&lt;Body&gt;&lt;DomainboxAPI \nxmlns=\"https://sandbox.domainbox.net/\"&gt;&lt;CheckDomainAvailability&gt;\n&lt;AuthenticationParameters&gt;&lt;Reseller \nxsi:type=\"xsd:string\"&gt;Removed&lt;/Reseller&gt;&lt;Username \nxsi:type=\"xsd:string\"&gt;Removed&lt;/Username&gt;&lt;Password \nxsi:type=\"xsd:string\"&gt;Removed&lt;/Password&gt;&lt;/AuthenticationParameters&gt;\n&lt;/CheckDomainAvailability&gt;&lt;/DomainboxAPI&gt;&lt;/Body&gt;&lt;/Envelope&gt;\n</code></pre>\n\n<p>XML Response Message:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;soap:Envelope \nxmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;&lt;soap:Header&gt;\n&lt;soap12:Upgrade xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"&gt;\n&lt;soap12:SupportedEnvelope qname=\"soap12:Envelope\" \nxmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"/&gt;&lt;/soap12:Upgrade&gt;\n&lt;/soap:Header&gt;&lt;soap:Body&gt;&lt;soap:Fault&gt;&lt;soap:Code&gt;\n&lt;soap:Value&gt;soap:VersionMismatch&lt;/soap:Value&gt;&lt;/soap:Code&gt;&lt;soap:Reason&gt;\n&lt;soap:Text xml:lang=\"en\"&gt;Possible SOAP version mismatch: Envelope \nnamespace  was unexpected. Expecting http://www.w3.org/2003/05/soap-\nenvelope.&lt;/soap:Text&gt;&lt;/soap:Reason&gt;&lt;soap:Detail /&gt;&lt;/soap:Fault&gt;\n&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>Update:</p>\n\n<p>Thanks Borodin, you were spot on. The SOAP::Lite module doesn't seem to pass the soapversion parameter on to the SOAP::Lite::Serializer object. I now use the following code to initialize the SOAP object and it works perfectly.</p>\n\n<pre><code>my $soap = SOAP::Lite-&gt;new(proxy =&gt; 'https://sandbox.domainbox.net/');\n$soap-&gt;default_ns('https://sandbox.domainbox.net/');\n$soap-&gt;soapversion('1.2');\n$soap-&gt;serializer-&gt;soapversion('1.2');\n</code></pre>\n\n<p>I should point out that I had to also adjust my code to suit the XML format required by Domainbox but I am now getting a valid response.</p>\n\n<p>My only issue now is how to deal with the Hash reference that the SOAP::Lite::SOM returns as the result of the message. I think that requires a separate question though.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 5, "creation_date": 1476268933, "post_id": 39996521, "comment_id": 67270876, "body": "This kind of problem is sometimes symptomatic of poor design."}, {"owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 1, "creation_date": 1476268964, "post_id": 39996521, "comment_id": 67270895, "body": "This just has to be a database design mistake."}, {"owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 0, "creation_date": 1476269029, "post_id": 39996521, "comment_id": 67270939, "body": "This will depend on a number of things and if you even have one variable lenght column on a row, each row will potentially be a different size"}, {"owner": {"reputation": 367, "user_id": 4266540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GxWGD.jpg?s=128&g=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266540/vasanth"}, "edited": false, "score": 0, "creation_date": 1476269045, "post_id": 39996521, "comment_id": 67270945, "body": "We have no other option now. The database created 15 years back. Please anyone help me to figure out the solution."}, {"owner": {"reputation": 186087, "user_id": 575376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LnDUq.gif?s=128&g=1", "display_name": "juergen d", "link": "https://stackoverflow.com/users/575376/juergen-d"}, "edited": false, "score": 0, "creation_date": 1476269099, "post_id": 39996521, "comment_id": 67270977, "body": "<code>select length(col1) + length(col2) +  ...</code>"}, {"owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 2, "creation_date": 1476269207, "post_id": 39996521, "comment_id": 67271038, "body": "<i>The database created 15 years back</i> Dont tell me the original designer is now the manager, right?"}, {"owner": {"reputation": 367, "user_id": 4266540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GxWGD.jpg?s=128&g=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266540/vasanth"}, "edited": false, "score": 0, "creation_date": 1476269346, "post_id": 39996521, "comment_id": 67271128, "body": "I am not sure who created it :)"}, {"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 2, "creation_date": 1476269379, "post_id": 39996521, "comment_id": 67271154, "body": "If I had a nickel..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476281693, "post_id": 39996521, "comment_id": 67279555, "body": "@ThisSuitIsBlackNot I was confident. Just confused that I could hammer it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476359445, "post_id": 39996521, "comment_id": 67317046, "body": "Why do you need to know this information? What are you going to do with the number once you have found it? Are you referring to to the maximum possible space occupied by all the fields in a record? Do you have any true varchar fields?"}], "owner": {"reputation": 367, "user_id": 4266540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GxWGD.jpg?s=128&g=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266540/vasanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "closed_date": 1476271909, "answer_count": 0, "score": 1, "last_activity_date": 1476271413, "creation_date": 1476268701, "last_edit_date": 1476271413, "question_id": 39996521, "link": "https://stackoverflow.com/questions/39996521/find-the-size-of-a-single-row-in-mysql-myisam", "closed_reason": "Duplicate", "title": "Find the size of a single row in MySQL (MyISAM)", "body": "<p>I would like to know if it is possible to find the row size of a MySQL table.</p>\n\n<p>The challenge is we have 704 columns in the row. I know MySQL supports 65,535 bytes (MyISAM).</p>\n\n<p>Please help me with the query or Perl script to find it.</p>\n"}, {"tags": ["perl", "date", "datetime", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1476266959, "post_id": 39995549, "comment_id": 67269673, "body": "So you overwrite <code>$string</code> with a clean-up version? Why show us the first <code>$string</code> and the <code>split</code> to <code>@array</code> that you never use at all? That&#39;s just confusing. Please <a href=\"https://stackoverflow.com/posts/39995549/edit\">edit</a> and remove the unused parts. Please also include the output you are getting."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1476275772, "last_edit_date": 1476275772, "creation_date": 1476268135, "answer_id": 39996335, "question_id": 39995549, "link": "https://stackoverflow.com/questions/39995549/convert-one-format-of-date-to-another-format-using-perl-datemanip/39996335#39996335", "title": "Convert one format of date to another format using perl Date::Manip", "body": "<p>Have you considered using <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a> instead of Date::Manip? It is part of the standard Perl distribution (since Perl 5.10) and is generally considered to be far superior to Date::Manip.</p>\n\n<p>You need to use <code>strptime()</code> (string parse time) to convert your string to a Time::Piece object and then <code>strftime()</code> (string format time) to convert your object to a string in the required format.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n# We use modern Perl - specifically say()\nuse 5.010;\n\nuse Time::Piece;\n\nmy $string = '12:01:48 PM Aug 19, 2016';\n\nmy $tp = Time::Piece-&gt;strptime($string, '%H:%M:%S %p %b %d, %Y');\n\nsay $tp-&gt;strftime('%a %b %e %H:%M:%S %Y');\n</code></pre>\n\n<p><strong>Update:</strong> And to answer your original question, I think you're getting burnt by time zones. It seems that <code>ParseDate()</code> assumes that the string is in the local time zone - but you're using <code>gmtime()</code> to generate your new date string. If you switch that to <code>localtime()</code> you will get the answer you want.</p>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 39996335, "answer_count": 1, "score": 0, "last_activity_date": 1476275772, "creation_date": 1476265677, "last_edit_date": 1476266827, "question_id": 39995549, "link": "https://stackoverflow.com/questions/39995549/convert-one-format-of-date-to-another-format-using-perl-datemanip", "title": "Convert one format of date to another format using perl Date::Manip", "body": "<p>I am trying to convert incoming date into another format below is the code I have written. </p>\n\n<pre><code>#!/usr/bin/perl \n#\nuse POSIX qw(strftime);\nuse Date::Manip;\nmy $string = \"Run started at 12:01:48 PM on Aug 19 2016 \";\n\nmy @array = split(' ',$string);\n\n$string  = \"12:01:48 PM Aug 19, 2016\";\n\n$unix_time = UnixDate( ParseDate($string), \"%s\" );\n#print $unix_time;\n\nmy $datestring = strftime \"%a %b %e %H:%M:%S %Y\", gmtime($unix_time);\nprintf(\"date and time - $datestring\\n\");\n</code></pre>\n\n<p>I want the output in <code>Fri Aug 19 12:01:48 2016</code> but right on PM is not getting considered can you please help me here ?</p>\n"}, {"tags": ["linux", "windows", "perl", "email"], "comments": [{"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1476263980, "post_id": 39994359, "comment_id": 67267674, "body": "Try using ActiveState Perl perhaps. Odd that you have the debug flag on but nothing is reported. Also try single stepping through the program with the debugger to see which part of the module it fails at."}], "answers": [{"tags": [], "owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "is_accepted": false, "score": 0, "last_activity_date": 1476269144, "last_edit_date": 1476269144, "creation_date": 1476268842, "answer_id": 39996561, "question_id": 39994359, "link": "https://stackoverflow.com/questions/39994359/netsmtp-cant-connect-on-windows-8/39996561#39996561", "title": "Net::SMTP can&#39;t connect on Windows 8", "body": "<p>Following <a href=\"http://www.perlmonks.org/?node_id=1127249\" rel=\"nofollow\">this discussion</a>, I found that the problem is related to IPv6. Opening <code>C:\\strawberry\\perl\\lib\\Net\\SMTP.pm</code> and changing the line...</p>\n\n<pre><code>our @ISA = ('Net::Cmd', $inet6_class || 'IO::Socket::INET');\n</code></pre>\n\n<p>...to...</p>\n\n<pre><code>our @ISA = ('Net::Cmd', 'IO::Socket::INET');\n</code></pre>\n\n<p>...makes the original script run:</p>\n\n<pre><code>C:\\test&gt;perl -w net_smtp.pl\nNet::SMTP&gt;&gt;&gt; Net::SMTP(3.08)\nNet::SMTP&gt;&gt;&gt;   Net::Cmd(3.08)\nNet::SMTP&gt;&gt;&gt;     Exporter(5.72)\nNet::SMTP&gt;&gt;&gt;   IO::Socket::INET(1.35)\nNet::SMTP&gt;&gt;&gt;     IO::Socket(1.38)\nNet::SMTP&gt;&gt;&gt;       IO::Handle(1.36)\nNet::SMTP=GLOB(0x58e8fc)&lt;&lt;&lt; 220 Hi\nNet::SMTP=GLOB(0x58e8fc)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTP=GLOB(0x58e8fc)&lt;&lt;&lt; 250 OK\n</code></pre>\n\n<p>For now, I'm relieved because I can continue my work, but if anybody has further clues as to how to avoid this ugly patch, I'll happily accept an elaborated answer.</p>\n\n<p><strong>Edit:</strong> Correspondingly and without patching, <a href=\"https://support.microsoft.com/en-us/kb/929852\" rel=\"nofollow\">disabling IPv6</a> does the trick as well.</p>\n"}, {"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1476279825, "creation_date": 1476279825, "answer_id": 40000255, "question_id": 39994359, "link": "https://stackoverflow.com/questions/39994359/netsmtp-cant-connect-on-windows-8/40000255#40000255", "title": "Net::SMTP can&#39;t connect on Windows 8", "body": "<p>Based on the information from the other answer the underlying problem is, that</p>\n\n<ul>\n<li>the hostname used resolves to both an IPv4 and IPv6 address,</li>\n<li>the SMTP server is only listening at the IPv4 address or the IPv6 address is blocked by a firewall,</li>\n<li>and a recent version of Net::SMTP is in use which contrary to older versions transparently supports IPv6 and IPv4.</li>\n</ul>\n\n<p>Because if the IPv6 support and the commonly used preference for the newer IPv6 against IPv4 Net::SMTP will resolve the hostname and then try the IPv6 address - and fail to connect. Direct use of IO::Socket::INET instead works because it is doing only IPv4 (contrary to IO::Socket::IP used by Net::SMTP).</p>\n\n<p>The reason it works on Linux and not on Windows is probably the different version of Perl: the new version of Net::SMTP with built-in IPv6 (and SSL) support ships only since Perl 5.22 as a CORE module, i.e. the Perl on Windows (5.22) has the version with IPv6 support while the Perl on Linux (5.20) does not.</p>\n\n<p>There are several ways to fix the problem:</p>\n\n<ul>\n<li>use the IPv4 address directly instead of the hostname</li>\n<li>make the SMTP server listen on both IPv4 and IPv6</li>\n<li>or specify the address family to use, i.e.<br>\n<code>my $smtp = Net::SMTP-&gt;new( 'mypc', ..., Domain =&gt; AF_INET );</code></li>\n</ul>\n"}], "owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 40000255, "answer_count": 2, "score": 2, "last_activity_date": 1476279825, "creation_date": 1476262291, "last_edit_date": 1476264647, "question_id": 39994359, "link": "https://stackoverflow.com/questions/39994359/netsmtp-cant-connect-on-windows-8", "title": "Net::SMTP can&#39;t connect on Windows 8", "body": "<p>I wrote a minuscule script to test an SMTP connection with <code>Net::SMTP</code>:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Net::SMTP;   \nmy $smtp = Net::SMTP-&gt;new( 'mypc', Port =&gt; 10025, Timeout =&gt; 30, Debug =&gt; 1 );\ndie \"Couldn't connect to SMTP server\" unless $smtp;\n</code></pre>\n\n<p>An SMTP server is running on <code>mypc:10025</code> and dumps all I/O it does. When I execute the script from a Debian Linux machine (64bit, Perl v5.20.2), the SMTP server shows I/O activity and everything works as expected:</p>\n\n<pre><code>zb226@debian8:~$ ./net_smtp.pl\nNet::SMTP&gt;&gt;&gt; Net::SMTP(2.33)\nNet::SMTP&gt;&gt;&gt;   Net::Cmd(2.30)\nNet::SMTP&gt;&gt;&gt;     Exporter(5.71)\nNet::SMTP&gt;&gt;&gt;   IO::Socket::INET(1.35)\nNet::SMTP&gt;&gt;&gt;     IO::Socket(1.38)\nNet::SMTP&gt;&gt;&gt;       IO::Handle(1.35)\nNet::SMTP=GLOB(0x118adc0)&lt;&lt;&lt; 220 Hi\nNet::SMTP=GLOB(0x118adc0)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTP=GLOB(0x118adc0)&lt;&lt;&lt; 250 OK\n</code></pre>\n\n<p>When I execute this on the Windows 8 machine (64bit, Strawberry Perl 5.22.0), no connection is established. I can see this by the total absence of I/O in the SMTP server. <code>Net::SMTP</code> does not connect. The script just dies, as is expected in this case:</p>\n\n<pre><code>C:\\test&gt;perl -w net_smtp.pl\nCouldn't connect to SMTP server at net_smtp.pl line 5.\n</code></pre>\n\n<p>Observations:</p>\n\n<ul>\n<li>Interestingly, the script dies after what feels like 3 seconds, not the 30 seconds I specified.</li>\n<li>I can use <code>telnet.exe</code> to connect to the SMTP server and it shows I/O activity.</li>\n<li>I have tried turning off the Windows firewall completely without any improvement.</li>\n<li>I had an admin disable the corporate anti-virus software temporarily without any improvement.</li>\n<li>Updating Strawberry Perl to the currently recommended 5.24.0.1 didn't help either.</li>\n</ul>\n\n<p>I'm not sure what to try next.</p>\n\n<p><strong>Edit:</strong> Tried a small <code>IO::Socket::INET</code> script to verify perl can actually connect on this Windows PC:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse IO::Socket::INET;\nmy @hosts = qw/ mypc:10025 /;\nforeach my $host ( @hosts ) {\n    my $open = defined IO::Socket::INET-&gt;new(PeerAddr =&gt; $host, Timeout =&gt; 5) || 0;\n    printf \"Probed %s -&gt; %s \\n\", $host, $open ? 'ok' : 'NOK';\n}\n</code></pre>\n\n<p>I see I/O in the SMTP server and it works as expected:</p>\n\n<pre><code>C:\\test&gt;perl -w io_socket.pl\nProbed mypc:10025 -&gt; ok\n</code></pre>\n"}, {"tags": ["perl", "perl-module", "lwp-useragent"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476262388, "post_id": 39993415, "comment_id": 67266637, "body": "Can you please post the content of you <code>@INC</code> as well as the content of <code>$HTML::Parser::VERSION</code> at the point where you are seeing that problem. You can <a href=\"https://stackoverflow.com/posts/39993415/edit\">edit</a> those into your question."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476263056, "post_id": 39993415, "comment_id": 67267038, "body": "Also, can you how you are using LWP::UserAgent? I&#39;ve altered my HTML::Parser to load a wrong version, but <code>my $ua = LWP::UserAgent-&gt;new; my $res = $ua-&gt;get(&#39;http:&#47;&#47;example.org&#39;);</code> gives me a 200. Are you doing something else? I don&#39;t think LWP::UA even uses HTML::Parser. When I try with WWW::Mechanize with the altered HTML::Parser code it will immediately break and throw a whole bunch of errors and compilation stops. <b>You&#39;re not telling us everything</b>."}], "answers": [{"comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 2, "creation_date": 1476264921, "post_id": 39994374, "comment_id": 67268297, "body": "Thanks for mentioning <a href=\"http://grep.cpan.me\" rel=\"nofollow noreferrer\">grep.cpan.me</a>. I was looking for a similar tool."}, {"owner": {"reputation": 67, "user_id": 6677819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd31a5abc18a4ff84927da58d8b0e35a?s=128&d=identicon&r=PG&f=1", "display_name": "osiv", "link": "https://stackoverflow.com/users/6677819/osiv"}, "edited": false, "score": 0, "creation_date": 1476283048, "post_id": 39994374, "comment_id": 67280569, "body": "I have fixed the problem, but I would like to find a way to check that LWP::UserAgent has all required and correct dependencies. So after I check it I can cozily use LWP::UserAgent-&gt;new()-&gt;get(&#39;<a href=\"http://ya.ru&#39;\" rel=\"nofollow noreferrer\">ya.ru&#39;</a>)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 67, "user_id": 6677819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd31a5abc18a4ff84927da58d8b0e35a?s=128&d=identicon&r=PG&f=1", "display_name": "osiv", "link": "https://stackoverflow.com/users/6677819/osiv"}, "edited": false, "score": 0, "creation_date": 1476283528, "post_id": 39994374, "comment_id": 67280903, "body": "@osiv without knowing exactly what you&#39;re doing that&#39;s tricky. Usually if a dependency is not there, it should <code>die</code>. But yours doesn&#39;t. I don&#39;t know why not."}, {"owner": {"reputation": 67, "user_id": 6677819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd31a5abc18a4ff84927da58d8b0e35a?s=128&d=identicon&r=PG&f=1", "display_name": "osiv", "link": "https://stackoverflow.com/users/6677819/osiv"}, "edited": false, "score": 0, "creation_date": 1476287320, "post_id": 39994374, "comment_id": 67283691, "body": "@simbabque, the problem was that HTML::Parser was read from the location defined in $PERL5LIB, but I have removed the HTML directory from the location and now HTML::Parser is read from the buil-in perl directory."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 67, "user_id": 6677819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd31a5abc18a4ff84927da58d8b0e35a?s=128&d=identicon&r=PG&f=1", "display_name": "osiv", "link": "https://stackoverflow.com/users/6677819/osiv"}, "edited": false, "score": 0, "creation_date": 1476287655, "post_id": 39994374, "comment_id": 67283933, "body": "@osiv that still does not explain why you&#39;d get that as the status line, and why your program doesn&#39;t <code>die</code> immediately, like mine did when I tried. Or is that HTML::Parser actually on the server end of the request, and the process on the server dies and for some convoluted reason it puts its error message into the status line?"}, {"owner": {"reputation": 67, "user_id": 6677819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd31a5abc18a4ff84927da58d8b0e35a?s=128&d=identicon&r=PG&f=1", "display_name": "osiv", "link": "https://stackoverflow.com/users/6677819/osiv"}, "edited": false, "score": 0, "creation_date": 1476288122, "post_id": 39994374, "comment_id": 67284269, "body": "@simbabque, no I have debugged the program locally and have got the <code>status_line</code> value locally."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 67, "user_id": 6677819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd31a5abc18a4ff84927da58d8b0e35a?s=128&d=identicon&r=PG&f=1", "display_name": "osiv", "link": "https://stackoverflow.com/users/6677819/osiv"}, "edited": false, "score": 1, "creation_date": 1476290556, "post_id": 39994374, "comment_id": 67285763, "body": "@osiv, Re &quot;<i>I would like to find a way to check that LWP::UserAgent has all required and correct dependencies.</i>&quot;, Really? Because it seems to me you posted a solution that meets your needs in your question."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1476263239, "last_edit_date": 1476263239, "creation_date": 1476262318, "answer_id": 39994374, "question_id": 39993415, "link": "https://stackoverflow.com/questions/39993415/what-code-checks-if-lwpuseragent-is-ready-to-be-used/39994374#39994374", "title": "What code checks if LWP::UserAgent is ready to be used?", "body": "<p>It seems like your Perl installation is a bit broken. <strong>Retrying the request will not fix it.</strong> </p>\n\n<p>This error message is from XSLoader. <a href=\"https://metacpan.org/pod/ExtUtils::MakeMaker::FAQ#How-do-I-prevent-object-version-X.XX-does-not-match-bootstrap-parameter-Y.YY-errors\" rel=\"nofollow\">The ExtUtils::MakeMaker toolchain documentation</a> explains this:</p>\n\n<blockquote>\n  <p>XS code is very sensitive to the module version number and will complain if the version number in your Perl module doesn't match. If you change your module's version # without rerunning Makefile.PL the old version number will remain in the Makefile, causing the XS code to be built with the wrong number.</p>\n</blockquote>\n\n<p>The <a href=\"https://metacpan.org/source/SAPER/XSLoader-0.24/t/XSLoader.t#L82\" rel=\"nofollow\">XSLoader distribution brings a unit test</a> to assure that this is happening.</p>\n\n<p>In your message</p>\n\n<blockquote>\n  <p>500 HTML::Parser object version 3.35 does not match bootstrap parameter 3.72</p>\n</blockquote>\n\n<p>it says that your <a href=\"https://v1.metacpan.org/pod/HTML::Parser\" rel=\"nofollow\">HTML::Parser</a> Perl module has version 3.35, but it tries to load an XS library that is version 3.72 (which is the current version). <a href=\"https://v1.metacpan.org/source/GAAS/HTML-Parser-3.72/Parser.pm#L11\" rel=\"nofollow\">In line 11 of HTML::Parser</a> it does <code>XSLoader::load('HTML::Parser', $VERSION)</code>, and right above it defined <code>$VERSION</code> as 3.72. So that should work.</p>\n\n<p>It's not clear what you're doing exactly, and which modules you are using, but I suggest you reinstall HTML::Parser. I can't say more unless you add more information.</p>\n\n<hr>\n\n<p>I found this by using <a href=\"http://grep.cpan.me/\" rel=\"nofollow\">grep.cpan.me</a>, which allows you to grep in all files on CPAN. I searched for <a href=\"http://grep.cpan.me/?q=does%20not%20match%20bootstrap%20parameter\" rel=\"nofollow\"><em>does not match bootstrap parameter</em></a>.</p>\n"}], "owner": {"reputation": 67, "user_id": 6677819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd31a5abc18a4ff84927da58d8b0e35a?s=128&d=identicon&r=PG&f=1", "display_name": "osiv", "link": "https://stackoverflow.com/users/6677819/osiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476263239, "creation_date": 1476259117, "last_edit_date": 1476260436, "question_id": 39993415, "link": "https://stackoverflow.com/questions/39993415/what-code-checks-if-lwpuseragent-is-ready-to-be-used", "title": "What code checks if LWP::UserAgent is ready to be used?", "body": "<p>Is there a way I could check that LWP::UserAgent is ready to be used?</p>\n\n<p>It is possible that the reponse <code>code</code> of, for instance a <code>get</code> request, may always return <code>500</code>, and a message in <code>status_line</code> may be <code>500 HTML::Parser object version 3.35 does not match bootstrap parameter 3.72</code>.</p>\n"}, {"tags": ["regex", "perl", "unicode"], "answers": [{"tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 2, "last_activity_date": 1476257126, "creation_date": 1476257126, "answer_id": 39992777, "question_id": 39992351, "link": "https://stackoverflow.com/questions/39992351/x-not-working-inside-the-substitution/39992777#39992777", "title": "\\x not working inside the substitution", "body": "<p>If you enable <code>use warnings</code> you'll see that the <code>$1</code> gets evaluated literally before the backreference gets interpolated.</p>\n\n<pre><code>$kv =~ s/\\\\u(.{4})/ sprintf(\"\\\"\\\\x{%s}\\\"\", $1) /eeg;\n</code></pre>\n\n<p>sort of works, but it is hideously ugly.  I've been trying to simplify it, but the various ideas I tried always got me back to \"Illegal hexadecimal digit '$' ignored\" warnings.</p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 2, "last_activity_date": 1476257375, "creation_date": 1476257375, "answer_id": 39992860, "question_id": 39992351, "link": "https://stackoverflow.com/questions/39992351/x-not-working-inside-the-substitution/39992860#39992860", "title": "\\x not working inside the substitution", "body": "<p>May be this also you can try:</p>\n\n<p><code>$kv=~s/\\\\u([[:xdigit:]]{1,5})/chr(eval(\"0x$1\"))/egis;</code></p>\n\n<p>Thanks.</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 7, "last_activity_date": 1476290377, "last_edit_date": 1476290377, "creation_date": 1476257677, "answer_id": 39992970, "question_id": 39992351, "link": "https://stackoverflow.com/questions/39992351/x-not-working-inside-the-substitution/39992970#39992970", "title": "\\x not working inside the substitution", "body": "<p>The problem with <code>s/\\\\u(.{4})/\"\\x{$1}\"/e</code> is that the backslash escape <code>\\x{$1}</code> is evaluated at compile time, which gives a NULL byte:</p>\n\n<pre><code>$ perl -E 'printf \"%vX\\n\", \"\\x{$1}\"'\n0\n</code></pre>\n\n<p>If we escape the backslash in front of <code>x</code> ( <code>s/\\\\u(.{4})/\"\\\\x{$1}\"/ge</code> ) we get a string with literal escape sequences, but still not the desired unicode character: </p>\n\n<pre><code>use feature qw(say);\n$kv = '\\u0026';\n$kv =~ s/\\\\u(.{4})/\"\\\\x{$1}\"/ge;\nsay $kv; \n</code></pre>\n\n<p>The output is now:</p>\n\n<pre><code>\\x{0026}\n</code></pre>\n\n<p>With a small modification, you can produce <code>\"\\x{0026}\"</code> instead, which is Perl code you can compile and execute to produce the desired value. To do this, you need involve <code>eval(EXPR)</code>.</p>\n\n<pre><code>$kv =~ s/\\\\u(.{4})/ my $s = eval(qq{\"\\\\x{$1}\"}); die $@ if $@; $s /ge;\n</code></pre>\n\n<p>This can be shortened to</p>\n\n<pre><code>$kv =~ s/\\\\u(.{4})/ qq{\"\\\\x{$1}\"} /gee;\n</code></pre>\n\n<p>Howver, a far better solution is to use the following:</p>\n\n<pre><code>$kv =~ s/\\\\u(.{4})/chr hex $1/ge;\n</code></pre>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 39992970, "answer_count": 3, "score": 4, "last_activity_date": 1489205675, "creation_date": 1476255584, "last_edit_date": 1476261003, "question_id": 39992351, "link": "https://stackoverflow.com/questions/39992351/x-not-working-inside-the-substitution", "title": "\\x not working inside the substitution", "body": "<p>I'm trying to decode the unicode characters. So I simply tried the hexadecimal escape sequence <code>\\x{}</code> inside the regex substitution <code>e</code></p>\n\n<pre><code>use LWP::Simple;\nmy $k = get(\"url\");\n\nmy ($kv) =map{/js_call\\(\\\\\"(.+?)\\\\\"\\)/} $k;\n\n#now $kv data is https://someurl/call.pl?id=15967737\\u0026locale=en-GB\\u0026mkhun=ccce\n\n$kv=~s/\\\\u(.{4})/\"\\x{$1}\"/eg;\n</code></pre>\n\n<p>I'm trying substitute the all unicode character.</p>\n\n<p>My expected output is:</p>\n\n<pre><code>https://someurl/call.pl?id=15967737&amp;locale=en-GB&amp;mkhun=ccce\n</code></pre>\n\n<p>Below mentioned <code>print</code> statement gives the expected output. However the regex seems doesn't working properly. </p>\n\n<pre><code>print \"\\x{0026}\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1476252885, "post_id": 39991624, "comment_id": 67261400, "body": "What did you try? Where did you get stuck? What issues are you facing?"}, {"owner": {"reputation": 1, "user_id": 7005814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FNUUC0hhL_k/AAAAAAAAAAI/AAAAAAAADF8/9UMjsp3RMIE/photo.jpg?sz=128", "display_name": "sai sankeerth reddy", "link": "https://stackoverflow.com/users/7005814/sai-sankeerth-reddy"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1476253109, "post_id": 39991624, "comment_id": 67261503, "body": "I don&#39;t know how to use regular expressions properly would be helpful if u can write a sample code"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 2, "creation_date": 1476253156, "post_id": 39991624, "comment_id": 67261517, "body": "Start by reading <code>perldoc perlretut</code> and after that feel free to ask any questions that remain unanswered after having done due diligence, and after having written as much code as you can on your own, to provide us with context."}, {"owner": {"reputation": 1, "user_id": 7005814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FNUUC0hhL_k/AAAAAAAAAAI/AAAAAAAADF8/9UMjsp3RMIE/photo.jpg?sz=128", "display_name": "sai sankeerth reddy", "link": "https://stackoverflow.com/users/7005814/sai-sankeerth-reddy"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1476253708, "post_id": 39991624, "comment_id": 67261743, "body": "@ChankeyPathak I am not able to post my code here..... Any help with the code would be greatful"}, {"owner": {"reputation": 1, "user_id": 7005814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FNUUC0hhL_k/AAAAAAAAAAI/AAAAAAAADF8/9UMjsp3RMIE/photo.jpg?sz=128", "display_name": "sai sankeerth reddy", "link": "https://stackoverflow.com/users/7005814/sai-sankeerth-reddy"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1476253824, "post_id": 39991624, "comment_id": 67261795, "body": "@ChankeyPathak Please it is little urgent... If u can provide the sample code on it code it will be useful"}, {"owner": {"reputation": 1, "user_id": 7005814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FNUUC0hhL_k/AAAAAAAAAAI/AAAAAAAADF8/9UMjsp3RMIE/photo.jpg?sz=128", "display_name": "sai sankeerth reddy", "link": "https://stackoverflow.com/users/7005814/sai-sankeerth-reddy"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1476254604, "post_id": 39991624, "comment_id": 67262116, "body": "@ChankeyPathak How to print a zero if it doesn&#39;t search that word? I am giving an else condition but no output"}, {"owner": {"reputation": 1, "user_id": 7005814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FNUUC0hhL_k/AAAAAAAAAAI/AAAAAAAADF8/9UMjsp3RMIE/photo.jpg?sz=128", "display_name": "sai sankeerth reddy", "link": "https://stackoverflow.com/users/7005814/sai-sankeerth-reddy"}, "edited": false, "score": 0, "creation_date": 1476254898, "post_id": 39991624, "comment_id": 67262269, "body": "else  { print &quot;0&quot;; } this isn&#39;t working"}, {"owner": {"reputation": 1, "user_id": 7005814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FNUUC0hhL_k/AAAAAAAAAAI/AAAAAAAADF8/9UMjsp3RMIE/photo.jpg?sz=128", "display_name": "sai sankeerth reddy", "link": "https://stackoverflow.com/users/7005814/sai-sankeerth-reddy"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1476255765, "post_id": 39991624, "comment_id": 67262744, "body": "@ChankeyPathak I just want the first search of Apple ... not multiple searches.. How can i do that? Also only if it searches exact word Apple .. if ther is a word Apples it shouldn&#39;t Search"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7005814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FNUUC0hhL_k/AAAAAAAAAAI/AAAAAAAADF8/9UMjsp3RMIE/photo.jpg?sz=128", "display_name": "sai sankeerth reddy", "link": "https://stackoverflow.com/users/7005814/sai-sankeerth-reddy"}, "edited": false, "score": 0, "creation_date": 1476278315, "post_id": 39994417, "comment_id": 67276970, "body": "I want the code to search the word in the file not in a line... and print the 2 nd word in that line.. if it doesn&#39;t find the word in the file(not the line) print 0"}, {"owner": {"reputation": 41, "user_id": 6921229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1e8d0a5288d7ebcf029fd228fa3949?s=128&d=identicon&r=PG&f=1", "display_name": "Magesh04", "link": "https://stackoverflow.com/users/6921229/magesh04"}, "reply_to_user": {"reputation": 1, "user_id": 7005814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FNUUC0hhL_k/AAAAAAAAAAI/AAAAAAAADF8/9UMjsp3RMIE/photo.jpg?sz=128", "display_name": "sai sankeerth reddy", "link": "https://stackoverflow.com/users/7005814/sai-sankeerth-reddy"}, "edited": false, "score": 0, "creation_date": 1476279430, "post_id": 39994417, "comment_id": 67277844, "body": "Its reading from the file only, we are getting line by line in while loop. place the file in same path where you executing the perl file."}], "tags": [], "owner": {"reputation": 41, "user_id": 6921229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1e8d0a5288d7ebcf029fd228fa3949?s=128&d=identicon&r=PG&f=1", "display_name": "Magesh04", "link": "https://stackoverflow.com/users/6921229/magesh04"}, "is_accepted": false, "score": 0, "last_activity_date": 1476262469, "creation_date": 1476262469, "answer_id": 39994417, "question_id": 39991624, "link": "https://stackoverflow.com/questions/39991624/how-to-to-search-for-an-multiple-words-in-a-file-using-regular-expressions/39994417#39994417", "title": "How to to search for an multiple words in a file using regular expressions", "body": "<pre><code>use strict;\n\nmy %uniquekey=();\nopen (FH, \"out.txt\");\nwhile (&lt;FH&gt;)\n{\n    my $line=$_;\n    if($line=~m/([\\w]+)\\s([\\w]+)\\s([\\w]+).*$/i || $line=~m/([\\w]+)\\s([\\w]+).*$/i)\n    {\n        my $first=$1;\n        my $third=$3;\n\n        if($third eq \"\"){$third=0}\n        if(!exists($uniquekey{$first})){\n            $uniquekey{$first}=$first;\n            print \"$first $third\\n\";\n        }\n        elsif($third ne \"\")\n        {\n            print \"$third\\n\";\n        }\n\n    }\n}\nclose FH;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7005814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FNUUC0hhL_k/AAAAAAAAAAI/AAAAAAAADF8/9UMjsp3RMIE/photo.jpg?sz=128", "display_name": "sai sankeerth reddy", "link": "https://stackoverflow.com/users/7005814/sai-sankeerth-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1476262469, "creation_date": 1476252741, "last_edit_date": 1476253037, "question_id": 39991624, "link": "https://stackoverflow.com/questions/39991624/how-to-to-search-for-an-multiple-words-in-a-file-using-regular-expressions", "title": "How to to search for an multiple words in a file using regular expressions", "body": "<p>I need a little help , I am new to Perl. If for example in a file named <code>out.txt</code> which contains the following data:</p>\n\n<pre><code>Apple Banana potato\nAshok is a boy\nApple is good \n</code></pre>\n\n<p>ALL three sentences in three different lines I need to search the first occurence of <code>apple</code> and <code>Ashok</code> in the file and print the 3rd word in that line ie \"<code>potato</code>\", \"<code>a</code>\" . And also print <code>0</code> if it doesn't find the word. How can I do this? Please Help :) TIA</p>\n"}, {"tags": ["perl", "cygwin"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1476252128, "post_id": 39991461, "comment_id": 67261093, "body": "Looks like you have no X11 installed or your Display variable is not set"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1476258041, "post_id": 39991461, "comment_id": 67264037, "body": "We required for your minimal code to check/analysis"}, {"owner": {"reputation": 107, "user_id": 5296353, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4836446b030e255f3c1e111125c93368?s=128&d=identicon&r=PG&f=1", "display_name": "BrainsOfSteel", "link": "https://stackoverflow.com/users/5296353/brainsofsteel"}, "edited": false, "score": 0, "creation_date": 1476260786, "post_id": 39991461, "comment_id": 67265648, "body": "@ ssr1012 the code is added"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1476263671, "post_id": 39991461, "comment_id": 67267449, "body": "Its working on bash cgywin terminal also."}, {"owner": {"reputation": 107, "user_id": 5296353, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4836446b030e255f3c1e111125c93368?s=128&d=identicon&r=PG&f=1", "display_name": "BrainsOfSteel", "link": "https://stackoverflow.com/users/5296353/brainsofsteel"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1476264846, "post_id": 39991461, "comment_id": 67268250, "body": "@Jens How to set the Display Variable? It is bugging me for quite sometime."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1476264900, "post_id": 39991461, "comment_id": 67268285, "body": "<code>export DISPLAY=&lt;your_ip&gt;:0</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 2, "last_activity_date": 1476265765, "creation_date": 1476265765, "answer_id": 39995584, "question_id": 39991461, "link": "https://stackoverflow.com/questions/39991461/i-am-starting-to-use-perl-tk-for-my-ui-design-in-i-created-a-small-code-in-perl/39995584#39995584", "title": "I am starting to use Perl Tk for my UI design in. I created a small code in perl and got the following error", "body": "<p>You need to start <code>X</code> first.</p>\n\n<pre><code>perl hello_world_tk.pl\ncouldn't connect to display \":0\" at /usr/lib/perl5/vendor_perl/5.22/i686-    cygwin-threads-64int/Tk/MainWindow.pm line 53.\nMainWindow-&gt;new() at hello_world_tk.pl line 6.\n</code></pre>\n\n<p>Start X by invoking <code>X</code>, which will open up a new window and then run your script.</p>\n\n<pre><code>X &amp;\n\nVendor: The Cygwin/X Project\nRelease: 1.18.4.0\nOS: CYGWIN_NT-6.1 EAPB8CA3AA75D7E 2.6.0(0.304/5/3) 2016-08-31 14:27 i686\nOS: Windows 7 Service Pack 1 [Windows NT 6.1 build 7601] (Win32)\nPackage: version 1.18.4-1 built 2016-07-22\n\nwinInitializeScreenDefaults - primary monitor w 1280 h 1024\nwinInitializeScreenDefaults - native DPI x 96 y 96\nXWin was started with the following command line:\n\nX\n\n.... more X output\n\n# Now run your script\n\nperl hello_world_tk.pl\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/H5bBB.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/H5bBB.png\" alt=\"Hello World\"></a></p>\n"}], "owner": {"reputation": 107, "user_id": 5296353, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4836446b030e255f3c1e111125c93368?s=128&d=identicon&r=PG&f=1", "display_name": "BrainsOfSteel", "link": "https://stackoverflow.com/users/5296353/brainsofsteel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 1, "accepted_answer_id": 39995584, "answer_count": 1, "score": 1, "last_activity_date": 1476265765, "creation_date": 1476251991, "last_edit_date": 1476260736, "question_id": 39991461, "link": "https://stackoverflow.com/questions/39991461/i-am-starting-to-use-perl-tk-for-my-ui-design-in-i-created-a-small-code-in-perl", "title": "I am starting to use Perl Tk for my UI design in. I created a small code in perl and got the following error", "body": "<p>The error is couldn't connect to display \":0\" at /usr/lib/perl5/vendor_perl/5.22/x86_64-cygwin-threads/Tk/MainWindow.pm line 53.\nMainWindow->new() at ./PerlUI.pl line 6.</p>\n\n<p>The code is:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse Tk;\n\nmy $mw=MainWindow-&gt;new;\n$mw-&gt;geometry(\"200x100\");\n$mw-&gt;title(\"Hello World!!\");\n$mw-&gt;Label(-text=&gt;\"Hello World\")-&gt;pack();\n$mw-&gt;Button(-text=&gt;\"Close\",-command=&gt;sub{exit})-&gt;pack();\nMainLoop;\n</code></pre>\n"}, {"tags": ["perl", "perl-module", "pari"], "answers": [{"comments": [{"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476271348, "post_id": 39991498, "comment_id": 67272395, "body": "I can attach the .log file although it will be long, also which Math Pari(s) should I install from <a href=\"http://pari.math.u-bordeaux.fr/download.html\" rel=\"nofollow noreferrer\">pari.math.u-bordeaux.fr/download.html</a> for Windows 10 in order to get Math::Pari from cpan? Thanks for helping me out?"}, {"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476271472, "post_id": 39991498, "comment_id": 67272458, "body": "Please let me know if you want me to attach both .log files"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476273783, "post_id": 39991498, "comment_id": 67273923, "body": "@J.Linne: Pick the stable one from <code>Self-installing distributions for Windows</code> section."}, {"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476647261, "post_id": 39991498, "comment_id": 67422597, "body": "How does cpan&#39;s library recognize that I installed Pari 2-7-6. They are in two different locations? When I tried to install Math::Pari from cpan still gives me the same output after I installed Pari 2-7-6. The directories for them I have posted in the question."}, {"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476647370, "post_id": 39991498, "comment_id": 67422636, "body": "Thanks once again if you could help me fix this issue now that I have Pari 2-7-6."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476681519, "post_id": 39991498, "comment_id": 67430647, "body": "Please post the build.log file."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1485684276, "post_id": 39991498, "comment_id": 71020325, "body": "Chankey can u please comment on @J.Linne comment that what to do after we have Pari installed. How to build Math::Pari using this installed pari.exe"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 1, "last_activity_date": 1476252598, "last_edit_date": 1476252598, "creation_date": 1476252210, "answer_id": 39991498, "question_id": 39991235, "link": "https://stackoverflow.com/questions/39991235/unable-to-install-mathpari-module/39991498#39991498", "title": "Unable to install Math::Pari module", "body": "<p>You will have to share the <code>build.log</code> file. Without that we cannot check what caused the failure.</p>\n\n<p>BTW for <a href=\"https://metacpan.org/pod/Math::Pari\" rel=\"nofollow\">Math::Pari</a> you need PARI library. <strong>Starting from version 2.0, this module comes without a PARI library included</strong>. </p>\n\n<p>Since you are trying to install Math-Pari-2.01080900, therefore you will first have to install PARI library.</p>\n\n<p>Get it from <a href=\"http://pari.math.u-bordeaux.fr/download.html\" rel=\"nofollow\">http://pari.math.u-bordeaux.fr/download.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1476288852, "creation_date": 1476288852, "answer_id": 40003434, "question_id": 39991235, "link": "https://stackoverflow.com/questions/39991235/unable-to-install-mathpari-module/40003434#40003434", "title": "Unable to install Math::Pari module", "body": "<p>If you're ok with using 32 bit Perl, you could use 32 bit <a href=\"http://strawberryperl.com/\" rel=\"nofollow\">Strawberry Perl</a>, which already has both Math::Pari and Crypt::Random modules installed.</p>\n\n<p>Unfortunately the 64 bit versions of Strawberry Perl do not include either of these modules.  In that case, you'll have to follow the suggestion from Chankey Pathak about installing the PARI library in order to install the Math::Pari module.</p>\n"}], "owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 912, "favorite_count": 0, "accepted_answer_id": 39991498, "answer_count": 2, "score": 1, "last_activity_date": 1476288852, "creation_date": 1476250837, "last_edit_date": 1476252444, "question_id": 39991235, "link": "https://stackoverflow.com/questions/39991235/unable-to-install-mathpari-module", "title": "Unable to install Math::Pari module", "body": "<p>I am trying to install <a href=\"https://metacpan.org/pod/Crypt::Random#HARDWARE-RNG\" rel=\"nofollow\">Crypt::Random</a> module, a cryptographically secure random number generator, and says it requires Math::Pari 2.001802, which is not availible from cpan.org, but says it is available from this other URL, which does not work. I tried to install them both anyway and encountered this problem:</p>\n\n<pre><code>C:\\Users\\Jlinne\\Documents&gt;                    cpanm Crypt::Random\n    --&gt; Working on Crypt::Random\n    Fetching http://www.cpan.org/authors/id/V/VI/VIPUL/Crypt-Random-1.25.tar.gz ... OK\n    Configuring Crypt-Random-1.25 ... OK\n    ==&gt; Found dependencies: Math::Pari\n    --&gt; Working on Math::Pari\n    Fetching http://www.cpan.org/authors/id/I/IL/ILYAZ/modules/Math-Pari-2.01080900.zip ... OK\n    Configuring Math-Pari-2.01080900 ... N/A\n    ! Configure failed for Math-Pari-2.01080900. See C:\\Users\\Jlinne\\.cpanm\\work\\1476250290.12460\\build.log for details.\n    ! Installing the dependencies failed: Module 'Math::Pari' is not installed\n    ! Bailing out the installation for Crypt-Random-1.25.\n\nC:\\Users\\Jlinne\\Documents&gt;                    cpanm Math::Pari\n    --&gt; Working on Math::Pari\n    Fetching http://www.cpan.org/authors/id/I/IL/ILYAZ/modules/Math-Pari-2.01080900.zip ... OK\n    Configuring Math-Pari-2.01080900 ... N/A\n    ! Configure failed for Math-Pari-2.01080900. See C:\\Users\\Jlinne\\.cpanm\\work\\1476250325.1340\\build.log for details.\n</code></pre>\n\n<p>The build.log does not help me either, any other possible ways to install this module successfully? Thanks. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 1, "creation_date": 1476246760, "post_id": 39990447, "comment_id": 67259477, "body": "What is the error message that you are getting?  That error message probably has vital clues as to what the problem is."}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1476247374, "post_id": 39990447, "comment_id": 67259633, "body": "Just a few other items.  It might be helpful to &quot;use warnings;&quot; on the line after &quot;use strict;&quot;, which could help provide useful warnings.  The variable $nbr_of_values really isn&#39;t getting the size of the array as the comments suggest.  Instead, it&#39;s getting the last element ID of the array.  Also, it looks like line 33 corresponds with the first open statement.  If you could the variable $! inside the double quotes after the word die, then you would get an error message giving some information on why Perl was unable to open a file."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1476248620, "post_id": 39990447, "comment_id": 67259977, "body": "Do you have the 10 files that your script is supposed to be reading? Is the error message that you&#39;re exiting with an exit code of 111?"}, {"owner": {"reputation": 3, "user_id": 5866286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cddf2350339d81a3e75e4f633760a22d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5866286/j-doe"}, "edited": false, "score": 0, "creation_date": 1476249915, "post_id": 39990447, "comment_id": 67260352, "body": "It&#39;s suppose to make 10 files."}, {"owner": {"reputation": 3, "user_id": 5866286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cddf2350339d81a3e75e4f633760a22d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5866286/j-doe"}, "edited": false, "score": 0, "creation_date": 1476250113, "post_id": 39990447, "comment_id": 67260408, "body": "error msg: can&#39;t open output ! at perl_part3.pl line 33"}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1476250583, "post_id": 39990447, "comment_id": 67260558, "body": "@J.Doe You don&#39;t understand the script. It&#39;s not supposed to create 10 files, it&#39;s supposed to <b>copy</b> 10 files. And the files to be copied are to have the format <code>filename_X</code>, where <code>filename</code> is provided when you run the script, and <code>X</code> is a number, from 1 to 10. The <code>$fh_in</code> is the file handle to read the file, and copy the contents to another file with the file handle <code>$fh_out</code>."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1476251609, "post_id": 39990447, "comment_id": 67260916, "body": "Check the file which you are passing through argument <code>my $file_in = $ARGV[0];</code> is present in the current folder or not."}, {"owner": {"reputation": 3, "user_id": 5866286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cddf2350339d81a3e75e4f633760a22d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5866286/j-doe"}, "edited": false, "score": 0, "creation_date": 1476288313, "post_id": 39990447, "comment_id": 67284396, "body": "Go learn from Hameed, you guys need to calm down and find solutions instead of yip yapping all over the answer area. and run the code yourself and see what happens."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5866286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cddf2350339d81a3e75e4f633760a22d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5866286/j-doe"}, "edited": false, "score": 0, "creation_date": 1476288018, "post_id": 39991445, "comment_id": 67284194, "body": "Shabash boi Shabadh."}, {"owner": {"reputation": 3, "user_id": 5866286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cddf2350339d81a3e75e4f633760a22d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5866286/j-doe"}, "edited": false, "score": 1, "creation_date": 1476288046, "post_id": 39991445, "comment_id": 67284221, "body": "That was awesome.. Take my upvote"}, {"owner": {"reputation": 3, "user_id": 5866286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cddf2350339d81a3e75e4f633760a22d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5866286/j-doe"}, "edited": false, "score": 0, "creation_date": 1476288088, "post_id": 39991445, "comment_id": 67284247, "body": "Others didn&#39;t get it but you were on point."}, {"owner": {"reputation": 2094, "user_id": 238047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef04756e5ea133ce029e8a375960cc9?s=128&d=identicon&r=PG", "display_name": "Hameed", "link": "https://stackoverflow.com/users/238047/hameed"}, "reply_to_user": {"reputation": 3, "user_id": 5866286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cddf2350339d81a3e75e4f633760a22d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5866286/j-doe"}, "edited": false, "score": 0, "creation_date": 1476397543, "post_id": 39991445, "comment_id": 67341315, "body": "Glad to have helped."}], "tags": [], "owner": {"reputation": 2094, "user_id": 238047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef04756e5ea133ce029e8a375960cc9?s=128&d=identicon&r=PG", "display_name": "Hameed", "link": "https://stackoverflow.com/users/238047/hameed"}, "is_accepted": true, "score": 1, "last_activity_date": 1476251914, "creation_date": 1476251914, "answer_id": 39991445, "question_id": 39990447, "link": "https://stackoverflow.com/questions/39990447/can-someone-help-me-with-a-simple-perl-script/39991445#39991445", "title": "Can someone help me with a simple perl script", "body": "<p>The script won't open file_in. <code>$file_in</code> is a variable that should be passed to the script. Note <code>my $file_in = $ARGV[0];</code>.</p>\n\n<p><code>$ARGV[0]</code> is the first command line argument that you have to pass to the script. </p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=33287\" rel=\"nofollow\">How do you use command line parameters</a></p>\n\n<p>If you have created a file in that directory and called it 'file_in', then run <code>perl_part3.pl file_in</code></p>\n"}], "owner": {"reputation": 3, "user_id": 5866286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cddf2350339d81a3e75e4f633760a22d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5866286/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "closed_date": 1476254337, "accepted_answer_id": 39991445, "answer_count": 1, "score": -4, "last_activity_date": 1476251914, "creation_date": 1476245829, "question_id": 39990447, "link": "https://stackoverflow.com/questions/39990447/can-someone-help-me-with-a-simple-perl-script", "closed_reason": "Not suitable for this site", "title": "Can someone help me with a simple perl script", "body": "<p>I have a perl script that professor gave which is suppose to be easy to run, but my machine is giving error, which i don't understand.\nsince the directory this file is in has another file named file_in which i created because i think that's the only thing i need to do in order to run this script. But it's giving me an error at line 33. Please help me .\nThank you,</p>\n\n<pre><code>#!/usr/bin/perl\n\n# the strict package forces you to declare each variable you use beforehand\nuse strict;\n\n# a variable in strict mode is declared using my\n# the $ symbol means it is a single-valued variable\n# the @ symbol means it is an array\n# each declaration/instruction is closed with a ; sign \nmy @par_list = (1,2,3,4,5,6,7,8,9,10);\n\n# creating a variable for the current value of the parameter\nmy $value;\n\n# get and store the size of the array\nmy $nbr_of_values = $#par_list;\n\n# now, we read in a variable that will be the filename of the template input file\n# $ARGV are the input arguments, 0 means it is the first one (perl starts counting at 0, not 1)\nmy $file_in = $ARGV[0];\n\n# start of the loop\nfor( my $i=0; $i&lt;= $nbr_of_values; $i++){\n    $value = $par_list[$i];\n    print \"This is the current parameter value: $value \\n\";\n\n    # now we create a new string variable that will later be the filename of the new input deck\n    # the . symbol is the concatenation operator between strings\n    my $new_input_filename = $file_in.\"_\".$value;\n    print \" The new filename is $new_input_filename \\n\";\n\n    # open the template file and store its filehandle (fh_in)\n    open my $fh_in,  '&lt;', $file_in or die \"Can't open output $file_in !\";\n    # open the new file (it currently does not exist and is thus empty) and store its filehandle (fh_out)\n    open my $fh_out, '&gt;', $new_input_filename or die \"Can't open output $new_input_filename !\";\n\n    while (&lt;$fh_in&gt;) {\n    # this is for you to see on the console, we read line-by-line, while there is something\n    # the line read is stored in a special PERL variable $_\n    print \"I have read $_\";\n    # now we actually print that line intot he new file\n    print $fh_out $_;\n    }\n    close $fh_in; \n    close fh_out;\n}\n\nprint \" I am done with this !!! \\n\";\nexit 111;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1476242918, "post_id": 39989904, "comment_id": 67258559, "body": "if you want to check if <code>$a</code> is in <code>$b</code>, use <code>$b =~ m&#47;$a&#47;</code> (<code>g</code> flag is not needed)"}, {"owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1476243682, "post_id": 39989904, "comment_id": 67258720, "body": "thats a little non-intuitive, but it worked....thanks!  I switched to using the index searching instead."}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1476243951, "post_id": 39989904, "comment_id": 67258784, "body": "that is hardly non-intuitive... suppose you didn&#39;t use a variable, it would be  <code>$b =~ m&#47;12345&#47;</code> ... and for search and replace, it is <code>$b =~ s&#47;12345&#47;abc&#47;</code> .. so the take away is <code>variable =~</code> to match or search and replace on that variable"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1476244276, "post_id": 39989904, "comment_id": 67258870, "body": "Please avoid using special vars <code>$a</code> and <code>$b</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1476261762, "post_id": 39989904, "comment_id": 67266260, "body": "Or just single letter variable names in general."}], "answers": [{"tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 0, "last_activity_date": 1476244061, "last_edit_date": 1476244061, "creation_date": 1476242537, "answer_id": 39989995, "question_id": 39989904, "link": "https://stackoverflow.com/questions/39989904/unable-to-search-one-variable-within-another-variable-using-perl/39989995#39989995", "title": "Unable to search one variable within another variable using Perl", "body": "<p>There are characters that may have different meanings in regular expressions. Instead, do this:</p>\n\n<pre><code>if (index($b, $a) != -1) #works\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476243944, "post_id": 39990010, "comment_id": 67258781, "body": "<code>if ( &#47;&#47;g )</code> makes no sense, and you didn&#39;t convert <code>$a</code> into a pattern using <code>quotemeta</code>."}], "tags": [], "owner": {"reputation": 1119, "user_id": 145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a99c5026c0ac0c48f3e89d91f9b1ff?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/145511/glenn"}, "is_accepted": false, "score": 0, "last_activity_date": 1476242624, "creation_date": 1476242624, "answer_id": 39990010, "question_id": 39989904, "link": "https://stackoverflow.com/questions/39989904/unable-to-search-one-variable-within-another-variable-using-perl/39990010#39990010", "title": "Unable to search one variable within another variable using Perl", "body": "<p>I believe you might have mixed up your variables in the statement.  The $a =~ m/$b/g indicates that $b can be found in $a (in order to be true), not the $a can be found in $b.  Since $a is less in length than $b, the statements fail ( since 123456789 cannot be found in 12345).</p>\n\n<p>I suspect what you want is:</p>\n\n<pre><code>if ( $b =~ m/$a/g )  # or ( $b =~ /$a/ )\n{\n  print \"success\";\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1476244064, "creation_date": 1476244064, "answer_id": 39990204, "question_id": 39989904, "link": "https://stackoverflow.com/questions/39989904/unable-to-search-one-variable-within-another-variable-using-perl/39990204#39990204", "title": "Unable to search one variable within another variable using Perl", "body": "<p>To check if <code>$substr</code> is in <code>$string</code>, you want:</p>\n\n<pre><code>if ($string =~ /\\Q$substr\\E/)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (index($string, $substr) &gt;= 0)\n</code></pre>\n\n<p>In your case, that means</p>\n\n<pre><code>if ($b =~ /\\Q$a\\E/)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (index($b, $a) &gt;= 0)\n</code></pre>\n\n<hr>\n\n<p><code>\\Q..\\E</code> causes the contents of the variable in between to be matched literally rather than have it treated as a regex pattern.</p>\n\n<p><code>if (//g)</code> makes no sense, and using it can produce subtle and very odd problems.</p>\n"}], "owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1476244064, "creation_date": 1476241789, "question_id": 39989904, "link": "https://stackoverflow.com/questions/39989904/unable-to-search-one-variable-within-another-variable-using-perl", "title": "Unable to search one variable within another variable using Perl", "body": "<p>Using perl, i'm unable to perform a simple search to see if one number is within another.  The below example doesn't enter the if statement.  </p>\n\n<pre><code>my $a = \"12345\";\nmy $b = \"123456789\";\nif($a=~ m/$b/g) #doesn't work\n{\n    print \"success\";\n}\n</code></pre>\n\n<p>The below doesn't work either.</p>\n\n<pre><code>my $a = \"12345\";\nmy $b = \"123456789\";\nif($a =~ /$b/) #doesn't work\n{\n    print \"success\";\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "edited": false, "score": 0, "creation_date": 1476235131, "post_id": 39988994, "comment_id": 67256773, "body": "You&#39;ve basically got it here. Replace those single quotes with double quotes to make them work like you want. <code>&#39;a$1&#39;</code> != <code>&quot;a$1&quot;</code> - there&#39;s no interpolation in the first, but there is in the second."}, {"owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "reply_to_user": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "edited": false, "score": 0, "creation_date": 1476241723, "post_id": 39988994, "comment_id": 67258309, "body": "i dont get it when i use <code>&quot;&quot;</code> it doesn&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1476294467, "post_id": 39989861, "comment_id": 67288140, "body": "If <code>$replace</code> is tainted (ie. contains input from the outside world) this is vulnerable to code injection. <code>$replace = &#39;}; print &quot;Gotcha!\\n&quot;; m{&#39;</code>"}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1476296506, "post_id": 39989861, "comment_id": 67289342, "body": "@Schwern Thank you for pointing that out. I failed to mention that and assumed it would come only from an internal source."}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 0, "last_activity_date": 1476241493, "creation_date": 1476241493, "answer_id": 39989861, "question_id": 39988994, "link": "https://stackoverflow.com/questions/39988994/perl-regex-dynamic-capturing/39989861#39989861", "title": "perl regex dynamic capturing", "body": "<p>In <a href=\"http://www.perlmonks.org/bare/?node_id=715622\" rel=\"nofollow\">this post</a>, Jenda offers a solution that may be applicable to your case. It involves creating a sub and then evaluating the sub to a regex.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $pattern = '`(.*?)`';\nmy $replace = '&lt;code/&gt;$1&lt;/code&gt;';\nmy $code = 'sub {$_[0] =~ s{$pattern}{'. $replace . '}ig}';\nmy $re = eval $code;\n\nmy $string = \"Here `is` a string\";\n$re-&gt;($string);\n\nprint $string;\n</code></pre>\n\n<p>This prints <code>Here &lt;code/&gt;is&lt;/code&gt; a string</code></p>\n\n<p>Hope this is helpful.</p>\n"}], "owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 39989861, "answer_count": 1, "score": 0, "last_activity_date": 1476241493, "creation_date": 1476234347, "question_id": 39988994, "link": "https://stackoverflow.com/questions/39988994/perl-regex-dynamic-capturing", "title": "perl regex dynamic capturing", "body": "<p>Is there a way to set a dynamic capture unit</p>\n\n<pre><code>my $pattern = '`(.*?)`';\n$string =~ s{$pattern}{&lt;code/&gt;$1&lt;/code&gt;}im;\n</code></pre>\n\n<p>But instead of passing <code>&lt;code/&gt;$1&lt;/code&gt;</code> directly to replace, i want to store it as a variable (which may defer depending on the type of data i want to capture)</p>\n\n<pre><code>my $pattern = '`(.*?)`';\nmy $replace = '&lt;code/&gt;$1&lt;/code&gt;'; #or my $replace = '&lt;code/&gt;$2&lt;/code&gt;'\n$string =~ s{$pattern}{$replace}im;\n</code></pre>\n"}, {"tags": ["perl", "perl-stash"], "comments": [{"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "edited": false, "score": 0, "creation_date": 1476427588, "post_id": 39988822, "comment_id": 67349653, "body": "Alright, I updated my answer."}], "answers": [{"comments": [{"owner": {"reputation": 1588, "user_id": 1440562, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ov87a.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1440562/chris"}, "edited": false, "score": 0, "creation_date": 1476282572, "post_id": 39990762, "comment_id": 67280215, "body": "Wouldn&#39;t <code>my $alias = Some::Really::Long::Package::;</code> work regardless of if the package definitions are all in one file? In practice I&#39;d put them in different files, I just simplified the situation to pose the question succinctly."}, {"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "reply_to_user": {"reputation": 1588, "user_id": 1440562, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ov87a.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1440562/chris"}, "edited": false, "score": 0, "creation_date": 1476423011, "post_id": 39990762, "comment_id": 67347557, "body": "Not sure if I understand you right. In your example where all <code>package</code> calls are in one file, the scalar <code>$alias</code> (declared with <code>my</code> inside <code>Short</code>) could be seen by all packages below (e.g. <code>main)</code>, because it&#39;s lexical scope is the entire file. As this is not what you want, I limited the scope of <code>$alias</code> with a <code>{}</code> block in the last example. If your packages are in their own files, <code>my</code> will make the variable completely private to it&#39;s package and thus inaccessible from all other/external packages."}, {"owner": {"reputation": 1588, "user_id": 1440562, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ov87a.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1440562/chris"}, "edited": false, "score": 1, "creation_date": 1476816818, "post_id": 39990762, "comment_id": 67503295, "body": "I found why it doesn&#39;t work with <code>::</code> in the <a href=\"http://perl5.git.perl.org/perl.git/blob/01aeece0064776ef8376d241eb4e3e4692362c23:/gv.c#l1571\" rel=\"nofollow noreferrer\">perl source</a>.  When doing a lookup via <code>Alias::myMethod()</code>, <code>parse_gv_stash_name</code> is called with a null stash pointer, which causes perl to use the default stash, which is <code>main</code>."}, {"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "reply_to_user": {"reputation": 1588, "user_id": 1440562, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ov87a.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1440562/chris"}, "edited": false, "score": 0, "creation_date": 1476821717, "post_id": 39990762, "comment_id": 67506051, "body": "To be honest, I didn&#39;t check the perl source. Thanks for pointing that out! I&#39;m glad to see that my statement is consistent with the source."}], "tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": true, "score": 7, "last_activity_date": 1476427534, "last_edit_date": 1476427534, "creation_date": 1476248049, "answer_id": 39990762, "question_id": 39988822, "link": "https://stackoverflow.com/questions/39988822/how-do-i-alias-a-long-package-name-without-affecting-the-main-package/39990762#39990762", "title": "How do I alias a long package name without affecting the main package?", "body": "<p>Since you don't want to modify the symbol table of <code>main</code>, you could create a \"package-local\" alias with</p>\n\n<pre><code>package Short;\n\nuse constant Alias =&gt; 'Some::Really::Long::Package'; # create alias\nAlias-&gt;myMethod(); # correctly calls myMethod() of package Some::Really::Long::Package\n</code></pre>\n\n<p>or alternatively</p>\n\n<pre><code>package Short;\n\nsub Alias { Some::Really::Long::Package:: } # create alias\nAlias-&gt;myMethod(); # correctly calls myMethod() of package Some::Really::Long::Package\n</code></pre>\n\n<p>Both examples should work as intended. Consequently, any attempt to call <code>Alias-&gt;myMethod()</code> from package <code>main</code> will obviously fail with</p>\n\n<blockquote>\n  <p>Can't locate object method \"myMethod\" via package \"Alias\" (perhaps you forgot to load \"Alias\"?)</p>\n</blockquote>\n\n<p>because the symbol table <code>%main::</code> or <code>%::</code> has no such entry called <code>Alias::</code>.</p>\n\n<hr>\n\n<p>Due to the fact that you have several <code>package</code> calls in one file, you can also create <code>$alias</code> to reference <code>Some::Really::Long::Package</code>. Then you can limit the scope of <code>$alias</code> to the package <code>Short</code> to make it inaccessible from other places:</p>\n\n<pre><code>package Short;\n{\n   my $alias = Some::Really::Long::Package::; # create alias\n   $alias-&gt;myMethod(); # correctly calls myMethod() of package Some::Really::Long::Package\n}\n</code></pre>\n\n<hr>\n\n<p>EDIT (as response to the edited question):</p>\n\n<p>The updated question is:</p>\n\n<blockquote>\n  <p>Can both <code>Alias-&gt;myMethod()</code> and <code>Alias::myMethod()</code> work in the <code>Short</code> package but not in <code>main</code>?</p>\n</blockquote>\n\n<p>I don't think so.</p>\n\n<p>There are several options to make it work with the <code>-&gt;</code> syntax but not with the <code>::</code>. This is because perl seems to assume that a bareword like <code>Alias</code> followed by the package separator <code>::</code> represents the package <code>Alias</code> in the package <code>main</code>:</p>\n\n<pre><code>package Short;\n\nAlias::myMethod();           # if you call myMethod(), you actually call it ...\n\n::Alias::myMethod();         # ... like this, which is equivalent ...\n\nmain::Alias::myMethod();     # ... to this\n</code></pre>\n\n<p>All three calling options are equivalent, which demonstrates an important fact. If perl encounters something like <code>Foo::</code>, it starts looking in the package <code>main</code> first and not from the current (relative) location. So if I'm not missing something here, you can not use <code>Alias::myMethod()</code> without adding <code>Alias::</code> to <code>main</code>.</p>\n\n<blockquote>\n  <p>This is what something like <code>Package::Alias</code> does for you internally. However, this stinks because it mucks with the <code>main</code> package.</p>\n</blockquote>\n\n<p>Now, what I described above would also explain why modules like <code>Package::Alias</code> modify your <code>main</code> package, because there seem to be no way to avoid it.</p>\n"}], "owner": {"reputation": 1588, "user_id": 1440562, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ov87a.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1440562/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 39990762, "answer_count": 1, "score": 6, "last_activity_date": 1476427534, "creation_date": 1476232812, "last_edit_date": 1476288032, "question_id": 39988822, "link": "https://stackoverflow.com/questions/39988822/how-do-i-alias-a-long-package-name-without-affecting-the-main-package", "title": "How do I alias a long package name without affecting the main package?", "body": "<p>If I have a really long package name, I can alias that package by making an entry in the symbol table:</p>\n\n<pre><code>BEGIN {\n    # Make \"Alias\" be an alias for \"Some::Really::Long::Package\";\n    *Alias:: = \\*Some::Really::Long::Package::;\n    # Equivalent to:\n    # *main::Alias:: = \\*Some::Really::Long::Package::;\n}\n</code></pre>\n\n<p>This is what something like <code>Package::Alias</code> does for you internally.  However, this stinks because it mucks with the <code>main</code> package.  How can I make the alias only affect the current package, and be able to use just the alias within the package?  I tried changing the alias definition to</p>\n\n<pre><code>*Short::Alias:: = \\*Some::Really::Long::Package::;\n</code></pre>\n\n<p>But then I have to use <code>Short::Alias-&gt;myMethod()</code> instead of just <code>Alias-&gt;myMethod()</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage Some::Really::Long::Package;\n\nsub myMethod {\n    print \"myMethod\\n\";\n}\n\npackage Short;\n\nBEGIN {\n    # Make \"Alias\" be an alias for \"Some::Really::Long::Package\";\n    *Short::Alias:: = \\*Some::Really::Long::Package::;\n}\n\n# I want this to work\nAlias-&gt;myMethod();\n\npackage main;\n\n# I want this to not work\nAlias-&gt;myMethod();\n</code></pre>\n\n<hr>\n\n<p><strong>Bonus points</strong> if both <code>Alias-&gt;myMethod()</code> and <code>Alias::myMethod()</code> work in the <code>Short</code> package, and not in <code>main</code>.</p>\n"}, {"tags": ["perl", "decode", "html-entities"], "answers": [{"comments": [{"owner": {"reputation": 1780, "user_id": 3195596, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E2NcP.jpg?s=128&g=1", "display_name": "Leo Galleguillos", "link": "https://stackoverflow.com/users/3195596/leo-galleguillos"}, "edited": false, "score": 0, "creation_date": 1476468945, "post_id": 39987087, "comment_id": 67375195, "body": "Thank you for the explanation."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1476222620, "last_edit_date": 1476222620, "creation_date": 1476221456, "answer_id": 39987087, "question_id": 39986810, "link": "https://stackoverflow.com/questions/39986810/why-do-i-get-garbled-output-when-i-decode-some-html-entities-but-not-others/39987087#39987087", "title": "Why do I get garbled output when I decode some HTML entities but not others?", "body": "<p>The decoding works fine. It's how you're outputting them that's wrong. For example, you may have sent the strings to a terminal without encoding them for that terminal first. This is achieved through the <code>open</code> pragma in the following program:</p>\n\n<pre><code>$ perl -e'\n    use open \":std\", \":encoding(UTF-8)\";\n    use HTML::Entities qw( decode_entities );\n    CORE::say decode_entities($_)\n       for \"&amp;#174;\", \"&amp;#8486;\", \"&amp;#9733;\";\n'\n\u00ae\n\u2126\n\u2605\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": false, "score": 1, "last_activity_date": 1476221871, "creation_date": 1476221871, "answer_id": 39987175, "question_id": 39986810, "link": "https://stackoverflow.com/questions/39986810/why-do-i-get-garbled-output-when-i-decode-some-html-entities-but-not-others/39987175#39987175", "title": "Why do I get garbled output when I decode some HTML entities but not others?", "body": "<p>Make sure your terminal can handle UTF-8 encoding. It looks like it's having problems with multibyte characters. You can also try to set UTF-8 for STDOUT in case you get wide character warnings.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse HTML::Entities;\n\nbinmode STDOUT, ':encoding(UTF-8)';\n\nprint decode_entities('&amp;#174;');  # returns \u00ae\nprint decode_entities('&amp;#8486;'); # returns \u2126\nprint decode_entities('&amp;#9733;'); # returns \u2605\n</code></pre>\n\n<p>This gives me the correct/expected results.</p>\n"}], "owner": {"reputation": 1780, "user_id": 3195596, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E2NcP.jpg?s=128&g=1", "display_name": "Leo Galleguillos", "link": "https://stackoverflow.com/users/3195596/leo-galleguillos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 39987087, "answer_count": 2, "score": 1, "last_activity_date": 1476222620, "creation_date": 1476220300, "last_edit_date": 1476221930, "question_id": 39986810, "link": "https://stackoverflow.com/questions/39986810/why-do-i-get-garbled-output-when-i-decode-some-html-entities-but-not-others", "title": "Why do I get garbled output when I decode some HTML entities but not others?", "body": "<p>In Perl, I am trying to decode strings which contain numeric HTML entities using <a href=\"https://metacpan.org/pod/HTML::Entities\" rel=\"nofollow\">HTML::Entities</a>. Some entities work, while \"newer\" entities don't. For example:</p>\n\n<pre><code>decode_entities('&amp;#174;');  # returns \u00ae as expected\ndecode_entities('&amp;#8486;'); # returns \u00e2\u201e\u00a6 instead of \u2126\ndecode_entities('&amp;#9733;'); # returns \u00e2\u02dc\u2026 instead of \u2605\n</code></pre>\n\n<p>Is there a way to decode these \"newer\" HTML entities in Perl? In PHP, the <code>html_entity_decode</code> function seems to decode all of these entities without any problem.</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1476220024, "post_id": 39986672, "comment_id": 67252299, "body": "The main problem is why you use <code>system()</code> when you can do all with perl?"}, {"owner": {"reputation": 1, "user_id": 6952569, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113769112009686/picture?type=large", "display_name": "Anirudh AV", "link": "https://stackoverflow.com/users/6952569/anirudh-av"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1476220682, "post_id": 39986672, "comment_id": 67252637, "body": "I did&#39;nt  know that pearl can be used directly. Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1476220696, "post_id": 39986744, "comment_id": 67252640, "body": "Not exactly the safest approach, though. It&#39;d be better to pass the arguments through the environment and let the shell interpret them, or as explicit strings passed to the shell&#39;s argv, to avoid potential for shell injection attacks should a malicious key be present in the list."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1476222578, "post_id": 39986744, "comment_id": 67253531, "body": "You can validate <code>$gid</code> before passing, though; in this case you would just need to verify that it is a valid group name."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1476222673, "post_id": 39986744, "comment_id": 67253572, "body": "If your code will only ever be run on a system that doesn&#39;t allow more group names than POSIX requires be valid, sure. On cygwin, however, usernames or group names with spaces (f&#39;rinstance) are things that happen in practice."}], "tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 0, "last_activity_date": 1476220064, "creation_date": 1476220064, "answer_id": 39986744, "question_id": 39986672, "link": "https://stackoverflow.com/questions/39986672/how-to-use-a-variable-in-perl-as-an-input-to-a-pipe-command/39986744#39986744", "title": "How to use a variable in perl as an input to a pipe command?", "body": "<p><code>system</code> takes a string, so just use interpolation as elsewhere.</p>\n\n<pre><code>system(\"getent group | grep -w ^$gid | awk -f: '{printf \\$0}'\");\n</code></pre>\n\n<p>(You need to escape the <code>$</code> in the <code>awk</code> command to prevent Perl from expanding <code>$0</code> before passing the string to <code>system</code>.)</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6952569, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113769112009686/picture?type=large", "display_name": "Anirudh AV", "link": "https://stackoverflow.com/users/6952569/anirudh-av"}, "edited": false, "score": 0, "creation_date": 1476220904, "post_id": 39986833, "comment_id": 67252747, "body": "this is working fine! but there is another issue. There may be 2 groups with the same GID , the difference between them is that one group has the last column empty and the other one has atleast one member. This command pulls out the null record. How can i check for a non-null member group?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476221033, "post_id": 39986833, "comment_id": 67252811, "body": "Re &quot;<i>There may be 2 groups with the same GID</i>&quot;, No, group ids are unique."}, {"owner": {"reputation": 1, "user_id": 6952569, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113769112009686/picture?type=large", "display_name": "Anirudh AV", "link": "https://stackoverflow.com/users/6952569/anirudh-av"}, "edited": false, "score": 0, "creation_date": 1476221137, "post_id": 39986833, "comment_id": 67252860, "body": "% getent group | grep -w 22 voice:x:22: grad:*:22:abrun"}, {"owner": {"reputation": 1, "user_id": 6952569, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113769112009686/picture?type=large", "display_name": "Anirudh AV", "link": "https://stackoverflow.com/users/6952569/anirudh-av"}, "edited": false, "score": 0, "creation_date": 1476221166, "post_id": 39986833, "comment_id": 67252881, "body": "here voice and grad are two groups with 22 as GID."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 1, "user_id": 6952569, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113769112009686/picture?type=large", "display_name": "Anirudh AV", "link": "https://stackoverflow.com/users/6952569/anirudh-av"}, "edited": false, "score": 1, "creation_date": 1476222765, "post_id": 39986833, "comment_id": 67253614, "body": "@AnirudhAV, files on the operating system are associated with a group by GID number, not by a name. Thus, if you have two names mapped to the same GID, it&#39;s impossible to tell which of the groups owns a file. Thus, that&#39;s a serious bug in system configuration: In effect, if both groups are recognized, they&#39;ll <i>both</i> own any resources owned by either, because what you have is just one group called by two names."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 6952569, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113769112009686/picture?type=large", "display_name": "Anirudh AV", "link": "https://stackoverflow.com/users/6952569/anirudh-av"}, "edited": false, "score": 1, "creation_date": 1476226349, "post_id": 39986833, "comment_id": 67254871, "body": "@Anirudh AV, No, there&#39;s still only one group: <code>22</code>. You just have a badly corrupted definition of that group. Trying to give a single group two names and two membership lists (as you have) makes no sense! That&#39;s simply not going to work. Fix your <code>&#47;etc&#47;group</code> file!!!"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1476220861, "last_edit_date": 1476220861, "creation_date": 1476220398, "answer_id": 39986833, "question_id": 39986672, "link": "https://stackoverflow.com/questions/39986672/how-to-use-a-variable-in-perl-as-an-input-to-a-pipe-command/39986833#39986833", "title": "How to use a variable in perl as an input to a pipe command?", "body": "<p>There is no reason to shell out here. It looks like you want the group name from the group ID. Perl's built-in <a href=\"http://perldoc.perl.org/5.8.8/functions/getgrgid.html\" rel=\"nofollow\">getgrgid()</a> function can easily handle that by passing in the GID:</p>\n\n<pre><code>for my $gid (sort (keys %list)){\n    if ($list{$gid} &gt;= $count){\n        print \"$list{$gid} ---&gt; \";\n        print \"$gid ---&gt; \";\n        my $name = getgrgid($gid); # &lt;-- here\n        print \"** $name **\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1476220836, "last_edit_date": 1476220836, "creation_date": 1476220485, "answer_id": 39986850, "question_id": 39986672, "link": "https://stackoverflow.com/questions/39986672/how-to-use-a-variable-in-perl-as-an-input-to-a-pipe-command/39986850#39986850", "title": "How to use a variable in perl as an input to a pipe command?", "body": "<p>Rather then trying to build a proper shell command containing a proper regular expression, it's simpler to use the provided C library calls.</p>\n\n<p>It's unclear what you want. <code>$gid</code> sounds like you have a group's id, but <code>^$gid</code> makes it look like you have a group's name. As such, I provided two answers.</p>\n\n<hr>\n\n<p>If you have a group's name and you want its id,</p>\n\n<pre><code>my $name = 'root';\n\nwhile ( my ($this_name, $this_id) = ( getgrent() )[0,2] ) {\n   if ($this_name eq $name) {\n      print(\"$this_id\\n\");\n      last;\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>If you have a group's id and you want its name,</p>\n\n<pre><code>my $id = 0;\n\nmy $name = getgrgid($id);\nprint(\"$name\\n\");\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6952569, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113769112009686/picture?type=large", "display_name": "Anirudh AV", "link": "https://stackoverflow.com/users/6952569/anirudh-av"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1476221598, "creation_date": 1476219761, "last_edit_date": 1476219847, "question_id": 39986672, "link": "https://stackoverflow.com/questions/39986672/how-to-use-a-variable-in-perl-as-an-input-to-a-pipe-command", "title": "How to use a variable in perl as an input to a pipe command?", "body": "<p>example: </p>\n\n<pre><code>foreach $gid (sort (keys %list)){\n    if ($list{$gid} &gt;= $count){\n        print \"$list{$gid} ---&gt; \";\n        print \"$gid ---&gt; \";\n        system(getent group | grep -w ^$gid | awk -F: '{printf $0 } ');\n    }\n}\n</code></pre>\n\n<p>**here <code>$gid</code> is the variable that contains a value that i want to search within a system commmand and get the first part of that command printed.</p>\n"}, {"tags": ["regex", "perl", "unix", "grep", "exec"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1476216825, "post_id": 39985743, "comment_id": 67250566, "body": "Can pattern exist more than twice in each file? Do you want to replace only 2 instances?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1476217946, "post_id": 39985743, "comment_id": 67251192, "body": "It has nothing to do with Perl but with <code>find</code>: if you are using <i>GNU find</i> then you can write <code>find .&#47; -type f -exec perl \u2026 &#39;{}&#39; +</code> instead of <code>find .&#47; -type f -exec perl \u2026 &#39;{}&#39; \\;</code>. Note the <code>+</code> instead of the <code>\\;</code>. <code>find</code> will then call <code>perl</code> with multiple filenames at once (as many as fit into the command line) and thus dramatically decrease the overall execution time."}, {"owner": {"reputation": 968, "user_id": 2898592, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/73e5b3a840f9b874ea5ecb89a281e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "A.J", "link": "https://stackoverflow.com/users/2898592/a-j"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1476270950, "post_id": 39985743, "comment_id": 67272138, "body": "@PerlDog Thank you. It did improve it significantly."}], "answers": [{"comments": [{"owner": {"reputation": 968, "user_id": 2898592, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/73e5b3a840f9b874ea5ecb89a281e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "A.J", "link": "https://stackoverflow.com/users/2898592/a-j"}, "edited": false, "score": 0, "creation_date": 1476271330, "post_id": 39985840, "comment_id": 67272387, "body": "Thank you for the simple solution, but I am looking for something that would work for multiple files at once."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 968, "user_id": 2898592, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/73e5b3a840f9b874ea5ecb89a281e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "A.J", "link": "https://stackoverflow.com/users/2898592/a-j"}, "edited": false, "score": 1, "creation_date": 1476272642, "post_id": 39985840, "comment_id": 67273242, "body": "So add this <code>perl</code> cmd to your original find maybe ?!"}, {"owner": {"reputation": 968, "user_id": 2898592, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/73e5b3a840f9b874ea5ecb89a281e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "A.J", "link": "https://stackoverflow.com/users/2898592/a-j"}, "edited": false, "score": 0, "creation_date": 1476273564, "post_id": 39985840, "comment_id": 67273792, "body": "It removes only the first part of the line in both cases. So if it were <code>s&#47;aaabbbeee.*eeecccfff&#47;&#47;ms</code>, it would leave the <code>eee</code> and <code>fff</code> and put them into one line."}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1476216483, "creation_date": 1476216483, "answer_id": 39985840, "question_id": 39985743, "link": "https://stackoverflow.com/questions/39985743/remove-lines-after-pattern-in-multiple-files/39985840#39985840", "title": "remove lines after pattern in multiple files", "body": "<p>Take a file :</p>\n\n<pre><code>aaa\nbbb\nccc\nddd\neee\nfff\n</code></pre>\n\n<p>Now, we want to remove from <code>bbb</code> to <code>ccc</code>, so :</p>\n\n<pre><code>perl -i -0pe 's/bbb.*ccc//ms'  file\n</code></pre>\n\n<p>The <code>0</code> will <em>slurp</em> the file paragraph by paragraph</p>\n"}, {"comments": [{"owner": {"reputation": 968, "user_id": 2898592, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/73e5b3a840f9b874ea5ecb89a281e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "A.J", "link": "https://stackoverflow.com/users/2898592/a-j"}, "edited": false, "score": 0, "creation_date": 1476271285, "post_id": 39986061, "comment_id": 67272355, "body": "Thanks! I do want to remove the following 4 lines though, so how do I do that? I assume I need to change <code>next</code> to something else?"}], "tags": [], "owner": {"reputation": 34, "user_id": 7003667, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-88NB1iAZqMM/AAAAAAAAAAI/AAAAAAAAANI/j8m5Fauv5UQ/photo.jpg?sz=128", "display_name": "Gregory Youngblood", "link": "https://stackoverflow.com/users/7003667/gregory-youngblood"}, "is_accepted": true, "score": 1, "last_activity_date": 1476217341, "creation_date": 1476217341, "answer_id": 39986061, "question_id": 39985743, "link": "https://stackoverflow.com/questions/39985743/remove-lines-after-pattern-in-multiple-files/39986061#39986061", "title": "remove lines after pattern in multiple files", "body": "<p>It's more brute force than elegant, but I think this will remove the line with the matching pattern and the line following it.</p>\n\n<pre><code>find ./ -type f -exec perl -i -e '$x=0 ; while (&lt;&gt;) {if ($_ =~ /&lt;pattern&gt;/) { $x++; next; }; if ($x) { $x=0; next; }; print \"$_\";}' {} \\;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1477494472, "post_id": 40009575, "comment_id": 67792126, "body": "@Nik to answer your question on the other answer, the solution to remove the line and the next 4 is: <code>find .&#47; -type f -exec perl -ni -e &#39;$ml=$. if &#47;&lt;pattern&gt;&#47;; print unless (defined $ml &amp;&amp; $.&lt;=$ml+4)&#39; {} +</code>"}], "tags": [], "owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "is_accepted": false, "score": 0, "last_activity_date": 1477659601, "last_edit_date": 1477659601, "creation_date": 1476312408, "answer_id": 40009575, "question_id": 39985743, "link": "https://stackoverflow.com/questions/39985743/remove-lines-after-pattern-in-multiple-files/40009575#40009575", "title": "remove lines after pattern in multiple files", "body": "<p>This is the perl answer for just one file.  I don't want anyone who finds this question to not realize the <code>find</code> which you have wrapped it in will edit hidden files as well.</p>\n\n<p><strong>Answer:</strong></p>\n\n<p><code>perl -ni -e '$ml=$. if /&lt;pattern&gt;/; print unless (defined $ml &amp;&amp; $.&lt;=$ml+[n])' input-file</code></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><code>perl -ni</code> will read and replace the <code>input-file</code> but only print if instructed to</p>\n\n<p><code>$ml=$. if /&lt;pattern&gt;/</code> sets the <code>$ml</code> matching line variable to <code>$.</code>, which is the current line of the input file</p>\n\n<p><code>print unless (defined $ml &amp;&amp; $.&lt;=$ml+[n])</code> will print every line except the the line that matches and the [n] next lines</p>\n"}], "owner": {"reputation": 968, "user_id": 2898592, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/73e5b3a840f9b874ea5ecb89a281e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "A.J", "link": "https://stackoverflow.com/users/2898592/a-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "accepted_answer_id": 39986061, "answer_count": 3, "score": 0, "last_activity_date": 1477659601, "creation_date": 1476216117, "question_id": 39985743, "link": "https://stackoverflow.com/questions/39985743/remove-lines-after-pattern-in-multiple-files", "title": "remove lines after pattern in multiple files", "body": "<p>I have the following command</p>\n\n<pre><code>find ./ -type f -exec perl -pi -e 's/&lt;pattern&gt;//g' '{}' \\;\n</code></pre>\n\n<p>it works well and remove the pattern, but how can I remove the pattern, the line it is on, and <code>n</code> lines after?</p>\n"}, {"tags": ["oracle", "perl", "dbi", "subquery-factoring"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1476218117, "post_id": 39985382, "comment_id": 67251272, "body": "PostgreSQL calls this <code>common table expressions</code>, and as far as I remember I use them just the way you describe it, <code>prepare</code>, <code>execute</code> and <code>fetch*</code>."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 7003451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xVs4U.png?s=128&g=1", "display_name": "TuAmigoAlejandro", "link": "https://stackoverflow.com/users/7003451/tuamigoalejandro"}, "edited": false, "score": 0, "creation_date": 1476222376, "post_id": 39986474, "comment_id": 67253447, "body": "What version of Perl and DBI did you use to test the code?"}], "tags": [], "owner": {"reputation": 1905, "user_id": 6933975, "user_type": "registered", "profile_image": "https://graph.facebook.com/344790212524264/picture?type=large", "display_name": "Michael Piankov", "link": "https://stackoverflow.com/users/6933975/michael-piankov"}, "is_accepted": false, "score": 0, "last_activity_date": 1476218941, "creation_date": 1476218941, "answer_id": 39986474, "question_id": 39985382, "link": "https://stackoverflow.com/questions/39985382/does-perl-dbi-support-oracle-subquery-factoring/39986474#39986474", "title": "Does Perl DBI Support Oracle Subquery Factoring?", "body": "<p>Perl DBI correctly processed 'WITH' clause.\nI just now check it and test your code \nAccording to error there is may by only one case You forget to call </p>\n\n<pre><code> $sth-&gt;execute();\n</code></pre>\n\n<p>Double check please are it called, may be it was commented or something else. \nBut your code work correct.</p>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 7003451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xVs4U.png?s=128&g=1", "display_name": "TuAmigoAlejandro", "link": "https://stackoverflow.com/users/7003451/tuamigoalejandro"}, "is_accepted": true, "score": 1, "last_activity_date": 1476241858, "last_edit_date": 1476241858, "creation_date": 1476227058, "answer_id": 39988096, "question_id": 39985382, "link": "https://stackoverflow.com/questions/39985382/does-perl-dbi-support-oracle-subquery-factoring/39988096#39988096", "title": "Does Perl DBI Support Oracle Subquery Factoring?", "body": "<p>It appears my version of Perl (5.8.8), DBI (1.58), and/or DBD::Oracle (1.19) do not support Oracle Subquery Factoring.</p>\n\n<p>I was able to successfully execute the same Perl application through updated Perl (5.12.1), DBI (1.613), and DBD::Oracle (1.24) versions.</p>\n\n<p>Unfortunately, even after reading change histories for Perl, DBI, and DBD::Oracle, I do not know exactly which component introduced support of Oracle Subquery Factoring.  My suspicion is the DBI Oracle driver (DBD::Oracle).</p>\n"}], "owner": {"reputation": 75, "user_id": 7003451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xVs4U.png?s=128&g=1", "display_name": "TuAmigoAlejandro", "link": "https://stackoverflow.com/users/7003451/tuamigoalejandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 39988096, "answer_count": 2, "score": 2, "last_activity_date": 1476241858, "creation_date": 1476214844, "last_edit_date": 1476215247, "question_id": 39985382, "link": "https://stackoverflow.com/questions/39985382/does-perl-dbi-support-oracle-subquery-factoring", "title": "Does Perl DBI Support Oracle Subquery Factoring?", "body": "<p>I have searched online for several days and cannot find an answer.</p>\n\n<p>Does Perl DBI support Oracle Subquery Factoring (i.e. WITH-clause)?</p>\n\n<p>As an example, the simple Perl DBI application further below fails with the error:</p>\n\n<pre><code>DBD::Oracle::st fetchrow_array failed: ERROR no statement executing (perhaps you need to call execute first)\n</code></pre>\n\n<p>Simple Perl DBI Application:</p>\n\n<pre><code>#!/bin/perl\n\nuse DBI;\n\nmy $sql = &lt;&lt;END_SQL;\nWITH w AS\n(\n    SELECT wafer_seq\n    FROM wafer\n    WHERE load_time &gt; sysdate - 1\n)\nSELECT v.*\nFROM vwafer v, w\nWHERE v.wafer_seq = w.wafer_seq\nORDER BY v.wafer_seq\nEND_SQL\n\nmy $dbh = DBI-&gt;connect('DBI:Oracle:&lt;schema_id&gt;', '&lt;username&gt;', '&lt;password&gt;');\n\nmy $sth = $dbh-&gt;prepare($sql) || die \"ERROR PREP\";\n\n$sth-&gt;execute() || die \"ERROR EXEC\";\n\nwhile (my @row = $sth-&gt;fetchrow_array())\n{\n    print \"@row\\n\";\n}\n\n$sth-&gt;finish();\n\n$dbh-&gt;disconnect();\n\nexit 0;\n</code></pre>\n\n<p>This same application will work if I simply change the SQL to:</p>\n\n<pre><code>SELECT v.*\nFROM vwafer v, \n    (\n        SELECT wafer_seq\n        FROM wafer\n        WHERE load_time &gt; sysdate - 1\n    ) w\nWHERE v.wafer_seq = w.wafer_seq\nORDER BY v.wafer_seq\n</code></pre>\n\n<p>Finally, I confirmed that both SQLs mentioned above work when executed directly in a database visualizer application (e.g. DBVisualizer).</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1476215552, "post_id": 39985494, "comment_id": 67249873, "body": "is there any other way apart from adding \\ to it? like can i do it inside the subroutine?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1476215717, "post_id": 39985494, "comment_id": 67249945, "body": "@ChrysUgwu no, because function parameters appear to perl as one big list, so you can not differentiate a list of scalars, an array or a hash after the function has already accepted it."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 3, "last_activity_date": 1476215611, "last_edit_date": 1476215611, "creation_date": 1476215145, "answer_id": 39985494, "question_id": 39985381, "link": "https://stackoverflow.com/questions/39985381/perl-get-parameter-datatype/39985494#39985494", "title": "Perl get parameter datatype", "body": "<p><a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow\">ref()</a> takes a <em>reference</em> to something, not the something itself. Here:</p>\n\n<pre><code>replace($str);\nreplace(@arr);\n</code></pre>\n\n<p>...you are sending in the something directly. Send in a reference to the something instead, by putting a <code>\\</code> in front of it (which says, \"take a reference to this something\"):</p>\n\n<pre><code>replace(\\$str);\nreplace(\\@arr);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>r is a reference to a SCALAR.\nr is a reference to a ARRAY.\n</code></pre>\n\n<p>Note also that in your <code>replace()</code> function, in this line:</p>\n\n<pre><code>my ($search, $replacement, $subject) = @_;\n</code></pre>\n\n<p>You are effectively asking for a scalar value as the thing to search, so passing in a list (array, hash etc) will clobber <code>$replacement</code> and <code>$subject</code> if the passed in list has more than one element, so you may want to do something like this to ensure you're getting the proper params, and nothing is clobbered unexpectedly:</p>\n\n<pre><code>sub replace {\n    my ($search, $replacement, $subject) = @_;\n    die \"first arg must be a ref\\n\" if ! ref $search;\n</code></pre>\n\n<p>Of course, you can do further argument checking, but this'll ensure that the first parameter can only be a reference to something. Instead of <code>die()</code>, you can also just <code>return</code> so the program doesn't crash, or <code>print</code> or <code>warn</code> and then <code>return</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1476222313, "last_edit_date": 1495540113, "creation_date": 1476215163, "answer_id": 39985496, "question_id": 39985381, "link": "https://stackoverflow.com/questions/39985381/perl-get-parameter-datatype/39985496#39985496", "title": "Perl get parameter datatype", "body": "<p>It is not stated what you want to do with it, but here's what is wrong with what you show.</p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow noreferrer\">ref</a> function shows the datatype of the <em>reference</em> subtmitted to it, or it returns an empty string if its argument isn't a reference at all.</p>\n\n<p>So to get the expected behavior you should do</p>\n\n<pre><code>replace(\\$str);\nreplace(\\@arr);\n</code></pre>\n\n<p>Also, you need to add the test to your function</p>\n\n<pre><code>else (not ref $search)\n</code></pre>\n\n<p>for when a submitted string is not a reference.</p>\n\n<hr>\n\n<p>For completeness, I should also point out an issue, explained in the answer by <a href=\"https://stackoverflow.com/users/1334695/stevieb\">stevieb</a>.  When you pass an array to a function, it receives it as a flat list of arguments. With your function you clearly do not want <code>replace(@arr)</code>.  They are assigned to your list of scalar variables in order, one element to each. (As soon as there is an array variable it all goes into it.) See, for example, <a href=\"https://stackoverflow.com/questions/39670453/odd-number-of-elements-in-hash-assignment-with-default/39670787#39670787\">this post</a>.</p>\n"}], "owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 39985494, "answer_count": 2, "score": 1, "last_activity_date": 1476222313, "creation_date": 1476214838, "question_id": 39985381, "link": "https://stackoverflow.com/questions/39985381/perl-get-parameter-datatype", "title": "Perl get parameter datatype", "body": "<p>Am trying to make a subroutine that replaces data depending on datatype: the problem is i can't get the datatype of the parameter, i used this: </p>\n\n<pre><code> sub replace {\n      my ($search, $replacement, $subject) = @_;\n\n      if (ref($search) eq \"HASH\") {\n          print \"r is a reference to a HASH.\\n\";\n      }\n      elsif (ref($search) eq \"SCALAR\") {\n          print \"r is a reference to a SCALAR.\\n\";\n      }\n      elsif (ref($search) eq \"ARRAY\") {\n          print \"r is a reference to a ARRAY.\\n\";\n      }\n  }\n\nmy $str = \"Foo\";\nmy @arr = (\"Foo\");\n\nreplace($str);\nreplace(@arr);\n</code></pre>\n\n<p>But none works. am really new to perl</p>\n"}, {"tags": ["perl", "oop", "while-loop", "io"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1476212678, "post_id": 39984613, "comment_id": 67248304, "body": "It&#39;s working fine on my machine ( Ubuntu 16.04, Perl 5.22 ). Though some <code>my</code> keywords had to be added first to silence warnings."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476212734, "post_id": 39984613, "comment_id": 67248327, "body": "I don&#39;t see any errors -- and I tested and it works fine (v5.10).  Does your first loop complete --  did you try to print between the loops? Are the files cetainly OK? Can you show a full example, together with some short sample files?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476213075, "post_id": 39984613, "comment_id": 67248510, "body": "For one thing, your &quot;<i>data extraction ...</i>&quot; may be getting you in an infinite loop in either <code>while</code>, or exiting the second loop right away."}, {"owner": {"reputation": 71, "user_id": 3955619, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d43aa42a5c3e41b9e55418c24f22340b?s=128&d=identicon&r=PG&f=1", "display_name": "tobiuchiha", "link": "https://stackoverflow.com/users/3955619/tobiuchiha"}, "edited": false, "score": 0, "creation_date": 1476213206, "post_id": 39984613, "comment_id": 67248578, "body": "Oh. I am running it on openSUSE 13.1, Perl 15.8. I am not printing anything between the loops. When I am running the loops from two different perl scripts, it is working fine but not when I am running them from the same script. Also, I am not getting any error while compiling the code."}, {"owner": {"reputation": 71, "user_id": 3955619, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d43aa42a5c3e41b9e55418c24f22340b?s=128&d=identicon&r=PG&f=1", "display_name": "tobiuchiha", "link": "https://stackoverflow.com/users/3955619/tobiuchiha"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476213369, "post_id": 39984613, "comment_id": 67248671, "body": "@zdim If I am entering an infinite loop in either of the while loops, then the print statements outside of the loops should not work, right?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476213419, "post_id": 39984613, "comment_id": 67248702, "body": "OK. Nothing&#39;s wrong with what you do show that I can tell.  Either show a mininmal <i>full</i> example with a  problem, or debug -- say, enter a print statement between loops and one right at the start of the second <code>while</code>, <i>before any processing</i>. Also add a print after the second <code>while</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476213478, "post_id": 39984613, "comment_id": 67248733, "body": "Of course, in an infinite loop your program would appear to hang.  i mentioned that because it wasn&#39;t completely clear to me from the question whether it may be the case.  If your program does complete (exit) then you don&#39;t have that."}, {"owner": {"reputation": 71, "user_id": 3955619, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d43aa42a5c3e41b9e55418c24f22340b?s=128&d=identicon&r=PG&f=1", "display_name": "tobiuchiha", "link": "https://stackoverflow.com/users/3955619/tobiuchiha"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476213816, "post_id": 39984613, "comment_id": 67248936, "body": "@zdim I have tried all the possible combination of print statements outside of the loop. They are working. But any print statement or anything is not working inside the second while loop."}, {"owner": {"reputation": 71, "user_id": 3955619, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d43aa42a5c3e41b9e55418c24f22340b?s=128&d=identicon&r=PG&f=1", "display_name": "tobiuchiha", "link": "https://stackoverflow.com/users/3955619/tobiuchiha"}, "edited": false, "score": 0, "creation_date": 1476214213, "post_id": 39984613, "comment_id": 67249159, "body": "Since print statements are working outside of the loops, I thought the while condition of the second while loop is false somehow, but I can&#39;t figure out the error in the getline statement. I don&#39;t know if the error is due to an older version of perl."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476214218, "post_id": 39984613, "comment_id": 67249162, "body": "Then all I could suggest is to show a full example of the problem, of course distilled to a minimal case, to make sense to dump here. (In the process you may well find the error.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476214481, "post_id": 39984613, "comment_id": 67249301, "body": "@tobiuchiha Like I said in my first comment, it works for me on v5.10, a <i>much</i> older version.  It looks very much like that there is a processing glitch (possible to show up when you merged scripts) or something with a file. It could be as simple as a typo."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 3, "creation_date": 1476216013, "post_id": 39984613, "comment_id": 67250117, "body": "Are you sure your 2nd file, <code>hcho_fr.fchk</code> has a non-zero size?"}, {"owner": {"reputation": 71, "user_id": 3955619, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d43aa42a5c3e41b9e55418c24f22340b?s=128&d=identicon&r=PG&f=1", "display_name": "tobiuchiha", "link": "https://stackoverflow.com/users/3955619/tobiuchiha"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476216077, "post_id": 39984613, "comment_id": 67250162, "body": "@zdim OK. Since this kind of code is working for you guys, I guess I will try to run it on a different machine. I have posted a minimal example above. You can try running it. But it is not running correctly on my machine. I will update the post when I find a solution. Thank you for helping me out."}, {"owner": {"reputation": 71, "user_id": 3955619, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d43aa42a5c3e41b9e55418c24f22340b?s=128&d=identicon&r=PG&f=1", "display_name": "tobiuchiha", "link": "https://stackoverflow.com/users/3955619/tobiuchiha"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476216581, "post_id": 39984613, "comment_id": 67250433, "body": "@PerlDog Oh. f**k. You are right. That file is supposed generate automatically from some other program. I didn&#39;t see that. The file is there. I never felt so stupid before."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1476216904, "post_id": 39984613, "comment_id": 67250616, "body": "@tobiuchiha Not stupid -- you got to it with your debugging, the rest  is a matter of a bit of experience, to conclude that something&#39;s the matter with the file (emtpy in this case) in spite of what we expect that it &quot;should&quot; be."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476217111, "post_id": 39984613, "comment_id": 67250733, "body": "@tobiuchiha One thing to suggest -- consider carefully the comments people post.  This was in my very first comment above &quot;<i>Are the files cetainly OK?</i>&quot;  (I <i>do not</i> mean to blame you for it with this comment! :)"}, {"owner": {"reputation": 71, "user_id": 3955619, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d43aa42a5c3e41b9e55418c24f22340b?s=128&d=identicon&r=PG&f=1", "display_name": "tobiuchiha", "link": "https://stackoverflow.com/users/3955619/tobiuchiha"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476217488, "post_id": 39984613, "comment_id": 67250940, "body": "@zdim Yes. You are right. I checked the file before I started writing the program. But while writing, I mistakenly took &#39;write&#39; for fchk rather than &#39;read&#39; and then didn&#39;t realize that Perl changed my fchk file. I will never forget your suggestion and advice. Thank you for your understanding."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476217976, "post_id": 39984613, "comment_id": 67251206, "body": "@tobiuchiha  Yep, this is precisely (one of the ways) how we learn and get better -- when such convoluted developments hit us. But please accept that I <i>did not</i> mean to criticize you in any way! As for &quot;<i>consider carefully</i>&quot; -- it happens to me all the time, to fail to fully appreciate things plainly stated in comments."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476219475, "post_id": 39985792, "comment_id": 67252004, "body": "A blank line (<code>&quot;\\n&quot;</code>) is true. The only time that <code>defined</code> will help if the entire file consists of single byte <code>0</code> (not followed by a newline)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476243781, "post_id": 39985792, "comment_id": 67258738, "body": "They are reading from a file, not a pipe, so there&#39;s no program in which to place <code>$| = 1;</code>."}], "tags": [], "owner": {"reputation": 34, "user_id": 7003667, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-88NB1iAZqMM/AAAAAAAAAAI/AAAAAAAAANI/j8m5Fauv5UQ/photo.jpg?sz=128", "display_name": "Gregory Youngblood", "link": "https://stackoverflow.com/users/7003667/gregory-youngblood"}, "is_accepted": false, "score": -1, "last_activity_date": 1476216318, "creation_date": 1476216318, "answer_id": 39985792, "question_id": 39984613, "link": "https://stackoverflow.com/questions/39984613/second-independent-while-loop-not-executing-in-perl/39985792#39985792", "title": "Second (independent) while loop not executing in Perl", "body": "<p>Here are a few thoughts:</p>\n\n<p>Most likely - does the second file begin with a blank line? Is it possible that you're getting an empty but true value? Perhaps better to check </p>\n\n<pre><code>while ( defined($linef = $ffchk -&gt; getline()) ){\n  print(\"Entered the second while loop.\\n\");\n  if ( $linef =~ /Cartesian Gradient/ ){\n    $bar++;\n    print(\"Still in the second while loop.\\n\");\n  }\n}\n</code></pre>\n\n<p>Just to make sure you're getting a defined value back versus a possibly empty value. </p>\n\n<p>What happens if you read a different file? or the same file as the first loop? make sure it's not something simple, like a lack of a newline.</p>\n\n<p>Finally, have you tried adding \"$| = 1\" to your code to make sure the output isn't being buffered somewhere? It's a long shot, but sometimes output can appear like it's not being displayed because it's sitting in a buffer waiting to be flushed before it shows up. I doubt that's happening here, but it's a good way to make absolutely sure.</p>\n\n<p>These are just some random thoughts based on what you describe.</p>\n"}], "owner": {"reputation": 71, "user_id": 3955619, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d43aa42a5c3e41b9e55418c24f22340b?s=128&d=identicon&r=PG&f=1", "display_name": "tobiuchiha", "link": "https://stackoverflow.com/users/3955619/tobiuchiha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476216318, "creation_date": 1476211914, "last_edit_date": 1476215710, "question_id": 39984613, "link": "https://stackoverflow.com/questions/39984613/second-independent-while-loop-not-executing-in-perl", "title": "Second (independent) while loop not executing in Perl", "body": "<p>I am trying to read two separate files using two independent while loops using a Perl script. I am using the object oriented way to read files (Module IO::File). The first while loop to read file1 is working perfectly but the second while loop to read file2 is not reading anything. My code is as follows,</p>\n\n<pre><code> #!/usr/bin/perl\n use 5.18.0;\n use warnings;\n use IO::File;\n $file1=\"file1.dat\";\n $file2=\"file2.dat\";\n my $f1 = IO::File -&gt; new(\"&lt; $file1\") or die \"Cannot read file1: $!\"; \n my $f2 = IO::File -&gt; new(\"&lt; $file2\") or die \"Cannot read file2: $!\";\n\n while ( $linef1 = $f1 -&gt; getline() ){\n      data extraction from file 1 \n}\n$f1 -&gt; close;\nwhile ( $linef2 = $f2 -&gt; getline() ){\n    data extraction from file 2\n   }\n</code></pre>\n\n<p>I wrote several print statements inside the second while loop to see if they are executing or not. I found that the print statements were not executing which means the program is not entering the second while loop. It means that there is probably something wrong with the getline() statement of the second while loop but I don't know how to fix that. Any help would be appreciated.\nEdit:I have omitted some variable declarations in the code for brevity. </p>\n\n<p>Edit2: Here is a minimal example of what I am doing.</p>\n\n<pre><code>#!/usr/bin/perl\nuse 5.18.0;\nuse warnings;\nuse IO::File;\n\nmy $output_filename = $ARGV[0];\nmy $file = substr($output_filename,0,-4);\nmy $line;\nmy $linef;\nmy $foo = 0;\nmy $bar = 0;\nmy $fchk_filename = \"hcho_fr.fchk\";\n\nmy $fout = IO::File -&gt; new(\"&lt; $output_filename\") or die \"Cannot read log file: $!\"; \nmy $ffchk = IO::File -&gt; new(\"&lt; $fchk_filename\") or die \"Cannot read fchk file: $!\";\n\n while ( $line = $fout -&gt; getline() ){\n    if ($line =~ /Initial\\sParameters/){\n      $foo++;\n      print(\"Still in the first while loop.\\n\");\n     }\n  }\n\n  print(\"First while loop completed.\\n\");\n  $fout -&gt; close;\n\n  while ( $linef = $ffchk -&gt; getline() ){\n  print(\"Entered the second while loop.\\n\");\n  if ( $linef =~ /Cartesian Gradient/ ){\n    $bar++;\n    print(\"Still in the second while loop.\\n\");\n     }\n   }\n\n   print(\"Successfully executed.\\n\");\n</code></pre>\n\n<p>This code ran without any errors and gave me the following output.</p>\n\n<pre><code>   Still in the first while loop.\n   Still in the first while loop.\n   First while loop completed.\n   Successfully executed.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476209353, "post_id": 39983795, "comment_id": 67246309, "body": "Where did the <code>msg()</code> function come from?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476211850, "post_id": 39983795, "comment_id": 67247760, "body": "Shouldn&#39;t <code>next unless ( -M $subfolder &lt;  7  );</code> be <code>next unless ( -M $path &lt;  7  );</code>? And <code>-M $file</code> be <code>-M &quot;$path&#47;$file&quot;</code>? <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow noreferrer\"><code>readdir</code></a> only returns a file or directory name (without its parent directory)."}, {"owner": {"reputation": 15, "user_id": 3973369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4c04bf80eb447a6437e7550fc85d35?s=128&d=identicon&r=PG&f=1", "display_name": "Fondah", "link": "https://stackoverflow.com/users/3973369/fondah"}, "edited": false, "score": 0, "creation_date": 1476212329, "post_id": 39983795, "comment_id": 67248068, "body": "msg () writes to a log file, sorry for not referencing that earlier"}, {"owner": {"reputation": 15, "user_id": 3973369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4c04bf80eb447a6437e7550fc85d35?s=128&d=identicon&r=PG&f=1", "display_name": "Fondah", "link": "https://stackoverflow.com/users/3973369/fondah"}, "edited": false, "score": 0, "creation_date": 1476212809, "post_id": 39983795, "comment_id": 67248364, "body": "changing $subfolder to $path and changing  $file to $path/$file, doesn&#39;t seem to allow the script to continue, the &quot; subfolder is ...&quot; message never displays and no files or folders are deleted"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476211383, "post_id": 39984382, "comment_id": 67247485, "body": "Nice, but given the <code>my $parent  = &#39;C:&#47;temp&#47;XYZ&#39;;</code> in the question plus the <i>&quot;\u2026 in Perl&quot;</i> in the header line I assume the OP is searching for a pure Perl solution."}, {"owner": {"reputation": 1555, "user_id": 1759834, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b1875929629d1cedce0405e41e2fa4d1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael D.", "link": "https://stackoverflow.com/users/1759834/michael-d"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476212020, "post_id": 39984382, "comment_id": 67247883, "body": "OK, use module File:Find then. I guess it&#39;s &quot;cpanm install file:find&quot; if you have cpan minus installed. (<a href=\"http://perldoc.perl.org/File/Find.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/File/Find.html</a>)"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1476212337, "post_id": 39984382, "comment_id": 67248072, "body": "File::Find has been part of the Perl core since Perl 5 was first released.  No need to install it."}, {"owner": {"reputation": 15, "user_id": 3973369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4c04bf80eb447a6437e7550fc85d35?s=128&d=identicon&r=PG&f=1", "display_name": "Fondah", "link": "https://stackoverflow.com/users/3973369/fondah"}, "edited": false, "score": 0, "creation_date": 1476213087, "post_id": 39984382, "comment_id": 67248516, "body": "I am including  use File::Find;"}], "tags": [], "owner": {"reputation": 1555, "user_id": 1759834, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b1875929629d1cedce0405e41e2fa4d1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael D.", "link": "https://stackoverflow.com/users/1759834/michael-d"}, "is_accepted": false, "score": 1, "last_activity_date": 1476211100, "creation_date": 1476211100, "answer_id": 39984382, "question_id": 39983795, "link": "https://stackoverflow.com/questions/39983795/delete-subfolders-and-files-by-of-days-using-perl/39984382#39984382", "title": "Delete subfolders and files by # of days using Perl", "body": "<p>assuming you're on a *nix system ..</p>\n\n<p>sometimes it's easier to just call find</p>\n\n<pre><code>find /foo/bar/ -type d -mtime +7 -exec rm -rf {} \\;\n\nfind /foo/bar/ -type f -mtime +7 -exec rm {} \\;\n</code></pre>\n\n<p>will delete all 7 days old (d)irectories or (f)iles</p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 15, "user_id": 3973369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4c04bf80eb447a6437e7550fc85d35?s=128&d=identicon&r=PG&f=1", "display_name": "Fondah", "link": "https://stackoverflow.com/users/3973369/fondah"}, "edited": false, "score": 0, "creation_date": 1476387697, "post_id": 39985053, "comment_id": 67336363, "body": "@Fondah You&#39;re welcome. Once again: if it was really your 3rd script, then you must have some talent. +1 for showing an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 0, "last_activity_date": 1476215334, "last_edit_date": 1476215334, "creation_date": 1476213624, "answer_id": 39985053, "question_id": 39983795, "link": "https://stackoverflow.com/questions/39983795/delete-subfolders-and-files-by-of-days-using-perl/39985053#39985053", "title": "Delete subfolders and files by # of days using Perl", "body": "<p>If this is really only the 3rd time you use Perl, then <em>Congratulations!</em> But there are some issues in your code:</p>\n\n<ul>\n<li><strong>Always</strong> add <code>use strict;</code> and <code>use warnings;</code> to your code. This will warn (beyond others) about\nundefined variables and eliminate common errors.</li>\n<li>You had a typo with <code>$sub_folders</code> vs. <code>$subfolder</code>. <code>use strict;</code> and <code>use warnings;</code> would have shown that.</li>\n<li><p>The return values of <code>readdir</code> do NOT contain the parent directory. The <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow\">docs</a> say:</p>\n\n<blockquote>\n  <p>If you're planning to filetest the return values out of a readdir, you'd better \n  prepend the directory in question. Otherwise, because we didn't chdir there, \n  it would have been testing the wrong file.</p>\n</blockquote>\n\n<p>I assume that's exactly what happened here.</p></li>\n</ul>\n\n<p>I changed your code a bit by prepending the directory to the filenames and it seems to work now.\nI also wrote a <code>msg</code> function that simply <code>print</code>s the given parameters. You would omit that\nif you have a \"real\" <code>msg</code> function.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nsub msg\n{\n    print @_;\n}\n\nmsg(\"\\n\");\nmsg(\"Start: \\n\");\n\nmy $parent = 'C:/temp/XYZ';\nmy ( $par_dir, $sub_dir );\n\nopendir( $par_dir, $parent ) or die \"cannot opendir $parent: $!\\n\";;\nmsg \" parent is $parent \\n\";\n\nwhile ( my $sub_folders = readdir($par_dir) ) {\n    next if ( $sub_folders =~ /^..?$/ );    # skip . and ..\n\n    my $path = \"$parent/$sub_folders\";\n\n    next unless ( -d $path );               # skip anything that isn't a directory\n    next unless ( -M $path &lt; 7 );\n\n    msg \" subfolder is $sub_folders is old enough to delete \\n\";\n\n    opendir( $sub_dir, $path ) or die \"cannot opendir $path: $!\\n\";\n    while ( my $file = readdir($sub_dir) ) {\n\n        # for testing\n        my $myAge = ( -M \"$path/$file\" );\n        msg \" age ... $myAge __ file ...  $path/$file\\n\";\n\n        if ( -M \"$path/$file\" &gt; 7 ) {\n            msg \" going to delete this file...  $path/$file \\n\";\n        } else {\n            msg \" will keep this file not old enough $path/$file\\n\";\n        }\n\n    }\n    closedir($sub_dir);\n}\nclosedir($par_dir);\n</code></pre>\n\n<p>There are some things that can be improved in this code.</p>\n\n<ol>\n<li>I wouldn't check the directories for their modification time and drop the <code>next unless ( -M $path &lt; 7 );</code>. \nMy impression is that the attributes of directories (size, times) change at will \u2014 at least I couldn't\never figure out a pattern but perhaps I'm just too dumb for that.</li>\n<li><p>To speed up things, the <code>-X</code> operator (like <code>-d</code>, <code>-M</code>, etc.) caches the result of the last file. So instead\nof writing</p>\n\n<pre><code>next unless ( -d $path );\nnext unless ( -M $path &lt; 7 );\n</code></pre>\n\n<p>you <em>could</em> write</p>\n\n<pre><code>next unless ( -d $path );\nnext unless ( -M _ &lt; 7 ); # the '_' means: get '-M' of $path\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\"><code>-X</code></a> for details. Basically <code>-X</code> fetches all attributes of a\ngiven file (like size, type, access time, modification time, etc) at once. If you pass an underscore <code>_</code> as the\nfilename in subsequent calls, then the results of the previous call (with the real filename) are returned and\nanother (expensive) systemcall is saved.</p></li>\n<li><p>The algorithm only considers one directory below the starting directory, i.e. it doesn't work recursively.\nDepending on what you actually want, this might or might not be OK.</p></li>\n</ol>\n"}], "owner": {"reputation": 15, "user_id": 3973369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4c04bf80eb447a6437e7550fc85d35?s=128&d=identicon&r=PG&f=1", "display_name": "Fondah", "link": "https://stackoverflow.com/users/3973369/fondah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 39985053, "answer_count": 2, "score": 1, "last_activity_date": 1476215334, "creation_date": 1476209225, "last_edit_date": 1476209342, "question_id": 39983795, "link": "https://stackoverflow.com/questions/39983795/delete-subfolders-and-files-by-of-days-using-perl", "title": "Delete subfolders and files by # of days using Perl", "body": "<p>New to Perl, used only 3 times.  I need to delete files and subfolders from a parent directory when they are over a week old.  I've deleted files before using -M but never worked with subfolders. When I run the details below, no files are deleted from the subfolders and files over a week old exist in the subfolders.  The testing messages show 'myAge' is zero, for ALL files in the subfolders. Not sure what I'm missing. Any assistance would be very much appreciated. </p>\n\n<pre><code>msg (\"\\n\");\nmsg (\"Start: \\n\");\n\n\nmy $parent  = 'C:/temp/XYZ';\nmy ($par_dir, $sub_dir);\n\nopendir($par_dir, $parent);\nmsg \" parent is $parent \\n\";\n\nwhile (my $sub_folders = readdir($par_dir)) {\n    next if ($sub_folders =~ /^..?$/);  # skip . and ..\n\n    my $path = $parent . '/' . $sub_folders;\n\n    next unless (-d $path);   # skip anything that isn't a directory\n    next unless ( -M $subfolder &lt;  7  );\n\n    msg \" subfolder is $sub_folders is old enough to delete \\n\";\n\n    opendir($sub_dir, $path);\n    while (my $file = readdir($sub_dir)) {\n\n    # for testing       \n    my $myAge = (-M $file) ;\n    msg \" age ... $myAge __ file ...  $file\\n\" ;    \n\n        if ( -M $file &gt;   7  ) {\n        msg \" going to delete this file...  $file \\n\";\n        } else {\n        msg \" will keep this file not old enough $file\\n\";\n        }\n\n    }   \n    closedir($sub_dir);\n}\nclosedir($par_dir);\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476206750, "post_id": 39983068, "comment_id": 67244777, "body": "Mind the slashes."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1476206867, "post_id": 39983068, "comment_id": 67244841, "body": "Your string is in <code>$string</code> but you&#39;re doing the <code>s&#47;&#47;&#47;</code> on <code>$subject</code>. Could you show your actual code? And could you show what doesn&#39;t work?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1476207130, "post_id": 39983068, "comment_id": 67245003, "body": "Is that Markdown? If so, take a look at <a href=\"https://metacpan.org/pod/Text::Markdown\" rel=\"nofollow noreferrer\">Text::Markdown</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1476216733, "post_id": 39983302, "comment_id": 67250526, "body": "is there any other way to use <code>$1</code> without putting it directly to replace. like making something like <code>$replace = &#39;&lt;code&gt;$i&lt;&#47;code&gt;&#39;</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1476228326, "post_id": 39983302, "comment_id": 67255383, "body": "@ChrysUgwu Yes, <b><i>but I don&#39;t recommend it</i></b> because it&#39;s a security hole. If you use <code>s{}{}e</code> the right hand side will be eval&#39;d as if it were code. But now you&#39;re vulnerable to code injection. It works like interpolation. <code>my $foo = 23; my $bar = q[this $foo]; print &quot;$bar&quot;</code> will say <code>this $foo</code>. But if you <code>print eval qq[&quot;$bar&quot;]</code> you get <code>this 23</code>... but <code>$bar</code> could contain any code."}, {"owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1476229300, "post_id": 39983302, "comment_id": 67255587, "body": "so Perl dosnt provide any secured pattern replacement like php? <a href=\"http://php.net/manual/en/function.preg-replace.php\" rel=\"nofollow noreferrer\">php.net/manual/en/function.preg-replace.php</a>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1476230576, "post_id": 39983302, "comment_id": 67255833, "body": "@ChrysUgwu Search and replace is secure, unless you make it insecure. But it doesn&#39;t support expanding <code>$1</code> in strings like PHP does in Example #1. There might be away to do it, but I don&#39;t know it. I&#39;d suggest asking that as a new question."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 4, "last_activity_date": 1476207512, "creation_date": 1476207512, "answer_id": 39983302, "question_id": 39983068, "link": "https://stackoverflow.com/questions/39983068/add-html-to-perl-regex/39983302#39983302", "title": "Add html to perl Regex", "body": "<p>Assuming you meant <code>$string</code> instead of <code>$subject</code>...</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $string = \"Foo `FooBar` Bar\";\n\nmy $pattern = '`(.*?)`';\nmy $replace = \"&lt;code/&gt;$&amp;&lt;/code&gt;\";\n\n$string =~ s{$pattern}{$replace}im;\nsay $string;\n</code></pre>\n\n<p>This results in...</p>\n\n<pre><code>$ perl ~/tmp/test.plx\nUse of uninitialized value $&amp; in concatenation (.) or string at /Users/schwern/tmp/test.plx line 9.\nFoo &lt;code/&gt;&lt;/code&gt; Bar\n</code></pre>\n\n<p>There's some problems here. First, <code>$&amp;</code> means the string matched by the last match. That would be all of <code>`FooBar`</code>. You just want <code>FooBar</code> which is inside capturing parens. You get that with <code>$1</code>. See <a href=\"http://perldoc.perl.org/perlretut.html#Extracting-matches\" rel=\"nofollow\">Extracting Matches in the Perl Regex Tutorial</a>.</p>\n\n<p>Second is <code>$&amp;</code> and <code>$1</code> are variables. If you put them in double quotes like <code>$replace = \"&lt;code/&gt;$&amp;&lt;/code&gt;\"</code> then Perl will <em>immediately</em> interpolate them. That means <code>$replace</code> is <code>&lt;code/&gt;&lt;/code&gt;</code>. This is where the warning comes from. If you want to use <code>$1</code> it has to go directly into the replace.</p>\n\n<p>Finally, when quoting regexes it's best to use <code>qr{}</code>. That does special regex quoting. It avoids all sorts of quoting issues.</p>\n\n<p>Put it all together...</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $string = \"Foo `FooBar` Bar\";\n\nmy $pattern = qr{`(.*?)`};\n$string =~ s{$pattern}{&lt;code/&gt;$1&lt;/code&gt;}im;\n\nsay $string;\n</code></pre>\n"}], "owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 39983302, "answer_count": 1, "score": 1, "last_activity_date": 1476207512, "creation_date": 1476206612, "question_id": 39983068, "link": "https://stackoverflow.com/questions/39983068/add-html-to-perl-regex", "title": "Add html to perl Regex", "body": "<p>Am trying to replace all `` with a HTML code tag</p>\n\n<p>replace:</p>\n\n<pre><code>$string = \"Foo `FooBar` Bar\";\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>$string = \"Foo &lt;code&gt;FooBar&lt;/code&gt; Bar\";\n</code></pre>\n\n<p>i tried these</p>\n\n<pre><code>$pattern = '`(.*?)`';\n\nmy $replace = \"&lt;code/&gt;$&amp;&lt;/code&gt;\";\n$subject =~ s/$pattern/$replace/im;\n\n#And\n\n$subject =~ s/$pattern/&lt;code/&gt;$&amp;&lt;/code&gt;/im;\n</code></pre>\n\n<p>but none of them works.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1476202040, "post_id": 39981526, "comment_id": 67241983, "body": "You might want to ask one question per question in the future. ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1476203204, "post_id": 39981526, "comment_id": 67242736, "body": "Note that, in <code>use Another::Module qw( some namespaces )</code>, the <i>namespace</i> is <code>Another::Module</code> whereas <code>some namespaces</code> is two identifiers that you want to import."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 2535035, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc6b83c6ed7d74d3e3ee5ecb9ed86f3b?s=128&d=identicon&r=PG", "display_name": "David Crane", "link": "https://stackoverflow.com/users/2535035/david-crane"}, "edited": false, "score": 0, "creation_date": 1476202364, "post_id": 39981778, "comment_id": 67242187, "body": "Doh, I implicitly knew the answer to #3, but I guess didn&#39;t think abot it hard enough when typing this up. Thanks for being to thorough and thoughtful!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476202511, "post_id": 39981778, "comment_id": 67242291, "body": "Re #3, The difference is that <code>-&gt;</code> is a method call, so it uses inheritance and passes the invocant, whereas not using <code>-&gt;</code> is a sub call, which doesn&#39;t use inheritance and has no invocant. Could you mention inheritance please?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 93, "user_id": 2535035, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc6b83c6ed7d74d3e3ee5ecb9ed86f3b?s=128&d=identicon&r=PG", "display_name": "David Crane", "link": "https://stackoverflow.com/users/2535035/david-crane"}, "edited": false, "score": 1, "creation_date": 1476202935, "post_id": 39981778, "comment_id": 67242576, "body": "@DavidCrane: This is one reason why it&#39;s a bad idea to use capitals for function names.  The <code>Here</code> in <code>Whats::The::Difference::Here</code> is a function name while the rest of the identifier is a namespace, and it would be much clearer what was going on if you had written <code>Whats::The::Difference::here($data)</code>. The same applies to <code>Yet::Another::Module::AFunction</code>, which is much better as <code>Yet::Another::Module::a_function</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476203724, "post_id": 39981778, "comment_id": 67243053, "body": "@simbabque: Your answer to 3. needs reworking. <i>&quot;This syntax is actually the same as this&quot;</i> is just wrong, that&#39;s why one of them is called the <i>method call</i> syntax and the other one isn&#39;t. You&#39;re referring to the <i>semantic</i> difference, and if <code>Yet::Another::Module</code> is a subclass of, say <code>Super::Class</code>, then <code>Yet::Another::Module-&gt;class_method($data)</code> could easily be the same as <code>Super::Class::class_method(&#39;Yet::Another::Module&#39;, $data)</code>, so the semantics aren&#39;t the same either."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476203874, "post_id": 39981778, "comment_id": 67243148, "body": "Indeed. I forgot about that part. But I can&#39;t edit now, I&#39;m on my mobile. Will edit later."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476206861, "post_id": 39981778, "comment_id": 67244839, "body": "Sorry, I&#39;m busy atm"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1476207312, "post_id": 39981778, "comment_id": 67245101, "body": "After the first sentence, #1 also needs reworking. There are many ways to define a namespace that doesn&#39;t get added to <code>%INC</code>, or to make an entry in <code>%INC</code> that does not create a corresponding namespace."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1476207514, "post_id": 39981778, "comment_id": 67245220, "body": "@mob I read that part as that the <code>use</code> and <code>require</code> ones go into <code>%INC</code>. But of course there are other ways to get Perl to know about namespaces."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1476207724, "post_id": 39981778, "comment_id": 67245333, "body": "Close enough :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476207801, "post_id": 39981778, "comment_id": 67245380, "body": "@simbabque: <code>%INC</code> is only about <i>compiled source files</i>. It is the symbol tables themselves that decide whether perl knows about <code>Any::Other:function()</code>, and those tables in combination with the <code>@ISA</code> arrays to decide whether it knows about <code>Any::Other-&gt;function()</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476207954, "post_id": 39981778, "comment_id": 67245478, "body": "@Borodin am I saying anything to the contrary? I don&#39;t have that information, but I&#39;m not contradicting it either I believe. Let me work that in."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476208499, "post_id": 39981778, "comment_id": 67245795, "body": "@Borodin this is turning into a rather complicated affair. I wonder if the OP comes back here to read it at all"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476210937, "post_id": 39981778, "comment_id": 67247216, "body": "@simbabque: The original question was already over-complicated, and I voted to close it as being <i>too broad</i>. It can be okay to write generalisations, but going into too much detail and getting it wrong is misleading. You still have <i>&quot;So if your <code>Some::Module</code> is not in the referenced symbol table, Perl will complain&quot;</i>, which is confusing because <code>Some::Module</code> <b><i>is</i></b> a package/symbol table. Yes, strictly speaking every symbol table is a member of itself, but is that what you meant? I think you should have steered clearly away from that!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1476208465, "last_edit_date": 1495535654, "creation_date": 1476202014, "answer_id": 39981778, "question_id": 39981526, "link": "https://stackoverflow.com/questions/39981526/what-happens-if-i-reference-a-package-but-dont-use-require-it/39981778#39981778", "title": "What happens if I reference a package but don&#39;t use/require it?", "body": "<p>You actually have a bunch of questions. </p>\n\n<blockquote>\n  <ol>\n  <li>Is there a performance impact (thinking compile time) by not stating use x and simply referencing it in the code?</li>\n  </ol>\n</blockquote>\n\n<p>No, there is no performance impact, because you can't do that. Every namespace you are using in a working program gets defined somewhere. Either you <code>use</code>d or <code>require</code>d it earlier to where it's called, or one of your dependencies did, or another way<sup>1</sup> was used to make Perl aware of it</p>\n\n<p>Perl keeps track of those things in symbol tables. They hold all the knowledge about namespaces and variable names. So if your <code>Some::Module</code> is not in the referenced symbol table, Perl will complain.</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>I assume that I shouldn't use modules that aren't utilized in the code - I'm telling the compiler to compile code that is unnecessary.</li>\n  </ol>\n</blockquote>\n\n<p>There is no question here. But yes, you should not do that. </p>\n\n<p>It's hard to say if this is a performance impact. If you have a large Catalyst application that just runs and runs for months it doesn't really matter. Startup cost is usually not relevant in that case. But if this is a cronjob that runs every minute and processes a huge pile of data, then an additional module might well be a performance impact.</p>\n\n<p>That's actually also a reason why all <code>use</code> and <code>require</code> statements should be at the top. So it's easy to find them if you need to add or remove some.</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>What's the difference between calling functions in example 1's style versus example 2's style?</li>\n  </ol>\n</blockquote>\n\n<p>Those are for different purposes mostly.</p>\n\n<blockquote>\n<pre><code>my $example = Yet::Another::Module-&gt;AFunction($data); # EXAMPLE 1\n</code></pre>\n</blockquote>\n\n<p>This syntax is very similar to the following:</p>\n\n<pre><code>my $e = Yet::Another::Module::AFunction('Yet::Another::Module', $data)\n</code></pre>\n\n<p>It's used for class methods in OOP. The most well-known one would be <code>new</code>, as in <code>Foo-&gt;new</code>. It passes the thing in front of the <code>-&gt;</code> to the function named <code>AFunction</code> in the package of the thing on the left (either if it's <code>bless</code>ed, or if it's an identifier) as the first argument. But it does more. Because it's a <em>method call</em>, it also takes inheritance into account.</p>\n\n<pre><code>package Yet::Another::Module;\nuse parent 'A::First::Module';\n\n1;\n\npackage A::First::Module;\n\nsub AFunction { ... }\n</code></pre>\n\n<p>In this case, your example would also call <code>AFunction</code> because it's inherited from A::First::Module. In addition to the symbol table referenced above, it uses <code>@ISA</code> to keep track of who inherits from whom. See <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perlobj</a> for more details.</p>\n\n<blockquote>\n<pre><code>my $demo = Whats::The:Difference::Here($data);        # EXAMPLE 2\n</code></pre>\n</blockquote>\n\n<p>This has a syntax error. There is a <code>:</code> missing after <code>The</code>.</p>\n\n<blockquote>\n<pre><code>my $demo = Whats::The::Difference::Here($data);        # EXAMPLE 2\n</code></pre>\n</blockquote>\n\n<p>This is a function call. It calls the function <code>Here</code> in the package <code>Whats::The::Difference</code> and passes <code>$data</code> and nothing else.</p>\n\n<p>Note that as <a href=\"https://stackoverflow.com/questions/39981526/what-happens-if-i-reference-a-package-but-dont-use-require-it/39981778#comment67242736_39981526\">Borodin points out in a comment</a>, your function names are very atypical and confusing. Usually functions in Perl are written with all lowercase and with underscores <code>_</code> instead of camel case. So <code>AFunction</code> should be <code>a_function</code>, and <code>Here</code> should be <code>here</code>.</p>\n\n<hr>\n\n<p>1) for example, you can have multiple <code>package</code> definitions in one file, which you should not normally do, or you could assign stuff into a namespace directly with syntax like <code>*Some::Namespace::frobnicate = sub {...}</code>. There are other ways, but that's a bit out of scope for this answer.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1476240086, "last_edit_date": 1476240086, "creation_date": 1476210275, "answer_id": 39984127, "question_id": 39981526, "link": "https://stackoverflow.com/questions/39981526/what-happens-if-i-reference-a-package-but-dont-use-require-it/39984127#39984127", "title": "What happens if I reference a package but don&#39;t use/require it?", "body": "\n\n<p>I would say that this falls firmly into the category of <em>preemptive optimisation</em> and <em>if you're not sure, then leave it in</em>. You would have to be including some vast unused libraries if removing them helped at all</p>\n\n<p>It is typical of Perl to hide a complex issue behind a simple mechanism that will generally <em>do what you mean</em> without too much thought</p>\n\n<p>The simple mechanisms are these</p>\n\n<ul>\n<li><p><code>use My::Module 'function'</code> is the same as writing</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>BEGIN {\n    require My::Module;\n    My::Module-&gt;import( 'function' );\n}\n</code></pre></li>\n<li><p>The first time perl successfully executes a <code>require</code> statement, it adds an element to the global <code>%INC</code> hash which has the \"pathified\" module name (in this case, <code>My/Module.pm</code>) for a key and the <em>absolute location</em> where it found the source as a value</p></li>\n<li><p>If another <code>require</code> for the same module is encountered (that is, it already exists in the <code>%INC</code> hash) then <code>require</code> does nothing</p></li>\n</ul>\n\n<p>So your question</p>\n\n<h3>What happens if I reference a package but don't <code>use</code>/<code>require</code> it?</h3>\n\n<p>We're going to have a problem with <em>use</em>, <em>utilise</em>, <em>include</em> and <em>reference</em> here, so I'm code-quoting only <code>use</code> and <code>require</code> when I mean the Perl language words.</p>\n\n<p>Keeping things simple, these are the three possibilities</p>\n\n<ul>\n<li><p>As above, if <code>require</code> is seen more than once for the same module source, then it is ignored after the first time. The only overhead is checking to see whether there is a corresponding element in <code>%INC</code></p></li>\n<li><p>Clearly, if you <code>use</code> source files that aren't needed then you are doing unnecessary compilation. But Perl is damn fast, and you will be able to shave only fractions of a second from the build time unless you have a program that uses enormous libraries and looks like <code>use Catalyst; print \"Hello, world!\\n\";</code></p></li>\n<li><p>We know what happens if you make method calls to a class library that has never been compiled. We get</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate object method \"new\" via package \"My::Class\" (perhaps you forgot to load \"My::Class\"?)\n</code></pre></li>\n<li><p>If you're using a <em>function</em> library, then what matters is the part of <code>use</code> that says</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>My::Module-&gt;import( 'function' );\n</code></pre>\n\n<p>because the first part is <code>require</code> and we already know that <code>require</code> never does anything twice. Calling <code>import</code> is usually a simple function call, and you would be saving nothing significant by avoiding it</p></li>\n<li><p>What is perhaps less obvious is that big modules that include multiple subsidiaries. For instance, if I write just</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use LWP::UserAgent;\n</code></pre>\n\n<p>then it knows what it is likely to need, and these modules will also be compiled</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Carp\nConfig\nExporter\nExporter::Heavy\nFcntl\nHTTP::Date\nHTTP::Headers\nHTTP::Message\nHTTP::Request\nHTTP::Response\nHTTP::Status\nLWP\nLWP::MemberMixin\nLWP::Protocol\nLWP::UserAgent\nStorable\nTime::Local\nURI\nURI::Escape\n</code></pre></li>\n</ul>\n\n<p>and that's ignoring the pragmas!</p>\n\n<p>Did you ever feel like you were kicking your heels, waiting for an <code>LWP</code> program to compile?</p>\n\n<p>I would say that, in the interests of keeping your Perl code clear and tidy, it may be an idea to remove unnecessary modules from the compilation phase. But don't agonise over it, and <em>benchmark your build times</em> before doing any pre-handover tidy. No one will thank you for reducing the build time by 20ms and then causing them hours of work because you removed a non-obvious requirement.</p>\n"}], "owner": {"reputation": 93, "user_id": 2535035, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc6b83c6ed7d74d3e3ee5ecb9ed86f3b?s=128&d=identicon&r=PG", "display_name": "David Crane", "link": "https://stackoverflow.com/users/2535035/david-crane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 39984127, "answer_count": 2, "score": -1, "last_activity_date": 1476240086, "creation_date": 1476201242, "last_edit_date": 1476203520, "question_id": 39981526, "link": "https://stackoverflow.com/questions/39981526/what-happens-if-i-reference-a-package-but-dont-use-require-it", "title": "What happens if I reference a package but don&#39;t use/require it?", "body": "<p>As much as I can (mostly for clarity/documentation), I've been trying to say</p>\n\n<pre><code>use Some::Module;\nuse Another::Module qw( some namespaces );\n</code></pre>\n\n<p>in my Perl modules that use other modules.</p>\n\n<p>I've been cleaning up some old code and see some places where I reference modules in my code without ever having <code>use</code>d them:</p>\n\n<pre><code>my $example = Yet::Another::Module-&gt;AFunction($data); # EXAMPLE 1\nmy $demo = Whats::The::Difference::Here($data);       # EXAMPLE 2\n</code></pre>\n\n<p>So my questions are:</p>\n\n<ol>\n<li>Is there a performance impact (I'm thinking compile time) by not stating <code>use x</code> and simply referencing it in the code?</li>\n<li>I assume that I shouldn't <code>use</code> modules that aren't utilized in the code - I'm telling the compiler to compile code that is unnecessary.</li>\n<li>What's the difference between calling functions in example 1's style versus example 2's style?</li>\n</ol>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476183533, "post_id": 39975683, "comment_id": 67230175, "body": "Try <code>&#47;(?&lt;!\\S)\\Q$keyword\\E(?!\\S)&#47;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6250685"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476183720, "post_id": 39975683, "comment_id": 67230267, "body": "@WiktorStribi\u017cew Thank you. It&#39;s worked."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1476190406, "post_id": 39975886, "comment_id": 67234010, "body": "<code>$keyword = quotemeta &quot;?Allen&quot;</code> would be another alternative."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1476191328, "last_edit_date": 1495541216, "creation_date": 1476184100, "answer_id": 39975886, "question_id": 39975683, "link": "https://stackoverflow.com/questions/39975683/exact-matching-with-question-mark-in-perl/39975886#39975886", "title": "Exact matching with Question mark in Perl", "body": "<p>Note that your regex contains non-word special chars that you need to quote before using them in the actual pattern. Also, the fact that the special chars can appear at the leading/trailing positions means you cannot expect <code>\\b</code> to always work the same (since its meaning is context dependent). Thus, you may fix the code with</p>\n\n<pre><code>/(?&lt;!\\S)\\Q$keyword\\E(?!\\S)/\n</code></pre>\n\n<p>where</p>\n\n<ul>\n<li><code>(?&lt;!\\S)</code> - requires a whitespace char or start of string before</li>\n<li><code>\\Q$keyword\\E</code> - a literal search string (see <a href=\"http://perldoc.perl.org/perlre.html#Quoting-metacharacters\" rel=\"nofollow noreferrer\"><em>Quoting Metacharacters</em></a>)</li>\n<li><code>(?!\\S)</code> - that should be followed with a whitespace or end of string.</li>\n</ul>\n\n<p>Another alternative for <code>\\Q...\\E</code> (<a href=\"https://stackoverflow.com/questions/39975683/exact-matching-with-question-mark-in-perl/39975886?noredirect=1#comment67234010_39975886\">mentioned by Dave Cross</a>) is using <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\"><em><code>quotemeta</code></em></a>:</p>\n\n<blockquote>\n  <p>This is the internal function implementing the <code>\\Q</code> escape in double-quoted strings.</p>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6250685"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 39975886, "answer_count": 1, "score": 1, "last_activity_date": 1476191328, "creation_date": 1476183237, "question_id": 39975683, "link": "https://stackoverflow.com/questions/39975683/exact-matching-with-question-mark-in-perl", "title": "Exact matching with Question mark in Perl", "body": "<p>I want to find string <code>?Allen</code> in the string array but there is question mark in keyword and it causes some problems. \nI write this code to find string in array </p>\n\n<pre><code>@arr = (\"My name is ?Allen\",\n\"My name is ?Allens\",\n\"My name is s?Allen\",\n\"My name is s?Allens\",\n\"My name is ?allen\");\n$keyword = \"?Allen\";\nfor (my $i=0; $i &lt;= 4; $i++){\n  if ($arr[$i] =~ /\\b$keyword\\b/){\n      print \"str $i = match\\n\";\n  }else{\n      print \"str $i = no\\n\";\n  }\n}\n</code></pre>\n\n<p>finally I get this result</p>\n\n<pre><code>str 0 = match\nstr 1 = no\nstr 2 = match\nstr 3 = no\nstr 4 = no\n</code></pre>\n\n<p>but I want to find only first index array as matching string like this:</p>\n\n<pre><code>str 0 = match\nstr 1 = no\nstr 2 = no\nstr 3 = no\nstr 4 = no\n</code></pre>\n"}, {"tags": ["perl", "bioinformatics"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1476177719, "post_id": 39972953, "comment_id": 67227221, "body": "How do you get from five lines that have <code>A</code> in the fourth field in the input to 20 lines in the output?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1476179101, "post_id": 39972953, "comment_id": 67227947, "body": "Just giving us input and output is not enough. You need to describe the transformation in words that a non-expert in the field can understand."}, {"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476183242, "post_id": 39972953, "comment_id": 67230002, "body": "@simbabque and Dave Cross, I have edited my question, I want to find random atom name, can anyone please help?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476212917, "post_id": 39972953, "comment_id": 67248421, "body": "It&#39;s still not clear.  So you want to split the input over two files, one for &quot;A&quot; and one for &quot;B&quot;, and to sort by the second field?  Sort how?  For me your output doesn&#39;t clearly show the sort criterion.  Please explain."}, {"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476252328, "post_id": 39972953, "comment_id": 67261157, "body": "@zdim, I have edited my question again, I hope you will understand."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476264775, "post_id": 39993801, "comment_id": 67268195, "body": "@thanks, how to predefined sequence? C4B-O4B-C1B-C2B"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476271461, "post_id": 39993801, "comment_id": 67272451, "body": "@Vish: push line  that contains <code>C4B</code> in <code>array[0]</code>, <code>O4B</code> in <code>array[1]</code> and so on (in your case in <code>@window</code>)"}, {"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476285562, "post_id": 39993801, "comment_id": 67282339, "body": "I have tried to defined sequence but I am unable, can you please edit my script? have 3000 file for analysis, please help"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1476260526, "creation_date": 1476260526, "answer_id": 39993801, "question_id": 39972953, "link": "https://stackoverflow.com/questions/39972953/how-to-print-only-predefined-sequence-in-perl/39993801#39993801", "title": "How to print only predefined sequence in perl", "body": "<p>It seems to me that your error comes from this line:</p>\n\n<pre><code>my ($atom_name, $chain) = (split)[2, 4];\n</code></pre>\n\n<p>This will put the 3rd column in <code>$atom_name</code> and the 5th one in <code>$chain</code>.</p>\n\n<p>I guess you want:</p>\n\n<pre><code>my ($atom_name, $chain) = (split)[1, 3];\n</code></pre>\n\n<p>For the first line you'll get:</p>\n\n<p><code>$atom_name = C4B</code> and <code>$chain = B</code></p>\n"}], "owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476260526, "creation_date": 1476173450, "last_edit_date": 1476251939, "question_id": 39972953, "link": "https://stackoverflow.com/questions/39972953/how-to-print-only-predefined-sequence-in-perl", "title": "How to print only predefined sequence in perl", "body": "<p>I am trying to print only predefined sequence (ATOM Name) but not getting expected output. I want to print input file as per following expected output. Chain ID may be A to H. </p>\n\n<p>Code:</p>\n\n<pre><code>my $OutputDir = 'C:\\test_result_file';\nopen my $dir, \"Document1.txt\" or die \"Failed to open Document1.txt:$!\";\nchomp(my @files = &lt;$dir&gt;);\n\nforeach my $file (@files) {\nmy $win_len = 4;\nmy @window = ();\nmy $prev_chain = \"\";\n\nopen my $input, $file or die \"failed to open $file: $!\\n\";\nopen my $output, '&gt;', \"$OutputDir/$file\" or die \"failed to open $OutputDir/$file.pdb: $!\\n\";\nwhile (&lt;$input&gt;) {\n    my ($atom_name, $chain) = (split)[2, 4];\n    next unless $atom_name =~ /\\b(?:C4B|O4B|C1B|C2B|O4B|C1B|C2B|C3B|C1B|C2B|C3B|C4B|C2B|C3B|C4B|O4B|C3B|C4B|O4B|C1B)\\b/;\n    if ($chain eq $prev_chain) {\n        if (@window == $win_len) {\n            print_window($output, @window);\n            shift @window;\n        }\n        push @window, $_;\n    } else {\n        print_window($output, @window) if @window;\n        @window = ($_);\n        $prev_chain = $chain;\n    }\n}\nprint_window($output, @window) if @window;\n\n}\n\nsub print_window {\nmy $fh = shift;\nprint $fh $_ foreach @_;\nprint $fh \"\\n\";\n}\n</code></pre>\n\n<p>Input File:</p>\n\n<pre><code>HETATM10910  C4B NAD A 363      60.856 -58.575 149.282  1.00 40.44           C  \nHETATM10911  O4B NAD A 363      61.320 -59.488 148.275  1.00 43.48           O  \nHETATM10912  C3B NAD A 363      60.243 -57.426 148.473  1.00 40.37           C  \nHETATM10914  C2B NAD A 363      60.167 -57.970 147.054  1.00 40.90           C  \nHETATM10916  C1B NAD A 363      61.394 -58.766 147.056  1.00 43.29           C  \nHETATM10954  C4B NAD B 363      41.496 -54.407 140.932  1.00 39.26           C  \nHETATM10955  O4B NAD B 363      41.936 -54.715 139.568  1.00 41.96           O  \nHETATM10956  C3B NAD B 363      42.061 -55.476 141.894  1.00 37.13           C  \nHETATM10958  C2B NAD B 363      42.883 -56.336 140.942  1.00 38.13           C  \nHETATM10960  C1B NAD B 363      42.233 -56.127 139.593  1.00 42.92           C \n</code></pre>\n\n<p>Expected Output:</p>\n\n<p>A chain:</p>\n\n<pre><code>HETATM10910  C4B NAD A 363      60.856 -58.575 149.282  1.00 40.44           C  \nHETATM10911  O4B NAD A 363      61.320 -59.488 148.275  1.00 43.48           O  \nHETATM10916  C1B NAD A 363      61.394 -58.766 147.056  1.00 43.29           C  \nHETATM10914  C2B NAD A 363      60.167 -57.970 147.054  1.00 40.90           C \n\nHETATM10911  O4B NAD A 363      61.320 -59.488 148.275  1.00 43.48           O  \nHETATM10916  C1B NAD A 363      61.394 -58.766 147.056  1.00 43.29           C  \nHETATM10914  C2B NAD A 363      60.167 -57.970 147.054  1.00 40.90           C \nHETATM10912  C3B NAD A 363      60.243 -57.426 148.473  1.00 40.37           C   \n\nHETATM10916  C1B NAD A 363      61.394 -58.766 147.056  1.00 43.29           C  \nHETATM10914  C2B NAD A 363      60.167 -57.970 147.054  1.00 40.90           C \nHETATM10912  C3B NAD A 363      60.243 -57.426 148.473  1.00 40.37           C   \nHETATM10910  C4B NAD A 363      60.856 -58.575 149.282  1.00 40.44           C \n\nHETATM10914  C2B NAD A 363      60.167 -57.970 147.054  1.00 40.90           C \nHETATM10912  C3B NAD A 363      60.243 -57.426 148.473  1.00 40.37           C   \nHETATM10910  C4B NAD A 363      60.856 -58.575 149.282  1.00 40.44           C \nHETATM10911  O4B NAD A 363      61.320 -59.488 148.275  1.00 43.48           O  \n\nHETATM10912  C3B NAD A 363      60.243 -57.426 148.473  1.00 40.37           C   \nHETATM10910  C4B NAD A 363      60.856 -58.575 149.282  1.00 40.44           C \nHETATM10911  O4B NAD A 363      61.320 -59.488 148.275  1.00 43.48           O\nHETATM10916  C1B NAD A 363      61.394 -58.766 147.056  1.00 43.29           C    \n</code></pre>\n\n<p>B chain:</p>\n\n<pre><code>HETATM10954  C4B NAD B 363      41.496 -54.407 140.932  1.00 39.26           C  \nHETATM10955  O4B NAD B 363      41.936 -54.715 139.568  1.00 41.96           O    \nHETATM10960  C1B NAD B 363      42.233 -56.127 139.593  1.00 42.92           C \nHETATM10958  C2B NAD B 363      42.883 -56.336 140.942  1.00 38.13           C\n\nHETATM10955  O4B NAD B 363      41.936 -54.715 139.568  1.00 41.96           O    \nHETATM10960  C1B NAD B 363      42.233 -56.127 139.593  1.00 42.92           C \nHETATM10958  C2B NAD B 363      42.883 -56.336 140.942  1.00 38.13           C\nHETATM10956  C3B NAD B 363      42.061 -55.476 141.894  1.00 37.13           C  \n\nHETATM10960  C1B NAD B 363      42.233 -56.127 139.593  1.00 42.92           C \nHETATM10958  C2B NAD B 363      42.883 -56.336 140.942  1.00 38.13           C\nHETATM10956  C3B NAD B 363      42.061 -55.476 141.894  1.00 37.13           C  \nHETATM10954  C4B NAD B 363      41.496 -54.407 140.932  1.00 39.26           C  \n\nHETATM10958  C2B NAD B 363      42.883 -56.336 140.942  1.00 38.13           C\nHETATM10956  C3B NAD B 363      42.061 -55.476 141.894  1.00 37.13           C  \nHETATM10954  C4B NAD B 363      41.496 -54.407 140.932  1.00 39.26           C  \nHETATM10955  O4B NAD B 363      41.936 -54.715 139.568  1.00 41.96           O    \n\nHETATM10956  C3B NAD B 363      42.061 -55.476 141.894  1.00 37.13           C  \nHETATM10954  C4B NAD B 363      41.496 -54.407 140.932  1.00 39.26           C  \nHETATM10955  O4B NAD B 363      41.936 -54.715 139.568  1.00 41.96           O    \nHETATM10960  C1B NAD B 363      42.233 -56.127 139.593  1.00 42.92           C \n</code></pre>\n\n<p>Description: I want to sort HETATM predefined ATOM name (e.g.: C4B, O4B, C1B, C2B etc.). I have above script so far.  So please anyone help me to solve this problem. In my current script I am getting same format but not able to get expected result. </p>\n\n<p>I don't want separate file for A chain and B chain or any chain id. I want to sort ATOM name as per my sequence (Predefined). </p>\n\n<p>My sequence is:</p>\n\n<pre><code>C4B-O4B-C1B-C2B\nO4B-C1B-C2B-C3B\nC1B-C2B-C3B-C4B\nC2B-C3B-C4B-O4B\nC3B-C4B-O4B-C1B\n\ne.g., first row: C4B\nHETATM10910  C4B NAD A 363      60.856 -58.575 149.282  1.00 40.44           C  \n\nSecond row: O4B\nHETATM10911  O4B NAD A 363      61.320 -59.488 148.275  1.00 43.48           O  \nThird Row: C1B\nHETATM10916  C1B NAD A 363      61.394 -58.766 147.056  1.00 43.29           C\nFourth Row: C2B  \nHETATM10914  C2B NAD A 363      60.167 -57.970 147.054  1.00 40.90           C \nFifth Row: O4B\nHETATM10911  O4B NAD A 363      61.320 -59.488 148.275  1.00 43.48           O \nSixth Row: C1B\nHETATM10916  C1B NAD A 363      61.394 -58.766 147.056  1.00 43.29           C  \nSeventh Row: C2B\nHETATM10914  C2B NAD A 363      60.167 -57.970 147.054  1.00 40.90           C \nEighth Row: C3B\nHETATM10912  C3B NAD A 363      60.243 -57.426 148.473  1.00 40.37           C   \n.\n.\n.\nso on\n</code></pre>\n\n<p>same format for B and other chain also.</p>\n\n<p>Its means I need each row multiple times. all off above atom name should be there in input file and chain wise. we need to copy all of above atom name file and then we need to paste as per above sequence. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1258, "user_id": 3680301, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/2cb1423ce8e33f52dc8f01ae174f44da?s=128&d=identicon&r=PG&f=1", "display_name": "Parthian Shot", "link": "https://stackoverflow.com/users/3680301/parthian-shot"}, "edited": false, "score": 0, "creation_date": 1476169627, "post_id": 39971965, "comment_id": 67223125, "body": "Been a while since I&#39;ve written perl, but <code>while(1){</code> looks like an infinite loop with no break. I&#39;m assuming that&#39;s intentional, but just in case... heads up. Also, where&#39;s <code>$e</code> initialized?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1476169762, "post_id": 39971965, "comment_id": 67223190, "body": "<code>for =$fh-&gt;$line1,$line2</code> is using <code>perl6</code> which should be considered a different, but related language to <code>perl</code> aka <code>perl5</code>."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476169842, "post_id": 39971965, "comment_id": 67223229, "body": "Add <code>use strict;</code> to all of your scripts, and fix all of the issues it complains about, this will lead to less buggy code."}, {"owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "reply_to_user": {"reputation": 1258, "user_id": 3680301, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/2cb1423ce8e33f52dc8f01ae174f44da?s=128&d=identicon&r=PG&f=1", "display_name": "Parthian Shot", "link": "https://stackoverflow.com/users/3680301/parthian-shot"}, "edited": false, "score": 0, "creation_date": 1476188579, "post_id": 39971965, "comment_id": 67232893, "body": "yeah while(1) was intentional, and sorry $e was initialised at the top but I took it out by mistake. @ParthianShot"}, {"owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "edited": false, "score": 0, "creation_date": 1476188626, "post_id": 39971965, "comment_id": 67232922, "body": "ah i see regarding the for =$... but would it be possible to do it in perl5? - nvm saw your answer at the bottom sorry!@xxfelixxx"}, {"owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476189995, "post_id": 39971965, "comment_id": 67233742, "body": "@xxfelixxx hey, I updated my question, it&#39;d be much appreciated if you could take an extra look :)"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "edited": false, "score": 0, "creation_date": 1476236746, "post_id": 39972210, "comment_id": 67257126, "body": "Cheers! Thanks a lot :) This clears up a lot of misunderstandings I had! and yeah the naming wasn&#39;t just abcde but it was a data which I just decided to edit to make things a little easier :)"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 3, "last_activity_date": 1476202153, "last_edit_date": 1476202153, "creation_date": 1476170442, "answer_id": 39972210, "question_id": 39971965, "link": "https://stackoverflow.com/questions/39971965/how-to-read-two-lines-from-a-file-in-perl/39972210#39972210", "title": "How to read two lines from a file in perl", "body": "<p>Inside your <code>while</code> loop, you call <code>@rows = &lt;$fh&gt;;</code> which will take all of the lines of your file and put them into <code>@rows</code>.  The next time through the while loop, it will attempt to do the same thing...but there are no more lines left, so <code>@rows</code> will be empty.  So if you need all of the rows, grab them outside of your <code>while</code> loop.  If you just need 2 lines at a time, you can just grab 2 rows inside your loop and check that they are not empty:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nopen my $fh, \"&lt;\", \"data.txt\" or die \"Unable to open data.txt for reading : $!\";\n\nwhile(1) {\n    print '-'x50 . \"\\n\";\n    my $line1 = &lt;$fh&gt;;\n    last unless defined $line1;\n    print \"ODD  LINE $. : $line1\";\n\n    my $line2 = &lt;$fh&gt;;\n    last unless defined $line2;\n    print \"EVEN LINE $. : $line2\";\n}\nprint '--- SUCCESS ---' . \"\\n\";\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>--------------------------------------------------\nODD  LINE 1 :   5000    5000    12497500    0\nEVEN LINE 2 :   5000    5000    33258530    0\n--------------------------------------------------\nODD  LINE 3 :   5000    13    51822    0\nEVEN LINE 4 :   5000    13    130147    0\n--------------------------------------------------\nODD  LINE 5 :   5000    28    75016    0\nEVEN LINE 6 :   5000    28    181343    0\n--------------------------------------------------\nODD  LINE 7 :   5000    5000    4999    4999\nEVEN LINE 8 :   5000    5000    12580635    4999\n--------------------------------------------------\n--- SUCCESS ---\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>In your updated version, you have a scoping issue, in that the construct of</p>\n\n<pre><code>if (...) { \n    my ($foo) = 123;\n}\nprint $foo; # &lt;--- out of scope\n</code></pre>\n\n<p>means that the rest of your code will not see the variables <code>$A1,$B1,$C1,$D1</code>.  The use of regular expressions is not necessary and can be more clearly expressed using a <code>split</code> on whitespace and a <code>grep</code> on digits, for sanity checking.  The construct of <code>my @foo = (\"abc\",\"def\",\"ghi\");</code> is more perlishly expressed as <code>my @foo = qw( abc def ghi );</code></p>\n\n<p>Here is an updated version:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nopen my $fh, \"&lt;\", \"data.txt\" or die \"Unable to open data.txt for reading : $!\";\n\nmy @types = qw(AL PL RL AA PA RA AB PB RB AR PR RR AS PS RS AV PV RV);\n\nwhile(1) {\n    print '-'x50 . \"\\n\";\n    # TODO: better names than a,b,c,d\n    my ($A1,$B1,$C1,$D1) = get_row($fh);\n    last unless defined $A1;\n\n    my ($A2,$B2,$C2,$D2) = get_row($fh);\n    last unless defined $A2;\n\n    my $type = shift @types; # Pull one off the front\n    defined $type\n        or die \"No more types left!\";\n\n    my $Nb_plus_s = $C1 + $C2;\n    # sprintf(\"%0.2f\", 123.456789) -&gt; 123.46   # round to 2 decimals\n    my $Nu = sprintf(\"%0.2f\", $A1 / 6);\n    my $avg_comparisons = sprintf(\"%0.2f\", $C2/(7/6*$A1));\n\n    print \"For $type\\n\";\n    print \"Node  : $A1\\n\";\n    print \"Depth : $B1\\n\";\n    print \"Nb    : $C1\\n\";\n    print \"Nb+s  : $Nb_plus_s\\n\";\n    print \"Nk    : $A1\\n\";\n    print \"Nu    : $Nu\\n\";\n    print \"Average number of comparisons is $avg_comparisons\\n\";\n}\nprint '--- SUCCESS ---' . \"\\n\";\n\nsub get_row {\n    my ($file_handle) = @_;\n    my $line = &lt;$file_handle&gt;;\n    return unless defined $line;\n\n    # Split on whitespace, keep only numbers\n    my @data = grep {/\\d/} split /\\s+/, $line;\n\n    # Check that we have 4 columns of data\n    (4 == scalar @data)\n        or die \"Cannot understand line: '$line'\";\n\n    return(@data);\n}\n</code></pre>\n\n<p><strong>New Output</strong></p>\n\n<pre><code>--------------------------------------------------\nFor AL\nNode  : 5000\nDepth : 5000\nNb    : 12497500\nNb+s  : 45756030\nNk    : 5000\nNu    : 833.33\nAverage number of comparisons is 5701.46\n--------------------------------------------------\nFor PL\nNode  : 5000\nDepth : 13\nNb    : 51822\nNb+s  : 181969\nNk    : 5000\nNu    : 833.33\nAverage number of comparisons is 22.31\n--------------------------------------------------\nFor RL\nNode  : 5000\nDepth : 28\nNb    : 75016\nNb+s  : 256359\nNk    : 5000\nNu    : 833.33\nAverage number of comparisons is 31.09\n--------------------------------------------------\nFor AA\nNode  : 5000\nDepth : 5000\nNb    : 4999\nNb+s  : 12585634\nNk    : 5000\nNu    : 833.33\nAverage number of comparisons is 2156.68\n--------------------------------------------------\n--- SUCCESS ---\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1476170591, "creation_date": 1476170591, "answer_id": 39972238, "question_id": 39971965, "link": "https://stackoverflow.com/questions/39971965/how-to-read-two-lines-from-a-file-in-perl/39972238#39972238", "title": "How to read two lines from a file in perl", "body": "<p><code>$line1</code> and <code>$line2</code> read the first two lines from the file. Problem is in the loop:</p>\n\n<pre><code>@rows = &lt;$fh&gt;;\n</code></pre>\n\n<p>This reads all the remaining files into the array. In list context, which array assignment imposes, you always read everything. You can try instead</p>\n\n<pre><code>while (! eof $fh) {\n    my $line1 = &lt;$fh&gt;;\n    push @rows, \"Odd: $line1\";\n    last if eof $fh;\n\n    my $line2 = &lt;$fh&gt;;\n    push @rows, \"Even: $line2\";\n}\nprint \"@rows\";\n</code></pre>\n\n<p>It uses <a href=\"http://p3rl.org/eof\" rel=\"nofollow\">eof</a> to detect the end of input.</p>\n"}], "owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1784, "favorite_count": 0, "accepted_answer_id": 39972210, "answer_count": 2, "score": 2, "last_activity_date": 1476202153, "creation_date": 1476169357, "last_edit_date": 1476189959, "question_id": 39971965, "link": "https://stackoverflow.com/questions/39971965/how-to-read-two-lines-from-a-file-in-perl", "title": "How to read two lines from a file in perl", "body": "<p>I am wondering why I can't seem to take in 2 lines in Perl\nA snippet of my code is</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nopen my $fh, \"&lt;\", \"data.txt\" or die;\n\n$line1 = &lt;$fh&gt;;\n$line2 = &lt;$fh&gt;;\n\nprint $line1.\"\\n\";\nprint $line2.\"\\n\";\n\nwhile(1){\n    @rows = &lt;$fh&gt;;\n    print \"$rows[$e]\";\n    $e++;\n    print \"$rows[$e]\";\n}\n</code></pre>\n\n<p>This is the kind of data I have in Data.txt</p>\n\n<pre><code>  5000    5000    12497500    0\n  5000    5000    33258530    0\n  5000    13    51822    0\n  5000    13    130147    0\n  5000    28    75016    0\n  5000    28    181343    0\n  5000    5000    4999    4999\n  5000    5000    12580635    4999\n</code></pre>\n\n<p>I have looked around for possible solutions, I found some interesting leads here <a href=\"http://www.perlmonks.org/?node_id=620077\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=620077</a>, particularly these ones</p>\n\n<pre><code>my $fh = open(\"file\");\n\nfor =$fh-&gt;$line1,$line2 {\n  # do whatever with the two lines\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>for (;;) {\n   my $line1 = &lt;$fh&gt;;\n   last if not defined $line1;\n\n   my $line2 = &lt;$fh&gt;;\n   last if not defined $line2;\n\n   ...\n}\n</code></pre>\n\n<p>Could I also ask what <code>for =$fh-&gt;$line1,$line2</code> why is there a =$ and why does it not work or how does it work?</p>\n\n<p>Any help is appreciated!</p>\n\n<p>Cheers</p>\n\n<p><strong>UPDATE</strong>\nAlright, so I might be missing on something, but this is the operation I wanted to do from the lines</p>\n\n<pre><code>while(1){\n    print '-'x50 . \"\\n\";\n    my $line1 = &lt;$fh&gt;;\n\n    if($line1 =~ /^\\s+(\\d)\\s+(\\d)\\s+(\\d)\\s+(\\d)\\s*$/){\n        my $A1 = $1;\n        my $B1 = $2;\n        my $C1 = $3;\n        my $D1 = $4;\n    }\n    last unless defined $line1;\n\n    my $line2 = &lt;$fh&gt;;\n\n    if($line2 =~ /^\\s+(\\d)\\s+(\\d)\\s+(\\d)\\s+(\\d)\\s*$/){\n        my $A2 = $1;\n        my $B2 = $2;\n        my $C2 = $3;\n        my $D2 = $4;\n    }\n    last unless defined $line2;\n\n    my @type = (\"AL\", \"PL\", \"RL\", \"AA\", \"PA\", \"RA\", \"AB\", \"PB\", \"RB\", \"AR\", \"PR\", \"RR\", \"AS\", \"PS\", \"RS\", \"AV\", \"PV\", \"RV\");\n\n\n    print(\"For $type[$i]\\n\");\n    print(\"Node : $A1\\n\");\n    print(\"Depth : $B1\\n\");\n    print(\"Nb : $C1\\n\");\n    print(\"Nb+s : $C1+$C2\\n\");\n    print(\"Nk : $A1\\n\");\n    print(\"Nu : $A1/6\\n\");\n    print(\"Average number of comparisons is $C2/(7/6*$A1)\\n\");\n    $i++;\n}\nprint '--- END ---'.\"\\n\";\n</code></pre>\n\n<p>This is based on xxFelixxxx's response</p>\n"}, {"tags": ["perl", "utf-8"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476154498, "post_id": 39969554, "comment_id": 67219020, "body": "You need to tell us what is wrong with your code. Why do you think there&#39;s anything wrong?  The code that you show cannot produce the message that you have put in your subject line, because it doesn&#39;t use the <code>Carp</code> module anywhere."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476156526, "post_id": 39969554, "comment_id": 67219481, "body": "@Borodin it looks like <code>utf8::all</code> pulls in Carp: <code>perl -Mutf8::all -E &#39;say $INC{&quot;Carp.pm&quot;}&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476166442, "post_id": 39969554, "comment_id": 67221880, "body": "Could have used: <code>sub as_code_point{ sprintf &quot;U+%v04X&quot;, shift }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1476157415, "post_id": 39970190, "comment_id": 67219677, "body": "You should also check to see if you can load <code>Carp</code> at all: <code>perl -MCarp -e0</code> will do that."}], "tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": false, "score": 1, "last_activity_date": 1476157298, "creation_date": 1476157298, "answer_id": 39970190, "question_id": 39969554, "link": "https://stackoverflow.com/questions/39969554/malformed-utf-8-character-fatal-at-c-strawberry-perl-lib-carp-pm-line-324/39970190#39970190", "title": "Malformed UTF-8 character (fatal) at C:/Strawberry/perl/lib/Carp.pm line 324", "body": "<p>My bet is that <code>utf8::all</code> is doing something that is breaking the loading of the Carp module.  The first step is to see if there is indeed something wrong with your version of Carp.  Try running this against the <code>C:/Strawberry/perl/lib/Carp.pm</code>:</p>\n\n<pre><code>perl -Mbytes -ne \"printf qq/%02x [$_]\\n/, ord for grep { ord &gt; 127 } split //\" C:/Strawberry/perl/lib/Carp.pm\n</code></pre>\n\n<p>You might have to escape the <code>\\</code> a second time (I don't have a windows machine to test against).</p>\n\n<p>That should give you an idea of what non-ASCII bytes are in it.  Check that those bytes are valid UTF-8 (it is possible you opened and saved the file with an editor that defaults to Window's native UTF-16).</p>\n\n<p>Another option is to look at the line it is complaining about:</p>\n\n<pre><code>perl -ne 'print if $. == 324' C:/Strawberry/perl/lib/Carp.pm\n</code></pre>\n\n<p>Does anything look funny?  You should also check the modified date on the file.  Is it the same as the other core modules?  If not, then it was likely edited.</p>\n\n<p>If none of this finds the problem, get rid of <code>use utf8::all;</code> and slowly add back the functionality manually.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1476166045, "creation_date": 1476166045, "answer_id": 39971300, "question_id": 39969554, "link": "https://stackoverflow.com/questions/39969554/malformed-utf-8-character-fatal-at-c-strawberry-perl-lib-carp-pm-line-324/39971300#39971300", "title": "Malformed UTF-8 character (fatal) at C:/Strawberry/perl/lib/Carp.pm line 324", "body": "<p>That problem indicates the scalar contains an invalid value. That can happen when the source isn't encoded using UTF-8, but you tell Perl that it is (since it doesn't perform validity checks.)</p>\n\n<p>If the file were properly encoded, you would not get that problem.</p>\n\n<pre><code>$ perl a.pl | perl\nU+0031 U+0041 U+0061 U+0062 U+56FD U+65E5 U+672C\n</code></pre>\n\n<p><code>a.pl</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8::all;\n\nmy $chars = qq{qw/b 1 a A \\x{65E5} \\x{672C} \\x{56FD}/};\n\nwhile (&lt;DATA&gt;) {\n    s/&lt;&lt;&lt;CHARS&gt;&gt;&gt;/$chars/g;\n    print;\n}\n\n__DATA__\nuse strict;\nuse warnings;\nuse diagnostics;\nuse utf8::all;\n\nprint join ' ',map{as_code_point($_)}sort &lt;&lt;&lt;CHARS&gt;&gt;&gt;;\nprint \"\\n\";\n\nsub as_code_point{\n    my $char=shift;\n    die\"Only characters!\"if length($char)&gt;1;\n\n    return \"U+\".uc sprintf \"%04x\",ord $char;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6952003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6367ef218448d1967d75789f8787a5f5?s=128&d=identicon&r=PG&f=1", "display_name": "armour", "link": "https://stackoverflow.com/users/6952003/armour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1476166045, "creation_date": 1476152428, "last_edit_date": 1476152530, "question_id": 39969554, "link": "https://stackoverflow.com/questions/39969554/malformed-utf-8-character-fatal-at-c-strawberry-perl-lib-carp-pm-line-324", "title": "Malformed UTF-8 character (fatal) at C:/Strawberry/perl/lib/Carp.pm line 324", "body": "<p>It's my source code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse diagnostics;\nuse utf8::all;\n\nprint join ' ',map{as_code_point($_)}sort qw/b 1 a A \u65e5 \u672c \u56fd/;\n\nsub as_code_point{\n    my $char=shift;\n    die\"Only characters!\"if length($char)&gt;1;\n\n    return \"U+\".uc sprintf \"%04x\",ord $char;\n}\n</code></pre>\n\n<p>I don't know what's going wrong.I need your help.</p>\n"}, {"tags": ["xml", "perl", "namespaces"], "comments": [{"owner": {"reputation": 35, "user_id": 2226161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/185fe8802870f197e432129ddebfdee7?s=128&d=identicon&r=PG", "display_name": "user2226161", "link": "https://stackoverflow.com/users/2226161/user2226161"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476225557, "post_id": 39969027, "comment_id": 67254624, "body": "Yes! @Borodin, those were the hints I was looking for. Your clarification on the namespace issue made the difference, and helped me solve the problem. I now have some working code that successfully parses out the AuthNet return data."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1476206713, "last_edit_date": 1476206713, "creation_date": 1476150962, "answer_id": 39969368, "question_id": 39969027, "link": "https://stackoverflow.com/questions/39969027/xmllibxml-and-namespaces/39969368#39969368", "title": "XML::LibXML and namespaces", "body": "<pre><code>&lt;ele xmlns=\"...\"&gt;&lt;foo/&gt;&lt;bar/&gt;&lt;/ele&gt;\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>&lt;p:ele xmlns:p=\"...\"&gt;&lt;p:foo/&gt;&lt;p:bar/&gt;&lt;/p:ele&gt;\n</code></pre>\n\n<p>so you want elements with namespace <code>AnetApi/xml/v1/schema/AnetApiSchema.xsd</code> and name <code>resultCode</code>.</p>\n\n<pre><code>my $xpc = XML::LibXML::XPathContext-&gt;new($dom);\n$xpc-&gt;registerNs(\"a\", \"AnetApi/xml/v1/schema/AnetApiSchema.xsd\");\n\nfor my $resultCode_node (\n   $xpc-&gt;findnodes(\"/a:createTransactionResponse/a:messages/a:resultCode\")\n) {\n   print(\"resultCode: \" . text_to_html($resultCode_node-&gt;textContent()) . \"&lt;br /&gt;\\n\");\n}\n</code></pre>\n\n<hr>\n\n<p>Since you're injecting text into HTML, you'll need something like the following:</p>\n\n<pre><code>my %escapes = (\n   \"&amp;\" =&gt; \"&amp;amp;\",\n   \"&lt;\" =&gt; \"&amp;lt;\",\n   \"&gt;\" =&gt; \"&amp;gt;\",\n   '\"' =&gt; \"&amp;quot;\",\n   \"'\" =&gt; \"&amp;#39;\",\n);\nmy $class = join '', map quotemeta, keys(%escapes);\nmy $re = qr/([$class])/;\n\nsub text_to_html { shift =~ s/$re/$escapes{$1}/rg }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1476152428, "last_edit_date": 1476152428, "creation_date": 1476151999, "answer_id": 39969499, "question_id": 39969027, "link": "https://stackoverflow.com/questions/39969027/xmllibxml-and-namespaces/39969499#39969499", "title": "XML::LibXML and namespaces", "body": "<p>You're on broadly the right lines. The problem is that your XML data uses a default namespace which applies to all identifiers that have no explicit namespace prefix</p>\n\n<pre><code>xmlns=\"AnetApi/xml/v1/schema/AnetApiSchema.xsd\"\n</code></pre>\n\n<p>As you observed, the <code>xsi</code> and <code>xsd</code> prefixes are unused in your data, so there is no need to specify them in your Perl code. Meanwhile, XPath has no concept of implicit namespaces, so you must specify an explicit abbreviation for the AuthNet namespace and use it in all of your XPath expressions.</p>\n\n<p>The abbreviation used doesn't have to be the same as the one defined in the XML data, and clearly it cannot match in the case of a default namespace.</p>\n\n<p>Here's how I would code your access to the <code>resultCode</code> element. I always prefer to use a full XPath expression from the document root, rather than search all elements in the document with, say, <code>//anet:resultCode</code></p>\n\n<pre><code>my $dom = XML::LibXML-&gt;load_xml( string =&gt; $cont );\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new( $dom );\n$xpc-&gt;registerNs( anet  =&gt; 'AnetApi/xml/v1/schema/AnetApiSchema.xsd' );\n\nfor my $transres ( $xpc-&gt;findnodes('/anet:createTransactionResponse/anet:messages/anet:resultCode' ) ) {\n    printf \"Result: %s&lt;br /&gt;\\n\", $transres-&gt;to_literal;\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 2226161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/185fe8802870f197e432129ddebfdee7?s=128&d=identicon&r=PG", "display_name": "user2226161", "link": "https://stackoverflow.com/users/2226161/user2226161"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 39969499, "answer_count": 2, "score": 1, "last_activity_date": 1476206713, "creation_date": 1476148247, "last_edit_date": 1495540113, "question_id": 39969027, "link": "https://stackoverflow.com/questions/39969027/xmllibxml-and-namespaces", "title": "XML::LibXML and namespaces", "body": "<p>I'm familiar with XML, having put it to some simple uses. However, I've been requested to create a custom solution (that must use Perl) for submitting payments to AuthorizeNet's gateway. AuthNet offers no support for Perl, so I'm on my own.</p>\n\n<p>I am using AuthNet's <a href=\"http://developer.authorize.net/api/reference/index.html\" rel=\"nofollow noreferrer\">latest method</a>, which relies on sending and receiving transaction data in XML format.</p>\n\n<p>I have managed to get test (sandbox) transactions successfully submitted and approved, using the Perl module <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0128/LibXML.pod\" rel=\"nofollow noreferrer\">XML::LibXML</a>.</p>\n\n<p>I hit a snag when trying to parse the return data. I finally figured out I was dealing with namespaces for the first time. The sandbox return data I get is as follows.</p>\n\n<pre><code>&lt;createTransactionResponse\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n        xmlns=\"AnetApi/xml/v1/schema/AnetApiSchema.xsd\"&gt;\n\n  &lt;refId /&gt;\n\n  &lt;messages&gt;\n    &lt;resultCode&gt;Ok&lt;/resultCode&gt;\n    &lt;message&gt;\n      &lt;code&gt;I00001&lt;/code&gt;\n      &lt;text&gt;Successful.&lt;/text&gt;\n    &lt;/message&gt;\n  &lt;/messages&gt;\n\n  &lt;transactionResponse&gt;\n    &lt;responseCode&gt;1&lt;/responseCode&gt;\n    &lt;authCode&gt;GTR92Q&lt;/authCode&gt;\n    &lt;avsResultCode&gt;Y&lt;/avsResultCode&gt;\n    &lt;cvvResultCode&gt;P&lt;/cvvResultCode&gt;\n    &lt;cavvResultCode&gt;2&lt;/cavvResultCode&gt;\n    &lt;transId&gt;40003699670&lt;/transId&gt;\n    &lt;refTransID /&gt;\n    &lt;transHash&gt;7E1148E18D5D0E0BE202EB1BCE4B0F09&lt;/transHash&gt;\n    &lt;testRequest&gt;0&lt;/testRequest&gt;\n    &lt;accountNumber&gt;XXXX1111&lt;/accountNumber&gt;\n    &lt;accountType&gt;Visa&lt;/accountType&gt;\n      &lt;messages&gt;\n        &lt;message&gt;\n          &lt;code&gt;1&lt;/code&gt;\n          &lt;description&gt;This transaction has been approved.&lt;/description&gt;\n        &lt;/message&gt;\n      &lt;/messages&gt;\n    &lt;userFields&gt;\n      &lt;userField&gt;\n        &lt;name&gt;MerchantDefinedFieldName1&lt;/name&gt;\n        &lt;value&gt;MerchantDefinedFieldValue1&lt;/value&gt;\n      &lt;/userField&gt;\n    &lt;/userFields&gt;\n    &lt;transHashSha2 /&gt;\n  &lt;/transactionResponse&gt;\n\n&lt;/createTransactionResponse&gt;\n</code></pre>\n\n<p>I need to extract certain values from that. I take the above data, returned from the AuthNet gateway, store it in the var <code>$cont</code>, and prepare it:</p>\n\n<pre><code>my $dom = XML::LibXML-&gt;load_xml(string =&gt; $cont);\n</code></pre>\n\n<p>Then I attempt to parse through the data nodes, searching for certain values, for example:</p>\n\n<pre><code>foreach my $transres ($dom-&gt;findnodes(\"/createTransactionResponse/messages/message\")) {\n  print \"Message: \" . $transres-&gt;to_literal() . \"&lt;br /&gt;\\n\";\n}\n</code></pre>\n\n<p>This never returns any values. Then I realized I was dealing with namespace issues. I tried many variations of registering the namespaces, to no avail, for example:</p>\n\n<pre><code>my $xpc = XML::LibXML::XPathContext-&gt;new($dom);\n$xpc-&gt;registerNs(\"xsi\", \"http://www.w3.org/2001/XMLSchema-instance\");\n$xpc-&gt;registerNs(\"xsd\", \"http://www.w3.org/2001/XMLSchema\");\n\nforeach my $transres ($xpc-&gt;findnodes(\"//xsi:resultCode\")) {\n  print \"Result: \" . $transres-&gt;to_literal() . \"&lt;br /&gt;\\n\";\n}\n</code></pre>\n\n<p>This was all just casting about, hoping for some kind of result. I noticed that, even though the return data refers to multiple namespaces, none of them actually get used anywhere in the rest of the data. I found a number of StackOverflow responses on the XML namespace issue, but I could never find an example of how to reference nodes when none of the specified namespaces get used elsewhere in the XML data. Like, what is the default (if you will) namespace reference to use, <em>when no namespace get referenced</em>... If that makes sense.</p>\n\n<p>I came across an <a href=\"https://stackoverflow.com/questions/25419772/xmllibxml-namespaces-and-findvalue\">entry elsewhere in StackOverflow</a>, wherein it mentions using a \"local-name\" function that allows the ignoring of namespaces. I thought that might bypass the problem, and when I tried it, I did finally see some data display.</p>\n\n<pre><code>foreach my $transres ($dom-&gt;findnodes(\"//*[local-name()='resultCode']\")) {\n  print \"Result: \" . $transres-&gt;to_literal() . \"&lt;br /&gt;\\n\";\n}\n</code></pre>\n\n<p>This resulted in the return of the desired/expected value \"Ok\". It also works on the other nodes I have tried thus far. However, I am usually leery of using \"just ignore it\" type solutions, unless they are genuinely appropriate and called for.</p>\n\n<p>My question comes down to this: Is the bypass-namespace method I used to finally access data from the returned XML data advisable?</p>\n\n<p>I was wondering why AuthNet specifies multiple namespaces in the return data, and then uses none of them in the data - at least the data I am currently getting back. What if I just bypass the namespaces in my code, but then later, especially when we go live, the different namespaces become relevant? I actually don't know, and the AuthNet so-called \"support\" I have been able to reach has ranged from unhelpful to completely unresponsive.</p>\n\n<p>Any advice/guidance from those more experienced with Perl/XML/namespace issues would be greatly appreciated.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 9, "creation_date": 1476158382, "post_id": 39968481, "comment_id": 67219899, "body": "Enable the <code>strict</code>, <code>warnings</code>, and <code>diagnostics</code> pragmas.  Fix the things they complain about. Use a <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow noreferrer\">debugger</a> or well placed print statements to get an idea of what is happening in the parts of your code where you do the insert (is the data what you are expecting).  If you find a problem, work backwards until things look right, and then forwards until it looks wrong again.  The area between those two states is where your bug is."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 6, "creation_date": 1476171986, "post_id": 39968481, "comment_id": 67224225, "body": "If you <i>must</i> do CGI, please, <a href=\"http://perldoc.perl.org/CGI.html\" rel=\"nofollow noreferrer\">use the CGI module</a>. This code is in a style from the early 1990s."}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 5, "last_activity_date": 1476181052, "last_edit_date": 1476181052, "creation_date": 1476171737, "answer_id": 39972504, "question_id": 39968481, "link": "https://stackoverflow.com/questions/39968481/perl-cgi-not-passing-the-hash-to-mysql/39972504#39972504", "title": "Perl cgi not passing the hash to mysql", "body": "<p>The reason that the question is only thing which makes it into the database is that you're getting all the other values from <code>%fromHash</code>, which does not exist.  You put your data into <code>%formHash</code>, not <code>%fromHash</code>.</p>\n\n<p>This is one of the (many!) types of problems which gets caught by the <code>strict</code> pragma.  <code>use strict</code> and <code>use warnings</code> should <strong>absolutely not</strong> be commented out.  <strong>Ever.</strong>  When you are learning Perl, they might seem a bit demanding, but they are actually your best friends.  Even as an experienced Perl programmer, I <em>always</em> have them enabled, except on very rare occasions in very small sections of code where I know the exact reason why they complain <em>and</em> the exact reason why that complaint is not applicable.</p>\n\n<p>Also:</p>\n\n<ul>\n<li>Don't prefix your sub calls with <code>&amp;</code>.  It's an obsolete Perl 4-ism.  In Perl 5, it has side-effects which you probably don't know about or want.</li>\n<li>If you're already using <code>CGI</code>, let it handle the form/parameter decoding for you (with the <code>param</code> method) instead of doing it by hand.  (In real production code, I'd say to use a proper web framework, such as Dancer or Mojolicious, instead of <code>CGI</code>, but I assume that the choice of <code>CGI</code> was dictated by your assignment.)</li>\n<li>Be aware that this code is vulnerable to SQL injection attacks. That's normally something I'd make a big deal about, but, since this is an introductory assignment for learning the language, I'll just mention it as something to look into later if you continue doing web programming.  You can see <a href=\"http://bobby-tables.com/\" rel=\"nofollow\">Bobby Tables</a> for more details about SQL injection, including examples of how to secure Perl code against such attacks.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1476290600, "post_id": 39974309, "comment_id": 67285788, "body": "I think you overstate some of the technologies here, especially, DBIx::Class. It&#39;s DBI that can protect you from SQL injection (but only if you use it wisely). What worries me is the hostile and rather unhelpful rage that gets misdirected to the person who doesn&#39;t know any better. It&#39;s not really the poster you&#39;re mad at."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1476307916, "post_id": 39974309, "comment_id": 67295560, "body": "@briandfoy: I agree that DBI can protect you from SQL injection, but you need to know how to use it correctly. But the default way to use DBIC protects you without without you having to think about it. Re-reading my answer, I don&#39;t really see any rage. I see me saying I&#39;m worried about what they&#39;re learning and offering to help improve the course. I really hope the OP didn&#39;t think I was mad at him. That&#39;s far from the truth."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 10, "last_activity_date": 1476193636, "last_edit_date": 1476193636, "creation_date": 1476178375, "answer_id": 39974309, "question_id": 39968481, "link": "https://stackoverflow.com/questions/39968481/perl-cgi-not-passing-the-hash-to-mysql/39974309#39974309", "title": "Perl cgi not passing the hash to mysql", "body": "<p>It worries me terribly that you say this is \"an assignment\" as it implies that this is something that you are learning in school or college. I don't know how much of this code was given to you by your teacher or how much you have cobbled together from reading out of date information from the internet, but this is a style of writing web applications in Perl that is at least 15 years out of date.</p>\n\n<ul>\n<li>These days, we don't use CGI to write web applications in Perl. Modern Perl web applications are based on <a href=\"http://plackperl.org/\">PSGI and Plack</a>.</li>\n<li>If you do insist on writing web applications using CGI, then the <a href=\"https://metacpan.org/pod/CGI\">CGI module</a> has been around since the mid-90s and will make your life easier. In particular, you should be using its <code>param()</code> function rather than your hand-written and buggy form-parsing code.</li>\n<li>It has been fifteen years since anyone recommended putting raw HTML into a a Perl program. You should use a <a href=\"https://metacpan.org/pod/Template\">templating engine</a> instead.</li>\n</ul>\n\n<p>Outside of web-specific stuff, there is other stuff that you're doing which shows that you're learning from outdated sources.</p>\n\n<ul>\n<li>Ampersands on subroutine calls haven't been needed since Perl 5 was released in 1994 and they have a couple of \"interesting\" effects which mean the most people shouldn't use them most of the time.</li>\n<li>Most database access these days is written using <a href=\"https://metacpan.org/pod/DBIx::Class\">DBIx::Class</a> which is a wrapper on top of the raw DBI that you are using. Amongst other advantages it gives you, it will protect you from the SQL injection vulnerability that you have unwittingly included in your code.</li>\n</ul>\n\n<p>And, finally, you would have found your problem yourself if you had not commented out the <code>use strict</code> in your code. That forces you to declare your variables and amongst the (many) errors it would have found would have been the fact that you are mistyping <code>%formHash</code> as <code>%fromHash</code>.</p>\n\n<p>What you are learning here is so far from the Perl that will be useful to you in the workplace that this course is pretty close to being useless. If anyone at your college is interested in improving the quality of this course, I would be happy to help in any way I can.</p>\n"}], "owner": {"reputation": 35, "user_id": 4092197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b4db2b151eb960ddb27dd9e140cf3e?s=128&d=identicon&r=PG&f=1", "display_name": "Keg", "link": "https://stackoverflow.com/users/4092197/keg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476193636, "creation_date": 1476143665, "question_id": 39968481, "link": "https://stackoverflow.com/questions/39968481/perl-cgi-not-passing-the-hash-to-mysql", "title": "Perl cgi not passing the hash to mysql", "body": "<p>I have an assignment which requires us to create a quiz form in perl cgi accepting new questions from our local web browser. Each insertion of question need to be updated in state table, and at the end should display number of questions exists in database as well as new questions inserted at each session.I used HTML for forms and Mysql as my database and running on localhost. When I try to add a new quesion the only thing that makes it into the table is the Question, nothing else gets added.  I can see the values in the URL being passed to the seerver but the data never makes it to the SQL statment.   Please help.</p>\n\n<pre><code>#! /usr/bin/perl\n#use strict;\n#use warnings;\n#use diagnostics;\nprint \"Content-type: text/html\\n\\n\";\n\nif ($ENV{\"REQUEST_METHOD\"} eq \"POST\") {\n  read(STDIN, $datastring, $ENV{\"CONTENT_LENGTH\"});     \n}\nelsif (exists $ENV{\"REQUEST_METHOD\"}) {     # data from GET transaction (or HEAD or other)\n  $datastring = $ENV{\"QUERY_STRING\"};\n}\nelse {\n  print \"Offline execution detected\\n\";\n  print \"Please enter some data.\\n\";\n  $datastring = &lt;&gt;;\n  chomp $datastring;\n  print \"== data accepted == HTML output follows ==\\n\\n\";\n}\n\n###decode######################################################\n$datastring =~s/%0D%0A/\\n/g;                        #step to deal with line\n                                                    #breaks in text areas\n@nameValuePairs = split(/&amp;/, $datastring);          #step 1\nforeach $pair (@nameValuePairs) {\n  ($name, $value) = split(/=/, $pair);              #step 2\n  $name =~tr/+/ /;                                  #step 3\n  $name =~s/%([\\da-fA-F]{2})/pack(\"C\",hex($1))/eg;  #step 3\n  $value =~tr/+/ /;                                 #step 3\n  $value =~s/%([\\da-fA-F]{2})/pack(\"C\",hex($1))/eg; #step 3\n\n  if(exists $formHash{$name}) {                     #improved step 4,\n    $formHash{$name} = $formHash{$name}.\";\".$value; #now handles multiple\n  }                                                 #select menus\n  else {\n    $formHash{$name} = $value;\n  }\n}\n###done decoding###############################################\n\n### global variables ##########################################\nuse DBI;\n$dbhandle = DBI-&gt;connect(\"DBI:mysql:databasexx\", \"idyy\", \"passzz\")  \n    or &amp;errorPage(\"Can't connect to database\". DBI-&gt;errstr()); \n$file_life_span = 1.0/24; # in days (so is 1 hours)\n$time_out = 1.0/24;\n$time_out = 1.0/24; # in days\n$cache_limit = 300;\n$state_table_name = \"stable\";  # name of state table\n$quiz_table_name = \"qtable\";     # name of quiz table\n%stateHash=();\n### end of global variables #####################################\n\n### app logic ###################################################\nif($formHash{\"request\"} eq \"menu\") {\n    &amp;menu;\n}\nelsif($formHash{\"request\"} eq \"add\") {\n    &amp;add;\n}\nelsif($formHash{\"request\"} eq \"add2\") {\n    &amp;add2;\n}\nelsif($formHash{\"request\"} eq \"list\") {\n    &amp;list;\n}\nelse {\n    &amp;welcome;\n}\n### end app logic ################################################\n\n##################################################################\nsub welcome{\n my $sessionID = &amp;get_long_id_db($dbhandle, $state_table_name, $cache_limit, $file_life_span);\n $qnumber=1;\n %stateHash = (\"qnumber\"=&gt;$qnumber);\n &amp;write_state_db($dbhandle, $state_table_name, $sessionID, %stateHash);\n\n print &lt;&lt;PAGE;\n &lt;html&gt;&lt;head&gt;&lt;title&gt;Welcome&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n   &lt;h2&gt;Welcome&lt;/h2&gt;\n    &lt;form action=\"$ENV{SCRIPT_NAME}\" method=\"GET\"&gt;\n     &lt;input type=\"hidden\" name=\"qnumber\" value=\"$qnumber\"&gt;\n     &lt;input type=\"hidden\" name=\"id\" value=\"$sessionID\"/&gt;\n     &lt;input type=\"hidden\" name=\"request\" value=\"menu\"&gt;\n     &lt;input type=\"submit\" value=\"Main Menu\"&gt;\n    &lt;/form&gt;\n &lt;/body&gt;\n&lt;/html&gt;\nPAGE\n}\n\n##################################################################\nsub menu{\n  my $sessionID = $formHash{\"id\"};\n  my $qnumber = $fromHash{\"qnumber\"};\nprint &lt;&lt;PAGE;\n &lt;html&gt;&lt;head&gt;&lt;title&gt;Menu&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n   &lt;form action=\"$ENV{SCRIPT_NAME}\" method=\"GET\"&gt;\n    &lt;input type=\"hidden\" name=\"qnumber\" value=\"$qnumber\"/&gt;\n    &lt;input type=\"hidden\" name=\"id\" value=\"$sessionID\"/&gt;\n    List the questions.&lt;br&gt;\n    &lt;button type=\"submit\" name=\"request\" value=\"list\"&gt;List Questions&lt;/button&gt;\n    &lt;br&gt;&lt;br&gt;\n    Add a question.&lt;br&gt;\n    &lt;button type=\"submit\" name=\"request\" value=\"add\"&gt;Add Question&lt;/button&gt;\n    &lt;br&gt;&lt;br&gt;\n  &lt;/form&gt;\n &lt;/body&gt;\n&lt;/html&gt;\nPAGE\n}\n\n##################################################################\nsub add{\n  my $sessionID = $formHash{\"id\"};\n  my $qnumber = $fromHash{\"qnumber\"};\n  $sql = \"SELECT * from $quiz_table_name\";\n  $qObj = $dbhandle -&gt; prepare($sql);\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n  $qObj -&gt; fetchall_arrayref(); # Fetch all rows, no need to use them\n  my $number_of_questions = $qObj-&gt;rows();\n  $qObj -&gt; finish();\n\nprint &lt;&lt;PAGE;\n &lt;html&gt;&lt;head&gt;&lt;title&gt;Add Question&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n   There are $number_of_questions in the database now.&lt;br&gt;\n   This will be your $qnumber question this session.\n   &lt;form action=\"$ENV{SCRIPT_NAME}\" method=\"GET\"&gt;\n    &lt;input type=\"hidden\" name=\"qnumber\" value=\"$qnumber\"/&gt;\n    &lt;input type=\"hidden\" name=\"id\" value=\"$sessionID\"/&gt;\n    &lt;input type=\"hidden\" name=\"request\" value=\"add2\"&gt;\n    &lt;br/&gt; \n    Enter the Question.&lt;br&gt;\n    &lt;INPUT TYPE=\"text\" NAME=\"question\" VALUE=\"Question\"&gt;&lt;br&gt;\n    Correct Answer.&lt;br&gt;\n    &lt;INPUT TYPE=\"text\" NAME=\"answer\" VALUE=\"Answer\"&gt;&lt;br&gt;\n    Choce #1.&lt;br&gt;\n    &lt;INPUT TYPE=\"text\" NAME=\"choice1\" VALUE=\"1\"&gt;&lt;br&gt;\n    Choce #2.&lt;br&gt;\n    &lt;INPUT TYPE=\"text\" NAME=\"choice2\" VALUE=\"2\"&gt;&lt;br&gt;\n    Choce #3.&lt;br&gt;\n    &lt;INPUT TYPE=\"text\" NAME=\"choice3\" VALUE=\"3\"&gt;&lt;br&gt;\n    Choce #4.&lt;br&gt;\n    &lt;INPUT TYPE=\"text\" NAME=\"choice4\" VALUE=\"4\"&gt;&lt;br&gt;\n    Choce #5.&lt;br&gt;\n    &lt;INPUT TYPE=\"text\" NAME=\"choice5\" VALUE=\"5\"&gt;&lt;br&gt;\n    &lt;br/&gt;\n    &lt;input type=\"submit\" value=\"Submit\"&gt;\n  &lt;/form&gt;   \n &lt;/body&gt;\n&lt;/html&gt;\nPAGE\n}\n\n##################################################################\nsub add2{\n  my $sessionID = $formHash{\"id\"};\n  my $qnumber = $fromHash{\"qnumber\"};\n  my $question = $formHash{\"question\"};\n  my $answer = $fromHash{\"answer\"};\n  my $choice1 = $fromHash{\"choice1\"};\n  my $choice2 = $fromHash{\"choice2\"};\n  my $choice3 = $fromHash{\"choice3\"};\n  my $choice4 = $fromHash{\"choice4\"};\n  my $choice5 = $fromHash{\"choice5\"};\n   $stateHash{\"qnumber\"}++; # The next question number.\n   &amp;write_state_db($dbhandle, $state_table_name, $sessionID, %stateHash);\n    $sql = \"INSERT INTO $quiz_table_name(question, answer, choice1, choice2, choice3, choice4, choice5) VALUES(?,?,?,?,?,?,?)\";\n    $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare\");\n    $qObj -&gt; execute($question, $answer, $choice1, $choice2, $choice3, $choice4, $choice5) or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n    $qObj -&gt; finish();\n    $request = menu;\n}\n\n##################################################################\nsub list {\n  my $sessionID = $formHash{\"id\"};\n  my $qnumber = $fromHash{\"qnumber\"};\n print &lt;&lt;PAGE; \n  &lt;html&gt;&lt;head&gt;&lt;title&gt;List Questions&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n   &lt;h2&gt;List Questions&lt;/h2&gt;&lt;br/&gt;\n\n  &lt;style&gt;\n    table, th, td {\n    border: 1px solid black;\n    }\n    th {\n    text-align: left;\n    }\n    &lt;/style&gt;\n    &lt;table&gt;\n     &lt;tr&gt;&lt;th&gt;Number&lt;/th&gt;&lt;th&gt;Question&lt;/th&gt;&lt;th&gt;Answer&lt;/th&gt;&lt;th&gt;Choice 1&lt;/th&gt;&lt;th&gt;Choice 2&lt;/th&gt;&lt;th&gt;Choice 3&lt;/th&gt;&lt;th&gt;Choice 4&lt;/th&gt;&lt;th&gt;Choice 5&lt;/th&gt;&lt;/tr&gt;\nPAGE\n    # DEFINE A MySQL QUERY\n     $sql = \"SELECT qnumber, question, answer, choice1, choice2, choice3, choice4, choice5 FROM $quiz_table_name\";\n     $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare\");\n     $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n     my $arry_ref = $qObj-&gt;fetchall_arrayref();\n     $qObj -&gt; finish();\n     foreach my $row(@$arry_ref)\n     {\n        my ($qnumber, $question, $answer, $choice1, $choice2, $choice3, $choice4, $choice5) = @$row;\n        print \"&lt;tr&gt;&lt;th&gt;$qnumber&lt;/th&gt;&lt;th&gt;$question&lt;/th&gt;&lt;th&gt;$answer&lt;/th&gt;&lt;th&gt;$choice1&lt;/th&gt;&lt;th&gt;$choice2&lt;/th&gt;&lt;th&gt;$choice3&lt;/th&gt;&lt;th&gt;$choice4&lt;/th&gt;&lt;th&gt;$choice5&lt;/th&gt;&lt;/tr&gt;\";\n     }\n    # PRINT THE RESULTS\n    print &lt;&lt;BOTTOM;\n    &lt;/table&gt;\n\n &lt;/body&gt;\n&lt;/html&gt;\n &lt;form action=\"$ENV{SCRIPT_NAME}\" method=\"POST\"&gt;\n &lt;input type=\"hidden\" name=\"qnumber\" value=\"$qnumber\"/&gt;\n &lt;input type=\"hidden\" name=\"id\" value=\"$sessionID\"/&gt;\n &lt;input type=\"hidden\" name=\"request\" value=\"menu\"&gt;\n &lt;input type=\"submit\" value=\"Main Menu\"&gt;\n     &lt;/form&gt;\n &lt;/body&gt;\n&lt;/html&gt;\nBOTTOM\n}\n\n\n#################################################################\n#################################################################\n# end app logic functions\n# begin toolkit functions\n#################################################################\n#################################################################\n\n#################################################################\nsub write_state_db {\n  my ($dbhandle, $table_name, $sessionID, %states) = @_;\n  ### add the updated last-modified time to the front of the incoming state hash\n  my $currtime = time;\n  my @updates = (\"last_modified = '$currtime'\");\n  foreach $key (keys %states){\n    push @updates, \"$key = '$states{$key}'\";\n  }\n\n  ###  update the state record\n  $sql = \"UPDATE $table_name set \" . join(\",\", @updates) . \" WHERE id = '$sessionID'\";\n  $qObj = $dbhandle -&gt; prepare($sql);\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n  $qObj -&gt; finish();\n}\n\n#################################################################\nsub read_state_db {\n  my ($dbhandle, $table_name, $sessionID, $time_out, \n        $time_out_function, $time_out_message) = @_;   ### $time_out is in days\n\n  ### read the desired state record into the query object\n  $sql = \"SELECT * FROM $table_name WHERE ID = '$sessionID'\";\n  $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n  my $rowhashref = $qObj-&gt;fetchrow_hashref();\n  $qObj -&gt; finish();\n\n  if(! $rowhashref) { ### $rowhashref is an empty reference, which means no such id...\n    &amp;errorPage(\"No such session.\");\n  }\n  my %hash = %$rowhashref;  ### get the actual hash containing the state record\n  ### timeout test\n  if(($time_out &gt; 0) &amp;&amp; ($hash{\"last_modified\"} &lt; time - $time_out*24*60*60)){ \n    ### timed out...\n    if($time_out_function) {\n      &amp;$time_out_function($time_out_message);\n            exit;\n    }\n        else{\n        &amp;errorPage(\"Your session has timed out\");\n    }\n  }\n  ### touch the record\n  $sql = \"UPDATE $table_name SET last_modified = \" . time . \" WHERE ID = '$sessionID'\";\n  $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n  $qObj -&gt; finish();\n  ### only need to return the actual state data\n  delete $hash{\"id\"};\n  delete $hash{\"last_modified\"};\n  return %hash;           \n}\n\n#################################################################\nsub get_long_id_db {\n  my ($dbhandle, $table_name, $cache_limit, $file_life_span) = @_;\n\n  ### count number of sessions\n  my $sql = \"SELECT id FROM $table_name\";  \n  my $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n  $qObj -&gt; fetchall_arrayref(); \n\n  if($qObj-&gt;rows() &gt;= $cache_limit) {       ### Need to police table?\n    my $expiredtime = int(time - $file_life_span*24*60*60); ### in seconds ###\n    $qObj -&gt; finish();\n\n    ### police the table\n    $sql = \"DELETE FROM $table_name WHERE last_modified &lt; $expiredtime\";\n    $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");;\n    $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr()); \n    $qObj -&gt; finish();\n\n    ### count number of sessions again\n    $sql = \"SELECT id FROM $table_name\";        \n    $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");;\n    $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr()); \n    $qObj -&gt; fetchall_arrayref(); \n\n    if($qObj-&gt;rows() &gt;= $cache_limit) { ### still over limit?\n      # should generate e-mail message to warn administrator\n      &amp;errorPage(\"Site busy. Please try again later.\");\n    }\n  }\n  $qObj -&gt; finish();\n\n  my $id = &amp;generate_random_string(32);\n  my $currtime = time;\n\n  ### create new state record\n  $sql = \"INSERT INTO $table_name (id, last_modified) values ('$id', $currtime)\";\n  $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");;\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n\n  return $id;\n}\n\n#################################################################\nsub generate_random_string {\n  my $n = $_[0];\n  my $result = \"\";\n  my @chars = (0..9, 'a'..'z', 'A'..'Z');\n  my $which;\n  for($i = 1 ; $i &lt;= $n ; $i++) {\n    $which=int rand 62;\n   $result = $result . $chars[$which];\n  }\n  return $result;\n}\n\n#################################################################\nsub errorPage {\n my $message = $_[0]; # the incoming parameter, store in localized variable\n print&lt;&lt;ALL;\n &lt;html&gt;\n &lt;head&gt;\n  &lt;title&gt;Error encountered&lt;/title&gt;\n &lt;/head&gt;\n &lt;body&gt;\n  &lt;h1&gt;Error Encountered&lt;/h1&gt;\n  &lt;h3&gt;$message&lt;/h3&gt;\n  Please try again, or report the problem to the webmaster.\n &lt;/body&gt;\n &lt;/html&gt;\nALL\n exit;\n}\n</code></pre>\n"}, {"tags": ["perl", "concatenation"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1476138274, "last_edit_date": 1476138274, "creation_date": 1476137708, "answer_id": 39967574, "question_id": 39967473, "link": "https://stackoverflow.com/questions/39967473/grouping-lines-and-concatenating-them-into-one-line-in-perl/39967574#39967574", "title": "grouping lines and concatenating them into one line in perl", "body": "<p>Just keep the last \"from\" node in a variable that survives iterations of the loop.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $last = q();\nwhile (&lt;&gt;) {\n    chomp;\n    my ($from, $to) = split /,/;\n    if ($from ne $last) {\n        print \"\\n\" x (1 != $.), $from, ',';\n        $last = $from;\n    } else {\n        print ' ';\n    }\n    print $to;\n}\nprint \"\\n\";\n</code></pre>\n\n<p><code>\"\\n\" x (1 != $.)</code> prevents the newline being printed before the 1st line.</p>\n\n<p>The same as a one-liner:</p>\n\n<pre><code>perl -aF, -ne 'chomp $F[1]; print \"\\n\" x (1 != $.), \"$F[0],\" if $l ne $F[0];\n               print \" \" x ($l eq $F[0]), $F[1]; $l = $F[0] }{ print \"\\n\"' &lt; input\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1476177010, "creation_date": 1476177010, "answer_id": 39973924, "question_id": 39967473, "link": "https://stackoverflow.com/questions/39967473/grouping-lines-and-concatenating-them-into-one-line-in-perl/39973924#39973924", "title": "grouping lines and concatenating them into one line in perl", "body": "<p>I'd do this in two stages. One to get the data into a useful data structure and another to print the data.</p>\n\n<p>The data structure I have chosen is a hash of arrays. The keys of the hash are your 'a', 'b' and 'c' and the values are references to arrays containing the 'x1, 'x2', etc.</p>\n\n<p>The code looks like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n# We use modern Perl (specifically say())`\nuse 5.010;\n\nmy %edges;\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n  my ($key, $val) = split /,/;\n  push @{$edges{$key}}, $val;\n}\n\nfor (sort keys %edges) {\n  say join ',', $_, @{$edges{$_}};\n}\n\n__DATA__\na,x1\na,x2\na,x3\nb,x4\nc,x5\nc,x6\n</code></pre>\n"}], "owner": {"reputation": 2976, "user_id": 1854503, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d89cfa845b1b2a1c3ded33d2d9c3300d?s=128&d=identicon&r=PG", "display_name": "amit", "link": "https://stackoverflow.com/users/1854503/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 39967574, "answer_count": 2, "score": 1, "last_activity_date": 1476177010, "creation_date": 1476137112, "question_id": 39967473, "link": "https://stackoverflow.com/questions/39967473/grouping-lines-and-concatenating-them-into-one-line-in-perl", "title": "grouping lines and concatenating them into one line in perl", "body": "<p>This seems like a basic thing to do, but I can't figure out a simple way doing it without starting building lots of arrays etc. so my apologies if this is too simple.</p>\n\n<p>I have a file of this format:</p>\n\n<pre><code>a,x1\na,x2\na,x3\nb,x4\nc,x5\nc,x6\n</code></pre>\n\n<p>this is an edge list for a very big graph. \nI need to convert it to the following format:</p>\n\n<pre><code>a,x1 x2 x3\nb,x4\nc,x5 x6\n</code></pre>\n\n<p>(this is another common format of graphs) </p>\n\n<p>Is there a simple way of doing that in perl? you can assume that all the \"a\" and \"b\" are sorted, so once you got to a new starting node (say \"b\") there will be no going back (e.g. no more edges outgoing from \"a\")</p>\n\n<p>Any advice would be appreciated.</p>\n"}, {"tags": ["perl", "hash", "perl-data-structures"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1476117385, "post_id": 39962777, "comment_id": 67205447, "body": "I&#39;m sorry, you&#39;re going to have to expand a bit - I can&#39;t follow what you&#39;re asking. I don&#39;t see any print statements in your code example."}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1476118564, "post_id": 39962777, "comment_id": 67206041, "body": "you&#39;re fine! I just updated the print statement"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1476118721, "post_id": 39962777, "comment_id": 67206133, "body": "I&#39;m confused. What&#39;s your input and what&#39;s the desired output?"}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1476119790, "post_id": 39962777, "comment_id": 67206675, "body": "I am sorry for the confusion. Updated the question. Hope you get it now!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1476121356, "post_id": 39962777, "comment_id": 67207457, "body": "For a <i>hash</i> you need parenthesis -- <code>my %h = ( )</code>; if you use curlies you are working with a <i>hash reference</i>, which is a scalar -- <code>my $rh = { ... }</code>. You cannot really say <code>%hash = { ... }</code> (WRONG). The answer by <a href=\"http://stackoverflow.com/users/4819884/yonyon100\">yonyon100</a> spells it out.  With <code>use warnings;</code> at the beginning of your program you&#39;d hear about this.  Please always <code>use warnings;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1476121323, "post_id": 39963685, "comment_id": 67207437, "body": "I am sorry for the variable confusion! It works fine :)"}], "tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": true, "score": 1, "last_activity_date": 1476120934, "last_edit_date": 1476120934, "creation_date": 1476120599, "answer_id": 39963685, "question_id": 39962777, "link": "https://stackoverflow.com/questions/39962777/perl-push-values-in-a-hash/39963685#39963685", "title": "Perl push values in a hash", "body": "<p>If I understood you correctly, then this works:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\n\nmy %hash_new = (\n  'customername' =&gt; 'Lee &amp; toys',\n  'employee_name' =&gt; 'Checngwang',\n  'customer_id' =&gt; 'X82349K',\n  'customer_address' =&gt; 'classic denver ranch, meadows drive',\n  'types' =&gt; 'category la'\n);\n\nmy %selectCols = (\n  'customername' =&gt; 'CUSTOMERNAME',\n  'employee_name' =&gt; 'EMP_NAME',\n  'customer_id' =&gt; 'cusid',\n  'customer_address' =&gt; 'cusaddr',\n  'types' =&gt; 'Typs'\n);\n\nmy %new_hash = ();\n\nforeach my $hash_keys (keys %hash_new){\n   my $newKey = $selectCols{$hash_keys};\n   $new_hash{$newKey} = $hash_new{$hash_keys};\n}\n\nprint Dumper \\%new_hash;\n</code></pre>\n\n<p>The only code I changed in your code was using  <code>()</code> instead of <code>{}</code> in <code>%hash_new</code> and escaped the <code>%</code> in the <code>Dumper</code> statement. The <code>%</code> should be escaped because <code>Dumper</code> expects a reference, not a hash (that's true also for all other Perl variable types in use with <code>Dumper</code>).</p>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n      'Typs' =&gt; 'category la',\n      'cusaddr' =&gt; 'classic denver ranch, meadows drive',\n      'EMP_NAME' =&gt; 'Checngwang',\n      'cusid' =&gt; 'X82349K',\n      'CUSTOMERNAME' =&gt; 'Lee &amp; toys'\n    };\n</code></pre>\n\n<p>Also, don't use confusing names like <code>%hash_new</code> and <code>%new_hash</code>. It's - well - confusing.</p>\n"}], "owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 39963685, "answer_count": 1, "score": 1, "last_activity_date": 1476120934, "creation_date": 1476117137, "last_edit_date": 1476119735, "question_id": 39962777, "link": "https://stackoverflow.com/questions/39962777/perl-push-values-in-a-hash", "title": "Perl push values in a hash", "body": "<p>I am always confusing or don't know how to handle hash in perl.</p>\n\n<p>So here is the problem,</p>\n\n<p>Considering the whole thing, i am trying to change the key name in the below hash. </p>\n\n<pre><code>my %hash_new = {\n  'customername' =&gt; 'Lee &amp; toys',\n  'employee_name' =&gt; 'Checngwang',\n  'customer_id' =&gt; 'X82349K',\n  'customer_address' =&gt; 'classic denver ranch, meadows drive',\n  'types' =&gt; 'category la',\n};\n\nmy %selectCols = ('customername' =&gt; 'CUSTOMERNAME','employee_name' =&gt; 'EMP_NAME','customer_id' =&gt; 'cusid','customer_address' =&gt; 'cusaddr','types' =&gt; 'Typs');\n\nmy %new_hash = ();\n\nforeach my $hash_keys (keys %hash_new){\n   my $newKey = $selectCols{$hash_keys};\n   $new_hash{$newKey} = $hash_new{$hash_keys};\n}\n\nprint Dumper %new_hash;\n</code></pre>\n\n<p>Output of %new_hash is something like a key value combination of continuous string as below,</p>\n\n<pre><code>CUTOMERNAMELee &amp; toysEMP_NAMEChecngwangcus_idX82349Kcusaddrclassic denver ranch, meadows driveTypscategory la\n</code></pre>\n\n<p>But instead of this, i need the hash like,</p>\n\n<pre><code>$VAR1 = {\n      'CUSTOMERNAME' =&gt; 'Lee &amp; toys',\n      'EMP_NAME' =&gt; 'Checngwang',\n      'cusid' =&gt; 'X82349K',\n      'cusaddr' =&gt; 'classic denver ranch, meadows drive',\n      'Typs' =&gt; 'category la',\n    };\n</code></pre>\n\n<p>Please help me around this!</p>\n"}, {"tags": ["linux", "windows", "perl", "nfs"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1476109062, "post_id": 39960255, "comment_id": 67200378, "body": "what bytes are missing? is it simply re-writing the line endings from <code>\\r\\n</code> to <code>\\n</code>?"}, {"owner": {"reputation": 9, "user_id": 4708351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe52fa8fc38f3f71c992a86552d455e?s=128&d=identicon&r=PG&f=1", "display_name": "philip78yahoo", "link": "https://stackoverflow.com/users/4708351/philip78yahoo"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1476109606, "post_id": 39960255, "comment_id": 67200724, "body": "~1Kbytes missing.  Not the \\r\\n to \\n.  These files hold records.  1 Record/line.  Go to the end of file and see a record fragment.  All records above fragment are ok.  Records after fragment are missing."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1476109634, "post_id": 39960255, "comment_id": 67200745, "body": "Can you try <code>rsync</code> instead of <code>cp</code> and see if the problem persists? <code>rsync</code> checks that it has written its data; <code>cp</code> does not."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476121860, "post_id": 39960255, "comment_id": 67207731, "body": "I haven&#39;t seen such a problem.  But I&#39;d offer opinion -- (1) I second <a href=\"http://stackoverflow.com/users/5830574/perl-dog\">Perl Dog</a>&#39;s comment, <code>rsync</code> is far better.  It&#39;s a better <code>cp</code> command and then with far greater capabilities. (2) Use <code>File::Copy::copy</code>. No reason to get out to the system&#39;s <code>cp</code>.  Copying inside of your program also gives you opportunities for much better error inquiry.  (3) Finally, copy by reading and writing line by line.  //  I understand that this may be troubleshooting which you aren&#39;t doing yet."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476141220, "post_id": 39960255, "comment_id": 67215931, "body": "@zdim, <i>Lots</i> of reason to use the system&#39;s <code>cp</code>!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476143374, "post_id": 39960255, "comment_id": 67216505, "body": "@ikegami Thanks for the comment -- I always wondered.  All I know is that <code>cp</code> doesn&#39;t have the overhead so it&#39;d be better for new copies (in particular of large files), and it should be simpler and always available. Did another quick search now but found nothing new. Can you provide some pointers or info? Or ... did you mean advantage over doing it from inside the process?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476146232, "post_id": 39960255, "comment_id": 67217155, "body": "I can&#39;t really remember, but a big one is that it can copy timestamps, permissions, ownership, etc"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476175371, "post_id": 39960255, "comment_id": 67225965, "body": "@ikegami Ah, ah, those li&#39;l things ... I didn&#39;t really think about that.  Thank you for correcting my statement"}], "owner": {"reputation": 9, "user_id": 4708351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe52fa8fc38f3f71c992a86552d455e?s=128&d=identicon&r=PG&f=1", "display_name": "philip78yahoo", "link": "https://stackoverflow.com/users/4708351/philip78yahoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1476108571, "creation_date": 1476108571, "question_id": 39960255, "link": "https://stackoverflow.com/questions/39960255/file-missing-bytes-when-copied-from-windows-nfs-server-to-linux-local-disc", "title": "File missing bytes when copied from windows nfs server to linux local disc", "body": "<p>We have a windows nfs server that 6 linux VM's are writing/reading.  We find when we copy from nfs server to linux VM, intermittently, we have a partially written file ( 1/5 times).  When the file is partial its size is always a multiple of 0x10000. The writing of the file is being done by a perl script's system(\"cp $fromNfsDir $toLocalNodeDir\" ) command.  The return from system(\"cp ...\") is 0 ( no-problem).  So it is a silent fail.  I do not know nfs config parameters.  I do not want to troubleshoot yet.  I just want to know if anyone has seen this.  We have another system with linux nfs server, same code base, different file mixtures ( size of files, number of files ), and no such problems.</p>\n"}, {"tags": ["apache", "perl", "request", "fastcgi", "tracker"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6949238, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209200181594079/picture?type=large", "display_name": "Viorel Spinu", "link": "https://stackoverflow.com/users/6949238/viorel-spinu"}, "is_accepted": false, "score": 0, "last_activity_date": 1476109409, "creation_date": 1476109409, "answer_id": 39960522, "question_id": 39959663, "link": "https://stackoverflow.com/questions/39959663/request-tracker-4-4-1-with-apache2/39960522#39960522", "title": "Request Tracker 4.4.1 with Apache2", "body": "<p>Looks like the problem with mysql connect is because the SeLinux.</p>\n\n<p><code>setsebool -P httpd_can_network_connect=1</code>    did the job.</p>\n\n<p>I still have the problem with :  You're almost there ....</p>\n"}], "owner": {"reputation": 1, "user_id": 6949238, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209200181594079/picture?type=large", "display_name": "Viorel Spinu", "link": "https://stackoverflow.com/users/6949238/viorel-spinu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 916, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476109409, "creation_date": 1476106735, "last_edit_date": 1476107071, "question_id": 39959663, "link": "https://stackoverflow.com/questions/39959663/request-tracker-4-4-1-with-apache2", "title": "Request Tracker 4.4.1 with Apache2", "body": "<p>I installed RT4 and it is working. I am now trying to run RT with Apache2. I am using Centos 6.8</p>\n\n<p>For now I don't care which method I use: mod_perl, fastcgi or fcgid. Just want to see it working.</p>\n\n<p>If I use mod_perl config, I get an error when I restart the apache.</p>\n\n<p>/etc/httpd/conf/httpd.conf:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n# This first-listed virtual host is also the default for *:80\nServerName ittickets.domain.local\nAddDefaultCharset UTF-8\n    DocumentRoot \"/opt/rt4/share/html\"\n    &lt;Location /rt&gt;\n        &lt;IfVersion &gt;= 2.4&gt;\n            Require all granted\n        &lt;/IfVersion&gt;\n        &lt;IfVersion &lt; 2.4&gt;\n            Order allow,deny\n            Allow from all\n        &lt;/IfVersion&gt;\n        SetHandler modperl\n        PerlResponseHandler Plack::Handler::Apache2\n        PerlSetVar psgi_app /opt/rt4/sbin/rt-server\n    &lt;/Location&gt;\n    &lt;Perl&gt;\n        use Plack::Handler::Apache2;\n        Plack::Handler::Apache2-&gt;preload(\"/opt/rt4/sbin/rt-server\");\n    &lt;/Perl&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Starting httpd: [8891] [Mon Oct 10 13:07:49 2016] [warning]: DBI connect('dbname=rt4;host=srv-db.domain.local','rt_user',...) failed: Can't connect to MySQL server on 'srv-db.domain.local' (13) at /usr/local/share/perl5/DBIx/SearchBuilder/Handle.pm line 105. (/usr/local/share/perl5/Carp.pm:169)\n\nRT couldn't connect to the database where tickets are stored.\nIf this is a new installation of RT, you should visit the URL below\nto configure RT and initialize your database.\n\nIf this is an existing RT installation, this may indicate a database\nconnectivity problem.\n\nThe error RT got back when trying to connect to your database was:\n\nConnect Failed Can't connect to MySQL server on 'srv-db.domain.local' (13)\n at /opt/rt4/sbin/../lib/RT.pm line 216.\n\n[8891] [Mon Oct 10 13:07:50 2016] [warning]: DBI connect('dbname=rt4;host=srv-db.domain.local','rt_user',...) failed: Can't connect to MySQL server on 'srv-db.domain.local' (13) at /usr/local/share/perl5/DBIx/SearchBuilder/Handle.pm line 105. (/usr/local/share/perl5/Carp.pm:169)\n</code></pre>\n\n<p>But, there is no problem connecting to the database with rt_user.</p>\n\n<p>If i visit  <a href=\"http://ittickets.domain.local\" rel=\"nofollow\">http://ittickets.domain.local</a>, I get this message:</p>\n\n<pre><code>You're almost there!\nYou haven't yet configured your webserver to run RT. You appear to have installed RT's web interface correctly, but haven't yet configured your web server to \"run\" the RT server which powers the web interface. The next step is to edit your webserver's configuration file to instruct it to use RT's mod_perl or FastCGI handler. If you need commercial support, please contact us at sales@bestpractical.com. \n</code></pre>\n\n<p>RT config /opt/rt4/etc/RT_SiteConfig.pm:</p>\n\n<pre><code>Set($rtname, 'domain.local');\nSet($Organization, 'ittickets.domain.local');\nSet($WebPort, 80);\nSet($WebDomain, 'ittickets.domain.local');\nSet($WebPath, '/rt');\nSet(@ReferrerWhitelist, qw(ittickets.domain.local));\n\n### MYSQL Config\nSet($DatabaseType, \"mysql\");\nSet($DatabaseHost,   \"srv-db.domain.local\");\nSet($DatabaseRTHost, \"srv-rt.domain.local\");\nSet($DatabasePort, \"\");\nSet($DatabaseUser, \"rt_user\");\nSet($DatabasePassword, q{xxxxxxxxxxx});\nSet($DatabaseName, q{rt4});\n</code></pre>\n\n<p>I tried all the configurations found on the Internet. I don't understand what I do wrong. Can someone give a hint, please?</p>\n"}, {"tags": ["perl", "makefile", "cpan"], "answers": [{"tags": [], "owner": {"reputation": 6731, "user_id": 725163, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Kgxeq.jpg?s=128&g=1", "display_name": "e.dan", "link": "https://stackoverflow.com/users/725163/e-dan"}, "is_accepted": false, "score": 2, "last_activity_date": 1476108171, "creation_date": 1476108171, "answer_id": 39960125, "question_id": 39959316, "link": "https://stackoverflow.com/questions/39959316/perl-h2xs-set-required-perl-version/39960125#39960125", "title": "Perl, h2xs, set required Perl-version", "body": "<p>Check out the man page (<a href=\"http://perldoc.perl.org/h2xs.html\" rel=\"nofollow\">here</a>):</p>\n\n<blockquote>\n  <p>-b, --compat-version=version Generates a .pm file which is backwards compatible with the specified perl version. For versions &lt; 5.6.0, the\n  changes are. - no use of 'our' (uses 'use vars' instead) - no 'use\n  warnings' Specifying a compatibility version higher than the version\n  of perl you are using to run h2xs will have no effect. If unspecified\n  h2xs will default to compatibility with the version of perl you are\n  using to run h2xs.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "edited": false, "score": 0, "creation_date": 1476111657, "post_id": 39960127, "comment_id": 67202069, "body": "People put a lot of effort into writing a lot of documentation for Perl. It&#39;s a shame when that effort appears to be wasted. Do you have any suggestions for how we could have made it easier for you to find the answer in the documentation?"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1476108179, "creation_date": 1476108179, "answer_id": 39960127, "question_id": 39959316, "link": "https://stackoverflow.com/questions/39959316/perl-h2xs-set-required-perl-version/39960127#39960127", "title": "Perl, h2xs, set required Perl-version", "body": "<p>Are you looking for the <code>-b</code> option? From <a href=\"http://perldoc.perl.org/h2xs.html\" rel=\"nofollow\">the docs</a>:</p>\n\n<blockquote>\n  <p><strong>-b, --compat-version=version</strong></p>\n  \n  <p>Generates a .pm file which is backwards compatible with the specified perl version.</p>\n  \n  <p>For versions &lt; 5.6.0, the changes are. - no use of 'our' (uses 'use vars' instead) - no 'use warnings'</p>\n  \n  <p>Specifying a compatibility version higher than the version of perl you are using to run h2xs will have no effect. If unspecified h2xs will default to compatibility with the version of perl you are using to run h2xs.</p>\n</blockquote>\n\n<p>Seems to work as expected:</p>\n\n<pre><code>$ h2xs -b 5.10.0 -A Foo\nWriting Foo/ppport.h\nWriting Foo/lib/Foo.pm\nWriting Foo/Foo.xs\nWriting Foo/Makefile.PL\nWriting Foo/README\nWriting Foo/t/Foo.t\nWriting Foo/Changes\nWriting Foo/MANIFEST\n\n$ grep 'use 5' Foo/lib/Foo.pm\nuse 5.010000;\n\n$ rm -rf Foo/\n\n$ h2xs -b 5.20.0 -A Foo\nWriting Foo/ppport.h\nWriting Foo/lib/Foo.pm\nWriting Foo/Foo.xs\nWriting Foo/Makefile.PL\nWriting Foo/README\nWriting Foo/t/Foo.t\nWriting Foo/Changes\nWriting Foo/MANIFEST\n\n$ grep 'use 5' Foo/lib/Foo.pm\nuse 5.020000;\n</code></pre>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 39960127, "answer_count": 2, "score": 2, "last_activity_date": 1476108179, "creation_date": 1476105693, "question_id": 39959316, "link": "https://stackoverflow.com/questions/39959316/perl-h2xs-set-required-perl-version", "title": "Perl, h2xs, set required Perl-version", "body": "<p>I start creating Perl-modules wit h2xs. Real XS-modules (C to Perl) and non-XS (I use it also for pure Perl modules to get the skeleton) ones.</p>\n\n<p>For me it is annoying that h2xs assumes the current used version of Perl to be required (in Makefile.PL and also in the modules .pm).</p>\n\n<p>If I transfer the module to some other machine with an older version of Perl I need to modify 1 or 2 files.</p>\n\n<p>Is there a way to manually set the required Perl-version in h2xs or in the Makefile.PL??</p>\n\n<p>Thanks for help!</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 17306, "user_id": 212940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b38d54f9b0b8fafac329bb1b35e1040?s=128&d=identicon&r=PG", "display_name": "vascowhite", "link": "https://stackoverflow.com/users/212940/vascowhite"}, "edited": false, "score": 0, "creation_date": 1476105730, "post_id": 39959030, "comment_id": 67198139, "body": "According to the <a href=\"http://php.net/pack\" rel=\"nofollow noreferrer\">docs</a> that isn&#39;t supported."}, {"owner": {"reputation": 171, "user_id": 4806904, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ra1bRejYmuA/AAAAAAAAAAI/AAAAAAAAAo8/sp4gtSMPMOc/photo.jpg?sz=128", "display_name": "Martin Kuchy\u0148&#225;r", "link": "https://stackoverflow.com/users/4806904/martin-kuchy%c5%88%c3%a1r"}, "reply_to_user": {"reputation": 17306, "user_id": 212940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b38d54f9b0b8fafac329bb1b35e1040?s=128&d=identicon&r=PG", "display_name": "vascowhite", "link": "https://stackoverflow.com/users/212940/vascowhite"}, "edited": false, "score": 0, "creation_date": 1476106263, "post_id": 39959030, "comment_id": 67198520, "body": "Yes I kown, just looking for some workaround/library that&#39;s can provide this functionality or some advice how to implement it..."}], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 4806904, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ra1bRejYmuA/AAAAAAAAAAI/AAAAAAAAAo8/sp4gtSMPMOc/photo.jpg?sz=128", "display_name": "Martin Kuchy\u0148&#225;r", "link": "https://stackoverflow.com/users/4806904/martin-kuchy%c5%88%c3%a1r"}, "is_accepted": true, "score": 0, "last_activity_date": 1492878165, "creation_date": 1492878165, "answer_id": 43561600, "question_id": 39959030, "link": "https://stackoverflow.com/questions/39959030/php-pack-combining-two-pack-codes-like-perl-does/43561600#43561600", "title": "PHP Pack - Combining two pack codes like perl does", "body": "<p>To support perl like pack definitions I implement preprocessing of the definition.</p>\n"}], "owner": {"reputation": 171, "user_id": 4806904, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ra1bRejYmuA/AAAAAAAAAAI/AAAAAAAAAo8/sp4gtSMPMOc/photo.jpg?sz=128", "display_name": "Martin Kuchy\u0148&#225;r", "link": "https://stackoverflow.com/users/4806904/martin-kuchy%c5%88%c3%a1r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 43561600, "answer_count": 1, "score": 0, "last_activity_date": 1492878165, "creation_date": 1476104814, "question_id": 39959030, "link": "https://stackoverflow.com/questions/39959030/php-pack-combining-two-pack-codes-like-perl-does", "title": "PHP Pack - Combining two pack codes like perl does", "body": "<p>I've been trying to figure out if the PHP implementation of Pack with statements like this.</p>\n\n<p>In perl this works:</p>\n\n<p><code>pack( 'A4/A*', \"Humpty-Dumpty\" );</code>  </p>\n\n<p>From perl docs:</p>\n\n<blockquote>\n  <p>Combining two pack codes with a slash (/) associates them with a\n  single value from the argument list. In pack, the length of the\n  argument is taken and packed according to the first code while the\n  argument itself is added after being converted with the template code\n  after the slash.</p>\n</blockquote>\n\n<p>in php when I try pack something like this getting error:</p>\n\n<blockquote>\n  <p>Warning: pack(): Type /: unknown format code  </p>\n</blockquote>\n\n<p>and pack return only false.</p>\n\n<p>Have Someone same problems? (or custom code/library to resolve this in php)</p>\n"}, {"tags": ["perl", "filesystems", "file-handling"], "comments": [{"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1476122127, "post_id": 39958906, "comment_id": 67207833, "body": "Your code shows you&#39;re printing <code>$source_location&#47;$sub_dir did not match regex</code>, but your error message shows <code>. did not match regex</code>, missing the slash.  So you are either not showing your real code, or not showing your real output.  Please show your actual code and your actual error message, otherwise we have no way of knowing if the problems we find are your actual problems, or just the result of a faulty posting of your problem."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1476175681, "post_id": 39958906, "comment_id": 67226124, "body": "@PaulL I edited in an example. I do not quite understand why this gets downvoted though. If I need to provide more information, please tell me so."}], "answers": [{"tags": [], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "is_accepted": true, "score": 1, "last_activity_date": 1476190235, "creation_date": 1476190235, "answer_id": 39977657, "question_id": 39958906, "link": "https://stackoverflow.com/questions/39958906/dircopy-and-dirmove-not-working-as-expected/39977657#39977657", "title": "dircopy and dirmove not working as expected", "body": "<p>Just to make sure that the path exist before any sub directories are moved or copied to it, I just create the path before doing the operation by using <code>make_path</code> of the File::Path module. Simply, like so:</p>\n\n<pre><code>if ($action eq 'copy') {\n  make_path($target_location);\n  dircopy(\"$source_location/$sub_dir/\", \"$target_location/\")\n        or die \"Cannot copy $source_location/$sub_dir/: $!\\n\";\n} elsif ($action eq 'move') {\n  make_path($target_location);\n  dirmove(\"$source_location/$sub_dir/\", \"$target_location/\")\n        or die \"Cannot move $source_location/$sub_dir/: $!\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1756, "favorite_count": 0, "accepted_answer_id": 39977657, "answer_count": 1, "score": 1, "last_activity_date": 1476190235, "creation_date": 1476104431, "last_edit_date": 1476179217, "question_id": 39958906, "link": "https://stackoverflow.com/questions/39958906/dircopy-and-dirmove-not-working-as-expected", "title": "dircopy and dirmove not working as expected", "body": "<p>I am writing a Perl script that allows us to easily move or copy a HUGE directory (possibly +100,000 subdirectories) to another location. I am using <code>File::Copy::Recursive</code> for this purpose like follows (incomplete! Some variables not defined, but it gives a minimal idea of what's going on):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Copy::Recursive qw(dircopy dirmove pathrmdir);\n$File::Copy::Recursive::CPRFComp = 1;\n\n\nmy ($action, $source_location, $target_location) = @ARGV;\nopendir(my $source_handle, $source_location) or die \"Can't opendir $source_location: $!\\n\";\nmy $directories_found = 0;\n\nwhile (my $sub_dir = readdir $source_handle) {\n    unless (-d \"$source_location/$sub_dir\") {\n        print STDERR \"$source_location/$sub_dir not a dir\\n\";\n        next;\n    }\n    # Makes sure we only move directories given a pattern defined elsewhere\n    if ($sub_dir =~ $file_match_regex) {\n        # $action is an input argument\n        if ($action eq 'copy') {\n            dircopy(\"$source_location/$sub_dir/\", \"$target_location/\")\n                or die \"Cannot copy $source_location/$sub_dir/: $!\\n\";\n        } elsif ($action eq 'move') {\n            dirmove(\"$source_location/$sub_dir/\", \"$target_location/\")\n                or die \"Cannot move $source_location/$sub_dir/: $!\\n\";\n        }\n        $directories_found = 1;\n    } else {\n        print STDERR \"$source_location/$sub_dir did not match regex\\n\";\n    }\n}\n\nif ($action eq 'move') {\n    # Remove topmost directory\n    pathrmdir($source_location)\n        or die \"Cannot remove $source_location: $!\\n\";\n}\n\nif (!$directories_found) {\n    print STDERR \"No items found to $action\\n\";\n}\n</code></pre>\n\n<p>The first run this <em>seems to work as expected</em>. Take this command</p>\n\n<pre><code>perl myscript.pl move source/ /home/otherdir/target/\n</code></pre>\n\n<p>The terminal output is</p>\n\n<pre><code>source/. did not match regex\nsource/.. did not match regex\n</code></pre>\n\n<p>and that's it.</p>\n\n<p>However, when I run the same script on the moved folder, things go wrong.</p>\n\n<pre><code>perl myscript.pl move /home/otherdir/target/ /home/failing/target/\n\n/home/otherdir/target/. did not match regex\n/home/otherdir/target/.. did not match regex\n/home/otherdir/target/somefile1.txt not a dir\n/home/otherdir/target/somefile2.txt not a dir\n/home/otherdir/target/somefile3.txt a dir\n/home/otherdir/target/somefile4.txt a dir\n</code></pre>\n\n<p>Obviously I shouldn't get different responses when running the same copy/move script on the data. It is peculiar, though, that the files come from one directory (I can't figure out which one they are all identical concerning content) and that the other directories are preserved. So in each run, for one $sub_dir the script copied the contents of the directory to the destination rather than the directory itself. This means that I am losing a directory on each run of the script... I don't understand why, though.</p>\n\n<p>I think that I am misusing <code>dircopy</code> and <code>dirmove</code> , and I'm not sure if <code>$File::Copy::Recursive::CPRFComp = 1;</code> is correct either (I didn't found the documentation to be very clear for my novice eyes). Any thoughts?</p>\n\n<hr>\n\n<p>After some more digging I think that this is what happens.The little documentation there is on CPRFComp reads (assuming 'foo/file'):</p>\n\n<pre><code>dircopy('foo', 'bar') or die $!;\n# if bar does not exist the result is bar/file\n# if bar does exist the result is bar/file\n\n$File::Copy::Recursive::CPRFComp = 1;\ndircopy('foo', 'bar') or die $!;\n# if bar does not exist the result is bar/file\n# if bar does exist the result is bar/foo/file\n</code></pre>\n\n<p>My guess is, thus, that The first copy/move action of a subdir is triggered before the target location ('bar' in the example) exists, which leads to bar/file rather than bar/foo/file. The question then changes to: how can I make sure that my copy/move operations wait until the target directory is build?</p>\n"}, {"tags": ["perl", "random", "bigint"], "comments": [{"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 1, "creation_date": 1476104254, "post_id": 39958739, "comment_id": 67197186, "body": "Is your environment unix-ish where you have <code>&#47;dev&#47;random</code> and <code>&#47;dev&#47;urandom</code> as resources?"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1476104321, "post_id": 39958739, "comment_id": 67197237, "body": "@infixed it&#39;s Windows, so no (I have a habit of replacing the <code>-E &quot;&quot;</code> with <code>-E &#39;&#39;</code> before posting up on SO)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476104329, "post_id": 39958739, "comment_id": 67197241, "body": "<a href=\"http://p3rl.org/Math::Random\" rel=\"nofollow noreferrer\">Math::Random</a>? Also <a href=\"http://www.perlmonks.org/?node_id=1001701\" rel=\"nofollow noreferrer\">rand() precision low, looking for a fast way to get high precision rand float?</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476104417, "post_id": 39958739, "comment_id": 67197306, "body": "What happend to the other 270 rolls?"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476104526, "post_id": 39958739, "comment_id": 67197378, "body": "@simbabque typo on my part... should&#39;ve been 1411 not 1141"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476104705, "post_id": 39958739, "comment_id": 67197498, "body": "@choroba For <code>&amp;random_uniform_integer</code>, <a href=\"http://search.cpan.org/~grommel/Math-Random-0.71/Random.pm\" rel=\"nofollow noreferrer\">&quot;the resulting range ($high - $low) must not be greater than 2147483561&quot;</a>, so this doesn&#39;t seem suitable"}, {"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1476105312, "post_id": 39958739, "comment_id": 67197852, "body": "You can concentrate strings made from multiple pseudo-random numbers into one long string to pass to  <code>Math::BigInt-&gt;new($str)</code>.  But I doubt its cryptographically strong, and guessing if it&#39;d be good enough for monte-carlo work is above my pay grade"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 1, "creation_date": 1476107027, "post_id": 39958739, "comment_id": 67199019, "body": "A more theoretical-driven, but <i>maybe too slow</i> method: calc the number of bits you need for your number (easy). Then check how many bits your PRNG returns; probably 32/64. Sample ceil(needed_bits / rng_bits) time and concatenate the bits. If the resulting value is within your range: accept; else: resample again (all components!; acceptance-sampling)."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1476110471, "post_id": 39958739, "comment_id": 67201300, "body": "@sascha since I only need integers that sounds like a start to a promising approach. Do you want to put that down as an answer?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476141524, "post_id": 39958739, "comment_id": 67216015, "body": "What version of <code>perl</code> are you using on Windows? Are you aware of <a href=\"https://www.nu42.com/2014/05/perl-5200-brings-better-prng-to-windows.html\" rel=\"nofollow noreferrer\">Perl 5.20.0 brings a &quot;better&quot; PRNG to Windows</a>. Regardless, you might want to use <a href=\"http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/VERSIONS/C-LANG/c-lang.html\" rel=\"nofollow noreferrer\">SFMT</a> to generate a bunch of 32 or 64 bit random integers and construct larger ones from those."}], "answers": [{"tags": [], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "is_accepted": true, "score": 5, "last_activity_date": 1476111786, "last_edit_date": 1476111786, "creation_date": 1476111444, "answer_id": 39961161, "question_id": 39958739, "link": "https://stackoverflow.com/questions/39958739/how-can-i-pick-a-random-value-between-0-and-a-bigint/39961161#39961161", "title": "How can I pick a random value between 0 and a bigint?", "body": "<p>(Converted from my comment)</p>\n\n<p>A more theoretical-driven approach would be using multiple calls to the PRNG to create enough random-bits for your number to sample. Care has to be taken, if the number of bits produced by some PRNG is not equal to the number of bits needed as outlined below!</p>\n\n<h3>Pseudocode</h3>\n\n<ul>\n<li>Calculate the bits needed to represent your number: <code>n_needed_bits</code></li>\n<li>Check the size of bits returned by your PRNG: <code>n_bits_prng</code></li>\n<li>Calculate the number of samples needed: <code>needed_prng_samples = ceil(n_needed_bits / n_bits_prng)</code></li>\n<li>While true:\n\n<ul>\n<li>Sample <code>needed_prng_samples</code> (calls to PRNG) times &amp; concatenate all the bits obtained</li>\n<li>Check if the resulting number is within your range</li>\n<li>Yes?: return number (finished)</li>\n<li>No?: do nothing (loop continues; will resample all components again!)</li>\n</ul></li>\n</ul>\n\n<h3>Remarks</h3>\n\n<ul>\n<li>This is a form of <a href=\"https://en.wikipedia.org/wiki/Rejection_sampling\" rel=\"nofollow\">acceptance-sampling / rejection-sampling</a></li>\n<li>The approach is a <a href=\"https://en.wikipedia.org/wiki/Las_Vegas_algorithm\" rel=\"nofollow\">Las-vegas type of algorithm</a>: the runtime is not bounded in theory\n\n<ul>\n<li>The number of loops needed is in average: <code>n_possible-sample-numbers-of-full-concatenation / n_possible-sample-numbers-within-range</code></li>\n</ul></li>\n<li>The complete resampling (if result not within range) according to the rejection-method is giving access to more formal-analysis of non-bias / uniformity and is a very important aspect for this approach</li>\n<li>Of course the classic assumptions in regards to PRNG-output are needed to make this work.\n\n<ul>\n<li>If the PRNG for example has some non-uniformity in regards to low-bits / high-bits (as often mentioned), this will have an effect of the output above</li>\n</ul></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1476127726, "post_id": 39961244, "comment_id": 67210510, "body": "The algorithm in sensible, but could you un-golf the code? And remove <code>$low</code> which is never true, and the associated logic?"}, {"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1476172617, "post_id": 39961244, "comment_id": 67224563, "body": "$low becomes true as it is passed by reference in @_ array; the logic on an example if input is &quot;12301383&quot;, it is split into &quot;123013&quot; and &quot;83&quot; the first random number must be between 000000 and 123013 included, if it is less than 123013, the next number can be any number betwen 00 and 99, else if is equal to 123013 the next number must be between 00 and 83 (except that this is the last chunk so it cannot be equal to 83)"}], "tags": [], "owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "is_accepted": false, "score": 1, "last_activity_date": 1476172809, "last_edit_date": 1476172809, "creation_date": 1476111718, "answer_id": 39961244, "question_id": 39958739, "link": "https://stackoverflow.com/questions/39958739/how-can-i-pick-a-random-value-between-0-and-a-bigint/39961244#39961244", "title": "How can I pick a random value between 0 and a bigint?", "body": "<p>An approach can be to cut string representation of the number into chunks, a boolean ($low) initialized is false while first random draws are equal to upper bound.</p>\n\n<p>EDIT: added some explanations following comment</p>\n\n<pre><code># first argument (in) upper bound\n# second argument (in/out) is lower (false while random returns upper bound, after it remains true)\nsub randhlp {\n    my($upp)=@_;\n    my $l=length $upp;\n    # random number less than\n    # - upper bound if islower is false\n    # - 9..99 otherwise\n    my $x=int rand ($_[1] ? 10**$l : $upp+1);\n    if ($x&lt;$upp) {\n        $_[1]=1;\n    }\n    # left padding with 0\n    return sprintf(\"%0*d\",$l,$x);\n}\n\n# returns a random number less than argument (numeric string)\nsub randistr {\n    my($n)=@_;\n    $n=~/^\\d+$/ or die \"invalid input not numeric\";\n    $n ne \"0\" or die \"invalid input 0\";\n    my($low,$x);\n    do {\n        undef $x;\n        # split string by chunks of 6 characters\n        # except last chunk which has 1 to 6 characters\n        while ($n=~/.{1,6}/g) {\n            # concatenate random results\n            $x.=randhlp($&amp;,$low)\n        }\n    } while ($x eq $n);\n    $x=~s/^0+//;\n    return $x;\n}\n</code></pre>\n\n<p>The test</p>\n\n<pre><code>for ($i=0;$i&lt;2e6;++$i) {\n    $H{length(randistr(\"1230138339199329632554990773929330319360000000\"))}+=1;\n}\n\nprint \"$_ $H{$_}\\n\" for sort keys %H;\n</code></pre>\n\n<p>Returns</p>\n\n<pre><code>39 4\n40 61\n41 153\n42 1376\n43 14592\n44 146109\n45 1463301\n46 374404\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476279873, "post_id": 39976880, "comment_id": 67278189, "body": "Maybe you can rephrase it then ... In any case, just a heads up, I believe you are going down the wrong path. Does <code>Math::BigInt</code> replace <code>rand</code>? Also, which <code>perl</code> version on Windows?"}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 3, "last_activity_date": 1476189892, "last_edit_date": 1476189892, "creation_date": 1476187622, "answer_id": 39976880, "question_id": 39958739, "link": "https://stackoverflow.com/questions/39958739/how-can-i-pick-a-random-value-between-0-and-a-bigint/39976880#39976880", "title": "How can I pick a random value between 0 and a bigint?", "body": "<h2>I was looking at this problem from the wrong angle</h2>\n\n<p>The bins are not the same size. Each bin is 10 times the size of the previous one. To put this in perspective, there are 10,000 possible integers at magnitude <code>1e+44</code> for every integer with magnitude <code>1e+40</code>.</p>\n\n<p>The probability of finding <em>any</em> number with magnitude <code>1e+20</code> for the bigint at <code>1e+45</code> is less than <code>0.00000 00000 00000 00000 001 %</code>.</p>\n\n<p>Forget needles in haystacks, this is more like finding a needle in a quasar!</p>\n"}], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 39961161, "answer_count": 3, "score": 14, "last_activity_date": 1476189892, "creation_date": 1476103908, "last_edit_date": 1592644375, "question_id": 39958739, "link": "https://stackoverflow.com/questions/39958739/how-can-i-pick-a-random-value-between-0-and-a-bigint", "title": "How can I pick a random value between 0 and a bigint?", "body": "<p>I have a combinatorics problem for which I want to be able to pick an integer at random between 0 and a big integer.</p>\n<hr />\n<h3>Inadequacies of my current approach</h3>\n<p>Now for regular integers I would usually write something like <code>int rand 500;</code> and be done with it.</p>\n<p>But for big integers, it looks like <code>rand</code> isn't meant for this.</p>\n<p>Using the following code, I ran a simulation of 2 million calls to <code>rand $bigint</code>:</p>\n<pre><code>$ perl -Mbigint -E 'say int rand 1230138339199329632554990773929330319360000000 for 1 .. 2e6' &gt; rand.txt\n</code></pre>\n<p>The distribution of the resultant set is far from desirable:</p>\n<ul>\n<li>0 (56 counts)</li>\n<li>magnitude 1e+040 (112 counts)</li>\n<li>magnitude 1e+041 (1411 counts)</li>\n<li>magnitude 1e+042 (14496 counts)</li>\n<li>magnitude 1e+043 (146324 counts)</li>\n<li>magnitude 1e+044 (1463824 counts)</li>\n<li>magnitude 1e+045 (373777 counts)</li>\n</ul>\n<p>So the process was never able to choose a number like <code>999</code>, or <code>5e+020</code>, which makes this approach unsuitable for what I want to do.</p>\n<p>It looks like this has something to do with the arbitrary precision of <code>rand</code>, which never goes beyond 15 digits in the course of my testing:</p>\n<pre><code>$ perl -E 'printf &quot;%.66g&quot;, rand'\n0.307037353515625\n</code></pre>\n<hr />\n<h3>How can I overcome this limitation?</h3>\n<p>My initial thought is that maybe there is a way to influence the precision of <code>rand</code>, but it feels like a band-aid to a much bigger problem (i.e. the inability of <code>rand</code> to handle big integers).</p>\n<p>In any case, I'm hoping someone has walked down this path before and knows how to remedy the situation.</p>\n"}, {"tags": ["perl", "zlib"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1476104431, "post_id": 39958732, "comment_id": 67197321, "body": "<code># Use a Gtk2 main loop because, why the hell not</code> - because this is supposed to be a <i>minimal</i> test case."}, {"owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "edited": false, "score": 1, "creation_date": 1476118660, "post_id": 39958732, "comment_id": 67206089, "body": "Make sure that you&#39;ve found the zlib stream first. It will start with 0x78."}, {"owner": {"reputation": 165, "user_id": 6920800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aad840893bf8dddaa9bae758c57b78?s=128&d=identicon&r=PG&f=1", "display_name": "lesrol", "link": "https://stackoverflow.com/users/6920800/lesrol"}, "edited": false, "score": 0, "creation_date": 1476122170, "post_id": 39958732, "comment_id": 67207852, "body": "Interesting. The first packet processed is an expected telnet option negotiation. The second starts &lt;13&gt;&lt;120&gt;. If I remove the initial carriage return, and decompress the rest of the packet (which now starts with &lt;120&gt;), the call to $zlib-&gt;inflate succeeds. The next two packets can also be decompressed (without removing anything), but all subsequent packets can&#39;t be decompressed, and $zlib-&gt;msg() gives the error message &quot;invalid code lengths set&quot; (an error message that I haven&#39;t seen yet.)"}, {"owner": {"reputation": 165, "user_id": 6920800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aad840893bf8dddaa9bae758c57b78?s=128&d=identicon&r=PG&f=1", "display_name": "lesrol", "link": "https://stackoverflow.com/users/6920800/lesrol"}, "edited": false, "score": 0, "creation_date": 1476205254, "post_id": 39958732, "comment_id": 67243937, "body": "I&#39;ve edited the script so that it starts inflating only at the start of the zlib stream, when found."}], "owner": {"reputation": 165, "user_id": 6920800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aad840893bf8dddaa9bae758c57b78?s=128&d=identicon&r=PG&f=1", "display_name": "lesrol", "link": "https://stackoverflow.com/users/6920800/lesrol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476273664, "creation_date": 1476103876, "last_edit_date": 1476273664, "question_id": 39958732, "link": "https://stackoverflow.com/questions/39958732/cant-inflate-rfc1950-zlib-compression-stream-with-perls-compresszlib", "title": "Can&#39;t inflate RFC1950 zlib compression stream with Perl&#39;s Compress::Zlib", "body": "<p>RFC1950 specifies a protocol for using zlib to compress data streams.</p>\n\n<p>I'm trying to write a simple telnet client that can decompress the incoming data. However, nothing I try works. The script below uses Compress::Zlib->inflate, but fails. </p>\n\n<p>I've also tried IO::Uncompress::Inflate, IO::Uncompress::AnyInflate and Compress::Raw::Zlib. Since none of them work either, I'm guessing that I'm missing some crucial step or other.</p>\n\n<p><strong>EDIT:</strong> The code below now works perfectly. Thanks, all.</p>\n\n<pre><code>#!/usr/bin/perl --\n\nuse strict;\nuse warnings;\nuse Compress::Zlib;\nuse Gtk2 '-init';\n\n# -----------------------------------------------------------------------------\n# Try to decompress a zlib stream using Compress::Zlib.\n# This script works as a bare-bones telnet client. \n# During telnet option negotiation, we tell the server to use a zlib compression \n#   stream (RFC1950).\n# Once option negotiation is complete, everything it sends us should be \n#   compressed.\n# The connection is managed by Net::Telnet, whose -&gt;_fillbuf function has been\n#   modified so that incoming text can be decompressed (inflated) before being\n#   displayed in the terminal window\n# All calls to Compress::Zlib-&gt;inflate now succeeds\n# -----------------------------------------------------------------------------\n\n# Compress::Zlib object\nour ($ZLIB_OBJ, $ZLIB_STATUS, $STREAM_FLAG, $TELNET_OBJ);\n\n# Monkey-patch Net::Telnet so this test file contains only the Net::Telnet \n#   function we want to modify (following http://perlmonks.org/?node_id=1173735)\nrequire Net::Telnet;\n\n{\n    no warnings 'redefine';\n    *Net::Telnet::_fillbuf = sub {\n\n        # Modified -&gt;_fillBuf. The modified section is clearly marked. Also \n        #   removed some logging code we don't need\n\n        my ($self, $s, $endtime) = @_;\n        my (\n        $msg,\n        $nfound,\n        $nread,\n        $pushback_len,\n        $read_pos,\n        $ready,\n        $timed_out,\n        $timeout,\n        $unparsed_pos,\n        );\n\n        ## If error from last read not yet reported then do it now.\n        if ($s-&gt;{pending_errormsg}) {\n        $msg = $s-&gt;{pending_errormsg};\n        $s-&gt;{pending_errormsg} = \"\";\n        return $self-&gt;error($msg);\n        }\n\n        return unless $s-&gt;{opened};\n\n        while (1) {\n        ## Maximum buffer size exceeded?\n        return $self-&gt;error(\"maximum input buffer length exceeded: \",\n                    $s-&gt;{maxbufsize}, \" bytes\")\n            unless length($s-&gt;{buf}) &lt;= $s-&gt;{maxbufsize};\n\n        ## Determine how long to wait for input ready.\n#        ($timed_out, $timeout) = &amp;_timeout_interval($endtime);\n        ($timed_out, $timeout) = &amp;Net::Telnet::_timeout_interval($endtime);\n        if ($timed_out) {\n            $s-&gt;{timedout} = 1;\n            return $self-&gt;error(\"read timed-out\");\n        }\n\n        ## Wait for input ready.\n        $nfound = select $ready=$s-&gt;{fdmask}, \"\", \"\", $timeout;\n\n        ## Append to buffer any partially processed telnet or CR sequence.\n        $pushback_len = length $s-&gt;{pushback_buf};\n        if ($pushback_len) {\n            $s-&gt;{buf} .= $s-&gt;{pushback_buf};\n            $s-&gt;{pushback_buf} = \"\";\n        }\n\n        ## Read the waiting data.\n        $read_pos = length $s-&gt;{buf};\n        $unparsed_pos = $read_pos - $pushback_len;\n        $nread = sysread $self, $s-&gt;{buf}, $s-&gt;{blksize}, $read_pos;\n\n        ### Modified section ##################################################\n        if ($nread &amp;&amp; $s-&gt;{opts}{86}{remote_enabled}) {\n\n            my ($buff, $posn, $previous, $nout, $status);\n\n            $buff = $s-&gt;{buf};\n\n            # We're expecting telnet option negotiation IAC SB MCCP IAC SE,\n            #   followed by chr(120), which marks the start of the zlib stream\n            if (! $STREAM_FLAG) {\n\n                $posn = index($buff, chr(120));\n                if ($posn &gt; -1) {\n\n                    # Ignore everything before the zlib stream\n                    $buff = substr($buff, $posn);\n                    # IAC... received\n                    $STREAM_FLAG = 1;\n                }\n\n            } elsif ($pushback_len) {\n\n                # If any partially processed telnet or CR sequence was appended \n                #   to the buffer, we mustn't try to inflate that portion\n                $previous = substr($buff, 0, $pushback_len);\n                $buff = substr($buff, $pushback_len);\n            }\n\n            if ($buff &amp;&amp; $STREAM_FLAG) {\n\n                # zlib stream has started. Decompress stuff\n                ($nout, $status) = $ZLIB_OBJ-&gt;inflate($buff);\n\n                # Respond to stream end or inflation errors\n                if ($status == Z_STREAM_END) {\n\n                    print \"*TEST* End of zlib stream\\n\";\n                    # (Don't inflate anything after this point)\n                    $STREAM_FLAG = 0;\n                    # Append anything after the end of the data stream\n                    if (defined $previous) {\n                        $s-&gt;{buf} = $previous . $nout . $buff;\n                    } else {\n                        $s-&gt;{buf} = $nout . $buff;\n                    }\n\n                    $nread = length $s-&gt;{buf};\n\n                } elsif ($status != Z_OK) {\n\n                    print \"*TEST* Error inflating: errnum: $status\\n\";\n                    if ($ZLIB_OBJ-&gt;msg()) {\n                        print \"*TEST*   msg: \" . $ZLIB_OBJ-&gt;msg() . \"\\n\";\n                    } else {\n                        print \"*TEST*   msg: &lt;none&gt;\\n\";\n                    }\n\n                } else {\n\n                    # Inflation successful!\n                    if (defined $previous) {\n                        $s-&gt;{buf} = $previous . $nout;\n                    } else {\n                        $s-&gt;{buf} = $nout;\n                    }\n\n                    $nread = length $s-&gt;{buf};\n                }\n            }\n        }    \n        #######################################################################\n\n        ## Handle eof.\n        if ($nread == 0) {  # eof read\n            $s-&gt;{opened} = '';\n            return;\n        }\n\n        ## Process any telnet commands in the data stream.\n        if ($s-&gt;{telnet_mode} and index($s-&gt;{buf},\"\\377\",$unparsed_pos) &gt; -1) {\n#            &amp;_interpret_tcmd($self, $s, $unparsed_pos);\n            &amp;Net::Telnet::_interpret_tcmd($self, $s, $unparsed_pos);\n        }\n\n        ## Process any carriage-return sequences in the data stream.\n#        &amp;_interpret_cr($s, $unparsed_pos);\n        &amp;Net::Telnet::_interpret_cr($s, $unparsed_pos);\n\n        ## Read again if all chars read were consumed as telnet cmds.\n        next if $unparsed_pos &gt;= length $s-&gt;{buf};\n\n        ## Save the last line read.\n#        &amp;_save_lastline($s);\n        &amp;Net::Telnet::_save_lastline($s);\n\n        ## We've successfully read some data into the buffer.\n        last;\n        } # end while(1)\n\n        1;\n\n    } # end sub _fillbuf\n}   # end of monkey patch\n\n# Connect to a random MUD that uses zlib compression, implemented using the \n#   MCCP protocol (RFC1950)\n$TELNET_OBJ = Net::Telnet-&gt;new();\n$TELNET_OBJ-&gt;open(\n    Host        =&gt; 'iberiamud.mooo.com',\n    Port        =&gt; 5900,\n);\n\n# Telnet option negotiation - accept zlib compression (must specify a callback \n#   subroutine)\n$TELNET_OBJ-&gt;option_callback(sub {\n\n    my ($obj, $option, $isRemote, $isEnabled, $wasEnabled, $bufPosn) = @_;\n\n    print \"MCCP enabled!\\n\";\n    return 1;\n});\n\n$TELNET_OBJ-&gt;option_accept(Will =&gt; 86);\n\n# Initiate Compress::Zlib\n($ZLIB_OBJ, $ZLIB_STATUS) = inflateInit();\nif (! defined $ZLIB_OBJ) {\n\n    print \"-&gt;inflateInit failed with error code: $ZLIB_STATUS\\n\";\n} \n\n# Use a standard Glib::Timeout to check the connection for incoming data, and to \n#   display it in the user's terminal window\nmy $id = Glib::Timeout-&gt;add(100, sub {\n\n    my $receive = $TELNET_OBJ-&gt;get(\n        Errmode =&gt; sub {},                 \n        Timeout =&gt; 0,\n    );\n\n    if (defined $receive &amp;&amp; $receive =~ m/connect/) {\n\n        # Send a few invalid logins, to generate some compressed text for \n        #   Compress::Zlib to inflate\n        my @invalidList = (\n            'connect testing testing', \n            'connect elvis presley',\n            'connect samson delilah',\n        );\n\n        foreach my $cmd (@invalidList) {\n\n            $TELNET_OBJ-&gt;print($cmd);\n        }\n    }\n\n    if ($receive) {\n\n        print $receive;\n    }    \n\n    return 1;\n});\n\n## Use a Gtk2 main loop because 'while (1) {}' doesn't work\nGtk2-&gt;main();\n</code></pre>\n"}, {"tags": ["perl", "autodie"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1476103813, "post_id": 39958624, "comment_id": 67196864, "body": "Use lexical variable and 3 arg open: <code>open my $IN, &#39;&lt;&#39;, &#39;tmp.txt or die ...</code>"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 3, "creation_date": 1476103897, "post_id": 39958624, "comment_id": 67196941, "body": "<code>or die ...</code> is superfluous as you are using <code>autodie</code>"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 8, "last_activity_date": 1476104359, "last_edit_date": 1476104359, "creation_date": 1476103974, "answer_id": 39958760, "question_id": 39958624, "link": "https://stackoverflow.com/questions/39958624/perl-name-mainin-used-only-once-but-it-is-actually-used/39958760#39958760", "title": "Perl : Name &quot;main::IN&quot; used only once, but it is actually used", "body": "<p>This is mentioned under <a href=\"https://metacpan.org/pod/autodie#BUGS\" rel=\"noreferrer\"><strong>BUGS</strong></a> section of autodie</p>\n\n<blockquote>\n  <p>\"Used only once\" warnings can be generated when autodie or Fatal is used with package filehandles (eg, FILE). <strong>Scalar filehandles are strongly recommended instead</strong>.</p>\n</blockquote>\n\n<hr>\n\n<p><code>use diagnostics;</code> says:</p>\n\n<blockquote>\n  <p>Name \"main::IN\" used only once: possible typo at test.pl line 9 (#1)\n  (W once) Typographical errors often show up as unique variable names. \n  If you had a good reason for having a unique name, then just mention\n  it again somehow to suppress the message.  The our declaration is also\n  provided for this purpose.</p>\n  \n  <p>NOTE: This warning detects package symbols that have been used only\n  once.  <strong>This means lexical variables will never trigger this warning</strong>. \n  It also means that all of the package variables $c, @c, %c, as well as\n  *c, &amp;c, sub c{}, c(), and c (the filehandle or format) are considered the same; if a program uses $c only once but also uses any of the\n  others it will not trigger this warning. Symbols beginning with an\n  underscore and symbols using special identifiers (q.v. perldata) are\n  exempt from this warning.</p>\n</blockquote>\n\n<p>So if you use lexical filehandle then it will not warn.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse autodie;        # die if io problem with file\nuse diagnostics;\nmy $line;\nmy ($xloc, $gene, $ens);\nopen (my $in, \"&lt;\", \"tmp.txt\")\n    or die (\"open 'tmp.txt' failed, $!\\n\");\nwhile ($line = &lt;$in&gt;) {\n    ($xloc, $gene) = ($line =~ /gene_id \"([^\"]+)\".*gene_name \"([^\"]+)\"/);\n    print(\"$xloc   $gene\\n\");\n}\nclose ($in)\n    or warn $! ? \"ERROR 1\" : \"ERROR 2\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1476104100, "last_edit_date": 1592644375, "creation_date": 1476104100, "answer_id": 39958799, "question_id": 39958624, "link": "https://stackoverflow.com/questions/39958624/perl-name-mainin-used-only-once-but-it-is-actually-used/39958799#39958799", "title": "Perl : Name &quot;main::IN&quot; used only once, but it is actually used", "body": "<p>I'm pretty sure this is because of <code>autodie</code>.</p>\n<p>I don't know exactly why, but if you remove it, it goes away.</p>\n<p>If you read <a href=\"http://search.cpan.org/%7Epjf/autodie-2.29/lib/autodie.pm\" rel=\"nofollow noreferrer\"><code>perldoc autodie</code></a> you'll see:</p>\n<blockquote>\n<p>BUGS ^</p>\n<p>&quot;Used only once&quot; warnings can be generated when autodie or Fatal is used with package filehandles (eg, FILE). Scalar filehandles are strongly recommended instead.</p>\n</blockquote>\n<p>I'd suggest that's because of how the <code>or die</code> is being handled, compared to <code>autodie</code> trying to handle it.</p>\n<p>However I'd also suggest it would be much better style to use a 3 argument <code>open</code>:</p>\n<pre><code>open ( my $input, '&lt;', 'tmp.txt'); \n</code></pre>\n<p>And <em>either</em> <code>autodie</code> or <code>or die</code>. I must confess, I'm not really sure which way around the two would be applied if your process did fail the <code>open</code>.</p>\n"}], "owner": {"reputation": 3474, "user_id": 4021436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fee371e3364a37dd0724bc8ac5dc0394?s=128&d=identicon&r=PG&f=1", "display_name": "irritable_phd_syndrome", "link": "https://stackoverflow.com/users/4021436/irritable-phd-syndrome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 793, "favorite_count": 1, "accepted_answer_id": 39958760, "answer_count": 2, "score": 3, "last_activity_date": 1476104555, "creation_date": 1476103516, "last_edit_date": 1476104555, "question_id": 39958624, "link": "https://stackoverflow.com/questions/39958624/perl-name-mainin-used-only-once-but-it-is-actually-used", "title": "Perl : Name &quot;main::IN&quot; used only once, but it is actually used", "body": "<p>I writing a short perl script that reads in a file. See <code>tmp.txt</code>:</p>\n\n<pre><code>1   gene_id \"XLOC_000001\";  gene_name \"DDX11L1\";    oId\n1   gene_id \"XLOC_000001\";  gene_name \"DDX11L1\";    oId\n1   gene_id \"XLOC_000001\";  gene_name \"DDX11L1\";    oId\n1   gene_id \"XLOC_000001\";  gene_name \"DDX11L1\";    oId\n</code></pre>\n\n<p>My perl program, <code>convert.pl</code> is : </p>\n\n<pre><code>use warnings;\nuse strict;\nuse autodie;        # die if io problem with file\nmy $line;\nmy ($xloc, $gene, $ens);\nopen (IN, \"tmp.txt\")\n    or die (\"open 'tmp.txt' failed, $!\\n\");\nwhile ($line = &lt;IN&gt;) {\n    ($xloc, $gene) = ($line =~ /gene_id \"([^\"]+)\".*gene_name \"([^\"]+)\"/);\n    print(\"$xloc   $gene\\n\");\n}\nclose (IN)\n    or warn $! ? \"ERROR 1\" : \"ERROR 2\";\n</code></pre>\n\n<p>It outputs:</p>\n\n<pre><code> Name \"main::IN\" used only once: possible typo at ./convert.pl line 8.\n XLOC_000001   DDX11L1 \n XLOC_000001   DDX11L1 \n XLOC_000001   DDX11L1\n XLOC_000001   DDX11L1 \n</code></pre>\n\n<p>I used <code>IN</code>, so I don't understand the <code>Name \"main::IN\" used...</code> warning.  Why is it complaining?</p>\n"}, {"tags": ["perl", "ssl", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1476103439, "post_id": 39958328, "comment_id": 67196606, "body": "The site you mentioned is down at the moment. So you&#39;ll have to wait till it&#39;s up."}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": -1, "last_activity_date": 1476103187, "creation_date": 1476103187, "answer_id": 39958517, "question_id": 39958328, "link": "https://stackoverflow.com/questions/39958328/lwp-useragent-504-gatway-timeout/39958517#39958517", "title": "lwp useragent 504 gatway timeout", "body": "<p>This is a server side problem and you are only lucky if you could access the site with the browser. I get the same gateway timeout with a browser too.</p>\n"}], "owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476103337, "creation_date": 1476102559, "last_edit_date": 1476103337, "question_id": 39958328, "link": "https://stackoverflow.com/questions/39958328/lwp-useragent-504-gatway-timeout", "title": "lwp useragent 504 gatway timeout", "body": "<p>I am using strawberry perl 5.22 and try to run the folllowing code :</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new();\n\nmy $response = $ua-&gt;get('https://ransomwaretracker.abuse.ch/feeds/csv/');\n\nif ($response-&gt;is_success) {\n    print $response-&gt;decoded_content;  \n}\nelse {\n    die $response-&gt;status_line;\n}\n</code></pre>\n\n<p>I get 504 gateway </p>\n\n<p>but when try to fetch the link using the browser it works as expected ?\ncould someone help to solve this issue ?</p>\n\n<ol>\n<li><p>I tried different links like <a href=\"http://google.com\" rel=\"nofollow\">http://google.com</a> it works as expected</p></li>\n<li><p>I tried to use <code>my $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; { verify_hostname =&gt; 0});</code></p></li>\n</ol>\n\n<p>I get the following error: <code>500 Can't connect to ... (bad hostname)</code></p>\n\n<p>Any idea how to solve this problem ?</p>\n"}, {"tags": ["perl", "exslt", "libxslt"], "answers": [{"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 1, "last_activity_date": 1476109633, "creation_date": 1476109633, "answer_id": 39960610, "question_id": 39958243, "link": "https://stackoverflow.com/questions/39958243/exslt-regexp-in-libxslt-perl/39960610#39960610", "title": "EXSLT regexp in libXSLT Perl", "body": "<p>The Perl distro <em>XML::LibXSLT</em> is based on the <em>libxslt</em> and <em>libexslt</em> C libraries. <em>libexslt</em>  <a href=\"http://xmlsoft.org/XSLT/EXSLT/html/libexslt-exslt.html\" rel=\"nofollow\">doesn't support the <em>regexp</em> module</a>. But it's possible to <a href=\"https://metacpan.org/pod/XML::LibXSLT#register_function\" rel=\"nofollow\">register custom extension functions</a> which execute Perl code.</p>\n"}], "owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 39960610, "answer_count": 1, "score": 0, "last_activity_date": 1476109633, "creation_date": 1476102298, "last_edit_date": 1495535248, "question_id": 39958243, "link": "https://stackoverflow.com/questions/39958243/exslt-regexp-in-libxslt-perl", "title": "EXSLT regexp in libXSLT Perl", "body": "<p>I have already referred to <a href=\"https://stackoverflow.com/questions/6952625/how-to-get-regexp-from-exslt-working-in-libxslt\">this</a> question and I wanted to know if <a href=\"http://exslt.org/regexp/index.html\" rel=\"nofollow noreferrer\">exsl regexp</a> is at all available in libXSLT in Perl. (That page was last updated on 2001-06-30 which makes me wonder if the support was added later and the page was not updated).</p>\n\n<p>If not, what are the alternatives for using regexp while performing XSLT 1.0 transformation using Perl-libXSLT ?</p>\n\n<p>PS:\nI am trying to solve a use case where I have to move from XSLT 2.0 (JAVA-Saxon) to XSLT 1.0 (Perl-libXSLT) transformation.</p>\n"}, {"tags": ["perl", "object", "subroutine", "method-invocation"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 6, "creation_date": 1476097531, "post_id": 39956702, "comment_id": 67193120, "body": "Why do you need to know? This sounds like an xy-problem."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 2, "last_activity_date": 1476099699, "last_edit_date": 1476099699, "creation_date": 1476098227, "answer_id": 39957031, "question_id": 39956702, "link": "https://stackoverflow.com/questions/39956702/how-to-check-if-a-subroutine-was-called-with-an-object-invocation-method-or-not/39957031#39957031", "title": "How to check if a subroutine was called with an object invocation method or not", "body": "<p>You can use <code>called_as_method</code> from <a href=\"https://metacpan.org/pod/Devel::Caller\" rel=\"nofollow\">Devel::Caller</a>.</p>\n\n<pre><code>use Devel::Caller qw( called_as_method );\nsub opa{\n    print called_as_method(0) ? 'object: ' : 'class: ';\n    $first= shift;\n    $second= shift;\n    print \"Opa $first -- $second\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>object: Opa Opa -- uno\nobject: Opa Opa -- uno\nclass: Opa uno -- segundo\nclass: Opa Opa -- uno\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 963183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c867babb1b402c48e4b9a84f0b82dc?s=128&d=identicon&r=PG", "display_name": "Bruce Van Allen", "link": "https://stackoverflow.com/users/963183/bruce-van-allen"}, "edited": false, "score": 2, "creation_date": 1476895217, "post_id": 39960504, "comment_id": 67543862, "body": "Subroutines can take references as arguments, so as is this isn&#39;t reliable for detecting a method invocation. But ref() provides more: use it to test whether ref($_[0]) provides the class/package name: if (ref($_[0]) eq <b>PACKAGE</b>) { ... }"}, {"owner": {"reputation": 119, "user_id": 963183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c867babb1b402c48e4b9a84f0b82dc?s=128&d=identicon&r=PG", "display_name": "Bruce Van Allen", "link": "https://stackoverflow.com/users/963183/bruce-van-allen"}, "edited": false, "score": 0, "creation_date": 1476895653, "post_id": 39960504, "comment_id": 67544120, "body": "[ Bitten by Markdown: That&#39;s two underscores concatenated with &#39;PACKAGE&#39; concatenated with two more underscores. ]"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1476109359, "creation_date": 1476109359, "answer_id": 39960504, "question_id": 39956702, "link": "https://stackoverflow.com/questions/39956702/how-to-check-if-a-subroutine-was-called-with-an-object-invocation-method-or-not/39960504#39960504", "title": "How to check if a subroutine was called with an object invocation method or not", "body": "<p>You can also do this with the <code>ref()</code> function instead of using external modules:</p>\n\n<pre><code>use warnings;\nuse strict;\n\npackage Test;\n\nsub new {\n    return bless {}, shift;\n}\nsub blah {\n    if (ref $_[0]){\n        print \"method call\\n\";\n    }\n    else {\n        print \"class call\\n\";\n    }\n}\n\npackage main;\n\nmy $obj = Test-&gt;new;\n\n$obj-&gt;blah;\nTest::blah;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>method call\nclass call\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 3367051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uw3lC.jpg?s=128&g=1", "display_name": "Diego Saravia", "link": "https://stackoverflow.com/users/3367051/diego-saravia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 1, "accepted_answer_id": 39957031, "answer_count": 2, "score": 6, "last_activity_date": 1476109359, "creation_date": 1476097012, "last_edit_date": 1476098317, "question_id": 39956702, "link": "https://stackoverflow.com/questions/39956702/how-to-check-if-a-subroutine-was-called-with-an-object-invocation-method-or-not", "title": "How to check if a subroutine was called with an object invocation method or not", "body": "<p>You can invoke a subroutine as a method using the two syntaxes in the example below.</p>\n\n<p>But you can also invoke it not as an object.</p>\n\n<pre><code>#====================================================\npackage Opa;\nsub opa{\n    $first= shift;\n    $second= shift;\n    print \"Opa $first -- $second\\n\";\n}\n\npackage main;\n# as object:\nOpa-&gt;opa(\"uno\");\nopa Opa (\"uno\");\n# not as object\nOpa::opa(\"uno\",\"segundo\");\nOpa::opa(\"Opa\",\"uno\");\n#====================================================\n</code></pre>\n\n<p>It there a way, from inside the subroutine, to know \"in general\", what kind of invocation a sub has received?.</p>\n"}, {"tags": ["perl", "sql-loader", "backticks"], "comments": [{"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 2, "creation_date": 1476091464, "post_id": 39954691, "comment_id": 67189870, "body": "If you want the exit code of <code>sqlldr</code>, you should use <code>system()</code> and examine <code>$?</code> afterwards"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1476092985, "creation_date": 1476092985, "answer_id": 39955604, "question_id": 39954691, "link": "https://stackoverflow.com/questions/39954691/catch-sql-loader-exception-while-executing-sql-loader-as-command-in-perl/39955604#39955604", "title": "Catch sql-loader exception while executing sql-loader as command in perl", "body": "<p>Using back-ticks to run an external program is the recommended option if you want to capture whatever the program writes to STDOUT. If you're not capturing the data returned by the back-ticks (in a scalar variable or an array) then you are using the wrong tool for the job.</p>\n\n<p>If you want to get the return value of the program, then you need to be using <code>system()</code> instead. But extracting the external program's actual return value from the value that you get back from <code>system()</code> takes a little work. The <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">documentation for <code>system()</code></a> says this:</p>\n\n<blockquote>\n  <p>The return value is the exit status of the program as returned by the wait call. To get the actual exit value, shift right by eight (see below).</p>\n</blockquote>\n\n<p>The \"below\" mentioned is presumably this code example (which actually checks <code>$?</code> rather than the value returned by <code>system()</code>):</p>\n\n<pre><code>if ($? == -1) {\n    print \"failed to execute: $!\\n\";\n}\nelsif ($? &amp; 127) {\n    printf \"child died with signal %d, %s coredump\\n\",\n        ($? &amp; 127),  ($? &amp; 128) ? 'with' : 'without';\n}\nelse {\n    printf \"child exited with value %d\\n\", $? &gt;&gt; 8;\n}\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 6940978, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1182cc3b623f395990e9c086e992421?s=128&d=identicon&r=PG&f=1", "display_name": "pranjal thakur", "link": "https://stackoverflow.com/users/6940978/pranjal-thakur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 416, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476092985, "creation_date": 1476089980, "question_id": 39954691, "link": "https://stackoverflow.com/questions/39954691/catch-sql-loader-exception-while-executing-sql-loader-as-command-in-perl", "title": "Catch sql-loader exception while executing sql-loader as command in perl", "body": "<p>We are executing sql-loader in perl using command like :<br>\n<code>`sqlldr $db_arg control=$ctl data=$data log=$log bad=$bad`;</code>  </p>\n\n<p>But in this way we are unable to find if sql-loader throws any exception.</p>\n\n<p>For eg:- even if data has 30,000 records and a problem was encountered after loading 1,000 records , we only get a message that 1,000 records have been loaded.</p>\n\n<p>Is there a way to find out if sql-loader has thrown any exception and what exception specifically.</p>\n\n<p>Note : The counting the lines in data file is turning out to be quite expensive as the file has to be executed both in some old Windows Server as well as Unix servers so using <code>`wc`</code> is not an option.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 1, "last_activity_date": 1476086483, "creation_date": 1476086483, "answer_id": 39953744, "question_id": 39953671, "link": "https://stackoverflow.com/questions/39953671/perl-regex-first-word/39953744#39953744", "title": "Perl regex first word", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $line = q{MD5ajdhe728ndsdhsds83ndsds /some/path/};\n$line =~ /^MD5([a-zA-Z0-9]+)/;\nprint $1; \n</code></pre>\n\n<p><a href=\"http://ideone.com/BzNyvQ\" rel=\"nofollow\">Demo</a></p>\n"}], "owner": {"reputation": 135, "user_id": 6012983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/86ac0f66662fc92aa5670c9dddeb6c29?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/6012983/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1476091871, "accepted_answer_id": 39953744, "answer_count": 1, "score": -3, "last_activity_date": 1476086483, "creation_date": 1476086268, "question_id": 39953671, "link": "https://stackoverflow.com/questions/39953671/perl-regex-first-word", "closed_reason": "Needs more focus", "title": "Perl regex first word", "body": "<p>I am very new to regex in perl and I have the following line:</p>\n\n<pre><code>MD5ajdhe728ndsdhsds83ndsds /some/path/\n</code></pre>\n\n<p>and I just want to get the MD5 value (the number/letter combination after \"MD5\"). How do I do that? I have kind of troubles fetching the first word.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476075369, "post_id": 39951441, "comment_id": 67183037, "body": "Please fix your indenting and add the missing <code>}</code>"}, {"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476076372, "post_id": 39951441, "comment_id": 67183249, "body": "@ikegami i already fix the missing }"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476076557, "post_id": 39951441, "comment_id": 67183289, "body": "Well, no, you did it 16 minutes after. And you still haven&#39;t fixed the indenting"}, {"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476076661, "post_id": 39951441, "comment_id": 67183314, "body": "what do you mean  by identing @ikegami?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476076721, "post_id": 39951441, "comment_id": 67183326, "body": "There, did it for you. Your code was simply unreadable"}, {"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476076885, "post_id": 39951441, "comment_id": 67183367, "body": "thanks. by the way do know how to modify my coding based on what i mention above @ikegami?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476077936, "post_id": 39951441, "comment_id": 67183621, "body": "Why did you pick the names <code>FILE4</code>, <code>array3</code> and <code>x</code> to refer to the same thing!?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "edited": false, "score": 0, "creation_date": 1476076617, "post_id": 39951588, "comment_id": 67183301, "body": "I can&#39;t use the File::Slurp, is there other way than use that one. thanks"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1476076877, "last_edit_date": 1476076877, "creation_date": 1476076029, "answer_id": 39951588, "question_id": 39951441, "link": "https://stackoverflow.com/questions/39951441/how-can-i-remove-the-pattern-that-are-matched-from-original-file/39951588#39951588", "title": "How can I remove the pattern that are matched from original file", "body": "<p>Do it in the same loop?</p>\n\n<pre><code>use File::Slurp qw(read_file write_file);\nmy $data = read_file $filename, {binmode =&gt; ':utf8'};\n\nforeach $x (@array3) {\n    if($x =~ /(\\S+) (\\d+) (\\S+)/) {\n        $temp_allreg = $3; \n        foreach $y (@array4) {\n            if($y =~ /\\b$temp_allreg\\b/i){\n                #print to output file\n                print FILE6 \"$x$y\\n\";\n                #remove from input file\n                $data =~ s/$x$y//g;\n                write_file $filename, {binmode =&gt; ':utf8'}, $data;\n            }\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Since you can't use <a href=\"https://metacpan.org/pod/File::Slurp\" rel=\"nofollow\">File::Slurp</a> module, you can consider writing those subroutines yourself.</p>\n\n<pre><code>sub read_file {\n    my ($filename) = @_;\n\n    open my $in, '&lt;:encoding(UTF-8)', $filename or die \"Could not open '$filename' for reading $!\";\n    local $/ = undef;\n    my $all = &lt;$in&gt;;\n    close $in;\n\n    return $all;\n}\n\nsub write_file {\n    my ($filename, $content) = @_;\n\n    open my $out, '&gt;:encoding(UTF-8)', $filename or die \"Could not open '$filename' for writing $!\";;\n    print $out $content;\n    close $out;\n\n    return;\n}\n</code></pre>\n\n<p>See: <a href=\"http://perlmaven.com/how-to-replace-a-string-in-a-file-with-perl\" rel=\"nofollow\">How to replace a string in a file [perlmaven]</a></p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "edited": false, "score": 0, "creation_date": 1476078611, "post_id": 39951845, "comment_id": 67183844, "body": "I already run it and it success like what i want. Thanks for your help @ikegami"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "edited": false, "score": 1, "creation_date": 1476080060, "post_id": 39951845, "comment_id": 67184369, "body": "@ozzy: Please mark the answer as accepted if it solves your problem. See <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1476082029, "post_id": 39951845, "comment_id": 67185138, "body": "@ChankeyPathak okay done mark it..thanks for remind me because i&#39;am still new on these :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1476082962, "last_edit_date": 1476082962, "creation_date": 1476077813, "answer_id": 39951845, "question_id": 39951441, "link": "https://stackoverflow.com/questions/39951441/how-can-i-remove-the-pattern-that-are-matched-from-original-file/39951845#39951845", "title": "How can I remove the pattern that are matched from original file", "body": "<pre><code>use strict;\nuse warnings;\n\nmy $rm_qfn  = 'RM';\nmy $or_qfn  = 'OR';\nmy $out_qfn = 'Compare3.txt';\n\nopen(my $rm_fh, '&lt;', $rm_qfn)\n    or die(\"Can't open \\\"$rm_qfn\\\": $!\\n\");\nopen(my $or_fh, '&lt;', $or_qfn)\n    or die(\"Can't open \\\"$or_qfn\\\": $!\\n\");\n\nopen(my $out_fh, '&gt;', $out_qfn)\n    or die(\"Can't create \\\"$out_qfn\\\": $!\\n\");\nopen(my $out_rm_fh, '&gt;', \"$rm_qfn.tmp\")\n    or die(\"Can't create \\\"$rm_qfn.tmp\\\": $!\\n\");\nopen(my $out_or_fh, '&gt;', \"$or_qfn.tmp\")\n    or die(\"Can't create \\\"$or_qfn.tmp\\\": $!\\n\");\n\nchomp( my @ors = &lt;$or_fh&gt; );\n\nmy @matched_ors;\nwhile (my $rm = &lt;$rm_fh&gt;) {\n    chomp($rm);\n    my $matched_rm = 0;\n\n    if (my ($all_reg) = $rm =~ /\\S+ \\d+ (\\S+)/) {\n        for my $or_idx (0..$#ors) {\n            my $or = $ors[$or_idx];\n            if ($or =~ /\\b\\Q$all_reg\\E\\b/i) {\n                ++$matched_rm;\n                ++$matched_ors[$or_idx];\n                print($out_fh \"$rm$or\\n\");\n            }\n        }\n    }\n\n    if (!$matched_rm) {\n        print($out_rm_fh \"$rm\\n\");\n    }\n}\n\nclose($rm_fh);\nclose($or_fh);\n\nfor my $or_idx (0..$#ors) {\n    if (!$matched_ors[$or_idx]) {\n        my $or = $ors[$or_idx];\n        print($out_or_fh \"$or\\n\");\n    }\n}\n\nclose($out_rm_fh);\nclose($out_or_fh);\n\nrename(\"$rm_qfn.tmp\", $rm_qfn)\n   or die(\"Can't rename \\\"$rm_qfn.tmp\\\" to \\\"$rm_qfn\\\": $!\\n\");\nrename(\"$or_qfn.tmp\", $or_qfn)\n   or die(\"Can't rename \\\"$or_qfn.tmp\\\" to \\\"$or_qfn\\\": $!\\n\");\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "accepted_answer_id": 39951845, "answer_count": 2, "score": 0, "last_activity_date": 1476082962, "creation_date": 1476074839, "last_edit_date": 1476076714, "question_id": 39951441, "link": "https://stackoverflow.com/questions/39951441/how-can-i-remove-the-pattern-that-are-matched-from-original-file", "title": "How can I remove the pattern that are matched from original file", "body": "<p>How can I remove the matched pattern that I print in output file from the original file. I used below script to print out all matched into the FILE6</p>\n\n<pre><code>open FILE4,'&lt;RM' or die $!;\nopen FILE5,'&lt;OR' or die $!;\nopen FILE6, '&gt;Compare3.txt' or die $!;\n\nmy @array3 = &lt;FILE4&gt;;\nmy @array4 = &lt;FILE5&gt;;\n\nforeach $x (@array3) {\n    if($x =~ /(\\S+) (\\d+) (\\S+)/) {\n        $temp_allreg = $3; \n        foreach $y (@array4) {\n            if($y =~ /\\b$temp_allreg\\b/i) {\n                print FILE6 \"$x$y\\n\";\n            }\n        }\n    }\n}\n</code></pre>\n\n\n\n<p>Based on above coding, I print out the matched data from 2 file to the output file which is FILE6. So how to modify this code to remove matched pattern that print out in FILE 6 from original file which is FILE4 and FILE5. So that FILE4 and FILE5 only leave the pattern/data that are not matched.</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 3, "creation_date": 1476067186, "post_id": 39950558, "comment_id": 67181333, "body": "Why are you unable to use <code>require</code>?  Do you get an error?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1476090819, "post_id": 39950558, "comment_id": 67189490, "body": "I think you now have specific answers to your question, but for more on this subject see Neil Bowers article on <a href=\"http://neilb.org/reviews/module-loading.html\" rel=\"nofollow noreferrer\">&quot;CPAN modules that (can) load other modules&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1476070856, "last_edit_date": 1476070856, "creation_date": 1476067753, "answer_id": 39950663, "question_id": 39950558, "link": "https://stackoverflow.com/questions/39950558/how-to-use-a-module-at-run-time/39950663#39950663", "title": "How to &quot;use&quot; a module at run time", "body": "<pre><code>use Module;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>BEGIN {\n    require Module;\n    import Module;\n}\n</code></pre>\n\n<p>so you want</p>\n\n<pre><code> require Module;\n import Module;\n</code></pre>\n\n<p>Except importing from a module at run-time makes no sense. So you either want</p>\n\n<pre><code># Conditionally load modules at runtime.\n# Gotta use fully-qualified names to call provided functions.\n\nmy $var = \"db_tk\";\n\nrequire DBI if $var =~ /db/;\nrequire Tk  if $var =~ /tk/;\n</code></pre>\n\n<p>or</p>\n\n<pre><code># Conditionally load modules at compile-time.\n\nBEGIN {\n    my $var = \"db_tk\";\n\n    if ($var =~ /db/) { require DBI; import DBI; }\n    if ($var =~ /tk/) { require Tk;  import Tk;  }\n}\n</code></pre>\n\n<p>The <a href=\"http://search.cpan.org/perldoc?if\" rel=\"noreferrer\">if module</a> can be used to simplify the latter:</p>\n\n<pre><code># Conditionally load modules at compile-time.\n\nmy $var;\nBEGIN {\n    $var = \"db_tk\";\n}\n\nuse if $var =~ /db/, 'DBI';\nuse if $var =~ /tk/, 'Tk';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 8, "last_activity_date": 1476067780, "creation_date": 1476067780, "answer_id": 39950670, "question_id": 39950558, "link": "https://stackoverflow.com/questions/39950558/how-to-use-a-module-at-run-time/39950670#39950670", "title": "How to &quot;use&quot; a module at run time", "body": "<p><em>\"I am not able to run them on runtime using \"require\"\"</em> Yes, you are. Anywhere that <code>use</code> works, <code>require</code> will also work: <code>use</code> calls <code>require</code></p>\n\n<p>Assuming that you meant to use the standard CPAN modules <code>DBI</code> and <code>Tk</code>, and not <code>dbi</code> and <code>tk</code>, then you need this</p>\n\n<pre><code>if ( $var =~ /db/ ) {\n    use DBI;\n}\n\nif ( $var =~ /tk/ ) {\n    use Tk;\n}\n</code></pre>\n\n<p>Or, as long as you have previously defined <code>$var</code> in a <code>BEGIN</code> block, you can use the <code>if</code> pragma</p>\n\n<pre><code>use if $var =~ /db/, DBI;\nuse if $var =~ /tk/, Tk;\n</code></pre>\n"}], "owner": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 4, "accepted_answer_id": 39950663, "answer_count": 2, "score": 1, "last_activity_date": 1476070856, "creation_date": 1476066692, "last_edit_date": 1476068203, "question_id": 39950558, "link": "https://stackoverflow.com/questions/39950558/how-to-use-a-module-at-run-time", "title": "How to &quot;use&quot; a module at run time", "body": "<p>I am in the process of developing a module that will call a Perl modules on specific conditions.</p>\n\n<p>And the logic will be this:</p>\n\n<pre><code>$var = \"db_tk\";\n\nif ( $var =~ /db/ ) {\n    use dbi;\n}\n\nif ( $var =~ /tk/ ) {\n    use tk;\n}\n</code></pre>\n\n<p>I am not able to run them at run time using <code>require</code>.</p>\n"}, {"tags": ["perl", "file", "merge"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476064952, "post_id": 39950040, "comment_id": 67181004, "body": "You must always <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of <i>every</i> Perl program you write. Please also set your editor to replace tabs with the corresponding spaces: tab characters are horrible things that don&#39;t display consistently across different media."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476065026, "post_id": 39950040, "comment_id": 67181016, "body": "You should use more meaningful identifiers <code>open ( IN, &quot;outfiles&#47;$input_file&quot;)</code> is horrible! I think you would be better served by writing <code>chdir &#39;outfiles&#39;</code> but using the <i>absolute</i> path instead."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476065550, "post_id": 39950040, "comment_id": 67181075, "body": "Please explain your regex <code>&#47;^(\\w+\\|ENSMUSG\\w+)\\t&#47;</code> which isn&#39;t mentioned in your narrative."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1476066950, "last_edit_date": 1476066950, "creation_date": 1476066529, "answer_id": 39950537, "question_id": 39950040, "link": "https://stackoverflow.com/questions/39950040/create-a-table-by-merging-many-files/39950537#39950537", "title": "Create a table by merging many files", "body": "<p>That's a <em>lot</em> of code to implement the simple idiom of using a hash to enforce uniqueness!</p>\n\n<p>It's looking like you want an array of <em>expression values</em> for each different <code>ENSMUSG</code> string in all <code>*.txt</code> files in your <code>outfiles</code> directory.</p>\n\n<p>If the files you need are the only ones in the <code>outfles</code> directory, then the solution looks like this. I've used <code>autodie</code> to check the return status of all Perl IO operations (<code>chdir</code>, <code>open</code>, <code>print</code> etc.) and checked only that the <code>$gene</code> value contains <code>|ENSMUSG</code>. You may not need even this check if your input data is well-behaved.</p>\n\n<p>Please forgive me if this is bugged, as I have no access to a Perl compiler at present. I have checked it by sight and it looks fine.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nchdir '/path/to/outfiles';\n\nmy %data;\n\nwhile ( my $file = glob '*.txt' ) {\n\n    open my $fh, '&lt;', $file;\n\n    while ( &lt;$fh&gt; ) {\n        my ($gene, $value) = split;\n        next unless $gene =~ /\\|ENSMUSG/;\n        push @{ $data{$gene} }, $value;\n    }\n}\n\nprint join(',', $_, @{ $data{$_} }), \"\\n\" for keys %data;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6585622, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157208278185327/picture?type=large", "display_name": "Kenneth Condon", "link": "https://stackoverflow.com/users/6585622/kenneth-condon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476096110, "creation_date": 1476061232, "last_edit_date": 1476096110, "question_id": 39950040, "link": "https://stackoverflow.com/questions/39950040/create-a-table-by-merging-many-files", "title": "Create a table by merging many files", "body": "<p>This seemed like such an easy task, yet I am boggled.</p>\n\n<p>I have text files, each named after a type of tissue (e.g. <code>cortex.txt</code>, <code>heart.txt</code>)</p>\n\n<p>Each file contains two columns, and the column headers are <code>gene_name</code> and <code>expression_value</code></p>\n\n<p>Each file contains around 30K to 40K rows</p>\n\n<p>I need to merge the files into one file with 29 columns, with headers</p>\n\n<pre><code>genename, tissue1, tissue2, tissue3, etc. to tissue28\n</code></pre>\n\n<p>So that each row contains one gene and its expression value in the 28 tissues</p>\n\n<p>The following code creates an array containing a list of every gene name in every file:</p>\n\n<pre><code>my @list_of_genes;\n\nforeach my $input_file ( @input_files ) {\n\n    print $input_file, \"\\n\";\n\n    open ( IN, \"outfiles/$input_file\");\n\n    while ( &lt;IN&gt; ) {\n\n        if ( $_ =~ m/^(\\w+\\|ENSMUSG\\w+)\\t/) {\n\n            # check if the gene is already in the gene list\n            my $count = grep { $_ eq $1 } @list_of_genes;\n\n            # if not in list, add to the list\n            if ( $count == 0 ) {\n                push (@list_of_genes, $1);\n            }\n        }\n    }\n\n    close IN;\n}\n</code></pre>\n\n<p>The next bit of code I was hoping would work, but the regex only recognises the first gene name.</p>\n\n<p><em>Note: I am only testing it on one test file called \"tissue1.txt\".</em></p>\n\n<p>The idea is to create an array of all the file names, and then take each gene name in turn and search through each file to extract each value and write it to the outfile in order along the row.</p>\n\n<pre><code>foreach my $gene (@list_of_genes) {\n\n    # print the gene name in the first column\n    print OUT $gene, \"\\t\";\n\n    # use the gene name to search the first element of the @input_file array and dprint to the second column\n    open (IN, \"outfiles/tissue1.txt\");\n\n       while ( &lt;IN&gt; ) { \n\n        if ($_ =~ m/^$gene\\t(.+)\\n/i ) {\n            print OUT $1;\n        }\n\n    }\n\n    print OUT \"\\n\";\n}\n</code></pre>\n\n<p>EDIT 1:\nThank you Borodin. The output of your code is indeed a list of every gene name with a all expression values in each tissue.</p>\n\n<p>e.g. Bcl20|ENSMUSG00000000317,0.815796340254127,0.815796340245643</p>\n\n<p>This is great much better than I managed thank you. Two additional things are needed.</p>\n\n<p>1) If a gene name is not found in the a .txt file then a value of 0 should be recorded</p>\n\n<p>e.g. Ht4|ENSMUSG00000000031,4.75878049632381, 0</p>\n\n<p>2) I need a comma separated header row so that the tissue from which each value comes remains associated with the value (basically a table) - the tissue is the name of the text file </p>\n\n<p>e.g. From 2 files heart.txt and liver.txt the first row should be:</p>\n\n<p>genename|id,heart,liver</p>\n\n<p>where genename|id is always the first header</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476052459, "post_id": 39949168, "comment_id": 67178690, "body": "<a href=\"https://metacpan.org/pod/Data::Munge#list2re-LIST\" rel=\"nofollow noreferrer\"><code>list2re</code> from Data::Munge</a> does something very similar but also handles several edge cases."}, {"owner": {"reputation": 790, "user_id": 2474866, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6UznP.png?s=128&g=1", "display_name": "Terminality", "link": "https://stackoverflow.com/users/2474866/terminality"}, "edited": false, "score": 0, "creation_date": 1476088234, "post_id": 39949168, "comment_id": 67188084, "body": "+1 from OP. I like this one (it kind of shows the aracane ways of perl I was expecting).  But the one with the assembly fits my needs better.  thanks for answering."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1476051978, "creation_date": 1476051978, "answer_id": 39949168, "question_id": 39949023, "link": "https://stackoverflow.com/questions/39949023/perl-search-string-for-occurrence-of-items-of-array/39949168#39949168", "title": "Perl, search string for occurrence of items of array", "body": "<p>Create a regular expression from all the words and do just one match:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @words = qw( one two three );\n\nmy $regex = join '|', map quotemeta, @words;\n\nfor my $term ('too for the show', 'five four three', 'bones') {\n    my $found = $term =~ $regex;\n    printf \"found = %d\\n\", $found;\n}\n</code></pre>\n\n<p>Matching <code>/\\b(?:$regex)\\b/</code> would prevent <code>bones</code> from matching <code>one</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476052404, "post_id": 39949175, "comment_id": 67178680, "body": "Modern versions of perl will compile <code>one|two|three</code> into a trie internally, which does no backtracking."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476052648, "post_id": 39949175, "comment_id": 67178745, "body": "@melpomene Yeah, it&#39;s worth a mention. Thanks. It&#39;s a very nice optimization, but now you have an efficiency dependency on the Perl version (I want to say <a href=\"http://perldoc.perl.org/5.14.0/perldelta.html#Regular-Expression-Bug-Fixes\" rel=\"nofollow noreferrer\">this became stable about 5.14</a>?) And I&#39;m not sure how complicated a regex it can handle. I wouldn&#39;t rely on it for something whose performance is critically dependent on regex optimization. And Regexp::Assemble solves so many other problems that it&#39;s still worth it."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476053120, "post_id": 39949175, "comment_id": 67178834, "body": "I already require 5.10+ for other things so that&#39;s not much of a problem for me, but point taken."}, {"owner": {"reputation": 790, "user_id": 2474866, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6UznP.png?s=128&g=1", "display_name": "Terminality", "link": "https://stackoverflow.com/users/2474866/terminality"}, "edited": false, "score": 1, "creation_date": 1476088063, "post_id": 39949175, "comment_id": 67188004, "body": "Thanks a lot.  I like this solution best, so you get the checkmark and +1 (I&#39;ll vote the others up too.)"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1476052827, "last_edit_date": 1476052827, "creation_date": 1476052034, "answer_id": 39949175, "question_id": 39949023, "link": "https://stackoverflow.com/questions/39949023/perl-search-string-for-occurrence-of-items-of-array/39949175#39949175", "title": "Perl, search string for occurrence of items of array", "body": "<p>Use <a href=\"https://metacpan.org/pod/Regexp::Assemble\" rel=\"nofollow\">Regexp::Assemble</a> to turn the search into one regex. That way each string only has to be scanned once making it more efficient for large numbers of lines.</p>\n\n<p>Regexp::Assemble is preferable to doing it manually. It has a full API of things you might want to do with such a regex, it can handle edge cases, and it can intelligently compile into a more efficient regex.</p>\n\n<p>For example, this program produces <code>(?^:\\b(?:t(?:hree|wo)|one)\\b)</code> which will result in less backtracking. This becomes VERY important as your word list increases in size. Recent versions of Perl, about 5.14 and up, will do this for you.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nuse Regexp::Assemble;\n\n# Wrap each word in \\b (word break) so only the full word is\n# matched. 'one' will match 'money' but '\\bone\\b' won't.\nmy @words= qw(\n    \\bone\\b\n    \\btwo\\b\n    \\bthree\\b\n);\n\n# These lines simulate reading from a file.\nmy @lines = (\n    \"won for the money\\n\",\n    \"two for the show\\n\",\n    \"three to get ready\\n\",\n    \"now go cat go!\\n\"\n);\n\n# Assemble all the words into one regex.\nmy $ra = Regexp::Assemble-&gt;new;\n$ra-&gt;add(@words);\n\nfor my $line (@lines) {\n    print $line if $line =~ $ra;\n}\n</code></pre>\n\n<p>Also note the <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow\"><code>foreach</code> style loop to iterate over an array</a>, and the use of a <a href=\"http://perldoc.perl.org/perlsyn.html#Statement-Modifiers\" rel=\"nofollow\">statement modifier</a>.</p>\n\n<p>Finally, I used <code>\\b</code> to ensure that only the actual words are matched, not substrings like <code>money</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1476052299, "post_id": 39949194, "comment_id": 67178662, "body": "If you just need a count, <code>my $count = grep { $term =~ &#47;$_&#47; } @words</code> also works."}, {"owner": {"reputation": 790, "user_id": 2474866, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6UznP.png?s=128&g=1", "display_name": "Terminality", "link": "https://stackoverflow.com/users/2474866/terminality"}, "edited": false, "score": 0, "creation_date": 1476088203, "post_id": 39949194, "comment_id": 67188070, "body": "+1 from OP. I like this one (it kind of shows the aracane ways of perl I was expecting).  But the one with the assembly fits my needs better.  thanks for answering."}], "tags": [], "owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "is_accepted": false, "score": 2, "last_activity_date": 1476053072, "last_edit_date": 1476053072, "creation_date": 1476052252, "answer_id": 39949194, "question_id": 39949023, "link": "https://stackoverflow.com/questions/39949023/perl-search-string-for-occurrence-of-items-of-array/39949194#39949194", "title": "Perl, search string for occurrence of items of array", "body": "<p>This is perhaps an overly simplistic \"translation\" of your C like code into perl.</p>\n\n<ul>\n<li>Pro: It's compact</li>\n<li>Con: It's not very efficient (the other answers are a ton better here).</li>\n</ul>\n\n\n\n<pre><code>@words= qw/one\ntwo\nthree/;\n$term= \"too for the show\";\n\nmy @found = grep { $term =~ /$_/; } @words;\n\nprintf \"found= %d\\n\", scalar @found;\n</code></pre>\n"}], "owner": {"reputation": 790, "user_id": 2474866, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6UznP.png?s=128&g=1", "display_name": "Terminality", "link": "https://stackoverflow.com/users/2474866/terminality"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 39949168, "answer_count": 3, "score": 1, "last_activity_date": 1476053072, "creation_date": 1476050876, "question_id": 39949023, "link": "https://stackoverflow.com/questions/39949023/perl-search-string-for-occurrence-of-items-of-array", "title": "Perl, search string for occurrence of items of array", "body": "<p>For a file filter, I want to use an array of words, where lines are checked if they match any of the words.</p>\n\n<p>I already have a rather straightforward approach to this (only the essential matching part):</p>\n\n<pre><code># check if any of the @words is found in $term\n\n@words= qw/one\ntwo\nthree/;\n$term= \"too for the show\";\n\n# the following looks very C like\n\n$size= @words;\n$found= 0;\n\nfor ($i= 0; $i&lt;$size &amp;&amp; !$found; $i++) {\n   $found|= $term=~ /$words[$i]/;\n}\n\nprintf \"found= %d\\n\", $found;\n</code></pre>\n\n<p>Having seen a lot of arcane syntax and solutions in Perl, I'm wondering if (or rather what) are more compact ways of writing this.</p>\n"}, {"tags": ["perl", "firefox", "command-line"], "comments": [{"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1476053244, "post_id": 39948995, "comment_id": 67178859, "body": "Do you already have an instance of Firefox open?  If so, it looks like the height and width options will be ignored.  I found a user forum question about this <a href=\"https://support.mozilla.org/en-US/questions/977269\" rel=\"nofollow noreferrer\">here</a>.  When I tried specifying window size with no Firefox instances running, it seemed to use that size.  If a Firefox instance was already open and running, it seemed to ignore those options.  That might be the root cause of what you&#39;re experiencing."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476057920, "post_id": 39948995, "comment_id": 67179843, "body": "What I recall from my similar attempts of a few years ago agrees with <a href=\"http://stackoverflow.com/users/6027771/dasgar\">dasgar</a>&#39;s comment.  I can&#39;t reproduce the links I found then but I think it&#39;s a bug of sorts which is years old, whereby the geometry arguments are ignored. It must be possible to set it using your window manager but that is something else."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1476061022, "post_id": 39948995, "comment_id": 67180373, "body": "Right! Thanks! I closed all my firefox windows, and it worked! Previously I simply minimized them and it didn&#39;t work. Maybe I&#39;ll try a different browser."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1476076125, "post_id": 39948995, "comment_id": 67183194, "body": "@dasgar: Please add it as an answer as your comment has solved OP&#39;s issue."}], "answers": [{"tags": [], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "is_accepted": false, "score": 0, "last_activity_date": 1476148066, "creation_date": 1476148066, "answer_id": 39969006, "question_id": 39948995, "link": "https://stackoverflow.com/questions/39948995/how-can-i-start-a-firefox-window-from-perl-with-a-defined-size/39969006#39969006", "title": "How can I start a firefox window from perl with a defined size?", "body": "<p>dasgar and zdim are right. When I closed all firefox instances, the command-line argument set the size correctly. It was not enough to minimize the firefox windows. This appears to be a persistent firefox bug.</p>\n\n<p>What I have done is call Chrome instead. That works fine, since I rarely use Chrome. I haven't checked to see whether an existing open Chrome window would give the same problem as firefox.</p>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476148066, "creation_date": 1476050660, "question_id": 39948995, "link": "https://stackoverflow.com/questions/39948995/how-can-i-start-a-firefox-window-from-perl-with-a-defined-size", "title": "How can I start a firefox window from perl with a defined size?", "body": "<p>Using perl in Win7, I want to display an html file in a new firefox window specifying the initial window size. I used the command:</p>\n\n<pre><code>$cmd=`\\\\progra~2\\\\Mozill~1\\\\firefox.exe -height 400 -width 800 -new-window tmp.htm`; \n</code></pre>\n\n<p>I get a new window, correctly showing the contents of the file, but the height and weight I specified are ignored in favor of what appears to be the default. Moving the parameters to the end of the command makes no difference.</p>\n\n<p>How can I get firefox to set the window size as specified?</p>\n"}, {"tags": ["perl", "ipc"], "comments": [{"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1476051554, "post_id": 39948642, "comment_id": 67178485, "body": "This is beginning to sound like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">X Y problem</a>.  Can you explain what it is that you are ultimately trying to do?  It seems like part of what you want to do is execute a shell command and capture it&#39;s STDERR and STDOUT and to display STDOUT to be seen by the user.  Are you also wanting to take STDIN from the script to send that into the shell command too?"}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1476051765, "post_id": 39948642, "comment_id": 67178535, "body": "If you want to just capture the STDERR and STDOUT from a shell command, you can check out the capture function from <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a>.  It will let you capture the STDERR, STDOUT and exit code.  If you also want to display STDOUT while also capture the STDERR and STDOUT, then maybe one of the tee function from Capture::Tiny would work for you."}, {"owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476113131, "post_id": 39948642, "comment_id": 67203017, "body": "@ikegami I have edited this question to explain why this isn&#39;t a duplicate."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476125827, "post_id": 39948642, "comment_id": 67209602, "body": "The answer is identical. Both programs suffer from exactly the same problems"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1476069630, "last_edit_date": 1476069630, "creation_date": 1476069319, "answer_id": 39950820, "question_id": 39948642, "link": "https://stackoverflow.com/questions/39948642/more-trouble-with-ipcopen3/39950820#39950820", "title": "More trouble with IPC::Open3", "body": "<p>Your program suffers from the following problems:</p>\n\n<ul>\n<li><code>\\*STDIN</code> (open <code>STDIN</code> as a pipe tied to the child's <code>STDIN</code>) should be <code>&lt;&amp;STDIN</code> (use the parent's <code>STDIN</code> as the child's <code>STDIN</code>).</li>\n<li><code>\\*STDERR</code> (open <code>STDERR</code> as a pipe tied to the child's <code>STDERR</code>) should be <code>&gt;&amp;STDERR</code> (use the parent's <code>STDERR</code> as the child's <code>STDERR</code>).</li>\n<li><code>say $output;</code> should be <code>say $_;</code> or just <code>say;</code>.</li>\n<li>You use <code>say</code>, but the value you are printing is already newline-terminated. Either use <code>chomp</code> first, or switching to using <code>print</code>.</li>\n<li><code>open3</code> isn't a system call, so it doesn't set <code>$!</code>.</li>\n<li><code>open3</code> doesn't return false on error; it throws an exception.</li>\n</ul>\n\n<p>Note that if you pass a single scalar as the command, it will be passed to <code>sh -c</code>.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse IPC::Open3 qw( open3 );\n\nmy $pid = open3('&lt;&amp;STDIN', my $output, '&gt;&amp;STDERR',\n  'echo 1 &gt;&amp;2; cat /usr/include/unistd.h -');\n\nwhile (&lt;$output&gt;) {\n    chomp;\n    say \"&lt;$_&gt;\";\n}\n\nwaitpid($pid, 0);\n</code></pre>\n"}], "owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1476070392, "answer_count": 1, "score": 1, "last_activity_date": 1476113098, "creation_date": 1476047963, "last_edit_date": 1476113098, "question_id": 39948642, "link": "https://stackoverflow.com/questions/39948642/more-trouble-with-ipcopen3", "closed_reason": "Duplicate", "title": "More trouble with IPC::Open3", "body": "<p>I asked about IPC::Open3 in <a href=\"https://stackoverflow.com/questions/39948414/trouble-with-ipcopen3\">this question</a>.  However, I still am having problems.</p>\n\n<p>This code hangs, rather than waiting until EOF is seen on stdin.  It also fails to write anything to stderr.</p>\n\n<p>This is not a duplicate because that question asks about capturing output, while this question asks about input.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl \n\nuse strict;\nuse warnings;\nuse utf8;\nuse v5.10;\n\nuse IPC::Open3;\n\nuse Symbol 'gensym';\n\nmy $output;\n# pipe my $input, $output or die $!;\nmy $pid =  open3(\\*STDIN, $output, \\*STDERR, 'sh',\n   '-c', 'echo 1 &gt;&amp;2; cat /usr/include/unistd.h -') or die $!;\n\n\nwhile (&lt;$output&gt;) {\n    say $output;\n}\nwaitpid $pid, 0;\n</code></pre>\n"}, {"tags": ["perl", "ipc"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1476046755, "post_id": 39948414, "comment_id": 67177219, "body": "What&#39;s the purpose of the <code>pipe</code>?"}, {"owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1476047693, "post_id": 39948414, "comment_id": 67177500, "body": "Don&#39;t know, it probably should be gone."}], "answers": [{"comments": [{"owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1476047212, "post_id": 39948505, "comment_id": 67177355, "body": "I still don&#39;t get the stderr output though, even when I use a shell command that redirects some stuff to stderr."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1476048739, "post_id": 39948505, "comment_id": 67177781, "body": "@Demi open3() is difficult to work with. I&#39;ve expanded the answer with better modules to use."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 2, "last_activity_date": 1476048718, "last_edit_date": 1476048718, "creation_date": 1476046980, "answer_id": 39948505, "question_id": 39948414, "link": "https://stackoverflow.com/questions/39948414/trouble-with-ipcopen3/39948505#39948505", "title": "Trouble with IPC::Open3", "body": "<p>It's the <code>pipe</code>. Without knowing why it's there I can't say more. This works fine.</p>\n\n<pre><code>my $reader;\nmy $pid =  open3(\\*STDIN, $reader, \\*STDERR, 'dd', 'if=/usr/include/unistd.h') or die $!;\n\nwhile(&lt;$reader&gt;) {\n    print $_.\"\\n\";\n}\nwaitpid $pid, 0;\n</code></pre>\n\n<p>I realize it's <em>probably</em> just an example, but in case it's not... this is complete overkill for what you're doing. You can accomplish that with backticks.</p>\n\n<pre><code>print `dd if=/usr/include/unistd.h`\n</code></pre>\n\n<hr>\n\n<p>IPC::Open3 is a bit overcomplicated. There are better modules such as <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow\">IPC::Run</a> and <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow\">IPC::Run3</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IPC::Run3;\n\nrun3(['perl', '-e', 'warn \"Warning!\"; print \"Normal\\n\";'],\n     \\*STDIN, \\*STDOUT, \\*STDERR\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1476074973, "post_id": 39950920, "comment_id": 67182933, "body": "That closes STDIN, which I don&#39;t want, but I can solve that with a couple of <code>open</code> calls to duplicate file descriptors.  Thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1476075052, "post_id": 39950920, "comment_id": 67182962, "body": "I think <code>open(local *CHILD_STDIN, &#39;&lt;&amp;&#39;, \\*STDIN) or die $!;</code> and <code>&#39;&lt;&amp;CHILD_STDIN&#39;</code> will do, though you may encounter issue without duping an input handle."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1476075157, "last_edit_date": 1476075157, "creation_date": 1476070262, "answer_id": 39950920, "question_id": 39948414, "link": "https://stackoverflow.com/questions/39948414/trouble-with-ipcopen3/39950920#39950920", "title": "Trouble with IPC::Open3", "body": "<p>Your program suffers from the following problems:</p>\n\n<ul>\n<li><code>\\*STDIN</code> (open <code>STDIN</code> as a pipe tied to the child's <code>STDIN</code>) should be <code>&lt;&amp;STDIN</code> (use the parent's <code>STDIN</code> as the child's <code>STDIN</code>).</li>\n<li><code>\\*STDERR</code> (open <code>STDERR</code> as a pipe tied to the child's <code>STDERR</code>) should be <code>&gt;&amp;STDERR</code> (use the parent's <code>STDERR</code> as the child's <code>STDERR</code>).</li>\n<li>The value you place in <code>$output</code> is being ignored and overwritten. Fortunately, it's being overwritten with a correct value!</li>\n<li>You use <code>print $_.\"\\n\";</code>, but <code>$_</code> is already newline-terminated. Either <code>chomp</code> first, or don't add a newline.</li>\n<li><code>open3</code> isn't a system call, so it doesn't set <code>$!</code>.</li>\n<li><code>open3</code> doesn't return false on error; it throws an exception.</li>\n</ul>\n\n<p>So we get something like:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature qw( say );\n\nuse IPC::Open3;\n\nmy $pid = open3('&lt;&amp;STDIN', my $output, '&gt;&amp;STDERR',\n    'dd', 'if=/usr/include/unistd.h');\n\nwhile (&lt;$output&gt;) {\n    chomp;\n    say \"&lt;$_&gt;\";\n}\n\nwaitpid($pid, 0);\n</code></pre>\n"}], "owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 39948505, "answer_count": 2, "score": 0, "last_activity_date": 1476075157, "creation_date": 1476046343, "last_edit_date": 1476070037, "question_id": 39948414, "link": "https://stackoverflow.com/questions/39948414/trouble-with-ipcopen3", "title": "Trouble with IPC::Open3", "body": "<p>I am writing a simple script using IPC::Open3.  The script produces no output to either stdout or stderr, while I would expect output to both.</p>\n\n<p>The complete source code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl \n\nuse strict;\nuse warnings;\nuse utf8;\n\nuse IPC::Open3;\n\npipe my $input, my $output or die $!;\nmy $pid =  open3(\\*STDIN, $output, \\*STDERR, 'dd', 'if=/usr/include/unistd.h') or die $!;\n\nwhile(&lt;$input&gt;) {\n    print $_.\"\\n\";\n}\nwaitpid $pid, 0;\n</code></pre>\n\n<p>I am fairly certain that I am using IPC::Open3 incorrectly.  However, I am still confused as to what I <em>should</em> be doing.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 9, "creation_date": 1476025648, "post_id": 39945033, "comment_id": 67170380, "body": "Because you have a broken backreference - <code>\\1</code> is referenced inside its own definition."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 6, "creation_date": 1476026075, "post_id": 39945033, "comment_id": 67170508, "body": "Groups are numbered from the opening parenthesis."}], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 10, "last_activity_date": 1476025605, "creation_date": 1476025605, "answer_id": 39945063, "question_id": 39945033, "link": "https://stackoverflow.com/questions/39945033/parenthesis-in-regular-expressions/39945063#39945063", "title": "Parenthesis in regular expressions", "body": "<pre><code>((.+)\\s*\\2)\n</code></pre>\n\n<p>should work because inner captured group has become #2 now as outermost group is captured group #1.</p>\n\n<p>Note that you can also use relative numbering of groups i.e.</p>\n\n<pre><code>((.+)\\s*\\g{-1})\n</code></pre>\n\n<p>Where <code>\\g{-1}</code> will match most recent captured group.</p>\n"}], "owner": {"reputation": 5236, "user_id": 160829, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5f44f0b856acad00f9e89bd2a62fbf3a?s=128&d=identicon&r=PG", "display_name": "Freeman", "link": "https://stackoverflow.com/users/160829/freeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 39945063, "answer_count": 1, "score": 0, "last_activity_date": 1476025605, "creation_date": 1476025394, "question_id": 39945033, "link": "https://stackoverflow.com/questions/39945033/parenthesis-in-regular-expressions", "title": "Parenthesis in regular expressions", "body": "<p>Using Perl and:</p>\n\n<pre><code>my $s=\"The Sea! The Sea!\"\n</code></pre>\n\n<p>The pattern <code>/(.+)\\s*\\1/</code> matches <code>The Sea! The Sea!</code> because its matches the backreference <code>\\1</code></p>\n\n<p>However, the pattern <code>/((.+)\\s*\\1)/</code> does not match <code>The Sea! The Sea!</code></p>\n\n<p>Why?</p>\n"}, {"tags": ["c++", "git", "perl", "github", "encoding"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476005773, "post_id": 39937774, "comment_id": 67164876, "body": "The accepted answer in the duplicate I closed with talks about ssh. Your git command effectively ssh-es into the remote (there are no git servers, there are just remotes) and that machine doesn&#39;t like your locale settings. The second option at the bottom of the accepted answer should help. Your files are not affected, this is just annoying."}], "owner": {"reputation": 70, "user_id": 6824277, "user_type": "registered", "profile_image": "https://graph.facebook.com/577486919081172/picture?type=large", "display_name": "Vova Polischuck", "link": "https://stackoverflow.com/users/6824277/vova-polischuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "closed_date": 1476005708, "answer_count": 0, "score": 1, "last_activity_date": 1475963846, "creation_date": 1475963846, "question_id": 39937774, "link": "https://stackoverflow.com/questions/39937774/when-cloning-from-git-server-i-get-message-perl-warning-setting-locale-failed", "closed_reason": "Duplicate", "title": "When cloning from git server i get message: perl: warning: Setting locale failed", "body": "<p>My OS is Linux Ubuntu Desktop 16.04. I use command to clone files from git server:</p>\n\n<pre><code>$ git clone basecamp:some_acount\n</code></pre>\n\n<p>and getting this warning:</p>\n\n<pre><code>Cloning into 'some_acount'...\nperl: warning: Setting locale failed.\nperl: warning: Please check that your locale settings:\n    LANGUAGE = \"en_US:en\",\n    LC_ALL = (unset),\n    LC_PAPER = \"uk_UA.UTF-8\",\n    LC_ADDRESS = \"uk_UA.UTF-8\",\n    LC_MONETARY = \"uk_UA.UTF-8\",\n    LC_NUMERIC = \"uk_UA.UTF-8\",\n    LC_TELEPHONE = \"uk_UA.UTF-8\",\n    LC_IDENTIFICATION = \"uk_UA.UTF-8\",\n    LC_MEASUREMENT = \"uk_UA.UTF-8\",\n    LC_TIME = \"uk_UA.UTF-8\",\n    LC_NAME = \"uk_UA.UTF-8\",\n    LANG = \"en_US.UTF-8\"\n    are supported and installed on your system.\nperl: warning: Falling back to a fallback locale (\"en_US.UTF-8\").\nremote: Counting objects: 13, done.\nremote: Compressing objects: 100% (12/12), done.\nremote: Total 13 (delta 0), reused 0 (delta 0)\nReceiving objects: 100% (13/13), 7.73 KiB | 0 bytes/s, done.\nChecking connectivity... done.\n</code></pre>\n\n<p>I have two questions:</p>\n\n<ol>\n<li>will i have a problems with my files (static c++ libraries with\nexstension \".a\")?</li>\n<li>how can i fix this warning?</li>\n</ol>\n"}, {"tags": ["perl", "printf", "biginteger"], "answers": [{"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 3, "creation_date": 1475980342, "post_id": 39938137, "comment_id": 67160247, "body": "There was no particular reason to use <code>printf</code> other than the fact that it was already there when I started feeding my process ginormous numbers."}], "tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": true, "score": 11, "last_activity_date": 1475966576, "creation_date": 1475966576, "answer_id": 39938137, "question_id": 39937211, "link": "https://stackoverflow.com/questions/39937211/is-s-the-only-format-that-will-allow-printf-to-display-big-integers-correctly/39938137#39938137", "title": "Is %s the only format that will allow printf to display big integers correctly?", "body": "<p>This was surprisingly hard to track down.  I didn't see anything obvious in the docs, so I went to the source.  The <code>printf</code> function is implemented (at the bottom of a long call stack) by the C function <code>Perl_sv_vcatpvfn_flags</code>.  It appears as if this function assumes the number will fit in an IV or a UV.  They are defined by</p>\n\n<pre><code>typedef IVTYPE IV;\ntypedef UVTYPE UV;\n</code></pre>\n\n<p>Which is in turn defined by (at least on my Perl, I think this is configurable)</p>\n\n<pre><code>#define IVTYPE          long            /**/\n#define UVTYPE          unsigned long           /**/\n</code></pre>\n\n<p>So, if your number won't fit in a long, then (<code>%d</code>) or in an unsigned long (<code>%u</code>), then a string (<code>%s</code>) is your only option.  A bigger quesiton is why you are using <code>printf</code> in the first place.  Are you formatting these numbers in some way other than printing them?  If not, then <code>print</code> should just do the right thing.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1475974244, "creation_date": 1475974244, "answer_id": 39938885, "question_id": 39937211, "link": "https://stackoverflow.com/questions/39937211/is-s-the-only-format-that-will-allow-printf-to-display-big-integers-correctly/39938885#39938885", "title": "Is %s the only format that will allow printf to display big integers correctly?", "body": "<p>Yes. <code>%s</code> is the only format for strings.</p>\n\n<hr>\n\n<ul>\n<li><code>%%</code>: Obviously no.</li>\n<li><code>%c</code>: Obviously no.</li>\n<li><code>%s</code>: Yes.</li>\n<li><code>%d</code>: Only if the number fits in a signed integer.</li>\n<li><code>%u</code>, <code>%o</code>, <code>%x</code>, <code>%X</code>, <code>%b</code>, <code>%B</code>: Only if the number fits in a unsigned integer.</li>\n<li><code>%e</code>, <code>%E</code>, <code>%f</code>, <code>%g</code>, <code>%G</code>, <code>%a</code>, <code>%A</code>: Only if the number fits in a floating point number.</li>\n<li><code>%p</code>: Obviously no.</li>\n<li><code>%n</code>: Obviously no.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 4, "creation_date": 1475981073, "post_id": 39939340, "comment_id": 67160374, "body": "The bigint pragma is part of core Perl 5, I can see why (with no extra documentation) you might expect Perl 5 to handle it correctly."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 4, "last_activity_date": 1475979676, "creation_date": 1475979676, "answer_id": 39939340, "question_id": 39937211, "link": "https://stackoverflow.com/questions/39937211/is-s-the-only-format-that-will-allow-printf-to-display-big-integers-correctly/39939340#39939340", "title": "Is %s the only format that will allow printf to display big integers correctly?", "body": "<p>Given that you have to use a specific library for the purpose of manipulating such numbers, there is no reason to expect that the <em>builtin</em> <code>printf</code> would handle them. Instead, you can use the library's <a href=\"https://metacpan.org/pod/Math::BigInt#String-conversion-methods\" rel=\"nofollow\">conversion functions</a> such as <code>as_hex</code> or <code>bnstr</code>. If you just want to print the number, use <code>print \"$value\\n\";</code>.</p>\n"}], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "accepted_answer_id": 39938137, "answer_count": 3, "score": 3, "last_activity_date": 1475979676, "creation_date": 1475959597, "last_edit_date": 1475973650, "question_id": 39937211, "link": "https://stackoverflow.com/questions/39937211/is-s-the-only-format-that-will-allow-printf-to-display-big-integers-correctly", "title": "Is %s the only format that will allow printf to display big integers correctly?", "body": "<p>I just spent an epoch figuring out that my big integer was fine and that <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\"><code>printf</code></a>'s <code>%d</code>/<code>%u</code> were not up to the task of displaying it:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse bigint;\nuse List::Gen;\n\n*factorial = do {use bigint; &lt;[..*] 1, 1..&gt;-&gt;code};\n\nmy $value = factorial(32);\nprintf \"%d\\n\", $value;  # -1\nprintf \"%u\\n\", $value;  # 18446744073709551615\nprintf \"%s\\n\", $value;  # 263130836933693530167218012160000000\n</code></pre>\n\n<p>I wouldn't be surprised if the answer is no, just wanted to confirm it.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1475952635, "post_id": 39936090, "comment_id": 67154045, "body": "<code>@{$hash{$sequence}}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1475956660, "creation_date": 1475956660, "answer_id": 39936770, "question_id": 39936090, "link": "https://stackoverflow.com/questions/39936090/array0x7ff4bbb0c7b8-error-perl-hash-of-arrays/39936770#39936770", "title": "ARRAY(0x7ff4bbb0c7b8) error: perl hash of arrays", "body": "<p>In this line:</p>\n\n<pre><code>print $out \"&gt;$sequence\\n$hash{$sequence}\\n\";\n</code></pre>\n\n<p>...<code>$hash{$sequence}</code> is a reference to an array. You have to dereference the referenced array before printing it. Here's an example of printing <code>$sequence</code>, then printing the elements of the <code>$hash{$sequence}</code> array on the following line, with the elements separated by a comma:</p>\n\n<pre><code>print $out \"&gt;$sequence\\n\";\nprint $out join ', ', @{ $hash{$sequence} };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1475960516, "post_id": 39937138, "comment_id": 67156517, "body": "Thanks Chas. Owens. Nice answer."}], "tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": true, "score": 1, "last_activity_date": 1475959801, "last_edit_date": 1475959801, "creation_date": 1475959067, "answer_id": 39937138, "question_id": 39936090, "link": "https://stackoverflow.com/questions/39936090/array0x7ff4bbb0c7b8-error-perl-hash-of-arrays/39937138#39937138", "title": "ARRAY(0x7ff4bbb0c7b8) error: perl hash of arrays", "body": "<p>The key here is work with the arrayref held by the hash rather than just trying to print it.  No matter what, you are going to want to remove the first item from the array, you can do this with the <a href=\"http://perldoc.perl.org/functions/shift.html\" rel=\"nofollow\"><code>shift</code></a> function.  You can then either <a href=\"http://perldoc.perl.org/functions/push.html\" rel=\"nofollow\"><code>push</code></a> the item onto the end of the array, or <a href=\"http://perldoc.perl.org/functions/delete.html\" rel=\"nofollow\"><code>delete</code></a> the key from the hash when there are no more items depending on what you want to happen when all keys have been used once.  You could also choose a random element from the array with the <a href=\"http://perldoc.perl.org/functions/rand.html\" rel=\"nofollow\"><code>rand</code></a> function like this:</p>\n\n<pre><code>my $out_seq = $hash{$sequence}[rand $@{ $hash{$sequence} }];\n</code></pre>\n\n<p>If you wanted the items to run out in the random case, you would need to remove the item from the array.  The best way to do that is probably with <a href=\"http://perldoc.perl.org/functions/splice.html\" rel=\"nofollow\"><code>splice</code></a> (the generic form of <code>shift</code>, <a href=\"http://perldoc.perl.org/functions/unshift.html\" rel=\"nofollow\"><code>unshift</code></a>, <a href=\"http://perldoc.perl.org/functions/pop.html\" rel=\"nofollow\"><code>pop</code></a>, and <code>push</code>):</p>\n\n<pre><code>my $out_seq = splice @{ $hash{$sequence} }, rand @{ $hash{$sequence} }, 1;\ndelete $hash{$sequence} unless @{ $hash{$sequence} };\n</code></pre>\n\n<p>Here is my version of your program:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse strict;\nuse warnings;\n\n# open my $in, '&lt;', '/path/to/file') or die $!;\nmy $in = \\*DATA; #use internal data file instead for testing\nmy $count = 0;\n\nmy %hash = (\n    AAAAA    =&gt; [ \"QWERT\", \"YUIOP\" ],\n    BBBBB    =&gt; [ \"ASDFG\", \"HJKL\", \"ZXCVB\" ],\n);\n\nwhile (&lt;$in&gt;) {\n    chomp;\n    my $hash;\n    my @elements = split \"\\t\";\n    my $number = grep exists $hash{$_}, @elements;\n    #open my $out, '&gt;', \"/path/out/Cluster__Number$._$number.txt\" or die $!;\n    my $out = \\*STDOUT; # likewise use STDOUT for testing\n    for my $sequence (@elements) {\n        if (exists $hash{$sequence}) {\n            my $out_seq = shift @{ $hash{$sequence} };\n            # if you want to repeat\n            push @{ $hash{$sequence} }, $out_seq;\n            # if you want to remove $sequence when they run out\n            # delete $hash{$sequence} unless @{ $hash{$sequence} };\n\n            print $out \"&gt;$sequence\\n$out_seq\\n\";\n        } else {\n            warn \"Key [$sequence] Doesn't Exist \", ++$count, \"\\n\";\n        }\n    }\n}\n\n__DATA__\nAAAAA   AAAAA\nCCCCC\nBBBBB   BBBBB   BBBBB\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 39937138, "answer_count": 2, "score": -1, "last_activity_date": 1475959801, "creation_date": 1475952535, "last_edit_date": 1475953711, "question_id": 39936090, "link": "https://stackoverflow.com/questions/39936090/array0x7ff4bbb0c7b8-error-perl-hash-of-arrays", "title": "ARRAY(0x7ff4bbb0c7b8) error: perl hash of arrays", "body": "<p>Although my code runs without throwing a fatal error, the output is clearly erroneous. I first create a hash of arrays. Then I search sequences in a file against the keys in the hash. If the sequence exists as a key in the hash, I print the key and the associated values. This should be simple enough and I am creating the hash of arrays correctly. However, when I print the associated values I get \"ARRAY(0x7ff4bbb0c7b8)\" in its place. </p>\n\n<p>The file \"INFILE\" is tab delimitated and looks like this, for example:  </p>\n\n<pre><code>AAAAA      AAAAA\nBBBBB      BBBBB      BBBBB\n</code></pre>\n\n<p>Here is my code: </p>\n\n<pre><code>use strict; \nuse warnings; \n\nopen(INFILE, '&lt;', '/path/to/file') or die $!; \nmy $count = 0; \n\nmy %hash = ( \n     AAAAA    =&gt; [ \"QWERT\", \"YUIOP\" ], \n     BBBBB    =&gt; [ \"ASDFG\", \"HJKL\", \"ZXCVB\" ], \n);\n\nwhile (my $line = &lt;INFILE&gt;){ \n    chomp $line; \n    my $hash; \n    my @elements = split \"\\t\", $line; \n    my $number = grep exists $hash{$_}, @elements; \n    open my $out, '&gt;', \"/path/out/Cluster__Number$._$number.txt\" or die $!; \n    foreach my $sequence(@elements){\n        if (exists ($hash{$sequence})){ \n            print $out \"&gt;$sequence\\n$hash{$sequence}\\n\"; \n        }\n        else \n        {\n            $count++; \n            print \"Key Doesn't Exist \", $count, \"\\n\"; \n        } \n    }\n}\n</code></pre>\n\n<p>Current output looks like: </p>\n\n<pre><code>&gt;AAAAA\nARRAY(0x7fc52a805ce8)\n&gt;AAAAA\nARRAY(0x7fc52a805ce8) \n</code></pre>\n\n<p>Expected output will look like: </p>\n\n<pre><code>&gt;AAAAA \nQWERT \n&gt;AAAAA \nYUIOP\n</code></pre>\n\n<p>Thank you very much for your help. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 5, "creation_date": 1475940275, "post_id": 39933996, "comment_id": 67150016, "body": "please show us the code that you&#39;ve written that you&#39;re having a problem with. This is not a code-writing service; you have to show some effort and ask a specific question on the part of the code you&#39;re having issues with."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475946899, "post_id": 39933996, "comment_id": 67152091, "body": "Do the two files have the same number of rows? Does line N from file 1 always correspond to line N of file 2?"}, {"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "edited": false, "score": 0, "creation_date": 1475994071, "post_id": 39933996, "comment_id": 67162361, "body": "No, the line not always corresponding to each other"}, {"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "edited": false, "score": 0, "creation_date": 1475994931, "post_id": 39933996, "comment_id": 67162487, "body": "I already add the code that i have done"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "edited": false, "score": 0, "creation_date": 1476063782, "post_id": 39941514, "comment_id": 67180831, "body": "if my files also consist of number?i already add to my question above"}, {"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "edited": false, "score": 0, "creation_date": 1476063934, "post_id": 39941514, "comment_id": 67180860, "body": "when i use your code, it only print out 2 line only"}, {"owner": {"reputation": 16, "user_id": 6944041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3b708a1cce0a3f99f7234f7dedce62?s=128&d=identicon&r=PG&f=1", "display_name": "Xor", "link": "https://stackoverflow.com/users/6944041/xor"}, "reply_to_user": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "edited": false, "score": 0, "creation_date": 1476211069, "post_id": 39941514, "comment_id": 67247296, "body": "Still works even with numbers in a files, no script edit needed."}, {"owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "edited": false, "score": 0, "creation_date": 1476234903, "post_id": 39941514, "comment_id": 67256724, "body": "yes it work, got some problem with my file only..thanks"}], "tags": [], "owner": {"reputation": 16, "user_id": 6944041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3b708a1cce0a3f99f7234f7dedce62?s=128&d=identicon&r=PG&f=1", "display_name": "Xor", "link": "https://stackoverflow.com/users/6944041/xor"}, "is_accepted": true, "score": 0, "last_activity_date": 1476211461, "last_edit_date": 1476211461, "creation_date": 1476001373, "answer_id": 39941514, "question_id": 39933996, "link": "https://stackoverflow.com/questions/39933996/how-to-print-out-match-unique-pattern-from-2-different-file-using-perl/39941514#39941514", "title": "how to print out match unique pattern from 2 different file using perl", "body": "<p>If provided files and conditions are complete, following will work</p>\n\n<pre><code>open F1, 'f1.txt';\nopen F2, 'f2.txt';\n\nmy @f2 = &lt;F2&gt;;\nforeach my $string1 (&lt;F1&gt;) {\n    chomp($string1);\n    my ($pattern1) = $string1 =~ m/(\\S+)$/;\n    foreach my $string2 (@f2) {\n        chomp($string2);\n        ($_) = $string2 =~ m/(\\S+)$/;\n        s/[^a-z0-9]//ig;\n        print $string1 . \"\\n\" . $string2 . \"\\n\" if ($pattern1 =~ /^$_$/i);\n    }\n}\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>Orig : ABCDEFG1\nClone : abcd_efg_1\nOrig : ORANGECOLOUR\nClone : orange_colour\n</code></pre>\n\n<p><strong>upd:</strong>\nyou've added numbers to the input files, the script still works, no modification needed</p>\n\n<p>outpus:</p>\n\n<pre><code>Orig : 109 ABCDEFG1\nClone : 108 abcd_efg_1\nOrig : 119 ORANGECOLOUR\nClone : 113 orange_colour\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6941832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a650958a30a77b361325d8802488ec?s=128&d=identicon&r=PG&f=1", "display_name": "ozzy", "link": "https://stackoverflow.com/users/6941832/ozzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 39941514, "answer_count": 1, "score": 0, "last_activity_date": 1476211461, "creation_date": 1475939652, "last_edit_date": 1476063887, "question_id": 39933996, "link": "https://stackoverflow.com/questions/39933996/how-to-print-out-match-unique-pattern-from-2-different-file-using-perl", "title": "how to print out match unique pattern from 2 different file using perl", "body": "<p>I'am try to print out matched pattern from 2 file that have almost same data but have slightly different. \n[below is the example file][1]</p>\n\n<pre><code>File 1\nOrig : 109 ABCDEFG1\nOrig : 119 ORANGECOLOUR\n\n\nFile 2 \nClone : 108 abcd_efg_1\nClone : 113 orange_colour\n\n\nOuput expected\nOrig : 109 ABCDEFG1\nClone : 108 abcd_efg_1\n\nOrig : 119 ORANGECOLOUR\nClone : 113 orange_colour\n</code></pre>\n\n<p>So, based on the example above the different from 2 file is only the upper case/lower case and got some extra character \"_\". So how to print out matched data into 3rd file using perl</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>open FILE1,'&lt;FILE1' or die $!;\r\nopen FILE2,'&lt;FILE2' or die $!;\r\nopen FILE3, '&gt;Output' or die $!;\r\n\r\nmy @array3 = &lt;FILE1&gt;;\r\nmy @array4 = &lt;FILE2;\r\n\r\n\r\nforeach $x (@array3) {  if($x =~ /(\\S+) (\\d+) (\\S+)/) { $temp_data = $3; \r\n       foreach $y (@array4) { if($y =~ /\\b$temp_data\\b/i) {print FILE3 \"$x$y\\n\";}} \r\n}}\r\n\r\nclose FILE1;\r\nclose FILE2;\r\nclose FILE3;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Above is the script that i have done. When I used this script, it only print out the pattern that are totally matched without consider the upper/lower case. .Below is the output when I used that code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Output file\r\n\r\nOrig : Bluecolour\r\nClone : Bluecolour\r\n\r\nOrig : Greycolour1\r\nclone : Greycolour1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["perl", "bioinformatics"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1475918092, "post_id": 39929308, "comment_id": 67143925, "body": "Welcome to Stack Overflow. You have good example data, expected output and an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. But you have not asked a question. Please <a href=\"https://stackoverflow.com/posts/39929308/edit\">edit</a> and tell us what you are struggling with."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1475918397, "post_id": 39929308, "comment_id": 67143988, "body": "What do you expect <code>$2</code> to hold, if you are only capturing one match in your regular expression?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1475918490, "post_id": 39929308, "comment_id": 67144005, "body": "Also, I suspect where you write <code>$1</code> and <code>$2</code> in your <code>sort</code> line, you actually mean <code>$a</code> and <code>$b</code> which are the special sort variables."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475951965, "post_id": 39929308, "comment_id": 67153833, "body": "I just reformatted your code a bit. I hope you don&#39;t mind. If so, feel free to revert my edit."}, {"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475952732, "post_id": 39929308, "comment_id": 67154073, "body": "@Perl Dog, Thanks dear, But I am not getting any output? all output file is blank?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476028443, "post_id": 39929308, "comment_id": 67171209, "body": "In your <code>sort</code> line you have to use <code>$a</code> and <code>$b</code> instead of <code>$1</code> and <code>$2</code>, like @xxfelixxx <a href=\"http://stackoverflow.com/questions/39929308/how-to-print-same-row-data-in-multiple-time-from-pdb-file-in-perl?noredirect=1#comment67144005_39929308\">suggested</a>. See <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">sort</a>."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1475950217, "post_id": 39934008, "comment_id": 67153262, "body": "Thanks, If I need to specify the ATOM Name by my sequence, like: -CE2-CD1-CE1-CD2. I don&#39;t want all of atom then?"}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1475957040, "post_id": 39934008, "comment_id": 67155435, "body": "Then you just need to skip the iteration if unless the third field matches the ATOM name criteria. I&#39;ve updated the answer with the regex provided in your question&#39;s example. Please note the word boundary anchor (<code>\\b</code>) -- it filters out names like <code>CG10</code> or <code>ACDC</code>."}, {"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1475958350, "post_id": 39934008, "comment_id": 67155854, "body": "Thanks dear, If I need  CE1|CG|CB|CD1 in same sequence. first CE1 row and then CG row, then CB row and then CD1 row. I need to follow sequence. I need random atom and then want to follow one sequence."}, {"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476000401, "post_id": 39934008, "comment_id": 67163685, "body": "One more help, How to select random atom name ? In previous program i am getting some output null, because some of input file is like that: HETATM15056  O4B NAD A 500      14.003  14.203   8.927  1.00 17.39           O , I want to HETATM Data as well separate."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476015604, "post_id": 39934008, "comment_id": 67167439, "body": "The question is getting diverse as the new requirements emerge. Let&#39;s clarify these requirements. First, the initial ones are listed in the four bullet points at the beginning of my answer (let&#39;s call them R1-R4). Second, we only need consider lines with the third field matching some predefined list of values (R5). Are these R1-R5 correct and at least partially reflect what you expect from the Perl script?"}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476015887, "post_id": 39934008, "comment_id": 67167534, "body": "Now, let&#39;s move on to the further requirements. R6: all lines in the output should be ordered by the third field based on a predefined list of values. I suppose the actual list will contain all possible values for the third field. Is this correct?"}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476016036, "post_id": 39934008, "comment_id": 67167582, "body": "R7: we should filter the input and only process lines starting with &quot;ATOM&quot; as the initial script suggests? Is this correct?"}, {"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476071596, "post_id": 39934008, "comment_id": 67182279, "body": "sorry for the trouble, but I want to sort ATOM and HETATM both separate, There is only one problem I am getting in ATOM sort is: not able to sort predefined list of values.(It should be random atom name in input file, may be first is 4 row and second is 1 row). same I want to sort HETATM also, in HETATM getting problem: some of input file is like that: HETATM15056 O4B NAD A 500 14.003 14.203 8.927 1.00 17.39 O, so our program is discarding."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476080355, "post_id": 39934008, "comment_id": 67184489, "body": "In this case, I&#39;d suggest to perprocess input and propare two hashes - one for ATOM and the other for HETATM line. The hash keys would be possible atom names (CE1, CG, etc.) and the values being arrays of lines corresponding to that names. This will help us to output the lines in the order based on some name sequence. The input line parsing should also be revised towards positional approach since the field don&#39;t seem to be space delimited now."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476080373, "post_id": 39934008, "comment_id": 67184495, "body": "As this getting too diverse for the original question I suggest to continue discussion by e-mail. Please find one on my profile page and drop a message referring this SO question and I&#39;ll answer with an updated script."}, {"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476162721, "post_id": 39934008, "comment_id": 67220890, "body": "I mailed you script, can you check your e-mail?"}, {"owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "edited": false, "score": 0, "creation_date": 1476284644, "post_id": 39934008, "comment_id": 67281704, "body": "can you please let me know the solution? I hove to analysis my data, please its urgent for me, sorry for  the trouble"}], "tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1475957556, "last_edit_date": 1475957556, "creation_date": 1475939737, "answer_id": 39934008, "question_id": 39929308, "link": "https://stackoverflow.com/questions/39929308/how-to-print-same-row-data-in-multiple-time-from-pdb-file-in-perl/39934008#39934008", "title": "How to print same row data in multiple time from pdb file in perl", "body": "<p>I'm afraid I have to say your code is rather confusing but what I get from the data samples and further explanation is:</p>\n\n<ul>\n<li>There should be a window of four lines moving through the input lines.</li>\n<li>The window contents (all four lines) should be printed as you advance to each new line.</li>\n<li>The window should be reset each time a new sequence is encountered.</li>\n<li>Each line is a series of space delimited fields and the fifth field identifies the sequence.</li>\n</ul>\n\n<p>The window contents can be stored in a simple Perl array (see <code>@window</code> in the snippet below). You simply append data to it with <a href=\"http://perldoc.perl.org/functions/push.html\" rel=\"nofollow\"><code>push</code></a> and remove the first line with <a href=\"http://perldoc.perl.org/functions/shift.html\" rel=\"nofollow\"><code>shift</code></a> as you move to a next line. When the sequence changes, print the current window and reset it. In the sample code below I made an assumption that sequences do not intermix. If this is note the case, you need to read all the input beforehand and sort it as necessary.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $win_len = 4;\nmy @window = ();\nmy $prev_chain = \"\";\n\nwhile (&lt;&gt;) {\n    my ($atom_name, $chain) = (split)[2, 4];\n    next unless $atom_name =~ /\\b(?:CG|CD1|CD2B|CE1|CE2|CZ|C|O|CB|CG|CD)\\b/;\n    if ($chain eq $prev_chain) {\n        if (@window == $win_len) {\n            print_window();\n            shift @window;\n        }\n        push @window, $_;\n    } else {\n        print_window() if @window;\n        @window = ($_);\n        $prev_chain = $chain;\n    }\n}\nprint_window() if @window;\n\nsub print_window {\n    print foreach @window;\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Demo: <a href=\"https://ideone.com/oOB8bF\" rel=\"nofollow\">https://ideone.com/oOB8bF</a></p>\n\n<p>The script reads data from STDIN and prints result to STDOUT for the sake of simplicity. Your code sample suggests you store a list of files to process in the <code>Document1.txt</code> and the actual input is read from these files. In this case you need an extra loop:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $OutputDir = 'C:/test_result_file';\nopen my $dir, \"Document1.txt\" or die \"Failed to open Document1.txt:$!\";\nchomp(my @files = &lt;$dir&gt;);\n\nforeach my $file (@files) {\n    my $win_len = 4;\n    my @window = ();\n    my $prev_chain = \"\";\n\n    open my $input, $file or die \"failed to open $file: $!\\n\";\n    open my $output, '&gt;', \"$OutputDir/$file.pdb\" or die \"failed to open $OutputDir/$file.pdb: $!\\n\";\n    while (&lt;$input&gt;) {\n        my ($atom_name, $chain) = (split)[2, 4];\n        next unless $atom_name =~ /\\b(?:CG|CD1|CD2B|CE1|CE2|CZ|C|O|CB|CG|CD)\\b/;\n        if ($chain eq $prev_chain) {\n            if (@window == $win_len) {\n                print_window($output, @window);\n                shift @window;\n            }\n            push @window, $_;\n        } else {\n            print_window($output, @window) if @window;\n            @window = ($_);\n            $prev_chain = $chain;\n        }\n    }\n    print_window($output, @window) if @window;\n}\n\nsub print_window {\n    my $fh = shift;\n    print $fh $_ foreach @_;\n    print $fh \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6433593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d87287812b0c3bd10019566230a43324?s=128&d=identicon&r=PG&f=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/6433593/vish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475957556, "creation_date": 1475907371, "last_edit_date": 1475951894, "question_id": 39929308, "link": "https://stackoverflow.com/questions/39929308/how-to-print-same-row-data-in-multiple-time-from-pdb-file-in-perl", "title": "How to print same row data in multiple time from pdb file in perl", "body": "<p>I am new in perl, I ma trying to write a program to input pdb file (from Directory, I have 3000 files) and output will save another directory (Another folder). </p>\n\n<p>Code: </p>\n\n<pre><code>open( filehandler, \"Document1.txt\" ) or die $!;    #Input file\nmy @file1     = &lt;filehandler&gt;;\nmy $OutputDir = 'C:\\test_result_file';\n\nforeach my $line (@file1) {\n    chomp $line;\n    open( fh, \"$line\" ) or die $!;\n    open( out, \"&gt;$OutputDir/$line.pdb\" ) or die $!;\n\n    while ( $file = &lt;fh&gt; ) {\n        if ( $file =~ /^ATOM.{9}(?:CG|CD1|CD2B|CE1|CE2|CZ|C|O|CB|CG|CD)/ ) {\n            $hash{$1}{$2}++;\n        }\n        foreach $key ( sort { $hash{$1} &lt;=&gt; $hash{$2} or $1 cmp $2 } keys %hash ) {\n            print out $key;\n        }\n    }\n    print \"Completed\", \"\\n\";\n}\n</code></pre>\n\n<p>for example input file:</p>\n\n<pre><code>ATOM   1752  CG  TYR A 248      89.088  39.843  51.944  1.00 32.03           C  \nATOM   1753  CD1 TYR A 248      89.759  39.356  50.810  1.00 37.15           C  \nATOM   1754  CD2 TYR A 248      87.727  40.049  51.864  1.00 32.81           C  \nATOM   1755  CE1 TYR A 248      89.078  39.081  49.646  1.00 36.00           C  \nATOM   1756  CE2 TYR A 248      87.035  39.774  50.706  1.00 35.66           C  \nATOM   1757  CZ  TYR A 248      87.708  39.285  49.599  1.00 35.16           C  \nATOM   7394  C   GLN B 331      37.664  74.934  36.854  1.00 22.75           C  \nATOM   7395  O   GLN B 331      37.728  73.730  36.607  1.00 31.73           O  \nATOM   7396  CB  GLN B 331      37.467  76.222  34.712  1.00 27.88           C  \nATOM   7397  CG  GLN B 331      36.515  76.825  33.693  1.00 32.42           C  \nATOM   7398  CD  GLN B 331      35.390  75.877  33.328  1.00 35.70           C  \n</code></pre>\n\n<p>Expected output:\nA chain:</p>\n\n<pre><code>ATOM   1753  CD1 TYR A 248      89.759  39.356  50.810  1.00 37.15            C  \nATOM   1752  CG  TYR A 248      89.088  39.843  51.944  1.00 32.03           C  \nATOM   1754  CD2 TYR A 248      87.727  40.049  51.864  1.00 32.81           C  \nATOM   1755  CE1 TYR A 248      89.078  39.081  49.646  1.00 36.00           C\n\nATOM   1753  CD1 TYR A 248      89.759  39.356  50.810  1.00 37.15           C  \nATOM   1754  CD2 TYR A 248      87.727  40.049  51.864  1.00 32.81           C  \nATOM   1755  CE1 TYR A 248      89.078  39.081  49.646  1.00 36.00           C \nATOM   1756  CE2 TYR A 248      87.035  39.774  50.706  1.00 35.66           C  \n\nATOM   1754  CD2 TYR A 248      87.727  40.049  51.864  1.00 32.81           C  \nATOM   1755  CE1 TYR A 248      89.078  39.081  49.646  1.00 36.00           C \nATOM   1756  CE2 TYR A 248      87.035  39.774  50.706  1.00 35.66           C  \nATOM   1757  CZ  TYR A 248      87.708  39.285  49.599  1.00 35.16           C  \n</code></pre>\n\n<p>B chain:</p>\n\n<pre><code>ATOM   7394  C   GLN B 331      37.664  74.934  36.854  1.00 22.75           C  \nATOM   7395  O   GLN B 331      37.728  73.730  36.607  1.00 31.73           O  \nATOM   7396  CB  GLN B 331      37.467  76.222  34.712  1.00 27.88           C  \nATOM   7397  CG  GLN B 331      36.515  76.825  33.693  1.00 32.42           C \n\nATOM   7395  O   GLN B 331      37.728  73.730  36.607  1.00 31.73           O  \nATOM   7396  CB  GLN B 331      37.467  76.222  34.712  1.00 27.88           C  \nATOM   7397  CG  GLN B 331      36.515  76.825  33.693  1.00 32.42           C  \nATOM   7398  CD  GLN B 331      35.390  75.877  33.328  1.00 35.70           C  \n\nATOM   7396  CB  GLN B 331      37.467  76.222  34.712  1.00 27.88           C  \nATOM   7397  CG  GLN B 331      36.515  76.825  33.693  1.00 32.42           C  \nATOM   7398  CD  GLN B 331      35.390  75.877  33.328  1.00 35.70           C  \nATOM   7394  C   GLN B 331      37.664  74.934  36.854  1.00 22.75           C  \n</code></pre>\n\n<p>Chain ID may be a to h. so, rule is see above expected output: First four row will unique and then line five will be same row of second row and will add new row as eight line row. </p>\n\n<p>I am unable to write a code to solve this problem, any one pl help</p>\n"}, {"tags": ["regex", "linux", "perl", "config"], "comments": [{"owner": {"reputation": 461, "user_id": 6933790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ef7fb7c460676595845863a65a6461b?s=128&d=identicon&r=PG&f=1", "display_name": "J Reid", "link": "https://stackoverflow.com/users/6933790/j-reid"}, "edited": false, "score": 0, "creation_date": 1475872050, "post_id": 39925247, "comment_id": 67134329, "body": "<a href=\"http://www.regexe.com/\" rel=\"nofollow noreferrer\">regexe.com</a> I use this site to test my regex all the time!"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 461, "user_id": 6933790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ef7fb7c460676595845863a65a6461b?s=128&d=identicon&r=PG&f=1", "display_name": "J Reid", "link": "https://stackoverflow.com/users/6933790/j-reid"}, "edited": false, "score": 0, "creation_date": 1475872712, "post_id": 39925247, "comment_id": 67134591, "body": "@JReid Also try <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1475872734, "post_id": 39925247, "comment_id": 67134598, "body": "You don&#39;t need to escape curly brackets when they&#39;re used to form a quantifier (you need to escape them only if you want to figure literal curly brackets. It is sometime useless in perl 5, but becomes mandatory in perl 6 ), the regex Perl syntax is different from the BRE syntax (Basic Regular Expression)."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475873535, "post_id": 39925247, "comment_id": 67134913, "body": "@PerlDog: I&#39;m not a native speaker too. Do you think, &quot;you don&#39;t have to&quot; more appropriate or something else?"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1475878254, "last_edit_date": 1475878254, "creation_date": 1475873078, "answer_id": 39925531, "question_id": 39925247, "link": "https://stackoverflow.com/questions/39925247/perl-extract-a-values-from-a-config-file/39925531#39925531", "title": "PERL extract a values from a config file", "body": "<p>It's often easier to deal with a parsing problem in pieces. Looking for IP addresses is a hard problem (just wait until someone puts an IPv6 address in there), and the file might contain other IP addresses that aren't allowed hosts. What if you pick up <code>abnormal_hosts = 123.234.56.78</code>?</p>\n\n<p>Instead look for <code>allowed_hosts = something</code>. This is much easier and safer.</p>\n\n<ol>\n<li>Split a <code>key = value</code> line into key and value.</li>\n<li>Check if the \"key\" is \"allowed_keys\".</li>\n<li>If so, split the value into IPs.</li>\n</ol>\n\n<p></p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\n# Simulate the contents of a file.\nmy @Lines = (\n\"configApp.cfg\\n\",\n\"bla bla bla\\n\",\n\"\\n\",\n\"dangerous_hosts = 24.45.62.1\\n\",\n\"allowed_hosts = 10.121.120.163, 10.121.120.164 ,127.0.0.1,8.8.8.8\\n\",\n\" something .\\n\"\n);\n\n# Don't use a foreach loop to read a file, it wastes memory.\n# This is for testing only.\nfor my $line (@Lines) {\n    chomp $line;\n\n    # Split the line into the key and value.\n    # If it isn't a key = val line there will be no key.\n    my($key, $val) = split /\\s*=\\s*/, $line;\n\n    # If the key isn't there, or if it isn't \"allowed_hosts\", skip this line.\n    next if !defined $key or $key ne 'allowed_hosts';\n\n    # Now split the IP list. Be sure to account for whitespace.\n    my @ips = split /\\s*,\\s*/, $val;\n\n    say \"Allowed Hosts: @ips\";\n\n    # We found the line, no need to read the rest of the file.\n    last;\n}\n</code></pre>\n\n<p>Note there is no need to parse IP addresses. All the program cares is that it's a comma separated list. If you want you can verify the contents of <code>@ips</code>, but now you can do it one at a time without having to parse everything else on the line.</p>\n\n<p>Also note that I always made sure to account for possible whitespace around things like <code>=</code> and <code>,</code>. People get really inconsistent about where they put spaces.</p>\n"}, {"tags": [], "owner": {"reputation": 42, "user_id": 3974408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d65fb85e1946e22a5d36db6d84fd7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Paranoid", "link": "https://stackoverflow.com/users/3974408/paranoid"}, "is_accepted": false, "score": -1, "last_activity_date": 1475873247, "creation_date": 1475873247, "answer_id": 39925560, "question_id": 39925247, "link": "https://stackoverflow.com/questions/39925247/perl-extract-a-values-from-a-config-file/39925560#39925560", "title": "PERL extract a values from a config file", "body": "<p>Do it in two steps. First extract the ip address/host name list then use split to get the individual entries</p>\n\n<pre><code>if( $row =~ /^\\s*allowed_hosts\\s*=\\s*(.*)/ ) {\n  foreach my $s (split(/\\s*,\\s*/,$1)) {\n    print(\"allowed: $s\\n\");\n  }\n}\n</code></pre>\n\n<p>If you don\u2019t want to do that you could try this:</p>\n\n<pre><code>while(my $row = &lt;$file&gt;) {\n  chomp;\n  print(\"'$_'\\n\") foreach (split(/\\s*,\\s*/,($row =~ /^\\s*allowed_hosts\\s*=\\s*(.*)/i)[0]));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1475875464, "post_id": 39925822, "comment_id": 67135644, "body": "Simple and great. Suggestion: if the input contains more than one <code>allowed_hosts</code> line, then you could replace <code>my @ips = &#47;\\d+[^\\s,]+&#47;g;</code> with <code>push @ips, &#47;\\d+[^\\s,]+&#47;g;</code> and drop the <code>last;</code> line. But your pattern is awesome. :-)"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1475878910, "post_id": 39925822, "comment_id": 67136706, "body": "<code>&#47;^allowed_hosts = &#47;</code> will not work with <code>allowed_hosts=</code> or any other amount of spaces. Because humans are very inconsistent about spacing, for any sort of hand-written format use <code>\\s*</code>."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1475880473, "post_id": 39925822, "comment_id": 67137066, "body": "@Schwern: Your remark is correct, but I prefer to stick to the information given in the question. The author is then free to adapt the code to make it more flexible (at little expense)."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 2, "last_activity_date": 1475879956, "last_edit_date": 1475879956, "creation_date": 1475874480, "answer_id": 39925822, "question_id": 39925247, "link": "https://stackoverflow.com/questions/39925247/perl-extract-a-values-from-a-config-file/39925822#39925822", "title": "PERL extract a values from a config file", "body": "<p>You can do it like this:</p>\n\n<pre><code>open(my $fh, '&lt;', $config_file)\n    or die \"Could not open file '$config_file': $!\";\n\nwhile(&lt;$fh&gt;) {\n    next until /^allowed_hosts = /;\n    my @ips = /\\d+[^\\s,]+/g;\n    print join \"\\n\", @ips;\n    last;\n}\n</code></pre>\n\n<p>The <code>next until</code> discards quickly all the lines until the good one is found.<br>\nAll matches are stored in the <code>@ips</code> variable.<br>Note that since you already know that this line contains ips, you don't need to build an explicit pattern to describe an ip, you only need to avoid whitespaces and commas.<br>\n<code>last</code> stops the loop.<br>\nThere's many chances you don't need to add an encoding information to open your file, since it is probably entirely written with ASCII characters as many config files, but I can be wrong.</p>\n\n<p>Note, if you want to make the results available outside of the loop, you must declare the <code>@ips</code> variable outside of the loop (before it).</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1475917010, "last_edit_date": 1475917010, "creation_date": 1475877790, "answer_id": 39926418, "question_id": 39925247, "link": "https://stackoverflow.com/questions/39925247/perl-extract-a-values-from-a-config-file/39926418#39926418", "title": "PERL extract a values from a config file", "body": "<p>Here is another way to do it, given your specific problem </p>\n\n<pre><code>use warnings 'all';\nuse strict;\nuse feature 'say';\n\nmy $file = 'configApp.cfg';\n\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy @allowed_hosts;\n\nwhile (&lt;$fh&gt;) \n{\n    if (/^allowed_hosts\\s*=\\s*(.*)/) \n    { \n        my @hosts = split /\\s*,\\s*/, $1; \n        push @allowed_hosts, \\@hosts;\n    }   \n}\n\n# Process hosts as needed\nsay \"@$_\" for @allowed_hosts;\n</code></pre>\n\n<p>Comments</p>\n\n<ul>\n<li><p>Process only the lines which have the needed <code>/^allowed_hosts/</code></p></li>\n<li><p>Use the captured pattern, available in <code>$1</code></p></li>\n<li><p>Store the array with results for a line as a <em>reference</em> on an array with all results</p></li>\n<li><p>If there is <em>certainly</em> only one <code>/^allowed_hosts/</code> line then there is no need for another array &ndash; store return from <code>split</code> directly into the <code>@allowed_hosts</code> declared outside of the loop. Then you may as well exit the loop once this line is parsed.</p></li>\n</ul>\n\n<p>With multiple lines (or files), we can also use an <em>anonymous array</em></p>\n\n<pre><code>if (/^allowed_hosts\\s*=\\s*(.*)/) \n{ \n    push @allowed_hosts, [ split /\\s*,\\s*/, $1 ];\n}\n</code></pre>\n\n<p>However, then we cannot check the result before we stash it away, while with intermediary <code>@hosts</code> you can add checks or further validation or selection or processing if needed.</p>\n\n<p>With the exact text you posted this prints</p>\n\n<pre>\n10.121.120.163 10.121.120.164 ips ips more ips ...\n</pre>\n"}, {"tags": [], "owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "is_accepted": false, "score": 0, "last_activity_date": 1475928435, "creation_date": 1475928435, "answer_id": 39932149, "question_id": 39925247, "link": "https://stackoverflow.com/questions/39925247/perl-extract-a-values-from-a-config-file/39932149#39932149", "title": "PERL extract a values from a config file", "body": "<pre><code>use strict;\nuse warnings;\n\nuse Config::Simple; # you may have to install this one\n\nmy $cfg = Config::Simple-&gt;new(configApp.cfg);\n\nmy @hosts = split \" \", $cfg-&gt;param('allowed_hosts');\n</code></pre>\n\n<p>had the list been separated bit comma's rather then spaces, the last line would even be more readable like:</p>\n\n<pre><code>my @hosts = $cfg-&gt;param('allowed_hosts');\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5244544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-Y8gsfWKup1Y/AAAAAAAAAAI/AAAAAAAAAOQ/vai-rtxFRXI/photo.jpg?sz=128", "display_name": "Ren&#233; Bello", "link": "https://stackoverflow.com/users/5244544/ren%c3%a9-bello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 39926418, "answer_count": 5, "score": 1, "last_activity_date": 1475928435, "creation_date": 1475871791, "question_id": 39925247, "link": "https://stackoverflow.com/questions/39925247/perl-extract-a-values-from-a-config-file", "title": "PERL extract a values from a config file", "body": "<p>I try to extract a group of values, in this case all the ips belonging to <strong>allowed_hosts</strong> in a config file in my linux system.\nso i have this:</p>\n\n<pre><code>configApp.cfg\nbla bla bla\n    ... \nallowed_hosts = 10.121.120.163,10.121.120.164, ips, ips, more ips ...\n    ...\n something .\n</code></pre>\n\n<p>I already read the web page <a href=\"http://perlmaven.com/how-to-extract-strings-from-a-file\" rel=\"nofollow\">http://perlmaven.com/how-to-extract-strings-from-a-file</a></p>\n\n<p>but i have some issues with my scrip.</p>\n\n<pre><code>open(my $file, '&lt;:encoding(UTF-8)', $config_file)\n  or die \"Could not open file '$config_file' $!\";\nwhile (my $row = &lt;$file&gt;) {\n chomp $row;\n my @strings = $row =~ /[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}/g;\n foreach my $s (@strings){\n   print \"'$s'\";\n }\n}\n</code></pre>\n\n<p>i hope can help me with the regex expression. Thanks</p>\n"}, {"tags": ["mysql", "perl", "variables", "cgi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1475872058, "post_id": 39925120, "comment_id": 67134333, "body": "This is not a simple matter of just filling in placeholder text. In many languages, other parts of the sentence will also change depending on the value of the placeholder. For example, &quot;You have 0 new messag<i>es</i>.&quot; vs. &quot;You have 1 new messag<i>e</i>.&quot; Other languages have different rules."}, {"owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1475872458, "post_id": 39925120, "comment_id": 67134502, "body": "Thank you for your remark but I can manage that in the database. For example in english <b>You have $number new messages</b> and in french <b>$number nouveaux messages en attente</b>. But I cannot print the value of <code>$number</code>..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1475872772, "post_id": 39925120, "comment_id": 67134615, "body": "<a href=\"http://search.cpan.org/~ferreira/Locale-Maketext-1.13/lib/Locale/Maketext/TPJ13.pod#A_Localization_Horror_Story:_It_Could_Happen_To_You\" rel=\"nofollow noreferrer\">It&#39;s not that simple.</a> (That article is a bit out-of-date but the description of the problem is still accurate. Also see <a href=\"http://rassie.org/archives/247\" rel=\"nofollow noreferrer\">On the state of i18n in Perl</a>.)"}, {"owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1475912199, "post_id": 39925120, "comment_id": 67142634, "body": "Thank you again but if someone can help me with the specific question asked above ?..."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "edited": false, "score": 0, "creation_date": 1475924822, "post_id": 39930542, "comment_id": 67145530, "body": "Great solution ! Thank you so much !!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1511479396, "post_id": 39930542, "comment_id": 81883582, "body": "You&#39;re asking that the OP alters their entire database to support <code>printf</code> formats. I don&#39;t think that&#39;s a great answer"}], "tags": [], "owner": {"reputation": 42, "user_id": 3974408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d65fb85e1946e22a5d36db6d84fd7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Paranoid", "link": "https://stackoverflow.com/users/3974408/paranoid"}, "is_accepted": true, "score": -1, "last_activity_date": 1475917069, "creation_date": 1475917069, "answer_id": 39930542, "question_id": 39925120, "link": "https://stackoverflow.com/questions/39925120/replace-variables-extracted-from-database-with-theirs-values/39930542#39930542", "title": "Replace variables extracted from database with theirs values", "body": "<p>You can use <code>printf</code> format strings in your database and pass in values to that.\n<code>printf</code> allows you to specify the position of the argument so only have know what position with the list of parameters \"$number\" is.</p>\n\n<p>For example</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nmy $Details = {\n   'Name' =&gt; 'Mr Satch',\n   'Age'  =&gt; '31',\n   'LocationEn' =&gt; 'England',\n   'LocationFr' =&gt; 'Angleterre',\n   'NewMessages' =&gt; 20,\n   'OldMessages' =&gt; 120,\n};\n\nmy $English = q(\n Hello %1$s, I see you are %2$s years old and from %3$s\n How are you today?\n You have %5$i new messages and %6$i old messages\n Have a nice day\n);\nmy $French = q{\n Bonjour %1$s, je vous vois d'%4$s et \u00e2g\u00e9s de %2$s ans.\n Comment allez-vous aujourd'hui?\n Vous avez %5$i nouveaux messages et %6$i anciens messages.\n Bonne journ\u00e9e.\n};\nprintf($English, @$Details{qw/Name Age LocationEn LocationFr NewMessages OldMessages/});\nprintf($French,  @$Details{qw/Name Age LocationEn LocationFr NewMessages OldMessages/});\n</code></pre>\n\n<p>This would be a nightmare to maintain so an alternative might be to include an argument list in the database:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nsub fetch_row {\n   return { \n      'Format' =&gt; 'You have %i new messages and %i old messages' . \"\\n\",\n      'Arguments'  =&gt; 'NewMessages OldMessages',\n   }\n}\n\nsub PrintMessage {\n    my ($info,$row) = @_;\n    printf($row-&gt;{'Format'},@$info{split(/ +/,$row-&gt;{'Arguments'})});\n}\n\nmy $Details = {\n   'Name' =&gt; 'Mr Satch',\n   'Age'  =&gt; '31',\n   'LocationEn' =&gt; 'England',\n   'LocationFr' =&gt; 'Angleterre',\n   'NewMessages' =&gt; 20,\n   'OldMessages' =&gt; 120,\n};\n\nmy $row = fetch_row();\nPrintMessage($Details,$row)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 39930542, "answer_count": 1, "score": 0, "last_activity_date": 1475917069, "creation_date": 1475871271, "question_id": 39925120, "link": "https://stackoverflow.com/questions/39925120/replace-variables-extracted-from-database-with-theirs-values", "title": "Replace variables extracted from database with theirs values", "body": "<p>I'd like to translate a perl web site in several languages. I search for and tried many ideas, but I think the best one is to save all translations inside the mySQL database. But I get a problem...</p>\n\n<p>When a sentence extracted from the database contains a variable (scalar), it prints on the web page as a scalar:</p>\n\n<pre><code>You have $number new messages.\n</code></pre>\n\n<p>Is there a proper way to reassign <code>$number</code> its actual value ?</p>\n\n<p>Thank you for your help !</p>\n"}, {"tags": ["perl", "perl-module", "cpan", "activeperl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1475862556, "post_id": 39923037, "comment_id": 67129886, "body": "<a href=\"http://strawberryperl.com\" rel=\"nofollow noreferrer\">Strawberry Perl</a> and plain-old CPAN"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1475864567, "post_id": 39923037, "comment_id": 67130898, "body": "<a href=\"http://www.cpan.org/\" rel=\"nofollow noreferrer\">cpan.org</a> ?"}, {"owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "edited": false, "score": 0, "creation_date": 1475866185, "post_id": 39923037, "comment_id": 67131629, "body": "How can I get cpan packages directly from cpan with ActivePerl?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1475866660, "post_id": 39923037, "comment_id": 67131877, "body": "I don&#39;t know about ActivePerl but with Strawberry Perl you just run <code>cpan DBI</code>, etc."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1475869139, "post_id": 39923037, "comment_id": 67133018, "body": "See the second half of <a href=\"http://www.activestate.com/blog/2016/01/installing-cpan-modules-activeperl-518-and-later\" rel=\"nofollow noreferrer\">Installing CPAN Modules on ActivePerl 5.18 and Later</a>"}, {"owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1475870598, "post_id": 39923037, "comment_id": 67133726, "body": "@ThisSuitIsBlackNot - Tried that. When I run cpan I get:  <code>It looks like you don&#39;t have a C compiler and make utility installed.  Trying to install dmake and the MinGW gcc compiler using the Perl Package Manager. This may take a a few minutes...  Downloading MinGW-5.1.4.1...redirect Downloading MinGW-5.1.4.1...failed 401 Authorization Required ppm.bat install failed: 401 Authorization Required</code>"}], "answers": [{"comments": [{"owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "edited": false, "score": 0, "creation_date": 1475866208, "post_id": 39923417, "comment_id": 67131640, "body": "So far all of the ones I have needed are restricted: DBI, Data::Dumper, Getopt::Long, XML::LibXML, ... All return &quot;401 Authorization Required&quot;"}, {"owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "edited": false, "score": 0, "creation_date": 1475872769, "post_id": 39923417, "comment_id": 67134614, "body": "OK, so I finally figured out that I needed to have the latest version of ActivePerl... which is a hassle because I need IT approval to install any software at work. Grrr."}], "tags": [], "owner": {"reputation": 54, "user_id": 6590456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0722cd093bea4745467a58140d50099?s=128&d=identicon&r=PG&f=1", "display_name": "ssleung", "link": "https://stackoverflow.com/users/6590456/ssleung"}, "is_accepted": true, "score": 1, "last_activity_date": 1475863652, "creation_date": 1475863652, "answer_id": 39923417, "question_id": 39923037, "link": "https://stackoverflow.com/questions/39923037/is-there-an-open-free-perl-module-package-repository-for-windows/39923417#39923417", "title": "Is there an open/free Perl module/package repository for Windows?", "body": "<p>Much of the modules in PPM for ActivePerl is free. Only certain modules are locked to Business Edition (BE).</p>\n"}], "owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 39923417, "answer_count": 1, "score": 0, "last_activity_date": 1475870934, "creation_date": 1475861980, "last_edit_date": 1475870934, "question_id": 39923037, "link": "https://stackoverflow.com/questions/39923037/is-there-an-open-free-perl-module-package-repository-for-windows", "title": "Is there an open/free Perl module/package repository for Windows?", "body": "<p>So, it seems that the ActivePerl package repository is now <a href=\"http://docs.activestate.com/activeperl/5.16/faq/ActivePerl-faq2.html#default_repositories\" rel=\"nofollow\">restricted to Business Edition users</a>. Is there a repository that maintains Perl packages/modules for Windows that is open/free/unrestricted?</p>\n\n<p>Edit: So far all of the ones I have needed are restricted:\nDBI, Data::Dumper, Getopt::Long, XML::LibXML, ...\nAll return \"401 Authorization Required\"</p>\n\n<p>Edit 2: I'm running ActivePerl 5.12.2, in case that is relevant.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 6836881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c145c9cbd56933e6158bc0200bd144f8?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/6836881/steve"}, "edited": false, "score": 0, "creation_date": 1475856530, "post_id": 39921460, "comment_id": 67126801, "body": "Exactly what I wanted... even when the number of array elements varies. Thank you very much!"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 317, "user_id": 6836881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c145c9cbd56933e6158bc0200bd144f8?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/6836881/steve"}, "edited": false, "score": 0, "creation_date": 1475856621, "post_id": 39921460, "comment_id": 67126852, "body": "Please do not post &quot;thank you&quot; comments.  You express thanks by upvoting helpful answers and accepting the one that solves your problem (which you&#39;ve already done).  You should take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1475856899, "post_id": 39921460, "comment_id": 67127028, "body": "He have 56k, I think he knows this ^^"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1475856969, "post_id": 39921460, "comment_id": 67127064, "body": "No, the OP has 18"}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": true, "score": 1, "last_activity_date": 1475856038, "creation_date": 1475856038, "answer_id": 39921460, "question_id": 39921261, "link": "https://stackoverflow.com/questions/39921261/perl-how-to-access-a-hash-with-array-values-in-a-loop/39921460#39921460", "title": "Perl: How to access a hash with array values in a loop?", "body": "<p>Here's one way:</p>\n\n<pre><code>%myhash = ( 'key1' =&gt; [ 'key1value1', 'key1value2' ],\n            'key2' =&gt; [ 'key2value1', 'key2value2' ],\n            'key3' =&gt; [ 'key3value1', 'key3value2' ] );\n\nfor my $k (sort keys %myhash)\n{\n    print \"$myhash{$k}-&gt;[0] $myhash{$k}-&gt;[1]\\n\";\n}\n</code></pre>\n\n<p>If the number of array elements varies:</p>\n\n<pre><code>for my $k (sort keys %myhash)\n{\n    for my $v (@{$myhash{$k}})\n    {\n        print \"$v \";\n    }\n    print \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1475856834, "creation_date": 1475856834, "answer_id": 39921711, "question_id": 39921261, "link": "https://stackoverflow.com/questions/39921261/perl-how-to-access-a-hash-with-array-values-in-a-loop/39921711#39921711", "title": "Perl: How to access a hash with array values in a loop?", "body": "<p>Another solution :</p>\n\n<pre><code>print map {  join(\" \", @{ $myhash{$_} }, \"\\n\") } sort keys %myhash;\n</code></pre>\n\n<p>(the concise way)</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475880536, "post_id": 39925813, "comment_id": 67137074, "body": "Use <code>say</code> to make it shorter. But we are not on code golf. Short is not necessarily more concise. Sometimes it&#39;s just harder to read. ;-)"}, {"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475881176, "post_id": 39925813, "comment_id": 67137220, "body": "Very nice thanks! No code golf, just a little bit of perl spirit ;)"}], "tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": false, "score": 2, "last_activity_date": 1475881109, "last_edit_date": 1475881109, "creation_date": 1475874448, "answer_id": 39925813, "question_id": 39921261, "link": "https://stackoverflow.com/questions/39921261/perl-how-to-access-a-hash-with-array-values-in-a-loop/39925813#39925813", "title": "Perl: How to access a hash with array values in a loop?", "body": "<p>Here my solution...just for fun and maybe even more concise. Not sure if you can compress this even further:</p>\n\n<pre><code>print join ' ', @$_, \"\\n\" for @myhash{sort keys %myhash};\n</code></pre>\n\n<p>Works for arbitrary long value arrays in <code>%myhash</code>.</p>\n\n<p>EDIT:</p>\n\n<p>As simbabque pointed out in the comments, it can indeed be further compressed. Thanks for the hint!</p>\n\n<pre><code>say join ' ', @$_ for @myhash{sort keys %myhash}; # requires: use feature 'say';\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 6836881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c145c9cbd56933e6158bc0200bd144f8?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/6836881/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 39921460, "answer_count": 3, "score": 1, "last_activity_date": 1475881109, "creation_date": 1475855384, "last_edit_date": 1475856059, "question_id": 39921261, "link": "https://stackoverflow.com/questions/39921261/perl-how-to-access-a-hash-with-array-values-in-a-loop", "title": "Perl: How to access a hash with array values in a loop?", "body": "<p>I've defined a hash with arrays as values:</p>\n\n<pre><code>%myhash = ( 'key1' =&gt; [ 'key1value1', 'key1value2' ],\n            'key2' =&gt; [ 'key2value1', 'key2value2' ],\n            .......\n            'key100' =&gt; [ 'key100value1', 'key100value2' ] );\n</code></pre>\n\n<p>How can we access the values of each key using a loop?</p>\n\n<p>Basically, I want to do something like:</p>\n\n<pre><code>print \"$myhash{'key1'}-&gt;[0]   and  $myhash{'key1'}-&gt;[1]\\n\";\nprint \"$myhash{'key2'}-&gt;[0]   and  $myhash{'key2'}-&gt;[1]\\n\";\n.......\nprint \"$myhash{'key100'}-&gt;[0]   and  $myhash{'key100'}-&gt;[1]\\n\";\n</code></pre>\n\n<p>to print those two array values of each key in separate lines.</p>\n\n<p>I've tried using an index in for/while loops with no success.</p>\n\n<p>Thanks for any suggestions in advance!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 3, "creation_date": 1475855333, "post_id": 39920904, "comment_id": 67126084, "body": "What version of Perl are you using?  I think as far back as 5.10 or 5.12 they made the warning nicer: <code>Use of uninitialized value $foo in concatenation at...</code>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1475855933, "post_id": 39920904, "comment_id": 67126443, "body": "I can see how this could be done with <code>$SIG{__WARN__}</code>, <code>caller</code>, <code>PPI</code>, and <code>PadWalker</code>, Probably more trouble than it&#39;s worth, especially if upgrading perl (see Jim Davis&#39; comment above) will address this problem."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1475856057, "post_id": 39920904, "comment_id": 67126525, "body": "@mob let&#39;s not go there... :)"}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1475857070, "post_id": 39920904, "comment_id": 67127125, "body": "it&#39;s perl version 5.22.1"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 6, "last_activity_date": 1475854540, "creation_date": 1475854540, "answer_id": 39921005, "question_id": 39920904, "link": "https://stackoverflow.com/questions/39920904/perl-unintialized-value-how-to-make-more-meaningful-warnings/39921005#39921005", "title": "perl unintialized value: how to make more meaningful warnings?", "body": "<p><strong>No</strong>, you can't just change Perl to do that.</p>\n\n<p>What you can do is turn on <code>use diagnostics</code>, but it will only explain the error message to you. In your case, that's this:</p>\n\n<blockquote>\n  <p>Use of uninitialized value in say at scratch.pl line\n  1324 (#1)</p>\n  \n  <p>(W uninitialized) An undefined value was used as if it were already\n      defined.  It was interpreted as a \"\" or a 0, but maybe it was a mistake.\n     To suppress this warning assign a defined value to your variables.</p>\n  \n  <p>To help you figure out what was undefined, perl will try to tell you\n      the name of the variable (if any) that was undefined.  In some cases\n      it cannot do this, so it also tells you what operation you used the\n      undefined value in.  Note, however, that perl optimizes your program\n      and the operation displayed in the warning may not necessarily appear\n      literally in your program.  For example, \"that $foo\" is usually\n      optimized into \"that \" . $foo, and the warning will refer to the\n      concatenation (.) operator, even though there is no . in\n      your program.</p>\n</blockquote>\n\n<p>But that doesn't tell you anything you didn't already know, and it comes at considerable cost.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1475856122, "post_id": 39921457, "comment_id": 67126557, "body": "Why not <code>perl -W</code>?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1475856271, "post_id": 39921457, "comment_id": 67126644, "body": "Good question. Habit probably. My fingers autocorrect <code>use</code> statements to <code>-M</code> options in command-line scripts. But, yes, <code>-w</code> or <code>-W</code> would work just as well."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1475856036, "creation_date": 1475856036, "answer_id": 39921457, "question_id": 39920904, "link": "https://stackoverflow.com/questions/39920904/perl-unintialized-value-how-to-make-more-meaningful-warnings/39921457#39921457", "title": "perl unintialized value: how to make more meaningful warnings?", "body": "<p>You can't change Perl to do that. But the people who maintain Perl have already changed Perl to do that for you.</p>\n\n<pre><code>$ perl -Mwarnings -E'say $_.\"XX\"'\nUse of uninitialized value $_ in concatenation (.) or string at -e line 1.\nXX\n</code></pre>\n\n<p>This change was released in Perl 5.10.0 (in December 2007).</p>\n\n<blockquote>\n  <p><strong>New or Changed Diagnostics</strong></p>\n  \n  <p><em>Use of uninitialized value</em></p>\n  \n  <p>Perl will now try to tell you the name of the variable (if any) that was undefined.</p>\n</blockquote>\n\n<p>(From <a href=\"https://metacpan.org/pod/distribution/perl/pod/perl5100delta.pod\" rel=\"nofollow\">perl5100delta</a>)</p>\n\n<p>So the answer to your question is - upgrade your version of Perl.</p>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 39921457, "answer_count": 2, "score": 1, "last_activity_date": 1475856036, "creation_date": 1475854239, "question_id": 39920904, "link": "https://stackoverflow.com/questions/39920904/perl-unintialized-value-how-to-make-more-meaningful-warnings", "title": "perl unintialized value: how to make more meaningful warnings?", "body": "<p>in Perl, I can see warnings like </p>\n\n<pre><code>Use of uninitialized value in concatenation (.) or string at stat_plots.pl line 446.\n</code></pre>\n\n<p>However, I would like to make changes to perl, or add a subroutine at the beginning of the script, so that this warning would show an error like</p>\n\n<pre><code>Hash key {index} is not defined at stat_plots.pl line 446.\n</code></pre>\n\n<p>This would save a lot of time in the debugging process, and make the code look a lot nicer without having to add dozens of</p>\n\n<pre><code>if (!defined $hash{$key}) {\n   print \"\\$hash{$key} isn't defined.\\n\";\n}\n</code></pre>\n\n<p>and make each script much longer and messier.</p>\n\n<p>Is there a way to get perl to do this?</p>\n"}, {"tags": ["xml", "bash", "perl", "shell", "unix"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475852625, "post_id": 39920358, "comment_id": 67124360, "body": "Do you want to do this with an XML parser, or just some splitting magic?"}, {"owner": {"reputation": 225, "user_id": 1633685, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/633b34b2b646949a4feccff284f7e582?s=128&d=identicon&r=PG", "display_name": "Ducati007", "link": "https://stackoverflow.com/users/1633685/ducati007"}, "edited": false, "score": 0, "creation_date": 1475852767, "post_id": 39920358, "comment_id": 67124452, "body": "Ideally i have to run this after a data stage job in linux environment. XML parser would be good otherwise with strings and regex it is prone for errors."}, {"owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "edited": false, "score": 2, "creation_date": 1475853337, "post_id": 39920358, "comment_id": 67124821, "body": "As you have used the Perl tag, <a href=\"http://search.cpan.org/dist/XML-Twig/tools/xml_split/xml_split\" rel=\"nofollow noreferrer\">search.cpan.org/dist/XML-Twig/tools/xml_split/xml_split</a> seems an option."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "edited": false, "score": 0, "creation_date": 1475853416, "post_id": 39920358, "comment_id": 67124877, "body": "@MartinHonnen no, it doesn&#39;t really support that kind of thing. Working with <code>position()</code> or <code>count()</code> will break it. I haven&#39;t found a way to do it with <code>xmL_split</code> yet."}, {"owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475853712, "post_id": 39920358, "comment_id": 67125075, "body": "@simbabque, shouldn&#39;t the option <code>-g &lt;nb&gt;</code>, e.g. <code>-g 10000</code> solve it? I am not at a machine with Perl so I can&#39;t test and I don&#39;t remember for sure I have used it but that sounds like an option to get files with 10k elements."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "edited": false, "score": 0, "creation_date": 1475853940, "post_id": 39920358, "comment_id": 67125216, "body": "@MartinHonnen with a <code>-g 2</code> and the example data that will produce the files <a href=\"https://gist.github.com/simbabque/f6642f878719652f77edfc9e77d0441d\" rel=\"nofollow noreferrer\">in this gist</a> \u2013  essentially it splits correctly, but it&#39;s meant to be used with <code>xml_merge</code> I think."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1475875763, "post_id": 39920358, "comment_id": 67135762, "body": "Don&#39;t do this in <code>bash</code>, it doesn&#39;t have an XML parser. You could call tools with XML parsers (e.g. <code>xsltproc</code>) but I wouldn&#39;t do that."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1475854583, "creation_date": 1475854583, "answer_id": 39921018, "question_id": 39920358, "link": "https://stackoverflow.com/questions/39920358/split-large-xml-into-smaller-files-based-on-chunks-of-child-nodes-using-unix-scr/39921018#39921018", "title": "Split large XML into smaller files based on chunks of child nodes using unix script", "body": "<p>Short answer is yes, this is totally doable. </p>\n\n<p><code>XML::Twig</code> supports \"cut\" and \"paste\" operations, as well as incremental parsing (for lower memory footprint).</p>\n\n<p>So you'd do something like:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\n#new document. Manually set xmlns - could copy this from 'original'\n#instead though. \nmy $new_doc = XML::Twig-&gt;new;\n$new_doc-&gt;set_root(\n   XML::Twig::Elt-&gt;new(\n      'urlset', { xmlns =&gt; \"http://www.sitemaps.org/schemas/sitemap/0.9\" }\n   )\n);\n$new_doc-&gt;set_pretty_print('indented_a');\n\nmy $elt_count    = 0;\nmy $elts_per_doc = 2;\nmy $count_of_xml = 0;\n\n#handle each 'url' element. \nsub handle_url {\n   my ( $twig, $elt ) = @_;\n   #more than the count, we output this doc, close it,\n   #then create a new one. \n   if ( $elt_count &gt;= $elts_per_doc ) {\n      $elt_count = 0;\n      open( my $output, '&gt;', \"new_xml_\" . $count_of_xml++ . \".xml\" )\n        or warn $!;\n      print {$output} $new_doc-&gt;sprint;\n      close($output);\n      $new_doc = XML::Twig-&gt;new();\n      $new_doc-&gt;set_root(\n         XML::Twig::Elt-&gt;new(\n            'urlset',\n            { xmlns =&gt; \"http://www.sitemaps.org/schemas/sitemap/0.9\" }\n         )\n      );\n      $new_doc-&gt;set_pretty_print('indented_a');\n   }\n\n   #cut this element, paste it into new doc. \n   #note - this doesn't alter the original on disk - only the 'in memory' \n   #copy. \n   $elt-&gt;cut;\n   $elt-&gt;paste( $new_doc-&gt;root );\n   $elt_count++;\n   #purge clears any _closed_ tags from memory, so it preserves \n   #structure.\n   $twig-&gt;purge;\n}\n\n#set a handler, start the parse.\n\nmy $twig = XML::Twig-&gt;new( twig_handlers =&gt; { 'url' =&gt; \\&amp;handle_url } ) -&gt;parsefile ( 'your_file.xml' ); \n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 1633685, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/633b34b2b646949a4feccff284f7e582?s=128&d=identicon&r=PG", "display_name": "Ducati007", "link": "https://stackoverflow.com/users/1633685/ducati007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 39921018, "answer_count": 1, "score": 1, "last_activity_date": 1475854583, "creation_date": 1475852553, "question_id": 39920358, "link": "https://stackoverflow.com/questions/39920358/split-large-xml-into-smaller-files-based-on-chunks-of-child-nodes-using-unix-scr", "title": "Split large XML into smaller files based on chunks of child nodes using unix script", "body": "<p>I could do the same thing in java or c# with ease but doing this in shell scripting involves lot of learning...so any help is appreciated</p>\n\n<p>I have a huge xml node with child nodes like URL (lets say 100K nodes) and I need to split the input.xml with 10K nodes in each subfile,so I get 10 files containing 10K nodes with parent tag in tact (URLSet tab).</p>\n\n\n\n<pre><code>&lt;urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"&gt;\n\n&lt;url&gt;\n  &lt;loc&gt; https://www.mywebsite.com/shopping &lt;/loc&gt;\n  &lt;changefreq&gt; Weekly &lt;/changefreq&gt;\n  &lt;priority&gt; 0.8 &lt;/priority&gt;\n  &lt;lastmod&gt; 2016-09-22 &lt;/lastmod&gt;\n&lt;/url&gt;\n&lt;url&gt;\n  &lt;loc&gt; https://www.mywebsite.com/shopping &lt;/loc&gt;\n  &lt;changefreq&gt; Weekly &lt;/changefreq&gt;\n  &lt;priority&gt; 0.8 &lt;/priority&gt;\n  &lt;lastmod&gt; 2016-09-22 &lt;/lastmod&gt;\n&lt;/url&gt;\n&lt;url&gt;\n  &lt;loc&gt; https://www.mywebsite.com/shopping &lt;/loc&gt;\n  &lt;changefreq&gt; Weekly &lt;/changefreq&gt;\n  &lt;priority&gt; 0.8 &lt;/priority&gt;\n  &lt;lastmod&gt; 2016-09-22 &lt;/lastmod&gt;\n&lt;/url&gt;\n&lt;url&gt;\n  &lt;loc&gt; https://www.mywebsite.com/shopping &lt;/loc&gt;\n  &lt;changefreq&gt; Weekly &lt;/changefreq&gt;\n  &lt;priority&gt; 0.8 &lt;/priority&gt;\n  &lt;lastmod&gt; 2016-09-22 &lt;/lastmod&gt;\n&lt;/url&gt;\n&lt;url&gt;\n  &lt;loc&gt; https://www.mywebsite.com/shopping &lt;/loc&gt;\n  &lt;changefreq&gt; Weekly &lt;/changefreq&gt;\n  &lt;priority&gt; 0.8 &lt;/priority&gt;\n  &lt;lastmod&gt; 2016-09-22 &lt;/lastmod&gt;\n&lt;/url&gt;\n&lt;url&gt;\n  &lt;loc&gt; https://www.mywebsite.com/shopping &lt;/loc&gt;\n  &lt;changefreq&gt; Weekly &lt;/changefreq&gt;\n  &lt;priority&gt; 0.8 &lt;/priority&gt;\n  &lt;lastmod&gt; 2016-09-22 &lt;/lastmod&gt;\n&lt;/url&gt;\n&lt;/urlset&gt;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash", "perl-data-structures"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1475839231, "post_id": 39915826, "comment_id": 67115895, "body": "What does <code>%elementhash</code> contain?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475839265, "post_id": 39915826, "comment_id": 67115908, "body": "You&#39;re also missing a <code>my</code> for <code>$valueofkey</code>."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 3, "creation_date": 1475839319, "post_id": 39915826, "comment_id": 67115935, "body": "Write <code>use Data::Dumper; print Dumper \\%elementhash</code> before first <code>foreach</code> loop and share the output."}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1475839926, "post_id": 39915826, "comment_id": 67116318, "body": "thanks, I have added the dumper output to OP"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1475840100, "post_id": 39915826, "comment_id": 67116441, "body": "It looks to me like you&#39;re trying to dereference the first and second items in the array. Try something like <code>$elementhash{$key}[0]</code>"}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "reply_to_user": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1475840220, "post_id": 39915826, "comment_id": 67116524, "body": "tried that already @yonyon100 , it gives me an uninitialized value error"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1475840289, "post_id": 39915826, "comment_id": 67116568, "body": "Try:  @{$elementhash{$key}}[0]; because @{$elementhash{$key}} is the value and this is an Array. and @{$elementhash{$key}}[0] is the value of the Array on the first index"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 1, "creation_date": 1475840463, "post_id": 39915826, "comment_id": 67116676, "body": "I don&#39;t know, but it worked for me. That&#39;s the output I got: <code>3000;68;56;12 1000;7;7; 2000;5;5;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475840875, "post_id": 39915826, "comment_id": 67116931, "body": "Word of advice: don&#39;t mix German identifiers in your code. Either go English or German, but don&#39;t mix. It will be confusing later. Also don&#39;t name variables by their type. Name them by what they represent. <code>$valueofkey</code> could be <code>$amount</code> for example."}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475841132, "post_id": 39915826, "comment_id": 67117076, "body": "@simbabque usually i write the code so I can fully understand it (also using easier-to-read variable names for myself) afterwards when everything is working I replace them so others are also able to understand and work with the code. Actually for me it was easier to think of $valueofkey than of $amount, because I personally still struggle a bit when it comes down to more complex structures like arrays as hash keys. yes, i am a bloody noob :P"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475841499, "post_id": 39915826, "comment_id": 67117331, "body": "The array <i>reference</i> is the hash <b>value</b> here, not the hash key. It can&#39;t be a key. If you use an array as a hash key, it will be forced into scalar context and thus will return the number of elements. <code>perl -MData::Dumper -e&#39;@foo = (5,7); $bar{@foo} = 1; print Dumper \\%bar&#39;</code>. If you use an array reference as a hash key, you&#39;ll get the string for the address like <code>HASH(0xD34DB33F)</code>. <code>perl -MData::Dumper -e&#39;$foo = [5,7]; $bar{$foo} = 1; print Dumper \\%bar&#39;</code>. But don&#39;t worry, you&#39;ll figure this stuff out after a while ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475841623, "post_id": 39915826, "comment_id": 67117411, "body": "Think of a hash like a table with two columns. A key-value-pair is one line. That&#39;s like <code>$foo{bar} = 1</code>. If you want all the <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\"><code>keys</code></a>, you get the left column. If you want all the <a href=\"http://perldoc.perl.org/functions/values.html\" rel=\"nofollow noreferrer\"><code>values</code></a>, you get the right column."}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1475842122, "post_id": 39915826, "comment_id": 67117760, "body": "thats exactly how I explained it to myself (even draw it). Now I know what you meant by that post before, yes, the @array is the value of the hash, not the key. the key is &quot;1000&quot; as example in my code!! thank you, just another mistake that happened because of not being a native speaker.. :P"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475843304, "post_id": 39915826, "comment_id": 67118491, "body": "You speak German, right? There are perlmonger user groups in most larger cities in Germany. If you happen to be in the Berlin area you should come by and we will explain it in German. :-)"}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1475844633, "post_id": 39915826, "comment_id": 67119331, "body": "You are german too? Didnt expect that. Unfortunately I live in K&#246;ln, I will try to find a group nearby"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475848620, "post_id": 39915826, "comment_id": 67121810, "body": "There is Cologne, Duesseldorf and Niederrhein.pm. The latter is very active and often sees Dutch people join as well. You&#39;re close enough to try AmsterdamX.pm too. That&#39;s the Amsterdam expatriates community. They have a lot of very interesting people there. Check my profile here to learn more about the Perl community in Germany. :)"}], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1475840650, "post_id": 39916351, "comment_id": 67116793, "body": "worked! thanks for the explanation! i had $valueofkey defined at the start of the code. Also thanks for the <code>say</code> tip, didnt know it would do this. I will later convert my .csv file to a .xls file with csv_xs, so its fine! :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 3, "creation_date": 1475840711, "post_id": 39916351, "comment_id": 67116839, "body": "@ZesaRex don&#39;t do that. Always use the smallest possible scope for any variables. Especially loop iterators should always be lexical to their loop."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1475840891, "post_id": 39916351, "comment_id": 67116938, "body": "@ChankeyPathak sorry about that. :P"}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1475840892, "post_id": 39916351, "comment_id": 67116939, "body": "@simbabque okay, will try to do so in next projects!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 1, "creation_date": 1475843137, "post_id": 39916351, "comment_id": 67118377, "body": "@ZesaRex: Or you could edit your current project to use the good advice you have been given :-)"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1476123053, "post_id": 39916351, "comment_id": 67208256, "body": "Arrows between braces are <i>never</i> required.  Ever.  <code>$foo[0]-&gt;{bar}</code> is 100% equivalent to <code>$foo[0]{bar}</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1476123144, "post_id": 39916351, "comment_id": 67208303, "body": "@paul yes. But it&#39;s a matter of preference."}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1476123235, "post_id": 39916351, "comment_id": 67208359, "body": "Then your answer should reflect that.  Instead, the first two paragraphs of your answer are incorrectly telling the OP that he &quot;needs&quot; to use the arrow syntax.  These two paragraphs should be removed from the answer, as they are incorrect and irrelevant."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1476177482, "post_id": 39916351, "comment_id": 67227094, "body": "@PaulL the first paragraph said you <i>can</i> use one. The second paragraph indeed said you need it, because I&#39;m firmly on the side that puts arrows everywhere in that discussion. I don&#39;t think either way is wrong. I&#39;ve updated the answer to include an explanation of what is optional when. I chose not to remove those paragraphs but rather rewrite them with more explanations, because I believe for a beginner the arrows are helpful to understand deeply nested data structures."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1476177252, "last_edit_date": 1495540113, "creation_date": 1475840372, "answer_id": 39916351, "question_id": 39915826, "link": "https://stackoverflow.com/questions/39915826/how-to-print-an-element-of-an-array-that-is-used-as-a-value-of-hash/39916351#39916351", "title": "How to print an $element of an @array that is used as a value of %hash?", "body": "<p>Your hash <em>elements</em> contain array references. Even if there is only one value in the array ref, it's still an array ref. You <em>can</em> use the <code>-&gt;</code> operator for dereferencing.</p>\n\n<pre><code>$elementhash{$key}-&gt;[0];\n</code></pre>\n\n<p>Note that you first have a hash, not a hash reference, so there is no arrow before the <code>{$key}</code> part. Inside there is an array reference. In fact, you don't strictly need to put a <code>-&gt;</code> in front of the <code>[0]</code> because Perl knows that nested data structures are built from references. It's a matter of preference that's <a href=\"https://stackoverflow.com/q/2475042/1331451\">been well discussed</a>. I personally like the arrow, but it's not needed here<sup>1</sup>.</p>\n\n<p>What you tried to do with <code>@{$elementhash{$key}[0]}</code> was take the first element inside the <code>$key</code>, e. g. the <code>7</code> for key <code>1000</code>, and deref that as an array. Of course you can't do that, because it's a number, and not an array reference.</p>\n\n<p>Because not all of the arrays in your data structure have two values, you should check if the second value exists. You can do that with the <code>//</code> defined-or operator. It allows <code>0</code> or other un-true values, but not <code>undef</code>.</p>\n\n<p>Finally, you were missing a <code>my</code> for <code>$valueofkey</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %elementhash = (\n    '1000' =&gt; [7],\n    '2000' =&gt; [5],\n    '3000' =&gt; [ 56, 12 ]\n);\n\nprint \"ID;Amount;Amount OK;Amount KO\\n\";\nforeach my $key ( keys %elementhash ) {\n    my $sum = 0;\n    foreach my $valueofkey ( @{ $elementhash{$key} } ) {\n        $sum += $valueofkey;\n    }\n\n    my $amountok = $elementhash{$key}-&gt;[0];\n    my $amountko = $elementhash{$key}-&gt;[1] // 0;\n\n    print $key. \";\" . $sum . \";\" . $amountok . \";\" . $amountko . \"\\n\";\n}\n</code></pre>\n\n<hr>\n\n<p>Note that you can rewrite the last line to use <code>join</code>.</p>\n\n<pre><code>print join( ';', $key, $sum, $amountok, $amountko ),  \"\\n\";\n</code></pre>\n\n<p>If your Perl is at least version 5.10, you can also turn on <code>use feature 'say'</code> so you don't need to print the <code>\"\\n\"</code>.</p>\n\n<pre><code>say join ';', $key, $sum, $amountok, $amountko;\n</code></pre>\n\n<p>If you have more complicated CSV, consider using <a href=\"http://p3rl.org/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a> or <a href=\"http://p3rl.org/Text::CSV_XS\" rel=\"nofollow noreferrer\">Text::CSV_XS</a> instead.</p>\n\n<hr>\n\n<p><sup>1) You <strong>do need one arrow</strong> if the variable that you are starting from is a reference. But you <em>can</em> omit the following ones.</p>\n\n<pre><code>my $foo = { bar =&gt; [1, 2, 3] };\nsay $foo-&gt;{bar}[2]; # works\nsay $foo{bar}[2]; # complains that %foo needs explicit package name\n</code></pre>\n\n<p></sup></p>\n"}], "owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 39916351, "answer_count": 1, "score": 2, "last_activity_date": 1476177252, "creation_date": 1475838695, "last_edit_date": 1475842717, "question_id": 39915826, "link": "https://stackoverflow.com/questions/39915826/how-to-print-an-element-of-an-array-that-is-used-as-a-value-of-hash", "title": "How to print an $element of an @array that is used as a value of %hash?", "body": "<p>I think this should be easy to solve for experienced people, for me though I was trying and searched on google about this but couldnt find anything that fits my situation. I just want to let $amountok and $amountko give out the values they have at index 0 and 1 but it is not working like this (see # marks).</p>\n\n<pre><code>print ERGEBNIS \"ID;Amount;Amount OK;Amount KO\\n\";\nforeach my $key (keys %elementhash){\n  my $sum = 0;              \n  foreach $valueofkey(@{$elementhash{$key}}){                   \n     $sum += $valueofkey;           \n  }\n\n  #my $amountok= @{$elementhash{$key}[0]};\n  #my $amountko= @{$elementhash{$key}[1]};\n\n  print ERGEBNIS $key.\";\".$sum.\";\".$amountok.\";\".$amountko.\"\\n\";\n\n}\n</code></pre>\n\n<p>this would give me out the error: \"Cant use string \"7\" as an array ref.\", this must be possible somehow but i just don't know how! thank you guys</p>\n\n<p>this is the Dumper output of %elementhash:</p>\n\n<pre><code> $VAR1 = {                '1000' =&gt; [7],               \n                          '2000' =&gt; [5],                  \n                          '3000' =&gt; [56, 12]              \n         };                     \n</code></pre>\n"}, {"tags": ["perl", "xml-parsing"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1475831582, "post_id": 39913587, "comment_id": 67111389, "body": "Which parser are you using?"}, {"owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475831904, "post_id": 39913587, "comment_id": 67111581, "body": "Hi, i am using XML::LibXML to parse the xml file."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1475831945, "post_id": 39913587, "comment_id": 67111602, "body": "And what output are you seeking specifically? And what do you have already, code wise?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475831946, "post_id": 39913587, "comment_id": 67111604, "body": "Please include the code you&#39;ve already written and explain where you are struggling. You can <a href=\"https://stackoverflow.com/posts/39913587/edit\">edit</a> your question with the <a href=\"https://stackoverflow.com/posts/39913587/edit\">edit</a> link. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for more information on how to use the site."}, {"owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "edited": false, "score": 0, "creation_date": 1475832182, "post_id": 39913587, "comment_id": 67111761, "body": "my $parser = XML::LibXML-&gt;new; $doc = $parser-&gt;parse_file(&quot;/cctest/categories.xml&quot;); my @nodes = $doc-&gt;findnodes(&#39;/categories/category&#39;); foreach my $cat(@nodes){"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1475832289, "post_id": 39913587, "comment_id": 67111822, "body": "<a href=\"https://stackoverflow.com/posts/39913587/edit\">edit</a> that into your question. This is not a forum - comments are for clarifications/queries not additional content relevant to your question."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "edited": false, "score": 0, "creation_date": 1476337133, "post_id": 39913784, "comment_id": 67303702, "body": "Hi , i Tried using XML::Twig and it worked. Thanks for all your help :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1475832091, "creation_date": 1475832091, "answer_id": 39913784, "question_id": 39913587, "link": "https://stackoverflow.com/questions/39913587/how-to-get-the-text-contents-of-an-xml-child-element-based-on-an-attribute-of-it/39913784#39913784", "title": "How to get the text contents of an XML child element based on an attribute of its parent", "body": "<p>You haven't shown what you've tried so far, or what your desired output is so I've made a guess at what you're looking for. </p>\n\n<p>With <code>XML::Twig</code> you could do something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; parse ( \\*DATA );\n\nforeach my $project ( $twig -&gt; findnodes ( '//project' ) ) { \n    print join \",\",  (map { $project -&gt; parent -&gt; att($_) } qw ( id name )), $project -&gt; text,\"\\n\"; \n}\n\n__DATA__\n&lt;categories&gt;\n&lt;category id=\"Id001\" name=\"Abcd\"&gt;\n   &lt;project&gt; ID_1234&lt;/project&gt;\n   &lt;project&gt; ID_5678&lt;/project&gt;\n&lt;/category&gt;\n&lt;category id=\"Id002\" name=\"efgh\"&gt;\n   &lt;project&gt; ID_6756&lt;/project&gt;\n   &lt;project&gt; ID_4356&lt;/project&gt;\n&lt;/category&gt;\n&lt;/categories&gt;\n</code></pre>\n\n<p>Which produces:</p>\n\n<pre><code>Id001,Abcd, ID_1234,\nId001,Abcd, ID_5678,\nId002,efgh, ID_6756,\nId002,efgh, ID_4356,\n</code></pre>\n\n<p>It does this by using <code>findnodes</code> to locate any element 'project'. </p>\n\n<p>Then extract the 'id' and 'name' attributes from the parent (the category), and print that - along with the text in this particular element. </p>\n\n<p><code>xpath</code> is a powerful tool for selecting data from <code>XML</code>, and with a more focussed question, we can give more specific answers. </p>\n\n<p>So if you were seeking all the projects 'beneath' category \"Abcd\" you could:</p>\n\n<pre><code>foreach my $project ( $twig -&gt; findnodes ( './category[@name=\"Abcd\"]/project' ) ) { \n    print $project -&gt; text,\"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1475833028, "post_id": 39913955, "comment_id": 67112230, "body": "You <i>could</i> but <a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">xml simple is &quot;discouraged&quot;</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1475833958, "post_id": 39913955, "comment_id": 67112783, "body": "Downvoted for a) recommending XML::Simple and b) using indirect object notation (<code>new XML::Simple</code>)."}], "tags": [], "owner": {"reputation": 1217, "user_id": 6318325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ATZyf.jpg?s=128&g=1", "display_name": "Ngoan Tran", "link": "https://stackoverflow.com/users/6318325/ngoan-tran"}, "is_accepted": false, "score": -1, "last_activity_date": 1475835423, "last_edit_date": 1475835423, "creation_date": 1475832601, "answer_id": 39913955, "question_id": 39913587, "link": "https://stackoverflow.com/questions/39913587/how-to-get-the-text-contents-of-an-xml-child-element-based-on-an-attribute-of-it/39913955#39913955", "title": "How to get the text contents of an XML child element based on an attribute of its parent", "body": "<p>You can try with <code>XML::Simple</code></p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Simple;\nuse Data::Dumper\n\nmy $XML_file  = 'your XML file';\nmy $XML_data;\n#Get data from your XML file\nopen(my $IN, '&lt;:encoding(UTF-8)', $XML_file) or die \"cannot open file $XML_file\";\n{\n   local $/;\n   $XML_data = &lt;$IN&gt;;\n}\nclose($IN);\n#Store XML data as hash reference\nmy $xmlSimple = XML::Simple-&gt;new(KeepRoot   =&gt; 1);\nmy $hash_ref = $xmlSimple-&gt;XMLin($XML_data);\nprint Dumper $hash_ref;\n</code></pre>\n\n<p>The hash reference will be as below:</p>\n\n<pre><code>$VAR1 = {\n          'categories' =&gt; {\n                          'category' =&gt; {\n                                        'efgh' =&gt; {\n                                                  'id' =&gt; 'Id002',\n                                                  'project' =&gt; [\n                                                               ' ID_6756',\n                                                               ' ID_4356'\n                                                             ]\n                                                },\n                                        'Abcd' =&gt; {\n                                                  'id' =&gt; 'Id001',\n                                                  'project' =&gt; [\n                                                               ' ID_1234',\n                                                               ' ID_5678'\n                                                             ]\n                                                }\n                                      }\n                        }\n        };\n</code></pre>\n\n<p>Now to get data which you want:</p>\n\n<pre><code>foreach(@{$hash_ref-&gt;{'categories'}-&gt;{'category'}-&gt;{'Abcd'}-&gt;{'project'}}){\n  print \"$_\\n\";\n}\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>ID_1234\nID_5678\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "edited": false, "score": 0, "creation_date": 1476337259, "post_id": 39914363, "comment_id": 67303747, "body": "@ Dave Cross: Thanks a lot. Even this provided code helped  me to meet my requirement."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1475833888, "creation_date": 1475833888, "answer_id": 39914363, "question_id": 39913587, "link": "https://stackoverflow.com/questions/39913587/how-to-get-the-text-contents-of-an-xml-child-element-based-on-an-attribute-of-it/39914363#39914363", "title": "How to get the text contents of an XML child element based on an attribute of its parent", "body": "<p>This uses XML::LibXML, which is the library you're already using.</p>\n\n<p>Your <code>$cat</code> variable contains an XML element object which you can process with the same <code>findnodes()</code> and <code>findvalue()</code> methods that you used on the top-level <code>$doc</code> object.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n# We use modern Perl here (specifically say())\nuse 5.010;\n\nuse XML::LibXML;\n\nmy $doc = XML::LibXML-&gt;new-&gt;parse_file('categories.xml');\n\nforeach my $cat ($doc-&gt;findnodes('//category')) {\n  say $cat-&gt;findvalue('@name');\n  foreach my $proj ($cat-&gt;findnodes('project')) {\n    say $proj-&gt;findvalue('.');\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "accepted_answer_id": 39914363, "answer_count": 3, "score": 0, "last_activity_date": 1475835423, "creation_date": 1475831482, "last_edit_date": 1475835170, "question_id": 39913587, "link": "https://stackoverflow.com/questions/39913587/how-to-get-the-text-contents-of-an-xml-child-element-based-on-an-attribute-of-it", "title": "How to get the text contents of an XML child element based on an attribute of its parent", "body": "<p>This is my XML data</p>\n\n<pre><code>&lt;categories&gt;\n    &lt;category id=\"Id001\" name=\"Abcd\"&gt;\n        &lt;project&gt; ID_1234&lt;/project&gt;\n        &lt;project&gt; ID_5678&lt;/project&gt;\n    &lt;/category&gt;\n    &lt;category id=\"Id002\" name=\"efgh\"&gt;\n        &lt;project&gt; ID_6756&lt;/project&gt;\n        &lt;project&gt; ID_4356&lt;/project&gt;\n    &lt;/category&gt;\n&lt;/categories&gt;\n</code></pre>\n\n<p>I need to get the text contents of each <code>&lt;project&gt;</code> element based on the <code>name</code> attribute of the containing <code>&lt;category&gt;</code> element.</p>\n\n<p>I am using Perl with the <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a> module.</p>\n\n<p>For example, given category name <code>Abcd</code> i should get the list <code>ID_1234</code>,  <code>ID_5678</code>.</p>\n\n<p>Here is my code</p>\n\n<pre><code>my $parser = XML::LibXML-&gt;new;\n\n$doc = $parser-&gt;parse_file( \"/cctest/categories.xml\" );\n\nmy @nodes = $doc-&gt;findnodes( '/categories/category' );\n\nforeach my $cat ( @nodes ) {\n    my @catn = $cat-&gt;findvalue('@name');\n} \n</code></pre>\n\n<p>This gives me the category names in array <code>@catn</code>. But how can I get the text values of each project?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1475817861, "post_id": 39909898, "comment_id": 67104638, "body": "I think you need to a loop?"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 3, "creation_date": 1475820085, "post_id": 39909999, "comment_id": 67105424, "body": "Or just <code>@list = map { s&#47;^Warning: &#47;&#47; } grep &#47;\\bWarning\\b&#47; &lt;FILE&gt;</code>"}, {"owner": {"reputation": 4324, "user_id": 109483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1605dbda0d18f0df226b6c1b379f9a4?s=128&d=identicon&r=PG", "display_name": "Ashley", "link": "https://stackoverflow.com/users/109483/ashley"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1475858336, "post_id": 39909999, "comment_id": 67127794, "body": "@tripleee, I think you need a comma after the <code>grep</code> arg and an <code>r</code> on that <code>s&#47;&#47;&#47;r</code> or it&#39;ll return the count of substitutions, not the <code>$_</code> string."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1475819188, "last_edit_date": 1475819188, "creation_date": 1475817843, "answer_id": 39909999, "question_id": 39909898, "link": "https://stackoverflow.com/questions/39909898/how-to-ignore-first-word-of-a-line-while-grepping-from-a-file-in-perl/39909999#39909999", "title": "How to ignore first word of a line while grepping from a file in perl?", "body": "<p>This is because you are doing the replacement only for <code>$count=0</code>. Therefore only first index is getting modified.</p>\n\n<pre><code>$list[$count] =~ s/^\\S+\\s*//g;\n</code></pre>\n\n<p>You have not used any loop so <code>count</code> does not make sense.</p>\n\n<p><strong>Solution:</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nsub get_info{    \n    open(FILE,\"file.txt\") or die \"Could not open file\";\n    my @list = grep /\\bWarning\\b/, &lt;FILE&gt;;\n    my $count = 0;\n    foreach (@list) {\n        $list[$count] =~ s/^\\S+\\s*//g;\n        $count++;\n    }\n    print @list;\n    #do something;\n}\n\nget_info();\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>New layer 256 is added\nLayer deleted\nNew layer 301 is added\n</code></pre>\n\n<p><strong>Improvements:</strong> Used 3 args open, removed grep and search replace, added while loop to read file line by line</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @list;\nsub get_info{\n    open(my $fh, \"&lt;\", \"file.txt\") or die \"Could not open file: $!\";\n    while(&lt;$fh&gt;){\n        chomp;\n        if (/^Warning:(.*)/){\n            push @list, $1;\n        }\n    }\n    print @list;\n    #do something;\n}\n\nget_info();\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6821170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf3bf005060ccd10f44b342e684036de?s=128&d=identicon&r=PG&f=1", "display_name": "Namrata Purvimath", "link": "https://stackoverflow.com/users/6821170/namrata-purvimath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1475819188, "creation_date": 1475817442, "question_id": 39909898, "link": "https://stackoverflow.com/questions/39909898/how-to-ignore-first-word-of-a-line-while-grepping-from-a-file-in-perl", "title": "How to ignore first word of a line while grepping from a file in perl?", "body": "<pre><code>sub get_info () {\n\n    open(FILE,\"file.txt\") or die \"Could not open file\";\n    my @list = grep /\\bWarning\\b/, &lt;FILE&gt;;\n    $count = 0;\n    chomp @list;\n    $list[$count] =~ s/^\\S+\\s*//;\n    #do something; \n    $count++;\n}\n\nfile.txt - \nWarning: New layer 256 is added\nWarning: Layer deleted\nWarning: New layer 301 is added\n</code></pre>\n\n<p>I want to ignore the 'Warning' word from every line.</p>\n\n<p>But it is hiding the word 'Warning' only from the first sentence.</p>\n\n<p>Am I incrementing $count properly?   </p>\n"}, {"tags": ["mysql", "perl", "perl-module", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "edited": false, "score": 1, "creation_date": 1475813745, "post_id": 39909260, "comment_id": 67103503, "body": "That worked and I&#39;ll keep this concept in mind! Thanks a lot!"}], "tags": [], "owner": {"reputation": 458675, "user_id": 20860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iavmP.jpg?s=128&g=1", "display_name": "Bill Karwin", "link": "https://stackoverflow.com/users/20860/bill-karwin"}, "is_accepted": true, "score": 2, "last_activity_date": 1475813810, "last_edit_date": 1475813810, "creation_date": 1475813487, "answer_id": 39909260, "question_id": 39909220, "link": "https://stackoverflow.com/questions/39909220/update-query-is-not-working-in-dbi/39909260#39909260", "title": "UPDATE query is not working in DBI", "body": "<p>Perl does not expand variables inside single-quoted strings.</p>\n\n<p><a href=\"http://perldoc.perl.org/perldata.html#Scalar-value-constructors\" rel=\"nofollow\">http://perldoc.perl.org/perldata.html#Scalar-value-constructors</a> says in part:</p>\n\n<blockquote>\n  <p>String literals are usually delimited by either single or double quotes. They work much like quotes in the standard Unix shells: double-quoted string literals are subject to backslash and variable substitution; single-quoted strings are not (except for \\' and \\ ).</p>\n</blockquote>\n\n<p>Also you should use single-quotes for string delimiters inside your SQL.</p>\n\n<p>So this:</p>\n\n<pre><code>$dbh-&gt;do('UPDATE Scheduler SET RequestStatus=\"CANCELED\" WHERE ID=\"$jobID\";')\n</code></pre>\n\n<p>Should be this:</p>\n\n<pre><code>$dbh-&gt;do(\"UPDATE Scheduler SET RequestStatus='CANCELED' WHERE ID='$jobID'\");\n</code></pre>\n\n<p>If you want to really use best practices, use bind parameters in your SQL instead of putting variables inside strings. Then you don't need to worry about what kind of quotes you use. Even if the parameter is a string type, you don't put the parameter placeholder in quotes in SQL.</p>\n\n<p>Example:</p>\n\n<pre><code>$dbh-&gt;do(\"UPDATE Scheduler SET RequestStatus='CANCELED' WHERE ID=?\", undef, $jobID);\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 39909260, "answer_count": 1, "score": -1, "last_activity_date": 1475817291, "creation_date": 1475813246, "last_edit_date": 1475817291, "question_id": 39909220, "link": "https://stackoverflow.com/questions/39909220/update-query-is-not-working-in-dbi", "title": "UPDATE query is not working in DBI", "body": "<pre><code>use DBI;\n\nmy $jobID = 1;\n\n$dbh = DBI-&gt;connect(\"dbi:mysql:$database:$db_server\", $user, $password) or die \"Connection ERROR!\";\n$dbh-&gt;do('USE MultiRunScheduler');\n$dbh-&gt;do('UPDATE Scheduler SET RequestStatus=\"CANCELED\" WHERE ID=\"$jobID\";')\nprint \"Scheduled Jobs deleted\";\n</code></pre>\n\n<p>I'm trying to change the <code>RequestStatus</code> field of a database based on <code>ID</code> but it's not working through the <code>UPDATE</code> statement. It prints out <code>Scheduled Jobs deleted</code> and the entire program runs successfully but it doesn't update the database <code>RequestStatus</code> field. If I remove <code>ID=\"$jobID\"</code> and change it to <code>ID=1</code> then the <code>RequestStatus</code> entry in the database changes. </p>\n\n<p>Any idea how to get around this?</p>\n"}, {"tags": ["perl", "unix"], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 5614753, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eccd1802097eddad12e2b12b61470819?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld1234", "link": "https://stackoverflow.com/users/5614753/helloworld1234"}, "edited": false, "score": 0, "creation_date": 1475808286, "post_id": 39908423, "comment_id": 67102179, "body": "Thanks for helping, it&#39;s work, may I ask what is the use of glob and chomp?"}, {"owner": {"reputation": 563, "user_id": 574621, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e726f39f8cc4da742d8c9b5a690c0a05?s=128&d=identicon&r=PG", "display_name": "MERM", "link": "https://stackoverflow.com/users/574621/merm"}, "edited": false, "score": 0, "creation_date": 1475813719, "post_id": 39908423, "comment_id": 67103497, "body": "glob slurps up files (makes a list of files) from the pattern with * being a wildcard. chomp removes the newline from the end of the line (it there is one there, ow do nothing)"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1475836158, "post_id": 39908423, "comment_id": 67114195, "body": "I have used chomp to handle/print the same way lines ending with &quot;\\n&quot; and last lines which <b>may</b> be without &quot;\\n&quot;."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 3, "last_activity_date": 1475836394, "last_edit_date": 1475836394, "creation_date": 1475807185, "answer_id": 39908423, "question_id": 39908228, "link": "https://stackoverflow.com/questions/39908228/perl-regular-expression-loop-through-all-the-directory-and-get-specific-file/39908423#39908423", "title": "Perl regular expression loop through all the directory and get specific file", "body": "<pre><code># Collect names of all test files\nmy @TestFiles = glob('/nfs/cs/test_case/y2016/*/*/.test_result');\n# Check test files for \"fail\"\nforeach my $TestFile ( @TestFiles ) {\n  open(my $T,'&lt;',$TestFile) or die \"Can't open &lt; $TestFile: $!\";\n  while(&lt;$T&gt;){\n    if( /fail/ ) {\n       chomp;\n       print $TestFile,\":\",$_,\"\\n\";\n    }\n  }\n  close($T);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6921229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1e8d0a5288d7ebcf029fd228fa3949?s=128&d=identicon&r=PG&f=1", "display_name": "Magesh04", "link": "https://stackoverflow.com/users/6921229/magesh04"}, "is_accepted": false, "score": 0, "last_activity_date": 1475831033, "creation_date": 1475831033, "answer_id": 39913453, "question_id": 39908228, "link": "https://stackoverflow.com/questions/39908228/perl-regular-expression-loop-through-all-the-directory-and-get-specific-file/39913453#39913453", "title": "Perl regular expression loop through all the directory and get specific file", "body": "<p>You can also execute the same linux command within Perl using back tick (`) operator.</p>\n\n<p>@result=`grep -ri \"fail\" */*/.test_result`;</p>\n\n<p>print @result;</p>\n"}], "owner": {"reputation": 277, "user_id": 5614753, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eccd1802097eddad12e2b12b61470819?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld1234", "link": "https://stackoverflow.com/users/5614753/helloworld1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 39908423, "answer_count": 2, "score": 1, "last_activity_date": 1475836394, "creation_date": 1475805663, "question_id": 39908228, "link": "https://stackoverflow.com/questions/39908228/perl-regular-expression-loop-through-all-the-directory-and-get-specific-file", "title": "Perl regular expression loop through all the directory and get specific file", "body": "<p>I would like to translate the unix regular expression into Perl language to get some specific file associated with some condition.</p>\n\n<p>Suppose now I have Perl script in a directory <code>/nfs/cs/test_case/y2016</code> call totalResult.pl, this directory also contains lot of directories as well such as testWeek1, testWeek2, testWeek3...etc. Each directory contain sub-directory such as testCase1, testCase2, testCase3...etc. and Each testCase directory contains a file call .test_result, the contain record the result either success or fail.</p>\n\n<p>So I can get the file information using unix command, for example:</p>\n\n<pre><code>wc /nfs/cs/test_case/y2016/testWeek1/testCase1/.test_result\n</code></pre>\n\n<p>If would like to get the test_results for each directory and sub-directory which is fail, I can do it from the current path <code>/nfs/cs/test_case/y2016</code> in unix like:</p>\n\n<pre><code>grep -ri \"fail\" */*/.test_result\n</code></pre>\n\n<p>It will give me the output:</p>\n\n<pre><code>/nfs/cs/test_case/y2016/testWeek1/testCase1/.test_result:fail\n/nfs/cs/test_case/y2016/testWeek3/testCase45/.test_result:fail\n/nfs/cs/test_case/y2016/testWeek4/testCase12/.test_result:fail\n.\n.\n...etc\n</code></pre>\n\n<p>How can I achieve it in writing a Perl script just run the command <code>perl testCase.pl</code> then can get the same output? I'm new in unix and Perl, anyone can help?</p>\n"}, {"tags": ["mysql", "perl", "character-encoding", "escaping", "ascii"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1475812719, "post_id": 39906356, "comment_id": 67103274, "body": "You&#39;ll find a lot of related info in <a href=\"http://stackoverflow.com/questions/881194/how-do-i-escape-special-characters-in-mysql\">this post</a>.  To print NUL you can use <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow noreferrer\">pack</a>. See tutorial <a href=\"http://perldoc.perl.org/perlpacktut.html\" rel=\"nofollow noreferrer\">perlpacktut</a>.  Finally, you can always double backslashes with a regex for the whole string but that may not cut it."}], "answers": [{"tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": false, "score": 1, "last_activity_date": 1475845565, "creation_date": 1475845565, "answer_id": 39918042, "question_id": 39906356, "link": "https://stackoverflow.com/questions/39906356/how-to-get-select-to-output-escaped-0-character/39918042#39918042", "title": "How to get SELECT to output escaped &quot;\\0&quot; character", "body": "<p>The <a href=\"http://search.cpan.org/dist/DBI/DBI.pm#quote\" rel=\"nofollow\">quote method</a> of the database handle should be able to quote any special characters:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"select '\\0'\");\n\n$sth-&gt;execute;\nwhile (my $row = $sth-&gt;fetch) {\n        my ($col) = @$row;\n        print \"[$col] is quoted as \", $dbh-&gt;quote($col), \"\\n\";\n}\n</code></pre>\n\n<p>On my version of MySQL this prints:</p>\n\n<pre><code>[] is quoted as '\\0'\n</code></pre>\n\n<p>If I pipe that through <code>hexdump -C</code> we get</p>\n\n<pre><code>00000000  5b 00 5d 20 69 73 20 71  75 6f 74 65 64 20 61 73  |[.] is quoted as|\n00000010  20 27 5c 30 27 0a                                 | '\\0'.|\n00000016\n</code></pre>\n"}], "owner": {"reputation": 2595, "user_id": 1661745, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4ecd96e73e6cbe7010ce8dc5922cf89b?s=128&d=identicon&r=PG&f=1", "display_name": "onepiece", "link": "https://stackoverflow.com/users/1661745/onepiece"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1475845565, "creation_date": 1475791630, "last_edit_date": 1475808528, "question_id": 39906356, "link": "https://stackoverflow.com/questions/39906356/how-to-get-select-to-output-escaped-0-character", "title": "How to get SELECT to output escaped &quot;\\0&quot; character", "body": "<p>When I run query #1:</p>\n\n<pre><code>SELECT * FROM $TABLE INTO OUTFILE $FILE CHARACTER SET utf8 FIELDS ESCAPED BY '\\\\\\\\' TERMINATED BY '|';\n</code></pre>\n\n<p>There is this one field value that is outputted as:</p>\n\n<pre><code>blah\\0\n</code></pre>\n\n<p>I am trying to get identical output without using <code>INTO OUTFILE</code>.</p>\n\n<p>query #2 with Perl code:</p>\n\n<pre><code>$query = $db-&gt;prepare(\"SELECT * FROM $TABLE\");\n$query-&gt;execute;\nopen(FILE_OUT, \"&gt;$FILE\");\n</code></pre>\n\n<p>However, the same column above is outputted as</p>\n\n<pre><code>blah\n</code></pre>\n\n<p>So the <code>\\0</code> character (ASCII NUL) is outputted differently.  How do I modify query #2 to output <code>blah\\0</code>?  </p>\n\n<p>The modification could be in either MySQL query or Perl.  The column's Collation is utf8_general_ci.  I've tried using <code>CONVERT($column using utf8)</code> but that still displayed <code>blah</code>, and I'm not sure how I would apply it to every column of every table when outputting.</p>\n\n<p>Update:</p>\n\n<p>This Perl code worked in escaping the NUL character.  </p>\n\n<pre><code>$row =~ s/\\0/\\\\0/g;\n</code></pre>\n\n<p>But there are many other MySQL special characters, is there a way to escape them all at once instead of handling them one by one?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 6836881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c145c9cbd56933e6158bc0200bd144f8?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/6836881/steve"}, "edited": false, "score": 1, "creation_date": 1475791452, "post_id": 39905888, "comment_id": 67098034, "body": "mob - Excellent! Seems much better, and thank you very much."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1475789225, "creation_date": 1475789225, "answer_id": 39905888, "question_id": 39905797, "link": "https://stackoverflow.com/questions/39905797/perl-best-way-to-have-two-conditions-of-linux-shell-commands-in-the-until-loo/39905888#39905888", "title": "Perl: Best way to have two conditions (of Linux shell commands) in the until loop", "body": "<p>Perl has its own <code>grep</code> function and it is usually better to use it than the shell command</p>\n\n<pre><code>until (grep(/user1/,`who`) &amp;&amp; grep /user2/,`last -5`) {\n    ...\n}\n</code></pre>\n\n<p>but you can also pattern match against the raw output of a command, so <code>grep</code> might be superfluous</p>\n\n<pre><code>until (`who` =~ /user1/ &amp;&amp; `last -5` =~ /user2/) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 6836881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c145c9cbd56933e6158bc0200bd144f8?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/6836881/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 39905888, "answer_count": 1, "score": 1, "last_activity_date": 1475789225, "creation_date": 1475788813, "question_id": 39905797, "link": "https://stackoverflow.com/questions/39905797/perl-best-way-to-have-two-conditions-of-linux-shell-commands-in-the-until-loo", "title": "Perl: Best way to have two conditions (of Linux shell commands) in the until loop", "body": "<p>I'm trying to find the best way to include 2 conditions of running Linux shell commands inside the while or until loop.</p>\n\n<p>Pretty much, I can think of either of the following ways:</p>\n\n<pre><code>until ( (`who |grep user1`) &amp;&amp; (`last -5 |grep user2`) ) {\n        print \"Waiting...\\n\";\n        sleep(1);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>open(my $command1, \"who |\"); open(my $command2, \"last -5 |\");\nmy $status1=1; my $status2=1;\nuntil ( ($status1 == 0) &amp;&amp; ($status2 == 0) ) {\n        while(&lt;$command1&gt;) { $status1=0 if /user1/; }\n        while(&lt;$command2&gt;) { $status2=0 if /user2/; }\n        print \"*** Waiting....... \\n\";\n        sleep(1);\n        close($command2); close($command1);\n}\n</code></pre>\n\n<p>I guess there might be better Perl ways to do the above.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["perl", "unicode", "argv"], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1475781652, "post_id": 39902863, "comment_id": 67093517, "body": "Do you have an opinion regarding <code>Encode::Locale</code>?  It seems to replace a handful of the lines of code you&#39;ve got there."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1475782164, "post_id": 39902863, "comment_id": 67093794, "body": "@tjd, Looks like you could indeed use that. Feel free to post an answer, and I&#39;ll upvote and possibly even delete mine!"}, {"owner": {"reputation": 123, "user_id": 6299344, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2ff7f527cdc05ba68a0d3277854f524?s=128&d=identicon&r=PG&f=1", "display_name": "Banish", "link": "https://stackoverflow.com/users/6299344/banish"}, "edited": false, "score": 0, "creation_date": 1475919471, "post_id": 39902863, "comment_id": 67144226, "body": "It doesn&#39;t work. I get only  Fetch simple &#39;o&#39; &#252; Obviously it parses automatically &quot;&#246;&quot; to &quot;o&quot;. This is perl 5, version 24, subversion 0 (v5.24.0) built for MSWin32-x64-multi-thread."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1475949389, "post_id": 39902863, "comment_id": 67152989, "body": "This has been tested. Can you provide the values of the encoding variables the program populates?"}, {"owner": {"reputation": 123, "user_id": 6299344, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2ff7f527cdc05ba68a0d3277854f524?s=128&d=identicon&r=PG&f=1", "display_name": "Banish", "link": "https://stackoverflow.com/users/6299344/banish"}, "edited": false, "score": 0, "creation_date": 1476000236, "post_id": 39902863, "comment_id": 67163651, "body": "@ikegami I can change the encoding but the sys encoding remains the same.  Encoding in: cp866 Encoding out: cp866 Encoding sys: cp1251  or   Encoding in: cp65001 Encoding out: cp65001 Encoding sys: cp1251"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476061857, "post_id": 39902863, "comment_id": 67180526, "body": "Each system call that exchanges text has an &quot;A&quot; (&quot;ANSI&quot;) and a &quot;W&quot; (&quot;Wide&quot;) variant. Perl is using the &quot;A&quot; variant to get the command-line args. I believe the &quot;ANSI&quot; encoding is set by your system language. In your case, it&#39;s cp1251, which supports cyrillic letters where cp1252 supports accented latin letters. You could &quot;simply&quot; call the &quot;W&quot; variant of the call yourself to get the args encoded using UTF-16le. I recommend a new question for that. (You need to figure out the name of the system call, then you would use Win32::API to call it ...unless someone&#39;s already written a module to do so.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1475777256, "creation_date": 1475777256, "answer_id": 39902863, "question_id": 39902414, "link": "https://stackoverflow.com/questions/39902414/perl-unicode-support-from-console-argv-windows/39902863#39902863", "title": "Perl unicode support from console (@ARGV) /Windows/", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $encoding_in;\nmy $encoding_out;\nmy $encoding_sys;\nBEGIN {\n    require Win32;\n\n    $encoding_in  = 'cp' . Win32::GetConsoleCP();\n    $encoding_out = 'cp' . Win32::GetConsoleOutputCP();\n    $encoding_sys = 'cp' . Win32::GetACP();\n\n    binmode(STDIN,  \":encoding($encoding_in)\");\n    binmode(STDOUT, \":encoding($encoding_out)\");\n    binmode(STDERR, \":encoding($encoding_out)\");\n}\n\nuse Encode qw( decode );\n\n{\n    my ($name, $number) = map { decode($encoding_sys, $_) } @ARGV;\n\n    if (not defined $name) {\n        die \"Need name\\n\";\n    }\n\n    if (defined $number) {\n        print \"Save '$name' and '$number'\\n\";\n        # save name/number in database\n        exit;\n    }\n\n    if ($name eq '\u00f6') {\n        print \"Fetch umlaut 'oe'\\n\";\n    } elsif ($name eq 'o') {\n        print \"Fetch simple 'o'\\n\";\n    } else {\n        print \"Fetch other '$name'\\n\";\n    }\n\n    print \"\u00fc\";\n}\n</code></pre>\n\n<p>Also, you should add <code>use feature qw( unicode_strings );</code> and/or encode your file using UTF-8 and add <code>use utf8;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 6299344, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2ff7f527cdc05ba68a0d3277854f524?s=128&d=identicon&r=PG&f=1", "display_name": "Banish", "link": "https://stackoverflow.com/users/6299344/banish"}, "edited": false, "score": 0, "creation_date": 1475919734, "post_id": 39904532, "comment_id": 67144293, "body": "Undefined subroutine &amp;main::decode_argv called at vidCmpr2.pl line 18."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 123, "user_id": 6299344, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2ff7f527cdc05ba68a0d3277854f524?s=128&d=identicon&r=PG&f=1", "display_name": "Banish", "link": "https://stackoverflow.com/users/6299344/banish"}, "edited": false, "score": 0, "creation_date": 1476105436, "post_id": 39904532, "comment_id": 67197925, "body": "@Banish You&#39;re right.  I forgot to import that symbol in the use line.  Thanks for the reminder."}, {"owner": {"reputation": 123, "user_id": 6299344, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2ff7f527cdc05ba68a0d3277854f524?s=128&d=identicon&r=PG&f=1", "display_name": "Banish", "link": "https://stackoverflow.com/users/6299344/banish"}, "edited": false, "score": 0, "creation_date": 1476130813, "post_id": 39904532, "comment_id": 67212117, "body": "Yes, I had to import the package. Now it compiles successfully but that&#39;s all. I&#39;ve tested it changing the console code page (chcp 1252) or even with perl6. It parses &quot;&#246;&quot; as simple &quot;o&quot;. Python and java parse it without problems."}, {"owner": {"reputation": 123, "user_id": 6299344, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2ff7f527cdc05ba68a0d3277854f524?s=128&d=identicon&r=PG&f=1", "display_name": "Banish", "link": "https://stackoverflow.com/users/6299344/banish"}, "edited": false, "score": 0, "creation_date": 1476136135, "post_id": 39904532, "comment_id": 67214341, "body": "PS: Sorry. I&#39;m wrong. It works only on python. It doesn&#39;t work on java."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 123, "user_id": 6299344, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2ff7f527cdc05ba68a0d3277854f524?s=128&d=identicon&r=PG&f=1", "display_name": "Banish", "link": "https://stackoverflow.com/users/6299344/banish"}, "edited": false, "score": 0, "creation_date": 1476154765, "post_id": 39904532, "comment_id": 67219088, "body": "@Banish  The last step is to make sure the strings you are comparing are in the same (Normalized) form."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 3, "last_activity_date": 1476105383, "last_edit_date": 1476105383, "creation_date": 1475783381, "answer_id": 39904532, "question_id": 39902414, "link": "https://stackoverflow.com/questions/39902414/perl-unicode-support-from-console-argv-windows/39904532#39904532", "title": "Perl unicode support from console (@ARGV) /Windows/", "body": "<p>In addition to ikagami's fine answer, I'm a fan of the <code>Encode::Locale</code> module that automatically creates aliases for the current console's code pages.  It works well with Win32, OS X &amp; other flavors of *nix.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n# These two lines make life better when you leave the world of ASCII\n# Just remember to *save* the file as UTF8....\nuse utf8;\nuse feature 'unicode_strings';\n\nuse Encode::Locale 'decode_argv';         # We'll use the console_in &amp; console_out aliases as well as decode_argv().\nuse Encode;\n\nbinmode(STDIN,  \":encoding(console_in)\");\nbinmode(STDOUT, \":encoding(console_out)\");\nbinmode(STDERR, \":encoding(console_out)\");\n\ndecode_argv( );   # Decode ARGV in place\nmy ($name, $number) = @ARGV;\n\nif (not defined $name) {\n    die \"Need name\\n\";\n}\n\nif (defined $number) {\n    print \"Save '$name' and '$number'\\n\";\n    # save name/number in database\n    exit;\n}\n\nif ($name eq '\u00f6') {\n    print \"Fetch umlaut 'oe'\\n\";\n} elsif ($name eq 'o') {\n    print \"Fetch simple 'o'\\n\";\n} else {\n    print \"Fetch other '$name'\\n\";\n}\n\nprint \"\u00fc\";\n</code></pre>\n\n<p>Perhaps it's only syntactic sugar, but it makes easy reading and promotes cross-platform compatibility.</p>\n"}, {"tags": [], "owner": {"reputation": 283, "user_id": 3997722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83c1ef94f8a8ef23542a55d768cd3933?s=128&d=identicon&r=PG&f=1", "display_name": "circulosmeos", "link": "https://stackoverflow.com/users/3997722/circulosmeos"}, "is_accepted": false, "score": 0, "last_activity_date": 1542222394, "last_edit_date": 1542222394, "creation_date": 1542221584, "answer_id": 53306964, "question_id": 39902414, "link": "https://stackoverflow.com/questions/39902414/perl-unicode-support-from-console-argv-windows/53306964#53306964", "title": "Perl unicode support from console (@ARGV) /Windows/", "body": "<p>I think that the code answers to this question are well pointed but not complete: </p>\n\n<ul>\n<li><p>that way , it is very complicated to construct a script with all the code page + source codification in mind, and moreover, it would be harder to make it portable: <strong>\u00f6</strong> may be known to latin alphabet users, but <strong>\u306e</strong> or <strong>\ub80c</strong> also exist...</p></li>\n<li><p>they <em>may</em> run ok with chars in a particular code page, but with chars outside it, they will fail (which is probably the case with some users in the comments). Note that <a href=\"https://en.wikipedia.org/wiki/Windows_code_page\" rel=\"nofollow noreferrer\">Windows' Code Pages are previous to Unicode</a>.</p></li>\n<li><p>The fundamental problem is that Perl 5 for Windows <strong>is not compiled with Unicode support</strong> as Windows understands it: it is just a port of the linux code, and so, almost all Unicode chars <strong>are mangled before</strong> they even reach the Perl code.</p></li>\n</ul>\n\n<p>A longer technical explanation (and a C patch!) is provided by <em>A. Sinan Unur</em>'s page <strong><a href=\"https://www.nu42.com/2017/02/perl-unicode-windows-trilogy-one.html\" rel=\"nofollow noreferrer\">Fixing Perl's Unicode problems on the command line on Windows: A trilogy in N parts</a></strong> (under <a href=\"https://opensource.org/licenses/Artistic-2.0\" rel=\"nofollow noreferrer\">Artistic License 2.0</a>).</p>\n\n<p>So (but not for the faint of spirit): a recompilation of <em>perl.exe</em> is possible and almost fully Unicode compliant in Windows. Hopefully they'll be integrated some day in the source code... Until them I've resumed <a href=\"https://github.com/circulosmeos/Perl-with-Unicode-for-Windows\" rel=\"nofollow noreferrer\">some detailed instructions to patch <em>perl.exe</em> here</a>.</p>\n\n<p>Note also that a proper command console with full Unicode support is needed. A quick solution is to use <a href=\"https://conemu.github.io/\" rel=\"nofollow noreferrer\">ConEmu</a>, but Windows' <em>cmd.exe</em> <a href=\"https://stackoverflow.com/questions/388490/how-to-use-unicode-characters-in-windows-command-line\">could also work after some heavy tweaks</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "is_accepted": false, "score": 0, "last_activity_date": 1561539960, "creation_date": 1561539960, "answer_id": 56769089, "question_id": 39902414, "link": "https://stackoverflow.com/questions/39902414/perl-unicode-support-from-console-argv-windows/56769089#56769089", "title": "Perl unicode support from console (@ARGV) /Windows/", "body": "<p>I don't know if this is the solution for very scenario, but I could get away by using the parameter \"-CAS\" when calling my script.</p>\n\n<p>Example:</p>\n\n<p>Script_1:</p>\n\n<pre><code>use strict;\nuse utf8;\n\n$|++; # Prevent buffering issues\n\n\nmy ($arg) = @ARGV;\nsave_to_file('test.txt', $arg);\n\nsub save_to_file{   \n\n    my ($filename, $content) = @_;\n\n    open(my $fh, '&gt;:encoding(UTF-8)', $filename) or die \"Can't open &lt; $filename: $!\";;\n    print $fh $content;\n    close $fh;\n\n    return;\n}\n</code></pre>\n\n<p>Script_2 calling 1:</p>\n\n<pre><code>use strict;\nuse utf8;\n\n\nexecute_command();\n\nsub execute_command {\n\n\n    my $command = \"perl -CAS simple_utf_string.pl \u00e4\u00e4\u00e4\u00f6\u00f6\u00f6\u00fc\";\n\n    # Execute command\n    print \"The command to run is: $command\\n\";\n    open my $command_pipe, \"-|:encoding(UTF-8)\", $command or die \"Pipe from $command failed: $!\";\n    while (&lt;$command_pipe&gt;) {\n        print  $_;\n    }\n}\n</code></pre>\n\n<p>Result in: text.txt:</p>\n\n<pre><code>\u00e4\u00e4\u00e4\u00f6\u00f6\u00f6\u00fc\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 6299344, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2ff7f527cdc05ba68a0d3277854f524?s=128&d=identicon&r=PG&f=1", "display_name": "Banish", "link": "https://stackoverflow.com/users/6299344/banish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 1, "answer_count": 4, "score": 2, "last_activity_date": 1561539960, "creation_date": 1475775614, "question_id": 39902414, "link": "https://stackoverflow.com/questions/39902414/perl-unicode-support-from-console-argv-windows", "title": "Perl unicode support from console (@ARGV) /Windows/", "body": "<p>I'm trying to get unicode characters as arguments in perl script:</p>\n\n<pre><code>C:\\&gt;perl test.pl \u00f6\n\n#----\n# test.pl\n#----\n#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy ($name, $number) = @ARGV;\n\nif (not defined $name) {\n    die \"Need name\\n\";\n}\n\nif (defined $number) {\n    print \"Save '$name' and '$number'\\n\";\n    # save name/number in database\n    exit;\n}\n\nif ($name eq '\u00f6') {\n    print \"Fetch umlaut 'oe'\\n\";\n} elsif ($name eq 'o') {\n    print \"Fetch simple 'o'\\n\";\n} else {\n    print \"Fetch other '$name'\\n\";\n}\n\nprint \"\u00fc\";\n</code></pre>\n\n<p>and I get the output:</p>\n\n<pre><code>Fetch simple 'o'\n\u00fc\n</code></pre>\n\n<p>I've tested the code (algorithm) in python 3 and it works, so I get \"\u00f6\".\nBut obviously in perl there is something more that I must add or set.\nIt doesn't matter if it is Strawberry Perl or ActiveState Perl. I get the same result.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["perl", "nagios"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1475778223, "post_id": 39902401, "comment_id": 67091631, "body": "try: <code>print $item-&gt;name . &quot;\\n&quot;;</code>"}, {"owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1475779282, "post_id": 39902401, "comment_id": 67092223, "body": "It gives: Group2 Can&#39;t locate object method &quot;name&quot; via package &quot;Group4&quot; (perhaps you forgot to load &quot;Group4&quot;?) at test.pl line 20."}], "answers": [{"tags": [], "owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "is_accepted": true, "score": 0, "last_activity_date": 1475788015, "creation_date": 1475788015, "answer_id": 39905636, "question_id": 39902401, "link": "https://stackoverflow.com/questions/39902401/nagiosobjectconfig-it-is-behaving-unexpectedly/39905636#39905636", "title": "Nagios::Object::Config it is behaving unexpectedly", "body": "<p>Thanks stevieb you put me on the right path. This seems to work:</p>\n\n<pre><code>use Nagios::Config;\nuse Nagios::Object::Config;\nuse Data::Dumper;\nuse feature 'say';\nuse Getopt::Long;\n\nGetopt::Long::Configure('bundling');\nGetOptions(\n    \"C|config=s\"    =&gt; \\$OPTION{'config'}\n);\n\nmy $objects;\n$objects = Nagios::Config-&gt;new( Filename =&gt; $OPTION{'config'} );\nmy @services_array = $objects-&gt;list_services();\nforeach my $service ( @services_array ){\n    foreach my $item ( @{$service-&gt;contact_groups} ) {\n        $var = ref $item;\n        if ($var eq \"Nagios::ContactGroup\"){\n            print $item-&gt;name . \"\\n\";\n         } else {\n             print $item . \"\\n\";\n         }\n    }\n}\n</code></pre>\n\n<p>In the original file:</p>\n\n<pre><code>if ( scalar @{$host-&gt;contact_groups} &gt; 1 ) {\n    foreach my $item ( @{$host-&gt;contact_groups} ) {\n        $item_type = ref $item;\n        if ($item_type eq \"Nagios::ContactGroup\"){\n            $contactgroups_list .= sprintf ( \"%s\", $item-&gt;name) . \"|\";\n        } else {\n            $contactgroups_list .= sprintf ( \"%s\", $item) . \"|\";\n        }   \n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>if ( scalar @{$service-&gt;contact_groups} &gt; 1 ) {\n    foreach my $item ( @{$service-&gt;contact_groups} ) {\n         $item_type = ref $item;\n         if ($item_type eq \"Nagios::ContactGroup\"){\n             $contactgroups_list .= sprintf ( \"%s\", $item-&gt;name) . \"|\";\n         } else {\n             $contactgroups_list .= sprintf ( \"%s\", $item) . \"|\";\n         }\n    }\n</code></pre>\n"}], "owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 39905636, "answer_count": 1, "score": 0, "last_activity_date": 1475788015, "creation_date": 1475775542, "last_edit_date": 1475776079, "question_id": 39902401, "link": "https://stackoverflow.com/questions/39902401/nagiosobjectconfig-it-is-behaving-unexpectedly", "title": "Nagios::Object::Config it is behaving unexpectedly", "body": "<p>I am by no means an expert in Perl but I am trying to debug a script nagios_reader_to_centreon_clapi.pl from <a href=\"https://github.com/centreon/nagiosToCentreon/blob/master/nagios_reader_to_centreon_clapi.pl\" rel=\"nofollow\">https://github.com/centreon/nagiosToCentreon/blob/master/nagios_reader_to_centreon_clapi.pl</a> it is behaving unexpectedly on line 656 giving output like</p>\n\n<pre><code>SERVICE;setcontactgroup;server.example.com;mailbox_status_node1;Nagios::ContactGroup=HASH(0xe28550)|Nagios::ContactGroup=HASH(0xe2ae10)\n</code></pre>\n\n<p>I have stripped down the code to the bare minimum in order to reproduce the expected results and the unexpected results.</p>\n\n<p>test.pl</p>\n\n<pre><code>use Nagios::Config;\nuse Nagios::Object::Config;\nuse Data::Dumper;\nuse feature 'say';\nuse Getopt::Long;\n\nGetopt::Long::Configure('bundling');\nGetOptions(\n    \"C|config=s\"    =&gt; \\$OPTION{'config'}\n);\n\nmy $objects;\n$objects = Nagios::Config-&gt;new( Filename =&gt; $OPTION{'config'} );\nmy @services_array = $objects-&gt;list_services();\nforeach my $service ( @services_array ){\n        foreach my $item ( @{$service-&gt;contact_groups} ) {\n            $var = ref $item;\n            print \"$var \\n\";\n            say Dumper($item);\n        }\n}\n</code></pre>\n\n<p>test.cfg</p>\n\n<pre><code>cfg_file=/etc/nagios/new-hosts.cfg\ncfg_file=/etc/nagios/new-services.cfg\ncfg_file=/etc/nagios/new-contactgroups.cfg\n</code></pre>\n\n<p>new-hosts.cfg</p>\n\n<pre><code>define host{\n        host_name                       server1.example.com\n#       use                             generic_ht\n        alias                           Server 01\n        address                         xxx.xx.xxx.xxx\n        hostgroups                      servers\n        active_checks_enabled           1\n        contact_groups                  Group3\n}\n</code></pre>\n\n<p>new-services.cfg</p>\n\n<pre><code>define service{\n        name                            generic_st\n        service_description             generic_st\n        max_check_attempts              3\n        normal_check_interval           5\n        retry_check_interval            1\n        active_checks_enabled           1\n        passive_checks_enabled          1\n        check_period                    24x7\n        notification_interval           240\n        notification_period             24x7\n        notification_options            w,c,r\n        notifications_enabled           1\n        contact_groups                  Group1\n        register                        0\n}\n\ndefine service{\n        host_name                       server1.example.com\n        service_description             service1\n        use                             generic_st\n        check_command                   check_cmd!10000!12000\n        contact_groups                  Group2\n}\n\ndefine service{\n        name                        service2\n        service_description         service02\n        use                         generic_st\n        check_command               check_cmd2\n        active_checks_enabled       1\n        passive_checks_enabled      1\n        check_period                24x7\n        notifications_enabled       1\n        contact_groups              Group4, Group3\n        register                    0\n}\n</code></pre>\n\n<p>new-contactgroups.cfg</p>\n\n<pre><code>define contactgroup{\n        contactgroup_name               Group1 \n        alias                           Group1\n        members                         Member1\n}\ndefine contactgroup{\n        contactgroup_name               Group2\n        alias                           Group2\n        members                         Member2\n}\n\ndefine contactgroup{\n        contactgroup_name               Group3\n        alias                           Group3\n        members                         Member3\n}\n\ndefine contactgroup{\n        contactgroup_name               Group4\n        alias                           Group04\n        members                         MMember4\n}\n</code></pre>\n\n<p>running the script the output starts:</p>\n\n<pre><code> perl test.pl   --config /etc/nagios/test.cfg\nNagios::ContactGroup\n$VAR1 = bless( {\n             'object_config_object' =&gt; bless( {\n                                                'hostdependency_list' =&gt; [],\n                                                'host_index' =&gt; {\n                                                                     'server1.example.com' =&gt; [\n                                                                                             bless( {\n                                                                                                      'flap_detection_enabled' =&gt; undef,\n                                                                                                      'check_freshness' =&gt; undef,\n                                                                                                      'failure_prediction_enabled' =&gt; undef,\n                                                                                                      'file' =&gt; undef,\n                                                                                                      'check_period' =&gt; undef,\n                                                                                                      'initial_state' =&gt; undef,\n                                                                                                      'freshness_threshold' =&gt; undef,\n                                                                                                      'notes_url' =&gt; undef,\n                                                                                                      'first_notification_delay' =&gt; undef,\n</code></pre>\n\n<p>and ends with:</p>\n\n<pre><code> 'alias' =&gt; 'Group2',\n             '_has_been_resolved' =&gt; 1\n           }, 'Nagios::ContactGroup' );\n\n\n$VAR1 = 'Group4';\n\n\n$VAR1 = 'Group3';\n</code></pre>\n\n<p>The last two lines are as expected but the first part does not work with the script I am trying to debug. Has anyone got any suggestions as to how I can get the desired strings from the object I am getting or else another way to handle it?</p>\n"}, {"tags": ["perl", "sockets"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1475773135, "post_id": 39901597, "comment_id": 67088874, "body": "What is <code>SERVER</code> in your server&#39;s <code>while</code>?  Please <code>use warnings</code>."}, {"owner": {"reputation": 29435, "user_id": 458742, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ee0a7599f30c29076a3c9a2c022e473b?s=128&d=identicon&r=PG", "display_name": "spraff", "link": "https://stackoverflow.com/users/458742/spraff"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1475773448, "post_id": 39901597, "comment_id": 67089034, "body": "That was a typo, I fixed it, thanks, but still have the same problem."}, {"owner": {"reputation": 29435, "user_id": 458742, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ee0a7599f30c29076a3c9a2c022e473b?s=128&d=identicon&r=PG", "display_name": "spraff", "link": "https://stackoverflow.com/users/458742/spraff"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1475773580, "post_id": 39901597, "comment_id": 67089087, "body": "Okay, I changed it to <code>while (&lt;NEW_SOCKET&gt;)</code> in the server and now both programs hang."}, {"owner": {"reputation": 29435, "user_id": 458742, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ee0a7599f30c29076a3c9a2c022e473b?s=128&d=identicon&r=PG", "display_name": "spraff", "link": "https://stackoverflow.com/users/458742/spraff"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1475775403, "post_id": 39901597, "comment_id": 67090062, "body": "Okay, tinkering changed the scope of the question entirely. Please re-read it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1475778009, "post_id": 39901597, "comment_id": 67091522, "body": "Can&#39;t get to it now but a bit later.  If this is about learning how to do it better use <code>IO::Socket</code>. Nicer and with many more examples around, for example <a href=\"http://perldoc.perl.org/perlipc.html#Sockets:-Client/Server-Communication\" rel=\"nofollow noreferrer\">in perlipc</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": true, "score": 4, "last_activity_date": 1489334876, "last_edit_date": 1489334876, "creation_date": 1475793380, "answer_id": 39906669, "question_id": 39901597, "link": "https://stackoverflow.com/questions/39901597/not-all-socket-data-sent-before-shutdown-is-received/39906669#39906669", "title": "Not all socket data sent before shutdown is received", "body": "<p>This is a typical case of: <a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">Suffering from Buffering?</a>. I recommend you to read the article if you are interested in more details.</p>\n\n<blockquote>\n  <p>Surely when you shutdown, all pending data is supposed to be flushed, right?</p>\n</blockquote>\n\n<p>That's not the case. If you check the perldoc of <a href=\"http://perldoc.perl.org/functions/shutdown.html\" rel=\"nofollow noreferrer\">shutdown</a>, you won't find any hint about flushing. Also the man page of <a href=\"http://pubs.opengroup.org/onlinepubs/009695399/functions/shutdown.html\" rel=\"nofollow noreferrer\">shutdown(3)</a> doesn't mention this behaviour at all.</p>\n\n<p>The actual problem is the following line in your client code (see code comment):</p>\n\n<pre><code>...\n\nsocket (SOCKET, PF_INET, SOCK_STREAM, $proto)\n    or die \"Can't create a socket: $!\\n\";\n\nconnect (SOCKET, pack_sockaddr_in ($port, inet_aton ($server)))\n    or die \"Can't connect to $server:$port: $!\\n\";\n\n# Here is the problem\nprint SOCKET \"Test message from client to $server:$port.\";\n\nshutdown (SOCKET, 1) or warn \"Couldn't shutdown socket to $server:$port.\";\n\n...\n</code></pre>\n\n<p>The filehandle <code>SOCKET</code> is fully buffered, which means your data is not instantly printed to the network but gets accumulated in an internal buffer first. As soon as the internal buffer is filled, its data will be sent. The message you try to send by <code>print</code> is just a few bytes long - far from filling the internal buffer to its maximum size.</p>\n\n<p>You already figured out how to modify the default buffering behaviour by using the special Perl variable <code>$|</code>. By changing the default value of this variable, you can make the currently active filehandle <em>hot</em>. That means the internal buffer will get flushed after every <code>print</code> to the filehandle.</p>\n\n<p>Now let's see what different options you have to replace the problematic line mentioned above if you want to send the following message:</p>\n\n<pre><code>my $msg = \"Test message from client to $server:$port.\";\n</code></pre>\n\n<p><strong>Option #1:</strong></p>\n\n<pre><code>use FileHandle;\nSOCKET-&gt;autoflush(1);\nprint SOCKET $msg;\n</code></pre>\n\n<p>You can use <code>autoflush()</code> from <code>FileHandle</code> to disable buffering of your <code>SOCKET</code> filehandle.</p>\n\n<p><strong>Option #2:</strong></p>\n\n<pre><code>use IO::Handle; # or: use FileHandle\nprint SOCKET $msg;\nSOCKET-&gt;flush();\n</code></pre>\n\n<p>You can also use the method <code>flush()</code> to manually flush after <code>print</code>.</p>\n\n<p><strong>Option #3:</strong></p>\n\n<pre><code>{\n    my $oldfh = select SOCKET;\n    local $| = 1; # make SOCKET hot\n    print SOCKET $msg;\n    select $oldfh;\n}\n</code></pre>\n\n<p>This selects the filehandle <code>SOCKET</code> to make it <em>hot</em> by setting <code>$|</code> to <code>1</code> in a local scope. After that your message <code>$msg</code> will be sent by <code>print</code> and the old filehandle gets restored by reselecting it. The old value of the global variable <code>$|</code> remains unaffected because we changed it only <em>locally</em> inside the <code>{ }</code> block.</p>\n\n<p><strong>Option #4:</strong></p>\n\n<pre><code>syswrite SOCKET, $msg;\n</code></pre>\n\n<p>Furthermore you can simply use <code>syswrite()</code> to completely bypass the internal buffering.</p>\n\n<p><strong>Option #5:</strong></p>\n\n<pre><code>use IO::Socket::INET;\nmy $sock = IO::Socket::INET-&gt;new(\n    PeerAddr =&gt; $server,\n    PeerPort =&gt; $port,\n    Proto    =&gt; \"tcp\"\n);\n$sock-&gt;send($msg);\n</code></pre>\n\n<p>This is simple and straightforward to use and replaces almost all of your code. According to the documentation of <a href=\"http://search.cpan.org/~gbarr/IO-1.25/lib/IO/Socket.pm\" rel=\"nofollow noreferrer\"><code>IO::Socket</code></a>:</p>\n\n<blockquote>\n  <p>As of VERSION 1.18 all IO::Socket objects have <strong>autoflush turned on</strong> by default. This was not the case with earlier releases.</p>\n</blockquote>\n\n<p>All of these 5 options will give you the behaviour you are looking for.</p>\n"}], "owner": {"reputation": 29435, "user_id": 458742, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ee0a7599f30c29076a3c9a2c022e473b?s=128&d=identicon&r=PG", "display_name": "spraff", "link": "https://stackoverflow.com/users/458742/spraff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "accepted_answer_id": 39906669, "answer_count": 1, "score": 3, "last_activity_date": 1489334876, "creation_date": 1475772649, "last_edit_date": 1475775309, "question_id": 39901597, "link": "https://stackoverflow.com/questions/39901597/not-all-socket-data-sent-before-shutdown-is-received", "title": "Not all socket data sent before shutdown is received", "body": "<p>I am writing Perl scripts to send strings between a client and server over TCP. The connection is made but data send from the client isn't received.</p>\n\n<p>Full code for the server</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Socket;\n\nmy $port = 8021;\nmy $proto = getprotobyname ('tcp');\nmy $server = \"localhost\";\n\nsocket (SOCKET, PF_INET, SOCK_STREAM, $proto)\n    or die \"Can't open socket: $!\";\n\nbind (SOCKET, pack_sockaddr_in ($port, inet_aton ($server)))\n    or die \"Can't bind $server:$port: $!\";\n\nlisten (SOCKET, 5)\n    or die \"Can't listen on $server:$port: $!\";\n\nmy $client_addr;\n\nwhile ($client_addr = accept (NEW_SOCKET, SOCKET))\n{\n    my $name = gethostbyaddr ($client_addr, AF_INET);\n\n    while (&lt;NEW_SOCKET&gt;)\n    {\n        print \"Recieved from client: $_&lt;&lt;ENDL\\n\";\n    }\n\n    print NEW_SOCKET \"Smile from the server.\";\n\n    print \"Connection recieved from $name\\n\";\n\n    close NEW_SOCKET or warn \"Couldn't close socket: $!\";\n}\n</code></pre>\n\n<p>Full code for the client. Look for the <code>SEE HERE</code> comment.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Socket;\n\nmy $port = 8021;\nmy $proto = getprotobyname ('tcp');\nmy $server = \"localhost\";\n\n$server = $ARGV[0] if (1 == @ARGV);\n\nsocket (SOCKET, PF_INET, SOCK_STREAM, $proto)\n    or die \"Can't create a socket: $!\\n\";\n\nconnect (SOCKET, pack_sockaddr_in ($port, inet_aton ($server)))\n    or die \"Can't connect to $server:$port: $!\\n\";\n\n# SEE HERE\n#   my $s = select (SOCKET);\n#   $| = 1; # make it hot\n#   select ($s);\nprint SOCKET \"Test message from client to $server:$port.\";\n\nshutdown (SOCKET, 1) or warn \"Couldn't shutdown socket to $server:$port.\";\n\nwhile (&lt;SOCKET&gt;)\n{\n    print \"Server $server:$port responds with: $_&lt;&lt;ENDL\\n\";\n}\n\nclose SOCKET or die \"Can't close socket to $server:$port: $!\";\n</code></pre>\n\n<p>As it stands, the server outputs</p>\n\n<pre><code>Connection recieved from ANantes-256-1-226-50.w2-0.abo.wanadoo.fr\n</code></pre>\n\n<p>And the client outputs</p>\n\n<pre><code>Server localhost:8021 responds with: Smile from the server.&lt;&lt;ENDL\n</code></pre>\n\n<p>Clearly the client's <code>shutdown</code> command correctly causes the server's <code>while(&lt;NEW_SOCKET&gt;)</code> loop to exit, although the <code>Test message</code> which the client prints isn't read in that loop.</p>\n\n<p>However, if I uncomment the lines below <code>SEE HERE</code>, the server prints the test message before sending its response.</p>\n\n<p><strong>Surely when you <code>shutdown</code>, all pending data is supposed to be flushed, right?</strong></p>\n\n<p>Why do I need the <code>$| = 1</code> line?</p>\n\n<p>Also, can I <em>trust</em> the <code>$| = 1</code> line? As in, if I can't trust <code>shutdown</code> (or, presumably) <code>close</code> to not truncate messages, how can I trust <code>$|=1</code>?</p>\n"}, {"tags": ["perl", "pingdom"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6933026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f659b0a58088871ca9395239232ffd?s=128&d=identicon&r=PG&f=1", "display_name": "Stephens", "link": "https://stackoverflow.com/users/6933026/stephens"}, "edited": false, "score": 0, "creation_date": 1475771634, "post_id": 39900905, "comment_id": 67088022, "body": "Thank you.  I was making this out to be harder than it should have been."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1475770311, "creation_date": 1475770311, "answer_id": 39900905, "question_id": 39900862, "link": "https://stackoverflow.com/questions/39900862/printing-the-url-from-pingdom-using-perl/39900905#39900905", "title": "Printing the URL from Pingdom using Perl", "body": "<p>You want</p>\n\n<pre><code>$decoded_info-&gt;{check}-&gt;{type}-&gt;{http}-&gt;{url}    # ok\n</code></pre>\n\n<p>and <code>$check</code> has the value of</p>\n\n<pre><code>$decoded_info-&gt;{check};\n</code></pre>\n\n<p>so you should be using </p>\n\n<pre><code>$check-&gt;{type}-&gt;{http}-&gt;{url}                    # ok\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>$decoded_info-&gt;{$check}-&gt;{type}-&gt;{http}-&gt;{url}   # BAD\n</code></pre>\n\n<hr>\n\n<p>By the way,</p>\n\n<pre><code>my $check = $decoded_info-&gt;{check};\n...\n</code></pre>\n\n<p>is simpler than</p>\n\n<pre><code>foreach my $check( $decoded_info-&gt;{check}) {\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 6933026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f659b0a58088871ca9395239232ffd?s=128&d=identicon&r=PG&f=1", "display_name": "Stephens", "link": "https://stackoverflow.com/users/6933026/stephens"}, "edited": false, "score": 0, "creation_date": 1475772287, "post_id": 39900954, "comment_id": 67088405, "body": "Thank you.  This is true."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1475770461, "creation_date": 1475770461, "answer_id": 39900954, "question_id": 39900862, "link": "https://stackoverflow.com/questions/39900862/printing-the-url-from-pingdom-using-perl/39900954#39900954", "title": "Printing the URL from Pingdom using Perl", "body": "<p>There is only one item inside of the <em>check</em>.</p>\n\n<pre><code>{\n  \"check\" : {                     // here\n    \"id\" : 85975,\n    \"name\" : \"My check 7\",\n    \"resolution\" : 1,\n    \"sendtoemail\" : false,\n    \"sendtosms\" : false,\n    \"sendtotwitter\" : false,\n    \"sendtoiphone\" : false,\n    \"sendnotificationwhendown\" : 0,\n    \"notifyagainevery\" : 0,\n    \"notifywhenbackup\" : false,\n    \"created\" : 1240394682,\n    \"type\" : {\n      \"http\" : {\n        \"url\" : \"/\",\n        \"port\" : 80,\n        \"requestheaders\" : {\n          \"User-Agent\" : \"Pingdom.com_bot_version_1.4_(http://www.pingdom.com/)\"\n        }\n      }\n    },\n    \"hostname\" : \"s7.mydomain.com\",\n    \"status\" : \"up\",\n    \"lasterrortime\" : 1293143467,\n    \"lasttesttime\" : 1294064823\n  }\n}\n</code></pre>\n\n<p>There is no reason to iterate over anything. You can get rid of the <code>foreach</code> loop and simply use the string <code>check</code> as your hash key.</p>\n\n<pre><code>#                      vvvvv\nprint \"$decoded_info-&gt;{check}-&gt;{type}-&gt;{http}-&gt;{url}\\n\";\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6933026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f659b0a58088871ca9395239232ffd?s=128&d=identicon&r=PG&f=1", "display_name": "Stephens", "link": "https://stackoverflow.com/users/6933026/stephens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 39900905, "answer_count": 2, "score": 0, "last_activity_date": 1475775149, "creation_date": 1475770160, "last_edit_date": 1475775149, "question_id": 39900862, "link": "https://stackoverflow.com/questions/39900862/printing-the-url-from-pingdom-using-perl", "title": "Printing the URL from Pingdom using Perl", "body": "<p>I'm looping through the decoded JSON returned from Pingdom's \"Get Detailed Check Information\"-API. I'm trying to print the URL in the JSON data, but I'm having a hard time doing so.</p>\n\n<p>Here is the JSON response I got:</p>\n\n<pre><code>{\n  \"check\" : {\n    \"id\" : 85975,\n    \"name\" : \"My check 7\",\n    \"resolution\" : 1,\n    \"sendtoemail\" : false,\n    \"sendtosms\" : false,\n    \"sendtotwitter\" : false,\n    \"sendtoiphone\" : false,\n    \"sendnotificationwhendown\" : 0,\n    \"notifyagainevery\" : 0,\n    \"notifywhenbackup\" : false,\n    \"created\" : 1240394682,\n    \"type\" : {\n      \"http\" : {\n        \"url\" : \"/\",\n        \"port\" : 80,\n        \"requestheaders\" : {\n          \"User-Agent\" : \"Pingdom.com_bot_version_1.4_(http://www.pingdom.com/)\"\n        }\n      }\n    },\n    \"hostname\" : \"s7.mydomain.com\",\n    \"status\" : \"up\",\n    \"lasterrortime\" : 1293143467,\n    \"lasttesttime\" : 1294064823\n  }\n}\n</code></pre>\n\n<p>And here's my Perl code that should print the URL:</p>\n\n<pre><code>my $decoded_info = decode_json($json) or die \"Failed to decode!\\n\";\nforeach my $check( $decoded_info-&gt;{check}) {\n  print \"$decoded_info-&gt;{$check}-&gt;{type}-&gt;{http}-&gt;{url}\\n\";\n}\n</code></pre>\n\n<p>I've read the Perl reference and a tutorial but it still doesn't work.</p>\n"}, {"tags": ["perl", "inheritance"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475766655, "post_id": 39899503, "comment_id": 67084890, "body": "I am not sure I fully understand what you are trying to do. Can you at least <a href=\"https://stackoverflow.com/posts/39899503/edit\">edit</a> and include an example of what you are doing now, and maybe a bit more explanation of why you don&#39;t like that."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475766769, "post_id": 39899503, "comment_id": 67084971, "body": "@simbabque: I think he&#39;s trying to write a virtual base class (aka an abstract class). Schwern&#39;s <a href=\"https://metacpan.org/release/Class-Virtual\" rel=\"nofollow noreferrer\">Class::Virtual</a> might have some useful ideas."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1475766879, "post_id": 39899503, "comment_id": 67085050, "body": "@DaveCross Club Sandwich."}, {"owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "edited": false, "score": 0, "creation_date": 1475766881, "post_id": 39899503, "comment_id": 67085054, "body": "I will edit and put a small sample in."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475767035, "post_id": 39899503, "comment_id": 67085171, "body": "Oh. I thought when you said <i>used</i> you meant <i><code>use</code>d</i>. <a href=\"http://stackoverflow.com/a/39899754/1331451\">ysth&#39;s answer</a> makes sense then."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1475767171, "post_id": 39899754, "comment_id": 67085269, "body": "This assumes that none of the subclasses completely override the constructor. That&#39;s unlikely, but not impossible."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1475767418, "post_id": 39899754, "comment_id": 67085473, "body": "@DaveCross If they override the constructor, they are a subclass and there is no problem."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1475767544, "post_id": 39899754, "comment_id": 67085566, "body": "D&#39;oh! Yes. I&#39;m feeling particularly stupid today :-/"}, {"owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "edited": false, "score": 0, "creation_date": 1475767776, "post_id": 39899754, "comment_id": 67085733, "body": "I put a sample in my question. Is <b>PACKAGE</b> better than ref?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1475768891, "post_id": 39899754, "comment_id": 67086404, "body": "It&#39;s better in the sense that it works, while there&#39;s nothing on which to call <code>ref</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "edited": false, "score": 2, "creation_date": 1475770473, "post_id": 39899754, "comment_id": 67087372, "body": "@chris: This code short-circuits sooner than your version does. It avoids the need to create an object before checking the class. It checks the class that the object would be, and dies if you&#39;re about to create an object of the abstract class."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 5, "last_activity_date": 1475766916, "creation_date": 1475766916, "answer_id": 39899754, "question_id": 39899503, "link": "https://stackoverflow.com/questions/39899503/perl-enforce-inheritance-of-modules/39899754#39899754", "title": "Perl: enforce inheritance of modules", "body": "<p>You don't show your code, but it sounds like you aren't checking in the right place; you should only need to do this in the constructor:</p>\n\n<pre><code>sub new {\n    my ($class, @other_args) = @_;\n    if ($class eq __PACKAGE__) {\n        Carp::croak \"must be subclassed\";\n    }\n</code></pre>\n\n<p>But no, there isn't a way to do it at compile time.</p>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 39899754, "answer_count": 1, "score": 0, "last_activity_date": 1475768788, "creation_date": 1475766291, "last_edit_date": 1475768788, "question_id": 39899503, "link": "https://stackoverflow.com/questions/39899503/perl-enforce-inheritance-of-modules", "title": "Perl: enforce inheritance of modules", "body": "<p>I have a Perl package (e.g. car) that is meant to be a base class of some other modules (e.g. van, limousine, convertible, ...) - </p>\n\n<pre><code>use base (\"car\");\n</code></pre>\n\n<p>in the pm-file of van, ...</p>\n\n<p>I need to make sure car is not used - only the use of the inherited objects (van, limo, ...) is allowed.</p>\n\n<p>Today I do it if ref () inside the base-class. If it returns the name of \"car\" I know it is used without inheritance and then I quit with an error.</p>\n\n<p>If van, ... is used ref () would return \"van\", ...</p>\n\n<p>Is there a more elegant/static way to do that. Lets say a way I can get a sort of syntax-error??</p>\n\n<p>And no: I do not like to discuss the weakness of Perl in OO-topics compared to OO-languages ;-)</p>\n\n<p><strong>edit:</strong>\nHere is a sample. It works.</p>\n\n<p>The question is if the is a more better way to do the check in car::new.</p>\n\n<pre><code>#---------car.pm----------\npackage car;\n\nsub new\n{ \n  my $class = shift;\n  my $self = {};\n  bless ($self, $class);\n\n  if(ref($self) eq \"car\")    # thats my check to make sure beep exists\n  { die \"no allowed because no beep here\"; \n  }\n\n  $return $self;\n}\n\nsub honk\n{ beep ();    # only defined in the inherited class (van, ...)\n}\n\n1;\n\n\n#----van.pm-----\npackage van;\n\nuse car;\nuse base (\"car\");\n\nsub beep \n{\n   print \"tuuuut\";\n}\n1;\n\n#---------main.pl---------\ncar-&gt;new ()-&gt;honk ();   # dies\n# if no ref-check it would crush because no beep in car.\n\nvan-&gt;new ()-&gt;honk ();   # ok but maybe not most elegant\n</code></pre>\n"}, {"tags": ["perl", "debugging"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475763387, "post_id": 39898389, "comment_id": 67082335, "body": "That&#39;s good, but it&#39;s for very specific debugging only. You might want to expand on <code>$DB::single</code>."}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475764158, "post_id": 39898389, "comment_id": 67082917, "body": "@simbabque I understand your point.  But the interested party will say &quot;what the heck is this <code>eval</code> and that line noise <code>$@</code>, and <code>$DB::single</code>??&quot; and will look it up and learn much more than I can possibly stuff here.  And the non-interested party will cargo cult it, which will happen regardless.  Some links to the documentation are appropriate and I will add them."}], "tags": [], "owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "is_accepted": true, "score": 6, "last_activity_date": 1475769251, "last_edit_date": 1475769251, "creation_date": 1475763248, "answer_id": 39898389, "question_id": 39898091, "link": "https://stackoverflow.com/questions/39898091/perl-debugger-break-on-error-exception/39898389#39898389", "title": "Perl debugger - break on error (exception)?", "body": "<p>Wrap the offending line in an <code>eval</code> and set <code>$DB::single</code> when <code>$@</code> is set:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse Number::Format qw(:subs); # sudo perl -MCPAN -e 'install Number::Format'\n\nmy $tstr = \"\";\nmy $numFormatter = new Number::Format();\n\nfor (my $ix=0; $ix&lt;20; $ix++) {\n  $tstr = $tstr . int(rand(10));\n  my $ftstr = eval { $numFormatter-&gt;format_number($tstr, 2, 1); };\n  $DB::single = 1 if $@;\n  print \"ix: $ix ; in: $tstr ; out: $ftstr\\n\";\n}\n</code></pre>\n\n<p>Then,</p>\n\n<pre><code>% perl -d test.pl\n\nLoading DB routines from perl5db.pl version 1.49\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(test.pl:6):  my $tstr = \"\";\n\n  DB&lt;1&gt; r\nix: 0 ; in: 7 ; out: 7.00\nix: 1 ; in: 71 ; out: 71.00\nix: 2 ; in: 715 ; out: 715.00\nix: 3 ; in: 7153 ; out: 7,153.00\nix: 4 ; in: 71537 ; out: 71,537.00\nix: 5 ; in: 715379 ; out: 715,379.00\nix: 6 ; in: 7153794 ; out: 7,153,794.00\nix: 7 ; in: 71537941 ; out: 71,537,941.00\nix: 8 ; in: 715379417 ; out: 715,379,417.00\nix: 9 ; in: 7153794174 ; out: 7,153,794,174.00\nix: 10 ; in: 71537941740 ; out: 71,537,941,740.00\nix: 11 ; in: 715379417408 ; out: 715,379,417,408.00\nix: 12 ; in: 7153794174086 ; out: 7,153,794,174,086.00\nix: 13 ; in: 71537941740864 ; out: 71,537,941,740,864.00\nmain::(test.pl:13):   print \"ix: $ix ; in: $tstr ; out: $tstr\\n\";\n\n  DB&lt;1&gt; print $tstr\n715379417408646\n\n  DB&lt;2&gt; \n</code></pre>\n\n<p><strong>What the Heck??</strong></p>\n\n<p>Behind the magic are two principles:</p>\n\n<ol>\n<li>Preventing exceptions from being fatal (e.g. catching exceptions)</li>\n<li>Stopping the debugger at a certain point in the code without repeated steps</li>\n</ol>\n\n<p>To catch an exception, use the <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow\"><code>eval BLOCK</code></a> construct.  This will store the exception in the <code>$@</code> variable.  If <code>$@</code> is not the empty string, an exception was thrown.  Note that the code above, while idiomatic, is not quite correct; if the exception thrown was the string <code>0</code>, it'd be ignored (because <code>if 0</code> would be false).  Exception handling in Perl is complex.  <a href=\"https://metacpan.org/pod/Try::Tiny#BACKGROUND%22here%22\" rel=\"nofollow\"><code>Try::Tiny</code></a> has a good discussion.</p>\n\n<p>Now that the exception is no longer fatal, how to stop the debugger?  There are a number of ways to do that.  This example uses the <a href=\"http://perldoc.perl.org/perldebug.html#Debugging-Compile-Time-Statements\" rel=\"nofollow\"><code>$DB::single</code></a> variable, which when true, signals the debugger to stop. The downside is that you must edit your code to effect this behavior.  Another option is to <a href=\"http://perldoc.perl.org/perldebug.html#b-[line]-[condition]\" rel=\"nofollow\">set a breakpoint with a condition</a>:</p>\n\n<pre><code>% perl -d test.pl\n\nLoading DB routines from perl5db.pl version 1.49\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(test.pl:6):  my $tstr = \"\";\n\n  DB&lt;1&gt; b 11 $@ ne ''\n  DB&lt;2&gt; r\n[... output as above ...]\nmain::(test.pl:11):   my $ftstr = eval { $numFormatter-&gt;format_number($tstr, 2, 1); };\n\n  DB&lt;2&gt; p $tstr\n3247014520717436\n</code></pre>\n\n<p>See the <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow\">perl debugger documentation</a> for more.</p>\n"}, {"comments": [{"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 0, "creation_date": 1475765869, "post_id": 39898777, "comment_id": 67084248, "body": "Elegant solution."}], "tags": [], "owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "is_accepted": false, "score": 5, "last_activity_date": 1475764474, "last_edit_date": 1475764474, "creation_date": 1475764358, "answer_id": 39898777, "question_id": 39898091, "link": "https://stackoverflow.com/questions/39898091/perl-debugger-break-on-error-exception/39898777#39898777", "title": "Perl debugger - break on error (exception)?", "body": "<p>Catching the die with <code>eval{}</code> and <code>$DB::single = 1 if $@;</code> is a nice trick, but if you want to get to the source of the problem in the library you need to set a breakpoint at the place which throws the error.</p>\n\n<p>Here done with</p>\n\n<pre><code>  DB&lt;1&gt; b Carp::croak\n  DB&lt;2&gt; c\nCarp::croak(/opt/local/lib/perl5/5.22/Carp.pm:166):\n166:    sub croak   { die shortmess @_ }\n  DB&lt;3&gt; T\n@ = DB::DB called from file '/opt/local/lib/perl5/5.22/Carp.pm' line 166\n. = Carp::croak('round() overflow. Try smaller precision or use Math::BigFloat') \n    called from file '/opt/local/lib/perl5/site_perl/5.22/Number/Format.pm' line 535\n$ = Number::Format::round(ref(Number::Format), 637906246715227, 2)\n    called from file '/opt/local/lib/perl5/site_perl/5.22/Number/Format.pm' line 601\n$ = Number::Format::format_number(ref(Number::Format), 637906246715227, 2, 1)\n    called from file 'mytest.pl' line 12\n</code></pre>\n"}], "owner": {"reputation": 2359, "user_id": 6197439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/692e93967f23c403a2eb62c0cf99bb53?s=128&d=identicon&r=PG&f=1", "display_name": "sdbbs", "link": "https://stackoverflow.com/users/6197439/sdbbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 1, "accepted_answer_id": 39898389, "answer_count": 2, "score": 7, "last_activity_date": 1475769251, "creation_date": 1475762525, "question_id": 39898091, "link": "https://stackoverflow.com/questions/39898091/perl-debugger-break-on-error-exception", "title": "Perl debugger - break on error (exception)?", "body": "<p>Consider this small perl program, <code>test.pl</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse Number::Format qw(:subs); # sudo perl -MCPAN -e 'install Number::Format'\n\nmy $tstr = \"\";\nmy $numFormatter = new Number::Format();\n\nfor (my $ix=0; $ix&lt;20; $ix++) {\n  $tstr = $tstr . int(rand(10));\n  my $ftstr = $numFormatter-&gt;format_number($tstr, 2, 1);\n  print \"ix: $ix ; in: $tstr ; out: $ftstr\\n\";\n}\n</code></pre>\n\n<p>If I run it, it fails with an error. If I run it in the Perl debugger, using <code>perl -d</code>, it also fails with an error:</p>\n\n<pre><code>$ perl -d test.pl\n\nLoading DB routines from perl5db.pl version 1.39_10\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(test.pl:6):  my $tstr = \"\";\n  DB&lt;1&gt; c\nix: 0 ; in: 6 ; out: 6.00\nix: 1 ; in: 63 ; out: 63.00\nix: 2 ; in: 637 ; out: 637.00\nix: 3 ; in: 6379 ; out: 6,379.00\nix: 4 ; in: 63790 ; out: 63,790.00\nix: 5 ; in: 637906 ; out: 637,906.00\nix: 6 ; in: 6379062 ; out: 6,379,062.00\nix: 7 ; in: 63790624 ; out: 63,790,624.00\nix: 8 ; in: 637906246 ; out: 637,906,246.00\nix: 9 ; in: 6379062467 ; out: 6,379,062,467.00\nix: 10 ; in: 63790624671 ; out: 63,790,624,671.00\nix: 11 ; in: 637906246715 ; out: 637,906,246,715.00\nix: 12 ; in: 6379062467152 ; out: 6,379,062,467,152.00\nix: 13 ; in: 63790624671522 ; out: 63,790,624,671,522.00\nround() overflow. Try smaller precision or use Math::BigFloat at test.pl line 11.\n at /usr/local/share/perl/5.18.2/Number/Format.pm line 535.\n    Number::Format::round('Number::Format=HASH(0x9d0b6cc)', 637906246715226, 2) called at /usr/local/share/perl/5.18.2/Number/Format.pm line 601\n    Number::Format::format_number('Number::Format=HASH(0x9d0b6cc)', 637906246715226, 2, 1) called at test.pl line 11\nDebugged program terminated.  Use q to quit or R to restart,\nuse o inhibit_exit to avoid stopping after program termination,\nh q, h R or h o to get additional info.\n  DB&lt;1&gt; p $ix         \n\n  DB&lt;2&gt; \n</code></pre>\n\n<p>... but when it fails, it doesn't \"stop\" at the failing line, as say <code>gdb</code> with a C program might do - the program again terminates, and thus I have no context variables to inspect anymore.</p>\n\n<p>Of course, a loop like this might run for thousands of times, which is why setting a breakpoint at the problematic line and doing a <code>c</code>ontinue manually would not help much here...</p>\n\n<p>Is there a way to have Perl debugger break a program upon error/exception, such that the local variable context is preserved, so as to inspect the variables there?  </p>\n"}, {"tags": ["perl", "scope", "subroutine"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1475759534, "post_id": 39896940, "comment_id": 67079575, "body": "I edited the question tytle, maybe it&#39;s a bit clearer now"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1475760328, "post_id": 39896940, "comment_id": 67080145, "body": "Even without <code>strict</code>, I still wouldn&#39;t &quot;work&quot; -- the sub would still be using the package <code>$value</code> and not the lexical one declared later."}], "answers": [{"comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1475761671, "post_id": 39897324, "comment_id": 67081096, "body": "When you say <code>It will look at: ... the entire file scope</code>, by <code>entire file</code>, you mean everything that is declared until the soubroutine declaration?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1475761848, "post_id": 39897324, "comment_id": 67081235, "body": "@John Yes and no. At compile time it will only know the variables that have been declared until that line it is in. That&#39;s different from the subroutine declaration. At run time the value can also be set further down in the code, but when you access it in the sub it still accesses it."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 1, "creation_date": 1475761925, "post_id": 39897324, "comment_id": 67081298, "body": "Thank you for sharing all this knowledge!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1475770954, "post_id": 39897324, "comment_id": 67087638, "body": "When they said &quot;It will look at the entire file scope&quot;, they misspoke. Scope is where a variable is visible. As a result, your question doesn&#39;t make sense. /// They also listed <code>our</code> as a package var, but it&#39;s actually lexical and thus misordered in the list. /// I&#39;m currently fixing these problems."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 13, "last_activity_date": 1475772668, "last_edit_date": 1475772668, "creation_date": 1475760405, "answer_id": 39897324, "question_id": 39896940, "link": "https://stackoverflow.com/questions/39896940/why-subroutine-needs-to-be-written-after-the-declaration-of-variables-used-in-it/39897324#39897324", "title": "Why subroutine needs to be written after the declaration of variables used in it?", "body": "<p>It's because of <a href=\"https://en.wikipedia.org/wiki/Scope_(computer_science)\" rel=\"noreferrer\"><strong>scope</strong></a>. That's where in your program your variable is visible. Your <code>$value</code> is a <em>lexical</em> variable because you have declared it with <code>my</code>. That means, it exists inside a certain scope (and all the ones below that). In both of your examples that scope is the entire file (which can also be called <em>the global scope</em>). </p>\n\n<p>Perl looks at your code in two stages. The first is <em>compile time</em>, where it checks the syntax and loads dependencies (like <code>use</code> statements). At this point, it will look for the availability of <code>$value</code> inside the function.</p>\n\n<p>Perl will look in these places:</p>\n\n<ol>\n<li><p>Lexical (<code>my</code> and <code>our</code>) variables currently in scope.</p>\n\n<p>A variable is in scope (i.e. a variable is visible) if the code that references it follows the declaration, and if it's in the same block as the declaration, or block nested within that block. The file itself is a block, and curlies form the others.</p>\n\n<p>If there are multiple lexical variables with the same name in scope, the most recently declared obscure the others. That means that a variable declared in the function itself will be used before one outside the function.</p>\n\n<pre><code>my $i;          # +--------- $i is in scope (visible) here\nmy $x;          # | +------- $x is in scope (visible) here\nwhile (...) {   # | |\n    my $j;      # | |  +---- $j is in scope (visible) here\n    my $x;      # |    | +-- This different $x is in scope (visible) here \n    ...         # |    v v\n}               # | |\nsub foo {       # | |\n    my $j;      # | |  +---- This different $j is in scope (visible) here\n    my $x;      # |    | +-- This third $x is in scope (visible) here\n    ...         # |    v v\n}               # | |\n...             # v v\n</code></pre></li>\n<li><p>Package variables</p>\n\n<p>These are globally variables (undeclared, or declared with <code>use vars</code>).</p>\n\n<p>Perl will look in the namespace declared by the latest \"package\" in scope (defaulting to <code>main</code>), except for \"super-global\" variables. This refers to the symbolic variables (like <code>$_</code>, <code>$$</code>, etc) for which Perl looks in <code>main</code> rather than the current package.</p></li>\n</ol>\n\n<p>Since <code>$value</code> hasn't been declared, Perl takes it to mean package variable <code>$main::value</code> (since the <code>main</code> is the default package).</p>\n\n<pre><code>use strict;            # | Code here will use package var $main::value\nuse warnings;          # |\n                       # |\nsub print_value{       # |\n    print \"\\n$value\";  # |\n}                      # |\n                       # v\nmy $value = 2;         # | Code here will use this lexical var $value\nprint_value();         # v\n</code></pre>\n\n<p>None of this comes because you have <code>strict</code> turned on. Only the fact that you <em>have to declare variables</em>, either with <code>my</code>, or <code>our</code> or by using a fully qualified name is because of <code>use strict</code>.</p>\n\n<p>If you did not have <code>strict</code> and did not declare the variable with <code>my</code>, your program would work. <code>$value</code> would be a package variable in that case.</p>\n\n<p>In your second example you have declared <code>$value</code> before the subroutine, so Perl knows at compile time that there will be a <code>$value</code> available in that scope, so it doesn't complain.</p>\n\n<pre><code>use strict;            # | Code here will use package var $main::value\nuse warnings;          # |\n                       # v\nmy $value = 2;         # | Code here will use this lexical var $value\nprint_value();         # |\n                       # |\nsub print_value{       # |\n    print \"\\n$value\";  # |\n}                      # v\n</code></pre>\n\n<hr>\n\n<p>However, a better approach would be to pass the variable as an argument to <code>print_value</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub print_value{\n    my $arg = shift;\n    print \"\\n$arg\";\n}\n\nmy $value = 2;\nprint_value($value);\n</code></pre>\n\n<p>Now Perl sees that there is a <code>$arg</code> inside of the small scope. It doesn't know its value, but it doesn't have to. And <code>$value</code> is also already declared before using it.</p>\n\n<p>Never use variables from the global scope (the entire file) inside of functions. Always pass them as arguments<sup>1</sup>.</p>\n\n<hr>\n\n<p>Here are some relevant links:</p>\n\n<ul>\n<li><a href=\"http://perlmaven.com/scope-of-variables-in-perl\" rel=\"noreferrer\">Tutorial on scope on perlmaven</a></li>\n<li><a href=\"http://perldoc.perl.org/perlmod.html#BEGIN%2C-UNITCHECK%2C-CHECK%2C-INIT-and-END\" rel=\"noreferrer\">order of execution in perlmod</a></li>\n</ul>\n\n<p><sup>1) unless you want to build a singleton or some other type of <a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"noreferrer\">closure</a></sup></p>\n"}], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 1, "accepted_answer_id": 39897324, "answer_count": 1, "score": 8, "last_activity_date": 1475772668, "creation_date": 1475759408, "last_edit_date": 1475761561, "question_id": 39896940, "link": "https://stackoverflow.com/questions/39896940/why-subroutine-needs-to-be-written-after-the-declaration-of-variables-used-in-it", "title": "Why subroutine needs to be written after the declaration of variables used in it?", "body": "<p>Let's assume we have this code, why it fails with the explicit package name error since the function is called only after the declaration of the <code>$value</code>?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub print_value{\n    print \"\\n$value\";\n}\n\nmy $value = 2;\nprint_value();\n</code></pre>\n\n<p>This fails at compile time with :</p>\n\n<pre><code>Global symbol \"$value\" requires explicit package name at file.pl line 5.\nExecution of file.pl aborted due to compilation errors.\n</code></pre>\n\n<p>And this code works perfectly fine: </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $value = 2;\nprint_value();\n\nsub print_value{\n    print \"\\n$value\";\n}\n</code></pre>\n\n<p>Ignore the unutility of this programming style or the deprecated coding style, just focus on the context.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1475757429, "post_id": 39895714, "comment_id": 67077953, "body": "I need to take every entry, so without the or it&#39;s difficult"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1475757839, "post_id": 39895714, "comment_id": 67078302, "body": "I think, perhaps, that you should go back a step and explain what you&#39;re actually trying to achieve here. You seem seem you have gone down a path that looks unhelpful and we might be able to point you in the right direction."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1475758781, "post_id": 39895714, "comment_id": 67079025, "body": "This smells like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1476123896, "post_id": 39895714, "comment_id": 67208639, "body": "did you really want to search for &quot;one or more word characters, followed by any single character (other than a newline), followed by one or more digits&quot;?  that seems unlikely."}], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1475757107, "post_id": 39895802, "comment_id": 67077710, "body": "Thanks, i need to take everyone on the text and if remore the or it takes nothing, the or is the only way to get them all to me, maybe i&#39;m missing something"}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1475757451, "post_id": 39895802, "comment_id": 67077974, "body": "Isn&#39;t that too generic? I&#39;m asking for general help"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1475758283, "post_id": 39895802, "comment_id": 67078634, "body": "@BlueStarry regular expressions are a large-scale tool (some might even say a language on it&#39;s own) that you need to learn it&#39;s basic building blocks thoroughly to use properly. I really encourage you to go back to these basics and sharpen them. If you need some training ground that will help you improve your skills in regex, here&#39;s a good one - <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"}], "tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": false, "score": 3, "last_activity_date": 1475756333, "creation_date": 1475756333, "answer_id": 39895802, "question_id": 39895714, "link": "https://stackoverflow.com/questions/39895714/tricky-regex-grouping/39895802#39895802", "title": "Tricky regex grouping", "body": "<p>You're using the <code>|</code> operator so there's only 1 group captured in each option. So why should it capture <code>$2</code> and <code>$3</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1475758717, "creation_date": 1475758717, "answer_id": 39896675, "question_id": 39895714, "link": "https://stackoverflow.com/questions/39895714/tricky-regex-grouping/39896675#39896675", "title": "Tricky regex grouping", "body": "<p>I'd probably tackle this very differently. Can I suggest something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\n#field names\nmy @desired_fields = qw ( gene_id transcript_id gene_name transcript_name );\n\nwhile (&lt;DATA&gt;) {\n   #match 'word' and 'quoted word' and select into a hash. \n   my %key_values = m/(\\w+)\\s+\\\"([^\\\"]+)\\\"/g;\n   #print what we captured for debugging reasons:\n   print Dumper \\%key_values;\n\n   #print line number\n   print \"Line: $.\\n\";\n   #iterate @desired fields, print a line if it's defined. \n   for (@desired_fields) {\n      print \"$_ =&gt; $key_values{$_}\\n\" if defined $key_values{$_};\n   }\n}\n\n\n__DATA__\nchr1    HAVANA  exon    183647567       183647797       .       -       .       gene_id \"ENSG00000173627.7\"     transcript_id   \"ENST00000481562.1\"     gene_type       \"protein_coding\"        gene_status     \"KNOWN\" gene_name       \"APOBEC4\"       transcript_type \"processed_transcript\"  transcript_status       \"KNOWN\" transcript_name \"APOBEC4-002\"   exon_number     2       exon_id \"ENSE00001907807.1\"     level   2       transcript_support_level        \"3\"     havana_gene     \"OTTHUMG00000035459.2\"  havana_transcript       \"OTTHUMT00000086127.1\"\nchr1    HAVANA  gene    183646404       183653316       .       -       .       gene_id \"ENSG00000173627.7\"     gene_type       \"protein_coding\"        gene_status     \"KNOWN\" gene_name       \"APOBEC4\"               level   2       havana_gene     \u201cOTTHUMG00000035459.2\u201d\nchr12   HAVANA  gene    28133249        28581511        .       +       .       gene_id \"ENSG00000123106.9\"     gene_type       \"protein_coding\"        gene_status     \"KNOWN\" gene_name       \"CCDC91\"                level   2       tag     \"ncRNA_host\"    havana_gene     \"OTTHUMG00000169141.2\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "is_accepted": false, "score": 0, "last_activity_date": 1475759614, "creation_date": 1475759614, "answer_id": 39897014, "question_id": 39895714, "link": "https://stackoverflow.com/questions/39895714/tricky-regex-grouping/39897014#39897014", "title": "Tricky regex grouping", "body": "<p>If you want to pick up all the groups in one match, you have to wrap them in a non-capturing group and add a quantifier.  That means you also have to account for the fields you don't care about as well as the intervening whitespace.  This regex works for your sample:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>(?:\n  \\h+\n  (?:\n    gene_id\\h+\"([^\"]+)\"         |\n    transcript_id\\h+\"([^\"]+)\"   |\n    gene_name\\h+\"([^\"]+)\"       |\n    transcript_name\\h+\"([^\"]+)\" |\n    \\w+\\h+\\S+\n  )\n)+\n$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/toNABN/1\" rel=\"nofollow\">DEMO</a></p>\n\n<p>Note that this will match even if none of the fields that interest you are present.  If the <code>gene_id</code> field is required and always first, as it is in your sample, you can make the regex more precise as well as more efficient:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>gene_id\\h+\"([^\"]+)\"\n(?:\n  \\h+\n  (?:\n    transcript_id\\h+\"([^\"]+)\"   |\n    gene_name\\h+\"([^\"]+)\"       |\n    transcript_name\\h+\"([^\"]+)\" |\n    \\w+\\h+\\S+\n  )\n)+\n$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/toNABN/2\" rel=\"nofollow\">DEMO</a></p>\n"}], "owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1475759614, "creation_date": 1475756079, "question_id": 39895714, "link": "https://stackoverflow.com/questions/39895714/tricky-regex-grouping", "title": "Tricky regex grouping", "body": "<p>Please consider this regex right there:</p>\n\n<pre><code>gene_id\\t\"(\\w+.\\d+)\"|transcript_id\\t\"(\\w+.\\d+)\"|gene_name\\t\"(\\w+.\\d+)\"|transcript_name\\t(\"\\S+)\n</code></pre>\n\n<p>And consider this text right behind:</p>\n\n<pre><code>chr1    HAVANA  exon    183647567       183647797       .       -       .       gene_id \"ENSG00000173627.7\"     transcript_id   \"ENST00000481562.1\"     gene_type       \"protein_coding\"        gene_status     \"KNOWN\" gene_name       \"APOBEC4\"       transcript_type \"processed_transcript\"  transcript_status       \"KNOWN\" transcript_name \"APOBEC4-002\"   exon_number     2       exon_id \"ENSE00001907807.1\"     level   2       transcript_support_level        \"3\"     havana_gene     \"OTTHUMG00000035459.2\"  havana_transcript       \"OTTHUMT00000086127.1\"\nchr1    HAVANA  gene    183646404       183653316       .       -       .       gene_id \"ENSG00000173627.7\"     gene_type       \"protein_coding\"        gene_status     \"KNOWN\" gene_name       \"APOBEC4\"               level   2       havana_gene     \u201cOTTHUMG00000035459.2\u201d\nchr12   HAVANA  gene    28133249        28581511        .       +       .       gene_id \"ENSG00000123106.9\"     gene_type       \"protein_coding\"        gene_status     \"KNOWN\" gene_name       \"CCDC91\"                level   2       tag     \"ncRNA_host\"    havana_gene     \"OTTHUMG00000169141.2\"\n</code></pre>\n\n<p>When grouping on Perl, i can get $1 but not $2 and $3.\nAny idea?</p>\n"}, {"tags": ["perl", "powershell"], "comments": [{"owner": {"reputation": 42491, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 2, "creation_date": 1475758028, "post_id": 39894484, "comment_id": 67078453, "body": "File path can&#39;t consist of two paths :-) Move your pl path into arguments."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 3308536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1515759231/picture?type=large", "display_name": "Haythem Houissa", "link": "https://stackoverflow.com/users/3308536/haythem-houissa"}, "is_accepted": true, "score": 0, "last_activity_date": 1493657970, "creation_date": 1493657970, "answer_id": 43723045, "question_id": 39894484, "link": "https://stackoverflow.com/questions/39894484/how-to-execute-perl-script-from-a-windows-powershell-script/43723045#43723045", "title": "How to execute perl script from a Windows Powershell script", "body": "<p>Why so complicated?\nYou can call perl doirectly like that:\n...</p>\n\n<blockquote>\n  <p>$TOOLS_PATH=\"$WORKING_PATH\\Tools\"\n  ...</p>\n</blockquote>\n\n<p>perl $TOOLS_PATH\\my_perl_script.pl arg1 arg2</p>\n\n<p>Just make sure perl executable is in Windows path </p>\n"}], "owner": {"reputation": 15, "user_id": 6931436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a9c258cefdd305c7da7ca9535cb180?s=128&d=identicon&r=PG&f=1", "display_name": "Moshe Ronen", "link": "https://stackoverflow.com/users/6931436/moshe-ronen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3501, "favorite_count": 0, "accepted_answer_id": 43723045, "answer_count": 1, "score": 0, "last_activity_date": 1493657970, "creation_date": 1475752411, "last_edit_date": 1475752639, "question_id": 39894484, "link": "https://stackoverflow.com/questions/39894484/how-to-execute-perl-script-from-a-windows-powershell-script", "title": "How to execute perl script from a Windows Powershell script", "body": "<p>I have the below <code>PowerShell</code> code:</p>\n\n<pre><code>$HOME_DIR=[Environment]::GetEnvironmentVariable(\"HOME\")\n$WORKING_PATH=\"C:\\tests\\automation\"\n$TOOLS_PATH=\"$WORKING_PATH\\Tools\"\n\nStart-Process -FilePath \"$HOME_DIR\\perl\\perl.bat\" \"$TOOLS_PATH\\my_perl_script.pl\" -ArgumentList 'arg1' 'arg2' -NoNewWindow\n</code></pre>\n\n<p>I'm getting error:</p>\n\n<pre><code>Start-Process : A positional parameter cannot be found that accepts argument 'C:\\tests\\automation\\Tools\\my_perl_script.pl'.\nAt C:\\RunUIAutomaionTests.ps1:46 char:14\n+ Start-Process &lt;&lt;&lt;&lt;  -FilePath \"$HOME_DIR\\perl\\perl.bat\" \"$TOOLS_PATH\\my_perl_script.pl\"\n-ArgumentList 'arg1' 'arg2' -NoNewWindow\n&amp;emsp;&amp;emsp;+ CategoryInfo          : InvalidArgument: (:) [Start-Process], ParameterBindingException\n&amp;emsp;&amp;emsp;+ FullyQualifiedErrorId :&lt;br&gt;&amp;emsp;&amp;emsp;PositionalParameterNotFound,Microsoft.PowerShell.Commands.StartProcessCommand\n</code></pre>\n\n<p>What I'm missing?How should I execute <code>my_perl_script.pl</code> using <code>perl.bat</code> with the arguments <code>'arg1'</code> and <code>'arg2'</code>?</p>\n"}, {"tags": ["html", "css", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 4, "creation_date": 1475745087, "post_id": 39891975, "comment_id": 67069891, "body": "There&#39;s no Perl in this question, only JavaScript. There&#39;s no sign of how the JS is triggered. There&#39;s no sign of how the Perl you haven&#39;t shared with us is triggered. There&#39;s no sign of <code>outputTable</code> or <code>outputTableName</code> in the HTML even though they are mentioned in the JavaScript. You need to provide a real <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1475745114, "post_id": 39891975, "comment_id": 67069909, "body": "<code>readonly=true</code> \u2014 This is invalid HTML. The only value you can give to the <code>readonly</code> attribute is <code>readonly</code>. Use <a href=\"https://validator.w3.org/nu/\" rel=\"nofollow noreferrer\">a validator</a>"}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1475745757, "post_id": 39891975, "comment_id": 67070359, "body": "@Quentin I put in the information for <code>outputTable</code> and <code>outputTableName</code>. The perl script is triggered on click on buttons that are present on the HTML page and a JS is called using <code>makeUserRequest2</code>. Along with the call other parameters including the PERL script path is also passed."}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1475745833, "post_id": 39891975, "comment_id": 67070416, "body": "I also changed the table attribute from <code>readonly=true</code> to <code>readonly</code>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 4, "creation_date": 1475745899, "post_id": 39891975, "comment_id": 67070461, "body": "Don&#39;t just put bits of dissociated information in there. Provide a real <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 5973, "user_id": 3089899, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/752f0363a11c65ccb868c3c4ad4cc0a9?s=128&d=identicon&r=PG", "display_name": "Nikhil Nanjappa", "link": "https://stackoverflow.com/users/3089899/nikhil-nanjappa"}, "edited": false, "score": 0, "creation_date": 1475746400, "post_id": 39891975, "comment_id": 67070812, "body": "does the &quot;Calculating branch&quot; row remain ?"}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 5973, "user_id": 3089899, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/752f0363a11c65ccb868c3c4ad4cc0a9?s=128&d=identicon&r=PG", "display_name": "Nikhil Nanjappa", "link": "https://stackoverflow.com/users/3089899/nikhil-nanjappa"}, "edited": false, "score": 0, "creation_date": 1475746969, "post_id": 39891975, "comment_id": 67071177, "body": "@NikhilNanjappa no. The entire textarea disappears."}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1475747045, "post_id": 39891975, "comment_id": 67071232, "body": "@Quentin I&#39;m not really sure how I should organize the code in that manner. But with this amount of information what do you think? Is there any attribute which will allow me to keep the textarea visible even after <code>document.getElementById(&quot;outputTableName&quot;).innerHTML = &quot;Running Jobs&quot;;</code> statement executes?"}, {"owner": {"reputation": 5973, "user_id": 3089899, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/752f0363a11c65ccb868c3c4ad4cc0a9?s=128&d=identicon&r=PG", "display_name": "Nikhil Nanjappa", "link": "https://stackoverflow.com/users/3089899/nikhil-nanjappa"}, "edited": false, "score": 0, "creation_date": 1475747339, "post_id": 39891975, "comment_id": 67071407, "body": "So you mean the entire <code>&lt;table&gt;</code> disappears, there is a <code>display: none;</code> property on your table. Are you sure you are not messing with that ?"}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 5973, "user_id": 3089899, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/752f0363a11c65ccb868c3c4ad4cc0a9?s=128&d=identicon&r=PG", "display_name": "Nikhil Nanjappa", "link": "https://stackoverflow.com/users/3089899/nikhil-nanjappa"}, "edited": false, "score": 0, "creation_date": 1475747671, "post_id": 39891975, "comment_id": 67071623, "body": "@NikhilNanjappa Yes, the entire <code>&lt;table&gt;</code> disappears and no that&#39;s not the case. The <code>display: none;</code> property ensures that when the web page is first opened, the textarea is invisible. Nevertheless, I tried running without that attribute but still didn&#39;t work"}, {"owner": {"reputation": 5973, "user_id": 3089899, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/752f0363a11c65ccb868c3c4ad4cc0a9?s=128&d=identicon&r=PG", "display_name": "Nikhil Nanjappa", "link": "https://stackoverflow.com/users/3089899/nikhil-nanjappa"}, "edited": false, "score": 0, "creation_date": 1475747770, "post_id": 39891975, "comment_id": 67071688, "body": "then can you check the web inspector for any console errors or display state of the table &amp; let me know."}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 5973, "user_id": 3089899, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/752f0363a11c65ccb868c3c4ad4cc0a9?s=128&d=identicon&r=PG", "display_name": "Nikhil Nanjappa", "link": "https://stackoverflow.com/users/3089899/nikhil-nanjappa"}, "edited": false, "score": 0, "creation_date": 1475748182, "post_id": 39891975, "comment_id": 67071983, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/125084/discussion-between-nikhil-hegde-and-nikhil-nanjappa\">continue this discussion in chat</a>."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1475757469, "post_id": 39891975, "comment_id": 67077990, "body": "It sounds like the problem is &quot;You are submitting a form and that loads a new page&quot;, but none of the relevant code needed to determine that is in the question, so <i>shug</i>."}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1475757413, "post_id": 39895670, "comment_id": 67077941, "body": "<code>innerHTML</code> doesn&#39;t appear to be the issue. The element which is having a new value of <code>innerHTML</code> set is not an ancestor of the textarea."}], "tags": [], "owner": {"reputation": 41, "user_id": 6921229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1e8d0a5288d7ebcf029fd228fa3949?s=128&d=identicon&r=PG&f=1", "display_name": "Magesh04", "link": "https://stackoverflow.com/users/6921229/magesh04"}, "is_accepted": false, "score": -1, "last_activity_date": 1475755967, "creation_date": 1475755967, "answer_id": 39895670, "question_id": 39891975, "link": "https://stackoverflow.com/questions/39891975/html-textarea-box-vanishes-on-command-execution/39895670#39895670", "title": "HTML textarea box vanishes on command execution", "body": "<p>You are using  innerHTML, that cause the issue. Basically innerHTML will remove the old html code and replace with your test \"Running Jobs\"</p>\n\n<p>instead of this, please add another html tag with id and show the result with in it.</p>\n\n<p>example:\nin body\n&lt;span id=\"backenderrormessage\"&gt;&lt;/span&gt;</p>\n\n<p>in java script:\ndocument.getElementById(\"backenderrormessage\").innerHTML = \"Running Jobs\";</p>\n"}], "owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475755967, "creation_date": 1475744936, "last_edit_date": 1475745508, "question_id": 39891975, "link": "https://stackoverflow.com/questions/39891975/html-textarea-box-vanishes-on-command-execution", "title": "HTML textarea box vanishes on command execution", "body": "<p>I have an application which is a combination of HTML front-end and PERL back-end. The back-end returns a certain message to the front-end element (a textarea box). But once the back-end sends the message to the front-end, the textbox vanishes. I think the textbox displays the message for a fleeting moment and then vanishes. How do I keep the textbox visible even after the command execution.</p>\n\n<p>Code snippet:</p>\n\n<pre><code>if(returnedResult[\"rc\"] == 10) {\n        document.getElementById(\"outputArea\").value = \"returnedResult['message']\";\n        document.getElementById(\"outputTable\").style.display = \"\";\n        document.getElementById(\"outputTableName\").innerHTML = \"Running Jobs\";\n}\n\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;td style=\"width:100%\"&gt;&lt;textarea id=\"outputArea\" readonly=true style=\"height:100%;width:100%;\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>By cross checking with debug statements, I can guarentee that the codeflow enters the <code>if</code> condition. Any help is appreciated! Thanks!</p>\n\n<p>Extra information as asked by Quentin:</p>\n\n<pre><code>&lt;table id=\"outputTable\" class=\"container\" style=\"height:40%;width:50%;display:none\" border=1 align=\"center\"&gt;\n     &lt;tr&gt;\n         &lt;td id = \"outputTableName\" style=\"width:100%;height:5%;\"&gt;Calculating branch ...&lt;/td&gt;\n     &lt;/tr&gt;\n     &lt;tr&gt;\n         &lt;td style=\"width:100%\"&gt;&lt;textarea id=\"outputArea\" readonly style=\"height:100%;width:100%;\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n     &lt;/tr&gt;\n &lt;/table&gt;\n</code></pre>\n"}, {"tags": ["bash", "perl", "shell", "awk", "sed"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 2, "creation_date": 1475747240, "post_id": 39891834, "comment_id": 67071358, "body": "your input lines do not end with <code>:</code> compared to previous version.. this effectively becomes a new question.. consider adding <code>:</code> to this version as well and ask a new question if you are not able to modify solutions"}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 2, "creation_date": 1475747343, "post_id": 39891834, "comment_id": 67071409, "body": "also mention if you need to remove all columns matching the search keyword or only first match"}], "answers": [{"tags": [], "owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "is_accepted": false, "score": 3, "last_activity_date": 1475745089, "creation_date": 1475745089, "answer_id": 39892014, "question_id": 39891834, "link": "https://stackoverflow.com/questions/39891834/how-to-remove-a-column-of-lines-if-it-had-a-word/39892014#39892014", "title": "How to remove a column of lines if it had a word", "body": "<pre><code>$ cat ip.txt \n:I want to remove a : column in the line : if the search key word exists within : that column:\n\n$ sed 's/:[^:]*word[^:]*//' ip.txt\n:I want to remove a : column in the line : that column:\n</code></pre>\n\n<ul>\n<li><code>:[^:]*</code> means <code>:</code> followed by zero or more non<code>:</code> characters</li>\n<li><code>word</code> string to match</li>\n<li><code>[^:]*</code> zero or more non<code>:</code> characters</li>\n<li>since replacement is empty, the matched string is effectively deleted</li>\n<li>Note that this will remove only first such match</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "is_accepted": false, "score": 2, "last_activity_date": 1475745407, "last_edit_date": 1475745407, "creation_date": 1475745162, "answer_id": 39892042, "question_id": 39891834, "link": "https://stackoverflow.com/questions/39891834/how-to-remove-a-column-of-lines-if-it-had-a-word/39892042#39892042", "title": "How to remove a column of lines if it had a word", "body": "<p><strong>Perl solution:</strong></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $data=':I want to remove a : column in the line : if the search key word exists within : that column:';\n\nmy @cols = split(/:/,$data);\n\nforeach my $cols(@cols) {\n    if($cols ne \"\" &amp;&amp; $cols !~ /word/) { #search keyword\n        print \":\",$cols #print other than search key word\n    }\n}\nprint \":\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 6727208, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-EcebfIxlxCs/AAAAAAAAAAI/AAAAAAAAMUA/beIoJF-am9I/photo.jpg?sz=128", "display_name": "Vijesh Kk", "link": "https://stackoverflow.com/users/6727208/vijesh-kk"}, "edited": false, "score": 0, "creation_date": 1475745746, "post_id": 39892086, "comment_id": 67070348, "body": "this worked well and most suitable for my requirement. Thanks for help."}, {"owner": {"reputation": 105, "user_id": 6727208, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-EcebfIxlxCs/AAAAAAAAAAI/AAAAAAAAMUA/beIoJF-am9I/photo.jpg?sz=128", "display_name": "Vijesh Kk", "link": "https://stackoverflow.com/users/6727208/vijesh-kk"}, "edited": false, "score": 0, "creation_date": 1475746185, "post_id": 39892086, "comment_id": 67070659, "body": "I tried it with multiple line input and I see whenever the search key word is in the last column, next line gets appended to the modified line. Is there any way to remain the next lines in newlines."}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "reply_to_user": {"reputation": 105, "user_id": 6727208, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-EcebfIxlxCs/AAAAAAAAAAI/AAAAAAAAMUA/beIoJF-am9I/photo.jpg?sz=128", "display_name": "Vijesh Kk", "link": "https://stackoverflow.com/users/6727208/vijesh-kk"}, "edited": false, "score": 0, "creation_date": 1475746246, "post_id": 39892086, "comment_id": 67070709, "body": "@VijeshKk it would be good idea to modify your question to include multiple line input file and expected output..."}, {"owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 0, "creation_date": 1475746295, "post_id": 39892086, "comment_id": 67070753, "body": "I agree with Sundeep, need sample input to modify our commands."}], "tags": [], "owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "is_accepted": true, "score": 3, "last_activity_date": 1475745278, "creation_date": 1475745278, "answer_id": 39892086, "question_id": 39891834, "link": "https://stackoverflow.com/questions/39891834/how-to-remove-a-column-of-lines-if-it-had-a-word/39892086#39892086", "title": "How to remove a column of lines if it had a word", "body": "<p>Sample input:</p>\n\n<pre><code>echo $x\n:I want to remove a : column in the line : if the search key word exists within : that column:\n</code></pre>\n\n<p><code>awk</code> solution:</p>\n\n<pre><code> echo $x |awk -v RS=\":\" -v ORS=:  '!/word/'\n:I want to remove a : column in the line : that column:\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>Use <code>RS</code> as \":\" ,will make <code>awk</code> to consider each record is separated by \":\".  Then print that record which does not contains the keyword <code>word</code> and then keep output records separated by \":\".</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6921229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1e8d0a5288d7ebcf029fd228fa3949?s=128&d=identicon&r=PG&f=1", "display_name": "Magesh04", "link": "https://stackoverflow.com/users/6921229/magesh04"}, "is_accepted": false, "score": 0, "last_activity_date": 1475768093, "last_edit_date": 1475768093, "creation_date": 1475756773, "answer_id": 39895968, "question_id": 39891834, "link": "https://stackoverflow.com/questions/39891834/how-to-remove-a-column-of-lines-if-it-had-a-word/39895968#39895968", "title": "How to remove a column of lines if it had a word", "body": "<h1>Perl Code:</h1>\n\n<pre><code>my $data=\"\n:I want to remove a : column in the line : if the search key word exists within : that column\n:I will : be using : word as : the key word\n:colon will : be used : as the : delimiter\";\n\nprint $data,\"\\n\";\n\n$data=~s/:[^:]*word[^:]*//mgi;\n\nprint $data,\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 6727208, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-EcebfIxlxCs/AAAAAAAAAAI/AAAAAAAAMUA/beIoJF-am9I/photo.jpg?sz=128", "display_name": "Vijesh Kk", "link": "https://stackoverflow.com/users/6727208/vijesh-kk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 39892086, "answer_count": 4, "score": 1, "last_activity_date": 1475771067, "creation_date": 1475744487, "last_edit_date": 1475771067, "question_id": 39891834, "link": "https://stackoverflow.com/questions/39891834/how-to-remove-a-column-of-lines-if-it-had-a-word", "title": "How to remove a column of lines if it had a word", "body": "<p>I want to remove a a column in the line if the search key word exists within that column.</p>\n\n<p>My input will be multi line input, some thing like and column delimiter is <code>:</code></p>\n\n<pre><code>:I want to remove a : column in the line : if the search key word exists within : that column\n:I will : be using : word as : the key word\n:colon will : be used : as the : delimiter\n</code></pre>\n\n<p>and search keyword is <code>word</code></p>\n\n<p>My output should be </p>\n\n<pre><code>:I want to remove a : column in the line : that column:\n:I will : be using :\n:colon will : be used : as the : delimiter\n</code></pre>\n"}, {"tags": ["perl", "repository", "http-status-code-500", "citations"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475756786, "post_id": 39891557, "comment_id": 67077457, "body": "I have no clue what this is about, but have you looked at the apache log?"}, {"owner": {"reputation": 51, "user_id": 1470936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b79b96ac833185cdf0b9cb66b977f75?s=128&d=identicon&r=PG", "display_name": "sutonium", "link": "https://stackoverflow.com/users/1470936/sutonium"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475822903, "post_id": 39891557, "comment_id": 67106679, "body": "I check the log using command: <code>tail -f &#47;var&#47;log&#47;httpd&#47;error_log</code> and upload new docs, but I dont see any errors generated..  Only some kind of weird lines like :  ``` /usr/share/eprints/archives/ub/var/last_changed.timestamp has been modified since the repository config was loaded: reloading! /usr/share/eprints/archives/ub/var/last_changed.timestamp has been modified since the repository config was loaded: reloading! /usr/share/eprints/archives/ub/var/last_changed.timestamp has been modified since the repository config was loaded: reloading! ```"}], "owner": {"reputation": 51, "user_id": 1470936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b79b96ac833185cdf0b9cb66b977f75?s=128&d=identicon&r=PG", "display_name": "sutonium", "link": "https://stackoverflow.com/users/1470936/sutonium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1475743694, "creation_date": 1475743694, "question_id": 39891557, "link": "https://stackoverflow.com/questions/39891557/eprints-500-internal-server-error-when-add-a-new-document-from-existing-record", "title": "EPrints 500 Internal Server Error when Add a new document from existing record", "body": "<p><strong>EPrints Release:  3.3.15</strong></p>\n\n<p>I've been stucked <strong>cannot upload new docs</strong> for my eprints' existing record. </p>\n\n<p>I CAN upload new docs if I create new Record (from Manage Deposit menu)</p>\n\n<p>I've checked this troubleshooting URL <a href=\"https://wiki.eprints.org/w/Troubleshooting#System_gives_a_.22500_Internal_Error.22_when_viewing_advanced_search_or_submitting_a_document\" rel=\"nofollow\">https://wiki.eprints.org/w/Troubleshooting#System_gives_a_.22500_Internal_Error.22_when_viewing_advanced_search_or_submitting_a_document</a></p>\n\n<p><em>Quote</em></p>\n\n<blockquote>\n  <p>System gives a \"500 Internal Error\" when viewing advanced search or\n  submitting a document</p>\n  \n  <p>Possible cause: No Subjects, Bug in code.</p>\n  \n  <p>Solution: Run generate_subjects</p>\n  \n  <p>If this fails: Look at your apache error log for clues. If reporting a\n  bug, include the errors from the apache error log (often, but now\n  always, found at /usr/local/apache/logs/error_log)</p>\n</blockquote>\n\n<p>But I CANNOT FIND the damn <strong>generate_subjects</strong> function/url/else...\nI've googled around but nothing</p>\n\n<p>Thanks for any helps/solutions</p>\n"}, {"tags": ["python-2.7", "perl", "python-3.x", "bioinformatics", "biopython"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1475737540, "post_id": 39889517, "comment_id": 67065253, "body": "Could you describe how you would like to sort the data? The rules aren&#39;t clear from the example."}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1475742511, "post_id": 39889517, "comment_id": 67068114, "body": "@ Choroba, I want to copy all required ATOM and then print only (C4B, O4B, C1B, C2B, C3B) as per sequence."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1475742918, "post_id": 39889517, "comment_id": 67068365, "body": "I don&#39;t get it. Why is line 3 coming before line 4, when C1B precedes C2b in the sequence line 1? Or do you sort by column 2? But then, why doesn&#39;t line 7 precede line 6?"}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1475743284, "post_id": 39889517, "comment_id": 67068630, "body": "Actually, I am following Ribose Puckering (Chemistry rule), for that I want to use. I have 2000 file to sort and make sequence as per Ribose Puckering rule. I have edited required sequence."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475743956, "post_id": 39889517, "comment_id": 67069108, "body": "In your code, you&#39;re not sorting anything. You just open a lot of files and print a bunch of stuff."}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1475744070, "post_id": 39889517, "comment_id": 67069190, "body": "Yeah, I don&#39;t know how to sort this type of sequence, I am new in perl"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1475745026, "post_id": 39889517, "comment_id": 67069852, "body": "This is a programming site, not chemistry. Can you explain the rule?"}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1475745179, "post_id": 39889517, "comment_id": 67069945, "body": "Dear @choroba, Simply I want to copy data from input file and then paste as per this sequence &quot;C4B-O4B-C1B-C2B&quot; (this is atom name). I have also edited expected output, I want to sort data as per sequence."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1475745284, "post_id": 39889517, "comment_id": 67070019, "body": "Then again, why is line 3 coming before line 4, when C1B precedes C2B in the sequence line 1?"}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1475745492, "post_id": 39889517, "comment_id": 67070164, "body": "Dear, Its a sequence, that why I want to follow same rule. data will be same but position will be change for all coming atom. I want to copy paste as per given sequence."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475749998, "post_id": 39889517, "comment_id": 67073094, "body": "We don&#39;t understand the rule unless you explain it. How does it relate to sorting?"}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1475770776, "post_id": 39889517, "comment_id": 67087534, "body": "I just want to print same data, multiple time"}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475911806, "post_id": 39889517, "comment_id": 67142553, "body": "@simbabque and choroba, I have explained above, its like matrix problem"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1475770695, "post_id": 39894862, "comment_id": 67087500, "body": "Thanks @xbello, can you please let me know how to add directory for input and output. I have 2000 pdb files and chain ID may be A to Z."}, {"owner": {"reputation": 6231, "user_id": 1688590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5h8db.jpg?s=128&g=1", "display_name": "xbello", "link": "https://stackoverflow.com/users/1688590/xbello"}, "reply_to_user": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1475771872, "post_id": 39894862, "comment_id": 67088173, "body": "You have to use either <code>os.path</code> or <code>glob</code> modules, and use the results to feed the parser/writer functions. It&#39;s a whole different question."}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1475772600, "post_id": 39894862, "comment_id": 67088569, "body": "I have tried but getting error can you please edit above program"}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1475827757, "post_id": 39894862, "comment_id": 67109237, "body": "Please let me know how to add chain A to Z and atom name: C4B-O4B-C1B-C2B-O4B-C1B-C2B-C3B-C1B-C2B-C3B-C4B-C2B-C3B-C4B-&zwnj;&#8203;O4B-C3B-C4B-O4B-C1B."}, {"owner": {"reputation": 6231, "user_id": 1688590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5h8db.jpg?s=128&g=1", "display_name": "xbello", "link": "https://stackoverflow.com/users/1688590/xbello"}, "reply_to_user": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1475829251, "post_id": 39894862, "comment_id": 67110044, "body": "Have you ever used python? You have to tweak the <code>Chain.Chain(&quot;A&quot;)</code> and <code>for atom_name in &quot;O4B-C1B-C2B-C3B&quot;</code> lines to suit your needs, that are very unclear. Did you notice that your expected results doesn&#39;t include other chain than &quot;A&quot;?"}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1475831612, "post_id": 39894862, "comment_id": 67111409, "body": "Yeah I used python, but not much I am new in python, I tried this Chain.Chain(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;) and for atom_name in &quot;C4B-O4B-C1B-C2B-O4B-C1B-C2B-C3B&quot;. but getting error. sorry for trouble but please try to help me dear."}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1476259262, "post_id": 39894862, "comment_id": 67264740, "body": "Do you have any solution? please let me know"}, {"owner": {"reputation": 6231, "user_id": 1688590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5h8db.jpg?s=128&g=1", "display_name": "xbello", "link": "https://stackoverflow.com/users/1688590/xbello"}, "reply_to_user": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1476273853, "post_id": 39894862, "comment_id": 67273964, "body": "No, appart from what is already posted. You question is too broad and you didn&#39;t supply any code on your own that we can fix. It&#39;s almost impossible to code something that suits your data without viewing code nor data."}, {"owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "edited": false, "score": 0, "creation_date": 1476282231, "post_id": 39894862, "comment_id": 67279962, "body": "Okay dear no problem, Thanks"}], "tags": [], "owner": {"reputation": 6231, "user_id": 1688590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5h8db.jpg?s=128&g=1", "display_name": "xbello", "link": "https://stackoverflow.com/users/1688590/xbello"}, "is_accepted": false, "score": 0, "last_activity_date": 1475753500, "creation_date": 1475753500, "answer_id": 39894862, "question_id": 39889517, "link": "https://stackoverflow.com/questions/39889517/i-want-to-sort-data-from-pdb-file-in-perl-or-python/39894862#39894862", "title": "I want to sort data from pdb file in perl or python", "body": "<p>If you want to use Biopython, you have to create all the <a href=\"http://biopython.org/DIST/docs/api/Bio.PDB.Chain-module.html\" rel=\"nofollow\">Chains</a> and insert the <a href=\"http://biopython.org/DIST/docs/api/Bio.PDB.Atom-module.html\" rel=\"nofollow\">Atoms</a> in it. But the atoms must be hold in a <a href=\"http://biopython.org/DIST/docs/api/Bio.PDB.Residue-module.html\" rel=\"nofollow\">Residue</a> for this to work out:</p>\n\n<pre><code>from Bio.PDB import PDBParser, PDBIO, Chain, Residue\n\n# This is your source structure\npdb = PDBParser().get_structure(\"UGLY\", \"ugly.pdb\")\n\n# Now you cycle all your chains\nfor chain in pdb.get_chains():\n    # Load all the atoms and residues in each Chain\n    atoms = list(chain.get_atoms())\n    residues = list(chain.get_residues())\n\n    # Start a new structure to save the output\n    io = PDBIO()\n    this_chain = Chain.Chain(\"A\")\n    this_residue = Residue.Residue(residues[0].id,\n                                   residues[0].resname,\n                                   residues[0].segid)\n\n    # Now get the atoms in your source structure that matches your sort keys\n    # You should refactor this out to a function that accepts a sort key\n    #  and returns a list of atoms or a residue with the atoms added.\n    for atom_name in \"O4B-C1B-C2B-C3B\".split(\"-\"):\n        for atom in atoms:\n            if atom.get_name() == atom_name:\n                this_residue.add(atom)\n\n    # Add the residue to a structure and save it\n    this_chain.add(this_residue)\n    io.set_structure(this_chain)\n    # And now write your output file. Remember to change the name!\n    io.save(\"temp.pdb\")\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 6448838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd81a04577b17109b079bd4af168acaa?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/6448838/krish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1475912019, "creation_date": 1475737244, "last_edit_date": 1475912019, "question_id": 39889517, "link": "https://stackoverflow.com/questions/39889517/i-want-to-sort-data-from-pdb-file-in-perl-or-python", "title": "I want to sort data from pdb file in perl or python", "body": "<p>I want to print sequence of Ribose Puckering. </p>\n\n<p>Script in perl: </p>\n\n<pre><code>   open (filehandler, \"List_NAD_ID.txt\") or die $!; #Input file\n   my @file1=&lt;filehandler&gt;;\n\n   my $OutputDir = 'C:\\Users\\result'; #output directory path\n\n   foreach my $line (@file1)\n   {\n       chomp $line; \n       open (fh,\"$line\") or die $!;\n       open (out, \"&gt;$OutputDir/$line.pdb\") or die $!;           \n       print out \"\\n\" , \"$line  \";  \n       print out \"\\n\";\n\n       while($file = &lt;fh&gt;)\n       {\n\n\n            if($file =~/^HETATM.{7}(?:C4B|O4B|C1B|C2B|O4B|C1B|C2B|C3B|C1B|C2B|C3B|C4B|C2B|C3B|C4B|O4B|C3B|C4B|O4B|C1B)/)  \n            {\n\n                print out \"$file\";\n            }\n       }\n       print \"Completed\", \"\\n\";\n  }\n</code></pre>\n\n<p>I have pdb input file: </p>\n\n<pre><code> HETATM 3934  C4B NAD A 255      10.495 -11.444   1.016  1.00 50.46           C  \n HETATM 3935  O4B NAD A 255      10.768 -11.615   2.448  1.00 48.17           O  \n HETATM 3936  C3B NAD A 255      10.445 -12.867   0.431  1.00 49.69           C  \n HETATM 3938  C2B NAD A 255      10.431 -13.759   1.675  1.00 48.46           C  \n HETATM 3940  C1B NAD A 255      11.323 -12.898   2.593  1.00 46.97           C  \n HETATM 3978  C4B NAD B 256      14.596   1.733  33.219  1.00 50.48           C  \n HETATM 3979  O4B NAD B 256      14.370   0.578  32.357  1.00 48.22           O  \n HETATM 3980  C3B NAD B 256      14.940   1.177  34.603  1.00 49.64           C  \n HETATM 3982  C2B NAD B 256      14.987  -0.347  34.401  1.00 48.48           C  \n HETATM 3984  C1B NAD B 256      14.066  -0.517  33.189  1.00 46.98           C  \n</code></pre>\n\n<p>Expected Result:</p>\n\n<p>I want to copy following atom and then paste as per following sequence. All should be chain wise. (Chain \"A, B, C,..........\")</p>\n\n<pre><code> HETATM 3934  **C4B** NAD **A** 255      10.495 -11.444   1.016  1.00 50.46           C  \n HETATM 3935  **O4B** NAD **A** 255      10.768 -11.615   2.448  1.00 48.17           O\n HETATM 3938  **C2B** NAD **A** 255      10.431 -13.759   1.675  1.00 48.46           C  \n HETATM 3940  **C1B** NAD **A** 255      11.323 -12.898   2.593  1.00 46.97           C    \n HETATM 3935  **O4B** NAD **A** 255      10.768 -11.615   2.448  1.00 48.17           O  \n HETATM 3940  **C1B** NAD **A** 255      11.323 -12.898   2.593  1.00 46.97           C  \n HETATM 3938  **C2B** NAD **A** 255      10.431 -13.759   1.675  1.00 48.46           C  \n HETATM 3936  **C3B** NAD **A** 255      10.445 -12.867   0.431  1.00 49.69           C \n .\n .\n .\n</code></pre>\n\n<p>I have five level of paste sequence, v0,v1,v2,v3,v4.</p>\n\n<p>Sequence is:</p>\n\n<pre><code>C4B-O4B-C1B-C2B\nO4B-C1B-C2B-C3B\nC1B-C2B-C3B-C4B\nC2B-C3B-C4B-O4B\nC3B-C4B-O4B-C1B\n</code></pre>\n\n<p>This all sequence, I want to print data as per above sequence. I have also edited expected result.</p>\n\n<p>I want to sort data as per above sequence, chain wise. I am not getting expected result. I have tried in perl. I am new in perl and python... so please try to solve my problem</p>\n\n<p>Its Like matrix problem:</p>\n\n<p>for example we have five values: 1,2,3,4,5</p>\n\n<pre><code>Row 1 - 1  2  3  4  \nRow 2 - 2  3  4  5 \nRow 3 - 3  4  5  1\nRow 4 - 4  5  1  2 \n</code></pre>\n\n<p>I want to print data like that for each chain. Chain A to Z.</p>\n"}, {"tags": ["perl", "intellij-idea", "strawberry-perl"], "comments": [{"owner": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "edited": false, "score": 0, "creation_date": 1475729520, "post_id": 39887754, "comment_id": 67061858, "body": "<code>print &quot;stuff&quot; </code> does go to STDOUT, right?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1475733148, "post_id": 39887754, "comment_id": 67063167, "body": "General syntax of print is <code>print FILEHANDLE LIST</code>. If FILEHANDLE is omitted, then it prints to the last selected (see select) output handle. So unless you have changed FILEHANDLE using <code>select</code> then it will print to default FILEHANDLE which is STDOUT."}], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1475737167, "post_id": 39887920, "comment_id": 67065035, "body": "Is there any way I can use Cygwin instead of Strawberry Perl??"}, {"owner": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "edited": false, "score": 0, "creation_date": 1475761180, "post_id": 39887920, "comment_id": 67080731, "body": "You are also using the absolute path for perl, but you&#39;re on linux, so you can&#39;t possibly answer the question properly, as you&#39;re not using Strawberry Perl.  I&#39;m on windows, if that wasn&#39;t obvious.  Where do you &quot;do&quot; <code>set PATH=C:\\Strawberry\\perl\\bin;%PATH%</code>?"}, {"owner": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 2, "creation_date": 1475763159, "post_id": 39887920, "comment_id": 67082171, "body": "@abhinickz In intellij?  Maybe you should ask that question yourself separately?"}, {"owner": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "edited": false, "score": 0, "creation_date": 1475763302, "post_id": 39887920, "comment_id": 67082280, "body": "@Chankey, see updated answer.  I did actually originally setup the perl plugin through his guide, but I didn&#39;t do the module part.  I didn&#39;t understand what <code>DTL-fast</code> is, or why it is necessary.  I just imported my perl code.  I don&#39;t think that should make a difference to this, but let me know what you think."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "edited": false, "score": 0, "creation_date": 1475817531, "post_id": 39887920, "comment_id": 67104533, "body": "@Menasheh Share the script and input data."}, {"owner": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "edited": false, "score": 0, "creation_date": 1475818602, "post_id": 39887920, "comment_id": 67104883, "body": "The script is linked at the end of the post.  <a href=\"https://github.com/menasheh/mancala/blob/master/Mancala.pl\" rel=\"nofollow noreferrer\">here</a>  - You can run it in a normal command line first to see what inputs its supposed to take."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1475732011, "last_edit_date": 1475732011, "creation_date": 1475730428, "answer_id": 39887920, "question_id": 39887754, "link": "https://stackoverflow.com/questions/39887754/executing-perl-script-inside-intellij-idea/39887920#39887920", "title": "Executing Perl script inside IntelliJ Idea", "body": "<p>Works fine for me. Below are the steps:</p>\n\n<ol>\n<li>Create a project</li>\n<li>Right click on project and select <code>New</code>, then select <code>Perl5 file</code></li>\n<li>Give a name to file and select <code>Script</code> from dropdown</li>\n<li>Write your script, save it</li>\n<li>Press <code>CTRL+SHIFT+F10</code></li>\n<li>Provide some data as user input then press <code>Enter</code></li>\n</ol>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SX1Fb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SX1Fb.png\" alt=\"enter image description here\"></a></p>\n\n<p>If it still does not work for you then perhaps you have not setup your Perl properly.</p>\n\n<p>Go to <code>File-&gt;Project Structure</code> and add perl to <code>Project SDK</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Elzvv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Elzvv.png\" alt=\"enter image description here\"></a></p>\n\n<p>As per your screenshot I can see that you are using <code>absolute path</code> for <code>perl.exe</code>. That means you have not added <code>perl</code> to your <code>PATH</code>. That seems to be the issue why IntelliJ is not finding it to execute your script.</p>\n\n<p>Do</p>\n\n<pre><code>set PATH=C:\\Strawberry\\perl\\bin;%PATH%\n</code></pre>\n\n<p>If that also doesn't fix the issue for you then go through the <a href=\"https://github.com/Camelcade/Perl5-IDEA/wiki/Getting-started:-IntelliJ-IDEA\" rel=\"nofollow noreferrer\">wiki page of Camelcade plugin</a>. Author has provided step by step instructions there on how to setup this plugin.</p>\n"}, {"tags": [], "owner": {"reputation": 112608, "user_id": 419, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dySwp.jpg?s=128&g=1", "display_name": "Kev", "link": "https://stackoverflow.com/users/419/kev"}, "is_accepted": false, "score": 0, "last_activity_date": 1487787537, "last_edit_date": 1495540808, "creation_date": 1487787537, "answer_id": 42399319, "question_id": 39887754, "link": "https://stackoverflow.com/questions/39887754/executing-perl-script-inside-intellij-idea/42399319#42399319", "title": "Executing Perl script inside IntelliJ Idea", "body": "<p>Try adding:</p>\n\n<pre><code>$| = 1;\n</code></pre>\n\n<p>...to the top of your script. Perl buffers <code>stdout</code>, adding <code>$| = 1;</code> causes the buffer to flush immediately and should display output from your <code>print</code> statements in the IntelliJ debug console.</p>\n\n<p>See also:</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/6303515/perl-1-what-is-this\">perl $|=1; What is this?</a></p>\n</blockquote>\n"}], "owner": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7019, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1487787537, "creation_date": 1475729494, "last_edit_date": 1475765778, "question_id": 39887754, "link": "https://stackoverflow.com/questions/39887754/executing-perl-script-inside-intellij-idea", "title": "Executing Perl script inside IntelliJ Idea", "body": "<p>I'm trying to use IntelliJ Idea to work on a <a href=\"https://github.com/menasheh/mancala/blob/master/Mancala.pl\" rel=\"nofollow noreferrer\">perl script</a>.  I installed the <a href=\"https://github.com/Camelcade/Perl5-IDEA\" rel=\"nofollow noreferrer\">perl plugin</a> for IDEA as well as <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a> for Windows (10).</p>\n\n<p>The syntax highlighting and other features work, but this is what happens when I try to run the program:</p>\n\n<p><img src=\"https://i.stack.imgur.com/CnoYz.png\" alt=\"Running the Program\"></p>\n\n<p>I'm a beginner at perl, so I'm still just using command line stuff and ASCII graphics.  I was hoping to simply run, test, and debug my perl programs in IntelliJ, but the <code>print</code> statement isn't putting anything in this dialog when perl runs...  </p>\n\n<p>I can still type stuff in the above image where the cursor is, and typing the wrong stuff can throw errors as it is supposed to.  So <code>&lt;STDIN&gt;</code> seems to be properly mapped, but <code>&lt;STDOUT&gt;</code> is not?  Or is something else wrong?</p>\n\n<p>If I copy the command that it shows it is running to cmd, it works perfectly:</p>\n\n<p><img src=\"https://i.stack.imgur.com/9JaHL.png\" alt=\"Mancala working\"></p>\n\n<p>So is there a way to configure intellij to get <code>&lt;STDOUT&gt;</code> in this dialog? Any help would be appreciated.</p>\n\n<hr>\n\n<p>Now, following Chankey's answer, I've made a test script, and that one works:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6DFRQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6DFRQ.png\" alt=\"Test.pl working\"></a></p>\n\n<p>Maybe the problem is that I imported the perl file from an external source, and IntelliJ doesn't realize it is a script, or something like that?  But if I copy the code into the new file, it doesn't work either...</p>\n\n<p>The test.pl had one difference: <code>use warnings FATAL =&gt; 'all';</code> instead of <code>use warnings;</code>.  When I try this, it works until I type a string where numeric input is expected, and then prints a whole bunch of what it should have been printing all along as it quits the program: </p>\n\n<p><a href=\"https://i.stack.imgur.com/Ty2iW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ty2iW.png\" alt=\"Some of the output shown now\"></a></p>\n\n<p>Again, the output works fine in cmd, so I think this is an issue with IntelliJ.  Any ideas?  Maybe the @ symbols are creating issues?  Something else?  If anyone uses IDEA for windows and wants to toy around with my code, it's available on <a href=\"https://github.com/menasheh/mancala/blob/master/Mancala.pl\" rel=\"nofollow noreferrer\">github</a>.</p>\n"}]