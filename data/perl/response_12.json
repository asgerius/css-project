[{"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1427929952, "post_id": 29402224, "comment_id": 46980307, "body": "<a href=\"http://en.wikipedia.org/wiki/Complement_%28set_theory%29#Relative_complement\" rel=\"nofollow noreferrer\">Set Difference</a>"}, {"owner": {"reputation": 1090, "user_id": 905927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290786897f51fbd76a589169d2170607?s=128&d=identicon&r=PG", "display_name": "rouzier", "link": "https://stackoverflow.com/users/905927/rouzier"}, "edited": false, "score": 0, "creation_date": 1427930487, "post_id": 29402224, "comment_id": 46980516, "body": "You can find additional information on grep here <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/grep.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1427930123, "post_id": 29402427, "comment_id": 46980373, "body": "What&#39;s the point of wrapping it in <code>[</code>...<code>]</code> just to turn around and dereference it with <code>@{</code>...<code>}</code>?  Why not just return the inner array directly?"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "reply_to_user": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1427930439, "post_id": 29402427, "comment_id": 46980500, "body": "I believe that&#39;s to force <code>return</code> to treat the return value as an <i>array</i> instead of a <i>list</i> in scalar context. If someone were to want the number of differences (<code>$foo = array_diff(@one, @two)</code>), a list would return the right-most value and an array would return the size of the array."}, {"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1427930539, "post_id": 29402427, "comment_id": 46980528, "body": "Ah, indeed!  Thanks, @JimDavis"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "reply_to_user": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1427930568, "post_id": 29402427, "comment_id": 46980540, "body": "(In this case, the right-most value being the scalar context of <code>keys %e</code>.)"}, {"owner": {"reputation": 315, "user_id": 3466082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6a7685ff3f32a9e202a77684736490?s=128&d=identicon&r=PG&f=1", "display_name": "daazakali", "link": "https://stackoverflow.com/users/3466082/daazakali"}, "edited": false, "score": 0, "creation_date": 1427939522, "post_id": 29402427, "comment_id": 46982739, "body": "@JimDavis/choroba, brilliant! Thank you! My use case is to take the &quot;keys&quot; from 2 hashes(OLD and NEW) and compare the deltas. It was possible to lose some keys in hash OLD and some new keys to be added to hash NEW. I wanted to get this info. Based on your explanation, I took out the &quot;, keys %e&quot; to get only those keys that did not exist. This helped me to get what i wanted. This sub is fast (I had a (2*n)**2 solution. wow, thanks gentlemen"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 315, "user_id": 3466082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6a7685ff3f32a9e202a77684736490?s=128&d=identicon&r=PG&f=1", "display_name": "daazakali", "link": "https://stackoverflow.com/users/3466082/daazakali"}, "edited": false, "score": 2, "creation_date": 1427965498, "post_id": 29402427, "comment_id": 46991593, "body": "@daazakali: For hashes, you can use a different approach: <code>my %deleted = %old; delete @deleted{ keys %new }; my %added = %new; delete @added{ keys %old };</code>."}], "tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 3, "last_activity_date": 1427930011, "last_edit_date": 1427930011, "creation_date": 1427929900, "answer_id": 29402427, "question_id": 29402224, "link": "https://stackoverflow.com/questions/29402224/arrayutils-what-does-this-perl-blurb-do/29402427#29402427", "title": "Array::Utils what does this perl blurb do?", "body": "<pre><code>return @{\n    [ \n        (\n            grep {\n                !delete $e{$_}\n            }\n            @{ $_[0] }\n        ),\n        keys %e\n    ]\n};\n</code></pre>\n\n<p>For every entry <code>$_</code> in <code>@{ $_[0] }</code>, delete the associated hash key from <code>%e</code>.</p>\n\n<p><code>delete</code> should return (in scalar context) the value of the last element deleted.  In this case, if the key is found, the value will be <code>1</code>.  If the key isn't found, it'll return <code>undef</code>.  These values will be negated by the <code>!</code> such that, if it's <em>not</em> found we'll get a <code>1</code> (true), and if it <em>is</em> found we get <code>''</code> (false).  So that'll pick out all the items in <code>@{ $_[0] }</code> that <em>aren't</em> in <code>keys %e</code>, and then it appends all of <em>the remaining</em> keys from <code>%e</code> to that list.</p>\n\n<p>It's all tucked into an anonymous array (<code>[ ... ]</code>) which is dereferenced with <code>@{ ... }</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 315, "user_id": 3466082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6a7685ff3f32a9e202a77684736490?s=128&d=identicon&r=PG&f=1", "display_name": "daazakali", "link": "https://stackoverflow.com/users/3466082/daazakali"}, "edited": false, "score": 0, "creation_date": 1427945578, "post_id": 29403324, "comment_id": 46984063, "body": "Very Helpful - your detailed summary cemented it permanently. These 2 responses are keepers. Thank you for taking the time and putting in the extra effort."}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": false, "score": 3, "last_activity_date": 1428005174, "last_edit_date": 1428005174, "creation_date": 1427935932, "answer_id": 29403324, "question_id": 29402224, "link": "https://stackoverflow.com/questions/29402224/arrayutils-what-does-this-perl-blurb-do/29403324#29403324", "title": "Array::Utils what does this perl blurb do?", "body": "<p>Jim Davis' answer is good and he answered first, so you should accept his answer. But I'm going to put my own spin on things anyway just in an attempt to expand on it and maybe teach some fishing.</p>\n\n<p>When disentangling a complex expression, I find it's helpful to work from the inside out.  So let's start with the innermost value:</p>\n\n<pre><code>$_[0] \n</code></pre>\n\n<p>That's just the first argument to the subroutine.  The signature <code>(\\@\\@)</code> means that it's written to take two arrays and turn them into references, so you can call <code>array_diff @foo, @bar</code> and it will behave as if you'd written <code>array_diff \\@foo, \\@bar</code> or <code>array_diff [@foo], [@bar]</code>. It's therefore safe to assume that both <code>$_[0]</code> and <code>$_[1]</code> are array references. </p>\n\n<p>The first line of code, as you stated, dereferences the second array and turns it into a hash of its unique elements. We're not doing that here, but we still need to dereference the first array to get its elements back out:</p>\n\n<pre><code>@{ $_[0] }\n</code></pre>\n\n<p>We then pass that list of elements to <code>grep</code>:</p>\n\n<pre><code>grep { ... } @{ $_[0] }\n</code></pre>\n\n<p>This will run the code represented by <code>...</code> on each element of the list and return a new list containing only the elements for which that code returns a true value.  So let's look inside the block and see what the code actually is:</p>\n\n<pre><code>!delete $e{$_}\n</code></pre>\n\n<p>That will (attempt to) delete any element whose key is <code>$_</code> (that is, the current element of <code>@{$_[0]}</code>) out of the hash <code>%e</code> (which was constructed from <code>@{$_[1]}</code>). If the element is not found, the <code>delete</code> will return <code>undef</code> (false), and the <code>!</code> will turn that into 1 (true). So the block will return a true value only for the elements that the <code>delete</code> fails on. That means the <code>grep</code> will return only those elements that <em>don't</em> exist in the hash (and therefore, didn't exist in the second array). As a side effect, moreover, all the elements that exist in <em>both</em> arrays - which are not returned by the <code>grep</code> - will also be deleted from the hash.</p>\n\n<p>Note that this idiom only works because the code that populated <code>%e</code> set all of the values to 1, which is a true value.  A successful <code>delete</code> returns the deleted value, so if any of those hash values were false, the associated keys would be included in the result of the <code>grep</code> even though they had been in the second array.</p>\n\n<p>We then append the keys that are still in the hash to the end of the list returned by the <code>grep</code>:</p>\n\n<pre><code>( grep { !delete $e{$_} } @{$_[0]} ), keys %e \n</code></pre>\n\n<p>This expression represents our desired return value: all the elements that are in only one of the two arrays. To the left of the comma are the elements in the first array but not the second (returned by the <code>grep</code>); to the right, the elements in the second array but not the first (put into <code>%e</code> and not deleted by the <code>grep</code>).</p>\n\n<p>The parentheses around the <code>grep</code> call are needed because of precedence.  Perl will just keep building a list as long as it sees more commas, so without the parentheses, the expression would be interpreted like this:</p>\n\n<pre><code>  grep { !delete $e{$_} } ( @{$_[0]}, keys %e )\n</code></pre>\n\n<p>which is not what we want at all, since that will delete <em>everything</em> from <code>%e</code> and return just elements that appear only in the first array.</p>\n\n<p>So if that's our desired result, we can just return it and we're done, right?  Right - as long as the subroutine is called in list context. But if it's called in scalar context, the caller will get only the last element of the difference list - probably not the most helpful behavior for this routine in that circumstance. </p>\n\n<p>Putting the list into an anonymous array and then dereferencing that array is pointless busywork in list context, but it ensures that in scalar context, the return value of the subroutine is the number of elements in the list, instead of a particular element (randomly selected, at that, since hash keys are unordered). </p>\n\n<p>The construction of an array is the key to the correct scalar context behavior; it need not be an anonymous one. So you could also do this:</p>\n\n<pre><code>return my @result = ( grep { !delete $e{$_} } @{ $_[0] } ), keys %e;\n</code></pre>\n\n<p>Although that might lead someone to \"optimize\" the code by removing the extra variable.</p>\n"}], "owner": {"reputation": 315, "user_id": 3466082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6a7685ff3f32a9e202a77684736490?s=128&d=identicon&r=PG&f=1", "display_name": "daazakali", "link": "https://stackoverflow.com/users/3466082/daazakali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 29402427, "answer_count": 2, "score": 0, "last_activity_date": 1428005174, "creation_date": 1427928721, "last_edit_date": 1427929121, "question_id": 29402224, "link": "https://stackoverflow.com/questions/29402224/arrayutils-what-does-this-perl-blurb-do", "title": "Array::Utils what does this perl blurb do?", "body": "<p>I have been staring at this code (from Array::Utils:array_diff) :</p>\n\n<pre><code>sub array_diff(\\@\\@) {\n    my %e = map {$_=&gt;1} @{$_[1]};\n    return @{[ ( grep { !delete $e{$_} } @{ $_[0] } ), keys %e ] };\n}\n</code></pre>\n\n<p>Can somebody please breakdown the 2nd line of the subroutine for me? Where can i find additional grep documentation for the syntax used above? I understand the first line where a hash is created  out of the second argument passed to the method.</p>\n"}, {"tags": ["perl", "unix", "hash"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1427924551, "post_id": 29401277, "comment_id": 46978343, "body": "I don&#39;t think it&#39;s the problem you describe, but keep in mind that <code>readdir</code> doesn&#39;t return the path to the file, just the filename.  Unless you&#39;re current directory is in <code>$tmp</code>, you have to prepend the path (<code>$tmp</code> here) yourself, like <code>next if -d &quot;$tmp&#47;$files&quot;</code>"}, {"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1427925066, "post_id": 29401277, "comment_id": 46978540, "body": "@JimDavis Changing the line <code>next if((-f $files) and (-d $files));</code> to <code>next if(-d &quot;$tmp&#47;$files&quot;);</code> did get rid of <code>.X11-unix&#47;</code> in the output.  Now I just need to have it ignore all files except those with the name syntax <code>.X*-lock</code> as <code>cheese</code> is still showing up.  Closer! Thanks :)"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "edited": false, "score": 0, "creation_date": 1427925575, "post_id": 29401511, "comment_id": 46978773, "body": "That works! Do you have somewhere you could point me to understand the <code>&#47;\\A\\.X\\d+-lock\\z&#47;;</code> a little better?  Thanks"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "reply_to_user": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "edited": false, "score": 0, "creation_date": 1427928849, "post_id": 29401511, "comment_id": 46979964, "body": "There&#39;s <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a>, but I&#39;ll edit the answer to document it a little better."}], "tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 1, "last_activity_date": 1427928992, "last_edit_date": 1427928992, "creation_date": 1427925207, "answer_id": 29401511, "question_id": 29401277, "link": "https://stackoverflow.com/questions/29401277/perl-opendir-while-readdir-next-if-hash/29401511#29401511", "title": "Perl: opendir, while readdir, next if, hash", "body": "<p>I'd probably do something like this:</p>\n\n<pre><code>opendir (my $dirhandle, $tmp) or die \"Error in opening dir $tmp: $!\";\nwhile (my $file = readdir($dirhandle)) {\n    # skip directories and files in our hash\n    next if -d \"$tmp/$file\" || $h{$file};\n    # skip files that don't look like .X###-lock\n    next unless $file =~ /\n        \\A    # beginning of string\n        \\.    # a literal '.'\n        X     # a literal 'X'\n        \\d+   # 1 or more numeric digits\n        -lock # literal string '-lock'\n        \\z    # the end of the string\n    /x; # 'x' allows free whitespace and comments in regex\n#   unlink(\"$tmp/$file\");\n    print \"$file\\n\"\n}\nclosedir($dirhandle);\n</code></pre>\n\n<p>If you find it more readable, that last conditional could be written as:</p>\n\n<pre><code>next if $file !~ /\\A\\.X\\d+-lock\\z/;\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>    if ($file =~ /\\A\\.X\\d+-lock\\z/) {\n    #   unlink(\"$tmp/$file\");\n        print \"$file\\n\"\n    }\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "accepted_answer_id": 29401511, "answer_count": 1, "score": 0, "last_activity_date": 1427928992, "creation_date": 1427924124, "last_edit_date": 1495541830, "question_id": 29401277, "link": "https://stackoverflow.com/questions/29401277/perl-opendir-while-readdir-next-if-hash", "title": "Perl: opendir, while readdir, next if, hash", "body": "<p>I have a directory <code>$tmp</code> that contains files with the name syntax <code>.X*-lock</code> as well as other plain files and directories.  </p>\n\n<p>I compare the contents of <code>$tmp</code> with values in a hash table corresponding to <code>.X*-lock</code> file names that should NOT be deleted.  I then want the script to delete any, and ONLY <code>.X*-lock</code> files that aren't in the hash table.  It cannot delete plain files (non \".\" files), directories, or <code>.</code> &amp; <code>..</code>  </p>\n\n<p>here's some code:</p>\n\n<pre><code> my %h = map { $_ =&gt; 1 } @locked_ports;\n #open /tmp and find the .X*-lock files that DO NOT match locked_ports (NOT WORKING)\n\nopendir (DIR, $tmp ) or die \"Error in opening dir $tmp\\n\";\n    while ( (my $files = readdir(DIR)))\n    {\n      next if((-f $files) and (-d $files));\n      next if exists $h{$files};\n      #unlink($files) if !-d $files;\n        if (! -d $files){print \"$files\\n\"};\n     }\n      closedir(DIR);\n</code></pre>\n\n<p>As you can see, for now I replaced <code>unlink</code> with <code>print</code> so I know the proper files are being listed.</p>\n\n<p>Let's say in my <code>$tmp</code> dir I have the following files and directories:</p>\n\n<pre><code>./\n../\ncheese\n.X0-lock\n.X10-lock\n.X11-unix/\n.X1-lock\n.X2-lock\n.X3-lock\n.X4-lock\n.X5-lock\n</code></pre>\n\n<p>But only <code>.X1-lock</code> is in the hash table.  Thus I want to print/delete all other <code>.X*-lock</code> files, but not the <code>.X11-unix/</code> dir, the <code>cheese</code> file, or the <code>.</code> &amp; <code>..</code></p>\n\n<p>With the above code, it does not print <code>.</code> or <code>..</code> which is good, but it does print <code>cheese</code> and <code>.X11-unix</code>.  How can I change it so these are not printed as well?</p>\n\n<p>(note: this is a stem off <a href=\"https://stackoverflow.com/questions/29396526/perl-foreach-line-split-modify-the-string-set-to-array-opendir-next-if-fil\">Perl: foreach line, split, modify the string, set to array. Opendir, next if files=modified string. Unlink files</a>  I was told to stop asking more questions in the comments so I made a new question.)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 1, "creation_date": 1427920633, "post_id": 29400261, "comment_id": 46976455, "body": "you need <code>use strict;</code> at the top of your file"}, {"owner": {"reputation": 1, "user_id": 4171913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c051cfa95ba95c1e85272653539b534d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Kim", "link": "https://stackoverflow.com/users/4171913/francis-kim"}, "reply_to_user": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1427920943, "post_id": 29400261, "comment_id": 46976642, "body": "I tried that one but new error comes up, says Bareword &quot;FILE&quot; not allowed while &quot;strict subs&quot; in use......"}, {"owner": {"reputation": 1, "user_id": 4171913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c051cfa95ba95c1e85272653539b534d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Kim", "link": "https://stackoverflow.com/users/4171913/francis-kim"}, "edited": false, "score": 0, "creation_date": 1427921785, "post_id": 29400261, "comment_id": 46977120, "body": "I&#39;m using DWIM Perl 5.14.2.1 (v7) this one."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1427921814, "post_id": 29400261, "comment_id": 46977132, "body": "Your first <code>while (&lt;FILE&gt;)</code> loop read the entire file. The second loop reads nothing, because the entire file has already been read."}, {"owner": {"reputation": 1, "user_id": 4171913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c051cfa95ba95c1e85272653539b534d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Kim", "link": "https://stackoverflow.com/users/4171913/francis-kim"}, "edited": false, "score": 0, "creation_date": 1427922180, "post_id": 29400261, "comment_id": 46977324, "body": "so do I need to remove while(&lt;FILE&gt;) after first one?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1427922690, "post_id": 29400261, "comment_id": 46977555, "body": "Please don&#39;t change the code in your question when people point out the cause of your issues. That will make things confusing for future visitors who come to this page; they will see a question that says &quot;I&#39;m doing Y, why isn&#39;t it working?&quot; followed by answers that say &quot;You&#39;re doing X, you should do Y.&quot;"}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1427923033, "post_id": 29400261, "comment_id": 46977714, "body": "Changing your question also invalidates any answers that have already been submitted. Please post questions/concerns in the form of a comment or ask a new question to address any other problems you are having."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4171913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c051cfa95ba95c1e85272653539b534d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Kim", "link": "https://stackoverflow.com/users/4171913/francis-kim"}, "edited": false, "score": 0, "creation_date": 1427921838, "post_id": 29400558, "comment_id": 46977149, "body": "Thanks, after I fix it my result gets a little better, but still there&#39;s error and says use of uninitialized value $tmp[7] in string eq . Can you help me this one??"}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 1, "user_id": 4171913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c051cfa95ba95c1e85272653539b534d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Kim", "link": "https://stackoverflow.com/users/4171913/francis-kim"}, "edited": false, "score": 1, "creation_date": 1427921907, "post_id": 29400558, "comment_id": 46977186, "body": "Without seeing the input data? Not really. Are you sure you have 8 items in that array? (<code>[0..7]</code>)"}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 1, "user_id": 4171913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c051cfa95ba95c1e85272653539b534d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Kim", "link": "https://stackoverflow.com/users/4171913/francis-kim"}, "edited": false, "score": 0, "creation_date": 1427922197, "post_id": 29400558, "comment_id": 46977337, "body": "The line <code>my $tmp = split(&#47; &#47;);</code> should be <code>my @tmp = split(&#47; &#47;);</code>"}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 1, "user_id": 4171913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c051cfa95ba95c1e85272653539b534d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Kim", "link": "https://stackoverflow.com/users/4171913/francis-kim"}, "edited": false, "score": 0, "creation_date": 1427922227, "post_id": 29400558, "comment_id": 46977348, "body": "And that last <code>print &quot;$tmp\\n&quot;;</code> should probably be  <code>print &quot;@tmp\\n&quot;;</code>"}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 1, "user_id": 4171913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c051cfa95ba95c1e85272653539b534d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Kim", "link": "https://stackoverflow.com/users/4171913/francis-kim"}, "edited": false, "score": 0, "creation_date": 1427922255, "post_id": 29400558, "comment_id": 46977357, "body": "And Keith T. is right about the first <code>while()</code> loop eating up the whole file. None of the other <code>while()</code> loops will ever read anything."}], "tags": [], "owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "is_accepted": false, "score": 1, "last_activity_date": 1427921418, "creation_date": 1427921418, "answer_id": 29400558, "question_id": 29400261, "link": "https://stackoverflow.com/questions/29400261/dont-know-where-to-fix-perl-basic/29400558#29400558", "title": "Dont know where to fix perl basic", "body": "<p>You say:</p>\n\n<pre><code>open(FILE, \"&lt;solar.txt\") or die \"Can't open file, $!\";\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>my $tmp = split(/ /, $file);\n</code></pre>\n\n<p>What do you expect to be in the previously-undeclared, uninitialized <code>$file</code>?</p>\n\n<p>And later:</p>\n\n<pre><code>my @tmp = split(/ /, FILE);\n</code></pre>\n\n<p>Here you're trying to <code>split</code> a file handle. That's not going to do what you want.</p>\n\n<p>In both cases, you really want <code>$_</code> (the line read in the most-recent <code>&lt;FILE&gt;</code> call).</p>\n\n<p>So:</p>\n\n<pre><code>my @tmp = split(/ /, $_);\n</code></pre>\n\n<p>But since (<a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">q.v.</a>):</p>\n\n<blockquote>\n  <p>If only PATTERN is given, EXPR defaults to <code>$_</code> .</p>\n</blockquote>\n\n<p>You can just say:</p>\n\n<pre><code>my @tmp = split(/ /);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4171913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c051cfa95ba95c1e85272653539b534d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Kim", "link": "https://stackoverflow.com/users/4171913/francis-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1427922753, "creation_date": 1427920485, "last_edit_date": 1427922753, "question_id": 29400261, "link": "https://stackoverflow.com/questions/29400261/dont-know-where-to-fix-perl-basic", "title": "Dont know where to fix perl basic", "body": "<p>This is the Question</p>\n\n<p>Write a Perl program to accomplish each of the following on the file solar.txt (see link at the class homepage)</p>\n\n<ol>\n<li><p>Print all records that do not list a discoverer in the eighth field. </p></li>\n<li><p>Print every record after erasing the second field. Note: It would be better to say \"print every record\" omitting the second field. </p></li>\n<li><p>Print the records for satellites that have negative orbital periods. (A negative orbital period simply means that the satellite orbits in a counterclockwise direction.) </p></li>\n<li><p>Print the data for the objects discovered by the Voyager2 space probe. </p></li>\n<li><p>Print each record with the orbital period given in seconds rather than days. </p></li>\n</ol>\n\n<p>About solar.txt file:</p>\n\n<p>This file contains lines of 9 items, the first being:</p>\n\n<pre><code>Adrastea XV Jupiter 129000 0.30 0.00 0.00 Jewitt 1979\n</code></pre>\n\n<p>in alphabetical order by the name of the planet or moon (first field). </p>\n\n<p>The text in [] is the corresponding field from the line above. </p>\n\n<p>The fields in this file are:</p>\n\n<ol>\n<li><p>Name of planet or moon [Adrastea] </p></li>\n<li><p>Number of moon or planet (roman numerals) [XV] </p></li>\n<li><p>Name of the abject around which the satellite orbits [Jupiter] </p></li>\n<li><p>Orbital radius (semimajor axis) in kilometers [129000] </p></li>\n<li><p>Orbital period in days [0.30] </p></li>\n<li><p>Orbital inclination in degrees [0.00] </p></li>\n<li><p>Orbital eccentricity [0.00] </p></li>\n<li><p>Discoverer [Jewitt] </p></li>\n<li><p>Year of discovery [1979]</p></li>\n</ol>\n\n<p>my code is </p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\n\nopen(FILE, \"&lt;solar.txt\") or die \"Can't open file, $!\";\n\nwhile(&lt;FILE&gt;) {\n    my $tmp = split(/ /, $file);\n    if($tmp[7] eq '-') {\n        print \"@tmp\";\n    }\n}\n\nwhile(&lt;FILE&gt;) {\n    splice(/ /, 1, 1);\n    print \"FILE\\n\";\n}\n\nwhile(&lt;FILE&gt;) {\n    my @tmp = split(/ /, FILE);\n    if($tmp[4] &lt; 0) {\n        print \"@tmp\\n\";\n    }\n}\n\nwhile(&lt;FILE&gt;) {\n    my @tmp = split(/ /, FILE);\n    if($tmp[7] eq 'Voyager2') {\n        print \"@tmp\\n\";\n    }\n}\n\nwhile(&lt;FILE&gt;) {\n    my @tmp = split(/ /, FILE);\n    @tmp = $tmp[4] * 24 * 60 * 60;\n    print \"$tmp\\n\";\n}\n\nclose(FILE);\n</code></pre>\n\n<p>when I try to run it, it says use of uninitialized value error.\nBut I don't know where to fix. please help me.</p>\n"}, {"tags": ["c", "perl", "haskell", "literate-programming", "idris"], "comments": [{"owner": {"reputation": 418, "user_id": 2005842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25b441e6cc8e98d4d576d7f269a52273?s=128&d=identicon&r=PG", "display_name": "qunying", "link": "https://stackoverflow.com/users/2005842/qunying"}, "edited": false, "score": 0, "creation_date": 1430847816, "post_id": 29399948, "comment_id": 48234386, "body": "I would not create an answer, as my option is biased. Personally, I&#39;m against any form of literate programming, it makes program maintenance and debugging pretty hard. I would suggest you to look at the other way around, using document tools inside the program. like doxygen for C and <a href=\"http://en.wikipedia.org/wiki/Haddock_(software)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Haddock_(software)</a> for Haskell, etc."}, {"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "reply_to_user": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1491207298, "post_id": 29399948, "comment_id": 73432206, "body": "@C\u0153ur  This question seems off-topic as it is asking for software recommendations. Your edit was just correcting one spelling mistake. Would you have served Stack Overflow better by voting to close this question?"}, {"owner": {"reputation": 15917, "user_id": 5211833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Pyme2.jpg?s=128&g=1", "display_name": "Adriaan", "link": "https://stackoverflow.com/users/5211833/adriaan"}, "reply_to_user": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1491207779, "post_id": 29399948, "comment_id": 73432453, "body": "@C\u0153ur to add to what AdrianHHH said: the problem is mainly that this question was bumped to the front page, without significant improvement (I don&#39;t count one spelling correction as significant) and that now this OT question gets renewed attention due to it being on the front page again. I&#39;ve seen you edit questions with insignificant edits like this only to be closed not much later; please take the bumping of a question into account when editing and consider whether close voting wouldn&#39;t be the better option."}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "reply_to_user": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1491214478, "post_id": 29399948, "comment_id": 73436596, "body": "@AdrianHHH I count spelling corrections as significant. It&#39;s good that people vote to close if they figure out it&#39;s off topic: I don&#39;t always notice, but when I do I downvote and vote to close too."}], "answers": [{"tags": [], "owner": {"reputation": 33595, "user_id": 350890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/186bebdcf5f3045b53362efe34e56e8a?s=128&d=identicon&r=PG", "display_name": "Peter Tillemans", "link": "https://stackoverflow.com/users/350890/peter-tillemans"}, "is_accepted": false, "score": 1, "last_activity_date": 1430933205, "last_edit_date": 1430933205, "creation_date": 1430846674, "answer_id": 30059459, "question_id": 29399948, "link": "https://stackoverflow.com/questions/29399948/literate-programming-in-multiple-languages/30059459#30059459", "title": "Literate programming in multiple languages", "body": "<p>If documentation is paramount, and you have some emacs affinity, then you might do worse than look at the literate programming support in org-mode. <a href=\"http://orgmode.org/worg/org-contrib/babel/intro.html\" rel=\"nofollow\">Babel</a> is an org-mode extension allowing to integrate with many programming environments, including tangle-weaving compiled languages, executing code blocks, ...</p>\n\n<p>It is thoroughly language agnostic, and since it has the DNA of an outliner, it allows to manage the documentation in a structured way. Of course it generates syntax highlighted HTML/LateX/PDF/... from your sources.</p>\n\n<p>Check out <a href=\"http://orgmode.org/worg/org-contrib/babel/intro.html\" rel=\"nofollow\">http://orgmode.org/worg/org-contrib/babel/intro.html</a> for more info.</p>\n\n<p>a sample:</p>\n\n<pre><code>** Compiles libpq library for iOS\n\ncopy this script as *build-ios.sh* in the root of the postgresql\nsource tree.\n\n#+BEGIN_SRC sh tangle:build-ios.sh\nmkdir -p build\nrm -rf build/* #*/\n\nfunction build_libpq()   \n{\n    make distclean\n\n    ./configure \\\n...snip...\nlipo -create -output libpq.a build/*\n\n#+END_SRC\n\nRun it and it will create a universal library and  separate arm  \nlibrary in the root folder.\n</code></pre>\n\n<p>I hope this gives an idea what to do to create docs/code using org-mode/Bable combination. Of course a stackexchange answer cannot begin to scratch the surface of this system.</p>\n"}], "owner": {"reputation": 4036, "user_id": 667457, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/33f9a9233b25c8230f5b5edb38493842?s=128&d=identicon&r=PG", "display_name": "Jeff Burdges", "link": "https://stackoverflow.com/users/667457/jeff-burdges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 1, "closed_date": 1491308723, "answer_count": 1, "score": 3, "last_activity_date": 1491202669, "creation_date": 1427919400, "last_edit_date": 1491202669, "question_id": 29399948, "link": "https://stackoverflow.com/questions/29399948/literate-programming-in-multiple-languages", "closed_reason": "Not suitable for this site", "title": "Literate programming in multiple languages", "body": "<p>I've a library project which requires C's interoperability with other languages, and reasonable performance, but must be documented very clearly, \u00e0 la literate programming, and whose documentation might benefit from a functional approach, like Haskell, or even <a href=\"http://www.idris-lang.org/\" rel=\"nofollow\">Idris</a>' proof features.  </p>\n\n<p>I'm therefore interested in building this library as a literate program, first writing the documentation and working Idris prototype code, and next writing C code that closely parallels the Idris code to address any performance issues and be easily linkable from other languages.</p>\n\n<p>What literate programming tool do I want?  </p>\n\n<p><a href=\"http://nuweb.sourceforge.net/nuwebdoc.pdf\" rel=\"nofollow\">NuWeb</a> is designed for multi-language literate programming, but their usage of the @ sign, or indeed any escape character, is problematic for functional languages like Idris, Haskell, etc.  </p>\n\n<p>Idris <a href=\"https://github.com/idris-lang/Idris-dev/issues/1736\" rel=\"nofollow\">wants</a> a <a href=\"https://github.com/idris-lang/Idris-dev/wiki/Egg-%236:-Improved-Support-For-Literate-Programming\" rel=\"nofollow\">literate programming tool</a> to which I could contribute.  I love their preferred approach of just using <code>.tex</code> files delimited by <code>\\begin{code} .. \\end{code}</code> blocks.</p>\n\n<p>Idris, Haskell, etc. do not need tangle like C does, so doing that adds complexity and I'd prefer that any tool I'm using here sticks around.</p>\n\n<p>An approach that minimizes tooling for library consumers might be to extract the C and Idris code using a simple Perl script like <code>cat_latex_env</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nsub usage { die \"Usage: cat_latex_env enviroment_name [filename]\\n\"; }\nusage if ($#ARGV &lt; 0);\n\nmy $env = shift;\nmy $begin = quotemeta \"\\\\begin{$env}\";\nmy $end = quotemeta \"\\\\end{$env}\";\nwhile (&lt;&gt;) {\n        if (/$begin/../$end/) {\n                next if /$begin/ || /$end/;\n                print;\n        }\n}\n</code></pre>\n\n<p>At which point the Idris should compile fine.  And I could embed the tangle instructions needed by a literate programming tool for C like CWEB or NuWeb.</p>\n\n<p>Thoughts?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1427918853, "post_id": 29399774, "comment_id": 46975516, "body": "Also explained in <a href=\"http://perldoc.perl.org/functions/each.html\" rel=\"nofollow noreferrer\"><code>perldoc -f each</code></a>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1427919250, "post_id": 29399774, "comment_id": 46975736, "body": "That certainly looks to be the problem.  When I added diagnostic printing, it seemed that the <code>each</code> was not being reset on subsequent entries to the loop (testing with Perl 5.20.0).  I&#39;d got as far as &quot;&#39;each` is not resetting&quot;; I&#39;d not got as far as the documentation for it.  Thoroughly counter-intuitive!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427919905, "post_id": 29399774, "comment_id": 46976077, "body": "The OP&#39;s code doesn&#39;t use <code>keys</code>, and that is the problem, It&#39;s an odd citation to illustrate the principle. <code>keys %hash</code> generates a list that you can iterate using <code>for</code> independently of any changes to the hash. But <code>each %hash</code> returns a new key/value pair every time it is called, regardless of context and as any good iterator should"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1427920453, "post_id": 29399774, "comment_id": 46976357, "body": "@JonathanLeffler: The confusion arises because Perl has no in-built <i>iterator</i> objects, and tries to do it anonymously. Perl&#39;s <code>keys</code> and <code>values</code> generate static lists, while <code>each</code> creates an anonymous iterator object that is tied to the hash, and will not change state until the next time <code>each</code> on the same hash is called. Python and Lua do the same thing, and anything beginning with <code>C</code> doesn&#39;t get a chance to"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427920714, "post_id": 29399774, "comment_id": 46976493, "body": "@Borodin: It mostly makes sense; I simply hadn&#39;t run into it before, either because I let the iterators complete or because I&#39;m working with non-global hashes so that each time the function is called, it is working on a different hash and hence the <code>each</code> starts anew.  Or pure bad luck...I wasn&#39;t paying attention, or happened never to have hit the problem.  It is somewhat counter-intuitive when first encountered, but makes enough sense once you know what&#39;s going on.  It&#39;s one of the nice things about SO; you can learn from it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1427921578, "post_id": 29399774, "comment_id": 46977016, "body": "@JonathanLeffler: <code>keys</code> and <code>values</code> use the same intrinsic iterator as <code>while</code>, but always exhaust all of the rest of the hash. So if you&#39;re worried about exiting a <code>while ( my ($k, $v) = each %hash ) { ... }</code> loop leaving the iterator incomplete then you can reset the iterator using <code>keys</code> in a void context, like <code>if ( $terminating_condition ) { keys %hash; last; }</code>"}], "tags": [], "owner": {"reputation": 10826, "user_id": 344643, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/152f65e1ed6bc7e819b5da0280c3e780?s=128&d=identicon&r=PG", "display_name": "Waleed Khan", "link": "https://stackoverflow.com/users/344643/waleed-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1427918677, "creation_date": 1427918677, "answer_id": 29399774, "question_id": 29399646, "link": "https://stackoverflow.com/questions/29399646/breaking-out-of-loop-causes-different-results/29399774#29399774", "title": "Breaking out of loop causes different results", "body": "<p>Oh, it looks like the behavior is <a href=\"http://www.perlmonks.org/?node=How%20do%20I%20reset%20an%20each()%20operation%20part-way%20through%3F\" rel=\"nofollow\">explained here</a>:</p>\n\n<blockquote>\n  <p>Using <code>keys %hash</code> in scalar context returns the number of keys in the hash and resets the iterator associated with the hash. You may need to do this if you use <code>last</code> to exit a loop early so that when you re-enter it, the hash iterator has been reset. </p>\n</blockquote>\n\n<p>Wasn't expecting that \u2014 I had assumed that <code>each</code> would reset the iterator.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1427919692, "creation_date": 1427919692, "answer_id": 29400017, "question_id": 29399646, "link": "https://stackoverflow.com/questions/29399646/breaking-out-of-loop-causes-different-results/29400017#29400017", "title": "Breaking out of loop causes different results", "body": "<p>You have become confused. I am not sure where the confusion lies, but you must be aware that the <code>each</code> operator maintains its state between calls. That means your <code>last</code> inside the <code>while</code> loop won't terminate the iteration. Instead it will continue where it last left off when it is next encountered.</p>\n\n<p>You should also be sparing with double-quotes, as they interpolate any scalar or array variables, or backslashed control characters.</p>\n\n<p>Here is how I suggest that you write your algorithm</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy $judge_exes = {\n    '^A' =&gt; 'foo',\n    '^B' =&gt; 'bar',\n    '^C' =&gt; 'baz',\n};\n\nsay get_judge('A1', $judge_exes);\nsay get_judge('B2', $judge_exes);\nsay get_judge('C3', $judge_exes);\nsay get_judge('D4', $judge_exes);\nsay get_judge('E5', $judge_exes);\n\nsub get_judge {\n    my ($test_id, $judges) = @_;\n\n    for my $re ( keys %$judges ) {\n        return 1 if $test_id =~ /$re/;\n    }\n\n    'Undefined!';\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>1\n1\n1\nUndefined!\nUndefined!\n</code></pre>\n"}], "owner": {"reputation": 10826, "user_id": 344643, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/152f65e1ed6bc7e819b5da0280c3e780?s=128&d=identicon&r=PG", "display_name": "Waleed Khan", "link": "https://stackoverflow.com/users/344643/waleed-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1428823141, "answer_count": 2, "score": 1, "last_activity_date": 1427919692, "creation_date": 1427918165, "question_id": 29399646, "link": "https://stackoverflow.com/questions/29399646/breaking-out-of-loop-causes-different-results", "closed_reason": "Duplicate", "title": "Breaking out of loop causes different results", "body": "<p>I have this code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $judge_exes = {\n    \"^A\" =&gt; \"foo\",\n    \"^B\" =&gt; \"bar\",\n    \"^C\" =&gt; \"baz\",\n};\n\nsub get_judge {\n    my ($test_id) = @_;\n    my $exe = undef;\n    while (my ($regex, $judge) = each %$judge_exes) {\n        if ($test_id =~ /$regex/) {\n            $exe = $judge;\n            last;\n        }\n    }\n\n    if ($exe) {\n        return $exe;\n    } else {\n        return \"Undefined!\";\n    }\n}\n\nprint get_judge(\"A1\");\nprint get_judge(\"B2\");\nprint get_judge(\"C3\");\n</code></pre>\n\n<p>(ideone: <a href=\"http://ideone.com/slxebG\" rel=\"nofollow\">http://ideone.com/slxebG</a>)</p>\n\n<p>I expect to get the output <code>foobarbaz</code>, but I end up getting <code>fooUndefined!baz</code>. However, when I comment out the <code>last</code> statement, I get the correct behavior:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $judge_exes = {\n    \"^A\" =&gt; \"foo\",\n    \"^B\" =&gt; \"bar\",\n    \"^C\" =&gt; \"baz\",\n};\n\nsub get_judge {\n    my ($test_id) = @_;\n    my $exe = undef;\n    while (my ($regex, $judge) = each %$judge_exes) {\n        if ($test_id =~ /$regex/) {\n            $exe = $judge;\n            # last;\n        }\n    }\n\n    if ($exe) {\n        return $exe;\n    } else {\n        return \"Undefined!\";\n    }\n}\n\nprint get_judge(\"A1\");\nprint get_judge(\"B2\");\nprint get_judge(\"C3\");\n</code></pre>\n\n<p>(ideone: <a href=\"http://ideone.com/QJpxbK\" rel=\"nofollow\">http://ideone.com/QJpxbK</a>)</p>\n\n<p>Why is this happening? (I'm on Perl 5.16.2, but the issue is also present on 5.10.1 and whatever ideone is using.)</p>\n\n<ul>\n<li>As far as I understand, <code>last</code> just breaks out of the <code>while</code> loop, which is what I want.</li>\n<li><code>$exe</code> doesn't seem to be an alternative falsey value causing me to hit the wrong if-branch. (I could return early, which would be better, but I still wouldn't understand the cause of this.)</li>\n<li>I think I'm dereferencing the hash reference correctly.</li>\n<li>I didn't think that regex matching would have any side effects relating to loop termination.</li>\n<li>The regexes seem to be matching correctly, since I can actually get them to match appropriately under some circumstances, so I don't think it's an interpolation issue.</li>\n<li>I'm not modifying the container that I'm iterating over.</li>\n</ul>\n\n<p>Am I just making some silly non-Perl related mistake?</p>\n"}, {"tags": ["perl", "email-spam", "spamassassin"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1427917415, "post_id": 29398534, "comment_id": 46974692, "body": "Is it maildir or IMAP folder?"}], "answers": [{"tags": [], "owner": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "is_accepted": true, "score": 0, "last_activity_date": 1431485492, "creation_date": 1431485492, "answer_id": 30204819, "question_id": 29398534, "link": "https://stackoverflow.com/questions/29398534/using-spamassassin-to-analyse-existing-emails-before-installation/30204819#30204819", "title": "Using SpamAssassin to analyse existing emails before installation", "body": "<p>This is pretty easy with a shell script.  This can be run within a Maildir folder on a Linux box:</p>\n\n<pre><code>#!/bin/bash\nfor mailfile in *; do\n  spamc -c &lt; $mailfile\n  if [[ $? == 1 ]]; then # it's spam\n    mv $mailfile ~/junk/\n  fi\ndone\n</code></pre>\n\n<p>Change <code>~/junk</code> to the location of a junk folder and let'r rip. It'll take a while, but it should process the entire directory. You may want to change the * to better match the files in your Maildir folder.</p>\n"}], "owner": {"reputation": 1191, "user_id": 1335740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a42f62dbb9325abb057cacb3fa896303?s=128&d=identicon&r=PG&f=1", "display_name": "LaDude", "link": "https://stackoverflow.com/users/1335740/ladude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 30204819, "answer_count": 1, "score": 0, "last_activity_date": 1431485945, "creation_date": 1427914298, "last_edit_date": 1431485945, "question_id": 29398534, "link": "https://stackoverflow.com/questions/29398534/using-spamassassin-to-analyse-existing-emails-before-installation", "title": "Using SpamAssassin to analyse existing emails before installation", "body": "<p>I'm using SpamAssassin to analyse existing emails, so I have an archive folder on my file system that contains a large amount of (already read, old) emails. </p>\n\n<p>Among those emails there are quite a lot of spam emails that have not been analysed by SpamAssassin yet, because I only recently installed SpamAssassin on my system.</p>\n\n<p>Is it possible to let SpamAssassin analyse the emails of that folder? I would like to filter out all the spam emails automatically.</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1427914301, "post_id": 29398517, "comment_id": 46972997, "body": "simple: decode the json into a native perl structure, manipulate that structure, then re-encode to json."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1427915108, "post_id": 29398517, "comment_id": 46973476, "body": "@MarcB: i know how i can insert a new tag within an existing tag in perl data structure. But here in this particular case i need to overwrite an existing structure  ( tag fileName ) and have it nested (two levels down ) in hierarchy rooted to same parent. ( workList ).   that is worklist -&gt; fileName now becomes worklist-&gt;directoryList-&gt;directory-&gt;filename."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1427915123, "post_id": 29398517, "comment_id": 46973486, "body": "let me know if you have any suggestions"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427915173, "post_id": 29398517, "comment_id": 46973514, "body": "I would recommend reading <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\"><code>perldoc perldsc</code></a> (the official Perl data structures cookbook) and the <a href=\"http://archive.oreilly.com/pub/a/perl/excerpts/9780596000271/data-structures.html\" rel=\"nofollow noreferrer\">Data Structures</a> chapter from Programming Perl. They will help you understand how to manipulate any data structure, no matter how nested, so you don&#39;t have to keep learning things via the blind copy-paste method."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427916104, "post_id": 29398517, "comment_id": 46973983, "body": "@ThisSuitIsBlackNot: thanks for the suggestion, i was actually able to figure out by myself. But i will make sure i read the cookBook and Data structure at least to learn perl"}], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1427921513, "post_id": 29398987, "comment_id": 46976979, "body": "@user1188611 and mob Can you explain a bit?  I&#39;ll ++ you if you do ;-) Does <code>delete</code> both remove the value from the <code>$data</code> hash <b><i>and</i></b> return it?  I take it  that by doing this inside an anonymous array constructor (<code>[ ]</code>) the hash entry can be added back in the new location."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1427931758, "post_id": 29398987, "comment_id": 46980887, "body": "@G. Cito. Yes, see the related link above."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427934549, "post_id": 29398987, "comment_id": 46981618, "body": "Thanks since your answer is accepted for the other question I think it stays at the top of the page.  I will  edit into your response :-)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1427934551, "last_edit_date": 1495541187, "creation_date": 1427915756, "answer_id": 29398987, "question_id": 29398517, "link": "https://stackoverflow.com/questions/29398517/modifying-data-structure-that-will-be-encoded-using-json-in-perl/29398987#29398987", "title": "Modifying data structure that will be encoded using JSON in perl", "body": "<pre><code>$data-&gt;{Person}{personalData}{workList}{directoryList}{directory} =\n    [ delete $data-&gt;{Person}{personalData}{workList}{file} ];\n</code></pre>\n\n<p>Or more concisely,</p>\n\n<pre><code>$tmp = $data-&gt;{Person}{personalData}{workList};\n$tmp-&gt;{directoryList}{directory} = [ delete $tmp-&gt;{file} ];\n</code></pre>\n\n<p>For an explanation of how this works see: <a href=\"https://stackoverflow.com/questions/1490356/how-to-replace-a-perl-hash-key\">How to replace a Perl hash key?</a></p>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 29398987, "answer_count": 1, "score": 1, "last_activity_date": 1427934551, "creation_date": 1427914230, "question_id": 29398517, "link": "https://stackoverflow.com/questions/29398517/modifying-data-structure-that-will-be-encoded-using-json-in-perl", "title": "Modifying data structure that will be encoded using JSON in perl", "body": "<p>I have a JSON whcih i am trying to modify using perl code.</p>\n\n<pre><code>{\n    \"Person\":{\n\n       \"personalData\": {\n          \"workList\": {\n              \"file\":{ \n                  \"fileName\": \"/usr/temp/ABC.txt\" }\n                },\n            }\n         }\n       }   \n    }  \n</code></pre>\n\n<p>I need to convert the above JSON into something like this:</p>\n\n<pre><code>{\n    \"Person\":{\n\n       \"personalData\": {\n          \"workList\": {\n              \"directoryList\":{\n                   \"directory\":[\n                       \"file\":{ \n                           \"fileName\": \"/usr/temp/ABC.txt\" }\n                          }\n                     ]\n                }\n            }\n         }\n       }   \n    }\n</code></pre>\n\n<p>Can someone give some example of doing this in perl.</p>\n"}, {"tags": ["perl", "openshift", "mojolicious"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2879327"}, "edited": false, "score": 0, "creation_date": 1427913935, "post_id": 29398153, "comment_id": 46972800, "body": "Do you have your whole example project in a github repo that we can look at or try ourselves? (including your sample template?)"}, {"owner": {"reputation": 11, "user_id": 4739467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ofUf.png?s=128&g=1", "display_name": "Mbanzi", "link": "https://stackoverflow.com/users/4739467/mbanzi"}, "edited": false, "score": 0, "creation_date": 1427924526, "post_id": 29398153, "comment_id": 46978333, "body": "@corey112358 - I added more info to the original post, including self-contained code that can be pasted to index.pl."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4739467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ofUf.png?s=128&g=1", "display_name": "Mbanzi", "link": "https://stackoverflow.com/users/4739467/mbanzi"}, "edited": false, "score": 0, "creation_date": 1428526521, "post_id": 29495769, "comment_id": 47204679, "body": "Actually, I am doing that as mentioned in the link in the original post: <a href=\"https://github.com/Nkawu/Mojolicious_Lite_on_OpenShift\" rel=\"nofollow noreferrer\">github.com/Nkawu/Mojolicious_Lite_on_OpenShift</a>.  I&#39;m guessing this is because we&#39;re forced to use Apache? Mojo just seems to works a lot easier on Heroku, especially since you&#39;re allowed to use different web servers."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2879327"}, "is_accepted": false, "score": 0, "last_activity_date": 1428421869, "last_edit_date": 1495535228, "creation_date": 1428421869, "answer_id": 29495769, "question_id": 29398153, "link": "https://stackoverflow.com/questions/29398153/getting-mojolicious-to-work-on-openshift/29495769#29495769", "title": "Getting Mojolicious to work on OpenShift", "body": "<p>I think you are missing the part where you run the index.pl file as a psgi application, try using the answer to this question (<a href=\"https://stackoverflow.com/questions/29402464/can-openshift-rhcloud-variables-be-used-in-an-htaccess-file\">Can openshift/rhcloud variables be used in an .htaccess file</a>) to setup your .htaccess file so that it will route the /foo url to your index.pl so it can control the routes</p>\n"}], "owner": {"reputation": 11, "user_id": 4739467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ofUf.png?s=128&g=1", "display_name": "Mbanzi", "link": "https://stackoverflow.com/users/4739467/mbanzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428421869, "creation_date": 1427912982, "last_edit_date": 1427924423, "question_id": 29398153, "link": "https://stackoverflow.com/questions/29398153/getting-mojolicious-to-work-on-openshift", "title": "Getting Mojolicious to work on OpenShift", "body": "<p>Is there a way to make perl Mojolicious::Lite to work on OpenShift without jumping through hoops? This is typically what needs to be done: <a href=\"https://github.com/Nkawu/Mojolicious_Lite_on_OpenShift\" rel=\"nofollow\">Mojolicious_Lite_on_OpenShift</a></p>\n\n<p>Support for perl &amp; Mojolicious on OpenShift has improved a lot over the last few years to the point that it appears to be a simple click-and-install process. However out of the box, I cannot get Mojolicious to find ANY embedded templates, and using external templates, it will only find the '/' route's template.</p>\n\n<p>I'm using a very simple Mojo script:</p>\n\n<pre><code>use Mojolicious::Lite;\n\nget '/' =&gt; 'index';\n\nget '/foo' =&gt; sub {\n    my $self = shift;\n    $self-&gt;render(template =&gt; 'foo')\n};\n\napp-&gt;start;\n</code></pre>\n\n<p>The first route '...rhcloud.com/' works, displaying ./templates/index.html.ep</p>\n\n<p>However '...rhcloud.com/foo' fails, dumping out app-root/logs/perl.log:</p>\n\n<p>[Wed Apr 01 14:02:06 2015] [error] [client 127.xxx.xxx.xxx] File does not exist: /var/lib/openshift/551b352b4382ec9a2800000a/app-root/runtime/repo/foo</p>\n\n<p>In the past I was able to make Mojo work using <a href=\"https://github.com/degtyarev-dm/mojolicious-lite-openshift\" rel=\"nofollow\">Mojolicious::Lite on OpenShift</a>, but that doesn't appear to work any more.</p>\n\n<p>Has anyone been able to get this to work recently???</p>\n\n<p>A simple way to replicate this issue:</p>\n\n<pre><code>use Mojolicious::Lite;\n\nget '/' =&gt; sub {\n    my $self = shift;\n    $self-&gt;render(template =&gt; 'index')\n};\n\napp-&gt;start;\n\n__DATA__\n\n@@ index.html.ep\nINDEX\n</code></pre>\n\n<p>You should get an error that index.html.ep could not be found.</p>\n\n<p><strong><em>Please note that this question is specific to Mojolicious in the OpenShift environment!</em></strong></p>\n"}, {"tags": ["perl", "file"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1427912556, "last_edit_date": 1427912556, "creation_date": 1427912230, "answer_id": 29397931, "question_id": 29397748, "link": "https://stackoverflow.com/questions/29397748/how-to-replace-a-string-in-an-existing-file-in-perl-while-not-touching-unchanged/29397931#29397931", "title": "How to replace a string in an existing file in Perl while not touching unchanged files", "body": "<blockquote>\n  <p>-p</p>\n  \n  <p>causes Perl to assume the following loop around your program, which makes it iterate over filename arguments somewhat like sed:</p>\n\n<pre><code>LINE:\nwhile (&lt;&gt;) {\n    ... # your program goes here\n} continue {\n    print or die \"-p destination: $!\\n\";\n}\n</code></pre>\n  \n  <p>-i[extension]</p>\n  \n  <p>is equivalent to</p>\n\n<pre><code>#!/usr/bin/perl\n$extension = '.orig';\nLINE: while (&lt;&gt;) {\n    if ($ARGV ne $oldargv) {\n       if ($extension !~ /\\*/) {\n           $backup = $ARGV . $extension;\n       }\n       else {\n           ($backup = $extension) =~ s/\\*/$ARGV/g;\n       }\n       rename($ARGV, $backup);\n       open(ARGVOUT, \"&gt;$ARGV\");\n       select(ARGVOUT);\n       $oldargv = $ARGV;\n    }\n    s/foo/bar/;\n}\ncontinue {\n    print;  # this prints to original filename\n}\nselect(STDOUT);\n</code></pre>\n</blockquote>\n\n<p>Now, that means you can take this skeleton script, and modify restore the backup if no substitutions were made.</p>\n"}, {"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 4, "last_activity_date": 1427914748, "last_edit_date": 1427914748, "creation_date": 1427912576, "answer_id": 29398023, "question_id": 29397748, "link": "https://stackoverflow.com/questions/29397748/how-to-replace-a-string-in-an-existing-file-in-perl-while-not-touching-unchanged/29398023#29398023", "title": "How to replace a string in an existing file in Perl while not touching unchanged files", "body": "<p>Instead of passing every file to perl to be processed, preselect them yourself.</p>\n\n<p>Find the files that have <code>pattern</code> in them:</p>\n\n<pre><code>grep -Plr 'pattern' src\n</code></pre>\n\n<p>Then use that instead of that <code>find</code> call:</p>\n\n<pre><code>perl -pi -e 's/pattern/replacement/g' $(grep -Plr pattern src)\n</code></pre>\n\n<p>Or even like this:</p>\n\n<pre><code>grep -Plr 'pattern' src | xargs perl -pi -e's/pattern/replacement/g'\n</code></pre>\n\n<p>This will also probably be faster because you're not processing files unnecessarily.</p>\n"}, {"comments": [{"owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "edited": false, "score": 0, "creation_date": 1427995690, "post_id": 29398029, "comment_id": 47009706, "body": "Could you explain your note concerning <code>xargs</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "edited": false, "score": 0, "creation_date": 1427998183, "post_id": 29398029, "comment_id": 47011080, "body": "@maaartinus, There&#39;s a limit on the size of command lines. It&#39;s much larger than it used to be, but it&#39;s not that hard to reach. <code>xargs</code> solves that problem by launching the program more than once if necessary. For example, It&#39;ll do <code>foo file1 file2 ... file499</code> &amp; <code>foo file500 file501 ... file999</code> instead doing <code>foo file1 file2 ... file999</code> if the latter isn&#39;t possible."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1427914560, "last_edit_date": 1427914560, "creation_date": 1427912593, "answer_id": 29398029, "question_id": 29397748, "link": "https://stackoverflow.com/questions/29397748/how-to-replace-a-string-in-an-existing-file-in-perl-while-not-touching-unchanged/29398029#29398029", "title": "How to replace a string in an existing file in Perl while not touching unchanged files", "body": "<p>The very first thing <code>-i</code> after opening a file is to <code>unlink</code> it, so that means you can't use <code>-i</code> on the files you don't want to modify.</p>\n\n<pre><code>find src -type f -exec grep -Pl 'pattern' {} + |\n   xargs perl -i -pe's/pattern/replacement/g'\n</code></pre>\n\n<p>Of course, <code>grep</code> can already perform recursive searches, so unless you need to use <code>find</code> to filter the results further than you indicated, you can use</p>\n\n<pre><code>grep -Plr 'pattern' src |\n   xargs perl -i -pe's/pattern/replacement/g'\n</code></pre>\n\n<hr>\n\n<p>Note: <code>cmd | xargs perl ...</code> can handle more files than <code>perl ... $( cmd )</code>.</p>\n"}], "owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 29398029, "answer_count": 3, "score": 7, "last_activity_date": 1427914748, "creation_date": 1427911604, "last_edit_date": 1427913659, "question_id": 29397748, "link": "https://stackoverflow.com/questions/29397748/how-to-replace-a-string-in-an-existing-file-in-perl-while-not-touching-unchanged", "title": "How to replace a string in an existing file in Perl while not touching unchanged files", "body": "<p>Using</p>\n\n<pre><code>perl -pi -e 's/pattern/replacement/g' $(find src -type f)\n</code></pre>\n\n<p>is nice, except for one thing: All files get overwritten, even those without any match. This is not good as I often keep many of them open in Emacs or Eclipse which then ask me boring questions. Is there a simple way how to prevent touching unchanged files (Something like using grep in find is too much work, especially for complex patterns).</p>\n"}, {"tags": ["xml", "json", "perl"], "comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1427909691, "post_id": 29397116, "comment_id": 46970464, "body": "created to show the location of error. This a dummy sample of a complicated business code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1427909803, "post_id": 29397116, "comment_id": 46970523, "body": "Don&#39;t do that. Wrong code is worse than partial code."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427909838, "post_id": 29397116, "comment_id": 46970533, "body": "ohh ok, but you have understood the error here right?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427910103, "post_id": 29397116, "comment_id": 46970685, "body": "Only because the title was enough to understand what you wanted."}], "answers": [{"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1427910413, "post_id": 29397137, "comment_id": 46970856, "body": "i have added a maximum depth of 2048 for line my $json = JSON-&gt;new-&gt;utf8-&gt;max_depth(2048);"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1427910747, "post_id": 29397137, "comment_id": 46971048, "body": "nope same error even after setting maximum depth to 5000, more then that is causing a crash. The only difference between a failing case and non-failing case is just one extra tag, not sure what it is creating so much difference"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 1, "creation_date": 1427911231, "post_id": 29397137, "comment_id": 46971327, "body": "Then maybe the error is legit? No matter how much you raise <code>max_depth</code>, you won&#39;t be able to store a cyclic structure using JSON."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1481030086, "post_id": 29397137, "comment_id": 69201057, "body": "The doc says: <code>$json-&gt;max_depth([$maximum_nesting_depth])</code> Have you try: <code>-&gt;max_depth([ 2048 ])</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1481030364, "post_id": 29397137, "comment_id": 69201292, "body": "@Eugen Konkov, The square brackets indicate that the argument is optional (in which case the current value is returned), not that you should pass in an array ref."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1481033106, "post_id": 29397137, "comment_id": 69202992, "body": "@Eugen Konkov, That&#39;s something to take up with the maintainers, not me."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1481048034, "post_id": 29397137, "comment_id": 69213043, "body": "@ikegami: But I use <code>$json-&gt;max_depth([600])</code> and its works fine ) as in the Doc example"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1481048963, "post_id": 29397137, "comment_id": 69213488, "body": "@Eugen Konkov, No, it doesn&#39;t work fine. It sets the depth the numerical value of the reference (e.g. <code>55321800</code>) instead of <code>600</code>. /// I said something wrong earlier, though. Omitting the argument doesn&#39;t cause <code>-&gt;max_depth</code> to return the existing value; it effectively allows unlimited depth."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1427911411, "last_edit_date": 1427911411, "creation_date": 1427909402, "answer_id": 29397137, "question_id": 29397116, "link": "https://stackoverflow.com/questions/29397116/json-text-or-perl-structure-exceeds-maximum-nesting-level-max-depth-set-too-low/29397137#29397137", "title": "json text or perl structure exceeds maximum nesting level (max_depth set too low?)", "body": "<p>You get that error from JSON::PP when the structure has 512 levels of nesting. It's probably meant to catch unserializable reference loops (<code>my $data = { }; $data-&gt;{foo} = $data;</code>) and to prevent malicious attempts to use up all your memory.</p>\n\n<p>If those aren't your problems, if the issue is simply that you need to support ginormous structures, you can increase the threshold using <code>-&gt;max_depth</code>. Keep mind that</p>\n\n<pre><code>encode_json($data)\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>my $json = JSON-&gt;new-&gt;utf8;\n$json-&gt;encode($data)\n</code></pre>\n\n<p>so you can use</p>\n\n<pre><code>my $json = JSON-&gt;new-&gt;utf8-&gt;max_depth(...);\n$json-&gt;encode($data)\n</code></pre>\n\n<p>Alternatively, JSON::XS might not have that check. If it doesn't, simply installing JSON::XS will avoid the error. That's on top of speeding up your encoding and decoding.</p>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427911411, "creation_date": 1427909315, "last_edit_date": 1427910268, "question_id": 29397116, "link": "https://stackoverflow.com/questions/29397116/json-text-or-perl-structure-exceeds-maximum-nesting-level-max-depth-set-too-low", "title": "json text or perl structure exceeds maximum nesting level (max_depth set too low?)", "body": "<p>I am getting the following error from JSON's <code>encode_json</code>:</p>\n\n<blockquote>\n  <p>json text or perl structure exceeds maximum nesting level (max_depth set too low?)</p>\n</blockquote>\n\n<p>The code is in question is </p>\n\n<pre><code>my $jsonString = encode_json($dataXML);\n</code></pre>\n\n<p><code>$dataXML</code> was produced by XML::Simple's <code>XMLin</code>. Any pointers about how to remove this error?</p>\n"}, {"tags": ["perl", "if-statement", "foreach", "while-loop", "next"], "comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1427909973, "post_id": 29396526, "comment_id": 46970619, "body": "proper indentation would make it easier to read. but even so I&#39;d advise you to start from scratch. to get help here I would recommend you ditch the code, and just show the input and explain in plain text what you want to do with it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427911851, "post_id": 29396526, "comment_id": 46971674, "body": "The hash code you had but have since removed made more sense <code>... =~ @foo</code> is no good."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427911896, "post_id": 29396526, "comment_id": 46971701, "body": "Also note that you try to unlink <code>.</code> and <code>..</code> and other directories."}, {"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427912608, "post_id": 29396526, "comment_id": 46972073, "body": "@ikegami Thanks,  I will try with the hash approach.  Going to ditch the code like beasy recommended and explain what I need in plain text."}, {"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1427912620, "post_id": 29396526, "comment_id": 46972080, "body": "@beasy noted.  Will do thanks."}, {"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427913971, "post_id": 29396526, "comment_id": 46972818, "body": "@ikegami would adding <code>next unless (-f &quot;$tmp&#47;$Xlock&quot;);</code> fix the unlink of <code>.</code> and <code>..</code> and other directories if $Xlock=&quot;X*-lock&quot; ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427914380, "post_id": 29396526, "comment_id": 46973046, "body": "<code>unlink($files);</code> =&gt; <code>unlink($files) if !-d $files;</code> though the only chance of causing harm on linux systems is if the script is run as root, and even then, a flag needs to be turned on."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427914417, "post_id": 29396526, "comment_id": 46973068, "body": "Please don&#39;t replace your question with a different question. Rolled back. You can see what you wrote <a href=\"http://stackoverflow.com/revisions/29396526/7\">here</a>"}, {"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427914884, "post_id": 29396526, "comment_id": 46973340, "body": "@ikegami sorry new here.  The script will be started with root permissions..."}, {"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427920089, "post_id": 29396526, "comment_id": 46976181, "body": "@ikegami <code>unlink($files) if !-d $files;</code> still picks up files that do not have the name syntax <code>X*-lock</code>.  How do I specify to only delete files with that name syntax?  Thanks for your help."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427922196, "post_id": 29396526, "comment_id": 46977336, "body": "Comments are also not the place to ask new questions"}, {"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427922883, "post_id": 29396526, "comment_id": 46977642, "body": "@ikegami ok i&#39;ll start a new question I guess."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "edited": false, "score": 0, "creation_date": 1427911774, "post_id": 29396655, "comment_id": 46971606, "body": "Wow i feel like a dummy.  Moving the declaration to the top of the script eliminated the error.  Still not getting desired result, but getting close.  Thank you!"}, {"owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "edited": false, "score": 0, "creation_date": 1427924508, "post_id": 29396655, "comment_id": 46978326, "body": "Even though this wasn&#39;t related to my question, but instead the error messages listed above,  I&#39;m marking this as the answer because I made a new question here: <a href=\"http://stackoverflow.com/questions/29401277/perl-opendir-while-readdir-next-if-hash\" title=\"perl opendir while readdir next if hash\">stackoverflow.com/questions/29401277/&hellip;</a>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1427907766, "creation_date": 1427907766, "answer_id": 29396655, "question_id": 29396526, "link": "https://stackoverflow.com/questions/29396526/perl-foreach-line-split-modify-the-string-set-to-array-opendir-next-if-fil/29396655#29396655", "title": "Perl: foreach line, split, modify the string, set to array. Opendir, next if files=modified string. Unlink files", "body": "<p><code>my</code> scopes the variable to the inner-most block (curlies) in which it is located.</p>\n\n<pre><code>{\n   my $foo;\n   ...\n}\n\n# $foo not accessible here.\n</code></pre>\n\n<p>The block ends on the line after the one where you create the variable. Move the variable's declaration so it has a sufficiently large scope.</p>\n"}], "owner": {"reputation": 17, "user_id": 4739024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc052fc1f84d4df4ffd4f596f87fc3e?s=128&d=identicon&r=PG&f=1", "display_name": "chungusdungus", "link": "https://stackoverflow.com/users/4739024/chungusdungus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 29396655, "answer_count": 1, "score": 0, "last_activity_date": 1427924436, "creation_date": 1427907316, "last_edit_date": 1427924436, "question_id": 29396526, "link": "https://stackoverflow.com/questions/29396526/perl-foreach-line-split-modify-the-string-set-to-array-opendir-next-if-fil", "title": "Perl: foreach line, split, modify the string, set to array. Opendir, next if files=modified string. Unlink files", "body": "<p>I'm having issues with the following block of code: Where $output is netstat -lnt | grep \":::60\".  Specifically the section under the comment <code>#Create filename format</code>\n</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my @lines = split /^/, $output;\nforeach my $line (@lines) {\n my ($garb, $long_ports)  = (split /\\s*:::\\s*/, $line);\n\n#Get the last 2 digits of the 60XX port number\n my ($garb2, $ports) = (split /60/, $long_ports);\n\n#Split values to numbers 0-9 for correct filename format\nif ($ports &lt; 10) {\n  my ($garb3, $ports2) = (split /0/, $ports);\n\n#Add 0 since 0 port is split to empty string\nif (length($ports2) == 0){\n  $ports2 = \"0$ports2\";\n}\n\n#Create file name format\nmy @locked_ports = \".X$ports2-lock\";\n }\n}\n my %h = map {$_ =&gt; 1 } @locked_ports;\n #open /tmp and find the .X*-lock files that DO NOT match locked_ports\n opendir (DIR, $tmp ) or die \"Error in opening dir $tmp\\n\";\n while (my $files = readdir(DIR)) {\n   if (exists $h{$files}){\n   next}\n   unlink $files;\n }\n   closedir(DIR);\n</code></pre>\n\n<p>I've also tried:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#Create file name format\nmy @locked_ports = \".X$ports2-lock\";\n }\n}\n #open /tmp and find the .X*-lock files that DO NOT match locked_ports\n opendir (DIR, $tmp ) or die \"Error in opening dir $tmp\\n\";\n while (my $files = readdir(DIR)) {\n   next if $files =~ @locked_ports;\n   unlink $files;\n }\n   closedir(DIR);\n</code></pre>\n\n<p>And:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#Create file name format\nmy $locked_ports = \".X$ports2-lock\";\n }\n}\n #open /tmp and find the .X*-lock files that DO NOT match locked_ports\n opendir (DIR, $tmp ) or die \"Error in opening dir $tmp\\n\";\n while (my $files = readdir(DIR)) {\n   next if $files =~ $locked_ports;\n   unlink $files;\n }\n   closedir(DIR);\n</code></pre>\n\n<p>Each time I get an error similar to: <code>Global symbol \"@locked_ports\" requires explicit package name</code>, <code>Global symbol \"$locked_ports\" requires explicit package name</code></p>\n\n<p>How can I have the while \"next\" over filenames that equal the lines of locked_ports?</p>\n\n<p>Any help much appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1460, "user_id": 1493379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf946b17cfc8c468c17451bd14a53830?s=128&d=identicon&r=PG", "display_name": "blueygh2", "link": "https://stackoverflow.com/users/1493379/blueygh2"}, "edited": false, "score": 2, "creation_date": 1427901405, "post_id": 29394532, "comment_id": 46965625, "body": "Are you sure that the third case has space characters at the beginning of the line, and not maybe tab characters? Because they are matched by <code>\\s</code> as well"}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1427901600, "post_id": 29394532, "comment_id": 46965763, "body": "Why would it matter if tabs match unless there are only one or two tabs?"}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427902024, "post_id": 29394532, "comment_id": 46966034, "body": "I do not know for sure if some of the whitespace characters are tabs. Judging by the size only, there seems to be no tabs in there. Besides I counted 29 whitespace characters, which is &gt;2."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 1, "creation_date": 1427902316, "post_id": 29394532, "comment_id": 46966232, "body": "@TimBiegeleisen Tabs can have variable length. The OP&#39;s input example could even have only a single tab before <code>Arrival Time Report</code>, depending on their terminal settings or text editor settings."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1427902461, "post_id": 29394532, "comment_id": 46966312, "body": "Searching for a certain number of whitespaces seems fragile...why not just ignore lines that match <code>Arrival Time Report</code>?"}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 1, "creation_date": 1427903699, "post_id": 29394532, "comment_id": 46967032, "body": "Yes, finally, I have fixed it by adding another regexp part to it <code>if (m&#47;^-?\\s{1,2}Arrival\\sTime&#47; &amp;&amp; !m&#47;Arrival\\sTime\\sReport&#47;)  { ... }</code>. Still, that is not the reason form my post here. I do not need a solution. I would like to understand why <code>\\s{1,2}</code> does not work..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427905437, "post_id": 29394532, "comment_id": 46968168, "body": "@BorisL.: That is fine, but you must post your real data so that we can help. What you show us has no tabs at all, and is useless. Stack Overflow will properly preserve tabs as well as spaces, so you have pasted something that is different from the original data. Many editors will reduce tabs to the equivalent number of spaces, so you should publish the data file on line so that we can help you"}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427907438, "post_id": 29394532, "comment_id": 46969341, "body": "Sorry, my mistake, I forgot about <code>s&#47;-&gt;&#47;&#47;g; s&#47;\\s\\S+\\s[v\\^]\\s&#47;&#47;g; s&#47;\\s+&#47; &#47;g;</code> Now I understand why it does not work..."}], "answers": [{"comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427904956, "post_id": 29394847, "comment_id": 46967864, "body": "I will leave this answer up until you find the root cause of why so many regexes which should be working are not."}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427907241, "post_id": 29394847, "comment_id": 46969223, "body": "Sorry, my mistake, I forgot about <code>s&#47;-&gt;&#47;&#47;g; s&#47;\\s\\S+\\s[v\\^]\\s&#47;&#47;g; s&#47;\\s+&#47; &#47;g;</code> Now I understand why it does not work..."}], "tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 1, "last_activity_date": 1427902055, "creation_date": 1427902055, "answer_id": 29394847, "question_id": 29394532, "link": "https://stackoverflow.com/questions/29394532/perl-regular-expression-matching-exactly-2-spaces-does-not-work/29394847#29394847", "title": "Perl, regular expression, matching exactly 2 spaces does not work", "body": "<p>Here is a possible workaround you can try:</p>\n\n<pre><code>if (m/^-?\\s{1,2}Arrival\\sTime\\s{2,}/) { ($STA_DATA{$file}{$path}{Arrival_Time}) = m/\\sArrival\\sTime\\s+(.*)\\s+$/ }\n</code></pre>\n\n<p>You can match the string \"Arrival Time &nbsp;&nbsp;\" with two or more spaces after it, ruling out the string \"Arrival Time Report\"</p>\n"}, {"comments": [{"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427904938, "post_id": 29395028, "comment_id": 46967850, "body": "Yes, regexp is in the while loop, hence reading line by line. `\topen(IN,&#39;&lt;&#39;,&quot;$file_name.rpt&quot;) or die &quot;Can&#39;t open input file: $!&quot;; \twhile (&lt;IN&gt;) {`"}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427907421, "post_id": 29395028, "comment_id": 46969329, "body": "Sorry, my mistake, I forgot about <code>s&#47;-&gt;&#47;&#47;g; s&#47;\\s\\S+\\s[v\\^]\\s&#47;&#47;g; s&#47;\\s+&#47; &#47;g;</code> Now I understand why it does not work..."}], "tags": [], "owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "is_accepted": false, "score": 0, "last_activity_date": 1427902658, "creation_date": 1427902658, "answer_id": 29395028, "question_id": 29394532, "link": "https://stackoverflow.com/questions/29394532/perl-regular-expression-matching-exactly-2-spaces-does-not-work/29395028#29395028", "title": "Perl, regular expression, matching exactly 2 spaces does not work", "body": "<p>Can you confirm your regex is inside a loop reading the input line by line ?</p>\n\n<p>In case <code>$_</code> contains the whole text your observation would be expected because you anchored the extracting regex to the end of the text by using a <code>$</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427904080, "post_id": 29395177, "comment_id": 46967292, "body": "In nedit replacing &#39;space&#39; character by &#39;dot&#39; character results in following: <code>.............................Arrival.Time.Report............&zwnj;&#8203;...............</code>, while &#39;tab&#39; character by &#39;dot&#39; character does not change the line. Hence, they are all spaces, no tabs in there."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427904461, "post_id": 29395177, "comment_id": 46967541, "body": "@BorisL.: Yes. I&#39;m not sure what you&#39;re saying here except that you agree?"}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427905662, "post_id": 29395177, "comment_id": 46968327, "body": "Yes, I agree, but still, the question is not how to fix it, but why it does not work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427905863, "post_id": 29395177, "comment_id": 46968457, "body": "@BorisL.: No one can tell you unless you provide your real data. Does <a href=\"http://pastebin.com\" rel=\"nofollow noreferrer\">pastebin</a> help? I&#39;m unsure why I&#39;m still trying to help you when you have been told repeatedly why we can&#39;t tell the problem unless you expose the details properly"}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427907414, "post_id": 29395177, "comment_id": 46969323, "body": "Sorry, my mistake, I forgot about <code>s&#47;-&gt;&#47;&#47;g; s&#47;\\s\\S+\\s[v\\^]\\s&#47;&#47;g; s&#47;\\s+&#47; &#47;g;</code> Now I understand why it does not work..."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1427903050, "creation_date": 1427903050, "answer_id": 29395177, "question_id": 29394532, "link": "https://stackoverflow.com/questions/29394532/perl-regular-expression-matching-exactly-2-spaces-does-not-work/29395177#29395177", "title": "Perl, regular expression, matching exactly 2 spaces does not work", "body": "<p>It should help to replace spaces in your data with Unicode U+2423 <em>OPEN BOX</em> that is commonly used to signify a space using a visible character.</p>\n\n<pre><code>\u2423\u2423\u2423\u2423\u2423\u2423Arrival\u2423Time\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u24233373.000\n\u2423\u2423\u2423\u2423-\u2423Arrival\u2423Time\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423638.700\u2423|\u2423100.404\n\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423Arrival\u2423Time\u2423Report\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\u2423\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427905562, "post_id": 29395807, "comment_id": 46968256, "body": "That is strange, I copy pasted from the original files. I&#39;ll have a look at it now..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427905624, "post_id": 29395807, "comment_id": 46968298, "body": "You should remove the four leading spaces from the input data that were used to signify a code block in Markdown. When you do that, the first two lines match and the third doesn&#39;t, which is still proof that the data in the question doesn&#39;t match what the OP is actually using; either that, or they&#39;re doing something wrong in the code they haven&#39;t shown."}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1427907003, "post_id": 29395807, "comment_id": 46969109, "body": "@ThisSuitIsBlackNot: You are right, it is indeed something else in the code that I completely forgot about.  <code>s&#47;-&gt;&#47;&#47;g; s&#47;\\s\\S+\\s[v\\^]\\s&#47;&#47;g; s&#47;\\s+&#47; &#47;g;</code>  Of course it does not work. Thank you for the hint and sorry for keeping everyone busy for nothing... :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427907490, "post_id": 29395807, "comment_id": 46969369, "body": "@BorisL. No worries, these things happen. In the future, you should make a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> that demonstrates your problem. Other users should be able to copy and paste the code and input from your question verbatim, run it on their own systems, and see the same behavior that you see. A lot of times, you&#39;ll actually discover the solution to your own problem in the course of making an MCVE!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427907574, "post_id": 29395807, "comment_id": 46969410, "body": "@BorisL.: That is fine, but the primary worth of any question on Stack Overflow is that it can be useful to others with a similar problem. Accordingly we still need to see your real data and the code before and after the \u201cfix\u201d"}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427907632, "post_id": 29395807, "comment_id": 46969448, "body": "@ThisSuitIsBlackNot: Thanks, I&#39;ll keep that in mind for future issues."}, {"owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "edited": false, "score": 0, "creation_date": 1427907841, "post_id": 29395807, "comment_id": 46969561, "body": "@Borodin: I&#39;ll try to post an answer to my question (i.e. explain the mistake I made) tomorrow, when I fix the code."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1427905010, "creation_date": 1427905010, "answer_id": 29395807, "question_id": 29394532, "link": "https://stackoverflow.com/questions/29394532/perl-regular-expression-matching-exactly-2-spaces-does-not-work/29395807#29395807", "title": "Perl, regular expression, matching exactly 2 spaces does not work", "body": "<p>The data you have published is not the same as you used in your test.</p>\n\n<p>This program checks <em>both</em> of the regex patterns against the data copied directly from an edit of your original post. Neither pattern matches any of the lines in your data</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy (%STA_DATA, $file, $path);\n\nwhile ( &lt;DATA&gt; ) {\n\n    if ( /^-?\\s{1,2}Arrival\\sTime/ )  {\n        say 'match1';\n        $STA_DATA{$file}{$path}{Arrival_Time} = m/\\sArrival\\sTime\\s+(.*)\\s+$/\n    }\n\n    if ( /^-\\sArrival\\sTime/ or m/^\\s{1,2}Arrival\\sTime/ ) {\n        say 'match2';\n        $STA_DATA{$file}{$path}{Arrival_Time} = m/\\sArrival\\sTime\\s+(.*)\\s+$/\n    }\n}\n\n__DATA__\n      Arrival Time                3373.000\n    - Arrival Time                          638.700 | 100.404\n                                 Arrival Time Report                           \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1427965525, "creation_date": 1427965525, "answer_id": 29409046, "question_id": 29394532, "link": "https://stackoverflow.com/questions/29394532/perl-regular-expression-matching-exactly-2-spaces-does-not-work/29409046#29409046", "title": "Perl, regular expression, matching exactly 2 spaces does not work", "body": "<p>As rightfully requested by Borodin, for the learning of others I'm gong to explain the mistake I have done and show the solution.</p>\n\n<p>The mistake that I have done is following:</p>\n\n<p>I wrongly assumed that my matching pattern is being applied on the text as seen in the .rpt file.\nThree cases (relevant for my matching pattern) that can occur in such a file are following: </p>\n\n<pre><code>  Arrival Time                3373.000\n- Arrival Time                          638.700 | 100.404\n                             Arrival Time Report                           \n</code></pre>\n\n<p>But, I have forgotten that somewhere in the code I have implemented following line:</p>\n\n<pre><code>s/-&gt;//g; s/\\s\\S+\\s[v\\^]\\s//g; s/\\s+/ /g;\n</code></pre>\n\n<p>It is namely the last substitution in this series of substitutions that changes the original text into:</p>\n\n<pre><code> Arrival Time 3373.000\n- Arrival Time 638.700 | 100.404\n Arrival Time Report \n</code></pre>\n\n<p>There for my matching patterns (that are presented in the question above) did not work.</p>\n\n<p>Knowing this, the solution is simple. I have adjusted matching pattern as follows:</p>\n\n<pre><code>if (m/^\\-?\\sArrival\\sTime\\s\\d+/) { ($STA_DATA{$file}{$path}{Arrival_Time}) = m/\\sArrival\\sTime\\s(.*)\\s?$/ }\n</code></pre>\n\n<p>I appreciate all the help and feedback received, and I truly sorry for wasting everyone's time with this ill defined problem. </p>\n"}], "owner": {"reputation": 862, "user_id": 3289890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003466878114/picture?type=large", "display_name": "Boris L.", "link": "https://stackoverflow.com/users/3289890/boris-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "accepted_answer_id": 29395807, "answer_count": 5, "score": -1, "last_activity_date": 1427965525, "creation_date": 1427901240, "last_edit_date": 1427901659, "question_id": 29394532, "link": "https://stackoverflow.com/questions/29394532/perl-regular-expression-matching-exactly-2-spaces-does-not-work", "title": "Perl, regular expression, matching exactly 2 spaces does not work", "body": "<p>Working on the parser for STA/SSTA timing reports. The following cases of \"Arrival Time\" occurrence are possible:</p>\n\n<pre><code>  Arrival Time                3373.000\n- Arrival Time                          638.700 | 100.404\n                             Arrival Time Report                           \n</code></pre>\n\n<p>The goal is to match cases 1st and 2nd, but ignore 3rd case.</p>\n\n<p>I tried two matching patterns in my Perl code:</p>\n\n<p>1) <code>if (m/^-?\\s{1,2}Arrival\\sTime/)  { ($STA_DATA{$file}{$path}{Arrival_Time}) = m/\\sArrival\\sTime\\s+(.*)\\s+$/ }</code></p>\n\n<p>2) <code>if (m/^-\\sArrival\\sTime/ || m/^\\s{1,2}Arrival\\sTime/)  { ($STA_DATA{$file}{$path}{Arrival_Time}) = m/\\sArrival\\sTime\\s+(.*)\\s+$/ }</code></p>\n\n<p>Both of them pick up the 3rd case as well. I do not understand why.\nI defined specifically one or two space characters <code>\\s{1,2}</code>, no more than that. As the 3rd line contains more than two whitespace character it should not match the pattern. How is this possible?</p>\n"}, {"tags": ["c#", "perl", "hex", "base64"], "comments": [{"owner": {"reputation": 14733, "user_id": 2589202, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KBJx4.jpg?s=128&g=1", "display_name": "crthompson", "link": "https://stackoverflow.com/users/2589202/crthompson"}, "edited": false, "score": 2, "creation_date": 1427900665, "post_id": 29394227, "comment_id": 46965125, "body": "What are the c# methods you&#39;ve tried?"}, {"owner": {"reputation": 9, "user_id": 1292651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc82f48bb4a278cfa9b820df85537f0?s=128&d=identicon&r=PG", "display_name": "Allan Lie", "link": "https://stackoverflow.com/users/1292651/allan-lie"}, "reply_to_user": {"reputation": 14733, "user_id": 2589202, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KBJx4.jpg?s=128&g=1", "display_name": "crthompson", "link": "https://stackoverflow.com/users/2589202/crthompson"}, "edited": false, "score": 0, "creation_date": 1427907454, "post_id": 29394227, "comment_id": 46969353, "body": "The first thing I do with the $StringData is to take the substring and at the &#39;A&#39; in front. Giving: A3LCOBgCaxjQAADljIQEAAAG2FDADiAAB7QHKA6EyAPQgA1cC8gAA4E   And then the first thing I tried was to use Convert.FromBase64String(string). But I get an error telling me that the string is not a real base64 string. Even with out the A infront"}, {"owner": {"reputation": 9, "user_id": 1292651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc82f48bb4a278cfa9b820df85537f0?s=128&d=identicon&r=PG", "display_name": "Allan Lie", "link": "https://stackoverflow.com/users/1292651/allan-lie"}, "reply_to_user": {"reputation": 14733, "user_id": 2589202, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KBJx4.jpg?s=128&g=1", "display_name": "crthompson", "link": "https://stackoverflow.com/users/2589202/crthompson"}, "edited": false, "score": 0, "creation_date": 1427907763, "post_id": 29394227, "comment_id": 46969511, "body": "The method I reached the furthest with is a Base64 lib from a guy called Exyll. There I get a byte array of 41 different numbers. but non of them match the right result. Lastly I have tried all the online converters I could find, all with the same result (Not the right one)."}, {"owner": {"reputation": 9, "user_id": 1292651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc82f48bb4a278cfa9b820df85537f0?s=128&d=identicon&r=PG", "display_name": "Allan Lie", "link": "https://stackoverflow.com/users/1292651/allan-lie"}, "reply_to_user": {"reputation": 14733, "user_id": 2589202, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KBJx4.jpg?s=128&g=1", "display_name": "crthompson", "link": "https://stackoverflow.com/users/2589202/crthompson"}, "edited": false, "score": 0, "creation_date": 1427973544, "post_id": 29394227, "comment_id": 46996202, "body": "But I dont think that naming all the methodes I have used will help. I think it is more a question of me not knowing what exacthely is going on in the perl script when using the &quot;cnv&quot; method call.."}, {"owner": {"reputation": 108, "user_id": 1543856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2eccaf76a51b0d67dad904995f4bd9?s=128&d=identicon&r=PG", "display_name": "tal.tzf", "link": "https://stackoverflow.com/users/1543856/tal-tzf"}, "edited": false, "score": 0, "creation_date": 1428831863, "post_id": 29394227, "comment_id": 47323570, "body": "You are getting different results since your script is using user defined convert table: dig(&#39;url&#39;) is replacing the default &#39;b64&#39; =&gt; [&#39;0&#39;..&#39;9&#39;, &#39;A&#39;..&#39;Z&#39;, &#39;a&#39;..&#39;z&#39;, &#39;.&#39;, &#39;_&#39;] That being used by all the other tests you&#39;ve made. See in the docs of the Perl package you are using: <a href=\"https://metacpan.org/pod/release/PIP/Math-BaseCnv-1.4.75O6Pbr/BaseCnv.pm#dig-newd\" rel=\"nofollow noreferrer\">metacpan.org/pod/release/PIP/Math-BaseCnv-1.4.75O6Pbr/&hellip;</a>"}], "owner": {"reputation": 9, "user_id": 1292651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc82f48bb4a278cfa9b820df85537f0?s=128&d=identicon&r=PG", "display_name": "Allan Lie", "link": "https://stackoverflow.com/users/1292651/allan-lie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429184545, "creation_date": 1427900411, "last_edit_date": 1427901842, "question_id": 29394227, "link": "https://stackoverflow.com/questions/29394227/perl-script-logic-converted-to-c", "title": "Perl script logic converted to C#", "body": "<p>I have a Perl script which I need to convert to C#.</p>\n\n<p>But I have hit a speedbump.</p>\n\n<p>The Perl script:</p>\n\n<pre><code>use Math::BaseCnv;\nuse Math::BaseCnv dig;\nuse XML::Simple;\nuse LWP::Simple; \ndig('url'); # select the right alphabet for the base64\nmy $parser = new XML::Simple;\nmy $url = 'http://10.0.2.128/api.xml';\nmy $content = get $url or die \"Unable to get $url\\n\";\nmy $data = $parser-&gt;XMLin($content);\n$StringData=$data-&gt;{dataField}; \n$DecValue = cnv('A'.substr($StringData,3,54),64,10);\ndig('HEX');\n$HexValue = cnv($DecValue,10,16);\n</code></pre>\n\n<p><strong>The value of $StringData is</strong> <code>WS=3LCOBgCaxjQAADljIQEAAAG2FDADiAAB7QHKA6EyAPQgA1cC8gAA4E</code></p>\n\n<p>Length: 57</p>\n\n<p><strong>The value of $DecValue is</strong></p>\n\n<pre><code>29461891743732702623135632717213292230507524331718660652410396996938709350973448271678550990392836\n</code></pre>\n\n<p>Length: 98</p>\n\n<p><strong>And the value of $HexValue is</strong></p>\n\n<pre><code>DCB08E06009AC634000039632101000001B6143003880001ED01CA03A13200F420035702F20000E04\n</code></pre>\n\n<p>Length: 81</p>\n\n<p>My issue is that I cant get the same <code>$DecValue</code> and <code>$HexValue</code> when using C#. I have searched Google dry and I am not even close to getting these values.</p>\n\n<p>So it would be a greate help if anybody know a way to decode these values in C#?</p>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["perl", "centos", "redhat", "rpm", "texinfo"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1427900231, "post_id": 29394119, "comment_id": 46964807, "body": "Use yum to resolve dependancies automatically and note that a perl installed with <code>perlbrew</code> is completely independent from anything that you installed via RPM."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427900599, "post_id": 29394119, "comment_id": 46965071, "body": "Strange...I&#39;m on CentOS 7 and I see <code>texinfo-tex</code> in the base yum repository."}, {"owner": {"reputation": 11327, "user_id": 1199712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/764b5ec35fa2b18a1b62bbf1286f5788?s=128&d=identicon&r=PG", "display_name": "h.l.m", "link": "https://stackoverflow.com/users/1199712/h-l-m"}, "edited": false, "score": 0, "creation_date": 1427905587, "post_id": 29394119, "comment_id": 46968280, "body": "how would you be able to do it using the .rpm?"}, {"owner": {"reputation": 169, "user_id": 1282190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b95818f2a0975b9eb9f5a744137cf6?s=128&d=identicon&r=PG", "display_name": "calmond", "link": "https://stackoverflow.com/users/1282190/calmond"}, "edited": false, "score": 0, "creation_date": 1428358553, "post_id": 29394119, "comment_id": 47121783, "body": "Make sure that your network adapter is turned on also.   Often network manager will have interfaces turned off at boot time, and yum can&#39;t download anything from the repository as a result."}], "answers": [{"comments": [{"owner": {"reputation": 11327, "user_id": 1199712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/764b5ec35fa2b18a1b62bbf1286f5788?s=128&d=identicon&r=PG", "display_name": "h.l.m", "link": "https://stackoverflow.com/users/1199712/h-l-m"}, "edited": false, "score": 0, "creation_date": 1427900642, "post_id": 29394248, "comment_id": 46965110, "body": "I get a very similar error to before: --&gt; Finished Dependency Resolution Error: Package: texinfo-5.2-7.fc22.ppc64 (/texinfo-5.2-7.fc22.ppc64)            Requires: perl(Unicode::EastAsianWidth)            Available: texinfo-5.1-4.el7.ppc64 (Local)                perl(Unicode::EastAsianWidth) = 1.30  You could try using --skip-broken to work around the problem  You could try running: rpm -Va --nofiles --nodigest"}, {"owner": {"reputation": 169, "user_id": 1282190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b95818f2a0975b9eb9f5a744137cf6?s=128&d=identicon&r=PG", "display_name": "calmond", "link": "https://stackoverflow.com/users/1282190/calmond"}, "reply_to_user": {"reputation": 11327, "user_id": 1199712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/764b5ec35fa2b18a1b62bbf1286f5788?s=128&d=identicon&r=PG", "display_name": "h.l.m", "link": "https://stackoverflow.com/users/1199712/h-l-m"}, "edited": false, "score": 0, "creation_date": 1428358694, "post_id": 29394248, "comment_id": 47121816, "body": "Try adding --skip-broken to the end of the command.  That&#39;s what the error message is suggestin."}], "tags": [], "owner": {"reputation": 169, "user_id": 1282190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b95818f2a0975b9eb9f5a744137cf6?s=128&d=identicon&r=PG", "display_name": "calmond", "link": "https://stackoverflow.com/users/1282190/calmond"}, "is_accepted": false, "score": 0, "last_activity_date": 1427934145, "last_edit_date": 1427934145, "creation_date": 1427900464, "answer_id": 29394248, "question_id": 29394119, "link": "https://stackoverflow.com/questions/29394119/installing-texinfo-on-redhat-centos-7-ppc64/29394248#29394248", "title": "installing texinfo on redhat centos 7 ppc64", "body": "<p>Try this command as the root user:</p>\n\n<pre><code>yum localinstall texinfo-5.2-7.fc22.ppc64.rpm\n</code></pre>\n"}], "owner": {"reputation": 11327, "user_id": 1199712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/764b5ec35fa2b18a1b62bbf1286f5788?s=128&d=identicon&r=PG", "display_name": "h.l.m", "link": "https://stackoverflow.com/users/1199712/h-l-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1626, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427934145, "creation_date": 1427900124, "last_edit_date": 1427900589, "question_id": 29394119, "link": "https://stackoverflow.com/questions/29394119/installing-texinfo-on-redhat-centos-7-ppc64", "title": "installing texinfo on redhat centos 7 ppc64", "body": "<p>I am new to RedHat and would like some help to install <code>R-devel</code>. </p>\n\n<p>I tried to install it using the following command:</p>\n\n<pre><code>yum install R-devel\n</code></pre>\n\n<p>but leads to the first error below...</p>\n\n<p>I am on CentOS 7 with a ppc64 architecture...</p>\n\n<p>I have got to the point of needing to install <code>texinfo-tex</code>, <code>lapack-devel</code> and <code>blas-devel</code>. Please see below:</p>\n\n<pre><code>Error: Package: R-core-devel-3.1.3-1.el7.ppc64 (epel)\n            Requires: texinfo-tex\nError: Package: R-core-devel-3.1.3-1.el7.ppc64 (epel)\n           Requires: lapack-devel\nError: Package: R-core-devel-3.1.3-1.el7.ppc64 (epel)\n           Requires: blas-devel &gt;= 3.0\n</code></pre>\n\n<p><code>yum install texinfo-tex</code> does not seem to work as it says <code>No package texinfo-tex available</code>.</p>\n\n<p>So I downloaded the .rpm and used the following command...to try and install it</p>\n\n<pre><code>su -c 'rpm -Uvh texinfo-5.2-7.fc22.ppc64.rpm'\n</code></pre>\n\n<p>with which i get the following error</p>\n\n<pre><code>warning: texinfo-5.2-7.fc22.ppc64.rpm: Header V3 RSA/SHA1 Signature, key ID xxxxxx:NOKEY\nerror: Failed dependencies:\n    perl(Unicode::EastAsianWidth) is needed by texinfo-5.2-7.fc22.ppc64\n</code></pre>\n\n<p>So i try and install the dependency <code>perl(Unicode::EastAsianWidth)</code></p>\n\n<p>again trying to download and try and install it...</p>\n\n<pre><code>su -c 'rpm -Uvh perl-Unicode-EastAsianWidth-1.33-4.fc22.noarch.rpm'\n\nwarning: perl-Unicode-EastAsianWidth-1.33-4.fc22.noarch.rpm: Header V3 RSA/SHA1 Signature, key ID xxxxx: NOKEY\nerror: Failed dependencies:\n         perl(:MODULE_COMPAT_5.20.0) is needed by perl-Unicode-EastAsianWidth-1.33-4.fc22.noarch\n</code></pre>\n\n<p>so i tried to also install <code>perl</code> using the following:</p>\n\n<pre><code> su -c 'rpm -Uvh perl-5.20.1-314.fc22.ppc64.rpm'\n</code></pre>\n\n<p>but got even more dependecy checks....i feel like this probably isn't right...am i missing something...</p>\n\n<p>I have also installed <code>perlbrew</code> to check my perl versions this is my result</p>\n\n<pre><code>perlbrew available\n#  perl-5.21.10   \n  perl-5.20.2\n  perl-5.18.4\n  perl-5.16.3\n  perl-5.14.4\n  perl-5.12.5\n  perl-5.10.1\n  perl-5.8.9\n  perl-5.6.2\n  perl5.005_04\n  perl5.004_05\n  perl5.003_07\n</code></pre>\n\n<p>Any help would be greatly appreciated....</p>\n"}, {"tags": ["regex", "perl", "hash", "pattern-matching"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1427898981, "post_id": 29393621, "comment_id": 46963851, "body": "Your regex would be more manageable if you first <code>split</code> your data into fields and then only used a regex on the field you&#39;re interested in. If your fields could contain commas, use <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\"><code>Text::CSV</code></a> instead of <code>split</code>."}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 2, "last_activity_date": 1427900031, "creation_date": 1427900031, "answer_id": 29394078, "question_id": 29393621, "link": "https://stackoverflow.com/questions/29393621/make-hash-from-regex-expression-patten-match-error/29394078#29394078", "title": "Make hash from regex expression patten match -error", "body": "<p>Change this line:</p>\n\n<pre><code>$hash{$k} = [$v];\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$hash{$k} = $v;\n</code></pre>\n\n<p><code>[$v]</code> is a reference to an array but you want to store a scalar.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1427900570, "creation_date": 1427900570, "answer_id": 29394284, "question_id": 29393621, "link": "https://stackoverflow.com/questions/29393621/make-hash-from-regex-expression-patten-match-error/29394284#29394284", "title": "Make hash from regex expression patten match -error", "body": "<p><code>[ ]</code> creates an array, assigns the result of the enclosed expression to that array, and returns a reference to the array. It is that reference you are printing.</p>\n\n<p>You were probably trying to support multiple matches. Two problems:</p>\n\n<ol>\n<li><p>You continually create a new array with one element. Replace</p>\n\n<pre><code>$hash{$k} = [ $v ];\n</code></pre>\n\n<p>with</p>\n\n<pre><code>push @{ $hash{$k} }, $v;\n</code></pre></li>\n<li><p>You print the reference to the array rather than the contents of the array. Replace</p>\n\n<pre><code>print $out_fh $hash{'Cryptophyta'};\n</code></pre>\n\n<p>with</p>\n\n<pre><code>print $out_fh join(', ', @{ $hash{'Cryptophyta'} });\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 141, "user_id": 3767953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d63deb1aec93f67b9add5fa30a235bc4?s=128&d=identicon&r=PG&f=1", "display_name": "user3767953", "link": "https://stackoverflow.com/users/3767953/user3767953"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 29394078, "answer_count": 2, "score": 0, "last_activity_date": 1427900570, "creation_date": 1427898849, "last_edit_date": 1427899516, "question_id": 29393621, "link": "https://stackoverflow.com/questions/29393621/make-hash-from-regex-expression-patten-match-error", "title": "Make hash from regex expression patten match -error", "body": "<p>I am making a hash from regex expression. I run my program below and I have a check at the end to see if my hash made ok. But I keep getting an error for the value., I get this ARRAY(0x1a1c740), when it should be 437768. Keys can display ok. I didnt do split because i need the key to be the first part of a species name. This is what i am matching.</p>\n\n<pre><code># \"aaaaaaaaaa\",\"aaaaaaaaaa\",\"437768\",\"Cryptophyta sp. CR-MAL06\",0\n</code></pre>\n\n<p>Thanks very much for your help that you may give. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen (my $in_fh,\"$ARGV[0]\") or die \"Failed to open file: $!\\n\";\nopen (my $out_fh, \"&gt;genus.txt\");\n\nmy %hash;\nwhile ( my $line = &lt;$in_fh&gt; ) {\n     #\n     # \"aaaaaaaaaa\",\"aaaaaaaaaa\",\"437768\",\"Cryptophyta sp. CR-MAL06\",0\n     #\n     if ($line =~ m/\\\"+\\w+\\\"+\\,+\\\"+\\w+\\\"+\\,+\\\"+(\\d+)\\\"+\\,+\\\"+(\\w+)+.+/) {\n         my $v = $1;\n         my $k = $2;\n\n         $hash{$k} = [$v];\n     }\n}\n\nif (exists $hash{'Cryptophyta'}) {\n    print $out_fh $hash{'Cryptophyta'};\n}\nelse {\n    print $out_fh \"NO\\n\";\n}\n\nclose $in_fh;\nclose $out_fh;  \n</code></pre>\n"}, {"tags": ["perl", "module", "permission-denied", "unicode-string"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427894582, "post_id": 29391902, "comment_id": 46960905, "body": "It seems pretty clear that the user running the <code>make</code> does not have permission to create a directory in that place. Change user? Or <code>sudo</code>."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1427894586, "post_id": 29391902, "comment_id": 46960906, "body": "You need permission to install into <code>&#47;Library&#47;</code>. Try with <code>sudo make install</code>, or change the installation prefix."}, {"owner": {"reputation": 145, "user_id": 4737607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e3d4a2539bb92b244562bebf35e4c18?s=128&d=identicon&r=PG&f=1", "display_name": "starckman", "link": "https://stackoverflow.com/users/4737607/starckman"}, "edited": false, "score": 0, "creation_date": 1427896014, "post_id": 29391902, "comment_id": 46961768, "body": "Thx, I tried sudo make install, it says &quot;sudo make install Unicode::string Password: make: *** No rule to make target `install&#39;.  Stop&quot;. What do you mean by &quot;change the installation prefix?&quot;"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1427897151, "post_id": 29391902, "comment_id": 46962556, "body": "The recommendation to use <code>sudo</code> maybe well-intentioned, but it is <b>harmful</b>. Do not mess with OS X system Perl. Instead, install your own Perl in a user directory, I use <code>$HOME&#47;perl&#47;5.xx.x</code>, and use that. See <a href=\"http://www.effectiveperlprogramming.com/2011/02/choose-the-right-perl-distribution/\" rel=\"nofollow noreferrer\">effectiveperlprogramming.com/2011/02/&hellip;</a> if you need help."}], "answers": [{"comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427897673, "post_id": 29393108, "comment_id": 46962906, "body": "Or better, simply use <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427897872, "post_id": 29393108, "comment_id": 46963052, "body": "@SteffenUllrich I am not in favor of anyone jumping into using <code>perlbrew</code> without understanding what it does behind the scenes. And, as much as I wanted to like it, all three times I tried to use it consistently, I ended up wiping <code>~&#47;perl5</code> after a while. It doesn&#39;t do anything for me. So, better and simply are in the eyes of the beholder."}, {"owner": {"reputation": 145, "user_id": 4737607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e3d4a2539bb92b244562bebf35e4c18?s=128&d=identicon&r=PG&f=1", "display_name": "starckman", "link": "https://stackoverflow.com/users/4737607/starckman"}, "edited": false, "score": 1, "creation_date": 1427910651, "post_id": 29393108, "comment_id": 46970987, "body": "Thx everyone for you response! The problem was it didn&#39;t find the module for my currently activeperl (20), i re-downloaded activeperl 18, and re-installed unicode::string using the command /usr/local/ActivePerl-5.18/bin/ppm install Unicode-String, and now it works fine."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1427897588, "creation_date": 1427897588, "answer_id": 29393108, "question_id": 29391902, "link": "https://stackoverflow.com/questions/29391902/perl-unicode-string-permission-denied/29393108#29393108", "title": "PERL : Unicode string : Permission denied", "body": "<p><code>/Library</code> is a system directory. It is a <strong>bad</strong> idea to tinker with your system's own Perl distribution. If anything goes wrong, you'll have a lot of cleanup to do.</p>\n\n<p>Therefore, build your own Perl. All you need is to download the appropriate source distribution, and run <code>./Configure --help</code>, and read the instructions.</p>\n\n<p>Or, you could just do:</p>\n\n<pre>$ ./Configure -des -Dprefix=/Users/user/perl/5.xx.x\nmake\nmake test\nmake install</pre>\n\n<p>You can then put <code>/Users/user/perl/5.xx.x/bin</code> on your path, or just invoke <code>perl</code> with the full path.</p>\n\n<pre> $ ~/perl/5.xx.x/bin/perl Makefile.PL\nmake test\nmake install</pre>\n\n<p>I like to put symlinks in <code>~/bin</code> so that <code>perl5.xx.x</code> invokes <code>~/perl/5.xx.x/bin/perl</code>.</p>\n\n<p>Do not install modules in system directories. I am sure people who recommended that mean well, but doing so is going to cause trouble at some point.</p>\n"}], "owner": {"reputation": 145, "user_id": 4737607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e3d4a2539bb92b244562bebf35e4c18?s=128&d=identicon&r=PG&f=1", "display_name": "starckman", "link": "https://stackoverflow.com/users/4737607/starckman"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1916, "favorite_count": 0, "closed_date": 1427898017, "answer_count": 1, "score": -3, "last_activity_date": 1427897588, "creation_date": 1427894284, "last_edit_date": 1427894432, "question_id": 29391902, "link": "https://stackoverflow.com/questions/29391902/perl-unicode-string-permission-denied", "closed_reason": "Duplicate", "title": "PERL : Unicode string : Permission denied", "body": "<p>I program using Perl and need to install Unicode String. But <code>make install</code> tells me: </p>\n\n<blockquote>\n  <p>Files found in blib/arch: installing files in blib/lib into\n  architecture dependent library tree\n  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n  ERROR: Can't create\n  '/Library/Perl/5.16/darwin-thread-multi-2level/Unicode' mkdir\n  /Library/Perl/5.16/darwin-thread-multi-2level/Unicode: Permission\n  denied at /System/Library/Perl/5.16/ExtUtils/Install.pm line 494.</p>\n  \n  <p>!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n  at -e line 1. make: *** [pure_site_install] Error 13</p>\n</blockquote>\n\n<p>Does anyone ever encountered this problem?</p>\n"}, {"tags": ["perl", "web-scraping"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427894074, "post_id": 29385914, "comment_id": 46960575, "body": "You should stick with <code>uri_unescape</code> to remove character entities from HTML. A hash together with a global regex may be faster, but insignifcantly so compared with the time taken to recover the HTML from the internet. And <code>uri_unescape</code> is much cleaner and self-documenting."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1428509095, "post_id": 29385914, "comment_id": 47194480, "body": "Why scrape Amazon? You know they have a <a href=\"https://metacpan.org/release/Net-Amazon\" rel=\"nofollow noreferrer\">product API</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": false, "score": 1, "last_activity_date": 1427876845, "creation_date": 1427876845, "answer_id": 29386117, "question_id": 29385914, "link": "https://stackoverflow.com/questions/29385914/how-do-i-extract-amazon-reviews-from-html/29386117#29386117", "title": "How do I extract Amazon reviews from HTML?", "body": "<p>I think the XPath should be <code>'//div[@class =\"a-section\"]'</code> (extra <strong>//</strong> at the beginning of the expression to find the <code>div</code> anywhere in the HTML)</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1427893407, "creation_date": 1427893407, "answer_id": 29391602, "question_id": 29385914, "link": "https://stackoverflow.com/questions/29385914/how-do-i-extract-amazon-reviews-from-html/29391602#29391602", "title": "How do I extract Amazon reviews from HTML?", "body": "<p>As choroba has said, your XPath expression should start with <code>//</code> to look for <em>descendants</em> of type <code>div</code>. As it stands, you are searching for <code>&lt;div&gt;</code> elements at the root of the document, and there are none.</p>\n\n<p>You are also looking for a <code>class</code> attribute that is <em>equal</em> to <code>a-section</code>, when in fact each <code>div</code> element's <code>class</code> attribute can contain multiple classes, like</p>\n\n<pre><code>class=\"a-section a-subheader a-breadcrumb celwidget\"\n</code></pre>\n\n<p>and you want any one of them to be <code>a-section</code>.</p>\n\n<p>There are a few ways around this. The most obvious is to use XPath <em>contains</em> to see if <code>a-section</code> appears anywhere in the class string, like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::Simple;\nuse HTML::TreeBuilder::XPath;\n\nmy $asin = 'B0031EJBI4';\n\nmy $url = \"http://amazon.com/o/tg/detail/-/$asin/?vi=customer-reviews\";\n\nmy $tree = HTML::TreeBuilder::XPath-&gt;new-&gt;parse(get $url);\n\nmy @nodes = $tree-&gt;findnodes('//div[contains(@class, \"a-section\")]');\n\nsay scalar @nodes;\n</code></pre>\n\n<p>which reports 60 such nodes in the page. This is the correct result, and you may not want to go any further, but the solution isn't a secure one as it will match nodes like</p>\n\n<pre><code>&lt;div class=\"aaa-sections\"&gt;\n</code></pre>\n\n<p>as well. To fix this properly you need to revert to the non-XPath <code>HTML::Element</code> method <code>look_down</code>, like this, which insists on a word boundary before and after <code>a-section</code>.</p>\n\n<pre><code>my @nodes = $tree-&gt;look_down(\n  _tag =&gt; 'div',\n  class =&gt; qr/\\ba-section\\b/,\n);\n\nsay scalar @nodes;\n</code></pre>\n\n<p>Again, the result is the correct 64.</p>\n\n<p>But even that solution won't allow for classes that begin or end with a non-word character like <code>-section</code>, because <code>/\\b-section\\b/</code> will never be found. The most general solution is to use a subroutine in the <code>look_down</code> criteria, like this, which splits the class string on whitespace (the <code>' '</code> is correct: don't change it for <code>/ /</code> or <code>/\\s+/</code>) and builds the <code>%classes</code> hash that uses all the substrings as keys. Then the existence of an <code>a-section</code> class is simply the value of <code>$classes{'a-section'}</code></p>\n\n<pre><code>@nodes = $tree-&gt;look_down(\n  _tag =&gt; 'div',\n  sub {\n    return unless my $class = $_[0]-&gt;attr('class');\n    my %classes = map { $_ =&gt; 1 } split ' ', $class;\n    $classes{'a-section'};\n  }\n);\n\nsay scalar @nodes;\n</code></pre>\n\n<p>Once more the result with this page is 64, but this solution will work with any class string.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427894219, "post_id": 29391819, "comment_id": 46960683, "body": "A little narrative would be nice to explain your post.  And it suffers from the same problem as the OP&#39;s code: that it won&#39;t find <code>&lt;span&gt;</code> elements with multiple values in the <code>class</code> attribute."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427894560, "post_id": 29391819, "comment_id": 46960889, "body": "And your <code>@data</code> array contains just four nodes, with the text <code>~ Matthew McConaughey ~ Ian McKellen ~ Jennifer Lawrence ~ Ian McKellen</code>. Not what the OP had in mind when he asked for reviews!"}, {"owner": {"reputation": 414, "user_id": 1653816, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fe70f746629c9ed9c04031fd873e6864?s=128&d=identicon&r=PG", "display_name": "Umesha D", "link": "https://stackoverflow.com/users/1653816/umesha-d"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427954662, "post_id": 29391819, "comment_id": 46986644, "body": "Just i have given in span element attribute contains <code>&#47;&#47;span[@class=&quot;a-size-base review-text&quot;]</code> it will give you the list of reviews... on current page results...."}], "tags": [], "owner": {"reputation": 414, "user_id": 1653816, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fe70f746629c9ed9c04031fd873e6864?s=128&d=identicon&r=PG", "display_name": "Umesha D", "link": "https://stackoverflow.com/users/1653816/umesha-d"}, "is_accepted": false, "score": -1, "last_activity_date": 1427894069, "creation_date": 1427894069, "answer_id": 29391819, "question_id": 29385914, "link": "https://stackoverflow.com/questions/29385914/how-do-i-extract-amazon-reviews-from-html/29391819#29391819", "title": "How do I extract Amazon reviews from HTML?", "body": "<pre><code>use LWP::Simple;\n\n#use HTML::TreeBuilder;\nuse HTML::TreeBuilder::XPath;\n\n# Take the ASIN from the command line.\nmy $asin = shift @ARGV or die \"Usage: perl get_reviews.pl &lt;asin&gt;\\n\";\n\n# Assemble the URL from the passed ASIN.\nmy $url = \"http://www.amazon.com/gp/product/B00R3DO58K/ref=s9_ri_gw_g74_i2?pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=desktop-3&amp;pf_rd_r=01F13XCKC1KBQAJ4EY87&amp;pf_rd_t=36701&amp;pf_rd_p=1970558902&amp;pf_rd_i=desktop\";\n\n# Set up unescape-HTML rules. Quicker than URI::Escape.\nmy %unescape = ('&amp;quot;'=&gt;'\"', '&amp;amp;'=&gt;'&amp;', '&amp;nbsp;'=&gt;' ');\nmy $unescape_re = join '|' =&gt; keys %unescape;\n\n# Request the URL.\nmy $content = get($url);\n\n\n\ndie \"Could not retrieve $url\" unless $content;\nmy $tree = HTML::TreeBuilder::XPath-&gt;new_from_content( $content);\nmy @data = $tree-&gt;findvalues('//span[@class=\"vtp-byline-text\"]');\n\n\n#print $content;\n\nforeach (@data)\n{\n    print \"$_\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4737198, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-weQheaD1HRc/AAAAAAAAAAI/AAAAAAAADWQ/zxZ4PrnaDPM/photo.jpg?sz=128", "display_name": "Aakash Sharma", "link": "https://stackoverflow.com/users/4737198/aakash-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1579056469, "creation_date": 1427876136, "last_edit_date": 1427887981, "question_id": 29385914, "link": "https://stackoverflow.com/questions/29385914/how-do-i-extract-amazon-reviews-from-html", "title": "How do I extract Amazon reviews from HTML?", "body": "<p>I have been trying to write a perl script to scrap amazon and download product reviews but I have been unable to do so.\nI have been using the perl modules LWP::Simple and HTML::TreeBuilder::XPath to achieve this.</p>\n\n<p>For the HTML</p>\n\n<pre><code>&lt;div id=\"revData-dpReviewsMostHelpfulAUI-R1GQHD9GMGBDXP\" class=\"a-row a-spacing-small\"&gt;\n  &lt;span class=\"a-size-mini a-color-state a-text-bold\"&gt;\n    Verified Purchase\n  &lt;/span&gt;\n  &lt;div class=\"a-section\"&gt;\n    I bought this to replace an earlier model that got lost in transit when we moved. It is a real handy helper to have when making tortillas. Follow the recipe for flour tortillas in the little recipe book that comes with it. I make a few changes\n\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I wanted to extract the product review. For this i wrote:-</p>\n\n<pre><code>use LWP::Simple;\n\n#use HTML::TreeBuilder;\nuse HTML::TreeBuilder::XPath;\n\n# Take the ASIN from the command line.\nmy $asin = shift @ARGV or die \"Usage: perl get_reviews.pl &lt;asin&gt;\\n\";\n\n# Assemble the URL from the passed ASIN.\nmy $url = \"http://amazon.com/o/tg/detail/-/$asin/?vi=customer-reviews\";\n\n# Set up unescape-HTML rules. Quicker than URI::Escape.\nmy %unescape = ('&amp;quot;'=&gt;'\"', '&amp;amp;'=&gt;'&amp;', '&amp;nbsp;'=&gt;' ');\nmy $unescape_re = join '|' =&gt; keys %unescape;\n\n# Request the URL.\nmy $content = get($url);\ndie \"Could not retrieve $url\" unless $content;\nmy $tree = HTML::TreeBuilder::XPath-&gt;new_from_content( $content);\nmy @data = $tree-&gt;findvalues('div[@class =\"a-section\"]');\n\nforeach (@data)\n{\n    print \"$_\\n\";\n}\n</code></pre>\n\n<p>But I am not getting any output. Can anyone please point out my mistake?</p>\n"}, {"tags": ["sql", "perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1427876256, "creation_date": 1427876256, "answer_id": 29385942, "question_id": 29385859, "link": "https://stackoverflow.com/questions/29385859/inbedded-sql-in-a-perl-script-issue-with-wildcard/29385942#29385942", "title": "Inbedded SQL in a Perl script issue with wildcard %", "body": "<p>In <a href=\"http://p3rl.org/printf\" rel=\"nofollow\">printf</a>/<a href=\"http://p3rl.org/sprintf\" rel=\"nofollow\">sprintf</a>, you can use <code>%%</code> to insert the literal percent sign.</p>\n"}], "owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 29385942, "answer_count": 1, "score": 0, "last_activity_date": 1427920132, "creation_date": 1427875878, "last_edit_date": 1427920132, "question_id": 29385859, "link": "https://stackoverflow.com/questions/29385859/inbedded-sql-in-a-perl-script-issue-with-wildcard", "title": "Inbedded SQL in a Perl script issue with wildcard %", "body": "<p>The below extract was taken from my Perl script which is failing because i need to escape the <code>%</code> symbol in the <code>NOT LIKE 'IE%'</code>. Does anyone know how i can do this easily?</p>\n\n<pre><code>my @oDests = keys %$d;\n\nforeach my $nDestID (@oDests) {\n    $sRes .= sprintf \"\\nSELECT * FROM symbol_destinations WHERE dest_id = %d AND symbol IN (SELECT sedol FROM symbols WHERE currency = 'GBX' AND ISIN NOT LIKE 'IE%')\";\n} # for each dest\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 3, "creation_date": 1427877950, "post_id": 29384786, "comment_id": 46950961, "body": "ALLWAYS <code>use strict; use warnings;</code> at the begining of your scripts."}], "answers": [{"tags": [], "owner": {"reputation": 195828, "user_id": 112968, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zHTaT.png?s=128&g=1", "display_name": "knittl", "link": "https://stackoverflow.com/users/112968/knittl"}, "is_accepted": true, "score": 3, "last_activity_date": 1427872414, "creation_date": 1427872414, "answer_id": 29384939, "question_id": 29384786, "link": "https://stackoverflow.com/questions/29384786/different-result-in-forloop/29384939#29384939", "title": "Different result in forloop?", "body": "<p>The code</p>\n\n<pre><code>$c = \" \" x $z,\n$st = $s x $m,\nprint \"$c$st\\n\",\n$m = $m+2,\n$z--,\nfor(1..5);\n</code></pre>\n\n<p>is parsed as:</p>\n\n<pre><code>$c = \" \" x $z,\n$st = $s x $m,\nprint (\"$c$st\\n\", $m = $m+2, $z--),\nfor(1..5);\n</code></pre>\n\n<p>You can force different parsing by using parentheses:</p>\n\n<pre><code>$c = \" \" x $z,\n$st = $s x $m,\nprint (\"$c$st\\n\"),\n$m = $m+2,\n$z--\nfor(1..5);\n</code></pre>\n\n<p>But I rather suggest the following:</p>\n\n<pre><code>for(1..5) {\n  $c = \" \" x $z;\n  $st = $s x $m;\n  print (\"$c$st\\n\");\n  $m = $m+2;\n  $z--;\n}\n</code></pre>\n\n<p>That way you are not relying on any operator precedence which might bite you. You will immediately see which statements are contained in the loop too. (I had to read your initial code thrice to finally get it)</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 29384939, "answer_count": 1, "score": 0, "last_activity_date": 1427872414, "creation_date": 1427871827, "question_id": 29384786, "link": "https://stackoverflow.com/questions/29384786/different-result-in-forloop", "title": "Different result in forloop?", "body": "<p>I want to print like this</p>\n\n<pre><code>    xxx\n   xxxxx\n  xxxxxxx\n xxxxxxxxx\nxxxxxxxxxxx\n</code></pre>\n\n<p>I achive this by following code</p>\n\n<pre><code>$s = \"x\";\n$z = 5;\n$m = 1;\n\n$m = $m+2,\n$z--,\n$c = \" \" x $z,\n$st = $s x $m,\nprint \"$c$st\\n\",\nfor(1..5);\n</code></pre>\n\n<p>My doubt </p>\n\n<p>when i used increment and decrement operator after the print function it gave the different result\nScript is</p>\n\n<pre><code>$c = \" \" x $z,\n$st = $s x $m,\nprint \"$c$st\\n\",\n$m = $m+2,\n$z--,\nfor(1..5);\n</code></pre>\n\n<p>It result is</p>\n\n<pre><code>     x\n35    xxx\n54   xxxxx\n73  xxxxxxx\n92 xxxxxxxxx\n</code></pre>\n\n<p>Here 3 5 7 9 are printed by the <code>$m</code> and <code>5 4 3 2</code> are printed by the <code>$z</code>. \nBut, i not directly print the <code>$m</code> and <code>$z</code> then why it gave <code>$m</code> and <code>$z</code> value? How it is work?</p>\n"}, {"tags": ["perl", "utf-8", "ascii", "non-ascii-characters"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427898738, "post_id": 29384556, "comment_id": 46963682, "body": "<code>use open &#39;:std&#39;, &#39;:encoding(UTF-8)&#39;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 701, "user_id": 1101440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/85bdc0ce19915e7d774cd0af9f8df545?s=128&d=identicon&r=PG", "display_name": "vijayashankard", "link": "https://stackoverflow.com/users/1101440/vijayashankard"}, "edited": false, "score": 0, "creation_date": 1427888493, "post_id": 29385379, "comment_id": 46956955, "body": "thanks it works. And your one liner code was also very useful. Something new I learnt in perl today :)"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 2, "last_activity_date": 1427874519, "last_edit_date": 1427874519, "creation_date": 1427874139, "answer_id": 29385379, "question_id": 29384556, "link": "https://stackoverflow.com/questions/29384556/perl-convert-utf-8-char-to-hyphen-read-utf-8-as-single-char/29385379#29385379", "title": "Perl - Convert utf-8 char to hyphen - read utf-8 as single char", "body": "<p>The main thing you need is <code>perl -CSD</code>.  With that, the script can be as simple as</p>\n\n<pre><code>perl -CSD -pe 's/[^\\x00-\\x7F]/-/g'\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">man perlrun</a> for a discussion of the options; but briefly, <code>-CS</code> means <code>STDIN</code>, <code>STDOUT</code>, and <code>STDERR</code> are in UTF-8; and <code>-CD</code> means UTF-8 is the default PerlIO layer for both input and output streams.  (This script only uses <code>STDIN</code> and <code>STDOUT</code> so the <code>D</code> isn't strictly necessary; but if you only learn one magic incantation, learn <code>-CSD</code>.)</p>\n"}], "owner": {"reputation": 701, "user_id": 1101440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/85bdc0ce19915e7d774cd0af9f8df545?s=128&d=identicon&r=PG", "display_name": "vijayashankard", "link": "https://stackoverflow.com/users/1101440/vijayashankard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 29385379, "answer_count": 1, "score": 0, "last_activity_date": 1427874519, "creation_date": 1427870990, "last_edit_date": 1427871337, "question_id": 29384556, "link": "https://stackoverflow.com/questions/29384556/perl-convert-utf-8-char-to-hyphen-read-utf-8-as-single-char", "title": "Perl - Convert utf-8 char to hyphen - read utf-8 as single char", "body": "<p>I am new to perl. I have a requirement, where I have to convert UTF-8 characters in a string to hyphen(-).</p>\n\n<pre><code>Input string    - \"IVM IST   20150324095652 31610150096     10\u00d1at\u00d125\u00d1Disco 0000000091\"\nExpected output - \"IVM IST   20150324095652 31610150096     10-at-25-Disco 0000000091\".\n</code></pre>\n\n<p>But the below program which I have written, reads UTF-8 char as two separate bytes and getting the output as \"10--at--25--Disco\"</p>\n\n<pre><code>[root@ cdr]# cat ../asciifilter.pl\n#!/usr/bin/perl\nuse strict;\nuse Encode;\nmy @chars;\nmy $character;\nmy $num;\nwhile(my $row = &lt;&gt;) {\n  @chars = split(//,$row);\n\n  foreach $character (@chars) {\n    $num  = ord($character);\n    if($num &lt; 127) { \n      print $character;\n    } else { \n      print \"-\";\n    }\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  [root@MAVBGL-351L cdr]# echo \"IVM IST   20150324095652 31610150096     10\u00d1at\u00d125\u00d1Disco 0000000091\" | ../asciifilter.pl\n  IVM IST   20150324095652 31610150096     10--at--25--Disco 0000000091\n</code></pre>\n\n<p>But this particular 4th string column has a fixed length of 14 characters only.So that additional hyphens are creating problem.</p>\n\n<p>Can someone give me some clue on how to read UTF-8 char as single character ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2094, "user_id": 238047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef04756e5ea133ce029e8a375960cc9?s=128&d=identicon&r=PG", "display_name": "Hameed", "link": "https://stackoverflow.com/users/238047/hameed"}, "edited": false, "score": 0, "creation_date": 1427864904, "post_id": 29383143, "comment_id": 46945283, "body": "You are missing a <code>}</code> at the end. But I am assuming it is a typo in your post, otherwise you would get a syntax error."}, {"owner": {"reputation": 2254, "user_id": 166855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d46f2c33fcee6302dd9e71ccf3d2e935?s=128&d=identicon&r=PG", "display_name": "David Harris", "link": "https://stackoverflow.com/users/166855/david-harris"}, "edited": false, "score": 0, "creation_date": 1427866155, "post_id": 29383143, "comment_id": 46945634, "body": "Does your code stop working when the file rolls over? When the file rolls over is it renamed and a new file generated (i.e. does the inode of the file change)?"}, {"owner": {"reputation": 53, "user_id": 2074161, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/32597ed9c5c4073f8d03d55980b7c846?s=128&d=identicon&r=PG", "display_name": "user2074161", "link": "https://stackoverflow.com/users/2074161/user2074161"}, "edited": false, "score": 0, "creation_date": 1427867523, "post_id": 29383143, "comment_id": 46946086, "body": "this is just an extraction of the code. It doesn&#39;t happen on file rollover from my investigation. I am worried if its happening with the filehandle limitation or buffer overflow. - just guesses!"}, {"owner": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "edited": false, "score": 1, "creation_date": 1427873141, "post_id": 29383143, "comment_id": 46948431, "body": "If your log file is rotated, this is correct behavior: Perl continues to read from the same file handle. You will need to simulate <code>tail -F</code> which keeps checking if file was renamed."}], "answers": [{"comments": [{"owner": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "edited": false, "score": 2, "creation_date": 1427873222, "post_id": 29384440, "comment_id": 46948490, "body": "<code>tail -f</code> will not work on rotated log file, but <code>tail -F</code> should."}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "reply_to_user": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "edited": false, "score": 0, "creation_date": 1428073392, "post_id": 29384440, "comment_id": 47038533, "body": "@mvp Thanks, fixed it to -F."}, {"owner": {"reputation": 53, "user_id": 2074161, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/32597ed9c5c4073f8d03d55980b7c846?s=128&d=identicon&r=PG", "display_name": "user2074161", "link": "https://stackoverflow.com/users/2074161/user2074161"}, "edited": false, "score": 0, "creation_date": 1428364286, "post_id": 29384440, "comment_id": 47123558, "body": "Interestingly, that was an option I would have liked. But, I am working on a Solaris platform and this does not have the full featured tail command. So I am blocked to using an implementation that can work with log rotation."}], "tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 0, "last_activity_date": 1428073411, "last_edit_date": 1428073411, "creation_date": 1427870620, "answer_id": 29384440, "question_id": 29383143, "link": "https://stackoverflow.com/questions/29383143/perl-filetail-not-reading-lines-from-file-after-certain-period/29384440#29384440", "title": "perl File::Tail not reading lines from file after certain period", "body": "<p>Seems like there's limitations in File::Tail. There's some suggestions around other more direct options (a pipe, a fork, a thread, seeking to the end of the file in perl) discussed in <a href=\"http://www.perlmonks.org/?node_id=387706\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=387706</a>.</p>\n\n<p>My favorite pick is the blocking read from a pipe:</p>\n\n<pre><code>open(TAIL, \"tail -F $name|\") or die \"TAIL : $!\";\nwhile (&lt;TAIL&gt;) {\n        test_and_do_something\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 2074161, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/32597ed9c5c4073f8d03d55980b7c846?s=128&d=identicon&r=PG", "display_name": "user2074161", "link": "https://stackoverflow.com/users/2074161/user2074161"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 515, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1428073411, "creation_date": 1427864338, "last_edit_date": 1427865301, "question_id": 29383143, "link": "https://stackoverflow.com/questions/29383143/perl-filetail-not-reading-lines-from-file-after-certain-period", "title": "perl File::Tail not reading lines from file after certain period", "body": "<p>I am having issues understanding why File::Tail FAILS to read the lines from an always updating file with 1000s of transactions, and automatic rollover .</p>\n\n<p>It read to a certain extend correctly, but then later slows down, and for a long period even not able to read the lines in the logs. I can confirm that the actual log are being populated as when file::tail shows nothing.</p>\n\n<pre><code>my $file = File::Tail-&gt;new(name=&gt;\"$name\",\n                           tail =&gt; 1000,\n                           maxinterval=&gt;1,\n                           interval=&gt;1,\n                           adjustafter=&gt;5,resetafter=&gt;1, \n                           ignore_nonexistant=&gt;1,\n                           maxbuf=&gt;32768);\n\nwhile (defined(my $line=$file-&gt;read)) {\n    #my $line=$file-&gt;read;\n    my $xml_string  = \"\";\n\n    #### Read only one event per line and deal with the XML.\n    #### If the log entry is not a SLIM log, I will ignore it.\n    if ($line =~ /(\\&lt;slim\\-log\\&gt;.*\\&lt;\\/slim\\-log\\&gt;)/) {\n        do_something\n    } else {\n        not_working for some reason\n    }\n</code></pre>\n\n<p>Can someone please help me understand this. Know that this log file is updated at almost 10MB per second or 1000 events per second for an approximation.</p>\n\n<p>Should I be handing the filehandle or the File::Tail results some other more efficient way?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 1255, "user_id": 3896416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38527d025f660daee7e8f3f010d56300?s=128&d=identicon&r=PG&f=1", "display_name": "shibley", "link": "https://stackoverflow.com/users/3896416/shibley"}, "edited": false, "score": 1, "creation_date": 1427860751, "post_id": 29382574, "comment_id": 46944311, "body": "Have you set the file permissions (e.g. chmod 774 hello.pl)?"}, {"owner": {"reputation": 1562, "user_id": 4098326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a222a6f6508bea1c3b2f97cb0234be0?s=128&d=identicon&r=PG", "display_name": "user4098326", "link": "https://stackoverflow.com/users/4098326/user4098326"}, "edited": false, "score": 0, "creation_date": 1427860944, "post_id": 29382574, "comment_id": 46944347, "body": "Where did you save it?"}, {"owner": {"reputation": 21, "user_id": 4736488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5926b270ed5e29e316dda939c02f16ad?s=128&d=identicon&r=PG&f=1", "display_name": "bonan", "link": "https://stackoverflow.com/users/4736488/bonan"}, "edited": false, "score": 0, "creation_date": 1427861452, "post_id": 29382574, "comment_id": 46944473, "body": "When I try chmod 774 it said this: chmod: cannot access &#226;hello.pl&#226;: No such file or directory"}, {"owner": {"reputation": 21, "user_id": 4736488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5926b270ed5e29e316dda939c02f16ad?s=128&d=identicon&r=PG&f=1", "display_name": "bonan", "link": "https://stackoverflow.com/users/4736488/bonan"}, "edited": false, "score": 0, "creation_date": 1427861473, "post_id": 29382574, "comment_id": 46944478, "body": "I saved it in my Documents under a folder"}, {"owner": {"reputation": 1255, "user_id": 3896416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38527d025f660daee7e8f3f010d56300?s=128&d=identicon&r=PG&f=1", "display_name": "shibley", "link": "https://stackoverflow.com/users/3896416/shibley"}, "edited": false, "score": 0, "creation_date": 1427862134, "post_id": 29382574, "comment_id": 46944586, "body": "Can you paste the results of &quot;ls -al&quot; from the directory containing hello.pl?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1427865113, "post_id": 29382574, "comment_id": 46945326, "body": "You said you have a linux environment, then you said the path starts with C:\\. That does not make any sense. That&#39;s a Windows path."}, {"owner": {"reputation": 1255, "user_id": 3896416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38527d025f660daee7e8f3f010d56300?s=128&d=identicon&r=PG&f=1", "display_name": "shibley", "link": "https://stackoverflow.com/users/3896416/shibley"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427865715, "post_id": 29382574, "comment_id": 46945511, "body": "@ikegami my assumption is cygwin is the linux environment"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1427866392, "post_id": 29382574, "comment_id": 46945703, "body": "Cygwin paths don&#39;t start with C: either"}, {"owner": {"reputation": 21, "user_id": 4736488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5926b270ed5e29e316dda939c02f16ad?s=128&d=identicon&r=PG&f=1", "display_name": "bonan", "link": "https://stackoverflow.com/users/4736488/bonan"}, "edited": false, "score": 0, "creation_date": 1427867160, "post_id": 29382574, "comment_id": 46945974, "body": "im accessing a linux machine through SSH. I dont know if that helps or not?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1427867708, "post_id": 29382574, "comment_id": 46946152, "body": "To run <code>perl hello.pl</code>, the current directory for the terminal must be the directory where <code>hello.pl</code> is stored.  You said you saved it in Documents; then if your current directory is not the Documents directory, you need to run <code>perl ~&#47;Documents&#47;hello.pl</code> instead."}], "answers": [{"tags": [], "owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "is_accepted": false, "score": 1, "last_activity_date": 1427868366, "creation_date": 1427868366, "answer_id": 29383902, "question_id": 29382574, "link": "https://stackoverflow.com/questions/29382574/run-perl-script-in-linux-environment/29383902#29383902", "title": "Run Perl script in Linux environment", "body": "<p>You have to be located in the same folder with the <code>hello.pl</code> in the \"window\" (aka terminal, or console) that you try to execute <code>perl hello.pl</code>. </p>\n\n<p>On linux, you can determine the folder that you're in by issuing <code>pwd</code>. </p>\n\n<p>If you're not in the same folder (the most probable cause of your error), you have 2 options:</p>\n\n<ol>\n<li>Navigate to that folder with <code>cd /path/to/your/script/location</code> you have to replace the <code>/path/to/your/script/location</code> in the example, with your actual path</li>\n<li>Execute the file with <code>perl /path/to/hello.pl</code> - of course, you have to replace the <code>/path/to/</code> in the example, with your ac</li>\n</ol>\n\n<p>Also, you can try and view the file from the console running a <code>less hello.pl</code></p>\n"}, {"tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 1, "last_activity_date": 1427869286, "creation_date": 1427869286, "answer_id": 29384097, "question_id": 29382574, "link": "https://stackoverflow.com/questions/29382574/run-perl-script-in-linux-environment/29384097#29384097", "title": "Run Perl script in Linux environment", "body": "<p>In cygwin you might try: <code>/cygdrive/c/Users/bonan/Desktop/perl/hello.pl</code>.</p>\n\n<p>Alternatively at your prompt try tying in just <code>perl</code> without hitting enter, and then drag the hello.pl file from its file explorer location into the terminal window. That should paste the full file path to the file as text into the command prompt. If you're using <code>cygwin</code> I forget it if properly pastes the path with forward-slashes, like <code>/cygdrive/c/Users/bonan/Desktop/perl/hello.pl</code>, or if it pastes what it would in <code>cmd</code> with backslashes as you've indicated you typed yourself.</p>\n\n<p>The other thing to do that's relatively easy is right click the file and choose to open a terminal or shell here, which for <code>cygwin</code> you can get in your context menu by running <code>chere -i</code> once (it actually says \"Bash prompt here\" I think). And there's similar context menu options for cmd, powershell, an actual linux bash, or mac os x's terminal ... once you're in the same path as the file, you can just type <code>perl hel</code><kbd>tab</kbd> and autocomplete the filename assuming no other files in the same folder start with \"hel\".</p>\n"}], "owner": {"reputation": 21, "user_id": 4736488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5926b270ed5e29e316dda939c02f16ad?s=128&d=identicon&r=PG&f=1", "display_name": "bonan", "link": "https://stackoverflow.com/users/4736488/bonan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3567, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1455914807, "creation_date": 1427860493, "last_edit_date": 1455914807, "question_id": 29382574, "link": "https://stackoverflow.com/questions/29382574/run-perl-script-in-linux-environment", "title": "Run Perl script in Linux environment", "body": "<p>I'm trying to run code on Linux environment</p>\n\n<p>Here's the code (saved as hello.pl):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nprint \"Hello You\\n\";\n</code></pre>\n\n<p>Here's what I tried on my linux environment:</p>\n\n<pre><code>%perl hello.pl\n</code></pre>\n\n<p>I tried listing out the path starting from <code>C:\\Users\\...</code> and so on</p>\n\n<p>I keep getting error that says:</p>\n\n<pre><code>Can't open perl script \"hello.pl\": No such file or directory\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1621, "user_id": 224640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/692577878a91ec23ec4791a5314c2ada?s=128&d=identicon&r=PG", "display_name": "tomkaith13", "link": "https://stackoverflow.com/users/224640/tomkaith13"}, "edited": false, "score": 0, "creation_date": 1427857139, "post_id": 29381727, "comment_id": 46943558, "body": "thank you for explaining this. I had no idea what perl was doing under the hood."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 1, "last_activity_date": 1427854346, "creation_date": 1427854346, "answer_id": 29381727, "question_id": 29381383, "link": "https://stackoverflow.com/questions/29381383/nested-regexes-in-perl/29381727#29381727", "title": "nested regexes in perl", "body": "<p>Get rid of the /g flags; they are telling it to do the first match, then try the second match from where the first match ended.</p>\n"}], "owner": {"reputation": 1621, "user_id": 224640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/692577878a91ec23ec4791a5314c2ada?s=128&d=identicon&r=PG", "display_name": "tomkaith13", "link": "https://stackoverflow.com/users/224640/tomkaith13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 29381727, "answer_count": 1, "score": 0, "last_activity_date": 1427866287, "creation_date": 1427851741, "last_edit_date": 1427866287, "question_id": 29381383, "link": "https://stackoverflow.com/questions/29381383/nested-regexes-in-perl", "title": "nested regexes in perl", "body": "<p>I am looking to write a perl program which looks for the following keywords in a pattern:</p>\n\n<pre><code>`lint64 | strictlintflags64 | cflags64.`\n</code></pre>\n\n<p>Once I ensure that one of these patterns are present in the searched text, I dig deeper to see if there are any anomalies hidden in the searched text.\nThe anomalies are the same words <strong>without</strong> the string '64' appended in the end.\nThat is:</p>\n\n<pre><code>lint | strictlintflags | cflags\n</code></pre>\n\n<p>For example:\nPure string would be:</p>\n\n<pre><code>\"asd:   lint64_SRCS\"\n</code></pre>\n\n<p>Anomaly-ridden string would be:</p>\n\n<pre><code>\"CFLAGS += $(CCVERBOSE)lint:     lint64_PROG\"\n</code></pre>\n\n<p>Here is the test code I wrote to detect if a particular search text has an anomaly:</p>\n\n<pre><code>#!/usr/perl5/bin/perl -w\n\nrequire 5.6.1;\nuse strict;\nuse warnings;\nuse locale;\n\nmy $string = \"CFLAGS += $(CCVERBOSE)lint:     lint64_PROG\";\n#my $string2 = \"asd:   lint64_SRCS\";\n\nif ($string =~ m/lint64|strictlintflags64|cflags64/ig) {\n    if ($string =~ m/lint(?!64)|strictlintflags(?!64)|cflags(?!64)/ig) {\n        print \"anomaly-ridden\"\n    }\n    else {\n        print \"pure\";\n    }\n}\nelse {\n    print \"garbage\";\n}\n</code></pre>\n\n<p>This code detects $string2 correctly as a pure string.</p>\n\n<p>Unfortunately, <code>$string</code> detected as \"pure\" instead of \"anomaly-ridden\".</p>\n\n<p>Any clues as to why ?\nAlso, if I comment out the outer-if loop, the <code>$string</code> is detected correctly as a <code>\"anomaly-ridden\"</code> string</p>\n"}, {"tags": ["perl", "file-io"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427848316, "post_id": 29380827, "comment_id": 46941411, "body": "In your hash assignment, you have a semi-colon <code>;</code> where you should have a comma <code>,</code>."}, {"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427848353, "post_id": 29380827, "comment_id": 46941418, "body": "Good catch; let me correct that."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427848505, "post_id": 29380827, "comment_id": 46941460, "body": "You should not type in code that you are asking a question about. Small details like this are very important in analysing your problem. Preferably, you should make a <a href=\"http://stackoverflow.com/help/mcve\">mcve</a>, then you will most likely get an answer within minutes."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427848770, "post_id": 29380827, "comment_id": 46941536, "body": "I seem to be able to replicate your problem by using a file handle stored in an array. Perhaps this is not possible, though I could have sworn I have seen it used before. You can use <code>$file_handles[$index]-&gt;print(&quot;$stuff\\n&quot;)</code> and bypass the indirect object notation."}], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1427849408, "post_id": 29381018, "comment_id": 46941700, "body": "Wow, I have just done what you have suggested about using indirect object notation and it did the job! However, I have no idea about what it does: can you explain it to me or point to the relevant documentation? Thanks a lot!"}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 0, "last_activity_date": 1427849818, "last_edit_date": 1427849818, "creation_date": 1427849118, "answer_id": 29381018, "question_id": 29380827, "link": "https://stackoverflow.com/questions/29380827/how-to-write-on-different-output-files-at-each-iteration-of-loop-perl/29381018#29381018", "title": "How to write on different output files at each iteration of loop? (Perl)", "body": "<p>I seem to be able to replicate your problem by using a file handle stored in an array. Perhaps this is not possible, though I could have sworn I have seen it used before. </p>\n\n<pre><code>&gt;perl -lwe\"open $x, '&gt;', 'a.txt' or die $!; @x = ($x); print $x[0] 'asd';\"\nString found where operator expected at -e line 1, near \"] 'asd'\"\n        (Missing operator before  'asd'?)\nsyntax error at -e line 1, near \"] 'asd'\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>The same goes for using a hash. Possible workarounds would be:</p>\n\n<p>You can skip the indirect object notation and use:</p>\n\n<pre><code>$file_handles[$index]-&gt;print(\"$stuff\\n\")\n</code></pre>\n\n<p>Or you can use a Perl-style loop instead to print:</p>\n\n<pre><code>for my $fh (@file_handles) {\n    print $fh \"$stuff\\n\";\n}\n</code></pre>\n\n<p>Indirect object notation is when you put the object -- in your case a file handle -- before the function call, like so:</p>\n\n<pre><code>my $obj = new Module;\n</code></pre>\n\n<p>Instead of traditionally:</p>\n\n<pre><code>my $obj = Module-&gt;new;\n</code></pre>\n\n<p>More information about indirect object notation in <a href=\"http://perldoc.perl.org/perlobj.html#Indirect-Object-Syntax\" rel=\"nofollow\">perldoc perlobj</a></p>\n"}, {"comments": [{"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1427921164, "post_id": 29391080, "comment_id": 46976772, "body": "interesting: is there a logic behind this madness?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1427978733, "post_id": 29391080, "comment_id": 46999255, "body": "It allows the parser to know what the file handle is."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1427891980, "creation_date": 1427891980, "answer_id": 29391080, "question_id": 29380827, "link": "https://stackoverflow.com/questions/29380827/how-to-write-on-different-output-files-at-each-iteration-of-loop-perl/29391080#29391080", "title": "How to write on different output files at each iteration of loop? (Perl)", "body": "<p>With anything other than a simple scalar or a bareword for the filehandle, you have to wrap the filehandle in braces:</p>\n\n<pre><code>print { $file_handles[$handle_index] } \"stuff to print\";\n</code></pre>\n\n<p>Notice there's still no comma after the filehandle portion.</p>\n"}], "owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 29381018, "answer_count": 2, "score": 1, "last_activity_date": 1427891980, "creation_date": 1427847923, "last_edit_date": 1427848363, "question_id": 29380827, "link": "https://stackoverflow.com/questions/29380827/how-to-write-on-different-output-files-at-each-iteration-of-loop-perl", "title": "How to write on different output files at each iteration of loop? (Perl)", "body": "<p>I have a hash of hashes of hashes in Perl called <code>data</code> with first level keys: F, NF and S (basically, <code>%data={'F' =&gt; ..., 'NF' =&gt; ..., 'S' =&gt; ...}</code>)</p>\n\n<p>At the beginning of my code I open 3 output handles:</p>\n\n<pre><code>open (my $fh1, \"&gt;&gt;\", $filename1) or die \"cannot open &gt; $filename1: $!\";\nopen (my $fh2, \"&gt;&gt;\", $filename2) or die \"cannot open &gt; $filename2: $!\";\nopen (my $fh3, \"&gt;&gt;\", $filename3) or die \"cannot open &gt; $filename3: $!\";\n</code></pre>\n\n<p>Then, while my code runs, it populates the hash of hashes of hashes and, at the very end, I want to print the resulting hash of hashes for each key 'F', 'NF' and 'S' into a separate file (identified by the three file handles that I have defined in the beginning.) I'm not really sure how to do this. I have tried the following: right before the <code>foreach</code> loop in which I print the hash, I have defined</p>\n\n<pre><code>my @file_handles=($fh1, $fh2, $fh3);\nmy $handle_index=0;\n</code></pre>\n\n<p>and in each iteration of the hash I write to file by using </p>\n\n<pre><code>print $file_handles[$handle_index] \"$stuff\\n\";\n</code></pre>\n\n<p>However, when I try to run the code, it tells me <code>string found where operator expected</code>\nIt's my understanding that I'm not telling him correctly which file handle he should use. Any suggestions?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 1074, "user_id": 4115275, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mnZ2B.jpg?s=128&g=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/4115275/zee"}, "edited": false, "score": 0, "creation_date": 1427842454, "post_id": 29379953, "comment_id": 46939738, "body": "also @keys here represents the scalar value im adding into states (such as NY, NJ etc.)"}], "answers": [{"comments": [{"owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "reply_to_user": {"reputation": 1074, "user_id": 4115275, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mnZ2B.jpg?s=128&g=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/4115275/zee"}, "edited": false, "score": 0, "creation_date": 1427845674, "post_id": 29380052, "comment_id": 46940674, "body": "I&#39;m confused. Who downvoted my answer? And, more importantly, why?"}], "tags": [], "owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "is_accepted": true, "score": 1, "last_activity_date": 1427847176, "last_edit_date": 1427847176, "creation_date": 1427842991, "answer_id": 29380052, "question_id": 29379953, "link": "https://stackoverflow.com/questions/29379953/add-quotes-to-all-elements-inside-of-an-array-in-perl/29380052#29380052", "title": "Add quotes to all elements inside of an array in perl", "body": "<p>To add quotes around a value you can use double-quoted string interpolation:</p>\n\n<pre><code>\"'$_'\"\n</code></pre>\n\n<p>Or you can use string concatenation:</p>\n\n<pre><code>\"'\".$_.\"'\"\n</code></pre>\n\n<p>So you can write your <code>foreach</code> loop as follows:</p>\n\n<pre><code>foreach (@states) {\n    $_ = \"'$_'\";\n}\n</code></pre>\n\n<p>Note that <code>$_</code> must be assigned, otherwise the body of the loop has no effect (this is the case with your <code>q($_);</code> code).</p>\n\n<p>Full demo:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @states = qw(NY NJ MI NJ);\n\nforeach (@states) {\n    $_ = \"'$_'\";\n}\n\nprint(join(', ', @states ));\n</code></pre>\n\n<hr>\n\n<pre><code>'NY', 'NJ', 'MI', 'NJ'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1074, "user_id": 4115275, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mnZ2B.jpg?s=128&g=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/4115275/zee"}, "edited": false, "score": 0, "creation_date": 1427843260, "post_id": 29380068, "comment_id": 46939979, "body": "unfortunately im reading it in from a file and storing it into a scalar so i cant directly do the qw() method"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1427844290, "post_id": 29380068, "comment_id": 46940273, "body": "but in your question you show you have a @states array; if you don&#39;t, please modify your question."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 12, "last_activity_date": 1427843087, "creation_date": 1427843087, "answer_id": 29380068, "question_id": 29379953, "link": "https://stackoverflow.com/questions/29379953/add-quotes-to-all-elements-inside-of-an-array-in-perl/29380068#29380068", "title": "Add quotes to all elements inside of an array in perl", "body": "<p>Take states, map them to quoted strings, join by comma:</p>\n\n<pre><code>my @states = qw( NY NJ MI );\nprint join ', ', map \"'$_'\", @states;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 645, "user_id": 1507619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3361ffe35af2b9095ccdb5b4e56d61f3?s=128&d=identicon&r=PG", "display_name": "Nuxwin", "link": "https://stackoverflow.com/users/1507619/nuxwin"}, "is_accepted": false, "score": 1, "last_activity_date": 1562227973, "creation_date": 1562227973, "answer_id": 56883454, "question_id": 29379953, "link": "https://stackoverflow.com/questions/29379953/add-quotes-to-all-elements-inside-of-an-array-in-perl/56883454#56883454", "title": "Add quotes to all elements inside of an array in perl", "body": "<p>One other way:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @states = qw/ NY NJ MI NJ /;\nmy $output = join ', ', map qq/'$_'/, @states;\n\nprint $output;\n</code></pre>\n\n<p>Would result to a formatted list (string) of single quoted elements, each separated as you expect.</p>\n\n<pre><code>'NY', 'NJ', 'MI', 'NJ'\n</code></pre>\n"}], "owner": {"reputation": 1074, "user_id": 4115275, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mnZ2B.jpg?s=128&g=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/4115275/zee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3522, "favorite_count": 0, "accepted_answer_id": 29380052, "answer_count": 3, "score": 3, "last_activity_date": 1562227973, "creation_date": 1427842394, "last_edit_date": 1495541165, "question_id": 29379953, "link": "https://stackoverflow.com/questions/29379953/add-quotes-to-all-elements-inside-of-an-array-in-perl", "title": "Add quotes to all elements inside of an array in perl", "body": "<p>I'm trying to follow <a href=\"https://stackoverflow.com/a/1003667/4115275\">this tutorial</a> for my own code which basically right now reads a value into a scalar which is pushed into an array called states. However, it doesnt properly hash the function like in the tutorial and I believe its because the contents of the array isn't properly quoted.</p>\n\n<p>I've tried </p>\n\n<pre><code>foreach (@states)\n{\n      q($_);\n} \n</code></pre>\n\n<p>and </p>\n\n<pre><code>push @states, q($key);\n</code></pre>\n\n<p>but neither produces the necessary output. Currently my output displays as </p>\n\n<pre><code>NY, NJ, MI , NJ\n</code></pre>\n\n<p>when using </p>\n\n<pre><code>print join(\", \", @states);\n</code></pre>\n\n<p>I want it to display</p>\n\n<pre><code> 'NY', 'NJ', 'MI' , 'NJ'\n</code></pre>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 14599, "user_id": 333074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6825a369234ffd708b9f4446c8f6653f?s=128&d=identicon&r=PG", "display_name": "Jonathan Kuhn", "link": "https://stackoverflow.com/users/333074/jonathan-kuhn"}, "edited": false, "score": 0, "creation_date": 1427836628, "post_id": 29378706, "comment_id": 46937548, "body": "The webserver runs under it&#39;s own user account and likely won&#39;t have access to another user&#39;s home directory. If the webserver is apache, the user is usually &quot;apache&quot;. You would need to move the script to somewhere that the user apache can reach and make sure the script permissions allow apache to execute the file."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 14599, "user_id": 333074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6825a369234ffd708b9f4446c8f6653f?s=128&d=identicon&r=PG", "display_name": "Jonathan Kuhn", "link": "https://stackoverflow.com/users/333074/jonathan-kuhn"}, "edited": false, "score": 0, "creation_date": 1427836681, "post_id": 29378706, "comment_id": 46937572, "body": "@JonathanKuhn But the OP says the code works when they don&#39;t pass any arguments..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1427836844, "post_id": 29378706, "comment_id": 46937645, "body": "What exactly &quot;isn&#39;t working&quot;? Are you getting the wrong output? No output at all? Any errors?"}, {"owner": {"reputation": 2633, "user_id": 3856039, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/sw0j1.gif?s=128&g=1", "display_name": "Professor of programming", "link": "https://stackoverflow.com/users/3856039/professor-of-programming"}, "edited": false, "score": 0, "creation_date": 1427836933, "post_id": 29378706, "comment_id": 46937678, "body": "What is being posted back to the page, specifically what is the value of <code>$test</code>?"}, {"owner": {"reputation": 134, "user_id": 2100535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/91ad979328a88969ab92c39ed8884ec1?s=128&d=identicon&r=PG&f=1", "display_name": "nerdyoutdoorsman", "link": "https://stackoverflow.com/users/2100535/nerdyoutdoorsman"}, "edited": false, "score": 1, "creation_date": 1427837358, "post_id": 29378706, "comment_id": 46937885, "body": "There is nothing from the script coming back to the web page other than the html that I put at the top of the page outside of the php."}, {"owner": {"reputation": 134, "user_id": 2100535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/91ad979328a88969ab92c39ed8884ec1?s=128&d=identicon&r=PG&f=1", "display_name": "nerdyoutdoorsman", "link": "https://stackoverflow.com/users/2100535/nerdyoutdoorsman"}, "edited": false, "score": 0, "creation_date": 1427837431, "post_id": 29378706, "comment_id": 46937913, "body": "$test comes from a text input from an html page.  It is typically someones account such as joeid."}, {"owner": {"reputation": 2633, "user_id": 3856039, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/sw0j1.gif?s=128&g=1", "display_name": "Professor of programming", "link": "https://stackoverflow.com/users/3856039/professor-of-programming"}, "edited": false, "score": 0, "creation_date": 1427837529, "post_id": 29378706, "comment_id": 46937944, "body": "Have you tried using passthru instead of shell_exec to see what the actual output is?"}, {"owner": {"reputation": 134, "user_id": 2100535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/91ad979328a88969ab92c39ed8884ec1?s=128&d=identicon&r=PG&f=1", "display_name": "nerdyoutdoorsman", "link": "https://stackoverflow.com/users/2100535/nerdyoutdoorsman"}, "edited": false, "score": 0, "creation_date": 1427837572, "post_id": 29378706, "comment_id": 46937968, "body": "Also to clarify.  I created a hello_world.pl script, matched the permissions to the other script and placed it in the same directory and it printed Hello World to my browser.  So it is 100% not a permission issue."}, {"owner": {"reputation": 134, "user_id": 2100535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/91ad979328a88969ab92c39ed8884ec1?s=128&d=identicon&r=PG&f=1", "display_name": "nerdyoutdoorsman", "link": "https://stackoverflow.com/users/2100535/nerdyoutdoorsman"}, "reply_to_user": {"reputation": 2633, "user_id": 3856039, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/sw0j1.gif?s=128&g=1", "display_name": "Professor of programming", "link": "https://stackoverflow.com/users/3856039/professor-of-programming"}, "edited": false, "score": 0, "creation_date": 1427837621, "post_id": 29378706, "comment_id": 46938000, "body": "@Bonner what would that look like exactly?  I have not used passthru before."}, {"owner": {"reputation": 2633, "user_id": 3856039, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/sw0j1.gif?s=128&g=1", "display_name": "Professor of programming", "link": "https://stackoverflow.com/users/3856039/professor-of-programming"}, "edited": false, "score": 0, "creation_date": 1427837648, "post_id": 29378706, "comment_id": 46938013, "body": "Just swap out shell_exec for passthru"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427838653, "post_id": 29378706, "comment_id": 46938455, "body": "Don&#39;t forget to <a href=\"http://stackoverflow.com/q/129677/176646\">sanitize your input</a> for people with usernames like <code>foo &amp;&amp; echo mwahahaha</code>"}, {"owner": {"reputation": 134, "user_id": 2100535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/91ad979328a88969ab92c39ed8884ec1?s=128&d=identicon&r=PG&f=1", "display_name": "nerdyoutdoorsman", "link": "https://stackoverflow.com/users/2100535/nerdyoutdoorsman"}, "edited": false, "score": 0, "creation_date": 1427847877, "post_id": 29378706, "comment_id": 46941308, "body": "Sorry but it is not working to just swap out passthru with shell_exec."}, {"owner": {"reputation": 2633, "user_id": 3856039, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/sw0j1.gif?s=128&g=1", "display_name": "Professor of programming", "link": "https://stackoverflow.com/users/3856039/professor-of-programming"}, "edited": false, "score": 0, "creation_date": 1427860916, "post_id": 29378706, "comment_id": 46944339, "body": "What do you mean it is not working? Can you actually say what is not working?"}, {"owner": {"reputation": 134, "user_id": 2100535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/91ad979328a88969ab92c39ed8884ec1?s=128&d=identicon&r=PG&f=1", "display_name": "nerdyoutdoorsman", "link": "https://stackoverflow.com/users/2100535/nerdyoutdoorsman"}, "edited": false, "score": 0, "creation_date": 1427893321, "post_id": 29378706, "comment_id": 46960080, "body": "Sure, when the web browser is loaded to the php page it is only showing the HTML that I have placed at the top.  I am not seeing any output from the script.  When I go to the server the script has not been ran when I do a ps -ef | grep account that runs this script.  This script takes about 35 seconds to complete."}], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 2100535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/91ad979328a88969ab92c39ed8884ec1?s=128&d=identicon&r=PG&f=1", "display_name": "nerdyoutdoorsman", "link": "https://stackoverflow.com/users/2100535/nerdyoutdoorsman"}, "is_accepted": true, "score": 0, "last_activity_date": 1427901258, "creation_date": 1427901258, "answer_id": 29394542, "question_id": 29378706, "link": "https://stackoverflow.com/questions/29378706/how-to-run-a-perl-script-from-php-with-variables/29394542#29394542", "title": "How to run a perl script from php with variables", "body": "<p>My issue resided within the perl script itself and a specific line that was trying to output to a log file which the apache user did not have access to.  I was calling the script correctly the whole time but once I was able to get to the server side logs (granted by system admin) I saw the issue was buried within the Perl script and not in php.</p>\n"}], "owner": {"reputation": 134, "user_id": 2100535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/91ad979328a88969ab92c39ed8884ec1?s=128&d=identicon&r=PG&f=1", "display_name": "nerdyoutdoorsman", "link": "https://stackoverflow.com/users/2100535/nerdyoutdoorsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 29394542, "answer_count": 1, "score": -2, "last_activity_date": 1427901258, "creation_date": 1427836436, "question_id": 29378706, "link": "https://stackoverflow.com/questions/29378706/how-to-run-a-perl-script-from-php-with-variables", "title": "How to run a perl script from php with variables", "body": "<p>I am trying to run a perl script from php that requires parameters to be passed to the perl script to run correctly.  The following is the correct usage of the perl script from the linux terminal:</p>\n\n<p>/home/user/test.pl -a alpha -b beta </p>\n\n<p>or just </p>\n\n<p>/home/user/test.pl -a alpha</p>\n\n<p>I have execute permissions on the script and can run it without any parameters and the correct usage from the script is displayed back to my browser.</p>\n\n<p>Below is the PHP code that works by displaying the usage back to my browser:</p>\n\n<pre><code>$result = shell_exec('/home/user/test.pl');\necho $result;\n</code></pre>\n\n<p>And the following is the problem code which I can not for the life of me figure out:</p>\n\n<pre><code>$test = $_POST['test'];\n$result = shell_exec('/home/user/test.pl -a'.' '.$test);\necho $result;\n</code></pre>\n\n<p>Can anyone tell me what it is that I am missing to make this work correctly?</p>\n\n<p>Thank you for the help.</p>\n"}, {"tags": ["perl", "filehandle", "save-as"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427834768, "post_id": 29378027, "comment_id": 46936584, "body": "You need a blank line between your HTTP headers and the body. Also, instead of reading the file into an array and printing it, it would be better to print as you read: <code>open my $fh, &#39;&lt;&#39;, $filepath or die &quot;can&#39;t open: $!&quot;; print while &lt;$fh&gt;;</code>. (Note that this would have to come after you print the headers. Also note the use of lexical filehandles and the 3-arg form of <code>open</code>, which are generally safer than fileglobs and the 2-arg form.)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427835422, "post_id": 29378027, "comment_id": 46936936, "body": "Also, each header should be on it&#39;s own line: <code>print &quot;Content-Type: foo\\n&quot;; ...</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427836306, "post_id": 29378027, "comment_id": 46937393, "body": "Oops, <code>s&#47;fileglobs&#47;typeglobs&#47;</code> in my first comment."}, {"owner": {"reputation": 649, "user_id": 2355364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76fa2e7ac8c45ed7b23ba36175d96d81?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar14", "link": "https://stackoverflow.com/users/2355364/iluvatar14"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427837112, "post_id": 29378027, "comment_id": 46937772, "body": "I made an edit, I added the new lines and an extra new line after the headers. I also use     open differently."}, {"owner": {"reputation": 649, "user_id": 2355364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76fa2e7ac8c45ed7b23ba36175d96d81?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar14", "link": "https://stackoverflow.com/users/2355364/iluvatar14"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427837648, "post_id": 29378027, "comment_id": 46938012, "body": "Also, I had &quot;x-downloadn&quot; which which I realized was a typo from the tutorial. If only fixing that had fixed the whole thing."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427837849, "post_id": 29378027, "comment_id": 46938123, "body": "Try <code>application&#47;octet-stream</code> instead of <code>application&#47;x-download</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427838190, "post_id": 29378027, "comment_id": 46938263, "body": "In your code <code>FILE</code> is a typeglob, which is global in scope; <code>my $fh</code>, on the other hand, is lexical, which means it is scoped to the enclosing block. See <a href=\"http://stackoverflow.com/q/3276674/176646\">Which one is good practice, a lexical filehandle or a typeglob?</a> Also, if you haven&#39;t already, make sure to add <code>use strict; use warnings;</code> to the top of your script; those pragmas can save you a lot of debugging time by catching common errors."}, {"owner": {"reputation": 649, "user_id": 2355364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76fa2e7ac8c45ed7b23ba36175d96d81?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar14", "link": "https://stackoverflow.com/users/2355364/iluvatar14"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427839628, "post_id": 29378027, "comment_id": 46938808, "body": "Thank you very much for your help. Despite the changes, I still have the issue unfortunately. I have seen this done elsewhere, I attempted wrapping $fileName in quotes and escaping them in      <code>print &#39;Content-Disposition: attachment; filename=\\&quot;$fileName\\&quot;\\n\\n&#39;;</code> but still no good."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427840705, "post_id": 29378027, "comment_id": 46939183, "body": "You shouldn&#39;t need to do any special quoting. However, I just noticed you&#39;re trying to send a binary file, so you probably need to use <code>open my $fh, &#39;&lt;:raw&#39;, $filepath</code> and <code>binmode STDOUT, &#39;:raw&#39;;</code>. Also, since you&#39;re not using the CGI module, you&#39;ll need to calculate and send the Content-Length header yourself."}, {"owner": {"reputation": 649, "user_id": 2355364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76fa2e7ac8c45ed7b23ba36175d96d81?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar14", "link": "https://stackoverflow.com/users/2355364/iluvatar14"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427917622, "post_id": 29378027, "comment_id": 46974827, "body": "Hm, it seems like it doesn&#39;t like multiple http headers. I&#39;m using emb perl."}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 4210387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8587791ee0caf87bc25a9092c8c6139d?s=128&d=identicon&r=PG&f=1", "display_name": "Zach", "link": "https://stackoverflow.com/users/4210387/zach"}, "is_accepted": false, "score": 0, "last_activity_date": 1427941578, "creation_date": 1427941578, "answer_id": 29404040, "question_id": 29378027, "link": "https://stackoverflow.com/questions/29378027/download-file-with-perl-on-form-submit/29404040#29404040", "title": "Download file with Perl on form submit", "body": "<p>I see you addressed the typo in the tutorial.  The </p>\n\n<blockquote>\n  <p>\"Content-Type:application/x-downloadn\"</p>\n</blockquote>\n\n<p>should be <code>\"Content-Type: application/x-download\\n\"</code>, to specify the type of the content as \"application/x-download\" and the \"\\n\" to end the line of the header field.  </p>\n\n<p>After that, you're getting into how the browser handles the response.  If you provide the <code>Content-Disposition:attachment;filename=$fileName</code> header, you're asserting that the attachment ought to be the given filename <code>$filename</code>.  Many browsers will take a peek at the file name, and try to sniff a suitable MIME type for the extension.  So, if you're specifying that <code>$filename</code> is a <code>.pdf</code> then to modern browsers, \"if it looks like a pdf and smells like a pdf, then it's a pdf\".  Not only are you saying \"this is a pdf\" with your specification of the Content-Disposition, you're also providing the name for the file that they download.  In most situations, this should prevent the fall-back \"save as\" behavior.</p>\n\n<p>Your best bet would be to not provide the Content-Disposition.  That way, you're not specifying any default name to save the file as, and as such there's no extension for the browser to snoop.  Unfortunately, some browsers simply default to the name of the script even if the extension is absurd compared to the contents.  In some of the \"enterprise solutions\" that I deal with in my day-to-day, I get .csv files named as \"report.cgi\" because they use a MIME type that only Internet Explorer recognizes and they don't provide a Content-Disposition.  Buyer beware.  </p>\n\n<p>The bottom line is that you can't force the browser to open the \"Save As\" from the server side unless you have information about the browser and know how to trick it, or you simply don't give it anything to go by (and even then some browsers may have default conventions).  </p>\n\n<p>By specifying the Content-Disposition and a filename, you're giving hints as to what the file should be, and what it should be saved as.  On the other hand, if you don't give any other hints to the browser other than that the Content-Type is 'application/x-download' then you'll probably get a \"Save As\" dialog box, but the user will have no idea what kind of content the data is.  This puts you at the mercy of the browser's default naming conventions.  This is how I get my .csv files as \"report.cgi\", even when the server is providing a MIME type for csv files (though an IE-only flavor).  </p>\n\n<p>What I do is use perl's File::Type and the mime_type function to get the mime type and simply specify a name.  If you use the mime_type function for determining the MIME type, and don't specify a file to return, you'll get silly things like .xlsx files being downloaded as zip files, or other absurdity.  </p>\n\n<p>How important is it that they get the \"Save As\" dialog box, because at the end of the day, what file type they choose is irrelevant if the content of the file is not appropriate for the type and they try to open an excel file in acrobat, or vice-versa.  </p>\n\n<p>In all of my years of experience doing server side programming, I have always found it futile to try to control the client side.  </p>\n"}], "owner": {"reputation": 649, "user_id": 2355364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76fa2e7ac8c45ed7b23ba36175d96d81?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar14", "link": "https://stackoverflow.com/users/2355364/iluvatar14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 486, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427941578, "creation_date": 1427834037, "last_edit_date": 1427837016, "question_id": 29378027, "link": "https://stackoverflow.com/questions/29378027/download-file-with-perl-on-form-submit", "title": "Download file with Perl on form submit", "body": "<p>I am trying to initiate a Save As dialog on a form submit. My form is pretty simple, I'm using <a href=\"http://www.dropzonejs.com/\" rel=\"nofollow\">Dropzonejs</a> for a drag and drop file, and it looks this: </p>\n\n<pre><code>&lt;form action=\"action.epl\" class=\"dropzone\" id=\"dropzone\" method=\"post\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>So when the user drops the file it submits and kicks off action.epl. In action.epl, I handle the file and it gets saved to the server. Then I'm trying to spit back out an encrypted version of the file. The encryption is done and I have removed it to make sure it is not the source of the problem, the problem I have now is that I can't get it to download from the server. I have the following (also in action.epl):</p>\n\n<pre><code>     $fileName = 'file.pdf';\n     $filepath= \"/server/path/$fileName\";\n\n     open (FILE, \"&lt;$filepath\") or die \"can't open : $!\";\n     @fileholder = &lt;FILE&gt;;\n     close FILE;\n\n     print \"Content-Type:application/x-downloadn\";\n     print \"Content-Disposition:attachment;filename=$fileName\";\n     print @fileholder\n</code></pre>\n\n<p>It's doing /something/ because the submit takes 5x as long as it did without this snippet. What I thought I would get was the \"Save As\" dialog but nothing happens. <a href=\"http://www.sitepoint.com/file-download-script-perl/\" rel=\"nofollow\">This tutorial</a> is where I got my info.</p>\n\n<p>Edit, now I have: </p>\n\n<pre><code>     $fileName ='file.pdf';\n     $filepath = \"/server/path/$fileName\";\n\n     print \"Content-Type:application/x-download\\n\";\n     print \"Content-Disposition:attachment;filename=$fileName\\n\\n\";\n\n     open FILE, '&lt;', $filepath or die \"can't open: $!\";\n     print while &lt;FILE&gt;;\n     close FILE;\n</code></pre>\n\n<p>However, there is still no dialog. I see you have the \"$\" sigil in your filehandle. I tried that too. But I dont think you need that right?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3169, "user_id": 4114124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k73hh.jpg?s=128&g=1", "display_name": "Politank-Z", "link": "https://stackoverflow.com/users/4114124/politank-z"}, "edited": false, "score": 0, "creation_date": 1427832908, "post_id": 29377685, "comment_id": 46935714, "body": "Does it ever fail, then work, on the same directory string? If not, can you provide an example of a directory string which fails, and let us know what platform you are running on?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 2, "creation_date": 1427834933, "post_id": 29377685, "comment_id": 46936673, "body": "@toolic, the point of <code>-d</code> is to avoid the <code>die</code> if the directory exists. That said, the <code>die</code> is totally useless since <code>make_path</code> already dies on error. As such, the code can be reduced to just <code>make_path($Dir);</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3169, "user_id": 4114124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k73hh.jpg?s=128&g=1", "display_name": "Politank-Z", "link": "https://stackoverflow.com/users/4114124/politank-z"}, "is_accepted": false, "score": 5, "last_activity_date": 1427834992, "last_edit_date": 1427834992, "creation_date": 1427833296, "answer_id": 29377828, "question_id": 29377685, "link": "https://stackoverflow.com/questions/29377685/using-d-to-check-if-dir-exists-fails-sometimes/29377828#29377828", "title": "Using -d to check if dir exists fails sometimes", "body": "<p>It sounds like you are trying to create a directory with the same name as an existing (plain) file. <code>-d</code> returns false since the target is not a directory. Then <code>make_path</code> dies since it can't create the requested directory.</p>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427834992, "creation_date": 1427832705, "last_edit_date": 1427834838, "question_id": 29377685, "link": "https://stackoverflow.com/questions/29377685/using-d-to-check-if-dir-exists-fails-sometimes", "title": "Using -d to check if dir exists fails sometimes", "body": "<pre><code>-d $Dir or make_path( $Dir) or die \"Can't mkdir $Dir: $!\";\n</code></pre>\n\n<p>I have this line of code, but less than 1% of the time the script fails saying:</p>\n\n<pre><code>mkdir &lt;$Dir path&gt;: File exists at script.pl line 234\n</code></pre>\n\n<p>anything wrong with the way I used \"-d\" and \"or\" ?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427824309, "post_id": 29374989, "comment_id": 46930796, "body": "Where is the module installed? What is in <code>@INC</code>? (the rest of the error message should tell you.) Does the user your webserver runs as have permission to access all of the directories in the path to the module, as well as read permissions on the module itself?"}, {"owner": {"reputation": 415, "user_id": 710032, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/698107042/picture?type=large", "display_name": "Yasir Siddiqui", "link": "https://stackoverflow.com/users/710032/yasir-siddiqui"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427824911, "post_id": 29374989, "comment_id": 46931125, "body": "Here is inc path INC contains: ../shared ../shared /Library/Perl/5.16/darwin-thread-multi-2level /Library/Perl/5.16 /Network/Library/Perl/5.16/darwin-thread-multi-2level /Network/Library/Perl/5.16 /Library/Perl/Updates/5.16.2 /System/Library/Perl/5.16/darwin-thread-multi-2level /System/Library/Perl/5.16 /System/Library/Perl/Extras/5.16/darwin-thread-multi-2level /System/Library/Perl/Extras/5.16"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1427825071, "post_id": 29374989, "comment_id": 46931220, "body": "Okay, and where is <code>Email&#47;Sender&#47;Simple.pm</code>? (Please <a href=\"https://stackoverflow.com/posts/29374989/edit\">edit</a> these details into your question instead of leaving them in comments, which are difficult to read.)"}, {"owner": {"reputation": 415, "user_id": 710032, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/698107042/picture?type=large", "display_name": "Yasir Siddiqui", "link": "https://stackoverflow.com/users/710032/yasir-siddiqui"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427825491, "post_id": 29374989, "comment_id": 46931450, "body": "Here is the module path  R/RJ/RJBS/Email-Sender-1.300016.tar.gz     /opt/local/lib/perl5/site_perl/5.16.3/Email/Sender/Simple.pm     Installed: 1.300016     CPAN:      1.300016  up to date     Ricardo SIGNES (RJBS) So perl is unable to find this as @INC does not contain /opt. How to fix this?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1450802860, "last_edit_date": 1450802860, "creation_date": 1427826306, "answer_id": 29375773, "question_id": 29374989, "link": "https://stackoverflow.com/questions/29374989/cant-locate-email-sender-simple-pm-on-os-x-mavericks/29375773#29375773", "title": "Can&#39;t locate Email/Sender/Simple.pm on OS X Mavericks", "body": "<p>You're using the <code>cpan</code> from one install of Perl, and you're running your script using another. Instead of <code>cpan Email::Sender::Simple</code>, execute the following</p>\n\n<pre><code>perl -MCPAN -e'shell'\n</code></pre>\n\n<p>then</p>\n\n<pre><code>install Email::Sender::Simple\n</code></pre>\n\n<p>and</p>\n\n<pre><code>quit\n</code></pre>\n\n<p>Ensure that the same <code>perl</code> is used as the one that is used to run your script by providing the full path to <code>perl</code> if necessary.</p>\n"}], "owner": {"reputation": 415, "user_id": 710032, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/698107042/picture?type=large", "display_name": "Yasir Siddiqui", "link": "https://stackoverflow.com/users/710032/yasir-siddiqui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1539, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450802860, "creation_date": 1427823625, "last_edit_date": 1427827482, "question_id": 29374989, "link": "https://stackoverflow.com/questions/29374989/cant-locate-email-sender-simple-pm-on-os-x-mavericks", "title": "Can&#39;t locate Email/Sender/Simple.pm on OS X Mavericks", "body": "<p>I am running perl using CGI on OS X Mavericks. </p>\n\n<p>When I run the perl script it throws following error</p>\n\n<blockquote>\n  <p>Can't locate Email/Sender/Simple.pm in @INC (@INC contains: ../shared ../shared /Library/Perl/5.16/darwin-thread-multi-2level /Library/Perl/5.16 /Network/Library/Perl/5.16/darwin-thread-multi-2level /Network/Library/Perl/5.16 /Library/Perl/Updates/5.16.2 /System/Library/Perl/5.16/darwin-thread-multi-2level /System/Library/Perl/5.16 /System/Library/Perl/Extras/5.16/darwin-thread-multi-2level /System/Library/Perl/Extras/5.16</p>\n</blockquote>\n\n<p>When I try to install Email sender module using cpan</p>\n\n<pre><code>cpan&gt; install Email::Sender::Simple\n</code></pre>\n\n<p>It says</p>\n\n<blockquote>\n  <p>Email::Sender::Simple is up to date (1.300016).</p>\n</blockquote>\n\n<p>Any help will be really appreciated.</p>\n"}, {"tags": ["xml", "json", "perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427823650, "post_id": 29374641, "comment_id": 46930439, "body": "XML data can&#39;t map uniquely to a JSON data structure, and your mission is bound to fail unless you have a special verification on the XML data that can be accepted. This is exactly the same problem that <a href=\"https://metacpan.org/module/XML::Simple\" rel=\"nofollow noreferrer\"><code>XML::Simple</code></a> suffered, and has now had to bow out"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427823766, "post_id": 29374641, "comment_id": 46930501, "body": "You seem to have three unrelated questions. Please post unrelated questions in unrelated post"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427823899, "post_id": 29374641, "comment_id": 46930576, "body": "@ikegami: you can ignore third question but first two are related to each other or at least same logic will be used. to your first question file tag will be pursuade as : &quot;file&quot;:[ {&quot;fileName&quot;: &quot;/usr/temp/ABC.txt&quot;} ]"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1427823910, "post_id": 29374641, "comment_id": 46930584, "body": "updated the question as well."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427823966, "post_id": 29374641, "comment_id": 46930614, "body": "@user1188611: But <i>you can&#39;t express XML data in simple JSON</i>. Really!"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427824087, "post_id": 29374641, "comment_id": 46930672, "body": "@Borodin: i am having similar questions, but this modification need to be done in order to align to the next step of process. That next step cant be modified. I completely agree to what you are saying here"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1427824170, "post_id": 29374641, "comment_id": 46930712, "body": "Question 1 (<i>How do I change <code>{ fileName = &gt;&quot;&#47;usr&#47;temp&#47;ABC.txt&quot; }</code> to <code>[ { fileName = &gt;&quot;&#47;usr&#47;temp&#47;ABC.txt&quot; } ]</code>?</i>) is unrelated to question 2 (<i>How do I add add a hash element with value <code>{ event =&gt; [ {} ] }</code> to a hash?</i>) because the problems are different and the solutions are different. They don&#39;t overlap at all."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427913861, "post_id": 29374641, "comment_id": 46972758, "body": "Don&#39;t add new questions to existing questions."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1427914263, "post_id": 29374641, "comment_id": 46972981, "body": "posted the query in a separate question here : <a href=\"http://stackoverflow.com/questions/29398517/modifying-data-structure-that-will-be-encoded-using-json-in-perl\" title=\"modifying data structure that will be encoded using json in perl\">stackoverflow.com/questions/29398517/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1427825526, "last_edit_date": 1427825526, "creation_date": 1427824588, "answer_id": 29375279, "question_id": 29374641, "link": "https://stackoverflow.com/questions/29374641/updating-json-tags-format-using-in-perl/29375279#29375279", "title": "Updating JSON tags format using in perl", "body": "<p>You can't change JSON; you can change the data structure that will be encoded using JSON. Since this is a Perl question, I shall use Perl syntax to describe those structures rather than JSON. This should make the solutions to your question dead obvious.</p>\n\n<ol>\n<li><p>Your asking how to change</p>\n\n<pre><code>{ fileName =&gt; \"/usr/temp/ABC.txt\" }\n</code></pre>\n\n<p>to</p>\n\n<pre><code>[ { fileName =&gt; \"/usr/temp/ABC.txt\" } ]\n</code></pre>\n\n<p>It's simply</p>\n\n<pre><code>$var = [ $var ];\n</code></pre>\n\n<p>In context, that's</p>\n\n<pre><code>$data-&gt;{Person}{personalData}{workList}{file} =\n   [ $data-&gt;{Person}{personalData}{workList}{file} ];\n</code></pre></li>\n<li><p>You're asking how to change</p>\n\n<pre><code>{ }\n</code></pre>\n\n<p>to</p>\n\n<pre><code>{ eventList =&gt; { event =&gt; [ { } ] } }\n</code></pre>\n\n<p>Adding an element to a referenced hash is simply</p>\n\n<pre><code>$hash_ref-&gt;{$key} = $value;\n</code></pre>\n\n<p>In context, that's</p>\n\n<pre><code>$data-&gt;{Person}{eventList} = { event =&gt; [ { } ] };\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 29375279, "answer_count": 1, "score": -1, "last_activity_date": 1427913813, "creation_date": 1427822467, "last_edit_date": 1427913813, "question_id": 29374641, "link": "https://stackoverflow.com/questions/29374641/updating-json-tags-format-using-in-perl", "title": "Updating JSON tags format using in perl", "body": "<p>I have a perl code which is generating JSON from an XML file. Everything is working fine and i am getting the conversion done properly.</p>\n\n<p>So current code is generating the JSON from XML generically that is JSON has all of its tags and their structure same as present in the XML file.</p>\n\n<p>but i want JSON tags to have some specific format always irrespective of the input xml.</p>\n\n<p>For example here is the code snippet for perl code, input XML, generically generated JSON and  expected JSON.</p>\n\n<p>XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?&gt;\n&lt;Person SchemaVersion=\"1.0.8\"&gt;\n    &lt;personalData&gt;\n        &lt;workList&gt;\n            &lt;file&gt;\n                 \"fileName\": \"/usr/temp/RPM_020515_.tar.gz\",\n            &lt;/file&gt;\n        &lt;/workList&gt;\n    &lt;/personalData&gt;\n&lt;/Person&gt;\n</code></pre>\n\n<p>Perl code:</p>\n\n<pre><code> #!/usr/bin/perl\n use strict;\n use warnings FATAL =&gt; qw( all );\n use Data::Dumper;\n\n use JSON;\n\n    # Create the object of XML Simple\n    my $xmlSimple = new XML::Simple(KeepRoot   =&gt; 1);\n\n    # Load the xml file in object\n    my $dataXML = eval { $xmlSimple-&gt;XMLin(Input_XML_File_Path)};\n\n    # use encode json function to convert xml object in json.\n    my $jsonString = encode_json($dataXML);\n\n    print $jsonString;\n</code></pre>\n\n<p>Current Output JSON:</p>\n\n<pre><code>{\n    \"Person\":{\n\n       \"personalData\": {\n          \"workList\": {\n             \"file\":{\n                \"fileName\": \"/usr/temp/ABC.txt\"\n               }\n           },\n       }\n    }\n } \n</code></pre>\n\n<p>New output to generate:</p>\n\n<pre><code>{\n    \"Person\":{\n\n       \"personalData\": {\n          \"workList\": {\n             \"file\":[\n                 { \"fileName\": \"/usr/temp/ABC.txt\" }\n              ]\n           },\n         \"eventList\": {\n            \"event\": [\n                 {}\n             ]\n          }\n        }\n      }   \n    }\n</code></pre>\n\n<p>Difference between current JSON output generated to what needs to be generated:</p>\n\n<p>1> Tag file needs to be pursued as an array here instead of a normal tag.\nThis is stupid since input tag has just one value so no point having as array but next step of process is expecting the tag as nested so need to make that change. </p>\n\n<pre><code>    \"file\":[\n        { \"fileName\": \"/usr/temp/ABC.txt\" }\n      ]\n</code></pre>\n\n<p>INSTEAD of following:</p>\n\n<pre><code>    \"file\":{\n        \"fileName\": \"/usr/temp/ABC.txt\"\n      }\n</code></pre>\n\n<p>2> Tag Eventlist is not present in the input xml file so need to hard code, so that output JSON has always that tag inside it. ( next step of process needs that ). </p>\n\n<p>let me know if any questions.</p>\n\n<p>NOTE: i am able to add new tag into JSON but not in the way i wanted.</p>\n\n<pre><code> my $tempHash = decode_json($jsonString );\n # adding the new key-value pair into the hash map\n $tempHash-&gt;{'Person'}-&gt;{'PersonalData'}-&gt;{'workList'}-&gt;{$key} = $val;\n # encoding the hash map back into JSON\n my $jsonWithKey =  encode_json($tempHash);\n</code></pre>\n"}, {"tags": ["perl", "ubuntu", "net-snmp", "snmpd", "snmptrapd"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427832938, "post_id": 29373337, "comment_id": 46935735, "body": "To install from source, see the <a href=\"http://www.net-snmp.org/docs/INSTALL.html\" rel=\"nofollow noreferrer\">install docs</a> for Net-SNMP. There&#39;s the <code>perl-Net-SNMP</code> package on Red Hat, but I don&#39;t see an equivalent for Debian, so you might have to build from source. Also, make sure you configured Net-SNMP with <code>--enable-embedded-perl</code>, or <code>NetSNMP::TrapReceiver</code> <a href=\"https://metacpan.org/pod/NetSNMP::TrapReceiver#ABSTRACT\" rel=\"nofollow noreferrer\">won&#39;t work</a>."}], "owner": {"reputation": 11, "user_id": 3085363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c4d32d6236ab12a16afcca3d62397a?s=128&d=identicon&r=PG&f=1", "display_name": "Senthan", "link": "https://stackoverflow.com/users/3085363/senthan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 584, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427818550, "creation_date": 1427818247, "last_edit_date": 1427818550, "question_id": 29373337, "link": "https://stackoverflow.com/questions/29373337/snmptrapd-client-configuration-in-ubuntu", "title": "snmptrapd client configuration In Ubuntu", "body": "<p>I successfully installed snmpd and cacti using <a href=\"https://www.digitalocean.com/community/tutorials/installing-the-cacti-server-monitor-on-ubuntu-12-04-cloud-server\" rel=\"nofollow\">https://www.digitalocean.com/community/tutorials/installing-the-cacti-server-monitor-on-ubuntu-12-04-cloud-server</a>\nHow to install Perl-Net-snmp module in Ubuntu?.because I want to receive traps in perl using NetSNMP::TrapReceiver.</p>\n"}, {"tags": ["perl", "multidimensional-array"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1427816623, "post_id": 29372613, "comment_id": 46926128, "body": "That&#39;s not a string. If you add a <code>{</code> to the beginning, it would be an anonymous hash. Maybe you meant a &quot;scalar&quot;?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1427816632, "post_id": 29372613, "comment_id": 46926136, "body": "It doesn&#39;t look like a string to me"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "edited": false, "score": 0, "creation_date": 1427816715, "post_id": 29372613, "comment_id": 46926187, "body": "It is stored as a string, I want it to be converted."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427816715, "post_id": 29372613, "comment_id": 46926188, "body": "But it might be related to a SOAP object: <a href=\"http://stackoverflow.com/questions/29370434/how-to-loop-through-subarrays-of-a-soaplite-response-in-perl\" title=\"how to loop through subarrays of a soaplite response in perl\">stackoverflow.com/questions/29370434/&hellip;</a>"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "edited": false, "score": 0, "creation_date": 1427816774, "post_id": 29372613, "comment_id": 46926227, "body": "Correct sobrique, but since I can&#39;t get what I need out of it as a soap object I would like to convert it to a array.  I currently have it as a string as well."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1427817085, "post_id": 29372613, "comment_id": 46926448, "body": "What do you need out of the SOAP object? Alternatively, how would storing this in an array enable you to get the information you need?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1427817661, "post_id": 29372613, "comment_id": 46926798, "body": "@choroba: <i>&quot;That&#39;s not a string&quot;</i>   It looks very much like a string to me. I would be hard-pressed to imagine something that <i>didn&#39;t</i> look like a string!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1427817859, "post_id": 29372613, "comment_id": 46926922, "body": "@JoelLewis: You&#39;re asking the wrong question again! I tried to explain that it is almost never useful to print the <code>Data::Dumper</code> representation of an object. Most of the information is in the <i>methods</i> that the object provides. Please explain what you&#39;re trying to do using the SOAP API, and give example sources if possible so that we can test solutions ourselves"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427820208, "post_id": 29372613, "comment_id": 46928380, "body": "Can you show us the bigger picture please? You contracted our view way too small so that all we have is the output of <a href=\"https://metacpan.org/module/Data::Dumper\" rel=\"nofollow noreferrer\"><code>Data::Dumper</code></a>. Please show your complete solution and your over-all requirement"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427821908, "post_id": 29372613, "comment_id": 46929487, "body": "@JoelLewis: How about you expand this in a new question, and say when you&#39;re not sure: I wrote a SOAP client in Perl that uses the <code>SOAP::Lite</code> module. I wrote &lt;this code&gt; to send a request to the SOAP server, and &lt;this code&gt; to display what the server returned. Please include as much information as you can"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427821996, "post_id": 29372613, "comment_id": 46929534, "body": "@borodin  I added all of that to the other question <a href=\"https://stackoverflow.com/questions/29370434/how-to-loop-through-subarrays-of-a-soaplite-response-in-perl\" title=\"how to loop through subarrays of a soaplite response in perl\">stackoverflow.com/questions/29370434/&hellip;</a>  I thought it was more appropriate to add to the question that was titled correctly."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1427818054, "creation_date": 1427818054, "answer_id": 29373272, "question_id": 29372613, "link": "https://stackoverflow.com/questions/29372613/pushing-formatted-data-to-an-array-in-perl/29373272#29373272", "title": "Pushing formatted data to an array in Perl", "body": "<p>Just prepend the missing left curly bracket and call <a href=\"http://p3rl.org/eval\" rel=\"nofollow\">eval</a>. Before doing so, make sure the string doesn't contain any commands (imagine what <code>system 'rm -rf /'</code> would cause).</p>\n\n<pre><code>my $string = q( 'ShoreTelCallStateInfo' =&gt; [\n                                     {\n                                       'callStateDetail' =&gt; 'Active',\n# ETC...\n                                     }\n                                   ]\n        };);\nmy @array = eval \"{$string\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "edited": false, "score": 0, "creation_date": 1427820139, "post_id": 29373706, "comment_id": 46928334, "body": "This is exactly what I&#39;m looking for, however for some reason $state info is blank.  Resulting in no loop.  I can&#39;t figure out why state info is not getting the data. Also I think you posted this to the wrong question of mine."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "edited": false, "score": 1, "creation_date": 1427820506, "post_id": 29373706, "comment_id": 46928578, "body": "I apologise for posting against the wrong question, but your new post was very similar to this one. Please pull back a long way and explain the nature of the data source as well as why you are using <code>Data::Dumper</code> to serialise, and then <code>eval</code> to deserialise. You motives may be valid but it is impossible to tell from what you have written. I realise that many things seem obvious to you, but are part of the system with which you are working. We cannot knowany of that, so please imagine that we are from Jupiter and know programming but nothing of your system"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "edited": false, "score": 0, "creation_date": 1427821074, "post_id": 29373706, "comment_id": 46928966, "body": "Thank you for being patient and trying to help.  I have updated my origional question: <a href=\"https://stackoverflow.com/questions/29370434/how-to-loop-through-subarrays-of-a-soaplite-response-in-perl\" title=\"how to loop through subarrays of a soaplite response in perl\">stackoverflow.com/questions/29370434/&hellip;</a>  I hope it is a bit easier to understand what is going on."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1427819424, "creation_date": 1427819424, "answer_id": 29373706, "question_id": 29372613, "link": "https://stackoverflow.com/questions/29372613/pushing-formatted-data-to-an-array-in-perl/29373706#29373706", "title": "Pushing formatted data to an array in Perl", "body": "<p>It is difficult to help without understanding the data better. But I suggest this</p>\n\n<pre><code>my $state_info = $result-&gt;{ShoreTelCallStateInfo};\n\nfor my $state_item ( @$state_info ) {\n  say $state_item-&gt;{callInfo}{callerID};\n}\n</code></pre>\n\n<p>when worked with your sample data gives</p>\n\n<pre><code>1955\n+1385#######\n</code></pre>\n\n<p>Is that close to what you want?</p>\n"}], "owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1431216121, "creation_date": 1427816217, "last_edit_date": 1431216121, "question_id": 29372613, "link": "https://stackoverflow.com/questions/29372613/pushing-formatted-data-to-an-array-in-perl", "title": "Pushing formatted data to an array in Perl", "body": "<p>I have a string of formatted data that I would like to push to an array, but my Perl skills are lacking.  </p>\n\n<p>The string is:</p>\n\n<pre><code>'ShoreTelCallStateInfo' =&gt; [\n    {\n       'callStateDetail' =&gt; 'Active',\n       'callState' =&gt; 'OnHold',\n       'callInfo' =&gt; {\n             'callerIDName' =&gt; 'Joel Lewis',                                          \n             'callID' =&gt; '66766',\n             'lineID' =&gt; '3947',\n             'connectedIDName' =&gt; 'VM-Forward',\n             'calledID' =&gt; '2105',\n             'callerID' =&gt; '1955',\n             'isInbound' =&gt; 'false',\n             'calledIDName' =&gt; 'VM-Forward',\n             'callReason' =&gt; 'None',\n             'callUniqueID' =&gt; '2488927099',\n             'connectedID' =&gt; '2105',\n             'isExternal' =&gt; 'false',\n             'callGUID' =&gt; '{00030000-67CA-537E-3FD8-0010492377D9}'\n        }\n    },\n    {\n        'callStateDetail' =&gt; 'Active',\n        'callState' =&gt; 'Connected',\n        'callInfo' =&gt; {\n             'callerIDName' =&gt; 'Lewis Joel',\n             'callID' =&gt; '73202',\n             'lineID' =&gt; '3947',\n             'connectedIDName' =&gt; 'Lewis Joel',\n             'calledID' =&gt; '1955',\n             'callerID' =&gt; '+1385#######',\n             'isInbound' =&gt; 'true',\n             'calledIDName' =&gt; 'Joel Lewis',\n             'callReason' =&gt; 'None',\n             'callUniqueID' =&gt; '2193468845',\n             'connectedID' =&gt; '+1385#######',\n             'isExternal' =&gt; 'true',\n             'callGUID' =&gt; '{00030000-6809-537E-3FD8-0010492377D9}'\n        }\n     }\n  ]\n};\n</code></pre>\n\n<p>I have tried to simply create the array and assign the string, but this is not working:</p>\n\n<pre><code>my @magicarray = $string;\n</code></pre>\n\n<p>Is there a quick way to initialize this array with the formatted data?</p>\n"}, {"tags": ["perl", "stdin"], "answers": [{"comments": [{"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427815317, "post_id": 29372241, "comment_id": 46925234, "body": "yeah i get. 3: Bad file descriptor error. hmm i dont know much about IPC::Run."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 1, "creation_date": 1427815636, "post_id": 29372241, "comment_id": 46925469, "body": "What&#39;s a dummy fd? One that doesn&#39;t exist? Why do you expect to be able to read from something that doesn&#39;t exist?"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427815731, "post_id": 29372241, "comment_id": 46925539, "body": "i want to create a fd. how do i do that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427815769, "post_id": 29372241, "comment_id": 46925561, "body": "File descriptors are file handles. There are many ways to open file handles."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427815807, "post_id": 29372241, "comment_id": 46925591, "body": "The problem i am facing is that... i cant just open a file and use that (it works) but sometimes my program could be in a dir where i cant write a file. is there something i can create on the fly like python&#39;s os.pipe()"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 1, "creation_date": 1427815935, "post_id": 29372241, "comment_id": 46925682, "body": "<code>pipe</code>? That&#39;s really low level. <code>open &#39;-|&#39;</code> and <code>open &#39;|-&#39;</code> also create pipes. Again, pretty sure you want IPC::Run3 or IPC::Run. <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427815964, "post_id": 29372241, "comment_id": 46925707, "body": "I tried: my $BRIN = FileHandle-&gt;new; my $fd = fileno($BRIN); but that doesnt give me valid fileno"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427816049, "post_id": 29372241, "comment_id": 46925758, "body": "You gotta pass arguments to <code>-&gt;new()</code> or call <code>-&gt;open()</code> to actually open a handle. Anyway, don&#39;t use FileHandle. Just a lame wrapper for IO::File, which is just a lame wrapper for <code>open</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427816098, "post_id": 29372241, "comment_id": 46925788, "body": "You ask questions, but ignore the answers. <code>FileHandle-&gt;new</code> is not <code>pipe</code>."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427816748, "post_id": 29372241, "comment_id": 46926208, "body": "Oh you said there are my ways to open file handles so I assume thats all needed"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427816819, "post_id": 29372241, "comment_id": 46926251, "body": "I am kinda hesitant to use ipc at the moment. Maybe in the future. I just wsnt to get it working with open and redirect stdin for now"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427818004, "post_id": 29372241, "comment_id": 46927006, "body": "Again, <code>FileHandle-&gt;new</code> doesn&#39;t open a file handle."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 1, "creation_date": 1427818090, "post_id": 29372241, "comment_id": 46927065, "body": "<code>&lt;&#47;dev&#47;null</code> would actually match what you said you needed."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427819822, "post_id": 29372241, "comment_id": 46928170, "body": "just one quick since i work in many architecture. is it possible for a certain file system to not have /dev/null? if so, ill prob have to catch for it"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1427824876, "post_id": 29372241, "comment_id": 46931104, "body": "@ealeon I&#39;m not sure if there are operating systems with no null device, but it certainly won&#39;t always be in <code>&#47;dev&#47;null</code>. See <a href=\"http://en.wikipedia.org/wiki/Null_device\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Null_device</a>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1427815389, "last_edit_date": 1427815389, "creation_date": 1427815176, "answer_id": 29372241, "question_id": 29371837, "link": "https://stackoverflow.com/questions/29371837/perl-get-a-new-file-descriptor-to-redirect-stdin-to/29372241#29372241", "title": "perl: get a new file descriptor to redirect stdin to", "body": "<pre><code>2&gt;&amp;1    # Dups fd 1 onto fd 2\n</code></pre>\n\n<p>So</p>\n\n<pre><code>0&lt;&amp;3    # Dups fd 3 onto fd 0\n&lt;&amp;3     # \"&lt;\" affects fd 0 by default\n</code></pre>\n\n<p>So</p>\n\n<pre><code>open(my $from_child, '-|', \"foo 2&gt;&amp;1 &lt;&amp;$fd\")\n</code></pre>\n\n<p>I can't help wonder why you want to do this. Is it part of something that could be done better using <a href=\"http://search.cpan.org/perldoc?IPC::Run3\" rel=\"nofollow\">IPC::Run3</a> or <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"nofollow\">IPC::Run</a>?</p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 3, "accepted_answer_id": 29372241, "answer_count": 1, "score": 0, "last_activity_date": 1427815389, "creation_date": 1427814064, "last_edit_date": 1427814686, "question_id": 29371837, "link": "https://stackoverflow.com/questions/29371837/perl-get-a-new-file-descriptor-to-redirect-stdin-to", "title": "perl: get a new file descriptor to redirect stdin to", "body": "<pre><code>        my $EXE = FileHandle-&gt;new;\n        my $fd = 3; # &lt;-------- doest work\n        open $EXE, q{-|},\n            \"$myexe make 2&gt;&amp;1 &lt;%=$fd\"\n            or die('Cannot open EXE');\n        $err = !(close $EXE);\n</code></pre>\n\n<p>I would like to redirect stdin to some dummy file descriptor (preferably not having to open a file).</p>\n\n<p>Any suggestions how do i do it after <code>2&gt;&amp;1</code> to redirect stdin?</p>\n"}, {"tags": ["perl", "keyboard", "interrupt"], "answers": [{"comments": [{"owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "edited": false, "score": 0, "creation_date": 1427818225, "post_id": 29371845, "comment_id": 46927157, "body": "thanks, I ended up declaring $SIG{&#39;INT&#39; } = &#39;interrupt&#39;; and then declaring the sub function."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1427814083, "creation_date": 1427814083, "answer_id": 29371845, "question_id": 29371485, "link": "https://stackoverflow.com/questions/29371485/perl-handling-keyboard-interrupt/29371845#29371845", "title": "Perl handling Keyboard Interrupt", "body": "<p>Just define a SIGINT handler:</p>\n\n<pre><code>local $SIG{INT} = sub {\n    $workbook-&gt;close;\n    logout();\n    exit 130\n};\n</code></pre>\n"}], "owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 29371845, "answer_count": 1, "score": 0, "last_activity_date": 1427814083, "creation_date": 1427813152, "question_id": 29371485, "link": "https://stackoverflow.com/questions/29371485/perl-handling-keyboard-interrupt", "title": "Perl handling Keyboard Interrupt", "body": "<p>I'm trying to code a way that when the user types in CTRL+C, the script will proceed with a few more steps before closing. I know how to do this in Python. The python code would be something like this:</p>\n\n<pre><code>try:\n    workbook = xlsxwriter.Workbook('Desktop\\ODFU '+str(System)+'.xlsx')\n    worksheet = workbook.add_worksheet()\n    excelcreate(System)\n    login(USER, PASS)\n    test()\n    time.sleep(2)\n    print\"Test is complete...\"\n    logout()\nexcept KeyboardInterrupt: # CTRL+C Terminates script and saves everything and logs out\n    print\"\"\n    print \"Interruption occurred!! Script terminating...\"\n    workbook.close()\n    logout()    \n</code></pre>\n\n<p>How can I get somethign exactly like this but with Perl?</p>\n"}, {"tags": ["perl", "soap", "soaplite"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427811061, "post_id": 29370434, "comment_id": 46922206, "body": "What do you get if you use <code>Data::Dumper</code> and <code>print Dumper \\$t</code> in your first example? Is it an array reference?"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427811251, "post_id": 29370434, "comment_id": 46922319, "body": "@Sobrique  I get the same error &quot;[error] Method &#39;result&#39; is readonly and doesn&#39;t accept any parameters at &quot;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1427811278, "post_id": 29370434, "comment_id": 46922341, "body": "OK. And that dump? What&#39;s it a dump <i>of</i>?"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427811440, "post_id": 29370434, "comment_id": 46922465, "body": "@sobrique it is a dump of $result."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427811503, "post_id": 29370434, "comment_id": 46922511, "body": "OK, cool. In which case my answer below may do the trick. (e.g. skipping the &#39;SOAP&#39; accessors and just treating it as a perl data structure)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427815705, "post_id": 29370434, "comment_id": 46925523, "body": "I started to &quot;fix&quot; your question, and didn&#39;t get past the subject line before I was unsure that my changes would be correct. As the warning message says, you are calling the <code>result</code> method with parameters that it doesn&#39;t expect, so you are simply misunderstanding the SOAP API. It also worries me that XPath expressions like <code>&#47;&#47;GetActiveCallsResponse&#47;GetActiveCallsResult&#47;ShoreTelCallSt&zwnj;&#8203;ateInfo&#47;</code> are missing slashes. Presumably you meant <code>&#47;&#47;GetActiveCalls&#47;Response&#47;GetActiveCalls&#47;Result&#47;...</code> and beyond that I cannot guess."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427815826, "post_id": 29370434, "comment_id": 46925606, "body": "I suggest that you should describe what it is that you&#39;re trying to <i>achieve</i> rather than how your proposed solution has gone wrong. SOAP has a famously awkward API, and I am not surprised you fell foul of it"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427815840, "post_id": 29370434, "comment_id": 46925616, "body": "@Borodin The XPath expressions are not missing slashes, these are the headers that are being provided by the server i am calling.  I am hoping to get some help understanding the SOAP api so that I can make this work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427816081, "post_id": 29370434, "comment_id": 46925778, "body": "@Sobrique: <i>&quot;my answer below may do the trick\u2014skipping the &#39;SOAP&#39; accessors and just treating it as a Perl data structure&quot;</i> Please *never recommend such nastiness. SOAP\u2014the Simple Object Access Protocol\u2014is meant as a standard that enables dialogue between peers. If you jink that to &quot;get it working&quot; then you haven&#39;t implemented SOAP, and I am surprised at you for suggesting it"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427816216, "post_id": 29370434, "comment_id": 46925873, "body": "True enough. Tried the best I could given some sketchy initial information."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427816397, "post_id": 29370434, "comment_id": 46925990, "body": "@JoelLewis: You are probably looking at the output of <code>print</code> when given the object&#39;s keys. Use <code>say for</code> or <code>print &quot;$_\\n&quot; for</code> and you will see the difference."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427816441, "post_id": 29370434, "comment_id": 46926015, "body": "You start by removing the parameter to the <code>result</code> call. It doesn&#39;t belong there. And then you write a new question on Stack Overflow that describes in detail what it is that you want to achieve, and what you have done so far. You shouldn&#39;t dump the contents of any objects, but instead use the API defined in <a href=\"https://metacpan.org/pod/SOAP::Lite\" rel=\"nofollow noreferrer\">SOAP::Lite</a>. That way you won&#39;t be expecting things that aren&#39;t provided, or ignoring things that are"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427816928, "post_id": 29370434, "comment_id": 46926334, "body": "I noticed your edit. But why are you still calling <code>result</code> with a parameter when the module tells you that it doesn&#39;t accept one? I hoped you would fix that error and move on to correct the rest, but it is still there. You alone have the test environment, so we can&#39;t really help much if you don&#39;t accept the error messages and fix them"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427817449, "post_id": 29370434, "comment_id": 46926676, "body": "@Sobrique: <i>&quot;True enough. Tried the best I could given some sketchy initial information&quot;</i> Please don&#39;t do that! It is difficult enough to get questions described properly as it is without reputable people like yourself <i>proving</i> that we don&#39;t need such a thorough explanation of the problem!"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427817730, "post_id": 29370434, "comment_id": 46926837, "body": "@Borodin I have added more detail as well as adjusted my attempt.  Please let me know how I can better explain my problem if it is still not clear."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427823192, "post_id": 29370434, "comment_id": 46930175, "body": "Oh dear. I can&#39;t fathom what your meaning is, and I can&#39;t write something equivalent. You should use <i>relative</i> references where possible: for instance <code>&#47;&#47;GetActiveCallsResponse&#47;GetActiveCallsResult&#47;ShoreTelCallSt&zwnj;&#8203;ateInfo&#47;callInfo</code> is repeated ten times, and makes your code unreadable. I think your bug is because you can&#39;t see through your own code, and your priority should be to make it as clear as possible"}], "answers": [{"comments": [{"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "edited": false, "score": 0, "creation_date": 1427825401, "post_id": 29375260, "comment_id": 46931396, "body": "Thank you!  This is exactly what I needed to get going in the right direction."}], "tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": true, "score": 1, "last_activity_date": 1427824531, "creation_date": 1427824531, "answer_id": 29375260, "question_id": 29370434, "link": "https://stackoverflow.com/questions/29370434/how-to-loop-through-subarrays-of-a-soaplite-response-in-perl/29375260#29375260", "title": "How to loop through subarrays of a SOAP::Lite response in Perl?", "body": "<p>Just a guess...</p>\n\n<blockquote>\n  <p>The following code I have works fine, but only pulls the first caller\n  ID, in this case 1955.</p>\n\n<pre><code>my $callerID = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/callerID/');\n</code></pre>\n  \n  <p>What can I do to make my loop work?</p>\n</blockquote>\n\n<p><a href=\"http://search.cpan.org/~byrne/SOAP-Lite/lib/SOAP/Lite.pm\" rel=\"nofollow\">SOAP::Lite docs</a> say:</p>\n\n<blockquote>\n  <p>valueof()</p>\n  \n  <p>Returns the value of a (previously) matched node. It accepts a node\n  path. In this case, it returns the value of matched node, but does not\n  change the current node. Suitable when you want to match a node and\n  then navigate through node children:</p>\n\n<pre><code>  $som-&gt;match('/Envelope/Body/[1]'); # match method\n  $som-&gt;valueof('[1]');              # result\n  $som-&gt;valueof('[2]');              # first out parameter (if present)\n</code></pre>\n  \n  <p>The returned value depends on the context. <strong>In a scalar context it will\n  return the first element from matched nodeset. In an array context it\n  will return all matched elements.</strong></p>\n</blockquote>\n\n<p>Does this give the behavior you expect? It imposes list context on the valueof method.</p>\n\n<pre><code>for my $callerID ($result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/callerID/')) {\n      ...\n      # do something with each callerID\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my @callerIDs = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/callerID/');\n</code></pre>\n"}], "owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 922, "favorite_count": 0, "accepted_answer_id": 29375260, "answer_count": 1, "score": 0, "last_activity_date": 1427824531, "creation_date": 1427810499, "last_edit_date": 1427821022, "question_id": 29370434, "link": "https://stackoverflow.com/questions/29370434/how-to-loop-through-subarrays-of-a-soaplite-response-in-perl", "title": "How to loop through subarrays of a SOAP::Lite response in Perl?", "body": "<p>I have a Perl script that is successfully getting a response from my ShoreTel Phone server.  The server provides information on what calls are currently connected for the extension entered. However I am having issues looping through the sub arrays to get more than one response when there are multiple items. In this case I want to get each of the caller IDs that is currently connected.</p>\n\n<p>My SOAP:LITE request is successfully pulling data from the server using the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse SOAP::Lite;\nuse CGI;\nuse Data::Dumper;\n\nmy $myWebService = SOAP::Lite\n  -&gt; uri('http://www.ShoreTel.com/ProServices/SDK/Web')\n  -&gt; proxy('http://10.1.##.##:8070/ShoreTelWebSDK/WebService')\n  -&gt; on_action(sub {sprintf '%s/ShoreTelWebService/%s', $_[0], $_[1]});\n\nmy $query = new CGI;\nmy $ip = $query-&gt;remote_host;                    # IP address of remote party...use later as unique identifier\nmy $myClientID = $query-&gt;param('MyClientID');    # Possible client ID from previous script passed into us.\nmy $extnNr = $query-&gt;param('MyExtn');            # Has to be at least an extension number so we know who to status.\nmy $url = CGI::url(-path_info=&gt;1);               # What is my URL?\n\n# There should be an extension number given, else what would we status.\n\nif (defined($refreshNr) &amp;&amp;  defined($extnNr) &amp;&amp; ($extnNr ne '') &amp;&amp; ($refreshNr ne ''))\n{\n    # If there is a client ID defined, use it...otherwise registering and getting a client ID\n    # is the first thing we need to do when using our web service.\n\n  unless (defined($myClientID))\n  {\n    # To use our service, we need to register ourselves as a client...use remote IP address\n    # as a unique name for association to this session.\n\n    my $regClientResult = $myWebService-&gt;RegisterClient(SOAP::Data-&gt;name('clientName' =&gt; $ip));\n    if ($regClientResult-&gt;fault)\n    {\n      print '&lt;p&gt;FAULT', $myClientID-&gt;faultcode, ', ', $myClientID-&gt;faultstring;\n    }\n    else\n    {\n      # Retrieve client ID which we will be using for subsequent communication.\n\n      $myClientID = $regClientResult-&gt;valueof('//RegisterClientResponse/RegisterClientResult/');\n    }\n  }\n\n   if (defined($myClientID))\n  {\n    # Use our web service to open the line.  This is necessary to get a line ID.\n\n    # print '&lt;br&gt;Client ID ', $myClientID, ' has been registered.&lt;br&gt;';\n\n    my $openResult = $myWebService-&gt;OpenLine(SOAP::Data-&gt;name('clientHandle' =&gt; $myClientID), SOAP::Data-&gt;name('lineAddress' =&gt; $extnNr));\n    my $lineID = $openResult-&gt;valueof('//OpenLineResponse/OpenLineResult/lineID/');\n    my $lineType = $openResult-&gt;valueof('//OpenLineResponse/OpenLineResult/lineType/');\n    my $lineName = $openResult-&gt;valueof('//OpenLineResponse/OpenLineResult/lineName/');\n    my $lineState = $openResult-&gt;valueof('//OpenLineResponse/OpenLineResult/lineState/');\n\n# Call GetActiveCalls to see if anything is going on with this line.\n\n    my $result = $myWebService-&gt;GetActiveCalls(SOAP::Data-&gt;name('clientHandle' =&gt; $myClientID), SOAP::Data-&gt;name('lineID' =&gt; $lineID));\n\n    my $callID = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/callID/');\n\nif ($callID ne '')\n    {\n      # print '&lt;br&gt;Call ID is ', $callID;\n\n      my $isExternal = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/isExternal/');\n      my $isInbound = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/isInbound/');\n      my $callReason = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/callReason/');\n      my $connectedID = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/connectedID/');\n      my $connectedIDName = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/connectedIDName/');\n      my $callerID = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/callerID/');\n      my $callerIDName = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/callerIDName/');\n      my $calledID = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/calledID/');\n      my $calledIDName = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/calledIDName/');\n\n      my $callState = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callState/');\n      my $callStateDetail = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callStateDetail/');\n\n      # Print call information.\n\n      print &lt;&lt;EndOfCallInfo;\n      HTML CODE\nEndOfCallInfo\n\n    }\n    else\n    {\n         print &lt;&lt;EndOfCallInfo2;\n         HTML CODE\n\nEndOfCallInfo2\n    }\n  }\n\n}\n</code></pre>\n\n<p>But I am only able to access the first result in the multidimensional array.<br>\nI have tried looping through the results using</p>\n\n<pre><code>for my $t ($result-&gt;result({ShoreTelCallStateInfo}{callInfo}')) {\n    print $t-&gt;{callerID} . \"\\n\";}\n</code></pre>\n\n<p>But I am getting absolutely no results.  It appears that the the loop is not even entered.</p>\n\n<p>The following code I have works fine, but only pulls the first caller ID, in this case 1955.  </p>\n\n<pre><code>my $callerID = $result-&gt;valueof('//GetActiveCallsResponse/GetActiveCallsResult/ShoreTelCallStateInfo/callInfo/callerID/');\n</code></pre>\n\n<p>What can I do to make my loop work?</p>\n\n<p>So that you can see what I am receiving from the server I have included the response from the SOAP Server using DUMP :</p>\n\n<pre><code>$VAR1 = { 'ShoreTelCallStateInfo' =&gt; [ \n            { 'callStateDetail' =&gt; 'Active', \n              'callState' =&gt; 'OnHold', \n              'callInfo' =&gt; \n                { 'callerIDName' =&gt; 'Joel LASTNAME', \n                  'callID' =&gt; '69105', 'lineID' =&gt; '3947', \n                  'connectedIDName' =&gt; 'VM-Forward', \n                  'calledID' =&gt; '2105', \n                  'callerID' =&gt; '1955', \n                  'isInbound' =&gt; 'false', \n                  'calledIDName' =&gt; 'VM-Forward', \n                  'callReason' =&gt; 'None', \n                  'callUniqueID' =&gt; '1369702515', \n                  'connectedID' =&gt; '2105', \n                  'isExternal' =&gt; 'false', \n                  'callGUID' =&gt; '{00030000-66C2-537E-3FD8-0010492377D9}' \n                 } \n            }, \n            { 'callStateDetail' =&gt; 'Active', \n              'callState' =&gt; 'Connected', \n              'callInfo' =&gt; \n                { 'callerIDName' =&gt; 'LASTNAME Joel ', \n                  'callID' =&gt; '71649', \n                  'lineID' =&gt; '3947', \n                  'connectedIDName' =&gt; 'LASTNAME Joel ', \n                  'calledID' =&gt; '1955', \n                  'callerID' =&gt; '+1385#######', \n                  'isInbound' =&gt; 'true', \n                  'calledIDName' =&gt; 'Joel LASTNAME', \n                  'callReason' =&gt; 'None', \n                  'callUniqueID' =&gt; '1117287558', \n                  'connectedID' =&gt; '+1385#######', \n                  'isExternal' =&gt; 'true', \n                  'callGUID' =&gt; '{00030000-66C5-537E-3FD8-0010492377D9}' \n                } \n            } \n        ] \n        }; \n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427810432, "post_id": 29370235, "comment_id": 46921805, "body": "And I want to invent a knife that makes me a chicken curry sandwich. Perhaps you should just write regular code to do this job? Or provide a clearer description of what you need to do, and some test cases."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427810719, "post_id": 29370235, "comment_id": 46921972, "body": "You can use a lookahead assertion to check for the presence of a particular character, e.g. <code>(?=c)</code>"}, {"owner": {"reputation": 157, "user_id": 1686131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G7Nqp.png?s=128&g=1", "display_name": "Davi S Evangelista", "link": "https://stackoverflow.com/users/1686131/davi-s-evangelista"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427812627, "post_id": 29370235, "comment_id": 46923292, "body": "It would be a look behind of some sort, but I wasn&#39;t able to make it work as I need to evaluate what the group &lt;char&gt; matched..."}, {"owner": {"reputation": 157, "user_id": 1686131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G7Nqp.png?s=128&g=1", "display_name": "Davi S Evangelista", "link": "https://stackoverflow.com/users/1686131/davi-s-evangelista"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427812930, "post_id": 29370235, "comment_id": 46923508, "body": "I&#39;m using this concept in a much more complicated script. This is the simplest example I could come up to describe my problem... The script already works, but sometimes I need to check if I&#39;ve matched the first character somewhat like in the example and in these cases the RE fails to behave as it should..."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 1686131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G7Nqp.png?s=128&g=1", "display_name": "Davi S Evangelista", "link": "https://stackoverflow.com/users/1686131/davi-s-evangelista"}, "edited": false, "score": 0, "creation_date": 1427812546, "post_id": 29370655, "comment_id": 46923233, "body": "I don&#39;t want to change the result, I want to check if the group is equal to a given character using the conditional. I know (?(&lt;char&gt;)RE) works, but matching alone is not the condition, I want something like if(char==&#39;c&#39;) ..."}, {"owner": {"reputation": 157, "user_id": 1686131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G7Nqp.png?s=128&g=1", "display_name": "Davi S Evangelista", "link": "https://stackoverflow.com/users/1686131/davi-s-evangelista"}, "edited": false, "score": 0, "creation_date": 1427815556, "post_id": 29370655, "comment_id": 46925411, "body": "sorry, I don&#39;t know how to get the syntax right... In my example, how can I embed the if statement and where do $+{char} goes?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 157, "user_id": 1686131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G7Nqp.png?s=128&g=1", "display_name": "Davi S Evangelista", "link": "https://stackoverflow.com/users/1686131/davi-s-evangelista"}, "edited": false, "score": 0, "creation_date": 1427815915, "post_id": 29370655, "comment_id": 46925667, "body": "@dse: I don&#39;t understand what you want to do, so I can&#39;t help you more."}, {"owner": {"reputation": 157, "user_id": 1686131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G7Nqp.png?s=128&g=1", "display_name": "Davi S Evangelista", "link": "https://stackoverflow.com/users/1686131/davi-s-evangelista"}, "edited": false, "score": 0, "creation_date": 1427816977, "post_id": 29370655, "comment_id": 46926367, "body": "Actually, after some search and your advice, I ended up getting where I wanted with this: (echo qwert; echo base; echo case;) | perl -ne &#39;print if /^ *(?&lt;char&gt;[^*\\/#&quot; ])(?(?{$+{char} eq c})ase|_x_x_x_)/&#39;"}, {"owner": {"reputation": 157, "user_id": 1686131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G7Nqp.png?s=128&g=1", "display_name": "Davi S Evangelista", "link": "https://stackoverflow.com/users/1686131/davi-s-evangelista"}, "edited": false, "score": 0, "creation_date": 1427817115, "post_id": 29370655, "comment_id": 46926466, "body": "If you run the command, you will see that it only matches &#39;case&#39; and leaves &#39;qwert&#39; and &#39;base&#39; out. I also had to add an else statement that is never true... Anyway, I don&#39;t know if I succeeded in explaining what I wanted, but anyway you advice helped a lot!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1427811049, "creation_date": 1427811049, "answer_id": 29370655, "question_id": 29370235, "link": "https://stackoverflow.com/questions/29370235/perl-regex-conditional-named-group-inside-embedded-code/29370655#29370655", "title": "Perl Regex Conditional: named group inside embedded code", "body": "<p>You can't use <code>(?{ code })</code> to change the result of matching, as it's never false (<a href=\"http://p3rl.org/perlre\" rel=\"nofollow\">perlre</a>):</p>\n\n<blockquote>\n  <p>This zero-width assertion evaluates any embedded Perl code. It always succeeds, and [...]</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 1686131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G7Nqp.png?s=128&g=1", "display_name": "Davi S Evangelista", "link": "https://stackoverflow.com/users/1686131/davi-s-evangelista"}, "is_accepted": true, "score": 0, "last_activity_date": 1427817324, "creation_date": 1427817324, "answer_id": 29373004, "question_id": 29370235, "link": "https://stackoverflow.com/questions/29370235/perl-regex-conditional-named-group-inside-embedded-code/29373004#29373004", "title": "Perl Regex Conditional: named group inside embedded code", "body": "<p>Well, the if-then-else statement I wanted to embed is shown bellow.</p>\n\n<pre><code>(echo qwert; echo base; echo case;) | perl -ne 'print if /^ *(?&lt;char&gt;[^*\\/#\" ])(?(?{$+{char} eq c})ase|_x_x_x_)/'\n</code></pre>\n\n<p>This command matches only the word <strong>case</strong> and leaves <strong>qwert</strong> and <strong>base</strong> out.</p>\n\n<p>I also had to add an else statement that never matches and voil\u00e0, I was able to evaluate the content of the named group <em>char</em> as intended.</p>\n"}], "owner": {"reputation": 157, "user_id": 1686131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G7Nqp.png?s=128&g=1", "display_name": "Davi S Evangelista", "link": "https://stackoverflow.com/users/1686131/davi-s-evangelista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 29373004, "answer_count": 2, "score": 0, "last_activity_date": 1427817324, "creation_date": 1427809976, "last_edit_date": 1427813154, "question_id": 29370235, "link": "https://stackoverflow.com/questions/29370235/perl-regex-conditional-named-group-inside-embedded-code", "title": "Perl Regex Conditional: named group inside embedded code", "body": "<p>I'm a beginner in Perl, but I do know my way around regex.</p>\n\n<p>Right now I'm stuck with a problem because I don't know the syntax I should use to do what I want in Perl.</p>\n\n<p>In the RE I'm crafting, I need to name a group (composed of only one character) and then use it inside an embedded code to see if the character is equal to 'a', for example, and if it is the if-statement should be used to match what I want...</p>\n\n<p>I thought the syntax would be something like this:</p>\n\n<pre><code>(echo base; echo case;) | perl -ne 'print if /^ *(?&lt;char&gt;[^*\\/#\" ])(?(?{&lt;char&gt; eq c})ase)/'\n</code></pre>\n\n<p>In this example, I want to match the string <strong>case</strong>, but it matches any character followed by <strong>ase</strong> (like <strong>base</strong>, in the example). That is really frustrating...</p>\n\n<p>Can anyone with more experience in Perl show me the proper way to get this conditional right?</p>\n\n<p>Thanks a lot!</p>\n\n<p><strong>EDIT:</strong> In the example, I want to evaluate the group <em>char</em>. It should only match the lines that have <em>char</em> == 'c' and if that is true then 'ase' will be used as the IF-statement in the conditional, therefore matching case, but not base...</p>\n"}, {"tags": ["perl", "winapi"], "comments": [{"owner": {"reputation": 6288, "user_id": 1455631, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9b8e88a8dbed8a574ed79d075c3f924?s=128&d=identicon&r=PG", "display_name": "Medinoc", "link": "https://stackoverflow.com/users/1455631/medinoc"}, "edited": false, "score": 0, "creation_date": 1427809878, "post_id": 29370019, "comment_id": 46921472, "body": "For starters, <code>bool</code> and <code>BOOL</code> aren&#39;t the same type. Then, personally I&#39;d use functions with a C interface for crossing DLL boundaries."}, {"owner": {"reputation": 235, "user_id": 427373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dfe6963ff4bf2d6eaa993f58d3c07f?s=128&d=identicon&r=PG", "display_name": "ezequielc", "link": "https://stackoverflow.com/users/427373/ezequielc"}, "reply_to_user": {"reputation": 6288, "user_id": 1455631, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9b8e88a8dbed8a574ed79d075c3f924?s=128&d=identicon&r=PG", "display_name": "Medinoc", "link": "https://stackoverflow.com/users/1455631/medinoc"}, "edited": false, "score": 0, "creation_date": 1427810112, "post_id": 29370019, "comment_id": 46921614, "body": "@Medinoc If I use <code>bool</code>, I get &quot;WARNING unknown output parameter&quot;."}, {"owner": {"reputation": 6288, "user_id": 1455631, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9b8e88a8dbed8a574ed79d075c3f924?s=128&d=identicon&r=PG", "display_name": "Medinoc", "link": "https://stackoverflow.com/users/1455631/medinoc"}, "edited": false, "score": 0, "creation_date": 1427810162, "post_id": 29370019, "comment_id": 46921639, "body": "Ah, sorry. Then you should use <code>int</code>, since the WinAPI <code>BOOL</code> is a typedef to it."}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 427373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dfe6963ff4bf2d6eaa993f58d3c07f?s=128&d=identicon&r=PG", "display_name": "ezequielc", "link": "https://stackoverflow.com/users/427373/ezequielc"}, "edited": false, "score": 0, "creation_date": 1427811342, "post_id": 29370508, "comment_id": 46922389, "body": "Ok, so I should import as <code>... BOOL *xhome,BOOL *yhome...</code> and call by <code>func(\\$myvar)</code>?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1427817540, "last_edit_date": 1427817540, "creation_date": 1427810685, "answer_id": 29370508, "question_id": 29370019, "link": "https://stackoverflow.com/questions/29370019/how-to-call-dll-function-using-parameter/29370508#29370508", "title": "How to call DLL function using &quot;&amp;&quot; parameter?", "body": "<p>A reference is really just a pointer the compiler doesn't allow you to change. Pass a pointer to a memory large enough to hold a <code>bool</code>.</p>\n\n<hr>\n\n<p>Win32::API's pointer magic has gotten in my way before. I just avoid it entirely unless I'm passing in a <code>LPCSTR</code>.</p>\n\n<p>The steps needed are:</p>\n\n<ul>\n<li>Allocate enough memory.</li>\n<li>Initialize it if needed.</li>\n<li>Obtain the pointer to that memory block.</li>\n<li>Tell Win32::API the library expects a <code>LONG</code> to pass the pointer as-is.</li>\n</ul>\n\n<p>&#x20;</p>\n\n<pre><code># Value to pass in.\nmy $xhome = 0;\n\n# Allocate (and initialize) memory.\nmy $packed_xhome = pack('C', $xhome);\n\n# Pointer to the string buffer of $packed_home as a number.\nmy $packed_xhome_ptr = unpack('L', pack('P', $packed_xhome));\n</code></pre>\n\n<p>You can use the following to verify that the pointer is correct:</p>\n\n<pre><code>use Devel::Peek qw( Dump );\nDump($packed_xhome);                  # PV = 0x1239de0 \"\\0\"\\0\nprintf(\"0x%x\\n\", $packed_xhome_ptr);  # 0x1239de0\n</code></pre>\n\n<p>Once the function is called, you can use the following to get the modified value.</p>\n\n<pre><code>my $xhome = unpack('C', $packed_xhome);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 235, "user_id": 427373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dfe6963ff4bf2d6eaa993f58d3c07f?s=128&d=identicon&r=PG", "display_name": "ezequielc", "link": "https://stackoverflow.com/users/427373/ezequielc"}, "is_accepted": false, "score": 0, "last_activity_date": 1427822394, "creation_date": 1427822394, "answer_id": 29374621, "question_id": 29370019, "link": "https://stackoverflow.com/questions/29370019/how-to-call-dll-function-using-parameter/29374621#29374621", "title": "How to call DLL function using &quot;&amp;&quot; parameter?", "body": "<p>My working code is actually a bit different from @ikegami's answer. I changed the '&amp;' to '*' in the import and unpacked the variable right away:</p>\n\n<pre><code>Win32::API-&gt;Import('CSCInterface.dll', 'void __stdcall GetStepMotorHomeStatus(BOOL *xhome,BOOL *yhome,BOOL *zhome,BOOL *rhome);');\n\n\nmy $xhome = 0;\n...\nGetStepMotorHomeStatus($xhome,$yhome,$zhome,$rhome);\n\n$xhome = unpack('C', $xhome);\n...\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 427373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dfe6963ff4bf2d6eaa993f58d3c07f?s=128&d=identicon&r=PG", "display_name": "ezequielc", "link": "https://stackoverflow.com/users/427373/ezequielc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 1, "accepted_answer_id": 29370508, "answer_count": 2, "score": 0, "last_activity_date": 1427822394, "creation_date": 1427808994, "question_id": 29370019, "link": "https://stackoverflow.com/questions/29370019/how-to-call-dll-function-using-parameter", "title": "How to call DLL function using &quot;&amp;&quot; parameter?", "body": "<p>I am using Win32::API for perl and I am trying to call a function declared as following in my header file:</p>\n\n<pre><code>void __stdcall GetStepMotorHomeStatus(bool &amp;xhome,bool &amp;yhome,bool &amp;zhome,bool &amp;rhome);\n</code></pre>\n\n<p>If I import it as is:</p>\n\n<pre><code>Win32::API-&gt;Import('CSCInterface.dll', 'void __stdcall GetStepMotorHomeStatus(BOOL &amp;xhome,BOOL &amp;yhome,BOOL &amp;zhome,BOOL &amp;rhome);');\n</code></pre>\n\n<p>I get an error: <strong>\"Win32::API::parse_prototype: bad prototype\"</strong>.</p>\n\n<p>How can I import and pass the params?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["arrays", "perl", "design-patterns", "matching"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1427804395, "post_id": 29368334, "comment_id": 46918775, "body": "You change $Expo for every line in DATEI. Only the last value is preserved when the loop ends."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1427805687, "post_id": 29368334, "comment_id": 46919420, "body": "yes, you&#39;re resetting $Expo every time through the loop. use the concatenate operator <code>.=</code> instead of <code>=</code>. although... I think you still have problems after that."}, {"owner": {"reputation": 1, "user_id": 4733781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6162804b952febee3825bd8e3881ce?s=128&d=identicon&r=PG&f=1", "display_name": "0carina", "link": "https://stackoverflow.com/users/4733781/0carina"}, "edited": false, "score": 0, "creation_date": 1427805840, "post_id": 29368334, "comment_id": 46919506, "body": "Fixed that already, Thanks. But the Problem is somewhere else in the logic probly. I doubt I can use !~ here :D"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1427805888, "creation_date": 1427805888, "answer_id": 29368996, "question_id": 29368334, "link": "https://stackoverflow.com/questions/29368334/comparing-arrays-to-find-the-difference-filehandling-in-perl/29368996#29368996", "title": "Comparing Arrays to find the difference [Filehandling in Perl]", "body": "<p>The root of your problem is this line:</p>\n\n<pre><code>$Expo = $Export . $_;\n</code></pre>\n\n<p>You're concatenating all your filenames into a single scalar, which isn't going to work very well. Because you'll only ever have the last one there... and especially if <code>$Export</code> is a directory, that you're trying to open as a file. </p>\n\n<p>Can I suggest instead using <code>File::Find</code>? A bit like this:</p>\n\n<pre><code>#!C:\\Strawberry\\perl\\bin\\perl.exe\n\n#Pragmas\nuse strict;\nuse warnings;\n\nmy %files_in_dir;\nmy %files_in_export;\n\nmy $dir_name    = '/path/to/dir';\nmy $export_name = 'filename_here';\n\nsub find_files {\n    if (-f) {\n        $files_in_dir{$_} = $File::Find::name;\n    }\n}\n\nfind( \\&amp;find_files, $dir_name );\n\n#Open Export File\nopen( my $datei, \"&lt;\", \"$export_name\" ) or die $!;\nwhile ( my $filename = &lt;$datei&gt; ) {\n    chomp($filename);\n    if ( $files_in_dir{$filename} ) {\n        print \"$filename in $files_in_dir{$filename}\\n\";\n    }\n    else {\n        print \"No $filename found\\n\";\n    }\n}\nclose($datei);\n</code></pre>\n\n<p>I would also suggest:</p>\n\n<ul>\n<li>use 3 argument open, with lexical vars. </li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1427844710, "last_edit_date": 1427844710, "creation_date": 1427807294, "answer_id": 29369455, "question_id": 29368334, "link": "https://stackoverflow.com/questions/29368334/comparing-arrays-to-find-the-difference-filehandling-in-perl/29369455#29369455", "title": "Comparing Arrays to find the difference [Filehandling in Perl]", "body": "<p>create a hash index of the successfully exported files (assuming all files are in one directory, and the full paths are not important):</p>\n\n<pre><code>my $dir = 'some/dir';\nopendir my $dh, $dir;\nmy @files = readdir $dh;   \nmy %index;\n$index{$_} = 1 foreach @files;\n</code></pre>\n\n<p>now iterate though the \"protocol\" file and capture the exported filename on each line. use that filename to see if it exists as a key in the hash you created earlier.</p>\n\n<pre><code># open your protocol file, then...\nwhile (&lt;$protocol_fh&gt;) {\n    my $exported = $1 if $_ =~ /([^\\/]+\\.xml)/;\n    print \"$exported was not found in $dir\\n\" if ! $index{$exported};\n}\n</code></pre>\n\n<p>Note that you will have to test that regex to capture the filename from the protocol file, as I have not tested it.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4733781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6162804b952febee3825bd8e3881ce?s=128&d=identicon&r=PG&f=1", "display_name": "0carina", "link": "https://stackoverflow.com/users/4733781/0carina"}, "is_accepted": false, "score": 0, "last_activity_date": 1427962852, "creation_date": 1427962852, "answer_id": 29408224, "question_id": 29368334, "link": "https://stackoverflow.com/questions/29368334/comparing-arrays-to-find-the-difference-filehandling-in-perl/29408224#29408224", "title": "Comparing Arrays to find the difference [Filehandling in Perl]", "body": "<pre><code>#Pragmas\nuse strict;\nuse warnings;\n\n#Variablen\nmy $dir_name ='PathToDir';\nmy $export_name ='File.txt';\n\nmy $re1 = '.*?';\nmy $re2 = '((?:[a-z][a-z\\\\.\\\\d_]+)\\\\.(?:[a-z\\\\d]{3}))(?![\\\\w\\\\.])';\nmy @array1;\nmy @array2;\nmy $fqdn1;\nmy @diff;\nmy @isect;\nmy $item;\nmy %count;\n\n#Open Report\nopen( my $fh, '&lt;', $export_name )\n  or die \"Could not open file '$export_name' $!\";\n\n    while ( my $row = &lt;$fh&gt; ) {\n    chomp $row;\n    my $re = $re1 . $re2;\n    if ( $row =~ m/$re/is ) {\n        $fqdn1 = $1;\n\n        if ( $fqdn1 =~ m/xml/ ) {\n            push( @array1, $fqdn1 );\n        }\n    }\n\n}\nclose($fh);\n\n#Open Directory\nopendir DIR, $dir_name;\n@array2 = grep !/^\\.\\.?$/, readdir(DIR);\nclose(DIR);\n\n#Searching the difference\n@isect = ();\n@diff  = ();\n%count = ();\n\nforeach $item ( @array1, @array2 ) { $count{$item}++; }\n\nforeach $item ( keys %count ) {\n    if ( $count{$item} == 2 ) {\n        push @isect, $item;\n    }\n    else {\n        push @diff, $item;\n    }\n}\n\n#Output\nprint \"Missing Filenames = @diff\\n\\n\";\n\n# print \"\\nA Array = @array1\\n\";\n# print \"\\nB Array = @array2\\n\";\n# print \"\\nIntersect Array = @isect\\n\";\n</code></pre>\n\n<p>I solved it. Thanks to everyone.</p>\n"}], "owner": {"reputation": 1, "user_id": 4733781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6162804b952febee3825bd8e3881ce?s=128&d=identicon&r=PG&f=1", "display_name": "0carina", "link": "https://stackoverflow.com/users/4733781/0carina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1427968015, "creation_date": 1427803789, "last_edit_date": 1427968015, "question_id": 29368334, "link": "https://stackoverflow.com/questions/29368334/comparing-arrays-to-find-the-difference-filehandling-in-perl", "title": "Comparing Arrays to find the difference [Filehandling in Perl]", "body": "<p>I exported some Files and after the Export there are actually 2 Files missing.\nIn the Report is written that I exported 260 Files but I only got 258.</p>\n\n<p>Now I want to check which File is missing. So I decided to try it with a Perl Script, even tho im pretty new to this.</p>\n\n<p>The Export Protocol Looks like this...</p>\n\n<blockquote>\n  <p>DATEDATEDATE - USER EXPORT, counter '0000000001': Object:\n  'FILENAME' got exported. DATEDATEDATE- USER EXPORT.\n  File: 'D:\\Work\\Export_Import\\Export\\FILENAME.xml' exported. </p>\n</blockquote>\n\n<p>The only important Thing is the Filename :]</p>\n\n<p>Thank you!</p>\n\n<p>Edit: Solved it. Scroll down :]</p>\n"}, {"tags": ["perl", "command", "system", "wildcard"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1427803554, "post_id": 29368187, "comment_id": 46918377, "body": "The line you show should just work."}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 0, "creation_date": 1427804391, "post_id": 29368187, "comment_id": 46918773, "body": "Do you get some error when you try that or is there some other problem? Note that single quotes often are a better idea if your script has a bunch of special characters as double quotes mean the string gets interpolated by perl before being passed on."}, {"owner": {"reputation": 191, "user_id": 4209224, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-9sjGRVqygXE/AAAAAAAAAAI/AAAAAAAAAEY/EQF8KJp34qw/photo.jpg?sz=128", "display_name": "Anurag Saran", "link": "https://stackoverflow.com/users/4209224/anurag-saran"}, "reply_to_user": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 0, "creation_date": 1428491246, "post_id": 29368187, "comment_id": 47181538, "body": "@DeVadder edited the question to include relevant details."}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 0, "creation_date": 1428573344, "post_id": 29368187, "comment_id": 47223233, "body": "@AnuragSaran That output is consistent with the perl working as expected. Are you sure there actually are those files? Maybe you meant to use <code>~&#47;test&#47;*.src</code> (a test folder in your home instead of the home folder of some user called test)? Quite obviously however, the path and wildcard character did get to the sed command as the error message shows. So if anything, you have a problem with sed here, not Perl."}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 4209224, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-9sjGRVqygXE/AAAAAAAAAAI/AAAAAAAAAEY/EQF8KJp34qw/photo.jpg?sz=128", "display_name": "Anurag Saran", "link": "https://stackoverflow.com/users/4209224/anurag-saran"}, "edited": false, "score": 0, "creation_date": 1435840489, "post_id": 31165282, "comment_id": 50374809, "body": "It would be great if you could add a little detail/explanation"}], "tags": [], "owner": {"reputation": 111, "user_id": 4763550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ed2e6c08b94da2c2b21a807890822b?s=128&d=identicon&r=PG&f=1", "display_name": "user4763550", "link": "https://stackoverflow.com/users/4763550/user4763550"}, "is_accepted": true, "score": 1, "last_activity_date": 1435763657, "creation_date": 1435763657, "answer_id": 31165282, "question_id": 29368187, "link": "https://stackoverflow.com/questions/29368187/using-wildcard-characters-while-running-system-command-in-perl-script/31165282#31165282", "title": "Using wildcard characters while running system command in Perl Script", "body": "<p>Try to chomp the variable <code>$baseDirPath</code> before using it, As the line you have written should just work.</p>\n"}], "owner": {"reputation": 191, "user_id": 4209224, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-9sjGRVqygXE/AAAAAAAAAAI/AAAAAAAAAEY/EQF8KJp34qw/photo.jpg?sz=128", "display_name": "Anurag Saran", "link": "https://stackoverflow.com/users/4209224/anurag-saran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 1, "accepted_answer_id": 31165282, "answer_count": 1, "score": 0, "last_activity_date": 1435763657, "creation_date": 1427803315, "last_edit_date": 1427860291, "question_id": 29368187, "link": "https://stackoverflow.com/questions/29368187/using-wildcard-characters-while-running-system-command-in-perl-script", "title": "Using wildcard characters while running system command in Perl Script", "body": "<p>How can we use wildcard characters while running system command in Perl Script.\nFor example using *.src to edit a file with sed  - something like : </p>\n\n<pre><code>system(\"sed -i -e 's/foo/bar/g'  $baseDirPath/*.src\");\n</code></pre>\n\n<p>It gives an error: <code>sed: can't read /home/test/*.src: Not a Directory</code></p>\n\n<p>Here,  $baseDirPath is initialized to /home/test</p>\n"}, {"tags": ["c++", "regex", "perl", "replace", "substitution"], "answers": [{"tags": [], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "is_accepted": true, "score": 0, "last_activity_date": 1428594027, "creation_date": 1428594027, "answer_id": 29543025, "question_id": 29367546, "link": "https://stackoverflow.com/questions/29367546/is-there-a-variant-of-regex-replace-that-supports-inline-code/29543025#29543025", "title": "Is There a Variant of regex_replace that Supports Inline Code?", "body": "<p><a href=\"http://www.cplusplus.com/reference/regex/regex_replace/\" rel=\"nofollow\"><code>regex_replace</code></a> has 6 different overloads. The <code>fmt</code> argument is used the same way for each of them:</p>\n\n<blockquote>\n  <p>A string with the replacement for each match.\n  This may include format specifiers and escape sequences that are replaced by the characters they represent.</p>\n</blockquote>\n\n<p>Each of the 6 overloads also sport a <code>flags</code> argument which is used to control, \"how <code>fmt</code> is formatted.\" The <code>fmt</code> related options are:</p>\n\n<ul>\n<li><code>format_default</code>: Default formatting<br>\nUses the standard formatting rules to replace matches (those used by ECMAScript's replace method).</li>\n<li><code>format_sed</code> sed formatting<br>\nUses the same rules as the sed utility in POSIX to replace matches.</li>\n<li><code>format_no_copy</code> No copy<br>\nThe sections in the target sequence that do not match the regular expression are not copied when replacing matches.</li>\n<li><code>format_first_only</code> First only<br>\nOnly the first occurrence of a regular expression is replaced.</li>\n</ul>\n\n<p>Note that none of the <code>fmt</code> overloads, nor the <code>flags</code> support in-line code. So the answer is: <strong>No, there is no variant of <code>regex_replace</code> that supports in-line code.</strong></p>\n\n<hr>\n\n<p>However if you were willing to use a STD algorithm in conjunction with <a href=\"http://www.cplusplus.com/reference/regex/regex_iterator/\" rel=\"nofollow\"><code>regex_iterator</code></a>, you could use a lambda to accomplish in-line code.</p>\n\n<pre><code>const string foo(\"StackOverflow user: Jonathan Mee\");\nvector&lt;string&gt; bar;\n\ntransform(regex_iterator&lt;string::const_iterator&gt;(foo.cbegin(), foo.cend(), regex(\".*:\\\\s*(.*)\")),\n          regex_iterator&lt;string::const_iterator&gt;(),\n          back_inserter(bar),\n          [](const smatch&amp; i){auto result = i.str();\n\n                              if (!result.empty()){\n                                  result += (i.str(1) == \"Jonathan Mee\" ? \" is AWESOME!\" : \" is ???\");\n                              }\n                              return result;});\n</code></pre>\n\n<p>As you can see a lambda is usable in the <code>transform</code> taking in the current <code>regex_iterator</code>'s <code>smatch</code>. This is very extensible to multi-line strings, in the example of <code>string foo(\"StackOverflow user: Jonathan Mee\\nStackOverflow user: user0\");</code> the output would be:</p>\n\n<blockquote>\n  <p>StackOverflow user: Jonathan Mee is AWESOME!<br>\n  StackOverflow user: user0 is ???</p>\n</blockquote>\n\n<p>Clearly there are some trade-offs working with just an <code>smatch</code> versus <code>regex_replace</code>. Where <code>str(1)</code> falls within <code>str()</code> is not specified. Here I take advantage of the fact that it is right at the end of <code>foo</code> rather than somewhere that has to be found in the middle of <code>foo</code>. But it should be mentioned that the same difficulty befalls Perl's <code>e</code>-modifier, so I think this is pretty much on par.</p>\n"}], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 29543025, "answer_count": 1, "score": 0, "last_activity_date": 1428594027, "creation_date": 1427801151, "last_edit_date": 1427907993, "question_id": 29367546, "link": "https://stackoverflow.com/questions/29367546/is-there-a-variant-of-regex-replace-that-supports-inline-code", "title": "Is There a Variant of regex_replace that Supports Inline Code?", "body": "<p>Perl has the <code>e</code> regex modifier which allows Perl code rather than just a string to formulate the replacement: <a href=\"http://perldoc.perl.org/perlretut.html#Search-and-replace\" rel=\"nofollow\">http://perldoc.perl.org/perlretut.html#Search-and-replace</a> Though that example is not the greatest as there are switches to accomplish this. For those of you who understand Perl here's an example that makes more sense:</p>\n\n<pre><code>$string = \"StackOverflow user: Jonathan Mee\";\n\n$string =~ s/:\\s*(.*)$/$1 == \"Jonathan Mee\" ? \": \".$1.\" is AWESOME!\" : \": \".$1.\" is ???\"/e;\n\nprint $string; #Will print \"StackOverflow user: Jonathan Mee is AWESOME!\"\n</code></pre>\n\n<p>Is there a <code>regex_replace</code> variant in C++ that will allow me to do something similar? As in code inline for the replacement.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427801799, "post_id": 29366951, "comment_id": 46917494, "body": "I&#39;m afraid &quot;Not sure how to proceed&quot; means your question is probably a bit too broad for Stack Overflow. If you&#39;ve a specific thing you&#39;re having problems with, then it can be meaningfully answered."}, {"owner": {"reputation": 383, "user_id": 4154643, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HA347.png?s=128&g=1", "display_name": "Kabachok", "link": "https://stackoverflow.com/users/4154643/kabachok"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427802042, "post_id": 29366951, "comment_id": 46917610, "body": "@Sobique Thank you for the remark. I was hoping that somebody could find a flaw in the logic and send me the right direction."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 4154643, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HA347.png?s=128&g=1", "display_name": "Kabachok", "link": "https://stackoverflow.com/users/4154643/kabachok"}, "edited": false, "score": 0, "creation_date": 1427803101, "post_id": 29367854, "comment_id": 46918139, "body": "Thank  you, Sobrique! I will try the Email::Simple module."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1427802247, "creation_date": 1427802247, "answer_id": 29367854, "question_id": 29366951, "link": "https://stackoverflow.com/questions/29366951/creating-a-simple-filter-in-perl/29367854#29367854", "title": "Creating a simple filter in perl", "body": "<p>I would suggest your first port of call here, is actually parsing mail headers. </p>\n\n<p>Email has a defined format, that basically says that the first line of an email are headers of the form <code>Headername: header_value\\n</code>. End of headers is marked by <code>\\n\\n</code>. (e.g. two line feeds) which is how you know you're in the 'body' section.</p>\n\n<p>Your samples don't show this though - are you sure that's what you've got to work with?</p>\n\n<p>Anyway - emails also <em>end</em> with a blank line. Unfortunately there's no easy way to differentiate someone typing <code>From: me</code> in their email, from it being a header - email is pure plain text. </p>\n\n<p>I would suggest starting with a module to do this for you. <a href=\"http://search.cpan.org/~rjbs/Email-Simple-2.206/lib/Email/Simple.pm\" rel=\"nofollow\"><code>Email::Simple</code></a>  looks promising. </p>\n\n<p>Failing that - you can use split per header line, and a delimiter of <code>:</code>.</p>\n\n<pre><code>my %headers; \nwhile ( &lt;$input&gt; ) {\n    if ( m/\\w+\\:/ ) { \n        my ( $header, $value ) = split ( /:/ );\n        $headers{$header} = $value;\n    }\n}\n</code></pre>\n\n<p>But if you do this, you can supply an argument like: <code>From=janet</code> and have it regular expression match your <code>From</code> field. </p>\n"}], "owner": {"reputation": 383, "user_id": 4154643, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HA347.png?s=128&g=1", "display_name": "Kabachok", "link": "https://stackoverflow.com/users/4154643/kabachok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427802247, "creation_date": 1427799215, "last_edit_date": 1427801947, "question_id": 29366951, "link": "https://stackoverflow.com/questions/29366951/creating-a-simple-filter-in-perl", "title": "Creating a simple filter in perl", "body": "<p>I have a file that contains a bunch of email and looks something like this:</p>\n\n<pre><code>From: tommy@gmail.com \nDate: 10 Nov 2014 09:19:59 +0100 (MET)\nTo: jonny@jonrocks.com\nSubject: Let's go have a beer\nHey Jonny, let's have a drink tonight. See ya, Tommy\n\n\nFrom: alice@gmail.com \nDate: 11 Dec 2014 19:16:49 +0100 (MET)\nTo: martha@hotmail.com\nSubject: Meeting \nDear Martha,\nNote that our Monday meeting will take place at 10:00 instead of 13:00.\nBest regards,\nAlice\n</code></pre>\n\n<p>etc</p>\n\n<p>I am writing a perl script allowing the user to give inputs from the header and returning him a message.<br>\nfor example, the user might type <code>from alice subject meeting</code> and would get the email.</p>\n\n<p>So far I have this code I am not sure how to proceed</p>\n\n<pre><code>    open(IN, \"&lt;emails.txt\") or die \"Can't open the file\";\n    print \"Enter the search elements from the header:\\n\";\n    chomp($input=&lt;STDIN&gt;);\n    # example input from alice subject meeting\n\n    ($from, $who, $where, $what)=split/ /, $input;\n\n\nwhile (&lt;IN&gt;)\n{\n   if( /$from(.)+$who/i ){\n    while (&lt;IN&gt;){\n          if(/$where(.)+$what/i){\n            while ($line = &lt;IN&gt;){\n                print $line;\n            }\n          }\n\n        }  \n\n   }\n}  \n</code></pre>\n"}, {"tags": ["linux", "perl", "ssh", "ibm-midrange"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1427798121, "post_id": 29366559, "comment_id": 46915669, "body": "Better to show us code."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1427798457, "post_id": 29366559, "comment_id": 46915864, "body": "you need to show the perl code so we can understand the problem."}, {"owner": {"reputation": 1, "user_id": 3945116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f87d89f349a9b62a98049f4b718a241a?s=128&d=identicon&r=PG&f=1", "display_name": "Teknologist", "link": "https://stackoverflow.com/users/3945116/teknologist"}, "edited": false, "score": 1, "creation_date": 1427801006, "post_id": 29366559, "comment_id": 46917137, "body": "Its not really a perl issue, I am actually running this code from a Control Language program on an AS400. I am using QSHELL on the AS400 to invoke a perl script on a Linux machine. The code looks like this: QSH CMD(&#39;ssh user@linuxserv /home/user/myscript.pl &quot;value1 value2 value3&quot;&#39;)"}], "answers": [{"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": -1, "last_activity_date": 1427799282, "creation_date": 1427799282, "answer_id": 29366975, "question_id": 29366559, "link": "https://stackoverflow.com/questions/29366559/passing-a-script-and-string-over-ssh/29366975#29366975", "title": "Passing a script and string over SSH", "body": "<p>Usually easier to pass larger values like that as <code>STDIN</code> into the remote script. That way it won't get eaten or mangled by commandline parsers or shells along the way.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3945116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f87d89f349a9b62a98049f4b718a241a?s=128&d=identicon&r=PG&f=1", "display_name": "Teknologist", "link": "https://stackoverflow.com/users/3945116/teknologist"}, "edited": false, "score": 0, "creation_date": 1427801181, "post_id": 29367284, "comment_id": 46917210, "body": "Thanks Petesh, I suspect you are spot on. I will give this a whirl and see what happens."}], "tags": [], "owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1427800273, "creation_date": 1427800273, "answer_id": 29367284, "question_id": 29366559, "link": "https://stackoverflow.com/questions/29366559/passing-a-script-and-string-over-ssh/29367284#29367284", "title": "Passing a script and string over SSH", "body": "<p>The problem is that the initial set of quotes is expanded by the shell that's being used to invoke the command, so what actually happens is:</p>\n\n<pre><code>ssh user@linux /home/user/script.pl \"value1 value2 value3\"\n</code></pre>\n\n<p>ends up as:</p>\n\n<pre><code>/home/user/script.pl value1 value2 value3\n</code></pre>\n\n<p>when run from the remote system.</p>\n\n<p>You need to escape the quotation marks so that it doesn't get parsed locally, before being interpreted on the remote side.</p>\n\n<p>To escape the quotation marks you can do:</p>\n\n<pre><code>ssh user@linux /home/user/script.pl \\\"value1 value2 value3\\\"\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3945116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f87d89f349a9b62a98049f4b718a241a?s=128&d=identicon&r=PG&f=1", "display_name": "Teknologist", "link": "https://stackoverflow.com/users/3945116/teknologist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427800273, "creation_date": 1427798032, "question_id": 29366559, "link": "https://stackoverflow.com/questions/29366559/passing-a-script-and-string-over-ssh", "title": "Passing a script and string over SSH", "body": "<p>I am trying to run a perl script with a string value over SSH but I can't get it to work. </p>\n\n<p>My script looks something like the following:</p>\n\n<p><strong>ssh user@linux /home/user/script.pl \"value1 value2 value3\"</strong> </p>\n\n<p>The script will execute but for some reason the only value that gets passed to it is value1 and not the whole string value. It think this is because the double quotes are getting dropped when it transmits over SSH?. </p>\n\n<p>Can anyone shed some light on this?. Cheers. </p>\n"}, {"tags": ["perl", "jenkins"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 3932272, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/04339db477ea7e9a3b606d61f9060e76?s=128&d=identicon&r=PG&f=1", "display_name": "sai", "link": "https://stackoverflow.com/users/3932272/sai"}, "edited": false, "score": 0, "creation_date": 1428000026, "post_id": 29376956, "comment_id": 47012006, "body": "Thank you @KeepCalmAndCarryOn. I tried this command ,  my $cmd = &#39;java -jar jenkins-cli.jar -s <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a> get-view simple&#39;;   system($cmd);    this works for all except for creating and updating views or jobs.. How to give xml file as STDIN through this command? Thanks in advance"}, {"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "reply_to_user": {"reputation": 300, "user_id": 3932272, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/04339db477ea7e9a3b606d61f9060e76?s=128&d=identicon&r=PG&f=1", "display_name": "sai", "link": "https://stackoverflow.com/users/3932272/sai"}, "edited": false, "score": 0, "creation_date": 1428013451, "post_id": 29376956, "comment_id": 47018412, "body": "Updated answer with an example to run a groovy command sent with SDTIN"}], "tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": false, "score": 0, "last_activity_date": 1531945121, "last_edit_date": 1531945121, "creation_date": 1427830273, "answer_id": 29376956, "question_id": 29365393, "link": "https://stackoverflow.com/questions/29365393/perl-script-for-creating-a-new-job-and-configuring-it-in-jenkins/29376956#29376956", "title": "Perl script for creating a new job and configuring it in Jenkins", "body": "<p>I would think you need to review the <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+CLI\" rel=\"nofollow noreferrer\">CLI documentation</a> for Jenkins.</p>\n\n<p>The CLI comes as standard with Jenkins and is available at this URL:</p>\n\n<pre><code>&lt;jenkins_url&gt;/cli/\n</code></pre>\n\n<blockquote>\n  <p>You can access various features in Jenkins through a command-line\n  tool. See the wiki for more details of this feature. To get started, download jenkins-cli.jar, and run it as follows:</p>\n\n<pre><code>java -jar jenkins-cli.jar -s http://localhost:8080/ help\n</code></pre>\n</blockquote>\n\n<p>Specifically you need to download the JAR file (from the link) and connect Perl to Jenkins using the <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a> command:</p>\n\n<pre><code> &lt;jenkins_url&gt;/cli/command/create-job\n</code></pre>\n\n<p>Which if you point a browser at it it will give you instructions.</p>\n\n<blockquote>\n  <p>java -jar jenkins-cli.jar -s <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">http://localhost:8080/</a> create-job NAME <br/>\n  Creates a new job by reading stdin as a configuration XML file.</p>\n\n<pre><code>NAME : Name of the job to create\n</code></pre>\n</blockquote>\n\n<p>Working example running a Groovy script</p>\n\n<pre><code>use strict; use warnings;\n\nmy $cmd = 'java -jar jenkins-cli.jar -s http://localhost:8080/jenkins groovy =';\n\nmy $groovy = \"\n['a','b','c'].each{\n  println it\n}\n\";\n\nopen F, \" |  $cmd\" || die \"cannot open pipe: $!\\n\";\n\nprint F $groovy;\nclose F;\n</code></pre>\n\n<p>The '=' waits for Groovy to be sent on STDIN. Which is sent with print.</p>\n\n<p>Closing the file (F) sends an EOF so the CLI will process the script.</p>\n\n<p>My Jenkins server is on <code>localhost:8080/jenkins</code>.</p>\n\n<p>Should you want more control, such as collecting the output, then you can use <code>|-</code> as described in <a href=\"http://perldoc.perl.org/perlipc.html#Bidirectional-Communication-with-Another-Process\" rel=\"nofollow noreferrer\">Bidirectional-Communication-with-Another-Process</a></p>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 3932272, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/04339db477ea7e9a3b606d61f9060e76?s=128&d=identicon&r=PG&f=1", "display_name": "sai", "link": "https://stackoverflow.com/users/3932272/sai"}, "is_accepted": false, "score": 0, "last_activity_date": 1531945164, "last_edit_date": 1531945164, "creation_date": 1428309563, "answer_id": 29467937, "question_id": 29365393, "link": "https://stackoverflow.com/questions/29365393/perl-script-for-creating-a-new-job-and-configuring-it-in-jenkins/29467937#29467937", "title": "Perl script for creating a new job and configuring it in Jenkins", "body": "<p>By using jenkins-CLI you can configure a new job. But for that you need to have an XML file. Without an XML file you cannot create a new job.</p>\n\n<p>Perl code to create a new job in Jenkins:</p>\n\n<p><code>\nsystem('java -jar jenkins-cli.jar -s <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">http://localhost:8080/</a> create-job job_name  &lt; \"path to xml file\"');\n</code></p>\n"}], "owner": {"reputation": 300, "user_id": 3932272, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/04339db477ea7e9a3b606d61f9060e76?s=128&d=identicon&r=PG&f=1", "display_name": "sai", "link": "https://stackoverflow.com/users/3932272/sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 816, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1531945164, "creation_date": 1427794747, "last_edit_date": 1531944969, "question_id": 29365393, "link": "https://stackoverflow.com/questions/29365393/perl-script-for-creating-a-new-job-and-configuring-it-in-jenkins", "title": "Perl script for creating a new job and configuring it in Jenkins", "body": "<p>I need a Perl script through which I can create a new job and configure it by giving parameters in the script.\nI have logged-in successfully in Jenkins through the script.\nHow do I consider the response from the login page and raise a new request to the server?</p>\n\n<p>Because by using</p>\n\n<pre><code>$request-&gt;url(\"$jenkins_url\"); # 1st time for login\n\n$request-&gt;url(\"$jenkins_url/view/All/newJob/\"); # 2nd time for new job\n$response = $browser-&gt;request($request);\n</code></pre>\n\n<p>multiple times (once in login and the second time for creating a new job) it gives a 404 error for the second time.</p>\n\n<p>Should I consider cookies? In such case, how should I?</p>\n"}, {"tags": ["java", "perl", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 1474594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e472393b49f60dd92b44f349d8929c?s=128&d=identicon&r=PG", "display_name": "user1474594", "link": "https://stackoverflow.com/users/1474594/user1474594"}, "edited": false, "score": 0, "creation_date": 1427828950, "post_id": 29365226, "comment_id": 46933531, "body": "Hi Ceiling Gecko,  Thanks for looking into this.  java object(&quot;driver&quot;) will open browser and will go to google.com page and then, can same object(&quot;driver&quot;) be used in perl so that it perform operations   further on browser that are part of function searchForCheese() mentioned by you. In other words, is there any way by which handle of browser can switch from java to perl?"}, {"owner": {"reputation": 2954, "user_id": 2693006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/mkr7T.png?s=128&g=1", "display_name": "Ceiling Gecko", "link": "https://stackoverflow.com/users/2693006/ceiling-gecko"}, "reply_to_user": {"reputation": 11, "user_id": 1474594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e472393b49f60dd92b44f349d8929c?s=128&d=identicon&r=PG", "display_name": "user1474594", "link": "https://stackoverflow.com/users/1474594/user1474594"}, "edited": false, "score": 0, "creation_date": 1427882588, "post_id": 29365226, "comment_id": 46953599, "body": "@user1474594 Edited in some additional things you might try. Changes to your original <code>googleTest()</code> method involve changing the return type from <code>void</code> to <code>WebDriver</code> and adding a line at the end of the method <code>return driver;</code> to return the &quot;driver&quot; object."}], "tags": [], "owner": {"reputation": 2954, "user_id": 2693006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/mkr7T.png?s=128&g=1", "display_name": "Ceiling Gecko", "link": "https://stackoverflow.com/users/2693006/ceiling-gecko"}, "is_accepted": false, "score": 1, "last_activity_date": 1427882362, "last_edit_date": 1427882362, "creation_date": 1427794273, "answer_id": 29365226, "question_id": 29365052, "link": "https://stackoverflow.com/questions/29365052/make-use-of-a-java-object-in-perl/29365226#29365226", "title": "Make use of a java object in Perl", "body": "<p>I'm assuming that if you bring the <code>WebDriver</code> variable outside of the <code>googleTest()</code> method (making it available for all methods in the class) then you can write other methods in <code>TestSelenium</code> that reference the same <code>WebDriver</code> which you can then call in perl.</p>\n\n<p>Modify <code>TestSelenium</code> to something like this:</p>\n\n<pre><code>public class TestSelenium {\n    private WebDriver driver = new InternetExplorerDriver();\n\n    public void googleTest() throws Exception {     \n       driver.get(\"http://www.google.com/webhp?complete=1&amp;hl=en\");\n    }\n\n    public void searchForCheese() throws Exception {\n       // Your actions here can still reference the driver\n    }\n}\n</code></pre>\n\n<p>And then after you call <code>$test= TestSelenium-&gt;new;</code></p>\n\n<p>Performing <code>$test-&gt;googleTest;</code> and <code>$test-&gt;searchForCheese;</code> should theoretically reference the same driver and in turn the same browser window.</p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>If you want to pass the <code>driver</code> object back to perl try something like this.</p>\n\n<p>Change the <code>googleTest()</code> java method to return the driver once it's done with the method (I will be using your original method but both should work):</p>\n\n<pre><code>public WebDriver googleTest() throws Exception {     \n   WebDriver driver = new InternetExplorerDriver();\n   driver.get(\"http://www.google.com/webhp?complete=1&amp;hl=en\");\n   return driver;\n}\n</code></pre>\n\n<p>And then I think you can hook onto the driver handle in perl via <code>$mydriver= $test-&gt;goggleTest;</code></p>\n\n<p>I assume you'll then be able to access the <code>WebDriver</code> hooks via <code>$mydriver</code></p>\n"}], "owner": {"reputation": 11, "user_id": 1474594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e472393b49f60dd92b44f349d8929c?s=128&d=identicon&r=PG", "display_name": "user1474594", "link": "https://stackoverflow.com/users/1474594/user1474594"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1427882362, "creation_date": 1427793768, "last_edit_date": 1427796368, "question_id": 29365052, "link": "https://stackoverflow.com/questions/29365052/make-use-of-a-java-object-in-perl", "title": "Make use of a java object in Perl", "body": "<p>Scenario :</p>\n\n<p>there is a java class as given below :</p>\n\n<pre><code>public class TestSelenium {\n    public void googleTest() throws Exception {     \n       WebDriver driver = new InternetExplorerDriver();\n       driver.get(\"http://www.google.com/webhp?complete=1&amp;hl=en\");\n    }\n}\n</code></pre>\n\n<p>There is a perl program which makes use of Inline::Java module to call the googleTest of java class written above. Perl program looks like.</p>\n\n<pre><code>use warnings;\nuse Selenium::Remote::Driver;\n\nuse Inline Java =&gt; 'STUDY',\n\nCLASSPATH =&gt; 'C:\\selenium\\selenium-java-2.37.0\\selenium-2.37.0\\libs\\selenium-java-2.37.0.jar;C:\\selenium\\SeleniumTestPoc\\bin\\MyJar.jar;C:\\selenium\\selenium-java-2.37.0\\selenium-2.37.0\\libs\\selenium-server-standalone-2.37.0.jar',\n\nSTUDY =&gt; ['TestSelenium'];\n\n$test= TestSelenium-&gt;new;\n\n$test-&gt;googleTest;\n</code></pre>\n\n<p>Now the above Perl code will open IExplorer and go to google.com page. In my Perl program further to $test->googleTest; I want to make use of same browser that was opened by java(WebDriver driver = new InternetExplorerDriver();) and perform a search for text \"Cheese\". </p>\n\n<p><strong>Question</strong> is, can the object of WebDriver class(\"driver\" in this case) be further used in my Perl program so that I can use same browser and perform different UI operations on it in Perl?</p>\n"}, {"tags": ["perl", "environment-variables", "perl-critic"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1427792946, "creation_date": 1427792946, "answer_id": 29364763, "question_id": 29364660, "link": "https://stackoverflow.com/questions/29364660/perlcritic-how-can-i-resolve-magic-variable-env-should-be-assigned-as-loc/29364763#29364763", "title": "Perlcritic: How can I resolve &#39;^Magic variable &quot;$ENV&quot; should be assigned as &quot;local&quot;&#39;?", "body": "<p>You can localize the value for the given environment variable only:</p>\n\n<pre><code>local $ENV{VAR1} = 'value1';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "edited": false, "score": 0, "creation_date": 1427958759, "post_id": 29373233, "comment_id": 46988407, "body": "choroba&#39;s suggestion did indeed silence the warning, so I&#39;m good to go now."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 5, "last_activity_date": 1427818704, "last_edit_date": 1427818704, "creation_date": 1427817955, "answer_id": 29373233, "question_id": 29364660, "link": "https://stackoverflow.com/questions/29364660/perlcritic-how-can-i-resolve-magic-variable-env-should-be-assigned-as-loc/29373233#29373233", "title": "Perlcritic: How can I resolve &#39;^Magic variable &quot;$ENV&quot; should be assigned as &quot;local&quot;&#39;?", "body": "<p>Perlcritic warnings are not The Word of God.  They are simply warnings about situations that, if managed incorrectly, could get you into trouble.</p>\n\n<blockquote>\n  <p>Is that Perlcritic violation even relevant for assignments to %ENV, or\n  can I ignore it?</p>\n</blockquote>\n\n<p>This warning tells you that:</p>\n\n<ol>\n<li>Global Variables have the very real possibility of action at a distance.</li>\n<li>This possibility is even more dangerous when dealing with those variables that change the operation of built in functions.  </li>\n</ol>\n\n<p>Is that relevant for <code>%ENV</code>?  If you spawn more than one child process in your program, Yes.  If someone changes your program later to spawn another child,  Yes.</p>\n\n<blockquote>\n  <p>If it's relevant, what's the best way to resolve it?</p>\n</blockquote>\n\n<p>Now here is where being the human being becomes important.  You need to make a value judgement.</p>\n\n<p>Possible actions:</p>\n\n<ul>\n<li>Ignore the warning and hope that future maintainers aren't bitten by your usage of this Global Variable.</li>\n<li>Change your code to avoid the situation you are being warned about.  The syntax suggested by choroba is a fine option.</li>\n</ul>\n\n<p>Now if you have made a change, are still getting the warning, and believe that the warning is now in error, you can do one or more of:</p>\n\n<ul>\n<li>Be a good citizen and <a href=\"https://github.com/Perl-Critic/Perl-Critic/issues\" rel=\"noreferrer\">Submit a bug report.</a></li>\n<li>use the comment <code>## no critic (RequireLocalizedPunctuationVars)</code> on the affected lines or on it's own line before the lines in question.</li>\n<li>Or more excessively disable the rule or just create an exception for <code>%ENV</code> in your <code>.perlcriticrc</code> file.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 2, "last_activity_date": 1437052235, "last_edit_date": 1437052235, "creation_date": 1427826409, "answer_id": 29375804, "question_id": 29364660, "link": "https://stackoverflow.com/questions/29364660/perlcritic-how-can-i-resolve-magic-variable-env-should-be-assigned-as-loc/29375804#29375804", "title": "Perlcritic: How can I resolve &#39;^Magic variable &quot;$ENV&quot; should be assigned as &quot;local&quot;&#39;?", "body": "<p>Consider using <a href=\"http://perldoc.perl.org/Env.html\" rel=\"nofollow\">Env</a>.  <code>perlcritic</code> does not complain about the variable:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Env qw(VAR);\n\n$VAR = \"value1\";\n</code></pre>\n"}], "owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 1, "accepted_answer_id": 29373233, "answer_count": 3, "score": 2, "last_activity_date": 1437052235, "creation_date": 1427792627, "question_id": 29364660, "link": "https://stackoverflow.com/questions/29364660/perlcritic-how-can-i-resolve-magic-variable-env-should-be-assigned-as-loc", "title": "Perlcritic: How can I resolve &#39;^Magic variable &quot;$ENV&quot; should be assigned as &quot;local&quot;&#39;?", "body": "<p>I am writing a perl script that needs to set a number of environment variables before calling an external program. My code has the form </p>\n\n<pre><code>$ENV{'VAR1'}    = \"value1\";\n$ENV{'VAR2'}    = \"value2\";\n</code></pre>\n\n<p>When running this through perlcritic, I get a severity 4 violation for every such assignement:</p>\n\n<pre><code>^Magic variable \"$ENV\" should be assigned as \"local\"\n</code></pre>\n\n<p>Googling that error message didn't give me any good solutions. The perlcritic violation that complains in that case is Variables::RequireLocalizedPunctuationVars, and the example given deals with localizing a file handle. I tried to find the relevant section in Perl Best Practices, but it only talks about localizing package variables. </p>\n\n<p>One solution I tried is to localize %ENV using the following statement before the assignments.</p>\n\n<pre><code>local %ENV = ();\n</code></pre>\n\n<p>This doesn't resolve the violation. </p>\n\n<p>My question is the following:</p>\n\n<p>Is that Perlcritic violation even relevant for assignments to %ENV, or can I ignore it?</p>\n\n<p>If it's relevant, what's the best way to resolve it?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1639, "user_id": 2485825, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/aa74d22ac430874ead67c4e170806910?s=128&d=identicon&r=PG", "display_name": "georgiana_e", "link": "https://stackoverflow.com/users/2485825/georgiana-e"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1427792947, "post_id": 29364491, "comment_id": 46912537, "body": "in confing there is a string &quot;CONF_5618_01&quot;"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1427795870, "post_id": 29364491, "comment_id": 46914364, "body": "Try make <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>. The most probably it is not this line what causes it. Is it last line of a block or last line of the script or last line before <code>exec</code> or <code>exit</code>? It&#39;s because I see <code>DB::fake::at_exit()</code> and several <code>DESTROY</code> handlers. It is usually when some variables going out of scope and GC kicks in. Welcome to the magic word of Perl sideefects and surprises."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1427797005, "post_id": 29364491, "comment_id": 46915017, "body": "BTW, Are You sure it is a string in <code>$config</code>. What is the output of <code>say ref $config</code>?"}, {"owner": {"reputation": 1639, "user_id": 2485825, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/aa74d22ac430874ead67c4e170806910?s=128&d=identicon&r=PG", "display_name": "georgiana_e", "link": "https://stackoverflow.com/users/2485825/georgiana-e"}, "edited": false, "score": 0, "creation_date": 1428047989, "post_id": 29364491, "comment_id": 47027058, "body": "I get syntax error at &quot;say ref $config&quot;. It always in the same place the &quot;Out of memory&quot; error, when I put in ENV{CONFIG} something. Sometime it pass without &quot;Out of memory&quot; and sometimes not."}], "owner": {"reputation": 1639, "user_id": 2485825, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/aa74d22ac430874ead67c4e170806910?s=128&d=identicon&r=PG", "display_name": "georgiana_e", "link": "https://stackoverflow.com/users/2485825/georgiana-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1427792097, "creation_date": 1427792097, "question_id": 29364491, "link": "https://stackoverflow.com/questions/29364491/out-of-memory-in-perl-after-adding-entry-in-env-dictionary", "title": "Out of memory in perl after adding entry in ENV dictionary", "body": "<p>I am getting Out of memory in perl at this line:</p>\n\n<blockquote>\n  <p>$ENV{\"CONF\"} = $config;</p>\n</blockquote>\n\n<p>I did a debug and here is the back trace:</p>\n\n<pre><code>&gt; Out of memory! $ = DB::fake::at_exit() called from file \n&gt; `/usr/lib/perl5/5.8.5/perl5db.pl' line 8743 $ = DB::END() called from\n&gt; file `script.pl' line 0\n&gt; DB&lt;2&gt; t $ENV{\"CONF\"} = $config; main::((eval\n&gt; 15)[/usr/lib/perl5/5.8.5/perl5db.pl:620]:3): 3:      $ENV{\"CONF\"} =\n&gt; $config; Out of memory! Callback called exit. END failed--call queue\n&gt; aborted.\n&gt; Config::DESTROY(/usr/lib/perl5/5.8.5/sun4-solaris-thread-multi/Config.pm:1269):\n&gt; 1269:   sub DESTROY { }\n&gt; IO::Handle::DESTROY(/usr/lib/perl5/5.8.5/sun4-solaris-thread-multi/IO/Handle.pm:326):\n&gt; 326:    sub DESTROY {}\n&gt; IO::Handle::DESTROY(/usr/lib/perl5/5.8.5/sun4-solaris-thread-multi/IO/Handle.pm:326):\n&gt; 326:    sub DESTROY {}\n</code></pre>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1427791568, "post_id": 29364257, "comment_id": 46911772, "body": "Well, this is a bit bigger than one-line, but thank anyway :)"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1427791741, "post_id": 29364257, "comment_id": 46911859, "body": "Looks like one line to me :) <code>my $out = capture_this_command( &#39;foo&#39;, @ARGV );</code>"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1427791906, "post_id": 29364257, "comment_id": 46911945, "body": "If you ignore the additional subroutine, yes you&#39;re right :)"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 2, "creation_date": 1427792097, "post_id": 29364257, "comment_id": 46912063, "body": "You could always use <a href=\"https://metacpan.org/pod/Capture::Tiny#capture_stdout\" rel=\"nofollow noreferrer\">metacpan.org/pod/Capture::Tiny#capture_stdout</a> directly"}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 1, "last_activity_date": 1427791962, "last_edit_date": 1427791962, "creation_date": 1427791383, "answer_id": 29364257, "question_id": 29364096, "link": "https://stackoverflow.com/questions/29364096/expression-in-backticks-with-perl-cmd-join/29364257#29364257", "title": "Expression in backticks with Perl `&#39;cmd&#39;.join ...`", "body": "<p>Sure </p>\n\n<pre><code>my $out = capture_this_command( 'foo', @ARGV );\n\nsub capture_this_command {\n    use Capture::Tiny qw/ capture /;\n##    local %ENV;\n##    delete @ENV{'PATH', 'IFS', 'CDPATH', 'ENV', 'BASH_ENV'};\n##    $ENV{'PATH'} = '/bin:/usr/bin';\n\n    my @cmd = @_;\n    my( $stdout, $stderr, $exit ) = capture { \n        system { $cmd[0] } @cmd;\n    };;\n\n    if( $exit ){\n        die \"got the exit( $exit ) and stderr: $stderr\\n   \";\n    } elsif( $stderr ){\n        warn \"got stderr: $stderr\\n   \";\n    }\n\n    return $stdout;\n}\n</code></pre>\n\n<p><strong>update:</strong>\nqx// is double quotes, it interpolates, so everything perlintro/perlsyn/<em>perlquote</em> say about that goes, but also, remember, qx// calls your shell (to see which one you have <code>perl -V:sh</code>) and shells have their own interpolation</p>\n\n<p>So you could write <code>my $out = qx/foo @ARGV/;</code> but its subject to interpolation, first by perl, then by whatever shell you're invoking</p>\n"}, {"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1427793332, "post_id": 29364522, "comment_id": 46912770, "body": "Nice to know. I should have mentioned that in my real example I need to do <code>qx&#47;foo &#39;&#39;keys %hash&#39;&#39;&#47;</code>. I&#39;ve learned something anyway :)"}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1427793466, "post_id": 29364522, "comment_id": 46912854, "body": "@coin So please update your question accordingly. I don&#39;t right understand the use of the single quotes. Can you add expected input and output samples?"}], "tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": 2, "last_activity_date": 1427796202, "last_edit_date": 1427796202, "creation_date": 1427792202, "answer_id": 29364522, "question_id": 29364096, "link": "https://stackoverflow.com/questions/29364096/expression-in-backticks-with-perl-cmd-join/29364522#29364522", "title": "Expression in backticks with Perl `&#39;cmd&#39;.join ...`", "body": "<p>You don't need to assemble the command prior to running it. The <code>qx()</code> operator (aliased by the backticks) interpolates.</p>\n\n<pre><code> perl -e 'print `echo @ARGV`' foo bar\n</code></pre>\n\n<p>or in your script:</p>\n\n<pre><code>my $out = `foo @ARGV`\n</code></pre>\n\n<p>What \"optional\" says about <code>qx</code> and interpolation is right: Beware that double interpolation might bite you and it's prone to security issues!</p>\n\n<p>Regarding your update: Try</p>\n\n<pre><code>perl -e '%h = (foo=&gt;1,bar=&gt;2); print `echo @{[keys %h]}`'\n</code></pre>\n\n<p>That constructs an anonymous arrayref and immediately dereferrences it. Hashes don't interpolate but this array context allows arbitrary Perl code producing a list. Also I'm pretty sure the compiler recognized this idiom and removes the arrayref (de)dereferrence during optimization.</p>\n\n<p>But that is really ugly, nearly unreadable from my point of view. I'd rather recommend:</p>\n\n<pre><code>my @keys = keys %hash;\nmy $cmd  = \"foo @keys\";\nmy $out  = `$cmd`;\n</code></pre>\n\n<p>Hint: storing the command in a dedicated variable makes logging executes commands easier what is <em>really</em> desirable.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1427815856, "creation_date": 1427815856, "answer_id": 29372458, "question_id": 29364096, "link": "https://stackoverflow.com/questions/29364096/expression-in-backticks-with-perl-cmd-join/29372458#29372458", "title": "Expression in backticks with Perl `&#39;cmd&#39;.join ...`", "body": "<p>The builtin <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#readpipe\" rel=\"nofollow\"><code>readpipe</code></a> function is what is at the back end of backticks/<code>qx()</code> calls, so you can use that directly:</p>\n\n<pre><code>my $out = readpipe('foo' . join ' ', @ARGV);\n</code></pre>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 29372458, "answer_count": 3, "score": 0, "last_activity_date": 1427815856, "creation_date": 1427790798, "last_edit_date": 1427793664, "question_id": 29364096, "link": "https://stackoverflow.com/questions/29364096/expression-in-backticks-with-perl-cmd-join", "title": "Expression in backticks with Perl `&#39;cmd&#39;.join ...`", "body": "<p>I would like to send the remaining <code>@ARGV</code> to <code>foo</code>. I currently do this: </p>\n\n<pre><code>my $cmd = 'foo '.join ' ', @ARGV;\nmy $out = `$cmd`;\n</code></pre>\n\n<p>Is there possible to do it in one line? For instance with a non-existent <code>e</code> option:</p>\n\n<pre><code>my $out = qx/'foo'.join ' ', @ARGV/e;\n</code></pre>\n\n<p>In a more general case I might want to do this:</p>\n\n<pre><code>my $out = qx/'foo?.join(' ', keys %hash)/e;\n</code></pre>\n"}, {"tags": ["perl", "smtp"], "answers": [{"comments": [{"owner": {"reputation": 19222, "user_id": 789186, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d232cc5abe46092d3972d4f85833e42?s=128&d=identicon&r=PG", "display_name": "user4035", "link": "https://stackoverflow.com/users/789186/user4035"}, "edited": false, "score": 0, "creation_date": 1427787648, "post_id": 29362914, "comment_id": 46909837, "body": "The server is definitely an SMTP server. I connected to it from my local machine. But when I say: &quot;helo server.com&lt;enter&gt;&quot;, it responds. When I connect to this SMTP server from the other server - it doesn&#39;t respond."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 19222, "user_id": 789186, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d232cc5abe46092d3972d4f85833e42?s=128&d=identicon&r=PG", "display_name": "user4035", "link": "https://stackoverflow.com/users/789186/user4035"}, "edited": false, "score": 0, "creation_date": 1427788124, "post_id": 29362914, "comment_id": 46910091, "body": "From this description I would suggest that the problem is at the server side then. It might be that the server will do a reverse DNS lookup for the IP of the client which then times out. Or it will check against some real time blocklist. Or there is a spamd or similar program which throttles the connection from unknown clients. Hard to say without information about the server, but I would not consider it a problem of Perl or Net::SMTP."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1427786639, "creation_date": 1427786639, "answer_id": 29362914, "question_id": 29362592, "link": "https://stackoverflow.com/questions/29362592/netsmtp-freezes-on-a-certain-server/29362914#29362914", "title": "Net::SMTP freezes on a certain server", "body": "<p>This happens if the TCP connection to the server was successfully established but the server does not send the expected SMTP greeting back. This can have several reasons, like:</p>\n\n<ul>\n<li>The server is not a SMTP server at all. If you try to use Net::SMTP against a web server (e.g. HTTP) you will see a similar result, because the HTTP server expects the client to send data first whereas with SMTP the server will send data first.</li>\n<li>The server has implicit TLS configured, that is it is waiting for the client to connect with TLS and not with plain SMTP. In this case the server is waiting for the client to start with the TLS handshake (i.e send ClientHello) before sending anything back.</li>\n</ul>\n\n<p>I would suggest you look at the configuration of the server to see what is actually is expected. </p>\n"}], "owner": {"reputation": 19222, "user_id": 789186, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d232cc5abe46092d3972d4f85833e42?s=128&d=identicon&r=PG", "display_name": "user4035", "link": "https://stackoverflow.com/users/789186/user4035"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 29362914, "answer_count": 1, "score": 0, "last_activity_date": 1427786639, "creation_date": 1427785518, "question_id": 29362592, "link": "https://stackoverflow.com/questions/29362592/netsmtp-freezes-on-a-certain-server", "title": "Net::SMTP freezes on a certain server", "body": "<p>I have a Perl script for sending Emails:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Email::Sender::Simple qw(sendmail);\nuse Email::Sender::Transport::SMTP ();\nuse Email::Simple ();\nuse Email::Simple::Creator ();\n\nmy $smtpserver = 'server.com';\nmy $smtpport = 2525;\nmy $smtpuser   = 'test@server.com';\nmy $smtppassword = 'secret';\n\nmy $transport = Email::Sender::Transport::SMTP-&gt;new({\n  host =&gt; $smtpserver,\n  port =&gt; $smtpport,\n  sasl_username =&gt; $smtpuser,\n  sasl_password =&gt; $smtppassword,\n  debug =&gt; 1,\n});\n\nmy $email = Email::Simple-&gt;create(\n  header =&gt; [\n    To      =&gt; 'myself@gmail.com',\n    From    =&gt; \"User name &lt;$smtpuser&gt;\",\n    Subject =&gt; 'Hello',\n  ],\n  body =&gt; \"This is my message\\n\",\n);\n\nsendmail($email, { transport =&gt; $transport });\n</code></pre>\n\n<p>It works on one server. But on another the script freezes. Debug messages are:</p>\n\n<pre><code>Net::SMTP&gt;&gt;&gt; Net::SMTP(2.31)\nNet::SMTP&gt;&gt;&gt;   Net::Cmd(2.29)\nNet::SMTP&gt;&gt;&gt;     Exporter(5.63)\nNet::SMTP&gt;&gt;&gt;   IO::Socket::INET(1.31)\nNet::SMTP&gt;&gt;&gt;     IO::Socket(1.31)\nNet::SMTP&gt;&gt;&gt;       IO::Handle(1.28)\n</code></pre>\n\n<p>What's wrong? How to debug?</p>\n"}, {"tags": ["perl", "file-handling"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1427780403, "post_id": 29361274, "comment_id": 46906468, "body": "See <a href=\"http://www.perlmonks.org/bare/?node_id=113442\" rel=\"nofollow noreferrer\">this</a> page."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1427788030, "post_id": 29361434, "comment_id": 46910034, "body": "You would want <code>&#47;^\\Q$file\\E\\z&#47;</code>"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": -1, "last_activity_date": 1427780905, "creation_date": 1427780905, "answer_id": 29361434, "question_id": 29361274, "link": "https://stackoverflow.com/questions/29361274/how-to-check-file-exists-is-case-insensitive/29361434#29361434", "title": "How to check file exists is case insensitive", "body": "<p>Stolen from <a href=\"http://www.experts-exchange.com/Programming/Languages/Scripting/Perl/Q_24328305.html\" rel=\"nofollow\">here</a>.</p>\n\n<pre><code>(grep {/$file/i} &lt;$dir/*&gt;) or die \"$file not exist in $dir\\n\";\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4732491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dba94d701548a3a6b127623cc03b08d?s=128&d=identicon&r=PG&f=1", "display_name": "Omkar", "link": "https://stackoverflow.com/users/4732491/omkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1192, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1427781184, "creation_date": 1427780169, "last_edit_date": 1427781184, "question_id": 29361274, "link": "https://stackoverflow.com/questions/29361274/how-to-check-file-exists-is-case-insensitive", "title": "How to check file exists is case insensitive", "body": "<p>I want to check if a file exist in Perl. This can be done using <code>(-e $filename)</code>. But this is case sensitive. How can I check for case insensitive. I have to use only core package to achieve this.</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 667, "user_id": 1194243, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/09895631f64ad882a7a22d20a11027ae?s=128&d=identicon&r=PG", "display_name": "srekcahrai", "link": "https://stackoverflow.com/users/1194243/srekcahrai"}, "edited": false, "score": 1, "creation_date": 1427774637, "post_id": 29360318, "comment_id": 46904712, "body": "How does your output look like?"}, {"owner": {"reputation": 17, "user_id": 4656891, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-rNgTxnvqliI/AAAAAAAAAAI/AAAAAAAAABc/Y5ocVP1vs88/photo.jpg?sz=128", "display_name": "Safina A.R", "link": "https://stackoverflow.com/users/4656891/safina-a-r"}, "edited": false, "score": 0, "creation_date": 1427791220, "post_id": 29360318, "comment_id": 46911611, "body": "I tried Pairfq (<a href=\"https://github.com/sestaton/Pairfq\" rel=\"nofollow noreferrer\">github.com/sestaton/Pairfq</a>) but it gave me empty files while putting all reads in unique files.  I wrote the following command:  ./pairfq makepairs -f forward_sequences.fastq -r reverse_sequences.fastq -fp f_paired_1.fastq -rp r_paired_2.fastq -fs f_single_1.fastq -rs r_single_2.fastq --stats  the output was: Total forward paired reads (1_paired.fastq) : 0 Total reverse paired reads (2_paired.fastq) : 0 Total forward unpaired reads (single_1.fastq) : 8492638 Total reverse unpaired reads (single_2.fastq) : 13525478"}, {"owner": {"reputation": 17, "user_id": 4656891, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-rNgTxnvqliI/AAAAAAAAAAI/AAAAAAAAABc/Y5ocVP1vs88/photo.jpg?sz=128", "display_name": "Safina A.R", "link": "https://stackoverflow.com/users/4656891/safina-a-r"}, "edited": false, "score": 0, "creation_date": 1427791244, "post_id": 29360318, "comment_id": 46911624, "body": "do you have anything for pairing these read files?"}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 0, "creation_date": 1427862665, "post_id": 29360318, "comment_id": 46944713, "body": "@SafinaA.R This is not valid fastq format as I commented on <a href=\"http://seqanswers.com/forums/showpost.php?p=163560&amp;postcount=54\" rel=\"nofollow noreferrer\">seqanswers</a> and provided a solution there (to fix the record separator). Pairfq works for fasta/q, compressed or not, but no tool will work on malformed data. See the <a href=\"https://en.wikipedia.org/wiki/FASTQ_format\" rel=\"nofollow noreferrer\">fastq wiki entry</a> for more info."}], "owner": {"reputation": 17, "user_id": 4656891, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-rNgTxnvqliI/AAAAAAAAAAI/AAAAAAAAABc/Y5ocVP1vs88/photo.jpg?sz=128", "display_name": "Safina A.R", "link": "https://stackoverflow.com/users/4656891/safina-a-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427780039, "creation_date": 1427774003, "last_edit_date": 1427780039, "question_id": 29360318, "link": "https://stackoverflow.com/questions/29360318/fastq-pairing-of-ngs-r-f-reads-after-quality-trim", "title": "Fastq pairing of NGS R/F reads after quality trim", "body": "<p>Can any one help me in pairing my reverse read file with forward read files?\nBelow are the few lines of my read files:</p>\n\n<p><strong>==> forward_sequences.fastq &lt;==</strong></p>\n\n<pre><code>&gt;SRR1561197.13.1/1\nTCAAAAGGAGAACTCAATAGGCTGAACAAGTTATCTTCTGGGATTGTAATGAGAGTTGCTTCACTGCTTTGGAAGAAGAAAGCTCAT\n+\nJJJJJIJJIIJJIJJJIJIIJJJJJJJJJJIIIIIJJJJJJJHIJJIGJJJJJJJGIJJJJJGIIHHHHHFFEFFDEEDEDCACDDD\n&gt;SRR1561197.17.1/1\nTATACAAAGCTGTCAACTTGATCTTCATACTTCTCATAAAGGACTGGTAATGTGTGGGCAGCAACGAAACCAACATATAAAACAGTC\n+\nHHGJJJJJJJJJJJJIJJJJJJJJJJJJJJJJJJJJJJJJIJJJJJJIJJJJIIIIIIJIIHCHHFFFDDEDDDDDDEEEDCDDCCA\n&gt;SRR1561197.19.1/1\nGATCAACAGTACTGGAATGGCCATCCATCACAAGTTCAGCTAAAGCAGCTCCTGTTGCAGGACCGTTTAGAATACCCCAGCAACTGT\n</code></pre>\n\n<p><strong>==> reverse_sequences.fastq &lt;==</strong></p>\n\n<pre><code>&gt;SRR1561197.4.2/2\nATAAAGACAGATGAAGATGCAATACAAATCATAAATAAAACGCTTTAAATAGTTTGAGCAACCCAAGCGCATAAGAAATTTCAATCT\n+\nHIJJIHGJJJJJFECHEHIIJJIGIJJIIJJJIJJJDHHIJIJJIJEHIJJJGIIIGJJICAEHFFFFDDDDDDCDDDCCADEDDDC\n&gt;SRR1561197.9.2/2\nAGATGTCTGTCCTCCAGAAGATGGCATTGCCTGAACGCAGGAGAGAATATAACAATCATATAGGTTTTCATTCTTGTTTCCAATATC\n+\nIIIJJJIJEFJIJGHGIJIEHJJJJIGIIJJJJFIJHHIJIJJJIIJIJIIJJJHHHHHFFFFFFFFDEDEEEEED@ACCCDCCCDB\n&gt;SRR1561197.11.2/2\nCAATGCAATGTGATTATCCAAGCTCACAATCTTCCTCACCGATCTGGAGTCTTGGAGCTTGGCCGCGGATTTCTTTTCGACGCCGAG\n</code></pre>\n"}, {"tags": ["perl", "printing"], "comments": [{"owner": {"reputation": 14947, "user_id": 900078, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/83stK.jpg?s=128&g=1", "display_name": "pynexj", "link": "https://stackoverflow.com/users/900078/pynexj"}, "edited": false, "score": 0, "creation_date": 1427771917, "post_id": 29359949, "comment_id": 46904009, "body": "See <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">quote-like operators</a> in Perl&#39;s doc. You can also <code>man perlop</code>."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 1, "last_activity_date": 1427779250, "creation_date": 1427779250, "answer_id": 29361101, "question_id": 29359949, "link": "https://stackoverflow.com/questions/29359949/difference-between-prints-in-perl/29361101#29361101", "title": "difference between prints in perl", "body": "<p>Type 1 and 2, <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\"><code>Quote and Quote-like Operators</code></a></p>\n\n<blockquote>\n  <p>While we usually think of quotes as literal values, in Perl they function as operators, providing various kinds of interpolating and pattern matching capabilities. Perl provides customary quote characters for these behaviors, but also provides a way for you to choose your quote character for any of them. In the following table, a {} represents <strong>any pair of delimiters you choose</strong>.</p>\n</blockquote>\n\n<pre><code>   Customary Generic     Meaning          Interpolates\n        ''   q{}          Literal         no\n        \"\"  qq{}          Literal         yes\n        ``  qx{}          Command         yes*\n            qw{}         Word list        no\n        //   m{}       Pattern match      yes*\n            qr{}          Pattern         yes*\n             s{}{}      Substitution      yes*\n            tr{}{}    Transliteration     no (but see below)\n             y{}{}    Transliteration     no (but see below)\n    &lt;&lt;EOF                 here-doc            yes*\n* unless the delimiter is ''.\n</code></pre>\n\n<p>Type 3. <a href=\"http://perldoc.perl.org/perlop.html#Double-Quotes\" rel=\"nofollow\"><code>Here-doc</code></a></p>\n\n<blockquote>\n  <p>Double quotes indicate that the text will be <strong>interpolated</strong> using exactly the same rules <strong>as normal double quoted strings</strong>.</p>\n</blockquote>\n\n<pre><code>   print &lt;&lt;EOF;\nThe price is $Price.\nEOF\n   print &lt;&lt; \"EOF\"; # same as above\nThe price is $Price.\nEOF\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4732204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IRd4.gif?s=128&g=1", "display_name": "The Skipper", "link": "https://stackoverflow.com/users/4732204/the-skipper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 29361101, "answer_count": 1, "score": 2, "last_activity_date": 1427779250, "creation_date": 1427771362, "last_edit_date": 1427771662, "question_id": 29359949, "link": "https://stackoverflow.com/questions/29359949/difference-between-prints-in-perl", "title": "difference between prints in perl", "body": "<p>silly question but to me they appear to be the same but I think there should be a difference. Is there any known difference between these 3 types of prints? </p>\n\n<p>type1</p>\n\n<pre><code>print qq~ &lt;td&gt;....&lt;/td&gt;~\n</code></pre>\n\n<p>type 2</p>\n\n<pre><code>print qq|&lt;table&gt;....&lt;/table&gt;|\n</code></pre>\n\n<p>type 3</p>\n\n<pre><code>print &lt;&lt;EOT\n&lt;table&gt;...&lt;/table&gt;\nEOT\n</code></pre>\n"}, {"tags": ["multithreading", "perl"], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 3, "last_activity_date": 1427772538, "last_edit_date": 1427772538, "creation_date": 1427771604, "answer_id": 29359978, "question_id": 29359517, "link": "https://stackoverflow.com/questions/29359517/perl-clean-up-active-threads-before-exiting/29359978#29359978", "title": "Perl: clean up active threads before exiting", "body": "<p><a href=\"https://metacpan.org/pod/threads#EXITING-A-THREAD\" rel=\"nofollow\"><code>threads-&gt;exit</code></a> doesn't do what you think it does.  It exits the <em>current</em> thread, not all threads.  Outside of a thread, it's just like calling <code>exit</code>.</p>\n\n<pre><code>threads-&gt;exit()\n    If needed, a thread can be exited at any time by calling\n    \"threads-&gt;exit()\".  This will cause the thread to return \"undef\" in\n    a scalar context, or the empty list in a list context.\n\n    When called from the main thread, this behaves the same as exit(0).\n</code></pre>\n\n<p>What you want is to either wait for all threads to complete...</p>\n\n<pre><code>$_-&gt;join for threads-&gt;list;\n</code></pre>\n\n<p>Or to detach all your threads, they will be terminated when the program exits.</p>\n\n<pre><code>$_-&gt;detach for threads-&gt;list;\n</code></pre>\n\n<p>Additionally, you want to use <code>threads-&gt;list</code> to get a list of all non-joined, non-detached threads, running or not.  <code>threads-&gt;list(threads::running)</code> will only give you the threads which are still running.  If any thread has completed but not been joined, it will be missed.</p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 29359978, "answer_count": 1, "score": 0, "last_activity_date": 1427772538, "creation_date": 1427768358, "question_id": 29359517, "link": "https://stackoverflow.com/questions/29359517/perl-clean-up-active-threads-before-exiting", "title": "Perl: clean up active threads before exiting", "body": "<pre><code>sub handle_sigterm {\n    my @running = threads-&gt;list(threads::running);\n    for my $thr (@running) {\n        $thr-&gt;kill('SIGTERM')-&gt;join();\n    }\n    threads-&gt;exit;\n} ## end sub handle_sigterm\n\n\nOUTPUT:\nPerl exited with active threads:\n        1 running and unjoined\n        0 finished and unjoined\n        1 running and detached\n</code></pre>\n\n<p>it looks like handle_sigterm exited without cleaning up the thread?</p>\n\n<p>What can i do clean up the threads?</p>\n"}, {"tags": ["perl", "newline"], "comments": [{"owner": {"reputation": 1475, "user_id": 2358836, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ggd1o.jpg?s=128&g=1", "display_name": "sflee", "link": "https://stackoverflow.com/users/2358836/sflee"}, "edited": false, "score": 0, "creation_date": 1427769038, "post_id": 29359509, "comment_id": 46903411, "body": "sorry, I fixed the code. Since my original function is a little bit complex, so I just figure out a part of it so that it is easier for me to solve my problem step by step ~&quot;~"}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 1, "creation_date": 1427769911, "post_id": 29359509, "comment_id": 46903576, "body": "OK, so ... if I put <code>chop;</code> inside the loop, immediately before <code>print &quot;$_ &quot;;</code>, your code works for me.  I already gave an answer showing what you <i>should have</i> written, but I&#39;d like to understand why <code>chop</code> didn&#39;t work for you.  Exactly how did you try to use it?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1427773434, "post_id": 29359509, "comment_id": 46904371, "body": "@zwol <code>chop</code> will remove the last character in a string regardless of what it is.  Aside from the obvious problems with that, Windows uses two characters for a newline so it&#39;s non-portable.  I&#39;m not sure what Cygwin commands use, probably the single character Unix newline."}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1427773585, "post_id": 29359509, "comment_id": 46904419, "body": "@Schwern I&#39;m aware of this - I would normally never use <code>chop</code>, but it is what the OP said they tried.  The possibility of <code>\\r\\n</code> being truncated to <code>\\r</code> which then itself acts as a line terminator had not occurred to me, though."}], "answers": [{"comments": [{"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1427769602, "post_id": 29359575, "comment_id": 46903512, "body": "I believe you meant <code>-maxdepth</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1427771134, "post_id": 29359575, "comment_id": 46903869, "body": "If you&#39;re going to use <code>$_</code> (and you shouldn&#39;t, you should use <code>foreach my $dir</code>), you might as well take advantage and write <code>chomp;</code> and <code>print;</code>.  Or just <code>chomp @folderList</code> and get it out of the loop."}, {"owner": {"reputation": 2829, "user_id": 2364901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b4fb6af77939368f91cd310490fa1?s=128&d=identicon&r=PG", "display_name": "csiu", "link": "https://stackoverflow.com/users/2364901/csiu"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1427772034, "post_id": 29359575, "comment_id": 46904039, "body": "@Schwern -- Cool! Thanks for the tip :)"}], "tags": [], "owner": {"reputation": 2829, "user_id": 2364901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b4fb6af77939368f91cd310490fa1?s=128&d=identicon&r=PG", "display_name": "csiu", "link": "https://stackoverflow.com/users/2364901/csiu"}, "is_accepted": false, "score": 2, "last_activity_date": 1427768798, "creation_date": 1427768798, "answer_id": 29359575, "question_id": 29359509, "link": "https://stackoverflow.com/questions/29359509/how-to-remove-newline-after-ls-within-perl/29359575#29359575", "title": "How to remove newline after ls within perl?", "body": "<p><code>chomp</code> is the way to go -- you can do something like this:</p>\n\n<pre><code>my @folderList = `find user -mindepth 1`;\n\nforeach (@folderList) {\n    chomp $_;\n    print \"$_ \";\n}\nprint \"\\n\";\n</code></pre>\n\n<p><strong>Note:</strong> you might want to change \"<code>find user -mindepth 1</code>\" to the unix command which fits your needs</p>\n"}, {"tags": [], "owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "is_accepted": false, "score": 1, "last_activity_date": 1427769361, "last_edit_date": 1427769361, "creation_date": 1427768967, "answer_id": 29359604, "question_id": 29359509, "link": "https://stackoverflow.com/questions/29359509/how-to-remove-newline-after-ls-within-perl/29359604#29359604", "title": "How to remove newline after ls within perl?", "body": "<p>If I understand your goals correctly,</p>\n\n<pre><code>perl -MCwd -le 'print join \" \", glob getcwd. \"/*\"'\n</code></pre>\n\n<p>or more canonically</p>\n\n<pre><code>use Cwd;\nprint(join(\" \", glob(getcwd() . \"/*\"), \"\\n\"));\n</code></pre>\n\n<p>is the program you <em>should have</em> written.  This bypasses the whole problem by using the built-in Perl function <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a> and the standard library function <a href=\"http://perldoc.perl.org/Cwd.html\" rel=\"nofollow\"><code>Cwd::getcwd</code></a> to do the directory scan, rather than invoking a subprocess.  (As a rule of thumb, if you <em>can</em> do something without invoking a subprocess, you <em>should</em> do it without invoking a subprocess.  You will know when you encounter the exceptions to this rule.)</p>\n\n<p>You could loop over the output of <code>glob</code>, but using <code>join</code> instead means there is no trailing space.</p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 4, "last_activity_date": 1427769062, "creation_date": 1427769062, "answer_id": 29359614, "question_id": 29359509, "link": "https://stackoverflow.com/questions/29359509/how-to-remove-newline-after-ls-within-perl/29359614#29359614", "title": "How to remove newline after ls within perl?", "body": "<p>The simple answer is to use <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\"><code>chomp</code></a> which will strip the newlines off a <code>$string</code> or <code>@strings</code>.</p>\n\n<p>But your implementation has some problems.  The biggest is using system commands like <code>cat</code> and <code>ls</code> to do things Perl can already do.  You should avoid using system commands when possible because its generally slower (actually the commands are often faster than Perl but the overhead of doing the work to run them is slower), non-portable (if you didn't have Cygwin your code won't work on Windows), insecure (it's very easy for a user to inject shell code into what you think is just a filename), harder to error check (you need to scrape the STDERR output rather than read <code>$!</code>), and you never know if you're getting the BSD or GNU version (a particular problem with things like find).</p>\n\n<p>Instead use functions like <a href=\"http://perldoc.perl.org/functions/opendir.html\" rel=\"nofollow\"><code>opendir</code></a>, <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow\"><code>readdir</code></a>, and <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\"><code>open</code></a> to read files and directories.</p>\n\n<p>Better yet, use the <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow\">Path::Tiny</a> module which takes care of most file operations for you.  And it takes care of checking for errors as well, no <code>or die $!</code> sprinkled everywhere.</p>\n\n<pre><code>use v5.10;\nuse strict;\nuse warnings;\nuse Path::Tiny;\n\nmy $dir = path(\"/user\");\n\nfor my $subdir ($dir-&gt;children) {\n    say $subdir-&gt;absolute;\n}\n</code></pre>\n"}], "owner": {"reputation": 1475, "user_id": 2358836, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ggd1o.jpg?s=128&g=1", "display_name": "sflee", "link": "https://stackoverflow.com/users/2358836/sflee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "accepted_answer_id": 29359614, "answer_count": 3, "score": 2, "last_activity_date": 1427781231, "creation_date": 1427768288, "last_edit_date": 1427781231, "question_id": 29359509, "link": "https://stackoverflow.com/questions/29359509/how-to-remove-newline-after-ls-within-perl", "title": "How to remove newline after ls within perl?", "body": "<p>I am using perl under <code>cygwin</code>. Here is what I want to do. I want to list all the folders under a directory into an array and then print them out as a string such that I have the following result.</p>\n\n<p>Let, the working path is <code>/user/</code>.<br>\nFolders inside the path are:</p>\n\n<pre><code>/user/A\n/user/B\n/user/C\n</code></pre>\n\n<p>I want to:</p>\n\n<pre><code>perl foo\n/user/A /user/B /user/C\n</code></pre>\n\n<p>I have the following code:</p>\n\n<pre><code>my @folderList = `ls /user`;\nforeach (@folderList) {\n    print \"$_ \";\n}\nprint \"\\n\";\n</code></pre>\n\n<p><strong>But</strong>, the result is:</p>\n\n<pre><code>$ perl foo\n/user/A\n/user/B\n/user/C\n$\n</code></pre>\n\n<p><strong>My question</strong>:<br>\nHow to remove the newline of every result stored inside the array? I have tried chop() to remove the last char but it is not working.</p>\n"}, {"tags": ["arrays", "perl", "data-structures", "match"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1427761739, "post_id": 29358578, "comment_id": 46901553, "body": "First, you do not have to be <code>root</code> to use CPAN modules, but that&#39;s another topic. Second,  <b>what have you tried</b>? You can&#39;t even write a simple loop to go through an array?"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427771278, "post_id": 29358578, "comment_id": 46903902, "body": "What is the name of the CPAN module you found? Which functions seemed useful?  What have you tried so far? You can marginally improve this question (which is a really a FAQ) by adding a bit more information so that it becomes useful for other SO users."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1427761777, "creation_date": 1427761777, "answer_id": 29358617, "question_id": 29358578, "link": "https://stackoverflow.com/questions/29358578/how-can-i-check-if-a-string-appears-in-an-array-more-than-once/29358617#29358617", "title": "How can I check if a string appears in an array more than once?", "body": "<pre><code>my $count = grep $_ eq $word, @array;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\">perldoc -f grep</a>.</p>\n\n<blockquote>\n  <p>Evaluates the BLOCK or EXPR for each element of LIST (locally setting <code>$_</code> to each element) and returns the list value consisting of those elements for which the expression evaluated to true. In scalar context, returns the number of times the expression was true.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1427766537, "post_id": 29358732, "comment_id": 46902813, "body": "oops yup <code>~~</code> not needed with <code>if</code>... forgot. Thanks.  I usually use these short lines in the <code>re.pl</code> or debugger to count matched elements instead of counting the exact number. I load up my favorite modules (for counting I use &quot;<code>true</code>&quot;).  I&#39;ve trashed things more than once with <code>grep = &quot;camel&quot; , @animals</code> (instead of <code>eq</code>).  Sorry for being sloppy.   Will fix for posterity."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1427768445, "post_id": 29358732, "comment_id": 46903269, "body": "@Sinan&#220;n&#252;r - Edited as per comment. Thanks."}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1427768392, "last_edit_date": 1427768392, "creation_date": 1427762611, "answer_id": 29358732, "question_id": 29358578, "link": "https://stackoverflow.com/questions/29358578/how-can-i-check-if-a-string-appears-in-an-array-more-than-once/29358732#29358732", "title": "How can I check if a string appears in an array more than once?", "body": "<p><strong>Edit</strong>:  I assumed your \"string\" was not necessarily a discrete element. To count each element that matches completely, tighten the match (i.e. with <code>/^...$/</code>) or use <code>eq</code> as Sinan points out in the comments.  </p>\n\n<hr>\n\n<p>You could count the number of times <code>grep</code> matches the string in the array:</p>\n\n<pre><code>my @animals = qw/duck goose camel squirrel camel camelback/ ;\n\nif ( scalar ( grep { /^camel$/ } @animals ) &gt; 1 ) { \n   print \"more than one\" ; \n}\n</code></pre>\n\n<p>Shorter forms:</p>\n\n<pre><code>say \"more\"  if (grep /^camel$/, @animals ) &gt; 1 ;\nsay ~~( grep /^camel$/, @animal ); \n</code></pre>\n\n<p>\"<code>~~</code>\" is short for \"<code>scalar</code>\" here.</p>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427769750, "post_id": 29359259, "comment_id": 46903547, "body": "The &quot;<code>%seen</code> hash&quot; seem to be the most idiomatic and robustly correct way to do this (with <code>grep $_ eq $match, @array;</code> being the simplest, but more prone to PEBKAC for me). As a bonus you make <code>++$count{$_}</code> look short and sweet here :-)  Wouldn&#39;t some more explicit syntax (but sugary in its own way) like <code>count(&quot;string&quot;, @array)</code> make a useful  addition to <code>List::Util</code> or <code>List::MoreUtils</code>?"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427770860, "post_id": 29359259, "comment_id": 46903794, "body": "So I guess now I want to learn about prototypes ?  ... Or, well, how to make <code>sub count($@) { my $string = shift; scalar grep $_ eq $string, @_ }</code>  or <code>sub count ($@) { my $s = shift; my %count;  ++$count{$_} for  @_ ; return $count{$s} ; }</code> feel more &quot;built in&quot;."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427812436, "post_id": 29359259, "comment_id": 46923153, "body": "Just noting that the above is not my idea ... so it might not be that bad ;-)  <i>e.g.</i> <a href=\"http://www.metacpan.org/pod/autobox::Core\" rel=\"nofollow noreferrer\"><code>autobox::Core</code></a> does something that feels &quot;core-like&quot;  involving &quot;<code>-&gt;count()</code>&quot;: ... <code>say [qw&#47;camel squirrel duck camelhair camel goose&#47;]-&gt;count(&quot;camel&quot;)</code>.  But it&#39;s only &quot;Core&quot; as in <code>autobox::Core</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1427766451, "creation_date": 1427766451, "answer_id": 29359259, "question_id": 29358578, "link": "https://stackoverflow.com/questions/29358578/how-can-i-check-if-a-string-appears-in-an-array-more-than-once/29359259#29359259", "title": "How can I check if a string appears in an array more than once?", "body": "<p>When asking for help on Stack Overflow, it is generally expected that you show some code for us to help you <em>with</em>. This isn't the place to get a crash-course in Perl programming.</p>\n\n<p>The most general-purpose way to deal with this is to build a hash whose keys are all the distinct values in the list, and the values are the number of times that item occurs. This program does exactly that to find the values that occur more than once</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy @animals = qw/ duck goose camel squirrel camel /;\n\nmy %counts;\n++$counts{$_} for @animals;\n\nsay for grep $counts{$_} &gt; 1, keys %counts;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>camel\n</code></pre>\n\n<p>Or, if you have a specific value that you want to check whether it occurs multiple times, you can query the hash directly</p>\n\n<pre><code>if ( $counts{goose} &gt; 1 ) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4714633, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd0ebd87e54808ed2f655b1d40e73e67?s=128&d=identicon&r=PG&f=1", "display_name": "raymondxuym", "link": "https://stackoverflow.com/users/4714633/raymondxuym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "closed_date": 1428517793, "answer_count": 3, "score": -2, "last_activity_date": 1427771076, "creation_date": 1427761480, "last_edit_date": 1427771076, "question_id": 29358578, "link": "https://stackoverflow.com/questions/29358578/how-can-i-check-if-a-string-appears-in-an-array-more-than-once", "closed_reason": "Not suitable for this site", "title": "How can I check if a string appears in an array more than once?", "body": "<p>I'd like to check if a string appears in an array more than once. There is a way I found but it requires installing something from CPAN. I don't have root access to be able to install the CPAN module in question so I would prefer to do this without using CPAN.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4731544, "user_type": "registered", "profile_image": "https://graph.facebook.com/762998977140923/picture?type=large", "display_name": "George Adams", "link": "https://stackoverflow.com/users/4731544/george-adams"}, "edited": false, "score": 0, "creation_date": 1427766150, "post_id": 29357980, "comment_id": 46902709, "body": "Thank you!. this is perfect!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1427757400, "creation_date": 1427757400, "answer_id": 29357980, "question_id": 29357730, "link": "https://stackoverflow.com/questions/29357730/generate-node-path-from-pairs-of-nodes/29357980#29357980", "title": "generate node-path from pairs of nodes", "body": "<p>The following should generate all the possible paths from a1. It uses a recursive subroutine <code>path</code> which just walks all the possible connections.</p>\n\n<p>I also used a different representation of the graph, the <code>%graph</code> hash. I created it from your <code>%connections</code> before calling <code>path</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nsub path {\n    my ($start, $graph, $path) = @_;\n    my @next = keys %{ $graph-&gt;{$start} };\n    my $found;\n    for my $n (@next) {\n        for my $from_i (keys %{ $graph-&gt;{$start}{$n} }) {\n            for my $to_i (keys %{ $graph-&gt;{$start}{$n}{$from_i} }) {\n                delete $graph-&gt;{$start}{$n}{$from_i}{$to_i};\n                path($n, $graph, [ @$path, \"$start:$from_i $n:$to_i\" ]);\n                $found = 1;\n                undef $graph-&gt;{$start}{$n}{$from_i}{$to_i};\n            }\n        }\n    }\n    print \"@$path\\n\" unless $found;\n}\n\n\nmy %connections = (\n                   'a1:1' =&gt; 'b1:1',\n                   'b1:2' =&gt; 'b2:1',\n                   'b2:4' =&gt; 'a6:1',\n                   'a1:5' =&gt; 'b5:1',\n                   'a1:7' =&gt; 'b5:2',\n                   'b5:6' =&gt; 'a2:1',\n                   'b5:7' =&gt; 'a2:2',\n                  );\n\nmy %graph;\nwhile (my ($from, $to) = each %connections) {\n    my ($from_r, $from_i) = split /:/, $from;\n    my ($to_r, $to_i)     = split /:/, $to;\n    undef $graph{$from_r}{$to_r}{$from_i}{$to_i};\n}\npath('a1', \\%graph, []);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1427758605, "creation_date": 1427758605, "answer_id": 29358175, "question_id": 29357730, "link": "https://stackoverflow.com/questions/29357730/generate-node-path-from-pairs-of-nodes/29358175#29358175", "title": "generate node-path from pairs of nodes", "body": "<p>Use <a href=\"https://metacpan.org/pod/Graph\" rel=\"nofollow\">Graph</a>. Specifically, <a href=\"https://metacpan.org/pod/Graph::TransitiveClosure\" rel=\"nofollow\">transitive closure</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 4731544, "user_type": "registered", "profile_image": "https://graph.facebook.com/762998977140923/picture?type=large", "display_name": "George Adams", "link": "https://stackoverflow.com/users/4731544/george-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 29357980, "answer_count": 2, "score": 0, "last_activity_date": 1427781793, "creation_date": 1427755953, "last_edit_date": 1427781793, "question_id": 29357730, "link": "https://stackoverflow.com/questions/29357730/generate-node-path-from-pairs-of-nodes", "title": "generate node-path from pairs of nodes", "body": "<p>I am trying to generate script that will build a path from the list of connections between different nodes (there can be more than one direct connection between 2 nodes). Also I am not looking to find shortest path, but all of them. Although each connection can be used only once in calculation.\nIt would be easier to explain if you imagine nodes in the computer network (e.g. <code>a1:1 = router a1, interface 1</code> etc).<br>\nfor example, let say we have following 2 paths (second with 2 connections between each node):</p>\n\n<pre><code>a1:1 to b1:1| b1:2 to b2:1| b2:4 to a6:1\na1:5 to b5:1| b5:6 to a2:1\na1:7 to b5:2| b5:7 to a2:2\n</code></pre>\n\n<p><code>a</code> nodes will always be the end points, but there can be any number of b nodes in the middle. </p>\n\n<p>so the output I was looking to get would look something like:</p>\n\n<pre><code>a1-b1-b2-a6\na1-b5-a2 (in this case there are 2 connections between each of the nodes)\n</code></pre>\n\n<p>following is what I came up with so far but it's not working really good:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\nmy %paths;\nmy %connections =(\n'a1:1' =&gt; 'b1:1',\n'b1:2' =&gt; 'b2:1',\n'b2:4' =&gt; 'a6:1',\n'a1:5' =&gt; 'b5:1',\n'a1:7' =&gt; 'b5:2', \n'b5:6' =&gt; 'a2:1',\n'b5:7' =&gt; 'a2:2'\n);\n\nmy %nodes;\nfor my $key ( sort keys %connections ){\n    my $n1=(split(/:/,$key))[0];\n    my $c1=(split(/:/,$key))[1];    \n    my $n2=(split(/:/,$nodes{$key}))[0];\n    my $c2=(split(/:/,$nodes{$key}))[1];\n    $nodes{$n1}{$n2}{n_of_connections}[0]+=1;\n    $nodes{$n2}{$n1}{n_of_connections}[0]+=1;\n}\nmy $n=0;\nforeach my $node ( sort keys %nodes ){\n    $n++;\n    foreach my $rnode (keys %{$nodes{$node}}) { # $rnode = \"remote node\"\n        unless ($nodes{$node}{$rnode}{used}==1){\n        $paths{$n}[0]=$node.\"-\".$rnode;\n\n    $nodes{$node}{$rnode}{used}[0]=1; #mark that it was used\n    $nodes{$rnode}{$node}{used}[0]=1; #mark that it was used\n    my $thisnode=$rnode;\n    my $nextnode=\"\";\n    until ($nextnode =~ /a/){\n        foreach my $x (keys %{$nodes{$thisnode}}) {\n            unless ($nodes{$thisnode}{$x}{used}==1){\n                $nextnode=$x;\n                $paths{$n}[0].=\"-\".$x;\n                $nodes{$thisnode}{$x}{used}[0]=1; \n                $nodes{$x}{$thisnode}{used}[0]=1; \n                $thisnode=$nextnode;\n            }   \n        }\n\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["python", "regex", "xml", "perl", "wikipedia"], "comments": [{"owner": {"reputation": 173, "user_id": 897735, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9d92672091c30423395938078e5c30f?s=128&d=identicon&r=PG", "display_name": "gradi3nt", "link": "https://stackoverflow.com/users/897735/gradi3nt"}, "edited": false, "score": 0, "creation_date": 1427756167, "post_id": 29357643, "comment_id": 46900115, "body": "It sounds to me like scraping wikipedia would be easier... i.e. calling your script would just search wikipedia and return the intro paragraph from the top hit."}, {"owner": {"reputation": 2197, "user_id": 2795733, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/348ed0bdaac5632f0fe029c2d8f55ddc?s=128&d=identicon&r=PG&f=1", "display_name": "user0", "link": "https://stackoverflow.com/users/2795733/user0"}, "reply_to_user": {"reputation": 173, "user_id": 897735, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9d92672091c30423395938078e5c30f?s=128&d=identicon&r=PG", "display_name": "gradi3nt", "link": "https://stackoverflow.com/users/897735/gradi3nt"}, "edited": false, "score": 0, "creation_date": 1427756569, "post_id": 29357643, "comment_id": 46900200, "body": "I thought that wasn&#39;t allowed..but I agree that it&#39;s a bit like reinventing the wheel otherwise"}, {"owner": {"reputation": 173, "user_id": 897735, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9d92672091c30423395938078e5c30f?s=128&d=identicon&r=PG", "display_name": "gradi3nt", "link": "https://stackoverflow.com/users/897735/gradi3nt"}, "edited": false, "score": 0, "creation_date": 1427759251, "post_id": 29357643, "comment_id": 46900888, "body": "If this is for your personal/small scale use I&#39;m sure it is fine. If this is being sold or something you should find out more details about the legality..."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427760738, "post_id": 29357643, "comment_id": 46901308, "body": "Not to discourage you from going the perl XML route (there&#39;s lots of tools ready for use) but I believe you can access the Wikipedia data as SQL as well.  If you load that into a database you can query it to your heart&#39;s content. It might make it easier to perform any separation of content from markup that might be required. Probably this is going to work best with MySQL."}, {"owner": {"reputation": 2197, "user_id": 2795733, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/348ed0bdaac5632f0fe029c2d8f55ddc?s=128&d=identicon&r=PG&f=1", "display_name": "user0", "link": "https://stackoverflow.com/users/2795733/user0"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427767977, "post_id": 29357643, "comment_id": 46903154, "body": "Thank you, I will consider that route, @G.Cito. I don&#39;t know a lot about MySQL-- is it possible to search with similar results to the actual Wikipedia search?"}, {"owner": {"reputation": 2197, "user_id": 2795733, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/348ed0bdaac5632f0fe029c2d8f55ddc?s=128&d=identicon&r=PG&f=1", "display_name": "user0", "link": "https://stackoverflow.com/users/2795733/user0"}, "reply_to_user": {"reputation": 173, "user_id": 897735, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9d92672091c30423395938078e5c30f?s=128&d=identicon&r=PG", "display_name": "gradi3nt", "link": "https://stackoverflow.com/users/897735/gradi3nt"}, "edited": false, "score": 0, "creation_date": 1427768175, "post_id": 29357643, "comment_id": 46903199, "body": "My current solution so far is to actually kind of go with @gradi3nt &#39;s suggestion by using the Wikipedia API (<a href=\"https://www.mediawiki.org/wiki/API:Main_page\" rel=\"nofollow noreferrer\">mediawiki.org/wiki/API:Main_page</a>). I don&#39;t think this is really scraping, though? The only drawbacks: 1. I need the precise name of the page, so none of the &quot;top choice from search results&quot; business and 2. I need to somehow now interpret the format. For example, here is what it gives me: <code>&amp;lt;li id=&amp;quot;cite_note-Brisse&amp;quot;&amp;gt;&amp;lt;span class=&amp;quot;mw-cite-backlink&amp;quot;&amp;gt;&amp;lt;b&amp;gt;&amp;lt;a href=&amp;quot;#cite_ref-Brisse_0&amp;quot;&amp;gt;^&amp;lt;&#47;a&amp;gt;&amp;lt;</code>. Any Python parser?"}], "answers": [{"comments": [{"owner": {"reputation": 2197, "user_id": 2795733, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/348ed0bdaac5632f0fe029c2d8f55ddc?s=128&d=identicon&r=PG&f=1", "display_name": "user0", "link": "https://stackoverflow.com/users/2795733/user0"}, "edited": false, "score": 0, "creation_date": 1427804642, "post_id": 29361717, "comment_id": 46918914, "body": "WOW! It even takes multiple words in quotes! Brilliant! Greatest dictionary ever!"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 2, "last_activity_date": 1427810930, "last_edit_date": 1427810930, "creation_date": 1427782062, "answer_id": 29361717, "question_id": 29357643, "link": "https://stackoverflow.com/questions/29357643/interested-in-searching-wikipedia-xml-dump-for-only-medically-related-terms/29361717#29361717", "title": "Interested in searching wikipedia xml dump for only medically-related terms", "body": "<p>Here is one way to query the Wikipedia database without downloading the whole thing.</p>\n\n<pre><code>import requests\nimport argparse\n\nparser = argparse.ArgumentParser(description='Fetch wikipedia extracts.')\nparser.add_argument('word', help='word to define')\nargs = parser.parse_args()\n\nproxies = {\n    # See http://www.mediawiki.org/wiki/API:Main_page#API_etiquette\n    # \"http\": \"http://localhost:3128\",\n}\n\nheaders = {\n    # http://www.mediawiki.org/wiki/API:Main_page#Identifying_your_client\n    \"User-Agent\": \"Definitions/1.0 (Contact rob@example.com for info.)\"\n}\n\nparams = {\n    'action':'query',\n    'prop':'extracts',\n    'format':'json',\n    'exintro':1,\n    'explaintext':1,\n    'generator':'search',\n    'gsrsearch':args.word,\n    'gsrlimit':1,\n    'continue':''\n}\n\nr = requests.get('http://en.wikipedia.org/w/api.php',\n                 params=params,\n                 headers=headers,\n                 proxies=proxies)\njson = r.json()\nif \"query\" in json:\n    result = json[\"query\"][\"pages\"].items()[0][1][\"extract\"]\n    print result.encode('utf-8')\nelse:\n    print \"No definition.\"\n</code></pre>\n\n<p>Here are some results. Note how it still returns a result even if the word is misspelled.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ python define.py CHOLERAE\nVibrio cholerae is a Gram-negative, comma-shaped bacterium. Some strains of V. cholerae cause the disease cholera. V. cholerae is a facultative anaerobic organism and has a flagellum at one cell pole. V. cholerae was first isolated as the cause of cholera by Italian anatomist Filippo Pacini in 1854, but his discovery was not widely known until Robert Koch, working independently 30 years later, publicized the knowledge and the means of fighting the disease.\n$ python define.py salmonella\nSalmonella /\u02ccs\u00e6lm\u0259\u02c8n\u025bl\u0259/ is a genus of rod-shaped (bacillus) bacteria of the Enterobacteriaceae family. There are only two species of Salmonella, Salmonella bongori and Salmonella enterica, of which there are around six subspecies and innumerable serovars. The genus Escherichia, which includes the species E.coli belongs to the same family.\nSalmonellae are found worldwide in both cold-blooded and warm-blooded animals, and in the environment. They cause illnesses such as typhoid fever, paratyphoid fever, and food poisoning.\n$ python define.py salmanela\nSalmonella /\u02ccs\u00e6lm\u0259\u02c8n\u025bl\u0259/ is a genus of rod-shaped (bacillus) bacteria of the Enterobacteriaceae family. There are only two species of Salmonella, Salmonella bongori and Salmonella enterica, of which there are around six subspecies and innumerable serovars. The genus Escherichia, which includes the species E.coli belongs to the same family.\nSalmonellae are found worldwide in both cold-blooded and warm-blooded animals, and in the environment. They cause illnesses such as typhoid fever, paratyphoid fever, and food poisoning.\n</code></pre>\n"}], "owner": {"reputation": 2197, "user_id": 2795733, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/348ed0bdaac5632f0fe029c2d8f55ddc?s=128&d=identicon&r=PG&f=1", "display_name": "user0", "link": "https://stackoverflow.com/users/2795733/user0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 991, "favorite_count": 1, "accepted_answer_id": 29361717, "answer_count": 1, "score": 1, "last_activity_date": 1427810930, "creation_date": 1427755499, "last_edit_date": 1427784640, "question_id": 29357643, "link": "https://stackoverflow.com/questions/29357643/interested-in-searching-wikipedia-xml-dump-for-only-medically-related-terms", "title": "Interested in searching wikipedia xml dump for only medically-related terms", "body": "<p>I would like to automatically define medical terms. Standard medical dictionaries and <code>WordNet</code>, however, don't suffice. I therefore <a href=\"http://en.wikipedia.org/wiki/Wikipedia:Database_download\" rel=\"nofollow\">downloaded</a> the wikipedia corpus to use instead. However, when I downloaded <code>enwiki-latest-pages-articles.xml</code> (which, incidentally, begins with the word \"anarchism\"--why not something like \"AA\"?) I immediately failed with <code>grep</code> due to the size of the file, and began looking online. I discovered what I thought to be already-written libraries for this, like Perl's <code>MediaWiki::DumpFile</code> (I do know some Perl, but I would prefer Python because that's what my script is written in), but it looks like most of them create or require some kind of database (I just want to (albeit fuzzily) match a word and grab the first few sentences of its introductory paragraph; e.g., a search for '<a href=\"http://en.wikipedia.org/wiki/Salmonella\" rel=\"nofollow\">salmonella</a>' would return :</p>\n\n<pre><code>Salmonella /\u02ccs\u00e6lm\u0259\u02c8n\u025bl\u0259/ is a genus of rod-shaped (bacillus) bacteria of the Enterobacteriaceae family. There are only two species of Salmonella, Salmonella bongori and Salmonella enterica, of which there are around six subspecies and innumerable serovars. The genus Escherichia, which includes the species E.coli belongs to the same family.Salmonellae are found worldwide in both cold-blooded and warm-blooded animals, and in the environment. They cause illnesses such as typhoid fever, paratyphoid fever, and food poisoning.[1].\n</code></pre>\n\n<p>For my purposes (just using it as a sort of glossary), are these scripts what I want (I find the documentation very difficult to understand without examples)? For example, I would like to:</p>\n\n<ol>\n<li><p>Just to reduce searching material, remove everything that's not medically related (I tried this with a <a href=\"http://en.wikipedia.org/w/index.php?title=Special:Categories&amp;offset=M\" rel=\"nofollow\">category</a> filter, since Wikipedia allows export of specific categories, but they didn't work as I wanted; for example, 'Medicine' would just return about 20 pages, so I would prefer to just somehow process the xml file).</p></li>\n<li><p>Allow my Python script to quickly search the Wikipedia corpus (for example, if I want to match <code>CHOLERAE</code> I would want it to take me to the definition for <code>Vibrio cholerae</code> as with the actually Wikipedia search function (just take me to the top choice). I have written a kind of search engine that can do this, but it would be slow with such a large file (40 GB).  </p></li>\n</ol>\n\n<p>Apologies in advance for what's probably a very naive question.</p>\n"}, {"tags": ["perl", "taint"], "comments": [{"owner": {"reputation": 1105, "user_id": 3097696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLUJN.jpg?s=128&g=1", "display_name": "Never Sleep Again", "link": "https://stackoverflow.com/users/3097696/never-sleep-again"}, "edited": false, "score": 0, "creation_date": 1446132683, "post_id": 29357617, "comment_id": 54626380, "body": "This may be fixed after 5.22 <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=122669\" rel=\"nofollow noreferrer\">rt.perl.org/Public/Bug/Display.html?id=122669</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1105, "user_id": 3097696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLUJN.jpg?s=128&g=1", "display_name": "Never Sleep Again", "link": "https://stackoverflow.com/users/3097696/never-sleep-again"}, "is_accepted": false, "score": 0, "last_activity_date": 1498238145, "creation_date": 1498238145, "answer_id": 44726807, "question_id": 29357617, "link": "https://stackoverflow.com/questions/29357617/tainting-of-constants-in-unpruned-branches/44726807#44726807", "title": "Tainting of constants in unpruned branches", "body": "<p>the best answer I know at this time to the associated implied actual software development problem from which this question arises, of how do I turn off a section of taint-mode perl source at development time without tainting my constants, is, set your constant to a constant instead of a tainted environment variable, like so:</p>\n\n<pre><code>use constant DEBUG_MODE =&gt; ( $ENV{DEV_DEBUG} ? 1 : 0 );\n</code></pre>\n"}], "owner": {"reputation": 1105, "user_id": 3097696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLUJN.jpg?s=128&g=1", "display_name": "Never Sleep Again", "link": "https://stackoverflow.com/users/3097696/never-sleep-again"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1498238145, "creation_date": 1427755336, "last_edit_date": 1427908388, "question_id": 29357617, "link": "https://stackoverflow.com/questions/29357617/tainting-of-constants-in-unpruned-branches", "title": "Tainting of constants in unpruned branches", "body": "<p>Perl's apparent behavior is to taint constants in branches remaining after branch pruning based on a tainted condition. Is this documented?</p>\n\n<p>This outputs <code>1</code>:</p>\n\n<pre><code>bash$ T=\"\" perl -Tle '\n\nuse constant T=&gt;$ENV{T};\nuse Scalar::Util qw/tainted/;\nexit if T;\nprint tainted(0)'\n</code></pre>\n\n<p>It seems like the constant <code>0</code> is tainted because everything after the exit (in the original problem it was a return) is in a branch that remains after branch pruning has occurred based on a tainted condition. This happens to be a very nifty feature of Perl's taint mode, but I cannot find documentation for it anywhere. When <code>$ENV{T}</code> is not set or when the condition is on a dynamic access to <code>$ENV{T}</code>, constants are not tainted.</p>\n\n<p>By the way, the best answer I know at this time to the associated implied actual software development problem from which this question arises, of <em>how do I turn off a section of taint-mode perl source at development time without tainting my constants</em>, is, set your constant to a constant instead of a tainted environment variable, like so:</p>\n\n<pre><code>use constant DEBUG_MODE =&gt; ( $ENV{DEV_DEBUG} ? 1 : 0 );\n</code></pre>\n"}, {"tags": ["regex", "perl", "shell", "awk"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427753815, "post_id": 29357285, "comment_id": 46899330, "body": "Wouldn&#39;t it be kind of rude to have your job sitting in the queue not doing anything while other people are waiting? While your job is sleeping, other jobs could be running that use licenses that <i>are</i> available."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1427754116, "post_id": 29357285, "comment_id": 46899448, "body": "No, you are trying to use awk as shell. Write a shell script to call cosmolicense and awk and sleep."}, {"owner": {"reputation": 45, "user_id": 4731588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b344cb30c1bd07174a2e42fcca83c42e?s=128&d=identicon&r=PG&f=1", "display_name": "ChemPaul", "link": "https://stackoverflow.com/users/4731588/chempaul"}, "edited": false, "score": 0, "creation_date": 1427755899, "post_id": 29357285, "comment_id": 46900040, "body": "Usually the licenses free up relatively quickly, so this job isn&#39;t going to be sitting there for hours, maybe 30 minutes or so. Comparing 30 minutes, to days of waiting for it to try again, seems OK to me. Ideally there would be some feature integrated into SGE that could check the license before starting my job, but that doesn&#39;t seem to be an option.  Any ideas of what my regular expression would look like if I wrote a shell script? I had tried something like <code>&#47;&#39;Users of COMSOL:  \\(Total of (\\d) licenses issued;  Total of (\\d) licenses in use\\)&#39;&#47;</code> but that didn&#39;t match anything."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4731588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b344cb30c1bd07174a2e42fcca83c42e?s=128&d=identicon&r=PG&f=1", "display_name": "ChemPaul", "link": "https://stackoverflow.com/users/4731588/chempaul"}, "edited": false, "score": 0, "creation_date": 1427757942, "post_id": 29357661, "comment_id": 46900582, "body": "Thanks! That&#39;s a lot more complicated than I would have expected it to be. I think I need to look more into learning regular expressions."}, {"owner": {"reputation": 2404, "user_id": 1259917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577edfc3837692b632394130b82b095a?s=128&d=identicon&r=PG", "display_name": "n0741337", "link": "https://stackoverflow.com/users/1259917/n0741337"}, "edited": false, "score": 1, "creation_date": 1427759349, "post_id": 29357661, "comment_id": 46900924, "body": "You don&#39;t need much regex using awk.  Using the field positions <code>awk &#39;&#47;Users of COMSOL&#47; { print $6 - $11 }&#39; comsollicense</code> would work for getting the difference as a single output."}], "tags": [], "owner": {"reputation": 16, "user_id": 4730824, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9eNFd4zfBuo/AAAAAAAAAAI/AAAAAAAAABQ/jlveU8m7NGA/photo.jpg?sz=128", "display_name": "Wizard Orko", "link": "https://stackoverflow.com/users/4730824/wizard-orko"}, "is_accepted": true, "score": 0, "last_activity_date": 1427811989, "last_edit_date": 1427811989, "creation_date": 1427755606, "answer_id": 29357661, "question_id": 29357285, "link": "https://stackoverflow.com/questions/29357285/check-license-using-awk-and-regular-expression/29357661#29357661", "title": "Check license using awk and regular expression?", "body": "<p>Prints the number of issued licenses:</p>\n\n<pre><code>awk '/COMSOL/ { print $6; }'  comsollicense\n</code></pre>\n\n<p>Prints the number of licenses in use:</p>\n\n<pre><code>awk '/COMSOL/ { print $11; }'  comsollicense\n</code></pre>\n\n<p>You may use this in a shell-script. Hope this helps.</p>\n"}], "owner": {"reputation": 45, "user_id": 4731588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b344cb30c1bd07174a2e42fcca83c42e?s=128&d=identicon&r=PG&f=1", "display_name": "ChemPaul", "link": "https://stackoverflow.com/users/4731588/chempaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 29357661, "answer_count": 1, "score": 1, "last_activity_date": 1427811989, "creation_date": 1427753568, "question_id": 29357285, "link": "https://stackoverflow.com/questions/29357285/check-license-using-awk-and-regular-expression", "title": "Check license using awk and regular expression?", "body": "<p>I submit jobs to my university's SGE batch engine and am running a program called COMSOL, which has a limited number of licenses than can be run at a given time. When I submit a job, it sits in a queue for a while until it's my turn. If all of the COMSOL licenses are being used, my job immediately quits and I have to resubmit it, potentially waiting several days before it tries again. I'd like to avoid that. I've created an alias (<code>comsollicense</code>) to a program that outputs all of the licensing of COMSOL and its different modules. Among them is a line that looks like this:</p>\n\n<pre><code>Users of COMSOL:  (Total of 7 licenses issued;  Total of 7 licenses in use)\n</code></pre>\n\n<p>There are other lines in the output that look similar:</p>\n\n<pre><code>Users of WAVEOPTICS:  (Total of 2 licenses issued;  Total of 0 licenses in use)\nUsers of CHEM:  (Total of 2 licenses issued;  Total of 2 licenses in use)\netc....\n</code></pre>\n\n<p>In my SGE job script, I want to select the line that starts with \"Users of COMSOL\" and compare the number of licenses in use to the number issued. If they're the same number, I want it to wait, check again later, and when there is an available license, I want my COMSOL to run. I was thinking something like:</p>\n\n<pre><code>awk '{\n    comsollicense\n    SOME CODE HERE TO EXTRACT numIssued AND numUsed\n    while (numIssued == numUsed){\n        sleep 300\n        comsollicense\n        CODE TO EXTRACT numIssued AND numUSED\n    }\n}'\ncomsol -inputfile test.mph\n</code></pre>\n\n<p>Is this an appropriate approach? I was thinking I could use a regular expression in there, but I am not really familiar with how to program regular expressions. How can I extract the number of licenses issued and the number in use?</p>\n"}, {"tags": ["regex", "linux", "perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427753917, "post_id": 29356944, "comment_id": 46899375, "body": "More robust: <code>=\\s*(\\S+)\\s+\\S+\\s+(.*)</code>"}], "tags": [], "owner": {"reputation": 945, "user_id": 1254830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fk2mq.png?s=128&g=1", "display_name": "apgp88", "link": "https://stackoverflow.com/users/1254830/apgp88"}, "is_accepted": true, "score": 1, "last_activity_date": 1427752053, "creation_date": 1427752053, "answer_id": 29356944, "question_id": 29356819, "link": "https://stackoverflow.com/questions/29356819/perl-regex-ignore-specific-keywords/29356944#29356944", "title": "perl regex ignore specific keywords", "body": "<p>You can use,</p>\n\n<pre><code>=\\s*(\\d+\\.\\d+)\\s*\\w+\\s*(\\w+)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/lE4lM5/1\" rel=\"nofollow\">Working demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 0, "creation_date": 1427752637, "post_id": 29356956, "comment_id": 46898855, "body": "@apgp88 and you hit answer same time, you both great but i going to answer <code>apgp88</code> it directly hit the solution:"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1427752092, "creation_date": 1427752092, "answer_id": 29356956, "question_id": 29356819, "link": "https://stackoverflow.com/questions/29356819/perl-regex-ignore-specific-keywords/29356956#29356956", "title": "perl regex ignore specific keywords", "body": "<p>Just don't capture what you don't want to keep:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile (&lt;DATA&gt;) {\n    /= \\s* ([0-9.]+) \\s MiB/x and print $1, \"\\n\";\n}\n\n__DATA__\n22.0 MiB +  27.1 MiB =  49.2 MiB       process1\n78.9 MiB + 636.5 KiB =  79.5 MiB       process2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1354, "user_id": 1653270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c57d3d99827c5e6cdf0880292769472?s=128&d=identicon&r=PG", "display_name": "michael501", "link": "https://stackoverflow.com/users/1653270/michael501"}, "is_accepted": false, "score": 0, "last_activity_date": 1427752762, "last_edit_date": 1427752762, "creation_date": 1427752546, "answer_id": 29357057, "question_id": 29356819, "link": "https://stackoverflow.com/questions/29356819/perl-regex-ignore-specific-keywords/29357057#29357057", "title": "perl regex ignore specific keywords", "body": "<p>Try this :</p>\n\n<pre><code>if ( $_ =~  /(=\\s+)(.*[\\d\\.]+)/ ) {\n      print \"$2\\n\";\n  }; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1427752560, "creation_date": 1427752560, "answer_id": 29357063, "question_id": 29356819, "link": "https://stackoverflow.com/questions/29356819/perl-regex-ignore-specific-keywords/29357063#29357063", "title": "perl regex ignore specific keywords", "body": "<pre><code> m{ = ([0-9]+ (?: [.][0-9]+)? ) \\s+ \\S+ \\s+ (\\S+) }x\n</code></pre>\n"}], "owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 1, "accepted_answer_id": 29356944, "answer_count": 4, "score": 0, "last_activity_date": 1427752762, "creation_date": 1427751582, "question_id": 29356819, "link": "https://stackoverflow.com/questions/29356819/perl-regex-ignore-specific-keywords", "title": "perl regex ignore specific keywords", "body": "<p>I have following output:</p>\n\n<pre><code>22.0 MiB +  27.1 MiB =  49.2 MiB       process1\n78.9 MiB + 636.5 KiB =  79.5 MiB       process2\n</code></pre>\n\n<p>I need last to column so i am using following regex, I am putting (XX MiB values and processX in two group $1 and $2)</p>\n\n<pre><code>/([^=]+)\\s([a-z].*)/\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>49.2 MiB\n79.5 MiB\n</code></pre>\n\n<p>I want to ignore/remove <code>MiB</code> in regex group how do i remove that? </p>\n"}, {"tags": ["perl", "parameters", "subroutine"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1427743328, "post_id": 29354417, "comment_id": 46893978, "body": "You&#39;re passing <code>%b</code>, but printing <code>$b</code>."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1427743392, "post_id": 29354417, "comment_id": 46894012, "body": "A list variable in the assignment will receive all the remaining arguments to the function."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1427743477, "post_id": 29354417, "comment_id": 46894076, "body": "If you want to pass a list without spreading it out as separate arguments, you should use an array reference."}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1427743795, "last_edit_date": 1427743795, "creation_date": 1427743488, "answer_id": 29354533, "question_id": 29354417, "link": "https://stackoverflow.com/questions/29354417/perl-passing-arguments-to-subroutine-not-working/29354533#29354533", "title": "Perl Passing arguments to subroutine not working", "body": "<p>When arguments are passed to a Perl subroutine, they are flattened into a single List represented by <a href=\"http://perldoc.perl.org/perlvar.html#SPECIAL-VARIABLES\" rel=\"nofollow\"><code>@_</code></a>. Conceptually, this means that if you are not passing references to arrays or hashes, you will \"lose\" some data. \"Lose\" is not exactly correct, because all of the data is still there; it is just not in the variable you expect. An example of this could be: </p>\n\n<pre><code>sub f {\n   my (@a, @b) = @_;\n\n   say 'a: ' . join(', ', @a);\n   say 'b: ' . join(', ', @b);\n}\nf( qw(1 2 3), qw(a b c) );\n</code></pre>\n\n<p>You will get the following output: </p>\n\n<pre><code>a: 1, 2, 3, a, b, c\nb: \n</code></pre>\n\n<p>This is happening because the first array <code>@a</code> consumes all of the values from <code>@_</code> and there a no more left to be stored in <code>@b</code>. The same thing is happening with the hash in your beforeEnd subroutine. The values of <code>$c</code> and <code>$d</code> are getting stored inside of <code>%b</code>. As an example since I can't see the variables values, if you passed</p>\n\n<pre><code>beforeEnd(1, ( a =&gt; 1, b =&gt; 2 ), 'c', 3);\n</code></pre>\n\n<p>inside your sub, you get something like this:</p>\n\n<pre><code>$a = 1\n%b = ( a =&gt; 1, b =&gt; 2, c =&gt; 3 )\n$c = undef\n$d = undef \n</code></pre>\n\n<p>You can solve this by passing a reference to your hash %b:</p>\n\n<pre><code>beforeEnd($a, \\%b, $c, $d);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1427789942, "last_edit_date": 1427789942, "creation_date": 1427743580, "answer_id": 29354561, "question_id": 29354417, "link": "https://stackoverflow.com/questions/29354417/perl-passing-arguments-to-subroutine-not-working/29354561#29354561", "title": "Perl Passing arguments to subroutine not working", "body": "<p>Because when you pass arguments into or out of a subroutine, any hashes and arrays are smashed flat. </p>\n\n<p>You are assigning into <code>%b</code> which will gobble up any arguments.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nsub test1 {\n    my ( $first, @rest, $last ) = @_;\n\n    print Dumper \\@rest;\n\n    print \"First = $first, last = $last, rest = @rest\\n\";\n}\n\nsub test2 { \n   my ( $first, $second ) = @_;\n   print \"@$first ; @$second\"; \n}\n\ntest1 ( 1, 2, 3, 4 ); \ntest2 ( [1,2], [ 3,4] );\n\nmy @list1 = ( 1,2,3,4 );\nmy @list2 = ( 5,6,7,8 );\n\ntest1 ( @list1, @list2 );\ntest2 ( \\@list1, \\@list2 );\n</code></pre>\n\n<p>If you want to keep arrays or hashes intact, you need to either pass them by reference or as the last argument. </p>\n\n<p>You would also probably get a warning if you turned on <code>strict</code> and <code>warnings</code> here - which is one of the reasons it's strongly recommended - because <code>$b</code> and <code>%b</code> are not the same. You'd also get a warning about an odd number of assignments:</p>\n\n<pre><code>Odd number of elements in hash assignment at line 5.\nUse of uninitialized value $b in print\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1427744011, "last_edit_date": 1427744011, "creation_date": 1427743642, "answer_id": 29354575, "question_id": 29354417, "link": "https://stackoverflow.com/questions/29354417/perl-passing-arguments-to-subroutine-not-working/29354575#29354575", "title": "Perl Passing arguments to subroutine not working", "body": "<p>Subroutines accept a list of scalar as arguments. If you pass an array or a hash, the contents of the array or hash is passed instead. That means that</p>\n\n<pre><code>f($a, %b, $c, $d)\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>f($a, $b_key_1, $b_val_1, $b_key_2, $b_val_2, $b_key_3, $b_val_3, $c, $d);\n</code></pre>\n\n<p>How many of the scalars in <code>@_</code> should be assigned to <code>%b</code>? Perl keeps it simple and assigns all remaining scalars, so </p>\n\n<pre><code>my ($a, %b, $c, $d) = @_;\n</code></pre>\n\n<p>is really no different than </p>\n\n<pre><code>my $a = $_[0];        # The first argument\nmy %b = @_[1..$#_];   # All but the first argument\nmy $c;\nmy $d;\n</code></pre>\n\n<p>It's best if you pass a reference to the hash. That avoids the problem, and it's far more efficient.</p>\n\n<pre><code>use Data::Dumper qw( Dumper );\n\nsub beforeEnd {\n    my ($a, $b, $c, $d) = @_;\n    local $Data::Dumper::Terse = 1;\n    print \"a is $a, b is \".Dumper($b).\", c is $c, d is $d \\n\";\n}\n\nbeforeEnd($a, \\%b, $c, $d);\n</code></pre>\n\n<hr>\n\n<p>Off-topic comments about your code:</p>\n\n<ul>\n<li><p>You had a prototype indicating no arguments are expected <code>()</code>, but you expect four. Rid yourself of that prototype.</p></li>\n<li><p>You should avoid using <code>$a</code> and <code>$b</code> as variables as it can issues with <code>sort</code>.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 2991512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8457ee5fb130ce30a83aadebe9590e3?s=128&d=identicon&r=PG&f=1", "display_name": "Kurnal", "link": "https://stackoverflow.com/users/2991512/kurnal"}, "is_accepted": false, "score": 0, "last_activity_date": 1427798129, "creation_date": 1427798129, "answer_id": 29366601, "question_id": 29354417, "link": "https://stackoverflow.com/questions/29354417/perl-passing-arguments-to-subroutine-not-working/29366601#29366601", "title": "Perl Passing arguments to subroutine not working", "body": "<p>The arguments can be passed in subroutine only as list of scalar variables. </p>\n\n<p>We need to pass the reference of the hash (or an array, object) whenever passing the arguments to subroutine.\n...\n...\n...\n    print \"Passing arguments $a, $b, $c, $d \\n\";\n    beforeEnd($a, \\%b, $c, $d);</p>\n\n<pre><code>sub beforeEnd() {\n    my ($a, $b, $c, $d) = @_;\n    print \"a is $a, b is %$b, c is $c, d is $d \\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 1871190, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f289cb789ac583ba4b5386a82df440d0?s=128&d=identicon&r=PG&f=1", "display_name": "ddnm", "link": "https://stackoverflow.com/users/1871190/ddnm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1612, "favorite_count": 0, "accepted_answer_id": 29354561, "answer_count": 4, "score": 0, "last_activity_date": 1427798129, "creation_date": 1427743061, "question_id": 29354417, "link": "https://stackoverflow.com/questions/29354417/perl-passing-arguments-to-subroutine-not-working", "title": "Perl Passing arguments to subroutine not working", "body": "<p>I'm trying to pass parameters to a perl subroutine and for whatever reason inside the subroutine the parameters are coming out empty.</p>\n\n<pre><code>...\n...\n...\nprint \"Passing arguments $a, $b, $c, $d \\n\";\nbeforeEnd($a, %b, $c, $d);\n\nsub beforeEnd() {\n    my ($a, %b, $c, $d) = @_;\n    print \"a is $a, b is $b, c is $c, d is $d \\n\";\n}\n</code></pre>\n\n<p>The output of the print statements give me an idea that something is wrong. The weird part? The first 2 parameters are passing properly.</p>\n\n<pre><code>&gt; Passing arguments 1, (1,2,3), 2, 3\n&gt; a is 1, b is (1,2,3), c is , d is\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["perl", "ip", "country", "whois"], "comments": [{"owner": {"reputation": 9198, "user_id": 7724, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9535aaa1b9e6084e4dc739bc686739d4?s=128&d=identicon&r=PG", "display_name": "bzlm", "link": "https://stackoverflow.com/users/7724/bzlm"}, "edited": false, "score": 2, "creation_date": 1427743123, "post_id": 29354389, "comment_id": 46893862, "body": "The Country you&#39;re seeing isn&#39;t necessarily the &quot;country from IP address&quot;. You should look into something like <a href=\"http://search.cpan.org/~maxmind/Geo-IP-1.45/lib/Geo/IP.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~maxmind/Geo-IP-1.45/lib/Geo/IP.pm</a> instead."}, {"owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "reply_to_user": {"reputation": 9198, "user_id": 7724, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9535aaa1b9e6084e4dc739bc686739d4?s=128&d=identicon&r=PG", "display_name": "bzlm", "link": "https://stackoverflow.com/users/7724/bzlm"}, "edited": false, "score": 0, "creation_date": 1427743240, "post_id": 29354389, "comment_id": 46893932, "body": "But I had to use whois :P In school my task is to use &quot;whois&quot; and get country from this."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1514923338, "post_id": 29354389, "comment_id": 83107511, "body": "Do not escape to the shell to do that, you have many whois libraries in Perl."}], "answers": [{"tags": [], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "is_accepted": false, "score": 0, "last_activity_date": 1427744366, "creation_date": 1427744366, "answer_id": 29354791, "question_id": 29354389, "link": "https://stackoverflow.com/questions/29354389/use-whois-to-get-country-from-ip-address-in-perl/29354791#29354791", "title": "Use whois to get country from IP address in Perl", "body": "<p>I made it in little noob way, but it works xd</p>\n\n<pre><code>$test = `whois $_ |grep -i country`;\n$rid = rindex($test, \":\");\n$b = substr(\"$test, $rid+1);\n</code></pre>\n\n<p>And now I have just \"DE\", \"BR\", \"CN\", \"MX\" etc :)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1427746721, "last_edit_date": 1427746721, "creation_date": 1427744380, "answer_id": 29354797, "question_id": 29354389, "link": "https://stackoverflow.com/questions/29354389/use-whois-to-get-country-from-ip-address-in-perl/29354797#29354797", "title": "Use whois to get country from IP address in Perl", "body": "<pre><code>my $country = `whois $ip | grep -Po '^Country:\\s*\\K.*';\nchomp($country);\n</code></pre>\n\n<p>But seeing as the \"P\" in <code>-P</code> stands for \"Perl\", we might as well get rid of <code>grep</code>.</p>\n\n<pre><code>my $whois = `whois $ip`;\nmy ($country) = $whois =~ /^Country:\\s*(.*)/m;\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1147, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1610332862, "creation_date": 1427742944, "last_edit_date": 1610332862, "question_id": 29354389, "link": "https://stackoverflow.com/questions/29354389/use-whois-to-get-country-from-ip-address-in-perl", "title": "Use whois to get country from IP address in Perl", "body": "<p>how can I get country from IP address in Perl? I have to use whois to do it.\nI know, that to take country I can use:</p>\n<pre><code>$test = `whois $ip |grep -i country`;\n</code></pre>\n<p>But it returns me <code>&quot;Country:           DE&quot;</code>. I need just &quot;DE&quot;.</p>\n"}, {"tags": ["bash", "perl", "passwords", "escaping", "quotes"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1427740060, "post_id": 29353300, "comment_id": 46892157, "body": "By the way, backticks expect a <code>sh</code> command, not a <code>bash</code> command."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1427740121, "post_id": 29353300, "comment_id": 46892193, "body": "By the way, command lines can be seen by anyone on the machine, so including passwords on command lines is a bad idea."}], "answers": [{"comments": [{"owner": {"reputation": 2236, "user_id": 25999, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/32dc9f0968419b360b50cc3d2a4f0e67?s=128&d=identicon&r=PG&f=1", "display_name": "kidbrax", "link": "https://stackoverflow.com/users/25999/kidbrax"}, "edited": false, "score": 0, "creation_date": 1427810357, "post_id": 29353474, "comment_id": 46921760, "body": "thanks for the suggestion.  i tried it and received an error when executing shell_quote.  but it turns out i had an error in one of my hostnames so didnt pursue the error further."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1427741583, "last_edit_date": 1427741583, "creation_date": 1427739907, "answer_id": 29353474, "question_id": 29353300, "link": "https://stackoverflow.com/questions/29353300/how-can-i-escape-a-bang-exclamation-in-a-perl-script-calling-a-bash-command/29353474#29353474", "title": "how can i escape a ! (bang/exclamation) in a perl script calling a bash command?", "body": "<p>As you can tell by using <code>&#x60;perl -E'say for \\@ARGV' -- ...&#x60;</code>, the following two strings are passed as arguments:</p>\n\n<pre><code>h=1.2.3.4,p=password!!,u=user1,D=db_name,t=table_name\nh=5.6.7.8,p=password2!!,u=user2,D=db_name,t=table_name\n</code></pre>\n\n<p>You didn't specify what format you expected, but that looks right. Mind you, I would use <code>shell_quote</code> rather than <code>'$var'</code>.</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote(\n   'pt-table-sync',\n   join(',',\n      \"h=$source_db_ip\",\n      \"p=$source_password\",\n      \"u=$source_user\",\n      \"D=db_name\",\n      \"t=table_name\",\n   ),\n   join(',',\n      \"h=$destination_db_ip\",\n      \"p=$destination_password\",\n      \"u=$destination_user\",\n      \"D=db_name\",\n      \"t=table_name\",\n   ),\n);\n\n`$cmd`\n</code></pre>\n"}], "owner": {"reputation": 2236, "user_id": 25999, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/32dc9f0968419b360b50cc3d2a4f0e67?s=128&d=identicon&r=PG&f=1", "display_name": "kidbrax", "link": "https://stackoverflow.com/users/25999/kidbrax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427741583, "creation_date": 1427739340, "question_id": 29353300, "link": "https://stackoverflow.com/questions/29353300/how-can-i-escape-a-bang-exclamation-in-a-perl-script-calling-a-bash-command", "title": "how can i escape a ! (bang/exclamation) in a perl script calling a bash command?", "body": "<p>I am updating a legacy Perl script.  It is pretty straight forward in that it sets some variables and then calls a bash command.  The issue is that I am passing a password that has 2 exclamations in it.  These seem to be getting translated wrong.  Say I have this script:</p>\n\n<pre><code>$source_db_ip = \"1.2.3.4\"; # carl dev/qa\n$source_user = 'user1';\n$source_password = \"password!!\";\n\n$destination_db_ip = \"5.6.7.8\";\n$destination_user     = \"user2\";\n$destination_password = \"password2!!\";\n\nmy $status = `pt-table-sync h=$source_db_ip,p='${source_password}',u=$source_user,D=db_name,t=table_name   h=$destination_db_ip,p='$destination_password',u='$destination_user',D=db_name,t=table_name`;\n</code></pre>\n\n<p>This keeps failing.  I know the credentials are correct as I have manually checked them.  So how can I correctly escape the password so it is translated correctly?</p>\n"}, {"tags": ["perl", "output", "perl-data-structures", "data-dumper"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "edited": false, "score": 0, "creation_date": 1427755401, "post_id": 29352860, "comment_id": 46899873, "body": "So when I try the first method, I get this message: Can&#39;t use string (&quot;output_1427778835.txt&quot;) as a symbol ref while &quot;strict refs&quot; in use..what does it mean?"}, {"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "edited": false, "score": 0, "creation_date": 1427755754, "post_id": 29352860, "comment_id": 46900000, "body": "Oh my bad, sorry..was using the output file with the timestamp as the actual name of the file..That was the reason for that error message I was getting. Your suggestion works fine now! Thanks! :)"}, {"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "edited": false, "score": 0, "creation_date": 1427757127, "post_id": 29352860, "comment_id": 46900378, "body": "@Daniel..Another extension to the same question: Is there a way to give these output files unique names instead of having the time stamp in its name?"}], "tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": true, "score": 2, "last_activity_date": 1427758403, "last_edit_date": 1427758403, "creation_date": 1427737793, "answer_id": 29352860, "question_id": 29352785, "link": "https://stackoverflow.com/questions/29352785/dump-perl-hash-into-new-txt-file-every-time-script-runs/29352860#29352860", "title": "Dump Perl hash into new txt file every time script runs", "body": "<p>You can use a timestamp as part of the filename. I guess your script doesn't run more often than once per second.</p>\n\n<p>So instead of fixed <code>'output.txt'</code> use</p>\n\n<pre><code>my $time = time; # seconds since 1970-01-01\nmy $filename = \"output_$time.txt\"; # output_1427737784.txt\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use DateTime;\nmy $now = DateTime-&gt;now;\nmy $filename = \"output_$now.txt\"; # output_2015-03-30T17:49:16.txt\n</code></pre>\n\n<p>If you need more filenames or just dislike the timestamp the <a href=\"https://metacpan.org/pod/File::Temp\" rel=\"nofollow\"><code>File::Temp</code></a> is to the rescue. It does not only create a random filename for you but also opens the file immediately (safe against dead locks) and returns a file handle.</p>\n\n<pre><code>use File::Temp 'tempfile';\nmy ($fh, $filename) = tempfile(); # replaces open()\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 29352860, "answer_count": 1, "score": 1, "last_activity_date": 1427910661, "creation_date": 1427737514, "last_edit_date": 1427910661, "question_id": 29352785, "link": "https://stackoverflow.com/questions/29352785/dump-perl-hash-into-new-txt-file-every-time-script-runs", "title": "Dump Perl hash into new txt file every time script runs", "body": "<p>I have a Perl script that dumps a hash into an 'output.txt' file. The problem is, every time I run this script, the same 'output.txt' file gets overwritten. How do I generate a new '.txt' file every time I run the script so that I have the results in separate files for each run?</p>\n\n<p>I have something like this right now at the end of my perl script:</p>\n\n<pre><code>print Dumper( \\%data );\nopen my $temp, '&gt;', 'output.txt' or die $!;\nprint $temp Dumper \\%data;\nclose $temp;\n</code></pre>\n"}, {"tags": ["perl", "perl-prove", "test-more"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1427737023, "post_id": 29352540, "comment_id": 46890517, "body": "(Lower case package names are conventionally reserved for pragmas (compiler directives, often lexically scoped).)"}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 6, "last_activity_date": 1427737184, "last_edit_date": 1427737184, "creation_date": 1427736972, "answer_id": 29352631, "question_id": 29352540, "link": "https://stackoverflow.com/questions/29352540/cannot-detect-source-of-factorial-why/29352631#29352631", "title": "Cannot detect source of &#39;factorial&#39;. Why?", "body": "<p>The man page for <a href=\"http://linuxcommand.org/man_pages/prove1.html\" rel=\"noreferrer\"><code>prove</code></a> states that it accepts options and files or directories:</p>\n\n<pre><code>prove [options] [files or directories]\n</code></pre>\n\n<p>it will not do any name expansion for you.</p>\n\n<p>You have given <code>prove</code> an argument of <code>factorial</code>, while I suspect your test file is named <code>factorial.t</code> </p>\n\n<p>The following <code>prove</code> commands should all be valid:</p>\n\n<pre><code>prove factorial.t\nprove fac*\nprove &lt;directory that contains factorial.t&gt;\n</code></pre>\n\n<p>Note: the last two commands <em>could</em> run more than one test depending on the contents of the working directory, or the directory you pass to <code>prove</code></p>\n"}], "owner": {"reputation": 2280, "user_id": 229058, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1556e6ebdef89457b4a34b9a1b426a2a?s=128&d=identicon&r=PG", "display_name": "Stephen Rasku", "link": "https://stackoverflow.com/users/229058/stephen-rasku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 935, "favorite_count": 0, "accepted_answer_id": 29352631, "answer_count": 1, "score": 2, "last_activity_date": 1427737184, "creation_date": 1427736660, "question_id": 29352540, "link": "https://stackoverflow.com/questions/29352540/cannot-detect-source-of-factorial-why", "title": "Cannot detect source of &#39;factorial&#39;. Why?", "body": "<p>I am getting the following traceback when I try and <code>prove factorial</code>:</p>\n\n<pre><code>Cannot detect source of 'factorial'! at /usr/share/perl/5.18/TAP/Parser/IteratorFactory.pm line 263.\n    TAP::Parser::IteratorFactory::detect_source('TAP::Parser::IteratorFactory=HASH(0x2856b08)', 'TAP::Parser::Source=HASH(0x2856bc8)') called at /usr/share/perl/5.18/TAP/Parser/IteratorFactory.pm line 213\n    TAP::Parser::IteratorFactory::make_iterator('TAP::Parser::IteratorFactory=HASH(0x2856b08)', 'TAP::Parser::Source=HASH(0x2856bc8)') called at /usr/share/perl/5.18/TAP/Parser.pm line 469\n    TAP::Parser::_initialize('TAP::Parser=HASH(0x28569e8)', 'HASH(0x23d8cb8)') called at /usr/share/perl/5.18/TAP/Object.pm line 58\n    TAP::Object::new('TAP::Parser', 'HASH(0x23d8cb8)') called at /usr/share/perl/5.18/TAP/Object.pm line 133\n    TAP::Object::_construct('TAP::Harness=HASH(0x2131db8)', 'TAP::Parser', 'HASH(0x23d8cb8)') called at /usr/share/perl/5.18/TAP/Harness.pm line 779\n    TAP::Harness::make_parser('TAP::Harness=HASH(0x2131db8)', 'TAP::Parser::Scheduler::Job=HASH(0x28235d0)') called at /usr/share/perl/5.18/TAP/Harness.pm line 578\n    TAP::Harness::_aggregate_single('TAP::Harness=HASH(0x2131db8)', 'TAP::Parser::Aggregator=HASH(0x2740ae0)', 'TAP::Parser::Scheduler=HASH(0x2823570)') called at /usr/share/perl/5.18/TAP/Harness.pm line 670\n    TAP::Harness::aggregate_tests('TAP::Harness=HASH(0x2131db8)', 'TAP::Parser::Aggregator=HASH(0x2740ae0)', 'factorial') called at /usr/share/perl/5.18/TAP/Harness.pm line 485\n    TAP::Harness::__ANON__() called at /usr/share/perl/5.18/TAP/Harness.pm line 498\n    TAP::Harness::runtests('TAP::Harness=HASH(0x2131db8)', 'factorial') called at /usr/share/perl/5.18/App/Prove.pm line 554\n    App::Prove::_runtests('App::Prove=HASH(0x2120170)', 'HASH(0x2606428)', 'TAP::Harness', 'factorial') called at /usr/share/perl/5.18/App/Prove.pm line 512\n    App::Prove::run('App::Prove=HASH(0x2120170)') called at /usr/bin/prove line 11\n</code></pre>\n\n<p>This is my <code>factorial.pm</code>:</p>\n\n<pre><code>package factorial;\n\nuse Exporter qw(import);\n\nBEGIN {\n    our @EXPORT_OK  = qw(factorial);\n}\n\nsub factorial\n{\n    my ($parm) = @_;\n\n    my $factorial = 1;\n\n    if ($parm == 0)\n    {\n        return $factorial;\n    }\n\n    foreach my $i (1..$parm) {\n        $factorial *= $i;\n    }\n\n    return $factorial;\n}\n\n1;\n</code></pre>\n\n<p>And my <code>factorial.t</code>:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Test::More;\n\nuse factorial 'factorial';\nis(factorial(0), 1, \"boundary case\");\nis(factorial(1), 1, \"factorial(1)\");\nis(factorial(2), 2, \"factorial(2)\");\nis(factorial(6), 720, \"factorial(6)\");\n\ndone_testing;\n</code></pre>\n\n<p>I verified that my <code>factorial</code> module works by running this program (or, at least, does one thing correctly).</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse factorial 'factorial';\n\nmy $parm = 5;\nprint \"Factorial($parm) = \", factorial($parm), \"\\n\";\n</code></pre>\n"}, {"tags": ["perl", "ssh"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1427734195, "post_id": 29351602, "comment_id": 46888891, "body": "<code>$out_fh-&gt;autoflush(1);</code> will cause Perl to flush the output to disk when you print it, but there might be other buffering in play."}], "answers": [{"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": true, "score": 1, "last_activity_date": 1427791451, "creation_date": 1427791451, "answer_id": 29364275, "question_id": 29351602, "link": "https://stackoverflow.com/questions/29351602/real-time-logging-to-file-with-ssh/29364275#29364275", "title": "Real time logging to file with SSH?", "body": "<p>You can't do that with Net::SSH::Perl... well, at least not easily!</p>\n\n<p>Use <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow\">Net::OpenSSH</a> instead:</p>\n\n<pre><code>$ssh = Net::OpenSSH-&gt;new($host, user =&gt; $user, password =&gt; $password);\n$ssh-&gt;system({stdout_file =&gt; $file}, $cmd);\n</code></pre>\n"}], "owner": {"reputation": 5423, "user_id": 937922, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/VsV8g.png?s=128&g=1", "display_name": "Takkun", "link": "https://stackoverflow.com/users/937922/takkun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 2, "accepted_answer_id": 29364275, "answer_count": 1, "score": 1, "last_activity_date": 1427791451, "creation_date": 1427733492, "question_id": 29351602, "link": "https://stackoverflow.com/questions/29351602/real-time-logging-to-file-with-ssh", "title": "Real time logging to file with SSH?", "body": "<pre><code>my $file = 'log.log';\nmy $cmd = 'sysstat';\nmy $ssh = Net::SSH::Perl-&gt;new($host);\n$ssh-&gt;login('admin', 'password');\n\nopen my $in, \"-|\", ($ssh-&gt;cmd($cmd))[0];\nopen my $out_fh, \"&gt;\", $file;\n#print+($ssh-&gt;cmd($cmd))[0].\"\\n\";\nwhile (my $line = &lt;$in&gt;) {\n    print { $out_fh } $line;\n}\n</code></pre>\n\n<p>Any recommendations for how to log ssh output to a file in real time? $cmd will run forever and I'd like each line it spits out be written to the file in real time.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427730925, "post_id": 29350572, "comment_id": 46886928, "body": "<code>my $range = $colarray $rowinc;</code> is not valid Perl code, like the error says. I am not sure what you are trying to do there."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427732787, "post_id": 29350572, "comment_id": 46888057, "body": "Based on the first example in the <a href=\"https://metacpan.org/pod/Win32::OLE#EXAMPLES\" rel=\"nofollow noreferrer\">documentation</a>, <code>Range</code> takes a pair of cell names separated by a colon, e.g. <code>$sheet-&gt;Range(&quot;A8:C9&quot;)</code>. Do you know how to include variables in a string?"}, {"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427733402, "post_id": 29350572, "comment_id": 46888457, "body": "@TLP I&#39;m trying to combine $colarray with $rowinc like I want to take the value A in colarray and combine it with the integer in $rowinc making a &quot;range&quot; to print in i.e. A2. I don&#39;t need an actual range (A8:C9) but I couldn&#39;t figure out how to print to a specific cell without it."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427733555, "post_id": 29350572, "comment_id": 46888543, "body": "If you want <code>$range</code> to contain a string like <code>&quot;A2:&quot;</code> why wouldn&#39;t you just do: <code>my $range = &quot;$collet[2]$rowinc:&quot;;</code>?"}, {"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "edited": false, "score": 0, "creation_date": 1427733707, "post_id": 29350572, "comment_id": 46888618, "body": "I&#39;m trying to print in columns A B C D in order and then move to the next row after the final column is printed in. I was trying to use <code>$range</code> to do that by combining my list item stored in @collet with an integer denoting the row. Making &#39;$sheet-&gt;Range($colarray$rowinc)&#39; or $sheet-&gt;Range(A2). Sorry this isn&#39;t very clear"}, {"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427733804, "post_id": 29350572, "comment_id": 46888675, "body": "@G.Cito this is my first time using perl, and to be honest I started using Spreadsheet::WriteExcel. There was a point where i tried to use a scalar inside &quot;&quot; but It would just keep printing the variable not the actual value. I was trying to avoid this"}, {"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "edited": false, "score": 0, "creation_date": 1427733826, "post_id": 29350572, "comment_id": 46888690, "body": "Let me see if I can get this working thanks for all the help guys!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1427733943, "post_id": 29350572, "comment_id": 46888760, "body": "@HeadyGains Since you&#39;re just starting out with Perl, I would recommend running through one (or several) <a href=\"http://perl-tutorial.org/#index3h1\" rel=\"nofollow noreferrer\">modern Perl tutorials</a>. It&#39;s good to understand the fundamentals before trying to do more complex things."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1427735340, "post_id": 29350572, "comment_id": 46889521, "body": "@HeadyGains  I left in your error but reformatted your code so it does less side scrolling here on SO.   I did change one part of your code to use  perl&#39;s <code>&quot;&quot; .. &quot;&quot;</code>range feature which helped with the side scrolling. See if you can find it ;-) I agree with @ThisSuitIsBlackNot on the tutorials."}, {"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "edited": false, "score": 0, "creation_date": 1427737979, "post_id": 29350572, "comment_id": 46891042, "body": "Thank you guys so much for all the help, I&#39;m sorry I didn&#39;t ask my question properly and that my code was all muddled! To work I go!"}, {"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427738779, "post_id": 29350572, "comment_id": 46891452, "body": "@G.Cito I like what you did there, and just from that I should def. do alot of tutorials. Thanks for the change and again for all the help!"}], "owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427735126, "creation_date": 1427730380, "last_edit_date": 1427735126, "question_id": 29350572, "link": "https://stackoverflow.com/questions/29350572/combine-an-array-object-with-scalar-value-within-a-scalar-perl", "title": "Combine an Array object with scalar value within a scalar? Perl", "body": "<p>I'm trying to combine an item from an Array list with a scalar <code>$range</code>. Here's how I'm trying to do it.</p>\n\n<pre><code>my $rowinc = 2;\nmy $colarray = @collet[0];\nmy $range = $colarray $rowinc;\nchomp $range;\n\n\n$sheet-&gt;Range($range)-&gt;{Value} = $ir;\n    shift @collet;\n$sheet-&gt;Range($range)-&gt;{Value} = $sn;\n    shift @collet;\n$sheet-&gt;Range($range)-&gt;{Value} = (join(\", \", @parts));\n    shift @collet;\n$sheet-&gt;Range($range)-&gt;{Value} = $ref;\n    $rowinc++;\n    unshift @collet, 'C';\n    unshift @collet, 'B';\n    unshift @collet, 'A';\n</code></pre>\n\n<p>I've tried multiple ways of doing this and to no avail. Here's the error I receive while running this particular snippet.</p>\n\n<pre><code>Scalar found where operator expected at gen1.pl line 87, near \"$colarray $rowinc\n\"\n        (Missing operator before $rowinc?)\nsyntax error at gen1.pl line 87, near \"$colarray $rowinc\"\nExecution of gen1.pl aborted due to compilation errors.\nPress any key to continue . . .\n</code></pre>\n\n<p>I'm assuming that the array can't be used in that manner to denote the value for $range. The problem I'm running into is that I am using Win32::OLE to manage my excel spreadsheets because it gives me the ability to open an already existing spreadsheet. But the drawback is I cannot enter my cell ranges as integers ($row,$col) I've tried this just incrementing <code>$row</code> and <code>$col</code> I want to be able to manage this effectively instead of using a bunch of if else and what not.</p>\n\n<p>What I've tried to do is my <code>@collet = ('A', 'B', 'C', 'D');</code>\ntells me which column to print in if I start at 0 it should start printing in A col. which is good and then every time it prints in a column it shifts right so now <code>@collet[0]</code> should be 'B'. I know this isn't the best method but I've changed my original method to this in hopes to solve the issue. any help would be awesome!</p>\n\n<p>Here's my full script for some context.</p>\n\n<pre><code>#!C:\\Perl\\bin\n#manage IR/SRN/Parts Used\n#Written for Zebra\n#Author Dalton Brady\n#Location Bentonville AR\n\nuse strict;\nuse warnings;\nuse POSIX qw(strftime);\nuse Win32::OLE;\nuse Win32::OLE qw( in with);\nuse Win32::OLE::Const 'Microsoft Excel';\nuse Win32::OLE::Variant;\n\n\n$Win32::OLE::Warn = 3;    #Die on errors\n\n#different types of units worked on, trying to name the worksheet \n#after one depending on user input have yet to add that func.\nmy @uut = ('VC5090', 'MK2046', 'MK2250', 'MK4900', '@pos');\n\nmy $ref = strftime '%Y-%m-%d', localtime(); #create the datestamp\nmy $i   = 0;                         #increment counter for why loop\nmy $n   = 0;                         #increment for do until loop\nmy $xfile = 'X:\\dataTest\\data.xls';  #location of excel file\nmy $book;     #place for the workbook to exist\nmy $sheet;    #worksheet exists here\nmy $ex;       #a place to hold the excel application\nmy $row = 2;  #track row in which data will \n              #be placed with the do until loop \nmy $col = 1;\nmy @parts ; # store the different parts as a list within \n            # an area (to be written to the spreadsheet)\nmy @talk = ( 'IR:', 'SN:', \n             '#of Parts Used: ', 'PN:', \n             'Units Completed: ');\nmy @collet = \"A\" .. \"Z\"\n\n\n# start an instance of excel\n\n$ex = Win32::OLE-&gt;new('Excel.Application');\n$ex-&gt;{DisplayAlerts} = 0;    #turn off alerts/textboxes/saveboxes\n\n#check to see if excel file exists if yet open it, if not create it\nif (-e $xfile) {\n  $book  = $ex-&gt;Workbooks-&gt;Open($xfile);\n  $sheet = $book-&gt;Worksheets(\"Test\");\n  $sheet-&gt;Activate();\n}\nelse {\n  $book = $ex-&gt;Workbooks-&gt;Add()\n    ;    #create new workbook to be used because we couldn't find one\n  #########SETUP YOUR EXCEL FILE#############\n  $sheet = $book-&gt;Worksheets(\"Sheet1\");\n  $sheet-&gt;Activate();\n  $sheet-&gt;{Name}                             = \"Test\";\n  $sheet-&gt;Cells(\"a1\")-&gt;{HorizontalAlignment} = x1HAlignCenter;\n  $sheet-&gt;Cells(\"b1\")-&gt;{HorizontalAlignment} = x1HAlignCenter;\n  $sheet-&gt;Cells(\"c1\")-&gt;{HorizontalAlignment} = x1HAlignCenter;\n  $sheet-&gt;Columns(\"a\")-&gt;{ColumnWidth}        = 20;\n  $sheet-&gt;Columns(\"b\")-&gt;{ColumnWidth}        = 20;\n  $sheet-&gt;Columns(\"c\")-&gt;{ColumnWidth}        = 30;\n  $sheet-&gt;Range(\"a1\")-&gt;{Value}               = \"IR Number\";\n  $sheet-&gt;Range(\"b1\")-&gt;{Value}               = \"Serial Number\";\n  $sheet-&gt;Range(\"c1\")-&gt;{Value}               = \"Parts Used\";\n  $sheet-&gt;Range(\"d1\")-&gt;{Value}               = \"Date\";\n\n  $book-&gt;SaveAs($xfile);    #Save the file we just created\n}\n\n# ask for how many units user will be \n# scanning or has completed to be scanned\nprint $talk[4] ; \n\n#unit count tracker, determines how many times the do while loop runs\nmy $uc = &lt;&gt;; \ndo {\n\n  print $talk[0];    #ask for the IR number\n  my $ir = &lt;&gt;;\n  chomp $ir;\n  print $talk[1];    #ask for uut Serial Number\n  my $sn = &lt;&gt;;\n  chomp $sn;\n  print $talk[2];\n\n# ask for the number of parts used, to regulate \n# the parts list storage into the @parts array\n  my $pu = &lt;&gt;;\n\n  while ($i &lt; $pu) {\n\n    print $talk[3];\n    my $scan = &lt;&gt;;\n    chomp $scan;\n    push @parts, $scan;\n    $i++;\n  }\n\n  my $rowinc   = 2;\n  my $colarray = @collet[0];\n  my $range    = $colarray $rowinc;\n  chomp $range;\n\n\n  $sheet-&gt;Range($range)-&gt;{Value} = $ir;\n  shift @collet;\n  $sheet-&gt;Range($range)-&gt;{Value} = $sn;\n  shift @collet;\n  $sheet-&gt;Range($range)-&gt;{Value} = (join(\", \", @parts));\n  shift @collet;\n  $sheet-&gt;Range($range)-&gt;{Value} = $ref;\n  $rowinc++;\n  unshift @collet, 'C';\n  unshift @collet, 'B';\n  unshift @collet, 'A';\n\n\n} until ($n == $uc);\n\n\n# save and exit\n$book-&gt;SaveAs($xfile);\n$book = $ex-&gt;WorkBooks-&gt;Close();\nundef $book;\nundef $ex;\n</code></pre>\n"}, {"tags": ["perl", "email", "utf-8", "mime-types", "mime"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1427730318, "post_id": 29350487, "comment_id": 46886558, "body": "Your email will have a line describing what MIME type this is. What does it say?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427732864, "post_id": 29350487, "comment_id": 46888122, "body": "use <a href=\"https://metacpan.org/release/MIME-tools\" rel=\"nofollow noreferrer\">Mime::Tools</a>, especially the <a href=\"https://metacpan.org/pod/MIME::Parser\" rel=\"nofollow noreferrer\">Mime::Parser</a> class."}, {"owner": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "edited": false, "score": 0, "creation_date": 1427740812, "post_id": 29350487, "comment_id": 46892540, "body": "It says the following:  <code>Content-Type: text&#47;plain; charset=&quot;utf-8&quot; Content-Transfer-Encoding: base64</code>"}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 0, "last_activity_date": 1456156899, "creation_date": 1456156899, "answer_id": 35558216, "question_id": 29350487, "link": "https://stackoverflow.com/questions/29350487/need-to-parse-utf8-email-with-perl/35558216#35558216", "title": "Need to parse utf8 email with perl", "body": "<p>There are a couple of encodings happening here based on the Content-type in the comments. The body has been Base-64 encoded, which allows the email to represent arbitrary data as ASCII. The other is that the data underneath the Base64 encoding is UTF-8 encoding.</p>\n\n<p>Something like <a href=\"http://www.metacpan.org/module/Email::MIME\" rel=\"nofollow\">Email::MIME</a> should be able to handle this without you worrying about the details.</p>\n"}], "owner": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456156899, "creation_date": 1427730159, "question_id": 29350487, "link": "https://stackoverflow.com/questions/29350487/need-to-parse-utf8-email-with-perl", "title": "Need to parse utf8 email with perl", "body": "<p>I need to parse an email that appears to be encoded using utf-8 to pull out the subject and sender and pieces of the body.</p>\n\n<p>The header parts are no problem, but the body looks like this:</p>\n\n<pre><code>LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t\nLS0tLS0tLS0tLS0tLS0tLS0tLS0KRmVkb3JhIFVwZGF0ZSBOb3RpZmljYXRpb24KRkVET1JB\nMTUtNDQ1NwoyMDE1LTAzLTIzIDAyOjM5OjI1Ci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t\nLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpO\nICAgICAgICA6IGtlcm5lbApQcm9kdWN0ICAgICA6IEZlZG9yYSAyMQpWZXJzaW9uICAgICA6\nMTkuMgpSZWxlYXNlICAgICA6IDIwMS5mYzIxClVSTCAgICAgICAgIDogaHR0cDovL3d3dy5r\nZWwub3JnLwpTdW1tYXJ5ICAgICA6IFRoZSBMaW51eCBrZXJuZWwKRGVzY3JpcHRpb24gOgpU\nZ2VybmVsIG1ldGEgcGFja2FnZQoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t\nLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KVXBkYXRlIElu\n...\n</code></pre>\n\n<p>Alpine can apparently decode it properly, and tells me:</p>\n\n<pre><code>[ The following text is in the \"utf-8\" character set. ]\n[ Your display is set for the \"ANSI_X3.4-1968\" character set.  ]\n[ Some characters may be displayed incorrectly. ]\n</code></pre>\n\n<p>Which perl module can I use for this? Hopefully this is enough to help.</p>\n\n<p>I see modules to create MIME-encoded messages, but how do I decode and read one? Do I need a module for this specific type of encoding?</p>\n"}, {"tags": ["perl", "initialization", "export-to-csv"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 5, "creation_date": 1427728320, "post_id": 29349656, "comment_id": 46885170, "body": "What a horribly bad idea. Use <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\"><code>Text::CSV</code></a> instead."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427730205, "post_id": 29349656, "comment_id": 46886484, "body": "@TLP: In this case I agree. But more often than not, if there are no quoted fields, a simple <code>print join(&#39;,&#39;, @$query_result), &quot;\\n&quot;</code> is better"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 1, "creation_date": 1427730560, "post_id": 29349656, "comment_id": 46886720, "body": "If you don&#39;t need to manipulate the data, then using SELECT ... INTO OUTFILE would IMO be the the most efficient approach."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427730611, "post_id": 29349656, "comment_id": 46886745, "body": "@Borodin I would not say &quot;is better&quot;, I would say &quot;is a simpler solution&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427731086, "post_id": 29349656, "comment_id": 46887048, "body": "@TLP: I wish I could remember the problems I encountered when I tried to make <code>Text::CSV</code> behave in the same way as a simple <code>split &#47;,&#47;</code>. The result was far from being clear, and involved tinkering with the original parser object in non-obvious ways. I will stick with <code>split</code> being <i>hugely better</i> for simple ASCII data whose fields contain no separators or quote delimiters"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427731455, "post_id": 29349656, "comment_id": 46887274, "body": "@Borodin I have similar experiences, for example when trying to convince Text::CSV not to add quotes. However, I do believe that it does what it does to comply with the CSV format. When you want CSV output, this module is the proper tool. When you just want a list of values, comma separated, you can just use split/join."}], "answers": [{"comments": [{"owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 2, "creation_date": 1427729881, "post_id": 29349916, "comment_id": 46886250, "body": "By the way there are legitimate reasons to not use Text::CSV, for instance the fact it is not a core module. And the question may arise in another context."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 1, "creation_date": 1427730048, "post_id": 29349916, "comment_id": 46886385, "body": "@fjardon: Yes. More importantly, you have to turn cartwheels to get it to do the equivalent of a simple <code>chomp; split &#47;,&#47;</code> or <code>split &#47;\\t&#47;</code> if that is appropriate. It works well only when you expect quoted fields that may themselves contain escaped quotes, and then it&#39;s pretty much mandatory"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427730164, "post_id": 29349916, "comment_id": 46886457, "body": "@Borodin You do not have to do cartwheels. The code I provided will do that split. Since the OP is trying to handle quotes, I assume there are quotes embedded."}, {"owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 1, "creation_date": 1427730226, "post_id": 29349916, "comment_id": 46886494, "body": "@TLP I think the OP is trying to handle undefined values. he even put it in <b>bold</b> and in its question title... if someone arrives here by searching for  this question he certainly wants a solution to this problem, not how to correctly parse CSV."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 2, "creation_date": 1427730346, "post_id": 29349916, "comment_id": 46886578, "body": "@fjardon, That&#39;s not a legitimate reason. If you can install code from SO, you can install code from CPAN."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427730391, "post_id": 29349916, "comment_id": 46886618, "body": "@TLP: I specifically excluded this question. <a href=\"https://metacpan.org/module/Text::CSV\" rel=\"nofollow noreferrer\"><code>Text::CSV</code></a> is necessary where the fields can be quote-delimited"}, {"owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427730406, "post_id": 29349916, "comment_id": 46886631, "body": "@ikegami Not all code from CPAN can be installed everywhere. Don&#39;t assume people are under linux or using x86. Most CPAN packages depends on other packages which in turn depends on XS, which cannot always be compiled."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 1, "creation_date": 1427730414, "post_id": 29349916, "comment_id": 46886635, "body": "@fjardon <a href=\"https://metacpan.org/pod/Text::CSV#blank_is_undef\" rel=\"nofollow noreferrer\">metacpan.org/pod/Text::CSV#blank_is_undef</a> If someone arrives here searching for the solution to &quot;undefined warnings&quot;, this is certainly the wrong place to look."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 2, "creation_date": 1427730491, "post_id": 29349916, "comment_id": 46886681, "body": "@fjardon, You didn&#39;t say people couldn&#39;t install Text::CSV because it wasn&#39;t portable; you said people couldn&#39;t install Text::CSV because it was on CPAN. That&#39;s not true, and the same goes for any claim that Text::CSV isn&#39;t portable."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1427730683, "post_id": 29349916, "comment_id": 46886788, "body": "@ikegami: Indeed, and I favour writing <code>use Text::CSV</code> in new code because it will check to see whether the pure-Perl implementation <a href=\"https://metacpan.org/module/Text::CSV_PP\" rel=\"nofollow noreferrer\"><code>Text::CSV_PP</code></a> or the C version <a href=\"https://metacpan.org/module/Text::CSV_XS\" rel=\"nofollow noreferrer\"><code>Text::CSV_XS</code></a> is available, and choose the faster XS version if it is there"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427730768, "post_id": 29349916, "comment_id": 46886839, "body": "@Borodin, Personally, I prefer requiring Text::CSV_XS. I don&#39;t like the idea of silently defaulting to something slower because you forgot to install a module. Personal preference."}, {"owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1427731073, "post_id": 29349916, "comment_id": 46887033, "body": "@ikegami This will be my last comment. 1) The question is <b>not answered</b>: <i>how to handle undefined values in map</i>. 2) I didn&#39;t talk specifically of Text::CSV. I said someone may want to not install ANY cpan packages, because it is hard to know if it won&#39;t drag the whole earth with it. And <b>you</b> said everybody <b>can</b> install <b>all</b> cpan packages. Please read yourself: <i>If you can install code from SO, you can install code from CPAN</i>."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 2, "creation_date": 1427731305, "post_id": 29349916, "comment_id": 46887183, "body": "@fjardon This question is an example of what is commonly known as <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">the XY-problem</a>. Therefore his current problem is not his real problem. Handling undefined problems is pretty basic, and it would differ for each individual case how you would best handle it. Your solution, to hide the problem, is not always a good idea. Sometimes you WANT to know about undefined values."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1427731549, "post_id": 29349916, "comment_id": 46887328, "body": "Re &quot;The question is not answered&quot;, This does answer the question. Your CSV is built without warning from undef values."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1427731555, "post_id": 29349916, "comment_id": 46887332, "body": "Re &quot;You said everybody can install all cpan packages&quot;, I said no such thing! I simply contradicted your claim that Text::CSV not being a core module is a legitimate reason not to use it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427731698, "post_id": 29349916, "comment_id": 46887433, "body": "@TLP: Remember that the vast majority of day-to-day problems are X-Y problems. We are used to contriving our own solutions and asking for others to fulfil the individual blocks. For instance, I have asked if a taxi can take me to Leicester on Thursday. The driver doesn&#39;t expect to know that I am going there to visit my mother before I take the train to Heathrow and fly to Greece. So, if I were a novice programmer, I could be forgiven for asking for help with a small step on the way to <i>my own</i> solution. It is easy to forget that we have a privileged view of the way programming problems work"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1427731790, "post_id": 29349916, "comment_id": 46887475, "body": "Re &quot;how to handle undefined values in map&quot;, Same way as everywhere else: Base the result on a check of whether the value is undef or not."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427732015, "post_id": 29349916, "comment_id": 46887613, "body": "@Borodin, Both Windows distros come with a C compiler, which you don&#39;t even need with AP since it provides the module in binary form. I do provide a way of requesting Text::CSV_PP in my modules that use Text::CSV_XS, but I reverse the bad default Text::CSV provides. Text::CSV_XS is the default, Text::CSV_PP must be requested."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1427732636, "post_id": 29349916, "comment_id": 46887990, "body": "@ikegami: I agree it&#39;s off-topic, but I&#39;m hoping I can persuade you that the average Windows user <i>really cannot</i> install CPAN modules easily"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1427733127, "post_id": 29349916, "comment_id": 46888281, "body": "@Borodin, If that&#39;s true, then they can&#39;t install Text::CSV_PP either. But it&#39;s not true. You&#39;re talking about the average user that can install an application. (There&#39;d be no other reason to install a module.) You&#39;ve already convinced this user to install Perl, so he should have no problem doing <code>cpan Module::Name</code> too."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427741860, "post_id": 29349916, "comment_id": 46893087, "body": "@Borodin good point re: privilege.   TLP ++ ... sometimes life is an XY  problem :-\\ ikegami ++ re: CPAN with ratings and curated Task collections why should even a newbie or lawyer fear the CPAN? Imagine if everyone could only build frontends with &quot;core javascript&quot;..."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 7, "last_activity_date": 1427729919, "last_edit_date": 1427729919, "creation_date": 1427728595, "answer_id": 29349916, "question_id": 29349656, "link": "https://stackoverflow.com/questions/29349656/perl-use-of-uninitialized-value-in-map/29349916#29349916", "title": "(Perl) Use of uninitialized value $_ in map", "body": "<p>Don't try to hack your own version, use a proper CSV module, like <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"noreferrer\"><code>Text::CSV</code></a> to do this. For example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new( { \n    binary =&gt; 1,\n    eol =&gt; $/, \n} );\n\n...\n\n$csv-&gt;print(*STDOUT, $query_result);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427733640, "post_id": 29350021, "comment_id": 46888587, "body": "The OP didn&#39;t say which RDBMS they&#39;re using."}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 1, "last_activity_date": 1427728869, "creation_date": 1427728869, "answer_id": 29350021, "question_id": 29349656, "link": "https://stackoverflow.com/questions/29349656/perl-use-of-uninitialized-value-in-map/29350021#29350021", "title": "(Perl) Use of uninitialized value $_ in map", "body": "<p>Why not let mysql handle it by using <strong>SELECT .... INTO OUTFILE</strong></p>\n\n<p>Here is an example (from the mysql documentation) that produces a file in the comma-separated values (CSV) format used by many programs: </p>\n\n<pre><code>SELECT a,b,a+b INTO OUTFILE '/tmp/result.txt'\n  FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'\n  LINES TERMINATED BY '\\n'\n  FROM test_table;\n</code></pre>\n\n<p><a href=\"https://dev.mysql.com/doc/refman/5.6/en/select-into.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.6/en/select-into.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427741154, "post_id": 29352737, "comment_id": 46892712, "body": "Nice.  Less mungy and clearer in intent than my similar approach. Your answer was not visible when I was writing mine :-\\"}], "tags": [], "owner": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "is_accepted": true, "score": 3, "last_activity_date": 1427737351, "creation_date": 1427737351, "answer_id": 29352737, "question_id": 29349656, "link": "https://stackoverflow.com/questions/29349656/perl-use-of-uninitialized-value-in-map/29352737#29352737", "title": "(Perl) Use of uninitialized value $_ in map", "body": "<p>There are a couple of ways you can do it, depending on when you want to do it.</p>\n\n<p>1:  Within map.<br>\nMap will evaluate the entire contents of the given block, so if $_ is null, you can make it a blank string instead.  </p>\n\n<pre><code>print $fh join (',', map {$_='' if (!defined $_); s{\"}{\"\"}g; \"=\\\"$_\\\"\";} @$query_result), \"\\n\";\n</code></pre>\n\n<p>2: The approach I would take is by making sure the values aren't null when I get it from the database.  Every RDBMS that I can think of has a coalesce function that returns the first non-null value in a list.</p>\n\n<pre><code>SELECT coalesce(a,''),coalesce(b,''),coalesce(c+d,'')...\n</code></pre>\n\n<p>Will ensure that you won't get null values.</p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 2, "last_activity_date": 1427740788, "creation_date": 1427740788, "answer_id": 29353714, "question_id": 29349656, "link": "https://stackoverflow.com/questions/29349656/perl-use-of-uninitialized-value-in-map/29353714#29353714", "title": "(Perl) Use of uninitialized value $_ in map", "body": "<pre><code>say join \" , \", map { s{\"}{\"\"}g; \"\\\"$_\\\"\" ; }  \n @{[\"stuff\", undef, \"nonsense\", undef, \"\\\"\"]} ;\n</code></pre>\n\n<p>Replicates your errors:</p>\n\n<pre><code>Use of uninitialized value $_ in substitution (s///) at (eval 644) line 10.\nUse of uninitialized value $_ in concatenation (.) or string at (eval 644) line 10.\nUse of uninitialized value $_ in substitution (s///) at (eval 644) line 10.\nUse of uninitialized value $_ in concatenation (.) or string at (eval 644) line 10.\n</code></pre>\n\n<p>To fix it you could just use <code>map</code> twice to \"pre-munge\" the list to transform the undefs into something else:</p>\n\n<pre><code>say join \" , \", map { s{\"}{\"\"}g; \"\\\"$_\\\"\" ; } (\n     map { $_=\"NA\" if (not defined $_) ; $_ } \n     @{[\"stuff\", undef, \"nonsense\", undef, \"\\\"\"]} ) ;\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>\"stuff\" , \"NA\" , \"nonsense\" , \"NA\" , \"\"\"\"\n</code></pre>\n\n<p>A bit ugly (cut and pasted from <a href=\"http://www.metacpan.org/pod/Devel::REPL\" rel=\"nofollow\"><code>re.pl</code></a>) but you get the idea. </p>\n\n<p>Speaking of \"pre-munging\", is there some way your <code>$query_select-&gt;</code> call could do that during the query itself?  Changing the query might avoid the problem at that level (<em>e.g.</em> with <code>for (@queryrow) {$_ = 'NA' unless defined};</code> or something).</p>\n"}, {"tags": [], "owner": {"reputation": 571, "user_id": 9183096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGvfZ.png?s=128&g=1", "display_name": "shmakovpn", "link": "https://stackoverflow.com/users/9183096/shmakovpn"}, "is_accepted": false, "score": 0, "last_activity_date": 1571373528, "creation_date": 1571373528, "answer_id": 58444024, "question_id": 29349656, "link": "https://stackoverflow.com/questions/29349656/perl-use-of-uninitialized-value-in-map/58444024#58444024", "title": "(Perl) Use of uninitialized value $_ in map", "body": "<p><strong>$<em>=$</em>//'';</strong> is the same as <strong>$<em>='' unless defined $</em>;</strong></p>\n\n<pre><code>print $fh join (',', map {$_=$_//'';s{\"}{\"\"}g; ;\"=\\\"$_\\\"\"} @{$query_result}), \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 170, "user_id": 662522, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/00eb844244ece80c082b1a3f4bba036d?s=128&d=identicon&r=PG", "display_name": "130nrd", "link": "https://stackoverflow.com/users/662522/130nrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "accepted_answer_id": 29352737, "answer_count": 5, "score": 1, "last_activity_date": 1571373528, "creation_date": 1427727875, "question_id": 29349656, "link": "https://stackoverflow.com/questions/29349656/perl-use-of-uninitialized-value-in-map", "title": "(Perl) Use of uninitialized value $_ in map", "body": "<p>I am trying to export query result to CSV file using this code :</p>\n\n<pre><code>while (my $query_result = $query_select-&gt;fetchrow_arrayref) {       \nprint $fh join (',', map {s{\"}{\"\"}g; \"=\\\"$_\\\"\";} @$query_result), \"\\n\";\n}\n</code></pre>\n\n<p>and get these warnings :</p>\n\n<ol>\n<li>Use of uninitialized value $_ in concatenation (.) or string</li>\n<li>Use of uninitialized value $_ in substitution (s///)</li>\n</ol>\n\n<p>because there is NULL value in some records.</p>\n\n<p>How to replace the <strong>undefined</strong> value to <strong>empty string</strong> in the code?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["arrays", "perl", "push", "increment"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1427726919, "post_id": 29349202, "comment_id": 46884156, "body": "What do you mean by &quot;increment value for this ip&quot;? Can you provide an example?"}, {"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1427726985, "post_id": 29349202, "comment_id": 46884204, "body": "you&#39;d better to give a sample input and output so that we can understand what you are talking about."}, {"owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "edited": false, "score": 0, "creation_date": 1427727251, "post_id": 29349202, "comment_id": 46884398, "body": "Heh, that will be easier ^^  For example we have IP 127.0.0.1 and it isn&#39;t in array. So IP 127.0.0.1 will have value 1. And we have for example IP 111.111.111.111 which is already in table and have value 4. So I need to add + 1 for this value. Maybe it will look better: 127.0.0.1 doesn&#39;t exists so I need to do something like: $iplist2{127.0.0.1} = 1; And 111.111.111.111 exists and have some value. $iplist2{111.111.111.111} = some_value So I need to increment this value: $iplist2{111.111.111.111} = some_value + 1. And ip adress I have in $tablist[$i+1]"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427728063, "post_id": 29349202, "comment_id": 46884983, "body": "<code>%iplist2</code> is a hash, not an array. Checking for duplicate values is idiomatically done with hashes, e.g. <code>my @ips = grep { $iplist2{$_} } @iplist</code>. And to increment, you would do <code>$iplist2{$_}++</code>"}], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427728761, "post_id": 29349811, "comment_id": 46885498, "body": "You don&#39;t have to separate between incrementing a value, and creating a new value. Perl&#39;s autovivification will automatically create a value if it does not exist. E.g. <code>$iplist2{$tablist[$i+1]}++</code> will work just fine, even if the value does not exist beforehand."}], "tags": [], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "is_accepted": false, "score": 0, "last_activity_date": 1427728293, "creation_date": 1427728293, "answer_id": 29349811, "question_id": 29349202, "link": "https://stackoverflow.com/questions/29349202/push-elements-into-array-in-perl-and-increment-them/29349811#29349811", "title": "Push elements into array in perl and increment them", "body": "<p>I have almost done it. Now I don't know just how to check if array with this IP already exists. Now it is something like:</p>\n\n<pre><code>for ($i = 0; $i &lt; $list*3; $i+=3) {\n   push(@iplist, $tablist[$i+1]); #This work ok.\n\n   #But here I have problem.\n   if (grep $_ eq $tablist[$i+1], @iplist2) #I have no idea how make this if.\n   {\n      $iplist2{$tablist[$i+1]} += 1; \n   } \n   else {\n      $iplist2{$tablist[$i+1]} = 1;\n   }\n}\n</code></pre>\n\n<p>I need to do some if witch checking if exists some element of $iplist2 where keyword is ip.\nSo I mean something like:</p>\n\n<pre><code>if($iplist2($some_key_word) already exists) then\n#do something\nelse\n#do something\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "is_accepted": false, "score": 1, "last_activity_date": 1427738251, "last_edit_date": 1427738251, "creation_date": 1427728803, "answer_id": 29349994, "question_id": 29349202, "link": "https://stackoverflow.com/questions/29349202/push-elements-into-array-in-perl-and-increment-them/29349994#29349994", "title": "Push elements into array in perl and increment them", "body": "<p>I think this is what you're looking for. The idea is to update the count of IP in the grep call. I showed how to generate the list of ip in the same order as they appear in the list. But you can also just use <code>keys %ipcounts</code> to retrieve the same list in an unspecified order.</p>\n\n<pre><code>#!/usr/bin/perl\n\n# Some data in a list with 3 items per ip\nmy @list = ('dummy', '127.0.0.1',   'dummy',\n            'dummy', '192.168.0.1', 'dummy',\n            'dummy', '127.0.0.1',   'dummy');\n\n# Compute interesting indices\nmy @list_idx = map { 1+3*$_ } 0..($#list/3);\n\nmy %ipcounts = ();\nmy @iplist   = grep { !$ipcounts{$_}++ } @list[@list_idx];\n\nprint \"IP LIST: \\n-\", join(\"\\n-\", @iplist), \"\\n\";\nprint \"IP COUNT:\\n\";\nmap { print \"-\", $_, \" -&gt; \", $ipcounts{$_}, \"\\n\" } keys(%ipcounts);\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427738251, "creation_date": 1427726552, "last_edit_date": 1427727953, "question_id": 29349202, "link": "https://stackoverflow.com/questions/29349202/push-elements-into-array-in-perl-and-increment-them", "title": "Push elements into array in perl and increment them", "body": "<p>I want to do something like:</p>\n\n<ol>\n<li>Write all IP to array <code>@iplist</code>.</li>\n<li>Check if IP exists in array <code>%iplist2</code>.</li>\n<li>If exists, then increment value for this ip.</li>\n<li>If not exists, add this ip to list with value 1.</li>\n</ol>\n\n<p>I tried something like this:</p>\n\n<pre><code>for ($i = 0; $i &lt; $list*3; $i+=3) {\n   push(@iplist, $tablist[$i+1]); #This work ok.\n\n   #But here I have problem.\n   if (grep $_ eq $tablist[$i+1], @iplist2) {\n      # Here I want to increment value of $iplist2($tablist[$i+1]). \n      # I know, that probably I need to use something like \n      # $iplist2($tablist[$i+1]) = old_value + 1, but I don't know how exactly \n      # to do it. \n   } \n   else {\n      # Here I want to push to array %iplist2 ip adres and make value 1 \n      # for this ip. (Something like push %iplist2, $tablist[$i+1]=&gt;1).\n   }\n}\n</code></pre>\n\n<p>Or maybe somebody have other idea how to do it? I need just to have array with adres ip and some value. And if ip exists in array, just increment the value.</p>\n\n<p>@edit</p>\n\n<p><strong>Some sample:</strong></p>\n\n<p>For example I have <code>127.0.0.1</code> and it isn't in array. So IP <code>127.0.0.1</code> will have value <code>1</code>. And we have for example IP <code>111.111.111.111</code> which is already in table and have value <code>4</code>. So I need to add + 1 for this value. </p>\n\n<p>Maybe it will look better: <code>127.0.0.1</code> doesn't exists so I need to do something like: <code>$iplist2{127.0.0.1} = 1;</code> And <code>111.111.111.111</code> exists and have some value. <code>$iplist2{111.111.111.111} = some_value.</code> So I need to increment this value: <code>$iplist2{111.111.111.111} = some_value + 1</code>. And ip adress I have in <code>$tablist[$i+1]</code></p>\n"}, {"tags": ["perl", "unix", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1427723860, "creation_date": 1427723860, "answer_id": 29348105, "question_id": 29347719, "link": "https://stackoverflow.com/questions/29347719/add-a-statement-retaining-the-second-parameter-of-the-function/29348105#29348105", "title": "Add a statement, retaining the second parameter of the function", "body": "<pre><code>perl -i~ -pe '$_ .= \"${1}18$2\\n\" if /(Function_map\\(var) 33 (,[ ][0-9.]+\\);)/x' input\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li><code>-p</code> processes the file line by line</li>\n<li><code>-i~</code> changes the file \"in place\", creates a <code>filename~</code> backup</li>\n<li>if the regular expression matches, everything before <code>33</code> is stored in $1, and everyting after it goes to $2; and those results with 18 in the middle are appended to the line to be printed.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1427729729, "last_edit_date": 1427729729, "creation_date": 1427727276, "answer_id": 29349455, "question_id": 29347719, "link": "https://stackoverflow.com/questions/29347719/add-a-statement-retaining-the-second-parameter-of-the-function/29349455#29349455", "title": "Add a statement, retaining the second parameter of the function", "body": "<p>Assuming you're running version 10 or later of Perl 5, you can use the <code>\\K</code> (keep) regex construct to write it like this. It allows for leading <code>+</code> or <code>-</code> signs on the floating point number</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $s = 'Function_map(var33, 1.95);';\n\n$s =~ s/Function_map\\(var33,\\s*([+\\-0-9.]+)\\);\\K/\\nFunction_map(var18, $1);/;\n\nsay $s;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Function_map(var33, 1.95);\nFunction_map(var18, 1.95);\n</code></pre>\n\n<p>If you are changing manually-entered code then you might like to add optional whitespace at the places where it makes no difference to the meaning of the statement. And it would be advantageous to use the <code>/x</code> modifier to allow you to add insignificant whitespace to the patter. Like this</p>\n\n<pre><code>$s =~ s{\n    Function_map \\s* \\( var33 \\s* , \\s* ([+\\-0-9.]+) \\s* \\) \\s* ;\n    \\K\n}{\\nFunction_map(var18, $1);}x;\n</code></pre>\n\n<p>The result of this substitution is identical to that of the code above</p>\n"}], "owner": {"reputation": 1, "user_id": 2841930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb9f0dd2e74458b970fee06d3352845?s=128&d=identicon&r=PG&f=1", "display_name": "Srikishan", "link": "https://stackoverflow.com/users/2841930/srikishan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1427742166, "answer_count": 2, "score": -1, "last_activity_date": 1427729729, "creation_date": 1427722717, "last_edit_date": 1427727491, "question_id": 29347719, "link": "https://stackoverflow.com/questions/29347719/add-a-statement-retaining-the-second-parameter-of-the-function", "closed_reason": "Needs details or clarity", "title": "Add a statement, retaining the second parameter of the function", "body": "<p>I have a huge file with lot of data.</p>\n\n<p>I want to replace</p>\n\n<pre><code>Function_map(var33, 1.95);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>Function_map(var33, 1.95);\\nFunction_map(var18, 1.95);\n</code></pre>\n\n<p>Value of 1.95 varies.</p>\n\n<p>ex:</p>\n\n<ol>\n<li><p>Function_map(var33, 1.95); --> if present<br><br>\nFunction_map(var33, 1.95);<br> Funcion_map(var18,1.95) --> add this line also in the file</p></li>\n<li><p>Function_map(var33, 1.7);--> if present<br><br>\n    Function_map(var33, 1.7);<br> Funcion_map(var18,1.7)--> add this line also in the file</p></li>\n</ol>\n"}, {"tags": ["javascript", "jquery", "python", "regex", "perl"], "comments": [{"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "edited": false, "score": 0, "creation_date": 1427721790, "post_id": 29347322, "comment_id": 46880535, "body": "what about <code>^([^.]+)\\.</code> ?"}, {"owner": {"reputation": 29116, "user_id": 382471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/804ee314e1022f48ddd7d9cebe329afc?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/382471/robert"}, "edited": false, "score": 4, "creation_date": 1427721832, "post_id": 29347322, "comment_id": 46880567, "body": "Do you have to use regular expressions?  Why not just split on &quot;.&quot;?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user966588"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1427721844, "post_id": 29347322, "comment_id": 46880576, "body": "@tobias_k yes. I need the starting part."}, {"owner": {"user_type": "does_not_exist", "display_name": "user966588"}, "reply_to_user": {"reputation": 29116, "user_id": 382471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/804ee314e1022f48ddd7d9cebe329afc?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/382471/robert"}, "edited": false, "score": 0, "creation_date": 1427722250, "post_id": 29347322, "comment_id": 46880839, "body": "@robert Not a bad option."}, {"owner": {"user_type": "does_not_exist", "display_name": "user966588"}, "reply_to_user": {"reputation": 29116, "user_id": 382471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/804ee314e1022f48ddd7d9cebe329afc?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/382471/robert"}, "edited": false, "score": 0, "creation_date": 1427722583, "post_id": 29347322, "comment_id": 46881072, "body": "@robert  Works great!!! Thanks."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1427732555, "post_id": 29347322, "comment_id": 46887941, "body": "It was <a href=\"http://www.jwz.org/hacks/\" rel=\"nofollow noreferrer\">jwz</a> who said &quot;Some people, when confronted with a problem, think &quot;I know, I&#39;ll use regular expressions.&quot; Now they have two problems.&quot;  :-)"}, {"owner": {"reputation": 4535, "user_id": 3478852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vzDyD.jpg?s=128&g=1", "display_name": "Nisse Engstr&#246;m", "link": "https://stackoverflow.com/users/3478852/nisse-engstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1428816226, "post_id": 29347322, "comment_id": 47320464, "body": "@drt: Why have you tagged four different languages?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user966588"}, "reply_to_user": {"reputation": 4535, "user_id": 3478852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vzDyD.jpg?s=128&g=1", "display_name": "Nisse Engstr&#246;m", "link": "https://stackoverflow.com/users/3478852/nisse-engstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1428820850, "post_id": 29347322, "comment_id": 47321217, "body": "@NisseEngstr&#246;m Since it was regex problem and not specific to language. As being python and perl user myself, python and perl also make heavy use of regex, I have included so that those users can also provide their inputs. I have mentioned that I am using Jquery."}], "answers": [{"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1427722262, "post_id": 29347447, "comment_id": 46880847, "body": "About your second solution: with which method must it be used? Don&#39;t forget that this must work with 0 properties. A litteral dot must be escaped."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1427722757, "post_id": 29347447, "comment_id": 46881205, "body": "even more simpler <code>&quot;your.text.string&quot;.match(&#47;^[^.]*&#47;)[0]</code>"}], "tags": [], "owner": {"reputation": 4470, "user_id": 2768833, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RvhYi.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/2768833/mark"}, "is_accepted": true, "score": 3, "last_activity_date": 1427722308, "last_edit_date": 1427722308, "creation_date": 1427721967, "answer_id": 29347447, "question_id": 29347322, "link": "https://stackoverflow.com/questions/29347322/regex-for-repetitive-part-in-string/29347447#29347447", "title": "Regex for repetitive part in string", "body": "<p>I would use:</p>\n\n<pre><code>var x = $(yourstring).split(\".\");\nconsole.log(x[0]);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>var text = \"your.text.string\";\nvar regex =  /^(.*?)\\./;\nvar matches = text.match(regex);\nconsole.log(matches[0]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1427731742, "post_id": 29347615, "comment_id": 46887449, "body": "++ for not everything is a regexp .. errm wait ..  Does <code>split()</code> take a regexp by default and have to be told to take a literal character;  or does it take a literal character and have to be told to take a regexp ;-)"}], "tags": [], "owner": {"reputation": 20243, "user_id": 633098, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/73ed4ada98edd7d2b842ee5ddc24bf86?s=128&d=identicon&r=PG", "display_name": "silkfire", "link": "https://stackoverflow.com/users/633098/silkfire"}, "is_accepted": false, "score": 4, "last_activity_date": 1427722404, "creation_date": 1427722404, "answer_id": 29347615, "question_id": 29347322, "link": "https://stackoverflow.com/questions/29347322/regex-for-repetitive-part-in-string/29347615#29347615", "title": "Regex for repetitive part in string", "body": "<p>No need to use regex. A simple split will do and it works even when your string doesn't have any additional properties:</p>\n\n<pre><code>'car'.split('.')[0]\n'car.wheel.mirror.seats'.split('.')[0]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1427732344, "post_id": 29350886, "comment_id": 46887806, "body": "Some crazed people even make  shortcut/alias modules for <code>autobox&#47;Core.pm</code> so they can do:  <code>perl -Mabc -e &#39;&quot;a string an object?!both ;-)&quot;-&gt;split(qr&#47;\\?&#47;)-&gt;[1]-&gt;say&#39;</code> ...  ;-)"}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1427731291, "creation_date": 1427731291, "answer_id": 29350886, "question_id": 29347322, "link": "https://stackoverflow.com/questions/29347322/regex-for-repetitive-part-in-string/29350886#29350886", "title": "Regex for repetitive part in string", "body": "<p>I guess this is tagged \"perl\" for the regexp part of thing. I agree with @silkfire - to deal with this selection of strings you don't really need the full power of regular expressions. </p>\n\n<p>Anyway here is the same thing in perl:</p>\n\n<pre><code>my @strings = qw { \n   car\n   car.wheel\n   car.wheel.mirror\n   car.wheel.mirror.seats\n   car.wheel.mirror.seats.heater };\n\nsay [ split /\\./ ]-&gt;[0] for @strings \n</code></pre>\n\n<p>(<em>slightly OT but the tag encouraged me</em>): </p>\n\n<p>Unlike Javascript strings aren't objects in Perl but you can pretend:</p>\n\n<pre><code>perl -E 'say +(split /\\./, \"car.wheel.mirror.seats.heater\")[0]'\n</code></pre>\n\n<p>or even more groovily:</p>\n\n<pre><code>perl -Mautobox::Core -e ' \"car.wheel.mirror\"-&gt;split(qr/\\./)-&gt;[0]-&gt;say '\n</code></pre>\n\n<p>With <a href=\"https://metacpan.org/release/autobox-Core\" rel=\"nofollow\"><code>autobox::Core</code></a> you chain things and feel all groovy without having to give up perl5.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user966588"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 29347447, "answer_count": 3, "score": 1, "last_activity_date": 1427731291, "creation_date": 1427721617, "question_id": 29347322, "link": "https://stackoverflow.com/questions/29347322/regex-for-repetitive-part-in-string", "title": "Regex for repetitive part in string", "body": "<p>I have strings as follows</p>\n\n<pre><code>car.wheel\ncar.wheel.mirror\ncar.wheel.mirror.seats\ncar.wheel.mirror.seats...\n</code></pre>\n\n<p>I want to just extract <code>car</code> from this and avoid the properties of object that are appended such as <code>.wheel</code>, <code>.wheel.mirror</code>, <code>.wheel.mirror.seats</code>, etc.</p>\n\n<p>My current regex is</p>\n\n<pre><code>/(.*)?(\\.+.*){2}/\n</code></pre>\n\n<p>This works for 2 or 3 as I specify number but I want to create without specifying number of properties, since that can be 0 or more</p>\n\n<p>So I tried below two but doesnt work</p>\n\n<pre><code>/(.*)?(\\.+.*){0,}/\n/(.*)?(\\.+.*)*/\n</code></pre>\n\n<p>I am trying this in Jquery/JS if that makes a difference to use something else.</p>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 5, "creation_date": 1427719480, "post_id": 29346565, "comment_id": 46878958, "body": "You&#39;re welcome! What is your question?"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 1, "creation_date": 1427719692, "post_id": 29346565, "comment_id": 46879094, "body": "Please provide <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> if you are expecting to get a viable answer to your question."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 2, "creation_date": 1427721613, "post_id": 29346565, "comment_id": 46880412, "body": "You need to give us a bit more information. For example, how do you know the file names? Will you be given <code>foo</code>, and then need to read <code>foo.txt</code> and <code>foo.xml</code>? Or, in some random directory, you&#39;ll have a file <code>foo.xml</code> and <code>foo.txt</code>, and only these two files will have these endings?  Or, will there be a lot of files with the <code>.xml</code> and <code>.txt</code> suffixes, and you need to find the only ones with the same prefix? And, we haven&#39;t even gotten to how to read the files. Processing XML can be tricky."}], "answers": [{"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1427720372, "creation_date": 1427720372, "answer_id": 29346905, "question_id": 29346565, "link": "https://stackoverflow.com/questions/29346565/perl-read-filenames-with-specific-extensions/29346905#29346905", "title": "Perl -- read filenames with specific extensions", "body": "<p>You can write the function like this</p>\n\n<pre><code>sub first_file_of_the_type {\n    my $ext = shift =~ s/.*\\.//r;\n    +(&lt;*.$ext&gt;)[0];\n}\n</code></pre>\n\n<p>And then use it in this way</p>\n\n<pre><code>my $xmlfile = first_file_of_the_type(\"fileName.xml\");\nmy $txtfile = first_file_of_the_type(\"fileName.txt\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4729687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a1828f3eabc1ffe0db8b6da7fe61fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jussi", "link": "https://stackoverflow.com/users/4729687/jussi"}, "edited": false, "score": 0, "creation_date": 1427799880, "post_id": 29347371, "comment_id": 46916548, "body": "This is probably what I need. However, it&#39;s about 7 years last time I code with PERL, and I can&#39;t remember how to do this."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 11, "user_id": 4729687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a1828f3eabc1ffe0db8b6da7fe61fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jussi", "link": "https://stackoverflow.com/users/4729687/jussi"}, "edited": false, "score": 0, "creation_date": 1427800257, "post_id": 29347371, "comment_id": 46916758, "body": "@Jussi : If this helped you, you can accept this as an answer."}, {"owner": {"reputation": 11, "user_id": 4729687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a1828f3eabc1ffe0db8b6da7fe61fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jussi", "link": "https://stackoverflow.com/users/4729687/jussi"}, "edited": false, "score": 0, "creation_date": 1427800637, "post_id": 29347371, "comment_id": 46916966, "body": "This seem the right thing. Put I have added two lines in the end of this exsample:  print &quot;$xmlfile\\n&quot;; print &quot;$txtfile\\n&quot;;  And this gives an errror:  Global symbol &quot;$xmlfile&quot; requires explicit package name at ./GnuPG_check.pl line 27. Global symbol &quot;$txtfile&quot; requires explicit package name at ./GnuPG_check.pl line 28.  ??"}, {"owner": {"reputation": 11, "user_id": 4729687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a1828f3eabc1ffe0db8b6da7fe61fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jussi", "link": "https://stackoverflow.com/users/4729687/jussi"}, "edited": false, "score": 0, "creation_date": 1427801544, "post_id": 29347371, "comment_id": 46917377, "body": "Yep, this works, but I need to use $xmlfile and $txtfile out of the loop ?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 11, "user_id": 4729687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a1828f3eabc1ffe0db8b6da7fe61fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jussi", "link": "https://stackoverflow.com/users/4729687/jussi"}, "edited": false, "score": 0, "creation_date": 1427805869, "post_id": 29347371, "comment_id": 46919517, "body": "Just declare both variable <code>$xmlfile</code> and <code>$txtfile</code> out of the loop."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 0, "last_activity_date": 1427801092, "last_edit_date": 1427801092, "creation_date": 1427721760, "answer_id": 29347371, "question_id": 29346565, "link": "https://stackoverflow.com/questions/29346565/perl-read-filenames-with-specific-extensions/29347371#29347371", "title": "Perl -- read filenames with specific extensions", "body": "<p>If I am understanding you right then you want to do something like this.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopendir my $dir, \"/path/to/folder\" or die \"Can't open directory: $!\";\nmy @files = readdir $dir;\nclosedir $dir;\n\nforeach my $file (@files)\n{\n    if ($file =~ m/\\.xml$/)\n    {\n        my $xmlfile = $file;\n        print \"$xmlfile\\n\";\n    }\n    elsif ($file =~ m/\\.txt$/)\n    {\n        my $txtfile = $file;\n        print \"$txtfile\\n\";\n    }\n}\n</code></pre>\n\n<p>This open the folder and look for file extension and assign the file to a variable.</p>\n\n<p>Note : This is not reading file contents.</p>\n"}], "owner": {"reputation": 11, "user_id": 4729687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a1828f3eabc1ffe0db8b6da7fe61fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jussi", "link": "https://stackoverflow.com/users/4729687/jussi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 29347371, "answer_count": 2, "score": -2, "last_activity_date": 1427801092, "creation_date": 1427719388, "last_edit_date": 1427720402, "question_id": 29346565, "link": "https://stackoverflow.com/questions/29346565/perl-read-filenames-with-specific-extensions", "title": "Perl -- read filenames with specific extensions", "body": "<p>Need to read two files with specific extensions using <code>wildcards</code>. I need something like this:</p>\n\n<p>Open folder and read files</p>\n\n<pre><code>if file1 is ending with .xml\nthen $xmlfile = \"fileName.xml\"\n\nif file2 is ending with .txt\nthen $txtfile = \"fileName.txt\"\n</code></pre>\n\n<p>Filenames always include some non_constat_data in the file name. But they always will start with constat string and end with extension <code>.xml</code> or <code>.txt</code>.</p>\n"}, {"tags": ["perl", "email", "sendmail", "mime", "html-entities"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1427712047, "post_id": 29343891, "comment_id": 46874402, "body": "This is not really a Perl question, as you are not really using Perl to do anything but pipe output to <code>sendmail</code> which is not &quot;Perl&#39;s&quot; in any way shape or form."}, {"owner": {"reputation": 1439, "user_id": 72958, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Byjyr.jpg?s=128&g=1", "display_name": "Andrew Swift", "link": "https://stackoverflow.com/users/72958/andrew-swift"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1427724861, "post_id": 29343891, "comment_id": 46882704, "body": "Thanks. I have only used it through Perl and I didn&#39;t think it through when I wrote the question."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1427726316, "post_id": 29348900, "comment_id": 46883712, "body": "I don&#39;t know if you can encode the whole thing, but you can definitely encode the text part."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1427737228, "post_id": 29348900, "comment_id": 46890640, "body": "You solution is more general - int this very specific case (single utf8 character) the variant below may proude cleaner results <code>encode(&#39;MIME-B&#39;, &quot;\\x{2605}&quot;). &quot; David Jones &lt;david.jones@oozicle.com&gt;&quot;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1427737518, "post_id": 29348900, "comment_id": 46890808, "body": "@Andrzej A. Filip, I don&#39;t know what you mean by cleaner since it&#39;s completely transparent to the user. Conventionally, mail clients encode the entire &quot;name&quot;."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1427737937, "post_id": 29348900, "comment_id": 46891016, "body": "IMHO it would be cleaner from &quot;raw email&quot; perspective. You are right it <i>SHOULD NOT</i> make difference <b>but</b> &quot;a few&quot; email clients will display &quot;raw&quot; subject."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1427737803, "last_edit_date": 1427737803, "creation_date": 1427725749, "answer_id": 29348900, "question_id": 29343891, "link": "https://stackoverflow.com/questions/29343891/how-is-it-possible-to-use-a-special-character-a-star-in-the-from-field-using/29348900#29348900", "title": "How is it possible to use a special character (a star) in the &quot;from&quot; field using Perl&#39;s sendmail", "body": "<pre><code>use Encode qw( encode );\n\nmy $name = \"\\x{2605} David Jones\";\nmy $addr = 'david.jones@oozicle.com';\n\nmy $from_header = encode('MIME-Header', $name) . ' &lt;' . $addr . '&gt;';\n</code></pre>\n"}], "owner": {"reputation": 1439, "user_id": 72958, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Byjyr.jpg?s=128&g=1", "display_name": "Andrew Swift", "link": "https://stackoverflow.com/users/72958/andrew-swift"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 29348900, "answer_count": 1, "score": 0, "last_activity_date": 1427737803, "creation_date": 1427711438, "question_id": 29343891, "link": "https://stackoverflow.com/questions/29343891/how-is-it-possible-to-use-a-special-character-a-star-in-the-from-field-using", "title": "How is it possible to use a special character (a star) in the &quot;from&quot; field using Perl&#39;s sendmail", "body": "<p>I am using <strong>Perl's SENDMAIL</strong> to receive email from my website:</p>\n\n<pre><code>open(SENDMAIL, \"|$sendmail\") or die \"Cannot open $sendmail: $!\";\n    print SENDMAIL \"From: $from\\n\";\n    print SENDMAIL \"Subject: $subject\\n\";\n    print SENDMAIL \"To: $to\\n\";\n    print SENDMAIL \"Content-type: text/plain\\n\\n\";\n    print SENDMAIL $message;\nclose(SENDMAIL);\n</code></pre>\n\n<p>And I would like to modify the <strong>$from</strong> variable to be something like this:</p>\n\n<pre><code>$from = \"&amp;#x2605; David Jones &lt;david.jones@oozicle.com&gt;\"\n</code></pre>\n\n<p>What happens right now is that I just see the ampersand etc., and the star is not shown.</p>\n\n<p>I know that it is possible to use special characters because I receive spam containing them.</p>\n\n<p><strong>Is it possible to do this using SENDMAIL?</strong></p>\n"}, {"tags": ["perl", "email"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1427711488, "post_id": 29343677, "comment_id": 46874117, "body": "Should the comma before <code>xyz</code> be replaced by a pipe?"}, {"owner": {"reputation": 3, "user_id": 4570495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/334bd630627fccef55ac6b3b2d55f696?s=128&d=identicon&r=PG&f=1", "display_name": "coolCoder", "link": "https://stackoverflow.com/users/4570495/coolcoder"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1427711588, "post_id": 29343677, "comment_id": 46874176, "body": "No, It is to part and hence there should be comma"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1427712341, "post_id": 29343677, "comment_id": 46874573, "body": "I recommend to actually study the <a href=\"https://metacpan.org/pod/Net::SMTP\" rel=\"nofollow noreferrer\">documentation</a> of the module. It is well documented on how to use it."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 2963070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76409f75022bac22d62cd8f019e90dbc?s=128&d=identicon&r=PG&f=1", "display_name": "k12u", "link": "https://stackoverflow.com/users/2963070/k12u"}, "is_accepted": true, "score": 1, "last_activity_date": 1427714178, "last_edit_date": 1592644375, "creation_date": 1427712458, "answer_id": 29344199, "question_id": 29343677, "link": "https://stackoverflow.com/questions/29343677/how-to-send-mail-to-multiple-recipients-in-perl/29344199#29344199", "title": "How to send mail to multiple recipients in Perl?", "body": "<p><a href=\"https://metacpan.org/pod/Net::SMTP#recipient-ADDRESS-ADDRESS-...-OPTIONS\" rel=\"nofollow noreferrer\">Net::SMTP</a>:</p>\n<blockquote>\n<p><code>recipient ( ADDRESS [, ADDRESS, [...]] [, OPTIONS ] )</code></p>\n<p>Notify the server that the current message should be sent to all of the addresses given. Each address is sent as a separate command to the server. Should the sending of any address result in a failure then the process is aborted and a false value is returned. It is up to the user to call reset if they so desire.</p>\n</blockquote>\n<p>I couldn't identify how your code set <code>$mailT</code> but\nthe argument of <code>recipient</code> must be in an array or a list.\nThat could be an issue if that's a comma separated scalar.</p>\n"}], "owner": {"reputation": 3, "user_id": 4570495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/334bd630627fccef55ac6b3b2d55f696?s=128&d=identicon&r=PG&f=1", "display_name": "coolCoder", "link": "https://stackoverflow.com/users/4570495/coolcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1387, "favorite_count": 0, "accepted_answer_id": 29344199, "answer_count": 1, "score": -1, "last_activity_date": 1427778638, "creation_date": 1427710722, "last_edit_date": 1427778638, "question_id": 29343677, "link": "https://stackoverflow.com/questions/29343677/how-to-send-mail-to-multiple-recipients-in-perl", "title": "How to send mail to multiple recipients in Perl?", "body": "<p>I have to send mail to multiple recipients using Perl. I have to use <a href=\"https://metacpan.org/pod/Net::SMTP\" rel=\"nofollow\"><code>Net::SMTP</code></a> only to send mail.</p>\n\n<p>I have to read from and to mail address from pipe separated file. Format of file is as follows:</p>\n\n<pre><code>abc@gmail.com|pqr@yahoo.com,xyz@gmail.com\n</code></pre>\n\n<p>I have read the line and split it wrt to pipe. Then I stored to part in <code>$mailT</code></p>\n\n<p>I tried using </p>\n\n<pre><code>smtp-&gt;recipient($mailT)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>smtp-&gt;datasend(\"To: $mailT \");\n</code></pre>\n\n<p>but this is not working.</p>\n\n<p>It gives the error:</p>\n\n<pre><code>Issue RCTP to in the command\n</code></pre>\n"}, {"tags": ["html", "css", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1427709041, "post_id": 29343048, "comment_id": 46872729, "body": "Save yourself a lot of pain. Use <a href=\"https://metacpan.org/pod/distribution/Template-Alloy/lib/Template/Alloy.pod\" rel=\"nofollow noreferrer\">a template language</a> for HTML."}, {"owner": {"reputation": 42447, "user_id": 1016716, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1c83d772b1c065603c7f20975d8d3552?s=128&d=identicon&r=PG", "display_name": "Mr Lister", "link": "https://stackoverflow.com/users/1016716/mr-lister"}, "edited": false, "score": 0, "creation_date": 1427735977, "post_id": 29343048, "comment_id": 46889903, "body": "I&#39;m not sure I understand the use of quotes in the code."}], "owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427710473, "creation_date": 1427708922, "last_edit_date": 1427710473, "question_id": 29343048, "link": "https://stackoverflow.com/questions/29343048/how-to-set-a-bg-colour-in-html-table-cell-for-all-specifc-cases", "title": "How to set a bg colour in html table cell for all specifc cases", "body": "<p>I want an <code>bgcolour</code> to be <code>red</code> for all <code>name=arun</code> and <code>phone_no=null</code> , I am running this html in perl to send an email output of sql query. Here the sql data is dynamic.</p>\n\n<p>Here is the snippet of the code :</p>\n\n<pre><code>$STYLE=&lt;&lt;STYLE;\n    &lt;style type=\"text/css\"&gt;\n    .mytable { background-color:#E0E0E0;border: 1px solid blue;border-collapse: collapse; }\n    .mytable th { background-color:#666600;color:white;font-size: 100%; }\n    .mytable td { padding:3px;border:1px solid #0066FF; }\n    &lt;/style&gt;\n    push(@HTML,\"&lt;table class=\\\"myTable\\\" border=1&gt;\\12&lt;tr bgcolor=708090&gt;&lt;th&gt;name&lt;/th&gt;&lt;th&gt;college&lt;/th&gt;&lt;th&gt;phone_no&lt;/th&gt;&lt;/tr&gt;\");\n    $retCode=executeSQL(\"select name,college,phone_no from source_table\");\n    if($retCode) {\n        push(@HTML,\"&lt;tr&gt;&lt;td\"&gt;&amp;nbsp;&lt;/td&gt;&lt;td\"&gt;&lt;/td&gt;&lt;td\"&gt;&lt;/td&gt;&lt;td\"&gt;\");\n        push(@HTML,\"&lt;td\"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\\12\");\n    }\n    push(@HTML,\"&lt;/table&gt;\\12\\12\");\n</code></pre>\n"}, {"tags": ["linux", "perl", "solaris"], "answers": [{"comments": [{"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 0, "creation_date": 1427711418, "post_id": 29342049, "comment_id": 46874078, "body": "I test it and its not replace the new VAL with the old VAL"}, {"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 0, "creation_date": 1427712726, "post_id": 29342049, "comment_id": 46874771, "body": "sorry but I not see any changes on your code? , what the diff , its still not work ( why the space between &quot;/&quot; to &quot;$&quot; ?"}, {"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 0, "creation_date": 1427714021, "post_id": 29342049, "comment_id": 46875559, "body": "yes I did it and it still not replace the old str , what your perl version?"}, {"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 0, "creation_date": 1427714042, "post_id": 29342049, "comment_id": 46875573, "body": "I have perl - This is perl, v5.8.7 built for sun4-solaris-thread-multi"}, {"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 0, "creation_date": 1427714500, "post_id": 29342049, "comment_id": 46875861, "body": "YES THX NOW ITS WORK FINE"}, {"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 0, "creation_date": 1427714639, "post_id": 29342049, "comment_id": 46875933, "body": "YES I ALREADY UPVORE YOUR ANSWER AFTER I SEE IT AND I CHOOSE YOUR SOLUTION , if you can please upvote my question I think my question is agood one"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1427714353, "last_edit_date": 1427714353, "creation_date": 1427705835, "answer_id": 29342049, "question_id": 29341727, "link": "https://stackoverflow.com/questions/29341727/replace-the-string-line-after-separator-on-specific-param/29342049#29342049", "title": "Replace the string/line after separator on specific param", "body": "<p>You can use <code>\\K</code> (positive look behind) and <code>.+</code> to remove everything after <code>PARAM=</code> until newline,</p>\n\n<pre><code>perl -i -pe 's/PARAM=\\K.+/ $ENV{VAL}/' file.txt\n</code></pre>\n\n<p>or for older perl,</p>\n\n<pre><code>perl -i -pe 's/(?&lt;=PARAM=).+/ $ENV{VAL}/' file.txt\n</code></pre>\n"}], "owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 29342049, "answer_count": 1, "score": 1, "last_activity_date": 1427714353, "creation_date": 1427704821, "last_edit_date": 1427714271, "question_id": 29341727, "link": "https://stackoverflow.com/questions/29341727/replace-the-string-line-after-separator-on-specific-param", "title": "Replace the string/line after separator on specific param", "body": "<p>I have the following Perl one liner code ,</p>\n\n<p>My target is to replace the line after \u201c=\u201d separator, and that defined in <strong>PARAM</strong> variable </p>\n\n<pre><code>more file.txt\nPARAM=I WANT TO REPLACE THIS LINE\n\nbash-3.00# export VAL=\"THIS IS THE NEW LINE FOR EXAMPLE\"\nbash-3.00# perl -i -pe 's/(PARAM=)+/${*}$ENV{VAL}/' file.txt\nbash-3.00# more file.txt\nTHIS IS THE NEW LINE FOR EXAMPLEI WANT TO REPLACE THIS LINE\n</code></pre>\n\n<p>But actually its replace all the line include the PARAM itself</p>\n\n<p>The expected results should be</p>\n\n<pre><code>more file.txt\nPARAM= THIS IS THE NEW LINE FOR EXAMPLE\n</code></pre>\n\n<p>Please advice what need to fix in my Perl one liner code?</p>\n\n<p>other example that still not work:</p>\n\n<pre><code>bash-3.00# more file.txt\nPARAM=SOME STRING\nbash-3.00# export VAL=\"PUT THAT\"\nbash-3.00# perl -i -pe 's/PARAM=\\K.+/$ENV{VAL}/' file.txt\nbash-3.00# more file.txt\nPARAM=SOME STRING\n</code></pre>\n"}, {"tags": ["regex", "string", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1427685529, "post_id": 29337809, "comment_id": 46863882, "body": "Did you really want to print <code>x.x.x.x</code> and <code>N</code>? If you&#39;re not going to provide a problem description, you should at the very least provide acceptable expected results."}, {"owner": {"reputation": 133, "user_id": 2824922, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a6397e6cb6ae5455f21568b299c6a431?s=128&d=identicon&r=PG&f=1", "display_name": "404Cat", "link": "https://stackoverflow.com/users/2824922/404cat"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1427685654, "post_id": 29337809, "comment_id": 46863911, "body": "No, I was substituting &quot;x.x.x.x&quot; for an actual IP address, and &quot;N&quot; as the Number of bytes in the conversation. My bad for not clarifying."}], "answers": [{"tags": [], "owner": {"reputation": 17618, "user_id": 389099, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ee5f1a84fca3c5ab8d6609c8ed3a879e?s=128&d=identicon&r=PG", "display_name": "guido", "link": "https://stackoverflow.com/users/389099/guido"}, "is_accepted": true, "score": 1, "last_activity_date": 1427686466, "last_edit_date": 1427686466, "creation_date": 1427685528, "answer_id": 29337880, "question_id": 29337809, "link": "https://stackoverflow.com/questions/29337809/extracting-text-file-information-via-command-line-script/29337880#29337880", "title": "Extracting text file information via command line/script", "body": "<p>Given your output is in <em>filename</em>:</p>\n\n<pre><code>sed 's/ \\+/ /g' filename | tail -n +3 | cut -f1,3,9 -d ' ' | sed 's/ /\\t/g' | sort -r -n -k3\n</code></pre>\n\n<ul>\n<li>replace multiple spaces with a single one, for tokenizing</li>\n<li>discard the first two header lines</li>\n<li>project columns 1, 3, and 9</li>\n<li>replace spaces with tabs to have columns back</li>\n<li>sort desc by total bytes</li>\n</ul>\n\n<p>output:</p>\n\n<pre><code>192.168.0.14    192.168.0.13    4992578\n192.168.0.162   192.168.0.71    3984\n192.168.0.75    192.168.0.58    2988\n192.168.0.41    192.168.0.13    2988\n192.168.0.227   192.168.0.157   2988\n192.168.0.221   192.168.0.94    2988\n192.168.0.191   192.168.0.50    2988\n192.168.0.191   192.168.0.150   2988\n192.168.0.206   192.168.0.153   1992\n224.0.0.252     192.168.0.13    207\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "is_accepted": false, "score": 2, "last_activity_date": 1427686358, "last_edit_date": 1427686358, "creation_date": 1427686037, "answer_id": 29337951, "question_id": 29337809, "link": "https://stackoverflow.com/questions/29337809/extracting-text-file-information-via-command-line-script/29337951#29337951", "title": "Extracting text file information via command line/script", "body": "<p>Try:</p>\n\n<pre><code>awk '\n BEGIN { printf \"%-15s %-15s %s\\n\",  \"Host 1\", \"Host 2\", \"Total Bytes\" }\n NR&gt;2  { printf \"%-15s %-15s %11s\\n\", $1, $3, $9 }\n' file\n</code></pre>\n\n<p>Adjust the output-field widths as needed.</p>\n\n<ul>\n<li>The <code>BEGIN</code> block is used to print the output header line.</li>\n<li><code>NR &gt; 2</code> ensures that the input header lines are skipped.</li>\n<li><code>printf</code> is used with field-width specifiers create column-aligned output.\n<ul>\n<li>a <code>-</code> before the width specifier indicates left-aligned output (e.g.,<code>%-15s</code>; without it, the value is right-aligned (e.g., <code>%11s</code>)</li>\n</ul></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1427708823, "post_id": 29338648, "comment_id": 46872602, "body": "<code>$F[0], $F[2], $F[8]</code> better written <code>@F[0,2,8]</code>."}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 2, "last_activity_date": 1427723542, "last_edit_date": 1427723542, "creation_date": 1427691400, "answer_id": 29338648, "question_id": 29337809, "link": "https://stackoverflow.com/questions/29337809/extracting-text-file-information-via-command-line-script/29338648#29338648", "title": "Extracting text file information via command line/script", "body": "<p>in perl:</p>\n\n<pre><code>tshark | perl -lane 'print join \"\\t\", ($F[0], $F[2], $F[8])'\n</code></pre>\n\n<p>the <code>-a</code> option splits each line of stdin into an array called <code>@F</code>. the column numbers don't correspond well to the array index numbers because <code>-a</code> splits by space by default. you can set the delimiter with <code>-F</code> if you like.</p>\n\n<p><code>-F</code> would help get the headers aligned correctly too, but to just skip the misaligned headers, add <code>next if $. &lt; 3;</code> before <code>print</code> to skip the first two lines</p>\n"}], "owner": {"reputation": 133, "user_id": 2824922, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a6397e6cb6ae5455f21568b299c6a431?s=128&d=identicon&r=PG&f=1", "display_name": "404Cat", "link": "https://stackoverflow.com/users/2824922/404cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 29337880, "answer_count": 3, "score": 1, "last_activity_date": 1427723542, "creation_date": 1427684979, "question_id": 29337809, "link": "https://stackoverflow.com/questions/29337809/extracting-text-file-information-via-command-line-script", "title": "Extracting text file information via command line/script", "body": "<p>I'd like to extract only certain information from a block of text. I have had great luck with asking the StackOverflow community for their expertise assistance, especially with tricky topics (RegEx, perl, sed, awk).</p>\n\n<p>The text is output from a <code>tshark</code> command that I would like to manipulate and print out to avoid unnecessary information.</p>\n\n<p>Any help would be appreciated. I am currently learning the ways of the aforementioned topics, but it's slow going!</p>\n\n<p>Any script or command help to achieve the following output will be seriously helpful.</p>\n\n<p>Original:</p>\n\n<pre><code>                                                     Host 1            Host 2            Total            Relative         Duration\nHost 1                   Host 2                Frames     Bytes  Frames     Bytes  Frames     Bytes        Start\n192.168.0.14         &lt;-&gt; 192.168.0.13            3898   4872033    1971    120545    5869   4992578     0.001886000       283.6363\n192.168.0.162        &lt;-&gt; 192.168.0.71               2      1992       2      1992       4      3984   176.765198000        77.0542\n192.168.0.191        &lt;-&gt; 192.168.0.150              3      2988       0         0       3      2988   199.319020000        59.7055\n192.168.0.227        &lt;-&gt; 192.168.0.157              3      2988       0         0       3      2988   197.013283000        76.7197\n192.168.0.221        &lt;-&gt; 192.168.0.94               3      2988       0         0       3      2988   196.312847000        59.7065\n192.168.0.75         &lt;-&gt; 192.168.0.58               2      1992       1       996       3      2988   191.995706000        59.7121\n224.0.0.252          &lt;-&gt; 192.168.0.13               3       207       0         0       3       207   180.521299000         0.0536\n192.168.0.191        &lt;-&gt; 192.168.0.50               1       996       2      1992       3      2988   173.452130000        59.6849\n192.168.0.41         &lt;-&gt; 192.168.0.13               3      2988       0         0       3      2988   167.180087000        76.6960\n192.168.0.206        &lt;-&gt; 192.168.0.153              1       996       1       996       2      1992   270.528070000         4.4070\n</code></pre>\n\n<p>Desired:</p>\n\n<pre><code>Host 1     Host 2     Total Bytes\nx.x.x.x    x.x.x.x    N\nx.x.x.x    x.x.x.x    N\nx.x.x.x    x.x.x.x    N\n</code></pre>\n"}, {"tags": ["perl", "lighttpd", "dancer"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4727262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080bfc2d683e136074dcde2b52177fda?s=128&d=identicon&r=PG&f=1", "display_name": "lightnight", "link": "https://stackoverflow.com/users/4727262/lightnight"}, "edited": false, "score": 0, "creation_date": 1427736374, "post_id": 29337484, "comment_id": 46890155, "body": "Can you elaborate on that? what is &quot;application&quot;, can it be something like &quot;*&quot;?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1427682447, "creation_date": 1427682447, "answer_id": 29337484, "question_id": 29337425, "link": "https://stackoverflow.com/questions/29337425/dancer2-pages-not-displayed-throught-lighttpd/29337484#29337484", "title": "dancer2 pages not displayed throught lighttpd", "body": "<p>From the <a href=\"https://metacpan.org/pod/Dancer::Deployment#Using-Lighttpd\" rel=\"nofollow\">manual</a>:</p>\n\n<blockquote>\n  <p>Using Lighttpd</p>\n  \n  <p>You can use Lighttp's mod_proxy:</p>\n\n<pre><code>$HTTP[\"url\"] =~ \"/application\" {\n    proxy.server = (\n        \"/\" =&gt; (\n            \"application\" =&gt; ( \"host\" =&gt; \"127.0.0.1\", \"port\" =&gt; 3000 )\n        )\n    )\n}\n</code></pre>\n</blockquote>\n\n<p>This configuration will proxy all request to the /application path to the path / on localhost:3000.</p>\n"}], "owner": {"reputation": 1, "user_id": 4727262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080bfc2d683e136074dcde2b52177fda?s=128&d=identicon&r=PG&f=1", "display_name": "lightnight", "link": "https://stackoverflow.com/users/4727262/lightnight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427682447, "creation_date": 1427681891, "question_id": 29337425, "link": "https://stackoverflow.com/questions/29337425/dancer2-pages-not-displayed-throught-lighttpd", "title": "dancer2 pages not displayed throught lighttpd", "body": "<p>I just installed dancer, and tried a short example</p>\n\n<pre><code>#!/usr/bin/perl\nuse Dancer2;\n\nget '/' =&gt; sub {\nreturn 'Hello World!';\n};\n\nstart;\n</code></pre>\n\n<p>but i dont seem to get any output at <code>localhost/cgi-bin/test.pl</code>.</p>\n\n<p>I think my lighttpd server is configured fairly correctly because if i replace the above text with this the page is displayed.</p>\n\n<pre><code>#!/usr/bin/perl\n\nstart;\n$date = `date`;\n$reddit = `curl -L www.google.com`;\nprint&lt;&lt;END;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;h2&gt;Hello&lt;/h2&gt;\n    &lt;/head&gt;\n    &lt;title&gt;\n        $date\n    &lt;/title&gt;\n    &lt;body&gt;\n        $reddit\n    &lt;/body&gt;\n&lt;/html&gt;\nEND\n</code></pre>\n\n<p>However, if i use <code>localhost:3000</code> then the dancer's scripts displays correctly</p>\n\n<p>this is my lighttpd.conf file, and i don't think i have changed much</p>\n\n<pre><code>server.modules = (\n        \"mod_access\",\n        \"mod_alias\",\n        \"mod_compress\",\n        \"mod_redirect\",\n#       \"mod_rewrite\",\n)\n\nserver.document-root        = \"/var/www/test\"\nserver.upload-dirs          = ( \"/var/cache/lighttpd/uploads\" )\nserver.errorlog             = \"/var/log/lighttpd/error.log\"\nserver.pid-file             = \"/var/run/lighttpd.pid\"\nserver.username             = \"www-data\"\nserver.groupname            = \"www-data\"\nserver.port                 = 80\nserver.chroot               = \"/\"\n\nindex-file.names            = ( \"index.pl\", \"index.php\", \"index.html\", \"index.lighttpd.html\" )\nurl.access-deny             = ( \"~\", \".inc\" )\nstatic-file.exclude-extensions = ( \".php\", \".pl\", \".fcgi\" )\ncompress.cache-dir          = \"/var/cache/lighttpd/compress/\"\ncompress.filetype           = ( \"application/javascript\", \"text/css\", \"text/html\", \"text/plain\" )\n\n# default listening port for IPv6 falls back to the IPv4 port\ninclude_shell \"/usr/share/lighttpd/use-ipv6.pl \" + server.port\ninclude_shell \"/usr/share/lighttpd/create-mime.assign.pl\"\ninclude_shell \"/usr/share/lighttpd/include-conf-enabled.pl\"\n</code></pre>\n"}, {"tags": ["linux", "perl", "smtp", "spam", "lsof"], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1427774883, "post_id": 29342991, "comment_id": 46904785, "body": "But examining the memory image of the running process would presumably reveal the text of the running script. You need root privileges to do this."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1427708754, "creation_date": 1427708754, "answer_id": 29342991, "question_id": 29336861, "link": "https://stackoverflow.com/questions/29336861/debug-where-spam-script-on-linux-is/29342991#29342991", "title": "Debug Where Spam script on Linux is", "body": "<p>I think you have a pid there - <code>21655</code>. So finding where the thing is, is as simple as looking in <code>/proc/21655</code></p>\n\n<p>You should see a few entries in there. Of interest: </p>\n\n<p><code>cwd</code> - current working directory. </p>\n\n<p><code>fd</code> - open files by process</p>\n\n<p><code>exe</code> and <code>root</code> probably won't tell you much unfortunately.</p>\n\n<p>There's a bit of a difficulty here though - you know what your process is. It's perl. Somehow something is invoking perl and giving it code to run. This code may be entirely in memory. You can just type 'perl' key in some code and press ctrl-d and have it run it. There's nothing on disk at that point, so there's nothing to find. </p>\n"}], "owner": {"reputation": 33, "user_id": 3234448, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6d245741b9506ba785524bdb7a2e5ed5?s=128&d=identicon&r=PG", "display_name": "TheLipster", "link": "https://stackoverflow.com/users/3234448/thelipster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1427708754, "creation_date": 1427676970, "question_id": 29336861, "link": "https://stackoverflow.com/questions/29336861/debug-where-spam-script-on-linux-is", "title": "Debug Where Spam script on Linux is", "body": "<p>My Linux server is sending out large amounts of spam and so far the only information I have to identify where this is coming from is the following:</p>\n\n<p><strong>lsof -f | grep smtp     ---- results</strong></p>\n\n<pre><code>perl      21655       apache   54u     IPv4            1795658         0t0        TCP (my.server.here):58354-&gt;smtp-in.orange.fr:smtp (ESTABLISHED)\n</code></pre>\n\n<p>There are about 4-5 of these sometimes to different servers.</p>\n\n<p>Additionally: My phpmail log is not reporting any mail sending, yet our server is definately sending out large amounts of spam.</p>\n\n<p>How can I identify the exact location of the script making these connections?</p>\n"}, {"tags": ["perl", "file", "unix", "rm"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1427662933, "post_id": 29334769, "comment_id": 46858187, "body": "What&#39;s the fascination with one-liners?  You can convert almost any script to one line by removing newlines, but it is more important that code is readable than that it is on one line."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 1, "creation_date": 1427663023, "post_id": 29334769, "comment_id": 46858228, "body": "Any reason why <code>rm BADnew&#47;*sorted*</code> wouldn&#39;t work?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1427663024, "post_id": 29334769, "comment_id": 46858229, "body": "You need to replace the <code>unlink $n</code> with a call to a function that opens the file, looks for the string you&#39;re after (<code>sorted</code>), closes the file, and then calls <code>unlink</code> if the word was found.  Not very hard; have at it!"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 0, "creation_date": 1427663072, "post_id": 29334769, "comment_id": 46858245, "body": "@PaulRoub: two reasons: there are millions of files, so the argument list will be too long, and because the files contain <code>sorted</code>, not the file names."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1427663781, "post_id": 29334769, "comment_id": 46858483, "body": "Do you mean files whose contents contain the word <i>sorted</i> or those whose names contain the word <i>sorted</i>?"}], "answers": [{"comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1427669010, "post_id": 29334890, "comment_id": 46859919, "body": "The disadvantage with this is that it will have to create millions of processes each of which executes a single <code>rm</code> of a single file, which will make it very slow."}, {"owner": {"reputation": 29, "user_id": 1154133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080c1747c45dc5d040aa433a7e79ff7f?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1154133/alex"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1427671073, "post_id": 29334890, "comment_id": 46860443, "body": "Yes, it&#39;s true \u2013 but it heavily depends on number of files which contain keyword \u2013 new process for <code>rm</code> will be created on match. And checking each file content will kill I/O anyway."}, {"owner": {"reputation": 3946, "user_id": 65706, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e0652a12b8a5b2577f91f0e192ea3f9?s=128&d=identicon&r=PG", "display_name": "Yordan Georgiev", "link": "https://stackoverflow.com/users/65706/yordan-georgiev"}, "edited": false, "score": 0, "creation_date": 1428822957, "post_id": 29334890, "comment_id": 47321626, "body": "c=0;forks_num=10;sleep_secs=3 find . -type f -exec grep -q link {} \\; -exec echo {}  \\; | { while read -r file ; do c=$((c+1)) ; test $c -eq &quot;$forks_num&quot; &amp;&amp; sleep &quot;$sleep_secs&quot; &amp;&amp; export c=0 ; ( echo &quot;match: $file&quot;  )&amp; done }"}, {"owner": {"reputation": 50120, "user_id": 247542, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c125f576c3a08c0c1d4330bc565ae28c?s=128&d=identicon&r=PG", "display_name": "Cerin", "link": "https://stackoverflow.com/users/247542/cerin"}, "edited": false, "score": 0, "creation_date": 1570709872, "post_id": 29334890, "comment_id": 103004105, "body": "Did you read op&#39;s question? Did you try running this on a folder containing <b>millions</b> of files? It does not work. <code>find</code> builds a list in memory. Running this will destroy your system by consuming all memory, triggering disk swapping."}], "tags": [], "owner": {"reputation": 29, "user_id": 1154133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080c1747c45dc5d040aa433a7e79ff7f?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1154133/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1427663528, "creation_date": 1427663528, "answer_id": 29334890, "question_id": 29334769, "link": "https://stackoverflow.com/questions/29334769/removing-millions-of-files-oneliner/29334890#29334890", "title": "Removing millions of files - oneliner", "body": "<p>It can be done using <code>find</code> and <code>grep</code> combination:</p>\n\n<pre><code>find BADnew -type f -exec grep -q sorted {} \\; -exec rm {} \\;\n</code></pre>\n\n<p>Second <code>-exec</code> command will be executed only if return code for first one is zero.</p>\n\n<p>You can do dry run:</p>\n\n<pre><code>find BADnew -type f -exec grep -q sorted {} \\; -exec echo {} \\;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 1, "last_activity_date": 1427668404, "creation_date": 1427668404, "answer_id": 29335737, "question_id": 29334769, "link": "https://stackoverflow.com/questions/29334769/removing-millions-of-files-oneliner/29335737#29335737", "title": "Removing millions of files - oneliner", "body": "<p>the core module <code>File::Find</code> will recursively traverse all the subdirectories and perform a subroutine on all files found</p>\n\n<pre><code>perl -MFile::Find -e 'find( sub { open $f,\"&lt;\",$_; unlink if grep /sorted/, &lt;$f&gt; }, \"BADnew\")'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "is_accepted": false, "score": 0, "last_activity_date": 1427668798, "creation_date": 1427668798, "answer_id": 29335792, "question_id": 29334769, "link": "https://stackoverflow.com/questions/29334769/removing-millions-of-files-oneliner/29335792#29335792", "title": "Removing millions of files - oneliner", "body": "<p>Try:</p>\n\n<pre><code>find /where -type f -name \\* -print0 | xargs -0 grep -lZ sorted | xargs -0 echo rm\n#can search for specific ^^^ names                       ^^^^^^            ^^^^\n#                                   what should contain the file            |\n#                              remove the echo if satisfied with the result +\n</code></pre>\n\n<p>The above:</p>\n\n<ul>\n<li>the <code>find</code> searches for files with a specified name (* - any)</li>\n<li>the <code>xargs ... grep</code> list files what are contains the string</li>\n<li>the <code>xargs rm</code> - removes the files</li>\n<li>don't dies on \"arg count too long\"</li>\n<li>the files could have whitespaces in their names</li>\n<li>needs <code>grep</code> what knows the <code>-Z</code></li>\n</ul>\n\n<p>Also a variant:</p>\n\n<pre><code>find /where -type f -name \\* -print0 | xargs -0 grep -lZ sorted | perl -0 -nle unlink\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1427721616, "last_edit_date": 1427721616, "creation_date": 1427721184, "answer_id": 29347169, "question_id": 29334769, "link": "https://stackoverflow.com/questions/29334769/removing-millions-of-files-oneliner/29347169#29347169", "title": "Removing millions of files - oneliner", "body": "<p>You haven't made it clear, despite specific questions, whether you require the file <em>name</em> or the file <em>contents</em> to contain <code>sorted</code>. Here are both solutions</p>\n\n<p>First, <code>chdir</code> to the directory you're interested in. If you really need a one-liner for whatever reason then it is pointless to put the <code>chdir</code> inside the program.</p>\n\n<pre><code>cd BADnew\n</code></pre>\n\n<p>Then you can either unlink all nodes that are files and whose name contains <code>sorted</code></p>\n\n<pre><code>perl -e'opendir $dh, \".\"; while(readdir $dh){-f and /sorted/ and unlink}'\n</code></pre>\n\n<p>or you can open each file and read it to see if its contents contain <code>sorted</code>. I hope it's clear that this method will be far slower, not least because you have to read the entire file to establish a negative. Note that this solution relies on the </p>\n\n<pre><code>perl -e'opendir $dh, \".\"; while(readdir $dh){-f or next; @ARGV=$f=$_; /sorted/ and unlink($f),last while &lt;&gt;}'\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 3956131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f65679d8c141460d0f486ffeeb00f8ef?s=128&d=identicon&r=PG&f=1", "display_name": "Koen", "link": "https://stackoverflow.com/users/3956131/koen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1428789414, "creation_date": 1427662754, "last_edit_date": 1428789414, "question_id": 29334769, "link": "https://stackoverflow.com/questions/29334769/removing-millions-of-files-oneliner", "title": "Removing millions of files - oneliner", "body": "<p>I want to remove millions of files in a directory and pages mentioned that the following Perl code is the fastest:</p>\n\n<pre><code>perl -e 'chdir \"BADnew\" or die; opendir D, \".\"; while ($n = readdir D) { unlink $n }`\n</code></pre>\n\n<p>However, is it also possible to do this on only files containing the word 'sorted'? Does anyone know how to rewrite this?</p>\n"}, {"tags": ["perl", "sockets", "client", "server"], "comments": [{"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 1, "creation_date": 1427659996, "post_id": 29333402, "comment_id": 46857242, "body": "Why are you using lowlevel socket functions directly, instead of using <code>IO::Socket::IP</code> or maybe <code>IO::Socket::INET</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427665713, "post_id": 29334340, "comment_id": 46859084, "body": "Telling people that they would be better off using your own module is always a little disingenuous.  <i>&quot;It&#39;s hard to show an example of how to turn the buffering off, when you&#39;re using global filehandles and lowlevel core socket functions&quot;</i>. I don&#39;t see why: <code>NEW_SOCKET-&gt;autoflush</code> is fine. Also, your program won&#39;t compile because you haven&#39;t declared <code>$client</code>, so presumably you haven&#39;t tested it and you should say so in your answer"}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427711517, "post_id": 29334340, "comment_id": 46874131, "body": "As to the broken example, I&#39;ve now edited it. On the subject of suggesting people use the community-ratified standard solution to a given problem, does it matter that I&#39;m its current maintainer?"}], "tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1427711408, "last_edit_date": 1427711408, "creation_date": 1427660290, "answer_id": 29334340, "question_id": 29333402, "link": "https://stackoverflow.com/questions/29333402/no-data-received-on-server-side-when-data-is-written-to-socket-on-client-side/29334340#29334340", "title": "no data received on server side when data is written to socket on client side", "body": "<p>Buffering.</p>\n\n<p>It's hard to show an example of how to turn the buffering off, when you're using global filehandles and lowlevel core socket functions, instead of using a higher-level <code>IO::Handle</code>-derived socket wrapper.</p>\n\n<p>If instead you'd use that, then this would be simple. The server would then be:</p>\n\n<pre><code>use strict;\nuse IO::Socket::IP;\n\n# use port 7890 as default\nmy $port = shift || 7890;\n\nmy $listensock = IO::Socket::IP-&gt;new(\n    LocalPort =&gt; $port,\n    Listen =&gt; 5,\n) or die \"Cannot listen - $@\";\n\n# accepting a connection\nwhile (my ($client, $client_addr) = $listensock-&gt;accept) {\n    $client-&gt;autoflush(1);   ### THIS IS THE KEY LINE\n\n    # send them a message, close connection\n    $client-&gt;print(\"Smile from the server\");\n    sleep(5);\n\n    print &lt;$client&gt;;\n}\n</code></pre>\n\n<p>The key point being the call to <code>autoflush</code> here, which disables the output buffering and makes sure to send all bytes immediately.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 3323479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83bd685b2d15328a6499746866ccf809?s=128&d=identicon&r=PG&f=1", "display_name": "Benyang.D", "link": "https://stackoverflow.com/users/3323479/benyang-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1427712652, "creation_date": 1427712652, "answer_id": 29344269, "question_id": 29333402, "link": "https://stackoverflow.com/questions/29333402/no-data-received-on-server-side-when-data-is-written-to-socket-on-client-side/29344269#29344269", "title": "no data received on server side when data is written to socket on client side", "body": "<p>$client->print(\"Smile from the server\\n\");</p>\n\n<p>'\\n' is the end ch for getline</p>\n"}], "owner": {"reputation": 11, "user_id": 3820043, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/baaf20126f393e4b6ab3a46fc9004ab3?s=128&d=identicon&r=PG&f=1", "display_name": "user3820043", "link": "https://stackoverflow.com/users/3820043/user3820043"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427712652, "creation_date": 1427655200, "last_edit_date": 1427655406, "question_id": 29333402, "link": "https://stackoverflow.com/questions/29333402/no-data-received-on-server-side-when-data-is-written-to-socket-on-client-side", "title": "no data received on server side when data is written to socket on client side", "body": "<p>I send \"smile from server\" to the client and expect \"good morning\" from the client. Basically I don't understand whether the flaw is on server side or the client side.\nhere is my code :</p>\n\n<p><strong><em>Server side</em></strong></p>\n\n<pre><code>#!/usr/bin/perl -w\n# Filename : server.pl\n\nuse strict;\nuse Socket;\n\n# use port 7890 as default\n    my $port = shift || 7890;\n    my $proto = getprotobyname('tcp');\n\n    my $server = \"localhost\";  # Host IP running the server\n\n# create a socket, make it reusable\n    socket(SOCKET, PF_INET, SOCK_STREAM, $proto)\n       or die \"Can't open socket $!\\n\";\n\n# bind to a port, then listen\n    bind( SOCKET, pack_sockaddr_in($port, inet_aton($server)))\n       or die \"Can't bind to port $port! \\n\";\n\n    listen(SOCKET, 5) or die \"listen: $!\";\n    print \"SERVER started on port $port\\n\";\n\n# accepting a connection\n    my $client_addr;\n    while ($client_addr = accept(NEW_SOCKET, SOCKET)) {\n       # send them a message, close connection\n       my $name = gethostbyaddr($client_addr, AF_INET );\n       print NEW_SOCKET \"Smile from the server\";\n       sleep(5);\n       print &lt;NEW_SOCKET&gt;;\n       print \"Connection recieved from $name\\n\";\n       close NEW_SOCKET;\n }\n</code></pre>\n\n<p>and this is the client side:</p>\n\n<pre><code>#!/usr/bin/perl -w\n    use strict;\n    use Socket;\n    # initialize host and port\n    my $host = 'localhost';\n    my $port = 7890;\n    my $server = \"localhost\";  # Host IP running the server\n\n    # create the socket, connect to the port\n    socket(SOCKET,PF_INET,SOCK_STREAM,getprotobyname('tcp'))\n       or die \"Can't create a socket $!\\n\";\n\n    connect( SOCKET, pack_sockaddr_in($port, inet_aton($server)))\n       or die \"Can't connect to port $port! \\n\";\n\n    my $line;\n    while ($line = &lt;SOCKET&gt;) {\n            print \"$line\\n\";\n            print SOCKET \"good morning\";\n            sleep(10);\n    }\n    close SOCKET or die \"close: $!\";\n</code></pre>\n"}, {"tags": ["string", "perl"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1427647033, "creation_date": 1427647033, "answer_id": 29331790, "question_id": 29331325, "link": "https://stackoverflow.com/questions/29331325/how-to-get-the-charsets-supported-by-perls-stringmultibyte/29331790#29331790", "title": "How to get the charsets supported by Perl&#39;s String::Multibyte", "body": "<p>I am not sure I understand the value of this module, and the source code has some questionable things, but, apart from that, it looks like you are going to have to use a method similar to what the module itself does:</p>\n\n<pre><code>use File::Basename qw( basename );\nuse File::Spec::Functions qw( catdir );\nrequire String::Multibyte;\n\nmy $dir = catdir(basename($INC{'String/Multibyte.pm'}), 'Multibyte');\nopendir my $dh, $dir or die \"Cannot open charset dir '$dir': $!\";\nmy @charsets = grep s/[.]pm\\z//, readdir $dh;\nclose $dh; \n</code></pre>\n\n<p>The code is untested.</p>\n"}], "owner": {"reputation": 1280, "user_id": 653042, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eeb96ccb9534c7bed6c0dccd4e4f0e5b?s=128&d=identicon&r=PG", "display_name": "npcode", "link": "https://stackoverflow.com/users/653042/npcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427658831, "creation_date": 1427644498, "last_edit_date": 1427658831, "question_id": 29331325, "link": "https://stackoverflow.com/questions/29331325/how-to-get-the-charsets-supported-by-perls-stringmultibyte", "title": "How to get the charsets supported by Perl&#39;s String::Multibyte", "body": "<p>I am working with the <a href=\"https://metacpan.org/module/String::Multibyte\" rel=\"nofollow\"><code>String::Multibyte</code></a> module, and it seems that <code>String::Multibyte-&gt;new()</code> accepts a charset as the first argument and throws an exception if the charset is not supported. I think the supported charsets are defined by <code>*.pm</code> files in a specific directory.</p>\n\n<p>What is the most robust way to get the supported charsets? Is getting the files the only way?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1427645526, "post_id": 29331320, "comment_id": 46852126, "body": "You&#39;d have to put a signal handler in place to handle the signal and do something appropriate.  Calling the end block per se will be tricky; you might need to wrap the contents in a function and call the function from the end block and the signal handler."}], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 4, "last_activity_date": 1427647515, "creation_date": 1427647515, "answer_id": 29331901, "question_id": 29331320, "link": "https://stackoverflow.com/questions/29331320/perl-can-end-block-be-called-when-program-is-kill/29331901#29331901", "title": "perl: can end block be called when program is &#39;kill&#39;", "body": "<p>put the proper signal handler in your code:</p>\n\n<pre><code>$SIG{INT} = sub { die \"Caught a sigint $!\" };\n</code></pre>\n\n<p>the control-c sends the SIGINT signal to the script, who is catched by this handler</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1427648877, "last_edit_date": 1427648877, "creation_date": 1427648526, "answer_id": 29332098, "question_id": 29331320, "link": "https://stackoverflow.com/questions/29331320/perl-can-end-block-be-called-when-program-is-kill/29332098#29332098", "title": "perl: can end block be called when program is &#39;kill&#39;", "body": "<p>Ctrl C sends a <code>SIGINT</code> to your program. You can 'catch' this with a signal handler by setting the appropriate entry in <code>%SIG</code>. I would note - I don't see why you're using <code>BEGIN</code> that way. <code>BEGIN</code> is a special code block that's called at compile time - at the very first opportunity. That means it's triggered when you run <code>perl -c</code> to validate your code, and as such is really a bad idea to set as an infinite loop. See: <a href=\"http://perldoc.perl.org/perlmod.html#BEGIN%2C-UNITCHECK%2C-CHECK%2C-INIT-and-END\" rel=\"noreferrer\"><code>perlmod</code></a></p>\n\n<p>E.g. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n$SIG{'INT'} = \\&amp;handle_kill; \nmy $finished = 0; \n\nsub handle_kill {\n     print \"Caught a kill signal\\n\";\n     $finished++; \n}\n\n\nwhile ( not $finished ) {\n    print \"Not finished yet\\n\";\n    sleep 1;\n}\n\nEND {\n    print \"end is called\\n\";\n}\n</code></pre>\n\n<p>But there's a drawback - some signals you can't trap in this way. See <a href=\"http://perldoc.perl.org/perlipc.html#Deferred-Signals-%28Safe-Signals%29\" rel=\"noreferrer\"><code>perlipc</code></a> for more details. </p>\n\n<blockquote>\n  <p>Some signals can be neither trapped nor ignored, such as the KILL and STOP (but not the TSTP) signals. Note that ignoring signals makes them disappear. If you only want them blocked temporarily without them getting lost you'll have to use POSIX' sigprocmask.</p>\n</blockquote>\n\n<p>By default if you send a <code>kill</code>, then it'll send a <code>SIGTERM</code>. So you may want to override this handler too. However it's typically considered bad to do anything other than exit gracefully with a SIGTERM - it's more acceptable to 'do something' and resume when trapping <code>SIGHUP</code> (Hangup) and <code>SIGINT</code>. </p>\n\n<p>You should note that Perl does 'safe signals' though - and so some system calls won't be interrupted, perl will wait for it to return before processing the signal. That's because bad things can happen if you abort certain operations (like <code>close</code> on a file where you're flushing data might leave it corrupt). Usually that's not a problem, but it's something to be aware of. </p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "accepted_answer_id": 29332098, "answer_count": 2, "score": 1, "last_activity_date": 1427648877, "creation_date": 1427644466, "question_id": 29331320, "link": "https://stackoverflow.com/questions/29331320/perl-can-end-block-be-called-when-program-is-kill", "title": "perl: can end block be called when program is &#39;kill&#39;", "body": "<pre><code>BEGIN {\n    while (1) {\n        print \"hi\\n\";\n    }\n}\n\n\nEND {\n    print \"end is called\\n\";\n}\n</code></pre>\n\n<p>in shell:</p>\n\n<pre><code>kill &lt;pid&gt;\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>hi\nhi\nhi\nhi\nhi\nhi\nhi\nhi\nhi\nTerminated\n</code></pre>\n\n<p>The end block didnt get called when i killed it via kill or ctrl-c.</p>\n\n<p>Is there something equivalent that will always get called before program exits </p>\n"}, {"tags": ["perl", "unix", "datetime", "solaris"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 4507885, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rNGADC6LRA8/AAAAAAAAAAI/AAAAAAAAABw/UHHINOTeHQM/photo.jpg?sz=128", "display_name": "Inferno1892", "link": "https://stackoverflow.com/users/4507885/inferno1892"}, "edited": false, "score": 0, "creation_date": 1427627869, "post_id": 29328244, "comment_id": 46846627, "body": "Thanks Daniel, I saved your code in a file named as datecalc and executed with the input parameter 201308. I am getting the following error message: Can&#39;t locate DateTime.pm in @INC (@INC contains: /usr/opt/perl5/lib/5.8.8/aix-thread-multi /usr/opt/perl5/lib/5.8.8 /usr/opt/perl5/lib/site_perl/5.8.8/aix-thread-multi /usr/opt/perl5/lib/site_perl/5.8.8 /usr/opt/perl5/lib/site_perl .) at ./datecalc line 3. BEGIN failed--compilation aborted at ./datecalc line 3."}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "reply_to_user": {"reputation": 133, "user_id": 4507885, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rNGADC6LRA8/AAAAAAAAAAI/AAAAAAAAABw/UHHINOTeHQM/photo.jpg?sz=128", "display_name": "Inferno1892", "link": "https://stackoverflow.com/users/4507885/inferno1892"}, "edited": false, "score": 0, "creation_date": 1427628971, "post_id": 29328244, "comment_id": 46846960, "body": "That means that the <code>DateTime</code> module is not installed. I&#39;ll post an update doing date math without DateTime."}], "tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": true, "score": 0, "last_activity_date": 1427629611, "last_edit_date": 1427629611, "creation_date": 1427626479, "answer_id": 29328244, "question_id": 29328188, "link": "https://stackoverflow.com/questions/29328188/how-to-calculate-previous-n-months-from-an-input-parameter-in-solaris/29328244#29328244", "title": "How to calculate previous &#39;n&#39; months from an input parameter in Solaris?", "body": "<p>Given there is the <code>DateTime</code> module installed or you can install modules from CPAN (at least into your home directory):</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse DateTime;\n\nmy $in = $ARGV[0] or die \"No input\";\nmy ( $year, $month ) = ( $in =~ m/^(\\d\\d\\d\\d)(\\d\\d)$/ ) or die \"Wrong format\";\nmy $dt = DateTime-&gt;new( year =&gt; $year, month =&gt; $month );\n$dt-&gt;subtract( months =&gt; 13 );\nprint $dt-&gt;strftime(\"%Y%m\\n\");\n</code></pre>\n\n<p>As requested a version without using the <code>DateTime</code> module:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nmy $in = $ARGV[0] or die \"No input\";\nmy ( $year, $month ) = ( $in =~ m/^(\\d\\d\\d\\d)(\\d\\d)$/ ) or die \"Wrong format\";\n$month -= 13;\nwhile ( $month &lt; 1 ) {\n    $year  -= 1;\n    $month += 12;\n}\nprintf \"%04i%02i\\n\", $year, $month;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26822, "user_id": 211665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2254b.png?s=128&g=1", "display_name": "jlliagre", "link": "https://stackoverflow.com/users/211665/jlliagre"}, "is_accepted": false, "score": 0, "last_activity_date": 1427633525, "last_edit_date": 1427633525, "creation_date": 1427632243, "answer_id": 29329123, "question_id": 29328188, "link": "https://stackoverflow.com/questions/29328188/how-to-calculate-previous-n-months-from-an-input-parameter-in-solaris/29329123#29329123", "title": "How to calculate previous &#39;n&#39; months from an input parameter in Solaris?", "body": "<p>This can also be done with basic shell scripting using Solaris 10 ksh:</p>\n\n<pre><code>previousNMonth()\n{\n  y=$(echo $1|sed 's/..$//')\n  m=$(echo $1|sed 's/^....//')\n  m=$((m-$2))\n  while [ $m -lt 1 ]; do m=$((m+12)); y=$((y-1)); done\n  printf \"%04d%02d\\n\" $y $m\n} \n\n$ previousNMonth 201308 13\n201207\n</code></pre>\n\n<p>If you are using Solaris 11, here is a ksh93 version which is pure shell, i.e. doesn't rely on external commands:</p>\n\n<pre><code>previousNMonth()\n{\n  y=${1:0:4}\n  m=$((${1:4:2}-$2))\n  while (( m &lt; 1)); do m=$((m+12)); y=$((y-1)); done\n  printf \"%04d%02d\\n\" $y $m\n}\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 4507885, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rNGADC6LRA8/AAAAAAAAAAI/AAAAAAAAABw/UHHINOTeHQM/photo.jpg?sz=128", "display_name": "Inferno1892", "link": "https://stackoverflow.com/users/4507885/inferno1892"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 29328244, "answer_count": 2, "score": 0, "last_activity_date": 1427664281, "creation_date": 1427626121, "last_edit_date": 1427627247, "question_id": 29328188, "link": "https://stackoverflow.com/questions/29328188/how-to-calculate-previous-n-months-from-an-input-parameter-in-solaris", "title": "How to calculate previous &#39;n&#39; months from an input parameter in Solaris?", "body": "<p>I am writing a script on a Solaris system, and I need to get the <em>n</em>th previous month from an input parameter (e.g. I need the value of the 13th month previous to 201308 - so my output needs to be <code>201207</code>, with <code>201308</code> coming as an input parameter to my shell script).</p>\n\n<p>Most examples I found is using GNU but since my machine is a server and I don't have admin privileges, I am not able to install GNU there.</p>\n\n<p>I have perl installed but I can't seem to bring out the exact code for this.</p>\n\n<p>Any help will be greatly appreciated. </p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1427619771, "post_id": 29325477, "comment_id": 46844655, "body": "Use the <a href=\"https://metacpan.org/module/URI\" rel=\"nofollow noreferrer\"><code>URI</code></a> module (and possibly <a href=\"https://metacpan.org/module/URI::QueryParam\" rel=\"nofollow noreferrer\"><code>URI::QueryParam</code></a>) for building elaborate URLs. Also, you shouldn&#39;t put simple scalar variables inside quotes, as in <code>&quot;$base_url&quot;</code>, Just <code>$base_url</code> is correct. I&#39;m sorry that this has nothing to do with your stated problem, but I hoped you would appreciate the advice"}, {"owner": {"reputation": 483, "user_id": 677767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a82b2645f72a9435afcabd19e733fea8?s=128&d=identicon&r=PG", "display_name": "VirtualWolf", "link": "https://stackoverflow.com/users/677767/virtualwolf"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427799663, "post_id": 29325477, "comment_id": 46916444, "body": "Ah, good advice. Cheers!"}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 677767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a82b2645f72a9435afcabd19e733fea8?s=128&d=identicon&r=PG", "display_name": "VirtualWolf", "link": "https://stackoverflow.com/users/677767/virtualwolf"}, "edited": false, "score": 0, "creation_date": 1427797671, "post_id": 29341111, "comment_id": 46915420, "body": "The first suggestion just gave me a &quot;Can&#39;t weaken a nonreference&quot; error, but the second worked. Thanks!"}, {"owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "reply_to_user": {"reputation": 483, "user_id": 677767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a82b2645f72a9435afcabd19e733fea8?s=128&d=identicon&r=PG", "display_name": "VirtualWolf", "link": "https://stackoverflow.com/users/677767/virtualwolf"}, "edited": false, "score": 0, "creation_date": 1427806513, "post_id": 29341111, "comment_id": 46919767, "body": "First example should work. I have a proof of that: <a href=\"https://gist.github.com/Logioniz/ce2b53c9647cf0204e81\" rel=\"nofollow noreferrer\">gist.github.com/Logioniz/ce2b53c9647cf0204e81</a>  To run: perl 1.pl get /  The result must be &quot;zxc&quot;"}, {"owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "reply_to_user": {"reputation": 483, "user_id": 677767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a82b2645f72a9435afcabd19e733fea8?s=128&d=identicon&r=PG", "display_name": "VirtualWolf", "link": "https://stackoverflow.com/users/677767/virtualwolf"}, "edited": false, "score": 0, "creation_date": 1427806682, "post_id": 29341111, "comment_id": 46919853, "body": "I also use the second variant with Mojolicious-Plugin-Model! Because very frequently need to pass $app to modules."}], "tags": [], "owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "is_accepted": true, "score": 5, "last_activity_date": 1427805799, "last_edit_date": 1427805799, "creation_date": 1427702438, "answer_id": 29341111, "question_id": 29325477, "link": "https://stackoverflow.com/questions/29325477/accessing-mojolicious-helpers-from-a-module-using-mojobase/29341111#29341111", "title": "Accessing Mojolicious helpers from a module using Mojo::Base?", "body": "<p>The problem is that your module have not got app attribute/method which get access to your app.</p>\n\n<p>So, when you create instance of <code>Site::Model::Photos</code> you need to pass <code>app</code> to it in param and make it weaken something like that:</p>\n\n<pre><code>package Site::Model::Photos\nuse Scalar::Util 'weaken';\nsub new {\n  my $class = shift;\n  my $app = shift;\n  my $hash = {app =&gt; $app, ...};\n  weaken $hash-&gt;{app};\n  return bless $hash, $class;\n}\n\nsub your_method {\n  my $self = shift;\n  $self-&gt;{app}-&gt;get_base_rest_url(...);\n}\n\n1;\n</code></pre>\n\n<p>Or you may to use this module <a href=\"https://metacpan.org/release/Mojolicious-Plugin-Model\" rel=\"nofollow\">https://metacpan.org/release/Mojolicious-Plugin-Model</a> which do it for you:</p>\n\n<pre><code>package Site::Model::Photos\nuse Mojo::Base 'MojoX::Model';\n\n... code of your module ...\n\nsub your_method {\n  my $self = shift;\n  $self-&gt;app-&gt;get_base_rest_url(...);\n}\n\n1;\n</code></pre>\n\n<p>And in your App.pm  need to add this:</p>\n\n<pre><code>$app-&gt;plugin('Model', {namespaces =&gt; ['Site::Model']});\n</code></pre>\n\n<p>And use it that in controller:</p>\n\n<pre><code>$c-&gt;model('photos');\n$c-&gt;app-&gt;model('photos');\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 677767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a82b2645f72a9435afcabd19e733fea8?s=128&d=identicon&r=PG", "display_name": "VirtualWolf", "link": "https://stackoverflow.com/users/677767/virtualwolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1388, "favorite_count": 1, "accepted_answer_id": 29341111, "answer_count": 1, "score": 3, "last_activity_date": 1427805799, "creation_date": 1427601680, "last_edit_date": 1592644375, "question_id": 29325477, "link": "https://stackoverflow.com/questions/29325477/accessing-mojolicious-helpers-from-a-module-using-mojobase", "title": "Accessing Mojolicious helpers from a module using Mojo::Base?", "body": "<p>I have an existing application (my website) that I'm doing some code tidying in, and the tidy up is following the same sort of idea as the <a href=\"https://metacpan.org/module/Mojo::Pg\" rel=\"nofollow noreferrer\"><code>Mojo::Pg</code></a> example <a href=\"https://github.com/kraih/mojo-pg/blob/master/examples/blog/lib/Blog/Model/Posts.pm\" rel=\"nofollow noreferrer\">here</a>, with separate model and controller files to keep things defined. My site accesses both Flickr and Last.fm's APIs, and I have a helper defined in <code>Site::Helpers</code>:</p>\n<pre><code>$app-&gt;helper(\n    get_base_rest_url =&gt; sub {\n        my ( $self, $config ) =  @_;\n\n        sswitch ( $config ) {\n            case 'photos': {\n                my $base_url = 'https://api.flickr.com/services/rest/';\n                my $user_id  = '7281432@N05';\n                my $api_key  = $self-&gt;app-&gt;config-&gt;{ 'api_token' }{ 'flickr' };\n\n                my $url =\n                    &quot;$base_url&quot;\n                    . &quot;?user_id=$user_id&quot;\n                    . &quot;&amp;api_key=$api_key&quot;\n                    . &quot;&amp;per_page=&quot; . $self-&gt;session-&gt;{ per_page }\n                    . '&amp;format=json'\n                    . '&amp;nojsoncallback=1';\n\n                return $url;\n            }\n\n            case 'music': {\n                my $base_url = 'https://ws.audioscrobbler.com/2.0/';\n                my $username = 'virtualwolf';\n                my $api_key  = $self-&gt;app-&gt;config-&gt;{ 'api_token' }{ 'last_fm' };\n                my $per_page = $self-&gt;session-&gt;{ 'per_page' };\n\n                my $url = &quot;$base_url?user=$username&amp;limit=$per_page&amp;api_key=$api_key&amp;format=json&quot;;\n\n                return $url;\n            }\n        }\n    }\n);\n</code></pre>\n<p>The problem I'm running into is that I don't know how to access that helper from the <code>Site::Model::Photos</code> module. The error is</p>\n<pre><code>Can't locate object method &quot;get_base_rest_url&quot; via package &quot;Site::Model::Photos&quot;\n</code></pre>\n<p>which is fair enough, but I can't work out how to actually get at that <code>get_base_rest_url</code> helper (or alternatively, how to access the <code>api_token</code> config).</p>\n"}, {"tags": ["regex", "perl", "shell"], "owner": {"reputation": 25, "user_id": 2890140, "user_type": "registered", "profile_image": "https://graph.facebook.com/1602825031/picture?type=large", "display_name": "Pasha Salnikov", "link": "https://stackoverflow.com/users/2890140/pasha-salnikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 492, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427607081, "creation_date": 1427572343, "last_edit_date": 1427607081, "question_id": 29321827, "link": "https://stackoverflow.com/questions/29321827/use-shell-command-tesseract-in-perl-script-to-print-a-text-output", "title": "use shell command tesseract in perl script to print a text output", "body": "<p>Hi i have some script that i want to write, first i took from the html the image, and then i wanted to use tesseract to take the output txt from it.\ni cant really figure out how to do it.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl -X\n\n\n##########\n$user = ''; # Enter your username here\n$pass = ''; # Enter your password here\n###########\n\n# Server settings (no need to modify)\n$home = \"http://37.48.90.31\";\n$url  = \"$home/c/test.cgi?u=$user&amp;p=$pass\";\n\n# Get HTML code\n$html = `GET \"$url\"`;\n\n#### Add code here:\n# Grab img from HTML code\n\nif ($html =~ /\\img[^&gt;]* src=\\\"([^\\\"]*)\\\"[^&gt;]*/) {\n    $takeImg = $1;\n    }\n@dirs = split m!/!, $takeImg;\n$img = $dirs[2];\n#########\ndie \"&lt;img&gt; not found\\n\" if (!$img);\n\n\n# Download img to server (save as: ocr_me.img)\nprint \"GET '$img' &gt; ocr_me.img\\n\";\nsystem \"GET '$img' &gt; ocr_me.img\";\n\n\n#### Add code here:\n# Run OCR (using shell command tesseract) on img and save text as       ocr_result.txt\nsystem (\"tesseract\", \"tesseract ocr_me.img ocr_result\");\n\n\n###########\ndie \"ocr_result.txt not found\\n\" if (!-e \"ocr_result.txt\");\n\n# Check OCR results:\n$txt = `cat ocr_result.txt`;\n</code></pre>\n\n<p>I took the image right from the html or i need another Regex?\nand how to display the 'ocr_result.txt' </p>\n\n<p>Thanks for all who will help!</p>\n"}, {"tags": ["perl", "loops"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1427580397, "post_id": 29321763, "comment_id": 46837204, "body": "The way you calculate the <a href=\"http://www.nu42.com/2015/03/how-you-average-numbers.html\" rel=\"nofollow noreferrer\">averages is flawed</a>, and your standard deviation is going to fail catastrophically. See <a href=\"http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance\" rel=\"nofollow noreferrer\">Algorithms for calculating variance</a>. While you are at it, you probably want the unbiased standard deviation estimator."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1427583401, "post_id": 29321763, "comment_id": 46837954, "body": "Also, where is this CGI script running? It seems to me anyone who can invoke this script can do interesting things with it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427623526, "post_id": 29321763, "comment_id": 46845512, "body": "I have laid out your Perl code so that it is more readable. It is <i>essential</i> that you do that yourself so that you can spot any scoping problems, and it is only polite to post readable code when you are hoping for help to debug it. For the same reasons you <i>must always</i> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program that you write. They are invaluable aids to finding problems with your code, and without <code>use strict</code> there is little point in using <code>my</code> to declare anything. In this case, <code>use strict</code> reveals that you have failed to declare either <code>@regex</code> or <code>$regex</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1427624238, "post_id": 29321763, "comment_id": 46845701, "body": "@Sinan&#220;n&#252;r: Your blog post is fascinating. I have often used something similar to calculate rolling statistics, but had no thought that the accuracy would be improved. (I might have known that Don Knuth was involved.) But I think you overstate the importance of doing things &quot;properly&quot;. As you say yourself, <i>&quot;One saving grace of the real world is the fact that a given variable is unlikely to contain values with such an extreme range&quot;</i> and I hope it would be apparent to anyone who had to write for such an unusual data set that special methods were necessary."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427634137, "post_id": 29321763, "comment_id": 46848421, "body": "@Borodin Did you try the variance experiment at the end? That is small set of numbers that are close to each other. One must resort to somewhat contrived examples to illustrate the problem in one step, but in real life, you tend to do a lot more summations. It is important to calculate things stably."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427634228, "post_id": 29321763, "comment_id": 46848457, "body": "@Borodin Regarding this question, note that the thing that <i>really</i> turns me off is the fact that a CGI script takes user input and uses it willy nilly."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427600322, "post_id": 29321902, "comment_id": 46841448, "body": "If all you&#39;re doing is <code>push</code>ing the lines onto an array, you can drop the <code>while</code> loop and simply do <code>my @lines = &lt;FILE&gt;;</code> Don&#39;t forget to <code>chomp</code>!"}], "tags": [], "owner": {"reputation": 53052, "user_id": 728795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74899fd197722b4ddaeb21de21c6b313?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/728795/andrei"}, "is_accepted": false, "score": 0, "last_activity_date": 1427572679, "creation_date": 1427572679, "answer_id": 29321902, "question_id": 29321763, "link": "https://stackoverflow.com/questions/29321763/running-a-nested-while-loop-inside-a-foreach-loop-in-perl/29321902#29321902", "title": "Running a nested while loop inside a foreach loop in Perl", "body": "<p>The problem here is that starting from the second iteration of foreach you are trying to read from already read file handle. You need to rewind to the beginning to read it again:</p>\n\n<pre><code>foreach $regex (@regex) {\n    seek FILE, 0, 0;\n    while ( my $line = &lt;FILE&gt; ) {\n</code></pre>\n\n<p>However that does not look very performant. Why read file several times at all, when you can read it once before the foreach starts, and then iterate through the list:</p>\n\n<pre><code>my @lines;\nwhile (&lt;FILE&gt;) {\n    push (@lines, $_);\n}\n\nforeach $regex (@regex) {\n    foreach $line (@lines) {\n</code></pre>\n\n<p>Having the latter, you might also what to consider using <code>grep</code> instead of the <code>while</code> loop.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1427584604, "post_id": 29321923, "comment_id": 46838226, "body": "Believe it or not, my first draft had that, but I lost it again :)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1427647111, "last_edit_date": 1427647111, "creation_date": 1427572799, "answer_id": 29321923, "question_id": 29321763, "link": "https://stackoverflow.com/questions/29321763/running-a-nested-while-loop-inside-a-foreach-loop-in-perl/29321923#29321923", "title": "Running a nested while loop inside a foreach loop in Perl", "body": "<p>Yes, my advice would be:</p>\n\n<ul>\n<li>Turn on <code>strict</code> and <code>warnings</code>.</li>\n<li>perltidy your code, </li>\n<li>use 3 argument open: <code>open ( my $inputfile, \"&lt;\", 'final_expression.txt' );</code></li>\n<li><code>die</code> if it doesn't open - the rest of your program is irrelevant. </li>\n<li><code>chomp $line</code></li>\n<li>you are iterating your filehandle, but once you've done this you're at the end of file for the next iteration of the <code>foreach</code> loop so your <code>while</code> loops becomes a null operation. Simplistically, reading the file into an array <code>my @lines = &lt;FILE&gt;;</code> would fix this.</li>\n</ul>\n\n<p>So with that in mind:</p>\n\n<pre><code>#!/usr/bin/perl -T\n\nuse strict;\nuse warnings;\n\nuse CGI qw(:cgi-lib :standard);\nprint \"Content-type: text/html\\n\\n\";\n\nmy $input       = param('sequence');\nmy $meanexpfile = \"final_expression_complete.txt\";\nopen( my $input_file, \"&lt;\", $meanexpfile ) or die \"unable to open file\";\nmy @meanmatches;\n\nmy @regex = ( split /\\s/, $input );\nmy @lines = &lt;$input_file&gt;;\nchomp (@lines);\nclose($input_file) or warn $!;\n\nforeach my $regex (@regex) {\n    foreach my $line (@lines) {\n        if ( $line =~ m/$regex\\s(.+\\n)/i ) {\n            push( @meanmatches, $1 );\n        }\n    }\n\n    my $average                  = average(@meanmatches);\n    my $std_dev                  = std_dev( $average, @meanmatches );\n    my $average_round            = sprintf( \"%0.4f\", $average );\n    my $stdev_round              = sprintf( \"%0.4f\", $std_dev );\n    my $coefficient_of_variation = $stdev_round / $average_round;\n    my $cv_round = sprintf( \"%0.4f\", $coefficient_of_variation );\n\n    print font(\n        { color =&gt; \"blue\" }, \"&lt;br&gt;&lt;B&gt;$regex average: $average_round   \n&amp;nbspStandard deviation: $stdev_round&amp;nbspCoefficient of \nvariation(Cv): $cv_round&lt;/B&gt;\"\n    );\n}\n\nsub average {\n    my (@values) = @_;\n    my $count    = scalar @values;\n    my $total    = 0;\n    $total += $_ for @values;\n\n    return $count ? $total / $count : 0;\n}\n\nsub std_dev {\n    my ( $average, @values ) = @_;\n\n    my $count       = scalar @values;\n    my $std_dev_sum = 0;\n    $std_dev_sum += ( $_ - $average )**2 for @values;\n\n    return $count ? sqrt( $std_dev_sum / $count ) : 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4297531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4f1cf21255c20b1990f64db95e5958b7?s=128&d=identicon&r=PG&f=1", "display_name": "neemie", "link": "https://stackoverflow.com/users/4297531/neemie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2225, "favorite_count": 0, "accepted_answer_id": 29321923, "answer_count": 2, "score": 0, "last_activity_date": 1427647111, "creation_date": 1427571977, "last_edit_date": 1427622894, "question_id": 29321763, "link": "https://stackoverflow.com/questions/29321763/running-a-nested-while-loop-inside-a-foreach-loop-in-perl", "title": "Running a nested while loop inside a foreach loop in Perl", "body": "<p>I'm trying to use a <code>foreach</code> loop to loop through an array and then use a nested <code>while</code> loop to loop through each line of a text file to see if the array element matches a line of text; if so then I push data from that line into a new array to perform calculations.</p>\n\n<p>The outer <code>foreach</code> loop appears to be working correctly (based on printed results with each array element) but the inner while loop is not looping (same data pushed into array each time).</p>\n\n<p>Any advice?</p>\n\n<p>The code is below</p>\n\n<pre><code>#! /usr/bin/perl -T\n\nuse CGI qw(:cgi-lib :standard);\n\nprint \"Content-type: text/html\\n\\n\";\n\nmy $input       = param('sequence');\nmy $meanexpfile = \"final_expression_complete.txt\";\n\nopen(FILE, $meanexpfile) or print \"unable to open file\";\n\nmy @meanmatches;\n\n@regex = (split /\\s/, $input);\n\nforeach $regex (@regex) {\n\n    while (my $line = &lt;FILE&gt;) {\n        if ( $line =~ m/$regex\\s(.+\\n)/i ) {\n            push(@meanmatches, $1);\n        }\n    }\n\n    my $average                  = average(@meanmatches);\n    my $std_dev                  = std_dev($average, @meanmatches);\n    my $average_round            = sprintf(\"%0.4f\", $average);\n    my $stdev_round              = sprintf(\"%0.4f\", $std_dev);\n    my $coefficient_of_variation = $stdev_round / $average_round;\n    my $cv_round                 = sprintf(\"%0.4f\", $coefficient_of_variation);\n\n    print font(\n        { color =&gt; \"blue\" }, \"&lt;br&gt;&lt;B&gt;$regex average: $average_round   \n&amp;nbspStandard deviation: $stdev_round&amp;nbspCoefficient of \nvariation(Cv): $cv_round&lt;/B&gt;\"\n    );\n}\n\nsub average {\n    my (@values) = @_;\n    my $count    = scalar @values;\n    my $total    = 0;\n\n    $total += $_ for @values;\n\n    return $count ? $total / $count : 0;\n}\n\nsub std_dev {\n    my ($average, @values) = @_;\n    my $count       = scalar @values;\n    my $std_dev_sum = 0;\n\n    $std_dev_sum += ($_ - $average)**2 for @values;\n\n    return $count ? sqrt($std_dev_sum / $count) : 0;\n}\n</code></pre>\n"}, {"tags": ["perl", "win32gui", "trayicon"], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1427580024, "post_id": 29322035, "comment_id": 46837121, "body": "Without an actual explanation of why this is a rather poor answer to a badly phrased question. &quot;Does not work?&quot; <i>Really?</i>"}], "tags": [], "owner": {"reputation": 191, "user_id": 997613, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf6c303f4dd1f5181593a1f50d577536?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/997613/nick"}, "is_accepted": false, "score": -2, "last_activity_date": 1427573453, "creation_date": 1427573453, "answer_id": 29322035, "question_id": 29321593, "link": "https://stackoverflow.com/questions/29321593/win32gui-update-tray-icon-does-not-work/29322035#29322035", "title": "Win32::GUI update tray icon does not work", "body": "<pre><code>Win32::GUI::Dialog();\n</code></pre>\n\n<p>Must be put after while loop in order to work. :(</p>\n"}], "owner": {"reputation": 191, "user_id": 997613, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf6c303f4dd1f5181593a1f50d577536?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/997613/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427579935, "creation_date": 1427570902, "last_edit_date": 1427579935, "question_id": 29321593, "link": "https://stackoverflow.com/questions/29321593/win32gui-update-tray-icon-does-not-work", "title": "Win32::GUI update tray icon does not work", "body": "<p>The tray icon does not change. What could be the cause?\nI'm using latest Strawberry Perl v5.20.2 x86, Win32::GUI v1.11, Windows 7 x64.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Win32::GUI;\n\n\nmy $main = Win32::GUI::Window-&gt;new(\n-name =&gt; 'Main',\n-text =&gt; 'Perl',\n-width =&gt; 200,\n-height =&gt; 200\n);\n\nmy $icon = new Win32::GUI::Icon('1-0.ico');\nmy $ni = $main-&gt;AddNotifyIcon(\n-name =&gt; \"NI\",\n-icon =&gt; $icon\n);\n\nmy $icon2 = new Win32::GUI::Icon('0-0.ico');\n\n\nWin32::GUI::Dialog();\nwhile(1)\n{\n    $ni-&gt;Change( -icon =&gt; $icon );\n    sleep(5);\n    $ni-&gt;Change( -icon =&gt; $icon2 );\n    sleep(5);\n}\n</code></pre>\n"}, {"tags": ["perl", "oop"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1427570013, "last_edit_date": 1427570013, "creation_date": 1427568537, "answer_id": 29321191, "question_id": 29321122, "link": "https://stackoverflow.com/questions/29321122/perl-create-objects-but-how-to-get-at-the-individual-object/29321191#29321191", "title": "Perl - create objects but how to get at the individual object?", "body": "<p>Your objects are members of the array.</p>\n\n<pre><code>my $o = $objects[0];\n$o-&gt;method(@args);\n</code></pre>\n\n<p>or, shortly:</p>\n\n<pre><code>$objects[0]-&gt;method(@args);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1427569761, "post_id": 29321324, "comment_id": 46834041, "body": "Using <code>&#39;Class&#39;-&gt;new</code> is still better, and <code>Class::-&gt;new</code> the best, but ugly."}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1427569926, "last_edit_date": 1427569926, "creation_date": 1427569442, "answer_id": 29321324, "question_id": 29321122, "link": "https://stackoverflow.com/questions/29321122/perl-create-objects-but-how-to-get-at-the-individual-object/29321324#29321324", "title": "Perl - create objects but how to get at the individual object?", "body": "<p>first note that best practices are to call the \"new\" method (and all methods) with -> instead of like a subroutine, i.e., $object = Class->new();</p>\n\n<pre><code>for (@objects) {\n   my $object = $_;\n\n   #call methods on the object\n   $object-&gt;method();\n\n   #assign vars to method call result\n   my $var = $object-&gt;method();\n\n   #access the objects attributes directly (not advised)\n   $var = $object-&gt;{attribute};\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1427579714, "creation_date": 1427579714, "answer_id": 29323070, "question_id": 29321122, "link": "https://stackoverflow.com/questions/29321122/perl-create-objects-but-how-to-get-at-the-individual-object/29323070#29323070", "title": "Perl - create objects but how to get at the individual object?", "body": "<p>First of all, keep in mind that Perl is not Java.</p>\n\n<p>So, as appealing as it looks to you, do not use <code>new Class</code>. That is called <em>indirect object notation</em>. It looks cute and familiar, but it will bite you.</p>\n\n<p>I am assuming <code>virtualCoffeeObject</code> is class which has accessors for the coffee type it represents. Did I mention, Perl is not Java?</p>\n\n<p>Let's say you have the following barebones class:</p>\n\n<pre><code>package My::Coffee;\n\nsub new {\n   my $class = shift;\n   bless { name =&gt; $_[0] } =&gt; $class;\n}\n\nsub name {\n   my $self = shift;\n   $self-&gt;{name};\n}\n</code></pre>\n\n<p>And, given the names below:</p>\n\n<pre><code># My array of coffeecup names\nmy @names = qw(Espresso Sumatran Java);\n</code></pre>\n\n<p>You want to create an array of <code>My::Coffee</code> objects with the corresponding names. In Perl, you would do:</p>\n\n<pre><code> my @coffees = map My::Coffee-&gt;new($_), @names;\n</code></pre>\n\n<blockquote>\n  <p><em>How do I get at the Espresso coffee cup object?</em></p>\n</blockquote>\n\n<p>There is no reason to presume there is only a single <code>My::Coffee</code> instance with name Espresso:</p>\n\n<pre><code> my @espressos = grep $_-&gt;name eq 'Espresso', @coffees;\n</code></pre>\n\n<p>You can invoke methods on the elements of either array:</p>\n\n<pre><code> say $_-&gt;name for @coffees;\n</code></pre>\n\n<p>or</p>\n\n<pre><code> say $_-&gt;name for @espressos;\n</code></pre>\n\n<p>Did I mention Perl is not Java?</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4724689, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0ca-zEPYM3c/AAAAAAAAAAI/AAAAAAAAGjA/ivEcaPu6m4Q/photo.jpg?sz=128", "display_name": "murphyjason170", "link": "https://stackoverflow.com/users/4724689/murphyjason170"}, "edited": false, "score": 0, "creation_date": 1427647865, "post_id": 29329875, "comment_id": 46852979, "body": "Daniel, thank you for the Hash magic!! Thank you so much!! I had been beating my head against the wall for 3 days on this. Now I can easily create and manipulate objects. Thanks again! - Jason"}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "reply_to_user": {"reputation": 3, "user_id": 4724689, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0ca-zEPYM3c/AAAAAAAAAAI/AAAAAAAAGjA/ivEcaPu6m4Q/photo.jpg?sz=128", "display_name": "murphyjason170", "link": "https://stackoverflow.com/users/4724689/murphyjason170"}, "edited": false, "score": 0, "creation_date": 1427653596, "post_id": 29329875, "comment_id": 46855068, "body": "I&#39;m glad my hint to hashes did the trick. I updated my answer with a link to some useful documentation. If this was helpful, you might kindly check the green arrow left of my answer."}], "tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": true, "score": 2, "last_activity_date": 1427653534, "last_edit_date": 1427653534, "creation_date": 1427636842, "answer_id": 29329875, "question_id": 29321122, "link": "https://stackoverflow.com/questions/29321122/perl-create-objects-but-how-to-get-at-the-individual-object/29329875#29329875", "title": "Perl - create objects but how to get at the individual object?", "body": "<p>I agree with all hints the other answers give but I don't see why nobody posted the obvious solution to keep track of the created objects.</p>\n\n<p>Of course you can store your objects in dedicated scalar variables:</p>\n\n<pre><code>my $espresso = VirtualCoffee-&gt;new(\"Espresso\");\nmy $sumatran = VirtualCoffee-&gt;new(\"Sumatran\");\n...\n</code></pre>\n\n<p>As you draw your coffee types from an array you'll probably not want to use fixed variable names for all your coffees. The tool of choice for this is a hash in Perl.</p>\n\n<pre><code>my @coffee_cup_names = (\"Espresso\", \"Sumatran\", \"Java\");\n\n# create a VirtualCoffee object and store it with its name as hash key\nmy %coffees = map {$_ =&gt; VirtualCoffee-&gt;new($_)} @coffee_cup_names;\n\n# how to get the objects:\nmy @coffee_sorts = keys   %coffees;\nmy @all_coffees  = values %coffees;\nmy $espresso = $coffees{Espresso};\n</code></pre>\n\n<p>To learn more about hashes in Perl, I recommend the <a href=\"http://modernperlbooks.com/books/modern_perl/chapter_03.html#aGFzaGVz\" rel=\"nofollow\">Modern Perl \"book\" (read online)</a>.</p>\n\n<p>I allowed myself to adapt your variable names to common Perl style.</p>\n"}], "owner": {"reputation": 3, "user_id": 4724689, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0ca-zEPYM3c/AAAAAAAAAAI/AAAAAAAAGjA/ivEcaPu6m4Q/photo.jpg?sz=128", "display_name": "murphyjason170", "link": "https://stackoverflow.com/users/4724689/murphyjason170"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 29329875, "answer_count": 4, "score": 0, "last_activity_date": 1427653534, "creation_date": 1427568219, "last_edit_date": 1427579298, "question_id": 29321122, "link": "https://stackoverflow.com/questions/29321122/perl-create-objects-but-how-to-get-at-the-individual-object", "title": "Perl - create objects but how to get at the individual object?", "body": "<p>I create objects but then don't know how to easily use them once they are created (do set/get and run methods). The code below works but then I cannot get at the object to use it How do I do this?</p>\n\n<pre><code># My array of coffeecup names\nmy @coffeeCupNames = (\"Espresso\", \"Sumatran\", \"Java\");\n\n# Create an array to hold my objects once they are created\nmy @objects = ();\n\n# Create a new coffee cup object with the name of the coffee cup\nforeach (@coffeeCupNames)\n{\n    push @objects, new virtualCoffeeObject(\"$_\");\n}\n\n# How do I get at the Espresso coffee cup object?\n</code></pre>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 7715, "user_id": 815386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef59545dc02685334418ee23a2f30777?s=128&d=identicon&r=PG", "display_name": "zb&#39;", "link": "https://stackoverflow.com/users/815386/zb"}, "edited": false, "score": 0, "creation_date": 1427566607, "post_id": 29320773, "comment_id": 46832950, "body": "what the reason for you is to use awk inside perl ?"}, {"owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "edited": false, "score": 0, "creation_date": 1427567223, "post_id": 29320773, "comment_id": 46833148, "body": "Give us some input data and what you like from it. I guess it would be possible to solve this using so only <code>grep</code> or <code>awk</code>"}], "answers": [{"comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1427567518, "post_id": 29320959, "comment_id": 46833228, "body": "Nor do you need <code>grep</code> for that matter (and I&#39;m sure there&#39;s an alternative to using <code>df</code> :)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1427567664, "post_id": 29320959, "comment_id": 46833286, "body": "@TomFenech: Working on it :)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1427625822, "last_edit_date": 1427625822, "creation_date": 1427567417, "answer_id": 29320959, "question_id": 29320773, "link": "https://stackoverflow.com/questions/29320773/awk-usage-in-perl-scripting/29320959#29320959", "title": "awk usage in perl scripting", "body": "<p>You don't need <code>awk</code> inside Perl.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $FS, '-|', q(df -h) or die $!;\nwhile (&lt;$FS&gt;) {\n    print +(split)[5], \"\\n\"\n        if /dev/i and not /^Filesystem|proc|none|udev|tmpfs/;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "edited": false, "score": 1, "creation_date": 1427608179, "post_id": 29322080, "comment_id": 46842571, "body": "Why <code>echo &quot;$(df -h)&quot; | ...</code> and not just <code>df -h | ...</code> ?"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "edited": false, "score": 0, "creation_date": 1427608787, "post_id": 29322080, "comment_id": 46842666, "body": "@user000001 ha you&#39;re right. echo is totally unnecessary. as you can tell I use perl alone a lot more than bash"}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 1, "last_activity_date": 1438174219, "last_edit_date": 1438174219, "creation_date": 1427573690, "answer_id": 29322080, "question_id": 29320773, "link": "https://stackoverflow.com/questions/29320773/awk-usage-in-perl-scripting/29322080#29322080", "title": "awk usage in perl scripting", "body": "<p>as the previous answer says, you don't need awk or grep system calls in perl. however, I will tell you that one reason your code isn't working is because you never made the awk system call. <code>print</code> does not execute the system call. you would have to use <code>system()</code> to execute it.</p>\n\n<p>anyway fwiw you can also do what you want in a one-liner like so:</p>\n\n<pre><code>df -h | perl -lnae 'next if $F[0] =~ /regex/; print $F[5]'\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4450286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/287ed63937673dd3c8af124f39a981f4?s=128&d=identicon&r=PG&f=1", "display_name": "Premchand", "link": "https://stackoverflow.com/users/4450286/premchand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 29320959, "answer_count": 2, "score": 1, "last_activity_date": 1438174219, "creation_date": 1427566418, "last_edit_date": 1427604684, "question_id": 29320773, "link": "https://stackoverflow.com/questions/29320773/awk-usage-in-perl-scripting", "title": "awk usage in perl scripting", "body": "<p>Hi am writing a script which its need to grep the 6th column of the output using awk command but am getting other output.\nWhat is the exact syntax in perl to extract 6th column using awk?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse diagnostics;\nmy $filesystem=`df -h |grep -i dev|grep -vE '^Filesystem|proc|none|udev|tmpfs'`;\nprint \"(\\\"$filesystem\\\"|awk '{print \\$6}')\"\n\nOutput :\n7831c1c4be8c% ./test.pl\n(\"/dev/disk1     112Gi   43Gi   69Gi    39% 11227595 18084674   38%   /\ndevfs          183Ki  183Ki    0Bi   100%      634        0  100%   /dev\n\"|awk '{print  $6}')%                                                                               \n</code></pre>\n\n<p>Am trying to remove the % how it can be done ?</p>\n\n<pre><code>7831c1c4be8c% cat test.pl\n#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $FS, q(df -h |) or die $!;\nwhile (&lt;$FS&gt;) {\nprint +(split)[4], \"\\n\"\n    if /dev/i and not /devfs/;\n }\n 7831c1c4be8c% ./test.pl\n 40%\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 8685, "user_id": 2743458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8R0W.jpg?s=128&g=1", "display_name": "bloodyKnuckles", "link": "https://stackoverflow.com/users/2743458/bloodyknuckles"}, "is_accepted": false, "score": 0, "last_activity_date": 1427567472, "creation_date": 1427567472, "answer_id": 29320977, "question_id": 29320730, "link": "https://stackoverflow.com/questions/29320730/how-to-expand-the-file-based-on-the-numbers-which-have-given-in-the-input-file/29320977#29320977", "title": "how to expand the file based on the numbers which have given in the input file?", "body": "<pre><code>my $str = 'MOD_GlcNHglycan 264-268 DTSGT';\nmy ($name, $range, $chars) = split ' ', $str;\nmy ($start, $end) = split '-', $range;\nmy @chars_arr = split '', $chars;\nmy @results = ();\nforeach my $char ( @chars_arr ) {\n    push @results, $name, ' ', $start++, ' ', $char;\n}\n</code></pre>\n\n<p>Results in an array containing:</p>\n\n<pre><code>MOD_GlcNHglycan 264 D\nMOD_GlcNHglycan 265 T\nMOD_GlcNHglycan 266 S\nMOD_GlcNHglycan 267 G\nMOD_GlcNHglycan 268 T\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 1685716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaed605567ef9aba386e0484bd7da286?s=128&d=identicon&r=PG", "display_name": "user1685716", "link": "https://stackoverflow.com/users/1685716/user1685716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427567472, "creation_date": 1427566168, "question_id": 29320730, "link": "https://stackoverflow.com/questions/29320730/how-to-expand-the-file-based-on-the-numbers-which-have-given-in-the-input-file", "title": "how to expand the file based on the numbers which have given in the input file?", "body": "<p>I have one input file</p>\n\n<p>MOD_GlcNHglycan 264-268 DTSGT</p>\n\n<p>I would like to have output as follow\nMOD_GlcNHglycan 264 D\nMOD_GlcNHglycan 265 T\nMOD_GlcNHglycan 266 S\nMOD_GlcNHglycan 267 G\nMOD_GlcNHglycan 268 T</p>\n"}, {"tags": ["macos", "perl", "swig"], "comments": [{"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1427757428, "post_id": 29320496, "comment_id": 46900446, "body": "What do you get for <code>perl -V:dlext</code> ? When you compile this module <a href=\"http://perlmonks.com/?node_id=921357\" rel=\"nofollow noreferrer\">SOso-0.01.patch.txt</a> what files are created in blib?"}, {"owner": {"reputation": 669, "user_id": 888868, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4ec9a5562199e894177fc0b69fbad143?s=128&d=identicon&r=PG", "display_name": "Phil Mitchell", "link": "https://stackoverflow.com/users/888868/phil-mitchell"}, "reply_to_user": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1427759556, "post_id": 29320496, "comment_id": 46900975, "body": "@optional have provided the info requested - thanks!"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1427759976, "post_id": 29320496, "comment_id": 46901081, "body": "Well :) if your os/perl is configured to look for a freeling.bundle, I don&#39;t think its going to try to look at freeling.so .... so I&#39;d try to do something about that ... sure SWIG might compensate for this naming issue but I doubt it"}, {"owner": {"reputation": 669, "user_id": 888868, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4ec9a5562199e894177fc0b69fbad143?s=128&d=identicon&r=PG", "display_name": "Phil Mitchell", "link": "https://stackoverflow.com/users/888868/phil-mitchell"}, "reply_to_user": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1427761096, "post_id": 29320496, "comment_id": 46901395, "body": "It may that these path issues are a total red herring. If I rename freeling.so =&gt; freeling.bundle (or for that matter, tweak makefile to output freeling.bundle), then when i run my test program it segfaults (11). Does this suggest that my gcc command is screwed up?"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1427764088, "post_id": 29320496, "comment_id": 46902199, "body": "How does it compare to the SOso Makefile?"}, {"owner": {"reputation": 669, "user_id": 888868, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4ec9a5562199e894177fc0b69fbad143?s=128&d=identicon&r=PG", "display_name": "Phil Mitchell", "link": "https://stackoverflow.com/users/888868/phil-mitchell"}, "reply_to_user": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1427832233, "post_id": 29320496, "comment_id": 46935418, "body": "@optional The segfault is really another question. If you want to post your suggestions as an answer, I&#39;d be happy to award the bounty. You did resolve the path issue for me - thanks!"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1427841659, "post_id": 29320496, "comment_id": 46939482, "body": "i&#39;m not sure it really fits the format of stackoverflow ... so you can keep the bounty :)"}, {"owner": {"reputation": 669, "user_id": 888868, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4ec9a5562199e894177fc0b69fbad143?s=128&d=identicon&r=PG", "display_name": "Phil Mitchell", "link": "https://stackoverflow.com/users/888868/phil-mitchell"}, "reply_to_user": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1427842338, "post_id": 29320496, "comment_id": 46939697, "body": "I lose the bounty either way. Your insights were definitely helpful and could be preserved as a SO answer. It&#39;s up to you. Either way, thanks again!"}], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": true, "score": 0, "last_activity_date": 1427847954, "creation_date": 1427847954, "answer_id": 29380838, "question_id": 29320496, "link": "https://stackoverflow.com/questions/29320496/swig-perl-dynaloader-cant-find-boot-module-on-os-x/29380838#29380838", "title": "SWIG, perl, DynaLoader can&#39;t find boot_$Module on OS X", "body": "<p>Ok, promoting to answer :)</p>\n\n<p>What do you get for <code>perl -V:dlext</code> ?\nWhen you compile this module <a href=\"http://perlmonks.com/?node_id=921357\" rel=\"nofollow\">SOso-0.01.patch.txt</a> what files are created in blib?</p>\n\n<p>Well :) if your os/perl is configured to look for a freeling.bundle, I don't think its going to try to look at freeling.so .... so I'd try to do something about that ... rename the file to use the dlext</p>\n"}], "owner": {"reputation": 669, "user_id": 888868, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4ec9a5562199e894177fc0b69fbad143?s=128&d=identicon&r=PG", "display_name": "Phil Mitchell", "link": "https://stackoverflow.com/users/888868/phil-mitchell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 29380838, "answer_count": 1, "score": 1, "last_activity_date": 1427847954, "creation_date": 1427564869, "last_edit_date": 1427824910, "question_id": 29320496, "link": "https://stackoverflow.com/questions/29320496/swig-perl-dynaloader-cant-find-boot-module-on-os-x", "title": "SWIG, perl, DynaLoader can&#39;t find boot_$Module on OS X", "body": "<p>I am trying to build and install a SWIG-generated perl API on OS X 10.10.2. (It's for the FreeLing 3.1 language analysis toolkit.) I have generated and compiled the SWIG files, producing <code>freeling.so</code>.</p>\n\n<p>But when I try to <code>use freeling</code> in a perl script, I get the error:</p>\n\n<pre><code>Can't find 'boot_freeling' symbol in /usr/local/lib/libfreeling.dylib at freeling.pm line 11.\n</code></pre>\n\n<p>But <code>boot_freeling</code> should be defined in the SWIG-generated <code>freeling.so</code>, not in <code>libfreeling.dylib</code> (the FreeLing package lib). (nm -U confirms this: <code>_boot_freeling</code> is defined in freeling.so; I'm assuming the leading underscore is just part of the object file format.)</p>\n\n<p>I have made sure that freeling.so comes before libfreeling.dylib in LD_LIBRARY_PATH. I've also tried unshifting the path to freeling.so onto @DynaLoader::dl_library_path. </p>\n\n<p>I suspect this is not a path problem, but something about building for OS X. In the past, I have built this on Ubuntu and it works fine. I have tweaked the gcc options (-bundle instead of -shared).</p>\n\n<hr>\n\n<p>Additional info:</p>\n\n<pre><code>perl -V:dlext =&gt; dlext='bundle';\n</code></pre>\n\n<p>Building <a href=\"http://perlmonks.com/?node_id=921357\" rel=\"nofollow\">SOso-0.01.patch.txt</a> produces:</p>\n\n<pre><code>blib\n\u251c\u2500\u2500 blib/arch\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 blib/arch/auto\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 blib/arch/auto/SOso\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 blib/arch/auto/SOso/SOso.bundle\n\u251c\u2500\u2500 blib/bin\n\u251c\u2500\u2500 blib/lib\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 blib/lib/SOso.pm\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 blib/lib/auto\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 blib/lib/auto/SOso\n\u251c\u2500\u2500 blib/man1\n\u251c\u2500\u2500 blib/man3\n\u2514\u2500\u2500 blib/script\n</code></pre>\n\n<p>Makefile target:</p>\n\n<pre><code>freeling.bundle: freeling_perlAPI.cxx\n    g++ -v -bundle -o freeling.bundle freeling_perlAPI.cxx -lfreeling -lperl -lboost_system -I $(FREELINGDIR)/include -I $(BOOSTDIR)/include -I $(ICU4CDIR)/include -L $(FREELINGDIR)/libfreeling -I $(PERLDIR)/CORE -L $(LIBDIR) -L $(BOOSTDIR)/lib -L $(PERLDIR)/CORE -fPIC\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "is_accepted": true, "score": 2, "last_activity_date": 1427596004, "last_edit_date": 1495540253, "creation_date": 1427564607, "answer_id": 29320454, "question_id": 29320352, "link": "https://stackoverflow.com/questions/29320352/if-statement-with-scalar-conditional/29320454#29320454", "title": "If statement with scalar conditional", "body": "<p>Perl doesn't have a distinct concept of \"Boolean value\".</p>\n\n<p>Per <a href=\"http://perldoc.perl.org/perldata.html#Scalar-values\" rel=\"nofollow noreferrer\">the <code>perldata</code> manpage</a>:</p>\n\n<blockquote>\n  <p>A scalar value is interpreted as FALSE in the Boolean sense if it is undefined, the null string or the number 0 (or its string equivalent, \"0\"), and TRUE if it is anything else. The Boolean context is just a special kind of scalar context where no conversion to a string or a number is ever performed.</p>\n</blockquote>\n\n<p>So in your example, <code>if $attempts</code> means <code>if $attempts &gt; 0</code>.</p>\n\n<p>Incidentally, this also means that something like <code>$attempts &gt; 0</code> does not evaluate to a Boolean, because there's no such thing. Instead, per <a href=\"http://perldoc.perl.org/perlop.html#Relational-Operators\" rel=\"nofollow noreferrer\">the <code>perlop</code> manpage</a>, operators like <code>&gt;</code>:</p>\n\n<blockquote>\n  <p>[&hellip;] return <code>1</code> for true and a special version of the defined empty string, <code>\"\"</code>, which counts as a zero but is exempt from warnings about improper numeric conversions, just as <code>\"0 but true\"</code> is.</p>\n</blockquote>\n\n<p>(Hat-tip to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for pointing out that what they return for FALSE is not <em>quite</em> the normal empty string.)</p>\n"}], "owner": {"reputation": 597, "user_id": 2387204, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f12464e95bb1a29586ec10fc7c49b018?s=128&d=identicon&r=PG&f=1", "display_name": "zzz2991", "link": "https://stackoverflow.com/users/2387204/zzz2991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 29320454, "answer_count": 1, "score": 0, "last_activity_date": 1427596004, "creation_date": 1427564119, "question_id": 29320352, "link": "https://stackoverflow.com/questions/29320352/if-statement-with-scalar-conditional", "title": "If statement with scalar conditional", "body": "<p>I am having difficulty understanding the following expression in <code>Perl</code>.   </p>\n\n<pre><code> for (my $attempts = 0; $attempts &lt; $maxatt; $attempts++) {\n            print \"Please try again.\\n\" if $attempts;\n            print \"$prompt: \";\n            $response = readline(*STDIN);\n            chomp($response);\n            return $response if $response;\n    }\n</code></pre>\n\n<p>What does it mean to use a scalar as a conditional?  I.e. what makes it return true vs false?  I am assuming the statement reads <code>if ($attempts) { print ... }</code>.</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1427563021, "post_id": 29320073, "comment_id": 46831726, "body": "Thank you I will try that :)."}], "tags": [], "owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "is_accepted": false, "score": 2, "last_activity_date": 1427562696, "creation_date": 1427562696, "answer_id": 29320073, "question_id": 29320009, "link": "https://stackoverflow.com/questions/29320009/calling-perl-script-in-bash-to-execute/29320073#29320073", "title": "calling perl script in bash to execute", "body": "<p>The <code>-e</code> command-line option takes literal Perl code as an argument. It does not take a file name. For example:</p>\n\n<pre><code>perl -e 'print(\"Hello, World!\\n\");';\n</code></pre>\n\n<p>If you want to run a script, just omit the <code>-e</code>:</p>\n\n<pre><code>perl myscript.pl;\n</code></pre>\n\n<p>Thus, your command will work if you run it as follows:</p>\n\n<pre><code>perl 'C:\\Users\\cmccabe\\Desktop\\annovar\\matrix.pl' &lt; \"${id}\".txt.hg19_multianno.txt &gt;     \"L:\\NGS\\3_BUSINESS\\Matrix\\Torrent\\matrix_\"${id}\".txt\"\n</code></pre>\n"}], "owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427562809, "creation_date": 1427562271, "last_edit_date": 1427562809, "question_id": 29320009, "link": "https://stackoverflow.com/questions/29320009/calling-perl-script-in-bash-to-execute", "title": "calling perl script in bash to execute", "body": "<p>Below is how I call the <code>perl</code> script in a <code>bash</code> function: but I am getting: \n<code>c:\\cygwin\\home\\cmccabe\\bashparse.sh: line 156: C:\\Users\\cmccabe\\Desktop\\annovar\\\nmatrix.pl: command not found</code></p>\n\n<p>So I must be calling it incorrectly.</p>\n\n<p>I provide the full path to the   .pl  , the input and the output</p>\n\n<pre><code>perl -e 'C:\\Users\\cmccabe\\Desktop\\annovar\\matrix.pl' &lt; \"${id}\".txt.hg19_multianno.txt &gt;     \"L:\\NGS\\3_BUSINESS\\Matrix\\Torrent\\matrix_\"${id}\".txt\"\n</code></pre>\n\n<p>The overall goal is use <code>${id}.txt.hg19_multianno.txt</code> as the input file and after the <code>perl</code> script is run on that file (which adds the columns and text and the new file is saved to the path   <code>L:\\NGS\\3_BUSINESS\\Matrix\\Torrent\\matrix_${id}.txt</code>. That path is a static path and will never change, there is probably a better way but I am not expert enough to know. Thank you :).</p>\n\n<p>Here is the <code>perl</code> script</p>\n\n<pre><code>#!/bin/perl\n\n# format for matrix import\n\nuse warnings;\nuse strict;\n\nmy ($debug);\n$debug = 0;\n$debug = 1;\n\nwhile (&lt;&gt;) {\nchomp;\nif ( $. == 1 ) {\ns/$/ Index/;\nif ( $. == 2 ) {\ns/$/ Chromosome Position/;\nif ( $. == 3 ) {\ns/$/ Gene/;\nif ( $. == 4 ) {\ns/$/ Inheritance/;\nif ( $. == 5 ) {\ns/$/ RNA Accession/;\nif ( $. == 6 ) {\ns/$/ Chr/;\nif ( $. == 7 ) {\ns/$/ Coverage/;\nif ( $. == 8 ) {\ns/$/ Score/;\nif ( $. == 9 ) {\ns/$/ A(#F#R)/;\nif ( $. == 10 ) {\ns/$/ C(#F#R)/;\nif ( $. == 11 ) {\ns/$/ G(#F#R)/;\nif ( $. == 12 ) {\ns/$/ T(#F#R)/;\nif ( $. == 13 ) {\ns/$/ Ins(#F#R)/;\nif ( $. == 14 ) {\ns/$/ Del(#F#R)/;\nif ( $. == 15 ) {\ns/$/ SNP db_xref/;\nif ( $. == 16 ) {\ns/$/ Mutation Call/;\nif ( $. == 17 ) {\ns/$/ Mutation Allele Frequency/;\nif ( $. == 18 ) {\ns/$/ Amino Acid Change/;\nif ( $. == 43 ) {\ns/$/ HP/;\nif ( $. == 44 ) {\ns/$/ SPLICE/;\nif ( $. == 45 ) {\ns/$/ Pseudogene/;\nif ( $. == 46 ) {\ns/$/ Classification/;\nif ( $. == 47 ) {\ns/$/ HGMD/;\nif ( $. == 48 ) {\ns/$/ Disease/;\nif ( $. == 49 ) {\ns/$/ Sanger/;\nif ( $. == 50 ) {\ns/$/ References/;\n}\nprint \"$_\\n\";\n}\n\nprint STDERR \" ( Lines read: $. )\\n\";\n\nexit(0);\n</code></pre>\n"}, {"tags": ["arrays", "perl", "variables"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 2107349, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d820f034b89878d4975528192e2902f7?s=128&d=identicon&r=PG", "display_name": "user2107349", "link": "https://stackoverflow.com/users/2107349/user2107349"}, "edited": false, "score": 0, "creation_date": 1427559233, "post_id": 29319380, "comment_id": 46830391, "body": "no it does not work, I get following error. Use of uninitialized value $1 in print at ./block_asterisk.pl line 21, &lt;MYINPUTFILE&gt; line 159410"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 141, "user_id": 2107349, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d820f034b89878d4975528192e2902f7?s=128&d=identicon&r=PG", "display_name": "user2107349", "link": "https://stackoverflow.com/users/2107349/user2107349"}, "edited": false, "score": 0, "creation_date": 1427559287, "post_id": 29319380, "comment_id": 46830407, "body": "@user2107349: Print $ip, not $1."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1427559042, "creation_date": 1427559042, "answer_id": 29319380, "question_id": 29319317, "link": "https://stackoverflow.com/questions/29319317/perl-remove-data-from-array-with-field-separator/29319380#29319380", "title": "perl remove data from array with field separator", "body": "<p>Before printing $1, store it in a variable, remove the port details, and print it:</p>\n\n<pre><code>my $ip = $1;\n$ip =~ s/:.*//;\nprint $ip, \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 2107349, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d820f034b89878d4975528192e2902f7?s=128&d=identicon&r=PG", "display_name": "user2107349", "link": "https://stackoverflow.com/users/2107349/user2107349"}, "edited": false, "score": 0, "creation_date": 1427560774, "post_id": 29319407, "comment_id": 46830900, "body": "You are a star, thank you. It works absolutely fine."}], "tags": [], "owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "is_accepted": true, "score": 0, "last_activity_date": 1427559235, "creation_date": 1427559235, "answer_id": 29319407, "question_id": 29319317, "link": "https://stackoverflow.com/questions/29319317/perl-remove-data-from-array-with-field-separator/29319407#29319407", "title": "perl remove data from array with field separator", "body": "<p>modify second if like this</p>\n\n<pre><code>if ($line =~ m/\\' failed for \\'([^:]*):\\d+\\' . Wrong password/) {\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 2107349, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d820f034b89878d4975528192e2902f7?s=128&d=identicon&r=PG", "display_name": "user2107349", "link": "https://stackoverflow.com/users/2107349/user2107349"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 29319407, "answer_count": 2, "score": -1, "last_activity_date": 1427559235, "creation_date": 1427558696, "question_id": 29319317, "link": "https://stackoverflow.com/questions/29319317/perl-remove-data-from-array-with-field-separator", "title": "perl remove data from array with field separator", "body": "<p>I have following perl script.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nmy (@failhost);\nmy %currblocked;\nmy %addblocked;\nmy $action;\n\nopen (MYINPUTFILE, \"/var/log/asterisk/messages\") or die \"\\n\", $!, \"Does log file file exist\\?\\n\\n\";\n\nwhile (&lt;MYINPUTFILE&gt;) {\n    my ($line) = $_;\n    chomp($line);\n    if ($line =~ m/\\' failed for \\'(.*?)\\' - No matching peer found/) {\n        push(@failhost,$1);\n    }\n    if ($line =~ m/\\' failed for \\'(.*?)\\' . Wrong password/) {\n        push(@failhost,$1);\n        print $1 . \"\\n\";\n    }\n}\nexit 0;\n</code></pre>\n\n<p>This produces following results.</p>\n\n<pre><code>212.83.134.244:5065\n212.83.134.244:5063\n212.83.134.244:5092\n212.83.134.244:5109\n212.83.134.244:5080\n212.83.134.244:5110\n212.83.134.244:5096\n212.83.134.244:5093\n212.83.134.244:5089\n212.83.134.244:5073\n212.83.134.244:5101\n212.83.134.244:5072\n212.83.134.244:5092\n212.83.134.244:5094\n212.83.134.244:5076\n212.83.134.244:5080\n212.83.134.244:5081\n212.83.134.244:5094\n212.83.134.244:5077\n212.83.134.244:5096\n212.83.134.244:5069\n212.83.134.244:5097\n212.83.134.244:5101\n</code></pre>\n\n<p>I want to remove all the ports numbers including \":\", just want to retain the IP address.</p>\n\n<p>Desired result would be like this </p>\n\n<pre><code>212.83.134.244\n212.83.134.244\n212.83.134.244\n212.83.134.244\n212.83.134.244\n212.83.134.244\n212.83.134.244\n212.83.134.244\n212.83.134.244\n212.83.134.244\n212.83.134.244\n</code></pre>\n\n<p>I would appreciate if some one can guide me, or show me how to do this?</p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["perl", "shell", "firefox", "qa"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427562683, "post_id": 29317978, "comment_id": 46831619, "body": "I have made major changes to your question. Please check that it still reflects your problem properly, and roll back if not"}, {"owner": {"reputation": 9, "user_id": 2085365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3abcd69ebeadc06f8f21022110b4be0?s=128&d=identicon&r=PG", "display_name": "Hussain", "link": "https://stackoverflow.com/users/2085365/hussain"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427598829, "post_id": 29317978, "comment_id": 46841250, "body": "@SteffenUllrich It&#39;s not a duplicate since my requirement is to have it disabled through either a perl or shell script. The question you have pointed to is for disabling the certificate warning through selenium webdriver script which i&#39;m not using for my qa automation scripts.   Thanks,"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427611316, "post_id": 29317978, "comment_id": 46843029, "body": "@Hussain: After you&#39;ve changed the setting by hand look for differences in the browser profile (prefs.js). If you&#39;ve found them you can write a script to apply these settings after creating a new profile."}, {"owner": {"reputation": 9, "user_id": 2085365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3abcd69ebeadc06f8f21022110b4be0?s=128&d=identicon&r=PG", "display_name": "Hussain", "link": "https://stackoverflow.com/users/2085365/hussain"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427719781, "post_id": 29317978, "comment_id": 46879159, "body": "@SteffenUllrich Thanks, I could see the differences in the prefs.js file. Now should I just write a script to replace the prefs.js present in the Virtual linux host firefox profile folder with the prefs.js which was generated after making the firefox setting change?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427721739, "post_id": 29317978, "comment_id": 46880489, "body": "@Hussain: If these are really the relevant changes than that&#39;s what I would suggest. But for me it looks like unrelated changes apart from disabling revocation checking by OCSP. Are you really sure that these changes completely disabled certificate checking?"}, {"owner": {"reputation": 9, "user_id": 2085365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3abcd69ebeadc06f8f21022110b4be0?s=128&d=identicon&r=PG", "display_name": "Hussain", "link": "https://stackoverflow.com/users/2085365/hussain"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427902955, "post_id": 29317978, "comment_id": 46966593, "body": "@SteffenUllrich I tried adding the line  user_pref(&quot;security.OCSP.enabled&quot;, 0) into my prefs.js file, but still getting those untrusted connection error :( Any help will be greatly appreciated? Thanks"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427903463, "post_id": 29317978, "comment_id": 46966882, "body": "Yes, as expected. This option only disables revocation checking with OCSP and not the certificate validation. It also says that if you read the description of the option in the menu. I don&#39;t think there is any user option to completely disable certificate validation."}, {"owner": {"reputation": 9, "user_id": 2085365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3abcd69ebeadc06f8f21022110b4be0?s=128&d=identicon&r=PG", "display_name": "Hussain", "link": "https://stackoverflow.com/users/2085365/hussain"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427905236, "post_id": 29317978, "comment_id": 46968043, "body": "@SteffenUllrich The steps I mentioned in the question does completely disables &quot;connection is untrusted&quot; warning, then I believe it should also be possible through backend by running some script which changes the settings? Thanks,"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427905399, "post_id": 29317978, "comment_id": 46968144, "body": "If these steps disable the warning then yes. But these steps don&#39;t disable the warning, they only disable revocation checking with OCSP. There is no box for disabling validation completely in current versions of Firefox."}, {"owner": {"reputation": 9, "user_id": 2085365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3abcd69ebeadc06f8f21022110b4be0?s=128&d=identicon&r=PG", "display_name": "Hussain", "link": "https://stackoverflow.com/users/2085365/hussain"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1427905510, "post_id": 29317978, "comment_id": 46968214, "body": "@SteffenUllrich, Yes that&#39;s what I want, firefox without revocation checking :) Thanks"}, {"owner": {"reputation": 9541, "user_id": 1604048, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EMUc6.png?s=128&g=1", "display_name": "Murat Y\u0131ld\u0131z", "link": "https://stackoverflow.com/users/1604048/murat-y%c4%b1ld%c4%b1z"}, "edited": false, "score": 0, "creation_date": 1462563404, "post_id": 29317978, "comment_id": 61705022, "body": "For fixing the issue, you might also have a look at my answer on <a href=\"http://stackoverflow.com/questions/21709095/how-to-disable-this-connection-is-untrusted-certificate-in-firefox/37080038#37080038\">How to disable \u201cThis Connection is Untrusted\u201d Certificate in FireFox?</a> Hope this helps..."}], "owner": {"reputation": 9, "user_id": 2085365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3abcd69ebeadc06f8f21022110b4be0?s=128&d=identicon&r=PG", "display_name": "Hussain", "link": "https://stackoverflow.com/users/2085365/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "closed_date": 1428156821, "answer_count": 0, "score": 0, "last_activity_date": 1427719552, "creation_date": 1427550948, "last_edit_date": 1427719552, "question_id": 29317978, "link": "https://stackoverflow.com/questions/29317978/how-to-disable-this-connection-is-untrusted-in-firefox", "closed_reason": "Duplicate", "title": "How to disable &quot;This connection is untrusted&quot; in Firefox", "body": "<p>We have QA automation jobs that invoke user interface tests in Firefox running on  a virtual Linux host.</p>\n\n<p>My tests perform regression, but I'm held up because of the Firefox <code>This Connection is Untrusted</code> warning.</p>\n\n<p>My current requirement is to ignore this <em>connection untrusted</em> warning, which comes up when accessing an HTTPS website and i want this to be disabled through either a shell or a Perl script.</p>\n\n<p>I can do this manually using the steps below, but this will not work for my current problem since the virtual Linux hosts are created dynamically on submission of automation jobs.</p>\n\n<blockquote>\n  <p>Go to Tools > Options > Advanced \"Tab\"(?) > Encryption Tab Click the\n  \"Validation\" button, and uncheck the checkbox for checking validity.</p>\n</blockquote>\n\n<p>Is there any Perl or shell script that disables this certificate warning?</p>\n\n<p><strong>The below text file contains the diff results of prefs.js file before and after changing the settings above:</strong></p>\n\n<p><a href=\"http://txs.io/FM0b\" rel=\"nofollow\">http://txs.io/FM0b</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "edited": false, "score": 0, "creation_date": 1427539950, "post_id": 29316121, "comment_id": 46824574, "body": "maybe <code>XML::LibXML</code> can help? method <code>load_xml </code> reads files and strings, method <code>toString</code> serializes in different modes. (well, input has to be a valid XML chunk)"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 1, "creation_date": 1427540135, "post_id": 29316121, "comment_id": 46824627, "body": "The example in the HTML::Tidy documentation shows it uses the <code>source</code> parameter as a variable (which is what was requested)."}], "answers": [{"comments": [{"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "edited": false, "score": 0, "creation_date": 1427556079, "post_id": 29316276, "comment_id": 46829332, "body": "Thanks will give it a shot once I get back to my dev machine. Just wondering, does this indent the html or sort it out flat against the left hand side?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "edited": false, "score": 1, "creation_date": 1427557812, "post_id": 29316276, "comment_id": 46829932, "body": "@Dayo: Just pass <code>{ INDENT =&gt; 1 }</code> to the constructor to turn indentation on."}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "edited": false, "score": 0, "creation_date": 1427653385, "post_id": 29316276, "comment_id": 46854989, "body": "Struggling with installing HTML::Tidy. Will evaluate once done."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1427546887, "last_edit_date": 1427546887, "creation_date": 1427539995, "answer_id": 29316276, "question_id": 29316121, "link": "https://stackoverflow.com/questions/29316121/prettify-beautify-html-in-perl/29316276#29316276", "title": "Prettify / Beautify HTML in Perl", "body": "<p><a href=\"http://p3rl.org/HTML::Tidy\" rel=\"nofollow\">HTML::Tidy</a> does exactly that:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse HTML::Tidy;\n\nmy $str = '&lt;div&gt;&lt;p&gt;Text&lt;h2&gt;Heading&lt;/h2&gt;';\nmy $tidy = 'HTML::Tidy'-&gt;new;\nprint $tidy-&gt;clean($str);\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 3.2//EN\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta name=\"generator\" content=\"tidyp for Linux (v1.04), see www.w3.org\"&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n&lt;p&gt;Text&lt;/p&gt;\n&lt;h2&gt;Heading&lt;/h2&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "edited": false, "score": 0, "creation_date": 1427555906, "post_id": 29317174, "comment_id": 46829264, "body": "The html generation is not fully under my control otherwise I&#39;ll have sorted it out at a lower level."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1427558171, "last_edit_date": 1427558171, "creation_date": 1427545859, "answer_id": 29317174, "question_id": 29316121, "link": "https://stackoverflow.com/questions/29316121/prettify-beautify-html-in-perl/29317174#29317174", "title": "Prettify / Beautify HTML in Perl", "body": "<p>I would recommend you generate valid HTML in the first place. Come up with the correct template, and fill it in.</p>\n\n<p>Instead, it looks like you are using <code>print</code> statements in Perl to generate the HTML. One day, post-processing will do the wrong thing, and you will have no idea what went wrong where and how to fix it.</p>\n\n<p>Filling in a template avoids all these issues. Any template module is better than <code>print</code>ing HTML, but <a href=\"https://metacpan.org/pod/Template::Manual\" rel=\"nofollow\">Template.pm</a> has a great ecosystem.</p>\n\n<p>Given that the HTML is not under your control, you might want to also consider <a href=\"https://metacpan.org/pod/HTML::PrettyPrinter\" rel=\"nofollow\">HTML::PrettyPrinter</a> if <a href=\"https://metacpan.org/pod/HTML::TreeBuilder\" rel=\"nofollow\">HTML::TreeBuilder</a> generates the correct syntax tree for your HTML. </p>\n"}], "owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1453, "favorite_count": 0, "accepted_answer_id": 29316276, "answer_count": 2, "score": 2, "last_activity_date": 1427558171, "creation_date": 1427538968, "question_id": 29316121, "link": "https://stackoverflow.com/questions/29316121/prettify-beautify-html-in-perl", "title": "Prettify / Beautify HTML in Perl", "body": "<p>I have some HTML output sitting in a variable that I will like to Prettify / Beautify but struggling to make sense out of the results of my web searches.</p>\n\n<p>Most of the options I have found such as PerlTidy (Not even sure it is a correct option) appear to assume that the HTML is in a file but in my case, it has been put together in a Perl script and stored in a variable and I just wanted to fix this by removing excess line breaks and indenting and then saving this to another variable before sending to output.</p>\n\n<p>Looking for something along the lines of </p>\n\n<pre><code>$output= SomePerlModule::Prettify($HTML);\n</code></pre>\n\n<p>Which I can hopefully jut add to my exiting script.</p>\n\n<p>A bonus will be if it can also remove orphaned end tags. Basically, I have some end tags such as  without start tags and while the browsers seem to be able to deal with this, it would be nice to strip these out.</p>\n\n<p>Is there such a module?</p>\n"}, {"tags": ["perl", "return-value"], "answers": [{"comments": [{"owner": {"reputation": 4364, "user_id": 3151415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2cHKh.jpg?s=128&g=1", "display_name": "garg10may", "link": "https://stackoverflow.com/users/3151415/garg10may"}, "edited": false, "score": 0, "creation_date": 1427522847, "post_id": 29314204, "comment_id": 46821310, "body": "I think the syntax is correct, it by defaults returns the value. The below code just works fine and prints &quot;is palindrome&quot; <code>sub is_palindrome {     my ($x) = @_;     if ($x eq reverse($x)){&quot;is palindrome&quot;} else {&quot;Not a palindrome&quot;}      } print is_palindrome(&quot;radar&quot;).&quot;\\n&quot;;</code>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 4364, "user_id": 3151415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2cHKh.jpg?s=128&g=1", "display_name": "garg10may", "link": "https://stackoverflow.com/users/3151415/garg10may"}, "edited": false, "score": 4, "creation_date": 1427522938, "post_id": 29314204, "comment_id": 46821320, "body": "If you like to live dangerously, don&#39;t complain when things go wrong.  And don&#39;t submit code like that to me for code review \u2014 I will reject it every time.  In the context of your code, if you got anything returned, it would be &quot;doesn&#39;t contain&quot; because the last iteration of the loop evaluates to false when the key you&#39;re looking for is &quot;apple&quot;.  You need to terminate the loop early, or do an explicit return.  Using implicit return is tacky Perl and unreliable to boot."}, {"owner": {"reputation": 4364, "user_id": 3151415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2cHKh.jpg?s=128&g=1", "display_name": "garg10may", "link": "https://stackoverflow.com/users/3151415/garg10may"}, "edited": false, "score": 0, "creation_date": 1427524161, "post_id": 29314204, "comment_id": 46821536, "body": "thx, using ( return &quot;contains&quot;;) works fine, since this was going all over the loop last item doesn&#39;t match and it didn&#39;t print anything."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1427534389, "post_id": 29314204, "comment_id": 46823340, "body": "There&#39;s no complaint about missing semicolons because Perl uses them as statement <i>separators</i>, not statement <i>terminators</i>. Since there&#39;s no following statement in the block to separate the values from, semicolons are not required. (But should probably still be included anyhow, to avoid problems when a future maintainer inevitably adds to the block contents.)"}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 6, "last_activity_date": 1427522463, "creation_date": 1427522463, "answer_id": 29314204, "question_id": 29314159, "link": "https://stackoverflow.com/questions/29314159/why-am-i-getting-no-output-from-this-short-perl-script/29314204#29314204", "title": "Why am I getting no output from this short Perl script?", "body": "<p>This code:</p>\n\n<pre><code>if ($x eq $_) {\"contains\"} else {\"doesn't contain\"}\n</code></pre>\n\n<p>does not print or return anything.  It evaluates two constants, but that's all.  I'm surprised there isn't a complaint about missing semicolons, too.  And the indentation is eccentric.</p>\n\n<p>You probably want something more like:</p>\n\n<pre><code>sub is_member\n{\n    my ($x, @list) = @_;\n    foreach (@list)\n    { \n        return \"contains\" if ($x eq $_);\n    }\n    return \"doesn't contain\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1427538706, "last_edit_date": 1495540326, "creation_date": 1427537979, "answer_id": 29315980, "question_id": 29314159, "link": "https://stackoverflow.com/questions/29314159/why-am-i-getting-no-output-from-this-short-perl-script/29315980#29315980", "title": "Why am I getting no output from this short Perl script?", "body": "<p><code>for</code> loops do not have return values. In <code>is_palindrome</code>, the <code>if</code> statement is evaluated by itself which produces the return value for the subroutine implicitly.</p>\n\n<p>In the case of the <code>for</code> loop, even if the last statement evaluated inside a for loop became the return value, the last comparison made, <code>\"apple\" eq \"c\"</code>, would be false.</p>\n\n<p>If you want to do the test using a <code>for</code> loop, you will need to <a href=\"https://stackoverflow.com/a/29314204/100754\">exit the loop early</a>. But, in Perl, <code>grep</code> is the built-in way to test if the elements of a list satisfy a condition.</p>\n\n<pre><code>my $result = (grep $_ eq $x, @list) ? \"contains\" : \"does not contain\";\nprint \"'@list' $result $x\\n\";\n</code></pre>\n\n<p>If you are only interested in the existence of a certain element, <a href=\"https://metacpan.org/pod/List::MoreUtils#any-BLOCK-LIST\" rel=\"nofollow noreferrer\">List::MoreUtils::any</a>\nand <a href=\"https://metacpan.org/pod/List::MoreUtils#first_index-BLOCK-LIST\" rel=\"nofollow noreferrer\">List::MoreUtils::first_index</a> provide performance advantages in case the list is long.</p>\n\n<p>The <a href=\"https://metacpan.org/pod/perlop#Conditional-Operator\" rel=\"nofollow noreferrer\">conditional operator</a>, <code>$cond ? $t : $f</code>, is more useful for writing compact conditionals than trying to fit an <code>if</code> statement on a single line with braces and all.</p>\n"}, {"tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1427640714, "creation_date": 1427640714, "answer_id": 29330588, "question_id": 29314159, "link": "https://stackoverflow.com/questions/29314159/why-am-i-getting-no-output-from-this-short-perl-script/29330588#29330588", "title": "Why am I getting no output from this short Perl script?", "body": "<p>to clarify on the return values of subs, by default, Perl returns the value of the evaluation of the last expression in the sub... unless it's in a loop. from <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow\">perldoc</a>:</p>\n\n<blockquote>\n  <p>If no return is found and if the last statement is an expression, its\n  value is returned. If the last statement is a loop control structure\n  like a foreach or a while , the returned value is unspecified. The\n  empty sub returns the empty list.</p>\n</blockquote>\n\n<p>but as others have stated, you should always use <code>return</code> if you are returning anything, for both readability and stability.</p>\n\n<p>it's also true that your sub is unnecessary. <code>grep</code> will return 0 or 1 in a scalar context (that you can use as boolean), or a new array of matching values in an array context; ex:</p>\n\n<pre><code>my @a = qw(apple x orange but so nos how dod to it a b c);\nprint \"found\" if grep /^orange$/, @a; # prints \"found\"\nmy @b = grep length &gt; 3, @a; \nprint \"@b\" # prints \"apple orange\"\n</code></pre>\n"}], "owner": {"reputation": 4364, "user_id": 3151415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2cHKh.jpg?s=128&g=1", "display_name": "garg10may", "link": "https://stackoverflow.com/users/3151415/garg10may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 2, "accepted_answer_id": 29314204, "answer_count": 3, "score": 0, "last_activity_date": 1427640714, "creation_date": 1427522006, "last_edit_date": 1427545420, "question_id": 29314159, "link": "https://stackoverflow.com/questions/29314159/why-am-i-getting-no-output-from-this-short-perl-script", "title": "Why am I getting no output from this short Perl script?", "body": "<p>Why isn't the below code returning any output? I am expecting it to print out \"Contains\".</p>\n\n<pre><code>sub is_member {\n    my ($x, @list) = @_;\n    foreach (@list) { \n        if ($x eq $_) {\"contains\"} else {\"doesn't contain\"}\n        }\n    }\n\nmy @a = qw(apple x orange but so nos how dod to it a b c);\nprint is_member(\"apple\",@a).\"\\n\";\n</code></pre>\n\n<p>Like below code just run fine, outputting \"is palindrome\"</p>\n\n<pre><code>sub is_palindrome {\n    my ($x) = @_;\n    if ($x eq reverse($x)){\"is palindrome\"} else {\"Not a palindrome\"} \n    }\nprint is_palindrome(\"radar\").\"\\n\";\n</code></pre>\n"}, {"tags": ["regex", "r", "perl", "replace"], "comments": [{"owner": {"reputation": 239581, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1427512053, "post_id": 29312879, "comment_id": 46819643, "body": "I don&#39;t think you are using the correct meaning of &quot;preceded&quot;. For your natural language description the answer should be &quot;kaonele&quot;, &quot;kaonela&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 239581, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1427515350, "post_id": 29313125, "comment_id": 46820167, "body": "If the target is &#39;kexonele&#39; then your first fails and your second  succeeds. (And as is often the case, the question is too vague to allow a decision regarding which is correct, but I&#39;m happy to upvote."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 239581, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1427515428, "post_id": 29313125, "comment_id": 46820180, "body": "yep, that&#39;s why i added the second option. At first the question is unclear for me. Thanks for your comment.."}, {"owner": {"reputation": 995, "user_id": 4683188, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/940e749b013435cfea06baafca8f081d?s=128&d=identicon&r=PG&f=1", "display_name": "dasf", "link": "https://stackoverflow.com/users/4683188/dasf"}, "edited": false, "score": 1, "creation_date": 1427517851, "post_id": 29313125, "comment_id": 46820566, "body": "I took your advice on <code>(SKIP)(*F)</code> and tweaked it a little bit and made it work. Thanks a bunch!"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 3, "last_activity_date": 1427515489, "last_edit_date": 1427515489, "creation_date": 1427511187, "answer_id": 29313125, "question_id": 29312879, "link": "https://stackoverflow.com/questions/29312879/change-all-occurrences-after-particular-letter/29313125#29313125", "title": "Change all occurrences after particular letter", "body": "<p>You need to use negative lookahead</p>\n\n<pre><code>&gt; x &lt;- c('keonele','keontele')\n&gt; gsub(\"e(?!o)\", \"a\", x, perl=TRUE)\n[1] \"keonala\"  \"keontala\"\n</code></pre>\n\n<p>It replaces all the <code>e</code>'s which was not immediately followed by the letter <code>o</code> with <code>a</code>.</p>\n\n<p><strong>OR</strong></p>\n\n<pre><code>&gt; gsub(\"^.*o(*SKIP)(*F)|e\", \"a\", x, perl=TRUE)\n[1] \"keonala\"  \"keontala\"\n</code></pre>\n\n<p><code>^.*?o</code> matches all the character from the start upto the last <code>o</code>.  <code>(*SKIP)(*F)</code> makes the match to fail and now the pattern which was next to the OR operator will try to match characters from the remaining string. So the pattern <code>e</code> will match all the <code>e</code>'s which was after to last <code>o</code>. Replacing the <code>e</code> with <code>a</code> will give you the desired output.</p>\n"}], "owner": {"reputation": 995, "user_id": 4683188, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/940e749b013435cfea06baafca8f081d?s=128&d=identicon&r=PG&f=1", "display_name": "dasf", "link": "https://stackoverflow.com/users/4683188/dasf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 29313125, "answer_count": 1, "score": 2, "last_activity_date": 1449431106, "creation_date": 1427508552, "last_edit_date": 1449431106, "question_id": 29312879, "link": "https://stackoverflow.com/questions/29312879/change-all-occurrences-after-particular-letter", "title": "Change all occurrences after particular letter", "body": "<p>In a string, how do I change any 'e' that is to the right of an 'o' to 'a'?</p>\n\n<p>I first tried this, but made only one change:</p>\n\n<pre><code>x &lt;- c('keonele','keontele');\ngsub('o.*\\\\Ke','a',x,perl=T);\n[1] \"keonela\"  \"keontela\"\n</code></pre>\n\n<p>I then ran the input through the same command twice and got the right result:</p>\n\n<pre><code>x &lt;- c('keonele','keontele');\nx &lt;- gsub('o.*\\\\Ke','a',x,perl=T);\nx &lt;- gsub('o.*\\\\Ke','a',x,perl=T);\n[1] \"keonala\"  \"keontala\"\n</code></pre>\n\n<p>How do I make such changes exhaustively with one command? </p>\n"}, {"tags": ["database", "perl", "flat-file"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427497044, "post_id": 29311160, "comment_id": 46816614, "body": "Does your flat file have a fixed record length, or is it comma-separated or similar?"}, {"owner": {"reputation": 957, "user_id": 986818, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8baf2119a59c2c8c47c9fcc5c962ec23?s=128&d=identicon&r=PG", "display_name": "rajeev", "link": "https://stackoverflow.com/users/986818/rajeev"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1427497617, "post_id": 29311160, "comment_id": 46816758, "body": "record length is not fixed and that value changes, depending on program logic. Also if i use these various perl modules AnyDBM_File or DB_File. do i need a db server also, on my OS?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427498001, "post_id": 29311160, "comment_id": 46816851, "body": "<code>perldoc perlport</code> has this to say about DBM: &quot;There is no one DBM module available on all platforms. SDBM_File and the others are generally available on all Unix and DOSish ports, but not in MacPerl, where only NBDM_File and DB_File are available. The good news is that at least some DBM module should be available, and AnyDBM_File will use whichever module it can find. Of course, then the code needs to be fairly strict, dropping to the greatest common factor (e.g., not exceeding 1K for each record), so that it will work with any DBM module. See AnyDBM_File for more details.&quot;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1427498108, "post_id": 29311160, "comment_id": 46816896, "body": "And no, you do not need a database server to use DBM."}, {"owner": {"reputation": 957, "user_id": 986818, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8baf2119a59c2c8c47c9fcc5c962ec23?s=128&d=identicon&r=PG", "display_name": "rajeev", "link": "https://stackoverflow.com/users/986818/rajeev"}, "edited": false, "score": 0, "creation_date": 1427498922, "post_id": 29311160, "comment_id": 46817133, "body": "ThisSuitIsBlackNot, thank you. but is the documentation talking about perl modules <i>or</i> db libraris installed in OS. in my situation i looked around and found: db.h on one server and dbm.h in another. So I am understanding that all these perl modules are just &#39;connectors&#39; to the actual db libraries which are to be installed separately in the OS ? is that right?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427499131, "post_id": 29311160, "comment_id": 46817193, "body": "db.h and dbm.h are C header files, not Perl modules. Install <code>AnyDBM_File</code> and the particular backend you want (<code>NDBM_File</code>, <code>DB_File</code>, etc.) using <code>cpan</code>, e.g. <code>cpan AnyDBM_File DB_File</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427499264, "post_id": 29311160, "comment_id": 46817223, "body": "Also note that <i>some</i> DBM implementation will be available on any platform where you can build Perl, since the source for SDBM comes with Perl itself. SDBM is slower than the alternatives, though, so I&#39;d only use it if nothing else is available."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1427499698, "post_id": 29311160, "comment_id": 46817333, "body": "&quot;all these perl modules are just &#39;connectors&#39; to the actual db libraries which are to be installed separately in the OS&quot; Yes, although I think any *nix system will have some version of DBM installed by default (and as I said in my last comment, you should get SDBM anywhere you can build Perl)."}, {"owner": {"reputation": 957, "user_id": 986818, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8baf2119a59c2c8c47c9fcc5c962ec23?s=128&d=identicon&r=PG", "display_name": "rajeev", "link": "https://stackoverflow.com/users/986818/rajeev"}, "edited": false, "score": 0, "creation_date": 1427734451, "post_id": 29311160, "comment_id": 46889038, "body": "very imp link, which clearifies things: <a href=\"http://rio.murmansk.ru/doc_/dbi/ch02_07.htm\" rel=\"nofollow noreferrer\">rio.murmansk.ru/doc_/dbi/ch02_07.htm</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "is_accepted": false, "score": -1, "last_activity_date": 1427496074, "creation_date": 1427496074, "answer_id": 29311353, "question_id": 29311160, "link": "https://stackoverflow.com/questions/29311160/replacing-flat-file-db-with-proper-database-with-record-level-editing/29311353#29311353", "title": "replacing flat-file db with proper database with record level editing", "body": "<p>Depends, what your program logic needs, but one solution is to partition database, based on keys. So you can deal with many smaller files instead of one big file. </p>\n"}, {"tags": [], "owner": {"reputation": 2614, "user_id": 1803586, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3eVpM.png?s=128&g=1", "display_name": "edem", "link": "https://stackoverflow.com/users/1803586/edem"}, "is_accepted": true, "score": 0, "last_activity_date": 1427552093, "last_edit_date": 1427552093, "creation_date": 1427551697, "answer_id": 29318083, "question_id": 29311160, "link": "https://stackoverflow.com/questions/29311160/replacing-flat-file-db-with-proper-database-with-record-level-editing/29318083#29318083", "title": "replacing flat-file db with proper database with record level editing", "body": "<p>As they said in the comments you may use SDBM_File module. For example:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\nuse v5.14;\n\nuse Fcntl;\nuse SDBM_File;\n\nmy $filename = \"dbdb\";\n\nmy %h;\n\ntie %h, 'SDBM_File', $filename, O_RDWR|O_CREAT, 0666\n    or die \"Error: $!\\n\";\n\n# To run only one time to fill the dbdb file.\n# Next time you may delete this line and\n# the output will be the same \"16,40\".    \n$h{$_} = $_ * 2 . \",\" . $_ * 5  for 1..100;\n\nsay $h{8};\n\nuntie %h;\n</code></pre>\n\n<p>Output: 16,40</p>\n"}], "owner": {"reputation": 957, "user_id": 986818, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8baf2119a59c2c8c47c9fcc5c962ec23?s=128&d=identicon&r=PG", "display_name": "rajeev", "link": "https://stackoverflow.com/users/986818/rajeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 29318083, "answer_count": 2, "score": 1, "last_activity_date": 1427742641, "creation_date": 1427494941, "last_edit_date": 1427742641, "question_id": 29311160, "link": "https://stackoverflow.com/questions/29311160/replacing-flat-file-db-with-proper-database-with-record-level-editing", "title": "replacing flat-file db with proper database with record level editing", "body": "<p>I cannot install SQLite on a remote machine, so I have to find a way to store a large amount of data in some kind of database structure.</p>\n\n<p>Example data</p>\n\n<pre><code>key,values...\nkey,values....\n..\n</code></pre>\n\n<p>There are currently about a million rows in a 20MB flat file, and hourly I have to read through each record and value in the file and update or add a record. Since it is a flat file I have to rewrite the whole file each time.</p>\n\n<p>I am looking at the <a href=\"https://metacpan.org/module/Storable\" rel=\"nofollow\"><code>Storable</code></a> module, but I think it also writes data sequentially. I want to edit only those records which need to be changed.</p>\n\n<p><strong>reading and updating of random records is a requirement. Additions can be anywhere(order is not important)</strong></p>\n\n<p>Can anyone suggest something? How will I know if I can setup a native Berkeley database file on these systems, which are a mixture of Solaris and Linux?</p>\n\n<p><strong>________________finally__________________</strong></p>\n\n<p>finally I understood things better (thank you all), and based on your suggestions I used AnyDBM_File. It found NDBM_File ('C' library) installed on all OS. So far so good.</p>\n\n<p>Just to check how it will play out in real world. I ran a sample script to add <code>1 million records</code> (the max records i think i may ever get in a day, normally between 500k to 700k). OMG it created a <strong>110G data file</strong> on my disk !!!! and all the records were like:</p>\n\n<pre><code>a628234 = 0.178532683639599\n</code></pre>\n\n<p>I mean my real world records are longer than that. compare this to a flat file which is holding real-life 700k+ records and is only 15Mb on disk.</p>\n\n<p>I am disappointed with the <strong>slowness and bloat-ness</strong> of this, so for now i think i will pay the price by writing the whole file each time an edit is required.</p>\n\n<p>Thanks again for all your help.</p>\n"}]