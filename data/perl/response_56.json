[{"tags": ["arrays", "regex", "perl", "foreach", "directory"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454543003, "post_id": 35189498, "comment_id": 58096969, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1557942/why-cant-i-open-files-returned-by-perls-readdir\">Why can&#39;t I open files returned by Perl&#39;s readdir?</a>"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454544957, "post_id": 35189498, "comment_id": 58097671, "body": "@MattJacob It would be nice if the duplicate question had an answer that shows how to fix the problem, like mine does."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1454545371, "post_id": 35189498, "comment_id": 58097829, "body": "Thanks for the link Matt. After looking it over, I changed to a glob function, which returned the entire directory description of the files rather than just the file name itself. This was likely one of the problems I was having. Appreciate the help!"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1454545777, "post_id": 35189498, "comment_id": 58097957, "body": "@Barmar There are other posts with better answers than the one I flagged, but none with better questions (i.e., the question obscures the real problem)."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454545876, "post_id": 35189498, "comment_id": 58097988, "body": "@MattJacob I hate when that happens. Maybe use this one as your duplicate in the future, the question is a common pattern and the answer is useful."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1454544866, "post_id": 35189875, "comment_id": 58097633, "body": "Wow, that was a fast response!"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1454545238, "post_id": 35189875, "comment_id": 58097776, "body": "When I added the modification you suggested, I got another error- indicating that the files are numeric in division (/). That made perl think I was giving it a numeric value. I just now changed my code to use the glob function, which returned the full file name with directory, according to the diagnostic print statement. The foreach loop still seems to be problematic- even though it seems to be working on &quot;/Users/roblogan/Documents/FakeFastaFilesAgain/sequence.fast&zwnj;&#8203;a&quot; rather than simply &quot;sequence.fasta&quot; etc. Any insights?"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1454545297, "post_id": 35189875, "comment_id": 58097799, "body": "Did you forget to put the quotes around the variables? That should make it do string substitution, not division."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1454545668, "post_id": 35189875, "comment_id": 58097920, "body": "That solves the problem! Thank you very much for your lightening fast help Barmar. Deeply appreciate it. The diagnostic print now returns the full directory path for all the files."}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1454542661, "creation_date": 1454542661, "answer_id": 35189875, "question_id": 35189498, "link": "https://stackoverflow.com/questions/35189498/no-such-file-error-when-trying-to-open-each-fasta-file-stored-in-an-array/35189875#35189875", "title": "&quot;No Such File Error&quot; when trying to open each fasta file stored in an array", "body": "<p><code>@ArrayOfFiles</code> just contains the filenames, it doesn't include the directory prefix. So you're trying to access the filenames in the current directory rather than the directory you listed.</p>\n\n<p>Use:</p>\n\n<pre><code>push(@ArrayofFiles, \"$dir/$fileName\"); \n</code></pre>\n\n<p>to get the full path.</p>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 35189875, "answer_count": 1, "score": 0, "last_activity_date": 1454542661, "creation_date": 1454540727, "last_edit_date": 1454542509, "question_id": 35189498, "link": "https://stackoverflow.com/questions/35189498/no-such-file-error-when-trying-to-open-each-fasta-file-stored-in-an-array", "title": "&quot;No Such File Error&quot; when trying to open each fasta file stored in an array", "body": "<p>How can I open each file in a folder in sequential order, perform a regex search on the contents of each file, and store the matches in another array? \nHere is what I have so far: </p>\n\n<pre><code>    #!/usr/bin/perl\n    use warnings; \n    use strict; \n    use diagnostics; \n\n    my $dir = (\"/path/to/folder\"); \n    my @ArrayofFiles;   \n    my @TrimmedSequences; \n\n    opendir( my $dh, $dir ) || die;\n\n    #make an array of fasta files from a folder\n    while ( readdir $dh ) {                \n        chomp;\n        my $fileName = $_;\n        if ($fileName =~ /\\.fasta.*/) {\n            push(@ArrayofFiles, $fileName); \n        }\n    } \n    #this diagnostic print statement shows that I do get the proper files into the target array. I leave it commented out when I run the script. \n    #print join(\"\\n\", @ArrayofFiles), \"\\n\";\n\n    #now I want to open each file in the array, search file contents, and add the result to another array\n    foreach my $file (@ArrayofFiles){ \n        open (my $sequence, '&lt;', $file) or die $!;\n        while (my $line = &lt;$sequence&gt;) {\n            if ($line =~ m/(CTCCCA)[TAGC]+(TCAGGA)/) { \n            push(@TrimmedSequences, $line); \n            }\n        }\n    }  \n</code></pre>\n\n<p>When I run this code, I get the following error message:\n\"Uncaught exception from user code: No such file or directory at /Users/roblogan/Documents/BIOL6309/Manipulating fast5 files/Attempt 5 line 23.\"\nLine 24 is \"open (my $sequence, '&lt;', $file) or die $!;\"</p>\n\n<p>My diagnostic print statement shows that I am working with an array of the expected fasta files. </p>\n\n<p>I would be very grateful for any help I can get. Thank you so much. \n-Rob</p>\n"}, {"tags": ["c++", "perl", "qt"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1454532018, "post_id": 35186911, "comment_id": 58091632, "body": "I understand you have two different perl installations on the same machine, right? And your &quot;regular&quot; perl has <code>Proc&#47;ProcessTable.pm</code> installed, while the perl used by your script that is called by C++ has not? There are numerous ways to tell perl where to search for its <code>@INC</code>lude path. If I&#39;m right, I can probably help you out."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454533680, "post_id": 35186911, "comment_id": 58092625, "body": "Easiest way - look at the path in the perl script shebang path. Run <i>that</i> perl with <code>-MCPAN -e shell</code> and install it."}, {"owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "edited": false, "score": 0, "creation_date": 1454536103, "post_id": 35186911, "comment_id": 58093957, "body": "That way still says me it&#39;s up to date."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454538863, "post_id": 35186911, "comment_id": 58095350, "body": "@AlexisCoquard: What does that shebang line say? What happens if you use <i>that path to perl</i> with <code>-MProc::ProcessTable -E&#39;1&#39;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454539236, "post_id": 35186911, "comment_id": 58095514, "body": "Why are there two installations of perl on this system? Are they usefully different? Can you remove one?"}, {"owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454576963, "post_id": 35186911, "comment_id": 58109742, "body": "@Borodin when I run <code>-MProc::ProcessTable -E&#39;1</code> I get a <code>Can&#39;t load ... Symbol not found: _PL_curpad</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454625076, "post_id": 35186911, "comment_id": 58141036, "body": "@AlexisCoquard: No one has asked what platform you&#39;re using this on. Since you&#39;re using Qt I imagine it has to be portable, but is this a Linux system, or perhaps Cygwiin on Windows?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454539167, "post_id": 35187501, "comment_id": 58095485, "body": "Unfortunately that&#39;s what <a href=\"http://stackoverflow.com/questions/35186911/cant-locate-proc-in-inc-but-cpan-says-module-is-up-to-date#comment58092625_35186911\"><b>Sobrique</b> suggested in his comment</a> to no apparent effect. But if the OP is to be believed then there&#39;s something very odd going on here"}, {"owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "edited": false, "score": 0, "creation_date": 1454574429, "post_id": 35187501, "comment_id": 58108281, "body": "So yes that didn&#39;t work then I ran BEGIN { print &quot;$_\\n&quot; for @INC } from terminal and from my C++ program and it shows me 2 different directories, so i guess i should be digging that."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1454541064, "last_edit_date": 1454541064, "creation_date": 1454532894, "answer_id": 35187501, "question_id": 35186911, "link": "https://stackoverflow.com/questions/35186911/cant-locate-module-in-inc-but-cpan-says-module-is-up-to-date/35187501#35187501", "title": "Can&#39;t locate module in @INC but CPAN says module is up to date", "body": "<p>Use <code>perl -MCPAN -eshell</code> but change <code>perl</code> to be a direct path to the Perl you want to install the module for.</p>\n\n<p>If that doesn't work, try to print out @INC (e.g. <code>BEGIN { print \"$_\\n\" for @INC }</code>) before your failing <code>use</code> and compare that to what just <code>perl -e'print \"$_\\n\" for @INC'</code> gives.  Something in your code may be removing directories from @INC.</p>\n\n<p>Or you could try</p>\n\n<pre><code>force install Proc::ProcessTable\n</code></pre>\n\n<p>in CPAN.</p>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "edited": false, "score": 0, "creation_date": 1454533558, "post_id": 35187555, "comment_id": 58092567, "body": "tried the first one and now the error message changed to: Can&#39;t load .. Symbol not found: _PL_curpad. I went through Google and haven&#39;t found much :("}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "edited": false, "score": 0, "creation_date": 1454534591, "post_id": 35187555, "comment_id": 58093139, "body": "I assume then your module isn&#39;t pure perl but also uses/has some <code>*.so</code>. Try @Sobrique &#39;s proposal, that sounds very promising."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454539001, "post_id": 35187555, "comment_id": 58095409, "body": "@PerlDog: <i>Relative</i> hard-coded paths are fine. See <a href=\"http://metacpan.org/module/mylib\" rel=\"nofollow noreferrer\">mylib</a> for example"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1454540538, "post_id": 35187555, "comment_id": 58096038, "body": "if you are getting symbol errors, you likely are pointing to a Proc::ProcessTable that is compiled for a different version or architecture of perl."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 0, "last_activity_date": 1454533086, "creation_date": 1454533086, "answer_id": 35187555, "question_id": 35186911, "link": "https://stackoverflow.com/questions/35186911/cant-locate-module-in-inc-but-cpan-says-module-is-up-to-date/35187555#35187555", "title": "Can&#39;t locate module in @INC but CPAN says module is up to date", "body": "<p>Provided you know the path where <code>Proc/ProcessTable.pm</code> is installed <em>and</em> it is\ncompatible with the perl version used by your C++ program, you can</p>\n\n<ol>\n<li><p><strong>either</strong> call perl with <code>-I</code>:</p>\n\n<p><code>perl -I /path/to/modules myscript.pl</code></p>\n\n<p>where <code>/path/to/modules</code> is the parent of <code>Proc/ProcessTable.pm</code>,<br>\ni.e. <code>/path/to/modules/Proc/ProcessTable.pm</code> exists.</p></li>\n<li><p><strong>or</strong> set the environment variable to the modules:</p>\n\n<p><code>export PERL5LIB=/path/to/modules</code></p>\n\n<p>and then start your script. The path given here is prepended to\nthe built-in <code>@INC</code> path.</p></li>\n<li><p><strong>or</strong> make your script use the additional path:</p>\n\n<p><code>use lib \"/path/to/modules\";</code></p></li>\n</ol>\n\n<p>I'd prefer 1. or 2. because hardcoded paths in scripts are almost always a bad idea.</p>\n"}], "owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1194, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454541064, "creation_date": 1454530848, "last_edit_date": 1454539391, "question_id": 35186911, "link": "https://stackoverflow.com/questions/35186911/cant-locate-module-in-inc-but-cpan-says-module-is-up-to-date", "title": "Can&#39;t locate module in @INC but CPAN says module is up to date", "body": "<p>I'm currently developing a small project with Qt using C++.</p>\n\n<p>My code is calling a Perl script and I got this error:</p>\n\n<blockquote>\n  <p>Can't locate Proc/ProcessTable.pm in @INC</p>\n</blockquote>\n\n<p>So I went to install the module and CPAN said:</p>\n\n<blockquote>\n  <p>Proc::ProcessTable is up to date (0.53).</p>\n</blockquote>\n\n<p>So i searched a bit and apparently it might be because of two copies of Perl involved. I tried to get the module on a local directory but Qt is still unable to find it. I'm stuck.</p>\n\n<p>Moreover, if I run the Perl script from the command line everything works fine.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1454524928, "post_id": 35184924, "comment_id": 58087185, "body": "Please show the code that you&#39;re having problems with"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454525123, "post_id": 35184924, "comment_id": 58087290, "body": "You seem to have tagged <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>, <a href=\"https://stackoverflow.com/questions/tagged/php\">php</a>, and <a href=\"https://stackoverflow.com/questions/tagged/html\">html</a> by mistake..."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5879126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036bcd6fa4d9349fce9f9538b245cab9?s=128&d=identicon&r=PG&f=1", "display_name": "subramani", "link": "https://stackoverflow.com/users/5879126/subramani"}, "edited": false, "score": 0, "creation_date": 1454604620, "post_id": 35185456, "comment_id": 58129047, "body": "Thanks Kenny Grage for your reply. I am very new to perl and I am not able to code as you said. Please help me out in doing this"}, {"owner": {"reputation": 1109, "user_id": 4585960, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097867072505/picture?type=large", "display_name": "Kenny Grage", "link": "https://stackoverflow.com/users/4585960/kenny-grage"}, "edited": false, "score": 0, "creation_date": 1454695034, "post_id": 35185456, "comment_id": 58175556, "body": "Programming is all about problem solving and figuring things out. I would encourage you to try this problem out in steps. Make two files and have it just read the cell A1 in both files and compare. Once you get that, then branch out. Please try it yourself and let me know where you are getting stuck and I would be glad to help."}], "tags": [], "owner": {"reputation": 1109, "user_id": 4585960, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097867072505/picture?type=large", "display_name": "Kenny Grage", "link": "https://stackoverflow.com/users/4585960/kenny-grage"}, "is_accepted": false, "score": 1, "last_activity_date": 1454526078, "creation_date": 1454526078, "answer_id": 35185456, "question_id": 35184924, "link": "https://stackoverflow.com/questions/35184924/how-use-perl-to-compare-two-excel-files-cell-by-cell-and-print-any-differences/35185456#35185456", "title": "How use Perl to compare two Excel files cell by cell and print any differences", "body": "<p>Without writing the entire script for you, basically, what you want to do is:</p>\n\n<ul>\n<li>Open both files.</li>\n<li>Run through each cell and compare it to the cell in the other file.</li>\n<li>If there is a mismatch, push that cell number to an array.</li>\n<li>When the file is done being read, you either say there is no mismatch if the array is empty or you print each element of the array line by line.</li>\n</ul>\n\n<p>I encourage you to try it on your own as that is the best way to learn. If you have any questions, we are more than happy to answer them.</p>\n\n<p>To get you started, here is the command to open the files:</p>\n\n<pre><code>open(my $fh1, \"&lt;\", \"excel_file_1.xls\") or die \"Cannot open excel_file_1.xls: $!\";\nopen(my $fh2, \"&lt;\", \"excel_file_2.xls\") or die \"Cannot open excel_file_2.xls: $!\";\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5879126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036bcd6fa4d9349fce9f9538b245cab9?s=128&d=identicon&r=PG&f=1", "display_name": "subramani", "link": "https://stackoverflow.com/users/5879126/subramani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1454526078, "creation_date": 1454524357, "last_edit_date": 1454525384, "question_id": 35184924, "link": "https://stackoverflow.com/questions/35184924/how-use-perl-to-compare-two-excel-files-cell-by-cell-and-print-any-differences", "title": "How use Perl to compare two Excel files cell by cell and print any differences", "body": "<p>For example  </p>\n\n<p>File 1:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Column x:1, 2, 6,\u2026. \nColumn y: 21, 2, 5.. \n</code></pre>\n\n<p>File 2:   </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Column x: 1, 2, 6\u2026. \nColumn y: 21, 2, 1\u2026  \n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mismatch in column y, 3rd row\n</code></pre>\n"}, {"tags": ["perl", "subroutine", "lvalue", "rvalue"], "comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1454522108, "post_id": 35183963, "comment_id": 58085521, "body": "I agree, but I&#39;m trying to mirror the functionality of a similar API used in Python for database access and it just seems to look cleaner from a UI perspective using an lvalue subroutine."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454522754, "post_id": 35183963, "comment_id": 58085927, "body": "There&#39;s <a href=\"https://metacpan.org/pod/MooseX::LvalueAttribute\" rel=\"nofollow noreferrer\">MooseX::LvalueAttribute</a> if you&#39;re using Moose."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1454524817, "post_id": 35183963, "comment_id": 58087127, "body": "Despite the fancy idea and the solutions below, I have to say that I agree with <a href=\"http://stackoverflow.com/a/35184272/622310\">ysth</a> who suggests that you should just call <code>$database-&gt;record_name($subscript, $value)</code> to write to the database. Then all your subroutine has to do is check for the existence of the second parameter. Anything more elaborate than that and you will be creating code that no one else understands"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454525419, "post_id": 35184272, "comment_id": 58087452, "body": "If you use <code>want(&#39;LVALUE&#39;)</code>, then <code>f(record_name)</code> fails (assuming you want to pass the record name to <code>f</code>). But if you use <code>want(&#39;ASSIGN&#39;)</code>, then <code>$_ = 1 for recordname;</code> breaks. This approach is inherently flawed."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454526271, "post_id": 35184272, "comment_id": 58087992, "body": "@ikegami: yup, it is.  I&#39;ve hand-coded something that worked like your answer before, but didn&#39;t know there was a module for it.  In any case, the whole thing makes for a sucky interface."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454527514, "post_id": 35184272, "comment_id": 58088769, "body": "That&#39;s the same as <code>want(&#39;LVALUE&#39;)</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454536677, "post_id": 35184272, "comment_id": 58094254, "body": "@ikegami: You&#39;re right. My test ouput was confused by <code>semi-panic: attempt to dup freed string</code> so I interpreted the results wrongly, but that&#39;s another reason not to use <code>Want</code>. The error was induced by a simple <code>proc() = 1</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1454525590, "last_edit_date": 1454525590, "creation_date": 1454522234, "answer_id": 35184272, "question_id": 35183963, "link": "https://stackoverflow.com/questions/35183963/check-if-a-subroutine-is-being-used-as-an-lvalue-or-an-rvalue-in-perl/35184272#35184272", "title": "Check if a subroutine is being used as an lvalue or an rvalue in Perl", "body": "<p>In my opinion, lvalue subroutines in Perl were a dumb idea. Just support <code>-&gt;record_name($subscript, $value)</code> as a setter and <code>-&gt;record_name($subscript)</code> as a getter.</p>\n\n<p>That said, you can use the <a href=\"http://metacpan.org/module/Want\" rel=\"nofollow\"><code>Want</code></a> module, like this</p>\n\n<pre><code>use Want;\n\nsub record_name:lvalue {\n    if ( want('LVALUE') ) {\n        ...\n    }\n    else {\n        ...\n    }\n}\n</code></pre>\n\n<p>though that will also treat this as an LVALUE:</p>\n\n<pre><code>foo( $database-&gt;record_name($subscript) );\n</code></pre>\n\n<p>If you want only assignment statements to be treated specially, use <code>want('ASSIGN')</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 4, "last_activity_date": 1454522358, "creation_date": 1454522358, "answer_id": 35184320, "question_id": 35183963, "link": "https://stackoverflow.com/questions/35183963/check-if-a-subroutine-is-being-used-as-an-lvalue-or-an-rvalue-in-perl/35184320#35184320", "title": "Check if a subroutine is being used as an lvalue or an rvalue in Perl", "body": "<p>For this situation you might like to try my <a href=\"https://metacpan.org/pod/Sentinel\" rel=\"nofollow\"><code>Sentinel</code></a> module.</p>\n\n<p>It provides a function you can use in the accessor, to turn it into a more get/set style approach. E.g. you could</p>\n\n<pre><code>use Sentinel qw( sentinel );\n\nsub get_record_name { ... }\nsub set_record_name { ... }\n\nsub record_name\n{\n   sentinel get =&gt; \\&amp;get_record_name,\n            set =&gt; \\&amp;set_record_name,\n            obj =&gt; shift;\n}\n</code></pre>\n\n<p>At this point, the following pairs of lines of code are equivalent</p>\n\n<pre><code>$name = $record-&gt;record_name;\n$name = $record-&gt;get_record_name;\n\n$record-&gt;record_name = $new_name;\n$record-&gt;set_record_name( $new_name );\n</code></pre>\n\n<p>Of course, if you're not needing to provide the specific <code>get_</code> and <code>set_</code> prefixed versions of the methods as well, you could inline them as closures. </p>\n\n<p>See the module docs also for further ideas.</p>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 3, "creation_date": 1454526075, "post_id": 35184517, "comment_id": 58087862, "body": "This answer is awesomely confusing haha.  In the end I&#39;ve decided to just go with avoiding lvalue subroutines altogether, but I am really intrigued by the idea of returning magical values!"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454527532, "post_id": 35184517, "comment_id": 58088785, "body": "@Borodin: Regardless of what I&#39;ve decided to do myself, this is the only answer that truly answers the question and explains how to do what was asked.  I&#39;ll admit I have not tested it out myself, nor do i fully understand the solution, but I&#39;ve never known ikegami to give a bad answer so I trust this solution will work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1454537097, "post_id": 35184517, "comment_id": 58094489, "body": "@tjwrona1992: Another issue is that it would be very awkward to use an <code>lvalue</code> subroutine as a setter, because the subroutine doesn&#39;t see the rvalue at all - it just returns a variable to which the rvalue will be assigned, and unless you return an object that has assignment overloaded that isn&#39;t going to work"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1454535733, "last_edit_date": 1454535733, "creation_date": 1454523043, "answer_id": 35184517, "question_id": 35183963, "link": "https://stackoverflow.com/questions/35183963/check-if-a-subroutine-is-being-used-as-an-lvalue-or-an-rvalue-in-perl/35184517#35184517", "title": "Check if a subroutine is being used as an lvalue or an rvalue in Perl", "body": "<p>Deciding how to behave on whether it was <em>called</em> as an lvalue or not is a bad idea since <code>foo(record_name(...))</code> would call it as an lvalue.</p>\n\n<p>Instead, you should decide how to behave on whether it is <em>used</em> as an lvalue or not.</p>\n\n<p>You can do that by returning a <a href=\"http://search.cpan.org/perldoc?Variable::Magic\" rel=\"nofollow\">magical value</a>.</p>\n\n<pre><code>use Variable::Magic qw( cast wizard );\n\nmy $wiz = wizard(\n   data =&gt; sub { shift; \\@_ },\n   get =&gt; sub { my ($ref, $args) = @_; $$ref = get_record_name(@$args); },\n   set =&gt; sub { my ($ref, $args) = @_; set_record_name(@$args, $$ref); },\n);\n\nsub record_name :lvalue {\n   cast(my $rv, $wiz, @_);\n   return $rv;\n}\n</code></pre>\n\n<p>A little test:</p>\n\n<pre><code>use Data::Dumper;\n\nsub get_record_name { print(\"get: @_\\n\"); return \"val\"; }\nsub set_record_name { print(\"set: @_\\n\"); }\n\nmy $x = record_name(\"abc\", \"def\");        # Called as rvalue\n\nrecord_name(\"abc\", \"def\") = \"xyz\";        # Called as lvalue. Used as lvalue.\n\nmy $y_ref = \\record_name(\"abc\", \"def\");   # Called as lvalue.\nmy $y = $$y_ref;                          #   Used as rvalue.\n$$y_ref = \"xyz\";                          #   Used as lvalue.\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>get: abc def\nset: abc def xyz\nget: abc def\nset: abc def xyz\n</code></pre>\n\n<p>After seeing this, you've surely learned that you should abandon the idea of using an lvalue sub. It's possible to hide all that complexity (such as by using <a href=\"http://search.cpan.org/perldoc?Sentinel\" rel=\"nofollow\"><code>sentinel</code></a>), but the complexity remains. The fanciness is not worth all the complexity. Use separate setters and getters or use an accessor whose role is based on the number of parameters passed to it (<code>$s=acc();</code> vs <code>acc($s)</code>) instead.</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 2, "accepted_answer_id": 35184517, "answer_count": 3, "score": 8, "last_activity_date": 1454535733, "creation_date": 1454521201, "question_id": 35183963, "link": "https://stackoverflow.com/questions/35183963/check-if-a-subroutine-is-being-used-as-an-lvalue-or-an-rvalue-in-perl", "title": "Check if a subroutine is being used as an lvalue or an rvalue in Perl", "body": "<p>I'm writing some code where I am using a subroutine as both an lvalue and an rvalue to read and write database values.  The problem is, I want it to react differently based on whether it is being used as an lvalue or an rvalue.</p>\n\n<p>I want the subroutine to write to the database when it is used as an lvalue, and read from the database when it is used as an rvalue.</p>\n\n<p>Example:</p>\n\n<pre><code># Write some data\n$database-&gt;record_name($subscript) = $value;\n\n# Read some data\nmy $value = $database-&gt;record_name($subscript);\n</code></pre>\n\n<p>The only way I can think of the make this work is to find a way for the subroutine to recognize whether it is being used as an lvalue or an rvalue and react differently for each case.</p>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["perl", "xlsx", "writer"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1454516778, "post_id": 35182290, "comment_id": 58081765, "body": "It&#39;s good to mention (or even link to) the library you use."}], "answers": [{"comments": [{"owner": {"reputation": 7431, "user_id": 382271, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2405b4ddcb12a59b846f21ba99969171?s=128&d=identicon&r=PG", "display_name": "Robert Kubrick", "link": "https://stackoverflow.com/users/382271/robert-kubrick"}, "edited": false, "score": 0, "creation_date": 1454522115, "post_id": 35184045, "comment_id": 58085524, "body": "The problem is that I have two background colors to alternate in the spreadsheet and also different borders. If I have to create unique formats for each specific cell combination (alignment, border, background color) I would end up with 20 or so different variables."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1454521458, "creation_date": 1454521458, "answer_id": 35184045, "question_id": 35182290, "link": "https://stackoverflow.com/questions/35182290/how-can-i-change-xlsx-write-format-dynamically/35184045#35184045", "title": "How can I change XLSX write format dynamically?", "body": "<p>You can't just assign a new variable to contain the required format. Each different format must be written into the spreadsheet by using <code>add_format</code></p>\n\n<p>You don't show enough code for me to be able to see what <code>$std_format</code> is, but if you've created it correctly then you can use <code>copy</code> to clone new embedded formats that are available for modification</p>\n\n<p>I suggest that you write something like this, which adds two variations of <code>$std_format</code> and picks which one to use when the cell is written</p>\n\n<pre><code>my $std_left = $std_format-&gt;copy;\n$std_left-&gt;set_align('left');\n\nmy $std_right = $std_format-&gt;copy;\n$std_right-&gt;set_align('right');\n\nmy $row_num = 0;\nwhile ( my $row = $csv-&gt;getline($fh) ) {\n\n    my $col_num = 0;\n    for my $cell ( @$row ) {\n\n        my $format = $col_num &lt; 2 ? $std_left : $std_right;\n        $worksheet-&gt;write($row_num, $col_num, $cell, $format);\n\n        $col_num++;\n    }\n\n    $row_num++;\n}\n</code></pre>\n\n<p>Of course you can put the whole thing into a single statement if that's a style you like</p>\n\n<pre><code>$worksheet-&gt;write($row_num, $col_num, $cell, $col_num &lt; 2 ? $std_left : $std_right);\n</code></pre>\n"}], "owner": {"reputation": 7431, "user_id": 382271, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2405b4ddcb12a59b846f21ba99969171?s=128&d=identicon&r=PG", "display_name": "Robert Kubrick", "link": "https://stackoverflow.com/users/382271/robert-kubrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 35184045, "answer_count": 1, "score": 0, "last_activity_date": 1454521458, "creation_date": 1454516516, "last_edit_date": 1454520356, "question_id": 35182290, "link": "https://stackoverflow.com/questions/35182290/how-can-i-change-xlsx-write-format-dynamically", "title": "How can I change XLSX write format dynamically?", "body": "<p>I'm using the <a href=\"http://metacpan.org/module/Excel::Writer::XLSX\" rel=\"nofollow\"><code>Excel::Writer::XLSX</code></a> module and want to change right and left alignment in an Excel spreadsheet based on the column number:</p>\n\n<pre><code>while( my $row = $csv-&gt;getline($fh) ) {\n    my $col_num = 0;\n    my $format = $std_format;\n    foreach ( @$row ) {\n        if ( $col_num &lt; 2 ) {\n            print \"col num $col_num, left\\n\";\n            $format-&gt;set_align('left');\n        }\n        else {\n            print \"col num $col_num, right\\n\";\n            $format-&gt;set_align('right');\n        }\n\n        $worksheet-&gt;write($row_num, $col_num, $_, $format);\n        $col_num++;\n    }\n    $row_num++;\n}\n</code></pre>\n\n<p>This doesn't work in my output spreadsheet. The alignment can only be set once in <code>$std_format</code> and it doesn't change.  </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454512773, "post_id": 35180321, "comment_id": 58078651, "body": "<code>split ( &#39; &#39;, $_)</code> is the default case for <code>split;</code>  (Although please don&#39;t use single letter variable names)"}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 4, "last_activity_date": 1454511317, "creation_date": 1454511317, "answer_id": 35180321, "question_id": 35180084, "link": "https://stackoverflow.com/questions/35180084/storing-specific-fields-from-multiple-files-into-an-array/35180321#35180321", "title": "Storing specific fields from multiple files into an array", "body": "<p>You tried to split $_ before $_ was set.  You need to move that code into the while loop:</p>\n\n<pre><code>@files = glob(\"*.txt\");\nmy @ID;\nfor my $file(@files) {\n   open IN, '&lt;', $file or die \"$!\";\n   while (&lt;IN&gt;) {\n      my @F = split(' ', $_);\n      $fields = join \"\\t\", @F[0,1,2,3];\n      push @ID, $fields;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1454511678, "last_edit_date": 1454511678, "creation_date": 1454511326, "answer_id": 35180328, "question_id": 35180084, "link": "https://stackoverflow.com/questions/35180084/storing-specific-fields-from-multiple-files-into-an-array/35180328#35180328", "title": "Storing specific fields from multiple files into an array", "body": "<p>It's not empty.</p>\n\n<pre><code>$VAR1 = [\n          \"\\t\\t\\t\",\n          \"\\t\\t\\t\",\n          ...\n          \"\\t\\t\\t\"\n        ];\n</code></pre>\n\n<p>But it doesn't contain what you want either.</p>\n\n<p>You're trying to split each line you read, but you do so before you even read from the file! Fix:</p>\n\n<pre><code>while (&lt;IN&gt;) {\n   my @F = split(' ', $_);\n   my $fields = join \"\\t\", @F[0,1,2,3];\n   push @ID, $fields;\n}\n</code></pre>\n\n<p><em>Always</em> use <code>use strict; use warnings qw( all );</code>! This would have found your problem.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Use of uninitialized value $_ in split at a.pl line 7.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1454514088, "last_edit_date": 1454514088, "creation_date": 1454512329, "answer_id": 35180717, "question_id": 35180084, "link": "https://stackoverflow.com/questions/35180084/storing-specific-fields-from-multiple-files-into-an-array/35180717#35180717", "title": "Storing specific fields from multiple files into an array", "body": "<p>Those code fragments are more neatly written like this</p>\n\n<pre><code>my @ID;\n\nfor my $file ( glob '*.txt' ) {\n    open my $fh, '&lt;', $file or die $!;\n    push @ID, &lt;$fh&gt;;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>my @ID;\n\nfor my $file ( glob '*.txt' ) {\n    open my $fh, '&lt;', $file or die $!;\n    push @ID, join \"\\t\", (split)[0 .. 3] while &lt;$fh&gt;;\n}\n</code></pre>\n\n<p>Note that I have used <em>lexical</em> file handles, which will be closed implicitly when they go out of scope, and so avoided the need to write an explicit <code>close</code></p>\n\n<p>In the former case each array element still has a newline appended which may need to be removed with <code>chomp @ID</code></p>\n\n<p>In the latter case it may well be preferable to store each list of fields as an array instead of combining them into a single string, which may then need to be split again later to access the fields separately. That would look like</p>\n\n<pre><code>push @ID, [ (split)[0..3] ] while &lt;$fh&gt;;\n</code></pre>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 35180321, "answer_count": 3, "score": 1, "last_activity_date": 1454514088, "creation_date": 1454510684, "last_edit_date": 1454511153, "question_id": 35180084, "link": "https://stackoverflow.com/questions/35180084/storing-specific-fields-from-multiple-files-into-an-array", "title": "Storing specific fields from multiple files into an array", "body": "<p>To store multiple files into an array I usually use:</p>\n\n<pre><code>@files = glob(\"*.txt\");\nmy @ID;\nfor my $file(@files) {\n   open IN, '&lt;', $file or die \"$!\";\n   push @ID, $_ while (&lt;IN&gt;);\n}\n</code></pre>\n\n<p>Which works fine.</p>\n\n<p>However, what can I do if I don't wish to push the entirety of <code>$_</code> and store only specific fields instead?</p>\n\n<p>I've tried splitting <code>$_</code> and pushing specific fields e.g. <code>$F[2]</code> as well as splitting <code>$_</code> and rejoining specific elements of it and pushing the result:</p>\n\n<pre><code>@files = glob(\"*.txt\");\nmy @ID;\nfor my $file(@files) {\n   open IN, '&lt;', $file or die \"$!\";\n   my @F = split(' ', $_);\n   $fields = join \"\\t\", @F[0,1,2,3];\n   push @ID, $fields while (&lt;IN&gt;);\n}\n</code></pre>\n\n<p>However <code>@ID</code> is empty when printed when using the second block of code. </p>\n"}, {"tags": ["linux", "performance", "perl", "debian"], "comments": [{"owner": {"reputation": 6731, "user_id": 725163, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Kgxeq.jpg?s=128&g=1", "display_name": "e.dan", "link": "https://stackoverflow.com/users/725163/e-dan"}, "edited": false, "score": 1, "creation_date": 1454509026, "post_id": 35179392, "comment_id": 58075809, "body": "Google &quot;perl profiler&quot; and look at some of the profiling packages out there for perl..."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1454510014, "post_id": 35179392, "comment_id": 58076612, "body": "couldn&#39;t it be a hardware problem? Good luck."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1454513061, "creation_date": 1454513061, "answer_id": 35180989, "question_id": 35179392, "link": "https://stackoverflow.com/questions/35179392/very-slow-perl-script-execution-time/35180989#35180989", "title": "Very slow perl script execution time", "body": "<p>Well, I can't answer directly, because I don't have that script on my system.</p>\n\n<p>However in general - you should be looking at that perl, and see what it's doing. </p>\n\n<p>I would take as a start point - <code>strace</code> as you mention that already. <code>strace -fTt</code> will follow over forks, so should report the syscalls being made by the perl as well. </p>\n\n<p>However if that doesn't do the trick - <code>Devel::NYTProf</code> will be able to tell you a fair amount about how your code is running and what it's doing (and where it's spending its time). Run that, then inspect the bits of code that are being sluggish. </p>\n"}], "owner": {"reputation": 4827, "user_id": 303726, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5c9c83c99715bf38dd62c7ae20da3dd7?s=128&d=identicon&r=PG", "display_name": "Julio Guerra", "link": "https://stackoverflow.com/users/303726/julio-guerra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 833, "favorite_count": 0, "closed_date": 1455221727, "answer_count": 1, "score": 0, "last_activity_date": 1454513061, "creation_date": 1454508739, "question_id": 35179392, "link": "https://stackoverflow.com/questions/35179392/very-slow-perl-script-execution-time", "closed_reason": "Needs more focus", "title": "Very slow perl script execution time", "body": "<p>I have a perl program (<code>/usr/bin/ckbcomp</code>) executing very slowly on a freshly installed debian v8 server. I found it while debugging its very long boot time.</p>\n\n<p>I compared the execution of this same script on another server not having this problem and I ended up with the result that they have the exact kernel space execution and that the problem seems to come from the userland code, the one written in perl.</p>\n\n<pre><code># slow execution\n$ uptime\n14:54:16 up  3:19,  1 user,  load average: 0.00, 0.01, 0.05\n$ time ckbcomp -backspace bs -model pc105 us\nreal    0m1.927s\nuser    0m1.900s\nsys     0m0.016s\n\n# normal execution\n$ uptime\n14:49:31 up 12 days, 17:19,  1 user,  load average: 0.00, 0.03, 0.09\n$ time ckbcomp -backspace bs -model pc105 us\nreal    0m0.381s\nuser    0m0.376s\nsys     0m0.000s\n</code></pre>\n\n<p>You can see the time is spent in user space. The <code>strace</code> output is mostly the same and confirms the <code>time</code> output (same number of syscalls, same overhead and almost same time spent in kernel space). <code>uptime</code> is used to show you the cpu load, so this is not an overload problem. </p>\n\n<p>So I assume the problem comes from the perl execution itself and <code>ltrace</code> mostly confirms it, giving <code>1.710485 seconds</code> spent in <code>perl_run()</code>.</p>\n\n<p>I have now no idea how to further debug the perl program on debian v8. A ltrace-like solution should be good enough to understand where the time is spent.</p>\n\n<p>The perl interpreter is the same on both machines. Maybe it comes from installed libraries...    </p>\n\n<p>Thank you for your help </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3944, "user_id": 5671993, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/h7hZj.jpg?s=128&g=1", "display_name": "Vikhram", "link": "https://stackoverflow.com/users/5671993/vikhram"}, "edited": false, "score": 1, "creation_date": 1454503173, "post_id": 35176974, "comment_id": 58071540, "body": "Readup on &#39;perldoc pack&#39; and &#39;perldoc unpack&#39;. The syntax for it is a language in itself"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1454503595, "post_id": 35176974, "comment_id": 58071856, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3857499/when-would-you-use-unpackh-or-packh\">When would you use unpack(&#39;h*&#39; ...) or pack(&#39;h*&#39; ...)?</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454514219, "post_id": 35176974, "comment_id": 58079771, "body": "That program appears to be buggy. <code>print $fw ...;</code> should be <code>printf ...;</code>."}, {"owner": {"reputation": 138, "user_id": 3436726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03c66afb86ecafb15b7be551cf376e86?s=128&d=identicon&r=PG&f=1", "display_name": "srib", "link": "https://stackoverflow.com/users/3436726/srib"}, "edited": false, "score": 0, "creation_date": 1455214246, "post_id": 35176974, "comment_id": 58400849, "body": "But this program works perfectly for me, and achieves my objective. I am able to convert binary to hex dump style format with this script."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1454514072, "last_edit_date": 1454514072, "creation_date": 1454503986, "answer_id": 35177646, "question_id": 35176974, "link": "https://stackoverflow.com/questions/35176974/perl-program-to-convert-binary-to-ascii/35177646#35177646", "title": "Perl program to convert binary to ascii", "body": "<p>Binary isn't used, and there's no conversion to ASCII.</p>\n\n<p>The program displays the hex representation of each byte of the file. At its core is <a href=\"http://perldoc.perl.org/functions/unpack.html\" rel=\"nofollow\"><code>unpack 'H2', $byte</code></a>, which returns the hex representation of a byte.</p>\n\n<p>It also displays the ASCII representation of those bytes. The program does not need to do any conversion to do this. The bytes are simply sent to the terminal which maps them to glyphs.</p>\n"}, {"comments": [{"owner": {"reputation": 138, "user_id": 3436726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03c66afb86ecafb15b7be551cf376e86?s=128&d=identicon&r=PG&f=1", "display_name": "srib", "link": "https://stackoverflow.com/users/3436726/srib"}, "edited": false, "score": 0, "creation_date": 1455214774, "post_id": 35186294, "comment_id": 58401165, "body": "Thanks for your answer. In the while loop, can you explain what is happening step-by-step?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 138, "user_id": 3436726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03c66afb86ecafb15b7be551cf376e86?s=128&d=identicon&r=PG&f=1", "display_name": "srib", "link": "https://stackoverflow.com/users/3436726/srib"}, "edited": false, "score": 0, "creation_date": 1455761189, "post_id": 35186294, "comment_id": 58638313, "body": "@srib: It&#39;s inappropriate to solve extensive problems like that in comments. There is nothing there that isn&#39;t standard Perl, so you should read <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">the documentation</a>"}, {"owner": {"reputation": 3208, "user_id": 2162673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9XSFy.jpg?s=128&g=1", "display_name": "Francisco Zarabozo", "link": "https://stackoverflow.com/users/2162673/francisco-zarabozo"}, "edited": false, "score": 0, "creation_date": 1592068359, "post_id": 35186294, "comment_id": 110294626, "body": "@Borodin This is the kind of attitude that has kept the Perl community getting smaller every day. While you are right in your response, and you are giving a helpful answer, putting teaching/explanatory comments in your code lines to help someone with little knowledge learn from it, even more when he is explicitly asking for help understanding it, would be a much more friendly way to help him an others. Just my point of view. And yes, I know this is a four year old response, but still."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1467563542, "last_edit_date": 1467563542, "creation_date": 1454528832, "answer_id": 35186294, "question_id": 35176974, "link": "https://stackoverflow.com/questions/35176974/perl-program-to-convert-binary-to-ascii/35186294#35186294", "title": "Perl program to convert binary to ascii", "body": "<p>I think your problem is with the <a href=\"http://perldoc.perl.org/functions/unpack.html\" rel=\"nofollow\"><code>unpack</code></a> call. I've changed it slightly to this</p>\n\n<pre><code>my @x = unpack '(H2)*', $buf\n</code></pre>\n\n<p>The format specifier <code>(H2)*</code> says to convert each byte of the string in the second parameter to a two-digit hex number. The <code>*</code> just means to convert as many bytes as there are in the string</p>\n\n<p>This will work properly for you</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse POSIX 'ceil';\n\nfor my $file (@ARGV) {\n\n    my $size = 16 * ceil( (-s $file) / 16);\n\n    my $form = length sprintf '%x', $size-1;\n    $form ||= 1;\n\n    print \"File: $file\\n\";\n    open my $fh, '&lt;', $file or die $!;\n\n    my $i = 0;\n    while ( my $rb = read $fh, my $buf, 16 ) {\n\n      my @x = unpack '(H2)*', $buf;\n      push @x, '  ' until @x == 16;\n\n      $buf =~ tr/\\x20-\\x7E/./c;\n\n      $buf .= ' ' x (16 - length($buf));\n\n      printf \"%0*x: %s [%s]\\n\",\n          $form,\n          $i++,\n          sprintf( \"%s %s %s %s  %s %s %s %s - %s %s %s %s  %s %s %s %s\", @x ),\n          $buf;\n    }\n\n    print \"\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<p>Here it is dumping itself</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>File: E:\\Perl\\source\\hexdump.pl\n000: 75 73 65 20  73 74 72 69 - 63 74 3b 0a  75 73 65 20 [use strict;.use ]\n001: 77 61 72 6e  69 6e 67 73 - 20 71 77 2f  20 61 6c 6c [warnings qw/ all]\n002: 20 46 41 54  41 4c 20 2f - 3b 0a 0a 75  73 65 20 50 [ FATAL /;..use P]\n003: 4f 53 49 58  20 27 63 65 - 69 6c 27 3b  0a 0a 40 41 [OSIX 'ceil';..@A]\n004: 52 47 56 20  3d 20 24 30 - 3b 0a 0a 66  6f 72 20 6d [RGV = $0;..for m]\n005: 79 20 24 66  69 6c 65 20 - 28 40 41 52  47 56 29 20 [y $file (@ARGV) ]\n006: 7b 0a 0a 20  20 20 20 6d - 79 20 24 73  69 7a 65 20 [{..    my $size ]\n007: 3d 20 31 36  20 2a 20 63 - 65 69 6c 28  20 28 2d 73 [= 16 * ceil( (-s]\n008: 20 24 66 69  6c 65 29 20 - 2f 20 31 36  29 3b 0a 0a [ $file) / 16);..]\n009: 20 20 20 20  6d 79 20 24 - 66 6f 72 6d  20 3d 20 6c [    my $form = l]\n00a: 65 6e 67 74  68 20 73 70 - 72 69 6e 74  66 20 27 25 [ength sprintf '%]\n00b: 78 27 2c 20  24 73 69 7a - 65 2d 31 3b  0a 20 20 20 [x', $size-1;.   ]\n00c: 20 24 66 6f  72 6d 20 7c - 7c 3d 20 31  3b 0a 0a 20 [ $form ||= 1;.. ]\n00d: 20 20 20 70  72 69 6e 74 - 20 22 46 69  6c 65 3a 20 [   print \"File: ]\n00e: 24 66 69 6c  65 5c 6e 22 - 3b 0a 20 20  20 20 6f 70 [$file\\n\";.    op]\n00f: 65 6e 20 6d  79 20 24 66 - 68 2c 20 27  3c 27 2c 20 [en my $fh, '&lt;', ]\n010: 24 66 69 6c  65 20 6f 72 - 20 64 69 65  20 24 21 3b [$file or die $!;]\n011: 0a 0a 20 20  20 20 6d 79 - 20 24 69 20  3d 20 30 3b [..    my $i = 0;]\n012: 0a 20 20 20  20 77 68 69 - 6c 65 20 28  20 6d 79 20 [.    while ( my ]\n013: 24 72 62 20  3d 20 72 65 - 61 64 20 24  66 68 2c 20 [$rb = read $fh, ]\n014: 6d 79 20 24  62 75 66 2c - 20 31 36 20  29 20 7b 0a [my $buf, 16 ) {.]\n015: 0a 20 20 20  20 20 20 6d - 79 20 40 78  20 3d 20 75 [.      my @x = u]\n016: 6e 70 61 63  6b 20 27 28 - 48 32 29 2a  27 2c 20 24 [npack '(H2)*', $]\n017: 62 75 66 3b  0a 20 20 20 - 20 20 20 70  75 73 68 20 [buf;.      push ]\n018: 40 78 2c 20  27 20 20 27 - 20 75 6e 74  69 6c 20 40 [@x, '  ' until @]\n019: 78 20 3d 3d  20 31 36 3b - 0a 0a 20 20  20 20 20 20 [x == 16;..      ]\n01a: 24 62 75 66  20 3d 7e 20 - 74 72 2f 5c  78 32 30 2d [$buf =~ tr/\\x20-]\n01b: 5c 78 37 45  2f 2e 2f 63 - 3b 0a 0a 20  20 20 20 20 [\\x7E/./c;..     ]\n01c: 20 24 62 75  66 20 2e 3d - 20 27 20 27  20 78 20 28 [ $buf .= ' ' x (]\n01d: 31 36 20 2d  20 6c 65 6e - 67 74 68 28  24 62 75 66 [16 - length($buf]\n01e: 29 29 3b 0a  0a 20 20 20 - 20 20 20 70  72 69 6e 74 [));..      print]\n01f: 66 20 22 25  30 2a 78 3a - 20 25 73 20  5b 25 73 5d [f \"%0*x: %s [%s]]\n020: 5c 6e 22 2c  0a 20 20 20 - 20 20 20 20  20 20 20 24 [\\n\",.          $]\n021: 66 6f 72 6d  2c 0a 20 20 - 20 20 20 20  20 20 20 20 [form,.          ]\n022: 24 69 2b 2b  2c 0a 20 20 - 20 20 20 20  20 20 20 20 [$i++,.          ]\n023: 73 70 72 69  6e 74 66 28 - 20 22 25 73  20 25 73 20 [sprintf( \"%s %s ]\n024: 25 73 20 25  73 20 20 25 - 73 20 25 73  20 25 73 20 [%s %s  %s %s %s ]\n025: 25 73 20 2d  20 25 73 20 - 25 73 20 25  73 20 25 73 [%s - %s %s %s %s]\n026: 20 20 25 73  20 25 73 20 - 25 73 20 25  73 22 2c 20 [  %s %s %s %s\", ]\n027: 40 78 20 29  2c 0a 20 20 - 20 20 20 20  20 20 20 20 [@x ),.          ]\n028: 24 62 75 66  3b 0a 20 20 - 20 20 7d 0a  0a 20 20 20 [$buf;.    }..   ]\n029: 20 70 72 69  6e 74 20 22 - 5c 6e 22 3b  0a 7d       [ print \"\\n\";.}  ]\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 3436726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03c66afb86ecafb15b7be551cf376e86?s=128&d=identicon&r=PG&f=1", "display_name": "srib", "link": "https://stackoverflow.com/users/3436726/srib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1723, "favorite_count": 0, "accepted_answer_id": 35186294, "answer_count": 2, "score": 0, "last_activity_date": 1467563542, "creation_date": 1454502138, "question_id": 35176974, "link": "https://stackoverflow.com/questions/35176974/perl-program-to-convert-binary-to-ascii", "title": "Perl program to convert binary to ascii", "body": "<p>I have to convert binary file to ascii values using Perl, which I have to further parse for processing. I did some research and found below code. I can get it to work perfectly but do not understand the code fully. Can anybody please break it down and explain it line by line? P.S: I understand most of the lines, but I am particularly concerned about the part where the actual binary is converted to ascii. Thanks.</p>\n\n<pre><code>foreach $file(@ARGV)\n{\n    $size= -s $file;\n    my $form= length(sprintf(\"%x\",$size))-1;\n    ++$form unless $form;\n    print \"File: \",$file,\"\\n\";\n    open (IN,$file);\n    while (my $rb= read(IN, $buf, 16))\n    {\n      my @x= unpack(\"H2\" x $rb, $buf);\n      $buf=~ s/[\\x00-\\x1f\\x7f-\\xff]/./g;\n      $buf.= ' ' x (16-length($buf));\n      print $fw (\"%0${form}x0: %s [%s]\\n\"\n                 ,$i++,\n                 ,sprintf (\" %s %s %s %s  %s %s %s %s - %s %s %s %s  %s %s %s %s\", @x)\n                 ,$buf);\n    }\n    close (IN)\n}\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1454499428, "post_id": 35175918, "comment_id": 58068954, "body": "That\u2026 doesn&#39;t look like XML."}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454499491, "post_id": 35175918, "comment_id": 58069007, "body": "You can add the imaginary tags which i didn&#39;t put"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454499568, "post_id": 35175918, "comment_id": 58069071, "body": "So what are you asking then? Not how to construct XML (since that part is \u2018<i>imaginary</i>\u2019)\u2026"}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454499915, "post_id": 35175918, "comment_id": 58069314, "body": "I am asking how to output a hash into an xml file"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1454499983, "post_id": 35175918, "comment_id": 58069371, "body": "You&#39;re going to have to provide <i>a lot</i> more details. What&#39;s the format of the XML? What have you tried? What doesn&#39;t work? Please read <a href=\"http://stackoverflow.com/help/how-to-ask\"><b>this</b></a>."}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454500088, "post_id": 35175918, "comment_id": 58069426, "body": "How many (logical) formats can you have, if i told you that i have a key-&gt;value hash"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454500236, "post_id": 35175918, "comment_id": 58069524, "body": "Infinite! What should the XML look like?! Show us an example!"}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454500407, "post_id": 35175918, "comment_id": 58069645, "body": "&lt;keys&gt; &lt;key1&gt;        &lt;value1&gt;    &lt;/value1&gt; &lt;/key1&gt; &lt;/keys&gt;"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 3, "creation_date": 1454500461, "post_id": 35175918, "comment_id": 58069696, "body": "So nothing like what you&#39;ve showed us in your question? Put that <i>in the question</i>, where it should have been in the first place. And while you do, add your code, and a clear description of how it doesn&#39;t work."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1454506901, "post_id": 35175918, "comment_id": 58074253, "body": "Also - if it&#39;s key-value, are you sure you want XML? XML is pretty heavy, and JSON may be more appropriate."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "edited": false, "score": 0, "creation_date": 1454504041, "post_id": 35176937, "comment_id": 58072158, "body": "Thank youvery much for all the efort. I think I&#39;ll go with the second solution."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1454513695, "last_edit_date": 1454513695, "creation_date": 1454502048, "answer_id": 35176937, "question_id": 35175918, "link": "https://stackoverflow.com/questions/35175918/how-do-i-create-an-xml-file-in-a-specific-location-containing-a-given-hash/35176937#35176937", "title": "How do I create an XML file (in a specific location), containing a given hash?", "body": "<p>XML::Simple is abysmal, especially for generating XML.</p>\n\n<hr>\n\n<p>You said the format should be the following:</p>\n\n<pre><code>&lt;keys&gt;\n   &lt;key1&gt;&lt;value1&gt;&lt;/value1&gt;&lt;/key1&gt;\n   [...]\n&lt;/keys&gt;\n</code></pre>\n\n<p>That format doesn't make much sense. The solution below produces XML in the following format:</p>\n\n<pre><code>&lt;elements&gt;\n   &lt;element&gt;&lt;key&gt;key1&lt;/key&gt;&lt;value&gt;value1&lt;/value&gt;&lt;/element&gt;\n   [...]\n&lt;/elements&gt;\n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>use XML::Writer qw( );\n\nopen(my $fh, '&gt;', $qfn)\n   or die(\"Can't create \\\"$qfn\\\": $!\\n\");\n\nmy $writer = XML::Writer-&gt;new(OUTPUT =&gt; $fh);\n$writer-&gt;xmlDecl();\n$writer-&gt;startTag(\"elements\");\nfor my $key (sort keys(%hash)) {\n   $writer-&gt;startTag(\"element\");\n   $writer-&gt;dataElement(\"key\", $key);\n   $writer-&gt;dataElement(\"value\", $hash{$key});\n   $writer-&gt;endTag(\"element\");\n}\n$writer-&gt;endTag(\"keys\");\n$writer-&gt;end();\n</code></pre>\n\n<hr>\n\n<p>The following is a terser format:</p>\n\n<pre><code>&lt;elements&gt;\n   &lt;element key=\"key1\"&gt;value1&lt;/element&gt;\n   [...]\n&lt;/elements&gt;\n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>use XML::Writer qw( );\n\nopen(my $fh, '&gt;', $qfn)\n   or die(\"Can't create \\\"$qfn\\\": $!\\n\");\n\nmy $writer = XML::Writer-&gt;new(OUTPUT =&gt; $fh);\n$writer-&gt;xmlDecl();\n$writer-&gt;startTag(\"elements\");\nfor my $key (sort keys(%hash)) {\n   $writer-&gt;dataElement(\"element\", $hash{$key}, key =&gt; $key);\n}\n$writer-&gt;endTag(\"keys\");\n$writer-&gt;end();\n</code></pre>\n\n<hr>\n\n<p>Adjust at will.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1454507520, "last_edit_date": 1495535297, "creation_date": 1454507520, "answer_id": 35178946, "question_id": 35175918, "link": "https://stackoverflow.com/questions/35175918/how-do-i-create-an-xml-file-in-a-specific-location-containing-a-given-hash/35178946#35178946", "title": "How do I create an XML file (in a specific location), containing a given hash?", "body": "<p><a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> has covered the hash -> XML case quite nicely. I wish to offer an alternative suggestion - don't, use <code>JSON</code> instead. <code>XML</code> is quite powerful and complicated, but it's really designed as a document format - think how HTML does things - you have tags, attributes and content. </p>\n\n<p>For a significant number of use cases, you're better off with <code>JSON</code> instead - it's a simpler format of hashes and arrays. As a result, it more directly reflects the perl data types.</p>\n\n<p>So you can do:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse JSON;\n\nmy %stuff = ( key =&gt; \"value\", \n              another_key =&gt; \"another_value\", \n              some_tags =&gt; [ \"tag1\", \"tag2\", \"tag3\" ] ); \n\nprint to_json ( \\%stuff, { pretty =&gt; 1 } );\n</code></pre>\n\n<p>This gives you:</p>\n\n<pre><code>{\n   \"key\" : \"value\",\n   \"another_key\" : \"another_value\",\n   \"some_tags\" : [\n      \"tag1\",\n      \"tag2\",\n      \"tag3\"\n   ]\n}\n</code></pre>\n\n<p>Or collapses it onto one line if you just <code>to_json ( \\%stuff );</code>:</p>\n\n<pre><code>{\"another_key\":\"another_value\",\"key\":\"value\",\"some_tags\":[\"tag1\",\"tag2\",\"tag3\"]}\n</code></pre>\n\n<p>Reading it back in is as simple as:</p>\n\n<pre><code>my $json_str =  to_json ( \\%stuff );\n\nmy $json_object = from_json ( $json_str );\nprint Dumper \\$json_object;\n</code></pre>\n\n<p>If all you need is hashes and arrays (and can do without XML attributes, <code>xpath</code>, <code>XSLT</code> processing) then this may be a better fit - I suggest it, because you indicate that you want to export a simple hash. </p>\n\n<p>But in either case - <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">don't use <code>XML::Simple</code> - it isn't simple at all.</a> </p>\n"}], "owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1455745973, "accepted_answer_id": 35176937, "answer_count": 2, "score": -6, "last_activity_date": 1454513695, "creation_date": 1454499258, "last_edit_date": 1454507932, "question_id": 35175918, "link": "https://stackoverflow.com/questions/35175918/how-do-i-create-an-xml-file-in-a-specific-location-containing-a-given-hash", "closed_reason": "Needs details or clarity", "title": "How do I create an XML file (in a specific location), containing a given hash?", "body": "<p>So I have a simple hash <code>key=&gt;{value}</code> and I need to output this in an XML file (in a specific location).</p>\n\n<p>The output should be like this:</p>\n\n<pre><code>&lt;keys&gt; &lt;key1&gt; &lt;value1&gt; &lt;/value1&gt; &lt;/key1&gt; &lt;/keys&gt; \n</code></pre>\n\n<p>I searched on other forums and found that xml::Simple would be a solution, but new in Perl.</p>\n"}, {"tags": ["perl", "pintos"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5267224, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OQXSFmT21lM/AAAAAAAAAAI/AAAAAAAAADY/9I8mpJ8gX68/photo.jpg?sz=128", "display_name": "Shubham Pandey", "link": "https://stackoverflow.com/users/5267224/shubham-pandey"}, "is_accepted": false, "score": 1, "last_activity_date": 1506377982, "creation_date": 1506377982, "answer_id": 46415036, "question_id": 35174226, "link": "https://stackoverflow.com/questions/35174226/pintos-test-cases-why-are-some-written-in-c-and-some-in-ck-file-extension/46415036#46415036", "title": "Pintos test cases : Why are some written in c and some in ck file extension?", "body": "<p>In Pintos projects, .ck files show you the desired sequence of print outputs.\n.c files contain the test cases themselves</p>\n"}], "owner": {"reputation": 347, "user_id": 3969907, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e90745f8b9862f736b023e91b15abc0?s=128&d=identicon&r=PG", "display_name": "zoonoo", "link": "https://stackoverflow.com/users/3969907/zoonoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1506377982, "creation_date": 1454494741, "question_id": 35174226, "link": "https://stackoverflow.com/questions/35174226/pintos-test-cases-why-are-some-written-in-c-and-some-in-ck-file-extension", "title": "Pintos test cases : Why are some written in c and some in ck file extension?", "body": "<p>In <code>pintos/src/tests/threads</code>, some of the tests are written in c, while some written in perl (ck file), and the other tests have both c and ck files.</p>\n\n<p>two questions :</p>\n\n<ol>\n<li><p>Is .ck extension used for perl scripts? For some reason, I am not getting satisfiable explanation about the .ck extension.</p></li>\n<li><p>Why is some written in c and others written in ck?</p></li>\n</ol>\n"}, {"tags": ["regex", "string", "bash", "perl", "pattern-matching"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1454493260, "post_id": 35173521, "comment_id": 58064663, "body": "It lloks like json Format. Look for a json parser"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454493908, "post_id": 35173521, "comment_id": 58065118, "body": "Not quite valid JSON though. Any chance that&#39;s a transposition error, and there&#39;s open/close brackets and commas missing?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3498040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489a3d483622081c2d97d0d532200ab4?s=128&d=identicon&r=PG&f=1", "display_name": "user3498040", "link": "https://stackoverflow.com/users/3498040/user3498040"}, "edited": false, "score": 0, "creation_date": 1454592309, "post_id": 35174253, "comment_id": 58120108, "body": "it&#39;s not a YAML or XML file , it is a &#39;.conf&#39; file format \u2013"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 41, "user_id": 3498040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489a3d483622081c2d97d0d532200ab4?s=128&d=identicon&r=PG&f=1", "display_name": "user3498040", "link": "https://stackoverflow.com/users/3498040/user3498040"}, "edited": false, "score": 0, "creation_date": 1454592392, "post_id": 35174253, "comment_id": 58120160, "body": "The file extension is irrelevant. What&#39;s in it is what matters. You would have to be extremely lucky to find - as your file is - that it matches the YAML spec quite as closely as that."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1454494788, "creation_date": 1454494788, "answer_id": 35174253, "question_id": 35173521, "link": "https://stackoverflow.com/questions/35173521/how-can-i-extract-a-string-between-matching-braces-after-grep-in-perl/35174253#35174253", "title": "How can I extract a string between matching braces after grep in Perl?", "body": "<p>You can do bracket capturing, but it's messy when you don't have to. (<code>JSON</code> is slightly easier to handle than <code>XML</code> but it's still not a good idea). </p>\n\n<p>This however, looks like it might be <code>YAML</code> - it's pretty close - I only have to remove a trailing comma from your source, which I have assumed is because you've given us a sample of your config. </p>\n\n<p>Loading YAML looks a bit like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nuse YAML::XS; \n\nmy $yaml = Load ( do { local $/; &lt;DATA&gt; } );\nprint Dumper $yaml -&gt; {\"perl-Test::DNS\"};\n\n\n__DATA__\n\"perl-Test::DNS\" : [\n         {\n            \"environment\" : \"test1\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test1-Test::DNS\",\n         },\n         {\n            \"environment\" : \"Test2\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test2-Test::DNS\",\n         },\n         {\n            \"environment\" : \"Test3\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test3-Test::DNS\",\n         },\n]\n\n\"perl-Test::SSH\" : [\n         {\n            \"environment\" : \"test1\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test1-Test::SSH\",\n         },\n         {\n            \"environment\" : \"Test2\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test2-Test::SSH\",\n         },\n         {\n            \"environment\" : \"Test3\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test3-Test::SSH\",\n         },\n]\n</code></pre>\n\n<p>As you can see - it correctly parses your file aside from that trailing comma. (Which would work too, provided you had additional entries after it). The above outputs: </p>\n\n<pre><code>$VAR1 = [\n          {\n            'environment' =&gt; 'test1',\n            'hash' =&gt; 'c8d149b4fc895b214276ca5c90d1181e',\n            'identifier' =&gt; 'test1-Test::DNS'\n          },\n          {\n            'hash' =&gt; 'c8d149b4fc895b214276ca5c90d1181e',\n            'environment' =&gt; 'Test2',\n            'identifier' =&gt; 'test2-Test::DNS'\n          },\n          {\n            'hash' =&gt; 'c8d149b4fc895b214276ca5c90d1181e',\n            'environment' =&gt; 'Test3',\n            'identifier' =&gt; 'test3-Test::DNS'\n          }\n        ];\n</code></pre>\n\n<p>But which is a 'normal' perl data structure that you can traverse as you wish. </p>\n"}], "owner": {"reputation": 41, "user_id": 3498040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489a3d483622081c2d97d0d532200ab4?s=128&d=identicon&r=PG&f=1", "display_name": "user3498040", "link": "https://stackoverflow.com/users/3498040/user3498040"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454494788, "creation_date": 1454492939, "last_edit_date": 1495535313, "question_id": 35173521, "link": "https://stackoverflow.com/questions/35173521/how-can-i-extract-a-string-between-matching-braces-after-grep-in-perl", "title": "How can I extract a string between matching braces after grep in Perl?", "body": "<p>I have a file in below mentioned text format:\n<strong>cat test.txt</strong></p>\n\n<pre><code>\"perl-Test::DNS\" : [\n         {\n            \"environment\" : \"test1\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test1-Test::DNS\",\n         },\n         {\n            \"environment\" : \"Test2\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test2-Test::DNS\",\n         },\n         {\n            \"environment\" : \"Test3\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test3-Test::DNS\",\n         },\n]\n\n\"perl-Test::SSH\" : [\n         {\n            \"environment\" : \"test1\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test1-Test::SSH\",\n         },\n         {\n            \"environment\" : \"Test2\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test2-Test::SSH\",\n         },\n         {\n            \"environment\" : \"Test3\",\n            \"hash\" : \"c8d149b4fc895b214276ca5c90d1181e\",\n            \"identifier\" : \"test3-Test::SSH\",\n         },\n],\n</code></pre>\n\n<p>I need to grep particular string i.e \"perl-Test::SSH : [\" from file and print/extract whole lines between '[' and ']'  of that string .</p>\n\n<p>I found similar type of question  here: <a href=\"https://stackoverflow.com/questions/12271040/perl-how-to-extract-a-string-between-brackets\">Perl: How to extract a string between brackets</a> but this link only extract words between two brackets and i need to extract lines. </p>\n\n<p>Anything that works will be accepted but explanations would help greatly. </p>\n"}, {"tags": ["html", "perl", "mojo-dom"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454491755, "post_id": 35171586, "comment_id": 58063597, "body": "Your HTML isn&#39;t well-formed. You have a superfluous closing <code>&lt;&#47;div&gt;</code> tag, which makes me wonder whether you have removed an opening <code>&lt;div&gt;</code> tag in the <i>&quot;useless content and html structures&quot;</i>. Please can you fix it"}, {"owner": {"reputation": 145, "user_id": 4736956, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5dee176510499c5b16a0f1805d1bdfd6?s=128&d=identicon&r=PG&f=1", "display_name": "Dvalin Swamp", "link": "https://stackoverflow.com/users/4736956/dvalin-swamp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454493426, "post_id": 35171586, "comment_id": 58064783, "body": "yes, indeed, sorry about that. updated the code.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454494088, "post_id": 35171586, "comment_id": 58065255, "body": "Thank you. Is there not a single element that encloses all the data for each post? In other words, does the next <code>&lt;div class=&quot;post&quot;&gt;</code> really follow on immediately after the <code>&lt;div class=&quot;post_actions_box&quot;&gt;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454542678, "post_id": 35171586, "comment_id": 58096853, "body": "Please read <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}, {"owner": {"reputation": 145, "user_id": 4736956, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5dee176510499c5b16a0f1805d1bdfd6?s=128&d=identicon&r=PG&f=1", "display_name": "Dvalin Swamp", "link": "https://stackoverflow.com/users/4736956/dvalin-swamp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454543189, "post_id": 35171586, "comment_id": 58097057, "body": "Just was in progress for testing. May I please ask you several questions in the &quot;answer&quot; section?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454543676, "post_id": 35171586, "comment_id": 58097225, "body": "I&#39;m not happy with my solution until you&#39;ve resolved my doubts about the real content of the HTML, so can we fix that first? Stack Overflow is a <i>knowledge base</i> rather than a forum, so every entry is like a Wikipedia article and should be as correct as possible. I can create a chat room where we can talk, but I would like to know the nature of your questions first"}, {"owner": {"reputation": 145, "user_id": 4736956, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5dee176510499c5b16a0f1805d1bdfd6?s=128&d=identicon&r=PG&f=1", "display_name": "Dvalin Swamp", "link": "https://stackoverflow.com/users/4736956/dvalin-swamp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454544654, "post_id": 35171586, "comment_id": 58097561, "body": "your assumption is perfectly correct - the whole post is sitting inside of a&lt;div class =&quot;post&quot; &gt;, sorry for double confusion. my questions mostly  relate to Mojo methods."}, {"owner": {"reputation": 145, "user_id": 4736956, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5dee176510499c5b16a0f1805d1bdfd6?s=128&d=identicon&r=PG&f=1", "display_name": "Dvalin Swamp", "link": "https://stackoverflow.com/users/4736956/dvalin-swamp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454544785, "post_id": 35171586, "comment_id": 58097601, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/102536/discussion-between-dvalin-swamp-and-borodin\">continue this discussion in chat</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454544813, "post_id": 35171586, "comment_id": 58097606, "body": "You should come <a href=\"http://chat.stackoverflow.com/rooms/102535/mojodom\">here</a> to talk"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1454494362, "last_edit_date": 1454494362, "creation_date": 1454492575, "answer_id": 35173393, "question_id": 35171586, "link": "https://stackoverflow.com/questions/35171586/mojodom-html-extraction/35173393#35173393", "title": "Mojo::DOM HTML extraction", "body": "<p>Your HTML is malformed as I said in my comment. I've guessed where the missing <code>&lt;div&gt;</code> might go but I'm probably wrong. I've assumed the last <code>&lt;/div&gt;</code> in the data corresponds to the first <code>&lt;div&gt;</code>, so that the whole block constitutes a single post</p>\n\n<p>The main problem you have is trying to do everything inside an <code>each</code> method call on your <code>Mojo::Collection</code> objects. It's far easier to use Perl to iterate of each collection, like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Mojo::DOM;\n\nuse constant HTML_FILE =&gt; 'index2.html';\n\nmy $html = do {\n    open my $fh, '&lt;', HTML_FILE or die $!;\n    local $/;\n    &lt;$fh&gt;;\n};\n\nmy $dom = Mojo::DOM-&gt;new($html);\n\nfor my $post ( $dom-&gt;find('div.post')-&gt;each ) {\n\n    printf \"Post ID:     %s\\n\", $post-&gt;attr('data-story-id');\n\n    my $anchor = $post-&gt;at('h2.post_title &gt; a');\n    printf \"Post href:   %s\\n\", $anchor-&gt;attr('href');\n    printf \"Post header: %s\\n\", $anchor-&gt;text;\n\n    my @tags = $post-&gt;find('li.post_tag &gt; a')-&gt;map('text')-&gt;each;\n\n    printf \"Tags:        %s\\n\", join ', ', @tags;\n\n    print \"\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Post ID:     3964117\nPost href:   http://example.com/story/some_url\nPost header: Header\nTags:        some_value, tag1, tag2, tag3\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 4736956, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5dee176510499c5b16a0f1805d1bdfd6?s=128&d=identicon&r=PG&f=1", "display_name": "Dvalin Swamp", "link": "https://stackoverflow.com/users/4736956/dvalin-swamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 35173393, "answer_count": 1, "score": 1, "last_activity_date": 1454544534, "creation_date": 1454486886, "last_edit_date": 1454544534, "question_id": 35171586, "link": "https://stackoverflow.com/questions/35171586/mojodom-html-extraction", "title": "Mojo::DOM HTML extraction", "body": "<p>I'm trying to extract quite a bit of data from a perfectly structured web page and struggling with <a href=\"http://metacpan.org/module/Mojo::DOM\" rel=\"nofollow\"><code>Mojo::DOM</code></a> methods. I would really appreciate it if anyone could point me in the right direction.</p>\n\n<p>The truncated HTML with interesting data follows:</p>\n\n<pre><code> &lt;div class=\"post\" data-story-id=\"3964117\" data-visited=\"false\"&gt;//extracting story-id\n  &lt;h2 class=\"post_title page_title\"&gt;&lt;a href=\"http://example.com/story/some_url\" class=\"to-comments\"&gt;header.&lt;/a&gt;&lt;/h2&gt;\n  //useless data and tags\n\n&lt;a href=\"http://example.com/story/some_url\" class=\"b-story__show-all\"&gt;\n  &lt;span&gt;useless data&lt;/span&gt;\n&lt;/a&gt;\n\n&lt;div class=\"post_tags\"&gt;\n  &lt;ul&gt;\n    &lt;li class=\"post_tag post_tag_strawberry hidden\"&gt;&lt;a href=\"http://example.com/search.php?n=32&amp;r=3\"&gt;&amp;nbsp;&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"post_tag\"&gt;&lt;a href=\"http://example.com/tag/tag1/hot\"&gt;tag1&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"post_tag\"&gt;&lt;a href=\"http://example.com/tag/tag2/hot\"&gt;tag2&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"post_tag\"&gt;&lt;a href=\"http://example.com/tag/tag1/hot\"&gt;tag3&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;div class=\"post_actions_box\"&gt;\n\n  &lt;div class=\"post_rating_box\"&gt;\n    &lt;ul data-story-id=\"3964117\" data-vote=\"0\" data-can-vote=\"true\"&gt;\n      &lt;li&gt;&lt;span class=\"post_rating post_rating_up control\"&gt;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;span class=\"post_rating_count control label\"&gt;1956&lt;/span&gt;&lt;/li&gt; //1956 - interesting value\n      &lt;li&gt;&lt;span class=\"post_rating post_rating_down control\"&gt;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"post_more_box\"&gt;\n    &lt;ul&gt;\n      &lt;li&gt;\n        &lt;span class=\"post_more control\"&gt;&amp;nbsp;&lt;/span&gt;\n      &lt;/li&gt;\n      &lt;li&gt;\n        &lt;a class=\"post_comments_count label to-comments\" href=\"http://example.com/story/some_url#comments\"&gt;132&amp;nbsp;&lt;i&gt;&amp;nbsp;&lt;/i&gt;&lt;/a&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What I have right now is </p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\nuse Mojo::DOM;\n\n\nmy $file = \"index2.html\";\nlocal( $/, *FH ) ;\nopen( FH, $file ) or die \"sudden flaming death\\n\";\nmy $text = &lt;FH&gt;;\nmy $dom = Mojo::DOM-&gt;new;\n$dom-&gt;parse($text);\nmy $ids = $dom-&gt;find('div.post')\n    -&gt;each (sub {print $_-&gt;attr('data-story-id'), \"\\n\";});\n$dom-&gt;find('a.to-comments')-&gt;each (sub {print $_-&gt;text, \"\\n\";});\n</code></pre>\n\n<p>This mess extracts <code>data-story-id</code> from the src and header value (tested the same with href value), but all my other attempts fail.</p>\n\n<pre><code>3964117\nHeader\n132\n</code></pre>\n\n<p>\"post_rating_count control label\" is not extracted. I could get the first href values with searching for <code>a.to-comments</code> and returning <code>attr('href')</code>, but for some reason it also returnes me values of a link in the end of the segment with <code>class=\"post_comments_count label to-comments\"</code>. The same happens with header value extraction.</p>\n\n<p>In the final end I am looking for an array with data structure with following fields: </p>\n\n<ul>\n<li>story-id (this is is a success)</li>\n<li>href (somehow, matching more than needed.)</li>\n<li>header (somehow, matching more than needed.)</li>\n<li>list of tags as a string (no idea how to do that)</li>\n</ul>\n\n<p>What is more, I feel it is possible to optimize the code and make it look a bit better, but my kung-fu is not so strong.</p>\n"}, {"tags": ["perl", "wikipedia"], "comments": [{"owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "edited": false, "score": 0, "creation_date": 1454487032, "post_id": 35171128, "comment_id": 58060647, "body": "Why dont you state a sample of the string returned from the wiki, and indicate what part you wish to remove exactly. Then we may be able to give you a regex that do the job for you."}, {"owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "reply_to_user": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "edited": false, "score": 0, "creation_date": 1454489347, "post_id": 35171128, "comment_id": 58061965, "body": "There done. Sorry it took a while as im on a phone and this is actually for a friend."}, {"owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "edited": false, "score": 0, "creation_date": 1454489950, "post_id": 35171128, "comment_id": 58062368, "body": "This better, thanks. Please find my answer below. I hope it helps."}], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1454492046, "post_id": 35172413, "comment_id": 58063788, "body": "Works perfectly, just when I try other search words, it displays things above the starting of the first paragraph"}, {"owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "reply_to_user": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1454492175, "post_id": 35172413, "comment_id": 58063882, "body": "By things you mean extra text outside the {{}} that you also want to remove?"}, {"owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1454493240, "post_id": 35172413, "comment_id": 58064651, "body": "When I try for example, the word &quot;cement&quot;. This is what it prints out: goggles, and protective gloves, unlike the worker pictured herehttp://www.hse.gov.uk/pubns/cis26.pdfhttp://www.cementau&zwnj;&#8203;stralia.com.au/wps/w&zwnj;&#8203;cm/connect/website/p&zwnj;&#8203;ackaged-products/hom&zwnj;&#8203;e/hints-and-tips/FAQ&zwnj;&#8203;-Safety/#FAQ-safety-&zwnj;&#8203;PPE.htmlhttp://www.t&zwnj;&#8203;di.texas.gov/pubs/vi&zwnj;&#8203;deoresource/stpcemen&zwnj;&#8203;t.pdf]] A &#39;cement&#39; is a binder, a substance that sets and hardens and can bind other materials together. The word &quot;cement&quot; can be traced back to the Roman term [[opus caementicium]], used to describe masonry resembling modern concrete that was"}, {"owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "reply_to_user": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1454494804, "post_id": 35172413, "comment_id": 58065777, "body": "I&#39;m not sure if there is way to match all possible returned Strings. I can&#39;t see any rule for it."}, {"owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1454530084, "post_id": 35172413, "comment_id": 58090373, "body": "I found this, but its in php"}, {"owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1454530117, "post_id": 35172413, "comment_id": 58090400, "body": "// remove <code>{{cite}}</code> tags $str = preg_replace(&#39;/\\s*\\{\\{[^}{]*+\\}\\}\\s*/&#39;, &#39; &#39;, $str);  // remove links--including rollover text--leaving link text $str = preg_replace(&#39;/&#91;&#91;(?:[^][|]*+\\|)?+([^][]*+)&#93;&#93;&zwnj;&#8203;/&#39;, &#39;$1&#39;, $str);"}], "tags": [], "owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "is_accepted": true, "score": 2, "last_activity_date": 1454491024, "last_edit_date": 1454491024, "creation_date": 1454489829, "answer_id": 35172413, "question_id": 35171128, "link": "https://stackoverflow.com/questions/35171128/print-information-from-wikipedia/35172413#35172413", "title": "Print information from Wikipedia", "body": "<p>Match the string returned by the wiki against a regex to replace the first part which is between {{}} and the empty new lines right after it, by empty string:</p>\n\n<p><code>$processed =~ s/\\{\\{.*\\}\\}\\R\\R//s;</code></p>\n\n<p>As you can see I used the <code>/s</code> option to match multiple lines and I didnt use the <code>g</code> option so that we replace the first greedy match only.</p>\n"}], "owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 35172413, "answer_count": 1, "score": 1, "last_activity_date": 1454491024, "creation_date": 1454485256, "last_edit_date": 1454490098, "question_id": 35171128, "link": "https://stackoverflow.com/questions/35171128/print-information-from-wikipedia", "title": "Print information from Wikipedia", "body": "<p>Im trying to print out information from Wikipedia and it does: <a href=\"http://i.imgur.com/1vMj3df.jpg\" rel=\"nofollow\">http://i.imgur.com/1vMj3df.jpg</a></p>\n\n<p>This is the code I'm using:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse WWW::Wikipedia;\nuse HTML::Restrict;\n\nmy $wiki = WWW::Wikipedia-&gt;new(clean_html =&gt; 1);\nmy $hr = HTML::Restrict-&gt;new;\nmy $entry = $wiki-&gt;search('Perl');\nmy $processed = $hr-&gt;process($entry-&gt;text_basic);\nprint $processed;\n\n1;\n</code></pre>\n\n<p>Im hoping to remove the stuff above \"perl is a family\" and print out only the paragraphs.</p>\n\n<p>Example it prints this out:</p>\n\n<pre><code>     {{Infobox programming language\n | name                   = Perl\n | logo                   = \n | paradigm               = multi-paradigm: functional, imperative, object-oriented (class-based), reflective, procedural, event-driven, generic\n | year                   = \n | designer               = Larry Wall\n | developer              = Larry Wall\n | latest_release_version = 5.22.1\n | latest_release_date    = \n | latest_preview_version = 5.23.7\n | latest_preview_date    = \n | turing-complete        = Yes\n | typing                 = Dynamic\n | influenced_by          = AWK, Smalltalk 80, Lisp, C, C++, sed, Unix shell, Pascal\n | influenced             = Chapel, Coffeescript, ECMAScript/JavaScript, Falcon, Julia, LPC, Perl 6, PHP, Python, Qore, Ruby, Windows PowerShell\n | programming_language   = C\n | operating_system       = Cross-platform\n | license                = GNU General Public License or Artistic License\n | website                = \n | file_ext               = .pl .pm .t .pod\n | wikibooks              = Perl Programming\n }}\n\n'Perl' is a family of high-level, general-purpose, interpreted, dynamic programming languages. The languages in this family include Perl 5 and Perl 6.\n\nThough Perl is not officially an acronym, there are various backronyms in use, the most well-known being \"Practical Extraction and Reporting Language\". Perl was originally developed by Larry Wall in 1987 as a general-purpose Unix scripting language to make report processing easier. Since then, it has undergone many changes and revisions. Perl 6, which began as a redesign of Perl 5 in 2000, eventually evolved into a separate language. Both languages continue to be developed independently by different development teams and liberally borrow ideas from one another.\n\nThe Perl languages borrow features from other programming languages including C, shell script (sh), AWK, and sed. They provide powerful text processing facilities without the arbitrary data-length limits of many contemporary Unix commandline tools, facilitating easy manipulation of text files. Perl 5 gained widespread popularity in the late 1990s as a CGI scripting language, in part due to its unsurpassed  regular expression and string parsing abilities.\n\n In addition to CGI, Perl 5 is used for graphics programming, system administration, network programming, finance, bioinformatics, and other applications. It has been nicknamed \"the Swiss Army chainsaw of scripting languages\" because of its flexibility and power, and possibly also because of its \"ugliness\".  In 1998, it was also referred to as the \"duct tape that holds the Internet together\", in reference to both its ubiquitous use as a glue language and its perceived inelegance.\n</code></pre>\n\n<p>I want to remove:</p>\n\n<pre><code> {{Infobox programming language\n | name                   = Perl\n | logo                   = \n | paradigm               = multi-paradigm: functional, imperative, object-oriented (class-based), reflective, procedural, event-driven, generic\n | year                   = \n | designer               = Larry Wall\n | developer              = Larry Wall\n | latest_release_version = 5.22.1\n | latest_release_date    = \n | latest_preview_version = 5.23.7\n | latest_preview_date    = \n | turing-complete        = Yes\n | typing                 = Dynamic\n | influenced_by          = AWK, Smalltalk 80, Lisp, C, C++, sed, Unix shell, Pascal\n | influenced             = Chapel, Coffeescript, ECMAScript/JavaScript, Falcon, Julia, LPC, Perl 6, PHP, Python, Qore, Ruby, Windows PowerShell\n | programming_language   = C\n | operating_system       = Cross-platform\n | license                = GNU General Public License or Artistic License\n | website                = \n | file_ext               = .pl .pm .t .pod\n | wikibooks              = Perl Programming\n }}\n</code></pre>\n\n<p>I only want to display the paragraphs from each search result.</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1454484655, "last_edit_date": 1454484655, "creation_date": 1454484272, "answer_id": 35170857, "question_id": 35170756, "link": "https://stackoverflow.com/questions/35170756/how-can-i-replace-entire-column-with-the-same-word-in-a-file-in-perl/35170857#35170857", "title": "How can I replace entire column with the same word in a file in Perl", "body": "<p>Perl one liner:</p>\n\n<pre><code>perl -lane 'BEGIN{$\"=\"\\t\"}$F[2]=\"test\";print \"@F\"' input.txt\n</code></pre>\n\n<p>In script (give script name is test.pl):</p>\n\n<pre><code>use warnings;\nuse strict;\n\n$\" = \"\\t\";\n\nwhile (&lt;&gt;)\n{\n    my @F = split;\n    $F[2] = \"test\";\n    print \"@F\\n\";\n}\n</code></pre>\n\n<p>Execute as:</p>\n\n<pre><code>perl test.pl input.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1454491540, "last_edit_date": 1454491540, "creation_date": 1454488117, "answer_id": 35171935, "question_id": 35170756, "link": "https://stackoverflow.com/questions/35170756/how-can-i-replace-entire-column-with-the-same-word-in-a-file-in-perl/35171935#35171935", "title": "How can I replace entire column with the same word in a file in Perl", "body": "<p>Why dont you simply use Vim for this purpose? It takes you only few steps to do it:</p>\n\n<ol>\n<li>Open the file in Vim <code>vi &lt;file_name&gt;</code></li>\n<li>Go to the first character of the column you want to replace.</li>\n<li>Press <code>Ctrl+v</code></li>\n<li>Go to the end of the file by pressing <code>G</code> or <code>Shift+g</code></li>\n<li>Then go to the last character of the column you want to replace</li>\n<li>Press <code>c</code></li>\n<li>Type the word you want to replace the whole column with</li>\n<li>Press <code>Esc</code></li>\n<li>Save the changes by typing <code>:wq</code> then press Enter</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/smZMH.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smZMH.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I hope it helps!</p>\n"}], "owner": {"reputation": 69, "user_id": 2925298, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d5e38aa6840ac8f36c18087599858da6?s=128&d=identicon&r=PG&f=1", "display_name": "user2925298", "link": "https://stackoverflow.com/users/2925298/user2925298"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1454491540, "creation_date": 1454483923, "last_edit_date": 1454484040, "question_id": 35170756, "link": "https://stackoverflow.com/questions/35170756/how-can-i-replace-entire-column-with-the-same-word-in-a-file-in-perl", "title": "How can I replace entire column with the same word in a file in Perl", "body": "<p>I am new to Perl. I want to replace the entire column in a file with the same word. Can any one help me with the code?</p>\n\n<p>Input:</p>\n\n<pre><code>PPD5    31-Dec-15   Basel5  No  No      \nPPD5    23-Dec-15   Bas_15  No  No      \nPPD6    16-Dec-15   Bas3_15 No  No  \nNPD5    16-Dec-15   Bas16   No  No  \nNPD6    16-Dec-15   Bas18   No  No  \nPARU    9-Jan-16    hjfhg15 No  No\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code>PPD5    31-Dec-15   test  No  No    \nPPD5    23-Dec-15   test  No  No      \nPPD6    16-Dec-15   test  No  No   \nNPD5    16-Dec-15   test  No  No  \nNPD6    16-Dec-15   test  No  No  \nPARU    9-Jan-16    test  No  No\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1454481661, "post_id": 35170119, "comment_id": 58058055, "body": "Your Perl code just prints the contents of <code>file.txt</code>. How can the output possibly look like your <i>\u201cExpected Output\u201d</i>? The problem seems to be that you haven&#39;t troubled yourself to try anything, and that&#39;s not something we can help you with"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454482020, "post_id": 35170119, "comment_id": 58058222, "body": "If you had searched this site for <b>30 seconds</b> before asking this question, you would have found something close enough to what you need. I mean, you&#39;d have to insert your own data, but I would think you&#39;d be able to manage that."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454482128, "post_id": 35170119, "comment_id": 58058273, "body": "And you&#39;re not &quot;unable to read the data which is in tabular form&quot;. You can <i>read</i> it just fine! You just don&#39;t know how to <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> it out into separate fields. Oops... now I guess you do."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454519047, "post_id": 35170119, "comment_id": 58083491, "body": "So, does your file really only have 10 lines, or does the values row repeat a number of times?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454511457, "post_id": 35172093, "comment_id": 58077693, "body": "That&#39;s a horribly over-engineered piece of code"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454513661, "post_id": 35172093, "comment_id": 58079340, "body": "@Borodin Feel free to offer your &quot;simple to use&quot; alternative.  I am ready to learn."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454513842, "post_id": 35172093, "comment_id": 58079475, "body": "It depends on the consistency of the data, as yours does, but <code>my @fields = split if $. == 4</code> should do fine"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454514785, "post_id": 35172093, "comment_id": 58080218, "body": "My assumptions about &quot;text format stability&quot; were quite different than yours.  I am not inclined to assume that 1) we received FULL text file 2) there is no need to extract OTHER &quot;tabular data&quot; with different columns. <b>We</b> may only guess whose guesses are better.  Based on your assumptions my solution is worse. Based on my assumptions it is better IMHO.  Do you know the text file format in the query?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454515252, "post_id": 35172093, "comment_id": 58080570, "body": "No, I don&#39;t. But the solution is to <i>ask the OP</i> rather than write a massive amount of code that may still not do what is required. If my guess is correct then the OP has adopted a crazy, unreadable solution that no one will be able to re-use"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454521984, "post_id": 35172093, "comment_id": 58085444, "body": "I would have to agree with @Borodin here. This answer seems like overkill (and probably went way over the head of the person who asked the question)."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1454549809, "post_id": 35172093, "comment_id": 58099161, "body": "<b>So far</b> the answer stays as accepted. Anyway the &quot;over-engineered overkill&quot; may be used to merely generate initial version of the regular expression."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454599525, "post_id": 35172093, "comment_id": 58125450, "body": "@AndrzejA.Filip No offense, but accepted doesn&#39;t automatically mean good."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454607302, "post_id": 35172093, "comment_id": 58130817, "body": "@MattJacob <b>The asker</b> is the most important judge.  <b>So far</b> it makes be believe that my guesses about &quot;hidden assumptions&quot; are better.  I am ready and willing to confirm that different set of &quot;hidden assumptions&quot; can make my code look &quot;over-engineered  over-kill&quot; with ease. P.S. Anyway I needed some exercises in making scripts generate regular expressions ;-)"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": -2, "last_activity_date": 1454488811, "creation_date": 1454488811, "answer_id": 35172093, "question_id": 35170119, "link": "https://stackoverflow.com/questions/35170119/how-to-read-tabular-data-from-text-file-perl/35172093#35172093", "title": "How to read tabular data from text file - Perl", "body": "<p>You can \"slurp\" whole file into single string variable and use regular expression to parse tabular data. Below please find sample script with subroutine to simplify generating regular expression.</p>\n\n<p>Below please find sample implementation with test data bundled with code into single script/file.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $text;\n{\n  # put all lines into single string\n  local $/ = undef;\n  $text = &lt;DATA&gt;;\n}\n\nmy $regex = &amp;make_regex(qw{RT(ms)    BRT(ms)    TL(ms)    l_mig_a    l_mig_w    b_mig_a    b_mig_w    l_b_mig_a    l_b_mig_w    b_l_mig_a    b_l_mig_w});\n\nprint \"REGEX-START\\n$regex\\nREGEX-END\\n\"; # Debuging: Show generated regular expression\n\nmy ($RT,$BRT,$TL ,$l_mig_a,$l_mig_w,$b_mig_a,$b_mig_w,$l_b_mig_a,$l_b_mig_w,$b_l_mig_a,$b_l_mig_w) \n   = $text =~ /$regex/ or die;\n\nprint \"b_l_mig_w = $b_l_mig_w\\n\";\n\nsub make_regex {\n  my $n = scalar(@_);\n  my $str = '\n\\s*' . join('\\s+',map {quotemeta($_)} @_) . '\\s*\n\\s*' . join('\\s+',('-+')    x $n) . '\\s*\n\\s*' . join('\\s+',('(\\S+)') x $n) . '\\s*\n';\n  qr{$str}m;\n} # end sub make_regex\n\n__DATA__\n    225 Top Hitters\n    RT(ms)    BRT(ms)    TL(ms)    l_mig_a    l_mig_w    b_mig_a    b_mig_w    l_b_mig_a    l_b_mig_w    b_l_mig_a    b_l_mig_w\n    --------  ---------  --------  ---------  ---------  ---------  ---------  -----------  -----------  -----------  -----------\n     11078.9      141.3    3754.8        418       7325          0          0            0            4            0            4\n\n\nTotal active inter-cluster migrations: 0\nTotal wakeup inter-cluster migrations: 8\nTotal active migrations: 418\nTotal wakeup migrations: 733\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1454521710, "last_edit_date": 1454521710, "creation_date": 1454520195, "answer_id": 35183656, "question_id": 35170119, "link": "https://stackoverflow.com/questions/35170119/how-to-read-tabular-data-from-text-file-perl/35183656#35183656", "title": "How to read tabular data from text file - Perl", "body": "<p>In your expected output, you include a <code>$</code> before each header name. I <em>hope</em> your intent isn't to <code>eval</code> the results and use the values programmatically, because there are better ways to do that (e.g., a hash). If that was your plan, you're also missing semicolons at the end of the lines. </p>\n\n<p>Since I can't infer your use case from your question, I decided to simply dump the keys and values as-is; feel free to add whatever embellishments you'd like.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @keys;\nmy @values;\n\nwhile (&lt;DATA&gt;) {\n    if ($. == 2) {\n        @keys = split;\n\n        for (@keys) {\n            s/\\W.+$//;\n        }\n\n    } elsif ($. == 4) {\n        @values = split;\n        last;\n    }\n}\n\nfor my $i (0 .. $#keys) {\n    print \"$keys[$i] = $values[$i]\\n\";\n}\n\n\n__DATA__\n225 Top Hitters\nRT(ms)    BRT(ms)    TL(ms)    l_mig_a    l_mig_w    b_mig_a    b_mig_w    l_b_mig_a    l_b_mig_w    b_l_mig_a    b_l_mig_w\n--------  ---------  --------  ---------  ---------  ---------  ---------  -----------  -----------  -----------  -----------\n 11078.9      141.3    3754.8        418       7325          0          0            0            4            0            4\n\n\nTotal active inter-cluster migrations: 0\nTotal wakeup inter-cluster migrations: 8\nTotal active migrations: 418\nTotal wakeup migrations: 7333\n</code></pre>\n\n<p>If your input file is really only 10 lines long (i.e., there aren't an additional 5 million data rows you haven't told us about), you could simplify the reading and splitting to a few lines of code:</p>\n\n<pre><code>my @lines  = &lt;DATA&gt;;\nmy @keys   = map { s/\\W.+$//r } split(' ', $lines[1]);\nmy @values = split(' ', $lines[3]);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>RT = 11078.9\nBRT = 141.3\nTL = 3754.8\nl_mig_a = 418\nl_mig_w = 7325\nb_mig_a = 0\nb_mig_w = 0\nl_b_mig_a = 0\nl_b_mig_w = 4\nb_l_mig_a = 0\nb_l_mig_w = 4\n</code></pre>\n\n<p>To collect the values for later use in your program while maintaining the association between the headers and the values, create a hash:</p>\n\n<pre><code>my %hash;\n@hash{@keys} = @values;\n</code></pre>\n\n<p>The hash will have the following structure:</p>\n\n<pre><code>{\n  b_l_mig_a =&gt; 0,\n  b_l_mig_w =&gt; 4,\n  b_mig_a =&gt; 0,\n  b_mig_w =&gt; 0,\n  BRT =&gt; 141.3,\n  l_b_mig_a =&gt; 0,\n  l_b_mig_w =&gt; 4,\n  l_mig_a =&gt; 418,\n  l_mig_w =&gt; 7325,\n  RT =&gt; 11078.9,\n  TL =&gt; 3754.8,\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454542677, "post_id": 35184904, "comment_id": 58096852, "body": "Accidental double post?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454543121, "post_id": 35184904, "comment_id": 58097018, "body": "@MattJacob: Thanks. Yes, this happens from time to time and it&#39;s either a bug in Windows Firefox <i>and</i> Android Chrome or it&#39;s an issue with Stack Overflow&#39;s server. I certainly didn&#39;t click on <code>Add Another Answer</code> so there&#39;s no way this should have happened. I think the two posts are identical but I need to check before I delete one"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454543424, "post_id": 35184904, "comment_id": 58097140, "body": "@MattJacob: They were <i>both</i> old copies of the code. Thanks for alerting me"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467563571, "last_edit_date": 1467563571, "creation_date": 1454524304, "answer_id": 35184904, "question_id": 35170119, "link": "https://stackoverflow.com/questions/35170119/how-to-read-tabular-data-from-text-file-perl/35184904#35184904", "title": "How to read tabular data from text file - Perl", "body": "<p>Here's an alternative strategy to Matt's, which searches for the first line in the file that contains one or more hyphens <code>-</code>, possible whitespace, and nothing else. Then the column labels are on the previous line and the values on the following line</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'max';\n\nuse constant DATA_FILE =&gt; 'tabular_data.txt';\n\n# Read the whole file into an array\n\nmy @file = do {\n    open my $fh, '&lt;', DATA_FILE or die $!;\n    &lt;$fh&gt;;\n};\nchomp @file;\n\n# Find the first line that contains only one or more hyphens\n# and possibly some whitespace\n\nmy $i = 0;\nfor ( @file ) {\n    last if /\\-/ and not /[^-\\s]/;\n    ++$i;\n}\n\ndie \"Header line not found\" unless $i &lt; @file;\n\n# Build the key array from the preceding line, and the\n# values array from the succeeding line\n\nmy @keys = split ' ', $file[$i-1];\ns/\\(.*// for @keys;\n\nmy @values = split ' ', $file[$i+1];\n\nmy %data;\n@data{@keys} = @values;\n\n# Display what we've recovered\n\nmy $w = max map length, @keys;\n\nfor my $key ( @keys ) {\n    printf \"%-*s =&gt; %s\\n\", $w, $key, $data{$key};\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>RT        =&gt; 11078.9\nBRT       =&gt; 141.3\nTL        =&gt; 3754.8\nl_mig_a   =&gt; 418\nl_mig_w   =&gt; 7325\nb_mig_a   =&gt; 0\nb_mig_w   =&gt; 0\nl_b_mig_a =&gt; 0\nl_b_mig_w =&gt; 4\nb_l_mig_a =&gt; 0\nb_l_mig_w =&gt; 4\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 1362796, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/02bb7f5c866f43abb6e4b2fa62607521?s=128&d=identicon&r=PG", "display_name": "user1362796", "link": "https://stackoverflow.com/users/1362796/user1362796"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "closed_date": 1455700324, "accepted_answer_id": 35172093, "answer_count": 3, "score": -3, "last_activity_date": 1467563571, "creation_date": 1454481402, "question_id": 35170119, "link": "https://stackoverflow.com/questions/35170119/how-to-read-tabular-data-from-text-file-perl", "closed_reason": "Needs details or clarity", "title": "How to read tabular data from text file - Perl", "body": "<p>We have text file which is having data in normal as well as tabular form. i can read normal data but i am unable to read the data which is in tabular form.</p>\n\n<p>Can anyone please help me out to read the and extract the tabular data. </p>\n\n<p><strong>Text File Data :</strong> </p>\n\n<pre><code>    225 Top Hitters\n    RT(ms)    BRT(ms)    TL(ms)    l_mig_a    l_mig_w    b_mig_a    b_mig_w    l_b_mig_a    l_b_mig_w    b_l_mig_a    b_l_mig_w\n    --------  ---------  --------  ---------  ---------  ---------  ---------  -----------  -----------  -----------  -----------\n     11078.9      141.3    3754.8        418       7325          0          0            0            4            0            4\n\n\nTotal active inter-cluster migrations: 0\nTotal wakeup inter-cluster migrations: 8\nTotal active migrations: 418\nTotal wakeup migrations: 7333\n</code></pre>\n\n<p><strong>My Code:</strong> </p>\n\n<pre><code>    use strict;\n    use warnings;\n    my ($RT,$BRT,$TL ,$l_mig_a,$l_mig_w,$b_mig_a,$b_mig_w,$l_b_mig_a,$l_b_mig_w,$b_l_mig_a,$b_l_mig_w);\n    open (FH, \"&lt;\" ,\"file.txt\") or print \"could not open $!\";\n    my @lines = &lt;FH&gt;;\n    close FH;\n    foreach my $line (@lines) {\n        print \"$line \\n\";\n    }\n</code></pre>\n\n<p><strong>Expected Output :</strong> </p>\n\n<pre><code>$RT = 11078.9\n$BRT = 141.3\n$TL = 3754.8\n$l_mig_a = 418\n$l_mig_w = 7325\n$b_mig_a = 0\n$b_mig_w = 0\n$l_b_mig_a = 0\n$l_b_mig_w = 4\n$b_l_mig_a = 0\n$b_l_mig_w = 4\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2111, "user_id": 4090903, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/852d1cca847148adca9647aa4931c6ac?s=128&d=identicon&r=PG&f=1", "display_name": "thepace", "link": "https://stackoverflow.com/users/4090903/thepace"}, "edited": false, "score": 0, "creation_date": 1454478105, "post_id": 35169226, "comment_id": 58056519, "body": "If I understand you correctly, you wish to pass the $ var into $logs and use it. One way is to implement $logs as a function i.e setLogs($var){$logs=$var}; Let me know if this answers your query"}, {"owner": {"reputation": 137, "user_id": 4243343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-1RQhwdB4kW8/AAAAAAAAAAI/AAAAAAAAAFQ/x35pbl8QZRM/photo.jpg?sz=128", "display_name": "prateek goyal", "link": "https://stackoverflow.com/users/4243343/prateek-goyal"}, "reply_to_user": {"reputation": 2111, "user_id": 4090903, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/852d1cca847148adca9647aa4931c6ac?s=128&d=identicon&r=PG&f=1", "display_name": "thepace", "link": "https://stackoverflow.com/users/4090903/thepace"}, "edited": false, "score": 0, "creation_date": 1454478622, "post_id": 35169226, "comment_id": 58056728, "body": "Actually in my case, def is a data file, which can contain only data. So I used a hash &quot;$logs&quot;. and this hash has many such entries. The string value in this hash has to be in data file only with $var."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454478852, "post_id": 35169226, "comment_id": 58056835, "body": "It&#39;s hard to tell, but it <i>sounds</i> like what you want is <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\"><code>sprintf</code></a>."}, {"owner": {"reputation": 2111, "user_id": 4090903, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/852d1cca847148adca9647aa4931c6ac?s=128&d=identicon&r=PG&f=1", "display_name": "thepace", "link": "https://stackoverflow.com/users/4090903/thepace"}, "edited": false, "score": 1, "creation_date": 1454479220, "post_id": 35169226, "comment_id": 58057002, "body": "As Matt stated, sprintf can be used. In def file instead of $var, make it %s and when you get the hash value in abc.pl, sprintf it with $var."}], "answers": [{"tags": [], "owner": {"reputation": 715, "user_id": 4630350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Dv4_vchBTQ/AAAAAAAAAAI/AAAAAAAAAAA/JlAVdHNIOdg/photo.jpg?sz=128", "display_name": "Q the Platypus", "link": "https://stackoverflow.com/users/4630350/q-the-platypus"}, "is_accepted": true, "score": 1, "last_activity_date": 1454479252, "creation_date": 1454479252, "answer_id": 35169572, "question_id": 35169226, "link": "https://stackoverflow.com/questions/35169226/how-to-take-a-string-from-another-file-in-perl-which-contains-a-variable-defined/35169572#35169572", "title": "How to take a string from another file in perl which contains a variable defined in former file", "body": "<p>String are interoperated when they are defined.  In the case of a package being used this will happen at compile time.  What you will need to do is to ensure that the strings definition is delayed until after $var is set.</p>\n\n<p>For example this is a way.</p>\n\n<pre><code>package Def;\n\nuse strict;\n\nour $logs = {\n   'search' =&gt; sub {\n        my ($var) = @_;\n\n        return \"text to be search with $var\";\n   }\n};\n</code></pre>\n\n<p>Then you can use it like this.</p>\n\n<pre><code>use def;\nuse strict;\n\nmy $log = $def::logs;\nmy $text = \"this is the text to be searched with value123\";\n\nmy $var = \"value123\";\nmy $findstring = $log-&gt;{'search'}-&gt;($var);\n\nfind($text, $findstring);\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 4243343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-1RQhwdB4kW8/AAAAAAAAAAI/AAAAAAAAAFQ/x35pbl8QZRM/photo.jpg?sz=128", "display_name": "prateek goyal", "link": "https://stackoverflow.com/users/4243343/prateek-goyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 35169572, "answer_count": 1, "score": 0, "last_activity_date": 1454479252, "creation_date": 1454477646, "question_id": 35169226, "link": "https://stackoverflow.com/questions/35169226/how-to-take-a-string-from-another-file-in-perl-which-contains-a-variable-defined", "title": "How to take a string from another file in perl which contains a variable defined in former file", "body": "<p>I am not sure how to state the problem in sentences. Let me give a n instance:</p>\n\n<p>There is one file </p>\n\n<blockquote>\n  <p>abc.pl</p>\n</blockquote>\n\n<p>it's contents are as follows:</p>\n\n<pre><code>use def;\nmy $log = $def::logs;\nmy $text = \"this is the text to be searched with value123\";\n\nmy $var = \"value123\";\nmy $findstring = $log-&gt;{'search'};\n&amp;find(\"$text\",\"findstring \");\n</code></pre>\n\n<p>Now file def.pm, which is used in above file:</p>\n\n<pre><code>package def;\nour $logs = {\n             'search' =&gt; \"text to be searched with $var\"\n};\n</code></pre>\n\n<p>in this file how should I give $var so that it is interpolated in file abc.pl and not in the same file?</p>\n"}, {"tags": ["regex", "perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1454476754, "post_id": 35168921, "comment_id": 58056080, "body": "Is your output the expected output or the actual output?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454480908, "post_id": 35168921, "comment_id": 58057693, "body": "<code>splice @searchList, $fieldNumber,1, $valueToSet</code> is normally written <code>$searchList[$fieldNumber] = $valueToSet</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454481109, "post_id": 35168921, "comment_id": 58057792, "body": "The code you show didn&#39;t produce that output. Please post your real code"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 2925298, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d5e38aa6840ac8f36c18087599858da6?s=128&d=identicon&r=PG&f=1", "display_name": "user2925298", "link": "https://stackoverflow.com/users/2925298/user2925298"}, "edited": false, "score": 0, "creation_date": 1454479298, "post_id": 35169109, "comment_id": 58057041, "body": "$searchList=join (&quot;\\t&quot;, @searchList)   i added the above command. but forgot to mention it."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 69, "user_id": 2925298, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d5e38aa6840ac8f36c18087599858da6?s=128&d=identicon&r=PG&f=1", "display_name": "user2925298", "link": "https://stackoverflow.com/users/2925298/user2925298"}, "edited": false, "score": 1, "creation_date": 1454479739, "post_id": 35169109, "comment_id": 58057241, "body": "@user2925298 Please triple check your code is the actual code. Edit your question to include the real code."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1454477036, "last_edit_date": 1495539913, "creation_date": 1454477036, "answer_id": 35169109, "question_id": 35168921, "link": "https://stackoverflow.com/questions/35168921/how-to-replace-a-matched-line-in-a-file-in-perl/35169109#35169109", "title": "how to replace a matched line in a file in perl?", "body": "<p>The basic rules of debugging a Perl program is to <a href=\"https://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\">turn on <code>strict</code> and <code>warnings</code></a>.  <code>strict</code> forces you to declare all your variables to avoid typos, and so they're not global.  <code>warnings</code> will warn you of things which are probably mistakes.</p>\n\n<p>After turning on warnings with <code>-w</code> we see the problem immediately.</p>\n\n<pre><code>$ perl -w ~/tmp/test.plx\nPossible attempt to separate words with commas at /Users/schwern/tmp/test.plx line 3.\nName \"main::searchList\" used only once: possible typo at /Users/schwern/tmp/test.plx line 11.\nUse of uninitialized value $searchList in print at /Users/schwern/tmp/test.plx line 11, &lt;FH&gt; line 6\n</code></pre>\n\n<p>You print <code>$searchList</code> but there is no such variable.  If you had <code>strict</code> on this would have been an error you'd have seen immediately.</p>\n\n<hr>\n\n<p>I also have to mention that you're failing to check that \"testing.txt\" opened.  This isn't causing your problem, but it is one of the most common mistakes in Perl so it's worth pointing out.</p>\n\n<pre><code>open FH, \"+&lt;testing.txt\";\n</code></pre>\n\n<p>It's also unnecessary to use <code>+&lt;</code> here as you're only using it for reading.  Finally, I'd recommend using lexical filehandles instead of global globs as they will automatically close when they go out of scope.</p>\n\n<p>Later on you do check whether the other file opens, but don't include <code>$!</code> which will tell you why it failed to open.</p>\n\n<p>In general, just use <a href=\"https://metacpan.org/pod/autodie\" rel=\"nofollow noreferrer\"><code>autodie</code></a>. This will make (almost) every IO operation throw a well formatted error message if it fails.  Much better than having to remember to write \"or die ...\" everywhere.</p>\n\n<pre><code>use autodie;\n\nopen my $fh, \"&lt;\", \"testing.txt\";\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 2925298, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d5e38aa6840ac8f36c18087599858da6?s=128&d=identicon&r=PG&f=1", "display_name": "user2925298", "link": "https://stackoverflow.com/users/2925298/user2925298"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454477036, "creation_date": 1454476141, "last_edit_date": 1454476321, "question_id": 35168921, "link": "https://stackoverflow.com/questions/35168921/how-to-replace-a-matched-line-in-a-file-in-perl", "title": "how to replace a matched line in a file in perl?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>open FH, \"+&lt;testing.txt\";\r\n$keyField = \"PPD6\";\r\n@searchList = qw(PPD6\t16-Dec-15\tBase5\tno\tYes\tg_&lt;&lt;date&gt;&gt;\tNo\tNo\t\"N4,Q2\");\r\n$fieldNumber = 3; \r\n$valueToSet = \"Ravitej\";\r\nsplice @searchList, $fieldNumber,1, $valueToSet;\r\nmy @lines=&lt;FH&gt;;\r\nopen(FILE,\"&gt;foo.txt\")|| die \"can't open file for write\\n\";\r\nforeach $line (@lines) {\r\n    if($line =~ /$keyField/) {\r\n        print FILE $searchList;\r\n    } else {\r\n        print FILE $line;\r\n    }\r\n}#end foreach\r\nclose(FH);\r\nclose(FILE);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>**Inputs:\n**\nPPD5    31-Dec-15   Basel5  No  No      \nPPD5    23-Dec-15   Bas_15  No  No      \nPPD6    16-Dec-15   Bas3_15 No  No\nNPD5    16-Dec-15   Bas15   No  No\nNPD6    16-Dec-15   Bas15   No  No\nPARU    9-Jan-16    hjfhg15 No  No\n\n\n\nOUTPUT:\n\n\nPPD5    31-Dec-15   Basel5  No  No      \nPPD5    23-Dec-15   Bas_15  No  No      \nPPD6    16-Dec-15   Bas3_15 Ravitej No\nNPD6    16-Dec-15   Bas15   No  No\nPARU    9-Jan-16    hjfhg15 No  No\n</code></pre>\n\n<p>My problem is after PPD6 one row is missing. can anyone please resolve the issue.</p>\n"}, {"tags": ["arrays", "perl", "sorting"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1454467649, "post_id": 35167521, "comment_id": 58053397, "body": "Do you have <code>@users</code> or <code>%users</code>??? Also, I don&#39;t see <code>sort</code> anywhere in your code???"}], "answers": [{"tags": [], "owner": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "is_accepted": false, "score": 2, "last_activity_date": 1454470600, "last_edit_date": 1454470600, "creation_date": 1454470297, "answer_id": 35167986, "question_id": 35167521, "link": "https://stackoverflow.com/questions/35167521/sorting-key-value-pairs-in-a-perl-array-data-structure-according-to-keyid/35167986#35167986", "title": "Sorting key,value pairs in a perl array data structure according to key(id)", "body": "<p>You seem to have an incorrect understanding of Perl <a href=\"http://perlmaven.com/multi-dimensional-hashes\" rel=\"nofollow\">Hashes</a>. </p>\n\n<p>Also use <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow\">sort</a></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict; \nuse warnings;\nuse 5.010;\nmy %users = \n(\n  1 =&gt; {id =&gt; 1,  name =&gt; 'Frank'},\n  2 =&gt; {id =&gt; 10, name =&gt; 'Joe'  },\n  3 =&gt; {id =&gt; 5,  name =&gt; 'Paul' }\n);\n\nforeach my $serial (sort {$users{$a}{id} &lt;=&gt; $users{$b}{id}} keys %users) \n{\n   printf \"%-8s %s\\n\",$users{$serial}{id},$users{$serial}{name};\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1454500352, "post_id": 35168098, "comment_id": 58069599, "body": "I guess you&#39;re getting downvoted because the OP said &quot;I want the output to be sorted with respect to id&quot;."}], "tags": [], "owner": {"reputation": 3973, "user_id": 266747, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/da5e3914edcd58b1abd64a38a2cff8a5?s=128&d=identicon&r=PG", "display_name": "Barton Chittenden", "link": "https://stackoverflow.com/users/266747/barton-chittenden"}, "is_accepted": false, "score": 0, "last_activity_date": 1454551801, "last_edit_date": 1454551801, "creation_date": 1454471018, "answer_id": 35168098, "question_id": 35167521, "link": "https://stackoverflow.com/questions/35167521/sorting-key-value-pairs-in-a-perl-array-data-structure-according-to-keyid/35168098#35168098", "title": "Sorting key,value pairs in a perl array data structure according to key(id)", "body": "<p>Here's a version using sort:</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy @users =\n(\n    { id =&gt; 1 , name =&gt; \"Frank\" },\n    { id =&gt; 10, name =&gt; \"Joe\"   },\n    { id =&gt; 5 , name =&gt; \"Paul\"  }\n);\n\n@users = sort { $a-&gt;{id} &lt;=&gt; $b-&gt;{id} } @users;\n\nforeach my $user ( @users ) {\n    printf \"%-8s %s\\n\" , $user-&gt;{id}, $user-&gt;{name};\n}\n</code></pre>\n\n<p>[edit] changed to sort by ID  </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1454471670, "creation_date": 1454471670, "answer_id": 35168211, "question_id": 35167521, "link": "https://stackoverflow.com/questions/35167521/sorting-key-value-pairs-in-a-perl-array-data-structure-according-to-keyid/35168211#35168211", "title": "Sorting key,value pairs in a perl array data structure according to key(id)", "body": "<p>You have conflicting specifications of your data, but does this do what you need?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy @users = (\n    { id =&gt; 1,  name =&gt; \"Frank\" },\n    { id =&gt; 10, name =&gt; \"Joe\" },\n    { id =&gt; 5,  name =&gt; \"Paul\" },\n);\n\nfor my $item ( sort { $a-&gt;{id} &lt;=&gt; $b-&gt;{id} } @users ) {\n    printf \"%-8s %s\\n\", $item-&gt;{id}, $item-&gt;{name};\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1        Frank\n5        Paul\n10       Joe\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1454503320, "creation_date": 1454503320, "answer_id": 35177404, "question_id": 35167521, "link": "https://stackoverflow.com/questions/35167521/sorting-key-value-pairs-in-a-perl-array-data-structure-according-to-keyid/35177404#35177404", "title": "Sorting key,value pairs in a perl array data structure according to key(id)", "body": "<p>Easiest would be to use the <code>nsort_by</code> function from <a href=\"https://metacpan.org/pod/List::UtilsBy\" rel=\"nofollow\"><code>List::UtilsBy</code></a>:</p>\n\n<p>List::UtilsBy: <a href=\"https://metacpan.org/pod/List::UtilsBy\" rel=\"nofollow\">https://metacpan.org/pod/List::UtilsBy</a></p>\n\n<pre><code>use List::UtilsBy qw( nsort_by );\n\nmy @users = (\n    {id =&gt; 1,  name =&gt; \"Frank\"},\n    {id =&gt; 10, name =&gt; \"Joe\"},\n    {id =&gt; 5,  name =&gt; \"Paul\"}\n);\n\nforeach my $user ( nsort_by { $_-&gt;{id} } @users ) {\n    printf \"%-8s %s\\n\" , $user-&gt;{id}, $user-&gt;{name};\n}  \n</code></pre>\n"}], "owner": {"reputation": 1138, "user_id": 4459651, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/37b8ee753181f0da50f90e83f578aa2f?s=128&d=identicon&r=PG&f=1", "display_name": "mohan babu", "link": "https://stackoverflow.com/users/4459651/mohan-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 35168211, "answer_count": 4, "score": 2, "last_activity_date": 1454551801, "creation_date": 1454466911, "question_id": 35167521, "link": "https://stackoverflow.com/questions/35167521/sorting-key-value-pairs-in-a-perl-array-data-structure-according-to-keyid", "title": "Sorting key,value pairs in a perl array data structure according to key(id)", "body": "<p>I am trying to sort key,value pairs present in an array data structure in perl .However,I could not resolve how to sort when there are multiple entries.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>  my @users = (\n       {id =&gt; 1,  name =&gt; \"Frank\"},\n       {id =&gt; 10, name =&gt; \"Joe\"},\n       {id =&gt; 5,  name =&gt; \"Paul\"}\n      );\n</code></pre>\n\n<p>I want the output to be sorted with respect to id in ascending order:</p>\n\n<pre><code>       {id =&gt; 1,  name =&gt; \"Frank\"},\n       {id =&gt; 5,  name =&gt; \"Paul\"},\n       {id =&gt; 10, name =&gt; \"Joe\"}\n</code></pre>\n\n<p>Below is my effort:</p>\n\n<pre><code>  use strict; \n  use warnings;\n  use 5.010;\n  my @users = \n  (\n    {id =&gt; 1,  name =&gt; \"Frank\"},\n    {id =&gt; 10, name =&gt; \"Joe\"},\n   {id =&gt; 5,  name =&gt; \"Paul\"}\n  );\n\n foreach my $name (keys %users) {\n\n printf \"%-8s %s\\n\",$users{id},$users{name};\n }\n</code></pre>\n\n<p>Any suggestions would be highly helpful.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "edited": false, "score": 1, "creation_date": 1454464266, "post_id": 35167097, "comment_id": 58052471, "body": "This explanation of what you need is really confused."}, {"owner": {"reputation": 3, "user_id": 5875602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe91e63b0af1a012c4dd5516fe42a0d?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby McMillan", "link": "https://stackoverflow.com/users/5875602/bobby-mcmillan"}, "reply_to_user": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "edited": false, "score": 0, "creation_date": 1454464577, "post_id": 35167097, "comment_id": 58052553, "body": "Ok so if all values in column 1 are present in each value in column 2 then print out the output. For example if I had 3 files D, E, and G and all files had 1 in it then print those values, but how do can I check that. Does that help?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454464868, "post_id": 35167097, "comment_id": 58052637, "body": "@BobbyMcMillan: How about explaining why the lines starting with <code>2</code> and <code>3</code> <i>aren&#39;t</i> printed?"}, {"owner": {"reputation": 3, "user_id": 5875602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe91e63b0af1a012c4dd5516fe42a0d?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby McMillan", "link": "https://stackoverflow.com/users/5875602/bobby-mcmillan"}, "edited": false, "score": 0, "creation_date": 1454465025, "post_id": 35167097, "comment_id": 58052681, "body": "The lines starting with 2 and 3 are not printed because those values are not present in all files D, E, G. I only want to print if the values in the first column are present for all the values in the second column. Thus in this case 1 is present in D, E, and G so I would only print out that information."}, {"owner": {"reputation": 3, "user_id": 5875602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe91e63b0af1a012c4dd5516fe42a0d?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby McMillan", "link": "https://stackoverflow.com/users/5875602/bobby-mcmillan"}, "edited": false, "score": 0, "creation_date": 1454465176, "post_id": 35167097, "comment_id": 58052734, "body": "2 is only present in D and E but not G so I would not print that out."}, {"owner": {"reputation": 3, "user_id": 5875602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe91e63b0af1a012c4dd5516fe42a0d?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby McMillan", "link": "https://stackoverflow.com/users/5875602/bobby-mcmillan"}, "edited": false, "score": 0, "creation_date": 1454465207, "post_id": 35167097, "comment_id": 58052745, "body": "3 is present in D and G but not E so I would not print that out."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467890006, "last_edit_date": 1467890006, "creation_date": 1454465714, "answer_id": 35167367, "question_id": 35167097, "link": "https://stackoverflow.com/questions/35167097/use-perl-to-only-print-only-if-the-value-of-column-a-appears-with-every-differen/35167367#35167367", "title": "Use Perl to only print only if the value of column A appears with every different value of Column B", "body": "<p>Okay this isn't as easy as it seems. I've read the file into memory so that I can take three passes over it</p>\n\n<ul>\n<li><p>Count the number of different values in column 2</p></li>\n<li><p>Record each combination of values in column 1 and column 2</p></li>\n<li><p>Print those lines in the file whose first column has as many occurrences as there are different values of column 2</p></li>\n</ul>\n\n<p>This could be improved with more information about the input file, but it works fine as it is and I see no reason to optimise it</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse List::MoreUtils qw/ uniq /;\n\nmy @lines = &lt;&gt;;\n\nmy @col2 = uniq map { (split)[1] } @lines;\n\nmy %data;\nfor ( @lines ) {\n    my ($c1, $c2) = split;\n    $data{$c1}{$c2} = 1;\n}\n\nfor ( @lines ) {\n    my ($c1) = split;\n    print if keys %{ $data{$c1} } == @col2;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1 D Z\n1 E F\n1 G L \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 5384164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/915d1997617a7f7cac627959d6c054d1?s=128&d=identicon&r=PG&f=1", "display_name": "Yaswanth Gelli", "link": "https://stackoverflow.com/users/5384164/yaswanth-gelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1454571711, "creation_date": 1454571711, "answer_id": 35195195, "question_id": 35167097, "link": "https://stackoverflow.com/questions/35167097/use-perl-to-only-print-only-if-the-value-of-column-a-appears-with-every-differen/35195195#35195195", "title": "Use Perl to only print only if the value of column A appears with every different value of Column B", "body": "<blockquote>\n  <p>cat test</p>\n</blockquote>\n\n<p>1 D Z</p>\n\n<p>1 E F</p>\n\n<p>1 G L </p>\n\n<p>2 D I</p>\n\n<p>2 E L</p>\n\n<p>3 D P</p>\n\n<p>3 G L</p>\n\n<blockquote>\n  <p>perl -a -lne 'unless ( $h{ $F[1] } ) { print }; $h{ $F[1] } = 1; ' test</p>\n</blockquote>\n\n<p>1 D Z</p>\n\n<p>1 E F</p>\n\n<p>1 G L </p>\n"}], "owner": {"reputation": 3, "user_id": 5875602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe91e63b0af1a012c4dd5516fe42a0d?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby McMillan", "link": "https://stackoverflow.com/users/5875602/bobby-mcmillan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1467890006, "creation_date": 1454464103, "last_edit_date": 1454471753, "question_id": 35167097, "link": "https://stackoverflow.com/questions/35167097/use-perl-to-only-print-only-if-the-value-of-column-a-appears-with-every-differen", "title": "Use Perl to only print only if the value of column A appears with every different value of Column B", "body": "<p>So in Perl how can I go through a sample file like so:</p>\n\n<pre><code>1 D Z\n1 E F\n1 G L \n2 D I\n2 E L\n3 D P\n3 G L\n</code></pre>\n\n<p>So here I want to be able to print out only the values that have a value in the first column that appears with every different value of the second column. </p>\n\n<p>The output would look like this:</p>\n\n<pre><code>1 D Z\n1 E F\n1 G L \n</code></pre>\n"}, {"tags": ["bash", "perl", "shell", "if-statement", "for-loop"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454463174, "post_id": 35166855, "comment_id": 58052167, "body": "What have you tried so far, and how is it not working for you? Please learn <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> good questions, how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and take a <a href=\"https://stackoverflow.com/tour\">tour</a> of the site while you&#39;re at it to find out how <a href=\"https://stackoverflow.com\">Stack Overflow</a> works."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454463334, "post_id": 35166855, "comment_id": 58052212, "body": "<code>perl -E &quot;say for glob &#39;ABC&#47;*&#47;INC&#47;*.txt&#39;&quot;</code>"}, {"owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "edited": false, "score": 0, "creation_date": 1454463777, "post_id": 35166855, "comment_id": 58052342, "body": "I tried this logic, But it is not working properly.                                                                                                                         #!/bin/sh for FILE in ABC/* do    if [[ $file =~ /INC/i ]]    then     echo success;    else     echo fail;    fi  done"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454464682, "post_id": 35166855, "comment_id": 58052594, "body": "@Naveen.Y: Doesn&#39;t my Perl command do what you want?"}, {"owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454520566, "post_id": 35166855, "comment_id": 58084522, "body": "@Borodin - Its working perfect, Just now I&#39;ve tested. Thanks much"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "edited": false, "score": 0, "creation_date": 1454464430, "post_id": 35167003, "comment_id": 58052526, "body": "Thank you @sal                                                                                                                           But I need this to be performed on particular directory. And also require automated approach, because I have to add this step to the workflow."}, {"owner": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "reply_to_user": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "edited": false, "score": 0, "creation_date": 1454464785, "post_id": 35167003, "comment_id": 58052617, "body": "Right. That command can be used inside a bash script, like this: <code>list=(</code>find . -name &quot;<i>get</i>&quot; -print<code>)</code> and then you can access the whole list as <code>${list[@]}</code> and so on..."}, {"owner": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "reply_to_user": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "edited": false, "score": 0, "creation_date": 1454464852, "post_id": 35167003, "comment_id": 58052634, "body": "To access a particular directory, you just need to <code>cd &lt;desired directory&gt;</code> before that step, or provide the path instead of the &quot;.&quot; to <code>find</code>."}, {"owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "edited": false, "score": 0, "creation_date": 1454520655, "post_id": 35167003, "comment_id": 58084577, "body": "Yeah.. Got it.. Thanks much @sal"}], "tags": [], "owner": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "is_accepted": false, "score": 2, "last_activity_date": 1454463434, "creation_date": 1454463434, "answer_id": 35167003, "question_id": 35166855, "link": "https://stackoverflow.com/questions/35166855/how-to-collect-the-files-with-specific-keyword-in-their-file-names-within-a-dire/35167003#35167003", "title": "How to collect the files with specific keyword in their file names within a directory", "body": "<p>On linux you could use \"find\". On an Ubuntu shell, this looks like:</p>\n\n<pre><code>find . -name \"*INC*\" -print\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "edited": false, "score": 0, "creation_date": 1454520631, "post_id": 35171651, "comment_id": 58084562, "body": "Yeah.. It is working as I needed. Thanks much @user1934428"}], "tags": [], "owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "is_accepted": false, "score": 1, "last_activity_date": 1454487131, "creation_date": 1454487131, "answer_id": 35171651, "question_id": 35166855, "link": "https://stackoverflow.com/questions/35166855/how-to-collect-the-files-with-specific-keyword-in-their-file-names-within-a-dire/35171651#35171651", "title": "How to collect the files with specific keyword in their file names within a directory", "body": "<p>How about this:</p>\n\n<pre><code>cd ABC\nls -d */INC/*\n</code></pre>\n\n<p>Is it necessary that you check also for the uppercase/lowercase variants?</p>\n"}], "owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454487131, "creation_date": 1454462406, "last_edit_date": 1454464272, "question_id": 35166855, "link": "https://stackoverflow.com/questions/35166855/how-to-collect-the-files-with-specific-keyword-in-their-file-names-within-a-dire", "title": "How to collect the files with specific keyword in their file names within a directory", "body": "<p>I have a directory with number of files. My requirement is, I have to search for the file-names(not file data) based on particular keyword and print that filename. </p>\n\n<p>For example</p>\n\n<p><code>ABC</code> is the directory. Below it are files</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> AEXP/INC/ARP.txt\n AEXP/OPC/ARP.txt\n AEXP/INC/PQW.txt\n</code></pre>\n\n<p>I want the files contains with the keyword <code>INC</code>.</p>\n\n<p>Expected output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>AEXP/INC/ARP.txt\nAEXP/INC/PQW.txt\n</code></pre>\n\n<p>I tried this logic, But it is not working properly</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/sh\n\nfor FILE in ABC/* do\n    if [[ $file =~ /INC/i ]] then\n        echo success;\n    else\n        echo fail;\n    fi\ndone\n</code></pre>\n\n<p>Please help me to get the right answer. bash script, Perl, regex, anything is fine.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1454452666, "post_id": 35165106, "comment_id": 58048749, "body": "Yep, that&#39;s how you assign a string to an array element. As an aside, you said you &quot;have all most got a program written,&quot; but you should really be writing only a few lines at a time and testing as you go, not writing a full program all in one go. That makes debugging much easier."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454454598, "post_id": 35165106, "comment_id": 58049572, "body": "Did you try it? Did it work? <a href=\"http://perldoc.perl.org/perlop.html#Assignment-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Assignment-Operators</a>"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1454455152, "post_id": 35165106, "comment_id": 58049752, "body": "Thank you for the tips and help, I will give it a go tomorrow :). Not sure why the <code>-1</code> but I apologize, i&#39;m trying to learn. How could I have asked a better question?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454457368, "post_id": 35165106, "comment_id": 58050528, "body": "I downvoted this question, and the reason is because, as the title text for the downvote button says, &quot;this question does not show any research effort&quot;. If you had spent 30 seconds researching it, you would have found your answer. See: <a href=\"http://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">How much research effort is expected of Stack Overflow users?</a>"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 1, "creation_date": 1454459508, "post_id": 35165106, "comment_id": 58051216, "body": "Thank you very much for your response, I admit I did not put enough effort in and I apologize for that."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1454458663, "post_id": 35166240, "comment_id": 58050934, "body": "You mean the 46th element?"}, {"owner": {"reputation": 1109, "user_id": 4585960, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097867072505/picture?type=large", "display_name": "Kenny Grage", "link": "https://stackoverflow.com/users/4585960/kenny-grage"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454459686, "post_id": 35166240, "comment_id": 58051265, "body": "Yeah, I notice that people call them differently. Some people say the 0th element and 45th element, while others would say $out[0] is the first element."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454461536, "post_id": 35166240, "comment_id": 58051732, "body": "People that use <i>0th element</i> are wrong. Zero isn&#39;t an ordinal number. You can say <i>element 0</i> and <i>element 45</i>"}, {"owner": {"reputation": 1109, "user_id": 4585960, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097867072505/picture?type=large", "display_name": "Kenny Grage", "link": "https://stackoverflow.com/users/4585960/kenny-grage"}, "edited": false, "score": 0, "creation_date": 1454518976, "post_id": 35166240, "comment_id": 58083440, "body": "Okay. I edited the comment to say 46th element. Thank you."}], "tags": [], "owner": {"reputation": 1109, "user_id": 4585960, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097867072505/picture?type=large", "display_name": "Kenny Grage", "link": "https://stackoverflow.com/users/4585960/kenny-grage"}, "is_accepted": true, "score": 2, "last_activity_date": 1454518934, "last_edit_date": 1454518934, "creation_date": 1454458323, "answer_id": 35166240, "question_id": 35165106, "link": "https://stackoverflow.com/questions/35165106/perl-to-hardcode-a-static-value-in-a-field/35166240#35166240", "title": "perl to hardcode a static value in a field", "body": "<p>Your line of code: <code>$out[45]=\"VUS\";</code> is correct in that it is defining that 46th element of the array @out to the string, \"VUS\". I am trying to understand from your code, however why you would want to do that? Usually, it is better practice to not hardcode if at all possible. You want to make it your goal to make your program as dynamic as possible.</p>\n"}], "owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 35166240, "answer_count": 1, "score": 0, "last_activity_date": 1454518934, "creation_date": 1454452478, "question_id": 35165106, "link": "https://stackoverflow.com/questions/35165106/perl-to-hardcode-a-static-value-in-a-field", "title": "perl to hardcode a static value in a field", "body": "<p>I am still learning <code>perl</code> and have all most got a program written.  My question, as simple as it may be, is if I want to hardcode a string to a field would the below do that?  Thank you :).</p>\n\n<pre><code>$out[45]=\"VUS\";\n</code></pre>\n\n<p>In the other lines I use the below to define the values that are passed into the `$[out], but the one in question is hardcoded and the others come from a split. </p>\n\n<pre><code>  my @vals = split/\\t/; # this splits the line at tabs\n  my @mutations=split/,/,$vals[9]; # splits on comma to create an array of mutations\n  my ($gene,$transcript,$exon,$coding,$aa);\n  for (@mutations)\n  { \n        ($gene,$transcript,$exon,$coding,$aa) = split/\\:/; # this takes col AB and splits it at colons\n        grep {$transcript eq $_} keys %nms or next;\n    }\n    my @out=($.,@colsleft,$_,@colsright);\n    $out[2]=$gene;\n    $out[3]=$nms{$transcript};\n    $out[4]=$transcript;\n    $out[15]=$coding;\n    $out[17]=$aa;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1454451998, "post_id": 35164696, "comment_id": 58048449, "body": "<code>close ARGV</code> has a side effect of resetting <code>$.</code>, as documented in <a href=\"http://perldoc.perl.org/functions/eof.html\" rel=\"nofollow noreferrer\"><code>perldoc -f eof</code></a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454452165, "post_id": 35164696, "comment_id": 58048547, "body": "So are you asking how to skip to the next file without resetting <code>$.</code>?"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454452221, "post_id": 35164696, "comment_id": 58048574, "body": "No, I was just commenting."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1454452710, "post_id": 35164696, "comment_id": 58048774, "body": "It&#39;s hard to imagine a scenario where you wouldn&#39;t want <code>$.</code> reset when opening a new file. The default behavior is sane. If you don&#39;t want it reset, it should require a workaround (which would be trivial)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1454452930, "post_id": 35164696, "comment_id": 58048860, "body": "@stevieb The default behavior with <code>-n</code>/<code>-p</code> (i.e. if you don&#39;t explicitly close <code>ARGV</code>) is to not reset <code>$.</code>: <code>echo foo &gt; foo; echo bar &gt; bar; perl -nE&#39;say $.&#39; foo bar</code>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1454453280, "post_id": 35164696, "comment_id": 58049035, "body": "I learn something new every day :) &quot;that was easy!&quot;"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1454454561, "post_id": 35164696, "comment_id": 58049557, "body": "you can&#39;t even localize $. to protect it, since local $. does something special"}], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1454466323, "post_id": 35164798, "comment_id": 58053074, "body": "Personally, I would leave <code>$.</code> alone, but keep a separate variable to count the cumulative number of records seen. <code>perl -ne &#39;$all_nr++; do_stuff; close ARV if something&#39;</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 7, "last_activity_date": 1454454666, "last_edit_date": 1454454666, "creation_date": 1454451228, "answer_id": 35164798, "question_id": 35164696, "link": "https://stackoverflow.com/questions/35164696/perl-one-liner-how-to-skip-to-the-next-file-in-argv/35164798#35164798", "title": "Perl one-liner: how to skip to the next file in @ARGV", "body": "<p>Nope, close ARGV is the right way to do this.</p>\n\n<p>As noted by glenn jackman, this has the side effect of resetting your <code>$.</code> line counter (which normally continues incrementing across several files when using ARGV), so you may want to save and restore it:</p>\n\n<pre><code>my $line = $.;\nclose ARGV;\n$. = $line;\n</code></pre>\n"}], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 1, "accepted_answer_id": 35164798, "answer_count": 1, "score": 3, "last_activity_date": 1454454666, "creation_date": 1454450809, "question_id": 35164696, "link": "https://stackoverflow.com/questions/35164696/perl-one-liner-how-to-skip-to-the-next-file-in-argv", "title": "Perl one-liner: how to skip to the next file in @ARGV", "body": "<p>I was thinking about how to \"short circuit\" reading a file within a <code>perl -ne</code> loop. If I hit some condition, I want to abandon the current file and proceed to the next one in @ARGV. This would be similar to GNU awk's  handy <a href=\"https://www.gnu.org/software/gawk/manual/html_node/Nextfile-Statement.html\" rel=\"nofollow\"><code>nextfile</code></a> command.</p>\n\n<p>Something like this:</p>\n\n<pre><code>perl -ne 'do_something(); next_file if some_condition()' files ...\n</code></pre>\n\n<p>Playing around, I found that <code>close ARGV</code> achieves the \"go to next file\" goal.</p>\n\n<p>Are there other, less magical, ways to accomplish this?</p>\n"}, {"tags": ["macos", "perl", "nginx", "compiler-errors"], "answers": [{"comments": [{"owner": {"reputation": 1074, "user_id": 5874723, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd5415f97afbe0177ba35ae31fbfd0db?s=128&d=identicon&r=PG", "display_name": "Philipp", "link": "https://stackoverflow.com/users/5874723/philipp"}, "edited": false, "score": 0, "creation_date": 1454538741, "post_id": 35164242, "comment_id": 58095298, "body": "Thank you a lot for the information. I installed a new perl version using homebrew, but it only installs it for my current user, i.e., keg-only (see, e.g., <a href=\"http://stackoverflow.com/questions/17015285/understand-homebrew-and-keg-only-dependencies\">link</a>). Even if I try to link it, it still seems to use another perl version. So I&#39;m still having the same problems :("}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1454449032, "creation_date": 1454449032, "answer_id": 35164242, "question_id": 35163178, "link": "https://stackoverflow.com/questions/35163178/compile-nginx-1-8-1-with-http-perl-module/35164242#35164242", "title": "Compile nginx 1.8.1 with http_perl_module", "body": "<p>I'm not sure if this is offtopic or not, but as it's about using <code>perl</code> within <code>nginx</code> (which I do, and is awesome). </p>\n\n<p>I had a similar problem when trying to build this module. The root of it was that I hadn't got the right LD flags. </p>\n\n<p>The easiest way of doing this - IMO - is install <code>nginx</code> from a package, run <code>nginx -V</code> and see what flags were used - copy them all, and include the extras. (And check it wasn't already build in your distribution - it was in mine, which I think was a Centos 7.2 package - I don't have it to hand, but I'm not sure it would necessarily help) </p>\n\n<p>You may also need to install a new <code>perl</code> version, to go with it though.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6027217, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RzzLoT6NRbw/AAAAAAAAAAI/AAAAAAAAADc/Qm0Q69OhhNQ/photo.jpg?sz=128", "display_name": "xxmyjk", "link": "https://stackoverflow.com/users/6027217/xxmyjk"}, "is_accepted": false, "score": 0, "last_activity_date": 1461901571, "last_edit_date": 1461901571, "creation_date": 1461862109, "answer_id": 36920815, "question_id": 35163178, "link": "https://stackoverflow.com/questions/35163178/compile-nginx-1-8-1-with-http-perl-module/36920815#36920815", "title": "Compile nginx 1.8.1 with http_perl_module", "body": "<pre><code> --with-pcre=../modules/pcre-8.38\n --with-openssl=../modules/openssl-1.0.2g\n --prefix=/usr/local/nginx\n --with-http_perl_module\n --with-http_ssl_module\n --with-http_addition_module\n --with-http_sub_module\n --with-http_realip_module\n --with-http_stub_status_module\n --with-cc-opt='-I /usr/local/include'\n --with-ld-opt='-L /usr/local/lib -L/usr/local/opt/perl518/lib'\n</code></pre>\n\n<p>I got the same problem. after about 3 hours digging with this, finally solved. This is my configure file, i installed <code>perl518</code> with <code>brew</code> located in <code>/usr/local/opt/perl518/lib</code>, and use the newest nginx source code of version <code>nginx version: nginx/1.10.0</code>.</p>\n\n<p>Things seems happend as @Sobrique said, you need to give the right <code>--with-ld-opt</code> &amp; <code>--with-cc-opt</code>.</p>\n\n<p><code>important</code>, after <code>./configure</code>, <code>DO NOT</code> doing <code>make</code> immediately, <code>vi ./objs/Makefile</code> and modify <code>openssl</code> config from <code>'./config'</code> to <code>'./Configure darwin-x86_64-cc'</code> so that it can build openssl in x86_64 mod.</p>\n\n<p>Hope it can help you!</p>\n"}], "owner": {"reputation": 1074, "user_id": 5874723, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd5415f97afbe0177ba35ae31fbfd0db?s=128&d=identicon&r=PG", "display_name": "Philipp", "link": "https://stackoverflow.com/users/5874723/philipp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1037, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1461901571, "creation_date": 1454444852, "last_edit_date": 1458531024, "question_id": 35163178, "link": "https://stackoverflow.com/questions/35163178/compile-nginx-1-8-1-with-http-perl-module", "title": "Compile nginx 1.8.1 with http_perl_module", "body": "<p>I need help compiling nginx with the perl_module on my Mac:</p>\n\n<pre><code>System Software Overview:\n\n  System Version: OS X 10.11.1 (15B42)\n  Kernel Version: Darwin 15.0.0\n  Boot Volume: Macintosh HD\n  Boot Mode: Normal\n  Computer Name: Philipp\n  User Name: XXXXXXX XXXXXXXX (philipp)\n  Secure Virtual Memory: Enabled\n  Time since boot: 4 days 22:46\n</code></pre>\n\n<p>I configure nginx to be compiled with PCRE and PERL, i.e.,:</p>\n\n<pre><code>./configure --with-pcre=/Users/philipp/downloads/pcre-8.38 --with-http_perl_module --prefix=/servers/nginx \n</code></pre>\n\n<p>The output of the configure states:</p>\n\n<pre><code>checking for perl\n + perl version: This is perl 5, version 18, subversion 2 (v5.18.2)\n   built for darwin-thread-multi-2level\n + perl interpreter multiplicity found\n</code></pre>\n\n<p>If I execute make I run into the following error:</p>\n\n<pre><code>ld: symbol(s) not found for architecture i386\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n\n<p>I googled and found a hint to export KERNEL_BITS=64, which did not solve the problem. Any suggestions on how to compile nginx with perl. The compilation succeeds without the --with-http_perl_module option, but in that case I cannot use perl in the nginx.conf (of course :)).</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I was not able to compile nginx with perl. I ended up using a pre-compiled package, which is kind of unsatisfying, because now I have to deal with a lot of packages I don't like. Anyways, if someone has a solution I'd be more than happy to know.</p>\n"}, {"tags": ["arrays", "regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454434324, "post_id": 35159941, "comment_id": 58038373, "body": "Does it have to be <code>regex</code>? Because <code>split</code> would work quite nicely."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1454435360, "post_id": 35159941, "comment_id": 58039057, "body": "&quot;So im trying to learn how to use regular expressions in Perl.&quot; One of the most important things to learn about regex is when to use it and when another tool would be more suitable. In this case, I agree with Sobrique that <code>split</code> would be better."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1454435444, "post_id": 35159941, "comment_id": 58039110, "body": "Regular expressions are <i>not</i> the solution to every problem. In fact, you might find you have <a href=\"https://xkcd.com/1171/\" rel=\"nofollow noreferrer\">n + 1 problems</a> after using regular expressions. ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1454434390, "post_id": 35160063, "comment_id": 58038421, "body": "Wouldn&#39;t it be cleaner to simply split on whitespace?  <code>my ($month, $date, $weekday, $time) = split(&#47;\\s+&#47;, $_);</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454434525, "post_id": 35160063, "comment_id": 58038515, "body": "OP requested a regex solution."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1454434630, "last_edit_date": 1454434630, "creation_date": 1454434282, "answer_id": 35160063, "question_id": 35159941, "link": "https://stackoverflow.com/questions/35159941/perl-using-regex-on-a-text-file-to-get-specific-string-input-in-an-array/35160063#35160063", "title": "Perl - Using regex on a text file to get specific string input in an array", "body": "<p>Create capture groups <code>()</code> to extract information from a matching regular expression:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy (@months, @dates);\nwhile (&lt;DATA&gt;) {\n    if (my ($month, $date) = /^(...) \\s+ ([0-9-]+)/x) {\n        push @months, $month;\n        push @dates, $date;\n    }\n}\nprint \"@months\\n@dates\\n\";\n\n__DATA__\nJan    2016-01-01 Friday   12:00\nFeb    2016-02-01 Monday   23:45\nMar    2016-03-01 Tuesday  15:30\n</code></pre>\n\n<p>If you want to only accept month names, you can change the first group from <code>(...)</code> to <code>(A(?:pr|ug)|Dec|Feb|J(?:an|u[ln])|Ma[ry]|Nov|Oct|Sep)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "edited": false, "score": 0, "creation_date": 1454436177, "post_id": 35160146, "comment_id": 58039544, "body": "So split in this case just &quot;splits&quot; the entire line into individual pieces/words? I assume that this approach would be the way to go when every line has the same format? and that I should instead use regular expressions when every line in the textfile is not of the same format?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "edited": false, "score": 0, "creation_date": 1454437171, "post_id": 35160146, "comment_id": 58040156, "body": "@NinjaAnte <code>split</code> is good when you have regular delimited data (comma, tab, semicolon, etc.), which is what you appear to have here. It doesn&#39;t work when fields can contain the delimiter (e.g. a CSV where fields can contain commas or a fixed-width format where fields are separated by spaces but can also contain spaces), or when the data isn&#39;t delimited, etc."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454442015, "post_id": 35160146, "comment_id": 58043030, "body": "<code>split</code> takes a delimiter and turns the string into an array based on that. The delimiter can be a regular expression (the &#39;default&#39; is any whitespace, which is often useful). Regular expressions are good if you need to validate (or discard) the line, or have variable field separators. (E.g. a date that is &quot;Monday  4 00:23:22&quot; )."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1454434509, "creation_date": 1454434509, "answer_id": 35160146, "question_id": 35159941, "link": "https://stackoverflow.com/questions/35159941/perl-using-regex-on-a-text-file-to-get-specific-string-input-in-an-array/35160146#35160146", "title": "Perl - Using regex on a text file to get specific string input in an array", "body": "<p>I wouldn't use a <code>regex</code> but instead split:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Data::Dumper; \n\nmy @month_words;\nmy @month_dates;\nmy %month_lookup;\n\nwhile ( &lt;DATA&gt; ) {\n   my ( $mon, $date, $day, $time ) = split; \n   push ( @month_words, $mon );\n   push ( @month_dates, $date ); \n   $month_lookup{$mon} = $date; \n}\n\nprint Dumper \\@month_words, \\@month_dates, \\%month_lookup;\n\n__DATA__\nJan    2016-01-01 Friday   12:00\nFeb    2016-02-01 Monday   23:45\nMar    2016-03-01 Tuesday  15:30\n</code></pre>\n\n<p>This prints the two arrays, and the hash:</p>\n\n<pre><code>$VAR1 = [\n          'Jan',\n          'Feb',\n          'Mar'\n        ];\n$VAR2 = [\n          '2016-01-01',\n          '2016-02-01',\n          '2016-03-01'\n        ];\n$VAR3 = {\n          'Mar' =&gt; '2016-03-01',\n          'Feb' =&gt; '2016-02-01',\n          'Jan' =&gt; '2016-01-01'\n        };\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 35160146, "answer_count": 2, "score": 0, "last_activity_date": 1454434630, "creation_date": 1454433963, "question_id": 35159941, "link": "https://stackoverflow.com/questions/35159941/perl-using-regex-on-a-text-file-to-get-specific-string-input-in-an-array", "title": "Perl - Using regex on a text file to get specific string input in an array", "body": "<p>So im trying to learn how to use regular expressions in Perl. I have a textfile.txt that contains information and i want to access specific portions of that textfile. The textfile.txt contains the following entry (first 3 lines):</p>\n\n<pre><code>Jan    2016-01-01 Friday   12:00\nFeb    2016-02-01 Monday   23:45\nMar    2016-03-01 Tuesday  15:30\n</code></pre>\n\n<p>What I want to do is to put the names of the month \"Jan/feb/mar\" in one array, their numerical value \"2016-01-01\" in a second array. My current script takes the entire first line and puts it in the same element. This is my code for writing to the array so far:</p>\n\n<pre><code>while (&lt;FILE&gt;) {\npush (@newArray, $_);\n}\nclose FILE\n</code></pre>\n\n<p>How would I go about only putting the entries of the date (2016-01-01) or the name of the month (Jan/feb/mar) into the array from the file, instead of putting the entire line into the array element?</p>\n"}, {"tags": ["perl", "postgresql", "dbi", "dbd-pg"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454430493, "post_id": 35158587, "comment_id": 58035704, "body": "Your error handling is a little wonky. You&#39;re already enabling <code>RaiseError</code>, so you shouldn&#39;t be checking the success of every method by hand. <code>RaiseError</code> will throw an exception if there&#39;s an error. If you want to use a custom error handler (for example, to log errors), use <a href=\"https://metacpan.org/pod/DBI#HandleError\" rel=\"nofollow noreferrer\"><code>HandleError</code></a>."}, {"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454430664, "post_id": 35158587, "comment_id": 58035833, "body": "@ikegami but disconnect() will do rollback on uncommitted transactions? AM I right? If I did not call load_data() function, the warning will disappear even if I did not disconnect."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454431057, "post_id": 35158587, "comment_id": 58036148, "body": "Also, you shouldn&#39;t call <code>finish</code>, and you should make sure <code>disconnect</code> is called even when there&#39;s an exception or signal (e.g. with an <code>END</code> block and a signal handler)."}], "answers": [{"comments": [{"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1454430837, "post_id": 35158810, "comment_id": 58035961, "body": "If I did not call load_data() function, the warning will disappear even if I did not disconnect. So I guess there may be uncommitted transactions or something else, for which I need to call commit or disconnect explicitly... But I am confused."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1454430881, "post_id": 35158810, "comment_id": 58036002, "body": "It must realize there&#39;s no need to call <code>rollback</code> in that situation, so it doesn&#39;t."}, {"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1454430912, "post_id": 35158810, "comment_id": 58036029, "body": "I remember that in python psql client, commit() should be called even if only select is done."}, {"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1454431905, "post_id": 35158810, "comment_id": 58036772, "body": "@ikegami If there are no uncommitted transactions, why rollback was performed implicitly?"}, {"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1454432294, "post_id": 35158810, "comment_id": 58037042, "body": "@ikegami Thanks. the select query? how can I know which transaction is it?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1454710193, "last_edit_date": 1454710193, "creation_date": 1454430683, "answer_id": 35158810, "question_id": 35158587, "link": "https://stackoverflow.com/questions/35158587/should-i-commit-in-the-following-code/35158810#35158810", "title": "should I commit in the following code?", "body": "<blockquote>\n  <p><em>The warning means that there are uncommitted transactions?</em></p>\n</blockquote>\n\n<p>There is an uncommitted transaction since you requested for transactions to be used, but the warning actually notifies you that a rollback was performed implicitly. It tells you this because this may result in a loss of information. Obviously, it won't result in a loss of information in this case, but the check isn't smart enough of realize this.</p>\n\n<blockquote>\n  <p><em>What I am missing?</em></p>\n</blockquote>\n\n<p><code>$hfpDbh-&gt;disconnect();</code> or <code>$hfpDbh-&gt;rollback();</code></p>\n"}, {"comments": [{"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1454431775, "post_id": 35158907, "comment_id": 58036682, "body": "If AutoCommit set to zero, transactions will be enabled? and I need to call commit or rollback after SELECT?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1454452175, "post_id": 35158907, "comment_id": 58048554, "body": "@BAE: Yes, setting <code>AutoCommit</code> to zero enables transactions. But you aren&#39;t modifying the database so you don&#39;t need them. With transactions disabled you need neither <code>commit</code> nor <code>rollback</code> anywhere"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1454472731, "last_edit_date": 1454472731, "creation_date": 1454430952, "answer_id": 35158907, "question_id": 35158587, "link": "https://stackoverflow.com/questions/35158587/should-i-commit-in-the-following-code/35158907#35158907", "title": "should I commit in the following code?", "body": "<ul>\n<li><p>Since you aren't modifying the database at all, you don't need to enable transactions, so don't set <code>AutoCommit</code> to zero. That way there's no need to call <code>commit</code> anywhere either, and the database will be disconnected automatically when the handle goes out of dcope</p></li>\n<li><p>Since you're handling errors yourself you shouldn't set <code>RaiseError</code> to 1. That will cause your program to die immediately if any error occurs and your own handling code won't get executed</p></li>\n<li><p>There's no need to call <code>finish</code>. It won't do any harm here, but it's also pointless and should almost never be necessary</p></li>\n</ul>\n"}], "owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 2, "accepted_answer_id": 35158907, "answer_count": 2, "score": 0, "last_activity_date": 1454710193, "creation_date": 1454430173, "last_edit_date": 1454430501, "question_id": 35158587, "link": "https://stackoverflow.com/questions/35158587/should-i-commit-in-the-following-code", "title": "should I commit in the following code?", "body": "<p>My code:</p>\n\n<pre><code>122 #\n123 my $hfpDbh = undef;\n124 unless (\n125         $hfpDbh = DBI-&gt;connect(\"dbi:Pg:host=....\")#removed something\n128 ) {\n129         Log( ERROR, \"\" );\n130         Exit( 1 )\n131 }\n132 $hfpDbh-&gt;{RaiseError} = 1;\n133 $hfpDbh-&gt;{AutoCommit} = 0;\n134 \n135 ( my $mydata, $msg ) = load_data( $hfpDbh, $DatFile );\n136 unless ( defined($mydata) )\n137 {\n138         Log(INFO, \"Calling exit...2\");\n139 }\n140 #$hfpDbh-&gt;disconnect();\n141 Exit( 0 );\n142 Log(INFO, \"Calling exit...4\");\n143 \n144 \n145 sub load_data\n146 {\n147         my ( $dbh, $DatFile ) = @_;\n148         my $msg = '';\n149         unless ( $dbh ) {\n150                 $msg = 'cannot load data, no DB handle';\n151                 Log( ERROR, $msg );\n152         }\n153         Log(INFO, \"Call load_data...\");\n154         my $q = \"SELECT ip as ip FROM rules WHERE active = 'true' AND isGood = 'true';\";\n155         my $stmt = undef;\n156         unless ( $stmt = $dbh-&gt;prepare( $q ) ) {\n157                 $msg = \"unable to prepare SQL query: $q\";\n158                 Log( ERROR, $msg );\n159         }\n160 \n161         eval { $stmt-&gt;execute() };\n162         if ( $@ ) {\n163                 $msg = \"failed to execute SQL query: $@\";\n164                 Log( ERROR, $msg );\n165         }\n166 \n167         my $data = {};\n168         while ( my $row = $stmt-&gt;fetchrow_hashref() ) {\n169                 #Log(INFO, \"testing row\");\n170         }\n171         $stmt-&gt;finish();\n172         return $data, $msg;\n173 }\n</code></pre>\n\n<p>The warning is:</p>\n\n<pre><code>Issuing rollback() due to DESTROY without explicit disconnect() of DBD::Pg::db handle\n</code></pre>\n\n<p>If I add \"$dbh->commit()\" after Line 171, the above warn disappeared.</p>\n\n<p>If I did not add \"$dbh->commit()\" after Line 171 but called \"$hfpDbh->disconnect();\" in Line 140, the above warn disappeared too.</p>\n\n<p>My question is:\n<strong>The warning means that there are uncommitted transactions? That is why I need to commit or disconnect explicitly to fix the warning. But there is only SELECT operation in the code. What I am missing?</strong></p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "glob"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1454428799, "post_id": 35157969, "comment_id": 58034610, "body": "See <a href=\"http://stackoverflow.com/q/1475357/176646\">How do I find a user&#39;s home directory in Perl?</a> for a more portable approach."}, {"owner": {"reputation": 73, "user_id": 5811161, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec9964750a8f44cda104e33f7039d3a8?s=128&d=identicon&r=PG&f=1", "display_name": "Caitlin", "link": "https://stackoverflow.com/users/5811161/caitlin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454428924, "post_id": 35157969, "comment_id": 58034700, "body": "That&#39;s actually where I found the solution in the first place, it&#39;s still left me a bit confused... Thank you though @ThisSuitIsBlackNot"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454429111, "post_id": 35157969, "comment_id": 58034826, "body": "<a href=\"https://metacpan.org/pod/File::HomeDir\" rel=\"nofollow noreferrer\">File::HomeDir</a> is the portable solution I was referring to. I don&#39;t think <code>glob(&#39;~&#39;)</code> works on all platforms."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1454429339, "post_id": 35157969, "comment_id": 58034972, "body": "Do <code>($path)=</code> or you will be using glob as an iterator and it will return undef the second time that line runs"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454429363, "post_id": 35157969, "comment_id": 58034992, "body": "Note that <code>my $path = glob(&quot;...&quot;);</code> is buggy. Put the code in a loop to see the bug. If you just want the first result, use <code>my ($path) = glob(&quot;...&quot;);</code> instead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454430306, "post_id": 35157969, "comment_id": 58035582, "body": "It&#39;s the same in the shell. If you escape the <code>~</code> to avoid having it treated specially (e.g. <code>ls -d \\~</code>), the shell will look for a file named <code>~</code> (<code>ls: cannot access ~: No such file or directory</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1454428935, "post_id": 35158028, "comment_id": 58034709, "body": "But it&#39;s not list context in the question."}, {"owner": {"reputation": 73, "user_id": 5811161, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec9964750a8f44cda104e33f7039d3a8?s=128&d=identicon&r=PG&f=1", "display_name": "Caitlin", "link": "https://stackoverflow.com/users/5811161/caitlin"}, "edited": false, "score": 0, "creation_date": 1454428994, "post_id": 35158028, "comment_id": 58034749, "body": "Ah okay, that makes sense! I&#39;m only just getting started in Bash too so I didn&#39;t make the connection."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 3, "last_activity_date": 1454429380, "last_edit_date": 1454429380, "creation_date": 1454428642, "answer_id": 35158028, "question_id": 35157969, "link": "https://stackoverflow.com/questions/35157969/perl-path-is-not-found-unless-i-use-glob-path-why/35158028#35158028", "title": "Perl: Path is &quot;not found&quot; unless I use glob (path), why?", "body": "<p>From <code>perldoc -f glob</code>:</p>\n\n<blockquote>\n  <p>In list context, returns a (possibly empty) list of filename expansions on the value of EXPR such as the standard Unix shell /bin/csh would do. In scalar context, glob iterates through such filename expansions, returning undef when the list is exhausted.</p>\n</blockquote>\n\n<p>The <code>~/</code> is a shell shorthand that indicates the current user's home directory. </p>\n\n<p>Running it through <code>glob</code> expands <code>~/</code> into <code>/home/someuser/</code> (or wherever the home directory is).</p>\n\n<p>If you don't expand it, then Perl looks for a directory that is actually called <code>~</code>.</p>\n\n<p>(You only iterate across the list (which is one item long) once).</p>\n"}], "owner": {"reputation": 73, "user_id": 5811161, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec9964750a8f44cda104e33f7039d3a8?s=128&d=identicon&r=PG&f=1", "display_name": "Caitlin", "link": "https://stackoverflow.com/users/5811161/caitlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454429380, "creation_date": 1454428406, "question_id": 35157969, "link": "https://stackoverflow.com/questions/35157969/perl-path-is-not-found-unless-i-use-glob-path-why", "title": "Perl: Path is &quot;not found&quot; unless I use glob (path), why?", "body": "<p>I'm still new to perl, so apologies for the rookie question! </p>\n\n<p>I'm using <strong>glob</strong> to reference the home directory.</p>\n\n<p>The first part of the script names a path to a folder and confirms that it exists:</p>\n\n<pre><code>$path = glob(\"~/Desktop/Folder/nextFolder/file.txt\");\nif( !(-e \"$path\") ) {\n    print \"Error: invalid path &lt;$path&gt;\\n\";\n    exit 1;\n}\n</code></pre>\n\n<p>Initially I was just using the following script:</p>\n\n<pre><code>$path = \"~/Desktop/Folder/nextFolder/file.txt\";\nif( !(-e \"$path\") ) {\n    print \"Error: invalid path &lt;$path&gt;\\n\";\n    exit 1;\n}\n</code></pre>\n\n<p>but it was throwing up the \"Error: invalid path\" error when executed.</p>\n\n<p>I've read up on <strong>glob</strong> but I don't really understand it - I found this solution online and tried it, and it worked!</p>\n\n<p>Can someone please explain what it's doing to allow the reference to the home directory? Why doesn't this work without it?</p>\n\n<p>Let me know if this needs more information! Thank you!</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1454425435, "post_id": 35156899, "comment_id": 58032087, "body": "In older Perls, you need to use <code>(my $s = $sentence) =~ s&#47;animals&#47;$animal&#47;g; print $s;</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1454425716, "post_id": 35156899, "comment_id": 58032300, "body": "Perl 5.10 is 6 years old now. That&#39;s ancient in software terms. Updating it might help, but failing that - see @choroba&#39;s comment (and my edit to the question)"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454425956, "post_id": 35156899, "comment_id": 58032483, "body": "@Sobrique Can&#39;t upgrade as it is a supported system, so I&#39;m learning the version that is supported. Also can you explain the <code>if you do a &quot;sed style&quot; pattern replace on $sentence it&#39;s an alias to the array element, not a &#39;thing&#39; in it&#39;s own right.</code> a bit more please or provide a link if possible."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1454426503, "post_id": 35156899, "comment_id": 58032876, "body": "There&#39;s some about it in <a href=\"http://perldoc.perl.org/perlsyn.html#Compound-Statements\" rel=\"nofollow noreferrer\"><code>perlsyn</code></a> but it&#39;s a bit dry"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1454426116, "last_edit_date": 1495541738, "creation_date": 1454425353, "answer_id": 35156899, "question_id": 35156823, "link": "https://stackoverflow.com/questions/35156823/perl-for-loop-assignment-by-reference/35156899#35156899", "title": "Perl for loop assignment by reference", "body": "<p>The <code>r</code> flag in newer perls can help (5.14 onwards)</p>\n\n<p>The problem is - if you do a \"sed style\" pattern replace on <code>$sentence</code> it's an alias to the array element, not a variable in it's own right.</p>\n\n<p>That's because of how array iterators work - it allows you to modify an element in a loop, and have it update the original:</p>\n\n<pre><code>foreach my $value ( @list_of_things ) { \n    $value++;\n}\n</code></pre>\n\n<p>Will alter <code>@list_of_things</code>. And this is effectively what your pattern replacement is doing. We need to copy it before we do that, so we can preserve the original - or use the <code>r</code> flag - to avoid that happening. </p>\n\n<p>So the easiest way is:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy @array = (\"I like most animals.\\n\", \"Most animals like me.\\n\");\nmy @animals = (\"dogs\", \"cats\");\nforeach my $animal (@animals) {\n    foreach my $sentence (@array) {\n        print $sentence=~ s/animals/$animal/r;\n    }\n}\n</code></pre>\n\n<p>You can probably lose the <code>g</code> as well, as it appears to be redundant. </p>\n\n<p>Output:</p>\n\n<pre><code>I like most dogs.\nMost dogs like me.\nI like most cats.\nMost cats like me.\n</code></pre>\n\n<p>But you don't actually need <code>$sentence</code> any more at all:</p>\n\n<pre><code>foreach my $animal (@animals) {\n    for (@array) {\n        print s/animals/$animal/r;\n    }\n}\n</code></pre>\n\n<p>In older perls, as <a href=\"https://stackoverflow.com/users/1030675/choroba\">choroba</a> notes - you can do the same by copying the alias to a local variable:</p>\n\n<pre><code>(my $s = $sentence) =~ s/animals/$animal/g;\nprint $s;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454426081, "post_id": 35157034, "comment_id": 58032581, "body": "What version do you need for Template ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454426193, "post_id": 35157034, "comment_id": 58032659, "body": "@123: It <a href=\"http://matrix.cpantesters.org/?dist=Template-Toolkit+2.26\" rel=\"nofollow noreferrer\">seems to work</a> OK on 5.8.3 and higher."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454426479, "post_id": 35157034, "comment_id": 58032863, "body": "Oh, doesn&#39;t seem to work on mine, mustn&#39;t have built with the module :("}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454426839, "post_id": 35157034, "comment_id": 58033116, "body": "<code>IT department reluctance</code>, yep, so not allowed :)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1454425763, "creation_date": 1454425763, "answer_id": 35157034, "question_id": 35156823, "link": "https://stackoverflow.com/questions/35156823/perl-for-loop-assignment-by-reference/35157034#35157034", "title": "Perl for loop assignment by reference", "body": "<p>What you are looking for is a template. Here is an example using <a href=\"http://p3rl.org/Template\" rel=\"nofollow\">Template</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Template;\n\nmy @array = ( \"I like most [% animals %].\\n\",\n              \"Most [% animals %] like me.\\n\",\n            );\nmy @animals = qw( dogs cats );\n\nmy $template = 'Template'-&gt;new;\n\nfor my $animal (@animals) {\n    for my $sentence (@array) {\n        $template-&gt;process(\\$sentence, { animals =&gt; $animal });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 2229684, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d152f6a91b828fcc890eda5e78e32ba8?s=128&d=identicon&r=PG", "display_name": "mrfred", "link": "https://stackoverflow.com/users/2229684/mrfred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 35156899, "answer_count": 2, "score": 1, "last_activity_date": 1454426116, "creation_date": 1454425125, "question_id": 35156823, "link": "https://stackoverflow.com/questions/35156823/perl-for-loop-assignment-by-reference", "title": "Perl for loop assignment by reference", "body": "<p>So I am wondering if there is a better way of doing the following:</p>\n\n<p>I have an array of lines that I want to print out multiple times and replace certain things differently each time.  For example:</p>\n\n<pre><code>my @array = (\"I like most animals.\\n\", \"Most animals like me.\\n\");\nmy @animals = (\"dogs\", \"cats\");\nforeach my $animal (@animals) {\n    foreach my $sentence (@array) {\n        $sentence =~ s/animals/$animal/g;\n        print $sentence;\n    }\n}\n</code></pre>\n\n<p>The problem with this being this only works the first time because animals get replaced in the original array.  To get around this inside my for loop I just do something like <code>my $line = $sentence;</code> and then just regex and print $line instead.  Is there a better way of doing this?</p>\n"}, {"tags": ["perl", "function", "output", "subroutine"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 5, "creation_date": 1454423984, "post_id": 35156248, "comment_id": 58030967, "body": "You won&#39;t be able to, unless passing &#39;5 + 10&#39; as a string. <code>5 + 10</code> is an expression, the result of this expression is what&#39;s gets passed into sub; the key is the result doesn&#39;t &#39;remember&#39; anything about how it appeared."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1454423983, "creation_date": 1454423983, "answer_id": 35156361, "question_id": 35156248, "link": "https://stackoverflow.com/questions/35156248/how-to-get-the-content-of-an-argument-to-a-perl-subroutine/35156361#35156361", "title": "How to get the content of an argument to a Perl subroutine", "body": "<pre><code>sub echo {\n    my ($expr, $result) = @_;\n    print \"$expr = $result\\n\";\n}\n\necho '5 + 10', 5 + 10;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sub echo {\n    my ($expr) = @_;\n    my $result = eval($expr);\n    die $@ if $@;\n    print \"$expr = $result\\n\";\n}\n\necho '5 + 10';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8433, "user_id": 2667536, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UfmAF.png?s=128&g=1", "display_name": "Derlin", "link": "https://stackoverflow.com/users/2667536/derlin"}, "is_accepted": false, "score": 2, "last_activity_date": 1454424149, "creation_date": 1454424149, "answer_id": 35156430, "question_id": 35156248, "link": "https://stackoverflow.com/questions/35156248/how-to-get-the-content-of-an-argument-to-a-perl-subroutine/35156430#35156430", "title": "How to get the content of an argument to a Perl subroutine", "body": "<p>The best thing you could do is to pass the string, then evaluate it with <code>eval</code>. Example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub echo {\n    my ($input) = @_;\n    print $input, \"=\";\n    print eval $input;\n    print \"\\n\";\n}\n\necho \"5 + 10\";\n</code></pre>\n\n<p>But always be careful with eval: don't use your function with user input.</p>\n"}], "owner": {"reputation": 3739, "user_id": 405763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/6b82901f73413a8061f2d0784d7726b8?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/405763/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 35156361, "answer_count": 2, "score": 3, "last_activity_date": 1461483331, "creation_date": 1454423726, "last_edit_date": 1461483331, "question_id": 35156248, "link": "https://stackoverflow.com/questions/35156248/how-to-get-the-content-of-an-argument-to-a-perl-subroutine", "title": "How to get the content of an argument to a Perl subroutine", "body": "<p>I want a sub that takes an argument and prints the argument supplied in its original form along with the evaluation of the argument.</p>\n\n<p>In this case, the evaluation of argument is easy, that's the default! It's getting the actual input in its original form that is difficult.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub echo {\n    my ($input) = @_;\n    # print \"5 + 10 =\";\n    print $input;\n    print \"\\n\";\n}\n\necho 5 + 10;\n</code></pre>\n\n<p>This will output <code>15</code>.</p>\n\n<p>I want it to output <code>5 + 10 = \"15\"</code></p>\n"}, {"tags": ["regex", "perl", "replace", "find", "infinite-loop"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1454419369, "post_id": 35154305, "comment_id": 58027598, "body": "You should always use <a href=\"http://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\"><code>use strict; use warnings;</code></a>, because knowing about your mistakes is better than not knowing about them."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1454431361, "post_id": 35154305, "comment_id": 58036363, "body": "Yeah, 3q for your advice; I just enjoyed the loose &amp; flexibke syntax of perl,  nevered realized the importance of &#39; strict warnings &#39; stuff. I&#39;ll try it."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1454432487, "post_id": 35154305, "comment_id": 58037180, "body": "When you start using it, you will start to understand what you are doing, and you will understand why things do not work sometimes. Honestly, working without them turned on is like working blindfolded."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1454463071, "post_id": 35154305, "comment_id": 58052137, "body": "Right. I&#39;ll try to stick to it. 3q~"}], "answers": [{"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454424092, "post_id": 35154885, "comment_id": 58031058, "body": "Whats <code>.@comments,e;</code> do ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454424367, "post_id": 35154885, "comment_id": 58031285, "body": "the <code>e</code> regex modifier is eval. It <code>evals</code> <code>@comments</code>. The <code>.</code> concatenates it, and forces a scalar context, and thus it &#39;returns&#39; a number equal to the number of elements - thus if <code>@comments</code> has 4 elements, it&#39;ll return <code>&#47;&#47;foo_4</code> as the replace."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1454424524, "post_id": 35154885, "comment_id": 58031412, "body": "@syck - worked with the sample data, but yes - seems to do that if there&#39;s a blank line. (presumably because with no match, but <code>$1</code> is still defined). Amended."}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1454425239, "post_id": 35154885, "comment_id": 58031967, "body": "And its not even possible to unset it"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1454432113, "post_id": 35154885, "comment_id": 58036915, "body": "Nice, doing the search-and-replace ONE line at a time really breaks the endless loop! But why is this? Using s/// on entire text file (with newlines) falls into endless recursive search loop, while on ONE line it doesn&#39;t. Why?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454434242, "post_id": 35154885, "comment_id": 58038321, "body": "In the <code>while</code> loop, it iterates until a condition is false. If you&#39;re replacing one thing that the regex matches (<code>&#47;&#47;commment</code> with <code>&#47;&#47;foo</code>) then the regex will <i>continue</i> to match, treating <code>&#47;&#47;foo</code> as a new comment to add to the list. A <code>foreach</code> loop shouldn&#39;t in quite the same way though."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1454466607, "post_id": 35154885, "comment_id": 58053151, "body": "Does this mean the <code>while</code> or <code>foreach</code> keyword out of <code>{ s&#47;&#47;&#47; }</code> will have an effect on the behavior of s/// ? We&#39;re both using <code>s&#47;xx&#47;yy&#47;</code> stuff; the only difference is that you run it on a line-basis, while I run it on a file-basis (multiline). So it seems like, if <code>while</code> gets entire file, then <code>s&#47;xx&#47;yy&#47;s</code> falls into endless-loop (my code); but if <code>while</code> gets only one line, then <code>s&#47;xx&#47;yy&#47;s</code> is save and good (your code). Am I guessing it right?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454484366, "post_id": 35154885, "comment_id": 58059307, "body": "My while exit condition is hitting end of file. Yours is when there are no comments left. This would be fine if you weren&#39;t replacing one comment with another."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1454424536, "last_edit_date": 1592644375, "creation_date": 1454419830, "answer_id": 35154885, "question_id": 35154305, "link": "https://stackoverflow.com/questions/35154305/perl-find-and-replace-with-numbered-replacement-enters-infinite-loop/35154885#35154885", "title": "Perl find-and-replace (with numbered replacement) enters infinite loop", "body": "<p>I'd tackle it a bit differently - a while loop to read a filehandle line by line, and 'grab' all the comment lines out of it.</p>\n<p>Something like this:</p>\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy @comments; \n\n#iterate stdin or filename specified on command line\nwhile ( &lt;&gt; ) { \n   #replace anything starting with // with foo_nn\n   #where nn is current number of comments. \n   s,//(.*),&quot;//foo_&quot;.@comments,e &amp;&amp; push (@comments, $1 );\n   #$1 is the contents of that bracket - the string we replaced\n   #stuff it into commments; \n\n   #print the current line (altered by the above)\n   print;\n}\n#print the comments. \nprint &quot;Comments:\\n&quot;, join &quot;\\n&quot;, @comments;\n</code></pre>\n<p>Doesn't address duplicates, and will break if you've  got <code>//</code> in quotes or something, but does work for your example. <code>while</code> iterates based on a filehandle, line by line. If you've got a scalar with your text blob already, then you can accomplish the same thing with <code>foreach ( split ( &quot;\\n&quot;, $text ) ) {</code></p>\n<h2>Output:</h2>\n<pre><code>//foo_0\nthis is a statement //foo_1\n//foo_2\nmore statements //foo_3\nComments:\nfirst comment\nsecond comment\nthird comment\nfourth comment\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1454434465, "post_id": 35155277, "comment_id": 58038469, "body": "3q~:-)  I just don&#39;t understand, why is it that breaking input file into individual lines prevents the s/// stuff from being stuck in infinite loop? And, besides, what is the benefit of qq() over &quot;&quot; ?"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1454956078, "post_id": 35155277, "comment_id": 58264806, "body": "As @sobrique stated above, using the while will re-match with the modified comment. Use <code>@matches = $txt =~ &#47;&lt;regex&gt;&#47;g</code> to be on the safe side; @matches can then used to iterate over or whatever. Using qq() gives you the possibility to insert quotation marks without escaping them (does not apply here), the rest is just personal flavour. Sorry for my late reply, I did not attend SO for a couple of days."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1455675368, "post_id": 35155277, "comment_id": 58591161, "body": "Got that, thanks for your careful explanations! And sorry for this late reply; the Spring Festival has put everything in the country into a halt for quite a long time."}], "tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": false, "score": 1, "last_activity_date": 1454423940, "last_edit_date": 1454423940, "creation_date": 1454420982, "answer_id": 35155277, "question_id": 35154305, "link": "https://stackoverflow.com/questions/35154305/perl-find-and-replace-with-numbered-replacement-enters-infinite-loop/35155277#35155277", "title": "Perl find-and-replace (with numbered replacement) enters infinite loop", "body": "<p>Iterate over every line of the text, and if replacement is successful, store the comment:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $txt = &lt;&lt;END;                        # define text\n//first comment\nthis is a statement //second comment\n//third comment\nmore statements //fourth comment\nEND\n\nmy @comments = ();\nmy $i = 0;\nforeach (split qq(\\n), $txt) {          # iterate over input lines\n        if (s&amp;(//.*)&amp;//foo_$i&amp;) {       # do we match?\n                push @comments, $1;     # then push comment\n                $i++;                   # and increase counter\n                }\n        print;                          # print modified row\n        print qq(\\n);                   # print newline\n        }\n\nprint qq(\\nComments:\\n);\nforeach (@comments) {\n        print;                          # print the comment\n        print qq(\\n);                   # print newline\n        }\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 35154885, "answer_count": 2, "score": 2, "last_activity_date": 1454424536, "creation_date": 1454418194, "last_edit_date": 1495539913, "question_id": 35154305, "link": "https://stackoverflow.com/questions/35154305/perl-find-and-replace-with-numbered-replacement-enters-infinite-loop", "title": "Perl find-and-replace (with numbered replacement) enters infinite loop", "body": "<p>Earlier today I posted a similar question, whose solution leads to a new problem, -,-</p>\n\n<p>Well, the story is that I want Perl to capture comments from a text, store them in array, and replace them with new numbered comments, say, for original $txt:</p>\n\n<pre><code>//first comment\nthis is a statement //second comment\n//third comment\nmore statements //fourth comment\n</code></pre>\n\n<p>I wanna push the 4 comments into an array, and get new $txt like:</p>\n\n<pre><code>//foo_0\nthis is a statement //foo_1\n//foo_2\nmore statements //foo_3\n</code></pre>\n\n<p>I tried the following Perl:</p>\n\n<pre><code>$i=0;\n$j=0;\n#while ($txt =~ s/(\\/\\/.*?\\n)/\\/\\/foo_$i\\n/gs) {\n#while ($txt =~ s/(\\/\\/.*?\\n)/\\/\\/foo_$i\\n/s) {\n#foreach ($txt =~ s/(\\/\\/.*?\\n)/\\/\\/foo_$i\\n/gs) {\nforeach ($txt =~ s/(\\/\\/.*?\\n)/\\/\\/foo_$i\\n/s) {\n        if(defined $1) {\n                push (@comments, $1);\n                print \" \\$i=$i\\n\";\n                $i++\n                }\n        print \" \\$j=$j\\n\";\n        $j++;\n        }\n\nprint \"after search &amp; replace, we have \\$txt:\\n\";\nprint $txt;\n\nforeach (0..$#comments) {\n        print \"\\@comments[$_]= @comments[$_]\";\n        }\n</code></pre>\n\n<p>In it, I tried the \"while/foreach (... s///gs)\" in four flavors, but none of them actually did what I want.</p>\n\n<p>The \"foreach\" statement will work on the text only once; and more worse, the \"while\" statement will enter endless loop, seems like the new \"//foo_xx\" stuff is put back into the string for further search operations, making it an infinite iteration. It's so strange that such a seemingly simple search-and-replace mechanism would get mired in endless loop, or there're some obvious tricks that I don't know of?</p>\n\n<p>BTW, I already went through the post <a href=\"https://stackoverflow.com/questions/16717449/perl-search-and-replace-enters-endless-loop\">by highsciguy</a> . For him, \"simply replacing while with foreach in the above code will do\"; but for me the foreach just does not work, I don't know why.</p>\n\n<p>Anyone get any ideas in helping me with this? Thanks~</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1454415156, "post_id": 35153030, "comment_id": 58024434, "body": "Thanks for the explanation. For some reason,  when using <code>&#39;*&#39; =&gt; 0</code>, the same warnings are still returned so the problem may be something else other than what I thought it was. If I add the * into the split, the warning becomes: <code>Argument &quot;&quot; isn&#39;t numeric in multiplication (*) at line 36, &lt;IN&gt; line 26.</code> which, i&#39;m guessing, is because i&#39;m trying to split a field that contains nothing but * by * and creating an empty string?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1454415397, "post_id": 35153030, "comment_id": 58024586, "body": "Well, I answered the question you asked. It seems you have a second problem. I&#39;ll update shortly."}, {"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1454415470, "post_id": 35153030, "comment_id": 58024636, "body": "Yes - my apologies for that. I tested all things I could think of and was quite sure it was simply due to the non-assignment of *."}, {"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1454416438, "post_id": 35153030, "comment_id": 58025437, "body": "This now returns the warning: <code>Use of uninitialized value $n in multiplication (*) b.pl line 37, &lt;IN&gt; line 22.</code> for all input lines whether they contain * or not. What is causing that?"}, {"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1454416643, "post_id": 35153030, "comment_id": 58025596, "body": "Would it be better to simply append a value onto * when <code>@ar = &#39;*&#39;</code> such that <code>$op</code> is no longer empty? e.g. <code>@ar = 1*</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1454417027, "post_id": 35153030, "comment_id": 58025884, "body": "oh, you wanted to multiply by the number. Oops! Tired. Updated answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1454417667, "post_id": 35153030, "comment_id": 58026365, "body": "Now with missing <code>g</code>!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1454417639, "last_edit_date": 1454417639, "creation_date": 1454414690, "answer_id": 35153030, "question_id": 35152921, "link": "https://stackoverflow.com/questions/35152921/assigning-value-to-a-character-within-a-hash/35153030#35153030", "title": "Assigning value to a * character within a hash", "body": "<pre><code>my %r = (A =&gt; 1, B =&gt; 1, C =&gt; 0, D =&gt; 1, '*' =&gt; 0);\n</code></pre>\n\n<p><code>=&gt;</code> \"autoquotes\" its LHS when it's an identifier, but it need not be an identifier; it can be any expression. (In fact, you don't even need to use <code>=&gt;</code>, which just a fancy comma (<code>,</code>).)</p>\n\n<hr>\n\n<p>But that doesn't fix your problem. <code>@ar</code> only contains <code>*</code>, so <code>$n</code> is <code>*</code> and <code>$op</code> is undefined. <code>@ar</code> needs to have at least two values for that code to work. So let's explicitly look for values that make sense.</p>\n\n<pre><code>my %r = (A =&gt; 1, B =&gt; 1, C =&gt; 0, D =&gt; 1 );\n\nmy $s = 0;\nwhile ($F[5] =~ /(\\d+)([ABCD])/g) {\n   my $n  = $1;\n   my $op = $2;\n   $s += $n * $r{$op};\n}\n</code></pre>\n\n<hr>\n\n<p>By the way,</p>\n\n<p><code>* =&gt; 0</code> is a weird way to write <code>*= &gt; 0</code>, which means \"is glob <code>*=</code> numerically greater than zero\".</p>\n\n<p><code>\\* =&gt; 0</code> is a weird way to write <code>\\*= &gt; 0</code>, which means \"is the address of glob <code>*=</code> numerically greater than zero\".</p>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 35153030, "answer_count": 1, "score": 3, "last_activity_date": 1454417639, "creation_date": 1454414415, "last_edit_date": 1454415356, "question_id": 35152921, "link": "https://stackoverflow.com/questions/35152921/assigning-value-to-a-character-within-a-hash", "title": "Assigning value to a * character within a hash", "body": "<p>Using the following section of code I ordinarily split a mixed string-integer field (e.g. 45A34C) and tally up instances of each letter (designated by the integer proceeding it) according to a set of rules stored in %r. This works fine. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @F; $F[5] = '*';\nmy @ar = split(/([ABCD])/, $F[5]);\nmy %r = (A =&gt; 1, B =&gt; 1, C =&gt; 0, D =&gt; 1, '*' =&gt; 0);\nmy $s = 0;\nmy $op;\nmy $n;\n$s += $n * $r{$op} while ($n,$op) = splice @ar,0,4;\n</code></pre>\n\n<p>However, in some instances, <code>$F[5]</code> contains nothing but an asterisk - a literal <code>*</code> character. Any line containing this returns these warnings:</p>\n\n<pre><code>Use of uninitialized value $op in hash element at b.pl line 10.\nUse of uninitialized value in multiplication (*) at b.pl line 10.\nArgument \"*\" isn't numeric in multiplication (*) at b.pl line 10.\n</code></pre>\n\n<p>Which is expected given that <code>*</code> is not assigned a number. I've attempted to assign the character a number in the hash, but am unable to figure out the correct syntax. I've tried:</p>\n\n<pre><code>my %r = (A =&gt; 1,B =&gt; 1,C =&gt; 0,D =&gt; 1, * =&gt; 0);\nmy %r = (A =&gt; 1,B =&gt; 1,C =&gt; 0,D =&gt; 1, \\* =&gt; 0);\n</code></pre>\n\n<p>But the warnings remain. What is the correct way to assign a value to a special character and why can * not be handled like 'A' can?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "edited": false, "score": 2, "creation_date": 1454414062, "post_id": 35152207, "comment_id": 58023671, "body": "BTW, if you need the range of the @AllNumbers to cover be 1 -100, you it should be done in a different way. Since this <code>rand(100-1)</code> which is the same as <code>rand(99)</code> which gives you a range 0 - 98. You need to look further into this and fix it ;)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1454414304, "post_id": 35152207, "comment_id": 58023858, "body": "Homework assistance isn&#39;t forbidden on Stack Overflow. It&#39;s just we&#39;ll help you understand it (and figure out the problem), not do it for you."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1454425156, "post_id": 35152712, "comment_id": 58031891, "body": "Actually, that&#39;s not the only problem."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1454482787, "post_id": 35152712, "comment_id": 58058553, "body": "In the original code, <code>$total</code> is reset to 0 each time round the loop."}, {"owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1454483115, "post_id": 35152712, "comment_id": 58058702, "body": "Good catch! I didn&#39;t notice that one, I noticed the rand(99) wrong range but missed this one. Thanks for the note!"}], "tags": [], "owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "is_accepted": false, "score": 4, "last_activity_date": 1454413881, "creation_date": 1454413881, "answer_id": 35152712, "question_id": 35152207, "link": "https://stackoverflow.com/questions/35152207/perl-calculate-average-from-randomly-populated-array/35152712#35152712", "title": "Perl calculate average from randomly populated array", "body": "<p>Good job that you tried working it yourself before asking for help!</p>\n\n<p>To debug your code try adding some prints to minimise the area where you need to look for the error in. So inthis case you can add <code>print $random_number</code> in the the average sub, and you'll notice that it's set correctly. While if you print the elements of the $ArrayAverage you'll find that it has no values, and that's simply because you need to pass the @AllNumbers array to the &amp;average sub when you call it in the print at the last line of your script.</p>\n\n<p>So the solution is that you simply need to pass the @AllNumbers array to the &amp;average() when being called:</p>\n\n<p><code>print (\"\\n\\nThe average of those random numbers is: \", &amp;average(@AllNumbers), \"\\n\\n\");</code> </p>\n\n<p>This should work fine ;) Good luck!</p>\n"}, {"comments": [{"owner": {"reputation": 430, "user_id": 5872381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fqwid.png?s=128&g=1", "display_name": "tobulos1", "link": "https://stackoverflow.com/users/5872381/tobulos1"}, "edited": false, "score": 0, "creation_date": 1454414395, "post_id": 35152786, "comment_id": 58023928, "body": "Thank you so much for the help! I can&#39;t believe I missed that. Also, great tip about <code>scalar(@Array_To_Average);</code>, I had no idea that was a thing..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454415728, "post_id": 35152786, "comment_id": 58024852, "body": "<code>scalar</code> is needed if you need to force a scalar context. In particular, when you&#39;re printing. (<code>print</code> defaults to a list context).  If you&#39;re doing a numeric operation (such as <code>$num &#47; @array</code>) then the scalar context is already in place, so you don&#39;t need it."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 5, "last_activity_date": 1454414067, "creation_date": 1454414067, "answer_id": 35152786, "question_id": 35152207, "link": "https://stackoverflow.com/questions/35152207/perl-calculate-average-from-randomly-populated-array/35152786#35152786", "title": "Perl calculate average from randomly populated array", "body": "<p>Nice work, so far! It's almost ok. But you are calling your average function without \nany parameters (<code>&amp;average</code>). Try it like so:</p>\n\n<pre><code>sub average{\n    my @Array_To_Average = @_; # this is now a local copy of the global @AllNumbers\n    my $total = 0;\n    for (@Array_To_Average) # iterate over the local copy ...\n    { \n        $total += $_; # ...and sum up\n    }\n    return $total / $random_number;\n\n    # instead of $random_number you could also use\n    # scalar(@Array_To_Average). That's the number of items\n    # in the array, i.e.\n    #   return $total / scalar(@Array_To_Average);\n}\n\nprint (\"\\n\\nThe average of those random numbers is: \", average(@AllNumbers), \"\\n\\n\");\n</code></pre>\n\n<p>Please omit the <code>&amp;</code> when calling functions. That's very old style. \nPrefer the style used in most other languages:</p>\n\n<pre><code>my $result1 = some_function();\nmy $result2 = some_other_function($param1, $param2);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454416082, "post_id": 35152883, "comment_id": 58025135, "body": "I&#39;m not convinced that&#39;s a good way to do an <code>average</code> function. I might pass it the whole array, and get it to return the average. Or use an iterator. But to have a <code>my $average</code> outside the sub, which you then return seems a bit odd."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1454415241, "last_edit_date": 1454415241, "creation_date": 1454414309, "answer_id": 35152883, "question_id": 35152207, "link": "https://stackoverflow.com/questions/35152207/perl-calculate-average-from-randomly-populated-array/35152883#35152883", "title": "Perl calculate average from randomly populated array", "body": "<p>The (main) problem is that you call your sub with no arguments! \nTry this: </p>\n\n<pre><code>average($_) foreach @AllNumbers;\n\nmy $count = 0;\nmy $total;\nmy $average;\n\nsub average{\n    my $num = shift;\n    $count++; # count number of random numbers \n    $total += $num; # sum up\n    $average = $total/$count; # calculate average\n    return $average;\n}\n\n# Print the mean/average of the 20-30 numbers.\nprint (\"\\n\\nThe average of those random numbers is: \", $average, \"\\n\\n\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 555, "user_id": 4194472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1SPOZ.jpg?s=128&g=1", "display_name": "ArrowHead", "link": "https://stackoverflow.com/users/4194472/arrowhead"}, "is_accepted": false, "score": 0, "last_activity_date": 1454494127, "last_edit_date": 1454494127, "creation_date": 1454414527, "answer_id": 35152970, "question_id": 35152207, "link": "https://stackoverflow.com/questions/35152207/perl-calculate-average-from-randomly-populated-array/35152970#35152970", "title": "Perl calculate average from randomly populated array", "body": "<p>Got it to work to help you out. </p>\n\n<pre><code>#! /usr/bin/perl -w\n\nuse warnings;\nuse strict;\n\n# Declaring the scalar variables and arrays.\nmy @AllNumbers;\nmy $avgOfArray;\n\n# Create random data set of between 20 to 30 measures used for the 100         random intigers.\nmy $random_number = int(rand(31 - 20)) + 20;\n\n# Create random data set of 100 intigers.\nfor(my $i = 0; $i &lt;= $random_number; $i++){\n    $AllNumbers[$i] = int(rand(100 - 1));\n}\n\n# Print the 20 to 30 random numbers (range 1 - 100).\nprint (\"Your random numbers are: \\n@AllNumbers\");\nsub average {\n    my @array = @_; # save the array passed to this function\n    my $sum; # create a variable to hold the sum of the array's values\n    foreach (@array) { $sum += $_; } # add each element of the array\n    # to the sum\n    return $sum/@array; # divide sum by the number of elements in the\n    # array to find the mean\n}\n$avgOfArray = average(@AllNumbers);\n\n# Print the mean/average of the 20-30 numbers.\nprint (\"\\n\\nThe average of those random numbers is: \",  $avgOfArray,     \"\\n\\n\"); here\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 430, "user_id": 5872381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fqwid.png?s=128&g=1", "display_name": "tobulos1", "link": "https://stackoverflow.com/users/5872381/tobulos1"}, "edited": false, "score": 0, "creation_date": 1454415136, "post_id": 35153092, "comment_id": 58024414, "body": "Wow, thank you! This information will come in handy. So much that our teacher didn&#39;t taught us..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 430, "user_id": 5872381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fqwid.png?s=128&g=1", "display_name": "tobulos1", "link": "https://stackoverflow.com/users/5872381/tobulos1"}, "edited": false, "score": 5, "creation_date": 1454420703, "post_id": 35153092, "comment_id": 58028555, "body": "Well, at least you got the important bit - how to try for yourself, and ask a decent question on  Stack Overflow. That&#39;s a valuable programming technique in and of itself! :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 9, "last_activity_date": 1454424697, "last_edit_date": 1454424697, "creation_date": 1454414887, "answer_id": 35153092, "question_id": 35152207, "link": "https://stackoverflow.com/questions/35152207/perl-calculate-average-from-randomly-populated-array/35153092#35153092", "title": "Perl calculate average from randomly populated array", "body": "<p>There's a couple of style points I'd address first:</p>\n\n<ul>\n<li><p>put your sub at the beginning (or if you must, at the end). Having it in the middle of code is messy.</p></li>\n<li><p>Don't call subroutines with <code>&amp;</code> - it's bad style, and makes for some strange behaviour. In your case: <code>&amp;average</code> is effectively being called with no arguments. It's bad in general though, don't use it unless you know specifically why you're doing so. (It does have some uses, but you'll know when you see them - and you won't in your early learning of <code>perl</code>). </p></li>\n<li><p>Capitalisation of arrays like that isn't good form, because that's how modules/packages are named. Stick with lower case variables if you can. </p></li>\n<li><p>your for loop is a C style, which works, but would be better written <code>for ( 1..$random_number ) {</code> as you don't need the iterator. </p></li>\n<li><p>You don't need <code>-w</code> on the shebang line, because you have <code>use warnings</code>. <code>use warnings;</code> is the better way of doing it. </p></li>\n<li><p>calling your variable <code>$random_number</code> isn't very helpful - we can see that, because it's assigned the result for <code>rand</code>. Call it what it's used for - like <code>$number_of_elements</code>. </p></li>\n<li><p>given you only really need to use <code>$random_number</code> once, you probably don't need to stick it in a variable. You can, if you feel it assists readability  (that's a matter of taste - in good programming, being clear and readable is the only thing that's really important - most memory/performance things are premature optimisations given the state of compilers today.)</p></li>\n</ul>\n\n<p>Your core problem here though, is this:</p>\n\n<pre><code>my $ArrayAverage = @_;\n</code></pre>\n\n<p>That sets <code>$ArrayAverage</code> to the number of elements in the list. This will always be the same as <code>$random_number</code>, because that's how many times you iterate. </p>\n\n<p>You iterate elements here, but don't actually use <code>$total</code>.</p>\n\n<pre><code>for (@_) {\n    my $total += $_;\n}\n</code></pre>\n\n<p>So here - you're returning number of elements in array divided by number of elements in array. </p>\n\n<pre><code>return $ArrayAverage / $random_number;\n</code></pre>\n\n<p>But the really important thing is - none of this matters, because you're invoking it with <code>&amp;average</code> which isn't actually sending any arguments. So you're just putting in zero, and getting out zero. </p>\n\n<p>It may be useful to know - an array in a scalar context returns the number of elements, so computing your average is as simple as:</p>\n\n<pre><code>my $sum; \n$sum += $_ for @AllNumbers; \nprint( \"\\n\\nThe average of those random numbers is: \", $sum / @AllNumbers, \"\\n\\n\" );\n</code></pre>\n\n<p>This'll produce a long decimal - if you need to format it, you can use <code>printf</code> or <code>sprintf</code>. </p>\n\n<pre><code>printf( \"\\n\\nThe average of those random numbers is: %02.2f \\n\\n\", $sum / @AllNumbers);\n</code></pre>\n\n<p>So I would rewrite it slightly as this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\n# Declaring the scalar variables and arrays.\nmy @all_numbers;\n\n\n#repeat 20 + random 11 times - so 20-30\nfor ( 1 .. 20 + int rand 11 ) { \n    push ( @all_numbers, int rand 99 );\n}\n\n# Print the 20 to 30 random numbers (range 1 - 100).\nprint(\"Your random numbers are: \\n@all_numbers\\n\");\n\n#calculate sum of elements\nmy $sum; \n$sum += $_ for @all_numbers;\n\nprint \"Sum: $sum count: \", scalar @all_numbers, \"\\n\"; \n\n# Print the mean/average of the 20-30 numbers.\nprintf( \"\\n\\nThe average of those random numbers is: %02.2f \\n\\n\", $sum / @all_numbers);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 6, "last_activity_date": 1454425004, "creation_date": 1454425004, "answer_id": 35156758, "question_id": 35152207, "link": "https://stackoverflow.com/questions/35152207/perl-calculate-average-from-randomly-populated-array/35156758#35156758", "title": "Perl calculate average from randomly populated array", "body": "<p>Writing it in idiomatic Perl would give you something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy @numbers;\n\nmy $how_many = int(rand 11) + 20;\n\npush @numbers, int(rand 100) + 1 for 1 .. $how_many;\n\nprint \"Your random numbers are: \\n@numbers\\n\";\nprint \"The mean of those numbers is: \", average(@numbers), \"\\n\";\n\nsub average{\n  my $total;\n  $total += $_ for @_;\n  return sprintf '%.2f', $total / @_;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 962, "user_id": 6447563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b6075775f2df179d7f6d7f1d66d5bcdb?s=128&d=identicon&r=PG&f=1", "display_name": "sixtytrees", "link": "https://stackoverflow.com/users/6447563/sixtytrees"}, "is_accepted": false, "score": 0, "last_activity_date": 1470149192, "creation_date": 1470149192, "answer_id": 38723674, "question_id": 35152207, "link": "https://stackoverflow.com/questions/35152207/perl-calculate-average-from-randomly-populated-array/38723674#38723674", "title": "Perl calculate average from randomly populated array", "body": "<p>You need to pass parameters to your <code>average</code> subroutine:</p>\n\n<pre><code>#!/usr/bin/perl\n\nsub average{\n  my $tot;\n  $tot += $_ for @_;\n  return sprintf '%.3f', $tot / @_;\n}\nmy @num;\n\nmy $quantity = int(rand 11) + 20;    \npush @num, int(rand 100) + 1 for 1 .. $quantity;\n\nprint \"Random numbers: \\t@num\\n\";\nprint \"Average: \", average(@num), \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 430, "user_id": 5872381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fqwid.png?s=128&g=1", "display_name": "tobulos1", "link": "https://stackoverflow.com/users/5872381/tobulos1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2497, "favorite_count": 0, "accepted_answer_id": 35152786, "answer_count": 7, "score": 11, "last_activity_date": 1470149192, "creation_date": 1454412524, "last_edit_date": 1454428543, "question_id": 35152207, "link": "https://stackoverflow.com/questions/35152207/perl-calculate-average-from-randomly-populated-array", "title": "Perl calculate average from randomly populated array", "body": "<p>I have a school assignment I need help with. Now, I know what you're thinking, but my teacher is out of town and hasn't answered my e-mails, and my other classmates have no clue how to solve this problem. A few pointers and tips would be greatly appreciated!</p>\n\n<p>The assignment is this:</p>\n\n<p>We're supposed to create an array, populate it with 20 to 30 random integers in the range of 1-100. Then, by the help of subroutines, we're supposed to calculate the average of these numbers.</p>\n\n<p>The problem occurs when I'm calling the subroutine back, which gives me either answer 0 or the \"Illegal division by 0\" error. The code I have right now is this:</p>\n\n<pre><code>#! /usr/bin/perl -w\n\nuse warnings;\nuse strict;\n\n# Declaring the scalar variables and arrays.\nmy @AllNumbers;\n\n# Create random data set of between 20 to 30 measures used for the 100 random intigers.\nmy $random_number = int( rand( 31 - 20 ) ) + 20;\n\n# Create random data set of 100 intigers.\nfor ( my $i = 0 ; $i &lt;= $random_number ; $i++ ) {\n    $AllNumbers[$i] = int( rand( 100 - 1 ) );\n}\n\n# Print the 20 to 30 random numbers (range 1 - 100).\nprint(\"Your random numbers are: \\n@AllNumbers\");\n\nsub average {\n    my $ArrayAverage = @_;\n    for (@_) {\n        my $total += $_;\n    }\n    return $ArrayAverage / $random_number;\n} ## end sub average\n\n# Print the mean/average of the 20-30 numbers.\nprint( \"\\n\\nThe average of those random numbers is: \", &amp;average, \"\\n\\n\" );\n</code></pre>\n\n<p>Now, as I said, I'd like to solve this problem myself, and I've spent an entire two days with this, but can't seem to solve it no matter what I do. Any tips would be greatly appreciated. P.S. It should be mentioned that we're not supposed to use any modules/plugins.</p>\n"}, {"tags": ["apache", "perl", ".htaccess", "httpd.conf"], "comments": [{"owner": {"reputation": 2227, "user_id": 4175515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dVuYh.jpg?s=128&g=1", "display_name": "Joao  Vitorino", "link": "https://stackoverflow.com/users/4175515/joao-vitorino"}, "edited": false, "score": 0, "creation_date": 1454444425, "post_id": 35151141, "comment_id": 58044438, "body": "AuthLDAPBindDN must be the user to consult the ldap, AuthLDAPURL must be not only the ldap server but the entire LDAP patch Active Directory. Like &quot;AuthLDAPBindDN &quot;userldap@domain&quot;&quot; and &quot;AuthLDAPURL  &quot;ldap://ldap.server.com/OU=Standard Users,OU=Users,OU=compant IT AG,OU=Prod,DC=server,DC=server,DC=com?sAMAccountName?sub?(ob&zwnj;&#8203;jectClass=*)&quot;&quot;"}, {"owner": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "reply_to_user": {"reputation": 2227, "user_id": 4175515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dVuYh.jpg?s=128&g=1", "display_name": "Joao  Vitorino", "link": "https://stackoverflow.com/users/4175515/joao-vitorino"}, "edited": false, "score": 0, "creation_date": 1454489410, "post_id": 35151141, "comment_id": 58062024, "body": "@JoaoVitorino Thank you very much! It will be work!"}, {"owner": {"reputation": 2227, "user_id": 4175515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dVuYh.jpg?s=128&g=1", "display_name": "Joao  Vitorino", "link": "https://stackoverflow.com/users/4175515/joao-vitorino"}, "edited": false, "score": 0, "creation_date": 1454504682, "post_id": 35151141, "comment_id": 58072617, "body": "Please mark the question has solved."}], "answers": [{"tags": [], "owner": {"reputation": 2227, "user_id": 4175515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dVuYh.jpg?s=128&g=1", "display_name": "Joao  Vitorino", "link": "https://stackoverflow.com/users/4175515/joao-vitorino"}, "is_accepted": true, "score": 1, "last_activity_date": 1454504665, "creation_date": 1454504665, "answer_id": 35177901, "question_id": 35151141, "link": "https://stackoverflow.com/questions/35151141/first-login-to-enter-website-with-username-and-passwort/35177901#35177901", "title": "first login to enter website with username and passwort", "body": "<p>AuthLDAPBindDN must be the user to consult the ldap, AuthLDAPURL must be not only the ldap server but the entire LDAP patch Active Directory. Like </p>\n\n<pre><code>AuthLDAPBindDN \"userldap@domain\"\nAuthLDAPURL \"ldap://ldap.server.com/OU=Standard Users,OU=Users,OU=compant IT AG,OU=Prod,DC=server,DC=server,DC=com?sAMAccountName?sub?(objectClass=*)\"\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 35177901, "answer_count": 1, "score": 0, "last_activity_date": 1454504665, "creation_date": 1454409574, "question_id": 35151141, "link": "https://stackoverflow.com/questions/35151141/first-login-to-enter-website-with-username-and-passwort", "title": "first login to enter website with username and passwort", "body": "<p>I have to trying always for Perl, .htaccess and httppd.conf with different Username and Password from LDAP Search. But it  it out of all recognition for username and password. Maybe I am wrong for programmer or what?</p>\n\n<p><strong>Perl:</strong></p>\n\n<p>Package:</p>\n\n<pre><code>use Net::LDAP;\nuse Net::LDAP::Extension::SetPassword;\n</code></pre>\n\n<p>Function:</p>\n\n<pre><code>my $ldapserver=\"ldap.server.com\";\nmy $dn=\"CN=Company IT,OU=Standard Users,OU=Users,OU=Company IT AG,OU=Prod,DC=server,DC=server,DC=com\";\n\n\nmy $ldap = Net::LDAP-&gt;new( $ldapserver, debug =&gt;0 ) or die $@;\nmy $result = $ldap-&gt;bind( $dn, password =&gt; password );\n\n#$result-&gt;SetPassword('user');\n\n$result = $ldap-&gt;search(\nbase =&gt; \"OU=Standard Users,OU=Users,OU=Company IT AG,OU=Prod,DC=server,DC=server,DC=com\",\nfilter =&gt; \"(mailNickname=\"*\")\"\n</code></pre>\n\n<p><strong>httpd:</strong></p>\n\n<pre><code>&lt;Directory \"/opt/csw/apache2/share/cgi-bin\"&gt;\n    SetEnv LD_LIBRARY_PATH \"/opt/csw/apache2/lib:/opt/oracle/product/11.2.0.4/instantclient_11g\"\n    AddHandler cgi-script .cgi .pl .py\n    AllowOverride Options\n    Options +ExecCGI\n    Order allow,deny\n    Allow from all\n\n    AuthName \"Enter Your Network Username/Password\"\n    AuthType Basic\n    AuthBasicProvider ldap\n    AuthBasicAuthoritative off\n    AuthLDAPURL ldap://ldap.server.com\n    AuthLDAPBindDN \"CN=Company IT,OU=Standard Users,OU=Users,OU=Company IT AG,OU=Prod,DC=server,DC=server,DC=com\"\n    AuthLDAPBindPassword password\n    AuthLDAPRemoteUserAttribute mailNickname\n    require valid-user\n&lt;/Directory&gt;\n</code></pre>\n\n<p><strong>htaccess:</strong></p>\n\n<pre><code>AuthName \"Enter Your Network Username/Password\"\nAuthType Basic\nOptions +ExecCGI\nAuthBasicProvider ldap\nAuthBasicAuthoritative off\nAuthLDAPURL ldap://ldap.server.com\nAuthLDAPBindDN \"CN=Company IT,OU=Standard Users,OU=Users,OU=compant IT AG,OU=Prod,DC=server,DC=server,DC=com\"\nAuthLDAPBindPassword password\nAuthLDAPRemoteUserAttribute mailNickname\nrequire valid-user\n</code></pre>\n"}, {"tags": ["excel", "perl", "parsing"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1454399913, "post_id": 35147485, "comment_id": 58014722, "body": "That version of Perl is 11 years old.  Consider an upgrade with <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a>."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 4, "last_activity_date": 1454399879, "creation_date": 1454399879, "answer_id": 35147900, "question_id": 35147485, "link": "https://stackoverflow.com/questions/35147485/perl-cant-locate-object-method-worksheets-via-package-spreadsheetparseexc/35147900#35147900", "title": "Perl &#39;can&#39;t locate object method &quot;worksheets&quot; via package &quot;Spreadsheet::ParseExcel::Workbook&quot;&#39;", "body": "<p><a href=\"https://metacpan.org/changes/distribution/Spreadsheet-ParseExcel#L275\" rel=\"nofollow\">The workbooks() method was added in 0.43</a>, six years ago.  Since your version of Perl is rather old (11 years), it's likely your version of Spreadsheet::ParseExcel is also rather old.</p>\n\n<p>You can check with:</p>\n\n<pre><code>perl -MSpreadsheet::ParseExcel -wle 'print $Spreadsheet::ParseExcel::VERSION'\n</code></pre>\n\n<p>In general, don't use the web documentation for Perl modules unless you're keeping up to date.  It probably won't be for your installed version.  Instead use <a href=\"http://perldoc.perl.org/perldoc.html\" rel=\"nofollow\"><code>perldoc</code></a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 5871358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aabc9c40e8dd4bb6057833e1b659b58b?s=128&d=identicon&r=PG&f=1", "display_name": "genji333", "link": "https://stackoverflow.com/users/5871358/genji333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 912, "favorite_count": 0, "accepted_answer_id": 35147900, "answer_count": 1, "score": 2, "last_activity_date": 1454399879, "creation_date": 1454398247, "question_id": 35147485, "link": "https://stackoverflow.com/questions/35147485/perl-cant-locate-object-method-worksheets-via-package-spreadsheetparseexc", "title": "Perl &#39;can&#39;t locate object method &quot;worksheets&quot; via package &quot;Spreadsheet::ParseExcel::Workbook&quot;&#39;", "body": "<p>I am trying to open two Excel .xls files for comparing. I included </p>\n\n<pre><code>    use Spreadsheet::ParseExcel;    \n</code></pre>\n\n<p>then, I continue my code as follow:</p>\n\n<pre><code>    my $parser_r   = Spreadsheet::ParseExcel-&gt;new();\n    my $resultbook = $parser_r-&gt;parse($absPathResult);\n    my $parser_i   = Spreadsheet::ParseExcel-&gt;new();\n    my $resultideal = $parser_i-&gt;parse($absPathIdeal);\n\n    @worksheetsListResult = $resultbook-&gt;worksheets();\n    @worksheetsListIdeal = $resultideal-&gt;worksheets();\n</code></pre>\n\n<p>the first error I encountered was \"can't locate object method \"parser\"...\", but that was solved by changing \"parser\" to \"Parser\".</p>\n\n<p>When I execute the script again, I am getting the error: can't locate object method \"worksheets\" via package \"Spreadsheet::ParseExcel::Workbook\".</p>\n\n<p>I am running the script in Linux, Perl v5.8.5. </p>\n\n<p>Any idea what is the possible problem here? I am new to Perl language. All comments are very much appreciated.</p>\n\n<p>PS: When I run the similar code in Windows, everything is working perfectly.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454407558, "post_id": 35147212, "comment_id": 58019363, "body": "Please format your post."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1454409924, "post_id": 35147212, "comment_id": 58020940, "body": "Add <code>use warnings</code>. Check the return value from <code>open()</code>. Use a lexical filehandle and the three-argument version of <code>open()</code>. Oh, and it&#39;s a good idea to show us code that, at least, compiles."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1454410306, "post_id": 35147212, "comment_id": 58021192, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8421100/how-to-delete-lines-matching-a-certain-pattern-in-perl\">How to delete lines matching a certain pattern in Perl?</a>"}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1454414979, "post_id": 35147212, "comment_id": 58024308, "body": "Try asking a question."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1454431773, "post_id": 35147212, "comment_id": 58036680, "body": "@tripleee It&#39;s not a dup of that post because the title of this question is misleading. The title of this question should be something more along the lines of &quot;How can I parse a report and generate a summary of different conditions?&quot;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454432681, "post_id": 35147212, "comment_id": 58037306, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/34973652/i-need-help-to-write-perl-program\">I need help to write PERL program</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5832492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8751756c4cc1268ea5f7ffaaa831e7b2?s=128&d=identicon&r=PG&f=1", "display_name": "Opal Koren", "link": "https://stackoverflow.com/users/5832492/opal-koren"}, "edited": false, "score": 0, "creation_date": 1454915135, "post_id": 35151628, "comment_id": 58239644, "body": "Hello Sobeique, when i try to run the script its says :Name &quot;main::Dumper&quot; used only once: possible typo at k.pl line 11. print() on unopened filehandle Dumper at k.pl line 11, &lt;$input&gt; chunk 1. print() on unopened filehandle Dumper at k.pl line 11, &lt;$input&gt; chunk 2. print() on unopened filehandle Dumper at k.pl line 11, &lt;$input&gt; chunk 3."}, {"owner": {"reputation": 51, "user_id": 5832492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8751756c4cc1268ea5f7ffaaa831e7b2?s=128&d=identicon&r=PG&f=1", "display_name": "Opal Koren", "link": "https://stackoverflow.com/users/5832492/opal-koren"}, "edited": false, "score": 0, "creation_date": 1454917424, "post_id": 35151628, "comment_id": 58240720, "body": "thats print:$VAR1 = {           &#39;ovbbccb&#39; =&gt; &#39;is running&#39;,           &#39;coda&#39; =&gt; &#39;is running&#39;,           &#39;ovconfd&#39; =&gt; &#39;is running&#39;,           &#39;opcmona&#39; =&gt; &#39;is running&#39;,           &#39;opcle&#39; =&gt; &#39;is running&#39;,           &#39;opcacta&#39; =&gt; &#39;is running&#39;,           &#39;ovcd&#39; =&gt; &#39;is running&#39;,           &#39;opcmsga&#39; =&gt; &#39;is running&#39;,           &#39;opcmsgi&#39; =&gt; &#39;is running&#39;         }; $VAR1 = {          &#39;ovbbccb&#39; =&gt; &#39;is running&#39;,          &#39;opcacta&#39; =&gt; &#39;is running&#39;,          &#39;ovcd&#39; =&gt; &#39;is running&#39;,           &#39;opcmsga&#39; =&gt; &#39;is running&#39;,           &#39;opcmsgi&#39; =&gt; &#39;is running&#39;         }; and i want it like results  please help me."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 51, "user_id": 5832492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8751756c4cc1268ea5f7ffaaa831e7b2?s=128&d=identicon&r=PG&f=1", "display_name": "Opal Koren", "link": "https://stackoverflow.com/users/5832492/opal-koren"}, "edited": false, "score": 0, "creation_date": 1454917965, "post_id": 35151628, "comment_id": 58240924, "body": "You missed a ; then but that&#39;s how to gather the data.  Format it as you wish."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1454916124, "last_edit_date": 1454916124, "creation_date": 1454410865, "answer_id": 35151628, "question_id": 35147212, "link": "https://stackoverflow.com/questions/35147212/how-can-i-parse-a-report-and-generate-a-summary-of-different-conditions/35151628#35151628", "title": "How can I parse a report and generate a summary of different conditions?", "body": "<p>This is easier than you think with <code>$/</code> - the record seperator. Set it to a double line feed, and then you can match records, not individual lines:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nlocal $/ = \"\\n\\n\";\n\nopen ( my $input, '&lt;', '/tmp/agentstas.dat') or die $!;\nwhile ( &lt;$input&gt; ) {\n    my ($name) = m/Node (\\w+)/; \n    my %proc_state = m/(\\w+)\\s+\\(\\d+\\) (.*)/g; \n    print Dumper \\%proc_state; \n\n    if ( m/isnt running/ ) { \n          print \"$name not running\\n\"; \n    }\n\n    if ( m/buffering/ ) { \n         print \"$name buffering\\n\";\n    }\n\n    if ( m/Cannot get status information/ ) {\n         print \"$name no status information\\n\"\n    }\n\n    if ( defined $name and not keys %proc_state ) { \n        print \"No process states from $name\\n\"; \n    }\n}\nclose ( $input ); \n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5832492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8751756c4cc1268ea5f7ffaaa831e7b2?s=128&d=identicon&r=PG&f=1", "display_name": "Opal Koren", "link": "https://stackoverflow.com/users/5832492/opal-koren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 35151628, "answer_count": 1, "score": -1, "last_activity_date": 1454916124, "creation_date": 1454397226, "last_edit_date": 1454432399, "question_id": 35147212, "link": "https://stackoverflow.com/questions/35147212/how-can-i-parse-a-report-and-generate-a-summary-of-different-conditions", "title": "How can I parse a report and generate a summary of different conditions?", "body": "<p>I want to delete specific lines from a file.</p>\n\n<p>The results I want are:</p>\n\n<pre><code>The Nodes that Running are: ls_sfda-new,risto4,\nThe Nodes that isnt Running are: atum1,\nThe Nodes that Buffering are: vmatum3,\nThe Nodes that Cannot get status are: vcmobile,\n</code></pre>\n\n<p>My text (contains about 60 nodes):</p>\n\n<pre><code>Node atum1:\nHPOM Managed Node status :\n-------------------------\nOV Performance Core       coda        (3568) isnt running\nOV Communication Broker   ovbbccb     (2348) is running\nOV Control                ovcd        (2088) is running\nOV Config and Deploy      ovconfd     (2516) is running\nSubagent EA:\nAction Agent              opcacta     (3372) is running\nLogfile Encapsulator      opcle       (3788) is running\nMonitor Agent             opcmona     (3668) is running\nMessage Agent             opcmsga     (3456) is running\nMessage Interceptor       opcmsgi     (3600) isnt running\nDone.\n\nNode vmatum3:\nHPOM Managed Node status :\n-------------------------\nOV Performance Core       coda        (3128) is running(buffering)\nOV Communication Broker   ovbbccb     (2112) is running\nOV Control                ovcd        (444) is running\nOV Config and Deploy      ovconfd     (2336) is running\nSubagent EA:\nAction Agent              opcacta     (3088) is running\nLogfile Encapsulator      opcle       (3180) is running\nMonitor Agent             opcmona     (3424) is running\nMessage Agent             opcmsga     (3236) is running\nMessage Interceptor       opcmsgi     (3348) is running\nDone.\n\nNode ls_sfda-new:\nHPOM Managed Node status :\n-------------------------\nOV Control                ovcd        (2236) is running\nOV Performance Core       coda        (3132) is running\nOV Communication Broker   ovbbccb     (2780) is running\nOV Config and Deploy      ovconfd     (3156) is running\nSubagent EA:\nAction Agent              opcacta     (256) is running\nLogfile Encapsulator      opcle       (300) is running\nMonitor Agent             opcmona     (392) is running\nMessage Agent             opcmsga     (400) is running\nMessage Interceptor       opcmsgi     (960) is running\nDone.\n\nNode risto4:\nHPOM Managed Node status :\n-------------------------\nOV Performance Core       coda        (3348) is running\nOV Communication Broker   ovbbccb     (1848) is running\nOV Control                ovcd        (2276) is running\nOV Config and Deploy      ovconfd     (4664) is running\nSubagent EA:\nAction Agent              opcacta     (4872) is running\nLogfile Encapsulator      opcle       (2912) is running\nMonitor Agent             opcmona     (2224) is running\nMessage Agent             opcmsga     (2392) is running\nMessage Interceptor       opcmsgi     (3436) is running\nDone.\n\nNode vcmobile:\nCannot get status information from node vcmobile.  (OpC40-428)\nNetwork communication problems occurred. (OpC40-427)\n\n-------------------------------------------------------------------------------\n CTRL - CommunicationException:\n-------------------------------------------------------------------------------\n(ctrl-21) Communication error when executing 'Status' method.\n (xpl-333) recv() on '[10.24.33.40]:383' failed.\n  (RTL-104) Connection reset by peer (OpC40-2130)\nFailed.\n</code></pre>\n\n<p>My code (I know I need an <code>elsif</code> loop but I need some help):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\nopen (FILE, \"/tmp/agentstas.dat\");\nmy @lines = &lt;FILE&gt;;\nmy $lines;\nmy $string = \"Node\";\nmy $badstring = \"hpom\";\nmy $buffering = \"buffering\";\nmy $Running = \"Running\";\nmy $isnt = \"isnt\";\nmy $Cannot = \"Cannot\";\n\nforeach $lines (@lines) {\n    if ($lines =~ /^$string/i || $lines !~ /^$badstring/i) { \n        print \"$lines\";\n    }\n</code></pre>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 62, "user_id": 5840161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec5f6a3d7b04389755997d9f2ef8923?s=128&d=identicon&r=PG&f=1", "display_name": "E Lewis", "link": "https://stackoverflow.com/users/5840161/e-lewis"}, "edited": false, "score": 0, "creation_date": 1454393625, "post_id": 35145928, "comment_id": 58034254, "body": "Here is a pretty good explanation of what the fat comma can be used for. <a href=\"http://stackoverflow.com/questions/4093895/how-does-double-arrow-operator-work-in-perl\" title=\"how does double arrow operator work in perl\">stackoverflow.com/questions/4093895/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1454392843, "post_id": 35146075, "comment_id": 58011641, "body": "Ok, so it has nothing to do with hashes?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1454393098, "post_id": 35146075, "comment_id": 58011717, "body": "@CJ7 Which part? If you&#39;re talking about <code>=&gt;</code>, you typically see it between key/value pairs in hash assignments, yes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454417550, "post_id": 35146075, "comment_id": 58026266, "body": "Re &quot;Ok, so it has nothing to do with hashes?&quot;, Correct. While often used when assigning to a hash, <code>=&gt;</code> can be used anywhere <code>,</code> is used."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454430821, "post_id": 35146075, "comment_id": 58035947, "body": "@ikegami Added clarification paragraph at end."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1454603216, "post_id": 35146075, "comment_id": 58128121, "body": "@CJ7 Did the clarification answer your question?"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 5, "last_activity_date": 1454430803, "last_edit_date": 1454430803, "creation_date": 1454392606, "answer_id": 35146075, "question_id": 35145928, "link": "https://stackoverflow.com/questions/35145928/hash-argument-to-constructor-in-perl/35146075#35146075", "title": "Hash argument to constructor in Perl?", "body": "<p>The constructor is called via indirect object syntax, which is discouraged (and usually a sign of old code). It would be better written as:</p>\n\n<pre><code>my $pdf = PDF::Extract-&gt;new(...);\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/perlobj.html#Indirect-Object-Syntax\" rel=\"nofollow\">perlobj</a> documentation recommends you avoid indirect object syntax for the following reasons:</p>\n\n<blockquote>\n  <p>First, it can be confusing to read. In the above example, it's not\n  clear if <code>save</code> is a method provided by the <code>File</code> class or simply a\n  subroutine that expects a file object as its first argument.</p>\n  \n  <p>When used with class methods, the problem is even worse. Because Perl\n  allows subroutine names to be written as barewords, Perl has to guess\n  whether the bareword after the method is a class name or subroutine\n  name. In other words, Perl can resolve the syntax as either\n  <code>File-&gt;new( $path, $data )</code> or <code>new( File( $path, $data ) )</code>.</p>\n</blockquote>\n\n<p>To answer your second question, the <code>=&gt;</code> is known as the fat comma, and <a href=\"http://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"nofollow\">perlop</a> has this to say about it:</p>\n\n<blockquote>\n  <p>The <code>=&gt;</code> operator (sometimes pronounced \"fat comma\") is a synonym for\n  the comma except that it causes a word on its left to be interpreted\n  as a string if it begins with a letter or underscore and is composed\n  only of letters, digits and underscores. This includes operands that\n  might otherwise be interpreted as operators, constants, single number\n  v-strings or function calls. If in doubt about this behavior, the left\n  operand can be quoted explicitly.</p>\n  \n  <p>Otherwise, the <code>=&gt;</code> operator behaves exactly as the comma operator or\n  list argument separator, according to context.</p>\n</blockquote>\n\n<p>In your example code, the constructor receives a list, just like if you had used a normal comma. In fact, your code is equivalent to this:</p>\n\n<pre><code>my $pdf = PDF::Extract-&gt;new('PDFDoc', 'test.pdf');\n</code></pre>\n\n<p>However, the thing that creates the hash is the assignment on the other side, which may look something like this:</p>\n\n<pre><code>sub new {\n    my $class = shift;\n    my %args = @_;\n    # ...\n}\n</code></pre>\n\n<p>The fat comma isn't used exclusively with hashes (nor is it required to initialize a hash, as I pointed out above), but you will typically see it anywhere there's a key/value association in a list of arguments. The shape of the characters makes it clear that \"this is related to that\". It also saves some typing of quote characters, which is a nice side benefit.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 35146075, "answer_count": 1, "score": 1, "last_activity_date": 1508598921, "creation_date": 1454391968, "last_edit_date": 1508598921, "question_id": 35145928, "link": "https://stackoverflow.com/questions/35145928/hash-argument-to-constructor-in-perl", "title": "Hash argument to constructor in Perl?", "body": "<pre><code>use PDF::Extract;\n$pdf=new PDF::Extract( PDFDoc=&gt;\"test.pdf\");\n$i=1;\n$i++ while ( $pdf-&gt;savePDFExtract( PDFPages=&gt;$i ) );\n</code></pre>\n\n<p>I am trying to understand the above Perl code.  It appears to be instantiating an object from a module.  What is the argument in the line that calls the constructor?  What does the <code>=&gt;</code> mean?  Is it a hash argument?</p>\n"}, {"tags": ["arrays", "perl", "autovivification"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1454391511, "post_id": 35145793, "comment_id": 58011156, "body": "That code will not run. Why don&#39;t you make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that displays the same problem you&#39;re experiencing?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454391607, "post_id": 35145793, "comment_id": 58011193, "body": "I&#39;m also not sure what you think is supposed to be happening with <code>($current_queue+1)%$thread_count</code>..."}, {"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454396430, "post_id": 35145793, "comment_id": 58013037, "body": "@MattJacob: <code>$current_queue=($current_queue+1)%$thread_count;</code> increments <code>$current_queue</code> by one modulo <code>$thread_count</code>. There&#39;s surely nothing weird there, is there? That said, I&#39;m unable to reproduce the problem as described, so I&#39;m voting to put this question on hold until an actual example demonstrating the unwanted behavior is provided."}, {"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1454396846, "post_id": 35145793, "comment_id": 58013225, "body": "(Also, I&#39;m not sure why the OP is defining <code>%QUEUES</code> as a hash, and then indexing it with integers from 0 to 19. Surely an array would be better for that? But at least that shouldn&#39;t affect the autovivification behavior in any way.)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1454396914, "post_id": 35145793, "comment_id": 58013262, "body": "@IlmariKaronen Yes, you&#39;re right. (And it&#39;s late in my timezone.) Whenever I see <code>%$</code> in Perl without a space, I immediately think that someone is trying to dereference a hash reference."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1454400211, "post_id": 35145793, "comment_id": 58014877, "body": "If you&#39;re using threads be sure to look into <a href=\"https://metacpan.org/pod/DBI#Threads-and-Thread-Safety\" rel=\"nofollow noreferrer\">the DBI docs on threads</a>. Otherwise I suspect your queries are returning nothing so the loops are never being run. Put a print or increment a counter inside the while loop to find out."}, {"owner": {"reputation": 1102, "user_id": 999595, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5bd09d642ab7c8f500491bd6850621e3?s=128&d=identicon&r=PG", "display_name": "jason dancks", "link": "https://stackoverflow.com/users/999595/jason-dancks"}, "reply_to_user": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1454416350, "post_id": 35145793, "comment_id": 58025357, "body": "@Ilmari Karonen I answered your question here: &quot;I was trying to push commands in an array, which I decided to keep in a hash because I thought I could keep my life easy and not do if(!defined($QUEUES[$current_queue]))$QUEUES[$current_queue]&zwnj;&#8203;=[];&quot;  edited for grammar."}, {"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1454417064, "post_id": 35145793, "comment_id": 58025916, "body": "@jasondancks: Ah, OK. I guess you didn&#39;t realize that arrays autovivify in Perl, too. Anyway, the code inside your loops works just fine. As Schwern notes above, most likely your loops never run in the first place, either because <code>$INPUT[$cnt]</code> is undefined, or because <code>fetchrow_array</code> never returns a non-empty list. But without an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>, we can&#39;t really tell why that might be happening."}], "answers": [{"comments": [{"owner": {"reputation": 1102, "user_id": 999595, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5bd09d642ab7c8f500491bd6850621e3?s=128&d=identicon&r=PG", "display_name": "jason dancks", "link": "https://stackoverflow.com/users/999595/jason-dancks"}, "edited": false, "score": 0, "creation_date": 1456260934, "post_id": 35153687, "comment_id": 58862315, "body": "Sorry for the long delay. Thank for your insightful answer. It turns out after some investigation that the loop in fact was never executing because <code>fetchrow_array</code> never returned anything. I still can&#39;t figure out why, or what I can do about it. Still, your answer was very helpful. thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1454416811, "last_edit_date": 1454416811, "creation_date": 1454416493, "answer_id": 35153687, "question_id": 35145793, "link": "https://stackoverflow.com/questions/35145793/perl-autovivification-doesnt-create-array-in-hash/35153687#35153687", "title": "Perl: autovivification doesn&#39;t create array in hash", "body": "<pre><code>push @{ $QUEUES{$current_queue} }, $walk;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>push @{ $QUEUES{$current_queue} //= [] }, $walk;\n</code></pre>\n\n<p>If that statement got executed when <code>$QUEUES{$current_queue}</code> didn't exist, <code>$QUEUES{$current_queue}</code> would get created, and it would be assigned a reference to an array with one element (a copy of <code>$walk</code>).</p>\n\n<p>So, if <code>%QUEUES</code> is empty, then the <code>push</code> statements were never executed.</p>\n"}], "owner": {"reputation": 1102, "user_id": 999595, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5bd09d642ab7c8f500491bd6850621e3?s=128&d=identicon&r=PG", "display_name": "jason dancks", "link": "https://stackoverflow.com/users/999595/jason-dancks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 35153687, "answer_count": 1, "score": -3, "last_activity_date": 1454416811, "creation_date": 1454391211, "last_edit_date": 1454416274, "question_id": 35145793, "link": "https://stackoverflow.com/questions/35145793/perl-autovivification-doesnt-create-array-in-hash", "title": "Perl: autovivification doesn&#39;t create array in hash", "body": "<p>I have this segment of a perl script:</p>\n\n<pre><code>my $thread_count = 20\n\nmy %QUEUES;\nmy $current_queue=0;\n\nwhile(defined($INPUT[$cnt]))\n{\n        while (my @instance = $q1-&gt;fetchrow_array)\n        {\n                my $walk = \"string\";\n                push @{$QUEUES{$current_queue}},$walk;\n                $current_queue=($current_queue+1)%$thread_count;\n        }\n\n        while (my @instance = $q2-&gt;fetchrow_array) {\n                my $walk = \"string\";\n                push @{$QUEUES{$current_queue}},$walk;\n                $current_queue=($current_queue+1)%$thread_count;\n        }\n}\n</code></pre>\n\n<p>I was trying to push commands in an array, which I decided to keep in a hash because I thought I could keep my life easy and not do <code>if(!defined($QUEUES[$current_queue]))$QUEUES[$current_queue]=[];</code> </p>\n\n<p>I used <code>Data::Dumper</code> and a regular for loop and found that nothing was defined for any key in $QUEUE, 0 to $thread_count-1. Isn't this a textbook auto-vivification usage? What am I doing wrong?</p>\n"}, {"tags": ["perl", "permissions", "executable"], "comments": [{"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 5, "creation_date": 1454389944, "post_id": 35145512, "comment_id": 58010652, "body": "<code>#!&#47;usr&#47;...</code> - note the third character."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1454390464, "post_id": 35145512, "comment_id": 58010800, "body": "@Amadan Why does the filename only tab-complete when I starting typing <code>.&#47;&lt;filename&gt;</code> and not when I just starting the filename?"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1454390903, "post_id": 35145512, "comment_id": 58010951, "body": "Because your current directory is not in your <code>$PATH</code>. If it&#39;s in your <code>$PATH</code>, you can execute simply by typing the name; if it is not, you need to specify the location."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1454391345, "post_id": 35145512, "comment_id": 58011103, "body": "@Amadan It doesn&#39;t make sense. Why is it like that?"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1454391451, "post_id": 35145512, "comment_id": 58011140, "body": "It only doesn&#39;t make sense if you are used to Windows and DOS. It is like that because of security reasons (e.g. you want to run <code>perl</code>, but someone puts a file named <code>perl</code> in current directory that deletes all your files - you don&#39;t want to be executing that)."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1454399700, "post_id": 35145512, "comment_id": 58014617, "body": "Actually, <code>#!usr&#47;local&#47;bin&#47;perl</code> will (probably) work OK provided you have a program called <code>perl</code> in the directory <code>.&#47;usr&#47;local&#47;bin</code> (a sub-directory of your current directory).  It&#39;s just that most people don&#39;t keep Perl there \u2014 they keep it in <code>&#47;usr&#47;bin</code> or <code>&#47;usr&#47;local&#47;bin</code>.  Of course, if your current directory was the root directory, <code>&#47;</code>, then the script would probably work. (I demoed it working OK on Mac OS X with: <code>mkdir -p usr&#47;bin; cp $(which cat) usr&#47;bin&#47;perl; echo &#39;#!usr&#47;bin&#47;perl -&#39; &gt; .&#47;ssss; echo &#39;This is not a Perl script&#39; &gt;&gt; .&#47;ssss; chmod +x .&#47;ssss; .&#47;ssss</code> \u2014 and typed some data.)"}], "answers": [{"tags": [], "owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1454399222, "creation_date": 1454399222, "answer_id": 35147719, "question_id": 35145512, "link": "https://stackoverflow.com/questions/35145512/how-to-make-perl-script-executable/35147719#35147719", "title": "How to make Perl script executable?", "body": "<p>At the top of your script, replace the <code>#!usr/local/bin/perl</code> with <code>#!/usr/bin/perl</code> notice the root '/' prior to the usr/</p>\n\n<p>And you can try <code>perl &lt;filename&gt;</code> keyword to run the file instead of <code>./&lt;filename&gt;</code>, using perl keyword should run the script regardless of the shebang line at the top of your script.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4545137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8ee31bf82239e7cfb3232b45f265e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/4545137/pavan"}, "is_accepted": false, "score": 0, "last_activity_date": 1454583597, "creation_date": 1454583597, "answer_id": 35199266, "question_id": 35145512, "link": "https://stackoverflow.com/questions/35145512/how-to-make-perl-script-executable/35199266#35199266", "title": "How to make Perl script executable?", "body": "<p>replace your first line <code>#!usr/local/bin/perl</code> with <code>#!usr/bin/perl</code>(which is called Shebang). Then you can run the file with <code>perl &lt;Path To File&gt;</code>.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2706, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454583597, "creation_date": 1454389788, "last_edit_date": 1454450923, "question_id": 35145512, "link": "https://stackoverflow.com/questions/35145512/how-to-make-perl-script-executable", "title": "How to make Perl script executable?", "body": "<p>I have given a perl script file executable permission on a Unix based system, but when I try to execute the file I get a <code>\"command not found\"</code> error. I have <code>#!usr/local/bin/perl</code> at the start of the script file.</p>\n"}, {"tags": ["regex", "perl", "replace", "find", "match"], "answers": [{"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 2, "last_activity_date": 1454392619, "last_edit_date": 1454392619, "creation_date": 1454391492, "answer_id": 35145853, "question_id": 35145282, "link": "https://stackoverflow.com/questions/35145282/in-perl-regex-find-replace-how-to-individually-pick-out-each-match-result/35145853#35145853", "title": "In Perl regex &quot;find &amp; replace&quot;, how to individually pick out each match result?", "body": "<p>You can execute code inside a replacement with the e modifier (<a href=\"http://perldoc.perl.org/perlretut.html#Search-and-replace\" rel=\"nofollow\">see perlretut</a>):</p>\n\n<pre><code>my $txt = \"\nthis is a statement //this is comment\n//this is a line of comment\nmore statements //more comments\n\";\n\nmy @comments;\n\n$txt =~ s{(//.*\\n)} {push(@comments, $1);\"foo\"}eg;\n\nprint $_ foreach (@comments);\n</code></pre>\n\n<p>Other way: Since you are looking for inline comments, you can also work line by line with a loop and without the g modifier.</p>\n\n<p>Notes:</p>\n\n<ul>\n<li>If you want to preserve newlines, remove <code>\\n</code> from the pattern.</li>\n<li>removing comments from a code can be more complicated than you think. For example, the character sequence <code>//</code> can be enclosed in a string, so the more secure way to do it is to use an appropriate parser.</li>\n</ul>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 35145853, "answer_count": 1, "score": 2, "last_activity_date": 1454392619, "creation_date": 1454388587, "question_id": 35145282, "link": "https://stackoverflow.com/questions/35145282/in-perl-regex-find-replace-how-to-individually-pick-out-each-match-result", "title": "In Perl regex &quot;find &amp; replace&quot;, how to individually pick out each match result?", "body": "<p>I want to use Perl to perform \"search and replace\" on text file, and store each match result (as an element) into an array while the replacement is done. I tried this:</p>\n\n<pre><code>my $txt = \"\nthis is a statement //this is comment\n//this is a line of comment\nmore statements //more comments\n\";\n\n## foreach or while\nwhile ($txt =~ s/(\\/\\/.*?\\n)/foo/gs) {\n        if(defined $1) {\n                push (@comments, $1);\n                }\n        }\n\nforeach (0..$#comments) {\n        print \"\\@comments[$_]= @comments[$_]\";\n        }\n</code></pre>\n\n<p>====> However the result only gives me:</p>\n\n<pre><code>@comments[0]= //more comments\n</code></pre>\n\n<p>Whereas, what I expect is:</p>\n\n<pre><code>@comments[0]= //this is comment\n@comments[1]= //this is a line of comment\n@comments[2]= //more comments\n</code></pre>\n\n<p>Any hints on the issue? Thanks &amp; 3q in advance~</p>\n"}, {"tags": ["perl", "sudo", "centos6", "perlbrew", "cpanm"], "answers": [{"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": -1, "last_activity_date": 1485093090, "last_edit_date": 1490005101, "creation_date": 1454385828, "answer_id": 35144832, "question_id": 35144752, "link": "https://stackoverflow.com/questions/35144752/cpanm-perlbrew-not-working-with-sudo/35144832#35144832", "title": "cpanm, perlbrew not working with sudo", "body": "<p>Possible duplicate of <em><a href=\"https://superuser.com/questions/709515/command-not-found-when-using-sudo\">Command mvn and error message \u201ccommand not found\u201d when using sudo</a></em> (cross-site).</p>\n\n<p>sudo does not invoke a login shell, so it doesn't install any of your (modified) PATH's. Add the path of <code>rakudobrew/bin</code> to the <code>secure_path</code> in <code>/etc/sudoers</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 338, "user_id": 3575160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce81014816a203974a74727504866947?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hutchinson", "link": "https://stackoverflow.com/users/3575160/chris-hutchinson"}, "is_accepted": false, "score": 1, "last_activity_date": 1498281698, "creation_date": 1498281698, "answer_id": 44733052, "question_id": 35144752, "link": "https://stackoverflow.com/questions/35144752/cpanm-perlbrew-not-working-with-sudo/44733052#44733052", "title": "cpanm, perlbrew not working with sudo", "body": "<p>Use the --sudo option for cpanm</p>\n\n<p>cpanm --sudo some::package</p>\n\n<p>or run sudo with -E to preserve environment, and pass PATH</p>\n\n<pre><code>sudo -E PATH=\"$PATH\" cpanm some::package\n</code></pre>\n\n<p>This works if you have a perlbrew-ed Perl</p>\n"}], "owner": {"reputation": 7, "user_id": 4967535, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2ce03e0d44575898a77e53c5efaa4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Khiem Nguyen", "link": "https://stackoverflow.com/users/4967535/khiem-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1247, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498281698, "creation_date": 1454385242, "last_edit_date": 1485092514, "question_id": 35144752, "link": "https://stackoverflow.com/questions/35144752/cpanm-perlbrew-not-working-with-sudo", "title": "cpanm, perlbrew not working with sudo", "body": "<p>I'm using CentOS 6.6 and install Perl, <code>cpanm</code>, and Perlbrew to it. But when I try to run Perlbrew (to install specific Perl version) or <code>cpanm</code> with sudoer permission, a \"not found error\" comes out:</p>\n\n<pre><code>sudo: cpanm: command not found\nsudo: perlbrew: command not found\n</code></pre>\n\n<p>It's OK when running without sudoers permission or root permission. How can I fix this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "edited": false, "score": 4, "creation_date": 1454381395, "post_id": 35144157, "comment_id": 58008359, "body": "The second <code>if</code> statement is using the numerical equality operator <code>==</code> to test strings.  This should be <code>eq</code>, the string equality operator."}, {"owner": {"reputation": 8726, "user_id": 597305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ad05a19a937275934237503fc77d887?s=128&d=identicon&r=PG", "display_name": "Bill Ruppert", "link": "https://stackoverflow.com/users/597305/bill-ruppert"}, "edited": false, "score": 1, "creation_date": 1454381624, "post_id": 35144157, "comment_id": 58008424, "body": "The first one will match too much - any string with send, regd, etc in them."}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 4216992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbAG3.jpg?s=128&g=1", "display_name": "Salehin Rafi", "link": "https://stackoverflow.com/users/4216992/salehin-rafi"}, "edited": false, "score": 0, "creation_date": 1454553491, "post_id": 35144310, "comment_id": 58100138, "body": "thank you for the answer and for simple explanation. :)"}], "tags": [], "owner": {"reputation": 5916, "user_id": 3068258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7ecfa82e529a576cbc6ef661b9c9815?s=128&d=identicon&r=PG", "display_name": "Andy Schweig", "link": "https://stackoverflow.com/users/3068258/andy-schweig"}, "is_accepted": true, "score": 5, "last_activity_date": 1454387619, "last_edit_date": 1454387619, "creation_date": 1454382198, "answer_id": 35144310, "question_id": 35144157, "link": "https://stackoverflow.com/questions/35144157/differences-in-if-condition/35144310#35144310", "title": "Differences in if condition", "body": "<p>First of all, as the commenter mentioned, == does a numeric comparison. if a string doesn't look like a number, its numeric value is 0, so it's likely that $command would appear to be equal to all of those strings if == is used. The correct way to compare strings is with eq, e.g., <code>if ($command eq \"send\")</code>.</p>\n\n<p>Even with the correct equality operator, there's still a difference. The first version uses a pattern match and the pattern isn't anchored, so it can match anywhere in the string. For example, if <code>$command</code> is \"blahblahsendxxxxxx\", <code>$command =~ /send/</code> is true. You can anchor the pattern to make sure it matches the entire string by placing a ^ at the beginning and a $ at the end.</p>\n"}, {"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1454385790, "post_id": 35144689, "comment_id": 58009449, "body": "The comparisons get worse if the name provided doesn&#39;t match (so one of the words passed to the test is <code>cataclysm</code> or <code>tectonic</code> or something else).  Then it has to do more work each time to establish that it doesn&#39;t match, whereas the regex detects the mismatch very much more quickly.  A word such as <code>failure</code> or <code>success</code> would make the regex work a little more (it would have to process 4 characters instead of just 1), but it is still quicker as the number of alternatives increases."}, {"owner": {"reputation": 331, "user_id": 4216992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbAG3.jpg?s=128&g=1", "display_name": "Salehin Rafi", "link": "https://stackoverflow.com/users/4216992/salehin-rafi"}, "edited": false, "score": 0, "creation_date": 1454553700, "post_id": 35144689, "comment_id": 58100193, "body": "@Joshua I&#39;m appreciate for your answer between Performance and Readability. I will consider it when do a coding in a future. TQSM. Cheers."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1454385935, "last_edit_date": 1454385935, "creation_date": 1454384826, "answer_id": 35144689, "question_id": 35144157, "link": "https://stackoverflow.com/questions/35144157/differences-in-if-condition/35144689#35144689", "title": "Differences in if condition", "body": "<p>As Andy mentioned, you need to use <code>eq</code> and not <code>==</code>, and should anchor your regex. You also don't need to wrap every condition in your <code>||</code> chain in parenthesis in this case.</p>\n\n<p>There are 2 'differences' I can think of: Performance and Readability. The '||' chain is more performant, but only slightly. If you added more terms, the regex would eventually beat it. The regex is probably more readable, and easier to extend and modify.</p>\n\n<p>Here's the Benchmark I used to check performance.</p>\n\n<pre><code>use Benchmark 'cmpthese';\n\nmy $cmd = 'recv';\n\ncmpthese( -1, {\n    REG =&gt; sub {\n        if ($cmd =~ /^(?:send|regd|succ|fail|recv)$/) {\n            return 1;\n        }   \n    },  \n    OR  =&gt; sub {\n        if ($cmd eq 'send'||$cmd eq 'regd'||$cmd eq 'succ'||$cmd eq 'fail'||$cmd eq 'recv') {\n            return 1;\n        }   \n    },  \n});\n</code></pre>\n\n<p>I'm checking for <code>recv</code> as it's the last in the chain should be the slowest to pass.</p>\n\n<p>However, if it's performance your after, define a hash of the valid commands at the top of your script. Later, you can just check if the hash contains that command key. It's far and away the fastest method. It's also very readable, and trivially easy to extend with additional commands.</p>\n\n<pre><code>my %valid = map { $_ =&gt; 1 } qw( send regd succ fail recv );\n# Later ...\nif ( $valid{$cmd} ) { return 1; }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 5821944, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6a7951a617c081e5cecffe14665c0a5c?s=128&d=identicon&r=PG&f=1", "display_name": "stangada", "link": "https://stackoverflow.com/users/5821944/stangada"}, "is_accepted": false, "score": 0, "last_activity_date": 1454505589, "creation_date": 1454505589, "answer_id": 35178214, "question_id": 35144157, "link": "https://stackoverflow.com/questions/35144157/differences-in-if-condition/35178214#35178214", "title": "Differences in if condition", "body": "<p>Explanation for first condition: The string \"$command\" matches any of the text/portion of the text with the value \"send\" or \"regd\" or \"succ\" or \"fail\" or \"recv\" irrespective of the position. </p>\n\n<p>Explanation for second condition: The second code syntax should should have been \n    if ($command eq \"send\" || $command eq \"regd\" || $command eq \"succ\" || $command eq \"fail\" || $command eq \"recv\") instead of the one stated above. Unlike the first condition, in the second condition the string $command should exactly match the text \"send\" or \"regd\" or \"succ\" or \"fail\" or \"recv\"</p>\n"}], "owner": {"reputation": 331, "user_id": 4216992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbAG3.jpg?s=128&g=1", "display_name": "Salehin Rafi", "link": "https://stackoverflow.com/users/4216992/salehin-rafi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 35144310, "answer_count": 3, "score": 2, "last_activity_date": 1454505589, "creation_date": 1454381209, "last_edit_date": 1454382601, "question_id": 35144157, "link": "https://stackoverflow.com/questions/35144157/differences-in-if-condition", "title": "Differences in if condition", "body": "<p>I found this while exploring some working code. \nAlso in perl coding I am still a newbie. Here is my question:\n<strong>What the differences between this IF condition</strong>?</p>\n\n<pre><code>if ($command =~ /send|regd|succ|fail|recv/)\n</code></pre>\n\n<p>and this one</p>\n\n<pre><code>if ( ($command == \"send\") || ($command == \"regd\") || ($command == \"succ\")\n     || ($command == \"fail\") || ($command == \"recv\"))\n</code></pre>\n"}, {"tags": ["perl", "soap"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454376635, "post_id": 35143359, "comment_id": 58007196, "body": "What namespace URL is it sending?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454377818, "post_id": 35143359, "comment_id": 58007487, "body": "The response suggests the root element SOAP::Lite created was a <code>{http:&#47;&#47;schemas.xmlsoap.org&#47;wsdl&#47;soap&#47;}Envelope</code>. It should be <code>{http:&#47;&#47;schemas.xmlsoap.org&#47;soap&#47;envelope&#47;}Envelope</code> Could you confirm which one SOAP::Lite used?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454377852, "post_id": 35143359, "comment_id": 58007499, "body": "I&#39;d like to see <code>wsdl.txt</code>. I bet something in there is confusing SOAP::Lite. It&#39;s not a very robust module. In fact, I think I&#39;ve heard of this before. Check if <code>wsdl.txt</code> uses the <code>soap</code> prefix. If so, renaming that prefix should do the trick."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454526376, "post_id": 35143359, "comment_id": 58088063, "body": "@ysth, Did you get anywhere?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454527615, "post_id": 35143359, "comment_id": 58088851, "body": "@ikegami: yes, it seems like the whole <code>-&gt;service</code> approach doesn&#39;t really work.  maybe this is an area where SOAP::Lite doesn&#39;t really support soap 1.1.  I will post what I ended up with within the next few days."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454527714, "post_id": 35143359, "comment_id": 58088913, "body": "Changing <code>soap</code> for a different prefix in <code>wsdl.txt</code> didn&#39;t help? Dang. I was sure I remembered that being the problem."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1454527913, "post_id": 35143359, "comment_id": 58089055, "body": "you mean the <code>xmlns:soap=&quot;http:&#47;&#47;schemas.xmlsoap.org&#47;wsdl&#47;soap&#47;&quot;</code>?  I didn&#39;t try that.  I will try to post an MCVE too if I have time"}], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 685, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1454377874, "creation_date": 1454375306, "question_id": 35143359, "link": "https://stackoverflow.com/questions/35143359/soaplite-sending-wrong-envelope-namespace", "title": "SOAP::Lite sending wrong Envelope namespace?", "body": "<p>I'm trying to send a message to a SOAP service and getting an error:</p>\n\n<p><code>&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;&lt;soap:Body&gt;&lt;soap:Fault&gt;&lt;faultcode&gt;soap:VersionMismatch&lt;/faultcode&gt;&lt;faultstring&gt;\"http://schemas.xmlsoap.org/wsdl/soap/\", the namespace on the \"Envelope\" element, is not a valid SOAP version.&lt;/faultstring&gt;&lt;/soap:Fault&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;</code></p>\n\n<p>My code:</p>\n\n<pre><code>use 5.014;\nuse warnings 'FATAL' =&gt; 'all';\n\nuse SOAP::Lite +trace =&gt; 'all';\n\nmy %data = (\n    ...\n);\n\nmy $service = SOAP::Lite-&gt;service('file:wsdl.txt'); \n$service-&gt;...(\n    SOAP::Data-&gt;name('userId')-&gt;value('...'),\n    SOAP::Data-&gt;name('password')-&gt;value('...'),\n    map( SOAP::Data-&gt;name($_)-&gt;value($data{$_})-&gt;type('string'), sort keys %data )\n);\n</code></pre>\n\n<p>SOAP::Lite version is 1.09.</p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1454372692, "post_id": 35142593, "comment_id": 58006089, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/8411684/xmllibxml-replace-element-value\" title=\"xmllibxml replace element value\">stackoverflow.com/questions/8411684/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1454375355, "post_id": 35142593, "comment_id": 58006796, "body": "@Robert, That question is actually a more specific case of this one (being limited to XML::LibXML). Furthermore, this question is well phrased and well answered for future reference. If one of two should be closed, I would prefer for it to be the other one (even though the leading answer with &gt;10 votes is mine)."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454375278, "post_id": 35143161, "comment_id": 58006775, "body": "There&#39;s a shortcut that could be used here: <code>$label-&gt;appendText(&quot;new text&quot;);</code>"}], "tags": [], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "is_accepted": false, "score": 2, "last_activity_date": 1454374028, "creation_date": 1454374028, "answer_id": 35143161, "question_id": 35142593, "link": "https://stackoverflow.com/questions/35142593/perl-changing-html-element-label-by-id/35143161#35143161", "title": "Perl: Changing html element Label by ID", "body": "<p>Get an HTML or <a href=\"http://search.cpan.org/dist/XML-LibXML/LibXML.pod\" rel=\"nofollow\">XML parser</a> find the element (e.g., by <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/XPathContext.pod\" rel=\"nofollow\">XPath expression</a>), and remove all its child text nodes, and add a new text node with the text you want.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $dom = XML::LibXML-&gt;load_html(location =&gt; 'myfile.html');\nmy $xpath = XML::LibXML::XPathContext-&gt;new($dom);\nforeach my $label ($xpath-&gt;findnodes('//label[@id=\"lblMessage\"]')) {\n    $label-&gt;removeChildNodes();\n    $label-&gt;addChild($dom-&gt;createTextNode(\"new text\"));\n}\n</code></pre>\n\n<p>Caveat: if there are other nodes (elements, like <code>&lt;b&gt;</code> or <code>&lt;span&gt;</code>) in your label, these get removed as well.</p>\n\n<p>You probably need to add some code to write the modified html back to a file.</p>\n"}, {"tags": [], "owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "is_accepted": false, "score": 2, "last_activity_date": 1454374252, "creation_date": 1454374252, "answer_id": 35143198, "question_id": 35142593, "link": "https://stackoverflow.com/questions/35142593/perl-changing-html-element-label-by-id/35143198#35143198", "title": "Perl: Changing html element Label by ID", "body": "<p>I, personally like <a href=\"https://metacpan.org/pod/HTML::TreeBuilder\" rel=\"nofollow\">HTML::TreeBuilder</a> for this sort of task.</p>\n\n<pre><code>use HTML::TreeBuilder;\n\nmy $html = &lt;&lt;END;\n    &lt;div id=\"container\"&gt;\n        &lt;form id=\"form\" action=\"../code.cgi\" method=\"post\"&gt;\n            &lt;label id=\"lblMessage\" class=\"text\"&gt;Message&lt;/label&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\nEND\n\nmy $root = HTML::TreeBuilder-&gt;new_from_content( $html );\n$root-&gt;elementify();  # Become a tree of HTML::Element objects.\n\nmy $message = $root-&gt;find_by_attribute( 'id', 'lblMessage' )\n    or die \"No such element\";\n\n$message-&gt;delete_content();\n$message-&gt;push_content('I am new stuff');\n\nprint $root-&gt;as_HTML();\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5870197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cf5716b97c40a3daf2d98f058dd056?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5870197/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454374252, "creation_date": 1454370391, "question_id": 35142593, "link": "https://stackoverflow.com/questions/35142593/perl-changing-html-element-label-by-id", "title": "Perl: Changing html element Label by ID", "body": "<p>How does one with perl change an html element's value using the html element's ID. How do you do this in the code.</p>\n\n<p>For example:</p>\n\n<pre><code>        &lt;div id=\"container\"&gt;\n            &lt;form id=\"form\" action=\"../code.cgi\" method=\"post\"&gt;\n                &lt;label id=\"lblMessage\" class=\"text\"&gt;Message&lt;/label&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>How would I change the label's text in my perl script?</p>\n"}, {"tags": ["arrays", "perl", "sorting"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454362687, "post_id": 35140747, "comment_id": 58002064, "body": "Please write in English. IOW doesn&#39;t come up immediately if I google, and to me means Isle of Wight. And are you saying that there is a comma each side of the tab?"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454363025, "post_id": 35140747, "comment_id": 58002264, "body": "@Borodin &quot;In other words&quot;..."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454363087, "post_id": 35140747, "comment_id": 58002294, "body": "I can&#39;t tell what the three lines you posted are supposed to represent. Is that the actual file contents? Is that your idea of what the array looks like? Also, what have you tried so far, and in what way is it not doing what you expect?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1454363138, "post_id": 35140747, "comment_id": 58002324, "body": "@BenjaminW.: Ah! Thanks. I was wondering about \u201cI only want\u201d"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "edited": false, "score": 0, "creation_date": 1454520743, "post_id": 35140928, "comment_id": 58084643, "body": "Better; thanks! Could it be because I changed it to declare <code>$aa, $bb</code> <b>outside</b> the <code>sort</code>? Still have the following names out of order, though: <code>Oliver\taabeginningWilliams Christina\tvan Melzen Ekatarina\tvan den Rekk</code> as there are two whitespaces in the <code>van *</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "edited": false, "score": 0, "creation_date": 1454521951, "post_id": 35140928, "comment_id": 58085421, "body": "@marksealey: <i>&quot;Could it be because I changed it to declare <code>$aa, $bb</code> <b>outside</b> the sort?&quot;</i> Probably not, unless you have the whole assignment line outside the block. But don&#39;t do that. It&#39;s sounds like you are one of the people who has all of your variables declared in a huge block at the top of the program, in twenty-year-old C-style. That defeats the advantages of <code>use strict</code>, and everything should be declared as <i>late</i> as possible, usually where it is first assigned."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "edited": false, "score": 0, "creation_date": 1454522216, "post_id": 35140928, "comment_id": 58085587, "body": "@marksealey: <i>&quot;I still have the following names out of order, though</i>&quot;. So does your data for those look like this  <code>(&quot;Oliver\\taabeginningWilliams\\n&quot;, &quot;Christina\\tvan Melzen\\n&quot;, &quot;Ekatarina\\tvan den Rekk\\n&quot;)</code>? That would be because lower-case letters are sorted <i>after</i> upper-case ones. To sort names independently of case you should use the <code>fc</code> feature of Perl to &quot;fold&quot; the case. I&#39;ll amend my answer again"}, {"owner": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "edited": false, "score": 0, "creation_date": 1454526290, "post_id": 35140928, "comment_id": 58088002, "body": "thanks so much! All working now :-)  Yes, I typically do declare everything in carefully commented blocks at the top - because I learnt Perl almost 20 years ago too and don&#39;t use it often enough to refine it this way! But now, having followed the suggestions you have so kindly and patiently offered, it&#39;s all working just as it should. I&#39;ve learnt a lot. Again, much appreciated!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "edited": false, "score": 0, "creation_date": 1454526855, "post_id": 35140928, "comment_id": 58088359, "body": "@marksealey: <i>&quot;I typically do declare everything in carefully commented blocks at the top&quot;</i> Perl doesn&#39;t read the comments! I trust that you <code>use strict</code> and <code>use warnings &#39;all&#39;</code>, but that won&#39;t protect you from accidentally reusing the same variable name and getting obscure bugs as a result. The scope of all variables should be as small as possible"}, {"owner": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "edited": false, "score": 0, "creation_date": 1454528845, "post_id": 35140928, "comment_id": 58089581, "body": "thanks again! I know about the comments :-) said that as a mark of meticulousness. I appreciate your advice. Clearly need to do some relearning! Comments about scope noted."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1467890028, "last_edit_date": 1467890028, "creation_date": 1454363016, "answer_id": 35140928, "question_id": 35140747, "link": "https://stackoverflow.com/questions/35140747/how-to-sort-a-perl-array-on-every-nth-element/35140928#35140928", "title": "How to sort a Perl array on every nth element", "body": "<p>What I think you mean is this</p>\n\n<pre><code>my @sorted_names = sort {\n    my ($aa, $bb) = map [ split /\\t/ ], $a, $b;\n    $aa-&gt;[1] cmp $bb-&gt;[1] or $aa-&gt;[0] cmp $bb-&gt;[0];\n} @names;\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>Here's the data directly from your comment applied to my sort above. As you can see, the output is sorted by last name followed by first name</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @names = (\n    \"Mike\\tEddelman\\n\",\n    \"Saleena\\tFAhmad\\n\",\n    \"Patrick\\tGainley\\n\",\n    \"Tim\\tHaitkin\\n\",\n    \"Sue\\tHaitken\\n\",\n    \"Desmond\\tLeacock\\n\",\n);\n\nmy @sorted_names = sort {\n    my ($aa, $bb) = map [ split /\\t/ ], $a, $b;\n    $aa-&gt;[1] cmp $bb-&gt;[1] or $aa-&gt;[0] cmp $bb-&gt;[0];\n} @names;\n\nprint @sorted_names;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Mike    Eddelman\nSaleena FAhmad\nPatrick Gainley\nSue Haitken\nTim Haitkin\nDesmond Leacock\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>To do a case-independent sort you should use <code>fc</code> on each value to be compared</p>\n\n<p><strong><em>Note</em></strong> the</p>\n\n<pre><code>use feature 'fc'\n</code></pre>\n\n<p>at the top of the program which is essential for this to work. This is available only on version 16 and later of Perl 5</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.16;\nuse feature 'fc';\n\nmy @names = (\n    \"Mike\\tEddelman\\n\",\n    \"Saleena\\tFAhmad\\n\",\n    \"Patrick\\tGainley\\n\",\n    \"Tim\\tHaitkin\\n\",\n    \"Sue\\tHaitken\\n\",\n    \"Desmond\\tLeacock\\n\",\n    \"Oliver\\taabeginningWilliams\\n\",\n    \"Christina\\tvan Melzen\\n\",\n    \"Ekatarina\\tvan den Rekk\\n\",\n);\n\nmy @sorted_names = sort {\n    my ($aa, $bb) = map [ split /\\t/ ], $a, $b;\n    fc $aa-&gt;[1] cmp fc $bb-&gt;[1] or fc $aa-&gt;[0] cmp fc $bb-&gt;[0];\n} @names;\n\nprint @sorted_names;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Oliver  aabeginningWilliams\nMike    Eddelman\nSaleena FAhmad\nPatrick Gainley\nSue Haitken\nTim Haitkin\nDesmond Leacock\nEkatarina   van den Rekk\nChristina   van Melzen\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454376464, "post_id": 35143238, "comment_id": 58007147, "body": "In general you shouldn&#39;t start to optimise your code until it is complete and tested and you have found it to be too slow. In that situation you should profile your code to find the bottlenecks and optimise those rather than just improving things at random."}, {"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454376779, "post_id": 35143238, "comment_id": 58007230, "body": "@Borodin, agreed.  Also, one, er me, shouldn&#39;t make blanket statements about speed without benchmarks.  I got it half right.  However, The Schwartz is a pretty standard perl idiom, and it is worth documenting."}, {"owner": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "edited": false, "score": 0, "creation_date": 1454431024, "post_id": 35143238, "comment_id": 58036121, "body": "Borodin, daotoad,  Thanks very much for your help. But I can&#39;t get either to work as I want.  My fault for not articulating correctly how I think the array is constructed - as Matt asks.  So far I&#39;m reading in a text file with 3 components on each line: FirstName TAB LastNames. I&#39;m pushing the FirstName TAB LastNames onto @names.  Borodin&#39;s completes but doesn&#39;t sort as expected - producing:  FirstName1 FirstName2 FirstName3 LastName1 LastName2 LastName3  It doesn&#39;t preserve the TABs  daotoad&#39;s results in: &#39;Can&#39;t use string (&quot;0&quot;) as an ARRAY ref while &quot;strict refs&quot; in use at line 130&#39;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "edited": false, "score": 0, "creation_date": 1454462912, "post_id": 35143238, "comment_id": 58052095, "body": "@marksealey: My code doesn&#39;t modify the contents of <code>@namesd</code> at all, it just reorders them, so everything is &quot;perserved&quot;. I assumed that by <code>TAB</code> you meant the horizontal tab character, which isn&#39;t a separate field. If not then I can&#39;t imagine what you might mean. Do you have the literal characters <code>TAB</code> in your file? Add <code>use Data::Dumper; $Data::Dumper::Useqq = 1; $Data::Dumper::Terse = 1; print Dumper \\@names;</code> to your code and put the result in your question so that we can see what you&#39;re really dealing with"}, {"owner": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454518503, "post_id": 35143238, "comment_id": 58083083, "body": "@borodin, Thanks. I&#39;ve made progress. Got your code to half-work by recoding the way I build the array(s). So maybe best to ask you to advise on that first, please: it now sorts - but only on FIRST name! Array formed (per &#39;Dumper&#39;) thus: <code>&quot;Mike\\tEddelman\\n&quot;,   &quot;Saleena\\tFAhmad\\n&quot;,   &quot;Patrick\\tGainley\\n&quot;,   &quot;Tim\\tHaitkin\\n&quot;,   &quot;Sue\\tHaitken\\n&quot;,   &quot;Desmond\\tLeacock\\n&quot;,</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "edited": false, "score": 0, "creation_date": 1454519792, "post_id": 35143238, "comment_id": 58083991, "body": "@marksealey: Well I have no idea what you&#39;re doing but that just isn&#39;t true. Please see my solution, which I have updated to show my code applied to the data you have posted in your comment. The result is exactly what you asked for. I notice you still have the newlines at the end of each name, which you should remove with <code>chomp @names</code>, ore preferably by using <code>chomp</code> on each line as you read it from the file"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454520030, "post_id": 35143238, "comment_id": 58084143, "body": "@daotoad: I&#39;ve just discovered that your solution is also wrong. The sort expression needs to be in a <i>block</i>"}], "tags": [], "owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "is_accepted": false, "score": 1, "last_activity_date": 1455055719, "last_edit_date": 1455055719, "creation_date": 1454374564, "answer_id": 35143238, "question_id": 35140747, "link": "https://stackoverflow.com/questions/35140747/how-to-sort-a-perl-array-on-every-nth-element/35143238#35143238", "title": "How to sort a Perl array on every nth element", "body": "<p>Borodin's answer is fine if you only have a small group of things to sort.  You can use a Schwartzian transform to make things more efficient though.</p>\n\n<pre><code>my @sorted_names = \n    map $_-&gt;[1],                    # Extract original values\n    sort { \n      $a-&gt;[0][1] cmp $b-&gt;[0][1]  # Two level sort\n      || $a-&gt;[0][0] cmp $b-&gt;[0][0]\n    }  \n    map [ [split /\\t/], $_ ],       # Precompute comparison function, saving original values\n    @names;\n</code></pre>\n\n<p>Caution - I haven't benchmarked this.  For some data sets repeatedly splitting the strings may be faster than accessing the deep array structure.  In general, if you have expensive sort criteria and a big data set, this technique is a winner.</p>\n"}], "owner": {"reputation": 19, "user_id": 3923785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cc0b68f473cb69c4a0982e6a47848f7?s=128&d=identicon&r=PG&f=1", "display_name": "marksealey", "link": "https://stackoverflow.com/users/3923785/marksealey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 35140928, "answer_count": 2, "score": -2, "last_activity_date": 1467890028, "creation_date": 1454362357, "last_edit_date": 1454363326, "question_id": 35140747, "link": "https://stackoverflow.com/questions/35140747/how-to-sort-a-perl-array-on-every-nth-element", "title": "How to sort a Perl array on every nth element", "body": "<p>I have a Perl array read from a tab-separated file in the format:</p>\n\n<pre><code>FirstName1 TAB LastName1\nFirstName2 TAB LastName2\nFirstName3 TAB LastName3\n</code></pre>\n\n<p>There are three elements per line -- FirstName, TAB, LastName -- which is necessary because not all last names are single strIngs</p>\n\n<p>For instance</p>\n\n<pre><code>Betty Van der Bildt\n</code></pre>\n\n<p>How do I sort the array on LastName then FirstName, preserving the TABs, please?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 3, "creation_date": 1454362336, "post_id": 35140675, "comment_id": 58001843, "body": "See <a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow noreferrer\">File::Basename</a>"}], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 4, "last_activity_date": 1454362213, "creation_date": 1454362213, "answer_id": 35140708, "question_id": 35140675, "link": "https://stackoverflow.com/questions/35140675/regex-to-match-substring-of-file-path/35140708#35140708", "title": "Regex to match substring of file path", "body": "<p><a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow\">File::Basename</a> can do this for you:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse File::Basename qw(dirname);\n\nmy $in  = '/usr/local/bin/mybinary';\nmy $out = dirname($in);\nprint \"$out\\n\";\n\n__END__\n\n/usr/local/bin\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1138, "user_id": 4459651, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/37b8ee753181f0da50f90e83f578aa2f?s=128&d=identicon&r=PG&f=1", "display_name": "mohan babu", "link": "https://stackoverflow.com/users/4459651/mohan-babu"}, "edited": false, "score": 0, "creation_date": 1454366800, "post_id": 35141644, "comment_id": 58004158, "body": "it should remove binary and the forward slash from the path."}, {"owner": {"reputation": 889, "user_id": 2290666, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeuKg.jpg?s=128&g=1", "display_name": "Dan Kuida", "link": "https://stackoverflow.com/users/2290666/dan-kuida"}, "reply_to_user": {"reputation": 1138, "user_id": 4459651, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/37b8ee753181f0da50f90e83f578aa2f?s=128&d=identicon&r=PG&f=1", "display_name": "mohan babu", "link": "https://stackoverflow.com/users/4459651/mohan-babu"}, "edited": false, "score": 0, "creation_date": 1454366914, "post_id": 35141644, "comment_id": 58004212, "body": "it does - see the link for the sample"}], "tags": [], "owner": {"reputation": 889, "user_id": 2290666, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeuKg.jpg?s=128&g=1", "display_name": "Dan Kuida", "link": "https://stackoverflow.com/users/2290666/dan-kuida"}, "is_accepted": true, "score": 1, "last_activity_date": 1454366897, "last_edit_date": 1454366897, "creation_date": 1454365707, "answer_id": 35141644, "question_id": 35140675, "link": "https://stackoverflow.com/questions/35140675/regex-to-match-substring-of-file-path/35141644#35141644", "title": "Regex to match substring of file path", "body": "<p>if you still want regex so \n   `(.*)\\/</p>\n\n<p>will do the job :)</p>\n\n<p><a href=\"https://regex101.com/r/tK4mP7/1\" rel=\"nofollow\">https://regex101.com/r/tK4mP7/1</a></p>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 2, "last_activity_date": 1454456474, "last_edit_date": 1454456474, "creation_date": 1454378575, "answer_id": 35143832, "question_id": 35140675, "link": "https://stackoverflow.com/questions/35140675/regex-to-match-substring-of-file-path/35143832#35143832", "title": "Regex to match substring of file path", "body": "<p>If you're fiddling with paths, using <code>Path::Tiny</code> is highly recommended. It has just about all the methods you could want for retrieving absolute/relative path names, basenames, and many others including parent...</p>\n\n<pre><code>use Path::Tiny;\nmy $path = path('/usr/local/bin/mybinary');\nsay $path-&gt;parent; # OUTPUT: '/usr/local/bin'\n</code></pre>\n\n<p><strong>Update:</strong> Old man advice</p>\n\n<p>I know you said (in your comment to <code>toolic</code>'s answer) that you are learning regex and wanted to use them instead of a function. Part of learning regular expressions is also learning where they are not a good fit, or are overkill for the problem. In this case, a substring of the path from <code>index</code> 0 to the <code>rindex</code> (right index) of '/' would be more efficient.</p>\n\n<pre><code>my $string = '/usr/local/bin/mybinary';\nsay substr($string, 0, rindex($string, '/') ); # OUTPUT: '/usr/local/bin'\n# or get the child\nsay substr($string, rindex($string, '/') + 1); # OUTPUT: 'mybinary'\n</code></pre>\n\n<p>A lot of perl beginners use regex captures or <code>split</code> for problems that can be solved more efficiently using <code>substr</code>, along with <code>index</code>, <code>rindex</code>, and/or <code>length</code>. It's worth learning these methods of string manipulation so you can better decide when to use regular expressions.</p>\n"}], "owner": {"reputation": 1138, "user_id": 4459651, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/37b8ee753181f0da50f90e83f578aa2f?s=128&d=identicon&r=PG&f=1", "display_name": "mohan babu", "link": "https://stackoverflow.com/users/4459651/mohan-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1033, "favorite_count": 0, "accepted_answer_id": 35141644, "answer_count": 3, "score": -2, "last_activity_date": 1454456474, "creation_date": 1454362066, "last_edit_date": 1454363986, "question_id": 35140675, "link": "https://stackoverflow.com/questions/35140675/regex-to-match-substring-of-file-path", "title": "Regex to match substring of file path", "body": "<p>I am trying to write a regular expression in Perl that matches a specific part of the file path.</p>\n\n<p>Input string:</p>\n\n<pre><code>/usr/local/bin/mybinary\n</code></pre>\n\n<p>Output it has to match to:</p>\n\n<pre><code>/usr/local/bin\n</code></pre>\n\n<p>My Regular expression is :</p>\n\n<pre><code>(\\ /.*\\ /)\n</code></pre>\n\n<p>It is matching  <code>/usr/local/bin/</code>, but the <code>/</code> after <code>bin</code> should be removed.</p>\n"}, {"tags": ["arrays", "perl", "hash", "reference"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1454360341, "post_id": 35140060, "comment_id": 58000717, "body": "Just use <code>push @{ $loc_info{$marker} }, $location;</code> and you don&#39;t need prior test with <code>exists</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454360665, "post_id": 35140060, "comment_id": 58000883, "body": "Please post that as an answer. (I&#39;m sorry, I can&#39;t address my comment as I can&#39;t type your name and I&#39;m using the tablet app which provides neither auto-complete nor copy.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454360955, "post_id": 35140060, "comment_id": 58001040, "body": "@Kpangee: Whenever you use <code>split &#47;\\s+&#47;</code> you almost certainly want <code>split &#39; &#39;</code> (with exactly one space) or just <code>split</code> which is identical"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454361324, "post_id": 35140060, "comment_id": 58001235, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3221380/how-can-i-push-an-element-into-an-array-reference-held-as-a-hash-value\">How can I push an element into an array reference held as a hash value?</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454361583, "post_id": 35140060, "comment_id": 58001391, "body": "See also: <a href=\"http://perldoc.perl.org/perlglossary.html#autovivification\" rel=\"nofollow noreferrer\">autovivification</a> for why you can use nonexistent data structures as if they already existed"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4962240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/974f05d83dd2ec926e1d05cec0ad7821?s=128&d=identicon&r=PG&f=1", "display_name": "Kpangee", "link": "https://stackoverflow.com/users/4962240/kpangee"}, "edited": false, "score": 0, "creation_date": 1454423495, "post_id": 35140529, "comment_id": 58030597, "body": "Hi Folks,thank you so much for sharing your knowledge with me. I really appreciate your help."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1454361541, "creation_date": 1454361541, "answer_id": 35140529, "question_id": 35140060, "link": "https://stackoverflow.com/questions/35140060/perl-how-to-push-elements-in-array-as-hash-value-using-if-exists-statement/35140529#35140529", "title": "Perl: How to push elements in array as hash value using if exists statement", "body": "<p>As has been mentioned, Perl's <em>autovivication</em> will allow you to <code>push</code> to a non-existent hash element. An anonymous array will be created for you</p>\n\n<p>I would write this</p>\n\n<pre><code>while ( &lt;IN&gt; ) {\n    my @info = split;\n    my ($marker, $location) = @info[1,2];\n    push @{ $loc_info{$marker} }, $location;\n}\n\nfor my $mk ( sort keys %loc_info ) {\n    my $locs = $loc_info{$mk};\n    print $mk, \"\\t\", join('; ', @$locs), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4962240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/974f05d83dd2ec926e1d05cec0ad7821?s=128&d=identicon&r=PG&f=1", "display_name": "Kpangee", "link": "https://stackoverflow.com/users/4962240/kpangee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1150, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1454361541, "creation_date": 1454359823, "last_edit_date": 1454360947, "question_id": 35140060, "link": "https://stackoverflow.com/questions/35140060/perl-how-to-push-elements-in-array-as-hash-value-using-if-exists-statement", "title": "Perl: How to push elements in array as hash value using if exists statement", "body": "<p>I'm working with markers having multiple chromosome locations. For each marker, I'd like to get all the chromosome locations such as:</p>\n\n<pre><code> marker_1 1A, 3B, 5D; marker_2 2D, 2A \n</code></pre>\n\n<p>I'm coming from Ruby world and I've been scratching my head with reference/dereference of array and hash.I'm getting more and more confused.\nCould you please help me out? Thank you in advance for your time and your helpful assistance.</p>\n\n<p>My code below works. However, instead of concatenating $location to an existing 'string' location, I'd like to push $location in an array. I'm not sure how to do that.</p>\n\n<pre><code>my %loc_info;\n\nwhile(&lt;IN&gt;){\n    my @info = split(/\\s+/);\n    my $marker = $info[1];\n    my $location = $info[2];\n\n    if (exists $loc_info{$marker}){\n        $loc_info{$marker} .= \",$location\";## help for pushing in array\n    }else{\n        $loc_info{$marker} = $location; ##\n    }\n}#while\n\n     foreach (sort keys %loc_info){\n         print \"$_\\t $loc_info{$_}\\n\";\n      }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1454359870, "post_id": 35139844, "comment_id": 58000429, "body": "Interesting. It must have something to do with Perl&#39;s special first-line processing. A one-line text file with just a <code>:</code> character executes without error as Perl and does nothing -- but if I insert a blank line so the <code>:</code> is on line 2, it dies with a syntax error. But if it&#39;s executed as a shell script, <code>:\\r</code> is a syntax error, though <code>:</code> by itself wouldn&#39;t be (the shell doesn&#39;t like Windows-style line endings). Where does <code>mkout.pl</code> come from? Can you convert it to use Unix-style line endings?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1454359991, "post_id": 35139844, "comment_id": 58000499, "body": "<code>Can you convert it to use Unix-style line endings?</code> you can <code>perl -i.bak -pe &#39;y|\\r||d&#39; file_to_convert</code>"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1454360288, "post_id": 35139844, "comment_id": 58000675, "body": "This looks like a shell snippet used on systems that <i>might not</i> understand <code>#!</code>.  The 1st few lines are meant to exploit the parsing difference between the shell &amp; perl.  It&#39;s a trick which was more commonly employed in the Perl 4 days.  The error message you give looks <i>shell-ish</i> and thus things have broken down before perl has even been invoked."}], "answers": [{"comments": [{"owner": {"reputation": 24793, "user_id": 1798593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be41e365336e709f1bfc2c9866eac8e9?s=128&d=identicon&r=PG", "display_name": "Patricia Shanahan", "link": "https://stackoverflow.com/users/1798593/patricia-shanahan"}, "edited": false, "score": 0, "creation_date": 1454361005, "post_id": 35140265, "comment_id": 58001060, "body": "This looks like a good theory. I&#39;ll do some checks on the other initial &quot;:&quot; perl scripts to see if they have UNIX or Windows line endings. If mkout.pl is an exception I can fix it. If it is part of  a pattern, I need to find another solution."}, {"owner": {"reputation": 24793, "user_id": 1798593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be41e365336e709f1bfc2c9866eac8e9?s=128&d=identicon&r=PG", "display_name": "Patricia Shanahan", "link": "https://stackoverflow.com/users/1798593/patricia-shanahan"}, "edited": false, "score": 0, "creation_date": 1454361367, "post_id": 35140265, "comment_id": 58001258, "body": "I strongly agree that anyone who just wants to use OpenOffice should install a ready built version, not copy what I&#39;m doing. I&#39;m building from source because I want to try to help with the Apache OpenOffice project, and at least one problem I want to look at is Windows specific. I did checkout the file from SVN, not extract it from a zip file, and the version I have is identical to the version in the repository."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454362487, "post_id": 35140265, "comment_id": 58001932, "body": "What about the question in the title? You answered for when the script is executed a shell script, but not when it&#39;s executed as a Perl script. (I don&#39;t know the answer. I thought it was some kind of empty label, but then it wouldn&#39;t matter if you placed a linefeed before it.)"}, {"owner": {"reputation": 24793, "user_id": 1798593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be41e365336e709f1bfc2c9866eac8e9?s=128&d=identicon&r=PG", "display_name": "Patricia Shanahan", "link": "https://stackoverflow.com/users/1798593/patricia-shanahan"}, "edited": false, "score": 0, "creation_date": 1454364187, "post_id": 35140265, "comment_id": 58002870, "body": "Several perl scripts start the same way. A search for Cygwin bash line ending problems found (<a href=\"https://chess.eecs.berkeley.edu/softdevel/faq/5.html\" rel=\"nofollow noreferrer\">chess.eecs.berkeley.edu/softdevel/faq/5.html</a>) which suggested setting the igncr option in the SHELLOPTS. That got me past this problem and the build is proceeding. Thanks for your help."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454374402, "post_id": 35140265, "comment_id": 58006566, "body": "@ikegami: You&#39;re right. I&#39;ve added some speculation on that. Perhaps someone out there knows the actual reason."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 24793, "user_id": 1798593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be41e365336e709f1bfc2c9866eac8e9?s=128&d=identicon&r=PG", "display_name": "Patricia Shanahan", "link": "https://stackoverflow.com/users/1798593/patricia-shanahan"}, "edited": false, "score": 0, "creation_date": 1454374554, "post_id": 35140265, "comment_id": 58006608, "body": "@PatriciaShanahan: Hmm. The bash I&#39;m using (on Linux) doesn&#39;t recognize <code>set -o igncr</code>. Is it specific to the Cygwin build of bash?"}, {"owner": {"reputation": 24793, "user_id": 1798593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be41e365336e709f1bfc2c9866eac8e9?s=128&d=identicon&r=PG", "display_name": "Patricia Shanahan", "link": "https://stackoverflow.com/users/1798593/patricia-shanahan"}, "edited": false, "score": 0, "creation_date": 1454378002, "post_id": 35140265, "comment_id": 58007536, "body": "@KeithThompson I don&#39;t know, but I would not be surprised if it were Cygwin-specific. Cygwin has one foot in MS-Windows, and one foot in the UNIX world, so line endings is more of an issue for it."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454442816, "post_id": 35140265, "comment_id": 58043513, "body": "@ikegami: Speculation removed; the single <code>:</code> behavior is documented."}], "tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": true, "score": 7, "last_activity_date": 1454442787, "last_edit_date": 1454442787, "creation_date": 1454360571, "answer_id": 35140265, "question_id": 35139844, "link": "https://stackoverflow.com/questions/35139844/what-does-a-colon-as-the-entire-first-line-mean/35140265#35140265", "title": "What does a colon as the entire first line mean?", "body": "<p>The problem is the <code>\\r</code> (CR, <kbd>Return</kbd>) character.</p>\n\n<p>The lines:</p>\n\n<pre><code>eval 'exec perl -wS $0 ${1+\"$@\"}'\n    if 0;\n</code></pre>\n\n<p>indicate that the file <code>mkout.pl</code> is intended to be executed as a shell script, using a hack that causes the script to re-execute itself as a Perl script. This is common on systems that don't support Unix-style <code>#!</code> lines, but it works on Unix-like systems as well.</p>\n\n<p>The <code>:</code> is a built-in shell command that does nothing.</p>\n\n<p>The error message indicates that <code>mkout.pl</code> has Windows-style line endings. The shell (Cygwin's default shell is bash) doesn't handle Windows-style line endings, so when it sees a line consisting of the characters <code>':'</code>, <code>'\\r'</code>, and <code>'\\n'</code>, it interprets it as a command <code>\":\\r\"</code> followed by a newline. (It doesn't treat the <code>'\\r'</code> character as whitespace.)</p>\n\n<p>Modifying <code>mkout.pl</code> to use Unix-style line endings should solve the immediate problem -- but if it's part of the OpenOffice source distribution, there are going to be plenty of other files with the same issue. If you extracted the sources from a <code>.zip</code> file, be sure to unzip it in a way that <em>doesn't</em> convert text files.</p>\n\n<p>(You could just install OpenOffice or LibreOffice in Windows, but I presume you have good reasons to build it from source under Cygwin. It's possible that OpenOffice doesn't support that particular environment.)</p>\n\n<p>Once you get past that, there's still the question of what a <code>:</code> means in Perl. (Currently the Perl interpreter never gets to see your script.)</p>\n\n<p>This is actually documented in <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perldoc perlrun</code></a>, under the <code>-S</code> option (emphasis added):</p>\n\n<blockquote>\n  <p>This example works on many platforms that have a shell compatible \n  with Bourne shell:</p>\n</blockquote>\n\n<pre><code>#!/usr/bin/perl\neval 'exec /usr/bin/perl -wS $0 ${1+\"$@\"}'\n        if $running_under_some_shell;\n</code></pre>\n\n<blockquote>\n  <p>The system ignores the first line and feeds the program to /bin/sh,\n  which proceeds to try to execute the Perl program as a shell script.\n  The shell executes the second line as a normal shell command, and thus\n  starts up the Perl interpreter.  On some systems <code>$0</code> doesn't always\n  contain the full pathname, so the -S tells Perl to search for the\n  program if necessary.  After Perl locates the program, it parses the\n  lines and ignores them because the variable <code>$running_under_some_shell</code>\n  is never true.  If the program will be interpreted by csh, you\n  will need to replace \"<code>${1+\"$@\"}</code>\" with <code>$*</code>, even though that doesn't\n  understand embedded spaces (and such) in the argument list.  <strong>To start\n  up sh rather than csh, some systems may have to replace the \"<code>#!</code>\" line\n  with a line containing just a colon, which will be politely ignored\n  by Perl.</strong></p>\n</blockquote>\n\n<p><code>csh</code> does recognize the <code>:</code> command. The <code>csh</code> man page on my system doesn't mention it, but the <code>tcsh</code> man page does:</p>\n\n<blockquote>\n  <p><strong><code>:</code></strong>       Does nothing, successfully.</p>\n</blockquote>\n\n<p>(Unlike the <code>:</code> built-in in sh and bash, csh's <code>:</code> command doesn't accept arguments. tcsh corrects this.)</p>\n\n<p>In any case, fixing the line endings <em>should</em> solve your problem.</p>\n"}], "owner": {"reputation": 24793, "user_id": 1798593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be41e365336e709f1bfc2c9866eac8e9?s=128&d=identicon&r=PG", "display_name": "Patricia Shanahan", "link": "https://stackoverflow.com/users/1798593/patricia-shanahan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 35140265, "answer_count": 1, "score": 5, "last_activity_date": 1454442787, "creation_date": 1454359063, "question_id": 35139844, "link": "https://stackoverflow.com/questions/35139844/what-does-a-colon-as-the-entire-first-line-mean", "title": "What does a colon as the entire first line mean?", "body": "<p>I am trying to build the Apache OpenOffice source code in Cygwin on a Windows 8.1 system. The build fails with this message:</p>\n\n<pre><code>Entering /cygdrive/c/OpenOfficeDev/Trunk/main/solenv\n\n/cygdrive/c/OpenOfficeDev/Trunk/main/solenv/bin/mkout.pl: line 1: $':\\r': command not found\nmkout -- version: 1.8 \n</code></pre>\n\n<p>The first few lines of mkout.pl are:</p>\n\n<pre><code>:\neval 'exec perl -wS $0 ${1+\"$@\"}'\n    if 0;\n#**************************************************************\n#\n</code></pre>\n\n<p>I would like to understand what this means. Even good search terms would help.</p>\n"}, {"tags": ["perl", "perl-module", "cpan", "cpanm"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454352690, "post_id": 35137954, "comment_id": 57996145, "body": "Looks like this was <a href=\"https://github.com/miyagawa/cpanminus/issues/477\" rel=\"nofollow noreferrer\">reported in December</a>."}, {"owner": {"reputation": 2183, "user_id": 507120, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/946d0dd6dd7da36d1d408ddaa611d8e3?s=128&d=identicon&r=PG", "display_name": "Eric Fossum", "link": "https://stackoverflow.com/users/507120/eric-fossum"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454353350, "post_id": 35137954, "comment_id": 57996516, "body": "@ThisSuitIsBlackNot I spent all day on Friday trying to find that answer :("}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454359581, "post_id": 35137954, "comment_id": 58000274, "body": "Of course there&#39;s a workaround. There are numerous ways of installing <code>cpanm</code>. You&#39;ve even used one yourself between your two tests. The simplest is probably <code>cpanm cpanm</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1454352290, "creation_date": 1454352290, "answer_id": 35137954, "question_id": 35137799, "link": "https://stackoverflow.com/questions/35137799/cpanm-path-not-configured-correctly/35137954#35137954", "title": "CPANM path not configured correctly", "body": "<p>The script does</p>\n\n<pre><code>$0 !~ /^$install_base/\n</code></pre>\n\n<p>where <code>$0</code> is </p>\n\n<pre><code>C:\\portable_perl\\perl\\site\\bin/cpanm\n</code></pre>\n\n<p>and <code>$install_base</code> is</p>\n\n<pre><code>C:\\portable_perl\\perl\\site\\bin\n</code></pre>\n\n<p>It's not expecting backslashes. <code>\\po</code>, <code>\\pe</code>, <code>\\s</code> and <code>\\b</code> all have special meaning in regex patterns. This is a bug in <code>cpanm</code>.</p>\n"}], "owner": {"reputation": 2183, "user_id": 507120, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/946d0dd6dd7da36d1d408ddaa611d8e3?s=128&d=identicon&r=PG", "display_name": "Eric Fossum", "link": "https://stackoverflow.com/users/507120/eric-fossum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 35137954, "answer_count": 1, "score": 1, "last_activity_date": 1454352290, "creation_date": 1454351709, "question_id": 35137799, "link": "https://stackoverflow.com/questions/35137799/cpanm-path-not-configured-correctly", "title": "CPANM path not configured correctly", "body": "<p>After extracting a fresh copy of Strawberry Perl, I get an error in CPANM.</p>\n\n<pre><code>C:\\portable_perl&gt;cpanm --self-upgrade\nYou are running cpanm from the path where your current perl won't install execut\nables to.\nBecause of that, cpanm --self-upgrade won't upgrade the version of cpanm you're\nrunning.\n\n  cpanm path   : C:\\portable_perl\\perl\\bin/cpanm\n  Install path : C:\\portable_perl\\perl\\site\\bin\n\nIt means you either installed cpanm globally with system perl, or use distro pac\nkages such\nas rpm or apt-get, and you have to use them again to upgrade cpanm.\n\nC:\\portable_perl&gt;\n</code></pre>\n\n<p>After installing <code>App::cpanminus</code> I get a slightly different error.</p>\n\n<pre><code>C:\\portable_perl&gt;cpanm --self-upgrade\nYou are running cpanm from the path where your current perl won't install executables to.\nBecause of that, cpanm --self-upgrade won't upgrade the version of cpanm you're running.\n\n  cpanm path   : C:\\portable_perl\\perl\\site\\bin/cpanm\n  Install path : C:\\portable_perl\\perl\\site\\bin\n\nIt means you either installed cpanm globally with system perl, or use distro packages such\nas rpm or apt-get, and you have to use them again to upgrade cpanm.\n\nC:\\portable_perl&gt;\n</code></pre>\n\n<p>Is there any way to set the path? Or install CPANM differently? I'm running this on Windows 7 x64 if that matters.</p>\n"}, {"tags": ["perl", "encoding", "pdflatex"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1454346894, "post_id": 35135943, "comment_id": 57992706, "body": "When you run <code>pdflatex</code> from command line, which file did you use? Was it UTF-8 encoded?"}, {"owner": {"reputation": 47, "user_id": 5289874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f1e6a7144368a25f86129a42aee7e39?s=128&d=identicon&r=PG&f=1", "display_name": "mitch", "link": "https://stackoverflow.com/users/5289874/mitch"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1454347633, "post_id": 35135943, "comment_id": 57993200, "body": "No, it is &quot;us-ascii&quot;-encoded .. the same file"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1454348940, "post_id": 35135943, "comment_id": 57994008, "body": "Ok, can you try <code>perl -E &#39;system &quot;pdflatex file.tex&quot;&#39;</code>. Do you get the same error?"}, {"owner": {"reputation": 47, "user_id": 5289874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f1e6a7144368a25f86129a42aee7e39?s=128&d=identicon&r=PG&f=1", "display_name": "mitch", "link": "https://stackoverflow.com/users/5289874/mitch"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1454349270, "post_id": 35135943, "comment_id": 57994216, "body": "No, I don&#39;t. Your command works fine. What do I learn from that?"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "is_accepted": false, "score": 1, "last_activity_date": 1468930705, "creation_date": 1468930705, "answer_id": 38458365, "question_id": 35135943, "link": "https://stackoverflow.com/questions/35135943/cannot-call-pdflatex-from-perl-script-due-to-encoding/38458365#38458365", "title": "Cannot call pdflatex from perl script (due to encoding?)", "body": "<p>If this works fine when manually typed into the command line the this could be due to the way perl interpolates the quotation marks before passing the command to the system. Have you tried printing the call you making to test whether it provides the exact same imput as when to enter it manually? Otherwise, for passing arguments to a program via the system command in perl I always separate them out as follows to avoid any interpolation errors:</p>\n\n<pre><code>#...\nmy $prog = \"Z.*\";\nmy $arg1 = \"X\";\nmy $arg2 = \"Y\";\n#...\nmy $file = \"W.*\";\nsystem(\"$prog\", (\"$arg1\", \"$arg2\", ..., \"$file\"));\n#...\n</code></pre>\n\n<p>If this doesn't work, another, albeit rather clunky solution, might be to import the file contents into a variable and try the following to 'manually' encode it in perl as follows:</p>\n\n<pre><code>use Encode;\nuse utf8;\nuse charnames qw( :full :short );\n\nmy $encodedfile = encode(\"utf8\", $filecontents);\n</code></pre>\n\n<p>If you happen to have any active caracters in the file which could influence the way pdflatex handles the final output (for example in perl \\\\ gives \\ to pdflatex, which ends up finally being ) you can append the following to the encoding:</p>\n\n<pre><code>my $str = $encodedfile;\nmy $find = \"\\\\N{U+005C}\";\nmy $replace = \"\\\\textbackslash \";\n$str =~ s/$find/$replace/g;\n\nmy %special_characters;\n$special_characters{\"\\\\N{U+0025}\"} = \"\\\\pourcent \";\n$special_characters{\"\\\\\\$\"} = \"\\\\\\$\";\n$special_characters{\"\\\\N{U+007B}\"} = \"\\\\{\";\n$special_characters{\"\\N{U+007D}\"} = \"\\\\}\";\n$special_characters{\"\\N{U+0026}\"} = \"\\\\&amp;\";\n$special_characters{\"\\\\N{U+005F}\"} = \"\\\\textunderscore \";\n$special_characters{\"\\\\N{U+002F}\"} = \"\\/\";\n$special_characters{\"\\\\N{U+005B}\"} = \"\\[\";\n$special_characters{\"\\\\N{U+005D}\"} = \"\\]\";\n$special_characters{\"\\\\N{U+005E}\"} = \"\\\\textasciicircum \";\n$special_characters{\"\\\\N{U+0023}\"} = \"\\\\#\";\n$special_characters{\"\\\\\\N{U+007E}\"} = \"\\\\textasciitilde \";\n$special_characters{\"\\\\\\N{U+0021}\"} = \" \\\\newline \";\n\nmy $string = $str;\nforeach my $char (keys %special_characters) {\n  $string =~ s/$char/$special_characters{$char}/g;\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 47, "user_id": 5289874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f1e6a7144368a25f86129a42aee7e39?s=128&d=identicon&r=PG&f=1", "display_name": "mitch", "link": "https://stackoverflow.com/users/5289874/mitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468930705, "creation_date": 1454345613, "question_id": 35135943, "link": "https://stackoverflow.com/questions/35135943/cannot-call-pdflatex-from-perl-script-due-to-encoding", "title": "Cannot call pdflatex from perl script (due to encoding?)", "body": "<p>When I call pdflatex manually from the windows command line, it generates the desired pdf.\nWhen I call pdflatex from a perl script instead, it does not:</p>\n\n<pre><code>system(\"pdflatex $fileName\");\n</code></pre>\n\n<p>.. results in</p>\n\n<pre><code>Sorry, but pdflatex did not succeed.\n\nYou may want to visit the MiKTeX project page, if you need help.\nutf8 \"\\x80\" does not map to Unicode at C:/strawberry-perl/perl/site/lib/Encode.pm line 200.\n</code></pre>\n\n<p>The script was running on unix before and working fine. Now, after having it migrated to a windows system it doesn't.\nThe content of the tex-input-file is generated by the script as well. the \"file\"-command on my Mac tells me that this file is encoded as \"us-ascii\".\nSo I tried to make perl encode it as \"utf-8\", but it did not work:</p>\n\n<pre><code>open(FH, \"&gt; :encoding(utf-8)\", $fileName);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>binmode(FH, \":utf8\");\n</code></pre>\n\n<p>Files are still being generated with us-ascii encoding. How can I change that?</p>\n\n<p>So far, the encoding is my only clue. \nWhat else could be the problem?</p>\n"}, {"tags": ["perl", "translate"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1454344950, "post_id": 35135406, "comment_id": 57991434, "body": "I believe <code>gunzip -c</code> does not alter the original file."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1454348847, "post_id": 35135406, "comment_id": 57993948, "body": "note that this breaks if the filename contains shell metacharacters"}], "answers": [{"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1454346028, "creation_date": 1454346028, "answer_id": 35136092, "question_id": 35135406, "link": "https://stackoverflow.com/questions/35135406/translating-this-line-of-code/35136092#35136092", "title": "Translating this line of code?", "body": "<p>You are perfectly right. If the filename in <code>$fqFile</code> ends in <code>.gz</code>, then the file is unzipped (to stdout) and then read as a pipe. Else the filename is taken as is and the file is opened the normal way.</p>\n\n<p>Side note: <code>gunzip -c</code> doesn't change the file (in place), it unzips to stdout. Thus the <code>open()</code> call with the trailing <code>|</code>. It runs the given \"filename\" <code>gunzip -c $fqFile</code> as a <em>command</em> and reads its output.</p>\n"}], "owner": {"reputation": 11, "user_id": 3025720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581ef83b50467837d906eeba81d56238?s=128&d=identicon&r=PG&f=1", "display_name": "joshjayk", "link": "https://stackoverflow.com/users/3025720/joshjayk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454346028, "creation_date": 1454343985, "last_edit_date": 1454344841, "question_id": 35135406, "link": "https://stackoverflow.com/questions/35135406/translating-this-line-of-code", "title": "Translating this line of code?", "body": "<p>I have a little bit of translating I have been working on, from Perl to just plain old English. I was wondering if I had translated this line correctly.</p>\n\n<pre><code>open(FQ, $fqFile =~ /\\.gz$/ ? \"gunzip -c $fqFile |\" : $fqFile)\n    || die\"Cannot open the pipe to $fqFile\\n\";\n</code></pre>\n\n<p>My translation:</p>\n\n<pre><code>#Open a file, $fqFile, by either unzipping it first or just opening it if already unzipped.\n</code></pre>\n"}, {"tags": ["perl", "unix", "32bit-64bit", "aix"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1454343041, "post_id": 35134714, "comment_id": 57990089, "body": "CPAN distros don&#39;t contain binary files."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1454343044, "post_id": 35134714, "comment_id": 57990091, "body": "How did you install the module?"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454344918, "post_id": 35134714, "comment_id": 57991410, "body": "i had downloaded the .gz file from &quot;<a href=\"http://search.cpan.org/~mshelor/Digest-SHA-5.95/lib/Digest/SHA.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~mshelor/Digest-SHA-5.95/lib/Digest/SHA.pm</a>&quot; untar and then using  commands  1.perl Makefile.PL (success) 2. make (failed with above error) 3.make test (yet to.. ) 4. make install (yet to..)"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454345156, "post_id": 35134714, "comment_id": 57991580, "body": "below is output of make (failed command)                                                     $  make Skip blib/lib/Digest/SHA.pm (unchanged) Running Mkbootstrap for Digest::SHA ()         chmod 644 &quot;SHA.bs&quot;         cc -q32 -c  -I.  -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN -q32 -D_LARGE_FILES -O    -DVERSION=\\&quot;5.95\\&quot;  -DXS_VERSION=\\&quot;5.95\\&quot;  &quot;-I/home/snemmal/perl/lib/5.22.0/aix/CORE&quot;   SHA.c         (Part 1/2)"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454345169, "post_id": 35134714, "comment_id": 57991595, "body": "rm -f blib/arch/auto/Digest/SHA/SHA.so         ld  -bhalt:4 -G -bI:/home/snemmal/perl/lib/5.22.0/aix/CORE/perl.exp -bE:SHA.exp -bnoentry -lc -lm  SHA.o  -o blib/arch/auto/Digest/SHA/SHA.so ld: 0711-738 ERROR: Input file SHA.o:         XCOFF32 object files are not allowed in 64-bit mode. make: 1254-004 The error code from the last command is 8.   Stop.   (part 2/2)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454346118, "post_id": 35134714, "comment_id": 57992185, "body": "@santhosh Please <a href=\"https://stackoverflow.com/posts/35134714/edit\">edit</a> that info into your question and format it. It&#39;s difficult to read in comments."}, {"owner": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1454346136, "post_id": 35134714, "comment_id": 57992198, "body": "<code>-q64</code> would be better for 64-bit than <code>-q32</code>"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "reply_to_user": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1454347257, "post_id": 35134714, "comment_id": 57992944, "body": "@Zsigmond L\u0151rinczy  but the above commands generated automatically when i just used make command. How can i edit that auto gen commands?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454347368, "post_id": 35134714, "comment_id": 57993031, "body": "The output of <code>perl -V</code> (uppercase <code>V</code>) might be useful."}, {"owner": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1454347802, "post_id": 35134714, "comment_id": 57993303, "body": "@OP: try <code>make CFLAGS=-q64 LDFLAGS=-q64</code>"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "reply_to_user": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1454348821, "post_id": 35134714, "comment_id": 57993937, "body": "@ZsigmondL\u0151rinczy just tried make CFLAGS=-q64 LDFLAGS=-q64    it is also resulting in same error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454349426, "post_id": 35134714, "comment_id": 57994309, "body": "Again, this is unreadable (and incomplete) and needs to be added to the question."}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454349777, "post_id": 35134714, "comment_id": 57994530, "body": "@ikegami  output of Perl -V is added to question.  Thanks! (only added compiler part as the output is huge)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454349881, "post_id": 35134714, "comment_id": 57994585, "body": "Let me know what when you add the rest."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454350562, "post_id": 35134714, "comment_id": 57994985, "body": "@santhosh The editor won&#39;t let you dump a bunch of code or text that looks like code without formatting it properly, because it&#39;s really hard to read. I&#39;ve edited your question to show you how you can format things so they&#39;re readable. Now please add the rest of the <code>perl -V</code> output and <b>make it readable.</b>"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "reply_to_user": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1454352386, "post_id": 35134714, "comment_id": 57995986, "body": "@ZsigmondL\u0151rinczy again same error."}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "edited": false, "score": 0, "creation_date": 1454352413, "post_id": 35134714, "comment_id": 57996004, "body": "not sure how to deal with this  SHA.o in my 64 bit perl"}, {"owner": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1454385212, "post_id": 35134714, "comment_id": 58009282, "body": "restart with this: <code>perl Makefile.PL CC=&#39;xlc_r -q64&#39;</code>"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "edited": false, "score": 0, "creation_date": 1454405585, "post_id": 35134714, "comment_id": 58017996, "body": "This also resulted in same error but one difference"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "edited": false, "score": 0, "creation_date": 1454405593, "post_id": 35134714, "comment_id": 58018003, "body": "with  perl Makefile.PL    Output of make before error:  <code>cc -q32 -c  -I.  -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN -q32 -D_LARGE_FILES -O    -DVERSION=\\&quot;5.95\\&quot;  -DXS_VERSION=\\&quot;5.95\\&quot;  &quot;-I&#47;home&#47;snemmal&#47;perl&#47;lib&#47;5.22.0&#47;aix&#47;CORE&quot;   SHA.c</code>"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "edited": false, "score": 0, "creation_date": 1454405843, "post_id": 35134714, "comment_id": 58018165, "body": "With perl Makefile.PL CC=&#39;xlc_r -q64&#39; output of make before error:  <code>xlc_r -q64 -c  -I.  -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN -q32 -D_LARGE_FILES -O    -DVERSION=\\&quot;5.95\\&quot;  -DXS_VERSION=\\&quot;5.95\\&quot;  &quot;-I&#47;home&#47;snemmal&#47;perl&#47;lib&#47;5.22.0&#47;aix&#47;CORE&quot;   SHA.c</code>"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "edited": false, "score": 0, "creation_date": 1454413286, "post_id": 35134714, "comment_id": 58023127, "body": "i want to add 2 points here 1) I had installed my own perl on this AIX machine as The exiating perl in this machine is of old version 2) the output of perl -V:ptrsize is ptrsize=&#39;4&#39;;  does it mean my perl is 32 bit??? if it is 32 bit why the error shows as 64-bit mode. (Please help i am new to perl)"}, {"owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "edited": false, "score": 0, "creation_date": 1454424552, "post_id": 35134714, "comment_id": 58031440, "body": "Thanks Guys for your help.. Finally i got one solution... instead of using perl modules that are built with &#39;C&#39; language, i now use built-in perl module... in this case it is &quot;Digest::SHA::PurePerl module.&quot; Now there is no  overhead of 32-bit/64-bit...  (may be this solution is bit slow, but satisfied my hunger from last 2 days) :-)"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7051977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9olH3.jpg?s=128&g=1", "display_name": "Spithas", "link": "https://stackoverflow.com/users/7051977/spithas"}, "is_accepted": false, "score": 0, "last_activity_date": 1568709787, "creation_date": 1568709787, "answer_id": 57970502, "question_id": 35134714, "link": "https://stackoverflow.com/questions/35134714/why-do-i-get-xcoff32-object-files-are-not-allowed-in-64-bit-mode-when-i-try-to/57970502#57970502", "title": "Why do I get &quot;XCOFF32 object files are not allowed in 64-bit mode&quot; when I try to install Digest::SHA?", "body": "<p>You try compile in 32bit \"cc -q32 \", try to build with -q64 flag.</p>\n"}], "owner": {"reputation": 169, "user_id": 5228070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec02741cfd5fb6e86f8b7dcd4881790?s=128&d=identicon&r=PG&f=1", "display_name": "santhosh", "link": "https://stackoverflow.com/users/5228070/santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2708, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568709787, "creation_date": 1454341996, "last_edit_date": 1454352554, "question_id": 35134714, "link": "https://stackoverflow.com/questions/35134714/why-do-i-get-xcoff32-object-files-are-not-allowed-in-64-bit-mode-when-i-try-to", "title": "Why do I get &quot;XCOFF32 object files are not allowed in 64-bit mode&quot; when I try to install Digest::SHA?", "body": "<p>I am trying to install <a href=\"https://metacpan.org/pod/Digest::SHA\" rel=\"nofollow\">Digest::SHA</a> v5.95, but I get the following error:</p>\n\n<blockquote>\n  <p>XCOFF32 object files are not allowed in 64-bit mode</p>\n</blockquote>\n\n<p>I am using UNIX AIX Version 7.1 and 64-bit perl 5.22.0. <code>perl -V</code> gives:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Platform:\nosname=aix, osvers=7.1.0.0, archname=aix\nuname='aix 1 7 00f64d144c00 '\nconfig_args='-des -Dprefix=/home/snemmal/perl'\nhint=recommended, useposix=true, d_sigaction=define\nuseithreads=undef, usemultiplicity=undef\nuse64bitint=undef, use64bitall=undef, uselongdouble=undef\nusemymalloc=n, bincompat5005=undef\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>Compiler:\ncc='cc -q32', ccflags ='-D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -        qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN -q32 -D_LARGE_FILES',\noptimize='-O',\ncppflags='-D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN'\nccversion='9.0.0.19', gccversion='', gccosandvers=''\nintsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=4321, doublekind=4\nd_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=8, longdblkind=0\nivtype='long', ivsize=4, nvtype='double', nvsize=8, Off_t='off_t', lseeksize=8\nalignbytes=8, prototype=define\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>Linker and Libraries:\nld='ld', ldflags =' -brtl -bdynamic -b32 -bmaxdata:0x80000000'\nlibpth=/lib /usr/lib /usr/ccs/lib\nlibs=-lpthread -lbind -lnsl -ldbm -ldl -lld -lm -lcrypt -lc\nperllibs=-lpthread -lbind -lnsl -ldl -lld -lm -lcrypt -lc\nlibc=/lib/libc.a, so=a, useshrplib=false, libperl=libperl.a\ngnulibc_version=''\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>Dynamic Linking:\ndlsrc=dl_aix.xs, dlext=so, d_dlsymun=undef, ccdlflags='  -bE:/home/snemmal/perl/lib/5.22.0/aix/CORE/perl.exp'\ncccdlflags=' ', lddlflags='  -bhalt:4 -G -bI:$(PERL_INC)/perl.exp -bE:$(BASEEXT).exp -bnoentry -lc -lm '\n</code></pre>\n\n<p>I tried building like this:</p>\n\n<ol>\n<li><p>Download and untar the .gz file from <code>search.cpan.org/~mshelor/Digest-SHA-5.95/lib/Digest/SHA.pm</code></p></li>\n<li><p><code>perl Makefile.PL</code> (ran successfully)</p></li>\n<li><p><code>make</code> (failed with \"XCOFF32 object files are not allowed in 64-bit mode\") </p></li>\n</ol>\n\n<p>Here is the full output of <code>make</code>:</p>\n\n<blockquote>\n  <p>Skip blib/lib/Digest/SHA.pm (unchanged) Running Mkbootstrap for Digest::SHA () chmod 644 \"SHA.bs\" cc -q32 -c -I. -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN -q32 -D_LARGE_FILES -O -DVERSION=\\\"5.95\\\" -DXS_VERSION=\\\"5.95\\\" \"-I/home/snemmal/perl/lib/5.22.0/aix/CORE\" SHA.c</p>\n  \n  <p>rm -f blib/arch/auto/Digest/SHA/SHA.so ld -bhalt:4 -G -bI:/home/snemmal/perl/lib/5.22.0/aix/CORE/perl.exp -bE:SHA.exp -bnoentry -lc -lm SHA.o -o blib/arch/auto/Digest/SHA/SHA.so ld: 0711-738 ERROR: Input file SHA.o: XCOFF32 object files are not allowed in 64-bit mode. make: 1254-004 The error code from the last command is 8. Stop.</p>\n</blockquote>\n\n<p>It looks like one of the object files from the module is in 32-bit mode, and my perl is in 64-bit mode. How can I install this module successfully?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 2, "creation_date": 1454342326, "post_id": 35134357, "comment_id": 57989599, "body": "I can point you in this direction: <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">perldoc.perl.org</a> is a comprehensive documentation site for Perl. Specifically, you want to read about data structures: <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454702461, "post_id": 35134357, "comment_id": 58179638, "body": "What is your sample statement <code>${$LineRefs-&gt;{FIELD_NAME}}</code> please?"}], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 2, "creation_date": 1454342125, "post_id": 35134748, "comment_id": 57989445, "body": "And you can find all the fields with <code>keys %$LineRefs</code> -- <code>say for keys %$LineRefs;</code>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1454342677, "post_id": 35134748, "comment_id": 57989831, "body": "A module of great help for such things is <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\"><code>Data::Dumper</code></a>. It&#39;s used to dump perl structures in a readable form, no matter how complicated they are. It&#39;s part of the core distribution. Try <code>use Data::Dumper; print Dumper($my_strucutre);</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1454342879, "post_id": 35134748, "comment_id": 57989974, "body": "@glennjackman: Thanks Glenn. I overlooked the intent of the question and focussed on the oddity of having scalar references as values"}, {"owner": {"reputation": 758, "user_id": 1586913, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da7fcb41cc4239d92becd95552bd4d03?s=128&d=identicon&r=PG", "display_name": "Subbeh", "link": "https://stackoverflow.com/users/1586913/subbeh"}, "edited": false, "score": 0, "creation_date": 1454343206, "post_id": 35134748, "comment_id": 57990201, "body": "many thanks, <code>keys %$LineRefs</code> returned exactly what I needed"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1454342823, "last_edit_date": 1495535312, "creation_date": 1454342086, "answer_id": 35134748, "question_id": 35134357, "link": "https://stackoverflow.com/questions/35134357/how-does-this-data-structure-work/35134748#35134748", "title": "how does this data structure work?", "body": "<p>It's certainly very odd</p>\n\n<p><code>$LineRefs</code> is a reference to a hash which has an element with key <code>FIELD_NAME</code> whose value is a <em>reference</em> to a scalar</p>\n\n<p>Like this</p>\n\n<pre><code>use v5.14;\n\nmy $LineRefs = {\n    FIELD_NAME =&gt; \\99,\n};\n\nprint ${ $LineRefs-&gt;{FIELD_NAME} }, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>99\n</code></pre>\n\n<p>References to hashes and arrays are common because they allow a large data structure to be represented by a single scalar. But references to scalars are far less useful because they just replace a scalar by another scalar</p>\n\n<p><br/></p>\n\n<hr>\n\n<p>I'm sorry, thanks <a href=\"https://stackoverflow.com/questions/35134357/how-does-this-data-structure-work/35134748#comment57989445_35134748\"><strong>@glennjackman</strong></a> I read the question too hastily and assumed it was about why a hash element was being dereferenced as a scalar</p>\n\n<blockquote>\n  <p>I've been trying to figure out how to find all possible fields separately by iterating over this scalar/hash/array or whatever it may be but I have no clue how</p>\n</blockquote>\n\n<p>You're dealing with a <em>hash</em>, which is like an array but indexed by strings (keys) instead of integers (indexes)</p>\n\n<p>You can use <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\"><code>keys</code></a>, <a href=\"http://perldoc.perl.org/functions/values.html\" rel=\"nofollow noreferrer\"><code>values</code></a>, or <a href=\"http://perldoc.perl.org/functions/each.html\" rel=\"nofollow noreferrer\"><code>each</code></a> to iterate over a hash</p>\n\n<p>You can print all the keys and their values like this. Since your variable <code>$LineRefs</code> is a <em>hash reference</em> you need to <em>dereference</em> it as <code>%$LineRefs</code></p>\n\n<pre><code>for my $key ( keys %$LineRefs ) {\n    my $value = $LineRefs-&gt;{$key};\n    print \"$key =&gt; $value\\n\";\n}\n</code></pre>\n\n<p>If your hash values really are references to scalars then you will see things like <code>SCALAR(0x640448)</code> printed for the values</p>\n"}], "owner": {"reputation": 758, "user_id": 1586913, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da7fcb41cc4239d92becd95552bd4d03?s=128&d=identicon&r=PG", "display_name": "Subbeh", "link": "https://stackoverflow.com/users/1586913/subbeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 35134748, "answer_count": 1, "score": 4, "last_activity_date": 1454342823, "creation_date": 1454340901, "question_id": 35134357, "link": "https://stackoverflow.com/questions/35134357/how-does-this-data-structure-work", "title": "how does this data structure work?", "body": "<p>I have to some debugging on an existing script without having a lot of knowledge about perl.</p>\n\n<p>This script uses data types like these to store all the fields from a file:</p>\n\n<pre><code>${$LineRefs-&gt;{FIELD_NAME}}\n</code></pre>\n\n<p>I've been trying to figure out how to find all possible fields separately by iterating over this scalar/hash/array or whatever it may be but I have no clue how.</p>\n\n<p>Could anyone please point me in the right direction?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1454338477, "post_id": 35133545, "comment_id": 57986861, "body": "You do not allow spaces and dots."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1454338857, "post_id": 35133545, "comment_id": 57987148, "body": "Please add some sample inputs and expected result."}], "answers": [{"tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": false, "score": 0, "last_activity_date": 1454339154, "last_edit_date": 1454339154, "creation_date": 1454338817, "answer_id": 35133701, "question_id": 35133545, "link": "https://stackoverflow.com/questions/35133545/perl-match-and-print-numbers/35133701#35133701", "title": "Perl match and print numbers", "body": "<p>You should change</p>\n\n<pre><code>$_ =~ /EC?(\\d+)\\s*/g;\nprint(\"$_ \\n\");\n</code></pre>\n\n<p>to</p>\n\n<pre><code>while (/EC\\s*((\\d+)([.]\\d+)){3}/g) {\n    print ($1\\n);\n}\n</code></pre>\n\n<p>The regex would allow for blank characters between EC and the numbers-dots-pattern, and then search for four number sequences separated by three dots. The while iterates over all matches and prints every match on a single line, without the \"EC\".</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454339565, "post_id": 35133717, "comment_id": 57987648, "body": "I think <code>EC?</code> should be <code>EC</code>. Nothing the OP said suggested that the <code>C</code> was optional, and I imagine they were using <code>?</code> to match an optional space"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5642621"}, "edited": false, "score": 0, "creation_date": 1454340165, "post_id": 35133717, "comment_id": 57988070, "body": "The C is not optional. Thanks for the help."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454340696, "post_id": 35133717, "comment_id": 57988444, "body": "Should you not use <code>if</code> instead of <code>while</code>, it won&#39;t make a difference to the output but it makes more sense."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1454342359, "post_id": 35133717, "comment_id": 57989630, "body": "@123 it makes a difference for the last line here."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454342684, "post_id": 35133717, "comment_id": 57989835, "body": "@choroba oh yeah didn&#39;t notice that, thought it was one per line."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1454339613, "last_edit_date": 1454339613, "creation_date": 1454338862, "answer_id": 35133717, "question_id": 35133545, "link": "https://stackoverflow.com/questions/35133545/perl-match-and-print-numbers/35133717#35133717", "title": "Perl match and print numbers", "body": "<p>You print <code>$_</code> (the whole line) regardless of whether the matching was successful or not.</p>\n\n<p>Moreover, the regular expressions only matches digits after <code>EC</code> or <code>E</code>, you don't handle the dots. Using <code>/g</code> with a single match is weird, too - it's usually used in list context or in a while condition.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile (&lt;DATA&gt;) {\n    print \"$1.\\n\" while /EC?\\s*([\\d.]+)/g;\n}\n\n__DATA__\nEC 0.1.2.3\nEC6.7.8.9\nEC 1.2.3 EC4.56.78\n</code></pre>\n\n<p>If the <code>C</code> isn't optional, remove the question mark.</p>\n"}, {"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": -3, "last_activity_date": 1454338906, "creation_date": 1454338906, "answer_id": 35133741, "question_id": 35133545, "link": "https://stackoverflow.com/questions/35133545/perl-match-and-print-numbers/35133741#35133741", "title": "Perl match and print numbers", "body": "<p>Do not print <code>$_</code>. That's the whole line. Print <code>$1</code> instead. That's the match in the parens <code>()</code>.</p>\n\n<p>Try <code>/EC\\s*([0-9.]+)/</code>. <code>\\d</code> is only numbers, not dots. You're searching for dots as well, so <code>[0-9.]+</code> will do the trick.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5642621"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 35133717, "answer_count": 3, "score": 0, "last_activity_date": 1454339613, "creation_date": 1454338392, "last_edit_date": 1454338640, "question_id": 35133545, "link": "https://stackoverflow.com/questions/35133545/perl-match-and-print-numbers", "title": "Perl match and print numbers", "body": "<p>I want to write a script which will parse through a file pulling out all the EC numbers (enzyme classification codes) it can find and print out a list. The EC numbers look like this: EC 0.1.2.3 or EC6.7.8.9</p>\n\n<p>My attempts so far have not been successful - right now it prints out the whole content of the file.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse diagnostics;\n\nopen (IN,\"ec.txt\") or die \"Can't read words file: $!\";\nwhile (&lt;IN&gt;) {\n    chomp;\n\n    $_ =~ /EC?(\\d+)\\s*/g;\n    print(\"$_ \\n\");\n}\n</code></pre>\n"}, {"tags": ["arrays", "bash", "perl", "awk", "operators"], "answers": [{"comments": [{"owner": {"reputation": 980, "user_id": 1716704, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/S8zFC.png?s=128&g=1", "display_name": "Kalin Borisov", "link": "https://stackoverflow.com/users/1716704/kalin-borisov"}, "edited": false, "score": 0, "creation_date": 1454338841, "post_id": 35132873, "comment_id": 57987137, "body": "When I use <code>if [ &quot;$c&quot; = unknown ] ; then</code> is not perform the ssh command"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 980, "user_id": 1716704, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/S8zFC.png?s=128&g=1", "display_name": "Kalin Borisov", "link": "https://stackoverflow.com/users/1716704/kalin-borisov"}, "edited": false, "score": 0, "creation_date": 1454339075, "post_id": 35132873, "comment_id": 57987304, "body": "It&#39;s unclear what exactly you want. Please be more specific."}, {"owner": {"reputation": 980, "user_id": 1716704, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/S8zFC.png?s=128&g=1", "display_name": "Kalin Borisov", "link": "https://stackoverflow.com/users/1716704/kalin-borisov"}, "edited": false, "score": 0, "creation_date": 1454340384, "post_id": 35132873, "comment_id": 57988216, "body": "Ok, I find my mistake in my first try&#39;s I use <code>if [ &quot;$c&quot; = unknown ] ; then</code> but after that I put exit 1, which make the whole mess."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1454336464, "creation_date": 1454336464, "answer_id": 35132873, "question_id": 35132142, "link": "https://stackoverflow.com/questions/35132142/exclude-arrays-with-bad-status/35132873#35132873", "title": "Exclude arrays with bad status", "body": "<p><code>[ -z \"$c\" ]</code> is true if the variable is empty. But it's never empty, is either an ip, or \"unknown\".</p>\n\n<p>You can change the condition to</p>\n\n<pre><code>if [ \"$c\" = unknown ] ; then\n</code></pre>\n\n<p>or change the assignment to</p>\n\n<pre><code>VAR=('db1 active 10.0.0.11'\n     'db2 active 10.0.0.12'\n     'db3 inactive'\n     'db4 active 10.0.0.14'\n     'db5 inactive'\n)\n</code></pre>\n"}], "owner": {"reputation": 980, "user_id": 1716704, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/S8zFC.png?s=128&g=1", "display_name": "Kalin Borisov", "link": "https://stackoverflow.com/users/1716704/kalin-borisov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454338691, "creation_date": 1454334451, "last_edit_date": 1454338691, "question_id": 35132142, "link": "https://stackoverflow.com/questions/35132142/exclude-arrays-with-bad-status", "title": "Exclude arrays with bad status", "body": "<p>I have three variables in array, want to skip those which are with \"unknown\" status, but anyway to show up in the output till the end:</p>\n\n<p>Arrays:</p>\n\n<pre><code>VAR=(\"db1 active 10.0.0.11\" \"db2 active 10.0.0.12\" \"db3 inactive unknown\" \"db4 active 10.0.0.14\" \"db5 inactive unknown\" )\n</code></pre>\n\n<p>CMD:</p>\n\n<pre><code>for i in \"${VAR[@]}\"; do read -r a b c &lt;&lt;&lt; \"$i\";if [ -z \"$c\" ];then echo bad;elif [ ! -z \"$c\" ];then ssh $c \"cat /backup/$a/backup.status\";fi;done\n</code></pre>\n\n<p>Sample output of <code>cat backup.status</code> in db1:</p>\n\n<pre><code>$cat /backup/db1/backup.status\n$Backup Complete\n</code></pre>\n\n<p>Current Output:</p>\n\n<pre><code>Backup Complete\nBackup Complete\nBackup Complete\n</code></pre>\n\n<p>I haven't figured out how to catch the <code>$c</code> variable to skip in the first sentence where the ssh command is but to add it after everything is complete from the active databases.</p>\n\n<p>Desired Output:</p>\n\n<pre><code>Backup Complete\nBackup Complete\nBackup Complete\nDatabase db3 not reachable\nDatabase db5 not reachable\n</code></pre>\n"}, {"tags": ["perl", "floating-point"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1454336074, "post_id": 35132139, "comment_id": 57985024, "body": "Is the older Perl 32 bit and the new one 64 bit?"}, {"owner": {"reputation": 569, "user_id": 3423750, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e9e5f034a288f311d61b611a62f3e42a?s=128&d=identicon&r=PG", "display_name": "Phalgun", "link": "https://stackoverflow.com/users/3423750/phalgun"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1454336505, "post_id": 35132139, "comment_id": 57985370, "body": "@choroba Yes, I guess that PERL 5.16.3 is 64 bit and PERL 5.8.7 is 32 bit. I&#39;ve added information to the question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454348805, "post_id": 35132139, "comment_id": 57993924, "body": "I&#39;d be be interested in seeing the output of <code>perl -V:nvsize ; perl -e&#39;printf &quot;%v02X\\n&quot;, pack &quot;d&quot;, $_ for 2.198696207, 2.134326286&#39;</code> from both builds"}, {"owner": {"reputation": 569, "user_id": 3423750, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e9e5f034a288f311d61b611a62f3e42a?s=128&d=identicon&r=PG", "display_name": "Phalgun", "link": "https://stackoverflow.com/users/3423750/phalgun"}, "edited": false, "score": 0, "creation_date": 1454389173, "post_id": 35132139, "comment_id": 58010411, "body": "PERL 5.8.7 built for i686-linux-thread-multi-64int: nvsize=&#39;8&#39;; E5.3B.77.09.EE.96.01.40 B7.E7.EA.A8.19.13.01.40  PERL 5.16.3 built for x86_64-linux nvsize=&#39;8&#39;; E6.3B.77.09.EE.96.01.40 B7.E7.EA.A8.19.13.01.40"}], "answers": [{"comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454350131, "post_id": 35132915, "comment_id": 57994746, "body": "@ikegami: There are different ways, like SSE vs. FPU, see the post from 2008 I have linked in my answer. Or see <a href=\"https://en.wikipedia.org/wiki/SSE2#Differences_between_x87_FPU_and_SSE2\" rel=\"nofollow noreferrer\">x87 FPU vs. SSE2 on Wikipedia</a>. And I&#39;ve also added tests with the same Perl compiled with i686 vs. x86_64."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454351328, "post_id": 35132915, "comment_id": 57995430, "body": "@ikegami: I&#39;ve extended the answer with more details and show also that this is not related to conversation between double and string but that the actual double results are different."}, {"owner": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1454354691, "post_id": 35132915, "comment_id": 57997309, "body": "Steffen: are you <i>sure</i> the internal representations of the inputs are the same on both platforms? I think the first number might be represented as <code>0xe53b7709ee960140</code> on one platform and <code>0xe63b7709ee960140</code> on the other."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1454355061, "post_id": 35132915, "comment_id": 57997532, "body": "@MarkDickinson: Damn, you are right. It&#39;s 0xe53b... on 32 bit. This would mean that there is a difference in string to float conversion, right? Interestingly converting the number from 32 bit back to string on 64 bit gives exactly the same string."}, {"owner": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1454355390, "post_id": 35132915, "comment_id": 57997739, "body": "Okay, that makes a lot of sense. I was confused earlier: there&#39;s not a lot that can go wrong in a floating-point subtraction with an exactly representable result (x87 versus SSE2 shouldn&#39;t make a difference in that case, for example), but when you bring string-to-float conversions into the mix, there&#39;s plenty of potential for variation ..."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1454355928, "post_id": 35132915, "comment_id": 57998089, "body": "@MarkDickinson: interestingly atof on 64 bit returns 0xe53b..., so the conversation from string to double must be done differently."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1454357197, "post_id": 35132915, "comment_id": 57998809, "body": "@ikegami: you were probably right that this is related to string to double conversation. Do you know how this conversation is done in Perl? Does it use some libc function or is there something Perl specific? Because it behaves differently on 32 and 64 bit even though OS (and thus libc) and Perl version are the same."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1454357233, "post_id": 35132915, "comment_id": 57998841, "body": "@MarkDickinson: many thanks for your detective work. I hope the answer now better reflects the reality."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 13, "last_activity_date": 1454359222, "last_edit_date": 1495542336, "creation_date": 1454336593, "answer_id": 35132915, "question_id": 35132139, "link": "https://stackoverflow.com/questions/35132139/floating-precision-difference-in-perl-5-16-3-and-5-8-7/35132915#35132915", "title": "Floating precision difference in Perl 5.16.3 and 5.8.7", "body": "<p>EDIT: thanks to <a href=\"https://stackoverflow.com/users/270986/mark-dickinson\">Mark Dickinson</a> for pointing out irregularities in my initial answer. The conclusion changed because of his detective work. Many thanks also to  <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for his doubts on the initial analysis.</p>\n\n<p>In summary: its because of small differences in the string to double conversation. And it looks like that these differences are caused by a different behavior of the same code when running on 32 bit and 64 bit.</p>\n\n<p><strong>Details</strong> </p>\n\n<blockquote>\n  <p>This is perl, v5.8.7 built for i686-linux-thread-multi-64int</p>\n</blockquote>\n\n<p>This is Perl for 32 bit architecture</p>\n\n<blockquote>\n  <p>This is perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux</p>\n</blockquote>\n\n<p>And this for 64 bit architecture.</p>\n\n<p>This means these Perl versions are built against different CPU architectures and maybe different compile time options. This might result in a different precision for floating point operations. <strong>But it might also be related to string to double conversations</strong> as was pointed out in comments from <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>.</p>\n\n<p>For difference between the architectures see  <a href=\"https://stackoverflow.com/questions/322797/problem-with-floating-point-precision-when-moving-from-i386-to-x86-64\">Problem with floating-point precision when moving from i386 to x86_64</a> or <a href=\"https://en.wikipedia.org/wiki/SSE2#Differences_between_x87_FPU_and_SSE2\" rel=\"nofollow noreferrer\"> x87 FPU vs. SSE2 on Wikipedia</a>.</p>\n\n<p>I've done the following tests on the same computer with identical versions of Ubuntu (15.10) inside a LXC container, but one for 32 bit and the other for 64 bit.</p>\n\n<pre><code># on 32 bit bit\n$ perl -v\nThis is perl 5, version 20, subversion 2 (v5.20.2) built for i686-linux-gnu-thread-multi-64int\n$ perl -V:nvsize\n$ nvsize='8';\n$ perl -E 'say 2.198696207-2.134326286'\n0.0643699209999999\n\n# on 64 bit\n$ perl -v\nThis is perl 5, version 20, subversion 2 (v5.20.2) built for x86_64-linux-gnu-thread-multi\n$ perl -V:nvsize\n$ nvsize='8';\n$ perl -E 'say 2.198696207-2.134326286'                                                                                                                                                                              \n0.0643699210000004\n</code></pre>\n\n<p>This shows that the difference is not related to the Perl version or to the size of the floating point used. To get more details we have a look at the internal representation of the numbers using <code>unpack('H*',pack('N',$double))</code>.\nFor 2.134326286 the representation is the same, i.e. 0xb7e7eaa819130140. But for  2.198696207 we get a different representation:</p>\n\n<pre><code>32 bit: 2.198696207 -&gt; 0xe*5*3b7709ee960140 \n64 bit: 2.198696207 -&gt; 0xe*6*3b7709ee960140 \n</code></pre>\n\n<p>This means that the internal representation of the number is different on 64 bit and 32 bit. This can be due to different functions used because of optimizations for different platforms or because the same functions behaves slightly different on 32 bit and 64 bit. Checking with the libc function <code>atof</code> shows that this returns 0xe53b7709ee960140 on 64 bit too, so it looks like Perl is using a different function for the conversation.</p>\n\n<p>Digging deeper shows that the Perl I have used on both platforms has <code>USE_PERL_ATOF</code> set which indicates that Perl is using its own implementation of the <code>atof</code> function. The source code for some current implementation of this function can be found <a href=\"https://github.com/Perl/perl5/blob/406d5545e79665094180534380eba323110f99bc/numeric.c#L1330\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<p>Looking at this code it is hard to see how it could behave differently for 32 and 64 bit. But there is one important platform dependent value which indicates how much data the atof implementation will accumulate inside an unsigned int before adding it to the internal representation of the floating point:</p>\n\n<pre><code>#define MAX_ACCUMULATE ( (UV) ((UV_MAX - 9)/10))\n</code></pre>\n\n<p>Obviously <code>UV_MAX</code> is different on 32 bit and 64 bit so it will cause different accumulation steps in 32 bit which causes different floating point additions with potential precision problems.  My guess is that this somehow explains the tiny difference in the behavior between 32 bit and 64 bit.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454348232, "post_id": 35134439, "comment_id": 57993561, "body": "Perl never uses single-precision floats."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1454385768, "post_id": 35134439, "comment_id": 58009443, "body": "Some languages allow you to expect much more. They don&#39;t really on native numbers though."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1454341185, "creation_date": 1454341185, "answer_id": 35134439, "question_id": 35132139, "link": "https://stackoverflow.com/questions/35132139/floating-precision-difference-in-perl-5-16-3-and-5-8-7/35134439#35134439", "title": "Floating precision difference in Perl 5.16.3 and 5.8.7", "body": "<p>The problem is certainly the floating-point architecture that each Perl installation is built to use. But do you really need those values to be identical? If so then you are bound for endless disappointment</p>\n\n<p>A single-precision (32-bit) floating-point number will typically have an accuracy of seven decimal digits, so your program is displaying far beyond that limit</p>\n\n<p>Unless you are trying to compare two floating-point values for equality (which is <em>never</em> possible, even within the same instruction set) the only problem you may have is that none of the values have sufficient accuracy for your purpose</p>\n\n<p><code>0.0643699209999999</code> is equal to <code>0.0643699210000004</code> to an accuracy of seven digits, and that is all you can expect from any computer or language</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454349213, "post_id": 35135880, "comment_id": 57994180, "body": "That paragraph you quoted is confusing. This is what it means: &quot;Perl will automatically convert strings into numbers when necessary, and will use the C library to do so.&quot; It will also also the C library to convert numbers into strings."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1454345432, "creation_date": 1454345432, "answer_id": 35135880, "question_id": 35132139, "link": "https://stackoverflow.com/questions/35132139/floating-precision-difference-in-perl-5-16-3-and-5-8-7/35135880#35135880", "title": "Floating precision difference in Perl 5.16.3 and 5.8.7", "body": "<p>The documentation you want is <a href=\"http://perldoc.perl.org/perlnumber.html\" rel=\"nofollow\">perlnumber</a>:</p>\n\n<blockquote>\n  <p>Perl can internally represent numbers in 3 different ways: as native integers, as native floating point numbers, and as decimal strings. Decimal strings may have an exponential notation part, as in \"12.34e-56\" . Native here means \"a format supported by the C compiler which was used to build perl\".</p>\n</blockquote>\n\n<p>It's up to your C compiler and your compile-time options.</p>\n\n<p>However, you don't have to use native numbers. If you can tolerate the performance hit, you can use <a href=\"http://perldoc.perl.org/bignum.html\" rel=\"nofollow\">bignum</a> to get exact numbers.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1454351781, "last_edit_date": 1495540446, "creation_date": 1454348686, "answer_id": 35136960, "question_id": 35132139, "link": "https://stackoverflow.com/questions/35132139/floating-precision-difference-in-perl-5-16-3-and-5-8-7/35136960#35136960", "title": "Floating precision difference in Perl 5.16.3 and 5.8.7", "body": "<p>There are some factors that can make a difference. In order of increasing likeliness in this particular case, they are the following:</p>\n\n<ul>\n<li><p>The two builds might have different floating pointer number sizes.</p>\n\n<ul>\n<li><p>If <code>perl -V:nvsize</code> gives <code>8</code>, that build uses double-precision floating pointer numbers.</p></li>\n<li><p>If <code>perl -V:nvsize</code> gives <code>16</code>, that build uses quaduple-precision floating pointer numbers.</p></li>\n</ul></li>\n<li><p>The C library is used to parse numbers and to format numbers. The two builds use different C libraries due to the differences in architectures. (They could also use different C libraries due to using different compiler vendors, different library versions installed, etc). Some libraries are better than others at doing these conversions (i.e. some are buggy).</p></li>\n<li><p>The instruction set (x87 FPU vs SSE2) used can vary by architecture, and this matters because they perform the operations using different amount of significance internally. See <a href=\"https://stackoverflow.com/a/35132915/589924\">Steffen Ullrich's answer</a> for more details.</p></li>\n</ul>\n"}], "owner": {"reputation": 569, "user_id": 3423750, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e9e5f034a288f311d61b611a62f3e42a?s=128&d=identicon&r=PG", "display_name": "Phalgun", "link": "https://stackoverflow.com/users/3423750/phalgun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 1, "accepted_answer_id": 35132915, "answer_count": 4, "score": 4, "last_activity_date": 1454385663, "creation_date": 1454334441, "last_edit_date": 1454385663, "question_id": 35132139, "link": "https://stackoverflow.com/questions/35132139/floating-precision-difference-in-perl-5-16-3-and-5-8-7", "title": "Floating precision difference in Perl 5.16.3 and 5.8.7", "body": "<p>Below piece of code when run with different versions of perl gives different output:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nmy $number1 = 2.198696207;\nmy $number2 = 2.134326286;\nmy $diff = $number1 - $number2;\nprint STDOUT \"\\n 2.198696207 - 2.134326286: $diff\\n\";\n\n$number1 = 0.449262271;\n$number2 = 0.401361096;\n$diff = $number1 - $number2;\nprint STDOUT \"\\n 2.198696207 - 2.134326286: $diff\\n\";\n</code></pre>\n\n<p>PERL 5.16.3:-</p>\n\n<pre><code>perl -v\n\nThis is perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux\nfile `which perl`\n/sv/app/perx/third-party/bin/perl: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.18, not stripped\n\n 2.198696207 - 2.134326286: 0.0643699210000004\n 2.198696207 - 2.134326286: 0.047901175\n</code></pre>\n\n<p>PERL 5.8.7:-\n     perl -v</p>\n\n<pre><code> This is perl, v5.8.7 built for i686-linux-thread-multi-64int\nfile `which perl`\n/sv/app/perx/third-party/bin/perl: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), for GNU/Linux 2.2.5, dynamically linked (uses shared libs), for GNU/Linux 2.2.5, not stripped\n 2.198696207 - 2.134326286: 0.0643699209999999\n 2.198696207 - 2.134326286: 0.047901175\n</code></pre>\n\n<p>I have not been able to find any documentation which speaks about the difference in precision/rounding of floating point numbers introduced between the above two versions.</p>\n"}, {"tags": ["perl", "moose"], "comments": [{"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 1, "creation_date": 1454335443, "post_id": 35129983, "comment_id": 57984530, "body": "The section in the docs noting that builders get called by name is in <a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/Attributes.pod#Builders-allow-subclassing\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/Moose/lib/Moose/Manual/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1454598072, "post_id": 35161078, "comment_id": 58124295, "body": "Yeah, that seems to be it, though I&#39;d argue if poluting package namespace with arbitrary pseudo-private named functions is an &quot;advantage&quot;. Sub-class/role still&#39;d need to inspect your class because it can&#39;t reliably guess how you name your builders and it could replace <code>default</code> just as easily."}], "tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": true, "score": 1, "last_activity_date": 1454437421, "creation_date": 1454437421, "answer_id": 35161078, "question_id": 35129983, "link": "https://stackoverflow.com/questions/35129983/using-sub-reference-with-moose-builder/35161078#35161078", "title": "Using sub reference with Moose builder", "body": "<p><a href=\"http://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/Attributes.pod#Default-and-builder-methods\" rel=\"nofollow\">Moose manual</a> says:</p>\n\n<blockquote>\n  <p>You can also provide a subroutine reference for <code>default</code>. This reference will be called as a method on the object. [\u2026] As an alternative to using a subroutine reference, you can supply a <code>builder</code> method for your attribute. This has several advantages. First, it moves a chunk of code to its own named method, which improves readability and code organization. Second, because this is a named method, it can be subclassed or provided by a role.</p>\n</blockquote>\n\n<p>So, if you use subroutine reference for <code>builder</code> then you lose these advantages. I think subroutine reference works as side effect and has no practical application.</p>\n"}], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 35161078, "answer_count": 1, "score": 2, "last_activity_date": 1454437421, "creation_date": 1454327924, "question_id": 35129983, "link": "https://stackoverflow.com/questions/35129983/using-sub-reference-with-moose-builder", "title": "Using sub reference with Moose builder", "body": "<p>Moose documentation mentions that <code>builder</code> property for attribute in class definiton should be a string that contains name for function that will be called to build relevant attribute. Simple testing however shows that sub reference works as well:</p>\n\n<pre><code>has 'some_attribute' =&gt; (\n    is =&gt; 'ro',\n    lazy =&gt; 1,\n    builder =&gt; sub {\n        require SomeModule::Heavy;\n        return SomeModule::Heavy-&gt;new($_[0]);\n    },\n);\n</code></pre>\n\n<p>Did I miss something in docs? Is usage of sub reference officially supported for <code>builder</code>?</p>\n"}, {"tags": ["html", "mysql", "perl", "utf-8", "utf8-decode"], "answers": [{"tags": [], "owner": {"reputation": 1987, "user_id": 5320562, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250463315/picture?type=large", "display_name": "Loukan ElKadi", "link": "https://stackoverflow.com/users/5320562/loukan-elkadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1454331901, "last_edit_date": 1454331901, "creation_date": 1454331459, "answer_id": 35131156, "question_id": 35128221, "link": "https://stackoverflow.com/questions/35128221/how-to-display-arabic-or-spanish-mojibake-characters-correctly-on-the-ui/35131156#35131156", "title": "How to display Arabic or Spanish Mojibake characters correctly on the UI", "body": "<p>Try enabling UTF-8 for the DB connection as such: <code>$dbh-&gt;{'mysql_enable_utf8'} = 1;</code> </p>\n\n<p>As I remember, using <code>SET  NAMES</code> is not the most recommended way to do this, but in case you want to use it, should you try <code>SET NAMES utf8</code> instead of latin1</p>\n"}, {"tags": [], "owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1454378037, "creation_date": 1454378037, "answer_id": 35143736, "question_id": 35128221, "link": "https://stackoverflow.com/questions/35128221/how-to-display-arabic-or-spanish-mojibake-characters-correctly-on-the-ui/35143736#35143736", "title": "How to display Arabic or Spanish Mojibake characters correctly on the UI", "body": "<p>A little bit shorter:</p>\n\n<pre><code>CONVERT(BINARY('\u00d8\u00a7\u00d9\u2020\u00d9\u2020\u00d9\u2020\u00d8\u00a7\u00d9\u2020\u00d8\u00b9\u00d9\u2020') USING utf8) --&gt; \u0627\u0646\u0646\u0646\u0627\u0646\u0639\u0646 \n</code></pre>\n\n<p>But... You are asking for <em>more</em> trouble if you don't stop and get everything into utf8 <em>now</em>.</p>\n\n<ul>\n<li>Bytes in client;</li>\n<li>Connection <code>SET NAMES utf8mb4</code> or by other means -- for both writing and reading;</li>\n<li>Column / table declared <code>CHARACTER SET utf8mb4</code>;</li>\n<li>HTML meta tag with <code>charset=UTF-8</code>.</li>\n</ul>\n\n<p>Mojibake usually occurs from </p>\n\n<ul>\n<li>The bytes you have in the client are correctly encoded in utf8 (good).</li>\n<li>You connected with <code>SET NAMES latin1</code> (or <code>set_charset('latin1')</code> or ...), probably by default.  (It should have been <code>utf8mb4</code>.)</li>\n<li>The column in the tables may or may not have been <code>CHARACTER SET utf8mb4</code>, but it should have been that.</li>\n</ul>\n\n<p>If you need to <strong>fix the data</strong> it takes a \"2-step ALTER\", something like</p>\n\n<pre><code>ALTER TABLE Tbl MODIFY COLUMN col VARBINARY(...) ...;\nALTER TABLE Tbl MODIFY COLUMN col VARCHAR(...) ... CHARACTER SET utf8mb4 ...;\n</code></pre>\n"}], "owner": {"reputation": 344, "user_id": 1254174, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/2416cff2f4d8dd65a5bf52228d86208a?s=128&d=identicon&r=PG", "display_name": "Ash_and_Perl", "link": "https://stackoverflow.com/users/1254174/ash-and-perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1454378037, "creation_date": 1454322567, "last_edit_date": 1454324547, "question_id": 35128221, "link": "https://stackoverflow.com/questions/35128221/how-to-display-arabic-or-spanish-mojibake-characters-correctly-on-the-ui", "title": "How to display Arabic or Spanish Mojibake characters correctly on the UI", "body": "<p>I have a web-based project written in Perl and MySQL. we use template toolkit for rendering the HTML page. we have written a custom wrapper on DBI class to interact with MySQL.</p>\n\n<p>Since it is a legacy project, most of our tables are latin1 charset. Recently we started supporting Multi-language UI ( Spanish and Arabic ). Because of this, Users are entering the data in their native languages. The data is not encoded and it is saved into the DB. Now we have a ETL process which moves data from our primary DB to star schema DB which are UTF8 tables. This DB is used only for reports. Now in one of the reports we are getting unreadable characters. </p>\n\n<p><a href=\"https://i.stack.imgur.com/tnQhe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tnQhe.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am changing the query to retrieve this data as</p>\n\n<pre><code>SET NAMES latin1;\nselect \nCONVERT(CAST(CONVERT( label USING  latin1) AS BINARY) USING utf8) AS label\nfrom report_table\nwhere report_id = '999';\n</code></pre>\n\n<p>I am using sqlyug to execute the query. If I do not set the <code>SET NAMES latin1;</code>, then the value is still not readable. But when I am trying the same change in the code level, I am not able to get the application display the data correctly. In our custom DB wrapper we are not setting any particular settings. </p>\n\n<p>we are not setting <code>SET character_set_results</code>.\nwe are not even setting <code>enable_utf8 =&gt; 0,</code></p>\n\n<p>I am not sure what needs to be done.<br>\nI know it is a better solution to correct the data in the primary DB before ETL but it is a long term plan. I need some solution which can fix the issue temporarily and not block the customers.</p>\n\n<p>Let me know if you need any more information.</p>\n"}, {"tags": ["linux", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454314344, "post_id": 35125022, "comment_id": 57971350, "body": "As the delim is <code>@</code> does that mean that the spaces are required?"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454314504, "post_id": 35125022, "comment_id": 57971437, "body": "Also your commands would not give your expected output"}, {"owner": {"reputation": 261, "user_id": 4888870, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/j2N4r.jpg?s=128&g=1", "display_name": "Thomas Paine", "link": "https://stackoverflow.com/users/4888870/thomas-paine"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454358506, "post_id": 35125022, "comment_id": 57999625, "body": "Yes, the spaces are required.  This is because of math equations that are executed on the database elsewhere by other code.  Without the spaces it will be a pain to convert the fractions to decimals before the use of multiplication."}], "answers": [{"comments": [{"owner": {"reputation": 261, "user_id": 4888870, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/j2N4r.jpg?s=128&g=1", "display_name": "Thomas Paine", "link": "https://stackoverflow.com/users/4888870/thomas-paine"}, "edited": false, "score": 1, "creation_date": 1454357713, "post_id": 35125213, "comment_id": 57999156, "body": "Your right...One can combine the variable declaration, and editing the first row/record in one command. That answers what I thought was possible, yet could find no examples of, that is, how to declare an awk variable and use the variable in one command. Also, I was not aware that one awk&#39;s output could be another awk&#39;s input by using a semicolon...Much thanks for this example, as it will be used in more solutions then this. A true AWK one liner of one liners"}], "tags": [], "owner": {"reputation": 736, "user_id": 5192785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80d52c98f4b655dd60fce83c611ed1e2?s=128&d=identicon&r=PG&f=1", "display_name": "Murad Tagirov", "link": "https://stackoverflow.com/users/5192785/murad-tagirov"}, "is_accepted": true, "score": -1, "last_activity_date": 1454312390, "creation_date": 1454312390, "answer_id": 35125213, "question_id": 35125022, "link": "https://stackoverflow.com/questions/35125022/declaring-variables-from-data-and-running-multiple-commands-on-data-in-one-line/35125213#35125213", "title": "Declaring variables from data, and running multiple commands on data in one line of code", "body": "<p>You can combine all these three commands in one line. Like following:</p>\n\n<pre><code>LENGTH=$(cat sample.txt |awk -F@ 'NR==2{print $NF}') awk -F@ -v l=\"$length\" 'NR==1{$(NF-1)=1;$NF=l;print $0}' OFS=@ sample.txt ; awk -F@ 'NR&gt;1{print $0}' sample.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454316876, "post_id": 35126123, "comment_id": 57972571, "body": "What does having $val in brackets do ? Also you might want to mention that you are using perl..."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1454320677, "post_id": 35126123, "comment_id": 57974968, "body": "The parentheses are necessary for scoping the <code>my</code> declaration."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1454321807, "post_id": 35126123, "comment_id": 57975694, "body": "@tripleee I don&#39;t understand what you mean, how does it affect the scope ?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1454327182, "post_id": 35126123, "comment_id": 57979118, "body": "@123 <a href=\"http://stackoverflow.com/questions/10031455/using-my-with-parentheses-and-only-one-variable\" title=\"using my with parentheses and only one variable\">stackoverflow.com/questions/10031455/&hellip;</a>"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1454327719, "post_id": 35126123, "comment_id": 57979431, "body": "@tripleee thanks that clears it up, i think we have different definitions of scope though!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 2, "creation_date": 1454339363, "post_id": 35126123, "comment_id": 57987509, "body": "@123: You&#39;re right, it has nothing to do with scope. It serves to put the expression on the right-hand side in <i>list context</i> so that the capture is copied into <code>$val</code> instead of just a true/false to say whether it matched"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467890043, "last_edit_date": 1467890043, "creation_date": 1454316067, "answer_id": 35126123, "question_id": 35125022, "link": "https://stackoverflow.com/questions/35125022/declaring-variables-from-data-and-running-multiple-commands-on-data-in-one-line/35126123#35126123", "title": "Declaring variables from data, and running multiple commands on data in one line of code", "body": "<p>If I have understood you correctly then this program will do as you wish</p>\n\n<p>It reads the first two lines from the file, and replaces the last two fields of the first line with <code>1</code>, and the last field from the second line. Then it prints those two lines and copies the rest of the file</p>\n\n<p>The path to the input file is expected as a parameter on the command line</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $line1 = &lt;&gt;;\nmy $line2 = &lt;&gt;;\nmy ($val) = $line2 =~ /.+\\@(.+)/;\n\n$line1 =~ s/\\@[^\\@]*\\@[^\\@]*$/\\@1 \\@$val\\n/;\n\nprint $line1;\nprint $line2;\n\nprint while &lt;&gt;;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>5@Comedia   @5@3@2@3@1/2  @3@1.6  @1@2 1/2@1 @4 3/4\n3@Melanistic@3@4@2@4@1 1/2@4@2 3/4@3@5    @2 @4 3/4\n2@Pure      @4@5@5@5@3 1/2@5@4 3/4@5@8    @3 @6 1/2\n4@Profit    @2@2@1@2@1.6  @1@1.6  @2@2 1/2@4 @6 1/2\n1@Whammy    @1@1@1@1@1.6  @2@1.6  @4@5 1/2@5 @8 1/4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 5730240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G0Ybl.gif?s=128&g=1", "display_name": "Firefly", "link": "https://stackoverflow.com/users/5730240/firefly"}, "is_accepted": false, "score": 0, "last_activity_date": 1454319671, "creation_date": 1454319671, "answer_id": 35127212, "question_id": 35125022, "link": "https://stackoverflow.com/questions/35125022/declaring-variables-from-data-and-running-multiple-commands-on-data-in-one-line/35127212#35127212", "title": "Declaring variables from data, and running multiple commands on data in one line of code", "body": "<p>If I have understood you correctly then this awk one liner will do as you wish!!</p>\n\n<pre><code>awk -F@ -v OFS=\"@\" 'NR==1{$12=$12-10; $13=$13-10 \" 3/4\";}{$11=$11\" \"; sub(\" \", \"\", $12);}1'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>5@Comedia   @5@3@2@3@1/2  @3@1.6  @1@2 1/2 @1@4 3/4\n3@Melanistic@3@4@2@4@1 1/2@4@2 3/4@3@5     @2@4 3/4\n2@Pure      @4@5@5@5@3 1/2@5@4 3/4@5@8     @3@6 1/2\n4@Profit    @2@2@1@2@1.6  @1@1.6  @2@2 1/2 @4@6 1/2\n1@Whammy    @1@1@1@1@1.6  @2@1.6  @4@5 1/2 @5@8 1/4\n</code></pre>\n"}], "owner": {"reputation": 261, "user_id": 4888870, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/j2N4r.jpg?s=128&g=1", "display_name": "Thomas Paine", "link": "https://stackoverflow.com/users/4888870/thomas-paine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 35125213, "answer_count": 3, "score": 0, "last_activity_date": 1467890043, "creation_date": 1454311649, "last_edit_date": 1454358134, "question_id": 35125022, "link": "https://stackoverflow.com/questions/35125022/declaring-variables-from-data-and-running-multiple-commands-on-data-in-one-line", "title": "Declaring variables from data, and running multiple commands on data in one line of code", "body": "<p>I've come across an error today and would like other people's opinions on a solution beyond what I have.  The error is in a dataset.  The data in the last column/field of the first and second row/record should be the same, and the second to last column/field of row/record 1 is always \"1\".  The problem is when this is not so and and the steps needed to correct it.</p>\n\n<p>The incorrect data is as such, in a file called \"sample.txt\":</p>\n\n<pre><code>5@Comedia   @5@3@2@3@1/2  @3@1.6  @1@2 1/2@11@14 1/4\n3@Melanistic@3@4@2@4@1 1/2@4@2 3/4@3@5    @2 @4 3/4\n2@Pure      @4@5@5@5@3 1/2@5@4 3/4@5@8    @3 @6 1/2\n4@Profit    @2@2@1@2@1.6  @1@1.6  @2@2 1/2@4 @6 1/2\n1@Whammy    @1@1@1@1@1.6  @2@1.6  @4@5 1/2@5 @8 1/4\n</code></pre>\n\n<p>The correct data should look like this:</p>\n\n<pre><code> 5@Comedia   @5@3@2@3@1/2  @3@1.6  @1@2 1/2 @1@4 3/4\n 3@Melanistic@3@4@2@4@1 1/2@4@2 3/4@3@5     @2@4 3/4\n 2@Pure      @4@5@5@5@3 1/2@5@4 3/4@5@8     @3@6 1/2\n 4@Profit    @2@2@1@2@1.6  @1@1.6  @2@2 1/2 @4@6 1/2\n 1@Whammy    @1@1@1@1@1.6  @2@1.6  @4@5 1/2 @5@8 1/4\n</code></pre>\n\n<p>My current solution is a multi-step process I have a feeling can be streamlined.  Any suggestions are highly appreciated.</p>\n\n<p>1)Create a bash variable:</p>\n\n<pre><code> length=$(cat sample.txt |awk -F@ 'NR==2{print $NF}') \n</code></pre>\n\n<p>2)Create a file with the correct information in row 1:</p>\n\n<pre><code>awk -F@ -v l=\"$length\" 'NR==1{$(NF-1)=1;$NF=l;print $0}' OFS=@ sample.txt &gt;sample1.txt\n</code></pre>\n\n<p>3)Append the remaining info to the created correct row file</p>\n\n<pre><code>awk -F@ 'NR&gt;1{print $0}' sample.txt &gt;&gt;sample1.txt   \n</code></pre>\n\n<p>Is there an awk, sed, or Perl one liner (or combinations of pipes) that can accomplish the three steps above in one?</p>\n"}, {"tags": ["arrays", "perl", "reference"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1454311596, "post_id": 35124534, "comment_id": 57969988, "body": "Check for <code>||=</code> in perlop, and <code>[]</code> returns array ref. If clarity is of any significance, it should be written as  <code>$violated{$desc} ||= []; push @{$violated{$desc}}, $.;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 7, "last_activity_date": 1454309724, "creation_date": 1454309724, "answer_id": 35124578, "question_id": 35124534, "link": "https://stackoverflow.com/questions/35124534/what-is-in-perl/35124578#35124578", "title": "What is ||=[] in perl?", "body": "<p><code>$x ||= []</code> is pretty much equivalent to <code>$x = $x || []</code>, which is, in turn, almost equivalent to <code>$x = $x ? $x : []</code>. In other words, if <code>$x</code> is falsy, it will make it an empty array reference; otherwise, it will leave it alone.</p>\n"}, {"tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": false, "score": 2, "last_activity_date": 1454309776, "creation_date": 1454309776, "answer_id": 35124593, "question_id": 35124534, "link": "https://stackoverflow.com/questions/35124534/what-is-in-perl/35124593#35124593", "title": "What is ||=[] in perl?", "body": "<p>Logical or with assignment. It takes left operand, and right operand, performs <code>left || right</code> and assigns it back to <code>left</code>.</p>\n\n<p>Check <a href=\"https://en.wikibooks.org/wiki/Perl_Programming/Operators#Assignment\" rel=\"nofollow\">perl assignment operators</a></p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454337632, "post_id": 35124662, "comment_id": 57986238, "body": "The term is &quot;autovivification&quot; <a href=\"http://www.effectiveperlprogramming.com/2011/04/understand-autovivification/\" rel=\"nofollow noreferrer\">effectiveperlprogramming.com/2011/04/&hellip;</a>"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 9, "last_activity_date": 1454312117, "last_edit_date": 1454312117, "creation_date": 1454310149, "answer_id": 35124662, "question_id": 35124534, "link": "https://stackoverflow.com/questions/35124534/what-is-in-perl/35124662#35124662", "title": "What is ||=[] in perl?", "body": "<p>It's a <a href=\"http://perldoc.perl.org/perlop.html#Assignment-Operators\" rel=\"noreferrer\">compound assignment operator</a>; it assigns <code>[]</code> (a reference to a new empty array) to <code>$violated{$desc}</code> if it contains a false value (i.e. if it hasn't been initialized yet).</p>\n\n<p>It's also completely unnecessary, because Perl does that automatically anyway. The same code with <code>||=[]</code> removed does the same thing, more clearly.</p>\n\n<p>However, there are times when it actually does make sense to do something like this, so it's worth keeping the pattern in mind.</p>\n"}], "owner": {"reputation": 329, "user_id": 3989978, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/c1f202764ac43cbce2910a14aa4204f1?s=128&d=identicon&r=PG&f=1", "display_name": "Zii", "link": "https://stackoverflow.com/users/3989978/zii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1454312117, "creation_date": 1454309542, "last_edit_date": 1454309642, "question_id": 35124534, "link": "https://stackoverflow.com/questions/35124534/what-is-in-perl", "title": "What is ||=[] in perl?", "body": "<p>What does below array <code>@{$violated{$desc}||=[]}</code> mean in below subroutine?\nI understand  <code>@{$violated{$desc}}</code> is the anonymous array referenced by <code>$violated{$desc}</code>, though.</p>\n\n<pre><code>sub not_in_file_ok {\n    my ($filename, %regex) = @_;\n    open( my $fh, '&lt;', $filename ) or die \"couldn't open $filename for reading: $!\";\n    my %violated;\n    while (my $line = &lt;$fh&gt;) {\n        while (my ($desc, $regex) = each %regex) {\n            if ($line =~ $regex) {\n                push @{$violated{$desc}||=[]}, $.;\n            }\n        }\n    }\n    if (%violated) {\n    fail(\"$filename contains boilerplate text\");\n    diag \"$_ appears on lines @{$violated{$_}}\" for keys %violated;\n    } else {\n    pass(\"$filename contains no boilerplate text\");\n    }\n}\n</code></pre>\n"}, {"tags": ["arrays", "regex", "perl", "printing"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454311452, "post_id": 35124517, "comment_id": 57969915, "body": "You will need to show what your current code produces and what the required result is"}, {"owner": {"reputation": 11, "user_id": 5864588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31639349b4f5a4d17687124901de84bb?s=128&d=identicon&r=PG&f=1", "display_name": "LL2", "link": "https://stackoverflow.com/users/5864588/ll2"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454312630, "post_id": 35124517, "comment_id": 57970443, "body": "I&#39;ve gone back and added input file, expected results, current results, modified code after some work, and current errors."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454312792, "post_id": 35124517, "comment_id": 57970522, "body": "Thank you, that&#39;s excellent. Are the initial <code>+</code> signs continuation lines or are they actually in the data?"}, {"owner": {"reputation": 11, "user_id": 5864588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31639349b4f5a4d17687124901de84bb?s=128&d=identicon&r=PG&f=1", "display_name": "LL2", "link": "https://stackoverflow.com/users/5864588/ll2"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454313507, "post_id": 35124517, "comment_id": 57970889, "body": "Continuation lines I&#39;d imagine I&#39;m not sure.  I copied both sets of results from csv files that were output that I opened in excel on a mac."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454315292, "post_id": 35124517, "comment_id": 57971774, "body": "Okay it&#39;s still very unclear what it is you&#39;re trying to do. For instance you call <code>$string-&gt;print()</code> which doesn&#39;t do anything useful. What do you mean by that? Also, the code that you show prints 25 characters either side of every occurrence of <code>CEO</code>, and the output is all in the <i>body</i> of the HTML. But you only show the <code>&lt;head&gt;</code> element and that is all that you&#39;ve parsed. Can you show what result you actually want from that HTML input please? It would also be nice if you explained the purpose of <code>@TAGS2</code>"}, {"owner": {"reputation": 11, "user_id": 5864588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31639349b4f5a4d17687124901de84bb?s=128&d=identicon&r=PG&f=1", "display_name": "LL2", "link": "https://stackoverflow.com/users/5864588/ll2"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454337618, "post_id": 35124517, "comment_id": 57986225, "body": "I&#39;ve modified the post above to include a newer version of the script.  The script now runs without errors on my side and the formatting is better, 1 row per file with comma separated values. But I don&#39;t seem to be getting the key words from the regex search that I&#39;m looking for and instead get some code like items that start with an &quot;*&quot; that I can&#39;t figure out: Test/Boulder_Personalized medicine.html.result.txt_parsed_for_news.txt.html Boulder%2520Personalized%2520medicine , News Search | Ask.com\t* Trigger the backfill event with lotam\t* Read the lotame cookie\tt then make a request for the Lo"}, {"owner": {"reputation": 11, "user_id": 5864588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31639349b4f5a4d17687124901de84bb?s=128&d=identicon&r=PG&f=1", "display_name": "LL2", "link": "https://stackoverflow.com/users/5864588/ll2"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454337777, "post_id": 35124517, "comment_id": 57986344, "body": "second part of comments - * Drop the lotame cookie\t* Trigger the backfill with lotame para\t//Setting the cookie.raw to true to avo\tid the encoding I tried a google search on &quot;* Trigger the backfill event with lotam&quot; and the other phrases and I&#39;m stumped. Also how can I use multiple words here:      # match words                 my @WORDS = qw( press founder professor Dr. Ph.D M.D           called receives joins timing find two            self bottom true amazing forget night next day );"}, {"owner": {"reputation": 11, "user_id": 5864588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31639349b4f5a4d17687124901de84bb?s=128&d=identicon&r=PG&f=1", "display_name": "LL2", "link": "https://stackoverflow.com/users/5864588/ll2"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454338012, "post_id": 35124517, "comment_id": 57986523, "body": "The desired output is 1 csv file that contains one line with the parsed results from each html files in the Test folder.  Here are the headers from my output file: Filename\tContent-Base\tTitle\tX-Meta-author\tX-Meta-description&zwnj;&#8203;\tX-Meta-keywords\tX-M&zwnj;&#8203;eta-name\tSearch Results CEO\tfounder\tprofessor\tDr.\tPh.D\tM.D.\tcompany\tcalled\tstartup\tc&zwnj;&#8203;alled\tjoins\t&#39;receive&zwnj;&#8203;s\tfunding&#39;\tSBIR\trece&zwnj;&#8203;iving\tthe\tgrant\tseed&zwnj;&#8203;\t investment\tseed\tfund \tappointed\tchosen\tsecures\taward\tseed\tinvestment\tawarded"}, {"owner": {"reputation": 11, "user_id": 5864588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31639349b4f5a4d17687124901de84bb?s=128&d=identicon&r=PG&f=1", "display_name": "LL2", "link": "https://stackoverflow.com/users/5864588/ll2"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454341898, "post_id": 35124517, "comment_id": 57989273, "body": "Please see end of question above for more details and results of latest troubleshooting."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454343093, "post_id": 35124517, "comment_id": 57990125, "body": "Please edit your question to include lengthy details. They&#39;re generally unreadable in comments. At this point I suggest that it may be best to open a new question and incorporate all the information tidily. You need to show an entire HTML file, which you can put on <a href=\"http://pastebin.com\" rel=\"nofollow noreferrer\">pastebin</a> and link to if it&#39;s too big to insert into a question"}], "owner": {"reputation": 11, "user_id": 5864588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31639349b4f5a4d17687124901de84bb?s=128&d=identicon&r=PG&f=1", "display_name": "LL2", "link": "https://stackoverflow.com/users/5864588/ll2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1454341976, "creation_date": 1454309459, "last_edit_date": 1454341976, "question_id": 35124517, "link": "https://stackoverflow.com/questions/35124517/perl-htmlheadparser-and-regex-results-printed-to-one-file", "title": "Perl HTML::HeadParser, and regex results printed to one file", "body": "<p>I have a script that interrogates one folder with several HTML files and parses them looking for certain headers and uses a regex to extract additional info.  Results are printed to one CSV file.  I can't seem to get the second array piece and printing right.  I've tried several modification of the current script and I'm stuck.  I'm good at java and html but quite green when it comes to perl.  Guidance and help are appreciated. Thx Laurie!</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\nuse File::Find;\nuse HTTP::Headers;\nuse HTML::HeadParser;\nuse Text::CSV;\n\n# config\nmy $dfile  = 'all_tags.csv';\nmy $dir    = 'Test';\nmy @TAGS = ('Content-Base', 'Title', \n            'X-Meta-author', 'X-Meta-description', \n            'X-Meta-keywords', 'X-Meta-name',);\n\nmy @TAGS2 = ('color', 'red', \n            'politics', 'Dr.', \n            'Ph.D', 'M.D.',\n            'called', 'rejection',\n            'debt', 'hurt',\n            'chaser', 'joke',\n            'fork', 'heart',\n            'face', 'chicken',\n            'me', 'X',\n            'imagine'\n            );  \n\n\n\n# output\nmy $csv = Text::CSV-&gt;new({eol =&gt; $/});\nopen my $fh1, \"&gt;:encoding(utf8)\", $dfile \n    or die \"Error opening $dfile: $!\";\n$csv-&gt;print($fh1,['Filename',@TAGS]); # parser header\n\nmy $string = quotemeta @TAGS2;\nwhile ( my $text =~ m/ ( .{0,25} $string.{0,25} ) /gisx ) { \n$string-&gt;print($fh1, ['Filename',@TAGS2]);# regex header\n     }\n\n# input              \nfind ({wanted =&gt;\\&amp;HTML_Files, no_chdir =&gt; 1}, $dir);\nclose $fh1 or die \"Error closing $dfile: $!\";\nexit;\n\nsub HTML_Files {\n  parse_HTML_Header($File::Find::name) if /\\.html?$/;\n}\n\nsub parse_HTML_Header {\n\n  my $ifile = shift;\n  print \"parsing $ifile\\n\";\n\n  open my $fh0, '&lt;', $ifile or die \"Error opening $ifile: $!\\n\";\n  my $text = do{ local $/; &lt;$fh0&gt; };\n  close $fh0;\n\n  my $h = HTTP::Headers-&gt;new;\n  my $p = HTML::HeadParser-&gt;new($h);\n  $p-&gt;parse($text);\n\n  my @cols = map{ $h-&gt;header($_) }@TAGS;\n  $csv-&gt;print($fh1, [$ifile,@cols]);\n  my @cols2 = map{ $h-&gt;$string($_) }@TAGS2;\n  $string-&gt;print($fh1, [$ifile,@cols2]);\n\n  #my $string = quotemeta 'awarded';\n  #while ( $text =~ m/ ( .{0,25} $string.{0,25} ) /gisx ) { \n  #print $fh1 $1,\"\\n\";\n#    }\n\n }\n</code></pre>\n\n<p>Here are some examples of my html input, expected output and errors I see in terminal:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta name=\"generator\" content=\n  \"HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.15), see www.w3.org\"&gt;\n\n  &lt;title&gt;Aberdeen%20Genetic%20purity , News Search |\n  Ask.com&lt;/title&gt;\n  &lt;link rel=\"shortcut icon\" href=\"http:/\"&gt;\n  &lt;link rel=\"apple-touch-icon\" href=\n  \"http://www.\"&gt;\n  &lt;link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\n  \"http://www.\"&gt;\n  &lt;link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\n  \"http://www\"&gt;\n  &lt;link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\n  \"http://www.\"&gt;\n  &lt;link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\n  \"http://www.\"&gt;\n  &lt;meta name=\"robots\" content=\"noindex, nofollow\"&gt;\n  &lt;style type=\"text/css\"&gt;\n#midblock,#rightblock,#mobile-footer,.mobile-web-results,.hcsa,.footer {\n  visibility:visible !important;\n  }\n  &lt;/style&gt;\n  &lt;link type=\"text/css\" rel=\"stylesheet\" href=\n  \"/st/c/css/ask_news.min.1fbfe92a.css\"&gt;\n  &lt;style type=\"text/css\"&gt;\n.hcsa {\n  visibility:hidden;\n  }\n  .sprite {\n  background-image: url(http://);\n  }\n  .news-top-video-arrow{\n  background-image: url(http://);\n  }\n  @media\n  (-webkit-min-device-pixel-ratio: 2),\n  (min-resolution: 192dpi) {\n  .sprite {\n  background-image: url(http://);\n  background-size: 111px 181px;\n  }\n  }\n  &lt;/style&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>Here's an example of my output:</p>\n\n<pre><code>Filename    Content-Base    Title    X-Meta-author    X-Meta-description    X-Meta-keywords    X-Meta-name\nTest/1.html    Aberdeen%20Animal%20trait%20analysis , News Search | Ask.com  \n</code></pre>\n\n<p>I'm trying to get the regex results to print above after the last entry X-Meta-name. If I use the follow code instead of the array that I'm using:</p>\n\n<pre><code>my $string = quotemeta 'CEO';\n while ( $text =~ m/ ( .{0,25} $string.{0,25} ) /gisx ) {    \n    print $fh1 $1, \",\";\n}\n</code></pre>\n\n<p>I can get the following</p>\n\n<pre><code>Test/Ames_Animal trait analysis.html.result.txt_parsed_for_news.txt.html    Ames Animal trait analysis , News Search | Ask.com                        \nTest/Ames_Biobank.html.result.txt_parsed_for_clinic.txt.html                            \nboth adults and infants. Dr. Kocher has requested who    hrough a separate study. Dr. Lazaridis' samples     alon    colon and rectal cancer. Dr. Nelson has requested sto    rointestinal microbiome. Dr. Nelson and her colleague    in a new research study. Dr. Ames is recruiting parti    ers.&lt;/p&gt;    \n&lt;p&gt;In addition     Dr. Thibodeau has expanded t    sh; who have PKD.&lt;/p&gt;                    \n&lt;p&gt;Dr. Harris' goal is to bette    h another study.                        \n&lt;/p&gt;                            \n&lt;p&gt;Dr. Heit has also asked for     ients who've had a clot. Dr. Heit's goal is to identi     To study microvesicles     Dr. Jayachandran is requesti    pice caregivers.            \n&lt;/p&gt;                            \n&lt;p&gt;Dr. Kaur is researching whet    18\"&gt;Nilufer Taner     M.D.     Ph.D.&lt;/a&gt;     is studying geneti    0027660\"&gt;Janet E. Olson     Ph.D.&lt;/a&gt;     and &lt;a href=\"http:\nTest/Ames_Biobank.html.result.txt_parsed_for_jobs.txt.html                            \nompany-overview/hamilton-awards\"&gt;Awards&lt;/a&gt;&lt;/li&gt;                            \n    &lt;l    Test/Ames_Biobank.html.result.txt_parsed_for_news.txt.html    Ames Biobank , News Search | Ask.com                    \nTest/Ames_Biorepository.html.result.txt_parsed_for_news.txt.html    Ames%2520Biorepository , News Search | Ask.com\n</code></pre>\n\n<p>but as you can see I have spacing and formatting issues as I'm trying to get 1 row per file with all items from that file listed on that 1 line</p>\n\n<p>I can certainly copy this:</p>\n\n<pre><code>my $string = quotemeta 'CEO';\nwhile ( $text =~ m/ ( .{0,25} $string.{0,25} ) /gisx ) {    \n    print $fh1 $1, \",\";\n}\n</code></pre>\n\n<p>20 times and replace the $string value with what I'm looking for but that seems like an inelegant and wasteful way as I should be able to do it in an array</p>\n\n<p>I've modified my code to the following</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\n\nuse File::Find;\nuse HTTP::Headers;\nuse HTML::HeadParser;\nuse Text::CSV;\n\n# config\nmy $dfile  = 'all_tags.csv';\nmy $dir    = 'Test';\nmy @TAGS = ('Content-Base', 'Title', \n            'X-Meta-author', 'X-Meta-description', \n            'X-Meta-keywords', 'X-Meta-name',);\n\nmy @TAGS2 = ('CEO', 'founder', \n            'professor', 'Dr.', \n            'Ph.D', 'M.D.',\n            'company called', 'startup called',\n            'joins', 'receives funding',\n            'SBIR', 'receiving the grant',\n            'seed investment', 'seed fund',\n            'appointed', 'chosen',\n            'secures', 'award',\n            'seed investment', 'awarded',\n            );    \n\n\n\n# output\nmy $csv = Text::CSV-&gt;new({eol =&gt; $/});\nopen my $fh1, \"&gt;:encoding(utf8)\", $dfile \n    or die \"Error opening $dfile: $!\";\n$csv-&gt;print($fh1,['Filename',@TAGS]); # parser header\n\nmy $string = map {quotemeta} @TAGS2;\n#my $text = \nwhile ( my $text =~ m/ ( .{0,25} $string.{0,25} ) /gisx ) {    \n$string-&gt;print($fh1, ['Filename',@TAGS2]);# regex header\n     }\n\n# input              \nfind ({wanted =&gt;\\&amp;HTML_Files, no_chdir =&gt; 1}, $dir);\nclose $fh1 or die \"Error closing $dfile: $!\";\nexit;\n\nsub HTML_Files {\n  parse_HTML_Header($File::Find::name) if /\\.html?$/;\n}\n\nsub parse_HTML_Header {\n\n  my $ifile = shift;\n  print \"parsing $ifile\\n\";\n\n  open my $fh0, '&lt;', $ifile or die \"Error opening $ifile: $!\\n\";\n  my $text = do{ local $/; &lt;$fh0&gt; };\n  close $fh0;\n\n  my $h = HTTP::Headers-&gt;new;\n  my $p = HTML::HeadParser-&gt;new($h);\n  $p-&gt;parse($text);\n\n  my @cols = map{ $h-&gt;header($_) }@TAGS;\n  $csv-&gt;print($fh1, [$ifile,@cols]);\n  my @cols2 = map{ $h-&gt;$string($_) }@TAGS2;\n  $string-&gt;print($fh1, [$ifile,@cols2]);\n\n  #my $string = quotemeta 'awarded';\n  #while ( $text =~ m/ ( .{0,25} $string.{0,25} ) /gisx ) {    \n  #print $fh1 $1,\"\\n\";\n#     }\n\n }\n</code></pre>\n\n<p>and get the following errors</p>\n\n<pre><code>Use of uninitialized value $text in pattern match (m//) at header_parser12.pl line 38.\nparsing Test/1.html\nCan't locate object method \"20\" via package \"HTTP::Headers\" at header_parser12.pl line 66.\n</code></pre>\n\n<p>Please find a cleaned up and debugged version of my script below:</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\nuse File::Find;\nuse HTTP::Headers;\nuse HTML::HeadParser;\nuse Text::CSV;\n\n# config\nmy $dfile  = 'all_tags.csv';\nmy $dir    = 'Test';\nmy @TAGS = ('Content-Base', 'Title', \n            'X-Meta-author', 'X-Meta-description', \n            'X-Meta-keywords', 'X-Meta-name',);\n\n# match words            \nmy @WORDS = qw( CEO founder professor Dr. Ph.D M.D. company called startup called joins receives funding SBIR receiving the grant seed investment seed fund appointed chosen secures award seed investment awarded );\n\nmy $words =  join '|',map { quotemeta } @WORDS ;\nmy $regex = qr/.{0,25} (?:$words) .{0,25}/;\n\n# output\nmy $csv = Text::CSV-&gt;new({eol =&gt; $/});\nopen my $fh1, \"&gt;:encoding(utf8)\", $dfile \n    or die \"Error opening $dfile: $!\";\n$csv-&gt;print($fh1,['Search Words',@WORDS]); # header\n$csv-&gt;print($fh1,['Filename',@TAGS,'Search Results']); # header\n\n# input              \nfind ({wanted =&gt;\\&amp;HTML_Files, no_chdir =&gt; 1}, $dir);\nclose $fh1 or die \"Error closing $dfile: $!\";\nexit;\n\nsub HTML_Files {\n  parse_HTML_Header($File::Find::name) if /\\.html?$/;\n}\n\nsub parse_HTML_Header {\n\n  my $ifile = shift;\n  print \"parsing $ifile\\n\";\n\n  open my $fh0, '&lt;', $ifile or die \"Error opening $ifile: $!\\n\";\n  my $text = do{ local $/; &lt;$fh0&gt; };\n  close $fh0;\n\n  my @matches = ($text =~ /($regex)/gisx);\n  #print join \"\\n\",@matches;\n\n  my $h = HTTP::Headers-&gt;new;\n  my $p = HTML::HeadParser-&gt;new($h);\n  $p-&gt;parse($text);\n\n  my @cols = map{ $h-&gt;header($_) || '' }@TAGS;\n  $csv-&gt;print($fh1, [$ifile,@cols,@matches]);\n\n}\n</code></pre>\n\n<hr>\n\n<p>I did some research and figured out that the lotame info returned was actually in the html files.  Here's the section that was extracted from:</p></p>\n\n<pre><code>&lt;/script&gt; &lt;script&gt;\n/**\n* Trigger the backfill event with lotame params\n* @param lotameInfo\n* @returns no return\n*/\nvar logBackfillEvent = function (lotameInfo) {\nsetTimeout(function () {\nif (typeof _Anemone === \"object\") {\npayload = {};\npayload.pl_ltmedata = {};\npayload.presentation = {\"count\": 0};\npayload.provider = {};\npayload.pl_bfj = JSON.stringify(payload);\npayload.pl_ltmedata = lotameInfo;\npayload.pl_ltmedata = JSON.stringify(lotameInfo);\npayload['anxi'] = JSUtil.defaultVal(_AnemoneParams2.eventId, '');\n_Anemone.logEvent('BackFill', payload);\n}\n}, 0);\n}\n/**\n* Read the lotame cookie\n* If lotame cookie not exist then make a request for the Lotame Audience Extraction async call\n* Drop the lotame cookie\n* Trigger the backfill with lotame params\n* @param e\n* @param t\n* @param id\n*/\n</code></pre>\n\n<p>I'm not sure why the above values were returned as I don't see any keywords in there.  Maybe something is close enough that it's pulling it.  I'll have to take a closer look.  Maybe I need to do an exact match.  I also am still having trouble on search for two words at a time.  I'll keep trying.  Any insight you have would be greatly appreciated. Thanks - Laurie.</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 2, "creation_date": 1454294828, "post_id": 35121900, "comment_id": 57965142, "body": "Are you sure it&#39;s not your browser making the extra request?"}], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 1, "last_activity_date": 1454302582, "creation_date": 1454302582, "answer_id": 35123226, "question_id": 35121900, "link": "https://stackoverflow.com/questions/35121900/mojolicious-generates-two-responses-for-one-request/35123226#35123226", "title": "Mojolicious generates two responses for one request", "body": "<p>As duskwuff mentioned already, it seems to be a browser issue. With the above file and an \"app->start\" appended, I can reproduce it with Mojolicious 6.14 and Chrome 48. Using Firefox 44, there is only one request though.</p>\n\n<p>Seems like the Chrome devs make the typical user behavior of hammering \"reload\" when a site takes too long the default already.</p>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454369485, "creation_date": 1454291363, "question_id": 35121900, "link": "https://stackoverflow.com/questions/35121900/mojolicious-generates-two-responses-for-one-request", "title": "Mojolicious generates two responses for one request", "body": "<p>When a route callback takes too long mojolicious seems to request that route twice for example in this app: </p>\n\n<pre><code>#!/usr/bin/env perl\nuse Mojolicious::Lite;\n\nget '/' =&gt; sub {\n  my $c = shift;\n  $c-&gt;render_later;\n\n  sleep(15);\n  say \"got here\";\n  $c-&gt;render(template =&gt; 'index');\n};\n</code></pre>\n\n<p>When I request the \"/\" route ONCE this is what I get in the logs:</p>\n\n<pre><code>[Sun Jan 31 20:53:17 2016] [debug] Your secret passphrase needs to be changed\n[Sun Jan 31 20:53:17 2016] [debug] GET \"/\"\n[Sun Jan 31 20:53:17 2016] [debug] Routing to a callback\ngot here\n[Sun Jan 31 20:53:32 2016] [debug] Rendering template \"index.html.ep\" from DATA section\n[Sun Jan 31 20:53:32 2016] [debug] Rendering template \"layouts/default.html.ep\" from DATA section\n[Sun Jan 31 20:53:32 2016] [debug] 200 OK (15.007044s, 0.067/s)\n[Sun Jan 31 20:53:32 2016] [debug] GET \"/\"\n[Sun Jan 31 20:53:32 2016] [debug] Routing to a callback\ngot here\n[Sun Jan 31 20:53:47 2016] [debug] Rendering cached template \"index.html.ep\" from DATA section\n[Sun Jan 31 20:53:47 2016] [debug] Rendering cached template \"layouts/default.html.ep\" from DATA section\n[Sun Jan 31 20:53:47 2016] [debug] 200 OK (15.005030s, 0.067/s)\n</code></pre>\n\n<p>So I wait twice the time, I noticed this because I have an app that has to download XML and extract information and it was taking forever. </p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 4, "creation_date": 1454271406, "post_id": 35118931, "comment_id": 57958251, "body": "Does the key have a newline character in it?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1454271550, "post_id": 35118931, "comment_id": 57958312, "body": "<code>use Data::Dumper; print Dumper \\%hash</code> is much easier."}, {"owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "edited": false, "score": 0, "creation_date": 1454271798, "post_id": 35118931, "comment_id": 57958422, "body": "I&#39;m getting the same type of output with that module. My key is just a word like example: &quot;firstkey&quot;."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 1, "creation_date": 1454271861, "post_id": 35118931, "comment_id": 57958448, "body": "Are you sure? Show the code that populates the hash."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 1, "creation_date": 1454272013, "post_id": 35118931, "comment_id": 57958519, "body": "Or <code>$Data::Dumper::Useqq = 1;</code> to make Dumper escape special characters, so newline will show as <code>\\n</code>"}, {"owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "edited": false, "score": 0, "creation_date": 1454272266, "post_id": 35118931, "comment_id": 57958627, "body": "my hash gets populated through two arrays: @hash{array1} = @array2"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1454272346, "post_id": 35118931, "comment_id": 57958664, "body": "@NinjaAnte \u2014 Try editing the question to include <a href=\"http://stackoverflow.com/help/mcve\">a proper test case</a>. Don&#39;t just dump code in comments where it is hard to read."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1454272377, "post_id": 35118931, "comment_id": 57958681, "body": "@NinjaAnte \u2014 That code isn&#39;t helpful. Telling us that it came from &quot;an array&quot; tells us nothing about what the values actually are."}, {"owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "edited": false, "score": 0, "creation_date": 1454272626, "post_id": 35118931, "comment_id": 57958819, "body": "Array1 contains keys like &quot;abcxyz&quot; and Array2 contains values like &quot;123789&quot;, I&#39;m not sure what kind of information you&#39;re looking for since I only just recently got into perl, sorry."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1454272771, "post_id": 35118931, "comment_id": 57958901, "body": "@NinjaAnte \u2014 As I said, try providing a test case that reproduces the problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454276413, "post_id": 35118931, "comment_id": 57960228, "body": "Re &quot;Array1 contains keys like <code>&quot;abcxyz&quot;</code>&quot;, Not quite. It contains a key like <code>&quot;abcxyz\\n&quot;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 2, "creation_date": 1454273401, "post_id": 35119221, "comment_id": 57959138, "body": "Even better, remove the whitespace from the key strings before putting them into the hash."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1454274167, "post_id": 35119221, "comment_id": 57959453, "body": "This is not a great solution. If the OP tries to do anything else with the hash (check for the existence of a key, set a value, etc.), he will be confuzzled by strange bugs (&quot;What do you mean key <code>foo</code> doesn&#39;t exist, I saw it in my <code>print</code> output!&quot;). The correct answer is to remove the trailing whitespace at the source, before creating the hash."}, {"owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "edited": false, "score": 0, "creation_date": 1454274834, "post_id": 35119221, "comment_id": 57959704, "body": "The array that contains the keys for the hash is populated by a textfile containing various names with one name per row, There is no whitespaces in it, i&#39;ve checked everywhere."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454275627, "post_id": 35119221, "comment_id": 57959958, "body": "Are you <code>chomp</code>ing when you read it? Because that&#39;s very likely the root of your problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "edited": false, "score": 1, "creation_date": 1454275971, "post_id": 35119221, "comment_id": 57960073, "body": "@NinjaAnte, Check again, because there is whitespace. Specifically, there&#39;s a linefeed."}, {"owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "edited": false, "score": 0, "creation_date": 1454277904, "post_id": 35119221, "comment_id": 57960743, "body": "Ah, &quot;chomping&quot; the key-array with a foreach-loop solved this particular problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454279311, "post_id": 35119221, "comment_id": 57961225, "body": "You could simply do <code>chomp(@keys);</code>, but I&#39;d chomp even sooner."}], "tags": [], "owner": {"reputation": 3905, "user_id": 250944, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/725bf8f1d6111d05c7b7887d7f3ce7da?s=128&d=identicon&r=PG", "display_name": "Dfr", "link": "https://stackoverflow.com/users/250944/dfr"}, "is_accepted": true, "score": -2, "last_activity_date": 1454313010, "last_edit_date": 1454313010, "creation_date": 1454272931, "answer_id": 35119221, "question_id": 35118931, "link": "https://stackoverflow.com/questions/35118931/print-keys-and-values-from-hash-in-a-proper-format/35119221#35119221", "title": "Print keys and values from hash in a proper format?", "body": "<p>Try this version of printing loop:</p>\n\n<pre><code>foreach (sort keys %hash) {\n   my $v = $hash{$_};\n   s/\\s+$//;\n   print \"$_:$v\\n\";\n}\n</code></pre>\n\n<p>Keys in %hash definitely have some unwanted trailing characters, so it is better to filter them out when %hash is filled. For example instead of this:</p>\n\n<pre><code>@hash{@keys} = @vals;\n</code></pre>\n\n<p>Write this:</p>\n\n<pre><code>@hash{map { s/\\s+$//; $_ } @keys} = @vals;\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>chmop(@keys);\n@hash{@keys} = @vals;\n</code></pre>\n\n<p>But <code>chomp</code> will not help with multiple characters.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1454287978, "last_edit_date": 1454287978, "creation_date": 1454276107, "answer_id": 35119766, "question_id": 35118931, "link": "https://stackoverflow.com/questions/35118931/print-keys-and-values-from-hash-in-a-proper-format/35119766#35119766", "title": "Print keys and values from hash in a proper format?", "body": "<p>The cursor is moving to the next line because your key contains a line feed. The solution is to remove the line feed from the key.</p>\n\n<p>More specifically, you surely want to avoid creating a key with a line feed in the first place, so it should be removed from the key before you create the hash element.</p>\n\n<p>You're presumably reading the key from a file handle. It's customary to use <code>chomp</code> (to remove any trailing line feed) or <code>s/\\s+/z//</code> (to remove any trailing whitespace including line feeds).</p>\n\n<pre><code>my @keys;\nwhile (&lt;&gt;) {\n   chomp;         # Or: s/\\s+\\z//;\n   push @keys, $_;\n}\n\nmy %hash; @hash{@keys} = @values;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 0, "accepted_answer_id": 35119221, "answer_count": 2, "score": 1, "last_activity_date": 1454313010, "creation_date": 1454271305, "last_edit_date": 1454276305, "question_id": 35118931, "link": "https://stackoverflow.com/questions/35118931/print-keys-and-values-from-hash-in-a-proper-format", "title": "Print keys and values from hash in a proper format?", "body": "<p>Hello I am trying to print the values and keys of a hash with one key/value per row like this:</p>\n\n<p>key:value</p>\n\n<p>This is the code I am using to print my hash:</p>\n\n<pre><code>foreach (sort keys %hash) { print \"$_:$hash{$_}\\n\"; }\n</code></pre>\n\n<p>And this is the output I get:</p>\n\n<pre><code>key\n:value\n</code></pre>\n\n<p>Why is my script printing the value on a new row and what can I do to fix it?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1454269670, "post_id": 35118434, "comment_id": 57957509, "body": "You might be interested in using a glob: <code>my @files = &lt;$ARGV[0]&#47;*&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1454269632, "post_id": 35118526, "comment_id": 57957488, "body": "@TLP: Thanks. I put correct link to <code>read_dir</code> but incorrect name <code>read_file</code>. Updated."}], "tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": true, "score": 2, "last_activity_date": 1454269605, "last_edit_date": 1454269605, "creation_date": 1454269374, "answer_id": 35118526, "question_id": 35118434, "link": "https://stackoverflow.com/questions/35118434/perl-checking-for-file-from-array-exists-in-directory/35118526#35118526", "title": "Perl - Checking for file from array exists in directory", "body": "<p>You have to check <code>\"$directory/$_\"</code> instead of just <code>$_</code>.</p>\n\n<p>Secondly, File::Slurp::read_dir() can do the same job for you without calling external command and can also filter out \".\", \"..\" etc. Check <a href=\"http://search.cpan.org/~uri/File-Slurp-9999.19/lib/File/Slurp.pm#read_dir\" rel=\"nofollow\">File::Slurp</a> for details.</p>\n"}, {"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1454269509, "creation_date": 1454269509, "answer_id": 35118556, "question_id": 35118434, "link": "https://stackoverflow.com/questions/35118434/perl-checking-for-file-from-array-exists-in-directory/35118556#35118556", "title": "Perl - Checking for file from array exists in directory", "body": "<p><code>ls directory</code> returns the files inside the directory, that is only the file names and not file name prefixed with the directory name. Apart from that using a shell command to get the contents of the file is just overkill. Try instead using opendir and readdir together with map to get the files prefixed with the directory:</p>\n\n<pre><code> opendir(my $dh,$directory);\n my @files = map { \"$directory/$_\" } grep { !m{^\\.\\.?$} } readdir($dh);\n</code></pre>\n\n<p>Or you might use glob to match specific files (like no files starting with \".\" in this case):</p>\n\n<pre><code> my @files = glob(\"$directory/*\");\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4740518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a9c6c1a198740ef9541443bae5fee86?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/4740518/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 35118526, "answer_count": 2, "score": 1, "last_activity_date": 1454269605, "creation_date": 1454268888, "last_edit_date": 1454269478, "question_id": 35118434, "link": "https://stackoverflow.com/questions/35118434/perl-checking-for-file-from-array-exists-in-directory", "title": "Perl - Checking for file from array exists in directory", "body": "<p>I'm trying to get the contents of an <code>ls</code> command in Linux out to the command line using an array. Only issue I'm getting is, that when the files are looked over using an <code>if</code> statement, it seems to be only searching in the PWD of the script and not the path specified. </p>\n\n<p>Right now my code looks like this:</p>\n\n<pre><code>my $directory = $ARGV[0];\nchomp (my @files = `ls -a $directory`);\nmy @plainfiles;\nmy @directories;\nif (-f $_) {\n    push (@plainflies, $_);\n}\nelsif (-d $_) {\n    push (@directories, $_);\n}\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["perl", "foreach", "html-treebuilder"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454264997, "post_id": 35116828, "comment_id": 57955707, "body": "You should be more careful about keeping your source code tidy and indented properly. It will help you enormously to identify any problems or bugs, and is only good manners when you&#39;re asking others for help with a program. I&#39;ve fixed the layout for you in this case"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1454265305, "last_edit_date": 1454265305, "creation_date": 1454264399, "answer_id": 35117521, "question_id": 35116828, "link": "https://stackoverflow.com/questions/35116828/htmltreebuilder-inside-a-loop/35117521#35117521", "title": "HTML::TreeBuilder inside a loop", "body": "<p>The problem is that you're feeding <code>HTML::TreeBuilder</code> all sorts of junk in addition to the HTML files that you intend. As well as any files in the opened directory, <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow\"><code>readdir</code></a> returns the names of all subdirectories, as well as the pseudo-directories <code>.</code> and <code>..</code>. You should have seen this in the output from your <code>print</code> statement</p>\n\n<pre><code>print(\"Analyzing file $file\\n\");\n</code></pre>\n\n<p>One way to fix this is to check that each value in the loop is a file before processing it. Something like this</p>\n\n<pre><code>for my $file ( @files ) {\n\n    my $path = \"C:/myfiles/$file\";\n    next unless -f $path;\n\n    print(\"Analyzing file $file\\n\");\n\n    my $tree = HTML::TreeBuilder-&gt;new-&gt;parse_file($path);\n\n    for my $table ( $tree-&gt;look_down( _tag =&gt; 'table' ) ) {\n        $table-&gt;delete();\n    }\n\n    ...;\n}\n</code></pre>\n\n<p>But it would be much cleaner to use a call to <code>glob</code>. That way you will only get the files that you want, and there is also no need to build the full path to each file</p>\n\n<p>That would look something like this. You would have to adjust the glob pattern if your files don't all end with <code>.html</code></p>\n\n<pre><code>for my $path ( glob \"C:/myfiles/*.html\" ) {\n\n    print(\"Analyzing file $path\\n\");\n\n    my $tree = HTML::TreeBuilder-&gt;new-&gt;parse_file($path);\n\n    for my $table ( $tree-&gt;look_down( _tag =&gt; 'table' ) ) {\n        $table-&gt;delete();\n    }\n\n    ...;\n}\n</code></pre>\n\n<p>Strictly speaking, a directory name may also look like <code>*.html</code>, and if you don't trust your file structure you should also test that each result of <code>glob</code> is a file before processing it. But in normal situations where you know what's in the directory you're processing that isn't necessary</p>\n"}], "owner": {"reputation": 1, "user_id": 5864524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3740b998e79c61f348eee48d75d6b6f7?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/5864524/tommy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454265305, "creation_date": 1454261008, "last_edit_date": 1454264891, "question_id": 35116828, "link": "https://stackoverflow.com/questions/35116828/htmltreebuilder-inside-a-loop", "title": "HTML::TreeBuilder inside a loop", "body": "<p>I'm trying to delete all table elements from several HTML files.</p>\n\n<p>The following code runs perfectly on a single file, but when trying to automate the process it returns the error</p>\n\n<blockquote>\n  <p>can't call method \"look_down\" on an undefined value</p>\n</blockquote>\n\n<p>Do you have any solution please?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Path::Class;\nuse HTML::TreeBuilder;\n\nopendir( DH, \"C:/myfiles\" );\nmy @files = readdir(DH);\nclosedir(DH);\n\nforeach my $file ( @files ) {\n\n    print(\"Analyzing file $file\\n\");\n\n    my $tree = HTML::TreeBuilder-&gt;new-&gt;parse_file(\"C:/myfiles/$file\");\n\n    foreach my $e ( $tree-&gt;look_down( _tag =&gt; \"table\" ) ) {\n        $e-&gt;delete();\n    }\n\n    use HTML::FormatText;\n    my $formatter = HTML::FormatText-&gt;new;\n    my $parsed    = $formatter-&gt;format($tree);\n\n    print $parsed;\n}\n</code></pre>\n"}, {"tags": ["perl", "formatting"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 4, "creation_date": 1454237098, "post_id": 35112882, "comment_id": 57946256, "body": "<code>my ( $text, $number, $id ) = $row =~ m&#47;^(.*?)\\s+(\\d+)\\s+(\\d+)$&#47;</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454250623, "post_id": 35112882, "comment_id": 57950361, "body": "It looks like you have fixed-width data, which means you&#39;d be better off using <code>unpack</code> or <code>substr</code> for this."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1454253485, "post_id": 35112882, "comment_id": 57951364, "body": "What information are you trying to capture from the &quot;first text&quot;?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1454261639, "post_id": 35112882, "comment_id": 57954313, "body": "@fugu No. Biffen&#39;s code works like a charm. I tried it out."}, {"owner": {"reputation": 3, "user_id": 5863596, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tdn6oudqsYU/AAAAAAAAAAI/AAAAAAAAAXw/hvyfFAQR8FU/photo.jpg?sz=128", "display_name": "jan pastyrik", "link": "https://stackoverflow.com/users/5863596/jan-pastyrik"}, "edited": false, "score": 0, "creation_date": 1454317395, "post_id": 35112882, "comment_id": 57972887, "body": "Thank you Biffen. I have to said that I need to use clear perl without modules at the beginning . Becouse next step is filtering by regular expression in Eclipse - Agent Builder and generating Agents. But your version works fine."}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1454302919, "creation_date": 1454302919, "answer_id": 35123276, "question_id": 35112882, "link": "https://stackoverflow.com/questions/35112882/regular-expression-formatting/35123276#35123276", "title": "Regular expression formatting?", "body": "<p>This problem becomes trivial when you use the right tool for the job. And the right tool for this job, as it turns out, is not regular expressions---it's <a href=\"http://perldoc.perl.org/functions/unpack.html\" rel=\"nofollow\">unpack</a>. See <a href=\"http://perldoc.perl.org/perlpacktut.html\" rel=\"nofollow\">perlpacktut</a> for an introduction to <code>pack</code> and <code>unpack</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nwhile (&lt;DATA&gt;) {\n    my @fields = unpack('A65 A12 A*');\n    print Dumper(\\@fields);\n}\n\n__DATA__\nFunction SaveOfflineData Started                                 0012345671  439\nOffline data not found in BEHAV_DATA for PartyId = 1054          0012345671  439\nOffline data not found in RE_PARTY_LOAN_CONTRACT for PartyId = 1 0012345671  439\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = [\n          'Function SaveOfflineData Started',\n          '0012345671',\n          '439'\n        ];\n$VAR1 = [\n          'Offline data not found in BEHAV_DATA for PartyId = 1054',\n          '0012345671',\n          '439'\n        ];\n$VAR1 = [\n          'Offline data not found in RE_PARTY_LOAN_CONTRACT for PartyId = 1',\n          '0012345671',\n          '439'\n        ];\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5863596, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tdn6oudqsYU/AAAAAAAAAAI/AAAAAAAAAXw/hvyfFAQR8FU/photo.jpg?sz=128", "display_name": "jan pastyrik", "link": "https://stackoverflow.com/users/5863596/jan-pastyrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1576403015, "creation_date": 1454236758, "last_edit_date": 1576403015, "question_id": 35112882, "link": "https://stackoverflow.com/questions/35112882/regular-expression-formatting", "title": "Regular expression formatting?", "body": "<p>I want ask for some help in Perl formatting. I have three lines like next:</p>\n\n<pre><code>Function SaveOfflineData Started                                 0012345671  439                                                                              \nOffline data not found in BEHAV_DATA for PartyId = 1054          0012345671  439                                                           \nOffline data not found in RE_PARTY_LOAN_CONTRACT for PartyId = 1 0012345671  439  \n</code></pre>\n\n<p>There are three rows as I have, and I need to filter first text (put it in variable) second number (<code>0012345671</code> - put it in variable) and last ID also save it into variable. But I am not able to set proper regular expression to format first text string. Anybody knows?</p>\n"}, {"tags": ["perl", "postgresql"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1454220971, "post_id": 35110903, "comment_id": 57942750, "body": "Can you verify that $char_data and $IMEI are set properly on the Perl side?"}, {"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 1, "creation_date": 1454221545, "post_id": 35110903, "comment_id": 57942876, "body": "@Thilo yes i print them with dumper.they got value properly in every run."}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1454225796, "post_id": 35111319, "comment_id": 57943619, "body": "thanks for youre answer.firs time  i created my table i used bytea but i didnt get result because i didnt know about the rule you mentioned about postgres.now after i did what ever you said,my table filled with \\x on data and imei columns.where is problem?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1454232584, "post_id": 35111319, "comment_id": 57945085, "body": "What do you mean by <i>\u201cmy table filled with \\x\u201d</i>? Please can you read the data using a SELECT statement with Perl DBI and dump the results using <code>Data::Dumper</code> with <code>$Data::Dumper::useqq</code> set to 1?"}, {"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1454237179, "post_id": 35111319, "comment_id": 57946286, "body": "when i select on postgresql i got table as result like this: imei----&gt;\\x data----&gt;\\x time----&gt;2016-01-31 14:12:17  and when i print the result of select command execute in my program the result was $var1=&#39;&#39;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1454261401, "post_id": 35111319, "comment_id": 57954218, "body": "@farzane.dezhband: If you need to use non-standard data types, you can&#39;t just alter the columns in the database -- you must also use <code>bind_param</code> in your Perl code to mark each placeholder according to the type in the database. I have added to my solution to show you how to use non-standard data types in your program"}, {"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1454309236, "post_id": 35111319, "comment_id": 57969026, "body": "thank you very much Borodin.this solve&#39;s my problem and i learn new things too ;) :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1467625128, "last_edit_date": 1467625128, "creation_date": 1454224446, "answer_id": 35111319, "question_id": 35110903, "link": "https://stackoverflow.com/questions/35110903/why-perl-put-empty-on-my-database-while-it-has-value/35111319#35111319", "title": "Why perl put empty on my database while it has value?", "body": "<p>PostgreSQL doesn't allow columns with a data type of <code>text</code> to contain null characters, and the strings you are trying to store in both your <code>data</code> and <code>imei</code> columns start with a null character</p>\n\n<p>You should use a data type of <code>bytea</code> instead</p>\n\n<p>Also, you should use an IO mode of <code>:raw</code> when you are reading binary files, and rather than concatenating multiple lines you should set the record separator <code>$/</code> to <code>undef</code> like this</p>\n\n<pre><code>my $char_data = do {\n    open my $fh, '&lt;:raw', '/root/testfile/1453800452_5.117.219.107.bin' or die $!;\n    local $/;\n    &lt;$fh&gt;;\n};\n</code></pre>\n\n<p>And rather than use <code>unpack</code> to aplit your string into an array and then <code>pack</code> to reform it into a string, it is much more convenient to use <code>substr</code> to select part of the string like this</p>\n\n<pre><code>my $IMEI = substr $char_data, 0, 17\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>You need to do a little more than just pass the strings to the <code>execute</code> method when you are using non-standard data types. Here's an example program that shows you how to associate data types with the placeholders in a newly-prepared statement. It needs to be done only once for each statement handle. Thereafter, DBI will know how to translate each parameter passed to <code>execute</code></p>\n\n<p>I have called <code>bind_param</code> only for the second and third placeholders. PostgreSQL is happy with a simple string value for <code>time</code> datatypes</p>\n\n<p>I have used <code>Data::Dumper</code> to display the contents of the <code>$imei</code> variable before it is written to the database, as well as all the values in the record after it is retrieved from the database. As you can see, the two match as they should</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse DBI;\nuse DBD::Pg qw/ PG_BYTEA /;\nuse Data::Dumper;\n$Data::Dumper::Useqq = 1;\n$Data::Dumper::Terse = 1;\n\nmy $char_data = do {\n    open my $fh, '&lt;:raw', '1453800452_5.117.219.107.bin';\n    local $/;\n    &lt;$fh&gt;;\n};\n\nmy $imei = substr $char_data, 0, 17;\nsay Dumper $imei;\n\nmy $dbh = DBI-&gt;connect(\n    \"DBI:Pg:dbname=test;host=localhost\",\n    'postgres', '',\n    {\n        PrintError =&gt; 0,\n        RaiseError =&gt; 1,\n    }\n);\n\n$dbh-&gt;do('DROP TABLE test');\n\n$dbh-&gt;do(&lt;&lt;'END_SQL');\nCREATE TABLE test (\n    \"time\"  timestamp without time zone,\n    \"data\"  bytea,\n    \"imei\"  bytea\n)\nEND_SQL\n\nmy $insert = $dbh-&gt;prepare('INSERT INTO test (time, data, imei) VALUES (?, ?, ?)');\n$insert-&gt;bind_param(2, undef, { pg_type =&gt; PG_BYTEA });\n$insert-&gt;bind_param(3, undef, { pg_type =&gt; PG_BYTEA });\n\n$insert-&gt;execute(scalar localtime, $char_data, $imei);\n\nmy @row = $dbh-&gt;selectrow_array('SELECT * FROM test');\n\nsay Dumper \\@row;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>\"\\0\\017356307043839678\"\n\n[\n  \"2016-01-31 17:20:08\",\n  \"\\0\\017356307043839678\\0\\0\\0\\0\\0\\0\\1M\\b\\13\\0\\0\\1R}DB\\b\\0\\36\\\\2458\\\\340\\25J(\\\\300\\4\\\\356\\0\\0\\b\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\1R}CW0\\0\\36\\\\2458\\\\340\\25J(\\\\300\\4\\\\357\\0\\0\\34 H\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\1R}Bl\\\\224\\0\\36\\\\2458\\\\340\\25J(\\\\300\\4\\\\356\\0\\0 \\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\1R}A\\\\201\\\\344\\0\\36\\\\2458\\\\340\\25J(\\\\300\\4\\\\357\\0\\0 \\0\\0\\\\ \\0\\0\\0\\0\\0\\0\\0\\0\\1R}\\@\\\\227&gt;\\0\\36\\\\2458\\\\340\\25J(\\\\300\\4\\\\351\\0\\0\\b\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\1R}?\\\\254\\\\254\\0\\36\\\\2458\\\\340\\25J(\\\\300\\4\\\\347\\0\\0\\b\\0\\0\\0\\0\\0\\0\\0\\0\\34 \\@\\0\\1R}&gt;\\\\302\\20\\0\\36\\\\2458\\\\340\\25J(\\\\300\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\1R}=\\\\327j\\0\\36\\\\2458\\\\340\\25J(\\\\300\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\1R}&lt;\\\\354\\\\330\\0\\34 \\0342458\\\\340\\25J(\\\\300\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\1R}&lt;\\0022\\0\\36\\\\2458\\\\340\\25J(\\\\300\\4\\\\213\\0(\\13\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\1R};\\27\\\\226\\0\\36\\\\2458\\\\340\\25J(\\\\300\\4\\\\ \\\\215\\0(\\f\\0\\0\\0\\0\\0\\0\\0\\0\\13\\0\\0~A\\n\",\n  \"\\0\\017356307043839678\"\n]\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 35111319, "answer_count": 1, "score": 5, "last_activity_date": 1467625128, "creation_date": 1454220296, "last_edit_date": 1454248292, "question_id": 35110903, "link": "https://stackoverflow.com/questions/35110903/why-perl-put-empty-on-my-database-while-it-has-value", "title": "Why perl put empty on my database while it has value?", "body": "<p>I'm working on a project and I want to insert some data into a database.  I created the database and tables, but I am having some problems.</p>\n\n<p>I decided to write a test program, here is my program code:</p>\n\n<pre><code>#!/us/bin/perl                                                                                                                                \nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse DBI;\n\nmy $localtime = localtime(time);\nprint $localtime,\"\\n\",;\nmy $char_data;\nopen(my $fh, \"&lt;\", \"/root/testfile/1453800452_5.117.219.107.bin\");\n\nwhile (&lt;$fh&gt;){\n    $char_data .= $_;\n}\nprint $char_data,\"\\n\",;\nmy @Record = unpack('C*',$char_data);\nmy @IMEI = splice @Record,0,17;\n\nmy $IMEI = pack('C*',@IMEI);\n  #print$IMEI,\"\\n\";                                                                                                                             \nmy $dbh = DBI-&gt;connect(\"DBI:Pg:dbname=test;host=localhost\",\"postgres\", \"\", {PrintError=&gt;0,RaiseError=&gt;1});\nmy $sth=$dbh-&gt;prepare(qq/insert into testtime(time,data,imei) values(?,?,?)/);\n$sth-&gt;execute($localtime,$char_data,$IMEI);\n</code></pre>\n\n<p>and here is my db:  </p>\n\n<pre><code>time -----&gt; timestamp without time zone\n\ndata-------&gt;text\n\nimei--------&gt;varchar           \n</code></pre>\n\n<p>and here is content of my opened file:</p>\n\n<p>^@^O356307043839678^@^@^@^@^@^@^AM^H^K^@^@^AR}DB^H^@^^\\2458\\340^UJ(\\300^D\\356^@^@^H^@^@^@^@^@^@^@^@^@^@^AR}CW0^@^^\\2458\\340^UJ(\\300^D\\357^@^@^\\\nH^@^@^@^@^@^@^@^@^@^@^AR}Bl\\224^@^^\\2458\\340^UJ(\\300^D\\356^@^@    ^@^@^@^@^@^@^@^@^@^@^AR}A\\201\\344^@^^\\2458\\340^UJ(\\300^D\\357^@^@        ^@^@\\\n^@^@^@^@^@^@^@^@^AR}@\\227>^@^^\\2458\\340^UJ(\\300^D\\351^@^@^H^@^@^@^@^@^@^@^@^@^@^AR}?\\254\\254^@^^\\2458\\340^UJ(\\300^D\\347^@^@^H^@^@^@^@^@^@^@^@^\\\n@^@^AR}>\\302^P^@^^\\2458\\340^UJ(\\300^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^AR}=\\327j^@^^\\2458\\340^UJ(\\300^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^AR}&lt;\\354\\330^@^\\\n^\\2458\\340^UJ(\\300^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^AR}&lt;^B2^@^^\\2458\\340^UJ(\\300^D\\213^@(^K^@^@^@^@^@^@^@^@^@^@^AR};^W\\226^@^^\\2458\\340^UJ(\\300^D\\\n\\215^@(^L^@^@^@^@^@^@^@^@^K^@^@~A</p>\n\n<p>My problem is each time that I run the program, only localtime is inserted into database, both imei and data will remain empty.</p>\n\n<p>Can anyone help me with this?</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1454202139, "post_id": 35108890, "comment_id": 57939151, "body": "Thanks for the DateTime catch. I dont understand where the break is with the goto with the else."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1454210702, "post_id": 35108890, "comment_id": 57940927, "body": "I have gone over and under the routine and dont understand how the GOTO is causing the issue. Can someone please help me with the issue?"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1454300124, "post_id": 35110946, "comment_id": 57966337, "body": "Sorry the NOW if from  #my $now = scalar localtime time() + tz_offset($TZ); which I commented out. Not thinking that I provided the results from running the routine just a minute before my edit.  The other statement #print &quot;It is now $now\\n&quot;;"}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1454300421, "post_id": 35110946, "comment_id": 57966409, "body": "Thanks for you help&gt; Looks like I will have to do some reading the the proper use of DateTime and clean up (as you stated) to be using one or the other as it relates to localtime."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1454221463, "last_edit_date": 1454221463, "creation_date": 1454220714, "answer_id": 35110946, "question_id": 35108890, "link": "https://stackoverflow.com/questions/35108890/having-issue-with-datetime-able-to-calculate-day-of-week-except-fridays/35110946#35110946", "title": "Having issue with DateTime able to calculate day of week except Fridays", "body": "<p>The code you show didn't produce that output. For instance the variable <code>$date</code> is never set yet your output says it was equal to <code>29-01-2016</code> at 18:50. Later, at 19:04, it appears to be empty as I would expect. There is also no code to produce the <code>It is now</code> line that appears at the end of both samples of output</p>\n\n<p>The discrepancy is most likely because you changed your code, rather than because <code>DateTime</code> misbehaves after 7:00pm</p>\n\n<p>Note that the weekday value returned by <code>localtime</code> has 6 for Saturday and 0 for Sunday, whereas the <code>DateTime</code> module's <code>day_of_week</code> method uses 6 for Saturday and 7 for Sunday. You should really stick to one or the other</p>\n\n<p>If you think you have a genuine problem, then add <code>use strict</code> and <code>use warnings 'all'</code>, fix the errors that come up and post your new program together with runs of the <em>same code</em> before and after 7:00pm. That will allow us to help you further</p>\n"}, {"tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": 0, "last_activity_date": 1454249185, "creation_date": 1454249185, "answer_id": 35114732, "question_id": 35108890, "link": "https://stackoverflow.com/questions/35108890/having-issue-with-datetime-able-to-calculate-day-of-week-except-fridays/35114732#35114732", "title": "Having issue with DateTime able to calculate day of week except Fridays", "body": "<p><code>DateTime-&gt;now()</code> and <code>DateTime-&gt;today()</code> use, by default, the time in UTC.\nIf you are, for instance, in the U.S. Eastern Standard Time zone, this means that on Monday 18:59:59 EST it's Monday 23:59:59 UTC, but on Monday 19:00:01 EST it's Tuesday 00:00:01 UTC.</p>\n\n<p>To get the local day of week, pass the time zone name (e.g. <code>America/Denver</code>) or simply <code>local</code> as the <code>time_zone</code> parameter:</p>\n\n<pre><code>my $today1 = DateTime-&gt;today(time_zone=&gt;'America/New_York');\nmy $today2 = DateTime-&gt;today(time_zone=&gt;'local');\n</code></pre>\n\n<p>Also, as others have noted, you really should start your script with</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>This will find several bugs in your current version.</p>\n"}], "owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1454249185, "creation_date": 1454199836, "last_edit_date": 1454210617, "question_id": 35108890, "link": "https://stackoverflow.com/questions/35108890/having-issue-with-datetime-able-to-calculate-day-of-week-except-fridays", "title": "Having issue with DateTime able to calculate day of week except Fridays", "body": "<p>I have a routine to identify if its a weekend or weekday but it fails to work correctly on Fridays.</p>\n\n<p>I created a test program to see why before 7PM (19:00:00) the routine treats the day as a weekday and at 7PM and after it treats the day as a weekend.</p>\n\n<pre><code>#!/usr/bin/perl\nuse DateTime;\n\nMONTHCHECK:\nmy ($second, $minute, $hour, $dayOfMonth, $month, $yearOffset,\n    $dayOfWeek, $dayOfYear, $daylightSavings) = localtime();\n\nmy @abbr = qw(Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dcm);\nmy $mnth = $abbr[$month];       \n\n\nWEEKENDCHECK:\nif ( DateTime-&gt;today-&gt;day_of_week &gt;= 6 &amp;&amp; day_of_week &lt;= 7 ) {    \n    print \"$dayOfWeek is today \\n\";\n    goto HOLIDAY;\n} else {\n    print \"going to weekday\";\n    goto WEEKDAY;\n}\n\nWEEKDAY:\nprint \"weekday section month is  $mnth \\n\";\ngoto END;\n\nHOLIDAY:\nmy $h = \"h\";\nmy $mth = join \"\", $mnth, $h;\nprint \"holiday section month is  $mth \\n\";\ngoto END;\n\n\nEND:\nprint \"$date is the day and $hour hr \\n\";   \nprint \"$date is the day \\n\";    \nexit(0);\n</code></pre>\n\n<p>Before 18:50:00 I get the correct result of:</p>\n\n<pre><code>going to weekday5 is today \nweekday section month is  Jan \n29-01-2016 is the day and 18 hr \nIt is now Fri Jan 29 18:50:02 2016\n</code></pre>\n\n<p>After 19:00:00 I get the following result:</p>\n\n<pre><code>5 is today \nholiday section month is  Janh \nis the day and 19 hr \nIt is now Fri Jan 29 19:04:21 2016\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 23, "user_id": 5862054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a70ec9e404e1047b8d0d53782ad9cc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Arhan Khan", "link": "https://stackoverflow.com/users/5862054/arhan-khan"}, "edited": false, "score": 0, "creation_date": 1454250791, "post_id": 35106674, "comment_id": 57950411, "body": "@ArhanKhan See: <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1454185808, "last_edit_date": 1454185808, "creation_date": 1454185330, "answer_id": 35106674, "question_id": 35106329, "link": "https://stackoverflow.com/questions/35106329/undefined-subroutine-mainfirst-called-at-hello-pl-line-6/35106674#35106674", "title": "Undefined subroutine &amp;main::First called at hello.pl line 6", "body": "<p>The file name and the package name must tie up, so the statement</p>\n\n<pre><code>package UsersModules::Welcome\n</code></pre>\n\n<p>must appear in the file</p>\n\n<pre><code>UsersModules/Welcome.pm\n</code></pre>\n\n<p>The <code>@ISA</code> array needs to be a <em>package variable</em> (declared with <code>our</code>) instead of a <em>lexical variable</em>, but rather than manipulating it directly it is best to </p>\n\n<pre><code>use parent 'Exporter';\n</code></pre>\n\n<p>However, the best choice is to <em>import</em> the <code>import</code> subroutine from <code>Exporter</code> instead of inheriting it, so you can write just</p>\n\n<pre><code>use Exporter 'import';\n</code></pre>\n\n<p>The <code>@EXPORT</code> array must also be a package variable</p>\n\n<p>Like this</p>\n\n<pre><code>package UsersModules::Welcome;\n\nuse strict;\nuse warnings;\n\nuse Exporter 'import';\n\nour @EXPORT = qw/ First /;\n\nsub First{\n    print \"welcome\\n\\n\";\n}\n\n\n1;\n</code></pre>\n\n<p>If you want to import a subroutine named in the <code>@EXPORT</code> list, then there is no need to mention it in your <code>use</code> statement. (If you had put it in the <code>@EXPORT_OK</code> list then you would have to name it in the <code>use</code> statement.)</p>\n\n<p>Together with the above module, this main program works fine</p>\n\n<pre><code>#!usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse UsersModules::Welcome;\n\nFirst();\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>welcome\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5862054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a70ec9e404e1047b8d0d53782ad9cc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Arhan Khan", "link": "https://stackoverflow.com/users/5862054/arhan-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2260, "favorite_count": 0, "accepted_answer_id": 35106674, "answer_count": 1, "score": 1, "last_activity_date": 1454186397, "creation_date": 1454183410, "question_id": 35106329, "link": "https://stackoverflow.com/questions/35106329/undefined-subroutine-mainfirst-called-at-hello-pl-line-6", "title": "Undefined subroutine &amp;main::First called at hello.pl line 6", "body": "<p>I am facing one issue with my perl code.\nI have created one package 'Welcome.pm' and using that in a script 'hello.pl'. But getting below error 'Undefined subroutine &amp;main::First called at hello.pl line 6'\nI looked at other answers as well but still couldn't figure out what is wrong with code.</p>\n\n<p>Can anyone please help? </p>\n\n<p>perl module Welcome.pm</p>\n\n<pre><code>package Welcome;\n\nuse strict;\nuse warnings;\nuse base 'Exporter';\nmy @ISA = qw(Exporter);\nmy @EXPORT = qw(First);  \n\nsub First{\nprint \"welcome\\n\\n\";\n}\n\n\n1;\n</code></pre>\n\n<p>perl script hello.pl</p>\n\n<pre><code>#!usr/bin/perl\nuse UsersModules::Welcome qw(First);\nuse strict;\nuse warnings;\n\nFirst();\n</code></pre>\n"}, {"tags": ["html", "perl", "cgi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1454185667, "post_id": 35105449, "comment_id": 57934349, "body": "A Java applet? CGI Perl? Have I been transported back to 1999 somehow?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1454186009, "post_id": 35105449, "comment_id": 57934472, "body": "Ok, look, &quot;it doesn&#39;t work&quot; is not a good problem statement. What <i>do</i> you see? What does the error log say? What happens when you run it from the command line? The first thing that jumps out at me---and there are many---is your shebang line. Start there."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454186626, "post_id": 35105449, "comment_id": 57934691, "body": "This is very old-fashioned Perl, from the <code>require</code> of a .pl file to calling subroutines with an ampersand <code>&amp;</code>. You also omit <code>use strict</code> and <code>use warnings &#39;all</code> and declare none of your variables That hasn&#39;t been good style since at least fourteen years ago when version 8 of Perl 5 appeared. If you&#39;re going to use CGI you should at least use the <a href=\"http://metacpan.org/module/CGI\" rel=\"nofollow noreferrer\"><code>CGI</code> module</a> in your code"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1454235262, "post_id": 35105449, "comment_id": 57945759, "body": "Shebang line always starts with <code>#!</code>."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1454326881, "creation_date": 1454326881, "answer_id": 35129644, "question_id": 35105449, "link": "https://stackoverflow.com/questions/35105449/cgi-page-wont-load/35129644#35129644", "title": "CGI page won&#39;t load", "body": "<p>I don't know what you mean by \"I cannot get this page to load\". Exactly what unexpected behaviour do you see? You you see anything in the browser? What about if you \"view source\"? Is there anything useful in the web server error log?</p>\n\n<p>Your CGI code looks like something from the last millennium. It would be well worth your while looking at modern Perl web development techniques.</p>\n\n<p>It's hard to test your code as it includes a \"cookie.pl\" file and I have no idea what that contains. I assume it includes the <code>Do_Cookies()</code> subroutine. But if I comment that out and fix the shebang line then I get something that looks like it pretty much works. There's basic HTML error (you close  the <code>&lt;center&gt;</code> element twice) but nothing that is going to stop this from working.</p>\n\n<p>Without more information about your problem, it's hard to be any more help.</p>\n"}], "owner": {"reputation": 1, "user_id": 4500849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92a6ec589bd94becbe66bee7e33202e6?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/4500849/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1454326881, "creation_date": 1454178648, "last_edit_date": 1454187288, "question_id": 35105449, "link": "https://stackoverflow.com/questions/35105449/cgi-page-wont-load", "title": "CGI page won&#39;t load", "body": "<p>I plan to load a Java applet from this page. I can add the code and anything else necessary to the page later, but for some reason I cannot get this page to load. I think it is the <code>&lt;div&gt;</code> tags. Can anyone explain to me?</p>\n\n<pre><code>!/usr/bin/perl\n\nrequire \"/home/bob/public_html/cgi-bin/cookie.pl\";\n\nprint \"Content-type: text/html\\n\";\n\n# Make sure the passed date is reasonable\n$theTime = $ENV{'QUERY_STRING'};\n$theTime = time - $theTime;\n\n&amp;Do_Cookies();\n\nprint \"\\n\";\nprint \"\\n\";\n\nprint \"&lt;html&gt;&lt;head&gt;&lt;title&gt;Title&lt;/title&gt;&lt;link rel=\\\"stylesheet\\\"type=\\\"text/css\\\" href=\\\"stylesheet.css\\\"&gt;&lt;/head&gt;&lt;body&gt;\";\nprint \"&lt;div id=\\\"header\\\"&gt;&lt;/div&gt;\";\nprint \"&lt;div class=\\\"content\\\"&gt;&lt;p&gt;CENTER STUFF&lt;/p&gt;&lt;/div&gt;\";\nprint \"&lt;div id=\\\"copy\\\"&gt;&lt;center&gt;Copyright Notice HERE&lt;/center&gt;&lt;br&gt;&lt;/div&gt;&lt;/center&gt;\";\nprint \"&lt;div id=\\\"navLeft\\\"&gt;LEFT STUFF&lt;/div&gt;\";\nprint \"&lt;div id=\\\"navRight\\\"&gt;RIGHT STUFF&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\";\n\nexit 0;\n</code></pre>\n"}, {"tags": ["perl", "relative-path", "perl-module"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 3, "creation_date": 1454181294, "post_id": 35104362, "comment_id": 57932771, "body": "Relative paths are based on the working directory of the process that is running.  It might be better to use a configuration file that contains the absolute path to your database file so you don&#39;t have to care where the program is running.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454183352, "post_id": 35104362, "comment_id": 57933492, "body": "I hope you have a <code>package</code> statement inside your <code>databaseFunctions.pm</code>? It should say <code>package databaseFunctions</code>, but package names that start with a lower-case letter are reserved for Perl <i>pragmas</i>, so it should properly be <code>package DatabaseFunctions</code> in file <code>DatabaseFunctions.pm</code>. Personally, I would call it just <code>Database</code> as the the &quot;functions&quot; part is implicit"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454248965, "post_id": 35104362, "comment_id": 57949755, "body": "But please - don&#39;t call your function <code>X</code>. That&#39;s a terrible name to give a variable."}, {"owner": {"reputation": 23, "user_id": 4702614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6y7R.jpg?s=128&g=1", "display_name": "KiraLive", "link": "https://stackoverflow.com/users/4702614/kiralive"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454261174, "post_id": 35104362, "comment_id": 57954145, "body": "@Sobrique it was just an example."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4702614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6y7R.jpg?s=128&g=1", "display_name": "KiraLive", "link": "https://stackoverflow.com/users/4702614/kiralive"}, "edited": false, "score": 0, "creation_date": 1454180196, "post_id": 35105454, "comment_id": 57932415, "body": "Your answer partially solves my problem. With your solution, I use File::Basename inside my module to get the path where the module is called but then, I have to put an &quot;if else&quot; inside my code to tell to the functions where the database is respect of the location where the module is called. The problem is that the module is called by scripts in different folders and the relative path to the database changes every time."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 23, "user_id": 4702614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6y7R.jpg?s=128&g=1", "display_name": "KiraLive", "link": "https://stackoverflow.com/users/4702614/kiralive"}, "edited": false, "score": 0, "creation_date": 1454184017, "post_id": 35105454, "comment_id": 57933729, "body": "@KiraLive So then your file <code>&#47;database&#47;database.xml</code> is moving around? I thought from the <code>&#47;perl&#47;modules&#47;databaseFunctions.pm</code>&#39;s perspective it is always located at <code>..&#47;..&#47;database&#47;database.xml</code>. Given that, my proposal works."}, {"owner": {"reputation": 23, "user_id": 4702614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6y7R.jpg?s=128&g=1", "display_name": "KiraLive", "link": "https://stackoverflow.com/users/4702614/kiralive"}, "edited": false, "score": 0, "creation_date": 1454184700, "post_id": 35105454, "comment_id": 57933963, "body": "Okay, I missed to use this: &lt;code&gt;$path_of_this_module/../../database/database.xml&lt;/code&zwnj;&#8203;&gt;. Now it works like a charm. Thank you very much."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 23, "user_id": 4702614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6y7R.jpg?s=128&g=1", "display_name": "KiraLive", "link": "https://stackoverflow.com/users/4702614/kiralive"}, "edited": false, "score": 1, "creation_date": 1454185163, "post_id": 35105454, "comment_id": 57934158, "body": "@KiraLive Ah, great! You&#39;re welcome. I was already wondering why it didn&#39;t work for you. As a side note: There&#39;s also a Perl constant called <code>__FILE__</code>. You can also use that instead of the <code>eval...caller</code> stuff, I guess. Cannot remember why I coded it with <code>caller()</code>. Perhaps there was a reason, perhaps not. Try out <code>my $path_of_this_module = File::Basename::dirname( __FILE__ );</code>. Should have the same effect and doesn&#39;t look so frightening. ;-)"}, {"owner": {"reputation": 23, "user_id": 4702614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6y7R.jpg?s=128&g=1", "display_name": "KiraLive", "link": "https://stackoverflow.com/users/4702614/kiralive"}, "edited": false, "score": 0, "creation_date": 1454185810, "post_id": 35105454, "comment_id": 57934408, "body": "It works perfectly using  &lt;code&gt;__FILE__ &lt;/code&gt; instead of caller( ) too. Thank you again."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 3, "last_activity_date": 1454181621, "last_edit_date": 1454181621, "creation_date": 1454178670, "answer_id": 35105454, "question_id": 35104362, "link": "https://stackoverflow.com/questions/35104362/perl-relative-path-of-a-file-inside-a-module/35105454#35105454", "title": "Perl - Relative path of a file inside a module", "body": "<p>I think the problem boils down to \"How to find out the path of the current script (*.pl)?\" and \n\"How to find out the path of the current module (*.pm)?\".</p>\n\n<h2>Scripts</h2>\n\n<p>For scripts, there is a very convenient module, <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow\"><code>FindBin</code></a>, that offers 4 variables for the current script's name and path with\neither symlinks resolved or not. Usually <code>$FindBin::Bin</code> is what you are looking for. It's the path of the current script.\nI often use it to enhance the <code>@INC</code> path so that my scripts find additional (own) modules like so:</p>\n\n<pre><code>use FindBin;\nuse lib \"$FindBin::Bin/my_mod_path\";\nuse MyModule;\n</code></pre>\n\n<p>In this case <code>MyModule.pm</code> is searched for in the directory <code>my_mod_path</code> below the current script's path. Very convenient.</p>\n\n<p>The module is part of the core distribution, i.e. no further installation is neccessary.</p>\n\n<h2>Modules</h2>\n\n<p><code>FindBin</code> may not safely be used from inside modules because then it depends who (script or module) makes the first <code>use FindBin;</code>.\nSo if you don't want to care about the order, don't <code>use FindBin;</code> in modules, only in scripts.</p>\n\n<p>For modules, there is some trick. Use the perl function <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow\"><code>caller()</code></a>.\nDepending on the context called in, it returns the <code>$filename</code> of the file where it actually was called.</p>\n\n<p>Thus, in modules you can safely use the following to get the module's path:</p>\n\n<pre><code>use File::Basename;\nmy $path_of_this_module = File::Basename::dirname( eval { ( caller() )[1] } );\n</code></pre>\n\n<p>Given that path you can navigate relative to it in order to find the other files you need, e.g. <code>\"$path_of_this_module/../..\"</code> and so on.</p>\n\n<h2>EDIT</h2>\n\n<p>index.cgi:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse FindBin;\nuse lib \"$FindBin::Bin/perl/modules\";\nuse databaseFunctions;\n\ndatabaseFunctions::X( \"called from index.cgi\\n\" );\n</code></pre>\n\n<p>perl/indexCheck.cgi:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse FindBin;\nuse lib \"$FindBin::Bin/modules\";\nuse databaseFunctions;\n\ndatabaseFunctions::X( \"called from indexCheck.cgi\\n\" );\n</code></pre>\n\n<p>perl/modules/databaseFunctions.pm:</p>\n\n<pre><code>package databaseFunctions;\n\nuse File::Basename;\n\nmy $path_of_this_module = File::Basename::dirname( eval { ( caller() )[1] } );\n\nsub X {\n    my $arg = shift;\n\n    my $db_path=\"$path_of_this_module/../../database/database.xml\";\n\n    open(my $fh, '&gt;&gt;', $db_path) or die \"cannot open $db_path: $!\\n\";\n    print $fh $arg;\n    close($fh);\n}\n\n1;\n</code></pre>\n\n<p>When I now call ./index.cgi and then ./perl/indexCheck.cgi, then I get the following:</p>\n\n<p>database/database.xml:</p>\n\n<pre><code>called from index.cgi\ncalled from indexCheck.cgi\n</code></pre>\n\n<p>Exactly, what I thought you were looking for.</p>\n"}], "owner": {"reputation": 23, "user_id": 4702614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6y7R.jpg?s=128&g=1", "display_name": "KiraLive", "link": "https://stackoverflow.com/users/4702614/kiralive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "accepted_answer_id": 35105454, "answer_count": 1, "score": 2, "last_activity_date": 1454235327, "creation_date": 1454172766, "last_edit_date": 1454235327, "question_id": 35104362, "link": "https://stackoverflow.com/questions/35104362/perl-relative-path-of-a-file-inside-a-module", "title": "Perl - Relative path of a file inside a module", "body": "<p>I am building up a website using Perl. I organized my files as follow:</p>\n\n<ul>\n<li>/index.cgi</li>\n<li>/perl/modules/databaseFunctions.pm</li>\n<li>/perl/indexCheck.cgi</li>\n<li>/database/database.xml</li>\n</ul>\n\n<p>Inside <strong>databaseFunctions.pm</strong> I have a function X() that reads and writes on database.xml. In X() I have specified relative path of the database as follow:</p>\n\n<pre><code>sub X{\n    my $db_path='../../database/database.xml';\n    my $parser=XML::LibXML-&gt;new();\n    my $doc=$parser-&gt;parse_file($db_path);\n    ....\n    ....\n }\n</code></pre>\n\n<p>Here is the problem:<br />\nI have to call X() from index.cgi and indexCheck.cgi but I get an error the following error:</p>\n\n<pre><code>Could not create file parser context for file \"../../database/database.xml\": No such file or directory at perl/modules/databaseFunctions.pm line 21.\n</code></pre>\n\n<p>I think the problem is that when I call X() inside index.cgi or inside /perl/indexCheck.cgi the relative path of the database is different but I don't know how to set a path that works for index.cgi and /perl/indexCheck.cgi.</p>\n"}, {"tags": ["perl", "oop", "inheritance"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454184055, "post_id": 35103704, "comment_id": 57933743, "body": "You could consider writing an <a href=\"http://perldoc.perl.org/perlsub.html#Autoloading\" rel=\"nofollow noreferrer\"><code>AUTLOAD</code></a> subroutine instead of inheriting from <code>HTML::Element</code>, but that&#39;s a little ugly"}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454191139, "post_id": 35103704, "comment_id": 57936303, "body": "Thanks. Would it be just ugly or could it get me into real trouble later?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454192060, "post_id": 35103704, "comment_id": 57936609, "body": "I don&#39;t see any hazards"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1454234602, "post_id": 35103704, "comment_id": 57945588, "body": "Also take a look at Class::Method::Modifiers. You can pass those a list. It&#39;s less ugly than AUTOLOAD,, but a bit more work and less flexible. I&#39;m on a phone, so no like today."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454183634, "post_id": 35105820, "comment_id": 57933593, "body": "The OP asks for a solution <i>&quot;without having to write a wrapper for each such parent method&quot;</i>"}], "tags": [], "owner": {"reputation": 7, "user_id": 4672486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nWch9.jpg?s=128&g=1", "display_name": "Dirk Lindner", "link": "https://stackoverflow.com/users/4672486/dirk-lindner"}, "is_accepted": false, "score": -2, "last_activity_date": 1454223220, "last_edit_date": 1454223220, "creation_date": 1454180608, "answer_id": 35105820, "question_id": 35103704, "link": "https://stackoverflow.com/questions/35103704/how-to-make-all-inherited-methods-return-subclass-objects/35105820#35105820", "title": "How to make all inherited methods return subclass objects?", "body": "<pre><code>sub look_down { \n    my $self = shift;\n    return bless $self-&gt;SUPER::look_down (@_) ,HTML::Element ;\n}\n</code></pre>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1454223220, "creation_date": 1454168814, "last_edit_date": 1454184491, "question_id": 35103704, "link": "https://stackoverflow.com/questions/35103704/how-to-make-all-inherited-methods-return-subclass-objects", "title": "How to make all inherited methods return subclass objects?", "body": "<p>I'm writting an <code>hOCR::Element</code> package on top of <a href=\"http://metacpan.org/module/HTML::Element\" rel=\"nofollow\"><code>HTML::Element</code></a> to handle <a href=\"https://en.wikipedia.org/wiki/HOCR\" rel=\"nofollow\">hOCR</a> content. Accordingly, an object from the <code>hOCR::Element</code> class inherits all methods belonging to <code>HTML::Element</code>.</p>\n\n<p>But as there are a number of essential methods from <code>HTML::Element</code> (such as <code>find_by_tag_name</code> and <code>look_down</code>) that return <code>HTML::Element</code> objects, I see myself having to write for each such method a corresponding <code>hOCR::Element</code> wrapper method that simply maps by blessing as <code>hOCR</code> what it is given as <code>HTML</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>package hOCR::Element;\n\nuse HTML::Element;\nuse parent 'HTML::Element';\n\nsub new {\n  my ($class, %params) = @_;\n  my $self = $class-&gt;SUPER::new (%params);\n  return bless $self, $class;\n}\n\nsub look_down { \n  my $self = shift;\n  return map { bless $_, 'hOCR::Element' } $self-&gt;SUPER::look_down (@_);\n}\n\n1;\n</code></pre>\n\n<p>How can I have a subclass inherit all methods from its base class in such a way that those relevant methods return subclass objects instead of base class objects, without having to write a wrapper for each such parent method?</p>\n"}, {"tags": ["perl", "sockets", "go", "pack"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454169848, "post_id": 35103503, "comment_id": 57928627, "body": "See <a href=\"http://perldoc.perl.org/perlpacktut.html\" rel=\"nofollow noreferrer\">perlpacktut</a> and the <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow noreferrer\">documentation for <code>pack</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1454310814, "last_edit_date": 1454310814, "creation_date": 1454170315, "answer_id": 35103958, "question_id": 35103503, "link": "https://stackoverflow.com/questions/35103503/unpack-a-buffer-which-is-packed-by-perl-with-template-n-a-n-a-in-golang/35103958#35103958", "title": "Unpack a buffer which is packed by perl with template &quot;N/a* N/a*&quot; in golang", "body": "<p>From <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow\">the pack documentation</a>:</p>\n\n<ul>\n<li><code>N</code> is an unsigned long in network format</li>\n<li><code>a</code> is a string with arbitrary binary data</li>\n<li><code>*</code> is a repeat count that uses up the rest of the characters in the string</li>\n<li>the <code>/</code> notes that you're packing a length of the item and then the packed item.</li>\n</ul>\n\n<p>You can write a small program to check it out:</p>\n\n<pre><code>use v5.10;\nmy $first  = 'dog';\nmy $second = 'parrot';\n\nmy $packed = pack \"N/a* N/a*\", $first, $second;\n\nsay $packed;\n</code></pre>\n\n<p>Run it and you won't see the number, but you can hexdump it to see everything:</p>\n\n<pre><code>$ perl5.22.0 pack.pl\ndogparrot\n\n$ perl5.22.0 pack.pl | hexdump -C\n00000000  00 00 00 03 64 6f 67 00  00 00 06 70 61 72 72 6f  |....dog....parro|\n00000010  74 0a                                             |t.|\n00000012\n</code></pre>\n\n<p>There's a <code>00_00_00_03</code> in front of <code>dog</code> and a <code>00_00_00_06</code> in front of <code>parrot</code>. Those are the lengths of the packed strings. This probably means the other side scans the string by reading the number, then grabbing that number of succeeding octets.</p>\n"}], "owner": {"reputation": 1783, "user_id": 4569273, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a57a59c27de3760066076765f8dacc2c?s=128&d=identicon&r=PG&f=1", "display_name": "auxdx", "link": "https://stackoverflow.com/users/4569273/auxdx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1454310814, "creation_date": 1454167676, "last_edit_date": 1454235368, "question_id": 35103503, "link": "https://stackoverflow.com/questions/35103503/unpack-a-buffer-which-is-packed-by-perl-with-template-n-a-n-a-in-golang", "title": "Unpack a buffer which is packed by perl with template &quot;N/a* N/a*&quot; in golang", "body": "<p>I am new to perl. I need to write a golang code which read UDP package sent from a perl UDP socket client. Basically, the perl client packs data using the template \"N/a* N/a*\" like the following:</p>\n\n<pre><code>$them = pack($sockaddr,&amp;AF_INET, $data_port, $broadaddr);\n$actual_data = pack(\"N/a* N/a*\", $string1, $string2);\nsend(S,$actual_data,0,$them) || die $!;\n</code></pre>\n\n<p>My question is:</p>\n\n<ol>\n<li>What does \"N/a* N/a*\" actually means? A simple explanation would be helpful. How two strings are actually packed?</li>\n<li>How i can write a similar packing function in golang given two unicode strings; and if I got a packed buffer sent from perl UDP client, how i can write a corresponding function \"in golang\" to unpack it. Is there any library which can handle this so that I can use golang on par with perl for socket programming.</li>\n</ol>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6353, "user_id": 1486562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01e47645a7afc7e351b193d12de90a43?s=128&d=identicon&r=PG", "display_name": "flaviodesousa", "link": "https://stackoverflow.com/users/1486562/flaviodesousa"}, "edited": false, "score": 2, "creation_date": 1454151630, "post_id": 35100740, "comment_id": 57922816, "body": "Learn arrays. Instead of a variable for each player and score you will have an array of player names and another one for scores. Like:  my @players; my $p=5 /* example, player 5 */; $players[$p] = prompt(&quot;Player $p name: &quot;)  Later on will may learn about more complex data structures where you store everything behind a single named variable Like: $player[5]-&gt;{score}"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1454153467, "post_id": 35100740, "comment_id": 57923411, "body": "Hello. Here at stack overflow, we don&#39;t like offsite links that are essential to the question. Referencing a source is fine, but the question (or answer) should be self contained. Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for what makes a good question. I would also note - you specifically should also be specific about a problem you&#39;re having with code."}], "answers": [{"tags": [], "owner": {"reputation": 350, "user_id": 4684294, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DBUHlSel940/AAAAAAAAAAI/AAAAAAAAAQE/i5HDXWRTm7I/photo.jpg?sz=128", "display_name": "sudheesh shetty", "link": "https://stackoverflow.com/users/4684294/sudheesh-shetty"}, "is_accepted": true, "score": -4, "last_activity_date": 1454152405, "creation_date": 1454152405, "answer_id": 35101073, "question_id": 35100740, "link": "https://stackoverflow.com/questions/35100740/how-do-i-add-variables-to-be-set-based-on-a-numeric-input-in-perl/35101073#35101073", "title": "How do I add variables to be set based on a numeric input in perl?", "body": "<p>Try this. Hope this is what you wanted.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nmy $version = \"1.0\";\nmy $arg = shift(@ARGV);\nmy $subname = $arg;\nif (!defined($arg)){\n    cmd_go();\n}\n$subname =~ s/-/_/g;\nmy $sub = main-&gt;can(\"cmd_$subname\") || main-&gt;can(\"dev_$subname\") || main-&gt;can(\"hid_$subname\");\nif (!defined($sub))\n{\n    print STDERR \"Invalid command given.\\nUse \\e[1;32m./skore help\\e[0m for a list of commands.\\n\";\n    exit 1;\n}\nelse\n{\n    $sub-&gt;(@ARGV);\n    exit 0;\n}\n# Main command\nsub cmd_go()\n{\n    print \"\\e[2J\\e[0G\\e[0d\"; # J = Erase in Display, 2 = Entire Screen, (G, d) = Move cursor to (..,..)\n    print \"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\\n\";\n    print \"\u2022 Welcome to \\e[1;32mskore\\e[0m \u2022\\n\";\n    print \"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\\n\\n\";\n    my @game = prompt(\"What game are we scoring?\\n\");\n    print \"\u2022\u2022\u2022 Game name locked: @game\\n\\n\";\n    my $players= prompt(\"Enter total number of players:\\n\");\n    my @players_list;\n    for(my $i=0;$i&lt;$players;$i++){\n            push(@players_list , prompt(\"Enter Player \".($i+1).\" name\\n\"));\n    }\n    print \"\\n\";\n            print \"\u2022\u2022\u2022 Player names locked:  \";\n    for(my $i=0;$i&lt;$players;$i++){\n            print $players_list[$i].\"\\t\";\n    }\n    print \"\\n\\n\";\n    my @players_score;\n    for(my $i=0;$i&lt;$players;$i++){\n            push(@players_score, prompt(\"score for $players_list[$i]?\\n\"));\n    }\n    print \"\\n\";\n    print \"\u2022\u2022\u2022 Game: @game\\n\";\n    for(my $i=0;$i&lt;$players;$i++){\n            print \"$players_list[$i]\\n\";\n            print \"\u2022\u2022\u2022\u2022\u2022 \\e[1;32m$players_score[$i]\\e[0m\\n\";\n    }\n    exit 1;\n}\nsub cmd_help()\n{\n    print \"To get right into using skore, simply type ./skore\\n\";\n    print \"For details about skore, such as version, use ./skore pkg\\n\";\n}\nsub cmd_pkg()\n{\n    print \"skore version: $version\\n\";\n    print \"Detected OS: \";\n    exec \"uname -r\";\n}\nsub prompt {\n    my ($query) = @_; # take a prompt string as argument\n    local $| = 1; # activate autoflush to immediately show the prompt \n    print $query;\n    chomp(my $answer = &lt;STDIN&gt;); return $answer;\n}\nsub prompt_num {\n    NSTART:\n    my ($querynum) = @_;\n    print $querynum;\n    chomp(my $pnum = &lt;STDIN&gt;);\n    if ($pnum eq $pnum+0) { return $pnum; }\n    else { print \"Error: That is not a number. Try again.\\n\"; goto NSTART; }\n}\nsub prompt_yn {\n    my ($queryyn) = @_;\n    my $answer = prompt(\"$queryyn (y/N): \");\n    return lc($answer) eq 'y';\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 6, "last_activity_date": 1454154997, "creation_date": 1454154997, "answer_id": 35101487, "question_id": 35100740, "link": "https://stackoverflow.com/questions/35100740/how-do-i-add-variables-to-be-set-based-on-a-numeric-input-in-perl/35101487#35101487", "title": "How do I add variables to be set based on a numeric input in perl?", "body": "<p>OK, wow. Stop for a moment, step back and put the code down. Think about what you're trying to accomplish here. </p>\n\n<p>There's a bunch of things you're doing in your code that's really going to benefit from taking a step back, and understanding what's going on, before proceeding. </p>\n\n<p>First off:</p>\n\n<pre><code>my $arg = shift(@ARGV);\nmy $subname = $arg;\nif (!defined($arg)){\n    cmd_go();\n}\n</code></pre>\n\n<p>What is this intended to do? You only use <code>$arg</code> 3 times here, and one of those is to copy it to <code>$subname</code>. </p>\n\n<p>This could be quite simplified by:</p>\n\n<pre><code>my $subname = shift; \ncmd_go() unless defined $subname; \n</code></pre>\n\n<p>Now this:</p>\n\n<pre><code>my $sub = main-&gt;can(\"cmd_$subname\") || main-&gt;can(\"dev_$subname\") || main-&gt;can(\"hid_$subname\");\n</code></pre>\n\n<p>Where did that come from? Because I'm pretty sure that - as a beginner to perl - you didn't write that yourself, not least because you don't have any subroutines prefixed with <code>dev_</code> or <code>hid</code>. And this sort of redirect is serious overkill for a program that basically does just one thing.</p>\n\n<p>(And normally, you'd use flags like <code>getopt</code> rather than a command that you leave blank in a default state). </p>\n\n<p>You are also massively overusing arrays - which suggests you're not really sure the difference between <code>@game</code> and <code>$game</code>. </p>\n\n<p>E.g. this:</p>\n\n<pre><code>    my @game = prompt(\"What game are we scoring?\\n\");\n</code></pre>\n\n<p><code>prompt</code> does this though:</p>\n\n<pre><code>chomp(my $answer = &lt;STDIN&gt;); return $answer;\n</code></pre>\n\n<p>It returns a scalar (a single line) and you're putting it into an array for - as far as I can tell - no particular reason. </p>\n\n<p>Likewise this:</p>\n\n<pre><code>my @p1score = prompt_num(\"score for @p1name?\\n\");\nmy @p2score = prompt_num(\"score for @p2name?\\n\");\nmy @p3score = prompt_num(\"score for @p3name?\\n\");\n</code></pre>\n\n<p>First off - you're using a bunch of single element arrays. But then you're numbering them. When ... actually, the whole point of arrays is to have numbered values. </p>\n\n<p>So how about instead:</p>\n\n<pre><code>print \"Num players?:\\n\";\nchomp ( my $num = &lt;STDIN&gt; );\nmy @players;\nmy %scores; \nfor ( 1..$num ) {\n     print \"Player name\\n\";\n     chomp ( my $name = &lt;STDIN&gt; ); \n     push ( @players, $name ); \n}\n\nforeach my $person ( @players )  {\n    print \"Score for $person:\\n\"; \n    chomp ( my $score = &lt;STDIN&gt; ); \n    while ( $score =~ /\\D/ ) { \n        print \"Invalid - please enter numeric value\\n\";\n        chomp ( $score = &lt;STDIN&gt; ); \n    }\n    $scores{$person} = $score; \n}\n\nforeach my $person ( @players ) { \n    print \"$person =&gt; $score{$person}\\n\";\n}\n</code></pre>\n\n<p>There are a bunch of other things that you're doing that is more complicated than it needs to be. </p>\n\n<p>What I would suggest you do:</p>\n\n<ul>\n<li>go re-read the perl basics. <a href=\"http://perldoc.perl.org/perldata.html\"><code>perldata</code></a>  in particular. </li>\n<li>have a look at <a href=\"http://perldoc.perl.org/Getopt/Std.html\"><code>getopt</code></a> which is a good (and standard) way to take program 'flag' style input. (e.g. showing version, if that's what you really want.</li>\n<li>it looks a lot like you've cargo-culted the code here. I would suggest you re-write from the ground up, and when you hit a problem - ask about it on Stack Overflow, if you can't figure it out from the perl docs. </li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 5860656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dbd8edd0dba5b8a55958068d806950d?s=128&d=identicon&r=PG&f=1", "display_name": "vaaz420", "link": "https://stackoverflow.com/users/5860656/vaaz420"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 35101073, "answer_count": 2, "score": 0, "last_activity_date": 1454154997, "creation_date": 1454150297, "last_edit_date": 1454153515, "question_id": 35100740, "link": "https://stackoverflow.com/questions/35100740/how-do-i-add-variables-to-be-set-based-on-a-numeric-input-in-perl", "title": "How do I add variables to be set based on a numeric input in perl?", "body": "<p>I am making a score-keeping script in Perl, and would like to have it ask how many players there are, and ask for a name, then score, for each player. I have a good bit of this script done, but only for 3 players. the current script can be found on github here: <a href=\"https://github.com/vaaz420/skore\" rel=\"nofollow\">skore</a> </p>\n\n<p>(from link:)</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nmy $version = \"1.0\";\nmy $arg = shift(@ARGV);\nmy $subname = $arg;\nif (!defined($arg)){\n    cmd_go();\n}\n$subname =~ s/-/_/g;\nmy $sub = main-&gt;can(\"cmd_$subname\") || main-&gt;can(\"dev_$subname\") || main-&gt;can(\"hid_$subname\");\nif (!defined($sub))\n{\n    print STDERR \"Invalid command given.\\nUse \\e[1;32m./skore help\\e[0m for a list of commands.\\n\";\n    exit 1;\n}\nelse\n{\n    $sub-&gt;(@ARGV);\n    exit 0;\n}\n# Main command\nsub cmd_go()\n{\n    print \"\\e[2J\\e[0G\\e[0d\"; # J = Erase in Display, 2 = Entire Screen, (G, d) = Move cursor to (..,..)\n    print \"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\\n\";\n    print \"\u2022 Welcome to \\e[1;32mskore\\e[0m \u2022\\n\";\n    print \"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\\n\\n\";\n    my @game = prompt(\"What game are we scoring?\\n\");\n    print \"\u2022\u2022\u2022 Game name locked: @game\\n\\n\";\n    my @p1name = prompt(\"Player 1 name?\\n\");\n    my @p2name = prompt(\"Player 2 name?\\n\");\n    my @p3name = prompt(\"Player 3 name?\\n\");\n    print \"\\n\";\n    print \"\u2022\u2022\u2022 Player names locked: @p1name @p2name @p3name\\n\\n\";\n    my @p1score = prompt_num(\"score for @p1name?\\n\");\n    my @p2score = prompt_num(\"score for @p2name?\\n\");\n    my @p3score = prompt_num(\"score for @p3name?\\n\");\n    print \"\\n\";\n    print \"\u2022\u2022\u2022 Game: @game\\n\";\n    print \"\u2022\u2022\u2022 @p1name\\n\";\n    print \"\u2022\u2022\u2022\u2022\u2022 \\e[1;32m@p1score\\e[0m\\n\";\n    print \"\u2022\u2022\u2022 @p2name\\n\";\n    print \"\u2022\u2022\u2022\u2022\u2022 \\e[1;32m@p2score\\e[0m\\n\";\n    print \"\u2022\u2022\u2022 @p3name\\n\";\n    print \"\u2022\u2022\u2022\u2022\u2022 \\e[1;32m@p3score\\e[0m\\n\";\n    exit 1;\n}\nsub cmd_help()\n{\n    print \"To get right into using skore, simply type ./skore\\n\";\n    print \"For details about skore, such as version, use ./skore pkg\\n\";\n}\nsub cmd_pkg()\n{\n    print \"skore version: $version\\n\";\n    print \"Detected OS: \";\n    exec \"uname -r\";\n}\n\nsub prompt {\n    my ($query) = @_; # take a prompt string as argument\n    local $| = 1; # activate autoflush to immediately show the prompt \n    print $query;\n    chomp(my $answer = &lt;STDIN&gt;); return $answer;\n}\nsub prompt_num {\n    NSTART:\n    my ($querynum) = @_;\n    print $querynum;\n    chomp(my $pnum = &lt;STDIN&gt;);\n    if ($pnum eq $pnum+0) { return $pnum; }\n    else { print \"Error: That is not a number. Try again.\\n\"; goto NSTART; }\n}\nsub prompt_yn {\n    my ($queryyn) = @_;\n    my $answer = prompt(\"$queryyn (y/N): \");\n    return lc($answer) eq 'y';\n}\n</code></pre>\n\n<p>I'd like to also point out that I'm new to perl. </p>\n"}, {"tags": ["python", "perl", "csv", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 8747, "user_id": 1785967, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5568c865b805abd500b9316dc45679b5?s=128&d=identicon&r=PG", "display_name": "Cynical", "link": "https://stackoverflow.com/users/1785967/cynical"}, "is_accepted": false, "score": 1, "last_activity_date": 1454146500, "last_edit_date": 1454146500, "creation_date": 1454140306, "answer_id": 35099415, "question_id": 35099356, "link": "https://stackoverflow.com/questions/35099356/how-to-remove-a-subcolumn-from-a-nested-csv-file/35099415#35099415", "title": "How to remove a subcolumn from a nested-csv file?", "body": "<p><code>awk</code> can do that:</p>\n\n<pre><code>// {\n    for(i=2; i&lt;=NF; i++)\n    {\n        split($i, array, \":\")\n        printf(\"%s\\t\", array[2])\n    }\n    printf(\"\\n\")\n}\n</code></pre>\n\n<p><em>Explanation</em>: <code>//</code> means \"for every line\" (actually, it matches all possible sequences of characters), <code>for</code> each field from the <code>2</code>nd to the last (<code>NF</code>), <code>split</code> the <code>i</code>th field on the <code>:</code> and store each part in <code>array</code> (1-based, so <code>array[2]</code> is the second part) and <code>printf</code> it. At the end of each line, print a newline.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>This was my first answer, but I skipped the bit on removing the other parts of each column.</p>\n\n<p>You can use the <code>cut</code> command: for example, if you need to remove just the first column, you can write</p>\n\n<pre><code>cut -c2- yourfile\n</code></pre>\n\n<p><em>Explanation</em>: <code>-c</code> lets you choose the column you want to keep, <code>2-</code> means \"from second on\".</p>\n"}, {"comments": [{"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1454140402, "post_id": 35099422, "comment_id": 57919909, "body": "Care to explain the regex a little?"}], "tags": [], "owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "is_accepted": true, "score": 2, "last_activity_date": 1454142428, "last_edit_date": 1592644375, "creation_date": 1454140363, "answer_id": 35099422, "question_id": 35099356, "link": "https://stackoverflow.com/questions/35099356/how-to-remove-a-subcolumn-from-a-nested-csv-file/35099422#35099422", "title": "How to remove a subcolumn from a nested-csv file?", "body": "<p>With GNU sed:</p>\n<pre><code>sed 's/^0.0 //;s/[0-9]\\+:\\([0-9.]\\+\\)/\\1/g' file\n</code></pre>\n<p>Output:</p>\n<pre>\n0.000000 1.000000 0.000000 0.000000 1.000000 0.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 0.919033 1.000000 1.000000 1.000000 1.000000 0.000000 0.037771\n0.000000 1.000000 0.000000 0.000000 1.000000 0.000000 1.000000 0.800000 0.666667 1.000000 0.800000 0.666667 1.000000 0.875000 0.874574 0.848662 0.901802 0.938795 0.903077 0.333332 0.196682\n1.098612 1.000000 1.000000 0.000000 1.000000 0.000000 1.000000 0.800000 0.500000 0.000000 0.800000 0.500000 0.000000 0.909091 0.780985 0.792052 0.865396 0.863982 0.832962 0.000000 0.069470\n0.000000 1.000000 0.000000 0.000000 1.000000 0.000000 1.000000 0.923077 0.909091 0.888889 0.923077 0.909091 0.888889 0.943396 0.923562 0.923871 0.949357 0.950790 0.944919 0.142857 0.140054\n</pre>\n<p>If you want to edit your file &quot;in place&quot; add sed's option <code>-i</code>.</p>\n<hr />\n<p>Two sed scripts separated with <code>;</code>:</p>\n<blockquote>\n<p><code>s/^0.0 //</code>: search from start of line (<code>^</code>) for <code>0.0</code> followed by a whitespace and replace it by nothing</p>\n<p><code>s/[0-9]\\+:\\([0-9.]\\+\\)/\\1/g</code>: search for any at least one (<code>+</code>) character from range <code>0</code> to <code>9</code> followed by <code>:</code> and followed by at least one (<code>+</code>) character from range <code>0</code> to <code>9</code> or a <code>.</code> and replace it by matching part in round brackets. <code>\\1</code> is the back references to matching part in round brackets. <code>g</code> means global to apply the replacement to all matches to the regexp, not just the first. It is necessary to escape special characters (<code>here: +</code>, <code>(</code>, <code>)</code>) for sed with a <code>\\</code>.</p>\n</blockquote>\n<p>Shorter version:</p>\n<pre><code>sed 's/^0.0 //;s/[0-9]\\+://g' file\n</code></pre>\n<hr />\n<p>See: <a href=\"https://stackoverflow.com/a/22944075/3776858\">The Stack Overflow Regular Expressions FAQ</a></p>\n"}, {"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 2, "last_activity_date": 1454163953, "creation_date": 1454163953, "answer_id": 35102930, "question_id": 35099356, "link": "https://stackoverflow.com/questions/35099356/how-to-remove-a-subcolumn-from-a-nested-csv-file/35102930#35102930", "title": "How to remove a subcolumn from a nested-csv file?", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>$ awk '{gsub(\"[^ ]*:\",\"\");sub(\"[^ ]* \",\"\")}1' file \n\n0.000000 1.000000 0.000000 0.000000 1.000000 0.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 0.919033 1.000000 1.000000 1.000000 1.000000 0.000000 0.037771\n0.000000 1.000000 0.000000 0.000000 1.000000 0.000000 1.000000 0.800000 0.666667 1.000000 0.800000 0.666667 1.000000 0.875000 0.874574 0.848662 0.901802 0.938795 0.903077 0.333332 0.196682\n1.098612 1.000000 1.000000 0.000000 1.000000 0.000000 1.000000 0.800000 0.500000 0.000000 0.800000 0.500000 0.000000 0.909091 0.780985 0.792052 0.865396 0.863982 0.832962 0.000000 0.069470\n0.000000 1.000000 0.000000 0.000000 1.000000 0.000000 1.000000 0.923077 0.909091 0.888889 0.923077 0.909091 0.888889 0.943396 0.923562 0.923871 0.949357 0.950790 0.944919 0.142857 0.140054\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454276866, "post_id": 35108363, "comment_id": 57960380, "body": "This I think would be greatly improved by an example - I don&#39;t think <code>Text::CSV</code> is needed given the dataset, and is quite a heavy weight way of parsing this file."}], "tags": [], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "is_accepted": false, "score": 1, "last_activity_date": 1454195544, "creation_date": 1454195544, "answer_id": 35108363, "question_id": 35099356, "link": "https://stackoverflow.com/questions/35099356/how-to-remove-a-subcolumn-from-a-nested-csv-file/35108363#35108363", "title": "How to remove a subcolumn from a nested-csv file?", "body": "<p>Why not use the module:</p>\n\n<pre><code>use Text::CSV;\n</code></pre>\n\n<p>It already provides the functionality to easily parse a CSV file into a structure, and also go the other way to parse a structure into a CSV file. </p>\n\n<p>You can then select which column you want to keep or remove. </p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1454276781, "last_edit_date": 1454276781, "creation_date": 1454276380, "answer_id": 35119820, "question_id": 35099356, "link": "https://stackoverflow.com/questions/35099356/how-to-remove-a-subcolumn-from-a-nested-csv-file/35119820#35119820", "title": "How to remove a subcolumn from a nested-csv file?", "body": "<p>Quite easy with perl:</p>\n\n<pre><code>perl -ne 'print join ( \"\\t\", m/:([\\d\\.]+)/g ),\"\\n\"' file_to_parse\n</code></pre>\n\n<p>This:</p>\n\n<ul>\n<li>Iterates line by line (<code>-n</code> wraps it in a <code>while ( &lt;&gt; ) {</code> loop)</li>\n<li>Extracts the numeric value after a <code>:</code> with a regex <code>m/:([\\d\\.]+)/g</code> (and does so repeatedly). I've assumed <code>digits and .</code> but actually you could probably just do <code>m/:(\\S+)/g</code> if 'any non whitespace' is ok (as in your example).</li>\n<li>your first field doesn't contain a <code>:</code>, so it omits it</li>\n<li>prints that, tab separated</li>\n</ul>\n\n<p>Output:</p>\n\n<pre><code>0.000000    1.000000    0.000000    0.000000    1.000000    0.000000    1.000000    1.000000    1.000000    1.000000    1.000000    1.000000    1.000000    1.000000    0.919033    1.000000    1.000000    1.000000    1.000000    0.000000    0.037771\n0.000000    1.000000    0.000000    0.000000    1.000000    0.000000    1.000000    0.800000    0.666667    1.000000    0.800000    0.666667    1.000000    0.875000    0.874574    0.848662    0.901802    0.938795    0.903077    0.333332    0.196682\n1.098612    1.000000    1.000000    0.000000    1.000000    0.000000    1.000000    0.800000    0.500000    0.000000    0.800000    0.500000    0.000000    0.909091    0.780985    0.792052    0.865396    0.863982    0.832962    0.000000    0.069470\n0.000000    1.000000    0.000000    0.000000    1.000000    0.000000    1.000000    0.923077    0.909091    0.888889    0.923077    0.909091    0.888889    0.943396    0.923562    0.923871    0.949357    0.950790    0.944919    0.142857    0.140054\n</code></pre>\n"}], "owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 35099422, "answer_count": 5, "score": 4, "last_activity_date": 1454276781, "creation_date": 1454139731, "last_edit_date": 1454140376, "question_id": 35099356, "link": "https://stackoverflow.com/questions/35099356/how-to-remove-a-subcolumn-from-a-nested-csv-file", "title": "How to remove a subcolumn from a nested-csv file?", "body": "<p>Given a space separated file as such:</p>\n\n<pre><code>0.0 1:0.000000 2:1.000000 3:0.000000 4:0.000000 5:1.000000 6:0.000000 7:1.000000 8:1.000000 9:1.000000 10:1.000000 11:1.000000 12:1.000000 13:1.000000 14:1.000000 15:0.919033 16:1.000000 17:1.000000 18:1.000000 19:1.000000 20:0.000000 21:0.037771\n0.0 1:0.000000 2:1.000000 3:0.000000 4:0.000000 5:1.000000 6:0.000000 7:1.000000 8:0.800000 9:0.666667 10:1.000000 11:0.800000 12:0.666667 13:1.000000 14:0.875000 15:0.874574 16:0.848662 17:0.901802 18:0.938795 19:0.903077 20:0.333332 21:0.196682\n0.0 1:1.098612 2:1.000000 3:1.000000 4:0.000000 5:1.000000 6:0.000000 7:1.000000 8:0.800000 9:0.500000 10:0.000000 11:0.800000 12:0.500000 13:0.000000 14:0.909091 15:0.780985 16:0.792052 17:0.865396 18:0.863982 19:0.832962 20:0.000000 21:0.069470\n0.0 1:0.000000 2:1.000000 3:0.000000 4:0.000000 5:1.000000 6:0.000000 7:1.000000 8:0.923077 9:0.909091 10:0.888889 11:0.923077 12:0.909091 13:0.888889 14:0.943396 15:0.923562 16:0.923871 17:0.949357 18:0.950790 19:0.944919 20:0.142857 21:0.140054\n</code></pre>\n\n<p>The first columns are all <code>0.0</code> and we want to throw that first column away. Then for each column, there's a colon separating the key from its value. And the goal is only to keep the value.</p>\n\n<p>I can do it as such in <code>python</code>:</p>\n\n<pre><code>with io.open(infile, 'r') as fin:\n    for line in fin:\n        line = line.split()[1:]\n        line = '\\t'.join([i.split(':')[1] for i in line])\n        print line\n</code></pre>\n\n<p>[out]:</p>\n\n<pre><code>0.000000    1.000000    0.000000    0.000000    1.000000    0.000000    1.000000    1.000000    1.000000    1.000000    1.0000001.000000    1.000000    1.000000    0.919033    1.000000    1.000000    1.000000    1.000000    0.000000    0.037771\n0.000000    1.000000    0.000000    0.000000    1.000000    0.000000    1.000000    0.800000    0.666667    1.000000    0.8000000.666667    1.000000    0.875000    0.874574    0.848662    0.901802    0.938795    0.903077    0.333332    0.196682\n1.098612    1.000000    1.000000    0.000000    1.000000    0.000000    1.000000    0.800000    0.500000    0.000000    0.8000000.500000    0.000000    0.909091    0.780985    0.792052    0.865396    0.863982    0.832962    0.000000    0.069470\n0.000000    1.000000    0.000000    0.000000    1.000000    0.000000    1.000000    0.923077    0.909091    0.888889    0.9230770.909091    0.888889    0.943396    0.923562    0.923871    0.949357    0.950790    0.944919    0.142857    0.140054\n</code></pre>\n\n<p><strong>But how is the same possible on the unix command line?</strong> (maybe with <code>sed</code>, <code>awk</code>, <code>perl -c</code> or even <code>python -c</code> or anything else) Imagine it's a large file, so please don't load the whole file it memory, unless there's an economical reason for that. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1454142810, "post_id": 35099189, "comment_id": 57920360, "body": "A tip: replace <code>.*</code> with some more restrictive patterns."}, {"owner": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1454181145, "post_id": 35099189, "comment_id": 57932712, "body": "Thank you for responding - Yes, I guess that was what I was looking for. I realize there is a lot of &quot;greedy&quot; matching going on and this was where I was hoping to get some help. I suppose something like .*? is what you were thinking..."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1454184092, "post_id": 35099189, "comment_id": 57933756, "body": "Dot matching is not what I meant. See the answer below."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "edited": false, "score": 0, "creation_date": 1454183433, "post_id": 35101665, "comment_id": 57933518, "body": "Thanks for the great feedback! This works in that the quotes are removed which is awesome. I am still in the same place with regards to one of the capture groups still containing empty data (i.e. it contains a space like in the OP for the last two records). I want to make sure I understand your feedback that there is nothing I can do about that? I am confused because it is being captured into a capture group so I would think I can ensure zero whitespace with something like: <code>(\\S*)</code> - The challenge is the engine will not parse if any captured field contains only whitespace"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "edited": false, "score": 0, "creation_date": 1454186300, "post_id": 35101665, "comment_id": 57934570, "body": "Hmm this should work according to the regex101 demo (take a look at the <i>Match Information</i> frame on the right, specifically matches 4 and 5 - <code>emailAddress</code> is empty). Maybe you should elaborate on that in your question if something&#39;s still not working as expected."}, {"owner": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "edited": false, "score": 0, "creation_date": 1454188577, "post_id": 35101665, "comment_id": 57935416, "body": "Sorry for not being clear. I am trying to only capture if it is NOT a space for this field (emailAddress). The other fields compensate by adding UNKNOWN. However, this one field looks to be an oversight. I am simply trying to compensate for it. The pattern grouping should only return non-whitespace so getting turned around as to why it is capturing a space... In code, I could simply replace this with something like UNKNOWN. However, not sure what option I have in a matching regex (without using search/replace)."}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "edited": false, "score": 0, "creation_date": 1454197707, "post_id": 35101665, "comment_id": 57938191, "body": "Well... I&#39;m afraid you don&#39;t have much choice when dealing with plain regexes... You can&#39;t substitute captured text with something not from the input string, and I&#39;m not sure what else I can advise you without knowing the specifics. If you&#39;re using Perl you could perhaps hack something by inserting executable code into the pattern with the <code>(?{</code>...<code>})</code> syntax, but you won&#39;t be able to modify <code>$14</code> that way as it&#39;s read-only, it all depends on the rest of your code."}, {"owner": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "edited": false, "score": 0, "creation_date": 1454279890, "post_id": 35101665, "comment_id": 57961444, "body": "After some discussion, looks like it is not an issue. One final question for you: Any way to support the regex portion for the first/last name without using branch resets (engine runs on 5.8 as opposed to 5.10+ where it is supported)?"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "edited": false, "score": 0, "creation_date": 1454315468, "post_id": 35101665, "comment_id": 57971862, "body": "You have two solutions: 1. replace the <code>(?|</code>...<code>)</code> with <code>(?:</code>...<code>)</code> but you&#39;ll have to use two separate group names, or 2. wrap everything into a single group <code>(?&lt;name&gt;&quot;[^&quot;\\n]+)&quot;|\\S*)</code> but then you&#39;ll capture the quotes too."}], "tags": [], "owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": true, "score": 0, "last_activity_date": 1454156134, "creation_date": 1454156134, "answer_id": 35101665, "question_id": 35099189, "link": "https://stackoverflow.com/questions/35099189/perl-regex-to-group-items-with-or-without-being-surrounded-in-quotes-and-ignore/35101665#35101665", "title": "Perl regex to group items with or without being surrounded in quotes and ignore whitespace", "body": "<p>Here's what I'd do:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>^\\s*\n# date\n(?&lt;date&gt;\\d{4}-\\d{2}-\\d{2}\\s+\\d{2}:\\d{2}:\\d{2})\n# facility.severity\n\\s(?&lt;facility&gt;\\S+)\\.(?&lt;severity&gt;\\S+)\n# server\n\\s(?&lt;server&gt;\\S*)\n# date\n\\s(?&lt;otherDate&gt;\\d{4}-\\d{2}-\\d{2}:\\s\\d{2}:\\d{2}:\\d{2})\n# time zone\n\\s(?&lt;timeZone&gt;\\S*)\n# ip address\n\\s(?&lt;ip&gt;\\S*)\n# legacy email address\n\\s(?&lt;legacyEmailAddress&gt;\\S*)\n# first name\n\\s(?|\"(?&lt;firstName&gt;[^\"\\n]+)\"|(?&lt;firstName&gt;\\S*))\n# last name\n\\s(?|\"(?&lt;lastName&gt;[^\"\\n]+)\"|(?&lt;lastName&gt;\\S*))\n# account number\n\\s(?&lt;account&gt;\\S*)\n# program code\n\\s(?&lt;programCode&gt;\\S*)\n# uid\n\\s(?&lt;uid&gt;\\S*)\n# email address\n\\s(?&lt;emailAddress&gt;\\S*)\n# event type\n\\s(?&lt;eventType&gt;\\S*)\n# source\n\\s(?&lt;source&gt;\\S*)\n# category\n\\s(?&lt;category&gt;\\S*)\n\\s*$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/hO6iQ9/2\" rel=\"nofollow\">Demo with your sample data</a></p>\n\n<ul>\n<li>First, when you have such a pattern, you <em>have</em> to use the <code>x</code> modifier so you can put whitespace into your expression</li>\n<li>Then, what does <code>$13</code> mean anyway? Name your capture groups, it's much better that way.</li>\n<li>Since you can have empty fields, I assumed there's <em>exactly</em> one whitespace separator between fields. You can't really go around that</li>\n<li>Adding more specific rules than <code>\\S*</code> wouldn't hurt, but this is up to you</li>\n<li>As for the names, the pattern is: <code>(?|\"(?&lt;name&gt;[^\"\\n]+)\"|(?&lt;name&gt;\\S*))</code>\n\n<ul>\n<li><code>(?|</code>...<code>)</code> is a <a href=\"http://www.regular-expressions.info/branchreset.html\" rel=\"nofollow\">branch reset group</a>. It lets you reuse the same capture group numbers or names in each of its alternatives</li>\n<li><code>\"(?&lt;name&gt;[^\"\\n]+)\"</code> captures a quoted name</li>\n<li><code>(?&lt;name&gt;\\S*)</code> captures an unquoted name... only one of them can match and they'll go into the same capture group.</li>\n</ul></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 1, "creation_date": 1454162112, "post_id": 35102052, "comment_id": 57926073, "body": "This separates the date/time fields, which should not be a big deal... but it also skips over empty fields, and that&#39;s bad as it shifts the remaining data."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 0, "creation_date": 1454163305, "post_id": 35102052, "comment_id": 57926452, "body": "Oh, I missed that. I tried my <code>@fields = ( $line =~ &#47;&quot;[^\\&quot;]*&quot;|\\S+|\\b  \\b&#47;go );</code> (that&#39;s two spaces between the <code>\\b</code>&#39;s). It&#39;s not pretty but it works for the current data. It translates the empty field to <code>&#39;  &#39;</code> (two spaces). I think it won&#39;t work if the empty field is at either end of the line."}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 0, "creation_date": 1454164623, "post_id": 35102052, "comment_id": 57926883, "body": "I&#39;d rather use <code>(?&lt;=\\s|^)(?=\\s|$)</code> instead of <code>\\b  \\b</code>, you get an empty string in the empty field. Oh, and you can drop that <code>&#47;o</code> also :)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 0, "creation_date": 1454165019, "post_id": 35102052, "comment_id": 57927040, "body": "@Lucas Yes, that&#39;s better. I wrote my pattern years ago, when the use of <code>&#47;o</code> was recommended. Meanwhile it&#39;s obsolete, I guess. That&#39;s probably what &quot;o&quot; stands for. ;-)"}, {"owner": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "edited": false, "score": 0, "creation_date": 1454182301, "post_id": 35102052, "comment_id": 57933107, "body": "@PerlDog This works in its original form so many thanks and would have been a great approach. However, I realize I was not clear in my original post regarding that I needed the regex itself. The problem is the engine is configured with a regex, given a dataset. The regex I was building was intended to become what would be configured for the engine. The engine would then parse the raw extracted DB data. Nonetheless, wonderful feedback."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "edited": false, "score": 0, "creation_date": 1454183025, "post_id": 35102052, "comment_id": 57933382, "body": "@rcdsox You&#39;re welcome. Thank you. I didn&#39;t realize that you really need <i>one</i> pattern to suit your needs. In that case my approach is of no help. No problem."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 0, "last_activity_date": 1454159673, "last_edit_date": 1454159673, "creation_date": 1454158610, "answer_id": 35102052, "question_id": 35099189, "link": "https://stackoverflow.com/questions/35099189/perl-regex-to-group-items-with-or-without-being-surrounded-in-quotes-and-ignore/35102052#35102052", "title": "Perl regex to group items with or without being surrounded in quotes and ignore whitespace", "body": "<p>That can be done much simpler. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile( my $line = &lt;DATA&gt; ) {\n    # the pattern finds any text that is either \n    # surrounded by quotation marks (\") or is\n    # non-whitespace. each such match is returned\n    # as a field (thus the /g operator).\n    my @fields = ( $line =~ /\"[^\\\"]*\"|\\S+/go );\n    print join('|', @fields), \"\\n\";\n}\n\n__DATA__\n2016-01-29 18:19:54 local1.info server.domain.com 2016-01-29: 11:19:54 MST UNKNOWN UNKNOWN FOO \"BAR BAZ\" UNKNOWN UNKNOWN UNKNOWN EMAIL@EXAMPLE.COM PROFILE_CHANGE ProfileChangeProcessor A\n2016-01-29 18:20:25 local4.info server.domain.com 2016-01-29: 11:20:25 MST UNKNOWN UNKNOWN \"F B\" BAZ ABC12345 GP SOME_UID EMAIL@EXAMPLE.COM EVENT_FROM_SOME_PROCESS UNKNOWN UNKNOWN\n2016-01-29 18:23:10 local1.info server.domain.com 2016-01-29: 11:23:10 MST UNKNOWN UNKNOWN FOO BAR UNKNOWN UNKNOWN UNKNOWN EMAIL@EXAMPLE.COM SOME_CHANGE ProfileChangeProcessor AP\n2016-01-29 18:26:24 local1.info server.domain.com 2016-01-29: 11:26:24 MST UNKNOWN EMAIL@EXAMPLE.COM FOO \"B'Baz\" UNKNOWN UNKNOWN UNKNOWN  SOME_CHANGE ProfileChangeProcessor O\n2016-01-29 18:26:55 local1.info server.domain.com 2016-01-29: 11:26:55 MST UNKNOWN EMAIL@EXAMPLE.COM \"FOO OR BAR\" BAZ SXR12646 GP UNKNOWN  SOME_CHANGE ProfileChangeProcessor M\n</code></pre>\n\n<p>This yields</p>\n\n<pre><code>2016-01-29|18:19:54|local1.info|server.domain.com|2016-01-29:|11:19:54|MST|UNKNOWN|UNKNOWN|FOO|\"BAR BAZ\"|UNKNOWN|UNKNOWN|UNKNOWN|EMAIL@EXAMPLE.COM|PROFILE_CHANGE|ProfileChangeProcessor|A\n2016-01-29|18:20:25|local4.info|server.domain.com|2016-01-29:|11:20:25|MST|UNKNOWN|UNKNOWN|\"F B\"|BAZ|ABC12345|GP|SOME_UID|EMAIL@EXAMPLE.COM|EVENT_FROM_SOME_PROCESS|UNKNOWN|UNKNOWN\n2016-01-29|18:23:10|local1.info|server.domain.com|2016-01-29:|11:23:10|MST|UNKNOWN|UNKNOWN|FOO|BAR|UNKNOWN|UNKNOWN|UNKNOWN|EMAIL@EXAMPLE.COM|SOME_CHANGE|ProfileChangeProcessor|AP\n2016-01-29|18:26:24|local1.info|server.domain.com|2016-01-29:|11:26:24|MST|UNKNOWN|EMAIL@EXAMPLE.COM|FOO|\"B'Baz\"|UNKNOWN|UNKNOWN|UNKNOWN|SOME_CHANGE|ProfileChangeProcessor|O\n2016-01-29|18:26:55|local1.info|server.domain.com|2016-01-29:|11:26:55|MST|UNKNOWN|EMAIL@EXAMPLE.COM|\"FOO OR BAR\"|BAZ|SXR12646|GP|UNKNOWN|SOME_CHANGE|ProfileChangeProcessor|M\n</code></pre>\n\n<p>You may need to strip leading and trailing double-quote and whitespace:</p>\n\n<pre><code>foreach my $field ( @fields ) {\n        $field =~ s/^\\s*\\\"//;\n        $field =~ s/\\\"\\s*$//;\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5860061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526f4077f1df79ea312e8ebba3ba9243?s=128&d=identicon&r=PG&f=1", "display_name": "rcdsox", "link": "https://stackoverflow.com/users/5860061/rcdsox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 35101665, "answer_count": 2, "score": 3, "last_activity_date": 1454159673, "creation_date": 1454138265, "last_edit_date": 1454156345, "question_id": 35099189, "link": "https://stackoverflow.com/questions/35099189/perl-regex-to-group-items-with-or-without-being-surrounded-in-quotes-and-ignore", "title": "Perl regex to group items with or without being surrounded in quotes and ignore whitespace", "body": "<p>I have some DB information that is extracted into a temporary log. I need to write a regex to parse this so it can be fed into an analytics program. I need to group each \"field\" as follows:</p>\n\n<ul>\n<li>YYYY-MM-DD HH:MM:SS</li>\n<li>Facility</li>\n<li>Severity</li>\n<li>Server</li>\n<li>YYYY-MM-DD: HH:MM:SS</li>\n<li>TimeZone</li>\n<li>IPAddress</li>\n<li>LegacyEmailAddress</li>\n<li>FirstName (**may or may not contain several words surrounded by quotes)</li>\n<li>LastName (**may or may not contain several words surrounded by quotes)</li>\n<li>AcctNum</li>\n<li>ProgramCode</li>\n<li>UID</li>\n<li>EmailAddress</li>\n<li>EventType</li>\n<li>Source</li>\n<li>Category</li>\n</ul>\n\n<p>I have the regex almost there but having issues grouping the fields. Specifically, FirstName and LastName. I would ideally like these captured into two fields (and strip out the quotes if they exist) but combining FirstName and LastName into one is fine too.</p>\n\n<p>The problem with the current regex is, although it groups the FirstName and LastName into one field (not ideal but acceptable), there seems to be an extra field capturing a space.</p>\n\n\n\n<p>Here is the regex I am trying to get there:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>^(\\d{4}-\\d{2}-\\d{2}\\s+\\d{2}:\\d{2}:\\d{2})\\s+(\\S+)\\.(\\S+)\\s+(\\S+)\\s+(\\d{4}-\\d{2}-\\d{2}:\\s\\d{2}:\\d{2}:\\d{2})\\s+(.*?)\\s+(.*?)\\s+(.*?)\\s+(?&lt;!\")(.*)(?!\")\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)$\n</code></pre>\n\n<p>Here are some sample events:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2016-01-29 18:19:54 local1.info server.domain.com 2016-01-29: 11:19:54 MST UNKNOWN UNKNOWN FOO \"BAR BAZ\" UNKNOWN UNKNOWN UNKNOWN EMAIL@EXAMPLE.COM PROFILE_CHANGE ProfileChangeProcessor A\n2016-01-29 18:20:25 local4.info server.domain.com 2016-01-29: 11:20:25 MST UNKNOWN UNKNOWN \"F B\" BAZ ABC12345 GP SOME_UID EMAIL@EXAMPLE.COM EVENT_FROM_SOME_PROCESS UNKNOWN UNKNOWN\n2016-01-29 18:23:10 local1.info server.domain.com 2016-01-29: 11:23:10 MST UNKNOWN UNKNOWN FOO BAR UNKNOWN UNKNOWN UNKNOWN EMAIL@EXAMPLE.COM SOME_CHANGE ProfileChangeProcessor AP\n2016-01-29 18:26:24 local1.info server.domain.com 2016-01-29: 11:26:24 MST UNKNOWN EMAIL@EXAMPLE.COM FOO \"B'Baz\" UNKNOWN UNKNOWN UNKNOWN  SOME_CHANGE ProfileChangeProcessor O\n2016-01-29 18:26:55 local1.info server.domain.com 2016-01-29: 11:26:55 MST UNKNOWN EMAIL@EXAMPLE.COM \"FOO OR BAR\" BAZ SXR12646 GP UNKNOWN  SOME_CHANGE ProfileChangeProcessor M\n</code></pre>\n\n<p>Here is the output when I run it through Perl inline expression:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cat foo.txt | perl -ne '/^(\\d{4}-\\d{2}-\\d{2}\\s+\\d{2}:\\d{2}:\\d{2})\\s+(\\S+)\\.(\\S+)\\s+(\\S+)\\s+(\\d{4}-\\d{2}-\\d{2}:\\s\\d{2}:\\d{2}:\\d{2})\\s+(.*?)\\s+(.*?)\\s+(.*?)\\s+(?&lt;!\")(.*)(?!\")\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)\\s+(.*)$/ &amp;&amp; print \"$1|$2|$3|$4|$5|$6|$7|$8|$9|$10|$11|$12|$13|$14|$15|$16|\\n\"' \n\n2016-01-29 18:19:54|local1|info|server.domain.com|2016-01-29: 11:19:54|MST|UNKNOWN|UNKNOWN|FOO \"BAR BAZ\"|UNKNOWN|UNKNOWN|UNKNOWN|EMAIL@EXAMPLE.COM|PROFILE_CHANGE|ProfileChangeProcessor|A|\n2016-01-29 18:20:25|local4|info|server.domain.com|2016-01-29: 11:20:25|MST|UNKNOWN|UNKNOWN|\"F B\" BAZ|ABC12345|GP|SOME_UID|EMAIL@EXAMPLE.COM|EVENT_FROM_SOME_PROCESS|UNKNOWN|UNKNOWN|\n2016-01-29 18:23:10|local1|info|server.domain.com|2016-01-29: 11:23:10|MST|UNKNOWN|UNKNOWN|FOO BAR|UNKNOWN|UNKNOWN|UNKNOWN|EMAIL@EXAMPLE.COM|SOME_CHANGE|ProfileChangeProcessor|AP|\n2016-01-29 18:26:24|local1|info|server.domain.com|2016-01-29: 11:26:24|MST|UNKNOWN|EMAIL@EXAMPLE.COM|FOO \"B'Baz\"|UNKNOWN|UNKNOWN|UNKNOWN||SOME_CHANGE|ProfileChangeProcessor|O|\n2016-01-29 18:26:55|local1|info|server.domain.com|2016-01-29: 11:26:55|MST|UNKNOWN|EMAIL@EXAMPLE.COM|\"FOO OR BAR\" BAZ|SXR12646|GP|UNKNOWN||SOME_CHANGE|ProfileChangeProcessor|M|\n</code></pre>\n\n<p>The current issue when using the above regex resides with the last two records. At grouping #13, there is an empty field. I am not sure how to account for this. If I can't get the fields with data outputted, then  it can't be loaded properly into the analytics engine. Overall, I am looking to see if there is a better approach to group the fields based on what I outlined and ensure there are no groupings where a space (or similar char) is present.</p>\n"}, {"tags": ["regex", "perl", "parsing", "syntax", "verilog"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1454143627, "post_id": 35098903, "comment_id": 57920540, "body": "Have you searched <a href=\"https://metacpan.org/search?size=500&amp;q=Verilog&amp;search_type=modules\" rel=\"nofollow noreferrer\">CPAN</a> for &quot;Verilog&quot;?"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1454308870, "post_id": 35098903, "comment_id": 57968894, "body": "Thanks guys. At the beginning I&#39;ve been thinking about just manually crafting an ad-hoc verilog parser; now I&#39;ll try the CPAN Verilog stuff. Here I used illegal Verilog syntax only in a handy &quot;test&quot; Perl script; I&#39;ll convert to legal syntax in the &quot;real&quot; Perl stuff. Thanks again :P"}, {"owner": {"reputation": 15943, "user_id": 1959732, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/K5lWy.png?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1959732/greg"}, "edited": false, "score": 0, "creation_date": 1454392028, "post_id": 35098903, "comment_id": 58011352, "body": "@katyusza, great that you solved the problem. I would recommend posting your solution in the answer section instead of updating the question. Then accept your own answer."}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1454292108, "post_id": 35115803, "comment_id": 57964497, "body": "thx for the advice; you&#39;re right that the verilog code is simple (because it&#39;s just an ad-hoc Perl script), I don&#39;t want to install some modules, and performance really does NOT matter. But the problem is that I don&#39;t want to strip off the comments (because sometimes they DO provide useful information), and I DO want to keep the newlines which keeps a nice formatting for Verilog code. Any further suggestions~? 3q~ :P"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 1, "creation_date": 1454331574, "post_id": 35115803, "comment_id": 57981929, "body": "Ah, ok. But then the solution you put into your OP is not really a solution. ;-)"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1454376723, "post_id": 35115803, "comment_id": 58007216, "body": "-,- I know it&#39;s ad-hoc and ugly. Get any comments on some little improvements?"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1454255571, "creation_date": 1454255571, "answer_id": 35115803, "question_id": 35098903, "link": "https://stackoverflow.com/questions/35098903/how-to-use-perl-to-parse-verilog-code-to-identify-registers-being-assigned/35115803#35115803", "title": "How to use Perl to parse Verilog code to identify registers being assigned?", "body": "<p>If your verilog code is really that simple and you dont't want to install some modules and perfomance doesn't really matter, then I'd suggest two or three steps:</p>\n\n<ul>\n<li><p>strip off any comments:</p>\n\n<p><code>$verilog_code =~ s:^(.*?)//.*$:$1:mg;</code></p></li>\n<li><p>optional: get rid of newlines:</p>\n\n<p><code>$verilog_code =~ s/\\n//g;</code></p></li>\n<li><p>get the assignments:</p>\n\n<p><code>my @assignments = ($verilog_code =~ /\\S+\\s*&lt;=[^;]+;/g);</code></p>\n\n<p>This is all non-whitepace, followed by <code>&lt;=</code> up to the next <code>;</code>.</p></li>\n</ul>\n\n<p>This gives</p>\n\n<pre><code>@assignments = (\n                 'ak47 &lt;= din;',\n                 'ak48        &lt;= d48;',\n                 'ak49 &lt;= d49;',\n                 'ak50 &lt;= d50;',\n                 'ak53 &lt;=                d5+d3;',\n                 'ak54 &lt;= ((d&lt;=e) ? (d540) : d541) ;'\n               );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "is_accepted": true, "score": 0, "last_activity_date": 1454402106, "creation_date": 1454402106, "answer_id": 35148484, "question_id": 35098903, "link": "https://stackoverflow.com/questions/35098903/how-to-use-perl-to-parse-verilog-code-to-identify-registers-being-assigned/35148484#35148484", "title": "How to use Perl to parse Verilog code to identify registers being assigned?", "body": "<p>According to suggestion from @Greg, I'm just posting the solution down here, in case someone else might need it. And many appreciations to Perl Dog who take the time to help me :-)</p>\n\n<p>======== Feb. 1, 2016 edit ========</p>\n\n<p>Eventually solved the problem with the help of an anonymous buddy:</p>\n\n<pre><code>while ($verilog_code =~ /\\/\\/.*?\\n|(\\w+)\\s*&lt;=\\s*.*?;/smgx) {\n        if(defined $1) {\n                push (@regs, $1);\n                \uff5d\n        \uff5d\n\nforeach (0..$#regs) {\n        print \"\\@regs[$_]= @regs[$_]\\n\";\n        }\n</code></pre>\n\n<p>Use two matches: one for the comment, which \"jumps over\" the unwanted comments; another match for the assignment syntax, which captures the stuff I want. The result is as follows, which is what I expect:</p>\n\n<pre><code>@regs[0]= ak47\n@regs[1]= ak48\n@regs[2]= ak49\n@regs[3]= ak50\n@regs[4]= ak53\n@regs[5]= ak54\n</code></pre>\n\n<p>Again, thanks to all :)</p>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "accepted_answer_id": 35148484, "answer_count": 2, "score": 1, "last_activity_date": 1454402106, "creation_date": 1454136138, "last_edit_date": 1454312270, "question_id": 35098903, "link": "https://stackoverflow.com/questions/35098903/how-to-use-perl-to-parse-verilog-code-to-identify-registers-being-assigned", "title": "How to use Perl to parse Verilog code to identify registers being assigned?", "body": "<p>======== Feb. 1, 2016 edit ========</p>\n\n<p>Eventually solved the problem with the help of an anonymous buddy:</p>\n\n<pre><code>while ($verilog_code =~ /\\/\\/.*?\\n|(\\w+)\\s*&lt;=\\s*.*?;/smgx) {\n        if(defined $1) {\n                push (@regs, $1);\n                \uff5d\n        \uff5d\n\nforeach (0..$#regs) {\n        print \"\\@regs[$_]= @regs[$_]\\n\";\n        }\n</code></pre>\n\n<p>Use two matches: one for the comment, which \"jumps over\" the unwanted comments; another match for the assignment syntax, which captures the stuff I want. The result is as follows, which is what I expect:</p>\n\n<pre><code>@regs[0]= ak47\n@regs[1]= ak48\n@regs[2]= ak49\n@regs[3]= ak50\n@regs[4]= ak53\n@regs[5]= ak54\n</code></pre>\n\n<p>Again, thanks to all :)</p>\n\n<p>======== Following is the original post ========</p>\n\n<p>My first post on StackOverflow, appreciations to anyone who may help.</p>\n\n<p>I'm using Perl to parse Verilog source code and identify all registers assigned in a block. The Verilog assignment syntax is like \" reg_data &lt;= din ;\", which means \"reg_data is assigned the value of din\".</p>\n\n<p>As Verilog code become more complicated, Perl parsing becomes difficult. For example (defined in Perl variable $verilog_code):</p>\n\n<pre><code>my $verilog_code = \"\nif (s1) ak47 &lt;= din; ak48\n        &lt;= d48; // my comment\nelse if (s2) begin\n        // comments\n        ak49 &lt;= d49; ak50 &lt;= d50; // ak51 &lt;= d51 ; ak52 &lt;= d52; // comments\n        ak53 &lt;=\n                d5+d3; \n        end\nelse ak54 &lt;= ((d&lt;=e) ? (d540) : d541) ; \n        // comment: ak55 &lt;= d55 ; \n\";\n</code></pre>\n\n<p>In it, some specific cases are covered:</p>\n\n<ol>\n<li>One line of code may contain many assignments, eg. ak47 and ak48 share the same line, ak49 and ak50 share the same line, etc.</li>\n<li>One assignment may span many lines, eg. both ak48 and ak53 occupy two lines.</li>\n<li>Line comments starting with \"//\" may appear at the beginning or the middle of a line; anything within comments should be ignored.</li>\n</ol>\n\n<p>Consequently, for $verilog_code, assignments for ak47, ak48, ak49, ak50, ak53 and ak54 should be identified, while ak51, ak52 and ak55 should be ignored. I made many attempts, using Perl regular expression (regex) to parse the text, but none of them worked so far:</p>\n\n<pre><code>@reg_assignments = $verilog_code =~ m/(?&lt;!\\/\\/\\s*)(\\w+\\s*&lt;=.*?;)/sg;\n</code></pre>\n\n<p>====> this one reports error \"Variable length lookbehind not implemented in regex\".</p>\n\n<pre><code>@reg_assignments = $verilog_code =~ m/(?&lt;!\\/\\/ )(\\b\\w+\\b\\s*&lt;=.*?;)/sg;\n</code></pre>\n\n<p>====> this one gets me the following result:</p>\n\n<pre><code>@reg_assignments[0]= ak47 &lt;= din;\n@reg_assignments[1]= ak48\n        &lt;= d48;\n@reg_assignments[2]= ak49 &lt;= d49;\n@reg_assignments[3]= ak50 &lt;= d50;\n@reg_assignments[4]= ak52 &lt;= d52;\n@reg_assignments[5]= ak53 &lt;=\n                d5+d3;\n@reg_assignments[6]= ak54 &lt;= ((d&lt;=e) ? (d540) : d541) ;\n@reg_assignments[7]= ak55 &lt;= d55 ;\n</code></pre>\n\n<p>----> Here, assignment for ak51 is successfully ignored, but ak52 and ak55 are mistakenly captured.</p>\n\n<pre><code>@reg_assignments = $verilog_code =~ m/(?&lt;!\\/\\/)(?:[^\\n]*?(\\b\\w+\\s*&lt;=.*?;))/sg ;\n</code></pre>\n\n<p>====> This one gets the following result:</p>\n\n<pre><code>@reg_assignments[0]= ak47 &lt;= din;\n@reg_assignments[1]= ak48\n        &lt;= d48;\n@reg_assignments[2]= ak49 &lt;= d49;\n@reg_assignments[3]= ak50 &lt;= d50;\n@reg_assignments[4]= ak51 &lt;= d51 ;\n@reg_assignments[5]= ak52 &lt;= d52;\n@reg_assignments[6]= ak53 &lt;=\n                d5+d3;\n@reg_assignments[7]= ak54 &lt;= ((d&lt;=e) ? (d540) : d541) ;\n@reg_assignments[8]= ak55 &lt;= d55 ;\n</code></pre>\n\n<p>I just want to extract all the effective assignments in a Verilog text, excluding the stuffs within comments. The solution has been eluding me for days. Can anyone give me any hints on how to implement this? Thx ~</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1454135029, "post_id": 35098563, "comment_id": 57918718, "body": "It&#39;s not as easy as you think it is. <a href=\"http://perldoc.perl.org/perlfaq6.html#How-do-I-use-a-regular-expression-to-strip-C-style-comments-from-a-file%3f\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454156162, "post_id": 35098563, "comment_id": 57924248, "body": "@MattJacob - Posting a FAQ link and synopsis is an answer to this question IMO."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1454162763, "post_id": 35098563, "comment_id": 57926290, "body": "@Sobrique brian d foy <a href=\"http://stackoverflow.com/a/911583/176646\">already did</a>. This is a duplicate many times over: <a href=\"http://stackoverflow.com/q/1714530\">stackoverflow.com/q/1714530</a>, <a href=\"http://stackoverflow.com/q/877470\">stackoverflow.com/q/877470</a>, <a href=\"http://stackoverflow.com/q/27682363\">stackoverflow.com/q/27682363</a>, <a href=\"http://stackoverflow.com/q/13244677\">stackoverflow.com/q/13244677</a>, <a href=\"http://stackoverflow.com/q/11775924\">stackoverflow.com/q/11775924</a>. Actually, the first one in my list might(?) be a better canonical than the one I voted as a dupe target. Since you&#39;re a gold badger, if you felt so inclined you could close all of these as dupes of the best one."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454181961, "post_id": 35098563, "comment_id": 57932998, "body": "Keep forgetting I can do that :)"}], "owner": {"reputation": 11, "user_id": 5860098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7cb540746625a5804e957155f71b04?s=128&d=identicon&r=PG&f=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/5860098/ranjith-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "closed_date": 1454181946, "answer_count": 0, "score": 1, "last_activity_date": 1454153554, "creation_date": 1454133429, "last_edit_date": 1454153554, "question_id": 35098563, "link": "https://stackoverflow.com/questions/35098563/remove-multiline-comments-which-comes-after-executable-code", "closed_reason": "Duplicate", "title": "Remove Multiline comments which comes after executable code", "body": "<p>I have a example.c file with some codes and comment lines, \nIn that file, I have a comment line for ex:</p>\n\n<pre><code>static Bool Start = FALSE;/*  $n=Start$ $t=static Bool$ $i=FALSE$\n                              $d=initialize start to false$ */\n</code></pre>\n\n<p>I am using perl to remove comment lines, i tried Regular Expressions to remove the comment lines. </p>\n\n<p>I have tried the following code , but it is not working,</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>`open(F,\"&lt;\",\"example.c\") or die \"Could not open the .c file \";\n {\n $MultilineComment0 = 0;\n while(my $matchLine = &lt;F&gt;)\n{\nif (($matchLine =~ s/^.*\\/\\*.*/) &amp;&amp; ($matchLine !~ m/\\*\\/$/)) # matches Code         + Multi Comment line Ex: Variable Declaration statements\n{\n $MultilineComment0 = 1;\n next;                  #removes comment part from excutable lines\n}\nif ($MultilineComment0 == 1)\n{\n   if ($matchLine =~ m/\\*\\/$/)\n{\n$MultilineComment0 = 0;\n}\nnext;\n}\npush(@executable_code_only, $matchLine);\n}\n}\nclose(F);\nopen(F, \"&gt;\",example.c\");\n print F (\"@executable_code_only\");\nclose(F);`\n</code></pre>\n\n<p>I will be helpful if someone provide me a regular expression to remove these comment lines.</p>\n"}, {"tags": ["bash", "perl", "vps"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1454131185, "post_id": 35098089, "comment_id": 57917929, "body": "What output do you get when you run: <code>perl -Mlocal::lib</code>?  I&#39;d expect nothing, or possibly Perl hangs waiting for you to type something \u2014 in which case <code>exit;</code> should get you your prompt back.  (Me, I get <code>Can&#39;t locate local&#47;lib.pm in @INC (@INC contains: \u2026)</code>, etc.)  IOW, I think that cPanel fragment in the shell file is dubious \u2014 especially the Perl part."}, {"owner": {"reputation": 1523, "user_id": 1005707, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5f3a3bca5f5c6a94c7d97c3b4c528b3e?s=128&d=identicon&r=PG", "display_name": "Sriharsha Kalluru", "link": "https://stackoverflow.com/users/1005707/sriharsha-kalluru"}, "edited": false, "score": 0, "creation_date": 1454131830, "post_id": 35098089, "comment_id": 57918067, "body": "you can run directly rub the perl command.  <code>perl -Mlocal::lib</code>"}, {"owner": {"reputation": 250, "user_id": 5011245, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-VkZofas1HK0/AAAAAAAAAAI/AAAAAAAAAIA/fQ36uXkbZiY/photo.jpg?sz=128", "display_name": "jt bullitt", "link": "https://stackoverflow.com/users/5011245/jt-bullitt"}, "edited": false, "score": 0, "creation_date": 1454154316, "post_id": 35098089, "comment_id": 57923658, "body": "I added the <code>perl</code> output to my question. I don&#39;t know what to make of it."}, {"owner": {"reputation": 2418, "user_id": 5128826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b54c3cd8c70aad8122d9391ce8028a?s=128&d=identicon&r=PG&f=1", "display_name": "nsilent22", "link": "https://stackoverflow.com/users/5128826/nsilent22"}, "edited": false, "score": 1, "creation_date": 1454154417, "post_id": 35098089, "comment_id": 57923689, "body": "Commands shown by <code>$(perl -Mlocal::lib)</code> are not correct bash commands. Both <code>if</code>s are missing <code>then</code> and <code>fi</code> sections."}], "answers": [{"comments": [{"owner": {"reputation": 250, "user_id": 5011245, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-VkZofas1HK0/AAAAAAAAAAI/AAAAAAAAAIA/fQ36uXkbZiY/photo.jpg?sz=128", "display_name": "jt bullitt", "link": "https://stackoverflow.com/users/5011245/jt-bullitt"}, "edited": false, "score": 0, "creation_date": 1454155895, "post_id": 35101457, "comment_id": 57924160, "body": "Thanks! That did the trick. The error message went away when I changed the line to <code>eval $(perl -Mlocal::lib=--shelltype,bourne)</code>."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 3, "last_activity_date": 1454155170, "last_edit_date": 1454155170, "creation_date": 1454154853, "answer_id": 35101457, "question_id": 35098089, "link": "https://stackoverflow.com/questions/35098089/bash-config-syntax-error/35101457#35101457", "title": "bash config syntax error", "body": "<p>The code inside <code>local::lib</code> is misidentifying your shell as <code>csh</code> for some reason.  You can force it with <code>--shelltype bourne</code> according to the <a href=\"http://search.cpan.org/~haarg/local-lib-2.000018/lib/local/lib.pm\" rel=\"nofollow\">documentation</a>.</p>\n\n<pre><code>eval $(perl -Mlocal::lib=--shelltype,bourne)\n</code></pre>\n\n<p>I'm speculating that your account may have been set up with <code>tcsh</code> as your default shell.  You can change this permanently with <code>chsh</code>, in which case this workaround should hopefully not be necessary.</p>\n"}], "owner": {"reputation": 250, "user_id": 5011245, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-VkZofas1HK0/AAAAAAAAAAI/AAAAAAAAAIA/fQ36uXkbZiY/photo.jpg?sz=128", "display_name": "jt bullitt", "link": "https://stackoverflow.com/users/5011245/jt-bullitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 35101457, "answer_count": 1, "score": 1, "last_activity_date": 1502272636, "creation_date": 1454129165, "last_edit_date": 1502272636, "question_id": 35098089, "link": "https://stackoverflow.com/questions/35098089/bash-config-syntax-error", "title": "bash config syntax error", "body": "<p>I'm setting up a brand new VPS on Bluehost. As soon as I logged in, I knew something was amiss. When I launch a <code>bash</code> shell I get this error:</p>\n\n<pre><code>bash: eval: line 9: syntax error: unexpected end of file\n</code></pre>\n\n<p>I tracked the problem down to the line <code>eval $(perl -Mlocal::lib)</code> in  <code>/etc/profile.d/locallib.sh</code>:</p>\n\n<pre><code>#cPanel Added local::lib -- BEGIN\nLOCALLIBUSER=$USER\nif [ -e \"/usr/bin/whoami\" ]; then\n    LOCALLIBUSER=`/usr/bin/whoami`\nfi\nif [ \"$LOCALLIBUSER\" != \"root\" ]; then\n    eval $(perl -Mlocal::lib)\nfi\n#cPanel Added local::lib -- END\n</code></pre>\n\n<p>When I execute <code>eval $(perl -Mlocal::lib)</code> at the bash prompt, I get the error <code>bash: syntax error: unexpected end of file</code>. When I execute <code>perl -Mlocal::lib</code> at the bash prompt I get this:</p>\n\n<pre><code>if ! $?PERL_MB_OPT setenv PERL_MB_OPT '';\nsetenv PERL_MB_OPT \"--install_base \"\\\"\"/home/MYUSERNAME/perl5\"\\\"\"\";\nif ! $?PERL_MM_OPT setenv PERL_MM_OPT '';\nsetenv PERL_MM_OPT \"INSTALL_BASE=/home/MYUSERNAME/perl5\";\n</code></pre>\n\n<p>Why am I getting this error? How do I correct it? I'm relatively new to <code>bash</code> and utterly hopeless with <code>perl</code>, so am on shaky ground here. Thanks!</p>\n"}, {"tags": ["perl", "command-line"], "answers": [{"tags": [], "owner": {"reputation": 477, "user_id": 2083642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HfHMb.jpg?s=128&g=1", "display_name": "Manu Mathew", "link": "https://stackoverflow.com/users/2083642/manu-mathew"}, "is_accepted": false, "score": 1, "last_activity_date": 1454126559, "creation_date": 1454126559, "answer_id": 35097832, "question_id": 35097643, "link": "https://stackoverflow.com/questions/35097643/how-to-send-stdin-into-perl-program-by-batch-file/35097832#35097832", "title": "how to send stdin into perl program by batch file?", "body": "<p>Here you have to use @ARGV to receive data. It should be as follows :</p>\n\n<pre><code>my $o=$ARGV[0];\n\nprint \"$o\\n\";\n\nmy $c=$ARGV[1];\n\nprint \"$c\\n\";\n</code></pre>\n\n<p>You can <strong>execute the program</strong> as follows :</p>\n\n<pre><code>perl test.pl argument_1a argument_2a\n</code></pre>\n\n<p>You will get <strong>output</strong> as </p>\n\n<pre><code>argument_1a\nargument_2a\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4433137, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8e727948307ec59894f3860a2f1fb2?s=128&d=identicon&r=PG&f=1", "display_name": "ermai", "link": "https://stackoverflow.com/users/4433137/ermai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517623811, "creation_date": 1454124495, "last_edit_date": 1517623811, "question_id": 35097643, "link": "https://stackoverflow.com/questions/35097643/how-to-send-stdin-into-perl-program-by-batch-file", "title": "how to send stdin into perl program by batch file?", "body": "<p>I would like to process  many file/ string into perl and do not wait stdin responded  from batch file,.How would be the batch file?</p>\n\n<p>for instance I have test.pl and the content is </p>\n\n<pre><code>my $o=&lt;STDIN&gt;;\n\nprint \"$o\\n\";\n\nmy $c=&lt;STDIN&gt;;\n\nprint \"$c\\n\";\n</code></pre>\n\n<p>And a batch file executes the test.pl with different stdin at any time</p>\n\n<p>Consider that the functionality of the batch file would be</p>\n\n<pre><code>perl test.pl &lt;stdin&gt; &lt;stdin&gt; \nperl test.pl &lt;stdin&gt; &lt;stdin&gt; \nperl test.pl &lt;stdin&gt; &lt;stdin&gt; \nperl test.pl &lt;stdin&gt; &lt;stdin&gt; \n</code></pre>\n\n<p>Then I wonder how to send the stdin into the test.pl.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1454118650, "post_id": 35097064, "comment_id": 57915798, "body": "<code>while (my $line = ) {</code> doesn&#39;t compile."}, {"owner": {"reputation": 3968, "user_id": 422674, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/08121431f8ba33175ffd4f7007126981?s=128&d=identicon&r=PG", "display_name": "prelic", "link": "https://stackoverflow.com/users/422674/prelic"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1454118839, "post_id": 35097064, "comment_id": 57915843, "body": "I edited out some context-specific things, maybe I made a mistake somewhere? I don&#39;t see the issue with <code>while (my $line = &lt;$F&gt;) {</code> though, and even if it is wrong, it is not relevant to the problem I&#39;m having, I don&#39;t think."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1454118887, "post_id": 35097064, "comment_id": 57915859, "body": "You need to show a snip of your input. Also, use three-arg open, with exception: <code>open my $fh, &#39;&lt;&#39;, $filename or die &quot;can&#39;t open $file: $!&quot;;</code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1454119039, "post_id": 35097064, "comment_id": 57915891, "body": "<code>use strict;</code> and <code>use warnings;</code> should be present at the top of your script as well."}, {"owner": {"reputation": 3968, "user_id": 422674, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/08121431f8ba33175ffd4f7007126981?s=128&d=identicon&r=PG", "display_name": "prelic", "link": "https://stackoverflow.com/users/422674/prelic"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1454119084, "post_id": 35097064, "comment_id": 57915903, "body": "The snippet posted is a small portion of the script.  <code>use strict</code> and <code>use warnings</code> are both there."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1454119107, "post_id": 35097064, "comment_id": 57915908, "body": "show input so it can be tested."}, {"owner": {"reputation": 3968, "user_id": 422674, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/08121431f8ba33175ffd4f7007126981?s=128&d=identicon&r=PG", "display_name": "prelic", "link": "https://stackoverflow.com/users/422674/prelic"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1454119619, "post_id": 35097064, "comment_id": 57916020, "body": "I&#39;ve added a more complete version, but it is still slimmed down to remove some unnecessary detail."}, {"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 1, "creation_date": 1454122136, "post_id": 35097064, "comment_id": 57916419, "body": "As stevieb already mentioned, you <i>really</i> should check the result of <code>open</code>.  You can do it the way he shows, or you can add <code>use autodie</code> at the top of the script to automatically check."}, {"owner": {"reputation": 3968, "user_id": 422674, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/08121431f8ba33175ffd4f7007126981?s=128&d=identicon&r=PG", "display_name": "prelic", "link": "https://stackoverflow.com/users/422674/prelic"}, "edited": false, "score": 0, "creation_date": 1454122476, "post_id": 35097064, "comment_id": 57916470, "body": "That makes sense, and is certainly good practice, and I will add that check, however, even if there is a problem opening the file, the first time it tries a write it will fail, and there is a <code>die</code> there.  It also doesn&#39;t explain why <code>touch</code>ing the file serves as a workaround, since the open call will have already taken place by the time the write and touch will have happened."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1454133872, "post_id": 35097064, "comment_id": 57918485, "body": "What operating system and filesystem is this on? Windows has some odd mandatory file locking issues that could be causing the problem."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1454134686, "post_id": 35097064, "comment_id": 57918636, "body": "You have a trailing <code>}</code> at the end of your code.  Make <i>really sure</i> you&#39;re showing us the real code."}, {"owner": {"reputation": 3968, "user_id": 422674, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/08121431f8ba33175ffd4f7007126981?s=128&d=identicon&r=PG", "display_name": "prelic", "link": "https://stackoverflow.com/users/422674/prelic"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1454172718, "post_id": 35097064, "comment_id": 57929664, "body": "@Schwern sorry, I assumed the /dev/null gave away the fact that it&#39;s a Linux flavor.  I would post the entire code if I could, but in this case I need to remove some context, so it&#39;s possible I made a mistake while trying to sanitize the code."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1454140333, "post_id": 35098731, "comment_id": 57919897, "body": "this is a nice dissection."}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1454176342, "post_id": 35098731, "comment_id": 57930991, "body": "Ditto. Always check to see if your files are opened: <code>open($dfh, &#39;&gt;&gt;&#39;,&quot;.&#47;duplicates.txt&quot;) or die &quot;Could not open duplicates.txt. $!&quot;;</code> Also, this file $dfh will only open if $log_dups==1. You need an else statement after that to print a message if $log_dups != 1."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 3968, "user_id": 422674, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/08121431f8ba33175ffd4f7007126981?s=128&d=identicon&r=PG", "display_name": "prelic", "link": "https://stackoverflow.com/users/422674/prelic"}, "edited": false, "score": 0, "creation_date": 1454197793, "post_id": 35098731, "comment_id": 57938214, "body": "@prelic It was not my intent to condescend, I held my comments to only the code and only the aspects that could cause your problem. If you point out the parts you find objectionable I&#39;ll consider changing them."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1454135061, "last_edit_date": 1454135061, "creation_date": 1454134757, "answer_id": 35098731, "question_id": 35097064, "link": "https://stackoverflow.com/questions/35097064/perl-file-write-issue/35098731#35098731", "title": "Perl File Write Issue", "body": "<p>You're not checking to see if your files opened.  This is a very, very basic mistake and you should fix this immediately.  Either add <code>or die $!</code> after each <code>open</code> or, better yet, <code>use autodie</code> and it will take care of catching all IO exceptions for you and give you good, consistent error messages.</p>\n\n<p>Most importantly, this will tell you <em>why</em> it failed to open.  <code>$!</code> tells you <em>why</em> it failed.  You don't have that in your check on <code>print</code>.</p>\n\n<pre><code>    print $dfh \"./\".$_[0].\"_files/\".$1.\",v already exists\\n\" or die(\"Couldn't write duplicate\"); # problem line\n</code></pre>\n\n<p>You're checking if <code>print</code> failed, but you're not including <code>$!</code>.  Either add <code>$!</code> like <code>die \"Couldn't write to duplicate: $!\"</code> or <code>use autodie</code>, remove the <code>or die</code> clause, and let autodie take care of it.  I recommend the second.</p>\n\n<p>I suspect you'll find that something else is deleting <code>duplicates.txt</code> between the open and the print.</p>\n\n<hr>\n\n<p>The second thing that grabs my attention is here.</p>\n\n<pre><code>if($log_dups==1) {\n  open($dfh, '&gt;&gt;',\"./duplicates.txt\");\n}\n</code></pre>\n\n<p>You're using a global variable <code>$log_dups</code> to decide whether or not to open the file for writing (and not checking if it succeeded).  This should be a variable that gets passed into the function, it's just good programming practice.  Later you decide whether to print to <code>$dfh</code> based on that global variable.</p>\n\n<pre><code>  if (! -e \"something\") {\n    copy(\"source\",\"dest\") or warn (\"couldn't copy \");\n  } elsif($log_dups==1) {\n    system(\"touch ./duplicates.txt\"); # ghetto workaround\n    print $dfh \"something already exists\\n\" or die(\"Couldn't write duplicate\");\n  }\n</code></pre>\n\n<p>Because <code>$log_dups</code> is global it's possible something else is changing <code>$log_dups</code> between deciding to open <code>duplicates.txt</code> and writing to it.  To avoid all these problems, and to make the code simpler, <code>$log_dups</code> should be an argument passed into the function.</p>\n\n<hr>\n\n<p>Furthermore, the filehandle <code>$dfh</code> is inexplicably a global.  Same problem, something else could be closing it.  It will also not be automatically closed at the end of the function which might leave writes to <code>duplicates.txt</code> buffered until the program exits.  <code>$dfh</code> should be a lexical.</p>\n\n<hr>\n\n<p>Other problems...</p>\n\n<pre><code>my $rhis_str = system(\"rhis $svs &gt; ./tmp_history\");\n</code></pre>\n\n<p><code>$rhis_str</code> will contain the exit status of the <code>rhis</code> program.  I don't think that's what you want.  You don't use this variable anyway.</p>\n\n<hr>\n\n<p>There's no need to pass <code>./file</code> to <code>open</code>, it's safe and easier to read to use just pass <code>file</code>.  That it's in the current working directory is implied.</p>\n\n<hr>\n\n<p>If you fix these basic problems and still have trouble, then edit your question with the revised code and we can look again.</p>\n"}], "owner": {"reputation": 3968, "user_id": 422674, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/08121431f8ba33175ffd4f7007126981?s=128&d=identicon&r=PG", "display_name": "prelic", "link": "https://stackoverflow.com/users/422674/prelic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454197274, "creation_date": 1454118445, "last_edit_date": 1454120279, "question_id": 35097064, "link": "https://stackoverflow.com/questions/35097064/perl-file-write-issue", "title": "Perl File Write Issue", "body": "<p>I'm having a really weird problem with this perl script.  The basic point is that <em>sometimes</em> a file write/append doesn't happen.  On a run of the program, either all of the writes will happen or none of them will.  Here is the subroutine, with some comments:</p>\n\n<pre><code>sub process_svs {\n  my $F;\n  open($F, '&lt;', $_[0]);\n  if($log_dups==1) {\n    open($dfh, '&gt;&gt;',\"./duplicates.txt\");\n  }\n  while (my $line = &lt;$F&gt;) {\n    chomp $line;\n    if($line =~ /somepattern/) {\n      if (! -e \"somefile\") {\n        copy(\"source\",\"dest\") or warn (\"couldn't copy\");\n      } elsif($log_dups==1) {\n        system(\"touch ./duplicates.txt\"); # ghetto workaround\n        print $dfh \"./\".$_[0].\"_files/\".$1.\",v already exists\\n\" or die(\"Couldn't write duplicate\"); # problem line\n      }\n    }\n  }\n  close $F;\n}\n</code></pre>\n\n<p>The print statements to stdout always work, but if I remove the <code>touch ./duplicates.txt</code> crap, nothing is written to <code>duplicates.txt</code>.</p>\n\n<p>The other \"weird\" thing, is that earlier in the program, I create a directory with perl <code>mkdir</code>, and if the directory exists when the program is run, I <strong>don't</strong> need the workaround, the duplicates.txt writing works just fine.  If I delete the directory, and let the program <code>mkdir</code> it, it doesn't work.  Seems relevant, but I can't figure out how since the directory and the text file are not in the same location, or related in <em>any</em> way, that I can think of.</p>\n\n<p>Additionally, I have run it through the debugger, and can see the write call being executed, but inspecting duplicates.txt immediately after the write shows nothing written.</p>\n\n<p>Any possible reasons for this would be greatly appreciated.</p>\n\n<p>If you want to see a modified, but more complete, version of the script, it is here:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Copy;\nmy $svs = $ARGV[0];\nmy $rhis_str = system(\"rhis $svs &gt; ./tmp_history\");\nmy $fh;\nmy $dfh;\nmy @versions;\nmy $all_revs = 0;\nmy $current_rev = \"\";\nmy $log_dups = 0;\nsub process_svs {\n  my $F;\n  open($F, '&lt;', $_[0]);\n  if($log_dups==1) {\n    open($dfh, '&gt;&gt;',\"./duplicates.txt\");\n  }\n  while (my $line = &lt;$F&gt;) {\n    chomp $line;\n    if($line =~ /something/) {\n      if (! -e \"something\") {\n        copy(\"source\",\"dest\") or warn (\"couldn't copy \");\n      } elsif($log_dups==1) {\n        system(\"touch ./duplicates.txt\"); # ghetto workaround\n        print $dfh \"something already exists\\n\" or die(\"Couldn't write duplicate\");\n      }\n    }\n  }\n  close $F;\n}\nfor(my $i = 0; $i &lt;= scalar @ARGV; $i++) {\n  my $arg = $ARGV[$i];\n  if($arg eq \"-a\") {\n    $all_revs = 1;\n  } elsif($arg eq \"-r\") {\n    $all_revs = 0;\n    $current_rev = $ARGV[$i+1];\n  } elsif($arg eq \"--log-dups\") {\n    $log_dups = 1;\n  }\n}\nopen($fh, '&lt;','./tmp_history') or die(\"&gt;&gt;&gt; Failed to open ./tmp_history\");;\nmkdir \"./\".$svs.\"_files\";\nif($all_revs == 1) {\n  print \"&gt;&gt;&gt; Processing all revisions of \".$svs;\n  if($log_dups==1) {\n    print\" (and logging duplicates)\\n\";\n  }\n  while(my $line = &lt;$fh&gt;) {\n    chomp $line;\n    if ($line =~ /something/) {\n      push @versions, $1;\n    }\n  }\n}\n  system(\"some_cmd &amp;&gt;/dev/null\");\n  process_svs($svs);\n}\n</code></pre>\n"}, {"tags": ["php", "python", "ruby", "regex", "perl"], "comments": [{"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1454096671, "post_id": 35092563, "comment_id": 57907310, "body": "One difference is, that the lookbehind does not consume characters. See this example <a href=\"https://regex101.com/r/gE8fF3/1\" rel=\"nofollow noreferrer\">with lookbehind</a> vs this  <a href=\"https://regex101.com/r/jW2sM0/1\" rel=\"nofollow noreferrer\">with use of \\K</a>."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454109275, "post_id": 35093222, "comment_id": 57913176, "body": "I don&#39;t know about Ruby, but <code>\\K</code> is faster than <code>(?&lt;=...)</code> in Perl. /// One normally uses <code>\\K</code> specifically to avoid having to use a capture group, so it&#39;s weird that you would suggest the opposite."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 8, "last_activity_date": 1549751088, "last_edit_date": 1549751088, "creation_date": 1454098335, "answer_id": 35093222, "question_id": 35092563, "link": "https://stackoverflow.com/questions/35092563/positive-lookbehind-vs-match-reset-k-regex-feature/35093222#35093222", "title": "Positive lookbehind vs match reset (\\K) regex feature", "body": "<p>It's easier to see the difference between <code>\\K</code> and <code>(?&lt;=...)</code> with the <a href=\"http://ruby-doc.org/core/String.html#method-i-scan\" rel=\"nofollow noreferrer\"><code>String#scan</code></a> method.</p>\n\n<p>A lookbehind is a zero-width assertion that doesn't consume characters and that is tested (backwards) from the current position:</p>\n\n<pre><code>&gt; \"abcdefg\".scan(/(?&lt;=.)./)\n=&gt; [\"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\n</code></pre>\n\n<p>The \"keep\" feature <code>\\K</code> <em>(that isn't an anchor)</em> defines a position in the pattern where all that was matched so far by the pattern on the left is removed from the match result. But all characters matched before the <code>\\K</code> are <em>consumed</em>, they just don't appear in the result:</p>\n\n<pre><code>&gt; \"abcdefg\".scan(/.\\K./)\n=&gt; [\"b\", \"d\", \"f\"]\n</code></pre>\n\n<p>The behaviour is the same as without <code>\\K</code>:</p>\n\n<pre><code>&gt; \"abcdefg\".scan(/../)\n=&gt; [\"ab\", \"cd\", \"ef\"]\n</code></pre>\n\n<p>except that the characters before the <code>\\K</code> are removed from the result. </p>\n\n<p>One interesting use of <code>\\K</code> is to emulate a variable-length lookbehind, which is not allowed in Ruby <em>(the same for PHP and Perl)</em>, or to avoid the creation of a unique capture group. For example <code>(?&lt;=a.*)f.</code> can be implemented using <code>\\K</code>:</p>\n\n<pre><code>&gt; \"abcdefg\".match(/a.*\\Kf./)\n=&gt; #&lt;MatchData \"fg\"&gt;\n</code></pre>\n\n<p>An alternative way would be to write <code>/a.*(f.)/</code>, but the <code>\\K</code> avoids the need to create a capture group.</p>\n\n<p>Note that the <code>\\K</code> feature also exists in the python <a href=\"https://pypi.python.org/pypi/regex\" rel=\"nofollow noreferrer\">regex</a> module, even this one allows variable-length lookbehinds.</p>\n"}], "owner": {"reputation": 10490, "user_id": 513951, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6cace4406e1ea825e78ec0134a5ea6fd?s=128&d=identicon&r=PG&f=1", "display_name": "user513951", "link": "https://stackoverflow.com/users/513951/user513951"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1700, "favorite_count": 0, "accepted_answer_id": 35093222, "answer_count": 1, "score": 9, "last_activity_date": 1549751088, "creation_date": 1454095885, "last_edit_date": 1495540345, "question_id": 35092563, "link": "https://stackoverflow.com/questions/35092563/positive-lookbehind-vs-match-reset-k-regex-feature", "title": "Positive lookbehind vs match reset (\\K) regex feature", "body": "<p>I just learned about the <a href=\"http://ruby-doc.org/core/Regexp.html#class-Regexp-label-Anchors\" rel=\"noreferrer\">apparently undocumented</a> <code>\\K</code> behavior in Ruby regex (thanks to <a href=\"https://stackoverflow.com/a/35092157/513951\">this answer</a> by <a href=\"https://stackoverflow.com/users/548225/anubhava\">anubhava</a>). This feature (possibly named <em>Keep</em>?) also exists in PHP, Perl, and Python regex flavors. It is described elsewhere as \"<em>drops what was matched so far from the match to be returned</em>.\"</p>\n\n<pre><code>\"abc\".match(/ab\\Kc/)     # matches \"c\"\n</code></pre>\n\n<p>Is this behavior identical to the positive lookbehind marker as used below?</p>\n\n<pre><code>\"abc\".match(/(?&lt;=ab)c/)  # matches \"c\"\n</code></pre>\n\n<p>If not, what differences do the two exhibit?</p>\n"}, {"tags": ["ajax", "perl", "session", "cgi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454094057, "post_id": 35091933, "comment_id": 57905934, "body": "Don&#39;t have time to read this in detail, but it sounds like you need to add <code>$session-&gt;flush()</code> to the loop."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1454094101, "creation_date": 1454094101, "answer_id": 35092090, "question_id": 35091933, "link": "https://stackoverflow.com/questions/35091933/perl-cgi-does-not-update-session-variables-during-if-else-while/35092090#35092090", "title": "Perl CGI does not update session variables during If-Else / While", "body": "<p>Try calling flush() after making updates to the session that you want to be visible outside the current request.</p>\n\n<p>See <a href=\"https://metacpan.org/pod/CGI::Session#flush\" rel=\"nofollow\">https://metacpan.org/pod/CGI::Session#flush</a></p>\n"}], "owner": {"reputation": 3739, "user_id": 405763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/6b82901f73413a8061f2d0784d7726b8?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/405763/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 35092090, "answer_count": 1, "score": 0, "last_activity_date": 1461483399, "creation_date": 1454093557, "last_edit_date": 1461483399, "question_id": 35091933, "link": "https://stackoverflow.com/questions/35091933/perl-cgi-does-not-update-session-variables-during-if-else-while", "title": "Perl CGI does not update session variables during If-Else / While", "body": "<p>The code below has an AJAX call that starts an if statement and counts up from the last stored session param + 10.</p>\n\n<p>Another AJAX call immediately begins to poll the form.cgi for the current session param.</p>\n\n<p>I expect the session param to be updated about once per second as per the time condition, and thus I should get a stream of numbers incremental one at a time. (The polling code is also being run in one second increments).</p>\n\n<p>This is what I expect from the Console of the web browser, each one second apart:</p>\n\n<pre><code>1,2,3,4,5,6,7,8,9,10,11...(press submit again)...12,13,14,15...etc..\n</code></pre>\n\n<p>The issue is that the value that comes back from the polling AJAX call only updates once per while loop (each ten seconds)</p>\n\n<pre><code>1,1,1,1,1,1,1,1,1,1,10,10, (press submit again)...10,10,10,10,10...\n</code></pre>\n\n<p>It seems that the session variable is only being committed to server storage when the If and While are complete.</p>\n\n<p>Is there a way around this? I plan to run many system scripts with an If statement and would like to be able to poll the form.cgi for updates instead of having to wait until all of the operations are complete.</p>\n\n<p><strong>form.cgi</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CGI;\nuse CGI::Carp 'fatalsToBrowser'; # sends error messages to the browser!\nuse CGI::Session;\nuse JSON;\n\nmy $workTimer = 1; # In milliseconds.\n\nmy $query = CGI-&gt;new();\nmy $session = CGI::Session-&gt;new($query);\nprint $session-&gt;header();\n\nif(defined $query-&gt;param('name')){\n\n    my $sec = time();\n    my $count = $session-&gt;param('script1');\n    my $max = $count + 10;\n\n    while($count &lt; $max){\n        if(time() &gt; $sec + $workTimer){\n            $count = $session-&gt;param('script1');\n            $count = $count + 1;\n            $session-&gt;param('script1', $count);\n            $sec = time();\n        }\n    }\n\n    print \"While finished.\";\n}\nelsif(defined $query-&gt;param('polling')){\n    my @pollingArray = ();\n\n    push(@pollingArray, $session-&gt;param('script1'));\n\n    my $json-&gt;{\"poll-reply\"} = \\@pollingArray;\n    my $json_text = to_json($json);\n\n    print \"$json_text\";\n}\nelse{\n    print &lt;&lt;\"EOF\";\n&lt;html&gt;&lt;head&gt;\n        &lt;script src=\"jquery-2.2.0.min.js\" defer&gt;&lt;/script&gt;\n        &lt;script src=\"app.js\" defer&gt;&lt;/script&gt;\n&lt;/head&gt;&lt;body&gt;\nEOF\n\n    # Print the form area.\n    print &lt;&lt;\"EOF\";\n    &lt;form id=\"test-form\"&gt;\n        &lt;input type=\"submit\" name=\"submit\" id=\"submit\"/&gt;\n    &lt;/form&gt;\nEOF\n\n    # Print the bottom of the HTML page.\n    print &lt;&lt;\"EOF\";\n    &lt;/body&gt;\n&lt;/html&gt;\nEOF\n\n}\n</code></pre>\n\n<p><strong>app.js</strong></p>\n\n<pre><code>$('#submit').on(\"click\", function(e){\n    e.preventDefault();\n    $.ajax({\n        url: \"/form/form.cgi\",\n        type: \"post\",\n        data: {\n            name: \"-\"\n        },\n        success: function(data){\n            console.log(data);\n        }\n    });\n    var polling = pollingForStatus();\n});\n\nfunction pollingForStatus(){\n    return window.setInterval(function(){ \n        $.ajax({\n            url: \"/form/form.cgi\",\n            type: \"post\",\n            data: {\n                polling: \"poll\"\n            },\n            success: function(data){\n                console.log(data);\n            }\n        }); \n    }, 1000);\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl", "loops", "variables", "global"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454093809, "post_id": 35091928, "comment_id": 57905789, "body": "Also, why are you re-reading the input multiple times? That&#39;s pretty nasty."}, {"owner": {"reputation": 15, "user_id": 3839028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAHfA.jpg?s=128&g=1", "display_name": "Scotty", "link": "https://stackoverflow.com/users/3839028/scotty"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454096109, "post_id": 35091928, "comment_id": 57907004, "body": "@Sobrique, totally agreed, didn&#39;t know you could rewind."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454096235, "post_id": 35091928, "comment_id": 57907087, "body": "You probably don&#39;t even need to do that. You can turn your <code>&#47;SUB&#47;</code> search into something like: <code>my $search = join ( &quot;|&quot;, map { quotemeta } @sub ); $search = qr&#47;($search)&#47;;</code>. Because then you can do <code>while ( &lt;$file&gt; ) { if ( m&#47;$search&#47; ) { print $1 } }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454094531, "post_id": 35092063, "comment_id": 57906181, "body": "Looks like the usual <code>strict</code> and <code>warnings</code> don&#39;t pick up when you do it like that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1454094791, "post_id": 35092063, "comment_id": 57906319, "body": "@Sobrique: It doesn&#39;t warn you unless you write something that is always true or false, like <code>if ( $f = 1 ) { ... }</code>. What the OP has is equivalent to  <code>if ( $f = &#47;pattern&#47; ) { ... }</code> which is a legitimate test of a pattern while storing the result for reuse"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454095510, "post_id": 35092063, "comment_id": 57906717, "body": "<code>&#47;&#47;</code> returns <code>dualvar(0,&#39;&#39;)</code> on failure, not <code>undef</code> (which would have caused the OP to get &quot;uninitialized&quot; warnings)."}, {"owner": {"reputation": 15, "user_id": 3839028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAHfA.jpg?s=128&g=1", "display_name": "Scotty", "link": "https://stackoverflow.com/users/3839028/scotty"}, "edited": false, "score": 0, "creation_date": 1454095956, "post_id": 35092063, "comment_id": 57906934, "body": "@Borodin, I will take a look at what you propose, thank you.  Rewinding the file and parsing into a hash makes plenty of sense, my perl is rusty to say the least..."}, {"owner": {"reputation": 15, "user_id": 3839028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAHfA.jpg?s=128&g=1", "display_name": "Scotty", "link": "https://stackoverflow.com/users/3839028/scotty"}, "edited": false, "score": 0, "creation_date": 1454101310, "post_id": 35092063, "comment_id": 57909798, "body": "@Borodin, your answer made me think about assigning the value of flag when i wanted to evaluate it.  Changing = to == fixed much that wasn&#39;t making sense.  I still want to incorporate the rewind and parsing a hash, but you did get me over the hurdle i was having with my current code.  Thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15, "user_id": 3839028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAHfA.jpg?s=128&g=1", "display_name": "Scotty", "link": "https://stackoverflow.com/users/3839028/scotty"}, "edited": false, "score": 0, "creation_date": 1454102332, "post_id": 35092063, "comment_id": 57910318, "body": "@Scotty: The solution I showed you doesn&#39;t need a flag, and incorporates a rewind (<code>seek $fh, 0, 0;</code>)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1454183026, "last_edit_date": 1454183026, "creation_date": 1454094001, "answer_id": 35092063, "question_id": 35091928, "link": "https://stackoverflow.com/questions/35091928/perl-variable-doesnt-stay-set-even-when-set-with-our/35092063#35092063", "title": "Perl variable doesn&#39;t stay set, even when set with &quot;our&quot;", "body": "<p>You are <em>assigning</em> to <code>$flag</code> in your test</p>\n\n<pre><code>elsif  (  $flag=1 &amp;&amp; /&lt;email&gt;(.+)/ ) {  ... }\n</code></pre>\n\n<p>is setting <code>$flag</code> to <code>1 &amp;&amp; /&lt;email&gt;(.+)/</code> which is <em>false</em> if the regex pattern doesn't match</p>\n\n<p>It should probably be</p>\n\n<pre><code>if  (  $flag and /&lt;email&gt;(.+)/ ) { ... }\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>I suggest you forget about <code>$flag</code> and instead use the fact that the input file will be at eof if <code>$sub</code> hasn't been found, so the program won't be able to read anything further anyway</p>\n\n<p>It's also nicer to rewind the file rather than reopen it. It's almost certain that the data should be parsed into a hash and accessed directly, but I can't tell for sure with the little information you give</p>\n\n<pre><code>my @sub;\n\nopen my $fh, '&lt;', 'C:\\Users\\scottbro\\Desktop\\PMS.txt' or die \"Cannot open PMS.txt: $!\";\n\nfor my $sub ( @sub ) {\n\n    seek $fh, 0, 0;\n\n    while ( &lt;$fh&gt; ) {\n        last if /$sub/;\n    }\n\n    while ( &lt;$fh&gt; ) {\n        next unless /&lt;email&gt;(.+)/;\n        print qq{Email for \"$sub\" is \"$1\"};\n        last;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -2, "last_activity_date": 1454109957, "last_edit_date": 1454109957, "creation_date": 1454106769, "answer_id": 35095256, "question_id": 35091928, "link": "https://stackoverflow.com/questions/35091928/perl-variable-doesnt-stay-set-even-when-set-with-our/35095256#35095256", "title": "Perl variable doesn&#39;t stay set, even when set with &quot;our&quot;", "body": "<p>You are assigning to <code>$flag</code> in your test rather than checking its value.</p>\n\n<pre><code>elsif ($flag = 1 &amp;&amp; /&lt;email&gt;(.+)/)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>elsif ($flag == 1 &amp;&amp; /&lt;email&gt;(.+)/)\n</code></pre>\n\n<p>Or even better,</p>\n\n<pre><code>elsif ($flag &amp;&amp; /&lt;email&gt;(.+)/)\n</code></pre>\n\n<hr>\n\n<p>That said, repeatedly reading the same file is quite inefficient. Here's a version that doesn't.</p>\n\n<pre><code>my $pat = join '|', map quotemeta, @subs;\n\nmy $qfn = 'C:\\\\Users\\\\scottbro\\\\Desktop\\\\PMS.txt';\nopen(my $fh, '&lt;', $qfn)\n   or die(qq{\"Can't open \"$qfn\": $!\\n\"});\n\nwhile (&lt;$fh&gt;) {\n   my ($sub) = /($pat)/\n      or next;\n\n   defined( $_ = &lt;$fh&gt; )\n      or last;\n\n   my ($email) = /&lt;email&gt;(.+)/\n      or redo;\n\n   print(qq{Email for \"$sub\" is \"$email\"\\n});\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3839028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAHfA.jpg?s=128&g=1", "display_name": "Scotty", "link": "https://stackoverflow.com/users/3839028/scotty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 35092063, "answer_count": 2, "score": 1, "last_activity_date": 1454183026, "creation_date": 1454093537, "last_edit_date": 1454094197, "question_id": 35091928, "link": "https://stackoverflow.com/questions/35091928/perl-variable-doesnt-stay-set-even-when-set-with-our", "title": "Perl variable doesn&#39;t stay set, even when set with &quot;our&quot;", "body": "<p>I have a file that I wish to search for strings, matching with items stored in an array.  I open the file, loop through it and when I find what I'm looking for, I change a variable flag so additional work can be done.  I am having an issue where the variable I set is not sticking.  I placed the variable within the foreach loop, made it an <code>our</code> variable, to no avail.</p>\n\n<p>Questionable code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $zed = 0;\nforeach my $SUB (@sub) {\n    print \"We are currently looking for $SUB&lt;br&gt;&lt;br&gt;\";\n\n    open (my $input, \"&lt;\", \"C:\\\\Users\\\\scottbro\\\\Desktop\\\\PMS.txt\")\n        or die \"Cannot open PMS.txt: $!\";\n\n    our $flag = 0;\n    ##SET Zed to keep track of where we are\n    print \"Zed is $zed&lt;br&gt;Flag is $flag&lt;br&gt;\";\n    $zed++;\n\n    while (&lt;$input&gt;) {\n\n        print \"inside the while loop, flag is now $flag&lt;br&gt;\";\n        ##  IF you find what you are looking for, set flag to 1\n        if (/$SUB/) {\n            $flag = 1;\n            print \"Found sub property, flag is now $flag&lt;br&gt;\";\n            ## IF flag is 1, and line has email address, show it!\n        } elsif ($flag = 1 &amp;&amp; /&lt;email&gt;(.+)/) {\n            print \"Flag is $flag, email is $1&lt;br&gt;\";\n        }\n\n    }\n    close($input);\n}\n</code></pre>\n\n<p>Output, where it can be seen the flag variable loses value:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>We are currently looking for Property 1\nZed is 0\nFlag is 0\ninside the while loop, flag is now 0\ninside the while loop, flag is now \nFlag is 1, email is email1\ninside the while loop, flag is now 1\nFlag is 1, email is email2\ninside the while loop, flag is now 1\ninside the while loop, flag is now \ninside the while loop, flag is now \ninside the while loop, flag is now \nFound sub property, flag is now 1\ninside the while loop, flag is now 1\nFlag is 1, email is email3\ninside the while loop, flag is now 1\nFlag is 1, email is email4\ninside the while loop, flag is now 1\ninside the while loop, flag is now \ninside the while loop, flag is now \nFlag is 1, email is email 5\n</code></pre>\n"}, {"tags": ["regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454093400, "post_id": 35091745, "comment_id": 57905572, "body": "I think <code>regex</code> is the wrong tool for this job really. It&#39;s built around matching (and replacing) strings.  Not sorting logic and comparisons."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1454093407, "post_id": 35091745, "comment_id": 57905576, "body": "What is your capturing logic and what is the point of <code>.{0,2}?</code> after <code>m</code>?"}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454094411, "post_id": 35091745, "comment_id": 57906123, "body": "@Sobrique on reality I don&#39;t need a <i>sorting logic</i>, but if each pattern on group (a|b|c) could be matched one by one (first try a, if fail, then try b, if fail, then try c) on all string (until end for each group item pattern) and return the first one, it should resolve without sorting anything. Thanks."}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1454094456, "post_id": 35091745, "comment_id": 57906141, "body": "@anubhava Yeah! After <code>m</code> it don&#39;t care, on reality. I&#39;ll edit it. Thanks."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454094750, "post_id": 35091745, "comment_id": 57906296, "body": "But that&#39;s the thing - you <i>do</i> need sorting logic to match the pattern multiple times, and pick out the shortest. Your regex engine is working through the string, and cycling through each possible match to see which is valid. So it will only <i>ever</i> give the leftmost string that matches any of the pattern combinations."}], "answers": [{"comments": [{"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454097594, "post_id": 35092554, "comment_id": 57907793, "body": "It is basically what I did on <i>stored procedure</i>, but it is too slow (ten times slower on small texts). On MariaDB I don&#39;t have the <code>g</code> modifier or similar, so I need execute regular expression <i>N</i> times on same string until the end, checking each time if the current match is smaller than previous. I understand that is not possible apply sort, but maybe do <a href=\"http://pastebin.com/NTYu2HaH\" rel=\"nofollow noreferrer\"><b>something like it</b></a>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1454095857, "creation_date": 1454095857, "answer_id": 35092554, "question_id": 35091745, "link": "https://stackoverflow.com/questions/35091745/regular-expression-to-match-smallest-only/35092554#35092554", "title": "Regular expression to match smallest only", "body": "<p>There's a lot of things that regular expressions can do - some of which are - as you say - 'dark magic'. But the core problem is - pretty fundamentally, regular expressions are about text selection can capture. They don't 'do' match comparison or evaluation - they either match or they do not. </p>\n\n<p>You can see what the regex is doing, by enabling it in debug mode. For this, I'll use <code>perl</code> because you can set <code>use re 'debug';</code>':</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse re 'debug';\n\nmy @matches = \"abcemtcmncefmf\" =~ m/(cm|c.m|c..m)/;\nprint join \"\\n\", @matches;\n</code></pre>\n\n<p>This will print what the regex engine is doing as it goes:</p>\n\n<pre><code>Compiling REx \"(cm|c.m|c..m)\"\nFinal program:\n   1: OPEN1 (3)\n   3:   TRIE-EXACT[c] (19)\n        &lt;cm&gt; (19)\n        &lt;c&gt; (9)\n   9:     REG_ANY (10)\n  10:     EXACT &lt;m&gt; (19)\n        &lt;c&gt; (15)\n  15:     REG_ANY (16)\n  16:     REG_ANY (17)\n  17:     EXACT &lt;m&gt; (19)\n  19: CLOSE1 (21)\n  21: END (0)\nstclass AHOCORASICK-EXACT[c] minlen 1 \nMatching REx \"(cm|c.m|c..m)\" against \"abcemtcmncefmf\"\nMatching stclass AHOCORASICK-EXACT[c] against \"abcemtcmncefmf\" (14 bytes)\n   0 &lt;&gt; &lt;abcemtcmnc&gt;         | Scanning for legal start char...\n   2 &lt;ab&gt; &lt;cemtcmncef&gt;       | Charid:  1 CP:  63 State:    1, word=0 - legal\n   3 &lt;abc&gt; &lt;emtcmncefm&gt;      | Charid:  0 CP:  65 State:    2, word=2 - fail\n   3 &lt;abc&gt; &lt;emtcmncefm&gt;      | Fail transition to State:    1, word=0 - fail\nMatches word #2 at position 2. Trying full pattern...\n   2 &lt;ab&gt; &lt;cemtcmncef&gt;       |  1:OPEN1(3)\n   2 &lt;ab&gt; &lt;cemtcmncef&gt;       |  3:TRIE-EXACT[c](19)\n   2 &lt;ab&gt; &lt;cemtcmncef&gt;       |    State:    1 Accepted: N Charid:  1 CP:  63 After State:    2\n   3 &lt;abc&gt; &lt;emtcmncefm&gt;      |    State:    2 Accepted: Y Charid:  0 CP:  65 After State:    0\n                                  got 2 possible matches\n                                  TRIE matched word #2, continuing\n   3 &lt;abc&gt; &lt;emtcmncefm&gt;      |  9:  REG_ANY(10)\n   4 &lt;abce&gt; &lt;mtcmncefmf&gt;     | 10:  EXACT &lt;m&gt;(19)\n   5 &lt;abcem&gt; &lt;tcmncefmf&gt;     | 19:  CLOSE1(21)\n   5 &lt;abcem&gt; &lt;tcmncefmf&gt;     | 21:  END(0)\nMatch successful!\nFreeing REx: \"(cm|c.m|c..m)\"\n</code></pre>\n\n<p>Hopefully you can see what it's doing here? </p>\n\n<ul>\n<li>working from left to right</li>\n<li>hits the first 'c'</li>\n<li>checks to see if 'cm' matches (fails)</li>\n<li>checks to see if 'c.m' matches (succeeds). </li>\n<li>bails out here and returns hits. </li>\n</ul>\n\n<p>Turn on <code>g</code> and you get it to work multiple times - I shan't reproduce it, but it's quite a lot longer. </p>\n\n<p>Whilst you can do a lot of clever tricks with PCRE, such as look around, look ahead, greedy/nongreedy matching.... pretty fundamentally, here, you are trying to select multiple valid matches, and pick the shortest. And <code>regex</code> can't do that. </p>\n\n<p>I would offer though - with that same <code>perl</code>, the process of finding the shortest is quite easy:</p>\n\n<pre><code>use List::Util qw/reduce/;\nprint  reduce { length( $a ) &lt; length( $b ) ? $a : $b } @matches;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454101457, "post_id": 35093890, "comment_id": 57909883, "body": "Wow!!! I know it! Regular expressions does dark magic! It&#39;ll work for me. Now I just need thinks how I can generate it from user input. But for now, it solve my problem. Thanks a lot!"}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454101686, "post_id": 35093890, "comment_id": 57909993, "body": "Which adaptations I should do to expand it to three characters long? Example, instead of search by <code>cm</code>, search by <code>cpm</code>."}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454101983, "post_id": 35093890, "comment_id": 57910141, "body": "But and about the <code>[^m]</code>, it should be changed too, right? Should be something like <code>c[^p]{0,2}p[^m]{0,2}m</code>?"}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454102082, "post_id": 35093890, "comment_id": 57910190, "body": "Yes, I mean, following your code. Instead of I use <code>YourDarkMagic(&quot;cm&quot;)</code>, I need use <code>YourDarkMagic(&quot;cpm&quot;)</code> to allow match <code>cpm</code>, <code>cepem</code>, ..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 1, "creation_date": 1454102279, "post_id": 35093890, "comment_id": 57910292, "body": "The fact that you don&#39;t know shows why it&#39;s a bad idea. The contents of the first <code>(?!...)</code> should match all patterns you want to match. The contents of the second <code>(?!...)</code> should match all patterns you want to match except the longest. The contents of the third <code>(?!...)</code> should match all patterns you want to match except the longest and the second longest. etc. The final bit in <code>(...)</code> should match all the patterns you want to match (like the contents of the first <code>(?!...)</code>)."}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454102416, "post_id": 35093890, "comment_id": 57910357, "body": "I&#39;ll study your code first. But I imagine that should be like my comment above. I need create some tests. I am asking just because, if it is a simple change, is easy to reply. Else, I&#39;ll work hard to understand and expand it to more characters. But in all way, thanks! You help me a lot. -- I tried here, is just expand <code>[^m]{0,2}m</code> to each character that I need."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454102591, "post_id": 35093890, "comment_id": 57910454, "body": "<code>c[^p]{0,2}p[^m]{0,2}m</code> will appear twice, but that&#39;s the easy part. What&#39;s the pattern that matches all but the longest? It&#39;s NOT <code>c[^p]{0,1}p[^m]{0,1}m</code>. It&#39;s <code>c[^p]{0,1}(?:p[^m]|[^p]p)[^m]{0,1}m</code>"}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454102931, "post_id": 35093890, "comment_id": 57910637, "body": "Oh, yeah. Now I&#39;m confused. It is better I first use the stored procedure, for now, until I be capable to understand how this expression works correctly."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454103110, "post_id": 35093890, "comment_id": 57910717, "body": "The max length of <code>c[^p]{0,2}p[^m]{0,2}m</code> is 7. The max length of <code>c[^p]{0,1}p[^m]{0,1}m</code> is 5. What happened to length 6 (e.g. <code>cxxpxm</code> and <code>cxxpxm</code>)?"}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454103168, "post_id": 35093890, "comment_id": 57910739, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/102037/discussion-between-david-rodrigues-and-ikegami\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1454105299, "last_edit_date": 1454105299, "creation_date": 1454100928, "answer_id": 35093890, "question_id": 35091745, "link": "https://stackoverflow.com/questions/35091745/regular-expression-to-match-smallest-only/35093890#35093890", "title": "Regular expression to match smallest only", "body": "<p>Technically, it can be done.</p>\n\n<pre><code>my ($match) = /\n   ^\n   (?:(?! c[^m]{0,2}m ).)*+         # Skip past area with no matches.\n   (?:\n      (?:(?! c[^m]{0,1}m ).)*+      # Skip past area with no matches except longuest.\n      (?:\n         (?:(?! c[^m]{0,0}m ).)*+   # Skip past area with no matches except 2 longuest.\n      )?\n   )?\n   ( c[^m]{0,2}m )\n/xs;\n</code></pre>\n\n<p>[Note: Removing the possessive quantifier modifiers (<code>+</code>) will <em>greatly</em> affect performance.]</p>\n\n<p>But it's usually far, far better to find all matches and locate the smallest one.</p>\n\n<pre><code>use List::Util qw( reduce );\nmy ($match) = reduce { length($a) &lt;= length($b) ? $a : $b } /c[^m]{0,2}m/g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454214519, "post_id": 35097231, "comment_id": 57941663, "body": "Wow!!! The alternation (<code>?|</code>) is exactly what I expected. I know that I saw it in some place before, but I don&#39;t found it. Thanks a lot! It&#39;ll simplify very much my current code!"}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454217345, "post_id": 35097231, "comment_id": 57942129, "body": "I made some changes on your code. I used something like <code>&#47;(?|\\K(cm)|\\K(c.m)|\\K(c..m))&#47;</code>. It have two advanges: reduced from 9690 steps to 1220 steps, and the match #0 is the own group #1 (I need it because MariaDB will uses the match #0). My query jumped from 5 seconds to 500ms. :)"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454244865, "post_id": 35097231, "comment_id": 57948464, "body": "@DavidRodrigues: <code>&#47;(?|\\K(cm)|\\K(c.m)|\\K(c..m))&#47;</code> that is like <code>(?:cm|c.m|c..m)</code> doesn&#39;t produce the same result because it will return the first position where one of the branches succeeds. In my example, each branch are tested one by one from the start of the string. Take the time to test each answer to find the one that is the more efficient for your situation."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454246374, "post_id": 35097231, "comment_id": 57948904, "body": "@DavidRodrigues: you can try this one too: <code>&#47;^[^c]*+(?:(?:c(?!m)[^c]*)*+\\Kcm|(?:c(?!.m)[^c]*)*+\\Kc.m|(?:&zwnj;&#8203;c(?!..m)[^c]*)*+\\Kc.&zwnj;&#8203;.m)&#47;</code> it&#39;s a bit longer but it avoids backtracking."}, {"owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "edited": false, "score": 0, "creation_date": 1454335798, "post_id": 35097231, "comment_id": 57984794, "body": "You are right. I do some more testing here and seems that your original code works better. I&#39;ll use that. Thanks again!"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 4, "last_activity_date": 1454287801, "last_edit_date": 1454287801, "creation_date": 1454120191, "answer_id": 35097231, "question_id": 35091745, "link": "https://stackoverflow.com/questions/35091745/regular-expression-to-match-smallest-only/35097231#35097231", "title": "Regular expression to match smallest only", "body": "<p>You can simply use an alternation in a <em>branch reset</em> group:</p>\n\n<pre><code>/^(?|.*(cm)|.*(c.m)|.*(c..m))/s\n</code></pre>\n\n<p><em>(The result is in group 1)</em></p>\n\n<p>or like this:</p>\n\n<pre><code>/^.*\\Kcm|^.*\\Kc.m|^.*\\Kc..m/s\n</code></pre>\n\n<p>The first successful branch wins.</p>\n"}], "owner": {"reputation": 10580, "user_id": 755393, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73cfe2529feed18022473f2ba518b029?s=128&d=identicon&r=PG", "display_name": "David Rodrigues", "link": "https://stackoverflow.com/users/755393/david-rodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1994, "favorite_count": 1, "accepted_answer_id": 35097231, "answer_count": 3, "score": 8, "last_activity_date": 1454287801, "creation_date": 1454092960, "last_edit_date": 1495539968, "question_id": 35091745, "link": "https://stackoverflow.com/questions/35091745/regular-expression-to-match-smallest-only", "title": "Regular expression to match smallest only", "body": "<p>I have a expression like <code>c.{0,2}?m</code>and a string like <code>\"abcemtcmncefmf\"</code>. Currently it will matches three substrings: <code>cem</code>, <code>cm</code> and <code>cefm</code> (<a href=\"https://regex101.com/r/qW8qM8/1\" rel=\"nofollow noreferrer\"><strong>see here</strong></a>). But I like to match only the smallest of this, in this case, <code>cm</code>.</p>\n\n<p>My problem is that I don't have a global match support, only the first match, because I'm using MariaDB <a href=\"https://mariadb.com/kb/en/mariadb/regexp_substr/\" rel=\"nofollow noreferrer\"><code>REGEXP_SUBSTR()</code></a> function. My current solution is a <a href=\"http://pastebin.com/sD404yg8\" rel=\"nofollow noreferrer\"><strong>stored procedure</strong></a> that I created to solve my problem. But it is 10 times slower than just a regular expression for simple cases.</p>\n\n<p>I too tried do something like: <code>(cm|c.{0,1}?m|c.{0,2}?m)</code>, but it doesn't worked because it will match first of any group patterns, instead of try one by one in all subject string.</p>\n\n<p>I know that regular expressions (PCRE) have some <em>black magic</em> features, but I don't found nothing to solve my problem.</p>\n\n<hr>\n\n<ul>\n<li><strong>Note</strong>: I'm yet using non-greedy pattern (<code>.{0,2}?</code>) on my current pattern;</li>\n<li>The question <strong><a href=\"https://stackoverflow.com/questions/26102838/regular-expression-to-find-smallest-possible-match\">Regular expression to find smallest possible match</a></strong> don't is my problem;</li>\n</ul>\n"}, {"tags": ["performance", "perl", "haskell"], "comments": [{"owner": {"reputation": 14781, "user_id": 630160, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4445f21326af525a8ad19af7e3ae41a8?s=128&d=identicon&r=PG", "display_name": "epsilonhalbe", "link": "https://stackoverflow.com/users/630160/epsilonhalbe"}, "edited": false, "score": 0, "creation_date": 1454083785, "post_id": 35088733, "comment_id": 57899822, "body": "did you compile the program or invoke it in ghci, did you compile with optimizations; read is known to be slow, as well as using <code>String</code>, try switching to <code>Text</code> !"}, {"owner": {"reputation": 41, "user_id": 5857997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f326d0832fee23401398d13a60f99bc?s=128&d=identicon&r=PG", "display_name": "xzhao", "link": "https://stackoverflow.com/users/5857997/xzhao"}, "reply_to_user": {"reputation": 14781, "user_id": 630160, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4445f21326af525a8ad19af7e3ae41a8?s=128&d=identicon&r=PG", "display_name": "epsilonhalbe", "link": "https://stackoverflow.com/users/630160/epsilonhalbe"}, "edited": false, "score": 0, "creation_date": 1454083835, "post_id": 35088733, "comment_id": 57899856, "body": "I tried both and both of them are slower than Perl. My ghc version is 7.10.3. I don&#39;t think it is read&#39;s problem because obviously IO is not the bottleneck here."}, {"owner": {"reputation": 3870, "user_id": 2336725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a0b96a26cf233d752469445595f872?s=128&d=identicon&r=PG", "display_name": "Teepeemm", "link": "https://stackoverflow.com/users/2336725/teepeemm"}, "edited": false, "score": 1, "creation_date": 1454084001, "post_id": 35088733, "comment_id": 57899974, "body": "Could you post the problem statement here, so we don&#39;t have to go digging for it?"}, {"owner": {"reputation": 41, "user_id": 5857997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f326d0832fee23401398d13a60f99bc?s=128&d=identicon&r=PG", "display_name": "xzhao", "link": "https://stackoverflow.com/users/5857997/xzhao"}, "edited": false, "score": 0, "creation_date": 1454084123, "post_id": 35088733, "comment_id": 57900048, "body": "Sure I have done that."}], "answers": [{"comments": [{"owner": {"reputation": 44013, "user_id": 1477667, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/trgKM.jpg?s=128&g=1", "display_name": "dfeuer", "link": "https://stackoverflow.com/users/1477667/dfeuer"}, "edited": false, "score": 0, "creation_date": 1454095941, "post_id": 35089600, "comment_id": 57906929, "body": "Arrays are probably fastest, but the O&#39;Neill sieve is arguably the best match to Haskell. The version in the <code>NumberSieves</code> package is much faster than the one in the paper, but it could certainly be improved by using a better priority queue (specializing to <code>Word64</code>, to begin with)."}, {"owner": {"reputation": 13807, "user_id": 2407038, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/538f6f4a9aa43841841de7d8e8b169fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2407038", "link": "https://stackoverflow.com/users/2407038/user2407038"}, "edited": false, "score": 0, "creation_date": 1454097316, "post_id": 35089600, "comment_id": 57907654, "body": "&quot;This is a prototypical example of a problem where mutable arrays are helpful&quot; - really? Would it be easier to re-write all the code to work with mutable arrays, or any other mutable data structure, than simply changing the one part of the algorithm that is &quot;bad&quot;. Instead of increment the list directly, store a <code>Map [Int] Int</code> of which factors must increment which digit - the total size of this map is always less than 10 so insert/delete is essentially constant time. There is a version of this <a href=\"https://wiki.haskell.org/Prime_numbers\" rel=\"nofollow noreferrer\">here</a> (3.11)."}], "tags": [], "owner": {"reputation": 14485, "user_id": 190376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd8280c5e1491b8cf55760750ed97dec?s=128&d=identicon&r=PG", "display_name": "Reid Barton", "link": "https://stackoverflow.com/users/190376/reid-barton"}, "is_accepted": false, "score": 6, "last_activity_date": 1454085573, "creation_date": 1454085573, "answer_id": 35089600, "question_id": 35088733, "link": "https://stackoverflow.com/questions/35088733/haskell-program-low-performance-compared-with-perl/35089600#35089600", "title": "Haskell Program Low Performance Compared with Perl", "body": "<p>Yes, of course. You're effectively using two different algorithms. Your Haskell <code>zipWith ($) (incEvery n) xs</code> has to process <em>every</em> entry of your list, while your Perl <code>for my $j (2 .. ($max / $i)) { $f[$i * $j] ++; }</code> only has to process the entries it actually increments, which is a factor of <code>$i</code> faster. This is a prototypical example of a problem where mutable arrays are helpful: in Haskell you can use <code>STUArray</code>, for example.</p>\n"}, {"comments": [{"owner": {"reputation": 34889, "user_id": 86604, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/329af917389e6cf8e146c03012f5319a?s=128&d=identicon&r=PG", "display_name": "Ingo", "link": "https://stackoverflow.com/users/86604/ingo"}, "edited": false, "score": 0, "creation_date": 1455647991, "post_id": 35439652, "comment_id": 58578899, "body": "FInally someone who shows the pure solution. I <i>really</i> couldn&#39;t see how vectors would be of any use here! As if the primacity of every number was not fixed from the beginning of time! And it is not subject to change anytime soon :)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3970496"}, "is_accepted": false, "score": 8, "last_activity_date": 1455645074, "creation_date": 1455645074, "answer_id": 35439652, "question_id": 35088733, "link": "https://stackoverflow.com/questions/35088733/haskell-program-low-performance-compared-with-perl/35439652#35439652", "title": "Haskell Program Low Performance Compared with Perl", "body": "<p>There is absolutely no reason why you need to resort to imperative programming to gain performance. The unique thing about Haskell is you have to learn to think differently if you want to program in a purely functional manner. Exploit laziness to speed things up a bit:</p>\n\n<pre><code>{-# LANGUAGE ScopedTypeVariables #-}\n\nimport Control.Applicative ( pure, (&lt;$&gt;) )\nimport Data.List           ( nub )\nimport Data.Monoid         ( (&lt;&gt;) )\n\nisPrime :: (Integral i) =&gt; i -&gt; Bool\nisPrime n = isPrime_ n primes\n  where isPrime_ n (p:ps)\n          | p * p &gt; n      = True\n          | n `mod` p == 0 = False\n          | otherwise      = isPrime_ n ps\n\nprimes :: (Integral i) =&gt; [i]\nprimes = 2 : filter isPrime [3,5..]\n\nprimeFactors :: (Integral i) =&gt; i -&gt; [i]\nprimeFactors n = factors n primes\n  where factors n (x:xs)\n          | x * x &gt; n      = [n]\n          | n `mod` x == 0 = x : factors (n `div` x) (x:xs)\n          | otherwise      = factors n xs\n\nprimacity :: (Integral i) =&gt; i -&gt; Int\nprimacity = length . nub . primeFactors\n\nuser :: IO Int\nuser = do\n  xs &lt;- getLine\n  let a :: Int = read . takeWhile (/=' ') . dropN 0 $ xs\n  let b :: Int = read . takeWhile (/=' ') . dropN 1 $ xs\n  let k :: Int = read . takeWhile (/=' ') . dropN 2 $ xs\n  let n = length . filter (== k) . fmap primacity $ [a..b]\n  pure n\n    where\n      dropN 0 = id\n      dropN n = dropN (pred n) . drop 1 . dropWhile (/= ' ')\n\nprintNTimes :: Int -&gt; Int -&gt; IO ()\nprintNTimes 0 _ = pure ()\nprintNTimes n total = do\n  ans &lt;- user\n  putStr $ \"Case #\" &lt;&gt; show (total - n + 1) &lt;&gt; \": \"\n  putStrLn $ show ans\n  printNTimes (pred n) total\n\nmain :: IO ()\nmain = do\n  n :: Int &lt;- read &lt;$&gt; getLine\n  printNTimes n n\n</code></pre>\n\n<p>This is basically mutual recursion mixed with laziness. Might take a while to understand it, but I can guarantee that it's fast.</p>\n"}], "owner": {"reputation": 41, "user_id": 5857997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f326d0832fee23401398d13a60f99bc?s=128&d=identicon&r=PG", "display_name": "xzhao", "link": "https://stackoverflow.com/users/5857997/xzhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1455645074, "creation_date": 1454083126, "last_edit_date": 1454084111, "question_id": 35088733, "link": "https://stackoverflow.com/questions/35088733/haskell-program-low-performance-compared-with-perl", "title": "Haskell Program Low Performance Compared with Perl", "body": "<p>I am doing a Facebook Hackercup 2015 problem with Haskell and got stuck on <a href=\"http://codeforces.com/gym/100579/attachments\" rel=\"nofollow\">this problem</a>.</p>\n\n<p>Input: Begins with an integer\u00a0T, the number of questions. For each question, there is one line containing 3 space-separated integers:A,\u00a0B, and\u00a0K.</p>\n\n<p>Output: For the\u00a0ith question, print a line containing \"Case #i: \" followed by the number of integers in the inclusive range [A,\u00a0B] with a primacity of\u00a0K.</p>\n\n<p>Primacity of a number X is the number of its prime factors. For example, the primacity of 12 is 2 (as it's divisible by primes 2 and 3), the primacity of 550 is 3 (as it's divisible by primes 2, 5, and 11), and the primacity of 7 is 1 (as the only prime it's divisible by is 7).</p>\n\n<p>1 \u2264\u00a0T\u00a0\u2264 100\u00a0\n2 \u2264\u00a0A\u00a0\u2264\u00a0B\u00a0\u2264 10^7\u00a0\n1 \u2264\u00a0K\u00a0\u2264 10^9\u00a0</p>\n\n<p>Here is my Haskell solution:</p>\n\n<pre><code>import System.IO\nimport Data.List\nimport Control.Monad\n\nincEvery :: Int -&gt; [(Int -&gt; Int)]\nincEvery n = (cycle ((replicate (n-1) id) ++ [(+ 1)]))\n\nprimes2 :: [Int]\nprimes2 = sieve 2 (replicate (10^7) 0)\n  where\n    sieve _ [] = []\n    sieve n (a:xs) = (a + (if a == 0 then 1 else 0))\n      : if a == 0 then\n          sieve (n+1) (zipWith ($) (incEvery n) xs)\n        else\n          sieve (n+1) xs\n\nprocess :: (Int, Int, Int) -&gt; Int\nprocess (lo, hi, k) =\n  length . filter (\\(a, b) -&gt; a &gt;= lo &amp;&amp; a &lt;= hi &amp;&amp; b == k) . zip [2,3..] $ primes2\n\nreadIn :: [String] -&gt; (Int, Int, Int)\nreadIn =\n  (\\[x, y, z] -&gt; (x, y, z)) . fmap (read::String-&gt;Int) . take 3\n\nlib :: String -&gt; String\nlib xs = unlines . fmap (\\(i, x) -&gt; \"Case #\" ++ (show i) ++ \": \" ++ x) . zip [1,2..]\n  . fmap parse . tail . lines $ xs\n  where\n    parse = (show . process . readIn . words)\n\nmain :: IO ()\nmain = interact lib\n</code></pre>\n\n<p>Here is my Perl solution:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $max = 10000010;\n\nmy @f = (0) x $max;\n\nfor my $i (2 .. $max) {\n    if($f[$i] == 0) {\n        $f[$i] = 1;\n        # print $i . \"\\n\";\n        for my $j (2 .. ($max / $i)) {\n            $f[$i * $j] ++;\n        }\n    }\n}\n\nmy $k =  &lt;STDIN&gt;;\nfor my $i (1 .. $k) {\n    my $line = &lt;STDIN&gt;;\n    if($line) {\n        chomp $line;\n        my ($a, $b, $t) = split(' ', $line);\n        my $ans = 0;\n        for my $j ($a .. $b) {\n            if($f[$j] == $t) {\n                $ans ++;\n            }\n        }\n        print \"Case #$i: \" . $ans . \"\\n\";\n    }    \n}\n</code></pre>\n\n<p>Though I am using the same sieving algorithm for both languages, the Haskell version is significantly slower than Perl version on 10^7 scale of data.\nBasically the following Haskell function is slower than its Perl counterpart:</p>\n\n<pre><code>incEvery :: Int -&gt; [(Int -&gt; Int)]\nincEvery n = (cycle ((replicate (n-1) id) ++ [(+ 1)]))\n\nprimes2 :: [Int]\nprimes2 = sieve 2 (replicate (10^7) 0)\n  where\n   sieve _ [] = []\n   sieve n (a:xs) = (a + (if a == 0 then 1 else 0))\n   : if a == 0 then\n      sieve (n+1) (zipWith ($) (incEvery n) xs)\n     else\n      sieve (n+1) xs\n</code></pre>\n\n<p>I think both recursion and <code>(zipWith ($) (incEvery n) xs)</code> are causing the problem. Any ideas?</p>\n"}, {"tags": ["linux", "perl", "monitoring", "nagios", "check-mk"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454081771, "post_id": 35087990, "comment_id": 57898331, "body": "1) According to the <a href=\"https://mathias-kettner.de/checkmk_legacy_checks.html\" rel=\"nofollow noreferrer\">docs</a>, <code>legacy_checks</code> are deprecated and you should use <code>custom_checks</code> instead. 2) You&#39;re missing a quotation mark: <code>( &quot;check_ftprw&quot;, FTP&quot;, True)</code> should be <code>( &quot;check_ftprw&quot;, &quot;FTP&quot;, True)</code>. 3) Are you sure leaving <code>all_hosts</code> empty will work? 4) Did you check the check_mk log for errors after restarting?"}, {"owner": {"reputation": 353, "user_id": 2769091, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b72e03a562d87b5374b7776ac08a9af8?s=128&d=identicon&r=PG&f=1", "display_name": "anarchist", "link": "https://stackoverflow.com/users/2769091/anarchist"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454083063, "post_id": 35087990, "comment_id": 57899323, "body": "I have corrected the missing quote but it&#39;s the same. If I put localhost inside all_hosts the inventory plugin gives an error about duplicate hosts, in syslog I see nothing relevant related to check_mk"}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 2769091, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b72e03a562d87b5374b7776ac08a9af8?s=128&d=identicon&r=PG&f=1", "display_name": "anarchist", "link": "https://stackoverflow.com/users/2769091/anarchist"}, "is_accepted": true, "score": 0, "last_activity_date": 1454494061, "creation_date": 1454494061, "answer_id": 35173943, "question_id": 35087990, "link": "https://stackoverflow.com/questions/35087990/check-mk-configuring-legacy-check/35173943#35173943", "title": "Check_MK - configuring legacy check", "body": "<p>I have solved this problem, the config is ok, then we need to reload check_mk: cmk -O</p>\n\n<p>Then we need to check that the command is registered in check_mk_objects.cfg:</p>\n\n<pre><code># extra_nagios_conf\n\n\n\ndefine command {\n\n    command_name    check_ftprw\n    command_line    /usr/lib/nagios/plugins/check_ftp_rw --host ftp.xxx --user test --password 'test' --dir pub --file test.txt --write\n\n}\n</code></pre>\n\n<p>We can check the agent output using: check_mk_agent</p>\n"}], "owner": {"reputation": 353, "user_id": 2769091, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b72e03a562d87b5374b7776ac08a9af8?s=128&d=identicon&r=PG&f=1", "display_name": "anarchist", "link": "https://stackoverflow.com/users/2769091/anarchist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1032, "favorite_count": 0, "accepted_answer_id": 35173943, "answer_count": 1, "score": 1, "last_activity_date": 1486326790, "creation_date": 1454080957, "last_edit_date": 1486326790, "question_id": 35087990, "link": "https://stackoverflow.com/questions/35087990/check-mk-configuring-legacy-check", "title": "Check_MK - configuring legacy check", "body": "<p>I am running OMD 1.20 -latest according to official website, Check_MK 1.2.4p5 community edition on an Ubuntu 14.04.3 LTS machine.</p>\n\n<p>I need to configure a FTP check that will check also the credentials and reading/writing a file. The standard plugins do not offer such a feature from what I know so I am trying to use a custom plugin, specifically: <a href=\"https://exchange.nagios.org/directory/Plugins/Network-Protocols/FTP/check_ftp_rw/details\" rel=\"nofollow noreferrer\">https://exchange.nagios.org/directory/Plugins/Network-Protocols/FTP/check_ftp_rw/details</a></p>\n\n<p>So the monitoring server is supposed to test an external FTP server that does not have the agent installed.\nI have the plugin in /usr/lib/nagios/plugins and have ran it manually and it works ok.</p>\n\n<p>Now I am trying to configure it as a check in check_mk so I did the following\nin /opt/omd/sites/monitoring/etc/check_mk/main.mk</p>\n\n<pre><code># Put your host names here\n# all_hosts = [ 'localhost' ]\nall_hosts = [ ]\n\nextra_nagios_conf += r\"\"\"\n\ndefine command {\n\n    command_name    check_ftprw\n    command_line    /usr/lib/nagios/plugins/check_ftp_rw --host ftp.test.com --user test --password 'test123' --dir pub\n\n}\n\n\"\"\"\nlegacy_checks = [\n\n  ( ( \"check_ftprw\", FTP\", True), [ \"localhost\"] ),\n\n]\n</code></pre>\n\n<p>I restart the omd site and check the inventory but it nevers picks up this check.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1454080567, "post_id": 35087806, "comment_id": 57897526, "body": "Show expected output"}, {"owner": {"reputation": 67418, "user_id": 418413, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e459bf8123c85dc2c708ee8210c0320b?s=128&d=identicon&r=PG", "display_name": "kojiro", "link": "https://stackoverflow.com/users/418413/kojiro"}, "edited": false, "score": 0, "creation_date": 1454080869, "post_id": 35087806, "comment_id": 57897714, "body": "So\u2026 you don&#39;t want to grep for anything. You just want to join all lines between open and close parens?"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 67418, "user_id": 418413, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e459bf8123c85dc2c708ee8210c0320b?s=128&d=identicon&r=PG", "display_name": "kojiro", "link": "https://stackoverflow.com/users/418413/kojiro"}, "edited": false, "score": 0, "creation_date": 1454080925, "post_id": 35087806, "comment_id": 57897749, "body": "@kojiro I think they want to search for <code>hello</code>, but all the example blocks have it in them..."}, {"owner": {"reputation": 67418, "user_id": 418413, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e459bf8123c85dc2c708ee8210c0320b?s=128&d=identicon&r=PG", "display_name": "kojiro", "link": "https://stackoverflow.com/users/418413/kojiro"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1454080960, "post_id": 35087806, "comment_id": 57897776, "body": "@123 so perhaps join all lines between open and close parens, then grep for &#39;hello&#39; :)"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 67418, "user_id": 418413, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e459bf8123c85dc2c708ee8210c0320b?s=128&d=identicon&r=PG", "display_name": "kojiro", "link": "https://stackoverflow.com/users/418413/kojiro"}, "edited": false, "score": 0, "creation_date": 1454081032, "post_id": 35087806, "comment_id": 57897816, "body": "@kojiro What my answer does :)"}], "answers": [{"tags": [], "owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "is_accepted": false, "score": 1, "last_activity_date": 1454081009, "creation_date": 1454081009, "answer_id": 35088003, "question_id": 35087806, "link": "https://stackoverflow.com/questions/35087806/grep-for-string-but-within-bounds/35088003#35088003", "title": "Grep for string, but within bounds", "body": "<p>Using sed</p>\n\n<p>Sedtest.sed</p>\n\n<pre><code>/('/{:1;N;/&gt;&gt;)/!b1;/hello/{s/\\n/ /gp}};d\n</code></pre>\n\n<p>or expanded</p>\n\n<pre><code>/('/{\n#Search for start string\n   :1\n#Label to loop to\n   N\n#Get next line\n   /&gt;&gt;)/!b1\n#Break to label until end pattern is matched\n   /hello/{\n#When that loops done search for hello in block\n   s/\\n/ /gp\n#Change newlines to space and print\n   }\n}\nd\n#Delete everything ever\n</code></pre>\n\n<p>file</p>\n\n<pre><code>('hello\nMy name is\njamie\nblabla\nxyz&gt;&gt;)\n('hello\nMy name is\nkat\nblabla\nblablabla\nx2&gt;&gt;)\n('hello\nMy name is\noliver\nxv&gt;&gt;)\n</code></pre>\n\n<p>Execute as</p>\n\n<pre><code>sed -f Sedtest file\n</code></pre>\n\n<p>Produces</p>\n\n<pre><code>('hello My name is jamie blabla xyz&gt;&gt;)\n('hello My name is kat blabla blablabla x2&gt;&gt;)\n('hello My name is oliver xv&gt;&gt;)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67418, "user_id": 418413, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e459bf8123c85dc2c708ee8210c0320b?s=128&d=identicon&r=PG", "display_name": "kojiro", "link": "https://stackoverflow.com/users/418413/kojiro"}, "edited": false, "score": 0, "creation_date": 1454081546, "post_id": 35088020, "comment_id": 57898164, "body": "Awk on OS X outputs a final <code>)</code> for some reason."}, {"owner": {"reputation": 2556, "user_id": 3617531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xWKNp.jpg?s=128&g=1", "display_name": "Alejandro Teixeira Mu&#241;oz", "link": "https://stackoverflow.com/users/3617531/alejandro-teixeira-mu%c3%b1oz"}, "edited": false, "score": 2, "creation_date": 1454081844, "post_id": 35088020, "comment_id": 57898379, "body": "@Ed M.,anubhava , it&#180;s great to follow and studying your answers :) thanks for your sharing your expertise guys"}, {"owner": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "edited": false, "score": 0, "creation_date": 1454081934, "post_id": 35088020, "comment_id": 57898462, "body": "On my actual data, two lines seem to get bunched together. Is there a quick way to add a line break after every match?"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "edited": false, "score": 0, "creation_date": 1454082292, "post_id": 35088020, "comment_id": 57898753, "body": "@jamie: You can use: <code>awk &#39;BEGIN{RS=&quot;)\\n&quot;; ORS=&quot;)\\n\\n&quot;} {$1=$1} 1&#39; file</code>"}, {"owner": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "edited": false, "score": 0, "creation_date": 1454083678, "post_id": 35088020, "comment_id": 57899744, "body": "Thanks for the response. Is there a limit on the maximum length of lines that I can have in this case? I can observer several lines being truncated as well."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "edited": false, "score": 0, "creation_date": 1454083760, "post_id": 35088020, "comment_id": 57899805, "body": "@jamie - don&#39;t try to put band-aids on it. If you have input data that this doesn&#39;t work perfectly for then there&#39;s something about that input data that&#39;s different from what you posted. Investigate, identify the difference(s), and edit your question to show the new data so we can help you. Usually any input data issues are caused by files having been created on Windows and so having spurious control-Ms in them. Use <code>cat -v file</code> to see them and if present <code>dos2unix</code> or similar to remove them. No, there is no limit."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 67418, "user_id": 418413, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e459bf8123c85dc2c708ee8210c0320b?s=128&d=identicon&r=PG", "display_name": "kojiro", "link": "https://stackoverflow.com/users/418413/kojiro"}, "edited": false, "score": 0, "creation_date": 1454083942, "post_id": 35088020, "comment_id": 57899931, "body": "@kojiro you aren&#39;t using GNU awk. Get it as you are missing a LOT of extremely useful functionality."}, {"owner": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "edited": false, "score": 0, "creation_date": 1454084061, "post_id": 35088020, "comment_id": 57900003, "body": "Thanks @EdMorton. Apparently seems to be some issue with my terminal. If I write to a file and read from an editor, it seems to work okay..."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1454084103, "post_id": 35088020, "comment_id": 57900032, "body": "@anubhava we only need the <code>-F&#39;\\n&#39;</code> if the OP wants to test for specific lines matching a regexp or string, e.g. <code>...$3==&quot;jamie&quot;...</code> to only match <code>jamie</code> in the 3rd field/line of every record."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "edited": false, "score": 0, "creation_date": 1454084222, "post_id": 35088020, "comment_id": 57900131, "body": "@jamie it&#39;s almost certainly the control-Ms I mentioned. Your terminal is obeying their instruction to jump back to the start of the line but your editor is interpreting it as a DOS-format file and effectively ignoring them. Try what I suggested with <code>cat -v file</code> and <code>dos2unix</code> (or <code>sed &#39;s&#47;\\r$&#47;&#47;&#39;</code>)."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 3, "last_activity_date": 1454081443, "last_edit_date": 1454081443, "creation_date": 1454081057, "answer_id": 35088020, "question_id": 35087806, "link": "https://stackoverflow.com/questions/35087806/grep-for-string-but-within-bounds/35088020#35088020", "title": "Grep for string, but within bounds", "body": "<p>You don't need to merge the lines then grep - just use awk and do it both in one concise script. With GNU awk for multi-char RS:</p>\n\n<pre><code>$ awk -F'\\n' 'BEGIN{RS=ORS=\")\\n\"} /hello/{$1=$1;print}' file\n('hello My name is jamie blabla xyz&gt;&gt;)\n('hello My name is kat blabla blablabla x2&gt;&gt;)\n('hello My name is oliver xv&gt;&gt;)\n\n$ awk -F'\\n' 'BEGIN{RS=ORS=\")\\n\"} /jamie/{$1=$1;print}' file\n('hello My name is jamie blabla xyz&gt;&gt;)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1454081181, "creation_date": 1454081181, "answer_id": 35088061, "question_id": 35087806, "link": "https://stackoverflow.com/questions/35087806/grep-for-string-but-within-bounds/35088061#35088061", "title": "Grep for string, but within bounds", "body": "<pre><code>$ tr $'\\n' ' ' &lt; infile | grep -o \"('hello[^(]*)\"\n('hello My name is jamie blabla xyz&gt;&gt;)\n('hello My name is kat blabla blablabla x2&gt;&gt;)\n('hello My name is oliver xv&gt;&gt;)\n</code></pre>\n\n<p><code>tr</code> replaces all newlines with spaces, the grep extracts all expressions in parentheses that start with <code>'hello</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1454093167, "creation_date": 1454093167, "answer_id": 35091821, "question_id": 35087806, "link": "https://stackoverflow.com/questions/35087806/grep-for-string-but-within-bounds/35091821#35091821", "title": "Grep for string, but within bounds", "body": "<p>Using <code>perl</code>, I would do it like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = \")\\n\";\n\nwhile  ( &lt;DATA&gt; ) { \n    s/\\n(?!$)/ /g;\n    print if /hello/;\n}\n\n__DATA__\n('hello\nMy name is\njamie\nblabla\nxyz&gt;&gt;)\n('hello\nMy name is\nkat\nblabla\nblablabla\nx2&gt;&gt;)\n('hello\nMy name is\noliver\nxv&gt;&gt;)\n</code></pre>\n\n<p>This explicitly removes linefeeds, to match your desired result. However you don't actually need to:</p>\n\n<pre><code>while  ( &lt;DATA&gt; ) { \n    print if /jamie/;\n}\n</code></pre>\n\n<p>Works just fine, and gives:</p>\n\n<pre><code>('hello\nMy name is\njamie\nblabla\nxyz&gt;&gt;)\n</code></pre>\n\n<p>That's written out long hand for clarity - you can reduce to a one liner:</p>\n\n<pre><code>perl -ne 'BEGIN{$/=')'} print if m/jamie/' filename\n</code></pre>\n\n<p>(This also accepts piped information). </p>\n"}], "owner": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 35088020, "answer_count": 4, "score": 1, "last_activity_date": 1454093167, "creation_date": 1454080436, "last_edit_date": 1454081090, "question_id": 35087806, "link": "https://stackoverflow.com/questions/35087806/grep-for-string-but-within-bounds", "title": "Grep for string, but within bounds", "body": "<p>I've been trying to filter a file which has several repetitions of lines which looks as follows:</p>\n\n<pre><code>('hello\nMy name is\njamie\nblabla\nxyz&gt;&gt;)\n('hello\nMy name is\nkat\nblabla\nblablabla\nx2&gt;&gt;)\n('hello\nMy name is\noliver\nxv&gt;&gt;)\n</code></pre>\n\n<p>I am trying to merge all lines between (' and >>) into a single line and then grep for a pattern. </p>\n\n<pre><code>awk '/('hello/{if (NR!=1)print \"\";next}{print $0}END{print \"\";}'\n</code></pre>\n\n<p>seems to produce slightly weird results, by adding an extra blank line between these chunks of lines, however not sure if I can combine them somehow.</p>\n\n<p>By merging lines, I am expecting an output as follows:</p>\n\n<pre><code>('hello My name is jamie blabla xyz&gt;&gt;)\n('hello My name is kat blabla blablabla x2&gt;&gt;)\n('hello My name is oliver xv&gt;&gt;)\n</code></pre>\n\n<p>from which I can grep for any value.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["mysql", "sql", "perl", "foreign-keys"], "comments": [{"owner": {"reputation": 35510, "user_id": 3706016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqmW0.jpg?s=128&g=1", "display_name": "jarlh", "link": "https://stackoverflow.com/users/3706016/jarlh"}, "edited": false, "score": 1, "creation_date": 1454070911, "post_id": 35084646, "comment_id": 57890880, "body": "Add the INSERT statement too. Is it the first insert, i.e an empty table?"}, {"owner": {"reputation": 3411, "user_id": 1595350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/71f08ffccf9fa18d45ace1b1f984335c?s=128&d=identicon&r=PG", "display_name": "STORM", "link": "https://stackoverflow.com/users/1595350/storm"}, "edited": false, "score": 0, "creation_date": 1454070969, "post_id": 35084646, "comment_id": 57890919, "body": "Show the INSERT Statement please"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1454071035, "post_id": 35084646, "comment_id": 57890963, "body": "Also, where&#39;s the Perl part?"}, {"owner": {"reputation": 20094, "user_id": 1832636, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/03182c8b98caa6f9af95e4f4afd7c018?s=128&d=identicon&r=PG", "display_name": "Dan Bracuk", "link": "https://stackoverflow.com/users/1832636/dan-bracuk"}, "edited": false, "score": 2, "creation_date": 1454071497, "post_id": 35084646, "comment_id": 57891267, "body": "Do you know what a foreign key is?"}, {"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1454071733, "post_id": 35084646, "comment_id": 57891418, "body": "please check the update question..."}], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1454071851, "post_id": 35084991, "comment_id": 57891519, "body": "it inserted all the rows, except some rows. let me check."}], "tags": [], "owner": {"reputation": 1106460, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1454071750, "creation_date": 1454071750, "answer_id": 35084991, "question_id": 35084646, "link": "https://stackoverflow.com/questions/35084646/cannot-add-or-update-a-child-row-a-foreign-key-constraint-fails-inserting-usin/35084991#35084991", "title": "Cannot add or update a child row: a foreign key constraint fails: inserting using perl script", "body": "<p>You have two competing constraints:</p>\n\n<ul>\n<li><code>ParentId</code> is a reference to the same table.</li>\n<li><code>ParentId</code> is defined to not be <code>NULL</code>.</li>\n</ul>\n\n<p>When you insert values into a table, the database engine checks the foreign key constraints.  However, you cannot insert even one row.  Either <code>ParentId</code> is <code>NULL</code> -- which violates one constraint -- or <code>ParentId</code> has a value which cannot be in the table.</p>\n\n<p>Hence, allow <code>NULL</code> values for the column.</p>\n"}, {"comments": [{"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1454303494, "post_id": 35088664, "comment_id": 57967151, "body": "i am getting the erro:  Can&#39;t locate object method &quot;SET&quot; via package &quot;FOREIGN_KEY_CHECKS&quot; (perhaps you forgot to load &quot;FOREIGN_KEY_CHECKS&quot;?) at ./perlconnect.sh line 25."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1454338614, "post_id": 35088664, "comment_id": 57986955, "body": "@ashu: these are mysql statements; in your script you need to do e.g. <code>$dbh2-&gt;do( &#39;SET FOREIGN_KEY_CHECKS=0;&#39; )</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1454082964, "creation_date": 1454082964, "answer_id": 35088664, "question_id": 35084646, "link": "https://stackoverflow.com/questions/35084646/cannot-add-or-update-a-child-row-a-foreign-key-constraint-fails-inserting-usin/35088664#35088664", "title": "Cannot add or update a child row: a foreign key constraint fails: inserting using perl script", "body": "<p>Before your loop do</p>\n\n<pre><code>SET FOREIGN_KEY_CHECKS=0;\n</code></pre>\n\n<p>And after do</p>\n\n<pre><code>SET FOREIGN_KEY_CHECKS=1;\n</code></pre>\n"}], "owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 750, "favorite_count": 0, "accepted_answer_id": 35088664, "answer_count": 2, "score": 1, "last_activity_date": 1454082964, "creation_date": 1454070683, "last_edit_date": 1454071787, "question_id": 35084646, "link": "https://stackoverflow.com/questions/35084646/cannot-add-or-update-a-child-row-a-foreign-key-constraint-fails-inserting-usin", "title": "Cannot add or update a child row: a foreign key constraint fails: inserting using perl script", "body": "<p>when i try to insert the values from one profile table to other, i find the following error:</p>\n\n<p><strong>'Cannot add or update a child row: a foreign key constraint fails'</strong></p>\n\n<p>Am i missing something to consider?</p>\n\n<p>As i see its not referring to other table.</p>\n\n<pre><code>CREATE TABLE `profile` (\n`ID` bigint(20) NOT NULL,\n`NAME` varchar(128) COLLATE utf8_bin NOT NULL,\n`PARENTID` bigint(20) NOT NULL,\n`TYPE` varchar(128) COLLATE utf8_bin NOT NULL,\n`KEY` varchar(1000) COLLATE utf8_bin DEFAULT NULL,\n PRIMARY KEY (`ID`),\n UNIQUE KEY `PDB_PR_PARENT` (`PARENTID`,`NAME`),\n CONSTRAINT `PROFILE_PARENTID` FOREIGN KEY (`PARENTID`) REFERENCES `profile` (`ID`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;\n</code></pre>\n\n<p><strong><em>Update:</em></strong></p>\n\n<p>Its first insert, as its migration of data from one db to other db.</p>\n\n<p>I am using the perl script to copy data from profile to PROFILE  table as shown below:</p>\n\n<pre><code>$select = $dbh1-&gt;prepare(\"SELECT * FROM profile\");\n$insert = $dbh2-&gt;prepare(\"INSERT INTO PROFILE VALUES (?,?,?,?,?)\");\n\n$select-&gt;execute;\nwhile ( my @row = $select-&gt;fetchrow_array ) {\n  $insert-&gt;execute(@row);\n  print \"each row\" + @row;\n}\n\n\n**Copy from:** \n\nCREATE TABLE `profile` (\n`ID` bigint(20) NOT NULL,\n`NAME` varchar(128) COLLATE utf8_bin NOT NULL,\n`PARENTID` bigint(20) NOT NULL,\n`TYPE` varchar(128) COLLATE utf8_bin NOT NULL,\n`KEY` varchar(1000) COLLATE utf8_bin DEFAULT NULL,\nPRIMARY KEY (`ID`),\nUNIQUE KEY `PR_PARENT` (`PARENTID`,`NAME`),\nCONSTRAINT `PROFILE_PARENTID` FOREIGN KEY (`PARENTID`) REFERENCES           `profile` (`ID`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;\n</code></pre>\n\n<p><strong>Copy to table:</strong></p>\n\n<pre><code>CREATE TABLE `PROFILE` (\n`ID` bigint(20) NOT NULL,\n`NAME` varchar(128) NOT NULL,\n`PARENTID` bigint(20) NOT NULL,\n`TYPE` varchar(128) NOT NULL,\n`KEY` varchar(1000) DEFAULT NULL,\nPRIMARY KEY (`ID`),\nUNIQUE KEY `PR_PARENT` (`PARENTID`,`NAME`),\nCONSTRAINT `PROFILE_PARENTID` FOREIGN KEY (`PARENTID`) REFERENCES `PROFILE`\n(`ID`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1454067600, "post_id": 35082882, "comment_id": 57888906, "body": "More information on constant variables and typeglobs can also be found in  Chapter 7 in <a href=\"http://shop.oreilly.com/product/0636920012702.do\" rel=\"nofollow noreferrer\">Mastering Perl</a> and chapter 1.21 in <a href=\"http://shop.oreilly.com/product/9780596003135.do\" rel=\"nofollow noreferrer\">Perl Cookbook</a>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1454068007, "post_id": 35082882, "comment_id": 57889186, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4865447/demystifying-the-perl-glob\">Demystifying the Perl glob (*)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1454065702, "last_edit_date": 1592644375, "creation_date": 1454065702, "answer_id": 35082983, "question_id": 35082882, "link": "https://stackoverflow.com/questions/35082882/what-do-perl-identifiers-starting-with-an-asterisk-represent/35082983#35082983", "title": "What do Perl identifiers starting with an asterisk * represent?", "body": "<p><code>*</code> in perl denotes a <a href=\"http://perldoc.perl.org/perldata.html#Typeglobs-and-Filehandles\" rel=\"nofollow noreferrer\">typeglob</a></p>\n<blockquote>\n<p>Perl uses an internal type called a typeglob to hold an entire symbol table entry. The type prefix of a typeglob is a * , because it represents all types. This used to be the preferred way to pass arrays and hashes by reference into a function, but now that we have real references, this is seldom needed.</p>\n<p>The main use of typeglobs in modern Perl is create symbol table aliases. This assignment:</p>\n<p><code>*this = *that;</code></p>\n<p>makes <code>$this</code> an alias for <code>$that</code>, <code>@this</code> an alias for <code>@that</code>, <code>%this</code> an alias for <code>%that</code>, <code>&amp;this</code> an alias for <code>&amp;that</code>, etc. Much safer is to use a reference.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 3, "creation_date": 1454089721, "post_id": 35083240, "comment_id": 57903497, "body": "@mattfreake: It&#39;s not the typeglob that makes it read-only, it&#39;s that it&#39;s pointing at a Perl string literal, which is inherently unmodifiable. If I say <code>*var_b = \\$var_a</code> then I have made <code>$var_b</code> refer to the same place as <code>$var_a</code>, which is read-write"}, {"owner": {"reputation": 701, "user_id": 2492255, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a053202d64973d3859180dd86542c541?s=128&d=identicon&r=PG", "display_name": "vts", "link": "https://stackoverflow.com/users/2492255/vts"}, "edited": false, "score": 0, "creation_date": 1541597111, "post_id": 35083240, "comment_id": 93269487, "body": "hi @Borodin, could you share more on why $VALID_NAME_REG_EX is read-only in this case? I posted a new question at: <a href=\"https://stackoverflow.com/questions/53190329/perl-where-to-find-deep-knowledge-on-a-read-only-variable-created-by-var-0\" title=\"perl where to find deep knowledge on a read only variable created by var 0\">stackoverflow.com/questions/53190329/&hellip;</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 8, "last_activity_date": 1454089794, "last_edit_date": 1454089794, "creation_date": 1454066405, "answer_id": 35083240, "question_id": 35082882, "link": "https://stackoverflow.com/questions/35082882/what-do-perl-identifiers-starting-with-an-asterisk-represent/35083240#35083240", "title": "What do Perl identifiers starting with an asterisk * represent?", "body": "<pre><code>*VALID_NAME_REG_EX = \\\"[ a-zA-Z0-9_#.:@=-]+\";\n</code></pre>\n\n<p>The effect this has is to assign <code>$VALID_NAME_REG_EX</code> as an identifier for the Perl string literal <code>\"[ a-zA-Z0-9_#.:@=-]+\"</code></p>\n\n<p>This is different from saying </p>\n\n<pre><code>$VALID_NAME_REG_EX = \"[ a-zA-Z0-9_#.:@=-]+\"\n</code></pre>\n\n<p>which <em>copies</em> the string into the space assigned to <code>$VALID_NAME_REG_EX</code> so it may later be altered</p>\n\n<p>Perl literals have to be read-only to make any sense, so the result of the assignment is to make <code>$VALID_NAME_REG_EX</code> a <em>read-only</em> variable, otherwise known as a constant. If you try assigning to it you will get a message something like</p>\n\n<blockquote>\n  <p>Modification of a read-only value attempted</p>\n</blockquote>\n"}], "owner": {"reputation": 75, "user_id": 5856722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15253fb3a10748ae47b7ebc3c9c1d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Ranjan Singh", "link": "https://stackoverflow.com/users/5856722/ravi-ranjan-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 1, "accepted_answer_id": 35083240, "answer_count": 2, "score": 5, "last_activity_date": 1454089794, "creation_date": 1454065390, "last_edit_date": 1454065880, "question_id": 35082882, "link": "https://stackoverflow.com/questions/35082882/what-do-perl-identifiers-starting-with-an-asterisk-represent", "title": "What do Perl identifiers starting with an asterisk * represent?", "body": "<p>I have this sub-routine which has identifiers defined like</p>\n\n<pre><code>*VALID_NAME_REG_EX = \\\"[ a-zA-Z0-9_#.:@=-]+\";\n*MACRO_VALID_NAME  = \\\"MACRO_VALID_NAME\";\n</code></pre>\n\n<p>I looked into the file further. They are referenced as <code>$MACRO_VALID_NAME</code>.</p>\n\n<p>I guess it's substituting the value with right side of string, but I am not sure of this and want a confirmation. </p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1454064627, "post_id": 35082595, "comment_id": 57887115, "body": "Probably, but this is almost certainly an XY problem - the whole point of using modules is isolating namespaces and you&#39;re trying to subvert that. Step back, and look at what you&#39;re <i>actually trying to accomplish</i>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1454074125, "post_id": 35082595, "comment_id": 57892998, "body": "Passing the hashes as parameters to <code>sub2()</code> and <code>sub3()</code> sounds like exactly the right thing to do. It&#39;s very unlikely that using global variables will give you a better-engineered solution."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454090163, "post_id": 35082595, "comment_id": 57903720, "body": "I hope they&#39;re actually called <code>Sub1.pm</code>, <code>Sub2.pm</code> and <code>Sub3.pm</code> or dieally something much more descriptive? Lower-case package names are reserved for <i>pragmas</i>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "edited": false, "score": 0, "creation_date": 1454064886, "post_id": 35082661, "comment_id": 57887278, "body": "sorry I am a novice in perl. what is this XY?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1454065820, "post_id": 35082661, "comment_id": 57887869, "body": "The package name. But if you&#39;re a novice with perl, that&#39;s even more reason why this is a bad idea."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1454074423, "post_id": 35082661, "comment_id": 57893182, "body": "So if you have your global variable in your calling script %hash1 (which implicit is the package main) you would declare it with our %hash1; and use it as %main::hash1 in the subs. (or $main::hash1{key1} for that...)"}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "edited": false, "score": 0, "creation_date": 1454074492, "post_id": 35082661, "comment_id": 57893222, "body": "I don&#39;t understand why this is a bad idea. let&#39;s say I have around 10 subroutines. Instead of passing it every time it&#39;s better to make them visible globally right."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1454074602, "post_id": 35082661, "comment_id": 57893299, "body": "I guess you probably should/could write another package (maybe as a singleton) which would keep/manage this data for you."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 6, "creation_date": 1454074891, "post_id": 35082661, "comment_id": 57893515, "body": "No, it&#39;s not. The whole reason we use packages and subroutines is to get as far away as possible from global variables. Using global variables inevitably leads to hard to track down at-a-distance bugs as your codebase grows. The reason for packages and subroutines is to keep namespaces clean, and to reduce this action-at-a-distance. Imagine you have 10 subs, and you add an 11th. In there, you change variable <code>$x</code>, but you forgot that <code>$x</code> was previously used somewhere else for something else. Now something breaks far away from this new code, and you have to struggle to figure out wtf happened."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 4, "creation_date": 1454076073, "post_id": 35082661, "comment_id": 57894287, "body": "Quoting from <a href=\"http://c2.com/cgi/wiki?GlobalVariablesAreBad\" rel=\"nofollow noreferrer\">c2.com/cgi/wiki?GlobalVariablesAreBad</a>  Really Bad Reasons to Use Global Variables: ...      &quot;I don&#39;t want to pass it around all the time.&quot;"}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 0, "last_activity_date": 1454064934, "last_edit_date": 1454064934, "creation_date": 1454064758, "answer_id": 35082661, "question_id": 35082595, "link": "https://stackoverflow.com/questions/35082595/how-to-declare-a-variable-globally-so-that-its-visible-for-all-perl-modules/35082661#35082661", "title": "How to declare a variable globally so that it&#39;s visible for all perl modules?", "body": "<p>Every variable you declare in a module XY with </p>\n\n<pre><code>our $var;\nour %hash;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>use vars qw($var %hash);\n</code></pre>\n\n<p>is declared global and available as </p>\n\n<pre><code>$XY::var\n%XY::hash;\n</code></pre>\n\n<p>in every other perl-module (if the module has already been used/required).</p>\n\n<p>HTH</p>\n"}, {"tags": [], "owner": {"reputation": 1109, "user_id": 4585960, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097867072505/picture?type=large", "display_name": "Kenny Grage", "link": "https://stackoverflow.com/users/4585960/kenny-grage"}, "is_accepted": false, "score": 2, "last_activity_date": 1454089936, "creation_date": 1454089936, "answer_id": 35090918, "question_id": 35082595, "link": "https://stackoverflow.com/questions/35082595/how-to-declare-a-variable-globally-so-that-its-visible-for-all-perl-modules/35090918#35090918", "title": "How to declare a variable globally so that it&#39;s visible for all perl modules?", "body": "<p>When you declare non-global variables, it is done by putting \"my\" in front of it. i.e.:</p>\n\n<p><code>my $local_variable = 4;</code> </p>\n\n<p>What you are wanting to do is replace the \"my\" with \"our\" and make sure it is placed outside of a subroutine. i.e.: </p>\n\n<p><code>our $global_variable = 4;</code> </p>\n\n<p>If you wish to use it in other modules, you can add it by the following: </p>\n\n<p><code>use vars qw($global_variable);</code></p>\n\n<p>Now that I told you how to do it, I am going to tell you not to do it. It is strongly discouraged to use global variables. You should use local variables whenever you can. The reason for this is because if you are ever working on a larger project or a project with multiple coders, then you might find unknown errors as certain variables might not equal what you expect them to because they were changed elsewhere.</p>\n"}], "owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1454089936, "creation_date": 1454064533, "last_edit_date": 1454073979, "question_id": 35082595, "link": "https://stackoverflow.com/questions/35082595/how-to-declare-a-variable-globally-so-that-its-visible-for-all-perl-modules", "title": "How to declare a variable globally so that it&#39;s visible for all perl modules?", "body": "<p>Hi I have a perl script named main.pl. This perl script is calling three perl modules named <code>sub1.pm</code>, <code>sub2.pm</code>, and <code>sub3.pm</code>. <code>sub.pm</code> is returning three hashes which are being used in <code>sub2.pm</code> and <code>sub3.pm</code>. I am passing the hashes as input parameter to sub2 and sub3. Instead is there any way that I can declare the hashes globally so that it will be visible to these two perl modules?</p>\n"}, {"tags": ["mysql", "database", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1454059658, "post_id": 35080491, "comment_id": 57883986, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/9607249/connecting-to-multiple-databases-in-a-perl-script\">Connecting to multiple databases in a perl script</a>"}, {"owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "edited": false, "score": 1, "creation_date": 1454102610, "post_id": 35080491, "comment_id": 57910461, "body": "&quot;i am getting error while running the script&quot; For future reference, it&#39;s always helpful to include those error messages in your question."}], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1454061696, "post_id": 35080929, "comment_id": 57885273, "body": "Please check the edited question. I am trying to copy the data from one datbase table to another database table. but i dont know how to join the statements in perl script"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1454062541, "post_id": 35080929, "comment_id": 57885773, "body": "@ashu: Okay, I&#39;ve added an update to my solution. You can&#39;t <b><i>&quot;join the statements in the Perl script&quot;</i></b> \u2014 you simply have to read the data from one table and then insert it into the other"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1454064933, "post_id": 35080929, "comment_id": 57887310, "body": "@ashu: Well I can&#39;t tell you how to generate data for the <code>lastname</code> column, but the array <code>@row</code> contains the values for all columns from <code>db1</code>. You can use named scalar variables instead of an array as I have shown in my solution"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 8, "last_activity_date": 1454064862, "last_edit_date": 1592644375, "creation_date": 1454059542, "answer_id": 35080929, "question_id": 35080491, "link": "https://stackoverflow.com/questions/35080491/perl-script-to-connect-two-databases-at-same-time/35080929#35080929", "title": "perl script to connect two databases at same time", "body": "<p>At a guess, you're trying to use the same database handle to connect to both databases. If you need to operate two separate connections then you need two separate handles</p>\n<p>This program uses the <code>data_sources</code> class method to discover all of the available MySQL databases and creates a connection to each of them, putting the handles in the array <code>@dbh</code>. You can use each element of that array as normal, for instance</p>\n<pre><code>my $stmt = $dbh[0]-&gt;prepare('SELECT * FROM table)\n</code></pre>\n<p>It may be that you prefer to set up the <code>@databases</code> array manually, or the username and password may be different for the two data sources, so some variation on this may be necessary</p>\n<pre><code>use strict;\nuse warnings 'all';\n\nuse DBI;\n\nmy $user = 'username';\nmy $pass = 'password';\n\nmy @databases = DBI-&gt;data_sources('mysql');\n\nmy @dbh = map { DBI-&gt;connect($_, $user, $pass) } @databases;\n</code></pre>\n<br/>\n<hr />\n<h3>Update</h3>\n<p>You need to <em>select</em> data from the source table, <em>fetch</em> it one row at a time, and <em>insert</em> each row into the destination table</p>\n<p>Here's an idea how that might work, but you need to adjust the number of question marks in the <code>VALUES</code> of the <code>INSERT</code> statement to match the number of columns</p>\n<p>Note that, if you're just intending to copy the whole dataset, there aree better ways to go about this. In particular, if you have any foreign key constraints then you won't be able to add data until the table it it is dependent on is populated</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nuse DBI;\n\nmy $userid   = &quot;userhead&quot;;\nmy $password = &quot;pwdhead&quot;;\n\nmy ($dbase1, $dbase2) = qw/ db1 db2 /;\n\nmy $dsn1 = &quot;DBI:mysql:database=$dbase1&quot;;\nmy $dsn2 = &quot;DBI:mysql:database=$dbase2&quot;;\n\nmy $dbh1 = DBI-&gt;connect($dsn1, $userid, $password ) or die $DBI::errstr;\nmy $dbh2 = DBI-&gt;connect($dsn2, $userid, $password ) or die $DBI::errstr;\n\nmy $select = $dbh1-&gt;prepare(&quot;SELECT * FROM Persons&quot;);\nmy $insert = $dbh2-&gt;prepare(&quot;INSERT INTO Persons VALUES (?, ?, ?, ?, ?)&quot;);\n\n$select-&gt;execute;\nwhile ( my @row = $select-&gt;fetchrow_array ) {\n    $insert-&gt;execute(@row);\n}\n</code></pre>\n<p>If you need to handle the columns from the source data separately then you can use named scalars instead of the array <code>@row</code>. Like this</p>\n<pre><code>while ( my ($id, $name) = $select-&gt;fetchrow_array ) {\n    my $lastname = '';\n    $insert-&gt;execute($id, $name, $lastname);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "is_accepted": false, "score": 1, "last_activity_date": 1454099846, "creation_date": 1454099846, "answer_id": 35093612, "question_id": 35080491, "link": "https://stackoverflow.com/questions/35080491/perl-script-to-connect-two-databases-at-same-time/35093612#35093612", "title": "perl script to connect two databases at same time", "body": "<p>Plan A (especially if one-time task):</p>\n\n<p>Run <code>mysqldump</code> on the source machine; feed the output to <code>mysql</code> on the target machine.  This will be much faster and simpler.  If you are on a Unix machine, do it with an <code>exec()</code> from Perl (if you like).</p>\n\n<p>Plan B (especially if repeated task):</p>\n\n<p>If the table is not \"too big\", do one <code>SELECT</code> to fetch all the rows into an array in Perl.  Then <code>INSERT</code> the rows into the target machine.  This can be sped up (with some effort) if you build a multi-row <code>INSERT</code> or create a CSV file and use <code>LOAD DATA</code> instead of <code>INSERT</code>.</p>\n"}], "owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2130, "favorite_count": 0, "accepted_answer_id": 35080929, "answer_count": 2, "score": 4, "last_activity_date": 1454099846, "creation_date": 1454058014, "last_edit_date": 1454061633, "question_id": 35080491, "link": "https://stackoverflow.com/questions/35080491/perl-script-to-connect-two-databases-at-same-time", "title": "perl script to connect two databases at same time", "body": "<p>I am trying to connect to 2 databases on the same instance of MySQL from 1 Perl script.</p>\n\n<p>I am using this in a migration script where I am grabbing data from the original database and inserting it into the new one.</p>\n\n<p>Connecting to 1 database and then trying to initiate a second connection with the same user just changes the current database to the new one.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nuse strict;\n\nmy $driver = \"mysql\";\nmy $database1 = \"db1\";\nmy $dsn1 = \"DBI:$driver:database=$database1\";\nmy $userid = \"userhead\";\nmy $password = \"pwdhead\";\nmy $database2 = \"db2\";\nmy $dsn2 = \"DBI:$driver:database=$database2\";\n\nmy $dbh1 = DBI-&gt;connect($dsn1, $userid, $password ) or die $DBI::errstr;\nmy $dbh2 = DBI-&gt;connect($dsn2, $userid, $password ) or die $DBI::errstr;\n\nmy $sth = $dbh2-&gt;prepare(\"INSERT INTO Persons\") $dbh1-&gt;prepare(\"SELECT *FROM Persons\");\n$sth-&gt;execute() or die $DBI::errstr;\nprint \"Number of rows found :\" + $sth-&gt;rows;\n</code></pre>\n\n<p>In the above example i am trying to copy from one database table to another datbase table. but i am getting error while running the script. Please help me out</p>\n"}, {"tags": ["perl", "download", "lwp"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 3975312, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6e513bf214eaa219b59809a8a1709ca8?s=128&d=identicon&r=PG&f=1", "display_name": "frrrt", "link": "https://stackoverflow.com/users/3975312/frrrt"}, "edited": false, "score": 0, "creation_date": 1454322361, "post_id": 35081137, "comment_id": 57976068, "body": "Thanks a lot. I&#39;m afraid the problem might be the firewall of my company, so I&#39;ll check the LWP::UserAgent module."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1454061660, "last_edit_date": 1454061660, "creation_date": 1454060149, "answer_id": 35081137, "question_id": 35080151, "link": "https://stackoverflow.com/questions/35080151/file-download-via-lwp-returns-error-500-probably-timeout-due-to-long-waiting-ti/35081137#35081137", "title": "File download via LWP returns error 500 (probably timeout due to long waiting time)", "body": "<p>Your code ran successfully the first time I tried it. I suspect that the site may have been busy when you first tested</p>\n\n<p>To make the kind of changes that you are asking about you need the full <a href=\"http://metacpan.org/module/LWP::UserAgent\" rel=\"nofollow\"><code>LWP::UserAgent</code></a> module, but I think your code should work for you if you keep trying a few times</p>\n"}], "owner": {"reputation": 89, "user_id": 3975312, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6e513bf214eaa219b59809a8a1709ca8?s=128&d=identicon&r=PG&f=1", "display_name": "frrrt", "link": "https://stackoverflow.com/users/3975312/frrrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 35081137, "answer_count": 1, "score": 2, "last_activity_date": 1454061660, "creation_date": 1454056834, "last_edit_date": 1454059515, "question_id": 35080151, "link": "https://stackoverflow.com/questions/35080151/file-download-via-lwp-returns-error-500-probably-timeout-due-to-long-waiting-ti", "title": "File download via LWP returns error 500 (probably timeout due to long waiting time)", "body": "<p>I'm pretty new to Perl and just tried to use a simple and small script to download a file. It works on most websites, but it seems like it is not working on the one particular website I need to download a file from.</p>\n\n<p>My code is:</p>\n\n<pre><code>use LWP::Simple;\n\nmy $status = getstore(\"http://www.regelleistung.net/download/ABGERUFENE_MRL_BETR_SOLL-WERTE.CSV\", \"file.csv\");\n\nif ( is_success($status) )\n{\n  print \"file downloaded correctly\\n\";\n}\nelse\n{\n  print \"error downloading file: $status\\n\";\n}\n</code></pre>\n\n<p>I always keep getting error status 500. The file is directly linked on \n<a href=\"https://www.regelleistung.net/ext/data/\" rel=\"nofollow\">https://www.regelleistung.net/ext/data/</a> where you can click on \"MRL\", \"SRL\" and \"RZ_SALDO\".</p>\n\n<p>Also, if I try to download the file via clicking the link in my browser it takes like forever to load before the actual download starts.</p>\n\n<p>I feel like I need <em>getstore()</em> to wait until either it timeouts (say ~60 seconds) or the file is loaded.</p>\n\n<p>Do you have any hint that could help me solve this problem? Using some other library or method? Even keyworks might be helpful, since I actually don't know what I could search for on Google.</p>\n"}, {"tags": ["perl", "ubuntu", "installation", "perl-module"], "comments": [{"owner": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 0, "creation_date": 1454055883, "post_id": 35079865, "comment_id": 57881728, "body": "Even you don&#39;t use some of the modules, you still want to install them all ?"}, {"owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "reply_to_user": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 1, "creation_date": 1454056146, "post_id": 35079865, "comment_id": 57881882, "body": "If it does not take too much space (&gt;5 GB or so), I would not mind having them. I work behind a proxy, so setting up an automatic installer is hard, and hand-updating modules every now and then is just too much hassle."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1454075186, "post_id": 35081597, "comment_id": 57893678, "body": "might want to add something about using <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">Perlbrew</a>, instead of messing with the system perl. It doesn&#39;t take much to hose your system mucking with it."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1454079448, "post_id": 35081597, "comment_id": 57896694, "body": "I was just answering the question ;--) Modern Perl best practices are a different topic."}], "tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": false, "score": 7, "last_activity_date": 1454061576, "creation_date": 1454061576, "answer_id": 35081597, "question_id": 35079865, "link": "https://stackoverflow.com/questions/35079865/how-to-install-all-perl-modules-at-once-in-ubuntu/35081597#35081597", "title": "How to install all perl modules at once in Ubuntu", "body": "<p>Instead of installing everything, why not use <a href=\"https://metacpan.org/pod/CPAN::Mini\">CPAN::Mini</a> to get them all on your local machine. Then you can install the ones you need when you need them.</p>\n"}, {"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 1, "last_activity_date": 1454061591, "creation_date": 1454061591, "answer_id": 35081605, "question_id": 35079865, "link": "https://stackoverflow.com/questions/35079865/how-to-install-all-perl-modules-at-once-in-ubuntu/35081605#35081605", "title": "How to install all perl modules at once in Ubuntu", "body": "<p>[Answer based on \"Why?\" provided in comments]</p>\n\n<p><em>Based on my personal experience:</em><br>\nAlmost all perl modules required for serious development are available as ubuntu/debian packages<br>\ne.g. Net::DBus perl package is provided by <code>libnet-dbus-perl</code> ubuntu/debian package.</p>\n\n<p>You may install ubuntu/debian packages and keeping system itself up to date will update your installed perl modules.</p>\n"}, {"tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": true, "score": 3, "last_activity_date": 1454102314, "creation_date": 1454102314, "answer_id": 35094226, "question_id": 35079865, "link": "https://stackoverflow.com/questions/35079865/how-to-install-all-perl-modules-at-once-in-ubuntu/35094226#35094226", "title": "How to install all perl modules at once in Ubuntu", "body": "<p>As others have said, you probably don't want to.</p>\n\n<ul>\n<li>Many modules are updated more frequently on CPAN than the Ubuntu repos</li>\n<li>Some modules aren't in the repos at all.</li>\n<li>Many modules will have dependencies you don't need.</li>\n<li>If you ever need more than one environment, it's a problem (although to be fair, this is generally a much rarer occurrence with perl than with other ecosystems).</li>\n<li><code>perlbrew</code> and <code>cpanm</code> are lovely and don't require `sudo</li>\n<li>It's not a replacement for proper dependency management as if you ever have a distro upgrade, not all packages may be provided next time.</li>\n</ul>\n\n<p>... however, if you're determined, a very straightforward way would be to look at the output of </p>\n\n<pre><code>sudo apt-get search perl | sed -e 's/ - .*//'\n</code></pre>\n\n<p>... and if it's to your liking, run</p>\n\n<pre><code>sudo apt-get search perl | sed -e 's/ - .*//' | xargs sudo apt-get install\n</code></pre>\n\n<p>Personally, I'd probably stick a <code>| egrep '-perl' |</code> in there, too before the <code>xargs</code>, as you might get hits based on the description that don't represent actual perl modules.</p>\n"}], "owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4319, "favorite_count": 0, "accepted_answer_id": 35094226, "answer_count": 3, "score": 3, "last_activity_date": 1454102314, "creation_date": 1454055778, "question_id": 35079865, "link": "https://stackoverflow.com/questions/35079865/how-to-install-all-perl-modules-at-once-in-ubuntu", "title": "How to install all perl modules at once in Ubuntu", "body": "<p>I want to install all available perl modules at once in Ubuntu.\nIs such a thing possible?</p>\n"}, {"tags": ["html", "apache", "perl", "video", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1454069469, "last_edit_date": 1454069469, "creation_date": 1454068628, "answer_id": 35084002, "question_id": 35079483, "link": "https://stackoverflow.com/questions/35079483/cant-play-the-video-with-the-cgi-script/35084002#35084002", "title": "cant play the video with the cgi script", "body": "<p>The \"src\" attribute on the <code>&lt;source&gt;</code> element requires a URL, not a filesystem path. If the source you give is:</p>\n\n<p>home/praveen/ubuntu_Workspace/c/video.mp4</p>\n\n<p>This is a relative URL and (assuming no web server rewrite rules) the server will assume that the \"home\" refers to a directory called \"home\" which is a subdirectory of the directory where your HTML file is. And that doesn't exist, so you get a \"file does not exist\" error.</p>\n\n<p>If the source you give is:</p>\n\n<p>/home/praveen/ubuntu_Workspace/c/video.mp4</p>\n\n<p>This is an absolute URL and (again, assuming no web server rewrite rules) the server will look for the \"home\" directory in the root of the web space on the server. That's probably <code>/var/www/</code> or something like that. Again, the directory doesn't exist and you'll get the same error.</p>\n\n<p>Your web server only has access to files within the web space.That's a security feature. You really don't want to go changing that.</p>\n\n<p>The solution to this is to move your video files into a directory inside the web space for this host.</p>\n\n<p><strong>Update:</strong> One other option would be to configure your web server to support <a href=\"https://httpd.apache.org/docs/2.4/howto/public_html.html\" rel=\"nofollow\">per-user web directories</a> and to put the video files in there.</p>\n"}], "owner": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454069469, "creation_date": 1454054314, "last_edit_date": 1454065054, "question_id": 35079483, "link": "https://stackoverflow.com/questions/35079483/cant-play-the-video-with-the-cgi-script", "title": "cant play the video with the cgi script", "body": "<p>I really don't know the how to ask this.\nI am trying to play the video file from <code>cgi-script</code>.</p>\n\n<p>Here is my code(it is working):</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse CGI;\n\nmy $cgi = CGI-&gt;new;\n\nprint $cgi-&gt;header(\n        -type=&gt; \"text/html\" );\n\nprint &lt;&lt;EOF;\n&lt;video width=\"320\" height=\"240\" controls&gt;\n&lt;source src='http://127.0.0.1/video.mp4' type='video/mp4'&gt;\nYour browser does not support the video tag.\n&lt;/video&gt; \nEOF\n</code></pre>\n\n<p>In the <code>&lt;source&gt;</code> I am giving path of the video.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse CGI;\n\nmy $cgi = CGI-&gt;new;\n\nprint $cgi-&gt;header(\n        -type=&gt; \"text/html\" );\n\nprint &lt;&lt;EOF;\n&lt;video width=\"320\" height=\"240\" controls&gt;\n   &lt;source src=\"home/praveen/ubuntu_Workspace/c/video.mp4\" type=\"video/mp4\"&gt;\nYour browser does not support the video tag.\n&lt;/video&gt; \nEOF\n</code></pre>\n\n<p>In this code the <code>&lt;source&gt;</code> is the path to my local directory. \nHere where i am stuck when i give the path (like <code>/home/praveen/ubuntu_workspace/c/video.mp4</code>) to my local drive it cannot be able to locate the path.</p>\n\n<p>Here is my <code>error.log</code> file is writing:</p>\n\n<pre><code>[Fri Jan 29 13:06:43 2016] [error] [client 127.0.0.1] File does not exist: /usr/lib/cgi-bin/home, referer: http://127.0.0.1/test.cgi\n</code></pre>\n\n<p>After some googling I came to know that in web server it will not serve the html in the context of <code>file:///</code> tree.</p>\n\n<p>Please somebody tell me what should I do to access local files also.(like <code>/home/praveen/../test.mp4</code>. Why it is giving error like that.</p>\n\n<p>Please suggest me on this where I am going wrong.</p>\n"}, {"tags": ["perl", "csv", "hash"], "comments": [{"owner": {"reputation": 1257, "user_id": 928121, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pp9W3.jpg?s=128&g=1", "display_name": "Mark Manning", "link": "https://stackoverflow.com/users/928121/mark-manning"}, "edited": false, "score": 0, "creation_date": 1454051829, "post_id": 35078803, "comment_id": 57879790, "body": "NULL values may not be printed/kept. Try putting a space instead (&#39; &#39;)."}, {"owner": {"reputation": 1257, "user_id": 928121, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pp9W3.jpg?s=128&g=1", "display_name": "Mark Manning", "link": "https://stackoverflow.com/users/928121/mark-manning"}, "edited": false, "score": 0, "creation_date": 1454052171, "post_id": 35078803, "comment_id": 57879911, "body": "I am getting the following with the &#39;&#39; stuff. xnum,st_responsible,critical,last_modified_by,transstatus,rt&zwnj;&#8203;_res 2487,,,teamname,,mname 2564,pname,,teamname,,mname. (This probably shows up squashed.)"}, {"owner": {"reputation": 1257, "user_id": 928121, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pp9W3.jpg?s=128&g=1", "display_name": "Mark Manning", "link": "https://stackoverflow.com/users/928121/mark-manning"}, "edited": false, "score": 0, "creation_date": 1454052260, "post_id": 35078803, "comment_id": 57879961, "body": "This is what I get if I put a space between the single quotes:xnum,st_responsible,critical,last_modified_by,transst&zwnj;&#8203;atus,rt_res 2487,mname,teamname, , , 2564,pname,teamname, , ,mname."}, {"owner": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "reply_to_user": {"reputation": 1257, "user_id": 928121, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pp9W3.jpg?s=128&g=1", "display_name": "Mark Manning", "link": "https://stackoverflow.com/users/928121/mark-manning"}, "edited": false, "score": 1, "creation_date": 1454053743, "post_id": 35078803, "comment_id": 57880629, "body": "@MarkManning: The problem being faced here is the preservation of the hash in the exact order of appearance. It&#39;s alright if there&#39;s no white-space/NULL being inserted at this point of time."}, {"owner": {"reputation": 1257, "user_id": 928121, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pp9W3.jpg?s=128&g=1", "display_name": "Mark Manning", "link": "https://stackoverflow.com/users/928121/mark-manning"}, "reply_to_user": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "edited": false, "score": 0, "creation_date": 1454172543, "post_id": 35078803, "comment_id": 57929601, "body": "@Ghost : Yeah, Jbynek&#39;s answer showed me where I was wrong. I used to be a really big Perl person - now I&#39;m more PHP. But having to relearn since I&#39;m looking at a Perl job now."}, {"owner": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "reply_to_user": {"reputation": 1257, "user_id": 928121, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pp9W3.jpg?s=128&g=1", "display_name": "Mark Manning", "link": "https://stackoverflow.com/users/928121/mark-manning"}, "edited": false, "score": 0, "creation_date": 1454917218, "post_id": 35078803, "comment_id": 58240617, "body": "@MarkManning: Wish you the best of luck in your endeavors. :)"}], "answers": [{"comments": [{"owner": {"reputation": 1257, "user_id": 928121, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pp9W3.jpg?s=128&g=1", "display_name": "Mark Manning", "link": "https://stackoverflow.com/users/928121/mark-manning"}, "edited": false, "score": 0, "creation_date": 1454052778, "post_id": 35078977, "comment_id": 57880211, "body": "Did you notice that both what he is getting and what he wants is the 2487 and then 2564?  Also, did you notice that by putting in a single space into the &#39;&#39; values returns exactly what he said he wanted?"}, {"owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "reply_to_user": {"reputation": 1257, "user_id": 928121, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pp9W3.jpg?s=128&g=1", "display_name": "Mark Manning", "link": "https://stackoverflow.com/users/928121/mark-manning"}, "edited": false, "score": 1, "creation_date": 1454053172, "post_id": 35078977, "comment_id": 57880375, "body": "@MarkManning: No, it doesn&#39;t.  I&#39;m talking about the values in the inner hashes, not the outside and here the issue is completely different. Note the <code>,,,</code> instead of <code>,,</code> and the opposite at the end of the row. Please read the explanation again."}, {"owner": {"reputation": 1257, "user_id": 928121, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pp9W3.jpg?s=128&g=1", "display_name": "Mark Manning", "link": "https://stackoverflow.com/users/928121/mark-manning"}, "edited": false, "score": 0, "creation_date": 1454053466, "post_id": 35078977, "comment_id": 57880516, "body": "ZbynekVyskovsky - I read your explanation and understand it but....well, now the original posting is different so what I saw I thought I was getting.  Now I can see that I am not getting the same."}], "tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": false, "score": 1, "last_activity_date": 1454054115, "last_edit_date": 1454054115, "creation_date": 1454052337, "answer_id": 35078977, "question_id": 35078803, "link": "https://stackoverflow.com/questions/35078803/maintain-order-within-a-hash-of-hashes-and-output-as-csv/35078977#35078977", "title": "Maintain order within a hash of hashes, and output as .csv", "body": "<p>Perl doesn't guarantee the order of items in the hash, this is the root cause of the issue. Even two different hashes with the same keys can have different order of keys. It may also differ from platform to platform and architecture and perl version.</p>\n\n<p>You need to define another array with the list of keys which you want to print in correct order.</p>\n\n<pre><code>my @keys = qw(st_responsible critical last_modified_by transstatus rt_res);\nforeach my $element (@keys) {\n    ... print the value\n}\n</code></pre>\n\n<p>EDIT: As you're trying to write CSV file, consider using <a href=\"http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm\" rel=\"nofollow\">Text::CSV</a> which takes care about special characters, correct formatting and things like that.</p>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1454070633, "last_edit_date": 1454070633, "creation_date": 1454070185, "answer_id": 35084497, "question_id": 35078803, "link": "https://stackoverflow.com/questions/35078803/maintain-order-within-a-hash-of-hashes-and-output-as-csv/35084497#35084497", "title": "Maintain order within a hash of hashes, and output as .csv", "body": "<p>There's probably a slicker way of achieving this, but give this a go: </p>\n\n<pre><code>use warnings;\nuse strict; \n\nopen my $csv_out, '&gt;', 'out.csv' or die $!;\n\nmy @keys = qw(2487 2564);\nmy @vals = qw(st_responsible critical last_modified_by transstatus rt_res);\n\n\nprint $csv_out \"xnum,st_responsible,critical,last_modified_by,transstatus,rt_res\\n\";\n\nfor my $key (@keys){\n    print $csv_out \"$key,\";\n        for my $vals (@vals){\n            $vals eq $vals[-1] ? print $csv_out \"$hash{$key}{$vals}\\n\" : print $csv_out \"$hash{$key}{$vals},\";\n        }\n}\n</code></pre>\n\n<p>This will print out comma-separated values to a csv file <code>out.csv</code> maintaining your original order (by iterating over arrays). If it's the last value it will print a newline.</p>\n\n<p>--- OUTPUT ---</p>\n\n<pre><code>xnum,st_responsible,critical,last_modified_by,transstatus,rt_res\n2487,mname2,,teamname2,,\n2564,mname1,,teamname1,,pname1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 3106744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c2958895f640f1f8da5a35617436ae?s=128&d=identicon&r=PG&f=1", "display_name": "user3106744", "link": "https://stackoverflow.com/users/3106744/user3106744"}, "edited": false, "score": 0, "creation_date": 1454301063, "post_id": 35114851, "comment_id": 57966568, "body": "It works. Thank you very much for providing solution"}, {"owner": {"reputation": 23, "user_id": 3106744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c2958895f640f1f8da5a35617436ae?s=128&d=identicon&r=PG&f=1", "display_name": "user3106744", "link": "https://stackoverflow.com/users/3106744/user3106744"}, "edited": false, "score": 0, "creation_date": 1454313125, "post_id": 35114851, "comment_id": 57970694, "body": "When values contains &#39;,&#39; or any special characters out put of csv is not proper. for example st_responsible&#39; =&gt; &#39;mn, ame/2&#39;,"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 23, "user_id": 3106744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c2958895f640f1f8da5a35617436ae?s=128&d=identicon&r=PG&f=1", "display_name": "user3106744", "link": "https://stackoverflow.com/users/3106744/user3106744"}, "edited": false, "score": 0, "creation_date": 1454316474, "post_id": 35114851, "comment_id": 57972354, "body": "Yes. But your original code has that problem too. To handle that case, using Text::CSV is the tool for the job"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1454250044, "creation_date": 1454250044, "answer_id": 35114851, "question_id": 35078803, "link": "https://stackoverflow.com/questions/35078803/maintain-order-within-a-hash-of-hashes-and-output-as-csv/35114851#35114851", "title": "Maintain order within a hash of hashes, and output as .csv", "body": "<p>I would suggest that for this, you'd be better off doing this with a <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\"><code>slice</code></a>, which is a way of extracting a list of values from a hash in a particular order?</p>\n\n<p></p>\n\n<pre><code>#configure field order\nmy @order = qw ( st_responsible critical last_modified_by transstatus rt_res );\n\n#print header row \nprint join (\",\", \"xnum\", @order ),\"\\n\"; \n#iterate the rows\nforeach my $key ( sort keys %hash ) { \n   #extract hash slice and join it with commas\n   print join ( \",\", $key, @{$hash{$key}}{@order} ),\"\\n\";\n} \n</code></pre>\n\n<p>This gives:</p>\n\n<pre><code>xnum,st_responsible,critical,last_modified_by,transstatus,rt_res\n2487,mname2,,teamname2,,\n2564,mname1,,teamname1,,pname1\n</code></pre>\n\n<p>You can consider <code>Text::CSV</code> - but I'd suggest in this scenario it's overkill, best used when you've got quotes and quoted field separators to worry about. (And you don't). </p>\n\n<p>If you have to deal with not just empty keys, but missing ones, you can make use of <code>map</code>:</p>\n\n<pre><code>my @order = qw ( st_responsible critical last_modified_by \n                 transstatus missing rt_res extra_field_here );\nprint join (\",\", \"xnum\", @order ),\"\\n\"; \nforeach my $key ( sort keys %hash ) { \n   print join ( \",\", $key, map { $_ // '' } @{$hash{$key}}{@order} ),\"\\n\";\n} \n</code></pre>\n\n<p>(Otherwise you'll get a warning about an undef value). </p>\n"}], "owner": {"reputation": 23, "user_id": 3106744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c2958895f640f1f8da5a35617436ae?s=128&d=identicon&r=PG&f=1", "display_name": "user3106744", "link": "https://stackoverflow.com/users/3106744/user3106744"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 35114851, "answer_count": 3, "score": 2, "last_activity_date": 1454250044, "creation_date": 1454051602, "last_edit_date": 1454084881, "question_id": 35078803, "link": "https://stackoverflow.com/questions/35078803/maintain-order-within-a-hash-of-hashes-and-output-as-csv", "title": "Maintain order within a hash of hashes, and output as .csv", "body": "<p>Here's my code: </p>\n\n<pre><code>my %hash = (\n    '2564' =&gt; {\n                'st_responsible' =&gt; 'mname1',\n                'critical' =&gt; '',\n                'last_modified_by' =&gt; 'teamname1',\n                'transstatus' =&gt; '',\n                'rt_res' =&gt; 'pname1'\n                },\n    '2487' =&gt; {\n                'st_responsible' =&gt; 'mname2',\n                'critical' =&gt; '',\n                'last_modified_by' =&gt; 'teamname2',\n                'transstatus' =&gt; '',\n                'rt_res' =&gt; ''\n                }\n);\n\nprint \"xnum,st_responsible,critical,last_modified_by,transstatus,rt_res\\n\";\nforeach my $x_number (sort keys %hash)\n{\n    print \"$x_number\";\n    foreach my $element (keys %{$hash{$x_number}})\n    {\n        print \",$hash{$x_number}{$element}\";\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p><strong>Expected output</strong>  </p>\n\n<pre><code>xnum,st_responsible,critical,last_modified_by,transstatus,rt_res\n2487,mname2,,teamname2,,\n2564,mname1,,teamname1,,pname1\n</code></pre>\n\n<p><strong>Actual output</strong></p>\n\n<pre><code>xnum,st_responsible,critical,last_modified_by,transstatus,rt_res\n2487,mname2,,,teamname2,\n2564,mname1,,,teamname1,pname1\n</code></pre>\n\n<p>Please help in letting me know as to how exactly do I preserve the order of this data structure, and then write this to a <code>CSV</code> file. </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": false, "score": 1, "last_activity_date": 1454051839, "creation_date": 1454051839, "answer_id": 35078859, "question_id": 35078647, "link": "https://stackoverflow.com/questions/35078647/how-to-store-value-from-cut-command-into-a-perl-array/35078859#35078859", "title": "How to store value from cut command into a Perl array?", "body": "<p>You can either split the result by whitespaces:</p>\n\n<pre><code>my @up = split(/\\s+/, `cat abc.txt ...`);\n</code></pre>\n\n<p>Or prior you can set input record separator to space. This one however is not as flexible, it's just simple string so in case there are two spaces in a row it will treat it as empty field in the middle:</p>\n\n<pre><code>local $/ = \" \";\nmy @up = `cat abc.txt ...`;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467554504, "last_edit_date": 1467554504, "creation_date": 1454058080, "answer_id": 35080507, "question_id": 35078647, "link": "https://stackoverflow.com/questions/35078647/how-to-store-value-from-cut-command-into-a-perl-array/35080507#35080507", "title": "How to store value from cut command into a Perl array?", "body": "<p>It looks like you want the first three space-delimited fields of the second line of file <code>abc.txt</code></p>\n\n<p>The problem is that backticks will return one line of output in each element of the array, and because <code>cut</code> prints all three fields on a single line, they appear as a single array element.</p>\n\n<p>You could <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> the value again inside Perl, but when you have the whole of the Perl language available, it's wasteful to use the shell to do something so simple and you should do everything in Perl</p>\n\n<p>This program will do as you ask. I've used <a href=\"http://metacpan.org/module/Data::Dump\" rel=\"nofollow\"><code>Data::Dump</code></a> only so that you can verify that the contents of <code>@up</code> are as you wanted</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump;\n\nmy @up = do {\n    open my $fh, '&lt;', 'abc.txt' or die $!;\n    &lt;$fh&gt;;  # Skip one line\n    (split ' ', &lt;$fh&gt;)[0 .. 2];\n};\n\ndd \\@up;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[\"xxx\", 12, 234]\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5084692, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-my1R_Ea4KSg/AAAAAAAAAAI/AAAAAAAAA8I/nc6j22PR-DY/photo.jpg?sz=128", "display_name": "Sadik Khan", "link": "https://stackoverflow.com/users/5084692/sadik-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1467554504, "creation_date": 1454050877, "last_edit_date": 1454058352, "question_id": 35078647, "link": "https://stackoverflow.com/questions/35078647/how-to-store-value-from-cut-command-into-a-perl-array", "title": "How to store value from cut command into a Perl array?", "body": "<pre><code>my @up = `cat abc.txt|head -2|tail -1|cut -d' ' -f1-3`;\n</code></pre>\n\n<p>Instead of storing the individual fields in the array. It's storing the entire output as a string in the first element.</p>\n\n<p>This is the output I am getting</p>\n\n<pre><code>$up[0] = 'xxx 12 234'\n</code></pre>\n\n<p>I want this</p>\n\n<pre><code>@up = ('xxx', 12, 234)\n</code></pre>\n\n<p>|</p>\n"}, {"tags": ["perl", "ssl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454065873, "post_id": 35078145, "comment_id": 57887908, "body": "Still means your traffic is encrypted in flight, so considerably harder to inspect."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454065992, "post_id": 35078145, "comment_id": 57887990, "body": "@Sobrique: sure, if you put your money in a safe it gets harder to steal. But the problem is if you give the key to the safe to the wrong guy because you don&#39;t validate who he is."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1454048947, "last_edit_date": 1454048947, "creation_date": 1454048585, "answer_id": 35078145, "question_id": 35077584, "link": "https://stackoverflow.com/questions/35077584/certificate-error-in-perl/35078145#35078145", "title": "Certificate error in Perl", "body": "<blockquote>\n  <p>To avoid this error few suggestion is like verify_hostname &amp; verify_ssl to \"0\"</p>\n</blockquote>\n\n<p>If you would follow these suggestions then you should ask yourself why do you use https at all. Because ignoring certificate errors means that man in the middle attacks are possible and thus the protection TLS should offer simply vanishes.</p>\n\n<p>To connect to a server where the certificate cannot be properly validated by normal means you have to use a different kind of verification instead of no verification at all. Support for https in current versions of LWP is realized using <a href=\"https://metacpan.org/pod/IO::Socket::SSL\" rel=\"nofollow\">IO::Socket::SSL</a>. This module offers a simple mechanism to deal with such problems by comparing the fingerprint of the certificate against the expected fingerprint.</p>\n\n<p>First you need to get the current fingerprint of the certificate. This can be done with some <code>openssl</code> commands or if you are sure that there is currently no man in the middle attack you could simply access the server:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Socket::SSL 1.980;\n\nmy $dst = 'bad-cert.example.com';\nmy $cl = IO::Socket::SSL-&gt;new(\n    PeerAddr =&gt; $dst,\n    PeerPort =&gt; 443,\n    # certificate cannot be validated the normal way, so we need to \n    # disable validation this one time in the hope that there is \n    # currently no man in the middle attack \n    SSL_verify_mode =&gt; 0,\n) or die \"connect failed\";\nmy $fp = $cl-&gt;get_fingerprint;\nprint \"fingerprint: $fp\\n\";\n</code></pre>\n\n<p>This will give you a fingerprint with hash algorithm, i.e. something like <code>sha256$55a5dfaaf...</code>. This fingerprint then can be used to validate the certificate in future calls:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Socket::SSL 1.980;\nuse LWP::UserAgent;\n\nmy $dst = ....;   # from above example\nmy $fp = ....;    # from above example\nmy $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; { SSL_fingerprint =&gt; $fp });\nmy $resp = $ua-&gt;get(\"https://$dst\");\nprint $resp-&gt;content;\n</code></pre>\n\n<p>Apart from that please not that there is a reason certificates expire. After the expiration time no more revocations will be tracked. This means you have to really know that this certificate is definitely not revoked, because no CA will tell you.</p>\n"}], "owner": {"reputation": 995, "user_id": 1203446, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5c2b4d495f8628127542c64683c29e4d?s=128&d=identicon&r=PG", "display_name": "Souvik", "link": "https://stackoverflow.com/users/1203446/souvik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2549, "favorite_count": 0, "accepted_answer_id": 35078145, "answer_count": 1, "score": 0, "last_activity_date": 1454048947, "creation_date": 1454045619, "last_edit_date": 1454046923, "question_id": 35077584, "link": "https://stackoverflow.com/questions/35077584/certificate-error-in-perl", "title": "Certificate error in Perl", "body": "<p>I am connecting to a CAS server. But My CAS server certificate is expired and due to this getting below error:</p>\n\n<pre><code>error SSL connect attempt failed error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed unable to connect https://&lt;domain Name&gt;:443/\n</code></pre>\n\n<p>To avoid this error few suggestion is like verify_hostname &amp; verify_ssl to \"0\". But it's not solving the issue. Can anyone help?</p>\n\n<p>Perl version: 5.22<br>\nLWP:6.0.16</p>\n"}, {"tags": ["perl", "remote-server", "tunnel", "ssh-tunnel"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1454047057, "post_id": 35077158, "comment_id": 57877849, "body": "What error do you get?"}, {"owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1454047272, "post_id": 35077158, "comment_id": 57877922, "body": "Actually i am not able to creating tunnel. I Mean not able to use telnet in ssh."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454413948, "post_id": 35085823, "comment_id": 58023601, "body": "Thanks for the response, In gateway attribute how to pass user name and password for gateway server authentication.  Three types of routers are their Cisco, Junipher and Alacatel. Cisco used telnet, Junpher and Alcatel used SSH."}, {"owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454414296, "post_id": 35085823, "comment_id": 58023854, "body": "I have write script used Net::OpenSSH to open tunnel and passed to Net::Telnet::Cisco package to creating new tunnel for router. But, I got following error.  Channel 2: open failed: administratively prohibited: open failed write error: filehanlde isn,t open at &quot;pl file with line number&quot;."}, {"owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454414674, "post_id": 35085823, "comment_id": 58024131, "body": "Following script: my $pe = Net::OpenSSH-&gt;new(&quot;JumpServer&quot;, port =&gt; 3453, user =&gt; &#39;username&#39;, password =&gt; &#39;password&#39;); my($pty, $pid) = $pe-&gt;open_tunnel(&#39;router_ip&#39;, 23); my $telnet = Net::Telnet::Cisco-&gt;new(-fopen =&gt; $pty, -prompt=&gt;&#39;/.*\\$ $/&#39;,-telnetmode=&gt;0,-cmd_remove_mode=&gt;0,-output_record_separa&zwnj;&#8203;tor=&gt;&quot;\\r&quot;); $telnet-&gt;waitfor(-match=&gt;&#39;/username\\:/&#39;.-errmode=&gt;&quot;return&quot;); $telnet-&gt;send_wakeup(&quot;routerusername&quot;); $telnet-&gt;waitfor(-match=&gt;&#39;/password\\:/&#39;.-errmode=&gt;&quot;return&quot;); $telnet-&gt;send_wakeup(&quot;routerpassword&quot;); my @lines = $telnet-&gt;cmd(String=&gt;&quot;sh ver&quot;, Timeout=&gt;10); print @lines; $telnet-&gt;close;"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "reply_to_user": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454416850, "post_id": 35085823, "comment_id": 58025743, "body": "@user3213879: paste the script and the errors you get exactly, unedited, on your original post properly quoted. Otherwise it is impossible to follow what is going on."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "reply_to_user": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454484800, "post_id": 35085823, "comment_id": 58059519, "body": "@Thribhuwan: I have added error checking into my post code. Probably <code>netcat</code> is not available on the gateway. You will have to look there for a similar program (<code>socat</code>, <code>telnet</code>, etc.) and use it instead. Otherwise, if some scripting language (<code>perl</code>, <code>python</code>, <code>ruby</code>, etc.) is available you could use it to implement your own <code>netcat</code> clone."}, {"owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454484996, "post_id": 35085823, "comment_id": 58059608, "body": "I have added error handling code line or die &quot;unable to launch remote netcat: &quot; . $ssh-&gt;error;  But still I getting same error : write error: filehandle isn&#39;t open at test.pl line 43 [Line : my @lines = $telnet-&gt;cmd(String =&gt; &quot;sh ver&quot;, Timeout =&gt; 10);]"}, {"owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454485491, "post_id": 35085823, "comment_id": 58059881, "body": "it is a time consuming and i am new with perl for implementing own netcat. is their any other better way or package to connect with remote server."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "reply_to_user": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454486348, "post_id": 35085823, "comment_id": 58060295, "body": "@Thribhuwan: how do you connect to the remote machine by hand, from the command line?"}, {"owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454488690, "post_id": 35085823, "comment_id": 58061547, "body": "I have connect through putty using ssh command. example : ssh -l username remoteip then press enter after that to ask password:"}, {"owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "edited": false, "score": 0, "creation_date": 1454489358, "post_id": 35085823, "comment_id": 58061976, "body": "I have updated output. when i run the perl script through command line."}, {"owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1454490759, "post_id": 35085823, "comment_id": 58062906, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/102447/discussion-between-thribhuwan-and-salva\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 2, "last_activity_date": 1454484518, "last_edit_date": 1454484518, "creation_date": 1454074289, "answer_id": 35085823, "question_id": 35077158, "link": "https://stackoverflow.com/questions/35077158/how-to-login-and-access-router-from-remote-server-using-netopenssh-perl-packag/35085823#35085823", "title": "How to login and access router from remote server using Net::OpenSSH perl package?", "body": "<p>Try using the never-released-to-CPAN-but-functional <a href=\"https://github.com/salva/p5-Net-OpenSSH-Gateway\" rel=\"nofollow\">Net::OpenSSH::Gateway</a> module.</p>\n\n<p>It may be able to find a way to connect to the remote machine through the gateway for you!</p>\n\n<pre><code>use Net::OpenSSH;\nuse Net::OpenSSH::Gateway;\n\nmy $ssh = Net::OpenSSH-&gt;new($host, user =&gt; $user, ...\n                            gateway =&gt; { proxy =&gt; \"ssh://$gateway\" });\n</code></pre>\n\n<p><strong>Update</strong>: it seems (from the code you have posted below as a comment) that actually, you want to <strong>telnet</strong> into the remote routers. <code>Net::OpenSSH::Gateway</code> can not handle that as it is designed specifically for connecting to remote SSH servers through proxies or gateways.</p>\n\n<p>Also, it seems port forwarding is disabled in the gateway so you can not just create a tunnel using <code>Net::OpenSSH::open_tunnel</code>.</p>\n\n<p>Instead, you will have to find some program in the gateway able to connect to the remote router. For instance, <code>socat</code>, <code>netcat</code>, <code>telnet</code>, etc. and call it through the <code>Net::OpenSSH</code> object.</p>\n\n<p>In example:</p>\n\n<pre><code>my ($pty, $pid) = $ssh-&gt;open2pty(netcat =&gt; $host, $port)\n  or die \"unable to launch remote netcat: \" . $ssh-&gt;error;\n\nmy $telnet = Net::Telnet::Cisco-&gt;new(-fopen =&gt; $pty,\n                                     -prompt =&gt; '/.*\\$ $/',\n                                     -telnetmode =&gt; 0,\n                                     -cmd_remove_mode =&gt; 0,\n                                     -output_record_separator =&gt; \"\\r\");\n</code></pre>\n\n<p>Finally, note that in the code you have posted bellow, you are wrongly using dots (<code>.</code>) instead of commas (<code>,</code>) in a couple of places.</p>\n\n<p><strong>Update 2</strong>: error handling code added.</p>\n"}], "owner": {"reputation": 113, "user_id": 3213879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8a6d2b3346780b7b1ad04e545c96c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Thribhuwan", "link": "https://stackoverflow.com/users/3213879/thribhuwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 723, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1454502256, "creation_date": 1454043286, "last_edit_date": 1454502256, "question_id": 35077158, "link": "https://stackoverflow.com/questions/35077158/how-to-login-and-access-router-from-remote-server-using-netopenssh-perl-packag", "title": "How to login and access router from remote server using Net::OpenSSH perl package?", "body": "<p>I want to access router from remote server through Perl script.</p>\n\n<p>My Perl script located on one server to access remote server on that remote server have accessibility of all routers means two tier architecture is there.</p>\n\n<p>I have tried creating remote server tunnel and then access to router with username and password but no luck.  What should I do?</p>\n\n<p><strong>Update:</strong> Following Script</p>\n\n<pre><code>my $ssh = Net::OpenSSH-&gt;new('RemoteHostIp', port =&gt; 3345, user =&gt; 'username', password =&gt; 'password', 'master_opts' =&gt; [-o =&gt; \"StrictHostKeyChecking=no\"]);\n\nmy ($pty, $pid) = $ssh-&gt;open2pty(netcat =&gt; 'router_ip', 23);\n\nmy $telnet = Net::Telnet::Cisco-&gt;new(-fhopen =&gt; $pty,\n                                     -prompt =&gt; '/.*\\$ $/',\n                                     -telnetmode =&gt; 0,\n                                     -cmd_remove_mode =&gt; 0,\n                                     -output_record_separator =&gt; \"\\r\");\n\n$telnet-&gt;waitfor(-match =&gt; '/username\\:/', -errmode =&gt; \"return\") or die \"login failed : \".$telnet-&gt;lastline;\n$telnet-&gt;send_wakeup(\"routerusername\");\n\n$telnet-&gt;waitfor(-match =&gt; '/password\\:/', -errmode =&gt; \"return\") or die \"login failed : \".$telnet-&gt;lastline;\n$telnet-&gt;send_wakeup(\"routerpassword\");\n\nmy @lines = $telnet-&gt;cmd(String =&gt; \"sh ver\", Timeout =&gt; 10);\n\nprint @lines;\n$telnet-&gt;close;\n</code></pre>\n\n<p><strong>Output:</strong> </p>\n\n<p>Use of /g modifier is meaningless in split at /usr/local/share/perl5/Net/Telnet/Cisco.pm line 756.</p>\n\n<p>|-----------------------------------------------------------------|\n| This system is for the use of authorized users only.            |\n| Individuals using this computer system without authority, or in |\n| excess of their authority, are subject to having all of their   |\n| activities on this system monitored and recorded by system      |\n| personnel.                                                      |\n|                                                                 |\n| In the course of monitoring individuals improperly using this   |\n| system, or in the course of system maintenance, the activities  |\n| of authorized users may also be monitored.                      |\n|                                                                 |\n| Anyone using this system expressly consents to such monitoring  |\n| and is advised that if such monitoring reveals possible         |\n| evidence of criminal activity, system personnel may provide the |\n| evidence of such monitoring to law enforcement officials.       |\n|-----------------------------------------------------------------|</p>\n\n<p>write error: filehandle isn't open at test.pl line 45</p>\n"}, {"tags": ["html", "perl", "parsing"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454043722, "post_id": 35076791, "comment_id": 57876750, "body": "First, what is the question? Second, please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that highlights whatever problem it is that you&#39;re having."}, {"owner": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454046149, "post_id": 35076791, "comment_id": 57877520, "body": "Focused and kept it short and sweet per above request."}, {"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1454083062, "post_id": 35076791, "comment_id": 57899320, "body": "@tlialin I tried to format correctly the for loop at the end of your post. Please review it because I removed one <code>}</code> in the process, which looked like an accident."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454085234, "post_id": 35076791, "comment_id": 57900828, "body": "I rolled the question back to revision 4, which was the original question before it started mutating."}, {"owner": {"reputation": 41745, "user_id": 3093387, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/13nxa.jpg?s=128&g=1", "display_name": "josliber", "link": "https://stackoverflow.com/users/3093387/josliber"}, "edited": false, "score": 0, "creation_date": 1454196424, "post_id": 35076791, "comment_id": 57937853, "body": "@tlialin please stop making large code changes to the question -- if you have a new question please use the &quot;ask question&quot; button."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "edited": false, "score": 0, "creation_date": 1454049330, "post_id": 35078011, "comment_id": 57878719, "body": "OK, invalid elements I can get that.  I see your output and that&#39;s great but I only want certain tags like title and meta description and meta author.  I could write to a file from what you&#39;ve provided and regex that out but I&#39;m at a loss on how to do it all at once.  I also must admit that I can&#39;t get the write to file part to work.  I tried:     my $h = HTTP::Headers-&gt;new;    my $p = HTML::HeadParser-&gt;new($h);    $p-&gt;parse($text);     for ($h-&gt;header_field_names) {        print ($fh1, &quot;%s: %s\\n&quot;, $_, $h-&gt;header($_));    }           } with no luck."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "edited": false, "score": 0, "creation_date": 1454049458, "post_id": 35078011, "comment_id": 57878784, "body": "I have no idea what you expect the output format to look like."}, {"owner": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "edited": false, "score": 0, "creation_date": 1454049572, "post_id": 35078011, "comment_id": 57878829, "body": "Sure, sorry.  CSV file, one line per input file.  Something like:  Title,Meta-Author,Meta-Description, &lt;link to raw data file&gt; so someone can open in excel easily."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "edited": false, "score": 0, "creation_date": 1454085388, "post_id": 35078011, "comment_id": 57900938, "body": "@tlialin You can&#39;t keep expanding the scope of the question indefinitely. If you have a different problem, ask a different question. I&#39;ve rolled your question back to the most minimal code snippet that actually exhibits the main problem you&#39;re asking about."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "edited": false, "score": 0, "creation_date": 1454085636, "post_id": 35078011, "comment_id": 57901121, "body": "@tlialin Also read about <a href=\"http://stackoverflow.com/help/someone-answers\">what you should do when someone answers your question</a>. You&#39;ve asked a bunch of questions without accepting any answers, which some people on SO would consider rude."}, {"owner": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "edited": false, "score": 0, "creation_date": 1454086109, "post_id": 35078011, "comment_id": 57901428, "body": "Just accepted your answer.  I&#39;ll ask my new question in a different post. Thanks"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1454050454, "last_edit_date": 1454050454, "creation_date": 1454047990, "answer_id": 35078011, "question_id": 35076791, "link": "https://stackoverflow.com/questions/35076791/html-tag-parsing-and-write-to-file-with-perl/35078011#35078011", "title": "HTML tag parsing and write to file with Perl", "body": "<p>Your HTML is invalid. (<code>&lt;description&gt;</code> and <code>&lt;keyword&gt;</code> are not valid elements.)</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse HTML::HeadParser;\nuse HTTP::Headers;\n\nmy $text = &lt;&lt;'EOF';\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;Foo Bar Baz&lt;/title&gt;\n  &lt;meta name=\"description\" content=\"foo\"&gt;\n  &lt;meta name=\"author\" content=\"bar\"&gt;\n&lt;/head&gt;\nEOF\n\nmy $h = HTTP::Headers-&gt;new;\nmy $p = HTML::HeadParser-&gt;new($h);\n$p-&gt;parse($text);\n\nfor ($h-&gt;header_field_names) {\n    printf(\"%s: %s\\n\", $_, $h-&gt;header($_));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Title: Foo Bar Baz\nX-Meta-Author: bar\nX-Meta-Charset: utf-8\nX-Meta-Description: foo\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>If you want to create a CSV file, <code>use Text::CSV</code> and change the print loop to something like this:</p>\n\n<pre><code>my $csv = Text::CSV-&gt;new({eol =&gt; $/});\nmy @fields = ('Title', 'X-Meta-Author', 'X-Meta-Description');\n$csv-&gt;print(*STDOUT, [map { $h-&gt;header($_) } @fields]);\n</code></pre>\n\n<p>Which produces:</p>\n\n<pre><code>\"Foo Bar Baz\",bar,foo\n</code></pre>\n\n<p>I'll leave the part about iterating over multiple input files and printing to a different filehandle up to you.</p>\n"}], "owner": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "closed_date": 1454058631, "accepted_answer_id": 35078011, "answer_count": 1, "score": -4, "last_activity_date": 1454088185, "creation_date": 1454041057, "last_edit_date": 1454088185, "question_id": 35076791, "link": "https://stackoverflow.com/questions/35076791/html-tag-parsing-and-write-to-file-with-perl", "closed_reason": "Needs more focus", "title": "HTML tag parsing and write to file with Perl", "body": "<p>I can't grab multiple html tag content from one file.  Here's the last part of my code that could be parsing and printing the text to one file with one row for each file it reads:</p>\n\n<pre><code>   my $h = HTTP::Headers-&gt;new;\n   my $p = HTML::HeadParser-&gt;new($h);\n   $p-&gt;parse($text);\n\n\n   for ($h-&gt;header_field_names) {\n      my @values = split ',', $h-&gt;header($_);\n      if (/keywords/i , /description/i , /title/i) {\n         $csv1-&gt;print ($fh1, \\@values);\n\n      #} elsif (/description/i) {\n      #   $csv1-&gt;print ($fh1, \\@values);\n      #} elsif (/title/i) {\n      #   $csv1-&gt;print ($fh1, \\@values);\n\n\n  }\n   }\n}\n</code></pre>\n\n<p>I can get and write the first tag to a file but nothing more.\nUltimately I'd like to get a CSV or tab delimited row with multiple values.</p>\n\n<p>I made very basic html files that look like this</p>\n\n<pre><code>&lt;head&gt;&lt;keyword&gt;Test&lt;/keyword&gt;\n&lt;description&gt;Test2&lt;/description&gt;\n&lt;title&gt;Test3&lt;/title&gt;&lt;/head&gt;\n</code></pre>\n\n<p>I've tried a few different ways with no luck.</p>\n\n<p>I can always extract content from  but never from  and .   in the HTML file in front of  will cause it to not see the content.  Real life HTML files vs. my made up ones also seem to stump it.</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 1, "last_activity_date": 1454040972, "creation_date": 1454040972, "answer_id": 35076779, "question_id": 35076745, "link": "https://stackoverflow.com/questions/35076745/size-of-array-in-perl-script-loop/35076779#35076779", "title": "size of array in perl script loop", "body": "<p>I believe that Perl arrays are <em>zero</em>-based, meaning that the first element is stored and accessed at index 0.  Here is your <code>for</code> loop:</p>\n\n<pre><code>for ($i=1; $i&lt;=10; $i++) {\n    if (1**2+2**2&gt;=1) {\n        @x[$i] =2+3;\n        $size_x = @x;\n    }\n    print \"my size is $size_x\\n\";\n}\n</code></pre>\n\n<p>When you make the first assignment <code>@x[1] = 2 + 3</code>, the array is considered to already have an (empty) element in position zero, so the size is returned as being 2.</p>\n\n<p>The easiest way to avoid this problem from happening would be to refactor your <code>for</code> loop to start at index 0:</p>\n\n<pre><code>for ($i=0; $i&lt;10; $i++) {\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 350, "user_id": 4684294, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DBUHlSel940/AAAAAAAAAAI/AAAAAAAAAQE/i5HDXWRTm7I/photo.jpg?sz=128", "display_name": "sudheesh shetty", "link": "https://stackoverflow.com/users/4684294/sudheesh-shetty"}, "is_accepted": false, "score": 1, "last_activity_date": 1454041200, "creation_date": 1454041200, "answer_id": 35076812, "question_id": 35076745, "link": "https://stackoverflow.com/questions/35076745/size-of-array-in-perl-script-loop/35076812#35076812", "title": "size of array in perl script loop", "body": "<p>When you start the index from 1 the size automatically increases by 1. Try starting the index from 0 or</p>\n\n<pre><code>@x[$i-1] =2+3;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1454045210, "last_edit_date": 1495542662, "creation_date": 1454045210, "answer_id": 35077501, "question_id": 35076745, "link": "https://stackoverflow.com/questions/35076745/size-of-array-in-perl-script-loop/35077501#35077501", "title": "size of array in perl script loop", "body": "<p>After reading your code, I honestly can't figure out what you're trying to do here, but if you're trying to create an array with 11 elements and assign all of them to <code>5</code> except for the first one, then you've done an excellent job. Perhaps it would help to see a visualization of the array you've created:</p>\n\n<pre><code>[undef, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5]\n</code></pre>\n\n<p>If that's <em>really</em> what you were hoping for, there are faster/simpler/better ways to do the same thing, but I have to believe you were trying to accomplish something else. At a very basic level, <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">arrays in Perl are 0-indexed</a>:</p>\n\n<blockquote>\n  <p>Normal arrays are ordered lists of scalars indexed by number, starting\n  with 0.</p>\n</blockquote>\n\n<p>Having said that, you very rarely see the C-style <code>for</code> loop in Perl code, and that's because it's very rarely necessary. More often, you would see something like this:</p>\n\n<pre><code>for (0 .. 9) {\n    # do something...\n}\n</code></pre>\n\n<p>That code uses a <code>foreach</code>-style loop and the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a> (<code>..</code>) to generate a sequence (technically, a list of values from left to right, counting up by one). Enough about loops. Let's talk about your strange logic.</p>\n\n<p>1<sup>2</sup> + 2<sup>2</sup> will <em>always</em> be 5, which will <em>always</em> be greater than 1. The same goes for 2 + 3. There's nothing dynamic about this code, which is why I have to think that you meant to use the loop iterator in your calculations somehow. Otherwise, you could easily fill a 10-element array with a bunch of 5's in one line:</p>\n\n<pre><code>my @x = (5) x 10;\n</code></pre>\n\n<p>Now, one last point that applies to this code and <strong>all Perl code you write from this point forward</strong>. Every single file <a href=\"https://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\">must include</a> the following two lines at the top:</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454131180, "post_id": 35093068, "comment_id": 57917927, "body": "Technically true, although not invalid, because it&#39;s basically an array slice that only slices one element. (Also not the root cause of the problem, so it doesn&#39;t do a good job of answering the question, as you noted.)"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": -1, "last_activity_date": 1454097743, "creation_date": 1454097743, "answer_id": 35093068, "question_id": 35076745, "link": "https://stackoverflow.com/questions/35076745/size-of-array-in-perl-script-loop/35093068#35093068", "title": "size of array in perl script loop", "body": "<p>Just as a side note:\nArray <em>elements</em> in Perl are denoted with a starting $, not an @.\nSo <code>@x</code> is the whole array, while <code>$x[$i]</code> is the <code>$i</code>'th element of the array <code>@x</code>. </p>\n\n<p><code>use warnings;</code> should warn about this.</p>\n\n<p>(I know this is more a comment than an answer, but as a SO newbie I'm not yet allowed to comment. Sorry.)</p>\n"}], "owner": {"reputation": 387, "user_id": 5808208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/09c91835e911d3e341e13db92cb5373a?s=128&d=identicon&r=PG&f=1", "display_name": "mee mee", "link": "https://stackoverflow.com/users/5808208/mee-mee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "accepted_answer_id": 35093068, "answer_count": 4, "score": 0, "last_activity_date": 1454097743, "creation_date": 1454040737, "question_id": 35076745, "link": "https://stackoverflow.com/questions/35076745/size-of-array-in-perl-script-loop", "title": "size of array in perl script loop", "body": "<p>I am using below commands to find the size of array</p>\n\n<pre><code>$size_x = @x;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$size_x = $#x+1 ;\n</code></pre>\n\n<p>Both work well when I use in simple statement. But when I use them in the loop, the size becomes one number bigger. Why it is happening in that way. Below is example:</p>\n\n<pre><code>for ($i=1;$i&lt;=10;$i++){\n\nif (1**2+2**2&gt;=1){\n@x[$i] =2+3;\n$size_x = @x;\n}\nprint \"my size is $size_x\\n\";\n}\n</code></pre>\n\n<p>here is results:</p>\n\n<pre><code>my size is 2\nmy size is 3\nmy size is 4\nmy size is 5\nmy size is 6\nmy size is 7\nmy size is 8\nmy size is 9\nmy size is 10\nmy size is 11\n</code></pre>\n\n<p>The answer should be from 1 to 10 instead of 2 to 11, i think. What is a better way to get size correctly? Thanks. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 2, "creation_date": 1454026766, "post_id": 35074673, "comment_id": 57872281, "body": "What happens when you run it? Do you get the desired result? An error message? Incorrect output?  Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  StackOverflow is not a tutorial or code-writing site. You are expected to put some effort into solving the actual problem, and then explain what you have done and what isn&#39;t working."}, {"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1454026777, "post_id": 35074673, "comment_id": 57872287, "body": "You can use a standard C-style (probably not the official name) <code>for</code> loop and just check if the previous character is equal to the current one."}, {"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1454026810, "post_id": 35074673, "comment_id": 57872300, "body": "@JimGarrison &quot;This will give number of occruances of each number.&quot; This doesn&#39;t actually solve the required task. It&#39;s just a start."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1454028409, "post_id": 35074673, "comment_id": 57872805, "body": "What output do you want?"}], "answers": [{"tags": [], "owner": {"reputation": 12341, "user_id": 3678068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QWjMd.png?s=128&g=1", "display_name": "Fabricator", "link": "https://stackoverflow.com/users/3678068/fabricator"}, "is_accepted": false, "score": -1, "last_activity_date": 1454027856, "creation_date": 1454027856, "answer_id": 35074899, "question_id": 35074673, "link": "https://stackoverflow.com/questions/35074673/calculate-the-consecutive-occurance-of-a-number/35074899#35074899", "title": "Calculate the Consecutive occurance of a number", "body": "<p>Need a variable <code>$run</code> to keep track of how many consecutive characters we've seen:</p>\n\n<pre><code>my $val=\"11234555611\";\nmy %count;\nmy $last_char = '';\nmy $run = 0;\n\nforeach my $char (split //, $val) {\n    if ($last_char == $char) {\n        $run++;\n    } else {\n        $run = 1;\n    }\n\n    if ($run &gt; $count{$char}) {\n        $count{$char} = $run;\n    }\n    $last_char = $char;\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4371408, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/64e67b7c1fda57d42e50c0a05b3c357b?s=128&d=identicon&r=PG&f=1", "display_name": "Amber O", "link": "https://stackoverflow.com/users/4371408/amber-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1454027920, "creation_date": 1454026433, "last_edit_date": 1454027920, "question_id": 35074673, "link": "https://stackoverflow.com/questions/35074673/calculate-the-consecutive-occurance-of-a-number", "title": "Calculate the Consecutive occurance of a number", "body": "<p>Hi I have an input say \"11234555611\". I want to find out how many consecutive occurrences are there in the list. For example: 11, 555. I came up with </p>\n\n<pre><code>$val=\"11234555611\";\n# Splitting the numbers and putting in an array @strings.\nmy %count;\n\nforeach my $str (@strings) {\n $count{$str}++;\n}\n</code></pre>\n\n<p>This will give number of occruances of each number. Can you help me with this?</p>\n"}]