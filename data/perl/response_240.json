[{"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1565811974, "post_id": 57500885, "comment_id": 101471510, "body": "According to the <a href=\"https://metacpan.org/source/JMCNAMARA/Spreadsheet-WriteExcel-2.40/Changes\" rel=\"nofollow noreferrer\"><code>Changelog</code></a> the 2.4 release was in 2013, and the 2.2 release was from 2007, and there was a lot of intermediate releases betweeen. So it seems likely that they are not completely compatible"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1565858633, "post_id": 57500885, "comment_id": 101482027, "body": "It&#39;s version 2.40, not 2.4. And the module is now in maintenance mode. You should consider using <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX\" rel=\"nofollow noreferrer\">Excel::Writer::XLSX</a> instead."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1565906956, "post_id": 57500885, "comment_id": 101501440, "body": "@DaveCross I have always disagreed with that presentation, even though it&#39;s one the author has pushed. They create incompatible file formats. Your choice is not whether to use a more modern module, but whether to use a different file format."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 3, "last_activity_date": 1565819118, "creation_date": 1565819118, "answer_id": 57502459, "question_id": 57500885, "link": "https://stackoverflow.com/questions/57500885/is-perl-cpans-2-4-spreadsheetwriteexcel-entirely-compatible-running-code-writ/57502459#57502459", "title": "Is Perl cpan&#39;s 2.4 Spreadsheet::WriteExcel entirely compatible running code written for its preceding 2.2 version?", "body": "<p>The only way to know for sure if a new release of something will break existing functionality is to have a very good 100% coverage unit test suite against the existing code. </p>\n\n<p>Set up a development/staging environment, install the new version, and ensure the existing test suite passes.</p>\n\n<p>I say \"very good 100% coverage\", because a test suite can have 100% coverage, but if as many edge cases as possible aren't tested, the suite isn't good.</p>\n"}], "owner": {"reputation": 82, "user_id": 7493568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36df9f62b4ebd1422de26482eb0d78c?s=128&d=identicon&r=PG", "display_name": "wvinyl", "link": "https://stackoverflow.com/users/7493568/wvinyl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 57502459, "answer_count": 1, "score": 0, "last_activity_date": 1565819118, "creation_date": 1565810844, "question_id": 57500885, "link": "https://stackoverflow.com/questions/57500885/is-perl-cpans-2-4-spreadsheetwriteexcel-entirely-compatible-running-code-writ", "title": "Is Perl cpan&#39;s 2.4 Spreadsheet::WriteExcel entirely compatible running code written for its preceding 2.2 version?", "body": "<p>There is in-use application running the 2.2 version that cannot risk interruption of the users. Features in the 2.4 version would be very helpful in our future developments. Is there someone in this community that knows the extent of this libraries particular update to reveal to me that the older code base won't be rendered defunct by the desired update.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1565812181, "post_id": 57500707, "comment_id": 101471580, "body": "Please show the code. It difficult give advice without more details"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1565812610, "post_id": 57500707, "comment_id": 101471745, "body": "@H&#229;konH&#230;gland I&#39;ve just updated the post. Please let me know if it&#39;s clear now."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565813304, "post_id": 57500707, "comment_id": 101472006, "body": "<i>&quot;...it is replacing the path for the first element &quot;health&quot;..&quot;</i> Where are you using <code>$element</code> in the for loop?"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565814066, "post_id": 57500707, "comment_id": 101472321, "body": "@H&#229;konH&#230;gland in the sub that gets the file path. part of the path names contain one of the elements."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565814531, "post_id": 57500707, "comment_id": 101472499, "body": "It is not completely clear what you want to do...Do you want to reset the input to <code>GetOptions()</code>? Then just save <code>@ARGV</code> outside the <code>for</code> loop, and reset it before each call to <code>GetOptions()</code>"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565814887, "post_id": 57500707, "comment_id": 101472625, "body": "@H&#229;konH&#230;gland Yes, that&#39;s what I would like to do. The way I have my code set up now, I am not using ARGV. I&#39;m not sure how I would set ARGV here since the each of the three variables for files already have paths unless differently specified through the command line."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565815029, "post_id": 57500707, "comment_id": 101472673, "body": "Try something like <code>@ARGV = @saved_argv</code> where you create <code>@saved_argv</code> before the <code>for</code> loop"}], "answers": [{"comments": [{"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 1, "creation_date": 1565815415, "post_id": 57501755, "comment_id": 101472811, "body": "This worked perfectly!!!"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1565865696, "post_id": 57501755, "comment_id": 101484567, "body": "Alternatively, <code>GetOptionsFromArray([@ARGV], ...) or die;</code>. Then you don&#39;t need an extra variable. See <a href=\"https://perldoc.pl/Getopt::Long#Parsing-options-from-an-arbitrary-array\" rel=\"nofollow noreferrer\">perldoc.pl/Getopt::Long#Parsing-options-from-an-arbitrary-ar&zwnj;&#8203;ray</a>."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1565815442, "last_edit_date": 1565815442, "creation_date": 1565815171, "answer_id": 57501755, "question_id": 57500707, "link": "https://stackoverflow.com/questions/57500707/command-line-arguments-only-work-for-first-element-of-array/57501755#57501755", "title": "Command line arguments only work for first element of array", "body": "<p>It is not completely clear what you want to do, but to reset <code>@ARGV</code> before each call to <code>GetOptions()</code> you can do:</p>\n\n<pre><code>my @array = (\"health\", \"weight\", \"height\");\nmy @saved_argv = @ARGV;\nforeach my $element (@array){\n    ......\n    @ARGV = @saved_argv;\n    GetOptions (\"yest=s\" =&gt; \\$yesterday_file,\n             \"tod=s\" =&gt; \\$today_file,\n             \"tom=s\" =&gt; \\$tomorrow_file) or die;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1565865290, "creation_date": 1565865290, "answer_id": 57508367, "question_id": 57500707, "link": "https://stackoverflow.com/questions/57500707/command-line-arguments-only-work-for-first-element-of-array/57508367#57508367", "title": "Command line arguments only work for first element of array", "body": "<p>Calling <code>GetOptions()</code> inside the loop seems like a very strange design decision. Your command line won't change, so calling it multiple times is very wasteful.</p>\n\n<p>I know you say you need to do it like that because your variables are defined at various points inside the loop, but can't you define them outside the loop as well?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Getopt::Long;\n\nmy @array = (\"health\", \"weight\", \"height\");\n\nmy ($yesterday_file, $today_file, $tomorrow_file);\n\nGetOptions (\"yest=s\" =&gt; \\$yesterday_file,\n            \"tod=s\" =&gt; \\$today_file,\n            \"tom=s\" =&gt; \\$tomorrow_file) or die;\n\nforeach my $element (@array) {\n  ...;\n\n  SET_FILES: {\n    my @files = getFiles();\n    $yesterday_file //= $files[0];\n    $today_file     //= $files[1];\n    $tomorrow_file  //= $files[2];\n  };\n\n  ...;\n}\n</code></pre>\n\n<p>You also seem to have defined your <code>getFiles()</code> subroutine inside the loop. That's a bad idea too. You should move that definition to before the loop too.</p>\n"}], "owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "closed_date": 1565865834, "accepted_answer_id": 57501755, "answer_count": 2, "score": -2, "last_activity_date": 1565865290, "creation_date": 1565809966, "last_edit_date": 1565812588, "question_id": 57500707, "link": "https://stackoverflow.com/questions/57500707/command-line-arguments-only-work-for-first-element-of-array", "closed_reason": "Not suitable for this site", "title": "Command line arguments only work for first element of array", "body": "<p>I have my entire script running inside a foreach loop because I want everything to be done for each element in an array. My problem is if I pass an options through the command line, it only uses that option for the first element in the array and not the remaining. I can't place Getoptions outside the foreach loop because the variables are declared at some points in the script. How can I make an option work for each iteration of a foreach loop and not just the first.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Getopt::Long;\n\nmy @array = (\"health\", \"weight\", \"height\");\nforeach my $element (@array){\n......\n\nGetOptions (\"yest=s\" =&gt; \\$yesterday_file,\n             \"tod=s\" =&gt; \\$today_file,\n             \"tom=s\" =&gt; \\$tomorrow_file) or die;\n\nsub getFiles (\n.....\nreturn $files[0], $files[1], $files[2];\n)            \n\nSET_FILES: {\n    my @files = getFiles();\n    $yesterday_file //= files[0];\n    $today_file //= $file[1];\n    $tomorrow_file //= $file[2];\n};\n\n}\n</code></pre>\n\n<p>So each of the files are given a path in-code, but since I'm allowing the user to pass a custom file path through the command line, it is only being done for the first element of the array. For example, if I send a path for <code>$today_file</code>, it is replacing the path for the first element \"health\", but not for the next two. For the next two it uses the path assigned in the code. </p>\n"}, {"tags": ["c#", ".net", "regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1565810156, "post_id": 57500480, "comment_id": 101470884, "body": "The whole line is duplicated? Or just a part of the line? The beginning or the end of the line? Or some arbitrary text in the middle of the line?"}, {"owner": {"reputation": 167, "user_id": 9824303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf39aea58ea109dd7295f632a42fee74?s=128&d=identicon&r=PG&f=1", "display_name": "SJ10", "link": "https://stackoverflow.com/users/9824303/sj10"}, "edited": false, "score": 0, "creation_date": 1565810739, "post_id": 57500480, "comment_id": 101471100, "body": "are you talking about having the line duplicated like this? &gt;line 1 &gt;line 2 &gt;line 2 &gt;line 3?   If so, I have a solution for you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565810850, "post_id": 57500480, "comment_id": 101471139, "body": "You mean like <code>wasn&#39;t able to find anything wasn&#39;t able to find anything</code> on some lines?"}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1565811493, "post_id": 57500480, "comment_id": 101471360, "body": "@mob Just part of the line"}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "reply_to_user": {"reputation": 167, "user_id": 9824303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf39aea58ea109dd7295f632a42fee74?s=128&d=identicon&r=PG&f=1", "display_name": "SJ10", "link": "https://stackoverflow.com/users/9824303/sj10"}, "edited": false, "score": 0, "creation_date": 1565811544, "post_id": 57500480, "comment_id": 101471377, "body": "@SJ10 Not quite, it&#39;s instead like what zdim just described."}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565811611, "post_id": 57500480, "comment_id": 101471399, "body": "@zdim Yes, just like that. It might be between some other text. (e.g. It just wasn&#39;t able to find anything wasn&#39;t able to find anything no matter how hard I tried.)  I&#39;ve now included an example in my question, too."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565818996, "post_id": 57501448, "comment_id": 101473842, "body": "Fortunately for my use case, nothing legitimate should get flagged. I modified it slightly to (\\w+\\W+\\w+)(?=\\1) since there&#39;s never going to be a space separating the two. Thanks so much!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565821726, "post_id": 57501448, "comment_id": 101474538, "body": "@Vopel Great.  But you need those <code>.+</code> (not for space): <code>\\w+\\W+\\w+</code> gets two words, no more -- so <code>\\1</code> that follows directly must be those two words, and so the pattern then matches only two-word repetitions.  The example in my answer would only match <code>C:\\test</code> if you remove <code>.+</code>, not the other one. With <code>.+</code> we allow for more than two words (but not less); so as it is matching characters past two words it is checking whether all that is ahead again. Thus it finds repetitions of any length (like <code>C:\\A\\test</code> repeating)."}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565823489, "post_id": 57501448, "comment_id": 101474875, "body": "Ah, I see. I am having a problem though. This is matching stuff that I was not expecting it to match that span several lines, like this: <a href=\"https://i.imgur.com/qHzUr1a.png\" rel=\"nofollow noreferrer\">i.imgur.com/qHzUr1a.png</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565903116, "post_id": 57501448, "comment_id": 101500347, "body": "@Vopel I&#39;ve updated the post and so am removing the two comments. In summary: This is rather broad, there&#39;s got to be cases that get flagged which are actually good data. (But it can&#39;t spread over lines, not in Perl.)  (2)  Can you show what your typical files are like?"}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565913511, "post_id": 57501448, "comment_id": 101502755, "body": "I&#39;ve adjusted it to where it&#39;s not picking up false positives anymore, thank you. I think you accidentally missed a parentheses mark after &#39;qr/&#39; though."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1566254537, "post_id": 57501448, "comment_id": 101591039, "body": "@Vopel Great -- On a rounded problem like this one can&#39;t have a &quot;general solution&quot; I think; it&#39;s got to be tweaked for particular data/use cases.  ///  Thank you for noting the error and letting me know!  It&#39;s weird how such things manage to slip in ... I always test and check quite a bit, and (try to) make a point of checking the final version too.  fixed"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1566254241, "last_edit_date": 1566254241, "creation_date": 1565813709, "answer_id": 57501448, "question_id": 57500480, "link": "https://stackoverflow.com/questions/57500480/net-regular-expression-perl-like-for-detecting-text-that-was-pasted-twice-in/57501448#57501448", "title": ".NET Regular Expression (perl-like) for detecting text that was pasted twice in a row", "body": "<p>Can collect text along the string (<code>.+</code> style) followed by a lookahead check for what's been captured up to that point, so what would be a repetition of it, like</p>\n\n<pre><code>/(.+)(?=\\1)/;  # but need more restrictions\n</code></pre>\n\n<p>However, this gets tripped even just on double le<strong>TT</strong>ers, so it needs at least a little more. For example, our pattern can require the text which gets repeated to be at least two words long.</p>\n\n<p>Here is a basic and raw example. Please also see the note on regex at the end.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @lines = (\n    q(It just wasn't able just wasn't able no matter how hard it tried.),\n    q(This has no repetitions.),\n    q({FolderLoc = \"C:\\testC:\\test\"}),\n);\n\nmy $re_rep = qr/(\\w+\\W+\\w+.+)(?=\\1)/;  # at least two words, and then some\n\nfor (@lines) { \n    if (/$re_rep/) {\n        # Other conditions/filtering on $1 (the capture) ?\n        say $1\n    } \n}\n</code></pre>\n\n<p>This matches at least two words: word (<code>\\w+</code>) + non-word-chars + word + anything. That'll still get some legitimate data, but it's a start that can now be customized to your data. We can tweak the regex and/or further scrutinize our catch inside that <code>if</code> branch.</p>\n\n<p>The pattern doesn't allow for any intervening text (the repetition must follow immediately), what is changed easily if needed; the question is whether then some legitimate repetitions could get flagged.</p>\n\n<p>The program above prints</p>\n\n<pre>\njust wasn't able \nC:\\test\n</pre>\n\n<hr>\n\n<p><strong>Note on regex</strong> &nbsp; This quest, to find repeated text, is much too generic\nas it stands and it will surely pick on someone's good data. It is enough to note that I had to require at least <em>two</em> words (with one word <code>that that</code> is flagged), which is arbitrary and still insufficient.  For one, repeated numbers realistically found in data files (<code>3,3,3,3,3</code>) will be matched as well.  </p>\n\n<p>So this needs further specialization, for what we need to know about data.</p>\n"}], "owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 57501448, "answer_count": 1, "score": 0, "last_activity_date": 1566254241, "creation_date": 1565808811, "last_edit_date": 1565811682, "question_id": 57500480, "link": "https://stackoverflow.com/questions/57500480/net-regular-expression-perl-like-for-detecting-text-that-was-pasted-twice-in", "title": ".NET Regular Expression (perl-like) for detecting text that was pasted twice in a row", "body": "<p>I've got a ton of json files that, due to a UI bug with the program that made them, often have text that was accidentally pasted twice in a row (no space separating them).</p>\n\n<p>Example: {FolderLoc = \"C:\\testC:\\test\"}</p>\n\n<p>I'm wondering if it's possible for a regular expression to match this. It would be per-line. If I can do this, I can use <a href=\"http://findandreplace.io/\" rel=\"nofollow noreferrer\">FNR</a>, which is a batch text processing tool that supports .NET RegEx, to get rid of the accidental duplicates.</p>\n\n<p>I regret not having an example of one of my attempts to show, but this is a very unique problem and I wasn't able to find anything on search engines resembling it to even start to base a solution off of.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["regex", "perl", "regex-group", "regex-greedy"], "comments": [{"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1565808187, "post_id": 57500306, "comment_id": 101470162, "body": "What happens to <code>S224</code>?"}, {"owner": {"reputation": 13, "user_id": 9593807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb821653a09e38336a36d44d2c3aebc4?s=128&d=identicon&r=PG&f=1", "display_name": "JacksWastedLife", "link": "https://stackoverflow.com/users/9593807/jackswastedlife"}, "reply_to_user": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1565808443, "post_id": 57500306, "comment_id": 101470262, "body": "it&#39;s discarded as a non-captured match,"}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1565810551, "post_id": 57500306, "comment_id": 101471035, "body": "I don&#39;t think regex is the right tool for this"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9593807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb821653a09e38336a36d44d2c3aebc4?s=128&d=identicon&r=PG&f=1", "display_name": "JacksWastedLife", "link": "https://stackoverflow.com/users/9593807/jackswastedlife"}, "edited": false, "score": 0, "creation_date": 1565812858, "post_id": 57500542, "comment_id": 101471833, "body": "Thank you for your reply. Can you clarify a few details about unpack for me? What is the first set of parentheses buying you in the template? Why is the last byte being captured since it doesn&#39;t appear to match the template?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 13, "user_id": 9593807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb821653a09e38336a36d44d2c3aebc4?s=128&d=identicon&r=PG&f=1", "display_name": "JacksWastedLife", "link": "https://stackoverflow.com/users/9593807/jackswastedlife"}, "edited": false, "score": 0, "creation_date": 1565813561, "post_id": 57500542, "comment_id": 101472115, "body": "Sorry, the parentheses weren&#39;t needed, they were a result of my experiments. Removed."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1565813533, "last_edit_date": 1565813533, "creation_date": 1565809104, "answer_id": 57500542, "question_id": 57500306, "link": "https://stackoverflow.com/questions/57500306/regex-capture-not-returning-expected-array/57500542#57500542", "title": "Regex capture not returning expected array", "body": "<p>Quantifying a capture group doesn't create several capture groups. It matches according to the quantifier, but only the last match is captured.</p>\n\n<p><a href=\"http://p3rl.org/unpack\" rel=\"nofollow noreferrer\">unpack</a> is more suitable to extract parts of binary data:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $s = 'S2244060800027008209302B000A667A6201A6828E1976007A000A52820009A3420009B0FE1F';\n\nmy $exp = [qw[ 406080 0027 0082 0930 2B00 0A66 7A62 01A6 828E 1976 007A 000A 5282 0009 A342 0009 B0FE ]];\n\nmy @result = unpack 'x4A6(A4)*', $s;\ndie unless '1F' eq pop @result;\n\nuse Test::More tests =&gt; 1;\nis_deeply \\@result, $exp;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9593807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb821653a09e38336a36d44d2c3aebc4?s=128&d=identicon&r=PG&f=1", "display_name": "JacksWastedLife", "link": "https://stackoverflow.com/users/9593807/jackswastedlife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 1, "accepted_answer_id": 57500542, "answer_count": 1, "score": 1, "last_activity_date": 1565813533, "creation_date": 1565807901, "last_edit_date": 1565810704, "question_id": 57500306, "link": "https://stackoverflow.com/questions/57500306/regex-capture-not-returning-expected-array", "title": "Regex capture not returning expected array", "body": "<p>I am trying to use regex to generate an array of capture groups, but the capture groups aren't capturing the strings I expect.</p>\n\n<p>My input resembles the following general format:</p>\n\n<pre><code>S2244060800027008209302B000A667A6201A6828E1976007A000A52820009A3420009B0FE1F\n</code></pre>\n\n<p>This string has the following components:\nA 4 character prefix, 3 byte address, a series of 2 byte data blocks, a 1 byte line terminator.</p>\n\n<p>I only care about the address and the data blocks.</p>\n\n<p>The regex I tried to use is:\n<code>/\\w{4}(\\w{6})(\\w{4})+/;</code></p>\n\n<p>(I have an inelegant solution using substrings to parse the input before performing the regex, but I hate it...)</p>\n\n<p>The original non-functional code is below:</p>\n\n<pre><code>open IN, \"&lt;$ARGV[0]\" or die \"Could not open '$ARGV[0]': $!\\n\";\nopen OUT, \"&gt;$ARGV[0].txt\" or die \"Could not open '$ARGV[0].txt': $!\\n\";\n\nwhile (&lt;IN&gt;)\n{\n    print OUT join(\" \",/^\\w{4}(\\w{6})(\\w{4})+/).\"\\n\"; \n}\nclose IN;\nclose OUT;\n</code></pre>\n\n<p>My desired output is an array with the following elements:</p>\n\n<pre><code>@array = [406080, 0027, 0082, 0930, 2B00, 0A66, 7A62, 01A6, 828E, 1976, 007A, 000A, 5282, 0009, A342, 0009, B0FE]\n</code></pre>\n\n<p>But the preceding regex results in a two element array containing only the 3 byte address, and the last data block: </p>\n\n<pre><code>@array = [406080, B0FE]\n</code></pre>\n\n<p>This implies to me that i have a fundamental misunderstanding of how regex capture groups work that I would like clarified.</p>\n\n<p>Here's my crappy workaround just for the sake of completeness:</p>\n\n<pre><code>    open IN, \"&lt;$ARGV[0]\" or die \"Could not open '$ARGV[0]': $!\\n\";    \n    open OUT, \"&gt;$ARGV[0].txt\" or die \"Could not open '$ARGV[0].txt': $!\\n\";\n\n    while (&lt;IN&gt;)\n    {\n        print OUT substr($_, 4, 6).\" \".join(\" \",substr($_, 10) =~ /\\w{4}/g).\"\\n\"; \n    }\n\n    close IN;\n    close OUT;\n</code></pre>\n"}, {"tags": ["linux", "perl", "expect.pm"], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 746184, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48d7a32501b05f4caf9ba15114508a12?s=128&d=identicon&r=PG", "display_name": "user746184", "link": "https://stackoverflow.com/users/746184/user746184"}, "is_accepted": false, "score": 0, "last_activity_date": 1565809294, "creation_date": 1565809294, "answer_id": 57500581, "question_id": 57498207, "link": "https://stackoverflow.com/questions/57498207/perl-expect-code-is-not-working-for-setting-up-password/57500581#57500581", "title": "Perl expect code is not working for setting up password", "body": "<p>use warnings; ... \"my\" variable $sadminPasswd masks earlier declaration in same scope</p>\n\n<p>Thanks toolic for answer!</p>\n"}], "owner": {"reputation": 95, "user_id": 746184, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48d7a32501b05f4caf9ba15114508a12?s=128&d=identicon&r=PG", "display_name": "user746184", "link": "https://stackoverflow.com/users/746184/user746184"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565922416, "creation_date": 1565798217, "last_edit_date": 1565922416, "question_id": 57498207, "link": "https://stackoverflow.com/questions/57498207/perl-expect-code-is-not-working-for-setting-up-password", "title": "Perl expect code is not working for setting up password", "body": "<p>I am using perl expect to enter password in an interactive program. Perl is outputting correct password but setting it something else.</p>\n\n<pre><code>#!/bin/perl\n\nuse Expect;\n\nmy $hostname = qx! /usr/bin/hostname !;\nmy $Passwd = `./ensite_passwd solidcore $hostname`;\n\nmy $sadminPasswd = quotemeta $Passwd;\nchomp $sadminPasswd;\nchop $sadminPasswd;\n\nprint \"password is $sadminPasswd \\n\\n\";\n\nmy $sadminPasswd = Expect-&gt;spawn(\"/sbin/sadmin\", \"passwd\")\n        or die \"Cannot spawn /sbin/sadmin $!\\n\";\n\n $sadminPasswd-&gt;expect(300,\n              [qr/New Password:/ =&gt; sub {\n                 my $fh = shift;\n                 $fh-&gt;send(\"${sadminPasswd}\\n\");\n                 print \"sent '${sadminPasswd}'\\n\";\n                 exp_continue;\n               }\n              ],\n              [qr/Retype Password:/ =&gt; sub {\n                 my $fh = shift;\n                 $fh-&gt;send(\"p2c4f8j5\\n\");\n                 #$fh-&gt;send(\"${sadminPasswd}\\n\");\n                 #print \"sent '${sadminPasswd}'\\n\";\n                 print \"sent 'p2c4f8j5'\\n\";\n               }\n              ]);\n\n\n   $sadminPasswd-&gt;soft_close();\n</code></pre>\n\n<p>I am getting below output:</p>\n\n<pre><code>swdvssd0046$ sudo perl test.pl\npassword is p2c4f8j5 \n\nNew Password:sent 'Expect=GLOB(0x23ae188)'\n\nRetype Password:sent 'p2c4f8j5'\n\nPasswords do not match.\nswdvssd0046$ \n</code></pre>\n\n<p>I don't understand 'Expect=GLOB(0x23ae188)' at all.\nI know password for this host would be \"p2c4f8j5\" that's why I have manually entered it in confirm password expect code.\nAny idea what am I missing?</p>\n"}, {"tags": ["regex", "perl", "if-statement"], "comments": [{"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1565795878, "post_id": 57497382, "comment_id": 101464855, "body": "I&#39;m no perl expert but that <code>if()</code> seems to be missing a closing bracket <code>}</code> so I am really interested to know how it hits the <code>else{}</code> block without compilation errors."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565796244, "post_id": 57497382, "comment_id": 101465059, "body": "Can&#39;t stress enough: ALWAYS use <code>use strict; use warnings;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 2, "last_activity_date": 1565796124, "creation_date": 1565796124, "answer_id": 57497668, "question_id": 57497382, "link": "https://stackoverflow.com/questions/57497382/perl-subroutine-and-if-else-block-only-evaluates-the-else-block/57497668#57497668", "title": "Perl Subroutine and if-else block only evaluates the else block", "body": "<p>Lots wrong with this code.</p>\n\n<p>1) It does not compile. Use <code>perl -c script_name</code> to check if it compiles correctly.</p>\n\n<p>2) For anything more that a one line script add</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>to the top of the script.</p>\n\n<p>3) Parameters are passed into a subroutine in @_ not $_</p>\n\n<p>4) <code>= ~</code> is two separate operators you want the <code>=~</code> operator</p>\n\n<p>5) <code>hostname1</code> and <code>hostname2</code> are not the same as <code>$hostname1</code> and <code>$hostname2</code>, you should be using the latter to pass the values into your subrouteen.</p>\n"}, {"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 5, "last_activity_date": 1565801731, "creation_date": 1565801731, "answer_id": 57499009, "question_id": 57497382, "link": "https://stackoverflow.com/questions/57497382/perl-subroutine-and-if-else-block-only-evaluates-the-else-block/57499009#57499009", "title": "Perl Subroutine and if-else block only evaluates the else block", "body": "<p>Perl passes arguments to subroutines in a fixed-name array (<code>@_</code>). So you have to extract your argument from that array. By using the bare array name, you are probably in \"scalar context\" and perl evaluates arrays in scalar context to be their size, <code>1</code> in this case. And <code>1</code> is never going to match <code>/\\./</code>. The way to refer to the first element of array <code>@_</code> is <code>$_[0]</code>. The <code>/g</code> flag is also superfluous. So try changing that line to this:</p>\n\n<pre><code>    return 1 if $_[0]  =~ /\\./; return 0;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11186544, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2vmomDLbXAk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rck3EAZ9Mk40ECddU0dAXCO0EgxoA/mo/photo.jpg?sz=128", "display_name": "hanee", "link": "https://stackoverflow.com/users/11186544/hanee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565801731, "creation_date": 1565795110, "last_edit_date": 1565799725, "question_id": 57497382, "link": "https://stackoverflow.com/questions/57497382/perl-subroutine-and-if-else-block-only-evaluates-the-else-block", "title": "Perl Subroutine and if-else block only evaluates the else block", "body": "<p>i am new to perl and using regex. I have a subroutine that is suppose to show that we are looking for a pattern that has  one of more dots\".\". The next line is to use this subroutine to check if there are dots in some patterns. However I find that the if block in my if/else statement is not evaluated, it only evaluates the else block. </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $hostname1 = \"hh.uu\";\nmy $hostname2 = \"yyhu\";\n\nsub isDotted {\n    return 1 if @_  =~ /\\./g; return 0;\n    }\n\nif (isDotted($hostname1) != isDotted($hostname2))\n{ \n\n    print \"Must be equal\\n\";\n}\nelse {\nprint \"Perfect good to go\\n\";\n}\n</code></pre>\n\n<p>This code prints out \"Perfect good to go\" and the fact that $hostname2 does not have a dot \".\" in it means it should print out \"must be equal\" but it does not evaluate the if block.</p>\n\n<p>*Update: Sorry I have made the changes, this code should compile</p>\n"}, {"tags": ["selenium", "perl", "console.log"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565802119, "post_id": 57494687, "comment_id": 101467751, "body": "<code>$web_driver-&gt;get_log(&#39;browser&#39;)</code> works for me with Selenium::Chrome, no special options. I use the following to check for JS errors: <code># Warning: This clears the log. sub has_js_failed {    my $log = $web_driver-&gt;get_log(&#39;browser&#39;);    return 0+grep { no warnings qw( uninitialized ); $_-&gt;{level} eq &#39;SEVERE&#39; &amp;&amp; $_-&gt;{source} eq &#39;javascript&#39; } @$log; }</code>"}, {"owner": {"reputation": 450, "user_id": 1561597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e7a7d89ea143a34f0c1a5f00e47c305?s=128&d=identicon&r=PG", "display_name": "Csongor Fagyal", "link": "https://stackoverflow.com/users/1561597/csongor-fagyal"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1566511578, "post_id": 57494687, "comment_id": 101689957, "body": "Thanks, but unfortunately I cannot use Selenium::Chrome, I have a Zalenium server (basically a Selenium HUB) at the remote end."}], "owner": {"reputation": 450, "user_id": 1561597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e7a7d89ea143a34f0c1a5f00e47c305?s=128&d=identicon&r=PG", "display_name": "Csongor Fagyal", "link": "https://stackoverflow.com/users/1561597/csongor-fagyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565785645, "creation_date": 1565785645, "question_id": 57494687, "link": "https://stackoverflow.com/questions/57494687/how-to-access-the-console-browser-log-from-seleniumremotedriver", "title": "How to access the console (browser) log from Selenium::Remote::Driver", "body": "<p>I am trying to access the console log from the perl module <code>Selenium::Remote::Driver</code> to no avail.</p>\n\n<p>According to the <a href=\"https://metacpan.org/pod/Selenium::Remote::Driver\" rel=\"nofollow noreferrer\">documentation</a>, this should be very simple, by calling the <code>get_log</code> method with the log type as a parameter, which as I figure should be <code>browser</code>. However, the <code>get_log_types</code> method  returns only the <code>server</code> log type as available, while the documentation says \"every driver should have client,driver, <strong>browser</strong>, and server types\".</p>\n\n<p>I believe some parameters should be passed to the constructor (in <code>chromeOptions</code> maybe?) that switches on capturing the console log. Unfortunately, all examples I find for this are for other languages, and this perl module is too much different to port those solutions.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1565772596, "post_id": 57491211, "comment_id": 101452525, "body": "you can use variables in your regex, i.e. <a href=\"https://stackoverflow.com/questions/4616395/perl-regular-expression-using-a-variable-as-a-search-string-with-perl-operator/4616417\" title=\"perl regular expression using a variable as a search string with perl operator\">stackoverflow.com/questions/4616395/&hellip;</a>"}, {"owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1565772696, "post_id": 57491211, "comment_id": 101452586, "body": "could you please further explain &quot;Also can I get a substring of the matched pattern? Like &#39;foo&#39; is replaced with &#39;oobar&#39;(foo becomes oo)?&quot; ? not really sure what exactly you want"}, {"owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "reply_to_user": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1565772748, "post_id": 57491211, "comment_id": 101452611, "body": "Could you provide an example in a bash command? I don&#39;t know perl."}, {"owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "reply_to_user": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1565772992, "post_id": 57491211, "comment_id": 101452737, "body": "@Chris suppose I can refer to the matched pattern &quot;foo&quot; by, let&#39;s say, $var, I want to get a substring of $var (like substr($var,1)) which will be &quot;oo&quot;, so finally i can replace every instance of &quot;foo&quot; with &quot;oobar&quot;. Here I get &quot;oo&quot; from substring of the matched pattern &quot;foo&quot; and I supply the &quot;bar&quot;."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565773304, "post_id": 57491211, "comment_id": 101452876, "body": "Try <code>sudo perl -i -0777 -pe &quot;s&#47;$foo&#47;${foo:1}bar&#47;gs&quot; a.txt</code> or with <code>sed</code>, <code>sudo sed -i &quot;s&#47;$foo&#47;${foo:1}bar&#47;g&quot; a.txt</code>"}, {"owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565773694, "post_id": 57491211, "comment_id": 101453053, "body": "@WiktorStribi\u017cew Is $foo a variable or pattern? Infact I have a complex pattern to match: <code>[^u]&quot;some string&quot;.format</code> and refer to its substring in the replacement field."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565773832, "post_id": 57491211, "comment_id": 101453127, "body": "You do not need <code>[^u]</code>, use <code>(?&lt;!u)</code> instead. <code>sudo perl -i -pe &#39;s&#47;(?&lt;!u)&quot;some string&quot;\\.format&#47;u$&amp;bar&#47;g&#39; file</code> or whatever replacement you need, <code>$&amp;</code> is the whole match."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565774272, "post_id": 57491211, "comment_id": 101453347, "body": "Of course it would not, you ruined the whole syntax. Note I suggested <code>-0777</code> only because you have <code>s</code> modifier, but from what you seem to want to match, you do not need either of them."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565774729, "post_id": 57491211, "comment_id": 101453597, "body": "You need to re-write the whole question if you want me to post a coherent answer. I do not quite know what works for you, but probably you got the gist of using a negative lookbehind instead of a negated character class."}, {"owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565775692, "post_id": 57491211, "comment_id": 101454059, "body": "@WiktorStribi\u017cew I did <code>sudo perl -i -0777 -pe s&#47;&#39;(?&lt;!u)&quot;[^&quot;]&quot;.format&#39;&#47;&#39;u$&amp;&#39;&#47;g a.py</code> where my a.py had one line <code>a = &quot;vs&quot;+&quot;aa {}&quot;.format(&quot;cvs&quot;)</code> but it did not work"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565775807, "post_id": 57491211, "comment_id": 101454112, "body": "What do you want to do with <code>a = &quot;vs&quot;+&quot;aa {}&quot;.format(&quot;cvs&quot;)</code>? What is the expected result? Why?"}, {"owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "edited": false, "score": 0, "creation_date": 1565775891, "post_id": 57491211, "comment_id": 101454149, "body": "The expected result is <code>a = &quot;vs&quot;+u&quot;aa {}&quot;.format(&quot;cvs&quot;)</code>. Running the command again should not insert another &quot;u&quot;."}, {"owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565776217, "post_id": 57491211, "comment_id": 101454335, "body": "@WiktorStribi\u017cew I wanted negative lookbehind because I don&#39;t want to match those format functions with a &#39;u&#39; already present."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565776646, "post_id": 57491211, "comment_id": 101454562, "body": "You probably can even use <code>sed</code>: <code>sed -i -E &#39;s&#47;(^|[^u])(&quot;[^&quot;]*&quot;\\.format\\()&#47;\\1u\\2&#47;g&#39; abc.txt</code>. It might not work though with <code>ur&quot;...&quot;</code>, <code>r&#39;...&#39;</code> etc. string literals."}, {"owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565776923, "post_id": 57491211, "comment_id": 101454689, "body": "@WiktorStribi\u017cew Man it finally worked! I am not using sed because I want multiline match. And I was missing * after [^&quot;]"}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565777098, "post_id": 57492487, "comment_id": 101454792, "body": "This won&#39;t work eventually because it will cut and throw away the first char of the match. OP&#39;s is an XY problem."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1565776861, "creation_date": 1565776861, "answer_id": 57492487, "question_id": 57491211, "link": "https://stackoverflow.com/questions/57491211/how-to-refer-to-the-matched-pattern-in-perl-search-and-replace-from-bash-command/57492487#57492487", "title": "How to refer to the matched pattern in perl search and replace from bash command line?", "body": "<p>Use the <a href=\"http://p3rl.org/op#s/PATTERN/REPLACEMENT/msixpodualngcer\" rel=\"nofollow noreferrer\">expression evaluation modifier <code>e</code></a>.</p>\n\n<pre><code>perl -0777 -i -pe's/(foo)/substr($1, 1) . \"bar\"/egs' a.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "is_accepted": false, "score": 1, "last_activity_date": 1565777242, "creation_date": 1565777242, "answer_id": 57492590, "question_id": 57491211, "link": "https://stackoverflow.com/questions/57491211/how-to-refer-to-the-matched-pattern-in-perl-search-and-replace-from-bash-command/57492590#57492590", "title": "How to refer to the matched pattern in perl search and replace from bash command line?", "body": "<p><code>$&amp;</code> refers to the entire matched pattern and instead of taking substring of that I used negative lookbehind <code>(?&lt;!u)</code> this means any character other than <code>u</code>:</p>\n\n<pre><code>sudo perl -i -0777 -pe s/(?&lt;!u)'oo'/'u$&amp;'/gs\n</code></pre>\n\n<p>This will match not only any <code>foo</code> but any occurrence of <code>oo</code> but never <code>uoo</code> and replace it with <code>uoobar</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "edited": false, "score": 0, "creation_date": 1565932718, "post_id": 57495872, "comment_id": 101505932, "body": "The actual pattern does contain . and I want to span lines. And I&#39;m just comfortable with these quotes :P"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "edited": false, "score": 0, "creation_date": 1565932768, "post_id": 57495872, "comment_id": 101505942, "body": "The quotes are just asking for problems. They reduce readability and maintainability. Worse, they are misleading."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1565790346, "last_edit_date": 1565790346, "creation_date": 1565789814, "answer_id": 57495872, "question_id": 57491211, "link": "https://stackoverflow.com/questions/57491211/how-to-refer-to-the-matched-pattern-in-perl-search-and-replace-from-bash-command/57495872#57495872", "title": "How to refer to the matched pattern in perl search and replace from bash command line?", "body": "<p>In the example you gave, you don't need to use the matched text.</p>\n\n<pre><code>perl -pe's/foo\\K/bar/g'\n</code></pre>\n\n<p>In the scenario you described, you don't need to use the matched text.</p>\n\n<pre><code>perl -pe's/f\\Koo/oobar/g'\n</code></pre>\n\n<hr>\n\n<p>That said, <code>$&amp;</code> contains the matched text.</p>\n\n<pre><code>perl -pe's/foo/$&amp;bar/g'\n</code></pre>\n\n<p>And <code>$1</code> contains the text matched by the earliest capture, <code>$2</code> contains the text matched by the second earliest capture, etc.</p>\n\n<pre><code>perl -pe's/(f)oo/$1oobar/g'\n</code></pre>\n\n<p>And <code>/e</code> can be used to treat the replacement expression as code to execute for each match.</p>\n\n<pre><code>perl -pe's/foo/ substr($&amp;,0,1).\"oobar\" /eg'\n</code></pre>\n\n<hr>\n\n<ul>\n<li>There's no point in using <code>/s</code> since the pattern doesn't contain <code>.</code>.</li>\n<li>There's no point in using <code>-0777</code> since your pattern can't span lines.</li>\n<li>The quotes you used were useless, and it's less noisy to quote the entire program instead of individual sections of it.</li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 9004745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1258342047609099/picture?type=large", "display_name": "snack0verflow", "link": "https://stackoverflow.com/users/9004745/snack0verflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1565790346, "creation_date": 1565772400, "last_edit_date": 1565773520, "question_id": 57491211, "link": "https://stackoverflow.com/questions/57491211/how-to-refer-to-the-matched-pattern-in-perl-search-and-replace-from-bash-command", "title": "How to refer to the matched pattern in perl search and replace from bash command line?", "body": "<p>I want to do search and replace(foo to foobar) with bash using <code>perl</code> command:</p>\n\n<pre><code>sudo perl -0777 -i -pe s/'foo'/'foobar'/gs a.txt\n</code></pre>\n\n<p>but I don't always know what is 'foo', so I want a variable kind of thing which stores the matched pattern. </p>\n\n<p>Also can I get a substring of the matched pattern? Like 'foo' is replaced with 'oobar'(foo becomes oo)?</p>\n"}, {"tags": ["hash-function", "perl", "perl5.30"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1565769088, "post_id": 57488139, "comment_id": 101450841, "body": "Tangentially related, some old comparisons: <a href=\"https://github.com/rurban/perl-hash-stats\" rel=\"nofollow noreferrer\">github.com/rurban/perl-hash-stats</a> <a href=\"https://github.com/rurban/smhasher\" rel=\"nofollow noreferrer\">github.com/rurban/smhasher</a>"}, {"owner": {"reputation": 14956, "user_id": 544557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1df76ef4fab96ec67b2afa080b3a0c?s=128&d=identicon&r=PG", "display_name": "Jim Balter", "link": "https://stackoverflow.com/users/544557/jim-balter"}, "edited": false, "score": 0, "creation_date": 1590362485, "post_id": 57488139, "comment_id": 109645213, "body": "At the time that was written, it was Jenkins one-at-a-time. That ceased to be the case as of Perl v5.28.0"}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1565907079, "post_id": 57488140, "comment_id": 101501466, "body": "This was most recently changed in a major way in <a href=\"https://perldoc.pl/perl5280delta#Default-Hash-Function-Change\" rel=\"nofollow noreferrer\">Perl 5.28</a>."}, {"owner": {"reputation": 14956, "user_id": 544557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1df76ef4fab96ec67b2afa080b3a0c?s=128&d=identicon&r=PG", "display_name": "Jim Balter", "link": "https://stackoverflow.com/users/544557/jim-balter"}, "edited": false, "score": 0, "creation_date": 1590362588, "post_id": 57488140, "comment_id": 109645239, "body": "The default was Jenkins one-at-a-time prior to Perl 5.28.0."}], "tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": false, "score": 6, "last_activity_date": 1565872637, "last_edit_date": 1565872637, "creation_date": 1565756685, "answer_id": 57488140, "question_id": 57488139, "link": "https://stackoverflow.com/questions/57488139/what-is-perls-default-hash-implementation/57488140#57488140", "title": "What is Perl&#39;s default hash implementation?", "body": "<p>From the <a href=\"https://github.com/Perl/perl5/blob/4a5ab54a18679ab24ca03190884d326c2ca85288/INSTALL#L369\" rel=\"nofollow noreferrer\"><code>INSTALL</code> file in the source,</a></p>\n\n<blockquote>\n  <p>Since Perl 5.18 we have included support for multiple hash functions,\n  although from time to time we change which functions we support,\n  and which function is default (currently <code>SBOX</code>+<code>STADTX</code> on 64 bit builds\n  and <code>SBOX</code>+<code>ZAPHOD32</code> for 32 bit builds).</p>\n</blockquote>\n\n<p>You can see that <a href=\"https://github.com/Perl/perl5/blob/a19348e73ed5eba787edfbc7ae2e9b4db947ee64/hv_func.h#L20\" rel=\"nofollow noreferrer\">default in the source code in <code>hv_func.h</code></a>. So it seems for 64 bit builds it's StadtX \"fast hash function\" which is implemented in <a href=\"https://github.com/Perl/perl5/blob/d9bfa782f8cc54abdbea9c0a91d1b25a9ab98736/stadtx_hash.h\" rel=\"nofollow noreferrer\"><code>stadtx_hash.h</code></a>.</p>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565872637, "creation_date": 1565756685, "last_edit_date": 1565811248, "question_id": 57488139, "link": "https://stackoverflow.com/questions/57488139/what-is-perls-default-hash-implementation", "title": "What is Perl&#39;s default hash implementation?", "body": "<p>According to <a href=\"https://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\" rel=\"nofollow noreferrer\"><code>perldoc perlsec</code></a></p>\n\n<blockquote>\n  <p><strong>Alternative Hash Functions</strong> The source code includes multiple hash algorithms to choose from. While we believe that the <em>default perl hash</em> is robust to attack, we have included the hash function Siphash as a fall-back option. At the time of release of Perl 5.18.0 Siphash is believed to be of cryptographic strength. This is not the default as it is much slower than the <em>default hash.</em></p>\n</blockquote>\n\n<p>What is the default perl hash function? From the context we can infer it's not SIPHASH?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "edited": false, "score": 5, "creation_date": 1565761380, "post_id": 57488104, "comment_id": 101447872, "body": "Some suggestions. Never use $a and $b - they are special variables which should be used in <code>sort</code> (see <code>perldoc perlvar</code>). Always add <code>use strict;</code> and <code>use warnings;</code> pragmas to your scripts."}, {"owner": {"reputation": 41, "user_id": 6283788, "user_type": "registered", "profile_image": "https://graph.facebook.com/789795011164491/picture?type=large", "display_name": "Tri Ngo", "link": "https://stackoverflow.com/users/6283788/tri-ngo"}, "reply_to_user": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "edited": false, "score": 0, "creation_date": 1566812896, "post_id": 57488104, "comment_id": 101760822, "body": "thank you so much, i will pay attention it"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1565757677, "creation_date": 1565757677, "answer_id": 57488251, "question_id": 57488104, "link": "https://stackoverflow.com/questions/57488104/how-can-i-match-value-of-two-variables-like-match-a-variable-and-a-string/57488251#57488251", "title": "How can i match value of two variables like match a variable and a string?", "body": "<p><code>$b =~ $a</code> (which implies <code>$b =~ /$a/</code>) if the value of <code>$a</code> is a regex pattern.</p>\n\n<p><code>$b =~ /\\Q$a/</code> if the value of <code>$a</code> is to be matched literally.</p>\n"}], "owner": {"reputation": 41, "user_id": 6283788, "user_type": "registered", "profile_image": "https://graph.facebook.com/789795011164491/picture?type=large", "display_name": "Tri Ngo", "link": "https://stackoverflow.com/users/6283788/tri-ngo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1565758754, "creation_date": 1565756273, "last_edit_date": 1565758754, "question_id": 57488104, "link": "https://stackoverflow.com/questions/57488104/how-can-i-match-value-of-two-variables-like-match-a-variable-and-a-string", "title": "How can i match value of two variables like match a variable and a string?", "body": "<p>During doing my home work, i faced to a problem.\nthe result is always \"bye bye\". How can I fix it?. Thanks.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$a = \"abc\";\n$b = \"asws.abc  sda .abb$sss\";\nif ($a=~$b){\n     print \"hello\";}\nelse {\n     print \"bye bye\";}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1565743956, "post_id": 57486738, "comment_id": 101444648, "body": "What exactly does &quot;I get errors&quot; mean? The code in your question does not produce any error message when I include it in a script. And I don&#39;t see anything in your question about assigning a variable to itself. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1565744216, "post_id": 57486738, "comment_id": 101444686, "body": "I&#39;ve updated with more details. @KeithThompson"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1565745657, "post_id": 57486738, "comment_id": 101444928, "body": "What do you expect <code>$file1 = $file1;</code> to do? If the initial value of <code>$file1</code> is <code>undef</code>, it&#39;s still going to be <code>undef</code> after the assignment."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565747176, "post_id": 57486738, "comment_id": 101445209, "body": "So you want to use any filenames that user supplied instead of what the function returned (for <i>those</i> names)?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565755294, "post_id": 57486738, "comment_id": 101446564, "body": "&quot;Uninitialized&quot; really means &quot;undefined&quot;, whether it&#39;s because you never assigned or value or for some other reason"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1565802042, "post_id": 57486738, "comment_id": 101467725, "body": "@KeithThompson I thought using &quot;if(defined $file1)&quot; would mean that if there is a user input for it and if (not defined $file1) could be used if there is no user input through command line. I&#39;m confused on how to properly syntax for command line arg options in code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565803002, "post_id": 57486738, "comment_id": 101468077, "body": "As for &quot;<i>how to properly syntax for command line arg options</i>&quot; --- need separate variables, for what the function returns and what is assigned by user input.  Or, need <code>if</code>-branches for all possibilties, like <code>if (not defined $file2) { (undef, $file2, undef) = getFiles() }</code>  (assign only to <code>$file2</code> and discard other returns from the function) -- but that would be a mess since there&#39;d be a separate call for each possibilty (f1 and f2, f1 and f3, ...). Another good option is to rewrite the sub, so that it can take information about what filenames to return (or set, by reference)."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1565809922, "post_id": 57486738, "comment_id": 101470800, "body": "<code>if (not defined $file1)</code> is perfectly fine. The problem is what you do if it&#39;s not defined. You probably want something like <code>if (not defined $file1) { $file1 = some_meaningful_value; }</code>. Your statement <code>$file1 = $file;</code> is guaranteed to be useless whether <code>$file1</code> is defined or not, regardless of the context."}], "answers": [{"comments": [{"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565743509, "post_id": 57486849, "comment_id": 101444584, "body": "What is the reason behind checking if there is more than a certain number of arguments? Why check if there is more than 2 or 3?"}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "reply_to_user": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565744366, "post_id": 57486849, "comment_id": 101444705, "body": "@sfr: More <code>&gt;= 3</code> is optional, you&#39;d need to match more than three if you allowed more than three arguments. For the <code>&gt;= 1</code>: The first variable needs to be overwritten if the first argument was given. When the first argument was given <code>@ARGV</code> contains at least one element but it can be more, if the second argument was also given. And analog for the other cases."}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": false, "score": 1, "last_activity_date": 1565743076, "creation_date": 1565743076, "answer_id": 57486849, "question_id": 57486738, "link": "https://stackoverflow.com/questions/57486738/enable-a-user-option-to-override-a-value-for-a-variable/57486849#57486849", "title": "Enable a user option to override a value for a variable", "body": "<p>You can check if there are three (or more) arguments and then set the variables from <code>@ARGV</code>. Otherwise first set them from the function and selectively overwrite the first and the second variable.</p>\n\n<pre><code>my ($file1, $file2, $file3);\nif (scalar(@ARGV) &gt;= 3) {\n    ($file1, $file2, $file3) = @ARGV;\n}\nelse {\n    ($file1, $file2, $file3) = getFiles();\n    if (scalar(@ARGV) &gt;= 1) {\n        $file1 = $ARGV[0];\n    }\n    if (scalar(@ARGV) &gt;= 2) {\n        $file2 = $ARGV[1];\n    }\n}\n</code></pre>\n\n<p>Or, if <code>getFiles()</code> isn't expensive, just first set them by the function and overwrite them if necessary.</p>\n\n<pre><code>my ($file1, $file2, $file3) = getFiles();\nif (scalar(@ARGV) &gt;= 1) {\n    $file1 = $ARGV[0];\n}\nif (scalar(@ARGV) &gt;= 2) {\n    $file2 = $ARGV[1];\n}\nif (scalar(@ARGV) &gt;= 3) {\n    $file3 = $ARGV[2];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1320, "user_id": 443908, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0e078ee5805b1ac13352393e82190e84?s=128&d=identicon&r=PG", "display_name": "badperson", "link": "https://stackoverflow.com/users/443908/badperson"}, "is_accepted": false, "score": 1, "last_activity_date": 1565744362, "creation_date": 1565744362, "answer_id": 57486947, "question_id": 57486738, "link": "https://stackoverflow.com/questions/57486738/enable-a-user-option-to-override-a-value-for-a-variable/57486947#57486947", "title": "Enable a user option to override a value for a variable", "body": "<p>Here's my solution:</p>\n\n<pre><code>my @files = &amp;getFileList();\n\nmy ($file1, $file2, $file3) = &amp;getFileSubList();\n\nprint \"file1 : $file1\\n\";\nprint \"file2 : $file2\\n\";\nprint \"file3 : $file3\\n\";\n\n\n\nsub getFileSubList() {\n\n    my @indeces = (0, 2, 3);\n    for (my $i = 0; $i &lt; $#indeces; $i++) {\n        if ($ARGV[$i]) {\n            $files[$indeces[$i]] = $ARGV[$i];\n        }\n    }   \n\n    my ($file1, $file2, $file3);\n\n    return ($file1, $file2, $file3) = ($files[0], $files[2], $files[3]);\n}\n</code></pre>\n\n<p>just loop over @ARGV and assign any matching file to the return array at the appropriate index, and then return the three at (0,2,3)  of the resulting array. </p>\n\n<p>Also note that you can get rid of the warnings you outlined by adding</p>\n\n<pre><code>use warnings;\nno warnings 'uninitialized';\n</code></pre>\n\n<p>although in this case you actually want to see that the varz are uninitialized, they'll go away if the varz are populated properly. </p>\n\n<p>I omitted the function that populates the initial array of files, I just globbed a folder on my file system. </p>\n"}, {"comments": [{"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565802855, "post_id": 57487341, "comment_id": 101468033, "body": "But when using Getopt, don&#39;t you still have to set the variables to @ARGV to be read through the command line? So either it reads in a user command or it uses the value assigned to it in the script."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 1, "creation_date": 1565803495, "post_id": 57487341, "comment_id": 101468275, "body": "The <code>Getopt::Long</code> assigns input for us, to variables given by <code>=&gt; \\$var</code>.  So, if user submitted name for file2 (first example invocation) then that (string <code>name2</code> in the example) is assigned to the variable <code>$fn2</code>.  Then later we check which ones were set that way, and those that weren&#39;t are set up by what the function returned.  So, in this example, in <code>$fn2 &#47;&#47;= ...</code> the <code>$fn2</code> <i>has been defined</i> so it won&#39;t set a new value for it; but for <code>$fn1 &#47;&#47;= ...</code> the part <code>&#47;&#47;</code> of the <code>&#47;&#47;=</code> operator (is-it-defined) is false (<code>$fn1</code> has not been given) so it assigns <code>$fname[0]</code> for it.  Etc."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565803615, "post_id": 57487341, "comment_id": 101468315, "body": "(the above uses the first example invocation, <code>script.pl --file2 name2</code>)"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565804000, "post_id": 57487341, "comment_id": 101468459, "body": "Your explanations always make the best sense!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1565801510, "last_edit_date": 1565801510, "creation_date": 1565748630, "answer_id": 57487341, "question_id": 57486738, "link": "https://stackoverflow.com/questions/57486738/enable-a-user-option-to-override-a-value-for-a-variable/57487341#57487341", "title": "Enable a user option to override a value for a variable", "body": "<p>I read the question as follows: allow for user input for (any of) three filenames, and then the ones that are supplied should override names that are anyway worked out otherwise.</p>\n\n<p>There are two main components to this</p>\n\n<ul>\n<li><p>Need to provide named arguments for user input; how else are they going to give you the name for, say, file-2 only? That's solved nicely with the core module <a href=\"https://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\">Getopt::Long</a></p></li>\n<li><p>Implement some logic that allows you to check what names have been supplied and assign the others. Use of extra (ancillary) variables makes that easier</p></li>\n</ul>\n\n<p>A basic example</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Getopt::Long;\n\nmy ($fn1, $fn2, $fn3);\n\nGetOptions('file1|f1=s' =&gt; \\$fn1, 'file2|f2' =&gt; \\$fn2, 'file3|f3' =&gt; \\$fn3)\n    or usage();\n\nSET_NAMES: {\n    my @fnames = getFiles();\n\n    $fn1 //= $fnames[0];  #/\n    $fn2 //= $fnames[1];  #/\n    $fn3 //= $fnames[2];\n};\n\nsay \"Filenames:\\n\\t$fn1\\n\\t$fn2\\n\\t$fn3\";\n\n\nsub usage {\n    say STDERR \"Usage: $0 [-file1|f1 name] [-file2|f2 name] [-file3|f3 name]\";\n    exit;\n}\n\nsub getFiles { return qw(n1 n2 n3) }  # so that this program runs\n</code></pre>\n\n<p>This program can then be invoked as</p>\n\n<pre><code>script.pl --file2 name2\nscript.pl -f1 name1 -f3 name3   # etc\n</code></pre>\n\n<p>so with nice flexibility for how the arguments are given. See <code>Getopt::Long</code> docs.</p>\n\n<p>The block <code>SET_NAMES</code> is used only to lexically isolate that code so that the temporary <code>@fname</code> isn't visible elsewhere.  </p>\n\n<p>As for filenames, we check each for whether it has been defined (by user input) and if not then the corresponding name from <code>getFiles</code> is assigned to it. This uses <a href=\"https://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow noreferrer\">defined-or operator</a>, <code>//=</code>.  </p>\n\n<p>There are of course a number of other ways to resolve this. Perhaps the best would be to modify the function itself so that it sets up names that <em>are</em> needed.</p>\n"}], "owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 57487341, "answer_count": 3, "score": -1, "last_activity_date": 1565801510, "creation_date": 1565741850, "last_edit_date": 1565762194, "question_id": 57486738, "link": "https://stackoverflow.com/questions/57486738/enable-a-user-option-to-override-a-value-for-a-variable", "title": "Enable a user option to override a value for a variable", "body": "<p>I have a subroutine returning three elements of an array. <br><code>return ($file[0], $file[2], $file[3]);</code> <br><br>I am then assigning it to three variables. <br><code>my ($file1, $file2, $file3) = getFiles();</code></p>\n\n<p>This does exactly what's expected and assigns to each of the variables.</p>\n\n<p>I now want to enable a user option to supply any of the files through the command line if they wish.</p>\n\n<p>Here is what I did:</p>\n\n<pre><code>if(not defined $file1){$file1 = $file1;}\nif (not defined $file2){$file2 = $file2;}\nif (not defined $file3){$file3 = $file3;}\nelse {($file1, $file2, $file3) = @ARGV;}\n</code></pre>\n\n<p>This is the error I get when later trying to use that variable. </p>\n\n<blockquote>\n  <p>Use of uninitialized value $file1 at script.pl line 40 <br>\n  Use of uninitialized value $file2 at script.pl line 41 <br>\n  Use of uninitialized value $file3 at script.pl line 42<br></p>\n</blockquote>\n\n<p>How can I properly do this so that it keeps the same path unless a user passes one through command line?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1565740372, "post_id": 57485258, "comment_id": 101444118, "body": "@Shawn no; in scalar context, there is no list.  the comma operator in <code>return ($f, $b)</code> is in scalar context when the sub call has scalar context, and it discards its left operand, leaving the sub just returning <code>$b</code>."}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 2, "last_activity_date": 1565777257, "last_edit_date": 1565777257, "creation_date": 1565730517, "answer_id": 57485360, "question_id": 57485258, "link": "https://stackoverflow.com/questions/57485258/assign-number-to-variable-in-perl-subroutine-assign-returned-list-to-variables/57485360#57485360", "title": "Assign number to variable in perl subroutine [assign returned list to variables]", "body": "<p>You have passed arguments <strong>to</strong> subroutine: <code>$f = mode(0); $b = mode(1);</code>.</p>\n\n<p>Try the following:</p>\n\n<pre><code>my ($f,$b) = mode();\n</code></pre>\n\n<p>Your subroutine returns a fixed length list. You may assign values in the list to your variables.</p>\n"}, {"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": true, "score": 1, "last_activity_date": 1565731310, "creation_date": 1565731310, "answer_id": 57485487, "question_id": 57485258, "link": "https://stackoverflow.com/questions/57485258/assign-number-to-variable-in-perl-subroutine-assign-returned-list-to-variables/57485487#57485487", "title": "Assign number to variable in perl subroutine [assign returned list to variables]", "body": "<p>The problem is the mismatch between the definition of the subroutine (no parameters) and the way you are trying to call it (one argument).</p>\n\n<p>Change those calls to this and it works:</p>\n\n<pre><code>$f= (mode())[0];\n$b= (mode())[1];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10, "user_id": 6338110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2RCo.jpg?s=128&g=1", "display_name": "Cammi Mitchell", "link": "https://stackoverflow.com/users/6338110/cammi-mitchell"}, "is_accepted": false, "score": 0, "last_activity_date": 1565782565, "creation_date": 1565782565, "answer_id": 57493921, "question_id": 57485258, "link": "https://stackoverflow.com/questions/57485258/assign-number-to-variable-in-perl-subroutine-assign-returned-list-to-variables/57493921#57493921", "title": "Assign number to variable in perl subroutine [assign returned list to variables]", "body": "<p>Think there is a syntactical difference between getting an array index FROM the return set versus sending an argument; function(xxx) sends the argument, (function()[])is using an array slice of the return.</p>\n"}], "owner": {"reputation": 3, "user_id": 11924349, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QLONPx1xLpg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUYbkOfjxwyADCSi7OJFehdR_jiA/photo.jpg?sz=128", "display_name": "user11924349", "link": "https://stackoverflow.com/users/11924349/user11924349"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 57485487, "answer_count": 3, "score": 0, "last_activity_date": 1565782565, "creation_date": 1565730022, "last_edit_date": 1565777344, "question_id": 57485258, "link": "https://stackoverflow.com/questions/57485258/assign-number-to-variable-in-perl-subroutine-assign-returned-list-to-variables", "title": "Assign number to variable in perl subroutine [assign returned list to variables]", "body": "<p>I am trying to call a multiple variable from a subroutine but when i try to print, it just print only one variable.</p>\n\n<p>In python the script will be f=mode()[0] and b=mode()[1] and it works.</p>\n\n<p>subroutinefile a.pl</p>\n\n<pre><code>sub mode() {\n    my ($f, $b);\n    $f=41;\n    $b=2;\n    return ($f,$b);\n }\n</code></pre>\n\n<p>And another file that calls the a.pl</p>\n\n<pre><code>use strict;\nuse warnings;\nrequire 'a.pl';\nmy ($f,$b);\n$f= mode(0);\n$b= mode(1);\nprint \"$f\\n\";\nprint \"$b\\n\";\n</code></pre>\n\n<p>The problem is it only prints 2 for both f and b.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 3, "creation_date": 1565720838, "post_id": 57483223, "comment_id": 101438166, "body": "Do you need to use perl? This is likely just a couple lines of shell - given the files are sorted already, <code>sort -um first.txt second.txt third.txt</code> will give all the names from all the files. (If not already sorted, drop the <code>-m</code>). Then <code>join</code> for combining with the grade files..."}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 2, "creation_date": 1565722405, "post_id": 57483223, "comment_id": 101438831, "body": "<code>use strict; use warnings;</code> Use proper indentation. Move repeated code fragments into <code>sub</code>s."}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1565722448, "post_id": 57483223, "comment_id": 101438847, "body": "The entire script is in perl so I&#39;m trying to do as much of it in pure perl as I can since I have a couple sed and awk in my code. However, I appreciate your suggestion too. It&#39;s always good to know how to do things in shell also. Especially for cross checking. @Shawn"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1565722560, "post_id": 57483223, "comment_id": 101438897, "body": "@Robert Wow. I can&#39;t believe I didn&#39;t think of putting it into a sub. That would definitely make it cleaner."}], "answers": [{"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": true, "score": 3, "last_activity_date": 1565723407, "creation_date": 1565723407, "answer_id": 57483988, "question_id": 57483223, "link": "https://stackoverflow.com/questions/57483223/comparing-three-files-in-perl/57483988#57483988", "title": "Comparing three files in Perl", "body": "<p>Unless this is for a class or something where using perl is a hard requirement, the cleaner way is to not use perl at all, but standard shell utilites.</p>\n\n<p>Assuming your <code>originalN.txt</code> files look something like:</p>\n\n<pre><code>Alice   A\nBob     B\nCarl    C\nDerrick D\nJessica A\nSarah   B\nZach    C\n</code></pre>\n\n<p>with tabs separating the columns</p>\n\n<p>you can do:</p>\n\n<pre><code>sort -um &lt;(cut -f1 original1.txt) \\\n         &lt;(cut -f1 original2.txt) \\\n         &lt;(cut -f1 original3.txt) &gt; allnames.txt\n</code></pre>\n\n<p>to get a file with all the names from all three files (If they're not already sorted by name, use <code>sort -u ...</code> instead). This does require bash, zsh, or ksh93 for the <code>&lt;(command)</code> redirection syntax.</p>\n\n<p>Then you can merge those names with each individual file with a left outer <a href=\"http://man7.org/linux/man-pages/man1/join.1.html\" rel=\"nofollow noreferrer\"><code>join</code></a>:</p>\n\n<pre><code>$ join -t$'\\t' -a1 allnames.txt original1.txt\nAlice   A\nBob     B\nCarl    C\nDerrick D\nJared\nJessica A\nSarah   B\nSlate\nTerry\nZach    C\n</code></pre>\n\n<p>and so on.</p>\n\n<hr>\n\n<p>If using perl, there's no need for all those temporary files. Just stick the names from all the original files in a hash:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse autodie;\nuse feature qw/say/;\n\n# Read all names from the files given on the command line.\nmy %names;\nfor my $file (@ARGV) {\n    open my $infile, \"&lt;\", $file;\n    while (&lt;$infile&gt;) {\n        my $n = ( split /\\t/ )[0];\n        $names{$n} = 1;\n    }\n}\n\n# And for each file, merge with all the names\nfor my $file (@ARGV) {\n    say \"****** $file *******\";\n    open my $infile, \"&lt;\", $file;\n    my %grades = map { $_ =&gt; undef } keys %names;\n    while (&lt;$infile&gt;) {\n        chomp;\n        my ( $name, $grade ) = split /\\t/;\n        $grades{$name} = $grade;\n    }\n    for my $name ( sort keys %grades ) {\n        if ( defined $grades{$name} ) {\n            say \"$name\\t$grades{$name}\";\n        }\n        else {\n            say $name;\n        }\n    }\n}\n</code></pre>\n\n<p>Writing the results to files instead of standard output is left as an exercise for the reader.</p>\n"}], "owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 57483988, "answer_count": 1, "score": 1, "last_activity_date": 1566427279, "creation_date": 1565719700, "last_edit_date": 1566427279, "question_id": 57483223, "link": "https://stackoverflow.com/questions/57483223/comparing-three-files-in-perl", "title": "Comparing three files in Perl", "body": "<p>I have three text files containing names and grades. I removed the grades and created new files with just the names. Here is what the files look like:</p>\n\n<p>first.txt <br></p>\n\n<blockquote>\n  <p>Alice <br>\n  Bob <br>\n  Carl <br>\n  Derrick<br>\n  Jessica<br>\n  Sarah<br>\n  Zach<br></p>\n</blockquote>\n\n<p>second.txt <br></p>\n\n<blockquote>\n  <p>Alice<br>\n  Bob<br>\n  Derrick<br>\n  Jared<br>\n  Jessica<br>\n  Sarah <br>\n  Zach<br></p>\n</blockquote>\n\n<p>third.txt <br></p>\n\n<blockquote>\n  <p>Bob<br>\n  Jared<br>\n  Sarah<br>\n  Slate<br>\n  Terry<br>\n  Zach<br></p>\n</blockquote>\n\n<p>I want to compare all three files and if there is a name in one file that is not in the other, I want to add it in. So at the end all files will contain the same names. I know you gonna add lines in perl, so a new file will have to created to do this. </p>\n\n<p>Here is my approach to it. I start by comparing the first and second, adding differences from second into first. Then comparing first and second, adding differences from first into second. Then I compare the second file (either works) with third file, print differences from second into third file. Then I compare second and third, and print differences that are in third into both first and second. I put compare statements in as well to ensure the files have the same entries.</p>\n\n<p>The files with grades are named <code>original1.txt</code> <code>original2.txt</code>  <code>original3.txt</code></p>\n\n<p>In the end I will take the files containing the new names, and combine them with the files that have the grades. If there is no grade for a new name in the file, it will simply have no grade entry. </p>\n\n<p>Is there a cleaner way of doing this? It looks like a huge mess. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565712140, "post_id": 57480814, "comment_id": 101434509, "body": "<code>del trash_folder</code> doesn&#39;t delete a folder in Windows"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1565712673, "post_id": 57480814, "comment_id": 101434740, "body": "You might be interested in <code>pathrmdir()</code> from <a href=\"https://metacpan.org/pod/File::Copy::Recursive\" rel=\"nofollow noreferrer\">File::Copy::Recursive</a>"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1565713067, "post_id": 57480814, "comment_id": 101434916, "body": "Or <code>remove_tree()</code> from <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565714517, "post_id": 57480814, "comment_id": 101435481, "body": "Core&#39;s <a href=\"https://metacpan.org/pod/File::Path\" rel=\"nofollow noreferrer\">File::Path</a> has <code>remove_tree</code>"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1984, "user_id": 953279, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/htDmh.jpg?s=128&g=1", "display_name": "Makan Tayebi", "link": "https://stackoverflow.com/users/953279/makan-tayebi"}, "edited": false, "score": 1, "creation_date": 1565711577, "post_id": 57480867, "comment_id": 101434202, "body": "@MakanTayebi: My update might be interesting to you."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1565711559, "last_edit_date": 1565711559, "creation_date": 1565709658, "answer_id": 57480867, "question_id": 57480814, "link": "https://stackoverflow.com/questions/57480814/perl-directory-management-on-different-operating-systems/57480867#57480867", "title": "Perl - Directory Management on Different Operating Systems", "body": "<p>The <code>del</code> command is never going to create a new directory, is it? :-)</p>\n\n<ul>\n<li>If you want to create directories, use the <a href=\"https://perldoc.pl/functions/mkdir\" rel=\"nofollow noreferrer\"><code>mkdir</code></a> command.</li>\n<li>If you want to remove directories, use the <a href=\"https://perldoc.pl/functions/rmdir\" rel=\"nofollow noreferrer\"><code>rmdir</code></a> command.</li>\n</ul>\n\n<p><strong>Update:</strong> In general, if you have a choice between using a Perl built-in function or an external command, then the Perl function will be the better choice. Firstly, your code will be more portable and, secondly, opening a sub-shell to run the external command will slow your program down.</p>\n"}], "owner": {"reputation": 1984, "user_id": 953279, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/htDmh.jpg?s=128&g=1", "display_name": "Makan Tayebi", "link": "https://stackoverflow.com/users/953279/makan-tayebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57480867, "answer_count": 1, "score": 2, "last_activity_date": 1565711559, "creation_date": 1565709474, "last_edit_date": 1565711112, "question_id": 57480814, "link": "https://stackoverflow.com/questions/57480814/perl-directory-management-on-different-operating-systems", "title": "Perl - Directory Management on Different Operating Systems", "body": "<p>I am new in Perl. I am using the following command to remove a folder in Perl, under Windows:</p>\n\n<pre><code>system \"del trash_folder\";\n</code></pre>\n\n<p>But I intend to run the same script under <code>Unix</code> as well. I could get the OS name in the code and run a different command based on the OS. But is there no better way in Perl? I am thinking of possibly an API or so that is OS-ignorant.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1565710328, "post_id": 57479610, "comment_id": 101433569, "body": "do you just need to compare filenames that are next to each other?  or could e.g. file1 and file5 be the same and the others all different?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1565710362, "post_id": 57479610, "comment_id": 101433583, "body": "how large are the files?"}, {"owner": {"reputation": 51, "user_id": 11724288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98f635624a9c5c357b0d1dffef4de67c?s=128&d=identicon&r=PG&f=1", "display_name": "sevonchan", "link": "https://stackoverflow.com/users/11724288/sevonchan"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1565710716, "post_id": 57479610, "comment_id": 101433756, "body": "@ysh These information were not given in the homework so I don&#39;t really know"}], "answers": [{"comments": [{"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1565710720, "post_id": 57481146, "comment_id": 101433759, "body": "Let me know if you have any questions"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565711923, "post_id": 57481146, "comment_id": 101434389, "body": "This is very inefficient."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1565711746, "last_edit_date": 1565711746, "creation_date": 1565710708, "answer_id": 57481146, "question_id": 57479610, "link": "https://stackoverflow.com/questions/57479610/list-identical-files-and-sort-the-filenames-in-order/57481146#57481146", "title": "List identical files and sort the filenames in order", "body": "<p>There is most likely a more elegant solution, but this should do what you want:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Compare qw( compare );\n\n@ARGV = sort grep -e $_, @ARGV;\n\nmy %printed;\nfor my $i1 (0..$#ARGV-1) {\n    my $file1 = $ARGV[$i1];\n    next if $printed{$file1};\n\n    my @set = $file1;\n\n    for my $i2 ($i+1..$#ARGV) {\n        my $file2 = $ARGV[$i2];\n\n        if (compare($file1, $file2) == 0) {\n            push @set, $file2;\n            $printed{$file2} = 1;\n        }\n    }\n\n    print \"@set\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565718161, "post_id": 57482322, "comment_id": 101436969, "body": "This is very inefficient. You are reading every file whether another file has the same size or not. (Also, you might want double-check to make sure two files with the same hash are actually identical.)"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565718615, "post_id": 57482322, "comment_id": 101437188, "body": "@ikegami Feel free to post your own answer if you don&#39;t like other people&#39;s."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565718861, "post_id": 57482322, "comment_id": 101437307, "body": "This doesn&#39;t properly sort the file names. (I posted a fix, but Shawn reverted it)"}], "tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 0, "last_activity_date": 1565718788, "last_edit_date": 1565718788, "creation_date": 1565715778, "answer_id": 57482322, "question_id": 57479610, "link": "https://stackoverflow.com/questions/57479610/list-identical-files-and-sort-the-filenames-in-order/57482322#57482322", "title": "List identical files and sort the filenames in order", "body": "<p>This approach calculates a SHA1 digest for each file, and uses that to determine identical files, instead of having to repeatedly compare entire files:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse feature qw/say/;\nuse Digest::SHA;\n\ndie \"Usage: $0 FILES\\n\" if @ARGV == 1;\n\nmy %filegroups;\nfor my $file (grep { -e $_ } @ARGV) {\n    push @{ $filegroups{ Digest::SHA-&gt;new(1)-&gt;addfile($file)-&gt;digest } }, $file;\n}\n\nlocal $, = \", \";\nfor my $group ( sort keys %filegroups ) {\n    say sort @{ $filegroups{$group} };\n}\n</code></pre>\n\n<p>Running on some sample files:</p>\n\n<pre><code>$ perl filesort.pl file[1-5]                                                                \nfile2, file3\nfile1\nfile4, file5\n</code></pre>\n\n<p>The files are displayed with each group of identical files ordered in an arbitrary but consistent fashion (By sorting their digests), and then by name in each group.</p>\n\n<p>If you just want a flat list of sorted file names, a <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow noreferrer\">Schwartzian Transform</a> works:</p>\n\n<pre><code>my @files =\n  map  { $_-&gt;[0] }\n  sort { $a-&gt;[1] cmp $b-&gt;[1] || $a-&gt;[0] cmp $b-&gt;[0] }\n  map  { [ $_, Digest::SHA-&gt;new(1)-&gt;addfile($_)-&gt;digest ] } @ARGV;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 11724288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98f635624a9c5c357b0d1dffef4de67c?s=128&d=identicon&r=PG&f=1", "display_name": "sevonchan", "link": "https://stackoverflow.com/users/11724288/sevonchan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1565718788, "creation_date": 1565705530, "last_edit_date": 1565711508, "question_id": 57479610, "link": "https://stackoverflow.com/questions/57479610/list-identical-files-and-sort-the-filenames-in-order", "title": "List identical files and sort the filenames in order", "body": "<p>I'm writing a program that lists the identical files given in the argument, and sort the filename alphabetically when printing out.</p>\n\n<p>If the arguments are <code>file1</code>, <code>file2</code>, <code>file3</code>, <code>file4</code>, <code>file5</code>, if <code>file2</code> and <code>file3</code> are identical, and if <code>file4</code> and <code>file5</code> are identical, the output should be:</p>\n\n<pre><code>file1\nfile2, file3\nfile4, file5\n</code></pre>\n\n<p>What I was trying to do was to loop through every args with foreach, and test if the file exist, then compare the file content, and sort filenames using cmp</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse File::Basename;\nuse File::Compare;\n\ndie \"Usage $0: &lt;files&gt;\\n\" if @ARGV != 1;\n\nforeach $args(@ARGV){\n    if (-e $args){\n       #not sure how to do \n    }\n}\n</code></pre>\n\n<p>Above is what I had just wrote and I'm not sure how could I compare contents of several files and if I want to print out the name of a file, do I just do $i = basename $file then print $i?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1565756546, "last_edit_date": 1565756546, "creation_date": 1565755805, "answer_id": 57488054, "question_id": 57476947, "link": "https://stackoverflow.com/questions/57476947/perl-module-to-find-reverse-dependencies-not-only-cpan/57488054#57488054", "title": "perl module to find reverse dependencies (not only cpan)", "body": "<pre><code>find -name '*.pm' -print0 |\n   xargs -0 -l perl -e'require $ARGV[0]; CORE::say $ARGV[0] =~ s{^\\./}{}r if $INC{\"site/Import.pm\"}' |\n      sort -u |\n         perl -ple'printf \"%s (%s)\\n\", s{\\.pm\\z}{}r =~ s{/}{::}gr, $_'\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1565756546, "creation_date": 1565696180, "last_edit_date": 1565731794, "question_id": 57476947, "link": "https://stackoverflow.com/questions/57476947/perl-module-to-find-reverse-dependencies-not-only-cpan", "title": "perl module to find reverse dependencies (not only cpan)", "body": "<p>I need a static analysis tool (preferably command-line script as <a href=\"https://metacpan.org/pod/distribution/Module-ScanDeps/script/scandeps.pl\" rel=\"nofollow noreferrer\">scandeps.pl</a>) which can help to find reverse dependencies (not only cpan).</p>\n\n<p>Example. One project has module <code>site::Import</code> and modules <code>site::Import::A</code> and <code>site::Import::B</code>, which have <code>use parent 'Site::Import'</code> in their code. I need that ouput of desired tool will be like </p>\n\n<pre><code>$ rdepsscan site/Import.pm\nsite::Import::A (site/Import/A.pm)\nsite::Import::B (site/Import/B.pm)\n</code></pre>\n\n<p>For now most relevant way that I found is <code>grep -r -E \"use*.+site::Import\" --exclude=\\*.t .</code> But it's not so robust, e.g. one file can be twice in output. And it not covers situation when different modules can be in same file (though it's a bad practise)</p>\n"}, {"tags": ["perl", "text-processing"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11921661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6cYODQfeeNk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBgMX-HtG12i_xcrEbJiN-4n3UzA/photo.jpg?sz=128", "display_name": "Nilarun Mukherjee", "link": "https://stackoverflow.com/users/11921661/nilarun-mukherjee"}, "edited": false, "score": 1, "creation_date": 1565693770, "post_id": 57476048, "comment_id": 101424345, "body": "Perfectly works for me and the requirement. You are awesome."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1565693565, "last_edit_date": 1565693565, "creation_date": 1565692854, "answer_id": 57476048, "question_id": 57475257, "link": "https://stackoverflow.com/questions/57475257/display-lines-outside-multiline-comment-block/57476048#57476048", "title": "Display lines outside multiline comment block", "body": "<p>Try this:</p>\n\n<pre><code>perl -0777 -pe's{/\\*.*?\\*/}{}sg' file.sql\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>I want this line to print\n\n\nWant this to \n  print\n</code></pre>\n\n<p><strong>Explanation</strong>:</p>\n\n<ul>\n<li><code>-0777</code> : slurp mode</li>\n<li>modifier flag <code>s</code>: make the dot match new lines</li>\n<li>modifier flag <code>g</code>: globally match the pattern repeatedly</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1565706503, "creation_date": 1565706503, "answer_id": 57479903, "question_id": 57475257, "link": "https://stackoverflow.com/questions/57475257/display-lines-outside-multiline-comment-block/57479903#57479903", "title": "Display lines outside multiline comment block", "body": "<p>You were very close. This seems to do what you want.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n  print unless m[/\\*] .. m[\\*/];\n}\n\n__DATA__\n/* This is commented section\nasdasd...\nasdasdasd...\nadasdasd..\nsdasd */\nI want this line to print\n/* Dont want this to print */\n/* Dont want this\n  to print\n  */\nWant this to \n  print\n    /*\nDo not want \nthis to print\n*/\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>I want this line to print\nWant this to \n  print\n</code></pre>\n\n<p>The problem was with the two match operators that you were using at either end of the flip-flop (<code>//*/../*//</code>).</p>\n\n<p>Firstly, if you use a slash as the delimiter on the match operator, then any slashes in your regex need to be escaped. I've got round that by switching from slashes (<code>/ ... /</code>) to using <code>m[ ... ]</code> instead.</p>\n\n<p>Secondly, the <code>*</code> has a special meaning in a regex (it means \"zero or more of the previous thing\") so you need to escape those.</p>\n\n<p>So we end up with <code>m[/\\*] .. m[\\*/]</code>.</p>\n\n<p>Oh, and you need to reverse your logic. You're using <code>if</code> when it should be <code>unless</code>.</p>\n\n<p>Converting to a command-line script like the one you've used:</p>\n\n<pre><code>perl -ne 'print unless m[/\\*] .. m[\\*/]' file.sql\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11921661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6cYODQfeeNk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBgMX-HtG12i_xcrEbJiN-4n3UzA/photo.jpg?sz=128", "display_name": "Nilarun Mukherjee", "link": "https://stackoverflow.com/users/11921661/nilarun-mukherjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 57479903, "answer_count": 2, "score": 2, "last_activity_date": 1565706503, "creation_date": 1565689912, "last_edit_date": 1565690614, "question_id": 57475257, "link": "https://stackoverflow.com/questions/57475257/display-lines-outside-multiline-comment-block", "title": "Display lines outside multiline comment block", "body": "<p>I am trying to filter out Multi-line comments from a Unix file. We will use that file to run against Oracle engine</p>\n\n<p>I tried to use below but it doesn't show proper output I want.</p>\n\n<p>My file file.sql contains this:</p>\n\n<pre><code>/* This is commented section\nasdasd...\nasdasdasd...\nadasdasd..\nsdasd */\nI want this line to print\n/* Dont want this to print */\n/* Dont want this\n  to print\n  */\nWant this to \n  print\n    /*\nDo not want \nthis to print\n*/\n</code></pre>\n\n<p>My output needs to be like below::</p>\n\n<pre><code>I want this line to print\nWant this to \n  print\n</code></pre>\n\n<p>I have tried using below perl to first show me the lines inside the Multiline comment, but it doesn't show proper output :(</p>\n\n<pre><code>perl -ne 'print if //*/../*//' file.sql\n</code></pre>\n\n<p>My main goal is the not show the multiline comment line and just display the output as earlier mentioned.</p>\n"}, {"tags": ["perl", "internationalization", "catalyst", "html-formfu"], "owner": {"reputation": 21, "user_id": 11921421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afaec00b331ee8882f29bb4c145e8abf?s=128&d=identicon&r=PG&f=1", "display_name": "Biber89", "link": "https://stackoverflow.com/users/11921421/biber89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1565687114, "creation_date": 1565687114, "question_id": 57474437, "link": "https://stackoverflow.com/questions/57474437/catalystplugini18n-doesnt-work-properly-with-htmlformfu", "title": "Catalyst::Plugin::I18N doesn&#39;t work properly with HTML::FormFu", "body": "<p>I'm setup a new project with Catalyst with the Plugin Catalyst::Plugin::I18N and creating forms with HTML::FormFu my problem is that localization with the HTML::FormFu config files doesn't work.</p>\n\n<p>I create my language files like written here: <a href=\"https://metacpan.org/pod/Catalyst::Plugin::I18N::Manual\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Catalyst::Plugin::I18N::Manual</a></p>\n\n<p>I tried solutions like localize_class or add_localize_class_from_object but none didn't work</p>\n\n<p>My Form config file looks like this:</p>\n\n<pre><code>action:\nindicator: submit\nauto_fieldset: 1\nelements:\n  - type: Text\n    name: email\n    id: email\n    label_loc: form.add_user.email.label\n    constraints:\n      - type: Required\n        message_loc: form.add_user.email.constraint.required\n      - type: Email\n        message_loc: form.add_user.email.constraint.email\n    error_tag: div\n    render_method: tt\n    attributes_xml: { class: form-control }\ncontainer_attributes: { class: form-group }\n</code></pre>\n\n<p>The Action in the Catalyst Controller (I'm using Catalyst::Controller::HTML::FormFu)</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub add_user :Path('/admin/add/user') :FormConfig {\n    my ($self, $c) = @_;\n\n    my $form        = $c-&gt;stash-&gt;{'form'};\n    $form-&gt;get_field('submit')-&gt;value($c-&gt;loc('form.add_user.submit.value'));\n    return if !$form-&gt;submitted_and_valid;\n}\n</code></pre>\n\n<p>Content of the de.po File:</p>\n\n<pre><code>#: root/forms/admin/add_user.yml:9\nmsgid \"form.add_user.email.label\"\nmsgstr \"E-Mail Adresse\"\n</code></pre>\n\n<p>It displays all the Time: form.add_user.email.label instead of: E-Mail Adresse</p>\n"}, {"tags": ["perl", "moo"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1565685382, "post_id": 57473980, "comment_id": 101420118, "body": "You could make one in the MooX:: namespace. Sounds easy enough."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1565685534, "post_id": 57473980, "comment_id": 101420194, "body": "Have a look at <a href=\"http://blogs.perl.org/users/mascip/2014/06/immutability-with-moose.html\" rel=\"nofollow noreferrer\">blogs.perl.org/users/mascip/2014/06/&hellip;</a> also, very interesting discussion at the end."}, {"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1565686522, "post_id": 57473980, "comment_id": 101420625, "body": "@simbabque a great discussion indeed."}], "owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1565685215, "creation_date": 1565685215, "question_id": 57473980, "link": "https://stackoverflow.com/questions/57473980/readonly-mutators-with-moo", "title": "Readonly mutators with Moo", "body": "<p>I'd like to have an immutable objects with modifiable fields, so that <code>$foo-&gt;bar()</code> returns the <code>bar</code> of <code>foo</code>, and <code>$foo-&gt;bar(42)</code> returns a <em>new</em> object with <code>bar</code> set to 42, leaving <code>$foo</code> intact.</p>\n\n<p>Of course, I can do that with Moo[se]:</p>\n\n<pre><code>package Foo;\nuse Moo;\n\nhas bar =&gt; is =&gt; 'lazy', builder =&gt; sub { 0 };\naround bar =&gt; sub {\n    my ($orig, $self, $set) = @_;\n    if (@_ &lt; 3) {\n        return $orig-&gt;($self);\n    } else {\n        return (ref $self)-&gt;new( %$self, bar =&gt; $set );\n    }\n};\n</code></pre>\n\n<p>But this is a bit tedious, so is there a module to add accessors with such signatures?</p>\n"}, {"tags": ["perl", "exception", "logging"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9822149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-25OuCI8GWAo/AAAAAAAAAAI/AAAAAAAAACg/Slq0Og7BCcs/photo.jpg?sz=128", "display_name": "Guru prasath", "link": "https://stackoverflow.com/users/9822149/guru-prasath"}, "edited": false, "score": 0, "creation_date": 1565688762, "post_id": 57473729, "comment_id": 101421703, "body": "Thanks Dave, But we have both connections  actually we are using sqlplus only for multi threading in my perl script for normal flow we use DBI only"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3, "user_id": 9822149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-25OuCI8GWAo/AAAAAAAAAAI/AAAAAAAAACg/Slq0Og7BCcs/photo.jpg?sz=128", "display_name": "Guru prasath", "link": "https://stackoverflow.com/users/9822149/guru-prasath"}, "edited": false, "score": 0, "creation_date": 1565690512, "post_id": 57473729, "comment_id": 101422594, "body": "@Guruprasath: I&#39;m not sure how that is relevant. If you don&#39;t want to put the password in the logs, then don&#39;t use a method that prints the password to the logs :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1565684217, "creation_date": 1565684217, "answer_id": 57473729, "question_id": 57473200, "link": "https://stackoverflow.com/questions/57473200/prevent-printing-exception-in-logs-in-my-perl-script-which-has-original-db-passw/57473729#57473729", "title": "prevent printing exception in logs in my perl script which has original DB password", "body": "<p>The best solution is probably not to use <code>sqlplus</code> to access your database. you should, instead, look at <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a> and <a href=\"https://metacpan.org/pod/DBD::Oracle\" rel=\"nofollow noreferrer\">DBD::Oracle</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 746, "user_id": 654129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7799078b4fa5a823bc8e117669a64920?s=128&d=identicon&r=PG", "display_name": "Ashish Kumar", "link": "https://stackoverflow.com/users/654129/ashish-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1565729740, "creation_date": 1565729740, "answer_id": 57485204, "question_id": 57473200, "link": "https://stackoverflow.com/questions/57473200/prevent-printing-exception-in-logs-in-my-perl-script-which-has-original-db-passw/57485204#57485204", "title": "prevent printing exception in logs in my perl script which has original DB password", "body": "<p>I would suggest using qx// or IPC::Open3 but if that's not feasible try something like below:</p>\n\n<pre><code>sub somefunc {\n   my $sql1 = \"sqlplus -S $user_name/$password\\@$TNSname $sqlfilename $somestring\";\n   my @msg = qx/$sql1 2&gt;&amp;1/;\n}\n</code></pre>\n\n<p>and then read the output in @msg and action accordingly.</p>\n\n<p><strong>Must read</strong> - <a href=\"https://stackoverflow.com/questions/799968/whats-the-difference-between-perls-backticks-system-and-exec\">What&#39;s the difference between Perl&#39;s backticks, system, and exec?</a></p>\n"}], "owner": {"reputation": 3, "user_id": 9822149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-25OuCI8GWAo/AAAAAAAAAAI/AAAAAAAAACg/Slq0Og7BCcs/photo.jpg?sz=128", "display_name": "Guru prasath", "link": "https://stackoverflow.com/users/9822149/guru-prasath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565729740, "creation_date": 1565681976, "last_edit_date": 1565683358, "question_id": 57473200, "link": "https://stackoverflow.com/questions/57473200/prevent-printing-exception-in-logs-in-my-perl-script-which-has-original-db-passw", "title": "prevent printing exception in logs in my perl script which has original DB password", "body": "<p>Prevent printing exception in my perl script. in Exception original DB password is being printed so i'm trying to suppress it.</p>\n\n<p>I have already tried <code>system(\"$sql1 &amp;2&gt;dev/null\")</code> but it is not help full</p>\n\n<pre><code>    sub somefunc{\n    my sql1 = sqlplus -S $user_name/$password\\@$TNSname $sqlfilename     $somestring;\n    system(sql1);\n    }\n    Exception : \n    some time $somestring is coming with character like '&gt;' and '(' so &gt;im         getting \n    sh: -c: line 0: syntax error near unexpected token `&gt;'\n    sh: -c: line 0: `sqlplus USERNAME/RAWPASSWORD@TNSNAME &gt;@log.sql somescript.sh &gt;&gt;&gt; Start time:           \n    Sun #Jul 21 20:33:09 CDT 2019' \n</code></pre>\n\n<p>In above error the <em>RAWPASSWORD</em> is being printed in logs so i am<br>\ntrying to avoid it</p>\n"}, {"tags": ["perl", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1565678823, "post_id": 57472110, "comment_id": 101417153, "body": "The content of $textfile is not the same as the plain assignments above due to quoting. echo $textfile emits literal <code>\\</code> <code>n</code>, not linefeeds."}], "answers": [{"comments": [{"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 1, "creation_date": 1565678731, "post_id": 57472280, "comment_id": 101417108, "body": "Note that <code>source</code> is only bash compliant and not available in POSIX sh shells"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1565682677, "post_id": 57472280, "comment_id": 101418841, "body": "@Inian if source isn&#39;t available, the equivalent <code>.</code> is; <a href=\"https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#dot\" rel=\"nofollow noreferrer\">pubs.opengroup.org/onlinepubs/9699919799/utilities/&hellip;</a>"}, {"owner": {"reputation": 1338, "user_id": 679716, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7637c5bf72c472e5e28438b6de21998?s=128&d=identicon&r=PG", "display_name": "Jens Bodal", "link": "https://stackoverflow.com/users/679716/jens-bodal"}, "edited": false, "score": 1, "creation_date": 1565713457, "post_id": 57472280, "comment_id": 101435076, "body": "Thanks but sourcing a file can have unintended effects such as setting environment variables you didn\u2019t intend to."}], "tags": [], "owner": {"reputation": 2855, "user_id": 11178750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XNjOS.jpg?s=128&g=1", "display_name": "UtLox", "link": "https://stackoverflow.com/users/11178750/utlox"}, "is_accepted": false, "score": 3, "last_activity_date": 1565677998, "creation_date": 1565677998, "answer_id": 57472280, "question_id": 57472110, "link": "https://stackoverflow.com/questions/57472110/is-there-a-fairly-portable-and-succinct-method-for-parsing-an-environment-variab/57472280#57472280", "title": "Is there a fairly portable and succinct method for parsing an environment variable from a script?", "body": "<p>You can source the file:</p>\n\n<pre><code>source /path/to/the/textfile\necho \"$BAR\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1338, "user_id": 679716, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7637c5bf72c472e5e28438b6de21998?s=128&d=identicon&r=PG", "display_name": "Jens Bodal", "link": "https://stackoverflow.com/users/679716/jens-bodal"}, "edited": false, "score": 1, "creation_date": 1565713265, "post_id": 57472438, "comment_id": 101435000, "body": "Yeah I understand this sounds like a \u201cwhat\u2019s your favorite way of doing x\u201d, but what I was hoping for is either another portable shell utility that handles this use case or in the case of your reply pointing out my <code>sed</code> variant wasn\u2019t portable. I don\u2019t have a specific case in mind but there are often cases where I need to do this or something similar only to find out OSX or some Linux variant doesn\u2019t have the latest gnu versions."}], "tags": [], "owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "is_accepted": false, "score": 2, "last_activity_date": 1565679018, "last_edit_date": 1565679018, "creation_date": 1565678713, "answer_id": 57472438, "question_id": 57472110, "link": "https://stackoverflow.com/questions/57472110/is-there-a-fairly-portable-and-succinct-method-for-parsing-an-environment-variab/57472438#57472438", "title": "Is there a fairly portable and succinct method for parsing an environment variable from a script?", "body": "<p>You can use a <code>sed</code> version of the command that is guaranteed to be POSIX compliant as below</p>\n\n<pre><code>sed -n 's/^BAR=\"\\([^\"]*\\).*$/\\1/p' file\n</code></pre>\n\n<p>The <code>-n</code> and <code>p</code> flags are standard flags to instruct <code>sed</code> to print the captured pattern <code>\\1</code> only if the regex is asserted as valid.</p>\n\n<p>You can also use the regex you defined in the <code>gawk</code> variant in the OP as below. </p>\n\n<pre><code>sed -n 's/^BAR=\"\\(.*\\)\"$/\\1/p'\n</code></pre>\n\n<p>P.S. Note that there is no definitive answer for this unless you add more details on what sort of a minimal system (which might need POSIX only) you are running this on. Also you could profile each of the suggestions and choose the one that solves your use-case the best. </p>\n"}, {"comments": [{"owner": {"reputation": 1338, "user_id": 679716, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7637c5bf72c472e5e28438b6de21998?s=128&d=identicon&r=PG", "display_name": "Jens Bodal", "link": "https://stackoverflow.com/users/679716/jens-bodal"}, "edited": false, "score": 0, "creation_date": 1565745620, "post_id": 57472511, "comment_id": 101444920, "body": "So <code>perl -le &#39;print&#39;</code> is essentially the same as <code>perl -e &#39;say&#39;</code>? Thanks for the explanation this seems like a good option"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1338, "user_id": 679716, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7637c5bf72c472e5e28438b6de21998?s=128&d=identicon&r=PG", "display_name": "Jens Bodal", "link": "https://stackoverflow.com/users/679716/jens-bodal"}, "edited": false, "score": 0, "creation_date": 1566583388, "post_id": 57472511, "comment_id": 101715895, "body": "That&#39;s a part of it, yes, plus: (1) need <code>-E</code> (capital) for <code>say</code> as that&#39;s a <code>feature</code> and is not loaded by default (2) with <code>-l</code> you get a <code>chomp</code> of input as well. There is no need for <code>chomp</code>-ing the line here as this regex can&#39;t match (and capture) the newline but it&#39;s prudent to do in general"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1566284966, "last_edit_date": 1566284966, "creation_date": 1565679063, "answer_id": 57472511, "question_id": 57472110, "link": "https://stackoverflow.com/questions/57472110/is-there-a-fairly-portable-and-succinct-method-for-parsing-an-environment-variab/57472511#57472511", "title": "Is there a fairly portable and succinct method for parsing an environment variable from a script?", "body": "<pre><code>perl -wnE'/^BAR=\"([^\"]+)/ and say $1' file\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -wlne'/^BAR=\"([^\"]+)/ and print $1' file\n</code></pre>\n\n<p>so to not enable <em>all</em> <a href=\"https://perldoc.perl.org/feature.html\" rel=\"nofollow noreferrer\">feature</a>s with <a href=\"https://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\"><code>-E</code></a>. The <code>-w</code> enables warnings, can probably drop it here.</p>\n\n<hr>\n\n<p>As for \"<em>remembering these flags</em>\" the basics are very reasonable</p>\n\n<ul>\n<li><p><code>-e</code> tells the interpreter to <strong>E</strong>valuate as code what comes between the quotes; this is what makes it a \"one-liner,\" a <em>program</em> on the command line. It must come right before the program in quotes</p></li>\n<li><p><code>-n</code> opens a file and feeds the program a line at a time, for all submitted files; this is what you want when working with files.  The <code>-p</code> does the same, <em>and</em> prints every line</p></li>\n</ul>\n\n<p>That's that, for most common needs. So <code>perl -ne'...' file</code> runs code in <code>''</code> (along with effects of other switches) on every line of the file; I also <em>always</em> throw in <code>-w</code>.</p>\n\n<p>There are quite a few other switches of course, described <a href=\"https://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">in perlrun</a>, for more specific conveniences or uses.  A few prominent ones</p>\n\n<ul>\n<li><p><code>-M</code> loads a module, as <code>-MModuleName</code>. Can also specify functions to import, see docs</p></li>\n<li><p><code>-0777</code>reads the whole file at once (\"slurp\"). This sets the input record separator (<a href=\"https://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles\" rel=\"nofollow noreferrer\"><code>$/</code></a>) so that the whole file is seen as one \"line\" -- so we still also need <code>-n</code>.</p></li>\n<li><p><code>-C</code> followed by number/list for Unicode features, for example <code>-CASD</code></p></li>\n<li><p><code>-l</code> used above, to handle <strong>L</strong>ine endings, strip them on input and append for output</p></li>\n</ul>\n\n<p>Generally the line (file in slurp mode) goes into <a href=\"https://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>$_</code> variable</a>, the all-round default in Perl.</p>\n\n<p>To see the code very close to what Perl runs for a given one-liner add <code>-MO=Deparse</code> to the switches, which uses <a href=\"https://perldoc.perl.org/B/Deparse.html\" rel=\"nofollow noreferrer\">B::Deparse</a> compiler backend (via <a href=\"https://perldoc.perl.org/O.html\" rel=\"nofollow noreferrer\">O</a> module)</p>\n"}, {"tags": [], "owner": {"reputation": 424, "user_id": 9293289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a0091952b90b14ecd59ca6e5d5523b?s=128&d=identicon&r=PG&f=1", "display_name": "shaiki siegal", "link": "https://stackoverflow.com/users/9293289/shaiki-siegal"}, "is_accepted": false, "score": 0, "last_activity_date": 1565682680, "creation_date": 1565682680, "answer_id": 57473383, "question_id": 57472110, "link": "https://stackoverflow.com/questions/57472110/is-there-a-fairly-portable-and-succinct-method-for-parsing-an-environment-variab/57473383#57473383", "title": "Is there a fairly portable and succinct method for parsing an environment variable from a script?", "body": "<p><strong>awk</strong></p>\n\n<p><code>echo $textfile | awk -F\\\" '/^BAR=/{print $2}'</code></p>\n\n<p>you can use the <code>\"</code> as a field separator. \nThis way the second awk value in the relevant line will return will be wanted variable value.  </p>\n"}, {"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 0, "last_activity_date": 1565898034, "last_edit_date": 1565898034, "creation_date": 1565726831, "answer_id": 57484644, "question_id": 57472110, "link": "https://stackoverflow.com/questions/57472110/is-there-a-fairly-portable-and-succinct-method-for-parsing-an-environment-variab/57484644#57484644", "title": "Is there a fairly portable and succinct method for parsing an environment variable from a script?", "body": "<p>This may be too cute by half, but you can convert the textfile into a perl program, converting the env assignments into hash assignments and appending a perl print statement for the result, using sed:</p>\n\n<pre><code>$ sed 's/\\(.*\\)=/$e{\\1}=/;s/$/;/;$aprint $e{BAR}' textfile\n# a comment;\n$e{FOO}=\"ENV_FOO\";\n$e{BAR}=\"ENV_BAR\";\nprint $e{BAR}\n</code></pre>\n\n<p>When you simply pipe that into perl, it gives you the result you want:</p>\n\n<pre><code>$ sed 's/\\(.*\\)=/$e{\\1}=/;s/$/;/;$aprint $e{BAR}' textfile|perl\nENV_BAR\n</code></pre>\n\n<p>Besides too-cuteness, this of course has the additional burden of being somewhat inefficient -- two-pass rather than one- for the other solutions.</p>\n\n<p>On the plus side, sed and perl are probably the <strong>most</strong> portable of the programs, and there are no \"flags\" whatsoever, so... trade-offs.</p>\n\n<p>Update: It occurred to me that, because Environment Variables / syntax are designed for the shell anyway, the same idea could be used with the shell directly, albeit probably less \"portably\", without any syntax massaging. This is bash:</p>\n\n<pre><code>$ IFS=; echo -e \"$(&lt;textfile)\\necho \\$BAR\"|bash -s\nENV_BAR\n</code></pre>\n\n<p>Explanation: Setting <code>IFS</code> to null stops the \"Word Splitting\" that otherwise removes newlines from the textfile output. The <code>-e</code> makes <code>echo</code> recognize the <code>\\n</code> escape sequence. The textfile is processed via \"Command Substitution\". The <code>-s</code> to <code>bash</code> tells it to take standard input as its script.</p>\n"}], "owner": {"reputation": 1338, "user_id": 679716, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7637c5bf72c472e5e28438b6de21998?s=128&d=identicon&r=PG", "display_name": "Jens Bodal", "link": "https://stackoverflow.com/users/679716/jens-bodal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 57472511, "answer_count": 5, "score": 2, "last_activity_date": 1566284966, "creation_date": 1565677127, "last_edit_date": 1565684567, "question_id": 57472110, "link": "https://stackoverflow.com/questions/57472110/is-there-a-fairly-portable-and-succinct-method-for-parsing-an-environment-variab", "title": "Is there a fairly portable and succinct method for parsing an environment variable from a script?", "body": "<p>I have come up with a few solutions, but I don't love them. I'm wondering if there's a better way.  I'm mainly looking for something that's succinct and doesn't require flags and is usable on most any unix system.  <strong>I'm also not entirely sure which one of the below is most portable. As far as I know, the only one that's not is the <code>gawk</code> solution.</strong></p>\n\n<hr>\n\n<p><strong>example file</strong> </p>\n\n<p>I want to parse the value of the <code>BAR</code> variable</p>\n\n<pre><code># a comment\nFOO=\"ENV_FOO\"\nBAR=\"ENV_BAR\"\n</code></pre>\n\n<pre><code>textfile=\"# a comment\\nFOO=\\\"ENV_FOO\\\"\\nBAR=\\\"ENV_BAR\\\"\"\n\n# awk: split on \"=\" delimiter \necho $textfile | awk -F \"=\" '/^BAR=/ { gsub(/\"/,\"\",$2); print $2 }'\n\n# awk: replace beginning of string with empty string; handle quotes with tr\necho $textfile | awk '/^BAR=/ { gsub(/^.*BAR=/, \"\"); print }' | tr -d '\"'\n\n# gawk: most straight-forward to me but not portable or DRY\necho $textfile | gawk '/^BAR=/ { print gensub(/^.*BAR=\"(.*)\"$/, \"\\\\1\", \"g\") }'\n\n# grep + sed\necho $textfile | grep ^BAR= | sed -E 's#^.*\"(.*)\"$#\\1#'\n\n# sed only\necho $textfile | sed -nE 's#^BAR=\"(.*)\"$#\\1#p'\n\n# perl: maybe I just need to work on remembering these flags as this is succint\necho $textfile | perl -alE 'print $1 if /^BAR=\"(.*)\"$/'\n</code></pre>\n\n<p>Each of them is straightforward in its own way but many require remembering special flags that need to be included in order to work. Is there another standard unix tool that handles this use-case I'm not thinking of?</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "edited": false, "score": 1, "creation_date": 1565669761, "post_id": 57470682, "comment_id": 101414492, "body": "<code>insert into sometable (foo, bar, baz) values ( ?, ?, ?)</code> and then      <code>$stmt-&gt;execute( $foo, $bar, $baz)</code>"}, {"owner": {"reputation": 5, "user_id": 11281193, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UNJRYcPwTK8/AAAAAAAAAAI/AAAAAAAAA_0/pnDFNcyzLUI/photo.jpg?sz=128", "display_name": "Dream Member", "link": "https://stackoverflow.com/users/11281193/dream-member"}, "reply_to_user": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "edited": false, "score": 0, "creation_date": 1565671599, "post_id": 57470682, "comment_id": 101414888, "body": "that doest work for me :U"}, {"owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "edited": false, "score": 1, "creation_date": 1565672998, "post_id": 57470682, "comment_id": 101415200, "body": "Read <code>perldoc DBI</code>. Your code is wrong. You must pass exact values to execute() and use placeholders in statement as I told. You pass statement to execute(), this is mistake"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11281193, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UNJRYcPwTK8/AAAAAAAAAAI/AAAAAAAAA_0/pnDFNcyzLUI/photo.jpg?sz=128", "display_name": "Dream Member", "link": "https://stackoverflow.com/users/11281193/dream-member"}, "edited": false, "score": 0, "creation_date": 1565687411, "post_id": 57473638, "comment_id": 101421019, "body": "But how can i put multiple items in one coloum if my data is an array ...  so do i change the value into this (?) ..... since the data is many and not a single data ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 5, "user_id": 11281193, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UNJRYcPwTK8/AAAAAAAAAAI/AAAAAAAAA_0/pnDFNcyzLUI/photo.jpg?sz=128", "display_name": "Dream Member", "link": "https://stackoverflow.com/users/11281193/dream-member"}, "edited": false, "score": 0, "creation_date": 1565692474, "post_id": 57473638, "comment_id": 101423644, "body": "@DreamMember: You prepare your statement once (<code>my $sth = $dbh-&gt;prepare($sql)</code>) with <code>?</code> in place of the actual values. Then you loop over your data and call <code>$sth-&gt;execute(@data)</code> for each iteration of the loop - with <code>@data</code> containing one row of data items each time."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1565683818, "creation_date": 1565683818, "answer_id": 57473638, "question_id": 57470682, "link": "https://stackoverflow.com/questions/57470682/inserting-data-from-perl-to-mysql/57473638#57473638", "title": "Inserting Data From Perl To MysQL", "body": "<p>Your use of the <code>$db_config</code> variable looks suspicious to me. Either your config hash is strange, or you're using values instead of keys.</p>\n\n<p>You haven't shown us where <code>$db_config</code> is set up, but I'd guess it looks something like this:</p>\n\n<pre><code>$db_config = {\n  name =&gt; 'Top_Data',\n  host =&gt; '127.0.0.1',\n  port =&gt; 3306,\n  username =&gt; 'someone',\n  password =&gt; 'a secret',\n};\n</code></pre>\n\n<p>And then you would use it like this:</p>\n\n<pre><code>my $dsn = \"DBI:mysql:database=\".$db_config-&gt;{name}.\";host=\".$db_config-&gt;{host}.\";port=\".$db_config-&gt;{port};\n</code></pre>\n\n<p>Notice that I've used the key names (<code>name</code>, <code>host</code> and <code>port</code>) instead of the values (<code>Top_Data</code>, <code>127.0.0.1</code> and <code>3306</code>).</p>\n\n<p>I'll also point out that you can simplify this slightly by using Perl's ability to expand variables inside a double-quoted string.</p>\n\n<pre><code>my $dsn = \"DBI:mysql:database=$db_config-&gt;{name};host=$db_config-&gt;{host};port=$db_config-&gt;{port}\";\n</code></pre>\n\n<p>There's another problem later on, with your SQL statement.</p>\n\n<pre><code>my $sql = 'insert into Top(Load_Average, CPU_us, CPU_id, CPU-wa, CPU_hi, \n           CPU_si, CPU_st, Swap_Total, Swap_Free, Swap_Used, Memory_Total, \n           Memeory_Free, Memory_Used, Memory_Buff, Date) \n           values(float,float,float,float,float,float,float,float,\n           varchar,varchar,varchar,varchar,varchar,varchar,date)';\n</code></pre>\n\n<p>The values that you should be inserting are the actual data items. So where you have the strings \"float\", \"varchar\" or \"date\", you should actually have data items (a floating-point number, a string or a date).</p>\n\n<p>Finally, having prepared your statement, you don't need to pass it to the <code>execute()</code> method. You should, however, look at using bind points in your SQL and passing your actual data items to the <code>execute()</code> call</p>\n"}], "owner": {"reputation": 5, "user_id": 11281193, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UNJRYcPwTK8/AAAAAAAAAAI/AAAAAAAAA_0/pnDFNcyzLUI/photo.jpg?sz=128", "display_name": "Dream Member", "link": "https://stackoverflow.com/users/11281193/dream-member"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 57473638, "answer_count": 1, "score": 0, "last_activity_date": 1565684389, "creation_date": 1565666129, "last_edit_date": 1565684389, "question_id": 57470682, "link": "https://stackoverflow.com/questions/57470682/inserting-data-from-perl-to-mysql", "title": "Inserting Data From Perl To MysQL", "body": "<p>I have already connected MySQL to the database but the problem is that \nI have some problems with inserting Data from Perl to Mysql.</p>\n\n<p>The error that pops out is:</p>\n\n<pre><code>Use of uninitialized value in concatenation (.) or string at ./etl_server_info.pl line 204, (Which is the connection of the database ) \n\nDBD::mysql::st execute failed: called with 1 bind variables when 0 are needed at ($stmt-&gt;execute($sql);) \n</code></pre>\n\n<pre><code>sub insert_record(){\n\n my($data,$db_config)=@_;\n my $result = -1; # -1 fail;  0 - succ\n\n  # connect to db\n  # connect to MySQL database\n  my $dsn = \"DBI:mysql:database=\".$db_config-&gt;{'Top_Data'}.\";host=\".$db_config-&gt;{'127.0.0.1'}.\";port=\".$db_config-&gt;{'3306'};\nmy $username = $db_config-&gt;{'username'};\nmy $password = $db_config-&gt;{'password'};\n\nmy %attr = (PrintError=&gt;0,RaiseError=&gt;1 );\nmy $dbh = DBI-&gt;connect($dsn,$username,$password,\\%attr) or die $DBI::errstr;\n\nprint \"We Have Successfully Connected To The Database \\n\";\n\n  # prepare sql statement\n  # execute insert\n  my $sql = 'insert into Top(Load_Average, CPU_us, CPU_id, CPU-wa, CPU_hi, CPU_si, CPU_st, Swap_Total, Swap_Free, Swap_Used, Memory_Total, Memeory_Free, Memory_Used, Memory_Buff, Date) values(float,float,float,float,float,float,float,float,varchar,varchar,varchar,varchar,varchar,varchar,date)';\n\n\n\n\n  my $stmt =$dbh-&gt;prepare($sql) or die \"Its A Fail\" . $dbh-&gt;errstr();\n  $stmt-&gt;execute($sql);\n\n\n\n  $stmt-&gt;finish();\n  $dbh-&gt;disconnect();\n  $result = 0;\n  return($result);\n</code></pre>\n"}, {"tags": ["perl", "split", "substr"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565674306, "post_id": 57469783, "comment_id": 101415548, "body": "As for <code>@tmp</code> -- the statement <code>@temp = $line[1];</code> always sets array <code>@temp</code>  one element, which is <code>$line[1]</code> (second element of <code>@line</code>).  That is unneeded -- <code>$line[1]</code> a single valued variable (scalar) so assign it to a scalar variable, not array.  Then <code>$temp[scalar @temp - 1]</code> is a roundabout way of getting the last element of <code>@temp</code>) -- which here can only have exactly one element. (The last element in an array is idiomaticaly <code>$temp[-1]</code>, while if one wanted to use the last index value then it&#39;s <code>$temp[$#temp]</code>)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565674757, "post_id": 57469783, "comment_id": 101415665, "body": "Regardless their use of <code>@temp</code>, if you need stuff from line 2 it&#39;s going to be different. So, what do you need to extract? /// To detect the second line in each group of four note that <code>if ($i % 4 == 2)</code> is true on lines 2,6,10,... Or, to get a line after the <code>@</code>-line set a flag on lines that start with <code>@</code> and then check for it -- which is true right on the next line (where you unset it)"}, {"owner": {"reputation": 746, "user_id": 654129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7799078b4fa5a823bc8e117669a64920?s=128&d=identicon&r=PG", "display_name": "Ashish Kumar", "link": "https://stackoverflow.com/users/654129/ashish-kumar"}, "edited": false, "score": 1, "creation_date": 1565728498, "post_id": 57469783, "comment_id": 101441066, "body": "What does your file look like?  Provide some more lines to understand the format.   Then share the desired output."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 1, "creation_date": 1565795726, "post_id": 57469783, "comment_id": 101464763, "body": "This code is pretty much a mess. Hardly worth trying to reverse engineer. You need to understand what you&#39;re supposed to be doing with the input and rewrite from scratch."}], "owner": {"reputation": 25, "user_id": 11678352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071ebae9f5751310d97e7f2a5f8a46db?s=128&d=identicon&r=PG&f=1", "display_name": "ubuntuquestions", "link": "https://stackoverflow.com/users/11678352/ubuntuquestions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565657147, "creation_date": 1565656577, "last_edit_date": 1565657147, "question_id": 57469783, "link": "https://stackoverflow.com/questions/57469783/how-do-i-collect-a-string-from-a-specific-line", "title": "How do I collect a string from a specific line", "body": "<p>I am working with someone else's Perl code, and would like to extract a string from line 2 rather than line 1. </p>\n\n<p>4-line repeats in the below format make up a file to be processed:</p>\n\n<pre><code>@HWI-M02096:147:000000000-AFU9U:1:1101:15747:1825 1:N:0:CGTACTAGCTCTCT\nCTACAGCAGAGAGTGTTTAGGAAGCACCTTTTCGTTAGGCAGATTT\n+\n3&gt;AAAFFFFC?FGFGGGGGGGGHHHHHHHHHHHGHHGGHHBEFHHH\n</code></pre>\n\n<p>my understanding is that substr offsets by $barcodeLen and records a string of $UMIlen length given on line 1. This is written to a file with output line 1 split at the space between \"1825\" and \"1:N:0\" followed by the recorded string \nEx:\n@HWI-M02096:147:000000000-AFU9U:1:1101:15747:1825   TCTCT</p>\n\n<pre><code>my $seqdir = $ARGV[0];\nmy $barcodeLen = $ARGV[1];\nmy $UMIlen = $ARGV[2];\nmy @seqfiles = &lt;$seqdir/*&gt;;\nforeach my $file (sort@seqfiles) {\n       getUmi($file);\n}\n\nsub getUmi \n{\n    my $seqfile = shift;\n    open(INFILE, \"$seqfile\") || die(\"Cannot open file $seqfile  $!\\n\");\n    my @temp = split(/\\//,$seqfile);    \n    my $outfile = $temp[length(@temp)];\n    my $outfile1 = \"UMI-\" . $outfile;\n    my ($line, @line, $umi, $firstbps, $seqlen);\n    open(OUTFILE1, \"&gt;$outfile1\") || die(\"Cannot open file $outfile1 \n$!\\n\");\n    my $i =0;\n    while (&lt;INFILE&gt;)\n    {\n        $line = $_;\n        chomp $line;\n        $i++;\n        if ($i % 4 ==1)\n        {\n              @line = split(\" \", $line);    \n              @temp = $line[1];\n              ### extract umi\n              $umi = substr($temp[scalar @temp - 1],$barcodeLen, \n$UMIlen);\n              print OUTFILE1 \"$line[0]\\t$umi\\n\";\n        }\n    }\n    close(INFILE);\n    close(OUTFILE1);\n}\n</code></pre>\n\n<p>I am failing to understand the @temp array and the $line variable how these are used to generate the example output. I would like to generate the same sort of output, but instead collecting title information from line 1 \"@HWI-M02096:14...\" but a string from line 2. Any help would be greatly appreciated.</p>\n"}, {"tags": ["perl", "rperl"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1565651274, "creation_date": 1565651274, "answer_id": 57469284, "question_id": 57469236, "link": "https://stackoverflow.com/questions/57469236/how-can-i-use-rperl-with-perlbrew/57469284#57469284", "title": "How can I use rperl with perlbrew?", "body": "<p>Apparently, <code>rperl</code> needs to link against <code>libperl.so</code>, but the <code>perl</code> I installed <code>rperl</code> with was not built with a shared library <code>libperl.so</code>. The solution was to install a new <code>perl</code> using configure option <code>-Duseshrplib</code>: </p>\n\n<pre><code>$ perlbrew install perl-5.30.0 --notest --noman --as=5.30.0-reloc -Duseshrplib\n$ perbrew use 5.30.0-reloc\n$ cpanm RPerl\n$ rperl -V p.pl\n[...]\n$ ./p\nHello Perl\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 57469284, "answer_count": 1, "score": 1, "last_activity_date": 1565651553, "creation_date": 1565650902, "last_edit_date": 1565651553, "question_id": 57469236, "link": "https://stackoverflow.com/questions/57469236/how-can-i-use-rperl-with-perlbrew", "title": "How can I use rperl with perlbrew?", "body": "<p>I have this simple <code>rperl</code> program:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse RPerl;\nuse strict;\nuse warnings;\nour $VERSION = 0.001_000;\n\n# [[[ CRITICS ]]]\n## no critic qw(ProhibitUselessNoCritic ProhibitMagicNumbers RequireCheckedSyscalls)  # USER DEFAULT 1: allow numeric values &amp; print operator\n## no critic qw(RequireInterpolationOfMetachars)  # USER DEFAULT 2: allow single-quoted control characters &amp; sigils\n## no critic qw(ProhibitInterpolationOfLiterals) # USER DEFAULT 3: allow anything\n\nprint 'Hello Perl', \"\\n\";\n</code></pre>\n\n<p>See Exercise 1 in <a href=\"http://rperl.org/learning/#CHAPTER_1%3A_INTRODUCTION\" rel=\"nofollow noreferrer\">Learning RPerl</a>. I am on Ubuntu 19.04, using <code>perlbrew</code> with <code>perl</code> version 5.28.1. I installed <code>RPerl</code> using:</p>\n\n<pre><code>$ cpanm RPerl\n</code></pre>\n\n<p>Then I tried to compile the above program:</p>\n\n<pre><code>$ rperl -D p.pl\n[...]\n[[[ SUBCOMPILE STDERR ]]]\n\n/bin/ld: cannot find -lperl\ncollect2: error: ld returned 1 exit status\n\nERROR ECOCOSU04, COMPILER, SUBCOMPILE: C++ compiler returned error code,\n[...]\n</code></pre>\n"}, {"tags": ["perl", "variable-assignment", "parentheses"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565644656, "post_id": 57468346, "comment_id": 101409780, "body": "Re &quot;<i>According to my understanding, the result should be 106</i>&quot;, On what did you base that? There&#39;s no documentation to support this claim."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565644750, "post_id": 57468346, "comment_id": 101409812, "body": "Re &quot;<i>leading me to believe that this has to do with some part of the expression being interpreted as a list</i>&quot;, There is no list in either sense of the word (&quot;comma operator&quot; or &quot;0 or more scalars on the stack&quot;)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565649818, "post_id": 57468346, "comment_id": 101411232, "body": "The first thought should be:  UB?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1565653939, "post_id": 57468346, "comment_id": 101411900, "body": "PHP <a href=\"http://phpsadness.com/sad/30\" rel=\"nofollow noreferrer\">is not the</a> <a href=\"http://phpsadness.com/sad/47\" rel=\"nofollow noreferrer\">standard bearer</a> <a href=\"http://phpsadness.com/sad/52\" rel=\"nofollow noreferrer\">about what is</a> <a href=\"http://phpsadness.com/sad/41\" rel=\"nofollow noreferrer\">correct behavior</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1565700255, "post_id": 57468346, "comment_id": 101427754, "body": "@mob, That said, it&#39;s probably undefined behaviour in PHP just like Perl."}, {"owner": {"reputation": 23, "user_id": 11918089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8885fd2a77bdf1f43a3bf51f9a00ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Block&#39;ed", "link": "https://stackoverflow.com/users/11918089/blocked"}, "edited": false, "score": 0, "creation_date": 1566313895, "post_id": 57468346, "comment_id": 101613495, "body": "Thanks all, in particular ikegami and @local_user for particularly enlightening answers, which helped me explain the behavior I was seeing."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1565701747, "last_edit_date": 1565701747, "creation_date": 1565644717, "answer_id": 57468374, "question_id": 57468346, "link": "https://stackoverflow.com/questions/57468346/need-help-understanding-how-perl-5-is-parsing-a-compound-assignment-statement-re/57468374#57468374", "title": "Need help understanding how Perl 5 is parsing a compound assignment statement referencing same variable", "body": "<p>By far and large, most languages don't define what happens when you both read and write the same value variable in a single expression. Perl is no exception. The expression you posted does not have a defined result.</p>\n\n<p>This is documented in perlop:</p>\n\n<blockquote>\n  <p>modifying a variable twice in the same statement will lead to undefined behavior. Avoid statements like:</p>\n\n<pre><code>    $i = $i ++;\n    print ++ $i + $i ++;\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>What's happening is that <code>$i /= 2</code> and <code>$i = 100</code> both return <code>$i</code> &mdash;not the value of <code>$i</code>, but <code>$i</code> itself&mdash; so you eventually do <code>$i + $i</code> instead of <code>6 + 100</code>. You can't count on this behaviour. Furthermore, Perl happened to evaluate the addition's left operand before its right one &mdash;something else you can't count on&mdash; so <code>$i</code> is <code>100</code> come time to perform the addition.</p>\n\n<p>If someone wants to fool around, here's a recreation of what <em>currently</em> happens when <code>perl</code> evaluates the OP's code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\nuse experimental qw( refaliasing declared_refs );\n\nmy $i = 12;\n\nmy @ST;  # Stack\n{                                      \\$ST[@ST] = \\( $i                    ); }\n{                                      \\$ST[@ST] = \\( 2                     ); }\n{ \\my ($lhs, $rhs) = \\splice(@ST, -2); \\$ST[@ST] = \\( $lhs /= $rhs          ); }\n{                                      \\$ST[@ST] = \\( 100                   ); }\n{                                      \\$ST[@ST] = \\( $i                    ); }\n{ \\my ($rhs, $lhs) = \\splice(@ST, -2); \\$ST[@ST] = \\( $lhs = $rhs           ); }\n{ \\my ($lhs, $rhs) = \\splice(@ST, -2); \\$ST[@ST] = \\( my $sum = $lhs + $rhs ); }\n{                                      \\$ST[@ST] = \\( $i                    ); }\n{ \\my ($rhs, $lhs) = \\splice(@ST, -2); \\$ST[@ST] = \\( $lhs = $rhs           ); }\n\nsay $i;  # 200\n</code></pre>\n\n<p>If you use Devel::Peek's <code>Dump</code>, you'll notice that most of the variables above have the same address. They're what we call \"aliases\" in Perl jargon.</p>\n\n<p>The following uses references instead (though no actual reference is created in reality):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nmy $i = 12;\n\nmy @ST;  # Stack\n{                                         push @ST, \\( $i                          ); }\n{                                         push @ST, \\( 2                           ); }\n{ my ($lhs_p, $rhs_p) = splice(@ST, -2);  push @ST, \\( $$lhs_p /= $$rhs_p          ); }\n{                                         push @ST, \\( 100                         ); }\n{                                         push @ST, \\( $i                          ); }\n{ my ($rhs_p, $lhs_p) = splice(@ST, -2);  push @ST, \\( $$lhs_p = $$rhs_p           ); }\n{ my ($lhs_p, $rhs_p) = splice(@ST, -2);  push @ST, \\( my $sum = $$lhs_p + $$rhs_p ); }\n{                                         push @ST, \\( $i                          ); }\n{ my ($rhs_p, $lhs_p) = splice(@ST, -2);  push @ST, \\( $$lhs_p = $$rhs_p           ); }\n\nsay $i;  # 200\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565700925, "post_id": 57469809, "comment_id": 101428063, "body": "Re &quot;<i>it assumes that the operands of <code>+</code> are evaluated left-to-right, which [...] is afaik not guaranteed by any docs.</i>&quot;, Correct. Operand evaluation order can is implied for some operators (e.g. Short-circuiting operators necessarily evaluate their LHS before their RHS, and assignment evaluates its RHS before its LHS to allow <code>local $x = $x + 1;</code>), but not for addition."}], "tags": [], "owner": {"reputation": 46, "user_id": 7122765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8a28d4aefd0cb833aedff9c9fdf860c?s=128&d=identicon&r=PG&f=1", "display_name": "local_user", "link": "https://stackoverflow.com/users/7122765/local-user"}, "is_accepted": true, "score": 2, "last_activity_date": 1565663535, "last_edit_date": 1565663535, "creation_date": 1565656780, "answer_id": 57469809, "question_id": 57468346, "link": "https://stackoverflow.com/questions/57468346/need-help-understanding-how-perl-5-is-parsing-a-compound-assignment-statement-re/57469809#57469809", "title": "Need help understanding how Perl 5 is parsing a compound assignment statement referencing same variable", "body": "<p>The perl-wonderful thing is that arguments (whether lvalues or rvalues) are always passed to perl operators as references to the actual variables, not as copies of their values. This is different from most other languages, and is keeping with the fact that <code>perl</code> is a pass-by-reference language (like Fortran).</p>\n\n<p>Your example is an very unfortunate <strong>red-herring</strong>, since it assumes that the operands of <code>+</code> are evaluated left-to-right, which (while absolutely true for the <em>only</em> usable perl5 implementation) is afaik not guaranteed by any docs.</p>\n\n<p>Let's try it with a <code>comma</code> operator, which <strong>really is</strong>[1] guaranteed to evaluate its arguments left-to-right:</p>\n\n<pre><code>perl -le 'print @y = ($x = 1, $x = 2, $x = 3)'\n</code></pre>\n\n<p>That should print <code>123</code> right?</p>\n\n<p>No, because perl will first evaluate all the assignments from left to right, each of which returning <code>$x</code>, <strong>not</strong> a copy of it, and <em>then</em> will proceed 3 times to \"resolve\" it by derefencing it, getting each time in the last value that was stored in it. Thence <code>333</code>.</p>\n\n<p>[1]: from <code>perlop(1)</code>: \"Comma operator ... In list context, it's just the list argument separator, and inserts both its arguments into the list.  These arguments are also evaluated from left to right\".</p>\n\n<p>[the extra assignment above in order to avoid a discussion about how and why in <code>perl</code> an argument list is actually a list, built with the comma-operator, not something special as in C]</p>\n"}, {"tags": [], "owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "is_accepted": false, "score": 1, "last_activity_date": 1565670286, "creation_date": 1565670286, "answer_id": 57471091, "question_id": 57468346, "link": "https://stackoverflow.com/questions/57468346/need-help-understanding-how-perl-5-is-parsing-a-compound-assignment-statement-re/57471091#57471091", "title": "Need help understanding how Perl 5 is parsing a compound assignment statement referencing same variable", "body": "<p>perldoc perlop:</p>\n\n<blockquote>\n  <p>Note that just as in C, Perl doesn't define when the variable is\n  incremented or decremented. You just know it will be done sometime\n  before or after the value is returned. This also\n      means that modifying a variable twice in the same statement will lead to undefined behavior. Avoid statements like:</p>\n\n<pre><code>    $i = $i ++;\n    print ++ $i + $i ++;\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 23, "user_id": 11918089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8885fd2a77bdf1f43a3bf51f9a00ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Block&#39;ed", "link": "https://stackoverflow.com/users/11918089/blocked"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 57469809, "answer_count": 3, "score": 2, "last_activity_date": 1565701747, "creation_date": 1565644565, "question_id": 57468346, "link": "https://stackoverflow.com/questions/57468346/need-help-understanding-how-perl-5-is-parsing-a-compound-assignment-statement-re", "title": "Need help understanding how Perl 5 is parsing a compound assignment statement referencing same variable", "body": "<p>I need to understand how this simple expression is being evaluated, since the result is not as I expected.</p>\n\n<p>I'm quite new to Perl, but thought I had enough understanding to explain the outcome of this seemingly straightforward snippet. Clearly I'm missing something.\nI've used Deparse to see how Perl is processing the expression, and Deparse does not change the parentheses I already had in place.</p>\n\n<pre><code>$i = 12;\n$i = (($i /= 2) + ($i = 100));\nprint $i;\n</code></pre>\n\n<p>According to my understanding, the result should be 106, assuming the expression is evaluated in the order indicated by parentheses, and in the manner it seems it should be. I would think:\n$i is first divided by 2, thereby assigning 6 to $i and resulting in a value of 6. Then 100 is assigned to $i, and 100 is the result of that second expression. 6 + 100 = 106, which I would think would finally be assigned to $i.\nInstead, it prints \"200\" .</p>\n\n<p>In PHP, the same code indeed yields \"106\", leading me to believe that this has to do with some part of the expression being interpreted as a list, or something equally Perl-wonderful.\nCan't wait to find out what I got wrong.</p>\n"}, {"tags": ["perl", "parameters"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565627584, "post_id": 57464614, "comment_id": 101403311, "body": "While mob presented better solutions, what you posted <i>does</i> work. (<code>perl -e&#39;open CMD, &quot;NSRWATCH=36s;export NSRWATCH;set|grep ^NSRWATCH= |&quot; or die; print while &lt;CMD&gt;; close CMD;&#39;</code>)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1565654331, "post_id": 57464614, "comment_id": 101411955, "body": "&quot;<i>but no way</i>&quot; is not a problem description."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1565626175, "creation_date": 1565626175, "answer_id": 57464657, "question_id": 57464614, "link": "https://stackoverflow.com/questions/57464614/perl-launching-external-program-with-environment-variables/57464657#57464657", "title": "perl launching external program with environment variables", "body": "<p>Two clues:</p>\n\n<p>Set the environment variable in Perl before calling the external command</p>\n\n<pre><code>local $ENV{\"NSRWATCH\"} = \"36s\";\nopen CMD, \"nsrwatch |\";\n</code></pre>\n\n<p>or set the variable and run the command in the same statement</p>\n\n<pre><code>open CMD, \"NSRWATCH=36s nsrwatch |\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 5714031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd26a47a88d2cddc3fa825499c80527?s=128&d=identicon&r=PG&f=1", "display_name": "Denis.A", "link": "https://stackoverflow.com/users/5714031/denis-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1565684207, "creation_date": 1565684207, "answer_id": 57473727, "question_id": 57464614, "link": "https://stackoverflow.com/questions/57464614/perl-launching-external-program-with-environment-variables/57473727#57473727", "title": "perl launching external program with environment variables", "body": "<p>Sorry, the initial command does work (as said ikegami).\nResults were not those expected, due to ascii control characters flooding the screen.</p>\n"}], "owner": {"reputation": 113, "user_id": 5714031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd26a47a88d2cddc3fa825499c80527?s=128&d=identicon&r=PG&f=1", "display_name": "Denis.A", "link": "https://stackoverflow.com/users/5714031/denis-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1565684207, "creation_date": 1565625976, "last_edit_date": 1565651772, "question_id": 57464614, "link": "https://stackoverflow.com/questions/57464614/perl-launching-external-program-with-environment-variables", "title": "perl launching external program with environment variables", "body": "<p>I would like to launch an external command in my perl program under Linux (then capturing the output). But my command has parameters set only by environment variables.\nTried something like that :</p>\n\n<pre><code>open CMD, \"NSRWATCH=36s;export NSRWATCH;nsrwatch|\";\n</code></pre>\n\n<p>but no way.\nAny clue ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1565622019, "post_id": 57463547, "comment_id": 101400698, "body": "Start by reading <code>perldoc -f open</code>, your guesses are miles off."}, {"owner": {"reputation": 23129, "user_id": 733345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UrLrZ.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/733345/joe"}, "edited": false, "score": 0, "creation_date": 1597667595, "post_id": 57463547, "comment_id": 112199331, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/761392/easiest-way-to-open-a-text-file-and-read-it-into-an-array-with-perl\">Easiest way to open a text file and read it into an array with Perl</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2351, "user_id": 10533011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cf679869635f63c1d842fa24604a02?s=128&d=identicon&r=PG&f=1", "display_name": "Donat", "link": "https://stackoverflow.com/users/10533011/donat"}, "is_accepted": false, "score": 0, "last_activity_date": 1565622045, "creation_date": 1565622045, "answer_id": 57463667, "question_id": 57463547, "link": "https://stackoverflow.com/questions/57463547/what-exactly-is-happening-in-this-piece-of-perl-code/57463667#57463667", "title": "What exactly is happening in this piece of perl code?", "body": "<p>File with name <code>$filename</code> is opened.\nContent of file will be loaded in array <code>@data</code> line by line.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 10619228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83ffde9360cf171bfa20534704ece59?s=128&d=identicon&r=PG", "display_name": "albuck97", "link": "https://stackoverflow.com/users/10619228/albuck97"}, "edited": false, "score": 0, "creation_date": 1565622648, "post_id": 57463718, "comment_id": 101401037, "body": "Thanks, great explanation, so this &lt;&gt; is the split syntax and $/ is like a default perl variable, don&#39;t know how else to put it, that is \\n by default and acts as the regex for &lt;&gt;?"}, {"owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "reply_to_user": {"reputation": 33, "user_id": 10619228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83ffde9360cf171bfa20534704ece59?s=128&d=identicon&r=PG", "display_name": "albuck97", "link": "https://stackoverflow.com/users/10619228/albuck97"}, "edited": false, "score": 0, "creation_date": 1565622994, "post_id": 57463718, "comment_id": 101401230, "body": "As @Quentin has suggested, <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/open.html</a> will hopefully explain the meaning of the syntax. I don&#39;t know if it uses regex under the hood but that variable is indeed a default and changing it means you can use &lt;&gt; to iterate over multi-line records in a file."}, {"owner": {"reputation": 33, "user_id": 10619228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83ffde9360cf171bfa20534704ece59?s=128&d=identicon&r=PG", "display_name": "albuck97", "link": "https://stackoverflow.com/users/10619228/albuck97"}, "edited": false, "score": 0, "creation_date": 1565623551, "post_id": 57463718, "comment_id": 101401479, "body": "Thanks, will definitely have to look into it, and really learn Perl, because we only use it sporadically, haven&#39;t had much time to do so."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 33, "user_id": 10619228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83ffde9360cf171bfa20534704ece59?s=128&d=identicon&r=PG", "display_name": "albuck97", "link": "https://stackoverflow.com/users/10619228/albuck97"}, "edited": false, "score": 1, "creation_date": 1565624459, "post_id": 57463718, "comment_id": 101401912, "body": "@albuck97 <code>&lt;&gt;</code> in this instance is the <code>readline</code> operator; it reads lines from the given filehandle, where a line&#39;s end is determined by <code>$&#47;</code> (which is a string, not a regex).  Because it is used in a list assignment, it will read all the lines available and return them, and then they are assigned into the array.  Note that the lines will still have their <code>\\n</code> (or whatever <code>$&#47;</code> is)."}, {"owner": {"reputation": 33, "user_id": 10619228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83ffde9360cf171bfa20534704ece59?s=128&d=identicon&r=PG", "display_name": "albuck97", "link": "https://stackoverflow.com/users/10619228/albuck97"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1565625197, "post_id": 57463718, "comment_id": 101402311, "body": "Thanks @ysth, I thought &lt;&gt; might be the readline operator, but can&#39;t work with guesses at work, and with so much to do and the little use of Perl, didn&#39;t have much time to go through the documentation thoroughly. Thanks for all the help, really appreciate it."}, {"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "reply_to_user": {"reputation": 33, "user_id": 10619228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83ffde9360cf171bfa20534704ece59?s=128&d=identicon&r=PG", "display_name": "albuck97", "link": "https://stackoverflow.com/users/10619228/albuck97"}, "edited": false, "score": 0, "creation_date": 1565647468, "post_id": 57463718, "comment_id": 101410628, "body": "@albuck97 No, <code>$&#47;</code> is not a regex, unfortunately. That detracts a lot of its utility, just like not being able to combine a record terminator with a max length, <code>fgets</code>-like. <code>perl</code> will however interpret some <code>$&#47;</code> values specially, you should read the whole thing in <code>perlvar(1)</code>."}, {"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "reply_to_user": {"reputation": 33, "user_id": 10619228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83ffde9360cf171bfa20534704ece59?s=128&d=identicon&r=PG", "display_name": "albuck97", "link": "https://stackoverflow.com/users/10619228/albuck97"}, "edited": false, "score": 0, "creation_date": 1565647765, "post_id": 57463718, "comment_id": 101410720, "body": "@albuck97 btw, the &quot;awk has to be better for something&quot; remark in <code>perlvar(1)</code> is dumb -- it should be &quot;gawk/mawk has to be better for something&quot;. Standard awk will not treat <code>RS</code> (the record separator) as a regular expression, either."}], "tags": [], "owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "is_accepted": true, "score": 5, "last_activity_date": 1565625202, "last_edit_date": 1565625202, "creation_date": 1565622244, "answer_id": 57463718, "question_id": 57463547, "link": "https://stackoverflow.com/questions/57463547/what-exactly-is-happening-in-this-piece-of-perl-code/57463718#57463718", "title": "What exactly is happening in this piece of perl code?", "body": "<p><code>open(my $in,  \"&lt;\", $filename);</code></p>\n\n<p>This <a href=\"http://p3rl.org/func#open\" rel=\"nofollow noreferrer\">open</a>s a file called <code>$filename</code> for reading <code>&lt;</code> and associates it with the filehandle <code>$in</code>.</p>\n\n<p><code>my @data = &lt;$in&gt;;</code></p>\n\n<p>The <code>&lt;$in&gt;</code> syntax is a shortcut for the <a href=\"http://p3rl.org/readline\" rel=\"nofollow noreferrer\"><code>readline</code></a> function, which in list context reads until end-of-file is reached and returns a list of lines.</p>\n\n<p>The split behaviour is implied by the value of <a href=\"http://p3rl.org/var#$/\" rel=\"nofollow noreferrer\"><code>$/</code></a> or <a href=\"http://p3rl.org/IO::Handle\" rel=\"nofollow noreferrer\"><code>IO::Handle-&gt;input_record_separator</code></a>, which is the input record separator. By default it is <code>\\n</code>, hence the line by line behaviour.</p>\n"}, {"tags": [], "owner": {"reputation": 1280, "user_id": 8513648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c59086b9318c37cc02acaeb85fef8f6?s=128&d=identicon&r=PG", "display_name": "J-L", "link": "https://stackoverflow.com/users/8513648/j-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1565733597, "creation_date": 1565733597, "answer_id": 57485816, "question_id": 57463547, "link": "https://stackoverflow.com/questions/57463547/what-exactly-is-happening-in-this-piece-of-perl-code/57485816#57485816", "title": "What exactly is happening in this piece of perl code?", "body": "<pre><code>open(my $in, \"&lt;\", $filename);\nmy @data = &lt;$in&gt;;\n</code></pre>\n\n<p>Maybe it'll help you if you saw the corresponding pseudocode to these lines, which would be:</p>\n\n<pre><code>input_file_handle = get_input_file_handle( filename )\ndata_array = get_lines_of_text_from_file_handle( file_handle )\n# Now data_array is an array of lines contained in the file.\n</code></pre>\n\n<p>In the pseudocode, <code>input_file_handle</code> is the equivalent of Perl's <code>$in</code>, and <code>data_array</code> corresponds to Perl's <code>@data</code>.</p>\n\n<p>Donat wrote:</p>\n\n<blockquote>\n  <p>I don't really know Perl, just the basics because we have to read and make very small changes at work.</p>\n</blockquote>\n\n<p>Ah.  I've noticed that much of Perl's non-stellar reputation comes from many of its users trying to use Perl without first formally learning it.  They think that Perl is just like C, and then get frustrated when they see code they never saw in C.  And instead of sitting down with a good beginning Perl book to learn the basics of Perl, they often prefer to just bash Perl.</p>\n\n<p>Now I'm not saying you're that type of person, but I have seen it happen before.  (For example, someone at my job once expressed an extreme hatred for Perl because he couldn't figure out some basic lines of Perl code.  When I explained the lines to him, he calmed down and said that it made more sense to him, now it had been explained.  Go figure -- he was bashing Perl without ever having learned how to use it.)</p>\n\n<p>When I first tried to use Perl, I thought it would be easy, but I had a difficult time understanding it, despite my years of coding experience.  But instead of bashing Perl, I decided to learn Perl from a beginner's Perl book, and soon fell in love with Perl.</p>\n\n<p>So I suggest you do the same, and start learning Perl.  It's not hard to do with the right book.  In fact, I highly recommend the O'Reilly book \"Learning Perl\" by Randal L. Schwartz, Brian D. Foy, and Tom Phoenix.  It not only does a good job of teaching you Perl, but it also covers many useful Perl idioms and one-liners, as well as providing an excellent introduction to Regular Expressions.</p>\n\n<p>When programmers start to learn a new language like C, C++, Java, Python, or Ruby, they often will start by formally learning it, whether it be by a class in school, an online tutorial, an online class, a book they bought, or a book they checked out of the library.  (This makes plenty of sense.)  But with Perl (more so than any other language I've encountered) programmers tend to forgo formally learning  it and instead just jump right in, and then become frustrated when they have trouble understanding it.  And this unfairly contributes to Perl's lagging reputation.</p>\n\n<p>(I'm not saying that Perl doesn't have its problems; I'm just saying that people should study Perl before criticizing code they don't understand.)</p>\n\n<p>So if you've ever taken the time to formally learn a programming language, please do the same for Perl.  The \"Learning Perl\" book I mentioned above is a great place to start.</p>\n"}], "owner": {"reputation": 33, "user_id": 10619228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83ffde9360cf171bfa20534704ece59?s=128&d=identicon&r=PG", "display_name": "albuck97", "link": "https://stackoverflow.com/users/10619228/albuck97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 57463718, "answer_count": 3, "score": -1, "last_activity_date": 1565733597, "creation_date": 1565621676, "last_edit_date": 1565621793, "question_id": 57463547, "link": "https://stackoverflow.com/questions/57463547/what-exactly-is-happening-in-this-piece-of-perl-code", "title": "What exactly is happening in this piece of perl code?", "body": "<p>So my question is more about the second line, unless I'm wrong about the first. So what I guess is happening in the first is the content of the file referenced by $filename is going in the variable $in, but in the second line, the contents go in the array @data, is that some sort of split? Idon't really know Perl, just the basics because we have to read and make very small changes at work.</p>\n\n<pre><code>open(my $in,  \"&lt;\", $filename);\nmy @data = &lt;$in&gt;;\n</code></pre>\n"}, {"tags": ["regex", "perl", "version"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1565614128, "post_id": 57461407, "comment_id": 101396317, "body": "Maybe <code>&#47;^(?:3\\.(?:10\\.[1-9]\\d*|(?:1[1-9]|[2-9]\\d))|[4-9]|[1-9]\\d+)\\&zwnj;&#8203;.&#47;</code>, see <a href=\"https://regex101.com/r/SbK2EM/2\" rel=\"nofollow noreferrer\">demo</a>."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565619017, "post_id": 57461561, "comment_id": 101399019, "body": "This is awful. It&#39;s unreadable. It&#39;s unmaintainable. It forces all future versions to have 4 components (when versions often change formats over time in practice) because it considers 4.3 to be less than 3.10.0.1."}, {"owner": {"reputation": 516, "user_id": 2224218, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7db38a8b0010381be6cde932b0f8b7b?s=128&d=identicon&r=PG", "display_name": "Subhash", "link": "https://stackoverflow.com/users/2224218/subhash"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565624568, "post_id": 57461561, "comment_id": 101401961, "body": "Yes, as @ikegami says, 4.3 is consider to be less than 3.10.1.0.  But if software always returns its version as full string ie, 4.3.0.0 then above regex works fine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565624621, "post_id": 57461561, "comment_id": 101401992, "body": "You make it sound like 4.3 is short for 4.3.0.0, but there&#39;s no reason to believe that. So like I said, the answer actually assumes all versions will have exactly four numbers, but there&#39;s no way to predict that, and this kind of thing changes all the time, so this is a very fragile solution (which is particularly bad given how unreadable and unmaintainable it is)"}], "tags": [], "owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "is_accepted": false, "score": 5, "last_activity_date": 1565614552, "last_edit_date": 1565614552, "creation_date": 1565614238, "answer_id": 57461561, "question_id": 57461407, "link": "https://stackoverflow.com/questions/57461407/need-perl-regex-which-matches-every-a-software-version-starting-from-3-10-1-0-an/57461561#57461561", "title": "Need Perl regex which matches every a software version starting from 3.10.1.0 and all further versions numbering", "body": "<p>This regex should do what you want.</p>\n\n<pre><code>^(?:[4-9]|[1-9]\\d+)(?:\\.\\d+){3}|3\\.[2-9]\\d(?:\\.\\d+){2}|3\\.1[1-9](?:\\.\\d+){2}|3\\.10\\.[1-9]\\d?\\.\\d+$\n</code></pre>\n\n<p>It looks for all the cases where <code>cmd_2</code> should run i.e.</p>\n\n<pre><code>[1-9]x.x.x.x\n[4-9].x.x.x\n3.[2-9]x.x.x\n3.1[1-9].x.x\n3.10.[1-9]x.x\n3.10.[1-9].x\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/3NTWnd/3\" rel=\"nofollow noreferrer\">Demo on regex101</a></p>\n"}, {"comments": [{"owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "edited": false, "score": 0, "creation_date": 1565650337, "post_id": 57462780, "comment_id": 101411328, "body": "This is definitely the right way to do this. I wasn&#39;t aware of the version package. Always a good day when you learn something new."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 11, "last_activity_date": 1565619259, "last_edit_date": 1565619259, "creation_date": 1565618857, "answer_id": 57462780, "question_id": 57461407, "link": "https://stackoverflow.com/questions/57461407/need-perl-regex-which-matches-every-a-software-version-starting-from-3-10-1-0-an/57462780#57462780", "title": "Need Perl regex which matches every a software version starting from 3.10.1.0 and all further versions numbering", "body": "<p>Don't use a regex pattern for this.</p>\n\n<pre><code>use version qw( );\n\nif ($version &gt;= version-&gt;declare(\"3.10.1.0\")) {\n   ...\n} else {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 516, "user_id": 2224218, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7db38a8b0010381be6cde932b0f8b7b?s=128&d=identicon&r=PG", "display_name": "Subhash", "link": "https://stackoverflow.com/users/2224218/subhash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 57462780, "answer_count": 2, "score": 6, "last_activity_date": 1565682878, "creation_date": 1565613579, "last_edit_date": 1565682878, "question_id": 57461407, "link": "https://stackoverflow.com/questions/57461407/need-perl-regex-which-matches-every-a-software-version-starting-from-3-10-1-0-an", "title": "Need Perl regex which matches every a software version starting from 3.10.1.0 and all further versions numbering", "body": "<p>This is my test case.</p>\n\n<p>A cmd_1, which was working until version 3.10.0.0, will not work in future versions. Cmd_2 is introduced in 3.10.1.0 and will be the valid replacement going forward.</p>\n\n<p>I need to add a condition for the above scenario. For older versions before 3.10.1.0, cmd_1 has to execute, and for 3.10.1.0 and beyond, cmd_2 has to execute.</p>\n\n<p>I tried as below:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>if ( ( $version =~ /^3\\.10\\.[1-9]/ ) || ( $version =~ /^3\\.[1-9][0-9]/ ) || ( $version =~ /^[4-9]/ ) {\n    # execute cmd_2;\n}else{\n    # execute cmd_1;\n} \n</code></pre>\n\n<p>The above regex fails in a few cases. For example, in the case of version= 3.10.0.0, cmd_2 will be executed, which is invalid.</p>\n\n<p>Cmd_2 has to execute in versions like:</p>\n\n<p><code>3.10.1.0</code>, <code>3.10.2.0</code>, <code>3.11.0.0</code>, <code>3.11.2.0</code>, <code>3.20.0.0</code>, <code>4.0.0.0</code>, <code>5.0.0.0</code>, <code>10.0.0.0</code></p>\n\n<p>Cmd_1 has to execute in versions like:</p>\n\n<p><code>3.10.0.0</code>, <code>3.9.0.0</code>, <code>3.1.0.0</code>, <code>3.0.0.0</code>, <code>2.0.0.0</code>, <code>1.0.0.0</code></p>\n\n<p>I tried a few more regexes but was not able to find a perfect one. Please help me with this.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["bash", "shell", "perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10248678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JpnLA.jpg?s=128&g=1", "display_name": "oguz ismail", "link": "https://stackoverflow.com/users/10248678/oguz-ismail"}, "edited": false, "score": 1, "creation_date": 1565553907, "post_id": 57453189, "comment_id": 101381011, "body": "<code>NR%4==3{$4+=10}1</code> would be more awkish"}, {"owner": {"reputation": 1867, "user_id": 835396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed61703d8f530d9100f32f0d46c64041?s=128&d=identicon&r=PG", "display_name": "Rico Chen", "link": "https://stackoverflow.com/users/835396/rico-chen"}, "reply_to_user": {"reputation": 1, "user_id": 10248678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JpnLA.jpg?s=128&g=1", "display_name": "oguz ismail", "link": "https://stackoverflow.com/users/10248678/oguz-ismail"}, "edited": false, "score": 0, "creation_date": 1565554080, "post_id": 57453189, "comment_id": 101381042, "body": "totally agree @oguzismail :D"}], "tags": [], "owner": {"reputation": 1867, "user_id": 835396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed61703d8f530d9100f32f0d46c64041?s=128&d=identicon&r=PG", "display_name": "Rico Chen", "link": "https://stackoverflow.com/users/835396/rico-chen"}, "is_accepted": false, "score": 1, "last_activity_date": 1565553688, "creation_date": 1565553688, "answer_id": 57453189, "question_id": 57453057, "link": "https://stackoverflow.com/questions/57453057/awk-how-to-add-a-constant-to-a-number-every-nth-line-out-of-m-lines-in-place/57453189#57453189", "title": "awk: How to add a constant to a number every Nth line out of M lines in place?", "body": "<p>You just need to modify your awk code a bit:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>awk '{ if(NR%4==3) $4=$4+10; print }' file &gt; outputfile\n</code></pre>\n\n<p>After file <code>outputfile</code> is generated, you can just just run <code>mv outputfile file</code> if you need the original file to be replaced.</p>\n"}, {"tags": [], "owner": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "is_accepted": true, "score": 1, "last_activity_date": 1565553910, "creation_date": 1565553910, "answer_id": 57453216, "question_id": 57453057, "link": "https://stackoverflow.com/questions/57453057/awk-how-to-add-a-constant-to-a-number-every-nth-line-out-of-m-lines-in-place/57453216#57453216", "title": "awk: How to add a constant to a number every Nth line out of M lines in place?", "body": "<p>I guess this is what you want (notice the print outside the braces)</p>\n\n<pre><code>cp file file.ORI\nawk '{ if ((NR - 3) % 4 == 0) {$4+=10} print}' file &gt; temp &amp;&amp; \\\nmv temp file\n</code></pre>\n\n<p>save <code>file.ORI</code> just in case...</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1565554642, "creation_date": 1565554642, "answer_id": 57453308, "question_id": 57453057, "link": "https://stackoverflow.com/questions/57453057/awk-how-to-add-a-constant-to-a-number-every-nth-line-out-of-m-lines-in-place/57453308#57453308", "title": "awk: How to add a constant to a number every Nth line out of M lines in place?", "body": "<p>Here's a solution using Perl:</p>\n\n<pre><code>perl -i -lape 'if ($. % 4 == 3) { $F[3] += 10; $_ = \"@F\" }' file\n</code></pre>\n\n<p>The <code>-i</code> switch makes it (appear to) work in place. Use <code>-i.bak</code> to produce <code>file.bak</code> containing the original data.</p>\n\n<p><code>$.</code> stores the current line number; <code>$. % 4 == 3</code> selects the 3rd line from every group of 4 lines. <code>$F[3] += 10</code> increments the 4th field of the line by 10.</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 11914512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239685d797e35af01e7799b0fe3eb5bf?s=128&d=identicon&r=PG&f=1", "display_name": "cobra1994", "link": "https://stackoverflow.com/users/11914512/cobra1994"}, "edited": false, "score": 0, "creation_date": 1565558312, "post_id": 57453402, "comment_id": 101381928, "body": "Sorry I am too stupid to comprehend this script. I cannot find where is the code for  &#39;every 3rd line&#39;..."}, {"owner": {"reputation": 10260, "user_id": 7939871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1199ba5dde05e4083823a058c5ac6bed?s=128&d=identicon&r=PG", "display_name": "L&#233;a Gris", "link": "https://stackoverflow.com/users/7939871/l%c3%a9a-gris"}, "reply_to_user": {"reputation": 97, "user_id": 11914512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239685d797e35af01e7799b0fe3eb5bf?s=128&d=identicon&r=PG&f=1", "display_name": "cobra1994", "link": "https://stackoverflow.com/users/11914512/cobra1994"}, "edited": false, "score": 0, "creation_date": 1565558490, "post_id": 57453402, "comment_id": 101381959, "body": "I added comments"}], "tags": [], "owner": {"reputation": 10260, "user_id": 7939871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1199ba5dde05e4083823a058c5ac6bed?s=128&d=identicon&r=PG", "display_name": "L&#233;a Gris", "link": "https://stackoverflow.com/users/7939871/l%c3%a9a-gris"}, "is_accepted": false, "score": 1, "last_activity_date": 1565611882, "last_edit_date": 1565611882, "creation_date": 1565555569, "answer_id": 57453402, "question_id": 57453057, "link": "https://stackoverflow.com/questions/57453057/awk-how-to-add-a-constant-to-a-number-every-nth-line-out-of-m-lines-in-place/57453402#57453402", "title": "awk: How to add a constant to a number every Nth line out of M lines in place?", "body": "<p>POSIX shell solution:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/usr/bin/env sh\nl=0 #line counter\nwhile read -r h x y z; do # read a line and store each field in variables h x y z\n  l=$((l+1)) # increment line counter\n  if [ $l -eq 4 ]; then\n    # fourth line including header = 3rd line of data\n    z=\"$(echo \"scale=1;$z+10\" | bc)\" # add 10 to Z\n    l=0 # reset line counter for next data block\n  fi\n  echo \"$h $x $y $z\" # output the line\ndone &lt;file # the whole loop reads from file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "is_accepted": false, "score": 1, "last_activity_date": 1565560235, "creation_date": 1565560235, "answer_id": 57453871, "question_id": 57453057, "link": "https://stackoverflow.com/questions/57453057/awk-how-to-add-a-constant-to-a-number-every-nth-line-out-of-m-lines-in-place/57453871#57453871", "title": "awk: How to add a constant to a number every Nth line out of M lines in place?", "body": "<p>Rather than trying to count records and run the potential for a miscount causing the increment to the wrong line, you can key off of the records that have an <code>'='</code> sign in them and then use a counter from there, e.g.</p>\n\n<pre><code>awk '/=/{n=0} n==2{$4+=10} {n++}1' file\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>There are three rules used in the <code>awk</code> expression:</p>\n\n<ul>\n<li><code>/=/{n=0}</code> if the line contains <code>'='</code> set counter zero;</li>\n<li><code>n==2{$4+=10}</code> couter equals <code>2</code> increment 4th field by <code>10</code>;</li>\n<li><code>{n++}</code> increment counter.</li>\n</ul>\n\n<p>The <code>1</code> at the end is the default for print record.</p>\n\n<p><strong>Example Use/Output</strong></p>\n\n<pre><code>$ awk '/=/{n=0} n==2{$4+=10} {n++}1' file\nt=1 x y z\nO 1.2 1.5 0.8\nH 0.4 2.3 11.3\nH 1.3 2.5 1.1\nt=2 x y z\nO 1.3 1.6 0.9\nH 0.3 2.5 11.2\nH 1.1 2.3 0.9\nt=3 x y z\nO 1.2 1.8 1.0\nH 0.5 2.2 11.1\nH 1.5 2.1 0.8\nt=4 x y z\n</code></pre>\n\n<p>You can redirect to a new file and then overwrite the original as needed.</p>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1565698973, "creation_date": 1565698973, "answer_id": 57477673, "question_id": 57453057, "link": "https://stackoverflow.com/questions/57453057/awk-how-to-add-a-constant-to-a-number-every-nth-line-out-of-m-lines-in-place/57477673#57477673", "title": "awk: How to add a constant to a number every Nth line out of M lines in place?", "body": "<p>This might work for you (GNU sed, bash and bc):</p>\n\n<pre><code>sed -i '3~4{s/\\S\\+/$(echo \"&amp;+10\"|bc -l)/4;s/.*/echo \"&amp;\"/e}' file\n</code></pre>\n\n<p>Using sed's modulus command, from line 3 add 10 to the 4th field using <code>bc</code> every 4 lines.</p>\n"}], "owner": {"reputation": 97, "user_id": 11914512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239685d797e35af01e7799b0fe3eb5bf?s=128&d=identicon&r=PG&f=1", "display_name": "cobra1994", "link": "https://stackoverflow.com/users/11914512/cobra1994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 57453216, "answer_count": 6, "score": 2, "last_activity_date": 1565698973, "creation_date": 1565552518, "last_edit_date": 1565555062, "question_id": 57453057, "link": "https://stackoverflow.com/questions/57453057/awk-how-to-add-a-constant-to-a-number-every-nth-line-out-of-m-lines-in-place", "title": "awk: How to add a constant to a number every Nth line out of M lines in place?", "body": "<p>I am currently having trouble editting a file using bash script. It is a file which contains the Cartesian coordinates (x,y,z) of a series of atoms at hundreds of timestamps. For a system consisting of 3 atoms, it looks like below:  </p>\n\n<pre><code>t=1 x y z  \nO 1.2 1.5 0.8  \nH 0.4 2.3 1.3  \nH 1.3 2.5 1.1  \nt=2 x y z  \nO 1.3 1.6 0.9  \nH 0.3 2.5 1.2  \nH 1.1 2.3 0.9  \nt=3 x y z   \nO 1.2 1.8 1.0  \nH 0.5 2.2 1.1  \nH 1.5 2.1 0.8  \nt=4 x y z  \n...\n</code></pre>\n\n<p>Now I want to add a constant 10 to the z-coordinate in every 3rd line out of 4 lines. Does anyone has any idea how to solve this? </p>\n\n<p>I have tried with awk. However, it can only ouput the modified lines. It is important to mention that I want to MODIFY the original file in place, not just output the modified lines.</p>\n\n<pre><code>awk '{ if ((NR - 3) % 4 == 0) {$4=$4+10; print}}' file &gt; outputfile\n</code></pre>\n\n<p>The expected output is as below:  </p>\n\n<pre><code>t=1 x y z  \nO 1.2 1.5 0.8  \nH 0.4 2.3 11.3  \nH 1.3 2.5 1.1  \nt=2 x y z   \nO 1.3 1.6 0.9  \nH 0.3 2.5 11.2  \nH 1.1 2.3 0.9  \nt=3 x y z  \nO 1.2 1.8 1.0  \nH 0.5 2.2 11.1  \nH 1.5 2.1 0.8  \nt=4 x y z   \n...\n</code></pre>\n\n<p>Now I am only getting:  </p>\n\n<pre><code>H 0.4 2.3 11.3  \nH 0.3 2.5 11.2  \nH 0.5 2.2 11.1  \n...\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1892, "user_id": 3158810, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ebf9e065f654642fecfee399b439030?s=128&d=identicon&r=PG&f=1", "display_name": "G4143", "link": "https://stackoverflow.com/users/3158810/g4143"}, "edited": false, "score": 0, "creation_date": 1565549404, "post_id": 57452217, "comment_id": 101380045, "body": "I think I figured it out. When I assign to $_[1] I&#39;m updating the alias that&#39;s held in $_[1] and updating @_ = ($func, $next) updates the @_ array,"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565551868, "post_id": 57452217, "comment_id": 101380602, "body": "Note that using <code>goto &amp;iter;</code> will save you memory (I think), but it will slow down your program. If you truly want to optimize things, remove the recursive call in favour of a loop."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565551992, "post_id": 57452217, "comment_id": 101380629, "body": "<code>sub iter {     my ($func, $seq) = @_;     while (1) {        ( my $data, $seq ) = $seq-&gt;();        return if !defined($data);        $func-&gt;($data);     } }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565583992, "post_id": 57452736, "comment_id": 101385225, "body": "I&#39;ve added suggestions for improving your code to my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1565583963, "last_edit_date": 1565583963, "creation_date": 1565549813, "answer_id": 57452736, "question_id": 57452217, "link": "https://stackoverflow.com/questions/57452217/tail-call-recursion-optimising/57452736#57452736", "title": "Tail call Recursion &quot;Optimising&quot;", "body": "<p>Writing to <code>$_[1]</code> writes to the second scalar passed to the sub.</p>\n\n<pre><code>$ perl -E'$x = \"abc\"; say $x; sub { $_[0] = \"def\"; say $_[0]; }-&gt;($x); say $x;'\nabc\ndef\ndef\n</code></pre>\n\n<p>So you are clobbering the caller's variables. Assigning to <code>@_</code> replaces the scalars it contains rather than writing to them.</p>\n\n<pre><code>$ perl -E'$x = \"abc\"; say $x; sub { @_ = \"def\"; say $_[0]; }-&gt;($x); say $x;'\nabc\ndef\nabc\n</code></pre>\n\n<p>You can replace a specific element using <code>splice</code>.</p>\n\n<pre><code>$ perl -E'$x = \"abc\"; say $x; sub { splice(@_, 0, 1, \"def\"); say $_[0]; }-&gt;($x); say $x;'\nabc\ndef\nabc\n</code></pre>\n\n<hr>\n\n<p>It's far more convenient for iterators to return an empty list when they are exhausted. For starters, it allows them to return <code>undef</code>.</p>\n\n<p>Furthermore, I'd remove the expensive recursive calls with quicker loops. These loops can be made particularly simple because of the change mentioned above.</p>\n\n<p>The module becomes:</p>\n\n<pre><code>package Seq;\n\nuse strict;\nuse warnings;\n\nsub empty { sub { } }\n\nsub add {\n    my ($data, $seq) = @_;\n    return sub { $data, $seq };\n}\n\nsub iter {\n    my ($func, $seq) = @_;\n    while ( (my $data, $seq) = $seq-&gt;() ) {\n        $func-&gt;($data);\n    }\n}\n\nsub smap {\n    my ($func, $seq) = @_;\n    if ( (my $data, $seq) = $seq-&gt;() ) {\n        return sub { $func-&gt;($data), smap($func, $seq) };\n    } else {\n        return sub { };\n    }\n}\n\nsub fold {\n    my ($func, $acc, $seq) = @_;\n    while ( (my $data, $seq) = $seq-&gt;() ) {\n        $acc = $func-&gt;($acc, $data);\n    }\n\n    return $acc;\n}\n\n1;\n</code></pre>\n\n<p>Also, for speed reasons, replace</p>\n\n<pre><code>sub { my ($data) = @_; $data * 2 }\nsub { my ($acc, $data) = @_; $acc + $data }\n</code></pre>\n\n<p>with</p>\n\n<pre><code>sub { $_[0] * 2 }\nsub { $_[0] + $_[1] }\n</code></pre>\n"}], "owner": {"reputation": 1892, "user_id": 3158810, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ebf9e065f654642fecfee399b439030?s=128&d=identicon&r=PG&f=1", "display_name": "G4143", "link": "https://stackoverflow.com/users/3158810/g4143"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57452736, "answer_count": 1, "score": 1, "last_activity_date": 1565583963, "creation_date": 1565545327, "last_edit_date": 1565546869, "question_id": 57452217, "link": "https://stackoverflow.com/questions/57452217/tail-call-recursion-optimising", "title": "Tail call Recursion &quot;Optimising&quot;", "body": "<p>I have a weird problem I can't figure out. I created a simple sequence in Perl with anonymous functions.</p>\n\n<pre><code>sub{($data, sub{($data, sub{($data, sub{($data, empty)})})})};\n</code></pre>\n\n<p>And it works but I tired to implement tail optimizing and got some weird behaviour. Example. The iter function below works.</p>\n\n<pre><code>sub iter {\n    my ($func, $seq) = @_;\n    my ($data, $next) = $seq-&gt;();\n\n    if (defined $data) {\n        $func-&gt;($data);\n        @_ = ($func, $next);#This @_ update works fine\n        goto &amp;iter;\n    }\n}\n</code></pre>\n\n<p>while this implementation of iter fails.</p>\n\n<pre><code>sub iter {\n    my ($func, $seq) = @_;\n    my ($data, $next) = $seq-&gt;();\n\n    if (defined $data) {\n        $func-&gt;($data);\n        $_[1] = $next; #This @_ update fails\n        goto &amp;iter;\n    }\n}\n</code></pre>\n\n<p>Both updates of @_ yield the same values for @_ but the code behaves differently when it continues.. To see what I'm talking about try running the complete code below.</p>\n\n<pre><code>#! /usr/bin/env perl\n\npackage Seq;\n\nuse 5.006;\nuse strict;\nuse warnings;\n\nsub empty {\n    sub{undef};\n}\n\nsub add {\n    my ($data, $seq) = @_;\n    sub{($data, $seq)};\n}\n\nsub iter {\n    my ($func, $seq) = @_;\n    my ($data, $next) = $seq-&gt;();\n\n    if (defined $data) {\n        $func-&gt;($data);\n        @_ = ($func, $next);#This works fine\n        #$_[1] = $next; #This fails\n        goto &amp;iter;\n    }\n}\n\nsub smap {\n    my ($func, $seq) = @_;\n    my ($data, $next) = $seq-&gt;();\n    if (defined $data) {\n        sub{($func-&gt;($data), Seq::smap($func, $next))};\n    }else {\n        empty();\n    }\n}\n\nsub fold {\n    my ($func, $acc, $seq) = @_;\n    my ($data, $next) = $seq-&gt;();\n    if (defined $data) {\n        @_ = ($func, $func-&gt;($acc, $data), $next);\n        goto &amp;Seq::fold;\n    }else {\n        $acc;\n    }\n}\n\n1;\n\npackage main;\n\nuse warnings;\nuse strict;\nuse utf8;\n\nuse List::Util qw(reduce);\n\nmy $seq =\n    reduce\n    {Seq::add($b, $a)}\n    Seq::empty,\n    (4143, 1234, 4321, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n\nSeq::iter(sub{my ($data) = @_; STDOUT-&gt;print(\"$data\\n\")}, $seq);\n\nmy $seq2 = Seq::smap(sub{my ($data) = @_; $data * 2}, $seq);\n\nSTDOUT-&gt;print(\"\\n\\n\");\n\nSeq::iter(sub{my ($data) = @_; STDOUT-&gt;print(\"$data\\n\")}, $seq2);\n\nSTDOUT-&gt;print(\"\\n\\n\");\n\nmy $ans = Seq::fold(sub{my ($acc, $data) = @_; $acc + $data}, 0, $seq);\nmy $ans2 = Seq::fold(sub{my ($acc, $data) = @_; $acc + $data}, 0, $seq2);\n\nSTDOUT-&gt;print(\"$ans\\n\");\nSTDOUT-&gt;print(\"$ans2\\n\");\n\nexit (0);\n</code></pre>\n\n<p>The code should work for both examples of iter but it doesn't.. Any pointers why?</p>\n"}, {"tags": ["shell", "perl", "awk", "scripting"], "answers": [{"comments": [{"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565486963, "post_id": 57446704, "comment_id": 101369518, "body": "cool, <code>perl -wE&#39;@w = (0..9, &quot;a&quot;..&quot;z&quot;); @s = map { $w=$_; map $w.$_, @w } @w; say for @s&#39; | xargs</code> seems to work, thanks!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565487083, "post_id": 57446704, "comment_id": 101369526, "body": "@cnst Right, just simplified -- those indices were remains of another approach"}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565487407, "post_id": 57446704, "comment_id": 101369549, "body": "cool, yes, and if extra prefix/suffix is needed, then change <code>say</code> with <code>say $_, &quot;.suffix&quot;</code> also works."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565487529, "post_id": 57446704, "comment_id": 101369565, "body": "@cnst &quot;<i>if extra prefix/suffix is needed...</i>&quot;  -- yes, a nice one --- while if you need a more substiantial transformation can pipe it through a <code>map</code> for printing (or through another <code>map</code> while producing <code>@s</code> if this ends up as a part of a larger script where you need results stored in an array)"}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565487696, "post_id": 57446704, "comment_id": 101369577, "body": "cool, thanks, so, we&#39;re getting, like, <code>perl -wE&#39;@w=(0..9,&quot;a&quot;..&quot;z&quot;);say&quot;$_.suffix&quot;for map{$w=$_;map$w.$_,@w}@w;&#39; | xargs</code> in the end now! :-)  The only required space is between <code>for map</code>; wonder is there&#39;s a way to get rid of it, too! :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565492332, "post_id": 57446704, "comment_id": 101370022, "body": "@cnst Updated to add the suffix (which I didn&#39;t realize you&#39;d need), in a couple of ways.  Can be tweaked -- and surely shorted -- if that&#39;s needed"}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565494146, "post_id": 57446704, "comment_id": 101370173, "body": "Cool!  BTW, it seems that <code>for</code> is optional, provided you add a space or <code>\\n</code> after the <code>.ext</code> suffix (but then you&#39;d also have a trailing space at the very end, too)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565508139, "post_id": 57446704, "comment_id": 101371732, "body": "@cnst indeed -- <code>say</code> (and <code>print</code>) takes a list, so it&#39;s OK to give it output of <code>map</code>. Except that elements would come out glued together -- unless you add a space (or \\n) that is, as you say (or really <code>say join &quot; &quot;, map ...</code> -- no trailing space). Also, you can golf it down a little by dropping <code>-w</code> (warnings) since then you can do <code>a..z</code> (no quotes), can use <code>undef</code>s (nothin&#39; comes out), etc.  I didn&#39;t realize that trimming it down by chars was of interest:)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565511277, "post_id": 57446704, "comment_id": 101372235, "body": "@cnst Updated the last snippet a little.  Btw, elements in lists when printed get in between them what <code>$,</code> is; by default nothing.  So with <code>$,=&quot; &quot;;</code> one can do <code>say map...</code> and elements of the list that <code>map</code> puts out are printed with a space between them.  That doesn&#39;t reduce byte count though ..."}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565677151, "post_id": 57446704, "comment_id": 101416474, "body": "yeah, thanks, I think it&#39;s good!  (the suffix is fixed for my usecase; but that&#39;s useful to remember how to handle the args!  nice code for adding the <code>.</code> only if the suffix is present, too!)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565678307, "post_id": 57446704, "comment_id": 101416928, "body": "@cnst Right, it seemed like you wouldn&#39;t need it but I thought it may be good to have that in general.  (Sorry about silly (non-sensical) &quot;comments&quot; that i posted here in the last hour or so -- removed now -- was playing with formatting in comments, trying to figure out how to use Unicode symbols in here ... failed so far .. :("}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565681532, "post_id": 57446704, "comment_id": 101418376, "body": "@cnst Right, by copying it -- but how do I produce it by U+205D (or as entity, &amp;#8285;) ... perhaps can&#39;t"}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565720397, "post_id": 57446704, "comment_id": 101437970, "body": "Just search it, and copy-paste the results \u2014 \u205d.  Sadly, entities don&#39;t appear to be supported on SO."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565720622, "post_id": 57446704, "comment_id": 101438071, "body": "@cnst Yeah, it may be that that&#39;s that for comments ... makes it more labor-some :((.   Entities work directly in text, in proper posts (Q/A) (I use things like &lt;sup&gt;&amp;dagger;&lt;/sup&gt; quite often)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1565762767, "last_edit_date": 1565762767, "creation_date": 1565486228, "answer_id": 57446704, "question_id": 57446583, "link": "https://stackoverflow.com/questions/57446583/find-all-combinations-of-two-character-letters-digits-similar-to-jot1-for-num/57446704#57446704", "title": "Find all combinations of two-character letters/digits, similar to jot(1) for numbers", "body": "<p>With Perl</p>\n\n<pre><code>perl -wE'@w = (0..9,\"a\"..\"z\"); say for map { $w=$_; map $w.$_, @w } @w'\n</code></pre>\n\n<p>To also append (<code>.ext</code>) to every term</p>\n\n<pre><code>perl -wE'@w = (0..9,\"a\"..\"z\"); say for map { $w=$_; map $w.$_.\".ext\", @w } @w'\n</code></pre>\n\n<p>Or to optionally pass to the command what suffix to use</p>\n\n<pre><code>perl -wE'\n    $e=shift//\"\"; $e &amp;&amp;= \".$e\";\n    @w = (0..9,\"a\"..\"z\"); say for map { $w=$_; map $w.$_.$e, @w } @w'\n</code></pre>\n\n<p>for invocation <code>perl -wE'...' suffix</code>, or omit <code>suffix</code> to use the default (empty string here).</p>\n\n<p>A <code>.</code> is added before the suffix when it is given, where <code>$e &amp;&amp;= ...</code> is <code>$e &amp;&amp; $e = ...</code></p>\n"}, {"comments": [{"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565489666, "post_id": 57446814, "comment_id": 101369771, "body": "Yeah, this basically works in any shell, including tcsh, but it&#39;s way too much copy-pasting, plus, can&#39;t be sure you didn&#39;t make a mistake in your alphabet list!"}], "tags": [], "owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "is_accepted": false, "score": 1, "last_activity_date": 1565487988, "creation_date": 1565487988, "answer_id": 57446814, "question_id": 57446583, "link": "https://stackoverflow.com/questions/57446583/find-all-combinations-of-two-character-letters-digits-similar-to-jot1-for-num/57446814#57446814", "title": "Find all combinations of two-character letters/digits, similar to jot(1) for numbers", "body": "<p>As an alternative, if you simply have bash available, you can do it with <em>brace-expansion</em> and <code>printf</code>, e.g.</p>\n\n<pre><code>printf \"%s\\n\" {0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z}{0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z}\n</code></pre>\n\n<p>Which essentially just takes the characters <code>[0-9][a-z]</code> in side-by-side brace-expansions fed to <code>printf</code> to line separate each output.</p>\n\n<p><strong>Example Output</strong></p>\n\n<pre><code>00\n01\n02\n03\n04\n05\n06\n07\n08\n09\n0a\n0b\n0c\n0d\n0e\n0f\n0g\n...\nzw\nzx\nzy\nzz\n\n(1296 lines)\n</code></pre>\n\n<p>Use <code>echo</code> if you want the output space separated.</p>\n"}, {"comments": [{"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565489123, "post_id": 57446879, "comment_id": 101369725, "body": "@jenesaisquoi it&#39;s still a solution, you didn&#39;t have to delete your answer!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1565522003, "post_id": 57446879, "comment_id": 101374225, "body": "No need for three nested loops. Shorter than even bash: <code>perl -wE&#39;@w=(0..9,a..z);map{$w=$_;say&quot;$w$_.suffix&quot;for@w}@w;&#39;</code>, It wouldn&#39;t call this or your version better than zdim&#39;s, though. If it wasn&#39;t for the bash version, I&#39;d downvote the answer for unnecessary golfing."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 28248, "user_id": 2415684, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e0fb12778bde5d0dddddd3b8b619681b?s=128&d=identicon&r=PG", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/2415684/rorschach"}, "edited": false, "score": 2, "creation_date": 1565568809, "post_id": 57446879, "comment_id": 101383315, "body": "@jenesaisquoi, I was replying to cnst&#39;s answer, not your comment. I was saying that I wouldn&#39;t call the Perl solution I posted or the Perl solution cnst posted better than zdim&#39;s. Needless golfing reduced readability and maintainability. cnst&#39;s bash solution is nice, though."}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565576904, "post_id": 57446879, "comment_id": 101384314, "body": "@ikegami thanks, I&#39;ve added it; BTW, if an absolute shortest solution is required (golfing style), then bash could still be made the shortest by replacing <code>printf &quot;%s\\n&quot;</code> with just the <code>echo</code>"}], "tags": [], "owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "is_accepted": false, "score": 4, "last_activity_date": 1565576667, "last_edit_date": 1565576667, "creation_date": 1565489069, "answer_id": 57446879, "question_id": 57446583, "link": "https://stackoverflow.com/questions/57446583/find-all-combinations-of-two-character-letters-digits-similar-to-jot1-for-num/57446879#57446879", "title": "Find all combinations of two-character letters/digits, similar to jot(1) for numbers", "body": "<p>Combining the answers by <a href=\"/users/2415684/jenesaisquoi\"><em>jenesaisquoi</em></a> and <a href=\"/users/3422102/david-c-rankin\"><em>David C. Rankin</em></a>, the shortest solution would appear to require <code>bash</code> (<a href=\"http://ports.su/shells/tcsh\" rel=\"nofollow noreferrer\"><code>tcsh</code></a> and OpenBSD's <a href=\"http://mdoc.su/o/ksh.1\" rel=\"nofollow noreferrer\"><code>ksh</code></a> don't support <code>echo {0..9}</code> expansion), and is as follows:</p>\n\n<pre><code>bash -c 'printf \"%s\\n\" {{0..9},{a..z}}{{0..9},{a..z}}.suffix'\n</code></pre>\n\n<p>Of course, if <code>\\n</code> isn't required, it could be even shorter than above:</p>\n\n<pre><code>bash -c 'echo {{0..9},{a..z}}{{0..9},{a..z}}.suffix'\n</code></pre>\n\n<hr>\n\n<p>The next best solution by <a href=\"/users/4653379/zdim\"><em>zdim</em></a> and optimised by <a href=\"/users/589924/ikegami\"><em>ikegami</em></a>, and the first one that fits requirements, is using perl:</p>\n\n<pre><code>perl -E'@w=(0..9,a..z);map{$w=$_;say\"$w$_.suffix\"for@w}@w;'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565574796, "post_id": 57451396, "comment_id": 101384039, "body": "Well, I wasn&#39;t looking for a Java solution!  (Sorry, couldn&#39;t resist.)  Perhaps it wasn&#39;t explicit, but, based on existing answers and comments, I&#39;m looking for a one-off short snippet, and although this awk solution is nice at showing how to use awk as a full programming language, it&#39;s overly long and complex for the problem at stake; I think even a <code>jot</code> solution with two for loops would be simpler (and more maintanable, as everyone knows how to use shell, and integrate logic around it)."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565773430, "post_id": 57451396, "comment_id": 101452930, "body": "You&#39;re welcome to your opinion of course but while this solution is longer than others, it&#39;s less complex rather than more because each step is written out explicitly, and it&#39;s more trivially extensible to different character lists (try simply adding <code>%</code> to the list of chars in each solution), and more portable (it&#39;ll work everywhere) and you&#39;re wrong in your last statement - see <a href=\"https://unix.stackexchange.com/questions/169716/why-is-using-a-shell-loop-to-process-text-considered-bad-practice\">why-is-using-a-shell-loop-to-process-text-considered-bad-pra&zwnj;&#8203;ctice</a> for some of the reasons why."}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565818978, "post_id": 57451396, "comment_id": 101473833, "body": "This solution being less complex than mere <code>{{0..9},{a..z}}{{0..9},{a..z}}</code>?!  Please.  There&#39;s also no input from the user at any point here; so, it&#39;s unclear why you&#39;re linking to the QA about security vulnerabilities of accepting untrusted input in shell.  I suggest you look into the term &quot;overengineering&quot; \u2014 it is expressly a part of the original question that the alphabet is limited to <code>:lower:</code> and <code>:digit:</code>, and there&#39;s absolutely no need for extension at any point (of course, it may still help someone else who finds this looking for an entirely different problem)"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1565848037, "post_id": 57451396, "comment_id": 101478812, "body": "Yes explicit loops are less complex than <code>{{0..9},{a..z}}{{0..9},{a..z}}</code>, it&#39;s just not briefer than it. Also <code>{0..9},{a..z}</code> is only <code>:lower:</code> and <code>:digit:</code> <b>if</b> your locale has the same order of characters as the C locale while the solution I posted will work in any locale. That link doesn&#39;t just discuss security vulnerabilities it also explains how extremely slow a shell loop (and by extension two nested shell loops!) would be. Writing code that cannot easily be extended is a poor design choice. As I mentioned, though, you&#39;re welcome to your opinion."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1565539402, "last_edit_date": 1565539402, "creation_date": 1565538167, "answer_id": 57451396, "question_id": 57446583, "link": "https://stackoverflow.com/questions/57446583/find-all-combinations-of-two-character-letters-digits-similar-to-jot1-for-num/57451396#57451396", "title": "Find all combinations of two-character letters/digits, similar to jot(1) for numbers", "body": "<p>Using any awk in any shell on every UNIX box and easily adaptable to any set of characters you care about just by modifying the bracket expression <code>[[:lower:][:digit:]]</code> to include your target characters:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN {\n    for (asciiNr=0; asciiNr&lt;=127; asciiNr++) {\n        char = sprintf(\"%c\", asciiNr)\n        if ( char ~ /[[:lower:][:digit:]]/ ) {\n            chars[++numChars] = char\n        }\n    }\n    for (i=1; i&lt;=numChars; i++) {\n        for (j=1; j&lt;=numChars; j++) {\n            printf \"%s%s%s\", chars[i], chars[j], (j&lt;numChars ? OFS : ORS)\n        }\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>$ awk -f tst.awk\n00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 0g 0h 0i 0j 0k 0l 0m 0n 0o 0p 0q 0r 0s 0t 0u 0v 0w 0x 0y 0z\n10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 1g 1h 1i 1j 1k 1l 1m 1n 1o 1p 1q 1r 1s 1t 1u 1v 1w 1x 1y 1z\n20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 2g 2h 2i 2j 2k 2l 2m 2n 2o 2p 2q 2r 2s 2t 2u 2v 2w 2x 2y 2z\n30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 3g 3h 3i 3j 3k 3l 3m 3n 3o 3p 3q 3r 3s 3t 3u 3v 3w 3x 3y 3z\n40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 4g 4h 4i 4j 4k 4l 4m 4n 4o 4p 4q 4r 4s 4t 4u 4v 4w 4x 4y 4z\n50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 5g 5h 5i 5j 5k 5l 5m 5n 5o 5p 5q 5r 5s 5t 5u 5v 5w 5x 5y 5z\n60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 6g 6h 6i 6j 6k 6l 6m 6n 6o 6p 6q 6r 6s 6t 6u 6v 6w 6x 6y 6z\n70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 7g 7h 7i 7j 7k 7l 7m 7n 7o 7p 7q 7r 7s 7t 7u 7v 7w 7x 7y 7z\n80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 8g 8h 8i 8j 8k 8l 8m 8n 8o 8p 8q 8r 8s 8t 8u 8v 8w 8x 8y 8z\n90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f 9g 9h 9i 9j 9k 9l 9m 9n 9o 9p 9q 9r 9s 9t 9u 9v 9w 9x 9y 9z\na0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af ag ah ai aj ak al am an ao ap aq ar as at au av aw ax ay az\nb0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt bu bv bw bx by bz\nc0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf cg ch ci cj ck cl cm cn co cp cq cr cs ct cu cv cw cx cy cz\nd0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df dg dh di dj dk dl dm dn do dp dq dr ds dt du dv dw dx dy dz\ne0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef eg eh ei ej ek el em en eo ep eq er es et eu ev ew ex ey ez\nf0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff fg fh fi fj fk fl fm fn fo fp fq fr fs ft fu fv fw fx fy fz\ng0 g1 g2 g3 g4 g5 g6 g7 g8 g9 ga gb gc gd ge gf gg gh gi gj gk gl gm gn go gp gq gr gs gt gu gv gw gx gy gz\nh0 h1 h2 h3 h4 h5 h6 h7 h8 h9 ha hb hc hd he hf hg hh hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz\ni0 i1 i2 i3 i4 i5 i6 i7 i8 i9 ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz\nj0 j1 j2 j3 j4 j5 j6 j7 j8 j9 ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz\nk0 k1 k2 k3 k4 k5 k6 k7 k8 k9 ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz\nl0 l1 l2 l3 l4 l5 l6 l7 l8 l9 la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz\nm0 m1 m2 m3 m4 m5 m6 m7 m8 m9 ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz\nn0 n1 n2 n3 n4 n5 n6 n7 n8 n9 na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz\no0 o1 o2 o3 o4 o5 o6 o7 o8 o9 oa ob oc od oe of og oh oi oj ok ol om on oo op oq or os ot ou ov ow ox oy oz\np0 p1 p2 p3 p4 p5 p6 p7 p8 p9 pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp pq pr ps pt pu pv pw px py pz\nq0 q1 q2 q3 q4 q5 q6 q7 q8 q9 qa qb qc qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu qv qw qx qy qz\nr0 r1 r2 r3 r4 r5 r6 r7 r8 r9 ra rb rc rd re rf rg rh ri rj rk rl rm rn ro rp rq rr rs rt ru rv rw rx ry rz\ns0 s1 s2 s3 s4 s5 s6 s7 s8 s9 sa sb sc sd se sf sg sh si sj sk sl sm sn so sp sq sr ss st su sv sw sx sy sz\nt0 t1 t2 t3 t4 t5 t6 t7 t8 t9 ta tb tc td te tf tg th ti tj tk tl tm tn to tp tq tr ts tt tu tv tw tx ty tz\nu0 u1 u2 u3 u4 u5 u6 u7 u8 u9 ua ub uc ud ue uf ug uh ui uj uk ul um un uo up uq ur us ut uu uv uw ux uy uz\nv0 v1 v2 v3 v4 v5 v6 v7 v8 v9 va vb vc vd ve vf vg vh vi vj vk vl vm vn vo vp vq vr vs vt vu vv vw vx vy vz\nw0 w1 w2 w3 w4 w5 w6 w7 w8 w9 wa wb wc wd we wf wg wh wi wj wk wl wm wn wo wp wq wr ws wt wu wv ww wx wy wz\nx0 x1 x2 x3 x4 x5 x6 x7 x8 x9 xa xb xc xd xe xf xg xh xi xj xk xl xm xn xo xp xq xr xs xt xu xv xw xx xy xz\ny0 y1 y2 y3 y4 y5 y6 y7 y8 y9 ya yb yc yd ye yf yg yh yi yj yk yl ym yn yo yp yq yr ys yt yu yv yw yx yy yz\nz0 z1 z2 z3 z4 z5 z6 z7 z8 z9 za zb zc zd ze zf zg zh zi zj zk zl zm zn zo zp zq zr zs zt zu zv zw zx zy zz\n</code></pre>\n"}], "owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1565762767, "creation_date": 1565484023, "question_id": 57446583, "link": "https://stackoverflow.com/questions/57446583/find-all-combinations-of-two-character-letters-digits-similar-to-jot1-for-num", "title": "Find all combinations of two-character letters/digits, similar to jot(1) for numbers", "body": "<p>I'd like to get all combinations of two-character lower-case Latin letters and digits in shell.  Starting with <code>00</code>, \u2026, <code>0a</code> and ending with <code>z0</code>, \u2026, <code>zz</code>.</p>\n\n<p>If this was just the single digits, it could have been accomplished with <a href=\"http://mdoc.su/-/jot.1\" rel=\"nofollow noreferrer\"><code>jot(1)</code></a> with <code>jot 10 0</code>.</p>\n\n<p>Turns out, just the single-character letters are also possible with <code>jot -w %c 26 a</code>.</p>\n\n<p>I guess I could combine the above myself with nested explicit <code>for</code> loops, doing a total of four <code>jot</code> calls (two in each loop), and mixing it all together, but is there a better solution?</p>\n\n<p>Requirements: must work on *BSD and OS X; <code>jot</code>, <code>awk</code> and <code>perl</code> are available.</p>\n"}, {"tags": ["perl", "sorting", "uniq"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1565463902, "post_id": 57444597, "comment_id": 101365932, "body": "My guess is that the <code>sort uniq ...</code> is interpreted as the <a href=\"https://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\"><code>sort SUBNAME LIST</code></a> syntax where <code>SUBNAME</code> is <code>uniq</code> instead of the intended <code>sort LIST</code> syntax. You can achieve the latter using <code>sort @{[uniq (&quot;b&quot;, &quot;a&quot;, &quot;a&quot;)]}</code>"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1565464248, "post_id": 57444597, "comment_id": 101366017, "body": "@H&#229;konH&#230;gland Why isn&#39;t  <code>sort (uniq @list)</code> parsed as <code>sort LIST</code> syntax when <code>sort (&quot;a&quot;,&quot;b&quot;,&quot;c&quot;)</code> is?  Is this just a strange quirk of the Perl parser?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1565465778, "post_id": 57444597, "comment_id": 101366373, "body": "@JimGarrison In <code>sort (uniq @ary)</code> there is no reason for the interpreter to see that <code>uniq</code> is anything other than a bareword in that list (and is thus out of place). Thus <code>sort (uniq(@ary));</code> works"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1565465799, "post_id": 57444597, "comment_id": 101366378, "body": "@Jim Garrison, <code>sort</code>&#39;s syntax is what&#39;s quirky. Specifically, it&#39;s very ambigous, so Perl needs to perform all kinds of guesses."}, {"owner": {"reputation": 4082, "user_id": 3216427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e0186cf05b82361bc8de3344f542eaf?s=128&d=identicon&r=PG&f=1", "display_name": "joanis", "link": "https://stackoverflow.com/users/3216427/joanis"}, "edited": false, "score": 1, "creation_date": 1565466575, "post_id": 57444597, "comment_id": 101366543, "body": "Here&#39;s something insane: while <code>sort(uniq(@ary))</code> works, <code>sort(uniq (@ary))</code> does not. The only difference is the space I added between <code>uniq</code> and <code>(@ary)</code>. I always thought whitespace was not semantically significant!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 4082, "user_id": 3216427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e0186cf05b82361bc8de3344f542eaf?s=128&d=identicon&r=PG&f=1", "display_name": "joanis", "link": "https://stackoverflow.com/users/3216427/joanis"}, "edited": false, "score": 0, "creation_date": 1565466672, "post_id": 57444597, "comment_id": 101366563, "body": "@joanis  It&#39;s the extra parens that don&#39;t count so <code>(word (@ary))</code> is no different from <code>(word @ary)</code>.  It&#39;s a good point though, that li&#39;l space does count here (under <code>sort</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565466575, "post_id": 57445059, "comment_id": 101366544, "body": "@ikegami Yes, thank you (just posted a comment with that but forgot it here), added to answer"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 8, "last_activity_date": 1588571126, "last_edit_date": 1588571126, "creation_date": 1565464992, "answer_id": 57445059, "question_id": 57444597, "link": "https://stackoverflow.com/questions/57444597/isnt-numeric-error-in-sort-after-uniq/57445059#57445059", "title": "&quot;isn&#39;t numeric&quot; error in &quot;sort&quot; after &quot;uniq&quot;", "body": "<p>That code falls under the <a href=\"https://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">sort</a> invocation of</p>\n\n<blockquote>\n  <p><strong>sort SUBNAME LIST</strong>  </p>\n  \n  <p>...<br>\n   If SUBNAME is specified, it gives the name of a subroutine that returns an integer less than, equal to, or greater than 0 , depending on how the elements of the list are to be ordered. </p>\n</blockquote>\n\n<p>The <code>uniq</code> in the first example is taken as a bareword that specifies the name of the sub to use for sorting and <code>qw(b a a)</code> is the list to sort -- you aren't <code>uniq</code>-ing the list (so to speak) but are using <code>uniq</code> as a sorting function for that list.</p>\n\n<p>The error message comes as a sorting function needs to return a number and <code>uniq</code> returns strings.</p>\n\n<p>You've discovered one way to make it work, and can also use the unary <code>+</code></p>\n\n<pre><code>say for sort +uniq(@ary);    # or: say for sort + uniq @ary;\n</code></pre>\n\n<p>since what follows <code>+</code> is treated as <em>an expression</em>, so <code>sort</code> gets the evaluated list. See <a href=\"https://stackoverflow.com/a/56556921/4653379\">this post</a>  and <a href=\"https://stackoverflow.com/a/57784446/4653379\">this post</a> for discussion of such uses of the unary <code>+</code>.</p>\n\n<p>Or use parens through and through</p>\n\n<pre><code>say for sort (uniq(@ary));\n</code></pre>\n\n<p>Here the inner pair is also necessary since with <code>sort (uniq @ary)</code> the <code>uniq</code> is interpreted as a bareword in that list, thus out of place. Note that <code>sort (uniq (@ary))</code> won't work since extra parens don't matter and we again have a bareword; so that space matters here!</p>\n\n<p>This trickiness is due to <code>sort</code>'s flexible (ambiguous) interface, taking a <code>LIST</code> <em>optionally</em> preceded by a bareword, which need be a sub name.  It ends up relying on the interpreter to sort out some of that and then we have to be precise.</p>\n"}], "owner": {"reputation": 293, "user_id": 6212907, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/CxA43.jpg?s=128&g=1", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/6212907/andr%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 57445059, "answer_count": 1, "score": 9, "last_activity_date": 1588571126, "creation_date": 1565460819, "question_id": 57444597, "link": "https://stackoverflow.com/questions/57444597/isnt-numeric-error-in-sort-after-uniq", "title": "&quot;isn&#39;t numeric&quot; error in &quot;sort&quot; after &quot;uniq&quot;", "body": "<pre><code>use List::MoreUtils 'uniq';\nprint join \", \", sort uniq (\"b\", \"a\", \"a\");\n</code></pre>\n\n<p>results in <em>Argument \"a\" isn't numeric in sort at ...</em></p>\n\n<pre><code>print join \", \", uniq sort (\"b\", \"a\", \"a\");\n</code></pre>\n\n<p>works as expected.</p>\n\n<pre><code>print join \", \", sort {$a cmp $b} uniq (\"b\", \"a\", \"a\");\n</code></pre>\n\n<p>works too - but what is the problem with the first example?</p>\n"}, {"tags": ["linux", "perl", "ubuntu", "cpan"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565463428, "post_id": 57443725, "comment_id": 101365825, "body": "What errors do you get when you try to install the module?"}, {"owner": {"reputation": 157, "user_id": 3618999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20f2431a2b71128ac3393f45580000b2?s=128&d=identicon&r=PG&f=1", "display_name": "ratnesh", "link": "https://stackoverflow.com/users/3618999/ratnesh"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565491252, "post_id": 57443725, "comment_id": 101369895, "body": "can&#39;t locate Lingua/JA/Regular/Unicode/pm"}, {"owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "edited": false, "score": 0, "creation_date": 1565506836, "post_id": 57443725, "comment_id": 101371532, "body": "CPAN search \u2192 Lingua::JA::Regular::Unicode : Download <code>Lingua-JA-Regular-Unicode-0.13.tar.gz</code> <a href=\"https://cpan.metacpan.org/authors/id/T/TO/TOKUHIROM/Lingua-JA-Regular-Unicode-0.13.tar.gz\" rel=\"nofollow noreferrer\">cpan.metacpan.org/authors/id/T/TO/TOKUHIROM/&hellip;</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565507972, "post_id": 57443725, "comment_id": 101371704, "body": "@ratnesh <i>&quot;Can&#39;t locate Lingua/JA/Regular/Unicode.pm&quot;</i> That&#39;s the error you get when running the script. But how did you try to install the module?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12026689, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1fceedf2ab41f33c401cf918df7be5d4?s=128&d=identicon&r=PG", "display_name": "user12026689", "link": "https://stackoverflow.com/users/12026689/user12026689"}, "is_accepted": false, "score": 0, "last_activity_date": 1567704120, "creation_date": 1567704120, "answer_id": 57810324, "question_id": 57443725, "link": "https://stackoverflow.com/questions/57443725/missing-perl-modules-installing-kh-coder-in-kubuntu/57810324#57810324", "title": "missing perl modules, installing kh coder in Kubuntu", "body": "<p>type as follows and hit Enter key:</p>\n\n<blockquote>\n  <p>sudo cpanm Lingua::JA::Regular::Unicode</p>\n</blockquote>\n"}], "owner": {"reputation": 157, "user_id": 3618999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20f2431a2b71128ac3393f45580000b2?s=128&d=identicon&r=PG&f=1", "display_name": "ratnesh", "link": "https://stackoverflow.com/users/3618999/ratnesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567704120, "creation_date": 1565453387, "question_id": 57443725, "link": "https://stackoverflow.com/questions/57443725/missing-perl-modules-installing-kh-coder-in-kubuntu", "title": "missing perl modules, installing kh coder in Kubuntu", "body": "<p>error: Can't locate Lingua/JA/Regular/Unicode.pm in @INC (you may need to install the Lingua::JA::Regular::Unicode module)</p>\n\n<p>installing missing perl modules which is required for kh-coder (<a href=\"https://github.com/ko-ichi-h/khcoder\" rel=\"nofollow noreferrer\">https://github.com/ko-ichi-h/khcoder</a>)</p>\n\n<p>few missing modules, I have installed, but stuck now with above module, can anybody help?</p>\n\n<pre><code>shinigami@DeathNote:~/Downloads/programs/khcoder-master$ perl kh_coder.pl               Perl/Tk: 804.033\nCan't locate Lingua/JA/Regular/Unicode.pm in @INC (you may need to install the Lingua::JA::Regular::Unicode module) (@INC contains: /home/shinigami/Downloads/programs/khcoder-master/kh_lib /home/shinigami/perl5/lib/perl5/5.28.1/x86_64-linux-gnu-thread-multi /home/shinigami/perl5/lib/perl5/5.28.1 /home/shinigami/perl5/lib/perl5/x86_64-linux-gnu-thread-multi /home/shinigami/perl5/lib/perl5 /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /home/shinigami/perl5/lib/perl5/5.28.0 /home/shinigami/perl5/lib/perl5/5.28.0/x86_64-linux-gnu-thread-multi /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base .) at /home/shinigami/Downloads/programs/khcoder-master/kh_lib/kh_dictio.pm line 353.\nBEGIN failed--compilation aborted at /home/shinigami/Downloads/programs/khcoder-master/kh_lib/kh_dictio.pm line 353.\nCompilation failed in require at /home/shinigami/Downloads/programs/khcoder-master/kh_lib/mysql_ready.pm line 9.\nBEGIN failed--compilation aborted at /home/shinigami/Downloads/programs/khcoder-master/kh_lib/mysql_ready.pm line 9.\nCompilation failed in require at kh_coder.pl line 127.\nBEGIN failed--compilation aborted at kh_coder.pl line 127.\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1565470025, "creation_date": 1565470025, "answer_id": 57445581, "question_id": 57443186, "link": "https://stackoverflow.com/questions/57443186/having-skipxmldeclaration-to-1-still-returning-the-xml-header-in-libxml/57445581#57445581", "title": "having skipXMLDeclaration to 1 still returning the xml header in LibXml", "body": "<p>Seems like <code>$XML::LibXML::skipXMLDeclaration</code> does not work for <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/Document.pod\" rel=\"nofollow noreferrer\"><code>toFile()</code></a>. It works for <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/Document.pod\" rel=\"nofollow noreferrer\"><code>toString()</code></a> though:</p>\n\n<pre><code>print $dom-&gt;toString();\n</code></pre>\n\n<p>The <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/Parser.pod\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>If skipXMLDeclaration is defined and not '0', the XML declaration is omitted during serialization.</p>\n</blockquote>\n\n<p>I think it is not clear from the documentation that it should not work with <code>toFile()</code>.</p>\n"}], "owner": {"reputation": 944, "user_id": 1701840, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a57516ac828923c839742c2a804d7762?s=128&d=identicon&r=PG", "display_name": "user1701840", "link": "https://stackoverflow.com/users/1701840/user1701840"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565470025, "creation_date": 1565448834, "question_id": 57443186, "link": "https://stackoverflow.com/questions/57443186/having-skipxmldeclaration-to-1-still-returning-the-xml-header-in-libxml", "title": "having skipXMLDeclaration to 1 still returning the xml header in LibXml", "body": "<p>I google and look like this is the way of getting rid of the XML header, but it didn't work. Can someone please explain what did I do wrong?</p>\n\n<pre><code>use XML::LibXML;\n\n$XML::LibXML::skipXMLDeclaration = 1;\nmy $dom = XML::LibXML-&gt;load_xml(location =&gt; $someFilePath);\n$dom-&gt;toFile('./copied.xml');\n\nMy copied.xml is still like this:\n &lt;?xml version=\"1.0\"?&gt;\n &lt;FirstHeader&gt;\n...\n</code></pre>\n"}, {"tags": ["regex", "perl", "optimization", "trie"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1565422429, "post_id": 57439675, "comment_id": 101357140, "body": "Good question. I&#39;ve wondered about this too."}, {"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1565436184, "post_id": 57439675, "comment_id": 101359718, "body": "You have the source code and (presumably) the documentation so are you not in a good position to supply the answer yourself? If the documentation is weak in that area then you could help the Perl community by enhancing the documentation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 1, "creation_date": 1565436353, "post_id": 57439675, "comment_id": 101359758, "body": "@AdrianHHH, Re &quot;<i>You have the source code and (presumably) the documentation so are you not in a good position to supply the answer yourself?</i>&quot;, I spent a fair amount of time on it, and I didn&#39;t come up with the answer. The code in question has a lot of documentation, but it doesn&#39;t cover this aspect."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1565436503, "post_id": 57439675, "comment_id": 101359786, "body": "Despite the two close votes, this question is not &quot;too broad&quot;. It&#39;s actually very specific, and could be answered (at a high level) without difficulty by someone knowledgeable. Please don&#39;t close. (By the way, one of the major contributors of Perl&#39;s regex engine and maybe even the code in question is a regular here.)"}, {"owner": {"reputation": 23495, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565446956, "post_id": 57439675, "comment_id": 101361972, "body": "@ikegami so is apparently the creator of cURL. <a href=\"https://meta.stackoverflow.com/q/384376/6296561\">That doesn&#39;t automatically make the question any good</a>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 23495, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 4, "creation_date": 1565447256, "post_id": 57439675, "comment_id": 101362031, "body": "@Zoe Yeah, but this question is about specific code, not motivations."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 23495, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 2, "creation_date": 1565466448, "post_id": 57439675, "comment_id": 101366527, "body": "@Zoe, Please reread what I said. I never claimed the presence of the author is a reason to keep the question open (as you seem to imply), and noone mentioned software licenses (the subject of the linked Q&amp;A). I merely said the question wasn&#39;t too broad --in fact, it&#39;s quite specific-- so voting to close it as too broad is wrong."}, {"owner": {"reputation": 23495, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565467251, "post_id": 57439675, "comment_id": 101366693, "body": "@ikegami my point was that the presence of major contributors to the engine alone doesn&#39;t make the question any good, making that argument slightly pointless. Also, I never voted to close. It didn&#39;t seem too broad, and I figured it could be answered by someone. I&#39;m not arguing against reopening or for closure, I&#39;m arguing against your argument."}, {"owner": {"reputation": 23495, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1565467353, "post_id": 57439675, "comment_id": 101366722, "body": "@melpomene Similar to ^, the comment was never intended as proof this is off-topic. Of course this is about specific code (well, seems more like a question about a specific system to me, but close enough I suppose) and not motivations, it was an argument against the use of a specific argument (probably should&#39;ve made that clearer)"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565524551, "post_id": 57448705, "comment_id": 101374679, "body": "That doesn&#39;t answer the question.  The question asks how how can the difference between <code>perl -E&#39;say for &quot;foobar&quot; =~ &#47;(foo|foobar|bar|baz)&#47;&#39;</code> and <code>perl -E&#39;say for &quot;foobar&quot; =~ &#47;(foobar|foo|bar|baz)&#47;&#39;</code> be achieved using tries. <code>-Mre=debug</code> shows is that the trie is used to find all possible leading matches (<code>foo</code> and <code>foodbar</code> in both examples), and that the engine somehow knows that the first of the original words matched. But it doesn&#39;t show how does it checks that last, crucial bit."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565524947, "post_id": 57448705, "comment_id": 101374750, "body": "@ikegami Ok, when I try this, the first gives <code>foo</code> and the second gives <code>foobar</code>. Is this to be expected?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565524965, "post_id": 57448705, "comment_id": 101374752, "body": "Yes. The question is how is this achieved. Traditionally, all words were tested in order, which could be very slow. But 5.10 introduced a trie-based system to speed things up. But how can a trie be used to achieve this?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565528384, "post_id": 57448705, "comment_id": 101375444, "body": "@ikegami I have updated my answer with new information."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565550259, "post_id": 57448705, "comment_id": 101380245, "body": "Re &quot;* will generate accept states*&quot;, This is a long way of saying it will find all possible matches from the trie, as I mentioned it does. ///  Re &quot;<i>Then for each matching word, in word order (i.e. 1,2,4,5)</i>&quot;, We know that&#39;s what it does. The code I provided showed it does. The question is how is this done?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565551785, "post_id": 57448705, "comment_id": 101380578, "body": "Put differently, the trie returns a list of matching words sorted by length (1,2 for first example, and 2,1 for second example). How is that list turned into a list of matching words sorted by word order (1,2 in both examples)"}, {"owner": {"reputation": 2530, "user_id": 6658809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d30a3055ca065bcc94e1c7386de4e48?s=128&d=identicon&r=PG&f=1", "display_name": "siracusa", "link": "https://stackoverflow.com/users/6658809/siracusa"}, "edited": false, "score": 1, "creation_date": 1565567732, "post_id": 57448705, "comment_id": 101383177, "body": "From the screenshot and the documentation excerpt I think I got the basic idea of how the matching is done. This is already very useful! The approach seems to be: find the longest match in the trie first to limit the number of words to consider when backtracking (steps 3-6 in the screenshot). Only <i>then</i> begin actually matching all alternatives that lie on that path. The missing detail is how it stores the order of words in the trie and quickly finds the next to consider on backtracking."}, {"owner": {"reputation": 2530, "user_id": 6658809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d30a3055ca065bcc94e1c7386de4e48?s=128&d=identicon&r=PG&f=1", "display_name": "siracusa", "link": "https://stackoverflow.com/users/6658809/siracusa"}, "edited": false, "score": 1, "creation_date": 1565589393, "post_id": 57448705, "comment_id": 101386303, "body": "So it seems it&#39;s just traversing the whole path on each backtracking step to find the next word in the list. In one comment it says &quot;With lots of accepts states, and having to try all of them, it becomes quadratic on number of accept states to find all the next words.&quot; It&#39;s probably not worth optimizing that away directly in the compilation phase, as a lot of nested prefixes in one group should be relatively rare."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1565528263, "last_edit_date": 1565528263, "creation_date": 1565514695, "answer_id": 57448705, "question_id": 57439675, "link": "https://stackoverflow.com/questions/57439675/how-does-perls-regex-implementation-makes-use-of-tries/57448705#57448705", "title": "How does Perl&#39;s regex implementation makes use of tries?", "body": "<p>You can get some information by using the <a href=\"https://perldoc.perl.org/re.html\" rel=\"nofollow noreferrer\"><code>re</code></a> pragma to show how perl compiles and uses the regular expression. For example:</p>\n\n<pre><code>$ perl -Mre=debugcolor -e '\"foobarr\" =~ /(?:foobar|foo)barr$/' \n</code></pre>\n\n<p>gives output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JbMXS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JbMXS.png\" alt=\"enter image description here\"></a></p>\n\n<p>So it is clear that it compiles the regex into three operations:</p>\n\n<ul>\n<li>An <code>EXACT</code> operation which matches <code>foo</code> (this is the common prefix of the alternation <code>(?:foobar|foo)</code>, followed by</li>\n<li>a <code>TRIE-EXACT</code> operation matching <code>bar</code> or the empty string, and then</li>\n<li>an <code>EXACT</code> operation matching <code>barr</code>.</li>\n</ul>\n\n<p>Then the compiled regex is used in the match:</p>\n\n<ul>\n<li>First the <code>EXACT</code> match of <code>foo</code> matches, then</li>\n<li>the <code>TRIE-EXACT</code> tries the first alternative <code>bar</code>, which matches, then</li>\n<li>the <code>EXACT</code> operation fails on matching <code>r</code> with <code>barr</code>,</li>\n<li>the engine backtracks and tries the second word in the <code>TRIE-EXACT</code> operation, which matches the empty string, </li>\n<li>and finally the last <code>EXACT</code> operation matches <code>barr</code>. </li>\n</ul>\n\n<p>Currently this does not answer your question on how exactly the trie-based matching is implemented, but I plan to investigate further! See also <a href=\"https://perldoc.perl.org/perlreguts.html\" rel=\"nofollow noreferrer\">perldoc perlreguts</a> for more information.</p>\n\n<p><strong>Edit</strong>: More information on how the trie matching is implemented can be found in <a href=\"https://perl5.git.perl.org/perl.git/blob/HEAD:/regexec.c#l5931\" rel=\"nofollow noreferrer\"><code>regexec.c</code></a> line #5931:</p>\n\n<blockquote>\n  <p>[...] the basic plan of execution of the trie is: At the beginning,\n  run through all the states, and find the longest-matching word. Also\n  remember the position of the shortest matching word. For example, this\n  pattern:   </p>\n\n<pre><code>  1  2 3 4    5\n  ab|a|x|abcd|abc\n</code></pre>\n  \n  <p>when matched against the string \"abcde\", will generate accept states\n  for all words except 3, with the longest matching word being 4, and\n  the shortest being 2 (with the position being after char 1 of the\n  string).</p>\n  \n  <p>Then for each matching word, in word order (i.e. 1,2,4,5), we run the  remainder of the pattern; on each try setting the current position\n  to the character following the word, returning to try the next word on\n  failure.</p>\n</blockquote>\n\n<p>This should explain how the TRIE based matching manages to do the alternations in word-order.</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1565725535, "post_id": 57484188, "comment_id": 101440028, "body": "Thanks for the detailed answer!"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565727354, "post_id": 57484188, "comment_id": 101440681, "body": "What is the meaning of this output line: <code>BRANCH (7) -&gt; EXACT &lt;fo&gt;    =&gt; EVAL (First==1,Last==4,Cur==7,tt==EXACT,nt==EXACT,nnt==END)</code> ? For example: What does <code>BRANCH (7)</code> mean? What is <code>First</code>, <code>Last</code> and <code>Cur</code>?"}, {"owner": {"reputation": 86, "user_id": 11923220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mOcLRUwJudk/AAAAAAAAAAI/AAAAAAAAADE/NkuJJh1cGwQ/photo.jpg?sz=128", "display_name": "demerphq", "link": "https://stackoverflow.com/users/11923220/demerphq"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1565728760, "post_id": 57484188, "comment_id": 101441152, "body": "The trie optimisation is implemented in a peephole optimizer that runs over the regex optree after the initial structure has been constructed. An alternation is originally constructed as a sequence of BRANCH ... BRANCH ... , when the ... starts with an EXACT (ish) node and there are more than two such sequences in a row the sequence can be converted to a TRIE. What you are seeing there is debug output of the peephole optimiser looking to see if the sequence can be converted. Try: perl -Mre=Debug,ALL -le&#39;qr/(?:a|(??{&quot;x&quot;})|b)/&#39; for debug output of the whole regex compilation process."}], "tags": [], "owner": {"reputation": 86, "user_id": 11923220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mOcLRUwJudk/AAAAAAAAAAI/AAAAAAAAADE/NkuJJh1cGwQ/photo.jpg?sz=128", "display_name": "demerphq", "link": "https://stackoverflow.com/users/11923220/demerphq"}, "is_accepted": true, "score": 6, "last_activity_date": 1565732263, "last_edit_date": 1565732263, "creation_date": 1565724475, "answer_id": 57484188, "question_id": 57439675, "link": "https://stackoverflow.com/questions/57439675/how-does-perls-regex-implementation-makes-use-of-tries/57484188#57484188", "title": "How does Perl&#39;s regex implementation makes use of tries?", "body": "<p>I wrote the original implementation of this code. It has changed somewhat since then, which has slightly changed the time/space tradeoffs for how it works.</p>\n\n<p>First, I need to call out one misunderstanding in your post, the rules for Perls regex engine are not to match the longest string, but rather to match the leftmost-longest string, in particular </p>\n\n<pre><code>\"foal\"=~/(f|fo|foa|foal)/ \n</code></pre>\n\n<p>should match \"f\" not \"foal\" as the \"f\" option is first. This is called the \"word order\" in the comments in the code. You can see this with Perl by injecting (?{ print $&amp; }) into your patterns:</p>\n\n<pre><code>perl -le'my $str=\"foal\"; $str=~/(?:f|foa|fo)(?{print $&amp;})al/'\nf\nfoa\nfo \n</code></pre>\n\n<p>Another point I thought I should explain is that the code and comments use the term \"state\" and \"accepting state\" a lot. This comes from the observation that a Trie is equivalent to an acyclic DFA, and can be naively represented as a table of one row per state, with one column per legal character in the input alphabet and with an additional column being used to track whether the state is \"accepting\", meaning \"ends one of the alternatives\", and if so which branch of the alternation it terminates. The values in the other columns represent the new state to transition to after reading the columns character. An accepting state may have transitions to more states, as in the case where one branch matches a prefix of another.</p>\n\n<p>Matching then comes down to walking the tree/state table, when we encounter an accepting state we push a 2-tuple of the number of characters we have read so far in the trie and the word number associated with the state into a list. Eventually we either run out of string to read, or encounter a transition to the 0 state which means we can stop as no further matches are possible.</p>\n\n<p>Once you have a list of the tuples of (length,word) you can then go through them in order of word ascending, since such lists are generally short IMO it is  reasonable to simply use linear probing to find the minimum word each try. Perl uses a strategy where it precompiles all such possible lists into one structure in advance, so it need only keep track of the branch number of the most recent accepting state, and then can (somewhat expensively) compute any preceeding accepting states from that. For instance the example below /(f|foa|fo)al/ produces a structure like this:</p>\n\n<pre><code>word_info N:(prev,len)= 1:(0,1) 2:(3,3) 3:(1,2)\n</code></pre>\n\n<p>Which shows that if we reach the accepting state for \"foa\" which is branch 2 we have matched a 3 character string and there is a preceding accepting state of branch 3, which in turn points at 1. From this we can reconstruct the behavior we would expect to see, which is to try \"al\" after \"f\", \"foa\" and then \"fo\". The process is somewhat expensive (N**2) compared to other solutions, but has the advantage of being precompiled and reusable and the storage requirements fit nicely with how the regex backtracking engine works. IMO it doesnt matter, the main issue is that somehow you track the accepting states where you were in the string when you encountered them, and then try the \"tail\" in the right order.</p>\n\n<p>You can see much of this at work with extended debugging:</p>\n\n<pre><code>perl -Mre=Debug,TRIE,TRIEE,TRIEM -le'my $str=\"foal\"; $str=~/(?:f|foa|fo)(?{print $&amp;})al/' \nCompiling REx \"(?:f|foa|fo)(?{print $&amp;})al\"\n  Looking for TRIE'able sequences. Tail node is: EVAL\n  - BRANCH (1) -&gt; EXACT &lt;f&gt; =&gt; EVAL (First==-1,Last==-1,Cur==1,tt==END,nt==EXACT,nnt==END)\n  - BRANCH (4) -&gt; EXACT &lt;foa&gt;   =&gt; EVAL (First==1,Last==-1,Cur==4,tt==EXACT,nt==EXACT,nnt==END)\n  - BRANCH (7) -&gt; EXACT &lt;fo&gt;    =&gt; EVAL (First==1,Last==4,Cur==7,tt==EXACT,nt==EXACT,nnt==END)\n  - TAIL (10) &lt;SCAN FINISHED&gt;\n    make_trie start==1, first==1, last==10, tail==11 depth=1\n    TRIE(NATIVE): W:3 C:6 Uq:3 Min:1 Max:3\n    Compiling trie using table compiler\n      Char :    f   o   a\n      State+-------------\n         1 :    2   .   . (   1)\n         2 :    .   3   . (   1) W   1\n         3 :    .   .   4 (   1) W   3\n         4 :    .   .   . (   0) W   2\n</code></pre>\n\n<p>Here you can see the DFA/TRIE equivalency and the word data, and how the table is constructed. Because there are only 3 legal characters we build a table that has 4 columns, one per each legal character, and one to track if the state is accepting and if so which branch of the alternation it accepts. The <code>W   2</code> on row 4 shows that it is accepting for the 2nd branch of the alternation.</p>\n\n<pre><code>    Alloc: 22 Orig: 13 elements, Final:3. Savings of %76.92\n    Statecount:5 Lasttrans:4\n      Char : Match Base  Ofs     f   o   a\n      State|-----------------------------------\n      #   1|       @   3 + 0[    2   .   .]\n      #   2| W   1 @   3 + 1[    .   3   .]\n      #   3| W   3 @   3 + 2[    .   .   4]\n      #   4| W   2 @   0 \n</code></pre>\n\n<p>This shows the naive table representation being packed into a compressed form that allows the zero transition in one row to be used to store non-zero transitions in other rows. Each transition is stored in an array of 2-tuple of [owner-state,transition], with two side arrays, one which stores the start position of a given state, and another that stores the accepting mappings for a given state, state transitions involve checking if table[start_offset[state]+column_ofs].owner_state is the same as state, and if not then table[start_offset[state]+column_ofs].new_state can be assumed to be 0. See the Red Dragon for more details.</p>\n\n<pre><code>\n    word_info N:(prev,len)= 1:(0,1) 2:(3,3) 3:(1,2)\n</code></pre>\n\n<p>this part of the output shows how we have precomputed the length, and the predecessor branch number for every accepting state. This way we don't have to construct a list of accepting states as we match, but instead can precompute all the possible such lists at compile time into one static structure. </p>\n\n<pre><code>Final program:\n   1: EXACT &lt;f&gt; (3)\n   3: TRIE-EXACT&lt;S:2/4 W:3 L:0/2 C:6/3&gt;[o] (11)\n      &lt;&gt; \n      &lt;oa&gt; \n      &lt;o&gt; \n</code></pre>\n\n<p>Here you can see an interesting optimization kick in, because all of the alternations start with the letter \"f\" we \"remove\" it from the trie, and turn it into a prefix, the EXACT , followed by a trie containing the empty string, the letters \"oa\" and the letter \"o\". The S:2/4 means we start on state 2 not on the normal state 1, which is the state that corresponds to the letter 'f'. Extracting the 'f' like this allows it to be used elsewhere in the matching process, which means we can use less expensive machinery the Trie to find possible matches.</p>\n\n<pre><code>  11: EVAL (13)\n  13: EXACT &lt;al&gt; (15)\n  15: END (0)\nanchored \"f\" at 0 floating \"al\" at 1..3 (checking floating) minlen 3 with eval \nGuessing start of match in sv for REx \"(?:f|foa|fo)(?{print $&amp;})al\" against \"foal\"\nFound floating substr \"al\" at offset 2...\nFound anchored substr \"f\" at offset 0...\n</code></pre>\n\n<p>The 'f' that was extracted earlier is being used to find the first possible place in the string the pattern could match.</p>\n\n<pre><code>Guessed: match at offset 0\nMatching REx \"(?:f|foa|fo)(?{print $&amp;})al\" against \"foal\"\n   0 &lt;&gt; &lt;foal&gt;               |  1:EXACT &lt;f&gt;(3)\n   1 &lt;f&gt; &lt;oal&gt;               |  3:TRIE-EXACT&lt;S:2/4 W:3 L:0/2 C:6/3&gt;[o](11)\n   1 &lt;f&gt; &lt;oal&gt;               |    State:    2 Accepted: Y Charid:  2 CP:  6f After State:    3\n   2 &lt;fo&gt; &lt;al&gt;               |    State:    3 Accepted: Y Charid:  3 CP:  61 After State:    4\n   3 &lt;foa&gt; &lt;l&gt;               |    State:    4 Accepted: Y Charid:  0 CP:   0 After State:    0\n</code></pre>\n\n<p>Here we can see the walk through tree starting at state 2. Each \"Accepted\" line means we have found a possible match. The last line shows us reading a character not in our alphabet, meaning a transition to state 0 which means we can stop. Unfortunately this does not show the word numbers associated with each match, but you can infer them from the state transition table: 1,3,2, but we need to \"try\" them 1,2,3. </p>\n\n<pre><code>                                  got 3 possible matches\n                                  TRIE matched word #1, continuing\n   1 &lt;f&gt; &lt;oal&gt;               | 11:  EVAL(13)\nf\n   1 &lt;f&gt; &lt;oal&gt;               | 13:  EXACT &lt;al&gt;(15)\n                                    failed...\n                                  TRIE matched word #2, continuing\n   3 &lt;foa&gt; &lt;l&gt;               | 11:  EVAL(13)\nfoa\n   3 &lt;foa&gt; &lt;l&gt;               | 13:  EXACT &lt;al&gt;(15)\n                                    failed...\n                                  TRIE matched word #3, continuing\n                                  only one match left, short-circuiting: #3 &lt;o&gt;\n   2 &lt;fo&gt; &lt;al&gt;               | 11:EVAL(13)\nfo\n   2 &lt;fo&gt; &lt;al&gt;               | 13:EXACT &lt;al&gt;(15)\n   4 &lt;foal&gt; &lt;&gt;               | 15:END(0)\nMatch successful!\n\n</code></pre>\n\n<p>Note an explanation of different aspects of the Trie compilation process can be found at:</p>\n\n<p><a href=\"https://perl5.git.perl.org/perl.git/blob/HEAD:/regcomp.c#l2407\" rel=\"noreferrer\">https://perl5.git.perl.org/perl.git/blob/HEAD:/regcomp.c#l2407</a></p>\n\n<p><a href=\"https://perl5.git.perl.org/perl.git/blob/HEAD:/regcomp.c#l4726\" rel=\"noreferrer\">https://perl5.git.perl.org/perl.git/blob/HEAD:/regcomp.c#l4726</a></p>\n"}], "owner": {"reputation": 2530, "user_id": 6658809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d30a3055ca065bcc94e1c7386de4e48?s=128&d=identicon&r=PG&f=1", "display_name": "siracusa", "link": "https://stackoverflow.com/users/6658809/siracusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 4, "accepted_answer_id": 57484188, "answer_count": 2, "score": 5, "last_activity_date": 1565732263, "creation_date": 1565416316, "question_id": 57439675, "link": "https://stackoverflow.com/questions/57439675/how-does-perls-regex-implementation-makes-use-of-tries", "title": "How does Perl&#39;s regex implementation makes use of tries?", "body": "<p>I'm exploring ways to optimize a stack-based backtracking regex implementation (see also <a href=\"https://stackoverflow.com/questions/57291990/optimization-techniques-for-backtracking-regex-implementations\">this thread</a>). In the comments a hint about Perl's regex matcher was given. From the <a href=\"https://perl5.git.perl.org/perl.git/blob_plain/HEAD:/regcomp.c\" rel=\"noreferrer\">source code</a> I already figured that it makes use of tries when matching a regex with several alternatives. </p>\n\n<p>For example, a regex like <code>/(?:foo|bar|baz|foobar)$/</code> would normally yield a program like</p>\n\n<pre><code>BRANCH\n  EXACT &lt;foo&gt;\nBRANCH\n  EXACT &lt;bar&gt;\nBRANCH\n  EXACT &lt;baz&gt;\nBRANCH\n  EXACT &lt;foobar&gt;\nEOL\n</code></pre>\n\n<p>while the optimized version using a trie looks somewhat like</p>\n\n<pre><code>TRIE-EXACT\n  &lt;foo&gt;\n  &lt;bar&gt;\n  &lt;baz&gt;\n  &lt;foobar&gt;\nEOL\n</code></pre>\n\n<p>The four branches with an <code>EXACT</code> command each were optimized into a single <code>TRIE</code> command.</p>\n\n<p>However, I don't understand how this trie is used in the execution phase with respect to backtracking.</p>\n\n<p>Consider the non-optimized code and the input string <code>foobar</code>. When trying to match the regex, the first branch <code>foo</code> would be successfully matched, the <code>$</code> would fail, the next branches <code>bar</code> and <code>baz</code> would fail, the last branch <code>foobar</code> would match, <code>$</code> would match, and the matching completes successfully.</p>\n\n<p>Now how does the matching work with the trie? From my understanding a trie has only one sensible implied order in which overlapping entries are tried, namely the longest match first. This would give a correct match in the aforementioned example.</p>\n\n<p>But it would give the wrong result for <code>/(?:foo|foobar)barr$/</code> and the input <code>foobarr</code>. The trie would match <code>foobar</code>, but fail on the following <code>r</code> because it expects a <code>b</code> next. So there must not only be a way to backtrack in the trie, but also the original order of branches must be preserved somehow, otherwise the optimized program would be semantically different from the non-optimized version.</p>\n\n<p>How does the Perl implementation handle this tree-based matching?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565379585, "post_id": 57435225, "comment_id": 101350090, "body": "You can also do <code>if ($opt-&gt;_specified(&quot;list&quot;)) {...}</code>. See <a href=\"https://metacpan.org/pod/Getopt::Long::Descriptive\" rel=\"nofollow noreferrer\">Getopt::Long::Descriptive::Opts</a> for more information"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11908589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIFga.png?s=128&g=1", "display_name": "user11908589", "link": "https://stackoverflow.com/users/11908589/user11908589"}, "edited": false, "score": 0, "creation_date": 1565393698, "post_id": 57435962, "comment_id": 101353619, "body": "Thank you very much!  I&#39;m somewhat new to Perl, and don&#39;t think I&#39;ve ever used the elsif construct before.  For what it is worth, I needed to add if( defined $opt-&gt;mode ){} as a wrapper around the whole iff .. elseif piece to get the script to handle supplying an argument without an option."}], "tags": [], "owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "is_accepted": true, "score": 1, "last_activity_date": 1565681511, "last_edit_date": 1565681511, "creation_date": 1565378332, "answer_id": 57435962, "question_id": 57435225, "link": "https://stackoverflow.com/questions/57435225/having-trouble-with-the-one-of-feature-in-getoptlongdescriptive/57435962#57435962", "title": "Having trouble with the one_of feature in Getopt::Long::Descriptive", "body": "<pre><code>if ( $opt-&gt;mode eq 'list' ) {\n    my $argument = $opt-&gt;list;\n    print \"option --list specified, with argument: $argument\\n\";\n}\nelsif ( $opt-&gt;mode eq 'add' ) {\n    my $argument = $opt-&gt;add;\n    print \"option --add specified, with argument: $argument\\n\";\n}\n</code></pre>\n\n<p>And don't forget:</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>All of this is <a href=\"http://p3rl.org/Getopt::Long::Descriptive\" rel=\"nofollow noreferrer\">described in the documentation</a>.</p>\n"}], "owner": {"reputation": 35, "user_id": 11908589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIFga.png?s=128&g=1", "display_name": "user11908589", "link": "https://stackoverflow.com/users/11908589/user11908589"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 57435962, "answer_count": 1, "score": 1, "last_activity_date": 1565681511, "creation_date": 1565374161, "question_id": 57435225, "link": "https://stackoverflow.com/questions/57435225/having-trouble-with-the-one-of-feature-in-getoptlongdescriptive", "title": "Having trouble with the one_of feature in Getopt::Long::Descriptive", "body": "<p>When I use the \"one_of\" special specification in Getopt::Long::Descriptive, I get errors for the options I did <strong>not</strong> put on the command line.  I would like to have Getopt::Long::Descriptive handle the mutually exclusive options for me; but I don't know how to use the specification without generating errors.</p>\n\n<p>If I list the options <strong>without</strong> including them in a one_of specifier, they do work as expected.  However, I can then put multiple options on the command line which should be mutually exclusive.  Perl 5.26.1 and Getopt::Long::Descriptive 0.104 if it helps.</p>\n\n<pre><code>use Getopt::Long::Descriptive;\n\nmy $usage_desc = \"%c %o mailbox|ticket &lt;This script lists or adds stuff&gt;\";\nmy @opt_spec   = (\n    [\n        \"mode\" =&gt; hidden =&gt; {\n            one_of =&gt; [\n                [ 'list|l=s' =&gt; 'lists stuff' ],\n                [ 'add|a=s' =&gt; 'adds stuff' ],\n            ]\n        }\n    ],\n    [ 'verbose|v' =&gt; 'increase the verbosity level in the log file' ],\n    [ 'help'      =&gt; 'print usage message and exit', { shortcircuit =&gt; 1 } ],\n);\n\nmy ( $opt, $usage ) = describe_options( $usage_desc, @opt_spec );\n\nprint( $usage-&gt;text ), exit if $opt-&gt;help;\n\nif ( $opt-&gt;verbose ) {\n    $debug_level++;\n    print \"option --verbose specified; debug level now at $debug_level\\n\";\n}\n\nif ( $opt-&gt;list ) {\n    my $argument = $opt-&gt;list;\n    print \"option --list specified, with argument: $argument\\n\";\n}\n\nif ( $opt-&gt;add ) {\n    my $argument = $opt-&gt;add;\n    print \"option --add specified, with argument: $argument\\n\";\n}\n\nforeach my $argument ( @ARGV ) {\n    print \"argument '$argument\\' supplied (without an option specified)\\n\";\n    handle_search_terms( $argument );\n}\n</code></pre>\n\n<p>When I run my script, for example with --list foo, then I get an error</p>\n\n<pre><code>\"Can't locate object method \"add\" via package \"Getopt::Long::Descriptive::Opts::__OPT__::1\" at line 38.\"\n</code></pre>\n\n<p>If I run it with --add bar, then I get the error \"Can't locate object method \"list\" via package....\"</p>\n\n<p>My problem is that I don't know how to structure my code so that the options <strong>not</strong> used don't generate errors.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1565369485, "post_id": 57434199, "comment_id": 101346385, "body": "Your Regex101 example and your <code>grep</code> criteria seem completely different."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 2, "creation_date": 1565369511, "post_id": 57434199, "comment_id": 101346394, "body": "<code>find . -name *.php</code> should be <code>find . -name &#39;*.php&#39;</code>"}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1565369514, "post_id": 57434199, "comment_id": 101346396, "body": "You can simplify your regex to <code>\\?&gt;\\s*$</code>"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1565369554, "post_id": 57434199, "comment_id": 101346413, "body": "Have you tried single quotes instead of double arround perl code?"}], "answers": [{"comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565414670, "post_id": 57434399, "comment_id": 101355990, "body": "Yes you&#39;re totally right. Thanks so much. I have fixed it in answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565439248, "post_id": 57434399, "comment_id": 101360296, "body": "Explanation: Perl&#39;s <code>e</code> option must be immediately followed by the program (i.e. <code>-e...</code>) or another argument containing the program (i.e. <code>-e ...</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565439312, "post_id": 57434399, "comment_id": 101360310, "body": "Note that the removal of <code>-n</code> wasn&#39;t necessary, but it&#39;s idomatic to omit it when <code>-p</code> is used because <code>-p</code> implies <code>-n</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565439446, "post_id": 57434399, "comment_id": 101360340, "body": "Note that the <code>&#47;m</code> option is useless here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565439483, "post_id": 57434399, "comment_id": 101360345, "body": "Note that the more-commonly used <code>\\s</code> would work just as well as <code>\\h</code> here."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 4, "last_activity_date": 1565414621, "last_edit_date": 1565414621, "creation_date": 1565369985, "answer_id": 57434399, "question_id": 57434199, "link": "https://stackoverflow.com/questions/57434199/perl-regex-is-not-matching/57434399#57434399", "title": "Perl regex is not matching", "body": "<p>Run your <code>perl</code> command as this:</p>\n\n<pre><code>perl -i.bak2 -wpe 's/\\?&gt;\\h*$/RedefineForDocker::standardizeXmlmc()\\n/gm'\n</code></pre>\n\n<p>Order of command line option is important here.</p>\n\n<p>Full pipeline should be like this:</p>\n\n<pre><code>find . -name '*.php' -exec ggrep -PZzl '(?ms)class XmlMethodCall.*\\?&gt;\\h*$' {} + |\nxargs -0 perl -i.bak2 -wpe 's/\\?&gt;\\h*$/RedefineForDocker::standardizeXmlmc()\\n/gm'\n</code></pre>\n\n<p>Note use <code>-Z</code> option in <code>grep</code> and <code>-0</code> option in <code>xargs</code> to address issues with filenames with whitespaces etc.</p>\n"}], "owner": {"reputation": 4157, "user_id": 2115971, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zkMcT.jpg?s=128&g=1", "display_name": "richbai90", "link": "https://stackoverflow.com/users/2115971/richbai90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 57434399, "answer_count": 1, "score": 2, "last_activity_date": 1565414621, "creation_date": 1565369035, "question_id": 57434199, "link": "https://stackoverflow.com/questions/57434199/perl-regex-is-not-matching", "title": "Perl regex is not matching", "body": "<p>I'm trying to pipe the output of a find command to a perl one-liner to replace a line that ends with <code>?&gt;</code> with <code>RedefineForDocker::standardizeXmlmc()</code> but for some reason the value isn't being replaced. I've checked the output of the find command and it is performing as expected, and I've double checked my regex and it should match.</p>\n\n<pre><code>find . -name *.php -exec ggrep -Ezl 'class XmlMethodCall.*([?]&gt;)$' {}  \\; \\\n     | xargs perl -ewpn -i.bak2 \\\n     \"s/[?]&gt;\\s*?$/RedefineForDocker::standardizeXmlmc()\\n/gm\"\n</code></pre>\n\n<p>I get no warnings and no indication that it isn't working, the backups are created, but the file remains unchanged. The list of matched files run from the find command is below.</p>\n\n<pre><code>./swsupport/clisupp/trending/services/data.helpers.php\n./swsupport/clisupp/_bpmui/arch/service/data.helpers.php\n./swsupport/clisupp/_bpmui/itsm/service/data.helpers.php\n./swsupport/clisupp/_bpmui/itsm_default/service/data.helpers.php\n./webclient_code/php/session.php\n./webclient_code/service/storedquery/helpers.php\n./php/_phpinclude/itsm/xmlmc/xmlmc.php\n./php/_phpinclude/itsmf/xmlmc/xmlmc.php\n./php/_phpinclude/itsm_default/xmlmc/xmlmc.php\n</code></pre>\n\n<p>Here is an example of one of the files it should match</p>\n\n<p><a href=\"https://regex101.com/r/BUoCif/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/BUoCif/1</a></p>\n"}, {"tags": ["perl", "lwp-useragent"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565372741, "post_id": 57433854, "comment_id": 101347590, "body": "Shoudn&#39;t the <code>ssl_opts()</code> be given as <code>key =&gt; value</code> ?"}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565372847, "post_id": 57433854, "comment_id": 101347641, "body": "Apologies, the code runs fine, I just heavily redacted large portions in order to simply share the outline of what I&#39;m doing. You are correct, and it&#39;s that way in my code."}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565372996, "post_id": 57433854, "comment_id": 101347707, "body": "My workaround for this issue was to add a custom header containing a copy of my json content, then add a request_prepare handler which manually updates the content of each outgoing request with the info in that custom header. It works, but it seems really dumb."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565373765, "post_id": 57433854, "comment_id": 101347998, "body": "Ok, sorry but I am not so familiar with this module and how it is supposed to work. Perhaps someone more experienced can help you?  I could try to reproduce the problem if you like, but then I would need some more information like <code>$host</code> and <code>$uri</code>.."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1565377404, "post_id": 57433854, "comment_id": 101349349, "body": "The problem is not LWP but the use of 302 for redirect instead of status code 307. Possible duplicate of <a href=\"https://stackoverflow.com/questions/17605915/what-is-the-correct-behavior-expected-of-an-http-post-302-redirect-to-get\">What is the correct behavior expected of an HTTP POST =&gt; 302 redirect to GET?</a>"}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1565377578, "post_id": 57433854, "comment_id": 101349407, "body": "@SteffenUllrich I already accounted for that behavior in my code. I use a request_prepare handler to simply flip it back to POST if needed. My original question was about redirects causing the http content to be empty."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1565377768, "post_id": 57433854, "comment_id": 101349464, "body": "@Sean: Just changing to POST does not help. A 302 means switching to GET which also involves removing the request body since a GET has no request body. Also, none of this <code>request_prepare</code> is shown in your question which suggested that you were not even aware of the wrong status code used by the server (and that&#39;s why I&#39;ve marked it as duplicate)."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1565707632, "last_edit_date": 1565707632, "creation_date": 1565386910, "answer_id": 57437408, "question_id": 57433854, "link": "https://stackoverflow.com/questions/57433854/lwpuseragent-loses-content-data-when-redirecting-via-post/57437408#57437408", "title": "LWP::UserAgent loses content data when redirecting via POST", "body": "<p>This is appropriate behaviour for a 302 response.</p>\n\n<p>What RFC 7231, the current HTTP spec, says the following about 302 responses:</p>\n\n<blockquote>\n  <p>Note: For historical reasons, a user agent MAY change the request\n  method from POST to GET for the subsequent request.  If this\n  behavior is undesired, the 307 (Temporary Redirect) status code\n  can be used instead.</p>\n</blockquote>\n\n<p>When LWP receives a 302 response to a POST made redirectable, it follows up with a GET request (which necessarily doesn't include the POST data of the original request).</p>\n"}], "owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 57437408, "answer_count": 1, "score": 1, "last_activity_date": 1565707632, "creation_date": 1565367360, "last_edit_date": 1565367866, "question_id": 57433854, "link": "https://stackoverflow.com/questions/57433854/lwpuseragent-loses-content-data-when-redirecting-via-post", "title": "LWP::UserAgent loses content data when redirecting via POST", "body": "<p>I am posting JSON data to Jira, and the request is hitting CAS first. A series of redirects occur. However, after the initial request I noticed that the content is zeroed out on the first redirect. The end result is that my request reaches Jira with empty content and is unsucessful.</p>\n\n<p>Short of preventing LWP::UserAgent from redirecting and following the links myself, I'm not sure what else to try. My understanding is that this is supposed to be handled by the module.</p>\n\n<p>This is vaguely representative with redactions...</p>\n\n<pre><code>use LWP::UserAgent ();\nuse HTTP::Request ();\nuse HTTP::Headers;\nuse HTTP::Cookies;\n\nmy $cookie_jar = HTTP::Cookies-&gt;new();\nmy $user_agent = LWP::UserAgent-&gt;new;\n$user_agent-&gt;cookie_jar( $cookie_jar );\n\npush @{ $user_agent-&gt;requests_redirectable }, 'POST';\n\n$user_agent-&gt;ssl_opts( $ssl_cert_file_pem );\n$user_agent-&gt;ssl_opts( $ssl_key_file_pem );\n$user_agent-&gt;ssl_opts( $verify_hostname );\n$user_agent-&gt;timeout( $timeout );\n\nmy $headers_obj = HTTP::Headers-&gt;new;\n$headers_obj-&gt;header( 'Accept' =&gt; '*/*' );\n$headers_obj-&gt;header( 'Accept-Encoding' =&gt; 'gzip, deflate, br' );\n$headers_obj-&gt;header( 'Accept-Language' =&gt; 'en-US' );\n$headers_obj-&gt;header( 'Connection' =&gt; 'Keep-Alive' );\n$headers_obj-&gt;header( 'Host' =&gt; $host );\n\nmy $http_request_obj = HTTP::Request-&gt;new;\n$http_request_obj-&gt;method( $method );\n$http_request_obj-&gt;uri( $uri );\n$http_request_obj-&gt;content_type( 'Content-Type' =&gt; 'application/json' );\n$http_request_obj-&gt;content( $content );\n\n$user_agent-&gt;default_headers( $headers_obj );\n\n$response_obj = $user_agent-&gt;request( $http_request_obj );\n</code></pre>\n\n<p>When I dump the response, I can see that the initial request returns a 302 which is then followed successfully... it's just that the content does NOT go with each redirect. How can I get LWP::UserAgent to forward content on redirect?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 8783060, "user_type": "registered", "profile_image": "https://graph.facebook.com/2405221306368764/picture?type=large", "display_name": "Sreejin TJ", "link": "https://stackoverflow.com/users/8783060/sreejin-tj"}, "edited": false, "score": 0, "creation_date": 1565351201, "post_id": 57429375, "comment_id": 101336525, "body": "Thank you @oklas , your logic helps !"}, {"owner": {"reputation": 6179, "user_id": 2969544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b66660630d54cf58a7d4675be1d6ff?s=128&d=identicon&r=PG", "display_name": "oklas", "link": "https://stackoverflow.com/users/2969544/oklas"}, "reply_to_user": {"reputation": 157, "user_id": 8783060, "user_type": "registered", "profile_image": "https://graph.facebook.com/2405221306368764/picture?type=large", "display_name": "Sreejin TJ", "link": "https://stackoverflow.com/users/8783060/sreejin-tj"}, "edited": false, "score": 1, "creation_date": 1565351524, "post_id": 57429375, "comment_id": 101336686, "body": "Welcome! Do not forget mark ansewer solved. And vote answers which you like to make it visible for others. (You will be enable to make vote after some votes to your q/a will be accumullated)"}], "tags": [], "owner": {"reputation": 6179, "user_id": 2969544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b66660630d54cf58a7d4675be1d6ff?s=128&d=identicon&r=PG", "display_name": "oklas", "link": "https://stackoverflow.com/users/2969544/oklas"}, "is_accepted": true, "score": 5, "last_activity_date": 1565351055, "creation_date": 1565351055, "answer_id": 57429375, "question_id": 57429253, "link": "https://stackoverflow.com/questions/57429253/bit-selection-in-perl/57429375#57429375", "title": "Bit selection in perl", "body": "<p>Use bit mask to select bits which you need. To select right 10 bit you can use:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $x = 0xfff0;\nprint $x &amp; 0x3ff;\n</code></pre>\n\n<p>output is</p>\n\n<blockquote>\n  <p>1008</p>\n</blockquote>\n\n<p>which is decimal number of ten bits of number 0xfff0</p>\n"}], "owner": {"reputation": 157, "user_id": 8783060, "user_type": "registered", "profile_image": "https://graph.facebook.com/2405221306368764/picture?type=large", "display_name": "Sreejin TJ", "link": "https://stackoverflow.com/users/8783060/sreejin-tj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 57429375, "answer_count": 1, "score": 2, "last_activity_date": 1565358906, "creation_date": 1565350625, "last_edit_date": 1565358906, "question_id": 57429253, "link": "https://stackoverflow.com/questions/57429253/bit-selection-in-perl", "title": "Bit selection in perl", "body": "<p>How can we bit select the variables in perl code?</p>\n\n<p>I am new to perl and I have a scenario where I need to extract a particular format from a file and give input to a another module for analysis. </p>\n\n<p>Currently I have extracted the required pattern which is in 16-bit Hexadecimal. \nNow from this <em>16bits</em> hexadecimal format ,I want only <em>LSB 10bits</em>. \nKindly refer the below example(This is a sample code where I have used only 1 line of my requirement)</p>\n\n<pre><code>use strict;\nmy $string = \"HDR 0c0d PlD 1000 GAP 412\";\n$string =~ s/.*HDR\\s(\\S+).*/$1/g;\nprint \"$string\\n\";\nmy $hex = hex($string);\nprint \"$hex\"; \n</code></pre>\n\n<p>The output in <code>$hex</code> is 3095 which is <em>16bit</em> <code>16\u2019b0011000010000101</code> now I need to extract only the LSB <em>10bits</em>(<code>0010000101</code>), Please let me know some easy way to do this .</p>\n"}, {"tags": ["sqlite", "perl"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8122834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026d14c502d5f9dfe4e1a2f9a4b9e19?s=128&d=identicon&r=PG&f=1", "display_name": "Kop Lop", "link": "https://stackoverflow.com/users/8122834/kop-lop"}, "edited": false, "score": 0, "creation_date": 1565322260, "post_id": 57423179, "comment_id": 101325311, "body": "Are you talking about doing something like this?  <code>perl my $sth = $dbh-&gt;prepare(&quot;INSERT OR REPLACE INTO probes (source, port) VALUES(?,?) \t\t\t\t\t\t SELECT source, group_concat(port, &#39; &#39;)  \t\t\t\t\t\t AS ports FROM probes GROUP BY source&quot;); </code>"}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 29, "user_id": 8122834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026d14c502d5f9dfe4e1a2f9a4b9e19?s=128&d=identicon&r=PG&f=1", "display_name": "Kop Lop", "link": "https://stackoverflow.com/users/8122834/kop-lop"}, "edited": false, "score": 0, "creation_date": 1565322302, "post_id": 57423179, "comment_id": 101325321, "body": "No, I&#39;m not, because that suggestion won&#39;t actually delete anything."}, {"owner": {"reputation": 29, "user_id": 8122834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026d14c502d5f9dfe4e1a2f9a4b9e19?s=128&d=identicon&r=PG&f=1", "display_name": "Kop Lop", "link": "https://stackoverflow.com/users/8122834/kop-lop"}, "edited": false, "score": 0, "creation_date": 1565322480, "post_id": 57423179, "comment_id": 101325343, "body": "Yes I know but how would I get INSERT and SELECT onto the same line is what I&#39;m not understanding."}], "tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 1, "last_activity_date": 1565321838, "creation_date": 1565321838, "answer_id": 57423179, "question_id": 57423145, "link": "https://stackoverflow.com/questions/57423145/overwrite-db-with-a-select/57423179#57423179", "title": "Overwrite DB with a SELECT", "body": "<p>You should be doing this in two steps.  First, delete or truncate the target table.  Then, do an <code>INSERT INTO ... SELECT</code> using your current select logic:</p>\n\n<pre><code>DELETE FROM yourTable;\n\nINSERT INTO yourTable\nSELECT source, GROUP_CONCAT(port, ' ')\nFROM probes\nGROUP BY source;\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8122834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026d14c502d5f9dfe4e1a2f9a4b9e19?s=128&d=identicon&r=PG&f=1", "display_name": "Kop Lop", "link": "https://stackoverflow.com/users/8122834/kop-lop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565321838, "creation_date": 1565321569, "question_id": 57423145, "link": "https://stackoverflow.com/questions/57423145/overwrite-db-with-a-select", "title": "Overwrite DB with a SELECT", "body": "<p>I'm trying to replace an entire table with a SELECT statement and I'm not sure how to delete all the data in the table then replace it with the correct data.</p>\n\n<p>I've been trying to use the fetchall_arrayref but cannot figure it out on how I can put the data into an array and then refill the table with the SELECT data</p>\n\n<p>So I've got</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $st = $dbh-&gt;prepare (\"SELECT source, group_concat(port, ' ') AS ports FROM probes GROUP BY source\");\nmy $rv = $st-&gt;execute() or die \"Error;;;;\";\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $data;\nforeach $data ( @$data) {\n    (my $variable1, my $variable2) = @$data;\n\n\n}\n</code></pre>\n\n<p>I'm just trying to take the grouped SELECT data from $st and replace the entire table with it.</p>\n"}, {"tags": ["sqlite", "perl"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8122834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026d14c502d5f9dfe4e1a2f9a4b9e19?s=128&d=identicon&r=PG&f=1", "display_name": "Kop Lop", "link": "https://stackoverflow.com/users/8122834/kop-lop"}, "edited": false, "score": 0, "creation_date": 1565315937, "post_id": 57422361, "comment_id": 101324361, "body": "So I should send an sql execution after everything is already in the DB? Like: <code>perl $dbh-&gt;do(&quot;SELECT source, group_concat(port, &#39; &#39;) AS ports \t\tFROM probes \t\tGROUP BY source&quot;); </code>"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 29, "user_id": 8122834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026d14c502d5f9dfe4e1a2f9a4b9e19?s=128&d=identicon&r=PG&f=1", "display_name": "Kop Lop", "link": "https://stackoverflow.com/users/8122834/kop-lop"}, "edited": false, "score": 0, "creation_date": 1565316311, "post_id": 57422361, "comment_id": 101324424, "body": "@KopLop You wouldn&#39;t use <code>do()</code> here because you want the results of the query. <code>selectall_arrayref()</code> or a <code>prepare()</code>, <code>execute()</code>, and loop over <code>fetchrow_array()</code> sequence or the like. See the DBI documentation for details."}], "tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 2, "last_activity_date": 1565313854, "last_edit_date": 1565313854, "creation_date": 1565313243, "answer_id": 57422361, "question_id": 57422312, "link": "https://stackoverflow.com/questions/57422312/how-to-have-multiple-values-per-row/57422361#57422361", "title": "How to have multiple values per row", "body": "<p>You store one row per scan like you are now, and use grouping and aggregation to get one row per source IP when you're ready to display the data. Something like:</p>\n\n<pre><code>SELECT source, group_concat(port, ' ') AS ports\nFROM probes\nGROUP BY source;\n</code></pre>\n\n<p><a href=\"https://dbfiddle.uk/?rdbms=sqlite_3.27&amp;fiddle=98d0db2ad3d4ecf80a0b6b5e9d5bcd17\" rel=\"nofollow noreferrer\">db&lt;>fiddle example</a></p>\n"}], "owner": {"reputation": 29, "user_id": 8122834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026d14c502d5f9dfe4e1a2f9a4b9e19?s=128&d=identicon&r=PG&f=1", "display_name": "Kop Lop", "link": "https://stackoverflow.com/users/8122834/kop-lop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565313854, "creation_date": 1565312663, "question_id": 57422312, "link": "https://stackoverflow.com/questions/57422312/how-to-have-multiple-values-per-row", "title": "How to have multiple values per row", "body": "<p>I've set up a database with sqlite using perl and I'm trying to figure out how to add multiple values on each row.</p>\n\n<p>I've been trying to change my INSERT INTO statement but have had no success.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#Here I create the database.\n$dbh-&gt;do(\"\n    CREATE TABLE probes(\n        source CHAR(15) NOT NULL,\n        port CHAR(5) NOT NULL,\n        PRIMARY KEY(source,port))\")\n#This is my prepare statement that I think needs to be changed.\nmy $sth = $dbh-&gt;prepare(\"INSERT INTO probes (source, port) VALUES(?,?)\");\n</code></pre>\n\n<p>For example I have a log file that was taken from a scan done, I have a source IP and port number. I want the database to show</p>\n\n<pre><code>Source:   Port:\n127.0.0.1 5678 5839 5938\n</code></pre>\n\n<p>Instead of it showing like this:</p>\n\n<pre><code>Source:   Port:\n127.0.0.1 5678\n127.0.0.1 5839\n127.0.0.1 5938\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1565304934, "post_id": 57420486, "comment_id": 101322343, "body": "So on week 41 you&#39;d want week40d.log and week21d.log?"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1565305068, "post_id": 57420486, "comment_id": 101322371, "body": "@Schwern That&#39;s right. Let&#39;s use week 41 as an example. If by the time I run the script, there is already a log for week 41, I don&#39;t want to use that until week 42. I would still want it to grab 40d and 21d."}], "answers": [{"comments": [{"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565386981, "post_id": 57421534, "comment_id": 101352342, "body": "I finally figured out the problem. I tried running on my local disk and it runs fine. Apparently on the central disk containing the whole teams files, they had changed the file names to a format that looks like &quot;slom-sc3-master-19ww***&quot;. So when I run the script there, it causes these issues. I had to mv the directory with new names to my local one.  I tried modifying to &quot;/(.*\\d.*\\d+.*\\d+)/&quot; but it says the Argument &quot;slom-sc3-master-19ww**&quot; isn&#39;t numeric in sort at....."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565387094, "post_id": 57421534, "comment_id": 101352373, "body": "<code>&#47;^\\D+\\d+\\D+\\d+\\D+(\\d+)&#47;</code>"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565387613, "post_id": 57421534, "comment_id": 101352509, "body": "It&#39;s finally working. Thank you so much! I do have a question though to make this code &quot;safe&quot; for every situation. The script is taking a look at weeks and returning the last log and the most previous one before that. Some weeks, there are multiple models of each log. Like 30a, 30b, etc. How can I ensure that it only returns the latter? The script will be set to do autoruns, so I wouldn&#39;t want to go in manually to ensure that there are only two paths each time. I just added in a test log called &quot;30a&quot; to check and it returned 31a, 30c, 30a since both fall under week 30....."}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565387637, "post_id": 57421534, "comment_id": 101352515, "body": "Would I just do an if statement to check if there is more than one file in the array and than compare the letters and take the &quot;greater&quot; one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565387823, "post_id": 57421534, "comment_id": 101352554, "body": "I missed that you only wanted the latest one of each week. A made a simple change that assumes the <code>&#47;path&#47;slom-sc3-master-</code> part is the same for all logs of a week."}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565388689, "post_id": 57421534, "comment_id": 101352716, "body": "That works perfectly!!! The only thing to note for other viewers is that the match will still have to be &quot;/^\\D+\\d+\\D+\\d+\\D+(\\d+)/&quot; and not just &quot;/(\\d+)/&quot;. When that part isn&#39;t updated too it just returns week32a."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565388736, "post_id": 57421534, "comment_id": 101352727, "body": "The answer is correct for the question, and <code>&#47;^\\D+\\d+\\D+\\d+\\D+(\\d+)&#47;</code> would not answer the question."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1565387760, "last_edit_date": 1565387760, "creation_date": 1565304366, "answer_id": 57421534, "question_id": 57420486, "link": "https://stackoverflow.com/questions/57420486/how-to-use-timestamp-to-get-recent-files-in-perl/57421534#57421534", "title": "How to use timestamp to get recent files in Perl", "body": "<pre><code>use File::Basename qw( basename );\n\nmy @qfns = ...;\nmy $target_week = ...;\n\nmy %qfns_by_week;\nfor my $qfn (@qfns) {\n   my $fn = basename($qfn);\n   my ($week) = $fn =~ /(\\d+)/\n      or warn(\"Skipping $qfn: Unrecognized format\\n\"), next;\n\n   next if $week &gt; $target_week;\n\n   push @{ $qfns_by_week{$week} }, $qfn;\n}\n\nmy ($week2, $week1) = sort { $b &lt;=&gt; $a } keys(%qfns_by_week);\n\nmy @latest_qfns;\npush @latest_qfns, ( reverse sort @{ $qfns_by_week{$week1} } )[0] if defined($week1);\npush @latest_qfns, ( reverse sort @{ $qfns_by_week{$week2} } )[0] if defined($week2);\n</code></pre>\n\n<p>Note that the final two lines assume that the path and the leading part of the file name are the same for all logs of the same week.</p>\n"}, {"comments": [{"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565370645, "post_id": 57422129, "comment_id": 101346824, "body": "Thanks for the thorough explanation! I have two questions here. How can I specify to only search for &quot;.log&quot; files? The directory contains other types of files as well that I don&#39;t want. Also, like you mentioned in your post about the indexing, it&#39;s a problem when I run the code. Because I am in week 32, I want to return week 31 and week 30 but it is returning week 29 and 28 instead. I want it to go back to last week&#39;s log and the one before that. If I am in week 32, and week 32 logs are generated, I want 31. If I&#39;m in week 32 and 32 logs aren&#39;t generated yet, I still want 31."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 1, "creation_date": 1565374235, "post_id": 57422129, "comment_id": 101348174, "body": "@sfr  (1) Use <code>glob &quot;$dir&#47;*.log&quot;;</code> -- it&#39;s much like shell&#39;s glob-ing (and then for safety really <code>glob &quot;\\Q$dir\\E&#47;*.log&quot;;</code>)  (2) It should give weeks 31 and 30, by all means -- if there are files during those weeks. (Note that the code decides the week by the timestamp, not by a label in filename.)   I&#39;ll check, perhaps there&#39;s a bug of sorts so that it skips over the past week or a few (i did test, but...)"}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565374329, "post_id": 57422129, "comment_id": 101348209, "body": "Oh ok. I would appreciate that because it keeps going back to older weeks and skipping over the more recent ones."}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565380665, "post_id": 57422129, "comment_id": 101350412, "body": "i tried to specify the .log in glob, and now it is just returning the very first .log file that was ever made from like week 7."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565383331, "post_id": 57422129, "comment_id": 101351252, "body": "Why is <code>stat</code> being used? You should be using the week num in the file name, not the file modification time."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 1, "creation_date": 1565388600, "post_id": 57422129, "comment_id": 101352701, "body": "@sfr  I tested again, on directories with multiple files from this week, and from last week, and from the week before last (and older) -- both programs print the last file from the previous week and the last file from the week before that.  (the second code snippet needs the beginning part of the first one copied). For directories with not so recent files the program print latest files from the last two available weeks, excluding the current week."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565388608, "post_id": 57422129, "comment_id": 101352703, "body": "@sfr  i use <code>glob &quot;\\Q$dir\\E&#47;*.log&quot;;</code> and I do get all files -- but only one, <i>the latest from that week</i> (as required?), is printed."}, {"owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "edited": false, "score": 0, "creation_date": 1565388782, "post_id": 57422129, "comment_id": 101352733, "body": "I was using stat initially but I got rid of it afterwards."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565388922, "post_id": 57422129, "comment_id": 101352766, "body": "@ikegami  &quot;<i>Why is <code>stat</code> being used</i>&quot;  -- on purpose, since OP used it and it is a one reliable measure of when a log was produced.  Above all I wasn&#39;t sure what was wanted and chose timestamp"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565389160, "post_id": 57422129, "comment_id": 101352819, "body": "Quite the contrary, <code>stat</code> is not the most reliable. If a log file name says it&#39;s for week 31, and <code>stat</code> says the mtime is for week 32, the log is for week 31. (This is even an entirely likely situation here. The OP has since mentioned the logs are copied from one machine to another, and this could affect the mtime.)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1565390144, "last_edit_date": 1565390144, "creation_date": 1565310446, "answer_id": 57422129, "question_id": 57420486, "link": "https://stackoverflow.com/questions/57420486/how-to-use-timestamp-to-get-recent-files-in-perl/57422129#57422129", "title": "How to use timestamp to get recent files in Perl", "body": "<p>My take on the problem: Find latest weekly files for the last two weeks for which there are files.</p>\n\n<p>One way: Sort all files by timestamps, group into weeks and take latest from each, for the last two.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say', 'state';\nuse List::MoreUtils qw(part);\nuse Time::Piece;\n\nmy $dir = shift;\ndie \"Usage: $0 directory\\n\" if not $dir or not -d $dir;\n\nmy @files =                       # arrayrefs: name, secs since epoch    \n    sort { $b-&gt;[1] &lt;=&gt; $a-&gt;[1] }\n    map { [$_, (stat $_)[9]] } \n    grep { -f } \n        glob \"\\Q$dir\\E/*.log\";\n\nmy $dt = Time::Piece-&gt;localtime;\nmy $curr_week = $dt-&gt;week;\nmy $curr_yr   = $dt-&gt;year;\n\nmy @parts = part {\n    state $this_week = $curr_week;\n    my $t = $dt-&gt;strptime($_-&gt;[1], \"%s\");\n    if ($t-&gt;year != $curr_yr) {\n        $this_week += 51 ;\n        $curr_yr = $t-&gt;year;\n    }\n    $this_week - $t-&gt;week;  # partition index: week offset\n} @files;\n\n# Remove the first element if it is for the current week\nshift @parts  if $parts[0] and \n    Time::Piece-&gt;strptime($parts[0]-&gt;[0][1], \"%s\")-&gt;week == $curr_week;\n\nmy @last_in_weeks = map { $_-&gt;[0] // () } grep { defined } @parts;    \nsay $_-&gt;[0] for @last_in_weeks[0,1];\n</code></pre>\n\n<p>This can be optimized, in the first place by cutting off week-based partitioning of all files as soon as we have the needed number of weeks (two in this case).<sup>&dagger;</sup></p>\n\n<p>Comments</p>\n\n<ul>\n<li><p>Filelist is built assuming that all files are directly in the given directory. The <a href=\"https://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\"><code>\\Q...\\E</code></a> in <code>glob</code> is there to deny a (rare but possible) injection bug. Since it also quotes possible spaces in directory names we don't need to double quote the glob</p></li>\n<li><p>Files are sorted in reverse by modification time and since we'll need timestamps later they are kept, so <code>@files</code> carries two-element arrayrefs. A more convenient and less efficient option is to pack name and timestamp in a hash</p></li>\n<li><p><a href=\"https://metacpan.org/pod/List::MoreUtils#part-BLOCK-LIST\" rel=\"nofollow noreferrer\">List::MoreUtils::<code>part</code></a> assigns elements into groups, which are arrayrefs in the returned list. They are <em>indexed by</em> what the block returns; so files in the week with offset 2 (returned from the block) go into the arrayref which is the third element of the returned list. Thus there are <code>undef</code> elements when there are no files for some weeks</p></li>\n<li><p>For partitioning, the week of each file is subtracted from the <code>$curr_week</code> so that the partition index starts at the most recent week. (Then the first element of <code>@parts</code> is removed if it has files from the current week, since the current week's logs are not wanted.)  However, ...</p></li>\n<li><p>... <code>Time::Piece::week</code> returns the week number <em>in this year</em>. So at end of January <code>$t-&gt;week</code> may be 3, nicely subtracted from <code>$this_week</code> (32 at time of this writing) for index 29, but as we keep processing the next file, from end of December, is week 51! A negative offset is a no-go for <code>part</code>. So <code>$this_week</code> need be <code>+= 51</code> every time year changes</p></li>\n</ul>\n\n<p>This code, and the version below, <strong>uses timestamps to find out the week</strong>.  If the week should be pulled from the filename instead, then replace <code>$dt-&gt;week</code> with a simple regex prying the week number out of a filename, and take the first file for that week (if sorted in reverse). Also drop the <code>$dt</code> altogether and year-based considerations aren't needed either; it's much simpler that way.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup>&thinsp;Best done manually, since <code>part</code> can be cleanly interrupted only by throwing an exception (then <code>eval</code>-ed) and exceptions in general shouldn't be used for flow control.</p>\n\n<pre><code>my $dt = Time::Piece-&gt;localtime;\n\nmy ($week, $prev_week) = ($dt-&gt;week) x 2;\nmy $prev_year = $dt-&gt;year;\nmy @latest_weekly;\n\nforeach my $rf (@files) {\n    $dt = $dt-&gt;strptime($rf-&gt;[1], \"%s\");\n\n    if ($dt-&gt;year != $prev_year) {\n        $prev_week += 51;\n        $prev_year = $dt-&gt;year;\n    }\n\n    # New week? This first file in the new week is the latest one\n    if ($dt-&gt;week &lt; $prev_week) {   \n        push @latest_weekly, $rf; \n        last if @latest_weekly &gt;= 2;  # really take only two\n        #$prev_week = $dt-&gt;week;      # if we are to continue\n    }\n}\n\nsay $_-&gt;[0] for @latest_weekly;\n</code></pre>\n\n<p>This is no harder and is far more efficient (it's more efficient without cutting it off at the second week, as well). However, the code using <code>part</code> I think is more general and maintainable -- more easily changed to meet other ends.</p>\n"}], "owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 57421534, "answer_count": 2, "score": 0, "last_activity_date": 1565390144, "creation_date": 1565297816, "last_edit_date": 1565383787, "question_id": 57420486, "link": "https://stackoverflow.com/questions/57420486/how-to-use-timestamp-to-get-recent-files-in-perl", "title": "How to use timestamp to get recent files in Perl", "body": "<p>I have a folder filled with logs of files. Logs are generated weekly.\nFor example.</p>\n\n<blockquote>\n  <p>/path/week20a.log <br>\n  /path/week20b.log <br>\n  /path/week29d.log <br>\n  /path/week30c.log <br>\n  /path/week31a.log <br>\n  /path/week32a.log <br></p>\n</blockquote>\n\n<p>I want to get the most recent log for the last week (last week meaning the latest of the last week's log file before this weeks) and the week before it. \nIn this case, </p>\n\n<blockquote>\n  <p>/path/week21d.log <br>\n  /path/week20c.log</p>\n</blockquote>\n\n<p>I have two subroutine functions for this that look like:</p>\n\n<pre><code>sub getweek {\n$week = ???; #where week should return one of the 'week***' listed above\nmy @files = File::Find::Rule-&gt;file()\n                            -&gt;name('*$week.log')\n                            -&gt;in(mydir);\n\nmy @files_with_mtimes = map +{ name =&gt; $_, mtime =&gt; (stat $_)[9] }, @files;\nour @sorted_files = reverse sort { $a-&gt;{mtime} &lt;=&gt; $b-&gt;{mtime} } @files_with_mtimes;\n\nreturn $sorted_files[0]{name};\n}\n</code></pre>\n\n<p><br> <br></p>\n\n<p>The problem is I'm getting current week using <code>Time::Piece-&gt;new-&gt;strftime(\"%V\")</code> and then I am doing that <code>-2</code> to get the week before last. I'm hardcoding in the assumption that the most recent log from 2 weeks ago will always be there and will be the one before last. What if there is no run last week? In which case, last log will be the week before that and the one before that will be the one before that week. </p>\n\n<p>How can I have two subroutines, where one gets last week's log, <code>Time::Piece-&gt;new-&gt;strftime(\"%V\")-1</code> IF IT EXISTS AND IF NOT, DECREMENTS TO FIND THE WEEK BEFORE THAT and then based of that does something similar to find the last log before that one.</p>\n"}, {"tags": ["perl", "combobox", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11904373, "user_type": "registered", "profile_image": "https://graph.facebook.com/878621625845691/picture?type=large", "display_name": "Anna Drew Newby", "link": "https://stackoverflow.com/users/11904373/anna-drew-newby"}, "edited": false, "score": 0, "creation_date": 1565299070, "post_id": 57420548, "comment_id": 101320726, "body": "Follow up question (if that&#39;s allowed, new to stackoverflow), I want to check to see which radio button is selected in a group.   <code>&lt;input type = &quot;radio&quot; name = &quot;type&quot; value = &quot;book&quot;&#47;&gt;  Book &lt;input type = &quot;radio&quot; name = &quot;type&quot; value = &quot;audiobook&quot;&#47;&gt;   Audio Book</code>   In an if statement to check which is selected would I do:   <code>if (param(type) == &#39;book&#39;) { } else #assume audiobook is selected { }</code>"}, {"owner": {"reputation": 57573, "user_id": 6144, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/282eed17fcb9682bb2816697482b64ec?s=128&d=identicon&r=PG", "display_name": "scunliffe", "link": "https://stackoverflow.com/users/6144/scunliffe"}, "reply_to_user": {"reputation": 1, "user_id": 11904373, "user_type": "registered", "profile_image": "https://graph.facebook.com/878621625845691/picture?type=large", "display_name": "Anna Drew Newby", "link": "https://stackoverflow.com/users/11904373/anna-drew-newby"}, "edited": false, "score": 0, "creation_date": 1565299278, "post_id": 57420548, "comment_id": 101320792, "body": "Hi @AnnaDrewNewby yes, if one of the radio buttons is selected, it will be passed the exact same way. e.g. if you have <code>&lt;input type=&quot;radio&quot; name=&quot;color&quot; value=&quot;red&quot;&#47;&gt;&lt;input type=&quot;radio&quot; name=&quot;color&quot; value=&quot;blue&quot;&#47;&gt;&lt;input type=&quot;radio&quot; name=&quot;color&quot; value=&quot;green&quot;&#47;&gt;</code> you will have a param like <code>color=green</code> if that is what the user chose. (if the user doesn&#39;t pick any option, you won&#39;t see the param on the server)"}, {"owner": {"reputation": 1, "user_id": 11904373, "user_type": "registered", "profile_image": "https://graph.facebook.com/878621625845691/picture?type=large", "display_name": "Anna Drew Newby", "link": "https://stackoverflow.com/users/11904373/anna-drew-newby"}, "edited": false, "score": 0, "creation_date": 1565299344, "post_id": 57420548, "comment_id": 101320819, "body": "Much appreciated!"}], "tags": [], "owner": {"reputation": 57573, "user_id": 6144, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/282eed17fcb9682bb2816697482b64ec?s=128&d=identicon&r=PG", "display_name": "scunliffe", "link": "https://stackoverflow.com/users/6144/scunliffe"}, "is_accepted": false, "score": 1, "last_activity_date": 1565298086, "creation_date": 1565298086, "answer_id": 57420548, "question_id": 57420467, "link": "https://stackoverflow.com/questions/57420467/how-do-i-store-the-value-of-a-combobox-into-a-variable/57420548#57420548", "title": "How do I store the value of a combobox into a variable?", "body": "<p>When the user submits this form, there will be a parameter in the format of:</p>\n\n<pre><code>dayslate=2\n</code></pre>\n\n<p>Where the number will be the value in the value attribute of the selected option.</p>\n\n<p>On your back end, you can get the value of this parameter from the request.</p>\n\n<pre><code> $dayslate = param('dayslate') || 'no dayslate param passed in';\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11904373, "user_type": "registered", "profile_image": "https://graph.facebook.com/878621625845691/picture?type=large", "display_name": "Anna Drew Newby", "link": "https://stackoverflow.com/users/11904373/anna-drew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565298086, "creation_date": 1565297688, "question_id": 57420467, "link": "https://stackoverflow.com/questions/57420467/how-do-i-store-the-value-of-a-combobox-into-a-variable", "title": "How do I store the value of a combobox into a variable?", "body": "<p>New to CGI and perl.</p>\n\n<p>I am passing my CGI to a perl script with GET. I have a combobox and I want to store the value of the selection into a variable so that I can manipulate the value in my CGI script.</p>\n\n<p>I want to take the selected number from the combo box and store it in a variable called 'dayslate' so that I can use the value for mathematical calculations.</p>\n\n<pre><code>&lt;select name = \"dayslate\"&gt;\n&lt;option value=\"1\"&gt;1&lt;/option&gt;\n&lt;option value=\"2\"&gt;2&lt;/option&gt;\n&lt;option value=\"3\"&gt;3&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>The combobox code is in my perl file and I want to grab the value and store the value in my CGI script. I think this is correct.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11902656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a73756d0b1fd28887fc76913a346ec?s=128&d=identicon&r=PG&f=1", "display_name": "braummid", "link": "https://stackoverflow.com/users/11902656/braummid"}, "edited": false, "score": 0, "creation_date": 1565277450, "post_id": 57415684, "comment_id": 101311588, "body": "You put index inside subroutine without passing a parameter, that is nice, i didn&#39;t think that. I genuinely thank you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565278946, "post_id": 57415684, "comment_id": 101312466, "body": "1) Re &quot;<i>Perl prototypes are generally best avoided</i>&quot;, Maybe, but not here. Using prototypes is actually better for sort compare functions (since it allows them to be used by a <code>sort</code> in a different package). But yeah, it does slow down the sorting (because it&#39;s gotta pass arguments)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565278979, "post_id": 57415684, "comment_id": 101312479, "body": "2) <code>${$hash{$a}}[$index]</code> is a weird way of writing <code>$hash{$a}[$index]</code> (which is short for <code>$hash{$a}-&gt;[$index]</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1565279500, "post_id": 57415684, "comment_id": 101312767, "body": "3) A tiny bit faster: <code>my $aa = $hash{$a}; my $ab = $hash{$b}; my $last = @$aa &lt; @$ab ? @$aa : @$ab;     for my $i (1..$last) {       my $res = $aa-&gt;[-$i] &lt;=&gt; $ab-&gt;[-$i];       return $res if $res;     }     return 0;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565279629, "post_id": 57415684, "comment_id": 101312829, "body": "4) Are you sure you should return 0 for arrays of different lengths? That doesn&#39;t sound right. Even if it doesn&#39;t matter, it&#39;s generally better to provide a consistent result. To place the shortest first, replace <code>return 0</code> with <code>return @${hash{$a}} &lt;=&gt; @${hash{$b}}</code> (or <code>return @$aa &lt;=&gt; @$bb</code> in mine). Sorting by key (<code>return $a cmp $b</code>) might also be desirable."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 2, "last_activity_date": 1565276795, "creation_date": 1565276795, "answer_id": 57415684, "question_id": 57415209, "link": "https://stackoverflow.com/questions/57415209/perl-how-to-sort-hash-of-arrays-keys-according-to-specific-positions-in-array/57415684#57415684", "title": "Perl, How to sort hash (of arrays) keys according to specific positions in arrays", "body": "<p>Here's one way to do it:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy %hash = (\n  foo  =&gt; [ 1, 2, 3, 4, 5 ],\n  bar  =&gt; [ 8, 6, 7, 5, 3, 0, 9 ],\n  baz  =&gt; [ 5, 5, 5, 5, 5 ],\n  baz2 =&gt; [ 5, 5, 5, 5, 5 ],\n);\n\nsub customsort {\n  my $res;\n  my $index = -1;\n\n  while (1) {\n    return 0 if ($#{$hash{$a}} + $index &lt; 0) || ($#{$hash{$b}} + $index &lt; 0);\n    $res = ${$hash{$a}}[$index] &lt;=&gt; ${$hash{$b}}[$index];\n    return $res if $res;\n    $index--;\n  }\n} \n\nmy @sorted = sort customsort keys %hash;\nsay $_ for @sorted;\n</code></pre>\n\n<p>I'm using <code>$a</code> and <code>$b</code> instead of the <code>($$)</code> prototype because Perl prototypes are generally best avoided, but also note that, according to <a href=\"https://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\"><code>perldoc sort</code></a>, using the prototype is slower.  So just embrace the magic of <code>$a</code> and <code>$b</code>.</p>\n\n<p>The <code>return 0 if...</code> line is to prevent warnings if you have arrays of different lengths (<code>bar</code>) that have to look back beyond the beginning of a shorter array, and to prevent infinite loops if you have identical arrays (<code>baz</code> and <code>baz2</code>).</p>\n"}], "owner": {"reputation": 13, "user_id": 11902656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a73756d0b1fd28887fc76913a346ec?s=128&d=identicon&r=PG&f=1", "display_name": "braummid", "link": "https://stackoverflow.com/users/11902656/braummid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 57415684, "answer_count": 1, "score": 1, "last_activity_date": 1565276795, "creation_date": 1565275326, "last_edit_date": 1565275860, "question_id": 57415209, "link": "https://stackoverflow.com/questions/57415209/perl-how-to-sort-hash-of-arrays-keys-according-to-specific-positions-in-array", "title": "Perl, How to sort hash (of arrays) keys according to specific positions in arrays", "body": "<p>I have hash of array references. I want to sort hash keys according to those arrays' last element and if they are equal, then i want to sort them according to previous element and so on. </p>\n\n<p>i have written a simple custom sort subroutine which sorts according to last element </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    our %hash = (); #\n    sub customsort($$)\n    {   ${$hash{$_[0]}}[-1] &lt;=&gt; ${$hash{$_[1]}}[-1]    }\n</code></pre>\n\n<p>I know i need to pass another argument <code>$j</code> instead of predefined <code>-1</code> for fixed last element. Then i will set up a loop inside subroutine with some checks, etc. However i couldn't figure out how to pass it while using the subroutine in actual part of code</p>\n\n<pre><code>    foreach my $key (sort customsort keys (%hash)  ) {..}\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl", "parsing", "yaml"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565270659, "post_id": 57413233, "comment_id": 101307408, "body": "Try <code>$config-&gt;{spec}{template}{spec}{containers}[0]{resources}{re&zwnj;&#8203;quests}{memory}</code>. It gives output <code>512Mi</code> here"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1565270735, "post_id": 57413233, "comment_id": 101307482, "body": "<code>YAML::Tiny</code> can&#39;t parse that sample yaml file you provided."}], "answers": [{"comments": [{"owner": {"reputation": 287, "user_id": 372429, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/416c63cb7f6e15b4a11680121dff3e84?s=128&d=identicon&r=PG", "display_name": "archcutbank", "link": "https://stackoverflow.com/users/372429/archcutbank"}, "edited": false, "score": 0, "creation_date": 1565271640, "post_id": 57413715, "comment_id": 101308090, "body": "Thank you!  The {container}[0] was big in getting me to my destination.  I will try a Dumper as well as suggested."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1565270725, "creation_date": 1565270725, "answer_id": 57413715, "question_id": 57413233, "link": "https://stackoverflow.com/questions/57413233/how-to-use-perl-to-modify-yaml-file-values-using-yamltiny-or-other/57413715#57413715", "title": "How to use perl to modify YAML file values using YAML::Tiny or other?", "body": "<p>First and last line of the YAML are indented wrong. After fixing that, you can access the value <code>1Gi</code> via:</p>\n\n<pre><code>print \"$config-&gt;{spec}{template}{spec}{containers}[0]{resources}{limits}{memory}\\n\";\n</code></pre>\n\n<p>Hint: use a dumper module to visualise complex nested data.</p>\n"}], "owner": {"reputation": 287, "user_id": 372429, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/416c63cb7f6e15b4a11680121dff3e84?s=128&d=identicon&r=PG", "display_name": "archcutbank", "link": "https://stackoverflow.com/users/372429/archcutbank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565270725, "creation_date": 1565269164, "question_id": 57413233, "link": "https://stackoverflow.com/questions/57413233/how-to-use-perl-to-modify-yaml-file-values-using-yamltiny-or-other", "title": "How to use perl to modify YAML file values using YAML::Tiny or other?", "body": "<p>Morning, I am looking for how to modify some values in the yaml that are pretty deep down (i.e., memory and cpu related).</p>\n\n<pre><code> ---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: sentry-agent\nspec:\n  minReadySeconds: 30\n  progressDeadlineSeconds: 240\n  replicas: 1\n  revisionHistoryLimit: 5\n  strategy:\n    rollingUpdate:\n      maxSurge: 100%\n      maxUnavailable: 0%\n    type: RollingUpdate\n  selector:\n    matchLabels:\n      app: sentry-agent\n  template:\n    metadata:\n      creationTimestamp: null\n    spec:\n      serviceAccountName: sentry-agent-usr\n      serviceAccount: sentry-agent-usr\n      affinity:\n        podAntiAffinity:\n          requiredDuringSchedulingIgnoredDuringExecution:\n          - labelSelector:\n              matchExpressions:\n              - key: app\n                operator: In\n                values:\n                - sentry-agent\n            topologyKey: \"kubernetes.io/hostname\"\n      containers:\n      - name: sentry-agent\n        image: &lt;image&gt;\n        imagePullPolicy: Always\n        envFrom:\n          - configMapRef:\n              name: sentry-agent\n          - secretRef:\n              name: sentry-creds\n        resources:\n          requests:\n            memory: \"512Mi\"\n            cpu: \"1000m\"\n          limits:\n            memory: \"1Gi\"\n            cpu: \"1000m\"\n        livenessProbe:\n          httpGet:\n             port: 8080\n            path: /healthz\n</code></pre>\n\n<p>Morning, I am trying to figure out how to modify the memory and cpu values using perl's YAML::Tiny module.  </p>\n\n<p>The examples do not get very far with depth.  I see they have</p>\n\n<pre><code>use YAML::Tiny;\n\n# Open the config\nmy $yaml = YAML::Tiny-&gt;read( 'file.yml' );\n\n# Get a reference to the first document\nmy $config = $yaml-&gt;[0];    \n</code></pre>\n\n<p>This is pretty standard.  I tried something like:</p>\n\n<pre><code>print \"$config-&gt;{spec}-&gt;{template}-&gt;{containers}-&gt;{resources}-&gt;{memory}\\n\";\n</code></pre>\n\n<p>This does not work.  Any expert know what is wrong with the path I did?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1565266026, "post_id": 57411792, "comment_id": 101304393, "body": "@ikegami, archname=&#39;x86_64-msys-thread-multi&#39;. It&#39;s Git bash on Win7. I do some replacements and now want to see what many were made same as text editor informs after replace command."}], "answers": [{"comments": [{"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1565269094, "post_id": 57412357, "comment_id": 101306333, "body": "I would add to my knowledge here found on the web: <code>The say function behaves just like the print function, except that it appends a newline at the end of its arguments.</code> and just fixed code is <code>perl -0777 -i.original -pe &#39;$c=s-\\r\\n-\\n-igs;CORE::print STDOUT qq($c\\n)&#39; test.txt </code>. p.s. I originally used ` as separator but stackoverflow use it to denote code. O my I did not guess that number added to the file was my output!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1565269199, "post_id": 57412357, "comment_id": 101306400, "body": "No need to use <code>CORE::print</code> instead of <code>print</code>. <code>say</code> was added to Perl later, so one must use <code>CORE::say</code> for backwards compatibility, unless one uses <code>use feature qw( say );</code> or similar. Added this to my answer."}, {"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1565269329, "post_id": 57412357, "comment_id": 101306484, "body": "I&#39;m confused here. Why you wrote <code>CORE</code> in your answer?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1565269363, "post_id": 57412357, "comment_id": 101306511, "body": "That was explained in the previous comment and in my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1565269099, "last_edit_date": 1565269099, "creation_date": 1565266509, "answer_id": 57412357, "question_id": 57411792, "link": "https://stackoverflow.com/questions/57411792/print-how-many-substitutions-took-place-in-a-perl-s-g/57412357#57412357", "title": "Print how many substitutions took place in a Perl s///g?", "body": "<p>Because of <code>-i</code>, the default output handle isn't STDOUT but the output file. To print to STDOUT, you'll need to do so explicitly.</p>\n\n<p>If using the <code>cmd</code> shell,</p>\n\n<pre><code>perl -0777pe\"CORE::say STDOUT s/\\r//g\" -i.original test.txt\n</code></pre>\n\n<p>If using <code>sh</code> or similar,</p>\n\n<pre><code>perl -0777pe'CORE::say STDOUT s/\\r//g' -i.original test.txt\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><code>s///</code> is more idiomatic than <code>s---</code></li>\n<li><code>/i</code> is useless here.</li>\n<li><code>/s</code> is useless here.</li>\n<li>There no point in checking for Line Feeds. <code>s/\\r//g</code> will work just as fine as <code>s/\\r\\n/\\n/g</code>.</li>\n<li>There's point in using a variable for the count, especially if using <code>say</code> instead of <code>print</code>.</li>\n<li>One must use <code>CORE::say</code> instead of <code>say</code> for backwards compatibility reasons unless <code>use feature qw( say );</code> or equivalent is used.</li>\n<li>Neither <code>s/\\r\\n/\\n/g</code> nor <code>s/\\r//g</code> will work with a Windows build of Perl, and there's no way to do what you want when using <code>-i</code> on a Windows build of Perl. However, you are using a unix build of Perl (since MSYS is a unix emulation environment), so it's not an issue.</li>\n</ul>\n"}], "owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 3, "accepted_answer_id": 57412357, "answer_count": 1, "score": 6, "last_activity_date": 1565292233, "creation_date": 1565264623, "last_edit_date": 1565292233, "question_id": 57411792, "link": "https://stackoverflow.com/questions/57411792/print-how-many-substitutions-took-place-in-a-perl-s-g", "title": "Print how many substitutions took place in a Perl s///g?", "body": "<p>I've used web search, found similarly titled question <a href=\"https://stackoverflow.com/questions/3103319/how-many-substitutions-took-place-in-a-perl-s-g\">How many substitutions took place in a Perl s///g?</a> and tried to use it to print the number but have not been able to succeed.  </p>\n\n<p>My initial code was</p>\n\n<pre><code>perl -0777 -i.original -pe 's-\\r\\n-\\n-igs' test.txt\n</code></pre>\n\n<p>When I tried</p>\n\n<pre><code>perl -0777 -i.original -pe \"$c=s-\\r\\n-\\n-igs;say qq'$c'\" test.txt\n</code></pre>\n\n<p>I got nothing - no output and no replacements, when I tried</p>\n\n<pre><code>perl -0777 -i.original -pe '$c=s-\\r\\n-\\n-igs;print qq($c\\n)' test.txt\n</code></pre>\n\n<p>(<code>print</code> similar to other one-liners I used before) I got empty string in standard output but <code>454847</code> added as the beginning of file (and proper replacements). </p>\n\n<p>I understand <code>=~</code> is not needed in my case (<a href=\"https://stackoverflow.com/questions/10019049/what-does-do-in-perl\">What does =~ do in Perl?</a>), so what is wrong with my code? How to print number of replacements made?</p>\n"}, {"tags": ["perl", "jenkins-pipeline", "execution", "tcsh"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565258532, "post_id": 57408235, "comment_id": 101300293, "body": "Each process gets a copy of its parent&#39;s environment. Changes to a process&#39;s environment only changes <i>that process&#39;s</i> environment. As you&#39;ve seen, it definitely doesn&#39;t modify it&#39;s great-great-grantparent&#39;s. You will need to somehow output data or code that you later use or execute in the shell whose environment you want to change."}], "owner": {"reputation": 36, "user_id": 11900370, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SumvWWIoEBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1JuKeL1eBmwmQWTAB_3ne0_Zwjg/photo.jpg?sz=128", "display_name": "jonathan ezroni", "link": "https://stackoverflow.com/users/11900370/jonathan-ezroni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565252631, "creation_date": 1565252631, "last_edit_date": 1592644375, "question_id": 57408235, "link": "https://stackoverflow.com/questions/57408235/how-are-environment-variables-handled-when-executing-exectcsh-in-perl-in-a-jen", "title": "How are Environment Variables handled when executing exec(tcsh) in perl in a jenkins client?", "body": "<p>I am integrating an EDA development environment into Jenkins pipeline. I am trying to emulate how a real user would experience changes to the EDA framework on multiple sites. The Frameworks is a complex Perl environment which sets a large list of environment variables for project specific tool configuration. On a interactive shell session the control flow return control to the user by executing exec &quot;tcsh&quot;; However, when executing on a Jenkins client, the new shell with updated variables are not getting set.</p>\n<h1>setup.pl</h1>\n<pre><code>// Manipulation of $ENV{} here\nprint &quot;Running perl\\n&quot;;\n$cmdstring = &quot; -c \\&quot;$Option{command}\\&quot;&quot;;\nexec &quot;$ENV{SHELL}${cmdstring}&quot; || &quot;tcsh${cmdstring}&quot;;\n</code></pre>\n<h1>run_client.csh</h1>\n<pre><code>#!/usr/local/bin/tcsh \n# Wrapper to execute in tcsh with .cshrc environment vars\necho home ~/\necho pid $$\n./setup.pl  $1\necho home ~/\necho pid $$\n</code></pre>\n<h1>groovy script:</h1>\n<pre><code>pipeline {\n    agent any\n    stages {\n        stage('login') {\n            steps {\n                sh &quot;$HOME/run_client.csh ${params.EDAWORKSPACE}&quot;\n\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am looking for a way to return control flow after the tcsh is executed.</p>\n<p>Current output is:</p>\n<pre><code>1. home /home/me/\n2. pid 6768\n3. Running perl\n4. home /home/me/\n5. pid 6768\n6. [no change to env]\n</code></pre>\n"}, {"tags": ["perl", "ubuntu"], "comments": [{"owner": {"reputation": 21, "user_id": 6919422, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Yb4k5w6XBGg/AAAAAAAAAAI/AAAAAAAAAMo/UuO50qjOEn4/photo.jpg?sz=128", "display_name": "Arun Ravi", "link": "https://stackoverflow.com/users/6919422/arun-ravi"}, "edited": false, "score": 0, "creation_date": 1565237174, "post_id": 57405059, "comment_id": 101291274, "body": "Do I need to install forcefully? will it work without any issue?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1565247100, "post_id": 57405059, "comment_id": 101294323, "body": "I tried this on Ubuntu 19.04, and also got failed tests. Specifically <code>op&#47;range.t</code> is failing. Which OS are you on? According to <a href=\"https://github.com/bingos/devel-patchperl/issues/23\" rel=\"nofollow noreferrer\">this issue</a> for <code>devel-patchperl</code>, it is related to <code>gcc</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1565258924, "post_id": 57405059, "comment_id": 101300515, "body": "Could you show the failing test (not just the summary)"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 3, "last_activity_date": 1565250211, "creation_date": 1565250211, "answer_id": 57407598, "question_id": 57405059, "link": "https://stackoverflow.com/questions/57405059/how-can-i-install-perl-5-10-1-in-ubuntu-18-04-lts/57407598#57407598", "title": "How can i install perl 5.10.1 in ubuntu 18.04 LTS?", "body": "<p>If you update the <code>patchperl</code> component of your <code>perlbrew</code> to the latest version, it should work. See <a href=\"https://github.com/bingos/devel-patchperl/issues/23\" rel=\"nofollow noreferrer\">this issue</a> for more information. Try this:</p>\n\n<pre><code>$ perlbrew install-patchperl  # &lt;-- install latest version of patchperl\n$ perlbrew install perl-5.10.1\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6919422, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Yb4k5w6XBGg/AAAAAAAAAAI/AAAAAAAAAMo/UuO50qjOEn4/photo.jpg?sz=128", "display_name": "Arun Ravi", "link": "https://stackoverflow.com/users/6919422/arun-ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565250211, "creation_date": 1565237101, "last_edit_date": 1565242110, "question_id": 57405059, "link": "https://stackoverflow.com/questions/57405059/how-can-i-install-perl-5-10-1-in-ubuntu-18-04-lts", "title": "How can i install perl 5.10.1 in ubuntu 18.04 LTS?", "body": "<p>I am not able to install Perl 5.10.1 in ubuntu 18.04. I am trying to install it via perlbrew but I am getting some error.</p>\n\n<pre><code>perlbrew install perl-5.10.1\n\napt-get install perlbrew\nperlbrew init\nperlbrew install perl-5.10.1\nperlbrew use perl-5.10.1\n</code></pre>\n\n<p>I have to downgrade the Perl version since I am in need of these for my applications backend</p>\n\n<pre><code>*Error Message:\nTest Summary Report\n-------------------\nmakefile:850: recipe for target '_test_tty' failed\nmake[2]: *** [_test_tty] Error 255\nmake[2]: Leaving directory '/root/perl5/perlbrew/build/perl-5.10.1/perl-5.10.1'\nmakefile:864: recipe for target '_test' failed\nmake[1]: *** [_test] Error 2\nmake[1]: Leaving directory '/root/perl5/perlbrew/build/perl-5.10.1/perl-5.10.1'\nmakefile:967: recipe for target 'test_harness' failed\nmake: *** [test_harness] Error 2\n##### Brew Failed #####*\n</code></pre>\n"}]