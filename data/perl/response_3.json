[{"tags": ["javascript", "perl", "websocket", "mojolicious", "mojolicious-lite"], "answers": [{"comments": [{"owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "edited": false, "score": 0, "creation_date": 1422525602, "post_id": 28206740, "comment_id": 44787609, "body": "Thank you.  That makes sense."}], "tags": [], "owner": {"reputation": 574431, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 3, "last_activity_date": 1422568572, "last_edit_date": 1422568572, "creation_date": 1422503611, "answer_id": 28206740, "question_id": 28204720, "link": "https://stackoverflow.com/questions/28204720/mojolicious-should-i-use-one-websocket-or-several/28206740#28206740", "title": "Mojolicious: should I use one websocket or several?", "body": "<p>An Ajax call is an efficient way for a client to request some specific information from a server in a one-shot type of approach.</p>\n\n<p>A webSocket is best for a situation where you're doing rapid fire communication from client to server (so many requests that you benefit from a persistent connection) or when you want the server to be able to send data to the client at will (since you have to have a persistent connection to send data from server directly to client).</p>\n\n<p>Using a one-shot webSocket (where you create the webSocket, use it and then close it) for an occasional request of data from client to server is not the most optimal way to do things because there is additional overhead to setting up the webSocket that is not present in the ajax call as the two ends negotiate whether both sides support webSockets and agree to change the protocol from http to webSocket.</p>\n\n<p>A one-shot webSocket connection would look like this:</p>\n\n<ol>\n<li>client establishes TCP socket to server</li>\n<li>client sends initial HTTP request with webSocket upgrade headers</li>\n<li>server responds that it is OK to upgrade to webSocket protocol</li>\n<li>client sends message</li>\n<li>server receives message and sends response</li>\n<li>client receives response</li>\n<li>client closes TCP connection</li>\n</ol>\n\n<p>An Ajax call would look like this:</p>\n\n<ol>\n<li>client establishes TCP socket to server</li>\n<li>client sends HTTP request to server</li>\n<li>server receives request and sends response</li>\n<li>client receives response</li>\n<li>client closes connection</li>\n</ol>\n\n<p>And, when coding in the browser, the Ajax call is automatically closed (since it is designed for one-shot requests) so the client doesn't even have to code that last step.</p>\n\n<hr>\n\n<p>So, if you're just requesting some information from the server upon an end-user click, then it seems likely that an Ajax call is a more efficient approach (and simpler to implement).</p>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "is_accepted": false, "score": 1, "last_activity_date": 1422632291, "last_edit_date": 1495541725, "creation_date": 1422632291, "answer_id": 28239392, "question_id": 28204720, "link": "https://stackoverflow.com/questions/28204720/mojolicious-should-i-use-one-websocket-or-several/28239392#28239392", "title": "Mojolicious: should I use one websocket or several?", "body": "<p>Having read around the subject a bit more, and toyed with the code, I conclude the following:</p>\n\n<ol>\n<li>It depends what you're trying to do.  As ever.</li>\n<li>Ajax is probably good for one-shot messages, as jfriend00 says.</li>\n<li>For my needs, it's going to be better to use a single persistent websocket.  It cuts down on code repetition, but means I'll have to invent a simple command/response sequence of my own for dealing with the messages.</li>\n</ol>\n\n<p>To make sure the websocket stays open, I've adapted <a href=\"https://stackoverflow.com/questions/19691996/nodejs-websocket-how-to-reconnect-when-server-restarts\" title=\"answer\">John Henry's idea</a>.</p>\n"}], "owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 2, "accepted_answer_id": 28206740, "answer_count": 2, "score": 2, "last_activity_date": 1422632291, "creation_date": 1422489493, "question_id": 28204720, "link": "https://stackoverflow.com/questions/28204720/mojolicious-should-i-use-one-websocket-or-several", "title": "Mojolicious: should I use one websocket or several?", "body": "<p>I'm teaching myself about Mojolicious and websockets.  So far I've got a web page that displays rows from a database, and has buttons to add, delete, and update rows, and to select columns for sorting.</p>\n\n<p>At the moment, it uses 'one-shot' websockets in the javascript 'onclick' handlers for each button, and that works.</p>\n\n<p>Would it be more in-keeping with the intention of websockets, for the sockets to be kept alive and used for multiple clicks?  I think the answer should be 'yes', because otherwise it will get messy if the user clicks a button several times quickly.</p>\n\n<p>And, as a question of style, should I just have one websocket that handles different types of interaction between browser and server, or separate websockets for each type?  Having one websocket would require code to analyse the messages and decide what to do about them.  Whereas several websockets would each be simpler, but that would require repetition of error-handling code etc.</p>\n\n<p>I know that's a wordy and philosophical question, but I want to get overall shape of the application right before I develop it further.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1422499264, "post_id": 28203320, "comment_id": 44777836, "body": "Rule of thumb: the sigil (the <code>$%@</code> part of a variable) corresponds to what part of the variable you&#39;re working with.  It&#39;s <code>$foo{key}</code> and <code>$bar[23]</code> because you&#39;re accessing a single value, even though the variables are <code>%foo</code> and <code>@bar</code>. Not the best design, but at least there&#39;s a rule."}], "answers": [{"comments": [{"owner": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "edited": false, "score": 0, "creation_date": 1422520763, "post_id": 28203491, "comment_id": 44784966, "body": "thank you for the answer. The reason why I did return $self was in order to get the keys and the values of the object, instead of having getter/setter methods for each object property. But I agree, a more correct way would be using getters/setters or returning %pairs."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "edited": false, "score": 1, "creation_date": 1422524946, "post_id": 28203491, "comment_id": 44787186, "body": "Thing is - OO imposes an overhead on your coding style. That overhead isn&#39;t <i>always</i> a price worth paying. The reason we do OO at all is not because of efficiency, but because it makes code more robust and easier to troubleshoot, because problems are almost always within either the object or whatever is manipulating the object. This is a useful advantage, which is why OO is popular, but it only exists as long as we maintain the OO paradigm - if you mix and match, you get worst of both worlds. Some languages don&#39;t even allow you to do that - Perl does, but it remains bad style."}, {"owner": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "edited": false, "score": 1, "creation_date": 1422546442, "post_id": 28203491, "comment_id": 44800873, "body": "I agree, it&#39;s been more than 10 since I did Perl the last time, I&#39;ve been working with a ton of other languages in the mean time, but thanks for the answer :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1422483913, "last_edit_date": 1422483913, "creation_date": 1422483400, "answer_id": 28203491, "question_id": 28203320, "link": "https://stackoverflow.com/questions/28203320/perl-using-a-hash-as-a-reference-is-deprecated-when-used-with-package/28203491#28203491", "title": "Perl Using a hash as a reference is deprecated when used with package", "body": "<p>I think you're getting mixed up between <em>objects</em> and <em>hashes</em>. <code>get_fields</code> will return <code>$self</code> - which whilst I can't tell for certain, looks like it'll be returning a blessed object. </p>\n\n<p>Now, blessed objects are quite similar to hashes, but they're not the same. You can test the difference with the <code>ref</code> function. </p>\n\n<p>So the question is more - <em>why</em> are you doing this? Why are you trying to cast an object reference into a hash? Because that's what you're doing with:</p>\n\n<pre><code>my %fields = %{ $news-&gt;get_fields };\n</code></pre>\n\n<p>Because pretty fundamentally - even if that worked, it would be a horrible thing to do. The point, purpose and reason for objects is encapsulation - e.g. things <em>outside</em> the module don't meddle with stuff <em>inside</em>. </p>\n\n<p>So why not instead have <code>get_fields</code> return a list of fields, which you can then iterate on and make method calls? This would really be the 'right' way to do something like this. </p>\n\n<pre><code>sub get_fields {\n    my ( $self ) = @_;\n    return keys %$self; \n}\n</code></pre>\n\n<p>Or if you <em>really</em> must, embed a method within your object that returns as hash - rather than an object reference - that you can then manipulate externally. </p>\n\n<p>Generally - you don't refer to hashes with a <code>%</code> prefix, unless you're manipulating the whole hash.</p>\n\n<p>To extract a single element from <code>%pairs</code> you <em>should</em> do:</p>\n\n<pre><code>foreach my $key ( keys %pairs ) { \n    print $pairs{$key},\"\\n\";\n}\n</code></pre>\n\n<p>If the contents of <code>$pairs{$key}</code> is a reference, then you can use the <code>-&gt;</code> to indicate that you should dereference, e.g. <code>$pairs -&gt; {$key}</code>. </p>\n"}], "owner": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422483913, "creation_date": 1422482723, "question_id": 28203320, "link": "https://stackoverflow.com/questions/28203320/perl-using-a-hash-as-a-reference-is-deprecated-when-used-with-package", "title": "Perl Using a hash as a reference is deprecated when used with package", "body": "<p>I have a module called News (original name, I know) with a method called get_fields, this method returns all the fields that belong to the module like this </p>\n\n<pre><code>sub get_fields {\n  my $self = shift;\n\n  return $self;\n} \n</code></pre>\n\n<p>Now when I call it like this in a different module where I need to do stuff to the fields</p>\n\n<pre><code>my %fields = %{ $news-&gt;get_fields };\n</code></pre>\n\n<p>I discovered doing it like this prevented this issue</p>\n\n<blockquote>\n  <p>Type of argument to keys on reference must be unblessed hashref or\n  arrayref</p>\n</blockquote>\n\n<p>when I iterate other fields like this</p>\n\n<pre><code>foreach my $key ( keys %fields ) {\n  %pairs-&gt;{$key} = %fields-&gt;{$key} if %fields-&gt;{$key};\n}\n</code></pre>\n\n<p>in order to use the values of the fields, I get this warning</p>\n\n<blockquote>\n  <p>Using a hash as a reference is deprecated</p>\n</blockquote>\n\n<p>which is pointing back to the foreach loop.</p>\n\n<p>How can I avoid this error message without getting the unbless warning back?</p>\n"}, {"tags": ["perl", "xpath", "libxml2"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1422482559, "post_id": 28203151, "comment_id": 44772602, "body": "How is <code>$newId</code> populated? Also - are you using <code>strict</code> and <code>warnings</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 20027, "user_id": 1987598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/s3j3n.jpg?s=128&g=1", "display_name": "Mathias M&#252;ller", "link": "https://stackoverflow.com/users/1987598/mathias-m%c3%bcller"}, "is_accepted": true, "score": 3, "last_activity_date": 1422485632, "last_edit_date": 1422485632, "creation_date": 1422483503, "answer_id": 28203516, "question_id": 28203151, "link": "https://stackoverflow.com/questions/28203151/libxml-findnodesquery/28203516#28203516", "title": "LibXML findnodes($query)", "body": "<p>Your input XML document is in a <em>default namespace</em>:</p>\n\n<pre><code>&lt;notizie xmlns=\"http://www.9armonie.com/news\"/&gt;\n</code></pre>\n\n<p>This element and all its descendants are in that namespace, and an expression like <code>//notizie</code> will never be successful because it looks for an element without a namespace.</p>\n\n<p>On the other hand, that's also why <code>/*/*</code> returns the elements - because <code>*</code> matches elements in any (or no) namespace. There is nothing funny about it really.</p>\n\n<p>Either declare this namespace in your Perl code (the better option), or ignore namespaces in your XPath expression.</p>\n\n<p><strong>Declaring the namespace with LibXML</strong></p>\n\n<p>I believe declaring namespaces in LibXML is done with <code>registerNs()</code>, see the <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0117/lib/XML/LibXML/XPathContext.pod#Namespaces\" rel=\"nofollow\">relevant CPAN page</a>. Declare the namespace URI from the input XML together with a <em>prefix</em> (<code>news:</code>, in this example) that you can then use to qualify the element names in the XPath expression.</p>\n\n<pre><code>my $xpc = XML::LibXML::XPathContext-&gt;new($doc);\n$xpc-&gt;registerNs('news', 'http://www.9armonie.com/news');\nmy $query = '/news:notizie/news:news[@id='.$newsId.']';\nmy $node = $xpc-&gt;findnodes($query)-&gt;get_node(1);\n</code></pre>\n\n<p><strong>Ignoring namespaces</strong></p>\n\n<p>The second option means modifying your XPath expression to</p>\n\n<pre><code>\"/*[local-name() = 'notizie']/*[local-name() = 'news' and @id='.$newsId.']\"\n</code></pre>\n\n<p>The above expression will find the <code>notizie</code> element in all of the following documents:</p>\n\n<pre><code>&lt;!--No namespace--&gt;\n&lt;notizie/&gt;\n\n&lt;!--Namespace with prefix--&gt;\n&lt;news:notizie xmlns:news=\"http://www.9armonie.com/news\"/&gt;\n\n\n&lt;!--Default namespace--&gt;\n&lt;notizie xmlns=\"http://www.9armonie.com/news\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 2989242, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df1cdd7d32ff1b9ba2bb881cf2930c60?s=128&d=identicon&r=PG&f=1", "display_name": "gmanzoli", "link": "https://stackoverflow.com/users/2989242/gmanzoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 28203516, "answer_count": 1, "score": 2, "last_activity_date": 1422485632, "creation_date": 1422482079, "question_id": 28203151, "link": "https://stackoverflow.com/questions/28203151/libxml-findnodesquery", "title": "LibXML findnodes($query)", "body": "<p>I'm having some trouble with this code:</p>\n\n<pre><code>my $file= '../xml/news.xml';\nmy $parser= XML::LibXML-&gt;new();\nmy $doc = $parser-&gt;parse_file($file);\nmy $xpc = XML::LibXML::XPathContext-&gt;new($doc);\nmy $query = '/notizie/news[@id='.$newsId.']';\nprint $query;\nmy $node = $xpc-&gt;findnodes($query)-&gt;get_node(1);\n\nprint $node;\n</code></pre>\n\n<p>In particular \"print $node\" prints an empty string, even if the XML file path is correct and the XPath query should return a node.</p>\n\n<p>The \"funny\" thing is that if i use:</p>\n\n<pre><code>my $query = '/*/*[@id='.$newsId.']'; \n</code></pre>\n\n<p>i got the right result.</p>\n\n<p>This is the news.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;notizie xmlns=\"http://www.9armonie.com/news\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://www.9armonie.com/news news.xsd\"&gt;\n    &lt;news id=\"3\"&gt;\n        &lt;data&gt;2015-01-01&lt;/data&gt;\n        &lt;ora&gt;12:00:00&lt;/ora&gt;\n        &lt;titolo&gt;Title 3&lt;/titolo&gt;\n        &lt;descrizione&gt; Description 3&lt;/descrizione&gt;\n    &lt;/news&gt;     \n    &lt;news id=\"2\"&gt;\n        &lt;data&gt;2014-12-19&lt;/data&gt;\n        &lt;ora&gt;12:00:00&lt;/ora&gt;\n        &lt;titolo&gt;Title 2&lt;/titolo&gt;\n        &lt;descrizione&gt; Description 2&lt;/descrizione&gt;\n    &lt;/news&gt;\n    &lt;news id=\"1\"&gt;\n        &lt;data&gt;2014-12-18&lt;/data&gt;\n        &lt;ora&gt;12:00:00&lt;/ora&gt;\n        &lt;titolo&gt;News 1&lt;/titolo&gt;\n        &lt;descrizione&gt; Desc 1&lt;/descrizione&gt;\n    &lt;/news&gt;\n    &lt;news id=\"0\"&gt;\n        &lt;data&gt;2014-12-18&lt;/data&gt;\n        &lt;ora&gt;12:00:00&lt;/ora&gt;\n        &lt;titolo&gt; asdasd&lt;/titolo&gt;\n        &lt;descrizione&gt; First! &lt;/descrizione&gt;\n    &lt;/news&gt;\n&lt;/notizie&gt;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1422477541, "post_id": 28201940, "comment_id": 44770080, "body": "Your same code is invalid syntax, it&#39;s missing quotes."}, {"owner": {"reputation": 347, "user_id": 3791546, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/05ae7bc65dfb648d4e6e02b3f31e82d8?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Miller", "link": "https://stackoverflow.com/users/3791546/evan-miller"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1422477933, "post_id": 28201940, "comment_id": 44770274, "body": "My mistake, I fixed it now"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1422478831, "post_id": 28201940, "comment_id": 44770732, "body": "You don&#39;t need to parse the dates if the array is in chronological order.  Is it?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1422479137, "post_id": 28201940, "comment_id": 44770892, "body": "@stark: the second Test Activation record preceeds the first in temporal order; the list in the array is not in chronological order, it seems."}, {"owner": {"reputation": 347, "user_id": 3791546, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/05ae7bc65dfb648d4e6e02b3f31e82d8?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Miller", "link": "https://stackoverflow.com/users/3791546/evan-miller"}, "edited": false, "score": 0, "creation_date": 1422479407, "post_id": 28201940, "comment_id": 44771022, "body": "It is not in chronological order"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1422480327, "post_id": 28201940, "comment_id": 44771468, "body": "You could have your life made easier for you if the timestamp was presented in ISO 8601 format: <code>2015-01-14 12:06:14 -08:00</code> (or in UTC: <code>2015-01-14 20:06:14Z</code>).  For a uniform time zone, both those sort into time order using regular lexicographic sorting.  If you have different time zones, you need to map to UTC, but the parsing of the ISO 8601 format is arguably easier even for that -- not least because the time zone offset is unambiguous."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1422479469, "last_edit_date": 1422479469, "creation_date": 1422478380, "answer_id": 28202182, "question_id": 28201940, "link": "https://stackoverflow.com/questions/28201940/sort-string-date-by-most-current-date-in-perl/28202182#28202182", "title": "Sort string + date by most current date in Perl", "body": "<p>There's several options to parse and compare the dates.  Simplest is to use the built in <a href=\"http://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a>.  Use <a href=\"https://metacpan.org/pod/Time::Piece#Date-Parsing\" rel=\"nofollow\">strptime</a> for parsing and compare with <code>$time-&gt;epoch</code>.</p>\n\n<p>Unfortunately for you, <a href=\"https://en.wikipedia.org/wiki/List_of_time_zone_abbreviations\" rel=\"nofollow\">abbreviated time zone names are ambiguous</a>. PST can mean US Pacific Standard Time or Philippine Standard Time.  This may cause strptime's %Z format to choke, YMMV.  From my strptime man page...</p>\n\n<blockquote>\n  <p>The %Z format specifier only accepts time zone abbreviations of the local time zone, or the value \"GMT\".  This limitation is because of ambiguity due to of the over loading of time zone abbreviations.  One such example is EST which is both Eastern Standard Time and Eastern Australia Summer Time.</p>\n</blockquote>\n\n<p>You may need to pre-process the date formats and convert them to time zone offsets.  You can use <a href=\"http://metacpan.org/pod/Time::Zone\" rel=\"nofollow\">Time::Zone</a> for this and its distinctly North American slant.</p>\n\n<pre><code>use Time::Zone;\nuse Time::Piece;\n\nmy $offset = sprintf \"%+d\", (tz_offset(\"PST\") / 60 / 60);\n\nmy $time = Time::Piece-&gt;strptime(\n    \"Wed 12 Jan 2015 09:19:14 AM $offset\",\n    \"%a %d %b %Y %I:%M:%S %p %z\"\n);\nprint $time-&gt;datetime, \"\\n\";\nprint $time-&gt;epoch, \"\\n\";\n</code></pre>\n\n<p>But try %Z first and see if it works.</p>\n\n<p>Extracting the dates is also left as an exercise.</p>\n"}], "owner": {"reputation": 347, "user_id": 3791546, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/05ae7bc65dfb648d4e6e02b3f31e82d8?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Miller", "link": "https://stackoverflow.com/users/3791546/evan-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 28202182, "answer_count": 1, "score": 0, "last_activity_date": 1422479469, "creation_date": 1422477404, "last_edit_date": 1422477916, "question_id": 28201940, "link": "https://stackoverflow.com/questions/28201940/sort-string-date-by-most-current-date-in-perl", "title": "Sort string + date by most current date in Perl", "body": "<p>I have an array:</p>\n\n<pre><code>my @array = ( \"\\\"Passing\\\" on Wed 12 Jan 2015 09:19:14 AM PST\", \n              \"\\\"Passing\\\" on Wed 12 Jan 2015 09:19:25 AM PST\", \n              \"\\\"Test Activation\\\" on Tues 14 Jan 2015 12:05:14 PM PST\", \n              \"\\\"Run Phase\\\" on Tues 14 Jan 2015 12:06:14 PM PST\",\n              \"\\\"Test Activation\\\" on Tues 13 Jan 2015 11:43:12 PM PST\")\n</code></pre>\n\n<p>I want to remove the duplicate string line BUT keep the one that is most recent. So I want it to look like: </p>\n\n<pre><code>       my @array = (\"\\\"Passing\\\" on Wed 12 Jan 2015 09:19:25 AM PST\", \n                   \"\\\"Test Activation\\\" on Tues 14 Jan 2015 12:05:14 PM PST\", \n                   \"\\\"Run Phase\\\" on Tues 14 Jan 2015 12:06:14 PM PST\")\n</code></pre>\n\n<p>I can't think of an easy way to do this... I was thinking about using some regex to compare the strings ( /\\\".*\\\"/ ) and have it remove duplicates it finds, but I'm not sure how to deal with the date/time. </p>\n\n<p>Any suggestions are most welcome!</p>\n"}, {"tags": ["windows", "perl", "tk", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422475993, "post_id": 28201312, "comment_id": 44769169, "body": "I found that file and I can&#39;t execute it. I double click it and no response"}, {"owner": {"reputation": 11, "user_id": 3715425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e6aa9963467f6d3cd35aa2b0fb5821?s=128&d=identicon&r=PG&f=1", "display_name": "Karlyr", "link": "https://stackoverflow.com/users/3715425/karlyr"}, "reply_to_user": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422476609, "post_id": 28201312, "comment_id": 44769522, "body": "Sorry, incomplete response from me. Try the edit that I just made."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1422477052, "post_id": 28201312, "comment_id": 44769787, "body": "PPM is not really an option for the poor guy.  Check out <a href=\"http://code.activestate.com/ppm/Tk/\" rel=\"nofollow noreferrer\">code.activestate.com/ppm/Tk</a> .  If he wants Tk, he&#39;ll have to do it the hard way.  The folks at ActiveState have been pushing Tkx. I think it&#39;s better for new work, but can be a grind translating older programs."}], "tags": [], "owner": {"reputation": 11, "user_id": 3715425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e6aa9963467f6d3cd35aa2b0fb5821?s=128&d=identicon&r=PG&f=1", "display_name": "Karlyr", "link": "https://stackoverflow.com/users/3715425/karlyr"}, "is_accepted": false, "score": 0, "last_activity_date": 1422476882, "last_edit_date": 1422476882, "creation_date": 1422475298, "answer_id": 28201312, "question_id": 28200564, "link": "https://stackoverflow.com/questions/28200564/tk-installation-with-cpan/28201312#28201312", "title": "Tk installation with CPAN", "body": "<p>Have you tried running the \"Perl Package Manager\"? It's located in your Perl directory under \"bin/wperl.exe.\"</p>\n\n<p>Copy the location of the file and type this in the cmd window.</p>\n\n<p>'Location of wperl.exe' -x '\"Location of ppm.bat\"'\nExample :</p>\n\n<pre><code>C:\\Perl\\bin\\wperl.exe -x \"C:\\Perl\\bin\\ppm.bat\"\n</code></pre>\n\n<p>ppm.bat should be in the same folder.</p>\n\n<p>An easier way to launch that would be from your start menu in the \"All Programs\" section under your Perl Directory. There should be a \"Perl Package Manager\" there.</p>\n\n<p>It's basically a GUI that allows you to locate every module on the CPAN website. From there you can find Tk (which I don't know, but I assume it's <a href=\"http://search.cpan.org/dist/Tk-804.030/\" rel=\"nofollow\">http://search.cpan.org/dist/Tk-804.030/</a>).</p>\n"}, {"comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 1, "creation_date": 1451894707, "post_id": 33788903, "comment_id": 56918883, "body": "<code>perl -MCPAN -e &quot;shell&quot;</code> runs CPAN in shell mode, it doesn&#39;t install CPAN. To run this normally just type <code>cpan</code> from the command prompt. also <code>make Tk</code> and <code>test Tk</code> are redundant when the third thing you suggest is <code>install Tk</code>, which does a make test and install in one."}, {"owner": {"reputation": 9127, "user_id": 167288, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c29056d9ec0bece9dc7345a0f8d794f7?s=128&d=identicon&r=PG", "display_name": "Adem", "link": "https://stackoverflow.com/users/167288/adem"}, "edited": false, "score": 0, "creation_date": 1461144908, "post_id": 33788903, "comment_id": 61061447, "body": "this was absolutely my problem. Thanks. it works great"}], "tags": [], "owner": {"reputation": 21, "user_id": 5578240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8719042c24d296d07baaa4926605e1a2?s=128&d=identicon&r=PG", "display_name": "Alexander Vechersky", "link": "https://stackoverflow.com/users/5578240/alexander-vechersky"}, "is_accepted": false, "score": 2, "last_activity_date": 1447876974, "last_edit_date": 1447876974, "creation_date": 1447875645, "answer_id": 33788903, "question_id": 28200564, "link": "https://stackoverflow.com/questions/28200564/tk-installation-with-cpan/33788903#33788903", "title": "Tk installation with CPAN", "body": "<p>After installing CPAN module with command <strong>perl -MCPAN -e \"shell\"</strong>, \nadd path  <strong>c:\\Perl\\site\\lib\\auto\\MinGW\\bin</strong> to system PATH and restart window with CPAN console.</p>\n\n<p>Then commands '<strong>make Tk</strong>', '<strong>test Tk</strong>' and '<strong>install Tk</strong>' in CPAN console should work.  </p>\n"}], "owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3017, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1447876974, "creation_date": 1422472643, "question_id": 28200564, "link": "https://stackoverflow.com/questions/28200564/tk-installation-with-cpan", "title": "Tk installation with CPAN", "body": "<p>I want to write GUI in perl by using the Tk module. Therefore, I want to install Tk module. </p>\n\n<p>I opened a command window, and typed \"cpan Tk\". After a few minutes the run was over and then I got the following message on the command window: </p>\n\n<p>\"\"windres' is not recognized as an internal or external command, operable program or batch file. dmake.exe: Error code 129, while making 'tkres.o' dmake.exe: Error code 255, while making 'pTk\\libpTk.a' SREZIC/Tk-804.032.tar.gz C:\\Perl64\\site\\bin\\dmake.exe -- NOT OK\" </p>\n\n<p>Apparently, the installation didn't go well. I also tried to execute a perl script that contains the line \"use Tk\" and I got the following message: </p>\n\n<p>\"\"Can't locate Tk.pm in @INC (you may need to install the Tk module) \n(@INC contain s: C:/Perl64/site/lib C:/Perl64/lib .) at file.pl line 1. BEGIN failed--compilation aborted at file.pl line 1.\" </p>\n\n<p>Can you help me install Tk properly? </p>\n"}, {"tags": ["perl", "perl-module", "bigint", "perlsyn"], "comments": [{"owner": {"reputation": 10225, "user_id": 999924, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/44b219232560d6f33b5b24b80d30e43c?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/999924/dan"}, "edited": false, "score": 2, "creation_date": 1422471134, "post_id": 28199763, "comment_id": 44766429, "body": "<a href=\"http://perldoc.perl.org/perlbug.html\" rel=\"nofollow noreferrer\">Sounds like a bug.</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1422473206, "post_id": 28199763, "comment_id": 44767616, "body": "Interesting find. I would guess it&#39;s because it&#39;s no longer &#39;1&#39; and thus ignorable, and is instead a special sort of &#39;1&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422478064, "post_id": 28201310, "comment_id": 44770352, "body": "Ironically, <code>perl -MFoo -we0</code> fails when testing bigint. <code>perl -we&#39;use bigint;&#39;</code> does the same without warning."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422486397, "post_id": 28201310, "comment_id": 44774224, "body": "ah, you mean -Mbigint; yes, that is ironic.  <code>perl -MFoo -we#</code> works"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1422555317, "post_id": 28201310, "comment_id": 44806457, "body": "Boggle ... real bugs, buglets or QA issue ??"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1422558698, "post_id": 28201310, "comment_id": 44808339, "body": "@G.Cito: no, there is no bug here"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 6, "last_activity_date": 1422475292, "creation_date": 1422475292, "answer_id": 28201310, "question_id": 28199763, "link": "https://stackoverflow.com/questions/28199763/why-does-perl-warn-about-useless-constant-1-when-using-bigint/28201310#28201310", "title": "Why does Perl warn about &quot;useless constant 1&quot; when using bigint?", "body": "<p>-W instead of <code>use warnings;</code> in your module or checking modules with -c instead of <code>perl -MFoo -e0</code> can show spurious errors.  This is an example of the latter.</p>\n\n<p>When you load a module normally, it <em>isn't</em> in void context, because it is checking that the result is true.</p>\n\n<p>(Note that when I try it using 5.20.1, the -W also results in a spurious <code>overload arg '..' is invalid at /usr/share/perl/5.20/Math/BigInt.pm line 155</code>.)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1422478638, "last_edit_date": 1422478638, "creation_date": 1422477880, "answer_id": 28202062, "question_id": 28199763, "link": "https://stackoverflow.com/questions/28199763/why-does-perl-warn-about-useless-constant-1-when-using-bigint/28202062#28202062", "title": "Why does Perl warn about &quot;useless constant 1&quot; when using bigint?", "body": "<p>There are two issues at hand here.</p>\n\n<ol>\n<li>Why does <code>use bigint; 1;</code> warn in void context?</li>\n<li>Why is the constant being executed in void context in the first place?</li>\n</ol>\n\n<hr>\n\n<pre><code>$ perl -c -we'1 while sub_with_side_effects();'\n-e syntax OK\n\n$ perl -c -we'use bigint; 1 while sub_with_side_effects();'\nUseless use of a constant (1) in void context at -e line 1.\n-e syntax OK\n</code></pre>\n\n<p><strong>Why does <code>use bigint; 1;</code> warn in void context?</strong></p>\n\n<p><code>use bigint;</code> installs a callback that's called when a constant literal is encountered by the parser, and the value returned by the callback is used as the constant instead. As such, under <code>use bigint;</code>, <code>1</code> is no longer truly just a simple <code>0</code> or <code>1</code>.</p>\n\n<p>But you're not doing anything wrong, so this warning is spurious. You can work around it by using <code>()</code> or <code>undef</code> instead of <code>1</code>.</p>\n\n<pre><code>undef while sub_with_side_effects();\n</code></pre>\n\n<p>Unless I needed to use it throughout my code base, I would favour the following:</p>\n\n<pre><code>while ( sub_with_side_effects() ) { }\n</code></pre>\n\n<hr>\n\n<pre><code>$ cat Module.pm\npackage Module;\nuse bigint;\n1;\n\n$ perl -c -w Module.pm\nUseless use of a constant (1) in void context at Module.pm line 3.\nModule.pm syntax OK\n</code></pre>\n\n<p><strong>Why is the constant being executed in void context?</strong></p>\n\n<p>When Perl executes a <em>module</em>, Perl expects the module to return a scalar value, so Perl should be executing the module in scalar context.</p>\n\n<p>However, you told Perl to compile the <em>script</em> <code>Module.pm</code>. When Perl executes a script, Perl doesn't require any values to be returned, so Perl executes the script in void context.</p>\n\n<p>Using a module as a script can cause spurious warnings and errors, and so can passing <code>-W</code>. Test a module using as follows:</p>\n\n<pre><code>perl -we'use Module'\n</code></pre>\n\n<p>Actually, you shouldn't even need <code>-w</code> since you should already have <code>use warnings;</code> in the module. All you really need is</p>\n\n<pre><code>perl -e'use Module'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4446, "user_id": 7500028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf0e88580cccb9004735bcb92be952e?s=128&d=identicon&r=PG&f=1", "display_name": "Julio", "link": "https://stackoverflow.com/users/7500028/julio"}, "is_accepted": false, "score": 0, "last_activity_date": 1555071792, "creation_date": 1555071792, "answer_id": 55651555, "question_id": 28199763, "link": "https://stackoverflow.com/questions/28199763/why-does-perl-warn-about-useless-constant-1-when-using-bigint/55651555#55651555", "title": "Why does Perl warn about &quot;useless constant 1&quot; when using bigint?", "body": "<p>Just leaving here a workaround to avoid the warning: Defining a constant with value <code>1</code> before using <code>bigint</code>:</p>\n\n<pre><code>package Foo;\nuse strict;\nuse warnings;\nuse constant PACKAGE_END =&gt; 1;\nuse bigint;\n\nPACKAGE_END;\n</code></pre>\n"}], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 1, "accepted_answer_id": 28202062, "answer_count": 3, "score": 8, "last_activity_date": 1555071792, "creation_date": 1422469885, "question_id": 28199763, "link": "https://stackoverflow.com/questions/28199763/why-does-perl-warn-about-useless-constant-1-when-using-bigint", "title": "Why does Perl warn about &quot;useless constant 1&quot; when using bigint?", "body": "<p>I was writing a module as part of my application when I noticed syntax check results in warning about <em>useless use of a constant (1)</em>. Why is that?</p>\n\n<p>The constant is the obligatory <code>1</code> at the end of the module which is normally ignored by warnings as <a href=\"http://perldoc.perl.org/perldiag.html#Useless-use-of-%25s-in-void-context\"><code>perldoc perldiag</code></a> says:</p>\n\n<blockquote>\n  <p>This warning will not be issued for numerical constants equal to 0 or 1 since they are often used in statements like</p>\n\n<pre><code>1 while sub_with_side_effects();\n</code></pre>\n</blockquote>\n\n<p>(There's probably an even better source for that. After all <code>1</code> at the end of files is totally desired and not to be warned about.)</p>\n\n<p>But the warning is generated even for nearly empty modules if they <code>use bigint</code>.</p>\n\n<pre><code>package Foo;\n\nuse bigint;\n\n1;\n</code></pre>\n\n<p>For this simple file syntax check produces the following warning:</p>\n\n<pre><code>$&gt; perl -Wc Foo.pm\nUseless use of a constant (1) in void context at Foo.pm line 5.\nFoo.pm syntax OK\n</code></pre>\n\n<p>I could not find any reference to <code>bigint</code> and the warning message except <a href=\"https://stackoverflow.com/questions/27489970/put-long-hex-numbers-in-sqlite\">Put long hex numbers in sqlite</a> but this doesn't really address my issue, I think.</p>\n\n<p>My Perl is v5.14.4 on Cygwin with bigint 0.36.</p>\n"}, {"tags": ["performance", "perl", "loops", "dbi"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1422468958, "post_id": 28198928, "comment_id": 44765245, "body": "Where is the database - across a network? What is the database?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1422469220, "post_id": 28198928, "comment_id": 44765393, "body": "You can compile the regex for a bit more performance, with <code>qr</code>. (But as that&#39;s not the biggest problem, I haven&#39;t posted as an answer)"}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1422469907, "post_id": 28198928, "comment_id": 44765806, "body": "@MarkSetchell - The database is on the local machine, but that&#39;s beside the point.  I&#39;m more concerned with the sanitization routine wasting 1/3 the total processing time.  As the number of columns on the table increases the total percentage of time spent sanitizing the data goes up considerably."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1422470472, "post_id": 28198928, "comment_id": 44766120, "body": "Try using <a href=\"http://metacpan.org/pod/Devel::NYTProf\" rel=\"nofollow noreferrer\">Devel::NYTProf</a> for a finer grained profile."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1422470501, "post_id": 28198928, "comment_id": 44766136, "body": "@Sobrique The regex has no variables in it, it should already be compiled."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1422471658, "post_id": 28198928, "comment_id": 44766717, "body": "@Sobrique, Constant regex patterns in <code>qr&#47;&#47;</code>, <code>m&#47;&#47;</code> and <code>s&#47;&#47;&#47;</code> are compiled at compile-time. <code>perl -Mre=debug -c -e&#39;qr&#47;qr&#47;; m&#47;m&#47;; s&#47;s&#47;&#47;;&#39; 2&gt;&amp;1 | grep Compiling</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1422475234, "post_id": 28198928, "comment_id": 44768741, "body": "Just to make sure, what version of Perl is this?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1422472406, "last_edit_date": 1422472406, "creation_date": 1422471386, "answer_id": 28200210, "question_id": 28198928, "link": "https://stackoverflow.com/questions/28198928/perl-dbi-for-loop-killing-performance/28200210#28200210", "title": "Perl DBI - For loop killing performance?", "body": "<p>For me,</p>\n\n<ul>\n<li>The test harness plus the substitution takes 3.57 \u00b5s per element (for seven-character strings with one character in need of escaping).</li>\n<li><p>The test harness plus the loop takes 0.960 \u00b5s + 0.141 \u00b5s per element.</p></li>\n<li><p>Looping over 5 elements thus becomes 1.66 \u00b5s</p></li>\n</ul>\n\n<p>The numbers can vary in practice, but the ratio is much more in line with my expectations than what you claim. Performing a regex-based substitution is rather costly, but incrementing a counter is not, so the loop should be much cheaper than the substitution.</p>\n\n<hr>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Benchmark qw( timethese );\n\nmy %tests = (\n   'for'  =&gt; 'my $_col = our $col; our $row; for my $col (@$row) { }',\n   's///' =&gt; 'my $_col = our $col; $_col =~ s/(?=[\\\\x5C\\\\x00-\\\\x1F])/\\\\\\\\/g;',\n);\n\n$_ = 'use strict; use warnings; '.$_ for values %tests;\n\n{\n   local our $row = [('a')x1000];\n   local our $col = \"abc\\x00def\";\n   timethese(-3, \\%tests);\n}\n{\n   local our $row = [];\n   local our $col = \"abc\\x00def\";\n   timethese(-3, \\%tests);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<ul>\n<li><code>for</code> (1000 elements): 7065.42/s</li>\n<li><code>for</code> (0 elements): 1041030.65/s</li>\n<li><code>s///</code>: 284348.25/s</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1422472531, "post_id": 28200216, "comment_id": 44767213, "body": "Yep, almost exactly 18 seconds.  As for dumping: the data source is Oracle which doesn&#39;t support dumping to CSV.  In addition, the output format <i>isn&#39;t</i> CSV.  It&#39;s a string delimited format, yes, but the delimiter may be arbitrary length and may contain binary data."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 2, "creation_date": 1422473831, "post_id": 28200216, "comment_id": 44767973, "body": "@Mr.Llama If your server&#39;s CPU is three times slower than my laptop&#39;s, you might want to make an investment in server hardware.  You&#39;ll burn more time/money on optimizing this than a $300 CPU upgrade."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1422475218, "post_id": 28200216, "comment_id": 44768727, "body": "@Mr.Llama I&#39;ve updated to show why the for loop is slow and a micro-optimization for it. You should still look into a hardware upgrade."}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1422477071, "post_id": 28200216, "comment_id": 44769802, "body": "That <code>map</code> solution works like a charm!  I had tried using <code>map</code> previously but I was supplying a block which was completely negating the performance gains."}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1422548325, "post_id": 28200216, "comment_id": 44802226, "body": "Just a quick update, I got even better performance by embedding the <code>map</code> inside the <code>join</code> and using <code>s&#47;&#47;&#47;rg</code> to return the value instead of modify in place.  <code>map</code> will return the results anyways, so there&#39;s no point changing the original data.  I&#39;ve included the final result in the original question."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1422476950, "last_edit_date": 1422476950, "creation_date": 1422471404, "answer_id": 28200216, "question_id": 28198928, "link": "https://stackoverflow.com/questions/28198928/perl-dbi-for-loop-killing-performance/28200216#28200216", "title": "Perl DBI - For loop killing performance?", "body": "<p>If all you want to do is dump a table as a delimited file, let the database do it.  <a href=\"https://dev.mysql.com/doc/refman/5.6/en/select-into.html\" rel=\"nofollow\">MySQL has SELECT INTO</a> other databases have similar facilities.  This avoids the overhead of copying all the data into your program, alter it, and spit it out again.</p>\n\n<hr>\n\n<p>Another option is to do the escaping in the SELECT.  In Oracle you can use <a href=\"http://docs.oracle.com/cd/B12037_01/appdev.101/b10795/adfns_re.htm\" rel=\"nofollow\">REGEXP_REPLACE</a>.  This should do it (I may have got the details on the backslashes wrong).</p>\n\n<pre><code>REGEXP_REPLACE(column, '([^[:print:]])', '\\\\\\\\1')\n</code></pre>\n\n<p>The problem now is doing it to every column.  You don't know how many columns you have or their names, but you can find out easily enough with <code>SELECT * FROM table LIMIT 1</code> and <code>$sth-&gt;fetchrow_hashref</code> or more directly with <code>$dbh-&gt;column_info</code>.  Now you can construct a SELECT with the right number of rows and apply REGEXP_REPLACE to each of them.  This <em>may</em> be faster.  You could even do the join in the SELECT.</p>\n\n<p>You could even write a PL/SQL function to do all this for you.  This will likely be the most efficient.  Here's <a href=\"http://www.techrepublic.com/article/oracle-tip-create-functions-to-join-and-split-strings-in-sql/\" rel=\"nofollow\">an example of writing a string join function</a> that can be adapted to also do the escaping.</p>\n\n<hr>\n\n<p>As to why the empty loop is slow, <em>you're running it 50 million times</em>, though 18 seconds seems quite high.  My 2011 Macbook Pro can run it in about 6 seconds, let's verify the empty loop is the problem.  How long does this code take?</p>\n\n<pre><code>time perl -wle 'my $rows = [1..5]; for my $row (1..10_000_000) { for $col (@$rows) {} }'\n</code></pre>\n\n<p>Simply iterating 50 million times (<code>for (1..50_000_000)</code>) takes a third of the time.  So maybe there's a way to micro-optimize the inner loop.  I'll spare you, it turns out a map in void context with no block is significantly faster.</p>\n\n<pre><code>map s{(?=[\\x5C\\x00-\\x1F])}{\\\\}g, @$rows;\n</code></pre>\n\n<p>Why?  Dumping the bytecode with B::Terse tells us Perl is doing less work in the map.  Here's what the inner for loop is doing:</p>\n\n<pre><code>    UNOP (0x1234567890ab) null \n        LOGOP (0x1234567890ab) and \n            OP (0x1234567890ab) iter \n            LISTOP (0x1234567890ab) lineseq \n                COP (0x1234567890ab) nextstate \n                BINOP (0x1234567890ab) leaveloop \n                    LOOP (0x1234567890ab) enteriter \n                        OP (0x1234567890ab) null [3] \n                        UNOP (0x1234567890ab) null [147] \n                            OP (0x1234567890ab) pushmark \n                            UNOP (0x1234567890ab) rv2av [7] \n                                OP (0x1234567890ab) padsv [1] \n                        PADOP (0x1234567890ab) gv  GV (0x1234567890ab) *_ \n                    UNOP (0x1234567890ab) null \n                        LOGOP (0x1234567890ab) and \n                            OP (0x1234567890ab) iter \n                            LISTOP (0x1234567890ab) lineseq \n                                COP (0x1234567890ab) nextstate \n                                PMOP (0x1234567890ab) subst \n                                    SVOP (0x1234567890ab) const [12] PV (0x1234567890ab) \"2\" \n                                OP (0x1234567890ab) unstack \n                OP (0x1234567890ab) unstack \n</code></pre>\n\n<p>and here's the map.</p>\n\n<pre><code>    UNOP (0x1234567890ab) null \n        LOGOP (0x1234567890ab) and \n            OP (0x1234567890ab) iter \n            LISTOP (0x1234567890ab) lineseq \n                COP (0x1234567890ab) nextstate \n                LOGOP (0x1234567890ab) mapwhile [8] \n                    LISTOP (0x1234567890ab) mapstart \n                        OP (0x1234567890ab) pushmark \n                        UNOP (0x1234567890ab) null \n                            PMOP (0x1234567890ab) subst \n                                SVOP (0x1234567890ab) const [12] PV (0x1234567890ab) \"2\" \n                        UNOP (0x1234567890ab) rv2av [7] \n                            OP (0x1234567890ab) padsv [1] \n                OP (0x1234567890ab) unstack \n</code></pre>\n\n<p>Basically, the for loop has to go through the extra work of setting up a new lexical context for every iteration.  The map does not, but you can't use a block.  Interestingly, <code>s/1/2/ for @$rows</code> compiles nearly the same as <code>for (@$rows) { s/1/2/ }</code>.</p>\n"}], "owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 1, "accepted_answer_id": 28200216, "answer_count": 2, "score": 0, "last_activity_date": 1422476950, "creation_date": 1422467147, "question_id": 28198928, "link": "https://stackoverflow.com/questions/28198928/perl-dbi-for-loop-killing-performance", "title": "Perl DBI - For loop killing performance?", "body": "<p>I'm working on a perl script that uses DBI to unload data from a database table to a specific format.  I've got something working, but the performance is... lacking.</p>\n\n<p>Here's the performance critical section of the code:</p>\n\n<pre><code>while (my $row = $query-&gt;fetchrow_arrayref()) {\n    # Sanitize the columns to make sure certain characters are escaped with a backslash.\n    # The escaping is required as some binary data may be included in some columns.\n    # This must occur *before* the join() as $COLUMN_DELIM_STR may contain one of the special characters.\n    for $col (@$row) { $col =~ s/(?=[\\x5C\\x00-\\x1F])/\\\\/g; }\n\n    # Output the sanitized row\n    print join($COLUMN_DELIM_STR, @$row) . $RECORD_DELIM_STR;\n}\n</code></pre>\n\n<p>I've got a test table with 5 columns and 10 million rows.  The total unload time comes out to 90 seconds (the output is redirected to <code>/dev/null</code> so disk writes won't interfere with the benchmarks).</p>\n\n<p>After experimenting with removing chunks of code to get an idea of how they affect performance, I came to the realization that the sanitization loop accounts for a large amount of processing in time, around 30 seconds (about 1/3 the total execution time).  Settings <code>DBI_PROFILE=4</code> shows that the fetching itself takes around 45 seconds.</p>\n\n<p>Here's the kicker: removing the actual substitution step (<code>$col =~ s/(?=[\\x5C\\x00-\\x1F])/\\\\/g;</code>) only saves about 12 seconds of processing time.  That means that the do-nothing for loop (<code>for $col (@$row) { ; }</code>) incurs 18 seconds of overhead, more than the substitution itself.  (This was verified by removing the loop entirely.)</p>\n\n<p><strong>Summary:</strong></p>\n\n<ul>\n<li>The sanitization loop takes about 1/3 the total execution time, around 30 seconds for my test data.  It takes proportionately more time based on the number of columns in the source data.</li>\n<li>The substitution part of the sanitization loop (<code>$col =~ s/...//g;</code>) takes 12 seconds for my test data.</li>\n<li>The remaining 18 seconds is the for loop structure itself.</li>\n</ul>\n\n<p><strong>Question:</strong></p>\n\n<p>How do improve the performance of the sanitization step?<br>\nBonus: Why is the for loop overhead to high?</p>\n\n<p><strong>Notes:</strong></p>\n\n<ul>\n<li><p>The sanitization itself simply puts a backslash before any of the special characters.</p></li>\n<li><p>The sanitization is required and must be applied to every column before the <code>join</code> takes place.  This is a technical limitation because the <code>$COLUMN_DELIM_STR</code> may contain special characters and we need them to <em>not</em> be escaped.  In addition, the length and value of <code>$COLUMN_DELIM_STR</code> may vary between runs of the script.</p></li>\n<li><p>The number of columns can be determined in advance, but not the column names or data types.  The script has no prior knowledge of which columns may or may not contain special characters that need escaping.</p></li>\n<li><p>If there's a better way of sanitizing the column data, feel free to suggest it.  I'm open to alternate ideas.</p></li>\n</ul>\n"}, {"tags": ["perl", "text", "label", "background-color", "tk"], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 1543856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2eccaf76a51b0d67dad904995f4bd9?s=128&d=identicon&r=PG", "display_name": "tal.tzf", "link": "https://stackoverflow.com/users/1543856/tal-tzf"}, "is_accepted": false, "score": 0, "last_activity_date": 1422548972, "creation_date": 1422548972, "answer_id": 28219720, "question_id": 28198367, "link": "https://stackoverflow.com/questions/28198367/perl-tk-label-change-background-color-associate-with-textvariable/28219720#28219720", "title": "Perl Tk Label change background color associate with textvariable", "body": "<p>I would recommend using an Treads and Tread::Shared in a large scale programs in order to update the Main GUI while running an external subs.\nBut for your example this might be enough to start with.</p>\n\n<p>Here is a sample code base on your provide code:</p>\n\n<pre><code>use strict;\nuse Tk;\nour $time_tick = 1;\nour $label1;\nour $Pos_Color = 'green';\nour $Neg_Color = 'red';\nmy $mw = new MainWindow(-title =&gt; \"TTTT\",\n );\n$mw-&gt;geometry( \"400x300\" );\n\nmy $LAST1 ;\nmy $bgclr = $Pos_Color;\n$label1 = $mw-&gt;Label ( -textvariable=&gt;\\$time_tick, -fg=&gt;'White',\n-font=&gt; 'arial 20',\n-bg =&gt; $bgclr,\n);\n\n$label1-&gt;place(-x=&gt;10, -y =&gt; 65);\n\n$mw-&gt;repeat(2000,\\&amp;tick);\nMainLoop;\n\n\nsub tick {\n    $time_tick = $time_tick * -1;\n    if ($time_tick &gt; 0)\n    {\n        $label1-&gt;configure(-bg =&gt; $Pos_Color);\n    }\n    else\n    {\n        $label1-&gt;configure(-bg =&gt; $Neg_Color);  \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4373180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8821e4e1d74aa7349d62435fe5c062?s=128&d=identicon&r=PG&f=1", "display_name": "bryan lobson", "link": "https://stackoverflow.com/users/4373180/bryan-lobson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 949, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422548972, "creation_date": 1422465405, "question_id": 28198367, "link": "https://stackoverflow.com/questions/28198367/perl-tk-label-change-background-color-associate-with-textvariable", "title": "Perl Tk Label change background color associate with textvariable", "body": "<p>How to automatically change the label background color associate with textvariable?\ni.e when textvariable is positive value , background change to green. When it is  minus value, it automatically change to red. Pls advise.</p>\n\n<pre><code>use strict;\nuse Tk;\nmy $mw = new MainWindow(-title =&gt; \"TTTT\",\n );\n$mw-&gt;geometry( \"400x300\" );\n\nmy $LAST1 ;\nmy $bgclr = 'green';\nmy $label1 = $mw-&gt;Label ( -textvariable=&gt;\\$LAST1, -fg=&gt;'White',\n-font=&gt; 'arial 20',\n-bg =&gt; $bgclr,\n);\n\n$label1-&gt;place(-x=&gt;10, -y =&gt; 65);\n\n$mw-&gt;repeat(2000,\\&amp;tick);\nMainLoop;\n\n\nsub tick {\n\nmy $AA= '9.16';\nmy $sum = '235.72';\nmy $avge = (($sum + $AA) / 25);\nmy $RR = ((($AA - $avge) / $avge) *100);\n$LAST1 = $RR;\n}\n</code></pre>\n"}, {"tags": ["perl", "perl-module", "shebang"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1422461318, "post_id": 28196866, "comment_id": 44760375, "body": "I&#39;m not actually sure it matters in a module - the caller will have a shebang path defining an interpreter, and that&#39;ll be the one that gets used."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1422463115, "post_id": 28196866, "comment_id": 44761582, "body": "As the answers point out, you don&#39;t need a <code>#!</code> line in a module -- but <a href=\"http://unix.stackexchange.com/q/29608/10454\">this question</a> may be indirectly relevant."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1422463371, "post_id": 28196866, "comment_id": 44761772, "body": "Just <code>#!perl</code> is not portable.  I know it used to work on some version of MacPerl but a proper shebang contains the actual full path to the interpreter."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1422463561, "post_id": 28196866, "comment_id": 44761900, "body": "@KeithThompson The question you link to compares <code>env</code> with an absolute path.  I&#39;m not seeing anything comparing the simple <code>perl</code> command to <code>env</code>."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1422464133, "post_id": 28196866, "comment_id": 44762289, "body": "@tjd: Which is why I said it&#39;s <i>indirectly</i> relevant."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1422464264, "post_id": 28196866, "comment_id": 44762380, "body": "@tripleee: <code>#!perl</code> doesn&#39;t tell the OS how to execute the script the way <code>#!&#47;usr&#47;bin&#47;perl</code> does, but the Perl interpreter itself recognizes it. <code>#!perl</code> by itself probably isn&#39;t useful, but you can add command-line options. <code>perldoc perlrun</code> for details. But I don&#39;t think it has any effect for module files."}], "answers": [{"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 4, "last_activity_date": 1422466273, "last_edit_date": 1422466273, "creation_date": 1422462604, "answer_id": 28197419, "question_id": 28196866, "link": "https://stackoverflow.com/questions/28196866/app-distribution-right-shebang-in-the-script/28197419#28197419", "title": "App distribution: right shebang in the script", "body": "<ol>\n<li><p>A shebang line in a module is useful on *nix OSs if you've written it to be a <a href=\"http://www.masteringperl.org/category/chapters/modulinos/\" rel=\"nofollow\">Modulino</a>, which can make testing easier.</p></li>\n<li><p>A shebang line in code you don't intend to be directly executable can also be a useful hint for an editor's language support capabilities if it doesn't recognize the file extension.</p></li>\n</ol>\n\n<p>As to the instances of <code>#!perl</code>, as this isn't portable for execution, this is probably of the second variety; there for the editor.</p>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422762612, "creation_date": 1422461063, "last_edit_date": 1422762612, "question_id": 28196866, "link": "https://stackoverflow.com/questions/28196866/app-distribution-right-shebang-in-the-script", "title": "App distribution: right shebang in the script", "body": "<p>What \"shebang\" line should I use in the script of an \"App::Name\" module? \nI have searched in \"App\" modules where I have found often these two:</p>\n\n<pre><code>#!perl\n</code></pre>\n\n<p>or </p>\n\n<pre><code>#!/usr/bin/env perl\n</code></pre>\n\n<p>Is <code>#!/usr/bin/env perl</code> the better choice?</p>\n\n<hr>\n\n<p>I think I have used the wrong word, I should have said \"distribution\" instead of \"module\".</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1422458787, "post_id": 28195749, "comment_id": 44758605, "body": "Perl does a lot of stuff that exist for legacy reasons and compatibility. That doesn&#39;t mean it&#39;s a good idea to use it - both for code maintainability, but also your own sanity."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1422459020, "post_id": 28195749, "comment_id": 44758771, "body": "Indeed! One shouldn&#39;t be using either of those. Stop using globals and use lexicals like everywhere else."}, {"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1422459590, "post_id": 28195749, "comment_id": 44759170, "body": "Thanks. I will avoid using these patterns, just interested to make sense from grammar and syntax side."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422465627, "post_id": 28195749, "comment_id": 44763267, "body": "@ikegami I always appreciate being corrected. this message too."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1422465768, "post_id": 28195749, "comment_id": 44763339, "body": "Regarding your update, noone said bareword <code>FH</code> is the same thing as string literal <code>&#39;FH&#39;</code>. They&#39;re not, as you&#39;ve demonstrated and as the following demonstrates: <code>perl -E&#39;sub foo { &quot;abc&quot; } print &quot;foo&quot;.&quot;\\n&quot;.foo.&quot;\\n&quot;;&#39;</code>. A bareword simply acts as a string literal if no other meaning is found. In the particular case you are asking about, Perl checks if a bareword was provided to determine whether <code>&lt;...&gt;</code> means <code>readline(...)</code> or <code>glob(...)</code>. Updated my answer."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 4, "last_activity_date": 1422458408, "creation_date": 1422458408, "answer_id": 28195876, "question_id": 28195749, "link": "https://stackoverflow.com/questions/28195749/why-could-plain-string-be-used-as-filehandle/28195876#28195876", "title": "Why could plain string be used as filehandle?", "body": "<p>Ask perl parser,</p>\n\n<pre><code>perl -MO=Deparse -E\"open 'FH', 'somefile.txt' or die 'open failed';print &lt;FH&gt;\"\n\nuse feature 'current_sub', 'evalbytes', 'fc', 'say', 'state', 'switch', 'unicode_strings', 'unicode_eval';\ndie 'open failed' unless open *FH, 'somefile.txt';\nprint &lt;FH&gt;;\n</code></pre>\n\n<p>So it doesn't use string but typeglob after all, but I wouldn't consider that as a good practice.</p>\n"}, {"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1422463050, "post_id": 28196034, "comment_id": 44761534, "body": "This is quite strange. I was going to comment that using <code>my $x = FOO</code> will issue a bareword warning, but it did not. However, <code>my $x = foo</code> does issue the warning. That is inconsistent, presumably some legacy remnant? (Not my downvote)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1422463396, "post_id": 28196034, "comment_id": 44761789, "body": "@TLP, The warning isn&#39;t for using a bareword as a a string, but for using a lowercase bareword in general since these are reserved by Perl. At least, officially. In reality, a feature is needed to add a new name too all namespaces, lowercase or not. This warning should be abolished. It&#39;s <code>use strict;</code> that forbids barewords as strings."}, {"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1422466770, "post_id": 28196034, "comment_id": 44763942, "body": "@ikegami seems the parser recognizes bareword and has varies rules to handle it based on the specific context. In most general context, it is converted to string, and specific handling in some other context like it is the first argument for print, or inside &lt;&gt; operator. Is this right?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422469181, "post_id": 28196034, "comment_id": 44765364, "body": "Yup, exactly. And seeing how they perform the same function by default, it&#39;s best to preserve the relation in other contexts (e.g. <code>open</code>&#39;s first argument) if there&#39;s no reason to do otherwise."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1422475949, "last_edit_date": 1422475949, "creation_date": 1422458798, "answer_id": 28196034, "question_id": 28195749, "link": "https://stackoverflow.com/questions/28195749/why-could-plain-string-be-used-as-filehandle/28196034#28196034", "title": "Why could plain string be used as filehandle?", "body": "<p>The following two statements are identical (if there's no sub named <code>FOO</code>):</p>\n\n<pre><code>my $x = FOO;\nmy $x = 'FOO';\n</code></pre>\n\n<p>So, it's not really that surprising that the following are equivalent:</p>\n\n<pre><code>open FH, ...\nopen 'FH', ...\n</code></pre>\n\n<p>The same goes for</p>\n\n<pre><code>print { FH } ...\nprint { 'FH' } ...\n</code></pre>\n\n<p>and for</p>\n\n<pre><code>readline(FH)\nreadline('FH')\n</code></pre>\n\n<hr>\n\n<p>Note that the following are not equivalent</p>\n\n<pre><code>print FH ...\nprint 'FH' ...\n</code></pre>\n\n<p>because the parser specifically looks if a bareword was provided to <code>print</code> determine the meaning the arguments.</p>\n\n<pre><code>print LIST           # Prints list to selected handle\nprint BAREWORD LIST  # Prints list to specified handle\nprint { EXPR } LIST  # Prints list to specified handle\n</code></pre>\n\n<hr>\n\n<p>Note that the following are not equivalent</p>\n\n<pre><code>&lt;FH&gt;\n&lt;'FH'&gt;\n</code></pre>\n\n<p>because the parser specifically looks if a bareword is inside of <code>&lt;&gt;</code> to determine the meaning the operator.</p>\n\n<pre><code>&lt;BAREWORD&gt;   # readline(BAREWORD)\n&lt;EXPR&gt;       # glob(EXPR)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422475892, "post_id": 28197569, "comment_id": 44769102, "body": "Re &quot;How do I pass in the file handle?&quot; <code>*BAR</code>. Re &quot;There is a way by passing a reference to that type glob to scalar variable, but the syntax is obscure and rather messy.&quot; Or you could just pass the glob, whose syntax is the same as every other variable (sigil+name)."}], "tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 2, "last_activity_date": 1422463062, "creation_date": 1422463062, "answer_id": 28197569, "question_id": 28195749, "link": "https://stackoverflow.com/questions/28195749/why-could-plain-string-be-used-as-filehandle/28197569#28197569", "title": "Why could plain string be used as filehandle?", "body": "<p>That file handle isn't really a <em>bare word</em>, but a <em>type glob</em>. This has to do with how Perl stores <em>package variables</em> in a <em>symbol table</em>. I don't want to go into symbol tables and how they work, but it's the way Perl can store a reference to the open filehandle.</p>\n\n<p>There are multiple problems with using <code>open BAR...</code>. The main one is the ability to pass that <em>type glob</em> to a subroutine. Imagine a subroutine where I take an already open file, read through that file, and return the next line that matches the regular expression. How do I pass in the file handle?</p>\n\n<pre><code>my $line = grep_me ( BAR, $regex );    # That doesn't quite work.\n</code></pre>\n\n<p>There <em>is</em> a way by passing a reference to that <em>type glob</em> to scalar variable, but the syntax is obscure and rather messy.</p>\n\n<p>One of the biggest features in Perl 5 is the use of references. If you haven't used Perl references before, take a look at the <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">tutorial</a>.</p>\n\n<p>Try this program:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\n\nmy $real_file = \"...\";    # A real file with that name\n\nopen my $foo, \"&lt;\", $real_file or die $!;\nsay \"\\$foo is a $foo\";\n</code></pre>\n\n<p>This will print out something like:</p>\n\n<pre><code>$foo is a GLOB(0x7feb0c0060e8)\n</code></pre>\n\n<p>This is saying that <code>$foo</code> is a <em>reference</em> to a <em>type glob</em>. Remember I said that you could pass a <em>type glob</em> file handle to a subroutine by making a reference to it? Perl 5 already gives you that nice reference which makes passing that file handle very easy:</p>\n\n<pre><code>...\nmy $line = grep_me ( $foo, $regex );\n...\n\nsub grep_me {\n     my $fh = shift;   # The file handle\n     my $re = shift;   # The regular expression\n\n     my $line;\n     while ( $line = &lt;$fh&gt; ) {\n        last if ( $line =~ /$re/ );\n     }\n     return $line;\n}\n</code></pre>\n\n<p>There are other advantages to using a scalar reference to a file handle too:</p>\n\n<ul>\n<li>The file handle is lexically scoped, so once <code>$foo</code> goes out of scope, the file handle automatically closes.</li>\n<li>Since the file handle is lexically scoped, it's unavailable outside of the file itself. Imagine if I had a module that used a file, if I use <code>open FOO...</code>, that file handle is available to the program that uses my module. If I use <code>open my $foo...</code>, the program that uses my module can't manipulate the file without going through my module.</li>\n</ul>\n"}], "owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 1, "accepted_answer_id": 28196034, "answer_count": 3, "score": 1, "last_activity_date": 1422475949, "creation_date": 1422458109, "last_edit_date": 1422459505, "question_id": 28195749, "link": "https://stackoverflow.com/questions/28195749/why-could-plain-string-be-used-as-filehandle", "title": "Why could plain string be used as filehandle?", "body": "<p>I understand bareword could be used as filehandle as the first line below, even if it is not recommended, but it seems the second line also work. Why does plain string work as filehandle?</p>\n\n<pre><code>perl -E\"open FH, 'somefile.txt' or die 'open failed';print &lt;FH&gt;\"\nperl -E\"open 'FH', 'somefile.txt' or die 'open failed';print &lt;FH&gt;\"\n</code></pre>\n\n<p><strong>UPDATE</strong>: if bareword FH is the same as plain string 'FH', why the below line doesn't work?</p>\n\n<pre><code>perl -E\"open FH, 'somefile.txt';print &lt;'FH'&gt;\"\n</code></pre>\n"}, {"tags": ["regex", "perl", "vim", "sed"], "comments": [{"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 0, "creation_date": 1422457803, "post_id": 28195569, "comment_id": 44757928, "body": "I do not fully understand your question but why not loop over your input, use something like <code>$found = 1 if ($line =~ m&#47;findstring&#47;);</code> to check if a line has the needed string and do whatever you need to do depending on whether <code>$found</code> is set."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1422457812, "post_id": 28195569, "comment_id": 44757936, "body": "Is this file actually XML? If so, parse as XML, and don&#39;t try and regexp it."}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1422459573, "post_id": 28195569, "comment_id": 44759156, "body": "Are you looking for <code>&lt;tracker xid.*&gt;</code> anywhere in the file, or only in the first line? After that, do you want to remove the first instance of <code>&lt;isRequired&gt;.*</code>, or all of them?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1422459652, "post_id": 28195569, "comment_id": 44759229, "body": "If you can give a more detailed example of your source and expected output, I can give a perl example which parses as XML."}], "answers": [{"tags": [], "owner": {"reputation": 153428, "user_id": 813602, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e1844cebf36374d83a83c0e69003cd42?s=128&d=identicon&r=PG", "display_name": "Ingo Karkat", "link": "https://stackoverflow.com/users/813602/ingo-karkat"}, "is_accepted": false, "score": 1, "last_activity_date": 1422459389, "last_edit_date": 1495535188, "creation_date": 1422459389, "answer_id": 28196243, "question_id": 28195569, "link": "https://stackoverflow.com/questions/28195569/if-pattern-matched-in-1st-line-i-need-to-remove-the-4th-line/28196243#28196243", "title": "If Pattern matched in 1st line i need to remove the 4th line", "body": "<p>You have to match the entire set of lines. For that, note that <code>.</code> does <em>not</em> match a newline character; this must be explicitly specified via <code>\\n</code>. With that, you have multiple options:</p>\n\n<h3>Match the entire block, use capture groups to excise the line</h3>\n\n<p>The pattern is more complex, but this is the general approach:</p>\n\n<pre><code>:%s/\\(&lt;tracker xid=.*\\n\\%(.*\\n\\)\\{3}&lt;displayLines&gt;.*\\n\\)&lt;isRequired.*\\n/\\1/g\n</code></pre>\n\n<h3>Match the minimal block, delete separately</h3>\n\n<p>This just establishes a match via <code>:global</code>, then uses relative addressing to remove the line.</p>\n\n<pre><code>:g/&lt;tracker xid=.*\\n\\%(.*\\n\\)\\{3}&lt;displayLines&gt;.*/+5delete\n</code></pre>\n\n<h2>Caveats</h2>\n\n<p>Only do this if you are absolutely sure that the XML source is in a consistent, well-known format. Text editors / regular expressions are a quick and ready tool for this, but fundamentally are the <em>wrong</em> tool. Be aware of this, and don't blame the tool when something goes wrong. <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">Read more here.</a> <strong>For production-grade reliability and automation, please use an XML tool (like <em>XSL transformations</em>).</strong></p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1422459702, "creation_date": 1422459702, "answer_id": 28196374, "question_id": 28195569, "link": "https://stackoverflow.com/questions/28195569/if-pattern-matched-in-1st-line-i-need-to-remove-the-4th-line/28196374#28196374", "title": "If Pattern matched in 1st line i need to remove the 4th line", "body": "<p>When you say 'something like this' it <em>looks</em> like what you've got there is XML.  I can't say for sure, because 'something like this' covers a lot of defects. </p>\n\n<p>However if it <em>is</em> XML, it's a really bad idea to try and parse it with a regular expression. The reason being that XML is a defined data format with a quite strict specification. If everyone sticks to that spec, then all is fine and dandy. </p>\n\n<p>However, if someone is <em>assuming</em> you will handle their XML as XML, and you're not (because you're using a regular expression), what you will be creating is a brittle piece of code that at some point in the future will just randomly break for no apparent reason - because they stuck to the XML spec, but changed something in an entirely valid way. </p>\n\n<p>So assuming that it is XML, and looks 'something like' the example below - I would suggest using Perl and <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.48/Twig.pm\" rel=\"nofollow\">XML::Twig</a> to parse your data. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $xml;\n{ local $/; $xml = &lt;DATA&gt; };\n\nmy $data = XML::Twig-&gt;new( pretty_print =&gt; 'indented' )-&gt;parse($xml);\n\nforeach my $element ( $data-&gt;root-&gt;children('tracker') ) {\n    my $xid = $element-&gt;att('xid');\n    print $xid, \"\\n\";\n    foreach my $subelement ( $element-&gt;children ) {\n        if ( $subelement-&gt;name eq 'isRequired' ) {\n\n            #delete the 'isRequired' line\n            $subelement-&gt;delete;\n        }\n    }\n\n}\n\n$data-&gt;print;\n\n\n__DATA__\n&lt;xml&gt;\n&lt;tracker xid=\"tracker4795\"&gt;\n&lt;title&gt;MIC-DMI Change Requests&lt;/title&gt;\n&lt;description&gt;New tracker created &lt;/description&gt;\n&lt;dateCreated&gt;2010-05-03 15:18:10 EST&lt;/dateCreated&gt;\n&lt;displayLines&gt;1&lt;/displayLines&gt;\n&lt;isRequired&gt;false&lt;/isRequired&gt;\n&lt;/tracker&gt;\n&lt;/xml&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7851, "user_id": 1390430, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5816e6bbc741b4ae175b3f932f08d641?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1390430/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1422461331, "creation_date": 1422461331, "answer_id": 28196965, "question_id": 28195569, "link": "https://stackoverflow.com/questions/28195569/if-pattern-matched-in-1st-line-i-need-to-remove-the-4th-line/28196965#28196965", "title": "If Pattern matched in 1st line i need to remove the 4th line", "body": "<p>If you know the input is in the example format (with only one open-tag per line, and all tracker tags contain a displaylines and isrequired tag), or you can force it to that format, then I think a search-and-replace is too unwieldy, and full XML parsing is \"correct\" but way more complicated than you need, and you should try a simpler method with the <code>:g</code> command:</p>\n\n<pre><code>:g#&lt;tracker xid#/&lt;displayLine/d\n</code></pre>\n\n<p>This just searches for lines matching \"&lt;tracker xid\", then deletes the next line after that matching \"&lt;displayLine\"</p>\n\n<p>Thus you don't need a specific number of lines in between \"&lt;tracker\" and \"&lt;displayLine\" so it is more robust to variances in line offsets, but it is still quite fragile to format changes.</p>\n\n<p><strong>However</strong>, I repeat the warnings from others: if the format is not easily and consistently predictable then I'd suggest parsing the file line by line in a loop, or using a real XML parser (possibly using Vim's Perl or Python integration), rather than using an <code>:s</code> or <code>:g</code> command.</p>\n"}], "owner": {"reputation": 41, "user_id": 3264858, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/100001285989012/picture?type=large", "display_name": "user3264858", "link": "https://stackoverflow.com/users/3264858/user3264858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1422461331, "creation_date": 1422457587, "last_edit_date": 1422458032, "question_id": 28195569, "link": "https://stackoverflow.com/questions/28195569/if-pattern-matched-in-1st-line-i-need-to-remove-the-4th-line", "title": "If Pattern matched in 1st line i need to remove the 4th line", "body": "<p>Friends,</p>\n\n<p>I need some help in regex pattern match and replace </p>\n\n<p>I usually use <code>%s/findstring/replacestring/g</code> for the pattern match and replace in same line </p>\n\n<p>But if my file is some thing like this </p>\n\n<pre><code>&lt;tracker xid=\"tracker4795\"&gt;\n&lt;title&gt;MIC-DMI Change Requests&lt;/title&gt;\n&lt;description&gt;New tracker created &lt;/description&gt;\n&lt;dateCreated&gt;2010-05-03 15:18:10 EST&lt;/dateCreated&gt;\n&lt;displayLines&gt;1&lt;/displayLines&gt;\n&lt;isRequired&gt;false&lt;/isRequired&gt;\n</code></pre>\n\n<p>I need to pattern match the <code>&lt;tracker xid.*&gt;</code> and escape all the lines until it match <code>&lt;displayLine.*&gt;</code> again if these match both the pattern i need to remove the\n<code>&lt;isRequired&gt;.*</code></p>\n\n<p>Something like if pattern matched in both 4th and 6th line remove the 7th line \nKindly throw some light on how to achieve this</p>\n"}, {"tags": ["perl", "hash", "reference", "module"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1422457454, "post_id": 28195323, "comment_id": 44757677, "body": "What @dgw wrote or, <code>$self-&gt;{_mapping}{$mapType}-&gt;($self);</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1422457658, "post_id": 28195323, "comment_id": 44757820, "body": "That <code>uninitialized value</code> is a big alarm bell to me - looks like <code>self</code> is undefined. I <i>think</i> that&#39;ll be because you&#39;re <code>mapping</code> a reference to a sub, rather than an OO call."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4503320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832b912e7d9de61e2a348415874346fd?s=128&d=identicon&r=PG&f=1", "display_name": "Klaus Pedersen", "link": "https://stackoverflow.com/users/4503320/klaus-pedersen"}, "edited": false, "score": 0, "creation_date": 1422458472, "post_id": 28195530, "comment_id": 44758355, "body": "Tested and it works perfectly. Thank you very much for the example and explanation!"}], "tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": true, "score": 2, "last_activity_date": 1422457488, "creation_date": 1422457488, "answer_id": 28195530, "question_id": 28195323, "link": "https://stackoverflow.com/questions/28195323/hash-of-ref-functions-inside-perl-module/28195530#28195530", "title": "Hash of ref functions inside Perl module", "body": "<p>If you change your mapping setup from </p>\n\n<pre><code>sub createMapping {\n    my $self = shift;\n\n    my %mapping = ( 'mapping.1' =&gt; \\&amp;My::Test::handler1,\n                    'mapping.2' =&gt; \\&amp;My::Test::handler2,\n                    'mapping.3' =&gt; \\&amp;My::Test::handler3, );\n\n    $self-&gt;{_mapping} = \\%mapping;\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>sub createMapping {\n    my $self = shift;\n\n    my %mapping = ( 'mapping.1' =&gt; sub { $self-&gt;handler1 } ,\n                    'mapping.2' =&gt; sub { $self-&gt;handler2 } ,\n                    'mapping.3' =&gt; sub { $self-&gt;handler3 } );\n\n    $self-&gt;{_mapping} = \\%mapping;\n}\n</code></pre>\n\n<p>your test script will work. </p>\n\n<p>The <code>&amp;My::Test::handler1</code> will call the <code>handler1</code> as simple function, not as object methods.</p>\n"}], "owner": {"reputation": 13, "user_id": 4503320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832b912e7d9de61e2a348415874346fd?s=128&d=identicon&r=PG&f=1", "display_name": "Klaus Pedersen", "link": "https://stackoverflow.com/users/4503320/klaus-pedersen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 28195530, "answer_count": 1, "score": 1, "last_activity_date": 1422457488, "creation_date": 1422456946, "question_id": 28195323, "link": "https://stackoverflow.com/questions/28195323/hash-of-ref-functions-inside-perl-module", "title": "Hash of ref functions inside Perl module", "body": "<p>I am trying to write a module that should be able to invoke specific methods depending on the content of a variable. I decided to use a hash mapping these names to function references. I have written some proof-of-concept code to see whether this would work, and I bumped into some problems along the way.</p>\n\n<p>I am having problems with the reference function calls not being able to access my $self->... data members.</p>\n\n<p>Below is the actual copy-paste proof-of-concept example to display the problem I experience.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\npackage My::Test;\n\nsub new {\n    my $class = shift;\n    my $self = {};\n\n    $self-&gt;{_currentType} = undef;\n    $self-&gt;{_currentData} = undef;\n    $self-&gt;{_mapping} = undef;\n\n    return bless $self, $class;\n}\n\n# Setup the mapping\nsub createMapping {\n    my $self = shift;\n\n    my %mapping = ( 'mapping.1' =&gt; \\&amp;My::Test::handler1,\n                    'mapping.2' =&gt; \\&amp;My::Test::handler2,\n                    'mapping.3' =&gt; \\&amp;My::Test::handler3, );\n\n    $self-&gt;{_mapping} = \\%mapping;\n}\n\n# This is the main entrypoint for actual processing where the appropriate handler function is invoked.\nsub startMeUp {\n    my ($self, $mapType, $someDataToHandle) = @_;\n\n    $self-&gt;{_currentType} = $mapType;\n    $self-&gt;{_currentData} = $someDataToHandle;\n\n    # Now call this function\n    $self-&gt;{_mapping}-&gt;{$mapType}-&gt;();\n}\n\n# These functions below gets called, but the values of $self are not retained. Why?\nsub handler1 {\n    my $self = shift;\n    print \"I am a handler for $self-&gt;{_currentType}!\\n\";\n}\n\nsub handler2 {\n    my $self = shift;\n    print \"I am a handler for $self-&gt;{_currentType}!\\n\";\n}\n\nsub handler3 {\n    my $self = shift;\n    print \"I am a handler for $self-&gt;{_currentType}!\\n\";\n}\n\nsub manualFunction {\n    my $self = shift;\n    print \"I am a manual call, I am $self-&gt;{_currentType}!\\n\";\n}\n\n1;\n</code></pre>\n\n<p>The above module is then invoked via a simple caller script like so:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse My::Test;\n\nmy $test = My::Test-&gt;new();\n$test-&gt;createMapping();\n\n# We want to try to execute the handler2 function (mapping.2 is mapped to handler2 via createMapping).\n# The function call works but when done this way, I cannot use\n# $self-&gt;{someVariableName} to access module members as I'd like.\n$test-&gt;startMeUp('mapping.2');\n\n# The follow will work.\n$test-&gt;manualFunction();\n</code></pre>\n\n<p>Running the perl script yields the following result:</p>\n\n<pre><code>% perl test.pl                                                                                                                               \nUse of uninitialized value in concatenation (.) or string at My/Test.pm line 48.\nI am a handler for !\nI am a manual call, I am mapping.2!\n</code></pre>\n\n<p>I am having problems finding a solution as to why the <strong>startMeUp</strong> function which invokes references via the hash table does not retain the values contained in <strong>$self->{some class member variable here}</strong>.</p>\n\n<p>I have tried to search SO about this but have not been able to find a question/answer about this specific problem.</p>\n\n<p>I am not sure whether what I am trying to do is simply not possible in this context or whether I am simply doing it wrong, so I hope some of you here could point me in the right direction.</p>\n\n<p>(Of course it's overkill to implement a solution like this for only three elements, but in the actual implementation there would be significantly more, and I would rather avoid having to write a good screenfull of if-elsif statements, and it's also a good exercise).</p>\n\n<p>Thank you in advance!</p>\n\n<p>Best regards,\nKlaus</p>\n"}, {"tags": ["php", "regex", "perl", "postal-code"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1422456761, "post_id": 28195085, "comment_id": 44757175, "body": "So whats the question?"}, {"owner": {"reputation": 718, "user_id": 2524877, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/252bc0f5b4b2c6b010e511f24e5c4539?s=128&d=identicon&r=PG&f=1", "display_name": "Mokky Miah", "link": "https://stackoverflow.com/users/2524877/mokky-miah"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1422457117, "post_id": 28195085, "comment_id": 44757428, "body": "updated my question."}], "answers": [{"comments": [{"owner": {"reputation": 718, "user_id": 2524877, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/252bc0f5b4b2c6b010e511f24e5c4539?s=128&d=identicon&r=PG&f=1", "display_name": "Mokky Miah", "link": "https://stackoverflow.com/users/2524877/mokky-miah"}, "edited": false, "score": 1, "creation_date": 1422457522, "post_id": 28195395, "comment_id": 44757720, "body": "Thanks! I just had to change it to {0,8} and worked fine with the logic."}], "tags": [], "owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": true, "score": 5, "last_activity_date": 1422458340, "last_edit_date": 1422458340, "creation_date": 1422457116, "answer_id": 28195395, "question_id": 28195085, "link": "https://stackoverflow.com/questions/28195085/regex-to-specific-rule/28195395#28195395", "title": "Regex to specific rule", "body": "<p>Here's a pattern:</p>\n\n<pre><code>^[A-Z](?=.?\\d)[A-Z0-9 ]{0,8}$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/kT3wV5/2\" rel=\"nofollow\">Demo</a>. </p>\n\n<p>I used the lookahead <code>(?=.?\\d)</code> to check the second or third character to see if it's a digit.</p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1422460570, "last_edit_date": 1422460570, "creation_date": 1422457495, "answer_id": 28195533, "question_id": 28195085, "link": "https://stackoverflow.com/questions/28195085/regex-to-specific-rule/28195533#28195533", "title": "Regex to specific rule", "body": "<p>With an alternation:</p>\n\n<pre><code>/^[a-z](?:[0-9].{0,7}|.[0-9].{0,6})$/i\n</code></pre>\n"}], "owner": {"reputation": 718, "user_id": 2524877, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/252bc0f5b4b2c6b010e511f24e5c4539?s=128&d=identicon&r=PG&f=1", "display_name": "Mokky Miah", "link": "https://stackoverflow.com/users/2524877/mokky-miah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 28195395, "answer_count": 2, "score": 0, "last_activity_date": 1422460570, "creation_date": 1422456298, "last_edit_date": 1422457103, "question_id": 28195085, "link": "https://stackoverflow.com/questions/28195085/regex-to-specific-rule", "title": "Regex to specific rule", "body": "<p>I need to recreate this logic using regex.</p>\n\n<p>if $postcode.length > 0 and $postcode.length &lt; 10 AND\n$postcode's first character is a letter and (second or third character is a number) then it's a match.</p>\n\n<p>I came up with this following regex:</p>\n\n<p>/((^[a-z]+[0-9]?[0-9]){1,9}$)/i</p>\n\n<p>It needs to match these examples:</p>\n\n<ul>\n<li>B1 8PT</li>\n<li>SW12 TQ1</li>\n<li>B12 TYP</li>\n<li>A1AAAAAAA</li>\n<li>AA1AAAAAA</li>\n</ul>\n\n<p>Edited:\nMy current regex doesn't match any of the examples on the list. I can't figure why. Any help would be appreciated. </p>\n"}, {"tags": ["perl", "file-io", "perl-module", "cat"], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 2165531, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/e1f94568d39650d2a9293d44896366ad?s=128&d=identicon&r=PG", "display_name": "Logunath", "link": "https://stackoverflow.com/users/2165531/logunath"}, "edited": false, "score": 0, "creation_date": 1422507538, "post_id": 28195651, "comment_id": 44779677, "body": "Thank you. I was new to Perl."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1422457849, "creation_date": 1422457849, "answer_id": 28195651, "question_id": 28195084, "link": "https://stackoverflow.com/questions/28195084/perl-cant-call-method-catfile-without-a-package-or-object-reference/28195651#28195651", "title": "Perl: Can&#39;t call method &quot;catfile&quot; without a package or object reference", "body": "<p>You should read the <a href=\"http://p3rl.org/File::Spec\" rel=\"nofollow\">documentation</a> more carefully. Lines 4 and 5:</p>\n\n<pre><code>use File::Spec;\n$x=File::Spec-&gt;catfile('a', 'b', 'c');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 467, "user_id": 2165531, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/e1f94568d39650d2a9293d44896366ad?s=128&d=identicon&r=PG", "display_name": "Logunath", "link": "https://stackoverflow.com/users/2165531/logunath"}, "edited": false, "score": 0, "creation_date": 1422507517, "post_id": 28195783, "comment_id": 44779672, "body": "Thank you. I was new to Perl."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1422458188, "creation_date": 1422458188, "answer_id": 28195783, "question_id": 28195084, "link": "https://stackoverflow.com/questions/28195084/perl-cant-call-method-catfile-without-a-package-or-object-reference/28195783#28195783", "title": "Perl: Can&#39;t call method &quot;catfile&quot; without a package or object reference", "body": "<p>You're calling <code>catfile()</code> as a method here. Methods can only be called on classes or objects. <code>$batch_dir</code> is just a string. You can't call methods on a string (that's what your error is saying).</p>\n\n<p>The documentation for <a href=\"https://metacpan.org/pod/File::Spec\" rel=\"nofollow\">File::Spec</a> shows <code>catfile()</code> being called as a class method. So you want something like this:</p>\n\n<pre><code>my $batch_dir = '/home/lsubramaniyam/xxx';\nmy $receive_file = File::Spec-&gt;catfile($batch_dir, 'Recieve_file.txt');\n</code></pre>\n"}], "owner": {"reputation": 467, "user_id": 2165531, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/e1f94568d39650d2a9293d44896366ad?s=128&d=identicon&r=PG", "display_name": "Logunath", "link": "https://stackoverflow.com/users/2165531/logunath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1422459164, "creation_date": 1422456294, "last_edit_date": 1422456594, "question_id": 28195084, "link": "https://stackoverflow.com/questions/28195084/perl-cant-call-method-catfile-without-a-package-or-object-reference", "title": "Perl: Can&#39;t call method &quot;catfile&quot; without a package or object reference", "body": "<p>I'm trying to use 'cat file' in my Perl module like below,</p>\n\n<pre><code>my $batch_dir = '/home/lsubramaniyam/xxx';\n    my $receive_file = $batch_dir-&gt;catfile(\"Recieve_file.txt\");\n</code></pre>\n\n<p>But, on executing the script, I'm getting error as </p>\n\n<pre><code>Can't call method \"catfile\" without a package or object reference\n</code></pre>\n\n<p>I have included packages related to the file handles and OOPS,</p>\n\n<pre><code> use IO::All;\n    use IO::Socket;\n    use IO::Socket::SSL;\n    use Moo;\n    use MooX::HandlesVia;\n    use MooX::Options (\n        protect_argv       =&gt; 0,\n        prefer_commandline =&gt; 1,\n    );\n    use MooX::Types::MooseLike::Base\n        qw(Bool Enum HashRef Int InstanceOf Maybe Str);\n    use File::Spec;\n</code></pre>\n\n<p>Please help me on steps to proceed further. Any help is appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1422460924, "post_id": 28193762, "comment_id": 44760139, "body": "Please provide at least a sample PDF file. We don&#39;t know what your document looks like."}, {"owner": {"reputation": 179, "user_id": 3917903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54c598fe59201776107d8af5a2a0b0c?s=128&d=identicon&r=PG&f=1", "display_name": "Menaka Sankar", "link": "https://stackoverflow.com/users/3917903/menaka-sankar"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1422507856, "post_id": 28193762, "comment_id": 44779765, "body": "I am unable to upload my pdf file. Can you please create yourself a dummy pdf file with header and footer and folios. count only the body content without header and footer."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1423253594, "creation_date": 1423253594, "answer_id": 28373986, "question_id": 28193762, "link": "https://stackoverflow.com/questions/28193762/perl-how-to-get-pdf-word-count/28373986#28373986", "title": "Perl how to get PDF word Count", "body": "<p>Provided your document isn't too complicated this will do the trick:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CAM::PDF;\n\nmy $file = 'C:\\Users\\username\\Documents\\illguts.pdf';\n\nmy $pdf = CAM::PDF-&gt;new($file);\n\nmy $word_count = 0;\nfor my $pagenum ( 1 .. $pdf-&gt;numPages ) {\n    my $words_on_this_page =\n        scalar split( /\\s+/, $pdf-&gt;getPageText($pagenum) );\n    print \"Page: $pagenum $words_on_this_page\\n\";\n    $word_count += $words_on_this_page;\n}\n\nprint \"Total words: $word_count\\n\";\n</code></pre>\n\n<p>Although there's a caveat that PDFs can be very complicated, and this is a very basic approach. Should give you a starting point though. </p>\n"}], "owner": {"reputation": 179, "user_id": 3917903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54c598fe59201776107d8af5a2a0b0c?s=128&d=identicon&r=PG&f=1", "display_name": "Menaka Sankar", "link": "https://stackoverflow.com/users/3917903/menaka-sankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1423253594, "creation_date": 1422452581, "question_id": 28193762, "link": "https://stackoverflow.com/questions/28193762/perl-how-to-get-pdf-word-count", "title": "Perl how to get PDF word Count", "body": "<p>I got full word count in PDF. But I want to get Pdf word count except header,footer and Folios.\nPlease help thanks in advance.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse CAM::PDF;\nuse CAM::PDF::PageText;\nmy $filename = shift;\n my $pdf = CAM::PDF-&gt;new($filename);\n   my $pageone_tree = $pdf-&gt;getPageContentTree(1);\n   my $count;\n my $cnt = CAM::PDF::PageText-&gt;render($pageone_tree);\n print\"$cnt\";\n</code></pre>\n"}, {"tags": ["python", "perl", "shell"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1422457962, "post_id": 28192769, "comment_id": 44758040, "body": "Hello. Usually it&#39;s asked of users that they at least give a sample of what they&#39;ve done so far in solving a problem."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 2574432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae0e6b8f09bb8bb02262eabe7c0b08e2?s=128&d=identicon&r=PG", "display_name": "Dilip", "link": "https://stackoverflow.com/users/2574432/dilip"}, "edited": false, "score": 0, "creation_date": 1422450831, "post_id": 28193141, "comment_id": 44753265, "body": "Can you plz give me xpath where it will print only names of the nodes"}, {"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "reply_to_user": {"reputation": 91, "user_id": 2574432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae0e6b8f09bb8bb02262eabe7c0b08e2?s=128&d=identicon&r=PG", "display_name": "Dilip", "link": "https://stackoverflow.com/users/2574432/dilip"}, "edited": false, "score": 0, "creation_date": 1422452738, "post_id": 28193141, "comment_id": 44754442, "body": "@Dilip updated the answer, now the xpath extracts only the value of attribute <code>name</code>."}], "tags": [], "owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "is_accepted": false, "score": 1, "last_activity_date": 1422453082, "last_edit_date": 1422453082, "creation_date": 1422450540, "answer_id": 28193141, "question_id": 28192769, "link": "https://stackoverflow.com/questions/28192769/how-to-parse-xml-to-get-specific-nodes-having-particular-value-for-an-attribute/28193141#28193141", "title": "how to parse xml to get specific nodes having particular value for an attribute", "body": "<p>what you are looking for is a xpath expression:</p>\n\n<pre><code>//NODE[@attribute1=\"characters\" and ( not(@attribute2) or @attribute2=\"chr\")]\n</code></pre>\n\n<p>quick test with xmllint:</p>\n\n<pre><code>kent$  cat f.xml\n&lt;root&gt;\n&lt;NODE attribute1=\"characters\" attribute2=\"chr\" name=\"node1\"&gt;\n  &lt;content&gt;\n    value1\n  &lt;/content&gt;\n&lt;/NODE&gt;\n\n&lt;NODE attribute1=\"camera\"  name=\"node2\"&gt;\n  &lt;content&gt;\n    value2\n  &lt;/content&gt;\n&lt;/NODE&gt;\n\n&lt;NODE attribute1=\"camera\" attribute2=\"car\" name=\"node3\"&gt;\n  &lt;content&gt;\n    value2\n  &lt;/content&gt;\n&lt;/NODE&gt;\n&lt;/root&gt;\n\nkent$  xmllint --xpath '//NODE[@attribute1=\"characters\" and ( not(@attribute2) or @attribute2=\"chr\")]' f.xml\n&lt;NODE attribute1=\"characters\" attribute2=\"chr\" name=\"node1\"&gt;\n  &lt;content&gt;\n    value1\n  &lt;/content&gt;\n&lt;/NODE&gt;\n</code></pre>\n\n<h2>UPDATE</h2>\n\n<p>if you only want to extract the value of attribute <code>name</code>, you can use this xpath:</p>\n\n<p>//NODE[@attribute1=\"characters\" and ( not(@attribute2) or @attribute2=\"chr\")]/@name</p>\n\n<p>or\n    string(//NODE[@attribute1=\"characters\" and ( not(@attribute2) or @attribute2=\"chr\")]/@name)</p>\n\n<p>still test with xmllint:</p>\n\n<pre><code>kent$  xmllint --xpath '//NODE[@attribute1=\"characters\" and ( not(@attribute2) or @attribute2=\"chr\")]/@name' f.xml                                                          \n name=\"node1\"\n\nkent$  xmllint --xpath 'string(//NODE[@attribute1=\"characters\" and ( not(@attribute2) or @attribute2=\"chr\")]/@name)' f.xml\nnode1 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "is_accepted": false, "score": 0, "last_activity_date": 1422452514, "last_edit_date": 1422452514, "creation_date": 1422451392, "answer_id": 28193379, "question_id": 28192769, "link": "https://stackoverflow.com/questions/28192769/how-to-parse-xml-to-get-specific-nodes-having-particular-value-for-an-attribute/28193379#28193379", "title": "how to parse xml to get specific nodes having particular value for an attribute", "body": "<p>use <code>lxml</code> module.</p>\n\n<pre><code>content = \"\"\"\n&lt;body&gt;\n&lt;NODE attribute1=\"characters\" attribute2=\"chr\" name=\"node1\"&gt;\n  &lt;content&gt;\n    value1\n  &lt;/content&gt;\n&lt;/NODE&gt;\n\n&lt;NODE attribute1=\"camera\"  name=\"node2\"&gt;\n  &lt;content&gt;\n    value2\n  &lt;/content&gt;\n&lt;/NODE&gt;\n\n&lt;NODE attribute1=\"camera\" attribute2=\"car\" name=\"node3\"&gt;\n  &lt;content&gt;\n    value2\n  &lt;/content&gt;\n&lt;/NODE&gt;\n\n&lt;NODE attribute1=\"characters\" attribute2=\"car\" name=\"node3\"&gt;\n  &lt;content&gt;\n    value2\n  &lt;/content&gt;\n&lt;/NODE&gt;\n\n&lt;NODE attribute1=\"characters\" name=\"node3\"&gt;\n  &lt;content&gt;\n    value2\n  &lt;/content&gt;\n&lt;/NODE&gt;\n\n&lt;/body&gt;\n\"\"\"\n\nfrom lxml import etree\nroot = etree.fromstring(content)\nl = root.xpath('//*[@attribute1=\"characters\" and ( not(@attribute2) or @attribute2!=\"chr\") ]')\nfor i in l:\n    print i.tag, i.attrib\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>$ python test.py \nNODE {'attribute2': 'car', 'attribute1': 'characters', 'name': 'node3'}\nNODE {'attribute1': 'characters', 'name': 'node3'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1422458901, "last_edit_date": 1422458901, "creation_date": 1422458543, "answer_id": 28195931, "question_id": 28192769, "link": "https://stackoverflow.com/questions/28192769/how-to-parse-xml-to-get-specific-nodes-having-particular-value-for-an-attribute/28195931#28195931", "title": "how to parse xml to get specific nodes having particular value for an attribute", "body": "<p>As you've tagged this as perl/python, I shall offer a perlish approach.</p>\n\n<p>Perl has a nice library called <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.48/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a> which I really like for parsing XML. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $parser = XML::Twig-&gt;new();\n\n#would probably use parsefile instead.\n#e.g.:\n# my $parser = XML::Twig -&gt; new -&gt; parsefile ( 'your_file.xml' );\n{\n    local $/;\n    $parser-&gt;parse(&lt;DATA&gt;);\n}\n\n\n#iterate all the elements in the file. \nforeach my $element ( $parser-&gt;root()-&gt;children() ) {\n\n    #test your conditions\n    if ($element-&gt;att('attribute1') eq 'characters'\n        and ( not defined $element-&gt;att('attribute2')\n                       or $element-&gt;att('attribute2') eq 'chr' )\n        )\n    {\n        #extract name if condition matches\n        print $element -&gt;att('name'), \"\\n\";\n    }\n}\n\n\n__DATA__\n&lt;DATA&gt;\n  &lt;NODE attribute1=\"characters\" attribute2=\"chr\" name=\"node1\"&gt;\n    &lt;content&gt;\n      value1\n    &lt;/content&gt;\n  &lt;/NODE&gt;\n\n  &lt;NODE attribute1=\"camera\"  name=\"node2\"&gt;\n    &lt;content&gt;\n      value2\n    &lt;/content&gt;  \n  &lt;/NODE&gt;\n\n  &lt;NODE attribute1=\"camera\" attribute2=\"car\" name=\"node3\"&gt;\n    &lt;content&gt;\n      value2\n    &lt;/content&gt;\n  &lt;/NODE&gt;\n&lt;/DATA&gt;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 2574432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae0e6b8f09bb8bb02262eabe7c0b08e2?s=128&d=identicon&r=PG", "display_name": "Dilip", "link": "https://stackoverflow.com/users/2574432/dilip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1422458901, "creation_date": 1422449576, "question_id": 28192769, "link": "https://stackoverflow.com/questions/28192769/how-to-parse-xml-to-get-specific-nodes-having-particular-value-for-an-attribute", "title": "how to parse xml to get specific nodes having particular value for an attribute", "body": "<p>In the below xml using perl or python(which ever is fastest) I want a way to get all  nodes/node names that have attribute1 set to \"characters\" and  attribute2 not set to \"chr\" or dont have attribute2 itself .\nPlease keep in mind that my xml can have 500 nodes,so kindly suggest a faster way to get all nodes</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;NODE attribute1=\"characters\" attribute2=\"chr\" name=\"node1\"&gt;\r\n  &lt;content&gt;\r\n    value1\r\n  &lt;/content&gt;\r\n&lt;/NODE&gt;\r\n\r\n&lt;NODE attribute1=\"camera\"  name=\"node2\"&gt;\r\n  &lt;content&gt;\r\n    value2\r\n  &lt;/content&gt;\r\n&lt;/NODE&gt;\r\n\r\n&lt;NODE attribute1=\"camera\" attribute2=\"car\" name=\"node3\"&gt;\r\n  &lt;content&gt;\r\n    value2\r\n  &lt;/content&gt;\r\n&lt;/NODE&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["perl", "parsing", "xml-twig"], "comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422449434, "post_id": 28192558, "comment_id": 44752426, "body": "any informations about your system would be helpful. Furthermore there is a bug noted in <code>XML::Twig</code> when your perl version is lower than 5.16"}, {"owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422451224, "post_id": 28192558, "comment_id": 44753490, "body": "@Patrick J. S..    The version of Perl is v5.10.1 (*) built for x86_64-linux-thread-multi"}, {"owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422452304, "post_id": 28192558, "comment_id": 44754167, "body": "@Patrick J. S  Any help would be helpful...."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422457652, "post_id": 28192558, "comment_id": 44757815, "body": "upgrade your perl, or read up the Bug description (in the docs of that module), there was some flag that might help you, but will break other things."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1422462325, "post_id": 28192558, "comment_id": 44761070, "body": "Can you please include a sample of your xml data?"}], "answers": [{"comments": [{"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "reply_to_user": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "edited": false, "score": 1, "creation_date": 1422462681, "post_id": 28194863, "comment_id": 44761312, "body": "Right, the memory issues are caused by the bug in perl as @Patrick said.  <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.48/Twig.pm#BUGS\" rel=\"nofollow noreferrer\">search.cpan.org/~mirod/XML-Twig-3.48/Twig.pm#BUGS</a>"}], "tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 1, "last_activity_date": 1422455691, "creation_date": 1422455691, "answer_id": 28194863, "question_id": 28192558, "link": "https://stackoverflow.com/questions/28192558/parsing-a-2-gb-file-giving-segmentation-fault-error/28194863#28194863", "title": "Parsing a 2 GB file giving segmentation fault Error", "body": "<p>Instead of trying to overwrite the input file as you're reading it, use <code>-&gt;parsefile_inplace();</code></p>\n\n<pre><code>my $twig = new XML::Twig( twig_handlers =&gt; { TRADE =&gt; \\&amp;TRADE } );\n$twig-&gt;parsefile_inplace($FILELOCATIONIN.'/'.$SOURCEFILE.'.xml');    \n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422455691, "creation_date": 1422448956, "question_id": 28192558, "link": "https://stackoverflow.com/questions/28192558/parsing-a-2-gb-file-giving-segmentation-fault-error", "title": "Parsing a 2 GB file giving segmentation fault Error", "body": "<p>I have written a perl code to filter the XML based on one condition.Its error-out with Message \"Segmentation fault (Core Dumped)\" with 2GB input file. Please see the below code. Any inputs will be helpful.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\nuse Tie::File;\nuse XML::Parser;\n\nmy $SOURCEFILE=$ARGV[0];\nmy $TAGVALUE=$ARGV[1];\nmy $FILELOCATIONIN=$ARGV[2];\n\n\n\n\nmy $twig = new XML::Twig( twig_handlers =&gt; { TRADE =&gt; \\&amp;TRADE } );\n\n$twig-&gt;parsefile($FILELOCATIONIN.'/'.$SOURCEFILE.'.xml');\n\n$twig-&gt;set_pretty_print('indented');\n\n$twig-&gt;print_to_file($FILELOCATIONIN.'/'.$SOURCEFILE.'.xml');\n\nsub TRADE {\n    my ( $twig, $TRADE ) = @_;\n    foreach  my $c ($TRADE)\n        {\n        #added delete in place of cut\n#$TRADE-&gt;cut\n         $c-&gt;delete($TRADE) unless\n         $c-&gt;att('origin') eq $TAGVALUE\n\n      ;\n    }\n}\n</code></pre>\n"}, {"tags": ["bash", "perl", "shell"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1422448146, "post_id": 28192240, "comment_id": 44751617, "body": "Redirect STDOUT to your output file."}, {"owner": {"reputation": 81, "user_id": 3431651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/195ed056c5b7d23737a49f1a79b6eb9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3431651", "link": "https://stackoverflow.com/users/3431651/user3431651"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1422448240, "post_id": 28192240, "comment_id": 44751670, "body": "so i have to create another file?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1422448378, "post_id": 28192240, "comment_id": 44751756, "body": "Yes. Opening a file and reading through it gets messy if you try and also overwrite it as you go. So best practice is don&#39;t, create a new file and copy it over once finished."}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 2, "creation_date": 1422448536, "post_id": 28192240, "comment_id": 44751867, "body": "You can do a one-liner inplace substitution with <code>perl -pi -e &#39;s&#47;John&#47;Bush&#47;ig&#39; index.html</code>"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 3431651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/195ed056c5b7d23737a49f1a79b6eb9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3431651", "link": "https://stackoverflow.com/users/3431651/user3431651"}, "edited": false, "score": 0, "creation_date": 1422449011, "post_id": 28192352, "comment_id": 44752160, "body": "Will it possible to get the html tags containing the word.&lt;h1&gt;John&lt;/h1&gt;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 81, "user_id": 3431651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/195ed056c5b7d23737a49f1a79b6eb9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3431651", "link": "https://stackoverflow.com/users/3431651/user3431651"}, "edited": false, "score": 0, "creation_date": 1422449141, "post_id": 28192352, "comment_id": 44752244, "body": "Yes. The above will replace just the word &#39;John&#39; and leave anything around it as-is. If you want to be more accurate in your filtering, you can apply different patterns."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1422448754, "last_edit_date": 1422448754, "creation_date": 1422448299, "answer_id": 28192352, "question_id": 28192240, "link": "https://stackoverflow.com/questions/28192240/search-and-replace-string-from-html-file-in-perl/28192352#28192352", "title": "Search and replace String from html file in perl", "body": "<p>No, it won't be. You're reading the file and doing your search and replace on the data in memory. Then you're <code>print</code>ing the line to STDOUT. </p>\n\n<p>If you want to do this, then you can use perl as a sort of super-sed using the <code>-pi</code> flags. (have a look at <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perlrun</code></a>)</p>\n\n<p>Or you need to handle reading/writing data yourself. </p>\n\n<p>e.g.:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $file = 'index.html';\nopen my $fh, '&lt;', $file or die \"Could not open '$file' $!\\n\";\nopen my $output_fh, '&gt;', $file . \".new\" or die $!;\nwhile ( my $line = &lt;$fh&gt; ) {\n    $line =~ s/John/Bush/ig;\n    print {$output_fh} $line;\n}\nclose($fh);\nclose($output_fh);\n</code></pre>\n\n<p>Should note - you didn't need that 'if' because a 'sed style' replacement (<code>s/sometext/othertext</code>) won't do any thing if there's no initial match. You also don't need the <code>chomp</code> because that strips linefeeds - and if you're modifying the file, you will want to put them back again. (Probably!)</p>\n\n<p>Edit: for bonus credit, this should do what you want as well:</p>\n\n<pre><code>perl -pi.bak -e 's/John/Bush/gi' index.html\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 3431651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/195ed056c5b7d23737a49f1a79b6eb9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3431651", "link": "https://stackoverflow.com/users/3431651/user3431651"}, "edited": false, "score": 0, "creation_date": 1422448749, "post_id": 28192358, "comment_id": 44751995, "body": "I have one more doubt.shall i ask?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1422448827, "post_id": 28192358, "comment_id": 44752055, "body": "If it&#39;s appropriate for a comment/question edit, then by all means do so. If it&#39;s a separate question, then opening a new one is the way forward."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 81, "user_id": 3431651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/195ed056c5b7d23737a49f1a79b6eb9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3431651", "link": "https://stackoverflow.com/users/3431651/user3431651"}, "edited": false, "score": 0, "creation_date": 1422448889, "post_id": 28192358, "comment_id": 44752094, "body": "@user3431651 Yes you can."}, {"owner": {"reputation": 81, "user_id": 3431651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/195ed056c5b7d23737a49f1a79b6eb9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3431651", "link": "https://stackoverflow.com/users/3431651/user3431651"}, "edited": false, "score": 0, "creation_date": 1422449069, "post_id": 28192358, "comment_id": 44752202, "body": "Will it possible to get the html tags containing the word.&lt;h1&gt;John&lt;/h1&gt;"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 81, "user_id": 3431651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/195ed056c5b7d23737a49f1a79b6eb9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3431651", "link": "https://stackoverflow.com/users/3431651/user3431651"}, "edited": false, "score": 0, "creation_date": 1422449143, "post_id": 28192358, "comment_id": 44752247, "body": "@user3431651 So you want to get <code>h1</code> in a variable?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1422449446, "post_id": 28192358, "comment_id": 44752437, "body": "Try this. It should store the tags in $1 and $2. <code>$line =~ s&#47;(\\&lt;.*\\&gt;)John(\\&lt;\\&#47;.*\\&gt;)&#47;$1Bush$2&#47;ig;</code> But i am not sure if it works."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1422450184, "post_id": 28192358, "comment_id": 44752873, "body": "I don&#39;t know Do you get any message?"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 2, "last_activity_date": 1422448313, "creation_date": 1422448313, "answer_id": 28192358, "question_id": 28192240, "link": "https://stackoverflow.com/questions/28192240/search-and-replace-string-from-html-file-in-perl/28192358#28192358", "title": "Search and replace String from html file in perl", "body": "<p>You have to open a new file for writing and print the replaced text to it.</p>\n\n<pre><code>#!/usr/bin/perl\n use strict;\n use warnings;\n my $file = 'index.html';\n open my $fh, '&lt;', $file or die \"Could not open '$file' $!\\n\"; \n open my $fh1, '&gt;', $file.\"new\" or die \"Could not open '$file' $!\\n\"; \n while (my $line = &lt;$fh&gt;) {\n chomp $line;\n if($line =~ /John/){\n $line =~ s/John/Bush/ig;\n }\n print $fh1 $line;\n }\n close($fh);\n close($fh1);\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 3431651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/195ed056c5b7d23737a49f1a79b6eb9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3431651", "link": "https://stackoverflow.com/users/3431651/user3431651"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 0, "accepted_answer_id": 28192352, "answer_count": 2, "score": 0, "last_activity_date": 1422448754, "creation_date": 1422448045, "last_edit_date": 1422448707, "question_id": 28192240, "link": "https://stackoverflow.com/questions/28192240/search-and-replace-string-from-html-file-in-perl", "title": "Search and replace String from html file in perl", "body": "<p>I am very beginner for perl.I have to search a string <code>John</code> from a html file and I have to replace the text.I have done and the text has been replaced but it is not saving in the file.I have attached the code which I have tried.Thanks!.</p>\n\n<pre><code> #!/usr/bin/perl\n use strict;\n use warnings;\n my $file = 'index.html';\n open my $fh, '&lt;', $file or die \"Could not open '$file' $!\\n\"; \n while (my $line = &lt;$fh&gt;) {\n chomp $line;\n if($line =~ /John/){\n $line =~ s/John/Bush/ig;\n print $line;\n }\n }\n close($fh);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 4, "creation_date": 1422442561, "post_id": 28190118, "comment_id": 44748511, "body": "It is and old way to open a file. Use instead <code>open my $fh, &#39;&lt;&#39;, &#39;file.txt&#39; or die $!</code>"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422443720, "post_id": 28190118, "comment_id": 44749168, "body": "Don&#39;t think in scopes. It&#39;s in the symbol table (perl has two non-compatible ways of storing variables)."}], "answers": [{"comments": [{"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1422447770, "post_id": 28190914, "comment_id": 44751396, "body": "What&#39;s the condition for bareword to be parsed as IO variable? Just as the first parameter for open, close and inside &lt;&gt; operator?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1422449327, "post_id": 28190914, "comment_id": 44752354, "body": "@Thomson: I can&#39;t help you there: you are asking about the innermost working of the Perl compiler. I could probably find out from the C source given time, but do you really need to know, or are you just asking out of interest? After all, global file handles are now considered bad practice, and you shouldn&#39;t be writing new code that uses them."}, {"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1422455844, "post_id": 28190914, "comment_id": 44756594, "body": "Just for understanding this better. It will be great if you could point me to the source, but not hurry."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1422449387, "last_edit_date": 1422449387, "creation_date": 1422443934, "answer_id": 28190914, "question_id": 28190118, "link": "https://stackoverflow.com/questions/28190118/is-bareword-filehandle-package-variable-in-perl/28190914#28190914", "title": "Is bareword filehandle package variable in Perl?", "body": "<p>If you look at <code>perldoc -f ref</code> you will see that there are more data types than there are identifying sigils. The only defined ones are</p>\n\n<ul>\n<li><code>$</code> - <strong>SCALAR</strong></li>\n<li><code>@</code> - <strong>ARRAY</strong></li>\n<li><code>%</code> - <strong>HASH</strong></li>\n<li><code>&amp;</code> - <strong>CODE</strong></li>\n</ul>\n\n<p>the rest are identified by context.</p>\n\n<p>If you write</p>\n\n<pre><code>package Pack;\n\nopen FH, '&lt;', 'file';\n</code></pre>\n\n<p>then <code>FH</code> appears in the <code>Pack</code> symbol table as the <strong>IO</strong> variable <code>Pack::FH</code>. It isn't preceded by a dollar <code>$</code> because it is an <strong>IO</strong> variable, not a <strong>SCALAR</strong>. Without a preceding <code>package</code> statement, it will be placed in the default <code>main</code> namespace. So with your example</p>\n\n<pre><code>open FILE, 'file.txt'\n</code></pre>\n\n<p>you can then read from the <code>FILE</code> handle using the fully-qualified <code>main::FILE</code> like this</p>\n\n<pre><code>while (&lt;main::FILE&gt;) {\n  :\n  :\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1422444114, "post_id": 28190934, "comment_id": 44749351, "body": "That&#39;s useful and looks correct, but it doesn&#39;t seem to answer the question."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1422443997, "creation_date": 1422443997, "answer_id": 28190934, "question_id": 28190118, "link": "https://stackoverflow.com/questions/28190118/is-bareword-filehandle-package-variable-in-perl/28190934#28190934", "title": "Is bareword filehandle package variable in Perl?", "body": "<p>Used to be a convention in Perl - filehandles were all uppercase, and globally scoped. </p>\n\n<p>This started with <code>STDIN</code> (and the other standard file streams) and so you could do:</p>\n\n<pre><code>while ( &lt;STDIN&gt; ) {\n    print;\n}\n</code></pre>\n\n<p>Perl's open command supports a 'legacy' mode of opening, which is:</p>\n\n<pre><code>open ( FILEHANDLE, \"&gt;filename.txt\" );\n</code></pre>\n\n<p>It's not recommended to use this any more, but it can't be removed without breaking legacy code. </p>\n\n<p>Instead you should:</p>\n\n<pre><code> open ( my $filehandle, \"&gt;\", 'filename.txt' ) or die $!;\n print {$filehandle} \"Some Text\\n\";\n</code></pre>\n\n<p>This has two advantages:</p>\n\n<ul>\n<li>your filehandle is lexically scoped, so you don't have to worry about a module writing to 'OUTPUT' or similar. </li>\n<li>Because it's lexically scoped, it automatically closes when it goes out of scope. </li>\n<li>3 argument open avoids injection exploits. </li>\n</ul>\n"}], "owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1422449387, "creation_date": 1422441554, "question_id": 28190118, "link": "https://stackoverflow.com/questions/28190118/is-bareword-filehandle-package-variable-in-perl", "title": "Is bareword filehandle package variable in Perl?", "body": "<p>The legacy bareword filehandle looks in global scope, is it parsed as package variable? Why isn't it prepended with punctuation sign (<code>$</code>)?</p>\n\n<pre><code>open FILE, 'file.txt';\n</code></pre>\n"}, {"tags": ["perl", "catalyst"], "answers": [{"tags": [], "owner": {"reputation": 8942, "user_id": 14750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1259cb9901b6d9caf5aeda812927d111?s=128&d=identicon&r=PG", "display_name": "RET", "link": "https://stackoverflow.com/users/14750/ret"}, "is_accepted": false, "score": 1, "last_activity_date": 1422490431, "creation_date": 1422490431, "answer_id": 28204892, "question_id": 28189449, "link": "https://stackoverflow.com/questions/28189449/catalyst-development-server-not-showing-routes-and-errors/28204892#28204892", "title": "Catalyst Development Server - not showing routes and errors", "body": "<p>Messages sent to <code>$c-&gt;log-&gt;debug()</code> are generally disabled in production environments. If it doesn't seem to matter whether you start your scripts with or without the <code>-d</code> switch, then I'd suggest something downstream in the sequence is setting the environment variable <code>CATALYST_DEBUG</code> to <code>0</code> or <code>undef</code> unilaterally.</p>\n\n<p>That said, you should be able to see the output of <code>$c-&gt;log-&gt;info()</code> or <code>$c-&gt;log-&gt;warn()</code> calls. The answer to that question should help you determine if the problem is <code>log4perl</code> or Catalyst related.</p>\n\n<p>Hopefully that will get you on your way.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 1375132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1279d6bd0b4754cd7e879507c92b26f6?s=128&d=identicon&r=PG", "display_name": "John Napiorkowski", "link": "https://stackoverflow.com/users/1375132/john-napiorkowski"}, "is_accepted": false, "score": 2, "last_activity_date": 1424732772, "creation_date": 1424732772, "answer_id": 28685316, "question_id": 28189449, "link": "https://stackoverflow.com/questions/28189449/catalyst-development-server-not-showing-routes-and-errors/28685316#28685316", "title": "Catalyst Development Server - not showing routes and errors", "body": "<p>For anyone coming upon this later, if you want to see the developer debug stream (stuff about the routes and classes and models your application is using, etc you need to be in debug mode, which you can do easily by setting CATALYST_DEBUG=1 in your env (I often start my app like \"CATALYST_DEBUG=1 perl -Ilib script/myapp_server.pl\"</p>\n\n<p>There is sadly a difference between debug as a log level and debugging mode.  The way catalyst works is that if you are in debugging mode (via CATALYST_DEBUG=1, or any of the other documented ways this gets turned on) all this debugging stream gets sent to the log, most of it logged at the debug level (again debug as a log level is distinct from debugging developer mode :( )  So you need both debugging mode and your logger should be set to listen at the debug level.</p>\n\n<p>If you use the default catalyst log, it is debug level by default, so doing CATALYST_DEBUG=1 is all you need.  If you use a different logger be sure to enable debug log level for your development setup, if you wish to see those developer stream logs.</p>\n"}], "owner": {"reputation": 1282, "user_id": 1755636, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/21d78bf37a5763add591b0d5834039af?s=128&d=identicon&r=PG", "display_name": "familymangreg", "link": "https://stackoverflow.com/users/1755636/familymangreg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1424732772, "creation_date": 1422439624, "last_edit_date": 1422442408, "question_id": 28189449, "link": "https://stackoverflow.com/questions/28189449/catalyst-development-server-not-showing-routes-and-errors", "title": "Catalyst Development Server - not showing routes and errors", "body": "<p>To set the seem, I'm an experienced developer and have coded many languages over the years, including a good bit of Perl back in late 90's early 00's.  Since then I haven't touched Perl, but now have a client who wants some changes making to an existing open source project built using Perl5 and Catalyst.  I've quickly worked through the Catalyst tutorials, read a few books online and am now starting to feel my way.</p>\n\n<p>I have the existing project up and running on a clean Debian Wheezy VM and am testing the code an my changes using the Catalyst Development Server.</p>\n\n<p>While working through the tutorials and writing a few test apps, the development server would always output a lot of useful information when run, such as the configured routes etc..  But under this project, when I run the server I don't get a lot of output.  I don't even get messages sent to <code>$c-&gt;log-&gt;debug()</code>;</p>\n\n<p>I run the server with the following command:</p>\n\n<pre><code>perl ./script/asnn_panel_server.pl -d -r\n</code></pre>\n\n<p>Which outputs the following:</p>\n\n<pre><code>HTTP::Server::PSGI: Accepting connections at http://0:3000/\n</code></pre>\n\n<p>I can access the server and the application is running fine.</p>\n\n<p>In a test controller action I can try the following lines:</p>\n\n<pre><code>$c-&gt;log-&gt;debug(\"A test debug message\");\nprint \"A test print message\\n\";\n</code></pre>\n\n<p>The debug log message does not appear in my development server output, but the print line does.  So I know the call to <code>$c-&gt;log-&gt;debug()</code> is not blowing up, because the next line is executing, but where is it going?</p>\n\n<p>So essentially I feel I 'could' get more useful output from the Catalyst Development server, but am not.</p>\n\n<p>I have googles but can't find anything of relevance.  Sorry if I'm going in the wrong direction here, I do know what I doing in general, but have a lot to pick up here in a short amount of time!</p>\n\n<p>I suspect my issues might be specific to the open source project I'm working on, but there's not a lot of help to be had from that direction.  Could anyone give me any pointers as to what to investigate?</p>\n\n<p><strong>UPDATE</strong> : I now realise that the application is using log4perl, which is configured to send <code>$c-&gt;log-&gt;debug()</code> to <code>syslog</code>.  I still don't know why the Catalyst Development server isn't providing much output.</p>\n\n<p>:wq</p>\n"}, {"tags": ["perl", "search", "dir"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1422435811, "post_id": 28187443, "comment_id": 44744620, "body": "I have indented your Perl code for you. In future, it is fine if you want to punish yourself by writing badly-formatted code that is difficult to read, but if you are asking others for help with it then please have the courtesy to lay it out properly."}], "answers": [{"tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 2, "last_activity_date": 1422432906, "creation_date": 1422432906, "answer_id": 28187488, "question_id": 28187443, "link": "https://stackoverflow.com/questions/28187443/perl-reading-all-the-files-in-a-directory-with-the-extension-css/28187488#28187488", "title": "Perl - reading all the files in a directory with the extension&quot;.css&quot;", "body": "<p>Looks like <code>$Directoryname</code> is blank or undefined where do you assign a value to it?</p>\n\n<p>Add <code>use strict;</code> at the beginning of your script, to see where you have other problems.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 2936245, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6361f8b0ac490e5b00698e9648c14420?s=128&d=identicon&r=PG&f=1", "display_name": "mohad", "link": "https://stackoverflow.com/users/2936245/mohad"}, "edited": false, "score": 0, "creation_date": 1422435325, "post_id": 28187490, "comment_id": 44744379, "body": "I made the below modifications :    my @files;     my $Directoryname = &#39;/bin&#39;;  opendir(bin, $Directoryname) or die &quot;cannot open directory $Directoryname&quot;;   @files = grep(/\\.css$/,readdir(bin));     foreach $file (@files) {   open my $handle, &#39;&lt;&#39;, $file or die &quot;could not open &#39;$file&#39;: $!&quot;;   \twhile (my $line = &lt;$handle&gt;) {     Still facing the same error"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 21, "user_id": 2936245, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6361f8b0ac490e5b00698e9648c14420?s=128&d=identicon&r=PG&f=1", "display_name": "mohad", "link": "https://stackoverflow.com/users/2936245/mohad"}, "edited": false, "score": 0, "creation_date": 1422435552, "post_id": 28187490, "comment_id": 44744487, "body": "@mohad You&#39;re missing full path to file =&gt; <code>open my $fh, &quot;$Directoryname&#47;$file&quot;;</code>"}, {"owner": {"reputation": 21, "user_id": 2936245, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6361f8b0ac490e5b00698e9648c14420?s=128&d=identicon&r=PG&f=1", "display_name": "mohad", "link": "https://stackoverflow.com/users/2936245/mohad"}, "edited": false, "score": 0, "creation_date": 1422435696, "post_id": 28187490, "comment_id": 44744566, "body": "Where should i add this? I&#39;m pretty unsure"}, {"owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "edited": false, "score": 0, "creation_date": 1422439109, "post_id": 28187490, "comment_id": 44746494, "body": "You made some changes that made your code worse: so you omitted <code>$!</code> in the error message. Please add that, and add &quot;use strict; use warnings;&quot; too. All of this will simply tell you, what is going wrong."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1422432917, "creation_date": 1422432917, "answer_id": 28187490, "question_id": 28187443, "link": "https://stackoverflow.com/questions/28187443/perl-reading-all-the-files-in-a-directory-with-the-extension-css/28187490#28187490", "title": "Perl - reading all the files in a directory with the extension&quot;.css&quot;", "body": "<p>Check docs for <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow\"><code>opendir/readir</code></a> and how they should be used,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $Directoryname = \"bin\";\n\nopendir(my $dir, $Directoryname) or die \"$! $Directoryname\";\nmy @files = grep(/\\.css$/, readdir($dir));\n# ..\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "is_accepted": false, "score": 3, "last_activity_date": 1422432993, "creation_date": 1422432993, "answer_id": 28187509, "question_id": 28187443, "link": "https://stackoverflow.com/questions/28187443/perl-reading-all-the-files-in-a-directory-with-the-extension-css/28187509#28187509", "title": "Perl - reading all the files in a directory with the extension&quot;.css&quot;", "body": "<p>The variable <code>$Directoryname</code> has no value associated with it.</p>\n\n<p>You should set it with something like</p>\n\n<pre><code>$Directoryname = 'bin';\n</code></pre>\n\n<p>That said, in order to find all <em>css</em> files, I'd use <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a>:</p>\n\n<pre><code>my @files = glob('*.css');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2936245, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6361f8b0ac490e5b00698e9648c14420?s=128&d=identicon&r=PG&f=1", "display_name": "mohad", "link": "https://stackoverflow.com/users/2936245/mohad"}, "is_accepted": false, "score": 0, "last_activity_date": 1422521885, "creation_date": 1422521885, "answer_id": 28210548, "question_id": 28187443, "link": "https://stackoverflow.com/questions/28187443/perl-reading-all-the-files-in-a-directory-with-the-extension-css/28210548#28210548", "title": "Perl - reading all the files in a directory with the extension&quot;.css&quot;", "body": "<p>Thanks guys ! I fixed the issue...Went through the readir/opendir and learned how to code this !</p>\n"}], "owner": {"reputation": 21, "user_id": 2936245, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6361f8b0ac490e5b00698e9648c14420?s=128&d=identicon&r=PG&f=1", "display_name": "mohad", "link": "https://stackoverflow.com/users/2936245/mohad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1422521885, "creation_date": 1422432710, "last_edit_date": 1422435717, "question_id": 28187443, "link": "https://stackoverflow.com/questions/28187443/perl-reading-all-the-files-in-a-directory-with-the-extension-css", "title": "Perl - reading all the files in a directory with the extension&quot;.css&quot;", "body": "<p>I'm planning to convert a Perl file into an executable file so that when you run the executable, it should detect all the <code>*.css</code> files in the current directory and throws the output.</p>\n\n<p>Is there a way to do this? I have a written the program below and it's throwing up an error message. Can you please help me fine tune this?</p>\n\n<p>Please bear with me since I'm trying to learn Perl. The directory to be read is <code>bin</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy @files;\nopendir(bin, $Directoryname) or die \"cannot open directory $Directoryname\";\n@files = grep(/\\.css$/, readdir(bin));\n\n# my $regex = qr/\n# (?=.*font-size) &amp;&amp;\n# (?!.*%)\n# /ix;\n\nforeach $file (@files) {\n\n  open my $handle, '&lt;', $file or die \"could not open '$file': $!\";\n\n  while (my $line = &lt;$handle&gt;) {\n\n    if ($line =~ /font-size/) {\n      if ($line !~ /%/) {\n        print \"\\n Forced Font is detected. -- $line\\n\";\n      }\n      else {\n        print \"\\n Font is specified in % -- $line \\n\";\n      }\n    }\n\n    if ($line =~ /line-height/) {\n      print \"\\n Forced Line-height is detected. \\n\";\n    }\n\n    if ($line =~ /position:absolute/) {\n      print \"\\n position:absolute is detected. \\n\";\n    }\n  }\n}\n\nclose(txt);\n</code></pre>\n\n<p>This is giving the output:</p>\n\n<pre><code>cannot open directory at C:\\Perl64\\bin\\sample1.pl line 4. \n</code></pre>\n"}, {"tags": ["perl", "concatenation"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1422429421, "post_id": 28186617, "comment_id": 44741780, "body": "Please put more effort when asking the question and provide code that you have issues with, together with your <i>expectations</i> regarding the code."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1422430441, "post_id": 28186617, "comment_id": 44742196, "body": "<code>(&quot;4&quot; ++ 3) + 7 = 50</code> is not valid Perl code (it doesn&#39;t even compile), so I don&#39;t know why you say &quot;it evaluates fine&quot;. As @\u0421\u0443\u0445\u043e\u043927 said, please show the actual code you&#39;re having trouble with."}, {"owner": {"reputation": 107, "user_id": 4472212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314b3e2afd82d367c16cffdcd9a9c525?s=128&d=identicon&r=PG&f=1", "display_name": "yul-dev", "link": "https://stackoverflow.com/users/4472212/yul-dev"}, "edited": false, "score": 0, "creation_date": 1422431002, "post_id": 28186617, "comment_id": 44742415, "body": "The above expression is NOT Pearl, but translated into Perl it would compile. Code is non existent I&#39;m just looking for an explanation of the concept behind this expression (concatenation of a string number to an int then) and how an int can be then added."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422431266, "post_id": 28186617, "comment_id": 44742508, "body": "String concatenation is done with the <code>.</code> operator, not <code>+</code> or <code>++</code>, so it sounds like you want to know why the expression <code>(&quot;4&quot; . 3) + 7</code> evaluates to <code>50</code>."}, {"owner": {"reputation": 107, "user_id": 4472212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314b3e2afd82d367c16cffdcd9a9c525?s=128&d=identicon&r=PG&f=1", "display_name": "yul-dev", "link": "https://stackoverflow.com/users/4472212/yul-dev"}, "edited": false, "score": 0, "creation_date": 1422431564, "post_id": 28186617, "comment_id": 44742628, "body": "Exactly, I apologize for my noobness, trying to learn."}], "answers": [{"comments": [{"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 1, "creation_date": 1422436215, "post_id": 28187890, "comment_id": 44744873, "body": "Great answer, although I think that&#39;s <code>List Context</code> (and <code>wantarray</code> has an unfortunate name)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1422436957, "post_id": 28187890, "comment_id": 44745268, "body": "Yes, you&#39;re quite correct. I&#39;ll amend for clarity. (I confess, I tend to get the two muddled in my brain sometimes)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1422469098, "last_edit_date": 1422469098, "creation_date": 1422434602, "answer_id": 28187890, "question_id": 28186617, "link": "https://stackoverflow.com/questions/28186617/concerns-with-concatenating-strings-and-ints/28187890#28187890", "title": "Concerns with concatenating strings and ints", "body": "<p>Perl is built around the central concept of 'do what I mean'. </p>\n\n<p>A scalar is a multi purpose variable type, and is intended to implicitly cast values to a data type that's appropriate to what you're doing. </p>\n\n<p>The reason this works is because perl is context sensitive - it knows the difference between different expected return values. </p>\n\n<p>At a basic level, you can see this with the <code>wantarray</code> function. (Which as noted below - is probably badly named, because we're talking about a <code>LIST</code> context)</p>\n\n<pre><code>sub context_test {\n    if ( not defined wantarray() ) {\n        print \"Void context\\n\";\n    }\n\n    if ( wantarray() ) {\n        return ( \"List\", \"Context\" );\n    }\n    else {\n        return \"scalar context\";\n    }\n}\n\ncontext_test();\nmy $scalar = context_test();\nmy @list   = context_test();\n\nprint \"Scalar context gave me $scalar\\n\";\nprint \"List context gave me @list\\n\";\n</code></pre>\n\n<p>This principle occurs throughout perl. If you want, you can use something like <a href=\"http://search.cpan.org/~dconway/Contextual-Return-0.004007/lib/Contextual/Return.pm\" rel=\"nofollow\"><code>Contextual::Return</code></a> to extend this further - testing the difference between numeric, string and boolean subsets of scalar contexts. </p>\n\n<p>The reason I mention this is because a scalar is a special sort of data type - if you look at <a href=\"http://search.cpan.org/~pevans/Scalar-List-Utils-1.41/lib/Scalar/Util.pm\" rel=\"nofollow\"><code>Scalar::Util</code></a> you will see a capability of creating a <code>dualvar</code> - a scalar that has different values in different contexts. </p>\n\n<pre><code>my $dualvar = Scalar::Util::dualvar ( 666, \"the beast\" );\n\nprint \"Numeric:\",$dualvar + 0,\"\\n\";\nprint \"String:\",$dualvar . '',\"\\n\";\n</code></pre>\n\n<p>Now, messing around with dualvars is a good way to create some really annoying and hard to trace bugs, but the point is - a <code>scalar</code> is a magic datatype, and perl is always aware of what you're doing with the result.</p>\n\n<p>If you perform a string operation, perl treats it as a string. If you perform a numeric operation, perl tries to treat it as a number. </p>\n\n<pre><code>my $value = '4'; #string;\nmy $newvalue = $value . 3; #because we concat, perl treats _both_ as strings. \nprint $newvalue,\"\\n\";\n\nmy $sum = $newvalue + 7; #perl turns strings back to numbers, because we're adding;\nprint $sum,\"\\n\";\n\nif (     Scalar::Util::isdual ( $newvalue ) ) { print \"newvalue Is a dual var\\n\" };\nif ( not Scalar::Util::isdual ( $sum )      ) { print \"sum is NOT a dual var\\n\"; };\n</code></pre>\n\n<p>Mostly 'context' is something that happens behind the scenes in perl, and you don't have to worry about it. If you've come from a programming background, the idea of implicit casting between <code>int</code> and <code>string</code> may seem a little bit dirty. But it mostly works fine. </p>\n\n<p>You may occasionally get errors like:\n <code>Argument \"4a3\" isn't numeric in addition (+)</code></p>\n\n<p>One of the downsides of this approach is these are runtime errors, because you're not doing strong type checking at 'compile' time. </p>\n\n<p>So in terms of specific concerns:</p>\n\n<ul>\n<li><p>You're runtime type checking, not compile time. If you have strict types, you can detect an attempt to add a <code>string</code> to an <code>int</code> before you start to run anything. </p></li>\n<li><p>You're not always operating in the context that you assume you are, which can lead to some unpredictable behaviour. One of the best examples is that <code>print</code> operates in a list context - so to take the example above:</p>\n\n<p><code>print context_test();</code></p></li>\n</ul>\n\n<p>You'll get <code>List Context</code>. </p>\n\n<ul>\n<li>If you monkey around with context sensitive return types, you can create some really annoying bugs that are immensely irritating to back trace and troubleshoot. </li>\n</ul>\n"}], "owner": {"reputation": 107, "user_id": 4472212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314b3e2afd82d367c16cffdcd9a9c525?s=128&d=identicon&r=PG&f=1", "display_name": "yul-dev", "link": "https://stackoverflow.com/users/4472212/yul-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1422469098, "creation_date": 1422429279, "last_edit_date": 1422433793, "question_id": 28186617, "link": "https://stackoverflow.com/questions/28186617/concerns-with-concatenating-strings-and-ints", "title": "Concerns with concatenating strings and ints", "body": "<p>I  have taken a principles of programming class and have been given a Perl expression that concatenates a string number to an int number and then adds another number to it and it evaluates fine. i.e. <code>(\"4\" . 3) + 7 == 50</code>.</p>\n\n<p>I'm trying to understand why Perl does this and what concerns it may bring up. I'm having a hard time grasping many of the concepts of the class and am trying to get explanations from different sources apart from my horrible teacher and equally horrible notes. </p>\n\n<p>Can the concept behind this kind of expression be explained to me as well as concerns they might bring up? Thanks in advance for the help. </p>\n\n<p>Edit: For Clarity</p>\n"}, {"tags": ["regex", "perl", "ip", "pattern-matching"], "answers": [{"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 0, "last_activity_date": 1422425736, "last_edit_date": 1422425736, "creation_date": 1422425397, "answer_id": 28185784, "question_id": 28185754, "link": "https://stackoverflow.com/questions/28185754/ip-matching-in-perl/28185784#28185784", "title": "ip matching in perl", "body": "<pre><code>^(?!.*\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}).*$\n</code></pre>\n\n<p>You can simply use this.This uses <code>lookahead</code> to make sure line has no ip address.See demo.Do match with each line.</p>\n\n<p><a href=\"https://www.regex101.com/r/bC8aZ4/19\" rel=\"nofollow\">https://www.regex101.com/r/bC8aZ4/19</a></p>\n"}, {"tags": [], "owner": {"reputation": 3085, "user_id": 977649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06edf5c200b339543e820deb0b63408d?s=128&d=identicon&r=PG", "display_name": "schtever", "link": "https://stackoverflow.com/users/977649/schtever"}, "is_accepted": true, "score": 3, "last_activity_date": 1422425791, "creation_date": 1422425791, "answer_id": 28185866, "question_id": 28185754, "link": "https://stackoverflow.com/questions/28185754/ip-matching-in-perl/28185866#28185866", "title": "ip matching in perl", "body": "<p>The problem is that you assigned the input to <code>$line</code>, so your test has to also be done against <code>$line</code>.</p>\n\n<pre><code>open(IN, \"$ARGV[0]\");\nwhile($line = &lt;IN&gt;){\n    chomp($line);\n    next if $line =~ /129\\.115\\.50\\.255/;\n    print $line, \"\\n\";\n}\nclose(IN);\n</code></pre>\n\n<p>Fixed the close at the end, you had <code>close(IN1)</code> not <code>close(IN)</code>.  Also added a <code>chomp</code> on the input to eliminate the extra newline on output.</p>\n"}, {"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1422447004, "post_id": 28185956, "comment_id": 44750983, "body": "That double negative (<code>unless... !=...</code>) is kind of jarring.  I&#39;d probably use <code>if ... &gt;= 0</code>."}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1422447642, "post_id": 28185956, "comment_id": 44751335, "body": "Agreed... I did look at it a few times, but left it as is. The main reason is I have <code>if ( (index $string, $substring) != -1)</code> hardwired in my brain as being synonymous with <code>if ($string =~ &#47;$substring)</code> because I typycally use it in an <code>if there&#39;s a match</code> context."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 2, "last_activity_date": 1422427837, "last_edit_date": 1422427837, "creation_date": 1422426229, "answer_id": 28185956, "question_id": 28185754, "link": "https://stackoverflow.com/questions/28185754/ip-matching-in-perl/28185956#28185956", "title": "ip matching in perl", "body": "<p>If you want to match an \"exact\" string, then regex isn't really needed. Instead you can use <code>index</code> to determine if your string is a substring of the line.</p>\n\n<pre><code>while (&lt;&gt;) {\n    print unless (index $_, \"129.115.50.255\") != -1;\n}\n</code></pre>\n\n<p><code>index</code> will return a <code>0</code> or a positive integer if the second argument provided is part of the first... otherwise it returns a <code>-1</code>... So this is saying is <code>print every line unless \"129.115.50.255\" is part of the line</code>. As an added bonus, <code>index</code> is typically faster than a regex match as it uses less resources.</p>\n\n<p>The downside of using index is you have to be careful of the last octet in your IP address, because it's looking for any substring. Say you were trying to filter out <code>129.115.50.2</code>, you would also filter out <code>129.115.50.200</code> or <code>.212</code>, or <code>.255</code>, etc. You could combat this by appending a space (or whatever delimeter appears in the log file) after the IP address, eg. <code>index $_, \"129.115.50.2 \"</code></p>\n\n<p>IF you want to use regex, manually escaping dots is annoying. Let perl do it for you and <code>print $line unless $line =~ quotemeta(\"129.115.50.255\")</code></p>\n\n<p>P.S. <code>while (&lt;&gt;)</code> is essentially short hand for <code>open File, $ARGV[0]; while (&lt;File&gt;)</code></p>\n"}, {"tags": [], "owner": {"reputation": 2078, "user_id": 2616428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ieQ7.jpg?s=128&g=1", "display_name": "pajaja", "link": "https://stackoverflow.com/users/2616428/pajaja"}, "is_accepted": false, "score": 0, "last_activity_date": 1422445923, "creation_date": 1422445923, "answer_id": 28191595, "question_id": 28185754, "link": "https://stackoverflow.com/questions/28185754/ip-matching-in-perl/28191595#28191595", "title": "ip matching in perl", "body": "<p>You already got enough answers on how to fix the perl code but if you have a binary file generated by tcpdump you can't filter it like a plain text. You need an application that knows how to read pcap file format. You can use tcpdump to read the packet capture and filter the ip:</p>\n\n<p><code>tcpdump -nr your_file.pcap host not 129.115.50.255</code></p>\n"}], "owner": {"reputation": 53, "user_id": 3593849, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dd3421bff7bff6738bb2843fc6b69ef4?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3593849/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 28185866, "answer_count": 4, "score": 0, "last_activity_date": 1422445923, "creation_date": 1422425198, "question_id": 28185754, "link": "https://stackoverflow.com/questions/28185754/ip-matching-in-perl", "title": "ip matching in perl", "body": "<p>I have an ip address 129.115.50.255</p>\n\n<p>I have tcpdump file that I am trying to print out \nall lines except ones that contain the ip address. </p>\n\n<p>my code is simply </p>\n\n<pre><code>open(IN, \"$ARGV[0]\");\nwhile($line = &lt;IN&gt;){\n   next if /129\\.115\\.50\\.255/;\n   print $line, \"\\n\";\n}\nclose(IN1);\n</code></pre>\n\n<p>I can't get it to print out the expected result. Can anyone help\nme understand what the proper syntax or method would be?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1422423135, "post_id": 28185179, "comment_id": 44739392, "body": "you need a naming convention for the daily created folders, something with date/timestamps will be the best"}, {"owner": {"reputation": 123, "user_id": 288686, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced150f40a1fbd8c57eb7b4f98d2c238?s=128&d=identicon&r=PG", "display_name": "user288686", "link": "https://stackoverflow.com/users/288686/user288686"}, "reply_to_user": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1422423456, "post_id": 28185179, "comment_id": 44739488, "body": "Yes. Folder convention will be something like MMDDYYYY."}, {"owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 1, "creation_date": 1422423639, "post_id": 28185179, "comment_id": 44739557, "body": "another thing, what exactly do you mean by picking up files. Do you want to copy them somewhere else, or just print out the list of file names."}, {"owner": {"reputation": 123, "user_id": 288686, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced150f40a1fbd8c57eb7b4f98d2c238?s=128&d=identicon&r=PG", "display_name": "user288686", "link": "https://stackoverflow.com/users/288686/user288686"}, "reply_to_user": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1422424028, "post_id": 28185179, "comment_id": 44739688, "body": "we already have a script that copies the files from this path to other paths. All we have to do is supply it with path from where it has to pickup files."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1422424165, "post_id": 28185179, "comment_id": 44739729, "body": "So what exactly are you trying to do that you need help with? Are you asking for help constructing a path containing the current date?"}, {"owner": {"reputation": 123, "user_id": 288686, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced150f40a1fbd8c57eb7b4f98d2c238?s=128&d=identicon&r=PG", "display_name": "user288686", "link": "https://stackoverflow.com/users/288686/user288686"}, "edited": false, "score": 0, "creation_date": 1422424633, "post_id": 28185179, "comment_id": 44739905, "body": "yes. that&#39;s the thing. is there any regex involved in it ?"}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1422425125, "post_id": 28185179, "comment_id": 44740079, "body": "Do you have to use perl or can you go with a specialised tool such as <i>wget</i>?"}, {"owner": {"reputation": 123, "user_id": 288686, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced150f40a1fbd8c57eb7b4f98d2c238?s=128&d=identicon&r=PG", "display_name": "user288686", "link": "https://stackoverflow.com/users/288686/user288686"}, "edited": false, "score": 0, "creation_date": 1422425196, "post_id": 28185179, "comment_id": 44740114, "body": "only perl is allowed."}], "answers": [{"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1422431420, "creation_date": 1422431420, "answer_id": 28187147, "question_id": 28185179, "link": "https://stackoverflow.com/questions/28185179/dynamic-folder-finding-using-perl/28187147#28187147", "title": "Dynamic folder finding using perl", "body": "<p>I'm making assumptions that you want to act on just the most recently created folder. I'm also going to assume you want to wait until the next day as maybe the folder is written to throughout the day... If not, just ignore the <code>$yesterday</code> stuff and use <code>$today</code> instead.</p>\n\n<p>Use Time::Piece and Time::Seconds, which have been a core module since 5.009005.</p>\n\n<pre><code>use Time::Piece;\nuse Time::Seconds;\n\nmy $today = localtime;\nmy $yesterday = $today - ONE_DAY;\nmy $folder = $yesterday-&gt;mdy(\"\");\n\nprint $folder . \"\\n\"\n\n# do stuff to http:\\\\com.test.ci\\test01\\$folder  \n</code></pre>\n\n<p>Basically we create a Time::Piece object and minus one day from it using a contant from Time::Seconds to create <code>$yesterday</code>. We don't really care about the time, so format it as <code>mdy</code> and append it to your parent path.</p>\n\n<p>The mdy(\"\") just means no delimter between the m, d and y. If you instead wrote <code>$yesterday-&gt;mdy()</code>, it would format it as MM-DD-YYYY. Refer to <a href=\"http://search.cpan.org/~rjbs/Time-Piece-1.29/Piece.pm\" rel=\"nofollow\">Time::Piece</a> on CPAN for more information on date formatting, calculations, comparisons, and parsing.</p>\n"}], "owner": {"reputation": 123, "user_id": 288686, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced150f40a1fbd8c57eb7b4f98d2c238?s=128&d=identicon&r=PG", "display_name": "user288686", "link": "https://stackoverflow.com/users/288686/user288686"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422431420, "creation_date": 1422422550, "question_id": 28185179, "link": "https://stackoverflow.com/questions/28185179/dynamic-folder-finding-using-perl", "title": "Dynamic folder finding using perl", "body": "<p><BR>\nAm new to perl and we have a requirement to pickup files from folder that gets created everyday.<BR> Is there any way we can do this like using sysdate or anything?<BR> Path will be something like http:\\\\com.test.ci\\test01\n\\new_folder_created_daily\\*.*<BR>Is there anyway to dynamically get this done ?</p>\n"}, {"tags": ["perl", "methods", "archive", "perl-module"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422416980, "post_id": 28184053, "comment_id": 44737633, "body": "What is the rest of your error message? It must also say <code>via package &quot;Xxx&quot; </code>"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1422422927, "creation_date": 1422422927, "answer_id": 28185256, "question_id": 28184053, "link": "https://stackoverflow.com/questions/28184053/archivezip-membersmatching-cant-locate-method-in-perl/28185256#28185256", "title": "Archive::Zip membersMatching can&#39;t locate method in Perl?", "body": "<p>Check the path of your zip file (<code>$file</code>). I think it's failing there. Update your code to the below:</p>\n\n<pre><code>my $zip = Archive::Zip-&gt;new();\nunless ( $zip-&gt;read( 'someZip.zip' ) == AZ_OK ) {\n    die 'read error';\n}\n\nprint \"zip contains the following files:\\n\";\nprint \"$_\\n\" for $zip-&gt;memberNames();\n</code></pre>\n"}], "owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422427487, "creation_date": 1422415235, "last_edit_date": 1422427487, "question_id": 28184053, "link": "https://stackoverflow.com/questions/28184053/archivezip-membersmatching-cant-locate-method-in-perl", "title": "Archive::Zip membersMatching can&#39;t locate method in Perl?", "body": "<p>I have a script that uses <code>Archive::Zip</code>, and I want to use the method <code>membersMatching</code>,  but I can't figure out what I'm missing.</p>\n\n<p>I called the module at the beginning of the script:</p>\n\n<pre><code>use Archive::Zip qw( :ERROR_CODES :CONSTANTS :MISC_CONSTANTS );\n</code></pre>\n\n<p>and this is the block of code where the module is used:</p>\n\n<pre><code>while (my $file = readdir(TRIMMED_CELL_DIR)) {\n\n    #Only if file ends in _1.fastqc.zip (only 1 instance per \"trimmed\" subdirectory.)\n    if($file =~ /.*\\_1\\_fastqc\\.zip/){  \n\n        #Extract the file summary.txt and assign it to filehandle SUMMARY_R1.\n        $file = \"${trimmedDirectory}/${file}\";\n        print \"Loading ZIP file: $file. \\n\";\n        my $zip = Archive::Zip-&gt;new($file);\n        my @txtFileMembers = $zip-&gt;membersMatching( '.*\\.txt' );\n        foreach my $txtFile (@txtFileMembers){\n            extractMember($txtFile);\n            open(SUMMARY_R1,\"&lt; $txtFile\");\n        }\n\n    }\n</code></pre>\n\n<p>I keep getting the error <code>Can't locate object method \"membersMatching\".</code> ... and I know it has something to do with this membersMatching method not being exported, but I don't know how to call it in the script. Te CPAN page for Archive::Zip doesn't say anything except to use it like so:</p>\n\n<blockquote>\n  <p>membersMatching( $regex )\n  membersMatching( { regex => $regex } )\n  Return array of members whose filenames match given regular expression in list context. Returns number of matching members in\n  scalar context.</p>\n\n<pre><code>    my @textFileMembers = $zip-&gt;membersMatching( '.*\\.txt' );\n    # or\n    my $numberOfTextFiles = $zip-&gt;membersMatching( '.*\\.txt' );\n</code></pre>\n</blockquote>\n\n<p>The ZIP file loading with the <code>Archive::Zip-&gt;new($file)</code> function works, so the module is being exported, just not the method <code>memebersMatching</code>...</p>\n"}, {"tags": ["arrays", "perl", "hash", "reference"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1422402449, "post_id": 28182089, "comment_id": 44733586, "body": "Might help if you show the syntax error"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1422402664, "post_id": 28182089, "comment_id": 44733642, "body": "Also $cellhash{$celldirectiry} can only hold a scaler so remove the %{ } from around it then replace your curve brackets ( ) with curly brackets { } on the right hand side to allocate a hash ref to the scaller"}, {"owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1422415674, "post_id": 28182089, "comment_id": 44737287, "body": "Are you sure about this? Npw I&#39;m confused..."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1422433039, "post_id": 28182089, "comment_id": 44743261, "body": "It more just for clarity, Most people would just allocate hashref on the right handside rather then derefrence a hash on the left hand side."}], "answers": [{"comments": [{"owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "edited": false, "score": 0, "creation_date": 1422415731, "post_id": 28182583, "comment_id": 44737301, "body": "Thanks, Matt! Are the curly braces and % around  $cellHash{$cellDirectory} correct syntax? The comment in my post above has me doubting."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "edited": false, "score": 1, "creation_date": 1422423736, "post_id": 28182583, "comment_id": 44739588, "body": "Technically, it&#39;s correct, but in practice, you wouldn&#39;t see it very often. Rather than dereferencing on the left-hand side, I would probably assign directly to a hash reference on the right-hand side. IMO, it&#39;s more direct and more readable that way."}, {"owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "edited": false, "score": 0, "creation_date": 1422515690, "post_id": 28182583, "comment_id": 44782546, "body": "What would that look like?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "edited": false, "score": 0, "creation_date": 1422569629, "post_id": 28182583, "comment_id": 44814459, "body": "Updated answer with a couple examples."}, {"owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "edited": false, "score": 0, "creation_date": 1422994143, "post_id": 28182583, "comment_id": 44966436, "body": "Thank you for your examples. It does seem now like an unnecessary step what I was doing ;)"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 6, "last_activity_date": 1422569604, "last_edit_date": 1422569604, "creation_date": 1422404692, "answer_id": 28182583, "question_id": 28182089, "link": "https://stackoverflow.com/questions/28182089/builiding-a-hash-of-hashes-of-arrays-with-variables-in-perl/28182583#28182583", "title": "Builiding a hash of hashes of arrays with variables in perl?", "body": "<p>The semicolons inside the list are the problem.</p>\n\n<pre><code>%{ $cellHash{$cellDirectory} } = (\n    R1Tests =&gt; \\@fastqcResults_R1,\n    R2Tests =&gt; \\@fastqcResults_R2,\n);\n</code></pre>\n\n<p><strong>Update:</strong> </p>\n\n<p>In response to a question in a comment, this is what I would do instead.</p>\n\n<p>The anonymous hash syntax (reference literal) would be my first choice:</p>\n\n<pre><code>$cellHash{$cellDirectory} = {\n    R1Tests =&gt; \\@fastqcResults_R1,\n    R2Tests =&gt; \\@fastqcResults_R2,\n};\n</code></pre>\n\n<p>This is also valid, though I like it less:</p>\n\n<pre><code>my %newHash = (\n    R1Tests =&gt; \\@fastqcResults_R1,\n    R2Tests =&gt; \\@fastqcResults_R2,\n);\n\n$cellHash{$cellDirectory} = \\%newHash;\n</code></pre>\n"}], "owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 28182583, "answer_count": 1, "score": 1, "last_activity_date": 1422569604, "creation_date": 1422402017, "question_id": 28182089, "link": "https://stackoverflow.com/questions/28182089/builiding-a-hash-of-hashes-of-arrays-with-variables-in-perl", "title": "Builiding a hash of hashes of arrays with variables in perl?", "body": "<pre><code>my %cellHash\n</code></pre>\n\n<p>has different keys, $<code>cellDirectory</code> contains the value of the desired key.</p>\n\n<p>I am trying to assign a hash as value of the current key (<code>$cellDirectory</code>).\nThat hash has only 2 keys, and each of them has a different array as value.</p>\n\n<pre><code>%{ $cellHash{$cellDirectory} } = (\n'R1Tests'  =&gt; \\@fastqcResults_R1 ;\n'R2Tests'  =&gt; \\@fastqcResults_R2 ;\n);\n</code></pre>\n\n<p>However, when I try to run the script, it returns a syntax error near this part of the code.</p>\n\n<p>I don't know what I am doing wrong... any ideas?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1422403824, "post_id": 28181797, "comment_id": 44734072, "body": "I dont see any code. Its best to update your question. Normally you should provide both input data. Expected output. And at least an attempt at the code to the problen"}, {"owner": {"reputation": 37, "user_id": 4500732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9788fff5b352e9682a1f6bc95ae057c?s=128&d=identicon&r=PG&f=1", "display_name": "James ", "link": "https://stackoverflow.com/users/4500732/james"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1422403980, "post_id": 28181797, "comment_id": 44734128, "body": "I can accumulate three text file together in one. Now i have 6 column text file and from there i want to show just first four column. How can i do it?"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1422404086, "post_id": 28181797, "comment_id": 44734157, "body": "Again its hard to say without seeing your code and knowing the code you have. Hoever you may want to look at split()"}, {"owner": {"reputation": 37, "user_id": 4500732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9788fff5b352e9682a1f6bc95ae057c?s=128&d=identicon&r=PG&f=1", "display_name": "James ", "link": "https://stackoverflow.com/users/4500732/james"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1422405395, "post_id": 28181797, "comment_id": 44734569, "body": "I&#39;ve tried below code:                                                                           <code>use strict; use warnings; use IO::File; my$result; my @files = (q[1.txt],q[2.txt],q[3.txt]); my @fhs = (); foreach my $file (@files) {  my $fh = new IO::File $file, O_RDONLY;  push @fhs, $fh if defined $fh; } while(1) {  my @lines = map { $_-&gt;getline } @fhs;  last if grep { not defined $_ } @lines[0..(@fhs-1)];  my@result=join(qq[\\t], map { s&#47;[\\r?\\n]+&#47; &#47;g; $_ } @lines) . qq[\\r\\n];  open (MYFILE, &#39;&gt;&gt;Result.txt&#39;);  print (MYFILE &quot;@result&quot;);  close (MYFILE);  }</code>"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1422412505, "post_id": 28181797, "comment_id": 44736467, "body": "@James: <code>(@fhs-1)</code> &lt;=&gt; <code>$#fhs</code>"}], "answers": [{"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1422454465, "last_edit_date": 1422454465, "creation_date": 1422413248, "answer_id": 28183752, "question_id": 28181797, "link": "https://stackoverflow.com/questions/28181797/read-specific-column-in-perl/28183752#28183752", "title": "Read specific column in perl", "body": "<p>Right now, you're just concatenating the lines of the files together. If that doesn't give you the output you like, you need to chop some columns out. </p>\n\n<p>Since your output looks like you have tab delimited files as input, I split the lines coming in by tabs. And since you only wanted the second column, I only take the column at the first offset from the split. </p>\n\n<pre><code>my $line_num = 0;\nwhile(1) {\n    my @lines = map { $_-&gt;getline } @fhs;\n    last if grep { not defined $_ } @lines[0..$#fhs];\n    $line_num++;\n    my @rows     = map { [ split /\\t/ ] } @lines;\n    my $time_val = $rows[0][0];\n    die \"Time values are not all equal on line #$line_num!\" \n        if grep { $time_val != $_-&gt;[0] } @rows\n        ;\n    my $result = join( q[\\t], $time_val, map { $_-&gt;[1] } @rows );\n    open (MYFILE, '&gt;&gt;Result.txt');\n    print (MYFILE \"$result\\n\");\n    close (MYFILE);\n}\n</code></pre>\n\n<p>Of course, there is no reason to do custom coding to split delimited columns: </p>\n\n<pre><code>use Text::CSV; \n...\nmy $csv  = Text::CSV-&gt;new( { sep_char =&gt; \"\\t\" } );\n\nwhile(1) { \n    my @rows = map { $csv-&gt;getline( $_ ) } @fhs;\n    last if grep { not defined $_ } @rows[0..$#fhs];\n    my ( $time_val, @time_vals ) = map { $_-&gt;[0] } @rows;\n    my @values = map { $_-&gt;[1] } @rows;\n    die \"Time values are not all equal on line #$line_num!\" \n        if grep { $time_val != $_ } @time_vals\n        ;\n    my $result = join( q[\\t], $time_val, @values );\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1422442371, "post_id": 28185985, "comment_id": 44748404, "body": "If you want to format it into neat columns so the headers align with the data below, replace the 2 <code>print</code> lines in the while loop with <code>printf(&quot;%4s  %-15s %-15s %-15s\\n&quot;, @elems[0,1,3,5]);</code>"}], "tags": [], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "is_accepted": false, "score": 1, "last_activity_date": 1422426357, "creation_date": 1422426357, "answer_id": 28185985, "question_id": 28181797, "link": "https://stackoverflow.com/questions/28181797/read-specific-column-in-perl/28185985#28185985", "title": "Read specific column in perl", "body": "<p>I'd go with <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a>. </p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen (my $f, '&lt;', 'your-file.dat') or die;\n\nwhile (my $line = &lt;$f&gt;) {\n  my @elems = split ' ', $line;\n  print join \"\\t\", @elems[0,1,3,5];\n  print \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 4500732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9788fff5b352e9682a1f6bc95ae057c?s=128&d=identicon&r=PG&f=1", "display_name": "James ", "link": "https://stackoverflow.com/users/4500732/james"}, "edited": false, "score": 0, "creation_date": 1422431695, "post_id": 28186206, "comment_id": 44742692, "body": "Thanks @William Pursell"}], "tags": [], "owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "is_accepted": false, "score": 1, "last_activity_date": 1422428345, "last_edit_date": 1422428345, "creation_date": 1422427462, "answer_id": 28186206, "question_id": 28181797, "link": "https://stackoverflow.com/questions/28181797/read-specific-column-in-perl/28186206#28186206", "title": "Read specific column in perl", "body": "<p>This is a one-liner; no need to write a script:</p>\n\n<pre><code>$ perl -lanE '$,=\"\\t\"; say @F[0,1,3,5]' 1.txt 2.txt 3.txt\n</code></pre>\n\n<p>If you like, you can shorten it to:</p>\n\n<pre><code>$ perl -lanE '$,=\"\\t\"; say @F[0,1,3,5]' [123].txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4676590, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7zornhKMgJk/AAAAAAAAAAI/AAAAAAAAAOQ/nD5AUgwUB4k/photo.jpg?sz=128", "display_name": "Cheyan Sethu", "link": "https://stackoverflow.com/users/4676590/cheyan-sethu"}, "is_accepted": false, "score": -1, "last_activity_date": 1506139580, "creation_date": 1506139580, "answer_id": 46375926, "question_id": 28181797, "link": "https://stackoverflow.com/questions/28181797/read-specific-column-in-perl/46375926#46375926", "title": "Read specific column in perl", "body": "<pre><code>    use strict;    \nuse warnings;    \nopen(FH,\"&lt;\",\"a.txt\");    \nprint \"=========== A File content =========== \\n\";    \nmy $a = `cat a.txt`; \nprint \"$a\\n\";  \n\nmy @temp = &lt;&gt;;  \n\n    my (@arr, @entries, @final);  \n    foreach ( @temp ) {  \n         @arr = split ( \" \", $_ );  \n         push @entries, @arr;  \n}  \nclose FH;\n\nmy @entries1 = @entries;  \n\nfor(my $i = 7; $i&lt;=$#entries; $i=$i+2) {  \n\n        push @final, $entries[$i];\n}\n\nmy $size = scalar @final;\n\nopen FH1, \"&gt;\", \"b.txt\";  \nprint FH1 \"Time \\t Value\\n\";  \nfor(my $i = 0; $i &lt; $size; $i++) {  \n\n        my $j = $i+1;  \n        print FH1 \"$j \\t $final[$i]\\n\";  \n}\n\nclose FH1;    \n\nprint \"============ B file content ===============\\n\";    \nmy $b = `cat b.txt`;    \nprint \"$b\";\n\n\nO/P:    \n=========== A File content ===========  \nTime  Value    Time    Value    Time    Value    \n1   0.353366497 1   0.822193251 1   0.780866396   \n2   0.168834182 2   0.865650713 2   0.42429447  \n3   0.323540698 3   0.865984245 3   0.856875894  \n4   0.721728497 4   0.634773162 4   0.563059042  \n5   0.545131335 5   0.029808531 5   0.645993399  \n6   0.143720835 6   0.949973296 6   0.14425803  \n7   0.414601876 7   0.53421424  7   0.826148814  \n8   0.194818367 8   0.942334356 8   0.837107013  \n9   0.291448263 9   0.242588271 9   0.939609775  \n10  0.500159997 10  0.428897293 10  0.41946448  \n\n============ B file content ===============  \nTime     Value  \n1        0.353366497  \n2        0.822193251  \n3        0.780866396  \n4        0.168834182  \n5        0.865650713  \n6        0.42429447  \n7        0.323540698  \n8        0.865984245  \n9        0.856875894  \n10       0.721728497  \n11       0.634773162  \n12       0.563059042  \n13       0.545131335  \n14       0.029808531  \n15       0.645993399  \n16       0.143720835  \n17       0.949973296  \n18       0.14425803  \n19       0.414601876   \n20       0.53421424  \n21       0.826148814  \n22       0.194818367  \n23       0.942334356  \n24       0.837107013  \n25       0.291448263  \n26       0.242588271  \n27       0.939609775  \n28       0.500159997  \n29       0.428897293  \n30       0.41946448  \n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4500732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9788fff5b352e9682a1f6bc95ae057c?s=128&d=identicon&r=PG&f=1", "display_name": "James ", "link": "https://stackoverflow.com/users/4500732/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4814, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1506139580, "creation_date": 1422400371, "last_edit_date": 1422412134, "question_id": 28181797, "link": "https://stackoverflow.com/questions/28181797/read-specific-column-in-perl", "title": "Read specific column in perl", "body": "<p>I'm new in perl. I have below text file and from there I want only one <code>Time</code> column and next columns are values. How can I create a text file with my desire output in perl.</p>\n\n<pre><code>Time  Value    Time    Value    Time    Value\n1   0.353366497 1   0.822193251 1   0.780866396\n2   0.168834182 2   0.865650713 2   0.42429447\n3   0.323540698 3   0.865984245 3   0.856875894\n4   0.721728497 4   0.634773162 4   0.563059042\n5   0.545131335 5   0.029808531 5   0.645993399\n6   0.143720835 6   0.949973296 6   0.14425803\n7   0.414601876 7   0.53421424  7   0.826148814\n8   0.194818367 8   0.942334356 8   0.837107013\n9   0.291448263 9   0.242588271 9   0.939609775\n10  0.500159997 10  0.428897293 10  0.41946448 \n</code></pre>\n\n<p>I've tried below code: </p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::File;\nmy $result;\nmy @files = (q[1.txt],q[2.txt],q[3.txt]);\nmy @fhs = ();\nforeach my $file (@files) { \n    my $fh = new IO::File $file, O_RDONLY;\n    push @fhs, $fh if defined $fh;\n} \n\nwhile(1) { \n    my @lines = map { $_-&gt;getline } @fhs;\n    last if grep { not defined $_ } @lines[0..(@fhs-1)];\n    my @result=join(qq[\\t], map { s/[\\r?\\n]+/ /g; $_ } @lines ) . qq[\\r\\n];\n    open (MYFILE, '&gt;&gt;Result.txt');\n    print (MYFILE \"@result\");\n    close (MYFILE);\n}\n</code></pre>\n"}, {"tags": ["perl", "installation", "cpan", "www-mechanize-firefox", "mozrepl"], "comments": [{"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1422400957, "post_id": 28181577, "comment_id": 44733029, "body": "It looks like some of the tests actually need Firefox and Mozrepl to be running before they begin, as they are testing javascript interaction within the browser. Note these are only warnings, did they stop module installation?. You could try running a sample program to see if the module is working"}, {"owner": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "reply_to_user": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1422411991, "post_id": 28181577, "comment_id": 44736343, "body": "Yes, I did try out a sample script. But this is the error I am receiving - &quot;Can&#39;t locate WWW/Mechanize/Firefox.pm in @INC (you may need to install the WWW::Mechanize::Firefox module)&quot; - I also ensured that MozRepl is activated."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422418245, "post_id": 28181577, "comment_id": 44737966, "body": "It was never installed because of the test failures"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422418286, "post_id": 28181577, "comment_id": 44737976, "body": "It might help to show the errors rather than the summary"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1422422084, "creation_date": 1422422084, "answer_id": 28185104, "question_id": 28181577, "link": "https://stackoverflow.com/questions/28181577/problems-while-installing-wwwmechanizefirefox/28185104#28185104", "title": "Problems while installing WWW::Mechanize::Firefox", "body": "<p>As Kim suggested in comments, you will need Mozrepl and Firefox. </p>\n\n<p>Please refer <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox::Installation\" rel=\"nofollow\">WWW::Mechanize::Firefox::Installation</a> page for detailed instructions on how to install this module.</p>\n\n<p>If you use ActiveStates package manager, you can find some pre-packaged but untested PPMs at <a href=\"https://github.com/Corion/www-mechanize-firefox/downloads\" rel=\"nofollow\">https://github.com/Corion/www-mechanize-firefox/downloads</a> .</p>\n"}, {"comments": [{"owner": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "edited": false, "score": 0, "creation_date": 1422997027, "post_id": 28186922, "comment_id": 44968040, "body": "I am trying using Strawberry Perl. Should we have Cygwin installed or can we install through windows command prompt itself ? I am installing some of the module&#39;s dependencies and they are giving me errors. It would be helpful if you can tell me which version of Perl and Firefox you used. Thanks !"}, {"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "reply_to_user": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "edited": false, "score": 0, "creation_date": 1423036085, "post_id": 28186922, "comment_id": 44981271, "body": "I am using Perl version 20 and Firefox 33.0. Strawberry Perl doesn&#39;t need cygwin. Make sure you are running Strawberry Perl and not the Activestate version. If you just type &#39;perl&#39; in command line, you run the one that appears first in the $PATH environment variable."}, {"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "reply_to_user": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "edited": false, "score": 1, "creation_date": 1423089639, "post_id": 28186922, "comment_id": 45012755, "body": "Or for a Python based solution, look at <a href=\"https://splinter.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\">splinter.readthedocs.org/en/latest</a> . It may not even require mzrepl"}], "tags": [], "owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1422433767, "last_edit_date": 1422433767, "creation_date": 1422430499, "answer_id": 28186922, "question_id": 28181577, "link": "https://stackoverflow.com/questions/28181577/problems-while-installing-wwwmechanizefirefox/28186922#28186922", "title": "Problems while installing WWW::Mechanize::Firefox", "body": "<p>I needed to use this module on Windows, and couldn't get it running with ActivePerl. So I installed <a href=\"http://strawberryperl.com/\" rel=\"nofollow\">http://strawberryperl.com/</a> and it worked. This version of perl seems to handle installs form the cpan command line utility better than Activestate, who expect you to use their perl package manager as the default module installer (and don't supply a dmake program). Strawberry Perl also comes with a C compiler so can build modules that are a mixture of Perl and C code.</p>\n\n<p>And make sure mozrepl is running before you try to install.</p>\n"}], "owner": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1422433767, "creation_date": 1422399277, "last_edit_date": 1422418979, "question_id": 28181577, "link": "https://stackoverflow.com/questions/28181577/problems-while-installing-wwwmechanizefirefox", "title": "Problems while installing WWW::Mechanize::Firefox", "body": "<p>I am using the windows 8 operating system and I am trying to install the WWW::Mechanize::Firefox module in ActiveState Perl, from CPAN. I have successfully downloaded and installed all the dependencies and also installed the MozRepl module on Firefox. I do not have noScript running on my firefox and hence I am assuming that Javascript is enabled across all files (I am not sure how or where to check that). Here is my error message when I try to install the module.</p>\n\n<p><img src=\"https://i.stack.imgur.com/gPNiP.png\" alt=\"enter image description here\"></p>\n\n<p>I also constantly receive this error throughout the installation - \"Subroutine-MozRepl-Load Plugins redefined at line 104.\" \nAny help is much appreciated ! Thank you !</p>\n\n<p>EDIT - These are the errors - \n<img src=\"https://i.stack.imgur.com/zT7dU.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["perl", "csv"], "answers": [{"tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 5, "last_activity_date": 1422398948, "creation_date": 1422398948, "answer_id": 28181502, "question_id": 28181349, "link": "https://stackoverflow.com/questions/28181349/why-does-my-textcsv-code-split-values-on-spaces-when-i-print-them/28181502#28181502", "title": "Why does my Text::CSV code split values on spaces when I print them?", "body": "<p>Try</p>\n\n<pre><code>for my $field (@fields)\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>while(my $field = &lt;@fields&gt;)\n</code></pre>\n\n<p>That <code>while</code> statement does not do what you think it does.  It's equivalent to</p>\n\n<pre><code>while (my $field = glob \"@fields\")\n</code></pre>\n\n<p>which isn't remotely what you meant.  (<a href=\"http://perldoc.perl.org/functions/glob.html\">glob</a> breaks its argument on spaces and tries to expand wildcards, matching files on disk.  Your argument doesn't have any wildcards, so it winds up meaning about the same as <code>split ' ', \"@fields\"</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 4480167, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0f3e50c32cf2d2fde774aa23b7707c44?s=128&d=identicon&r=PG&f=1", "display_name": "stumped221", "link": "https://stackoverflow.com/users/4480167/stumped221"}, "edited": false, "score": 0, "creation_date": 1422655691, "post_id": 28181593, "comment_id": 44851565, "body": "Thanks ThisSuitisBalckNot and cjm,  for my $field (@fields)   ended up fixing the code.. I&#39;m still not clear on what &quot;globs&quot; are used for but I know enough to avoid the same mistake again :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 157, "user_id": 4480167, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0f3e50c32cf2d2fde774aa23b7707c44?s=128&d=identicon&r=PG&f=1", "display_name": "stumped221", "link": "https://stackoverflow.com/users/4480167/stumped221"}, "edited": false, "score": 0, "creation_date": 1422657556, "post_id": 28181593, "comment_id": 44852302, "body": "@stumped221 Say you have a bunch of files with different extensions in a directory <code>foo&#47;</code>. Using <code>glob</code> you can get the names of all of the <code>.txt</code> files like this: <code>perl -wE say for &lt;foo&#47;*.txt&gt;</code>. You can also use it to add a prefix or suffix (or both!) to a set of words, e.g. <code>&lt;foo{bar,baz}&gt;</code> returns <code>foobar</code> and <code>foobaz</code>. You can even generate the Cartesian product, e.g. <code>&lt;{foo,bar}-{apple,orange}&gt;</code> returns <code>foo-apple</code>, <code>foo-orange</code>, <code>bar-apple</code>, and <code>bar-orange</code>. There are many other nifty things you can do, but that should give you an idea."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 3, "last_activity_date": 1422401014, "last_edit_date": 1592644375, "creation_date": 1422399346, "answer_id": 28181593, "question_id": 28181349, "link": "https://stackoverflow.com/questions/28181349/why-does-my-textcsv-code-split-values-on-spaces-when-i-print-them/28181593#28181593", "title": "Why does my Text::CSV code split values on spaces when I print them?", "body": "<p>The problem is in your second loop:</p>\n<pre><code>while(my $field = &lt;@fields&gt;) \n{\n    print $field.&quot;\\n&quot;;\n}\n</code></pre>\n<p>You can see what's actually going on using <a href=\"http://perldoc.perl.org/B/Deparse.html\" rel=\"nofollow noreferrer\"><code>B::Deparse</code></a>:</p>\n<pre><code>$ perl -MO=Deparse -e 'while (my $field = &lt;@fields&gt;) { print $field.&quot;\\n&quot; }'\nuse File::Glob ();\nwhile (defined(my $field = glob(join($&quot;, @fields)))) {\n    do {\n        print $field . &quot;\\n&quot;\n    };\n}\n-e syntax OK\n</code></pre>\n<p>Let's break that down a bit:</p>\n<pre><code>join($&quot;, @fields)\n</code></pre>\n<p>joins the elements of <code>@fields</code> into a single string, separated by <code>$&quot;</code> (default is a single space). So if <code>@fields</code> contains <code>FOO</code>, <code>BAR</code>, and <code>IM FOO BAR'D</code>, the result of the <code>join</code> will be</p>\n<pre><code>FOO BAR IM FOO BAR'D\n</code></pre>\n<p>Now, what does <code>glob</code> do? From <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\"><code>perldoc -f glob</code></a>:</p>\n<blockquote>\n<p>In list context, returns a (possibly empty) list of filename expansions on the value of <code>EXPR</code> such as the standard Unix shell <code>/bin/csh</code> would do. In scalar context, glob iterates through such filename expansions, returning <code>undef</code> when the list is exhausted. This is the internal function implementing the <code>&lt;*.c&gt;</code> operator [...]</p>\n<p><strong>Note that glob splits its arguments on whitespace and treats each segment as separate pattern.</strong></p>\n</blockquote>\n<p>So</p>\n<pre><code>glob(&quot;FOO BAR IM FOO BAR'D&quot;)\n</code></pre>\n<p>in scalar context will return <code>FOO</code>, followed by <code>BAR</code>, followed by <code>IM</code>, and so on.</p>\n<p>As <a href=\"https://stackoverflow.com/a/28181502/176646\">cjm suggests</a>, change your loop to something like this to fix:</p>\n<pre><code>foreach my $field (@fields) \n{\n    print &quot;$field\\n&quot;;\n}\n</code></pre>\n<p>Or better yet, instead of copying the contents of <code>@$row</code> into <code>@fields</code> and looping through <code>@fields</code>, simply loop through <code>@$row</code> directly:</p>\n<pre><code>foreach my $field (@$row) {\n    print &quot;$field\\n&quot;;\n}\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 4480167, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0f3e50c32cf2d2fde774aa23b7707c44?s=128&d=identicon&r=PG&f=1", "display_name": "stumped221", "link": "https://stackoverflow.com/users/4480167/stumped221"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 28181502, "answer_count": 2, "score": 1, "last_activity_date": 1422401014, "creation_date": 1422398219, "last_edit_date": 1422400010, "question_id": 28181349, "link": "https://stackoverflow.com/questions/28181349/why-does-my-textcsv-code-split-values-on-spaces-when-i-print-them", "title": "Why does my Text::CSV code split values on spaces when I print them?", "body": "<p>I have the following code that uses <code>Text::CSV</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage main;\nuse strict;\nuse warnings;\nuse Text::CSV;\n\nmy $csv = Text::CSV -&gt; new ({ binary =&gt; 0, eol =&gt; $/ });\nopen my $io, \"&lt;\", $file or die \"$file: $!\";\n\nwhile (my $row = $csv -&gt; getline ($io)) \n{\n    my @fields = @$row;\n\n    while(my $field = &lt;@fields&gt;) \n    {\n        print $field.\"\\n\";\n    }\n\n}\n</code></pre>\n\n<p>(adapted from the <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\"><code>Text::CSV</code> documentation</a>)</p>\n\n<p>When I try to loop through my <code>@fields</code> array after assigning it the values from <code>@$row</code>, it breaks up the values on spaces. For instance</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"FOO\",\"BAR\",\"IM FOO BAR'D\"\n</code></pre>\n\n<p>comes out as</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>FOO\nBAR\nIM\nFOO\nBAR'D\n</code></pre>\n\n<p>Why is this happening and how can I fix it?</p>\n"}, {"tags": ["perl", "module", "tk"], "comments": [{"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1422394204, "post_id": 28179952, "comment_id": 44729807, "body": "make sure you put it in the right place with <code>perl -V</code> will tll you your @INC and how did you install it?"}, {"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "reply_to_user": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1422394578, "post_id": 28179952, "comment_id": 44730012, "body": "I just downloaded the folder. I typed &quot;perl -V&quot; and it showed me two paths. I put the folder under on of these two paths and it still didn&#39;t work."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1422397318, "post_id": 28179952, "comment_id": 44731464, "body": "Just out of curiosity, what version of Perl are you running?"}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422397132, "post_id": 28180974, "comment_id": 44731371, "body": "I use ActiveState&#39;s Perl. How canI use it to download Tk ?"}, {"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422432098, "post_id": 28180974, "comment_id": 44742864, "body": "I have CPAN and I typded the command &quot;cpan TK&quot;. I got the following message:    Fetching with LWP: <a href=\"http://cpan.perl.org/authors/01mailrc.txt.gz\" rel=\"nofollow noreferrer\">cpan.perl.org/authors/01mailrc.txt.gz</a> LWP failed with code[500] message[Can&#39;t connect to cpan.perl.org:80 (10060)] Fetching with LWP: <a href=\"http://cpan.perl.org/authors/01mailrc.txt.gz\" rel=\"nofollow noreferrer\">cpan.perl.org/authors/01mailrc.txt.gz</a> LWP failed with code[500] message[Can&#39;t connect to cpan.perl.org:80 (10060)]  Fetching with LWP: <a href=\"http://cpan.perl.org/authors/01mailrc.txt.gz\" rel=\"nofollow noreferrer\">cpan.perl.org/authors/01mailrc.txt.gz</a> LWP failed with code[500] message[Can&#39;t connect to cpan.perl.org:80 (10060)]"}, {"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422441828, "post_id": 28180974, "comment_id": 44748097, "body": "I downloaded ActivePerl from this address: www.activestate.com/activeperl/downloads"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422447502, "post_id": 28180974, "comment_id": 44751258, "body": "Those messages look like your interconnection is screwed up.  If you&#39;re behind a proxy server you&#39;ll have to set some environment variables.  &quot;http_proxy&quot; is, I believe, one of them.  I&#39;ll look it up."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422447771, "post_id": 28180974, "comment_id": 44751397, "body": "OK, documentation on http_proxy is @ <a href=\"http://docs.activestate.com/activeperl/5.8/faq/ActivePerl-faq2.html\" rel=\"nofollow noreferrer\">docs.activestate.com/activeperl/5.8/faq/ActivePerl-faq2.html</a>"}, {"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422467100, "post_id": 28180974, "comment_id": 44764161, "body": "OK. I solved the problem of proxy server.I typed &quot;cpan Tk&quot; and Tk was downloaded. Still, when I executed this code, I got:   Can&#39;t locate Tk.pm in @INC (you may need to install the Tk module) (@INC contain s: C:/Perl64/site/lib C:/Perl64/lib .) at file.pl line 1. BEGIN failed--compilation aborted at file.pl line 1."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422470040, "post_id": 28180974, "comment_id": 44765882, "body": "You&#39;ve fixed your proxy settings then downloaded, compiled and tested the Tk module in about 20 minutes?  You&#39;re <i>sure</i> you didn&#39;t ignore any error messages in that <code>cpan</code> run?"}, {"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422470068, "post_id": 28180974, "comment_id": 44765896, "body": "actually, now I see the following message at the end of cpan run:   &quot;&#39;windres&#39; is not recognized as an internal or external command, operable program or batch file. dmake.exe:  Error code 129, while making &#39;tkres.o&#39; dmake.exe:  Error code 255, while making &#39;pTk\\libpTk.a&#39;   SREZIC/Tk-804.032.tar.gz   C:\\Perl64\\site\\bin\\dmake.exe -- NOT OK&quot;"}, {"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1422471333, "post_id": 28180974, "comment_id": 44766544, "body": "I didn&#39;t actually solved the proxy problem. I just moved to another computer, in which this problem doesn&#39;t exist."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 3, "last_activity_date": 1422396576, "creation_date": 1422396576, "answer_id": 28180974, "question_id": 28179952, "link": "https://stackoverflow.com/questions/28179952/perl-installing-tk-module-for-windows/28180974#28180974", "title": "Perl - Installing Tk module for Windows", "body": "<p>The Tk module for Perl is an XS module with C code that needs compiling.  Merely copying isn't sufficient.  If you use ActiveState's Perl, you can download/install Tk using <code>ppm</code> provided you are either using one of the two most recent version or you are paying for an \"enterprise\" license.  Otherwise use <code>cpan</code> or <code>cpanm</code> to do the installation.  You'll also need a C compiler and a copy of nmake.</p>\n"}], "owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3539, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422396576, "creation_date": 1422392637, "question_id": 28179952, "link": "https://stackoverflow.com/questions/28179952/perl-installing-tk-module-for-windows", "title": "Perl - Installing Tk module for Windows", "body": "<p>I downloaded Tk module and installed it in Perl\\lib. </p>\n\n<p>I created the following perl file: </p>\n\n<pre><code>use Tk;\nuse strict;\n\nmy $mw = MainWindow-&gt;new;\n$mw-&gt;geometry(\"200x100\");\n$mw-&gt;title(\"Frame Test\");\n\n$mw-&gt;Frame(-background =&gt; 'red')-&gt;pack(-ipadx =&gt; 50, -side =&gt; \"left\", -fill =&gt; \"y\");\n$mw-&gt;Frame(-background =&gt; 'blue')-&gt;pack(-ipadx =&gt; 50, -side =&gt; \"right\", -fill =&gt; \"y\");\n\nMainLoop;\n</code></pre>\n\n<p>Then, I tried to execute this file by typing \"perl filename.pl\" in command window, and the result was: \"Can't locate Tk.pm in @INC\"</p>\n"}, {"tags": ["perl", "output"], "comments": [{"owner": {"reputation": 401, "user_id": 1281832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038cc68b608e18d9b2799b59993d84a1?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/1281832/josh"}, "edited": false, "score": 0, "creation_date": 1422389440, "post_id": 28179050, "comment_id": 44727284, "body": "Can you add an example of your input file?  It would be helpful to understand the &#39;columns&#39; a bit better."}], "answers": [{"comments": [{"owner": {"reputation": 961, "user_id": 2079306, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Wm1fn.jpg?s=128&g=1", "display_name": "john stamos", "link": "https://stackoverflow.com/users/2079306/john-stamos"}, "edited": false, "score": 0, "creation_date": 1422389928, "post_id": 28179103, "comment_id": 44727526, "body": "Need it to be from a file."}], "tags": [], "owner": {"reputation": 11974, "user_id": 1898580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CnDn3.png?s=128&g=1", "display_name": "Marat Talipov", "link": "https://stackoverflow.com/users/1898580/marat-talipov"}, "is_accepted": false, "score": 3, "last_activity_date": 1422391470, "last_edit_date": 1422391470, "creation_date": 1422389446, "answer_id": 28179103, "question_id": 28179050, "link": "https://stackoverflow.com/questions/28179050/perl-minus-8-from-every-value-in-column-2-in-a-text-file/28179103#28179103", "title": "Perl, Minus 8 from every value in column 2 in a text file", "body": "<p>While perl gurus are thinking about the answer, here is the awk solution:</p>\n\n<pre><code>&gt; echo '5 10 15\\n20 25 30' | awk '{$2-=8; print}'\n5 2 15\n20 17 30\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Let's say you have a file <code>x.txt</code> which has the same formatting as your example file:</p>\n\n<pre><code>&gt; cat x.txt\nt1, t2, t3\n1, 12, 3\n-4, 22, 13\n</code></pre>\n\n<p>With this command, you can subtract 8 from each numeric field in the second column:</p>\n\n<pre><code>&gt; awk -F, 'BEGIN {OFS=\",\"} {if ($2+0==$2) {$2-=8}; print}' x.txt &gt; output.txt\n\n&gt; cat output.txt\nt1, t2, t3\n1,4, 3\n-4,14, 13\n</code></pre>\n\n<p>Here <code>-F,</code> and <code>BEGIN {OFS=\",\"}</code> tell awk to use comma as input/output field separators. The next block in curly parentheses will be evaluated for each input line. Thus, for each input line we test if the second field is a number (<code>$2+0==$2</code>) and if so, subtract 8 from it, and print the resulting line. The input file is x.txt, and the output will be redirected from standard output to the file <code>output.txt</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 961, "user_id": 2079306, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Wm1fn.jpg?s=128&g=1", "display_name": "john stamos", "link": "https://stackoverflow.com/users/2079306/john-stamos"}, "edited": false, "score": 0, "creation_date": 1422391380, "post_id": 28179497, "comment_id": 44728290, "body": "Thanks Josh, Can you explain why you use 2 perl lines and what is happening in the middle cat?  Could you also pipe this to an output.txt doing it this way?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1422391433, "post_id": 28179497, "comment_id": 44728317, "body": "You can use the <code>-a</code> flag to autosplit."}, {"owner": {"reputation": 401, "user_id": 1281832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038cc68b608e18d9b2799b59993d84a1?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/1281832/josh"}, "edited": false, "score": 0, "creation_date": 1422391867, "post_id": 28179497, "comment_id": 44728551, "body": "The string is split up, the 8 is subtracted if it detects a number, then the  data is re-joined and printed.  Add the &#39;&gt; file&#39; to redirect output to a file. The autosplit is a great suggestion! I forget about that one..."}], "tags": [], "owner": {"reputation": 401, "user_id": 1281832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038cc68b608e18d9b2799b59993d84a1?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/1281832/josh"}, "is_accepted": false, "score": 2, "last_activity_date": 1422390964, "creation_date": 1422390964, "answer_id": 28179497, "question_id": 28179050, "link": "https://stackoverflow.com/questions/28179050/perl-minus-8-from-every-value-in-column-2-in-a-text-file/28179497#28179497", "title": "Perl, Minus 8 from every value in column 2 in a text file", "body": "<p>In this example the string is tokenized into an array.  The regex version would be a bit shorter (like the awk).\nIt also skips the -8 on non strings.</p>\n\n<pre><code>perl -ne '@a = split /,\\s+/, $_; if($a[1] =~ /^\\d*$/) {$a[1] = $a[1] - 8}; print join \", \", @a;'  foo\n\n\ncat foo \nTitle1, Title2, Title3\n12456, 45, 21, 68673\n21, 6876546, 987, 134561\n\nperl -ne '@a = split /,\\s+/, $_; if($a[1] =~ /^\\d*$/) {$a[1] = $a[1] - 8}; print join \", \", @a;'  foo\nTitle1, Title2, Title3\n12456, 37, 21, 68673\n21, 6876538, 987, 134561\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 961, "user_id": 2079306, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Wm1fn.jpg?s=128&g=1", "display_name": "john stamos", "link": "https://stackoverflow.com/users/2079306/john-stamos"}, "edited": false, "score": 0, "creation_date": 1422393167, "post_id": 28179778, "comment_id": 44729261, "body": "What would it look like if you wanted to do this in a .pl?"}, {"owner": {"reputation": 230, "user_id": 2500090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gfcHu.png?s=128&g=1", "display_name": "Sergei", "link": "https://stackoverflow.com/users/2500090/sergei"}, "reply_to_user": {"reputation": 961, "user_id": 2079306, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Wm1fn.jpg?s=128&g=1", "display_name": "john stamos", "link": "https://stackoverflow.com/users/2079306/john-stamos"}, "edited": false, "score": 0, "creation_date": 1422394689, "post_id": 28179778, "comment_id": 44730064, "body": "I would try to make the .pl to be more defensive than oneliners usually are, and also try to set up the code to make future changes less painful. I think that the approach proposed by Josh would work nicely: splitting the string into the array is going to allow checking whether the lines are of expected form and length. For example, if we expect at least 3 fields then scalar(@a) has to be &gt;= 3. Also, in if in the future you decide that we want to subtract from the 100th field, all it is going to take is to change $a[1] = $a[1] - 8 into $a[99] = $a[99] - 8."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "reply_to_user": {"reputation": 961, "user_id": 2079306, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Wm1fn.jpg?s=128&g=1", "display_name": "john stamos", "link": "https://stackoverflow.com/users/2079306/john-stamos"}, "edited": false, "score": 0, "creation_date": 1422461496, "post_id": 28179778, "comment_id": 44760482, "body": "@johnstamos you can use perl itself to dump the program equivalent to a oneliner <code>perl -MO=Deparse -pe &#39;&#47;^([-0-9]+), ([-0-9]+)&#47;; $new = $2 - 8; s&#47;^([-0-9]+), ([-0-9]+)&#47;$1, $new&#47;;&#39;</code>"}], "tags": [], "owner": {"reputation": 230, "user_id": 2500090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gfcHu.png?s=128&g=1", "display_name": "Sergei", "link": "https://stackoverflow.com/users/2500090/sergei"}, "is_accepted": true, "score": 2, "last_activity_date": 1422391926, "creation_date": 1422391926, "answer_id": 28179778, "question_id": 28179050, "link": "https://stackoverflow.com/questions/28179050/perl-minus-8-from-every-value-in-column-2-in-a-text-file/28179778#28179778", "title": "Perl, Minus 8 from every value in column 2 in a text file", "body": "<p>In your File example the fields are delimited with commas and spaces. It is a bit unusual to have both at the same time. But assuming that this is exactly what you are dealing with, the following modification to your oneliner works:</p>\n\n<p><code>perl -pe '/^([-0-9]+), ([-0-9]+)/; $new = $2 - 8; s/^([-0-9]+), ([-0-9]+)/$1, $new/;'\n</code></p>\n\n<p>The first regular expression matches the first and the second fields (when they consist of numbers and -). Then we do the calculation outside of the regular expression syntax, and finally we substitute the second field with the newly calculated value. </p>\n"}, {"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 0, "last_activity_date": 1422393219, "creation_date": 1422393219, "answer_id": 28180112, "question_id": 28179050, "link": "https://stackoverflow.com/questions/28179050/perl-minus-8-from-every-value-in-column-2-in-a-text-file/28180112#28180112", "title": "Perl, Minus 8 from every value in column 2 in a text file", "body": "<p>Very close to your original while allowing you to modify an arbitrary column: </p>\n\n<pre><code>perl -aF',\\s*' -pe '$F[1] =~ s/^([-0-9]+)/$1 - 8/e; $_ = join(\", \", @F);' file\n</code></pre>\n\n<ul>\n<li><code>-a</code> autosplit to <code>@F</code></li>\n<li><code>-F</code> on <code>/,\\s*/</code></li>\n<li><code>$F[1] =~ s/^([-0-9]+)/$1 - 8/e;</code>  substitute on 2nd column</li>\n<li><code>$_ = join(\", \", @F);</code>  rejoin <code>@F</code> into <code>$_</code> to allow <code>-p</code> to print</li>\n</ul>\n"}], "owner": {"reputation": 961, "user_id": 2079306, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Wm1fn.jpg?s=128&g=1", "display_name": "john stamos", "link": "https://stackoverflow.com/users/2079306/john-stamos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 28179778, "answer_count": 4, "score": 2, "last_activity_date": 1422393219, "creation_date": 1422389250, "last_edit_date": 1422389758, "question_id": 28179050, "link": "https://stackoverflow.com/questions/28179050/perl-minus-8-from-every-value-in-column-2-in-a-text-file", "title": "Perl, Minus 8 from every value in column 2 in a text file", "body": "<p>This works on the first column.  How could I change it to work on just the second?  Can I still do it in one line or would I have to expand it into a .pl file?</p>\n\n<p>Columns are seperated by a comma space \", \"</p>\n\n<pre><code>perl -pe 's/^([-0-9]+)/$1 - 8/e' your_file &gt; output.txt\n</code></pre>\n\n<p>Details:</p>\n\n<ul>\n<li>-p reads file line by line and prints it</li>\n<li>-e runs perl code with line content in $_</li>\n<li>s/.../.../e - replace regexp by expression</li>\n<li>...^([-0-9]+) - matched any digit and/or - sign. Also captures matched fragment.</li>\n<li>$1 - 4.91 - does the work using value captured by regexp.</li>\n</ul>\n\n<p>File example.</p>\n\n<pre><code>Title1, Title2, Title3, ..., Titlen\n\n12456, 45, 21, 686731, ...\n\n21, 6876546, 987, 134561, ...\n</code></pre>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 1, "creation_date": 1422372220, "post_id": 28173764, "comment_id": 44716984, "body": "So what is the rule? The 2nd example can&#39;t be deduced from the 1st. At least I don&#39;t see how."}, {"owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "reply_to_user": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1422376113, "post_id": 28173764, "comment_id": 44719568, "body": "I mean 2^$2 or 2**$2"}, {"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1422377738, "post_id": 28173764, "comment_id": 44720607, "body": "I see. I&#39;d use a little Perl script for that, but awk probably hurts more ;-)"}, {"owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "reply_to_user": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1422384582, "post_id": 28173764, "comment_id": 44724748, "body": "@Thomas Kilian, would be great if you could provide that little Perl script"}, {"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1422388808, "post_id": 28173764, "comment_id": 44726968, "body": "I&#39;ll post the code but I&#39;m unsure about the header lines. The output file A (and B) has <code>chrom=chr2</code> as last line. Should that be created extra as variant of the first line?"}], "answers": [{"comments": [{"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1422390772, "post_id": 28174191, "comment_id": 44727965, "body": "Just tried with awk on my Mac: does not work. Prints <code>12 1,000000000000</code> etc."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1422391241, "post_id": 28174191, "comment_id": 44728210, "body": "@ThomasKilian that will be due to your locale settings (I assume that you use a <code>,</code> as a decimal point)."}, {"owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "edited": false, "score": 0, "creation_date": 1422433164, "post_id": 28174191, "comment_id": 44743317, "body": "@TomFenech, I could see awk script is working in your hand, but not with me, It is just printing the original file. I could not figure out what mistake am i making in executing the command? wish I could send you first 1000 lines as attachment. on the other hand original file is huge which has positive, negative as well as NaN values."}], "tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": false, "score": 2, "last_activity_date": 1422390455, "last_edit_date": 1422390455, "creation_date": 1422372965, "answer_id": 28174191, "question_id": 28173764, "link": "https://stackoverflow.com/questions/28173764/how-to-calculate-inverse-log2-ratio-of-a-ucsc-wiggle-file-using-perl/28174191#28174191", "title": "How to calculate inverse log2 ratio of a UCSC wiggle file using perl?", "body": "<p>This awk script does the calculation that you want:</p>\n\n<pre><code>awk '/^[0-9.[:space:]]+$/{$NF=sprintf(\"%.12f\", 2^$NF)}1' file\n</code></pre>\n\n<p>This matches lines that contain only digits, periods and any space characters, substituting the value of the last field <code>$NF</code> for 2 raised to the power of <code>$NF</code>. The format specifier <code>%.12f</code> can be modified to give you the required number of decimal places. The <code>1</code> at the end is shorthand for <code>{print}</code>.</p>\n\n<p>Testing it out on your new files:</p>\n\n<pre><code>$ awk '/^[0-9.[:space:]]+$/{$NF=sprintf(\"%.12f\", 2^$NF)}1' A   \ntrack type=wiggle_0 name=rep1.bar.wig description=GSM1076_rep1.bar.wig graphType=bar  \nvariableStep chrom=chr1  \n12 1.719495094445\n16 1.754418584953\n20 1.704798229573\n24 1.663049372620\n$ awk '/^[0-9.[:space:]]+$/{$NF=sprintf(\"%.12f\", 2^$NF)}1' B\ntrack type=wiggle_0 name=rep1.bar.wig description=GSM1078_rep1.bar.wig graphType=bar\nvariableStep chrom=chr1  \n1.649449947457\n1.527310087388\n1.693635012985\n1.488470882686\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "edited": false, "score": 0, "creation_date": 1422435787, "post_id": 28179218, "comment_id": 44744604, "body": "perl script is working for the file which has single column ($1) but not for 2 ($1&lt;tab&gt;$2)column. It is missing the first line of header for 2 column file. on the other hand perl script is taking in account only positive (+) value, not the values in negative(-). This will change the outcome of the 2^ value calculation."}, {"owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "edited": false, "score": 0, "creation_date": 1422443630, "post_id": 28179218, "comment_id": 44749117, "body": "script is working perfectly on 1 column file, but in 2 column file, every thing is fine unless program reaches 100 point in 1st column. it is not calculating the values after reaching that just printing the original values."}, {"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "reply_to_user": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "edited": false, "score": 0, "creation_date": 1422443746, "post_id": 28179218, "comment_id": 44749178, "body": "You should state the exact format of your input file. The example has fixed 2 digits. So what?? I changed it so it accepts arbitrary digits before a separator."}, {"owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "edited": false, "score": 0, "creation_date": 1422445362, "post_id": 28179218, "comment_id": 44750036, "body": "I have large &gt;10 million lines file,which has some header description after every approx. 1 million lines. your new script is adding an extra column &quot;-&quot; in each file type."}, {"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "reply_to_user": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "edited": false, "score": 0, "creation_date": 1422449070, "post_id": 28179218, "comment_id": 44752204, "body": "Well, I&#39;m not your coding monkey. Go and find someone you can pay to the 10 million lines &gt;:-("}, {"owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "edited": false, "score": 0, "creation_date": 1422450823, "post_id": 28179218, "comment_id": 44753263, "body": "Thanks for your suggestion and script. I will try, If I could use your perl script some way."}, {"owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "edited": false, "score": 0, "creation_date": 1422526958, "post_id": 28179218, "comment_id": 44788371, "body": "I have posted the modified perl script, It couldn&#39;t have been done without your script.Thanks for providing it."}], "tags": [], "owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "is_accepted": true, "score": 0, "last_activity_date": 1422443824, "last_edit_date": 1422443824, "creation_date": 1422389914, "answer_id": 28179218, "question_id": 28173764, "link": "https://stackoverflow.com/questions/28173764/how-to-calculate-inverse-log2-ratio-of-a-ucsc-wiggle-file-using-perl/28179218#28179218", "title": "How to calculate inverse log2 ratio of a UCSC wiggle file using perl?", "body": "<p>So here's the Perl version:</p>\n\n<pre><code>use strict;\nopen IN, $ARGV[0];\nwhile (&lt;IN&gt;) {\n  chomp;  \n  if (/^(.*)[\\t ]*(-?\\d\\.\\d*)/) { # format \"nn m.mmmmm\"\n    my $power = 2 ** $2;\n    print(\"$1\\t\" . $power . \"\\n\");\n  } elsif (/^(-?\\d\\.\\d*)/) { # format \"m.mmmmm\"\n    my $power = 2 ** $1;\n    print($power . \"\\n\");\n  } else { # echo all other stuff\n    print;\n    print (\"\\n\");\n  }\n}\nclose IN;\n</code></pre>\n\n<p>If you run <code>&lt;file&gt;.pl &lt;datafile&gt;</code> (replace with appropriate names) it will convert one file so the lines have 2**&lt;2nd value>). It simply echoes the lines that do not match the number pattern.</p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1422526497, "creation_date": 1422526497, "answer_id": 28212045, "question_id": 28173764, "link": "https://stackoverflow.com/questions/28173764/how-to-calculate-inverse-log2-ratio-of-a-ucsc-wiggle-file-using-perl/28212045#28212045", "title": "How to calculate inverse log2 ratio of a UCSC wiggle file using perl?", "body": "<blockquote>\n  <p>This is the modified little script of @ThomasKilian<br>\n  Thanks to him for providing the framework.</p>\n</blockquote>\n\n<pre><code>use strict;\n    open IN, $ARGV[0];\n    while (&lt;IN&gt;) {\n      chomp;  \n      if (/^(\\d*)[\\t ]*(-?\\d\\.\\d*)/) { # format \"nn m.mmmmm\"\n        my $power = 2 ** $2;\n        $power= sprintf(\"%.12f\", $power);\n        print(\"$1\\t\" . $power . \"\\n\");\n      } elsif (/^(-?\\d\\.\\d*)/) { # format \"m.mmmmm\"\n        my $power = 2 ** $1;\n        $power= sprintf(\"%.12f\", $power);\n        print($power . \"\\n\");\n      } else { # echo all other stuff\n        print;\n        print (\"\\n\");\n      }\n    }\n    close IN;\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4498688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/642952587a73675bd89bbfa9afc4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/4498688/ashutosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 28179218, "answer_count": 3, "score": -3, "last_activity_date": 1422527231, "creation_date": 1422371708, "last_edit_date": 1422527231, "question_id": 28173764, "link": "https://stackoverflow.com/questions/28173764/how-to-calculate-inverse-log2-ratio-of-a-ucsc-wiggle-file-using-perl", "title": "How to calculate inverse log2 ratio of a UCSC wiggle file using perl?", "body": "<p>I have 2 separate files namely A &amp;  B containing same header lines but 2 and 1 column respectively. I want to take inverse log2 of the 2nd column or 1st column in separate files but keep the other description intact. I am having some thing like this.. values in file A $1 and $2 are separated by delimiter <strong>tab</strong><br>\n <strong>file A</strong>  </p>\n\n<pre><code>track type=wiggle_0 name=rep1.bar.wig description=GSM1076_rep1.bar.wig graphType=bar  \nvariableStep chrom=chr1  \n12  0.781985  \n16  0.810993  \n20  0.769601  \n24  0.733831  \n</code></pre>\n\n<p><strong>file B</strong></p>\n\n<pre><code>track type=wiggle_0 name=rep1.bar.wig description=GSM1078_rep1.bar.wig graphType=bar\nvariableStep chrom=chr1  \n0.721985  \n0.610993  \n0.760123  \n0.573831  \n</code></pre>\n\n<p>I expect an output like this. <strong>file A</strong></p>\n\n<pre><code>track type=wiggle_0 name=rep1.bar.wig description=GSM1076_rep1.bar.wig graphType=bar  \nvariableStep chrom=chr1  \n12  1.7194950944  \n16  1.754418585  \n20  1.7047982296  \n24  1.6630493726  \ntrack type=wiggle_0 name=rep1.bar.wig description=GSM1076_rep1.bar.wig  graphType=bar  \nvariableStep chrom=chr2 \n</code></pre>\n\n<p><strong>for file B</strong> (in this file values are just copy paste of file A)   </p>\n\n<pre><code>track type=wiggle_0 name=rep1.bar.wig description=GSM1078_rep1.bar.wig  graphType=bar  \nvariableStep chrom=chr1   \n1.7194950944  \n1.754418585  \n1.7047982296  \n1.6630493726  \ntrack type=wiggle_0 name=rep1.bar.wig description=GSM1078_rep1.bar.wig rep1.bar.wig graphType=bar  \nvariableStep chrom=chr2\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422372299, "post_id": 28173560, "comment_id": 44717036, "body": "See <a href=\"http://stackoverflow.com/q/12334037/176646\">Perl: How to stop File::Find entering directory recursively?</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422373037, "post_id": 28173560, "comment_id": 44717536, "body": "@ikegami I thought they were different enough (don&#39;t recurse into any directories vs. don&#39;t recurse into a specific set of directories) that I didn&#39;t vote to close. Not to say I wasn&#39;t tempted, considering that you were able to answer both with very similar code."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1422372907, "last_edit_date": 1422372907, "creation_date": 1422372113, "answer_id": 28173896, "question_id": 28173560, "link": "https://stackoverflow.com/questions/28173560/list-all-files-recursively-but-exclude-some-directories-git-svn/28173896#28173896", "title": "List all files recursively but exclude some directories (.git .svn)", "body": "<p><code>$File::Find::prune</code> can be used to avoid recursing into a directory.</p>\n\n<pre><code>use File::Find qw( find );\n\nsub wanted {\n   state $excluded_re = do {\n      my @excluded = qw( .git .svn .cvs );\n      my $pat = join '|', map quotemeta, @excluded;\n      qr{(?:^|/)$pat\\z/\n   }\n\n   if (/$excluded_re/) {\n      $File::Find::prune = 1;\n      return 0;\n   }\n\n   return -f;\n}\n\nmy $root = 'foo';\n\nmy @files;\nfind({\n   wanted   =&gt; sub { push @files, $_ if wanted() },\n   no_chdir =&gt; 1,\n}, $root);\n</code></pre>\n\n<hr>\n\n<p>This is the same approach one would take using the command line tool <code>find</code>.</p>\n\n<pre><code>find foo \\( -name .git -o -name .svn -o -name .cvs \\) -prune -o -print\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1422470064, "post_id": 28175165, "comment_id": 44765893, "body": "I suspect what you&#39;re asking is to see quantitative measurements comparing the speed of File::Next vs. File::Find.  I don&#39;t have any, but I believe that their speed is comparable."}], "tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 4, "last_activity_date": 1422375885, "creation_date": 1422375885, "answer_id": 28175165, "question_id": 28173560, "link": "https://stackoverflow.com/questions/28173560/list-all-files-recursively-but-exclude-some-directories-git-svn/28175165#28175165", "title": "List all files recursively but exclude some directories (.git .svn)", "body": "<p>My search tool ack (<a href=\"http://search.cpan.org/dist/ack\" rel=\"nofollow\">http://search.cpan.org/dist/ack</a>) does exactly this: It ignores .svn, .git and .cvs directories.</p>\n\n<p>The problem you describe, where you must iterate over the entire tree to get results back when you use File::Find is exactly why I wrote File::Next (<a href=\"http://search.cpan.org/dist/File-Next\" rel=\"nofollow\">http://search.cpan.org/dist/File-Next</a>), to encapsulate the <code>readdir</code> calls that you have correctly concluded that you need, plus it only gives you files and not directories.</p>\n\n<p>The way to do in File::Next what you're describing above would be roughly like this:</p>\n\n<pre><code>my %excluded = map { $_ =&gt; 1 } qw( .svn .git .cvs );\nmy $iter = File::Next::files( {\n        descend_filter =&gt; sub { !$excluded{$_} },\n    }, 'foo/'\n);\nwhile ( my $file = $iter-&gt;() ) {\n    # Do something with $file\n}\n</code></pre>\n\n<p>I realize you're looking to use only core modules, but File::Next relies on no non-core modules.  Also, if you wanted you could just steal the iterator code from File::Next and put it directly into your project.  It's fairly simple, and it's adapted from code out of the excellent book <em>Higher Order Perl</em> (<a href=\"http://hop.perl.plover.com/\" rel=\"nofollow\">http://hop.perl.plover.com/</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5439344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d64d114677b8da0b46919f78f3ef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Phan", "link": "https://stackoverflow.com/users/5439344/ryan-phan"}, "is_accepted": false, "score": 1, "last_activity_date": 1462181010, "last_edit_date": 1495542704, "creation_date": 1462095222, "answer_id": 36965148, "question_id": 28173560, "link": "https://stackoverflow.com/questions/28173560/list-all-files-recursively-but-exclude-some-directories-git-svn/36965148#36965148", "title": "List all files recursively but exclude some directories (.git .svn)", "body": "<p>Filter out the names you want to exclude in preprocess</p>\n\n<pre><code>use File::Find qw( find );\n\nmy $root = '.';\n\nfind({\n   wanted   =&gt; sub {} # whatever you do with each found entry\n   preprocess =&gt; sub { grep(!/\\.(git|svn|cvs|\\.$)/,@_) }\n}, $root);\n</code></pre>\n\n<p>What gets returned from preprocess callback is the list of file/directory name that will get processed subsequently. Since .git, .svn, and .cvs aren't there, those won't be seen and touched. </p>\n\n<p>A bit more detailed \"lay man\" explanation is at <a href=\"https://stackoverflow.com/questions/12334037/perl-how-to-stop-filefind-entering-directory-recursively/36964911#36964911\">Perl: How to stop File::Find entering directory recursively?</a> based on what is documented in <a href=\"http://perldoc.perl.org/File/Find.html\" rel=\"nofollow noreferrer\" title=\"File Find\">File::Find</a></p>\n\n<p>If you want just the directory listing, return an empty list.</p>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 28173896, "answer_count": 3, "score": 2, "last_activity_date": 1462181010, "creation_date": 1422371050, "last_edit_date": 1422372019, "question_id": 28173560, "link": "https://stackoverflow.com/questions/28173560/list-all-files-recursively-but-exclude-some-directories-git-svn", "title": "List all files recursively but exclude some directories (.git .svn)", "body": "<p>I would like to get all the files in a specified path but I want to exclude all the files inside some directories defined with:</p>\n\n<pre><code> my $exclude = qw/.git .svn .cvs/;\n</code></pre>\n\n<p>The simplest method uses <code>File::Find</code>, but in the case of very big projects (under git or svn), the <code>find</code> subroutine will still iterates over all the files inside the excluded directories: </p>\n\n<pre><code>my $root = 'foo/';\nmy @files = do {\n    my @f; \n    find(sub { \n        state $excluded = do {\n            my $qr = join('|', map(quotemeta($_ =~ s/\\/+$//r), @exclude));\n            qr/$qr$/;\n        }; \n\n        local $_ = $File::Find::name;\n        next unless -f;\n        next unless /$excluded/;\n        push @f, $_;\n    }, $root);\n    @f;\n}\n</code></pre>\n\n<p>The only solution I've found involving only core modules is to manually iterate with <code>readdir</code>. Is there a better method?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>A solution that works is this code below but It seems it is a bit complex for something that should be simple...</p>\n\n<pre><code>use 5.014;\nmy @exclude = qw/.git .svn .cvs/;  \nmy @files = parse_dir('.');\nsay join(\"\\n\", @files);\n\nsub parse_dir {\n    state $re = do {\n        my $qr = join('|', map(quotemeta($_ =~ s/\\/+$//r =~ s/^(\\.\\/)?/.\\//r)  , @exclude));\n        qr/$qr/;\n    };\n\n    my @files; \n    my $dir = shift;\n    return unless -d $dir;\n    opendir my $dh, $dir;\n\n    while(my $file = readdir($dh))\n    {\n        $file = \"$dir/$file\";\n        next if $file =~ /\\/[.]{1,2}$/;\n        next if $file =~ /$re/; \n        if (-f $file) {\n            push @files, $file;       \n        } elsif (-d $file) {            \n            @files = (@files, parse_dir($file));\n        }\n    }               \n    closedir $dh;\n    @files;\n}           \n</code></pre>\n"}, {"tags": ["perl", "oop"], "answers": [{"tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1422370540, "creation_date": 1422370540, "answer_id": 28173384, "question_id": 28173269, "link": "https://stackoverflow.com/questions/28173269/cant-locate-object-method/28173384#28173384", "title": "Can&#39;t locate object method", "body": "<p>These are the two relevant lines:</p>\n\n<pre><code>21     my $start = `date +%s.%N`;\n22     $self-&gt;{startTimer} = $start-&gt;startTimer;\n</code></pre>\n\n<p>You call <code>date</code> and store its output as string in scalar variable <code>$start</code>. Then you try to run the method <code>startTimer</code> on this non-object. This doesn't work out what is perfectly correct.</p>\n\n<p>Do you have defined a <code>startTimer</code> method somewhere or do you some module that should provide it?</p>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1422385637, "last_edit_date": 1422385637, "creation_date": 1422370570, "answer_id": 28173400, "question_id": 28173269, "link": "https://stackoverflow.com/questions/28173269/cant-locate-object-method/28173400#28173400", "title": "Can&#39;t locate object method", "body": "<pre><code>my $start = `date +%s.%N`;\n</code></pre>\n\n<p>The above stores a string (not an object) in <code>$start</code>. Change your sub to:</p>\n\n<pre><code>sub setTimer {\n    my $self = shift;\n    my $start = `date +%s.%N`;\n    $self-&gt;{startTimer} = $start;\n}\n\nsub endTimer {\n    my $self = shift;\n    my $end = `date +%s.%N`;\n    return $self-&gt;{endTimer} = $end;\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 1480291, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd6607a8becb23dca1942c954318dfa6?s=128&d=identicon&r=PG", "display_name": "usa ims", "link": "https://stackoverflow.com/users/1480291/usa-ims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1508514841, "creation_date": 1422370201, "last_edit_date": 1508514841, "question_id": 28173269, "link": "https://stackoverflow.com/questions/28173269/cant-locate-object-method", "title": "Can&#39;t locate object method", "body": "<p>I'm still in the process of learning the basic fundamentals of OO Perl.\nI have created a package called BigBrother.pm with a basic constructor.</p>\n\n<pre><code>package BigBrother;\nuse strict;\nuse warnings;\n\nsub new {\n    my ($class, $args) = @_;\n    my $self = {\n        datacenter =&gt; $args-&gt;{datacenter},\n        testname   =&gt; $args-&gt;{testname},\n        hostname   =&gt; $args-&gt;{hostname},\n        ipaddress  =&gt; $args-&gt;{ipaddress},\n        eventtime  =&gt; $args-&gt;{eventtime},\n        responsetime  =&gt; $args-&gt;{responsetime},\n        error         =&gt; $args-&gt;{error} || ''\n    };\n    return bless $self, $class;\n}\n</code></pre>\n\n<p>I also created two methods: one that records the time before the event started and the other to record the time when the event stopped.</p>\n\n<pre><code>sub setTimer {\nmy $self = shift;\nmy $start = `date +%s.%N`;\n$self-&gt;{startTimer} = $start-&gt;startTimer;\n}\n\nsub endTimer {\nmy $self = shift;\nmy $end = `date +%s.%N`;\nreturn $self-&gt;{endTimer} = $end-&gt;endTimer;\n}\n1;\n</code></pre>\n\n<p>In my perl executable script, I have the following:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse warnings;\nuse strict;\nuse Xymon::Plugin::Server::Hosts;\nuse lib \"/usr/lib/xymon/server/ext\";\nuse BigBrother;\n\nBEGIN {\n$ENV{LD_LIBRARY_PATH}= \"/usr/lib/xymon/server/ext/\";\n}\n\nmy $bigbro = new BigBrother;\nmy $ret = $bigbro-&gt;setTimer;\n</code></pre>\n\n<p>But I'm getting the following error when I run the script:</p>\n\n<pre><code># ./a.pl\nCan't locate object method \"startTimer\" via package \"1422368625.492495754\n\" (perhaps you forgot to load \"1422368625.492495754\n\"?) at /usr/lib/xymon/server/ext/BigBrother.pm line 22.\n</code></pre>\n\n<p>This is line 22 of BigBrother.pm</p>\n\n<pre><code> sub setTimer {\n 20     my $self = shift;\n 21     my $start = `date +%s.%N`;\n 22     $self-&gt;{startTimer} = $start-&gt;startTimer;\n 23 }\n 24\n 25 sub endTimer {\n 26     my $self = shift;\n 27     my $end = `date +%s.%N`;\n 28     $self-&gt;{endTimer} = $end-&gt;endTimer;\n 29 }\n</code></pre>\n\n<p>Obviously, I'm missing something. Can someone please clarify?</p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422366114, "post_id": 28170892, "comment_id": 44712924, "body": "Could you reformat your question? there seems to be something deleted. Do you want the attributes of an element that has a specific attribute value? You can use a language similar to xpath with the <code>children</code> method."}, {"owner": {"reputation": 35, "user_id": 3380032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/H6olR.jpg?s=128&g=1", "display_name": "Wanexa", "link": "https://stackoverflow.com/users/3380032/wanexa"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422366690, "post_id": 28170892, "comment_id": 44713304, "body": "I want to parse the fil and extract some field like port-status in service tag with for example name=1"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 3380032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/H6olR.jpg?s=128&g=1", "display_name": "Wanexa", "link": "https://stackoverflow.com/users/3380032/wanexa"}, "edited": false, "score": 0, "creation_date": 1422436811, "post_id": 28172330, "comment_id": 44745194, "body": "this don&#39;t work Can&#39;t call method &quot;atts&quot; without a package or object reference"}], "tags": [], "owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1422443533, "last_edit_date": 1422443533, "creation_date": 1422367311, "answer_id": 28172330, "question_id": 28170892, "link": "https://stackoverflow.com/questions/28170892/perl-xmltwig-extract-field-with-similar-tag/28172330#28172330", "title": "Perl XML::Twig - Extract field with similar tag", "body": "<p>My guess is you want something like this:</p>\n\n<pre><code>foreach ($parser-&gt;root-&gt;children('section[@name=\"1\"]')){\n  print join \", \", @{$_-&gt;atts}{'port-status', 'thread-status'}\n}\n</code></pre>\n\n<p>with <code>children('section[@name=\"1\"]')</code> you get all <code>section</code> elements whose <code>name</code> attribute is <code>1</code>. </p>\n\n<p>Then you ask with the <code>atts</code> method for hash reference of that element and extract <code>port-status</code> and <code>thread-status</code></p>\n\n<p><strong>Edit</strong>: sorry fixed, forgot that you'll get more than one with children.</p>\n"}, {"tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": false, "score": 1, "last_activity_date": 1422367633, "creation_date": 1422367633, "answer_id": 28172424, "question_id": 28170892, "link": "https://stackoverflow.com/questions/28170892/perl-xmltwig-extract-field-with-similar-tag/28172424#28172424", "title": "Perl XML::Twig - Extract field with similar tag", "body": "<p>In your case the easiest is probably to use XPath to get what you want:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig::XPath;\n\nmy( $service, $infile)= @ARGV;\n\nmy $t= XML::Twig-&gt;new()\n                -&gt;parsefile( $infile);\n\n# get the service first, then the attribute\n# note the \\@'s, where Perl and XPath syntaxes collide\nmy @services= $t-&gt;findnodes( qq{//service[\\@name=\"$service\"]});\nmy $status= $services[0]-&gt;att( 'port-status');\nprint \"status: $status\\n\";\n\n# get it in one swell XPath query\nmy $status2= $t-&gt;findvalue( qq{//service[\\@name=\"$service\"]/\\@port-status});\nprint \"status: $status2\\n\";\n</code></pre>\n\n<p>If your XML file is really huge, and depending on what you need to do, there may be better alternatives though, using handlers. It's hard to tell from your example.</p>\n"}], "owner": {"reputation": 35, "user_id": 3380032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/H6olR.jpg?s=128&g=1", "display_name": "Wanexa", "link": "https://stackoverflow.com/users/3380032/wanexa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1422443533, "creation_date": 1422362869, "last_edit_date": 1422382806, "question_id": 28170892, "link": "https://stackoverflow.com/questions/28170892/perl-xmltwig-extract-field-with-similar-tag", "title": "Perl XML::Twig - Extract field with similar tag", "body": "<p>I'm trying to parse a huge xml file with some similar tag. For the moment I can only parse the first tag and the first_child</p>\n\n<p>Here is an example of the xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;test version=\"1.0\"&gt;\n  &lt;parameters/&gt;\n  &lt;category name=\"z1\" description=\"jobs currently running\" count=\"30\" timestamp=\"2010-01-16T14:24:31\"&gt;\n    &lt;jobs name=\"ZEI018CL\" owner=\"A\" type=\"auto\" activityLevel=\"147\" threadId=\"202\" pid=\"20521\" vmName=\"Subs@xx.xxx.xx.xxx:6102:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZUA002B\" owner=\"A\" type=\"auto\" activityLevel=\"3375\" threadId=\"194\" pid=\"20521\" vmName=\"Subs@xx.xxx.xx.xxx:6102:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZZZ855\" owner=\"A\" type=\"auto\" activityLevel=\"0\" threadId=\"107\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZKA019CL\" owner=\"A\" type=\"auto\" activityLevel=\"0\" threadId=\"105\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZIN41B\" owner=\"A\" type=\"auto\" activityLevel=\"3\" threadId=\"104\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZIN198CL\" owner=\"A\" type=\"auto\" activityLevel=\"0\" threadId=\"103\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZHO060\" owner=\"A\" type=\"auto\" activityLevel=\"61\" threadId=\"102\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZEI019CL\" owner=\"A\" type=\"auto\" activityLevel=\"0\" threadId=\"101\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZEI013CL\" owner=\"A\" type=\"auto\" activityLevel=\"0\" threadId=\"99\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZEI011CL\" owner=\"A\" type=\"auto\" activityLevel=\"0\" threadId=\"98\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZEC007CL\" owner=\"A\" type=\"auto\" activityLevel=\"0\" threadId=\"97\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZEC001B\" owner=\"A\" type=\"auto\" activityLevel=\"2\" threadId=\"96\" pid=\"20457\" vmName=\"Subs@xx.xxx.xx.xxx:6101:xxx\" cpuUsage=\"0\"/&gt;&lt;/category&gt;\n &lt;category name=\"z3\" description=\"Batchjobs\" count=\"0\" timestamp=\"2015-01-16T14:24:31\"/&gt;\n  &lt;category name=\"z4\" description=\"Interactivejobs jobs currently running in the system\" count=\"498\" timestamp=\"2015-01-16T14:24:31\"&gt;\n    &lt;job name=\"CAS\" owner=\"PA\" type=\"interactive\" activityLevel=\"0\" threadId=\"14624\" pid=\"23771\" vmName=\"Subs@xx.xxx.xx.xxx:6104:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"CR\" owner=\"K\" type=\"interactive\" activityLevel=\"0\" threadId=\"14586\" pid=\"23771\" vmName=\"Subs@xx.xxx.xx.xxx:6104:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"MM\" owner=\"DU\" type=\"interactive\" activityLevel=\"0\" threadId=\"14570\" pid=\"23771\" vmName=\"Subs@xx.xxx.xx.xxx:6104:xxx\" cpuUsage=\"0\"/&gt;\n    &lt;job name=\"ZZ\" owner=\"D\" type=\"interactive\" activityLevel=\"0\" threadId=\"14568\" pid=\"23771\" vmName=\"Subs@xx.xxx.xx.xxx:6104:xxx\" cpuUsage=\"0\"/&gt;&lt;/category&gt;\n &lt;category name=\"services\" description=\"The status\" timestamp=\"2015-01-16T14:24:31\"&gt;\n    &lt;service name=\"1\" description=\"test1\" port-status=\"up\" thread-status=\"up\"/&gt;\n    &lt;service name=\"2\" description=\"test2\" port-status=\"up\" thread-status=\"up\"/&gt;\n    &lt;service name=\"3\" description=\"test3\" port-status=\"N/A\" thread-status=\"up\"/&gt;\n    &lt;service name=\"4\" description=\"test4\" port-status=\"up\" thread-status=\"up\"/&gt;&lt;/category&gt;&lt;/test&gt;\n</code></pre>\n\n<p>For the first line I</p>\n\n<pre><code>my $parser = XML::Twig-&gt;new();\n$parser-&gt;parsefile($xml);\n</code></pre>\n\n<p>For the first line I use</p>\n\n<pre><code>my $count = $parser-&gt;root-&gt;first_child('category')-&gt;att('count');\nprint $count;\n</code></pre>\n\n<p>For the next line this one</p>\n\n<pre><code>my $service = $parser-&gt;root-&gt;first_child('category')-&gt;first_child('job')-&gt;att('name');\nprint $service;\n</code></pre>\n\n<p>But I can't figure out how to get the port-status for a specific name like:</p>\n\n<p></p>\n\n<p>Or for a specific job name the type in the 2nd tag.</p>\n\n<p>Can you help me ?</p>\n"}, {"tags": ["perl", "version"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1422357818, "post_id": 28169288, "comment_id": 44708198, "body": "If you exclude various bug fixes then, <a href=\"http://perldoc.perl.org/index-history.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/index-history.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1422368996, "post_id": 28170406, "comment_id": 44714799, "body": "While any responsible developer would read through the perl deltas, Highlights are available in <code>feature</code>: <a href=\"https://metacpan.org/pod/feature\" rel=\"nofollow noreferrer\">metacpan.org/pod/feature</a> .  There are also significant improvements in RegEx Engine speed and Unicode handling"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 5, "last_activity_date": 1422361233, "creation_date": 1422361233, "answer_id": 28170406, "question_id": 28169288, "link": "https://stackoverflow.com/questions/28169288/what-will-be-the-advantages-and-features-when-i-move-perl-5-8-8-to-perl-5-18-2p/28170406#28170406", "title": "what will be the advantages and features when i move Perl 5.8.8 to Perl 5.18.2(perl_5.18.2 Advantages)?", "body": "<p>You can read about the details in the <a href=\"http://perldoc.perl.org/index-history.html\" rel=\"noreferrer\">perldeltas</a>. But apart from that</p>\n\n<ul>\n<li>perl 5.8.8 is old and no longer supported for years. There are enough modules which need a newer perl version.</li>\n<li>From 5.8.8 to 5.18.2 lots of nice language features where introduced.</li>\n<li>If you have non-trivial existing code it might break when you move from 5.8.8 to 5.18.2 because of all the changes.</li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 3698333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038a0e67d8630f9193d5e744a741b0c3?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/3698333/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "closed_date": 1422362231, "answer_count": 1, "score": 0, "last_activity_date": 1422361233, "creation_date": 1422357634, "last_edit_date": 1422360112, "question_id": 28169288, "link": "https://stackoverflow.com/questions/28169288/what-will-be-the-advantages-and-features-when-i-move-perl-5-8-8-to-perl-5-18-2p", "closed_reason": "Needs more focus", "title": "what will be the advantages and features when i move Perl 5.8.8 to Perl 5.18.2(perl_5.18.2 Advantages)?", "body": "<p>What will be the advantages and features when i move  Perl 5.8.8 to Perl 5.18.2.</p>\n\n<p>Notes:\n1. i need advantages and disadvantages of perl 5.8.8\n2. i need advantages and disadvantages of perl 5.18.2</p>\n"}, {"tags": ["perl", "apache2", "mod-perl"], "answers": [{"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": true, "score": 2, "last_activity_date": 1422378510, "creation_date": 1422378510, "answer_id": 28176007, "question_id": 28169057, "link": "https://stackoverflow.com/questions/28169057/inform-mod-perl-application-that-the-apache-server-has-restarted/28176007#28176007", "title": "Inform mod_perl application that the apache server has restarted", "body": "<p>You can put this sort of logic in a startup file.  This file will be executed on Apache (re)start.  In your Apache config:</p>\n\n<pre><code> PerlPostConfigRequire /home/httpd/perl/lib/startup.pl\n</code></pre>\n\n<p><a href=\"http://perl.apache.org/docs/2.0/user/handlers/server.html#Startup_File\" rel=\"nofollow\">More info at http://perl.apache.org/docs/2.0/user/handlers/server.html#Startup_File</a></p>\n"}], "owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 28176007, "answer_count": 1, "score": 1, "last_activity_date": 1422378510, "creation_date": 1422356887, "question_id": 28169057, "link": "https://stackoverflow.com/questions/28169057/inform-mod-perl-application-that-the-apache-server-has-restarted", "title": "Inform mod_perl application that the apache server has restarted", "body": "<p>What's the best way (assuming there is one) to inform a mod_perl application that the apache web-server it's running under recently restarted?  </p>\n\n<p>I ask because when I restart the server I'd like to clear memcached, however in that case, I need to inform the application that memcached has reset so that the application can initialise the data again.</p>\n"}, {"tags": ["sql", "oracle", "perl"], "answers": [{"tags": [], "owner": {"reputation": 561, "user_id": 3656427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787d7f7b0781be804a8b147225b1e864?s=128&d=identicon&r=PG&f=1", "display_name": "pd321", "link": "https://stackoverflow.com/users/3656427/pd321"}, "is_accepted": false, "score": 0, "last_activity_date": 1422361212, "creation_date": 1422361212, "answer_id": 28170399, "question_id": 28168918, "link": "https://stackoverflow.com/questions/28168918/how-can-i-store-the-results-of-a-sql-query-as-a-hash-with-unique-keys/28170399#28170399", "title": "How can I store the results of a SQL query as a hash with unique keys?", "body": "<p>What you are looking for is a hash of hash in Perl. What you do is </p>\n\n<ol>\n<li>Iterate over the results of your query.</li>\n<li>Split each entry by tab</li>\n<li>Create a hash with the id as key and status as value</li>\n<li><p>Now to store the hash created by each such query you create another hash. Here the key could be something like 'given_date' in your case so you could write</p>\n\n<p><code>$parent_hash{given_date}=\\%child_hash</code></p></li>\n</ol>\n\n<p>This will results in the parent hash having a <strong>reference</strong> of each query result.</p>\n\n<p>For more you can refer to these resources:</p>\n\n<p><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">http://perldoc.perl.org/perlref.html</a></p>\n\n<p><a href=\"http://www.thegeekstuff.com/2010/06/perl-array-reference-examples/\" rel=\"nofollow\">http://www.thegeekstuff.com/2010/06/perl-array-reference-examples/</a></p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 2838042, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/be6e695d0cbc9dde84a2cd95ea684941?s=128&d=identicon&r=PG&f=1", "display_name": "user2838042", "link": "https://stackoverflow.com/users/2838042/user2838042"}, "edited": false, "score": 0, "creation_date": 1422367397, "post_id": 28170859, "comment_id": 44713734, "body": "i am getting the result as $VAR1 [ { &#39;ID&#39; =&gt;&#39;1131A&#39;, &#39;STATUS&#39; =&gt;&#39;correct&#39;}, {&#39;ID&#39; =&gt;&#39;1132B&#39;, &#39;STATUS&#39; =&gt;&#39;incorrect&#39;}] what i would like is the key of the hash to be unique."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1422362793, "creation_date": 1422362793, "answer_id": 28170859, "question_id": 28168918, "link": "https://stackoverflow.com/questions/28168918/how-can-i-store-the-results-of-a-sql-query-as-a-hash-with-unique-keys/28170859#28170859", "title": "How can I store the results of a SQL query as a hash with unique keys?", "body": "<p>Have a look at <a href=\"https://metacpan.org/pod/DBI#fetchrow_hashref\" rel=\"nofollow\">DBI documentation</a>.</p>\n\n<p>Here is part of script that does what you want:</p>\n\n<pre><code>my $rows;\nwhile(my $hash_ref = $sth-&gt;fetchrow_hashref) {\n    push @$rows, $hash_ref;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 2838042, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/be6e695d0cbc9dde84a2cd95ea684941?s=128&d=identicon&r=PG&f=1", "display_name": "user2838042", "link": "https://stackoverflow.com/users/2838042/user2838042"}, "edited": false, "score": 0, "creation_date": 1422367692, "post_id": 28170973, "comment_id": 44713939, "body": "column name is same, which is the trouble for me how could i replace the column name which is the key in this case with a unique value?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 57, "user_id": 2838042, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/be6e695d0cbc9dde84a2cd95ea684941?s=128&d=identicon&r=PG&f=1", "display_name": "user2838042", "link": "https://stackoverflow.com/users/2838042/user2838042"}, "edited": false, "score": 0, "creation_date": 1422371938, "post_id": 28170973, "comment_id": 44716782, "body": "Why would you want to do that? You already have an array reference, which means each row can be identified by its index. For example, you can get the ID of the second row with <code>$results-&gt;[1]{id}</code>. If that&#39;s not enough, please edit your question to explain exactly why you think you need the keys to be different for each row (although I can&#39;t think of any good reason to do it that way, and it will probably make your code unnecessarily complex)."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 0, "last_activity_date": 1422363081, "creation_date": 1422363081, "answer_id": 28170973, "question_id": 28168918, "link": "https://stackoverflow.com/questions/28168918/how-can-i-store-the-results-of-a-sql-query-as-a-hash-with-unique-keys/28170973#28170973", "title": "How can I store the results of a SQL query as a hash with unique keys?", "body": "<p>You can do this by passing a <code>Slice</code> option to <code>DBI</code>'s <a href=\"https://metacpan.org/pod/DBI#selectall_arrayref\" rel=\"nofollow\"><code>selectall_arrayref</code></a>:</p>\n\n<pre><code>my $results = $dbh-&gt;selectall_arrayref(\n    'select id,status from store where last_entry = ?',\n    { Slice =&gt; {} },\n    $last_entry\n);\n</code></pre>\n\n<p>This will return an array reference with each row stored in a hash. Note that since hash keys must be unique, you will run into problems if you have duplicate column names in your query.</p>\n"}, {"tags": [], "owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "is_accepted": false, "score": 0, "last_activity_date": 1422390147, "last_edit_date": 1422390147, "creation_date": 1422377692, "answer_id": 28175775, "question_id": 28168918, "link": "https://stackoverflow.com/questions/28168918/how-can-i-store-the-results-of-a-sql-query-as-a-hash-with-unique-keys/28175775#28175775", "title": "How can I store the results of a SQL query as a hash with unique keys?", "body": "<p>You want something like this:</p>\n\n<pre><code># select the data as an array of hashes - retured as an arrayref\nmy $rows = $dbh-&gt;selectall_arrayref($the_query, {Slice =&gt; {}}, @any_search_params);\n\n# now make the id keys unique\nmy $i = 1;\nforeach my $row ( @$rows) {\n   # remove each column and assign the value to a uniquely named column\n   # by adding a numeric suffix\n   $row-&gt;{\"ID\" . $i} = delete $row-&gt;{ID};\n   $row-&gt;{\"status\" . $i} = delete $row-&gt;{status};\n   $i += 1;\n}\n</code></pre>\n\n<p>Add your own error checking.</p>\n\n<p>So you said \"save as a hash,\" but your example is an array of hashes. So there would be a slightly different method for a hash of hashes.</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1422389934, "creation_date": 1422389934, "answer_id": 28179227, "question_id": 28168918, "link": "https://stackoverflow.com/questions/28168918/how-can-i-store-the-results-of-a-sql-query-as-a-hash-with-unique-keys/28179227#28179227", "title": "How can I store the results of a SQL query as a hash with unique keys?", "body": "<p>This is the kind of question that raises an immediate red flag. It's somewhat of an odd request to want a collection (array/array reference) of data structures that are heterogeneous---that's the whole point of a collection. If you tell us what you intend to do with the data rather than what you want the data to look like, we can probably suggest a better solution.</p>\n"}], "owner": {"reputation": 57, "user_id": 2838042, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/be6e695d0cbc9dde84a2cd95ea684941?s=128&d=identicon&r=PG&f=1", "display_name": "user2838042", "link": "https://stackoverflow.com/users/2838042/user2838042"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 774, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1422390147, "creation_date": 1422356489, "last_edit_date": 1422363541, "question_id": 28168918, "link": "https://stackoverflow.com/questions/28168918/how-can-i-store-the-results-of-a-sql-query-as-a-hash-with-unique-keys", "title": "How can I store the results of a SQL query as a hash with unique keys?", "body": "<p>I have a query that returns multiple rows:</p>\n\n<pre><code>select id,status from store where last_entry = &lt;given_date&gt;;\n</code></pre>\n\n<p>The returned rows look like:</p>\n\n<pre><code>id      status\n-----------------\n1131A   correct\n1132B   incorrect\n1134G   empty\n</code></pre>\n\n<p>I want to store the results like this:</p>\n\n<pre><code>$rows = [\n    {\n        ID1     =&gt; '1131A',\n        status1 =&gt; 'correct'\n    }, \n    {\n        ID2     =&gt; '1132B',\n        status2 =&gt; 'incorrect'\n    },\n    {\n        ID3     =&gt; '1134G',\n        status3 =&gt; 'empty'\n    }\n];\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["sql", "perl", "dbi", "bind-variables"], "answers": [{"comments": [{"owner": {"reputation": 1425, "user_id": 1837991, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/601477b1ff39ca48d181c5179cd2fc7e?s=128&d=identicon&r=PG", "display_name": "Gert van den Berg", "link": "https://stackoverflow.com/users/1837991/gert-van-den-berg"}, "edited": false, "score": 0, "creation_date": 1422358576, "post_id": 28168911, "comment_id": 44708588, "body": "Interesting approach... Doesn&#39;t work for named bind variables though... (I tried to simplify the example as much as possible, my full query has a few repeated variables where I&#39;m using the Oracle style <code>:name</code> variables) (I wonder if you can mix <code>?</code> with the named type...) I&#39;m still hoping there is a way to directly bind a set/list..."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 1425, "user_id": 1837991, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/601477b1ff39ca48d181c5179cd2fc7e?s=128&d=identicon&r=PG", "display_name": "Gert van den Berg", "link": "https://stackoverflow.com/users/1837991/gert-van-den-berg"}, "edited": false, "score": 0, "creation_date": 1422359049, "post_id": 28168911, "comment_id": 44708845, "body": "AFAIK, you have to use only named placeholders for Oracle."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 1425, "user_id": 1837991, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/601477b1ff39ca48d181c5179cd2fc7e?s=128&d=identicon&r=PG", "display_name": "Gert van den Berg", "link": "https://stackoverflow.com/users/1837991/gert-van-den-berg"}, "edited": false, "score": 2, "creation_date": 1422359258, "post_id": 28168911, "comment_id": 44708961, "body": "That would be <code>my $pholders = join &quot;, &quot;, map &quot;:$_&quot;,  1 .. @nature;</code>"}, {"owner": {"reputation": 1425, "user_id": 1837991, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/601477b1ff39ca48d181c5179cd2fc7e?s=128&d=identicon&r=PG", "display_name": "Gert van den Berg", "link": "https://stackoverflow.com/users/1837991/gert-van-den-berg"}, "edited": false, "score": 0, "creation_date": 1422366782, "post_id": 28168911, "comment_id": 44713364, "body": "Quick note: No, you can&#39;t mix placeholder styles... I&#39;m using <code>:nat$_</code> currently..  Filling it in a loop with bind_param, but that can probably be done with <code>map</code>&#39;s block form... (Edit: Map seems to make sense mainly when worried about the result, so one line for is probably the relevant option)"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1422374675, "post_id": 28168911, "comment_id": 44718616, "body": "@\u0421\u0443\u0445\u043e\u043927 - Nope, Oracle is perfectly happy with <code>?</code> placeholders."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1422380408, "post_id": 28168911, "comment_id": 44722324, "body": "@JimDavis I think this is only due <code>DBD::Oracle</code> <a href=\"http://search.cpan.org/~pythian/DBD-Oracle-1.30/Oracle.pm#Placeholders\" rel=\"nofollow noreferrer\">implementation</a>"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 3, "last_activity_date": 1422356478, "creation_date": 1422356478, "answer_id": 28168911, "question_id": 28168736, "link": "https://stackoverflow.com/questions/28168736/perl-dbi-binding-a-list/28168911#28168911", "title": "Perl DBI - binding a list", "body": "<p>There should be as many <code>?</code> placeholders as there is elements in <code>@nature</code>, ie. <code>in (?,?,..)</code></p>\n\n<pre><code>my @nature = ('TYPE1','TYPE2');\nmy $pholders = join \",\", (\"?\") x @nature;\nmy $qh = $dbh-&gt;prepare(\n    \"SELECT count(ref_no) FROM fm_fault WHERE nature IN ($pholders)\"\n) or die(\"Failed to prepare query: $DBI::errstr\");\n</code></pre>\n"}], "owner": {"reputation": 1425, "user_id": 1837991, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/601477b1ff39ca48d181c5179cd2fc7e?s=128&d=identicon&r=PG", "display_name": "Gert van den Berg", "link": "https://stackoverflow.com/users/1837991/gert-van-den-berg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1488, "favorite_count": 0, "accepted_answer_id": 28168911, "answer_count": 1, "score": 2, "last_activity_date": 1422356478, "creation_date": 1422355998, "question_id": 28168736, "link": "https://stackoverflow.com/questions/28168736/perl-dbi-binding-a-list", "title": "Perl DBI - binding a list", "body": "<p>How do I bind a variable to a SQL set for an IN query in Perl DBI?</p>\n\n<p>Example:</p>\n\n<pre><code>my @nature = ('TYPE1','TYPE2'); # This is normally populated from elsewhere\nmy $qh = $dbh-&gt;prepare(\n      \"SELECT count(ref_no) FROM fm_fault WHERE nature IN ?\"\n) || die(\"Failed to prepare query: $DBI::errstr\");\n\n# Using the array here only takes the first entry in this example, using a array ref gives no result\n# bind_param and named bind variables gives similar results\n$qh-&gt;execute(@nature) || die(\"Failed to execute query: $DBI::errstr\");\n\nprint $qh-&gt;fetchrow_array();\n</code></pre>\n\n<p>The result for the code as above results in only the count for <code>TYPE1</code>, while the required output is the sum of the count for <code>TYPE1</code> and <code>TYPE2</code>. Replacing the bind entry with a reference to <code>@nature</code> (<code>\\@nature</code>), results in 0 results.</p>\n\n<p>The main use-case for this is to allow a user to check multiple options using something like a checkbox group and it is to return all the results. A work-around is to construct a string to insert into the query - it works, however it needs a whole lot of filtering to avoid SQL injection issues and it is ugly...</p>\n\n<p>In my case, the database is Oracle, ideally I want a generic solution that isn't affected by the database.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 983, "user_id": 1830862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33446c1262d77933aa7b23696716f223?s=128&d=identicon&r=PG", "display_name": "Wald", "link": "https://stackoverflow.com/users/1830862/wald"}, "edited": false, "score": 0, "creation_date": 1422370784, "post_id": 28168708, "comment_id": 44715977, "body": "What does the &#39;-e&#39; part in  &quot;if ( -e &quot;string&quot; ); ?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 983, "user_id": 1830862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33446c1262d77933aa7b23696716f223?s=128&d=identicon&r=PG", "display_name": "Wald", "link": "https://stackoverflow.com/users/1830862/wald"}, "edited": false, "score": 0, "creation_date": 1422371312, "post_id": 28168708, "comment_id": 44716330, "body": "@wald : -e: checking the existence of the file... <code>perldoc -f -X</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422373987, "post_id": 28168708, "comment_id": 44718143, "body": "What&#39;s wrong with <code>readdir</code> (or <code>File::Find</code> if you want something recursive)?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422374161, "post_id": 28168708, "comment_id": 44718263, "body": "@ThisSuitIsBlackNot nothing is wrong - only isn&#39;t very nice. Is <b>IS</b> solvable, but hoped in some more elegant, shorter, faster, nicer (choose some) solution.. ;) (or already ready/done cpan-module)."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1422450541, "post_id": 28168708, "comment_id": 44753106, "body": "<a href=\"https://metacpan.org/pod/Path::Iterator::Rule\" rel=\"nofollow noreferrer\">metacpan.org/pod/Path::Iterator::Rule</a> has a nice API.  It&#39;s worth checking out."}], "answers": [{"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 0, "last_activity_date": 1422375995, "creation_date": 1422375995, "answer_id": 28175201, "question_id": 28168708, "link": "https://stackoverflow.com/questions/28168708/how-to-find-the-class-file-on-case-insensitive-filesystem/28175201#28175201", "title": "How to find the class-file on case insensitive filesystem?", "body": "<p>My current solution is:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse 5.014;\nuse strict;\nuse warnings;\n\nmy @DIRS = qw(./lib1 ./lib2 /Users/me/tmp/lib3);\n\nfor my $class ( qw(Class::Name Class::NAME CLASS::name Class::Namex) ) {\n    my $file = findClassFile($class);\n    say $file // \"Not found $class\";\n}\n\nsub findClassFile {\n    my($classname) = @_;\n    my $file = ($classname =~ s|::|/|gr) . \".pm\";\n    for my $dir (@DIRS) {\n        return \"$dir/$file\" if( FileExists(\"$dir/$file\") );\n    }\n    return undef;\n}\n\nsub FileExists {\n    my($path) = @_;\n    my $curr = $path =~ m|^/| ? \"/\" : \".\";\n    for my $part (split '/', $path) {\n        next unless $part;\n        opendir(my $dfd, $curr) || return undef;\n        my @files = grep {/^$part$/} readdir($dfd);\n        closedir($dfd);\n        return undef unless( @files );\n        $curr .= \"/$part\";\n    }\n    return $curr;\n}\n</code></pre>\n\n<p>what prints:</p>\n\n<pre><code>./lib1/Class/Name.pm\n./lib2/Class/NAME.pm\n/Users/me/tmp/lib3/CLASS/name.pm\nNot found Class::Namex\n</code></pre>\n\n<p>so - it's working, only don't like it.. ;)</p>\n"}], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1422375995, "creation_date": 1422355917, "last_edit_date": 1422357230, "question_id": 28168708, "link": "https://stackoverflow.com/questions/28168708/how-to-find-the-class-file-on-case-insensitive-filesystem", "title": "How to find the class-file on case insensitive filesystem?", "body": "<p>Simple test case (for the demonstration of the problem):</p>\n\n<pre><code>mkdir -p ./lib1/Class ./lib2/Class\ntouch ./lib1/Class/Name.pm ./lib2/Class/NAME.pm\n</code></pre>\n\n<p>So, have:</p>\n\n<pre><code>./lib1/Class/Name.pm\n./lib2/Class/NAME.pm\n</code></pre>\n\n<p>Need search for the right file in the case-insensitive filesystem (OS X's HFS+).</p>\n\n<p>The following works on case-sensitive filesystem,</p>\n\n<pre><code>#!/usr/bin/env perl\nuse 5.014;\nuse strict;\nuse warnings;\n\nmy @DIRS = qw(./lib1 ./lib2);\n\nfor my $class ( qw(Class::Name Class::NAME) ) {\n    my $file = findClassFile($class);\n    say $file;\n}\n\nsub findClassFile {\n    my($file) = @_;\n    $file =~ s|::|/|g;\n    $file .= \".pm\";\n\n    for my $dir (@DIRS) {\n        return \"$dir/$file\" if( -e \"$dir/$file\" );\n    }\n    return undef;\n}\n</code></pre>\n\n<p>and prints</p>\n\n<pre><code>./lib1/Class/Name.pm\n./lib2/Class/NAME.pm\n</code></pre>\n\n<p>on the OS X, it prints incorrectly:</p>\n\n<pre><code>./lib1/Class/Name.pm\n./lib1/Class/NAME.pm\n</code></pre>\n\n<p>How to find on the OSX's insensitive filesystem the correct filename?</p>\n\n<p>Ps: <em>Now only comes to my mind write and recursive routine with <code>opendir/readdir/chdir</code> and checking the filenames what are comes from <code>readdir</code>. Not to shabby... Exists some more easy way?</em></p>\n"}, {"tags": ["javascript", "forms", "perl", "lwp"], "answers": [{"tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 1, "last_activity_date": 1422357156, "creation_date": 1422357156, "answer_id": 28169142, "question_id": 28168393, "link": "https://stackoverflow.com/questions/28168393/perl-lwp-trouble-to-submit-a-javascript-form/28169142#28169142", "title": "Perl / LWP Trouble to submit a javascript form", "body": "<p>Traditionally this problem was solved by POSTing to the form the js was supposed to create, which of course would break on any change of the dynamically created form.</p>\n\n<p>However, meanwhile there exists </p>\n\n<p>WWW::Scripter <a href=\"http://search.cpan.org/~lxp/WWW-Scripter-0.030/lib/WWW/Scripter.pod\" rel=\"nofollow\">http://search.cpan.org/~lxp/WWW-Scripter-0.030/lib/WWW/Scripter.pod</a> and </p>\n\n<p>WWW:Scripter::Plugin::Javascript <a href=\"http://search.cpan.org/~sprout/WWW-Scripter-Plugin-JavaScript-0.008a/lib/WWW/Scripter/Plugin/JavaScript.pm\" rel=\"nofollow\">http://search.cpan.org/~sprout/WWW-Scripter-Plugin-JavaScript-0.008a/lib/WWW/Scripter/Plugin/JavaScript.pm</a></p>\n\n<p>I haven't tried those though.</p>\n\n<p>Take a look at this discussion too:\n<a href=\"http://www.perlmonks.org/?node_id=983385\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=983385</a></p>\n"}], "owner": {"reputation": 11, "user_id": 4498260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33fcf4fe1a3b88c7fb90dff0d6125af6?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent", "link": "https://stackoverflow.com/users/4498260/vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422357156, "creation_date": 1422354971, "question_id": 28168393, "link": "https://stackoverflow.com/questions/28168393/perl-lwp-trouble-to-submit-a-javascript-form", "title": "Perl / LWP Trouble to submit a javascript form", "body": "<p>I'm trying to make an robot with perl (LWP librairy) to automatize some annoying task. </p>\n\n<p>I'm able to passing through the first login page, but i'm redirected to a second one with a formulaire write in Javascript : </p>\n\n<pre><code>&lt;script language='javascript'&gt;\nvar f;\nf=(document.forms.length&gt;0 ? document.forms.item(0) : null);\nif (!f) {\n    document.writeln(\"&lt;form method='post' action='' target=''&gt;\");\n    document.writeln(\"&lt;/form&gt;\");\n    f=document.forms.item(0);\n    }\nf.action='URL';\nf.target='_top';\nf.submit();\n&lt;/script&gt;\n</code></pre>\n\n<p>Due to this method, my ( HTML::Form->parse( $resultat->content, $resultat->base ) )[0], doesn't find the form &amp; crash. </p>\n\n<p>I really need help on this,</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["perl", "workflow", "validation"], "comments": [{"owner": {"reputation": 99, "user_id": 4448695, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/683020fb1c7ce809bb90ed8234dc368e?s=128&d=identicon&r=PG", "display_name": "Vedran", "link": "https://stackoverflow.com/users/4448695/vedran"}, "edited": false, "score": 0, "creation_date": 1422350903, "post_id": 28166871, "comment_id": 44704181, "body": "I would appreciate a comment after -1 but...there are all kinds of people out there! If i&#39;m not clear in my question i will happily answer on anything that is unclear here."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1422352097, "post_id": 28166871, "comment_id": 44704809, "body": "I think it&#39;s a good question, but it would help if you fixed interpunction and spelling."}, {"owner": {"reputation": 99, "user_id": 4448695, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/683020fb1c7ce809bb90ed8234dc368e?s=128&d=identicon&r=PG", "display_name": "Vedran", "link": "https://stackoverflow.com/users/4448695/vedran"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1422372542, "post_id": 28166871, "comment_id": 44717199, "body": "Thanks for your comment. I edited my question a bit, making a sentences shorter."}], "answers": [{"tags": [], "owner": {"reputation": 143, "user_id": 473093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7e55a646043b5f04e82dfcb1985edc9?s=128&d=identicon&r=PG", "display_name": "jonasbn", "link": "https://stackoverflow.com/users/473093/jonasbn"}, "is_accepted": false, "score": 0, "last_activity_date": 1511943876, "creation_date": 1511943876, "answer_id": 47548118, "question_id": 28166871, "link": "https://stackoverflow.com/questions/28166871/perl-workflow-manual-action-termination/47548118#47548118", "title": "Perl Workflow manual action termination", "body": "<p>This sounds like a <em>hack</em> since Workflow is a state machine. You could look into <a href=\"https://metacpan.org/pod/Workflow::State\" rel=\"nofollow noreferrer\">Workflow::State</a> for actions with several resulting states, as mentioned in the documentation for <a href=\"https://metacpan.org/pod/Workflow::Action#execute(-$workflow-)\" rel=\"nofollow noreferrer\">Workflow::Action execute</a>.</p>\n"}], "owner": {"reputation": 99, "user_id": 4448695, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/683020fb1c7ce809bb90ed8234dc368e?s=128&d=identicon&r=PG", "display_name": "Vedran", "link": "https://stackoverflow.com/users/4448695/vedran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511943876, "creation_date": 1422350351, "last_edit_date": 1495541190, "question_id": 28166871, "link": "https://stackoverflow.com/questions/28166871/perl-workflow-manual-action-termination", "title": "Perl Workflow manual action termination", "body": "<p>Since i'm not able to solve the problem via validators\n<a href=\"https://stackoverflow.com/questions/27921691/perl-workflow-module-with-validator\">Perl Workflow module with validator</a>,\ni'm thinking of creating methods in action classes and call them when i need them.\nAproaching this way i will need a way of terminating the Action execution by returning \"false\" to the Workflow.\nThis way the workflow knows that it should not progress to the next state.</p>\n\n<p>How can i manually terminate Action execution in perl Workflow?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "pipe"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422370817, "post_id": 28165295, "comment_id": 44716000, "body": "<code>die &quot;open2() failed $!&quot;</code> will never execute beacuse <code>open3</code> throws an exception on error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422370879, "post_id": 28165295, "comment_id": 44716039, "body": "More importantly, your code suffers from a race condition. If the child writes a large amount to STDERR, it will block since the parent is blocked reading from the child&#39;s STDOUT. <code>open3</code> is a really low level module. You should be using IPC::Run3 or IPC::Run."}], "answers": [{"tags": [], "owner": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "is_accepted": true, "score": 1, "last_activity_date": 1422347215, "creation_date": 1422347215, "answer_id": 28166057, "question_id": 28165295, "link": "https://stackoverflow.com/questions/28165295/unable-to-read-ipcopen3-childs-output/28166057#28166057", "title": "Unable to read IPC::Open3 child&#39;s output", "body": "<p>You have a typo.</p>\n\n<pre><code>$r=&lt;CHLD_OUT&gt;;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>print \"[OUTPUT]: $_\" while (&lt;CHILD_OUT&gt;);\n</code></pre>\n\n<p>It's <em>CHLD_OUT</em> versus <em>CHILD_OUT</em>.</p>\n\n<p>It's probably better to always use</p>\n\n<pre><code>use warnings\n</code></pre>\n\n<p>It'd save you from the trouble, by showing a warning message:</p>\n\n<pre><code>readline() on unopened filehandle CHILD_OUT at x.pl line 19.\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 1017999, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6d79dec8c675b26e633ab323a1eac0f?s=128&d=identicon&r=PG", "display_name": "Sur123", "link": "https://stackoverflow.com/users/1017999/sur123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 28166057, "answer_count": 1, "score": 0, "last_activity_date": 1422409806, "creation_date": 1422343638, "last_edit_date": 1422409806, "question_id": 28165295, "link": "https://stackoverflow.com/questions/28165295/unable-to-read-ipcopen3-childs-output", "title": "Unable to read IPC::Open3 child&#39;s output", "body": "<p>This code is used to read and write through the pipe, but it seems it is not working well.</p>\n\n<pre><code>use strict;\nuse IPC::Open2;\n\n\nmy $st1=\"String1\\n\";\nmy $st2=\"String2\\n\";\nmy $st3=\"String3\\n\";\nmy $st4=\"String4\\n\";\nmy $st5=\"String5\\n\";\n\nmy $joint=$st1.$st2.$st3.$st4.$st5;\nmy $r;\nmy $pid = open2(\\*CHILD_IN, \\*CHILD_OUT, 'java -Dfile.encoding=UTF8 -cp abc.jar:xxx.jar TestCode')\nor die \"open2() failed $!\";\nprint CHILD_IN $joint;\n$r=&lt;CHILD_OUT&gt;;\nprint \"Got $r from child\\n\";\nprint \"[OUTPUT]: $_\" while (&lt;CHILD_OUT&gt;);\n</code></pre>\n\n<p>This code is only reading first line of the output that too which is stored in $r. Not going inside while loop. Although there is a lot of output by executing the command.</p>\n"}, {"tags": ["perl", "directory", "copy", "scp"], "answers": [{"tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 0, "last_activity_date": 1422352848, "creation_date": 1422352848, "answer_id": 28167659, "question_id": 28165214, "link": "https://stackoverflow.com/questions/28165214/how-to-copy-a-directory-from-one-host-to-another-host/28167659#28167659", "title": "How to copy a directory from one host to another host?", "body": "<p>According to the example given in the manpage, you don't need to repeat the host in the call, if you already passed it as an option.</p>\n\n<p>from <a href=\"http://search.cpan.org/~djberg/Net-SCP-Expect-0.12/Expect.pm\" rel=\"nofollow\">http://search.cpan.org/~djberg/Net-SCP-Expect-0.12/Expect.pm</a>:</p>\n\n<pre><code>Example 2 - uses constructor, shorthand scp:\n\nmy $scpe = Net::SCP::Expect-&gt;new(host=&gt;'host', user=&gt;'user', password=&gt;'xxxx');\n\n$scpe-&gt;scp('file','/some/dir'); # 'file' copied to 'host' at '/some/dir'\n</code></pre>\n\n<p>Besides, is this \"-r\" a typo? If you want to copy recursively, you need to set recursive => \"yes\" in the options hash.</p>\n"}], "owner": {"reputation": 1, "user_id": 4497390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94ebf9761e255df257d8250d5c1ec1b0?s=128&d=identicon&r=PG&f=1", "display_name": "Loki Bcool", "link": "https://stackoverflow.com/users/4497390/loki-bcool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1422352848, "creation_date": 1422343283, "question_id": 28165214, "link": "https://stackoverflow.com/questions/28165214/how-to-copy-a-directory-from-one-host-to-another-host", "title": "How to copy a directory from one host to another host?", "body": "<p>I want to copy a directory from one host to another host using SCP\nI tried with following syntax </p>\n\n<pre><code>my $src_path=\"/abc/xyz/123/\";\nmy $BASE_PATH=\"/a/b/c/d/\"; \nmy $scpe = Net::SCP::Expect-&gt;new(host=&gt; $host, user=&gt;$username, password=&gt;$password);\n$scpe-&gt;scp -r($host.\":\".$src_path, $dst_path);\n</code></pre>\n\n<p>i am getting the errror like no such file or directory.can you help in this regard.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "edited": false, "score": 0, "creation_date": 1422357997, "post_id": 28163786, "comment_id": 44708304, "body": "Thank you for answering, But your answer is not fit for the perl cgi $ar = join(&quot;&quot;,@da); print $ar,&#39;&lt;br&gt;&#39;; $ar =~ s/at(*SKIP)(*F)|./&amp;nbsp/g; print $ar; Not correctly fit with the data. How can i do it?"}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1422377767, "post_id": 28163786, "comment_id": 44720618, "body": "I don&#39;t understand why you bring in <i>cgi</i> now."}], "tags": [], "owner": {"reputation": 5656, "user_id": 316698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea35d84a7d4d453bf4aaf7591368000b?s=128&d=identicon&r=PG", "display_name": "Paul Richter", "link": "https://stackoverflow.com/users/316698/paul-richter"}, "is_accepted": false, "score": 0, "last_activity_date": 1422336408, "creation_date": 1422336408, "answer_id": 28163786, "question_id": 28163598, "link": "https://stackoverflow.com/questions/28163598/how-to-print-the-matched-string-at-the-position-of-the-data/28163786#28163786", "title": "How to print the matched string at the position of the data?", "body": "<p>You can use <code>split</code> with a regex, instead of <code>map</code>.</p>\n\n<pre><code>$data = \"atgacaagcagacccaggggatacgat\" ;\n\nmy @chunks = split(/at/, $data) ;\n\nprint $data ; #echo input\n\n#skip over non-matching chunks and print matches\nforeach my $chunk (@chunks) {\n    print ' ' x length($chunk) ;\n    print 'at' ;\n}\n</code></pre>\n\n<p>This will print an extra 'at' at the end, but I am too lazy to clean that up here.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "edited": false, "score": 0, "creation_date": 1422356351, "post_id": 28164074, "comment_id": 44707365, "body": "Thank you for answering, But your answer is not fit for the perl cgi  <code>$ar = join(&quot;&quot;,@da); print $ar,&#39;&lt;br&gt;&#39;; $ar =~ s&#47;at(*SKIP)(*F)|.&#47;&amp;nbsp&#47;g; print $ar;</code>  Not correctly fit with the data. How can i do it?"}, {"owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1422423522, "post_id": 28164074, "comment_id": 44739508, "body": "do you have the document on the special flag like SKIP and F, I&#39;m unable to look for them on Google. It&#39;s the first time I see those flags"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "edited": false, "score": 0, "creation_date": 1422430101, "post_id": 28164074, "comment_id": 44742071, "body": "@Avinash raj Thank you for answering . Im using courier which is fit for me. and also use you code. Plese add document about <code>skip</code>"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 6, "last_activity_date": 1422449262, "last_edit_date": 1495540821, "creation_date": 1422338028, "answer_id": 28164074, "question_id": 28163598, "link": "https://stackoverflow.com/questions/28163598/how-to-print-the-matched-string-at-the-position-of-the-data/28164074#28164074", "title": "How to print the matched string at the position of the data?", "body": "<p>To get the desired output through <code>s///</code></p>\n\n<pre><code>$at =\"at\";\n$ar = &lt;DATA&gt;;\nprint $ar;\n$ar =~ s/$at(*SKIP)(*F)|./ /g;\nprint $ar;\n__DATA__\natgacaagcagacccaggggatacgat\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>atgacaagcagacccaggggatacgat\nat                  at   at\n</code></pre>\n\n<p><code>$at(*SKIP)(*F)</code> expands the variable <code>$at</code> and matches the same set of characters stored in the variable against the input string. Following <code>(*SKIP)(*F)</code> causes the match to fail and forces the pattern on the right side of <code>|</code> to match against the remaining characters. So <code>.</code> matches all the characters except the ones which are skipped. Replacing those matched characters with a space will give you the desired output.</p>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><p><a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlre.html</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/24534782/how-do-skip-or-f-work-on-regex\">How do (*SKIP) or (*F) work on regex?</a></p></li>\n</ul>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "edited": false, "score": 0, "creation_date": 1422358097, "post_id": 28164248, "comment_id": 44708353, "body": "Thank you for answering, But your answer is not fit for the perl cgi $ar = join(&quot;&quot;,@da); print $ar,&#39;&lt;br&gt;&#39;; $ar =~ s/at(*SKIP)(*F)|./&amp;nbsp/g; print $ar; Not correctly fit with the data. How can i do it?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1422526381, "post_id": 28164248, "comment_id": 44788045, "body": "@Rene Nyffenegger  I&#39;m remove   <code>-1</code> from your code, like <code>($x, $-[0], $+[0]-$-[0])</code>  and run it, also works perfectly."}], "tags": [], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "is_accepted": false, "score": 1, "last_activity_date": 1422425608, "last_edit_date": 1422425608, "creation_date": 1422338945, "answer_id": 28164248, "question_id": 28163598, "link": "https://stackoverflow.com/questions/28163598/how-to-print-the-matched-string-at-the-position-of-the-data/28164248#28164248", "title": "How to print the matched string at the position of the data?", "body": "<pre><code>use warnings;\nuse strict;\n\nmy $at =\"at\";\nmy $ar =\"atgacaagcagacccaggggatacgat\";\n\n(my $x = $ar) =~ s/./ /g;\n\nsubstr($x, $-[0], $+[0]-$-[0]-1) = $at while $ar =~ /$at/g;\n\nprint \"$ar\\n$x\\n\";\n</code></pre>\n\n<p>As per your comments, it seems that you want to print the result into a webbroser. So, of course, you need a non proportional font. Either you go</p>\n\n<pre><code> print \"&lt;pre&gt;\";\n print \"$ar\\n\";\n print \"$x\";\n print \"&lt;/pre&gt;\";\n</code></pre>\n\n<p>or you specify <em>monospace</em>:</p>\n\n<pre><code> print \"&lt;div style='font-family:monospace'&gt;\");\n print \"$ar&lt;br&gt;\";\n print \"$x\";\n print \"&lt;/div&gt;\";\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "edited": false, "score": 0, "creation_date": 1422430127, "post_id": 28185057, "comment_id": 44742090, "body": "thank you. Im used the courier font which is fit for me"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1422421824, "creation_date": 1422421824, "answer_id": 28185057, "question_id": 28163598, "link": "https://stackoverflow.com/questions/28163598/how-to-print-the-matched-string-at-the-position-of-the-data/28185057#28185057", "title": "How to print the matched string at the position of the data?", "body": "<p>@user3384402 Previous answers are enough for what you expect.</p>\n\n<p>I think you try to sequence alignment. In the browser visualization that the space is not fit for target it is your problem.</p>\n\n<p>Just do simple, use the <code>courier</code> or <code>courier new</code> font family it is give the correct visual effects. Bioinformatician when handle with the sequence alignment used these fonts only.  Try it.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 28164074, "answer_count": 4, "score": 3, "last_activity_date": 1422449262, "creation_date": 1422335189, "last_edit_date": 1422336265, "question_id": 28163598, "link": "https://stackoverflow.com/questions/28163598/how-to-print-the-matched-string-at-the-position-of-the-data", "title": "How to print the matched string at the position of the data?", "body": "<p>I tried to print the matched string at the postion of data,how can i do it?</p>\n\n<pre><code>$at =\"at\";\n@ar = &lt;DATA&gt;;\n@xxv = map(m/$at/g, @ar);\nprint \"@ar\";\nprint @xxv;\nprint \"\\n\";\n__DATA__\natgacaagcagacccaggggatacgat\n</code></pre>\n\n<p>I expected output is</p>\n\n<pre><code>    atgacaagcagacccaggggatacgat\n    at                  at   at\n</code></pre>\n"}, {"tags": ["java", "perl"], "comments": [{"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "edited": false, "score": 3, "creation_date": 1422346715, "post_id": 28162144, "comment_id": 44702177, "body": "Though this is not exactly an answer to your question: IMHO, you might be better off searching for other algorithms for prime factorization, instead of trying to port this one from Perl to Java.  Direct factorization is too slow for such a large number, I guess."}, {"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "edited": false, "score": 1, "creation_date": 1422347434, "post_id": 28162144, "comment_id": 44702452, "body": "As a hint: Did you test the rewritten code with small numbers, too? If it works, then increase the numbers by, say, powers of ten or so, and you will see, how the calculation slows down."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1422356893, "post_id": 28162144, "comment_id": 44707697, "body": "The perl code uses floats, so there could be truncating problems with your code.  You may have to nudge a value here and there by BigInteger.ONE."}, {"owner": {"reputation": 648, "user_id": 4410490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5106b2d8c88390214e39ec1054d2ad7e?s=128&d=identicon&r=PG&f=1", "display_name": "Marten", "link": "https://stackoverflow.com/users/4410490/marten"}, "edited": false, "score": 0, "creation_date": 1422360732, "post_id": 28162144, "comment_id": 44709770, "body": "Thanks for your responses! And ye, I tried small numbers first. They also don&#39;t work correctly (tried some in the range of 1234 and 6512344). I think the truncating problem will be the downfall of this program though. Should have used BigDecimal instead. Im gonna retry that first!"}, {"owner": {"reputation": 648, "user_id": 4410490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5106b2d8c88390214e39ec1054d2ad7e?s=128&d=identicon&r=PG&f=1", "display_name": "Marten", "link": "https://stackoverflow.com/users/4410490/marten"}, "edited": false, "score": 1, "creation_date": 1422362194, "post_id": 28162144, "comment_id": 44710619, "body": "But that also didn&#39;t really work :-) I actually recon myself pretty stupid that I didn&#39;t think of looking for a java example to this before. It was actually not that hard to find a similar solution here on stackoverflow: <a href=\"https://programmingpraxis.files.wordpress.com/2012/09/primenumbers.pdf\" rel=\"nofollow noreferrer\">programmingpraxis.files.wordpress.com/2012/09/primenumbers.p&zwnj;&#8203;df</a> ... sorry for that"}, {"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "edited": false, "score": 0, "creation_date": 1422369651, "post_id": 28162144, "comment_id": 44715233, "body": "Thank you for the link. Did you try it? I wonder how long it takes to factorize your 50-digit number using this algorithm. It would be great if you could let me know."}, {"owner": {"reputation": 648, "user_id": 4410490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5106b2d8c88390214e39ec1054d2ad7e?s=128&d=identicon&r=PG&f=1", "display_name": "Marten", "link": "https://stackoverflow.com/users/4410490/marten"}, "edited": false, "score": 0, "creation_date": 1422462047, "post_id": 28162144, "comment_id": 44760867, "body": "Haha, to be honest I gave it up after having it run on one core for half an hour. I briefly considered multithreading this, but then realized that would rather be working around the real problem. Would you have any suggestions on a good alternative? This algorithm already uses Quadratic Sieving... which should be the fastest way right?"}, {"owner": {"reputation": 648, "user_id": 4410490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5106b2d8c88390214e39ec1054d2ad7e?s=128&d=identicon&r=PG&f=1", "display_name": "Marten", "link": "https://stackoverflow.com/users/4410490/marten"}, "edited": false, "score": 0, "creation_date": 1422462430, "post_id": 28162144, "comment_id": 44761149, "body": "I also kinda google-cheat-search-solved the puzzle though :-)"}, {"owner": {"reputation": 4127, "user_id": 817950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/77649026bafd5e285ffbd76b7a2c90b6?s=128&d=identicon&r=PG", "display_name": "redbmk", "link": "https://stackoverflow.com/users/817950/redbmk"}, "edited": false, "score": 2, "creation_date": 1423436938, "post_id": 28162144, "comment_id": 45136524, "body": "A much faster and less memory intensive way than using recursion would be to start by building a list of all the prime numbers up to the number in question. Then work backwards from the big number looking for the first number that divides evenly."}], "answers": [{"tags": [], "owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "is_accepted": true, "score": 1, "last_activity_date": 1426520013, "last_edit_date": 1592644375, "creation_date": 1426520013, "answer_id": 29080800, "question_id": 28162144, "link": "https://stackoverflow.com/questions/28162144/from-perl-to-java/29080800#29080800", "title": "From Perl to Java", "body": "<h3>To answer the translation question...</h3>\n<p>Your Java translation is <em><strong>very</strong></em> close.  It only has one problem - your <code>while</code> loop condition should be <code>&gt;= 0</code>, rather than <code>&gt;0</code>.  With that amendment, it will work.  As it is - it will output the second largest prime factor in a some cases.</p>\n<p>To show this - try it on <code>1148487369611039</code> - which has prime factors <code>104717</code>, <code>104723</code> &amp; <code>104729</code>.  Without the correction - it outputs <code>104723</code>, with the correction, you get the right answer: <code>104729</code></p>\n<h3>Comment on algorithm</h3>\n<p>As others have noted in comments - this isn't a particularly fast way to do what you want. In fact that's an understatement - it's very slow.  On my box it took over 3 minutes to find the correct answer (<code>459905301806642105202622615174502491</code>)<sup>1</sup>, but it would take a very long time (maybe 500 years, or that kind of order), to prove that number was prime by simply trial dividing every odd number up to its square root (which is what the algorithm does).</p>\n<p>You could use all kinds of tricks to get faster, depending how certain you want to be of getting the answer.  One would be to pre-test any candidates for primality - e.g. inserting a test using <code>BigInteger.isProbablePrime()</code> with high certainty as a test in <code>goAtIt()</code> and returning early if you get a very big prime early in the process.  If you don't like the probabilistic element of that, you could roll your own <a href=\"http://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test#Deterministic_variants_of_the_test\" rel=\"nofollow noreferrer\">Miller-Rabin primality deterministic test</a>. You could also build tables of primes and only ever use those in any trial divisions and / or lookups. You might also consider the <a href=\"http://en.wikipedia.org/wiki/Pollard%27s_rho_algorithm\" rel=\"nofollow noreferrer\">Pollard-Strassen algorithm</a></p>\n<p><sup>1</sup><sub>(I put an output just after the <code>while</code> loop in <code>goAtIt()</code> to check when it actually found the solution)</sub></p>\n<h3>Note on Perl big numbers</h3>\n<blockquote>\n<p>Small problem with Perl is that it doesn't accept really big numbers</p>\n</blockquote>\n<p>I think its worse than that because Perl will implicitly <a href=\"https://stackoverflow.com/a/17016083/838992\">turn the large integer into a double precision floating point</a> if you simply replace</p>\n<pre><code>my $magic = &lt;number&gt;;\n</code></pre>\n<p>with</p>\n<pre><code>my $magic = 7393913335919140050521110339491123405991919445111971;\n</code></pre>\n<p>So - it would give the wrong answer rather than throwing an error as demonstrated on <a href=\"http://ideone.com/eaneoq\" rel=\"nofollow noreferrer\">ideone here</a>. Rather nasty, as the algorithm works fine for small numbers and could lull unwary users into a false sense of security if used with larger inputs...</p>\n"}], "owner": {"reputation": 648, "user_id": 4410490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5106b2d8c88390214e39ec1054d2ad7e?s=128&d=identicon&r=PG&f=1", "display_name": "Marten", "link": "https://stackoverflow.com/users/4410490/marten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 29080800, "answer_count": 1, "score": 6, "last_activity_date": 1431188142, "creation_date": 1422324953, "last_edit_date": 1431188142, "question_id": 28162144, "link": "https://stackoverflow.com/questions/28162144/from-perl-to-java", "title": "From Perl to Java", "body": "<p>I am trying to solve some online puzzle finding the largest prime factor of a very large number (<em>7393913335919140050521110339491123405991919445111971</em> to be exact). In my search for a solution I stumbled upon this Perl code (<a href=\"http://thetaoishere.blogspot.nl/2008/05/largest-prime-factor-of-number.html\" rel=\"nofollow\">from here</a>):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $magic = &lt;number&gt;;\n\nsub largestprimef($);\nsub max($$);\n\nprint largestprimef($magic);\n\nsub largestprimef($) {\n    my $n = shift;\n\n    my $i;\n    return largestprimef(max(2, $n/2)) if($n % 2 == 0); \n    my $sn = int( sqrt($n) );\n\n    for ( $i = 3 ; $i &lt;= $sn ; $i += 2 ) {\n        if ( $n % $i == 0 ) { last; }\n    }\n    if ( $i &gt; $sn )    #loop ran over, means the number is prime\n    {\n        return $n;\n    }\n    else {\n        return max( $i, largestprimef( $n / $i ) );\n    }\n}\n\nsub max($$) {\n    return ( sort { $a &lt;=&gt; $b } (@_) )[1];\n}\n</code></pre>\n\n<p>Now that algorithm seemed to work! Small problem with Perl is that it doesn't accept really big numbers. So I rewrote</p>\n\n<pre><code>my $magic = &lt;number&gt;;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my $magic = Math::BigInt-&gt;new(' &lt;number&gt; ');\n</code></pre>\n\n<p>but that just runs for ages and ages. So I rewrote it to Java (in which I'm a bit more familiar) which resulted in this:</p>\n\n<pre><code>static final BigInteger two = new BigInteger( \"2\" );\n\npublic static void main( String[] args ) {\n    BigInteger number = new BigInteger( \"&lt;number&gt;\" );\n\n    System.out.println( goAtIt( number ) );\n}\n\nstatic BigInteger goAtIt( BigInteger prime ) {\n    if ( isEven( prime ) )\n        return goAtIt( prime.divide( two ).max( two ) );\n\n    BigInteger sqrt = sqrt( prime );\n    BigInteger comp = new BigInteger( \"3\" );\n\n    while (sqrt.compareTo( comp ) &gt; 0) {\n        if ( prime.remainder( comp ).equals( BigInteger.ZERO ) )\n            break;\n        comp = comp.add( two );\n    }\n\n    if ( comp.compareTo( sqrt ) &gt; 0 )\n        return prime;\n\n    return comp.max( goAtIt( prime.divide( comp ) ) );\n}\n</code></pre>\n\n<p>With as auxiliaries (which seem to be fine):</p>\n\n<pre><code>static boolean isEven( BigInteger number ) {\n    return number.getLowestSetBit() != 0;\n}\n\nstatic BigInteger sqrt( BigInteger n ) {\n    BigInteger a = BigInteger.ONE;\n    BigInteger b = new BigInteger( n.shiftRight( 5 ).add( new BigInteger( \"8\" ) ).toString() );\n    while (b.compareTo( a ) &gt;= 0) {\n        BigInteger mid = new BigInteger( a.add( b ).shiftRight( 1 ).toString() );\n        if ( mid.multiply( mid ).compareTo( n ) &gt; 0 )\n            b = mid.subtract( BigInteger.ONE );\n        else\n            a = mid.add( BigInteger.ONE );\n    }\n    return a.subtract( BigInteger.ONE );\n}\n</code></pre>\n\n<p>But my results are always off... and my Perl is not really that good to reverse-engineer the original code. Does anyone have a clue on what I'm missing?</p>\n\n<p><strong>==UPDATE: problem is (somewhat) solved by workaround</strong></p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1422341864, "post_id": 28161864, "comment_id": 44700266, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/411740/how-can-i-parse-dates-and-convert-time-zones-in-perl\">How can I parse dates and convert time zones in Perl?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1097, "user_id": 3916640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff440cfc7c911ffc3ec96b892f20d4e?s=128&d=identicon&r=PG", "display_name": "rurouni88", "link": "https://stackoverflow.com/users/3916640/rurouni88"}, "is_accepted": false, "score": -1, "last_activity_date": 1422325572, "creation_date": 1422325572, "answer_id": 28162225, "question_id": 28161864, "link": "https://stackoverflow.com/questions/28161864/convert-string-from-gmt-to-est/28162225#28162225", "title": "Convert String from GMT to EST", "body": "<p>use DateTime::Format::Strptime to get a DateTime Object and then set the timezone to \"UTC\" followed by \"-0500\" to get your conversion</p>\n\n<pre><code>use DateTime::Format::Strptime;\n\nmy $parser = DateTime::Format::Strptime-&gt;new(pattern =&gt; \"%Y-%m-%d %H:%M:%S\");\n$datetime=$parse-&gt;parse_datetime(\"2015-01-01 17:05:53\");\n\n$datetime-&gt;set_time_zone(\"UTC\");\n$datetime-&gt;set_time_zone(\"-0500\");\n\nprint $datetime-&gt;strftime(\"%Y-%m-%d %H:%M:%S\");\n</code></pre>\n\n<p>For more information, refer to CPAN docs:</p>\n\n<p><a href=\"http://search.cpan.org/~drolsky/DateTime-Format-Strptime-1.56/lib/DateTime/Format/Strptime.pm\" rel=\"nofollow\">http://search.cpan.org/~drolsky/DateTime-Format-Strptime-1.56/lib/DateTime/Format/Strptime.pm</a></p>\n\n<p><a href=\"http://search.cpan.org/~drolsky/DateTime-1.18/lib/DateTime.pm\" rel=\"nofollow\">http://search.cpan.org/~drolsky/DateTime-1.18/lib/DateTime.pm</a></p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1422355100, "creation_date": 1422355100, "answer_id": 28168439, "question_id": 28161864, "link": "https://stackoverflow.com/questions/28161864/convert-string-from-gmt-to-est/28168439#28168439", "title": "Convert String from GMT to EST", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\n# Use DateTime::Format::Strptime to parse your date string\nuse DateTime::Format::Strptime;\n\nmy $format  = '%F %T'; # This is the format of your date/time strings\nmy $from_tz = 'UTC';\nmy $to_tz   = '-0500';\n\n# Create a parser object that knows the strings it is given are in UTC\nmy $parser = DateTime::Format::Strptime-&gt;new(\n    pattern   =&gt; $format,\n    time_zone =&gt; $from_tz,\n);\n\nmy $in_date = '2015-01-01 17:05:53';\n\n# Use the parser to convert your string to a DateTime object\nmy $dt = $parser-&gt;parse_datetime($in_date);\n\n# Use DateTime's set_time_zone() method to change the time zone\n$dt-&gt;set_time_zone($to_tz);\n\n# Print the (shifted) date/time string in the same format\nsay $dt-&gt;strftime($format);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4496783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3af3043fd8c12912fadb234d1f20648?s=128&d=identicon&r=PG", "display_name": "Michael R", "link": "https://stackoverflow.com/users/4496783/michael-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1422355100, "creation_date": 1422322806, "question_id": 28161864, "link": "https://stackoverflow.com/questions/28161864/convert-string-from-gmt-to-est", "title": "Convert String from GMT to EST", "body": "<p>I'm trying to convert a string value of a date stamp which is provided in GMT over to the correct time in EST ( or GMT -5). I'm not grasping how to pass the value to the function with GMT and return the EST value.</p>\n\n<p>Source Value looks like this: 2015-01-01 17:05:53</p>\n\n<p>and I would need to return 2015-01-01 12:05:53</p>\n\n<p>Any help appreciated...</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "edited": false, "score": 0, "creation_date": 1422353702, "post_id": 28162395, "comment_id": 44705670, "body": "One more thing to assume: $sampleHash{$sample1} etc. are really $sampleHash{&#39;sample1&#39;} etc."}, {"owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "edited": false, "score": 0, "creation_date": 1422415469, "post_id": 28162395, "comment_id": 44737241, "body": "Thanks, @Borodin! And thanks for the heads up with the semi-colons and references. Edited to show the correct syntax."}, {"owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "edited": false, "score": 0, "creation_date": 1422415599, "post_id": 28162395, "comment_id": 44737267, "body": "When declaring/building the hashes, are the curly braces correct, or should it be parentheses instead?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "edited": false, "score": 0, "creation_date": 1422416335, "post_id": 28162395, "comment_id": 44737465, "body": "@PinkSharpie: If you mean the code in your question, then it is correct as it stands."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1422363409, "last_edit_date": 1422363409, "creation_date": 1422326747, "answer_id": 28162395, "question_id": 28161701, "link": "https://stackoverflow.com/questions/28161701/how-to-print-a-hash-of-hashes-with-vector-values-into-a-tab-delimited-file-of-co/28162395#28162395", "title": "How to print a hash of hashes with vector values into a tab delimited file of columns?", "body": "<p>I assume those arrays in your hash are really array <em>references</em>, and the semicolons are really commas?</p>\n\n<p>It's very simple really. There are a few ways to do it, but I would use <code>each</code> to iterate over the samples, and <code>join</code> to assemble the contents.</p>\n\n<p>Like this (<em>untested</em>, as I have only a tablet to hand while I'm travelling)</p>\n\n<pre><code>while (my ($sample, $results) = each %sampleHash) {\n    print join(\"\\t\",\n            $sample,\n            @{ $results-&gt;{R1Tests} },\n            @{ $results-&gt;{R2Tests} }\n    ), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422415520, "creation_date": 1422321707, "last_edit_date": 1422415520, "question_id": 28161701, "link": "https://stackoverflow.com/questions/28161701/how-to-print-a-hash-of-hashes-with-vector-values-into-a-tab-delimited-file-of-co", "title": "How to print a hash of hashes with vector values into a tab delimited file of columns?", "body": "<p>Perl beginner here. I have built a hash oh hashes where the 'final' value is an array of strings.\nIt looks like this:</p>\n\n<pre><code>my %sampleHash = ()\n\n$sampleHash{$sample1} = {\n    R1Tests  =&gt; \\@sample1Results_1,\n    R2Tests  =&gt; \\@sample1Results_2,\n    };\n\n$sampleHash{$sample2} = {\n    R1Tests  =&gt; \\@sample2Results_1,\n    R2Tests  =&gt; \\@sample2Results_2,\n    };\n\n$sampleHash{$sample3} = {\n    R1Tests  =&gt; \\@sample3Results_1,\n    R2Tests  =&gt; \\@sample3Results_2,\n    };\n</code></pre>\n\n<p>I want to print the entire hash into a tab-delimited file that looks like this:</p>\n\n<pre><code>sample1  @sample1Results_1[0] @sample1Results_1[1] .... @sample1Results_2[0] @sample1Results_2[1] ...\nsample2  @sample2Results_1[0] @sample2Results_1[1] .... @sample2Results_2[0] @sample2Results_2[1] ...\nsample3  @sample3Results_1[0] @sample3Results_1[1] .... @sample3Results_2[0] @sample3Results_2[1] ...\n</code></pre>\n\n<p>What is an efficient way to do this? I know it involves a while or foreach loop, but I don't know how to make it print out to a file, do it column wise, and print out both sub-hashes on the same line.</p>\n"}, {"tags": ["image", "perl", "imagemagick", "image-uploading", "perlmagick"], "comments": [{"owner": {"reputation": 27, "user_id": 4496571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/540f4482e1b856d60e2a92e51b8f61e8?s=128&d=identicon&r=PG&f=1", "display_name": "byddles", "link": "https://stackoverflow.com/users/4496571/byddles"}, "edited": false, "score": 0, "creation_date": 1422315281, "post_id": 28160502, "comment_id": 44692754, "body": "When uploading the &#39;big&#39; image only and no thumbnail (without &#39;resize thumbnail&#39; and &#39;write ready thumbnail as jpg&#39; sections) the script works fine every time."}, {"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 1, "creation_date": 1422317925, "post_id": 28160502, "comment_id": 44693605, "body": "What reported in the server logs?"}, {"owner": {"reputation": 27, "user_id": 4496571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/540f4482e1b856d60e2a92e51b8f61e8?s=128&d=identicon&r=PG&f=1", "display_name": "byddles", "link": "https://stackoverflow.com/users/4496571/byddles"}, "reply_to_user": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1422347245, "post_id": 28160502, "comment_id": 44702377, "body": "@emcconville <code>code</code>admin_zmm_gallery_add.cgi: Useless use of numeric eq (==) in void context at /home/zmm/public_html/cgi-bin/admin_zmm_gallery_add.cgi line 108. <code>code</code>admin_zmm_gallery_add.cgi: Argument &quot;75%&quot; isn&#39;t numeric in subroutine entry at /home/zmm/public_html/cgi-bin/admin_zmm_gallery_add.cgi line 78, &lt;fh0000135.jpg&gt; line 6399. <code>code</code>admin_zmm_gallery_add.cgi: Argument &quot;30%&quot; isn&#39;t numeric in subroutine entry at /home/zmm/public_html/cgi-bin/admin_zmm_gallery_add.cgi line 97, &lt;fh0000135.jpg&gt; line 6399. <code>code</code>Premature end of script headers: admin_zmm_gallery_add.cgi"}, {"owner": {"reputation": 27, "user_id": 4496571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/540f4482e1b856d60e2a92e51b8f61e8?s=128&d=identicon&r=PG&f=1", "display_name": "byddles", "link": "https://stackoverflow.com/users/4496571/byddles"}, "reply_to_user": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1422347508, "post_id": 28160502, "comment_id": 44702489, "body": "... these are the lines:  unlink($temporary_file) == 0;  $photoimage-&gt;Set(Quality=&gt;&#39;75%&#39;);  $thumbimage-&gt;Set(Quality=&gt;&#39;30%&#39;);  I don&#39;t know what is fh0000135.jpg - nor the image I try to upload, nor the temp image, nor the saved image has such a name."}, {"owner": {"reputation": 27, "user_id": 4496571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/540f4482e1b856d60e2a92e51b8f61e8?s=128&d=identicon&r=PG&f=1", "display_name": "byddles", "link": "https://stackoverflow.com/users/4496571/byddles"}, "reply_to_user": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1422348203, "post_id": 28160502, "comment_id": 44702847, "body": "I commented the &quot;Set Quality&quot; lines and script starts to work with images 1-2-3MB in size. With images 5-6MB still the same error. In log: Premature end of script headers: admin_zmm_gallery_add.cgi"}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 4496571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/540f4482e1b856d60e2a92e51b8f61e8?s=128&d=identicon&r=PG&f=1", "display_name": "byddles", "link": "https://stackoverflow.com/users/4496571/byddles"}, "is_accepted": true, "score": 0, "last_activity_date": 1422355249, "creation_date": 1422355249, "answer_id": 28168489, "question_id": 28160502, "link": "https://stackoverflow.com/questions/28160502/internal-server-error-when-trying-to-write-an-image-an-thumbnail-using-imagema/28168489#28168489", "title": "Internal server error when trying to write an image &amp; an thumbnail using ImageMagick in Perl", "body": "<p>I think I've solved the problem. Obviously there's no need to read the temp file twice. After saving the 'big' image, we can continue manipulate it and then save again as thumbnail. Double reading of the temp file apparently causes conflict. Something like 'Sharing violation' - just a shot in the dark. But now the script works fine.\nSeparately, far removed the rows <em>Set(Quality=>)</em>. I don't know whether they have anything to do with the problem, but this will be subject to future testing.\nHere are the changes:</p>\n\n<pre><code>    # resize photo\n    my($photoimage) = Image::Magick-&gt;new;\n    open(PHOTOIMAGE, \"$pic_upload_dir/$photoname\") or die \"Unable to open temporary image file!\\n\";\n    $photoimage-&gt;Read(file=&gt;\\*PHOTOIMAGE);\n    close(PHOTOIMAGE);\n\n    $photoimage-&gt;Resize(geometry=&gt;'900x900', blur=&gt;0.8);\n\n    # write ready photo as jpg\n    my $readyphotoname=\"pic\".$PictureIndex.\".jpg\";\n    open(READYIMAGE, \"&gt;$pic_upload_dir/$readyphotoname\") or die \"Unable to write ready image file!\\n\";\n    $photoimage-&gt;Write(file=&gt;\\*READYIMAGE, filename=&gt;$readyphotoname);\n    close(READYIMAGE);\n    system(\"chmod 777 $pic_upload_dir/$readyphotoname\");\n\n    # resize thumbnail\n    $photoimage-&gt;Resize(geometry=&gt;'140x140^', blur=&gt;0.8);\n    $photoimage-&gt;Set(gravity=&gt;'Center');\n    $photoimage-&gt;Crop(geometry=&gt;'140x140+0+0');\n\n    # write ready thumbnail as jpg\n    my $readythumbname=\"tbn\".$PictureIndex.\".jpg\";\n    open(READYTHUMB, \"&gt;$pic_upload_dir/$readythumbname\") or die \"Unable to write ready image file!\\n\";\n    $photoimage-&gt;Write(file=&gt;\\*READYTHUMB, filename=&gt;$readythumbname);\n    close(READYTHUMB);\n    system(\"chmod 777 $pic_upload_dir/$readythumbname\");\n\n    # delete temporary file\n    my($temporary_file)=$pic_upload_dir.\"/\".$photoname;\n    unlink($temporary_file) == 0;\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 4496571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/540f4482e1b856d60e2a92e51b8f61e8?s=128&d=identicon&r=PG&f=1", "display_name": "byddles", "link": "https://stackoverflow.com/users/4496571/byddles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 28168489, "answer_count": 1, "score": 1, "last_activity_date": 1422355249, "creation_date": 1422313983, "question_id": 28160502, "link": "https://stackoverflow.com/questions/28160502/internal-server-error-when-trying-to-write-an-image-an-thumbnail-using-imagema", "title": "Internal server error when trying to write an image &amp; an thumbnail using ImageMagick in Perl", "body": "<p>This Perl script uploads an image to server and then saves:\n- a gallery image that fits in 900x900 px\n- a square gallery thumbnail 140x140 px\n- adds a line in a js file with the image and thumbnail names</p>\n\n<p>The problem is, that the script sometimes works, sometimes - not. It works fine in one or two of every ten attempts. When it doesn't work, it usually returns \"Internal Server Error\" and doesn't create two files, nor adds a line in js. But in some cases it creates the both jpg files and doesn't add a line in js (again returning \"Internal Server Error\"). Very strange behavior - I've tried various changes with no result. What I do wrong?</p>\n\n<pre><code>#!/usr/bin/perl -w\n##\n##\n\nuse strict;\nuse CGI;\nuse CGI::Carp qw ( fatalsToBrowser );\nuse File::Basename;\nuse Image::Magick;\n\n$CGI::POST_MAX = 1024 * 70000;\nmy $safe_filename_characters = \"a-zA-Z0-9_.-\";\nmy $pic_upload_dir=\"../data/photos/gallery\";\nmy $lst_upload_dir=\"../data\";\nmy $lst_file=$lst_upload_dir.\"/gallery.js\";\n\nmy $query=new CGI;\n\nmy $PictureIndex=$query-&gt;param(\"Snd_AddPhoto_Idx\");\nmy $photoname=$query-&gt;param(\"AddPhoto\");\n\n    #upload photo\n    if ( !$photoname ) {  \n        print \"Content-Type: text/plain\\n\\n\";\n        print \"\\n\\nThere was a problem uploading your photo (try a smaller size).\\n\";\n        exit;\n    }  \n\n    my ( $phname, $phpath, $phextension ) = fileparse ($photoname, qr/\\.[^.]*/);\n    $photoname = $phname . $phextension;\n    $photoname =~ tr/ /_/;\n    $photoname =~ s/[^$safe_filename_characters]//g;\n\n    if ( $photoname =~ /^([$safe_filename_characters]+)$/ ) {  \n        $photoname = $1;\n    }  \n    else {  \n        die \"Filename contains invalid characters\";\n    }  \n\n        # force correct filename for temporary file\n        $photoname=\"tempphoto_zmm_gallery_\".$PictureIndex.$phextension;\n\n    my $upload_photohandle = $query-&gt;upload(\"AddPhoto\");\n\n    open ( UPLOADPHOTO, \"&gt;$pic_upload_dir/$photoname\" ) or die \"$!\";\n    binmode UPLOADPHOTO;\n    while ( &lt;$upload_photohandle&gt; ) {  \n        print UPLOADPHOTO;\n    }  \n    close UPLOADPHOTO;\n\n    # resize photo\n    my($photoimage) = Image::Magick-&gt;new;\n    open(PHOTOIMAGE, \"$pic_upload_dir/$photoname\") or die \"Unable to open temporary image file!\\n\";\n    $photoimage-&gt;Read(file=&gt;\\*PHOTOIMAGE);\n    close(PHOTOIMAGE);\n\n    $photoimage-&gt;Resize(geometry=&gt;'900x900', blur=&gt;0.8);\n    $photoimage-&gt;Set(Quality=&gt;'75%');\n\n    # write ready photo as jpg\n    my $readyphotoname=\"pic\".$PictureIndex.\".jpg\";\n    open(READYIMAGE, \"&gt;$pic_upload_dir/$readyphotoname\") or die \"Unable to write ready image file!\\n\";\n    $photoimage-&gt;Write(file=&gt;\\*READYIMAGE, filename=&gt;$readyphotoname);\n    close(READYIMAGE);\n    system(\"chmod 777 $pic_upload_dir/$readyphotoname\");\n\n    # resize thumbnail\n    my($thumbimage) = Image::Magick-&gt;new;\n    open(THUMBIMAGE, \"$pic_upload_dir/$photoname\") or die \"Unable to open temporary image file!\\n\";\n    $thumbimage-&gt;Read(file=&gt;\\*THUMBIMAGE);\n    close(THUMBIMAGE);\n\n    $thumbimage-&gt;Resize(geometry=&gt;'140x140^', blur=&gt;0.8);\n    $thumbimage-&gt;Set(gravity=&gt;'Center');\n    $thumbimage-&gt;Crop(geometry=&gt;'140x140+0+0');\n    $thumbimage-&gt;Set(Quality=&gt;'30%');\n\n    # write ready thumbnail as jpg\n    my $readythumbname=\"tbn\".$PictureIndex.\".jpg\";\n    open(READYTHUMB, \"&gt;$pic_upload_dir/$readythumbname\") or die \"Unable to write ready image file!\\n\";\n    $thumbimage-&gt;Write(file=&gt;\\*READYTHUMB, filename=&gt;$readythumbname);\n    close(READYTHUMB);\n    system(\"chmod 777 $pic_upload_dir/$readythumbname\");\n\n    # delete temporary file\n    my($temporary_file)=$pic_upload_dir.\"/\".$photoname;\n    unlink($temporary_file) == 0;\n\n\n# add pic in js gallery list\n\n    # prepare new pic record\n    my $NewGalRecord=\"GalleryList.push(new Array(\\\"pic\".$PictureIndex.\".jpg\\\",\\\"tbn\".$PictureIndex.\".jpg\\\",\\\"\\\",\\\"\\\"));\\n\";\n\n    # add to file\n    open(JS,\"&gt;&gt;$lst_file\") || die \"Failed to open $lst_file\\n\";\n    printf JS $NewGalRecord;\n    close JS;\n    system(\"chmod 777 $lst_file\");\n\n# print confirmation\n\n...\n...\n...\n\n\nexit;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 4, "last_activity_date": 1422314387, "last_edit_date": 1422314387, "creation_date": 1422313745, "answer_id": 28160450, "question_id": 28160141, "link": "https://stackoverflow.com/questions/28160141/perl-filecopy-no-such-file-or-directory-error-on-reading-existing-file/28160450#28160450", "title": "perl: File::Copy: no such file or directory error on reading existing file", "body": "<p>When you invoke an external command with <code>system</code> or backticks, you spawn a new process. That process gets its own environment, which is not shared with the parent process or with other children:</p>\n\n<pre><code>system('pwd'); # /foo\nsystem('cd \"/bar\"');\nsystem('pwd'); # still /foo\n</code></pre>\n\n<p>(Note that if you're not actually storing the output of a command, it's preferable to use <code>system</code> instead of backticks.)</p>\n\n<p>This means that when you <code>`cd \"$dir\"`</code>, your Perl script's working directory isn't changing. To fix, use native Perl commands instead of invoking shell commands.</p>\n\n<p>Here's a rough example (untested):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Copy;\n\nmy $parent_dir = 'foo';\n\nopendir my $dh, $parent_dir or die \"opendir failed on '$parent_dir': $!\";\n\nmy @subdirs = map { \"$parent_dir/$_\" }\n              grep { $_ !~ /^\\.\\.?$/ &amp;&amp; -d \"$parent_dir/$_\" } readdir $dh;\n\nforeach my $subdir (@subdirs) {\n    my $source = \"$subdir/Gemfile\";\n    my $target = \"$subdir/tmp.save\";\n\n    if (-f $source) {\n        copy $source, $target or die \"copy failed: $!\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1102, "user_id": 999595, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5bd09d642ab7c8f500491bd6850621e3?s=128&d=identicon&r=PG", "display_name": "jason dancks", "link": "https://stackoverflow.com/users/999595/jason-dancks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "accepted_answer_id": 28160450, "answer_count": 1, "score": 0, "last_activity_date": 1422314387, "creation_date": 1422312391, "last_edit_date": 1495541190, "question_id": 28160141, "link": "https://stackoverflow.com/questions/28160141/perl-filecopy-no-such-file-or-directory-error-on-reading-existing-file", "title": "perl: File::Copy: no such file or directory error on reading existing file", "body": "<p>I'm trying to download ruby gems listed in several example rails projects I downloaded via <code>bundle install</code> with the latest version of ruby installed through RVM, and I'm following the directions <a href=\"https://stackoverflow.com/questions/27265604/rails-server-not-running-after-updating-to-ruby-2-1-4\">here</a> to properly downloads the gems listed in the bundler files. I thought I'd speed up the process with this perl script: (Not quite comfortable with bash yet):</p>\n\n<pre><code>#!/usr/bin/perl\nuse File::Copy qq(copy);\n\nuse strict;\nuse warnings;\n\nmy @files = `ls`;\nforeach my $dir (@files)\n{\n    chomp $dir;\n    if( -d $dir)\n    {\n        print \"\\n\\n\\tabout to enter $dir\\n\\n\\n\";\n        print `cd \"$dir\"`;\n        system(\"echo \\\"2.2.0\\\" &gt; .ruby-version\");\n        system(\"echo \\\"$dir\\\" &gt; .ruby-gemset\");\n        copy(\"Gemfile\", \"tmp.save\") or die \"copy: $!\\n\";\n        open(RD,\"&lt;tmp.save\") or die \"$dir: tmp.save: $!\\n\";\n        open(WR,\"&gt;Gemfile\") or die \"$dir: Gemfile: $!\\n\";\n        print WR &lt;RD&gt;;\n        print WR \"\\n\";\n        print WR \"ruby \\'2.2.0\\'\";\n        print WR \"\\n\\n\";\n        while(&lt;RD&gt;) { print WR $_; print WR \"\\n\"; }\n        close(RD); close(WR);\n        print `cd ..`; \n        print `cd \"$dir\"`;\n        print `bundle install`;\n        print `cd ..`;\n    }\n}\n</code></pre>\n\n<p>error is:</p>\n\n<pre><code>copy: No such file or directory\n</code></pre>\n\n<p>The file clearly exists these projects are presumably created with <code>rails &lt;name&gt;</code> command. Why would this happen and how do I fix it?</p>\n"}, {"tags": ["perl", "yaml", "libyaml"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422305070, "post_id": 28158367, "comment_id": 44688091, "body": "The docs are <a href=\"http://search.cpan.org/perldoc?YAML::XS\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1422305327, "post_id": 28158367, "comment_id": 44688198, "body": "You can do this using YAML.pm&#39;s <a href=\"https://metacpan.org/pod/YAML#Bless-perl-node-yaml-node-class-name\" rel=\"nofollow noreferrer\"><code>Bless</code></a> but not sure if it&#39;s doable with YAML::XS."}, {"owner": {"reputation": 2763, "user_id": 2517719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9NsiC.jpg?s=128&g=1", "display_name": "Floegipoky", "link": "https://stackoverflow.com/users/2517719/floegipoky"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422305735, "post_id": 28158367, "comment_id": 44688412, "body": "@ikegami I read that already, it didn&#39;t answer my question"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422305896, "post_id": 28158367, "comment_id": 44688499, "body": "@Floegipoky, It really does."}, {"owner": {"reputation": 2763, "user_id": 2517719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9NsiC.jpg?s=128&g=1", "display_name": "Floegipoky", "link": "https://stackoverflow.com/users/2517719/floegipoky"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1422549873, "post_id": 28158367, "comment_id": 44803236, "body": "@ThisSuitIsBlackNot I ended up swapping out <code>YAML::XS</code> for <code>YAML</code>,  Thank you very much for pointing out the <code>Bless</code> feature.  It&#39;s more powerful than I would have liked to use for this but it got the job done.  For future viewers, be aware that unless you know at write-time exactly which keys you&#39;re expecting, you&#39;ll have to inspect each node that you&#39;re <code>Bless</code>ing.  Also note that if a key is absent it will generate a dummy entry anyway, so make sure that you check for existence first: <code>my $blessarray = []; push $blessarray, &#39;optionalkey&#39; if $table-&gt;{optionalkey}; </code>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1422306718, "creation_date": 1422306718, "answer_id": 28158855, "question_id": 28158367, "link": "https://stackoverflow.com/questions/28158367/control-order-of-hashref-with-yamlxs/28158855#28158855", "title": "Control order of hashref with YAML::XS", "body": "<p>As you can see from the <a href=\"http://search.cpan.org/perldoc?YAML::XS\" rel=\"nofollow\">docs</a>, there is no option that configures the order of hashes. This is further confirmed by looking at <code>dump_node</code> and <code>dump_hash</code> in <code>LibYAML/perl_libyaml.c</code>.</p>\n"}], "owner": {"reputation": 2763, "user_id": 2517719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9NsiC.jpg?s=128&g=1", "display_name": "Floegipoky", "link": "https://stackoverflow.com/users/2517719/floegipoky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 28158855, "answer_count": 1, "score": 1, "last_activity_date": 1422306718, "creation_date": 1422304894, "question_id": 28158367, "link": "https://stackoverflow.com/questions/28158367/control-order-of-hashref-with-yamlxs", "title": "Control order of hashref with YAML::XS", "body": "<p>I'm dumping a data structure to YAML with the <code>YAML::XS</code> library:</p>\n\n<pre><code>foo =&gt; {\n    bar =&gt; [\n        {...},\n        {...},\n    ],\n    baz =&gt; [\n        {...},\n        {...},\n    ], \n    ...\n}\n</code></pre>\n\n<p>It seems like YAML::XS's default behavior is to sort the keys before dumping them, but this is not what I want.  Humans will have to read and edit the output of this script, so readability is a concern.  Is there a way to control the order that the keys are dumped out so that <code>foo-&gt;{baz}</code> would come before <code>foo-&gt;{bar}</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422303715, "post_id": 28158024, "comment_id": 44687432, "body": "Create a new empty directory and call <code>readdir</code> on it. You might be surprised by the results. <code>mkdir foo &amp;&amp; perl -wE &#39;opendir my $dh, &quot;foo&quot; or die $!; say for readdir $dh&#39;</code> outputs <code>..</code> and <code>.</code> You probably don&#39;t want to treat those as images."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422304061, "post_id": 28158024, "comment_id": 44687589, "body": "Also, you should add <code>use strict; use warnings;</code> to the top of every Perl script you write, since it can help catch a lot of common errors (although it wouldn&#39;t have helped in this particular case)."}, {"owner": {"reputation": 1, "user_id": 4496088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce8eae74a447ae842c8d3d9f0384ca9?s=128&d=identicon&r=PG&f=1", "display_name": "Squalle", "link": "https://stackoverflow.com/users/4496088/squalle"}, "edited": false, "score": 0, "creation_date": 1422308227, "post_id": 28158024, "comment_id": 44689717, "body": "Sorry, perl, not PERL. I do know that it outputs .. and . but I figure I can get around that later."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4496088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce8eae74a447ae842c8d3d9f0384ca9?s=128&d=identicon&r=PG&f=1", "display_name": "Squalle", "link": "https://stackoverflow.com/users/4496088/squalle"}, "edited": false, "score": 0, "creation_date": 1422309213, "post_id": 28158086, "comment_id": 44690232, "body": "Thanks for the replies.   @Quentin Ok, the <code>&#39;</code> to <code>&quot;</code> worked, somewhat. Now it shows a height and width, but it only shows the height and width of the first image. So if 1.jpg is 100x100 and 2.jpg is 300x200, it now displays both images 100x100."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1, "user_id": 4496088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce8eae74a447ae842c8d3d9f0384ca9?s=128&d=identicon&r=PG&f=1", "display_name": "Squalle", "link": "https://stackoverflow.com/users/4496088/squalle"}, "edited": false, "score": 0, "creation_date": 1422312735, "post_id": 28158086, "comment_id": 44691773, "body": "@Squalle When you call <code>Read</code> multiple times on the same <code>Image::Magick</code> object, you read the images into an image sequence. To access the other images in the sequence, you need to access them by their index, i.e. <code>$image-&gt;[1]-&gt;Get(&#39;width&#39;)</code> would give the width of the 2nd image in the sequence. Note that each image in a sequence is stored in memory, which can eat up a sizable chunk of RAM. Consider creating a new object for each image and destroying when you&#39;re done with it as described in the <a href=\"http://www.imagemagick.org/script/perl-magick.php#overview\" rel=\"nofollow noreferrer\">overview section of the documentation</a>."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 3, "last_activity_date": 1422303738, "creation_date": 1422303738, "answer_id": 28158086, "question_id": 28158024, "link": "https://stackoverflow.com/questions/28158024/perl-image-gallery-issue/28158086#28158086", "title": "Perl Image Gallery Issue", "body": "<p>Your main issue is that single quoted strings do not interpolate variables. You are looking for an image with the filename <code>$image</code> and not using the value of the variable <code>$image</code>.</p>\n\n<p>Use <code>\"</code> instead of <code>'</code></p>\n\n<hr>\n\n<p>Additionally, you aren't doing anything to check that the the filenames actually represent images or url encoding the names when you turn them into URLs for the HTML.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1422311400, "post_id": 28159808, "comment_id": 44691247, "body": "@Squalle Note the <code>use autodie;</code> at the top of this example script, which will cause the script to die if <code>opendir</code> fails. You should be checking whether <code>opendir</code> succeeds in your script, too, whether manually (e.g. <code>opendir my $dh, &#39;foo&#39; or die &quot;Failed to opendir: $!&quot;</code>) or with <code>autodie</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1422313251, "last_edit_date": 1422313251, "creation_date": 1422310895, "answer_id": 28159808, "question_id": 28158024, "link": "https://stackoverflow.com/questions/28158024/perl-image-gallery-issue/28159808#28159808", "title": "Perl Image Gallery Issue", "body": "<p>As has been explained, <code>readdir</code> will return both file and directory names, as well as the pseudo-directories <code>.</code> and <code>..</code>. You also have a problem with appending the file name to the directory name.</p>\n\n<p>It is best to use <code>File::Spec</code> to manipulate file paths, so as to avoid any mistakes of this sort, and you should use the <code>-f</code> file test to discard all directory names.</p>\n\n<p>Here's an example</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nuse File::Spec::Functions qw/ catfile /;\nuse Image::Magick;\n\nmy $dir = 'images';\n\nprint \"Content-type: text/html\\n\\n\";\n\nopendir my ($dh), $dir;\n\nwhile (my $node = readdir $dh) {\n\n    my $file = catfile($dir, $node);\n    next unless -f $file;\n\n    my $magick = Image::Magick-&gt;new;\n    $magick-&gt;Read($file);\n    my $width  = $magick-&gt;Get('width');\n    my $height = $magick-&gt;Get('height');\n\n    print qq{&lt;img src=\"$file\" width=\"$width\" height=\"$height\"&gt;\\n};\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4496088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce8eae74a447ae842c8d3d9f0384ca9?s=128&d=identicon&r=PG&f=1", "display_name": "Squalle", "link": "https://stackoverflow.com/users/4496088/squalle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1422313251, "creation_date": 1422303463, "last_edit_date": 1422312897, "question_id": 28158024, "link": "https://stackoverflow.com/questions/28158024/perl-image-gallery-issue", "title": "Perl Image Gallery Issue", "body": "<p>I'm trying to build an image gallery. I'm using Perl to grab a list of images in a directory and display them. The images are all different heights and widths. The script will grab the image names, find the width and height of each, and display them on the page, along with the rest of the HTML for the page. My images are 1.jpg, 2.jpg, 3.jpg... up to 15 (for now, many many more will be added later).</p>\n\n<p>My issue is when I need the script to generate the image name, it stops getting the image's dimensions. If I hard code the image, it works and tells me the dimensions.</p>\n\n<p>Here's what I have (I know this might be rough...)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Image::Magick;\nmy $magick = Image::Magick-&gt;new;\n\nopendir(DIR, \"./images/\");\n@images = readdir(DIR);\nclose(DIR);\n\nprint \"Content-type: text/html\\n\\n\";\n\nforeach $file (@images) {\n    $magick-&gt;Read( './images/$file' );\n    my $width  = $magick-&gt;Get('width');\n    my $height = $magick-&gt;Get('height');\n    print \"&lt;img src=\\\"images/$file\\\" width=\\\"$width\\\" height=\\\"$height\\\"&gt;\\n\";\n}\n</code></pre>\n\n<p>If I change <code>$magick-&gt;Read( './images/$file' );</code> to <code>$magick-&gt;Read( './images/1.jpg' );</code> it works. Of course, it then shows 1.jpg 15 times, but it is able to display the width and height. Any ideas why this is? I assume I just missed something, but I've been working on this all day.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422303291, "post_id": 28156965, "comment_id": 44687221, "body": "How big exactly is your <i>\u201clarge file\u201d</i>? Does the closing brace always appear on its own on a line? Is there anything else in the file other than <code>LookupReferences</code> blocks?"}, {"owner": {"reputation": 103, "user_id": 2226187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4777f99d7438dfff54fe98a099c49cc?s=128&d=identicon&r=PG", "display_name": "Matt Williams", "link": "https://stackoverflow.com/users/2226187/matt-williams"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422361707, "post_id": 28156965, "comment_id": 44710321, "body": "It is about 12-15,000 lines, not very large like a million+, but large enough. There are potentially special characters and sometimes the closing brace is on the same line.  Also.. the requirement for the data at the end is the key as I want to print the entire line to the end of another variable, for each entry that there is, so ideally i would just add each grouping to the end of a current variable.   So for example.   $data = &quot;Test Results ABC&quot; would become. $data = &quot;Test Results ABC,References,12V0E,24983,384KJ,48743X,52V0E,64983,784KJ,88&zwnj;&#8203;743X,94983,1084KJ&quot;;"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 2226187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4777f99d7438dfff54fe98a099c49cc?s=128&d=identicon&r=PG", "display_name": "Matt Williams", "link": "https://stackoverflow.com/users/2226187/matt-williams"}, "edited": false, "score": 0, "creation_date": 1422361459, "post_id": 28157163, "comment_id": 44710180, "body": "Thank you that is getting me the data very well, but it is keeping it in the stanza format, not in the format I need of all entries on the one line."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 103, "user_id": 2226187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4777f99d7438dfff54fe98a099c49cc?s=128&d=identicon&r=PG", "display_name": "Matt Williams", "link": "https://stackoverflow.com/users/2226187/matt-williams"}, "edited": false, "score": 0, "creation_date": 1422383888, "post_id": 28157163, "comment_id": 44724347, "body": "Edited with something like an example of what might do the trick."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1422383868, "last_edit_date": 1422383868, "creation_date": 1422299952, "answer_id": 28157163, "question_id": 28156965, "link": "https://stackoverflow.com/questions/28156965/matching-and-printing-perl-files/28157163#28157163", "title": "Matching and printing perl files", "body": "<p>I quite like the range operator for this job.</p>\n\n<p>E.g.</p>\n\n<pre><code>while ( &lt;$file_handle&gt; ) {\n     if ( m/LookupReferences/ .. /\\}/ ) {\n           print;\n     }\n}\n</code></pre>\n\n<p>(Instead of <code>print</code> you may want to process and concatenate or otherwise push into an array). </p>\n\n<p>I'm not so keen about forcing the whole file into an array, because it's not very efficient when you're looking at larger files. </p>\n\n<p>But if you want to do that, it's as simple as:</p>\n\n<pre><code>my @file = &lt;$filehandle&gt;; \n</code></pre>\n\n<p>Following on from comments: As you're trying to reformat it, you can do something like:</p>\n\n<pre><code>my @references; \nwhile ( &lt;$file_handle&gt; ) {\n     if ( m/LookupReferences/ .. /\\}/ ) {\n           my ( $value ) = ( m/\\s*(\\w+):/ );\n           if ( defined $value ) { push ( @references, $value )  }; \n     }\n}\n\nprint join ( \",\", \"References\", @references ),\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 2226187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4777f99d7438dfff54fe98a099c49cc?s=128&d=identicon&r=PG", "display_name": "Matt Williams", "link": "https://stackoverflow.com/users/2226187/matt-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422383868, "creation_date": 1422299288, "last_edit_date": 1422299459, "question_id": 28156965, "link": "https://stackoverflow.com/questions/28156965/matching-and-printing-perl-files", "title": "Matching and printing perl files", "body": "<p>I have a large file (lets say File A) and I am wanting to pull certain lines of data from it in perl. \nAn example entry my be as follows.. It would always be 10 points of data and the entries are 5-6 alphanumeric characters long with a : on the end. A line could have more than one entry on it, but <code>\\W+</code> covers the space in between.</p>\n\n<pre><code>.... \n....\nLookupReferences: {\n  12V0E:\n  24983:\n  384KJ:\n  48743X:\n  52V0E:\n  64983:\n  784KJ:\n  88743X:\n  94983:\n  1084KJ:\n}\n</code></pre>\n\n<p>I would want that to look like the following entry that i can load elsewhere.</p>\n\n<pre><code>References,12V0E,24983,384KJ,48743X,52V0E,64983,784KJ,88743X,94983,1084KJ\n</code></pre>\n\n<p>I was reading somewhere about forcing the entire page into an array, but any help here is really appreciated as I have been messing around with it and have not really used any perl in 10 years, so could be classed again as an absolute beginner.</p>\n"}, {"tags": ["perl", "file", "search-engine", "webpage", "www-mechanize"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1422296153, "post_id": 28156114, "comment_id": 44683556, "body": "FYI, the <a href=\"https://www.lexisnexis.com/terms/general.aspx\" rel=\"nofollow noreferrer\">Terms of Service</a> for that site say, <i>&quot;Use of the Online Services via mechanical, programmatic, robotic, scripted or any other automated means is strictly prohibited.  Unless otherwise agreed to by LN in writing, use of the Online Services is permitted only via manually conducted, discrete, individual search and retrieval activities.&quot;</i>"}, {"owner": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1422296337, "post_id": 28156114, "comment_id": 44683655, "body": "This is for an academic research project and we have acquired the necessary permissions to conduct this automation. Thank you."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1422296723, "post_id": 28156114, "comment_id": 44683872, "body": "Good to know. Most people who try to scrape websites don&#39;t even bother reading the TOS."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1422298141, "post_id": 28156114, "comment_id": 44684585, "body": "I&#39;ll bet you a nickel that the search page has JavaScript in it to manipulate the page, and Mech doesn&#39;t know from JavaScript.  Use the mech-dump utility to see what the forms and fields are on the page, and why they differ from what you expect."}, {"owner": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "edited": false, "score": 0, "creation_date": 1422298301, "post_id": 28156114, "comment_id": 44684664, "body": "Thank you for your comment ! I just realized that the search page has JavaScript. Does any other module support javascprit ?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1422298924, "post_id": 28156114, "comment_id": 44685025, "body": "@Amritha There are several, such as <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize::Firefox</code></a> and <a href=\"https://metacpan.org/pod/WWW::Mechanize::PhantomJS\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize::PhantomJS</code></a>."}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1422299211, "post_id": 28156114, "comment_id": 44685169, "body": "According to <a href=\"http://www.perlmonks.org/index.pl?node_id=852699\" rel=\"nofollow noreferrer\">perlmonks</a> <a href=\"http://search.cpan.org/~mattp/Test-WWW-Selenium-1.36/lib/WWW/Selenium.pm\" rel=\"nofollow noreferrer\">WWW::Selenium</a> and <a href=\"http://search.cpan.org/~lxp/WWW-Scripter-0.030/lib/WWW/Scripter.pod\" rel=\"nofollow noreferrer\">WWW::Scripter</a> offer Javascript functionality."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1422312637, "post_id": 28156114, "comment_id": 44691740, "body": "Be aware that WWW::Selenium uses Selenium RC. To use current Selenium (with WebDriver), use <a href=\"https://metacpan.org/pod/Selenium::Remote::Driver\" rel=\"nofollow noreferrer\">Selenium::Remote::Driver</a>. I wrote a script with it last week and it works like a charm."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 2, "creation_date": 1422312776, "post_id": 28156114, "comment_id": 44691795, "body": "@Amritha: Your problem with JavaScript is the #1 question asked about Mech.  You can see the FAQ here for a list of other modules that handle JavaScript.  <a href=\"http://search.cpan.org/dist/WWW-Mechanize/lib/WWW/Mechanize/FAQ.pod\" rel=\"nofollow noreferrer\">search.cpan.org/dist/WWW-Mechanize/lib/WWW/Mechanize/FAQ.pod</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1422312703, "post_id": 28157030, "comment_id": 44691761, "body": "And for using Selenium, <a href=\"https://metacpan.org/pod/Selenium::Remote::Driver\" rel=\"nofollow noreferrer\">Selenium::Remote::Driver</a> is a fine choice, judging by my limited experience."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1422340547, "post_id": 28157030, "comment_id": 44699748, "body": "Correct, WebDriver is better than RC."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1422364022, "post_id": 28157030, "comment_id": 44711714, "body": "I write an article for <a href=\"http://www.perltricks.com\" rel=\"nofollow noreferrer\">PerlTricks</a> on <a href=\"http://perltricks.com/article/138/2014/12/8/Controlling-Firefox-from-Perl\" rel=\"nofollow noreferrer\">using WWW::Mechanize::Firefox</a>"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 5, "last_activity_date": 1422299516, "creation_date": 1422299516, "answer_id": 28157030, "question_id": 28156114, "link": "https://stackoverflow.com/questions/28156114/automatic-search-using-wwwmechanize/28157030#28157030", "title": "Automatic Search Using WWW::Mechanize", "body": "<p>If you disable the JavaScript in your browser then you will notice that the search form doesn't load which means it's being loaded by JavaScript, that's why you are unable to handle it with <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"noreferrer\">WWW::Mechanize</a>. Have a look at <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox\" rel=\"noreferrer\">WWW::Mechanize::Firefox</a>, this might help you with your task. Check out the <a href=\"https://metacpan.org/pod/release/CORION/WWW-Mechanize-Firefox-0.78/lib/WWW/Mechanize/Firefox/Examples.pm\" rel=\"noreferrer\">example scripts</a>, <a href=\"https://metacpan.org/pod/distribution/WWW-Mechanize-Firefox/lib/WWW/Mechanize/Firefox/Cookbook.pod\" rel=\"noreferrer\">cookbook</a> and <a href=\"https://metacpan.org/pod/distribution/WWW-Mechanize-Firefox/lib/WWW/Mechanize/Firefox/FAQ.pod\" rel=\"noreferrer\">FAQs</a>.</p>\n\n<p>You can also do the same using Selenium, see <a href=\"http://edumaven.com/test-automation-using-perl/selenium\" rel=\"noreferrer\">Gabor's tutorial on Selenium</a>.</p>\n"}], "owner": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 28157030, "answer_count": 1, "score": 3, "last_activity_date": 1422312326, "creation_date": 1422295959, "last_edit_date": 1422312326, "question_id": 28156114, "link": "https://stackoverflow.com/questions/28156114/automatic-search-using-wwwmechanize", "title": "Automatic Search Using WWW::Mechanize", "body": "<p>I am trying to write a Perl script which will automatically key in search variables on <a href=\"http://www.lexisnexis.com/hottopics/lnacademic/?verb=sr&amp;csi=379740\" rel=\"nofollow\">this LexisNexis search page</a> and retrieve the search results.</p>\n\n<p>I am using the <a href=\"http://www.google.nl/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CCMQFjAA&amp;url=http%3A%2F%2Fsearch.cpan.org%2Fperldoc%3FWWW%3A%3AMechanize&amp;ei=PcPGVJfxGMW8PZGRgLgM&amp;usg=AFQjCNGOLOItw538wJF1RjwjrCft2iBVfg&amp;sig2=py0LvHwvC_chnwfrrgP24g\" rel=\"nofollow\">WWW::Mechanize</a> module but I am not sure how to figure out the field name of the search bar itself. This is the script I have so far -></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse WWW::Mechanize;\nmy $m = WWW::Mechanize-&gt;new();\n\nmy $url = \"http://www.lexisnexis.com/hottopics/lnacademic/?verb=sr&amp;csi=379740\";\n$m-&gt;get($url);\n\n$m-&gt;form_name('f');\n$m-&gt;field('q', 'Test');\nmy $response = $m-&gt;submit();\nprint $response-&gt;content();\n</code></pre>\n\n<p>However, I think the \"Name\" of the search box in this website is not \"q\". I am getting the following Error - \"Can't call method \"value\" on an undefined value at site/lib/WWW/Mechanize.pm line 1442.\" Any help is much appreciated. Thank you !</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4046350, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/97fa60de650565d7451fd5ed5f53056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuka I", "link": "https://stackoverflow.com/users/4046350/ebuka-i"}, "edited": false, "score": 0, "creation_date": 1422301277, "post_id": 28155931, "comment_id": 44686166, "body": "many thanks for your reply. I have installed this but the error still comes up"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 29, "user_id": 4046350, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/97fa60de650565d7451fd5ed5f53056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuka I", "link": "https://stackoverflow.com/users/4046350/ebuka-i"}, "edited": false, "score": 1, "creation_date": 1422307432, "post_id": 28155931, "comment_id": 44689297, "body": "@EbukaI Read <a href=\"http://stackoverflow.com/questions/28155267/use-of-snowball-stemmer-in-perl#comment44683331_28155267\">toolic&#39;s comment</a> on your question. <code>Can&#39;t locate loadable object for module Foo</code> means that <code>Foo</code> is trying to load an external shared library like <code>foo.so</code> but can&#39;t find it. Are you sure you didn&#39;t get any errors when installing <code>Lingua::Stem::Snowball</code>?"}], "tags": [], "owner": {"reputation": 65694, "user_id": 330280, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/CcQGn.jpg?s=128&g=1", "display_name": "aleroot", "link": "https://stackoverflow.com/users/330280/aleroot"}, "is_accepted": false, "score": 2, "last_activity_date": 1422295241, "creation_date": 1422295241, "answer_id": 28155931, "question_id": 28155267, "link": "https://stackoverflow.com/questions/28155267/use-of-snowball-stemmer-in-perl/28155931#28155931", "title": "Use of snowball stemmer in Perl", "body": "<p>Because you need to install missing modules used, give a try to : </p>\n\n<pre><code>cpan Lingua::Stem::Snowball\n</code></pre>\n\n<p>Install <code>Lingua::Stem::Snowball</code> module with <a href=\"http://www.cpan.org\" rel=\"nofollow\">cpan</a> and the error will magically disappear ...</p>\n"}], "owner": {"reputation": 29, "user_id": 4046350, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/97fa60de650565d7451fd5ed5f53056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuka I", "link": "https://stackoverflow.com/users/4046350/ebuka-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1422295241, "creation_date": 1422292791, "last_edit_date": 1422295074, "question_id": 28155267, "link": "https://stackoverflow.com/questions/28155267/use-of-snowball-stemmer-in-perl", "title": "Use of snowball stemmer in Perl", "body": "<p>please I am trying to stem a content of a file using the code below:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Lingua::Stem::Snowball;\n\nmy $filename = 'input.txt';\nopen my $info, $filename or die \"Could not open file '$filename' $!\";\n\nwhile (my $line = &lt;$info&gt;)\n\n    {\n    my $sent;\n    chomp $line;\n    my @words = qw($line);\n    my $stemmer = Lingua::Stem::Snowball-&gt;new( lang =&gt; 'en' );\n    $stemmer-&gt;stem_in_place( \\@words );\n    open FILE, \"&gt;&gt;output.txt\" or die $!;\n    print FILE \"stem_in_place\\n\"; \n    close FILE;\n    }\n</code></pre>\n\n<p>This gives me the error:</p>\n\n<blockquote>\n  <p>\"Can't locate loadable object for module Lingua::Stem::Snowball in\n  @INC (@INC contains: C:/Perl64/site/lib C:/Perl64/lib .) at\n  snowballTry.pl line 4.  Compilation failed in require at\n  snowballTry.pl line 4. BEGIN failed--compilation aborted at\n  snowballTry.pl line 4.\"</p>\n</blockquote>\n\n<p>Please what do I need to do differently?</p>\n"}, {"tags": ["regex", "bash", "perl", "awk", "statistics"], "comments": [{"owner": {"reputation": 24499, "user_id": 143319, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/62uiV.jpg?s=128&g=1", "display_name": "Matt Parker", "link": "https://stackoverflow.com/users/143319/matt-parker"}, "edited": false, "score": 0, "creation_date": 1422291588, "post_id": 28154818, "comment_id": 44681150, "body": "Don&#39;t have time to offer a more complete answer, but I think you&#39;ll find some useful pointers here: <a href=\"http://stackoverflow.com/q/9789806/143319\">stackoverflow.com/q/9789806/143319</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2134, "user_id": 1600770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b030b4b6aaf0cb02919d5e9cf9f96f8b?s=128&d=identicon&r=PG", "display_name": "Agostino", "link": "https://stackoverflow.com/users/1600770/agostino"}, "edited": false, "score": 0, "creation_date": 1422307527, "post_id": 28156022, "comment_id": 44689343, "body": "I tried to make a pattern for an arbitrary number of spaces around the equals, but I get the error &quot;lookbehind assertion is not fixed length. Here&#39;s my code <code>grep -rioPh --include=&quot;exp_1_run_*&quot; &quot;(?&lt;=${varName}\\s*=\\s*\\K)[\\d]+\\.?[\\d]*</code>"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 2134, "user_id": 1600770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b030b4b6aaf0cb02919d5e9cf9f96f8b?s=128&d=identicon&r=PG", "display_name": "Agostino", "link": "https://stackoverflow.com/users/1600770/agostino"}, "edited": false, "score": 0, "creation_date": 1422308253, "post_id": 28156022, "comment_id": 44689730, "body": "If you use <code>\\K</code>, you don&#39;t need the look-behind.  <code>grep ... &quot;${varName}\\s*=\\s*\\K[\\d]+\\.?[\\d]*&quot;</code> -- may have to double the backslashes in double quotes"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 2134, "user_id": 1600770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b030b4b6aaf0cb02919d5e9cf9f96f8b?s=128&d=identicon&r=PG", "display_name": "Agostino", "link": "https://stackoverflow.com/users/1600770/agostino"}, "edited": false, "score": 0, "creation_date": 1422312176, "post_id": 28156022, "comment_id": 44691555, "body": "You can do away with sed and grep altogether"}, {"owner": {"reputation": 2134, "user_id": 1600770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b030b4b6aaf0cb02919d5e9cf9f96f8b?s=128&d=identicon&r=PG", "display_name": "Agostino", "link": "https://stackoverflow.com/users/1600770/agostino"}, "edited": false, "score": 1, "creation_date": 1422354142, "post_id": 28156022, "comment_id": 44705965, "body": "I used sprintf to round the number to a specific precision before printing it. Here&#39;s the trick <code>print &quot;mean: &quot;, sprintf(&quot;mean: %.6f&quot;, mean(@data))</code>"}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 2, "last_activity_date": 1422312156, "last_edit_date": 1422312156, "creation_date": 1422295594, "answer_id": 28156022, "question_id": 28154818, "link": "https://stackoverflow.com/questions/28154818/bash-find-variable-in-many-txt-files-and-calculate-statistics/28156022#28156022", "title": "Bash - Find variable in many .txt files and calculate statistics", "body": "<p>To extract just the values, use the <code>-o</code> and <code>-P</code> grep options:</p>\n\n<pre><code>grep -rioPh --include=\"*_out.txt\" \"(?&lt;=${varName}=)[\\d.]+\" .\n</code></pre>\n\n<p>That looks for a pattern like <code>nHops=1.234</code> and just prints out <code>1.234</code></p>\n\n<p>Given your sample data:</p>\n\n<pre><code>$ var=\"var1\"\n$ grep -oPh \"(?&lt;=$var=)[\\d.]+\" exp_1_try_{1,2,3}.txt \n30.523\n78.98\n78.100\n</code></pre>\n\n<p>To output some stats, you should be able to pipe those numbers into your favourite stats program. Here's an example:</p>\n\n<pre><code>grep -oPh \"(?&lt;=$var=)[\\d.]+\" f? | \nperl -MStatistics::Basic=:all -le '\n    @data = &lt;&gt;; \n    print \"mean: \", mean(@data);\n    print \"median: \", median(@data);\n    print \"stddev: \", stddev(@data)\n'\n</code></pre>\n\n\n\n<pre><code>mean: 62.53\nmedian: 78.1\nstddev: 22.64\n</code></pre>\n\n<hr>\n\n<p>Of course, since this is perl, we don't need grep or sed at all:</p>\n\n<pre><code>perl -MStatistics::Basic=:all -MList::Util=min,max -lne '\n        /'\"$var\"'\\s*=\\s*(\\d+\\.?\\d*)/ and push @data, $1\n    } END {\n        print \"mean: \", mean(@data);\n        print \"median: \", median(@data);\n        print \"stddev: \", stddev(@data);\n        print \"min: \", min(@data);\n        print \"max: \", max(@data);\n' exp_1_try_*\n</code></pre>\n\n\n\n<pre><code>mean: 62.53\nmedian: 78.1\nstddev: 22.64\nmin: 30.523\nmax: 78.98\n</code></pre>\n"}], "owner": {"reputation": 2134, "user_id": 1600770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b030b4b6aaf0cb02919d5e9cf9f96f8b?s=128&d=identicon&r=PG", "display_name": "Agostino", "link": "https://stackoverflow.com/users/1600770/agostino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 1, "accepted_answer_id": 28156022, "answer_count": 1, "score": 0, "last_activity_date": 1422354492, "creation_date": 1422291182, "last_edit_date": 1492086990, "question_id": 28154818, "link": "https://stackoverflow.com/questions/28154818/bash-find-variable-in-many-txt-files-and-calculate-statistics", "title": "Bash - Find variable in many .txt files and calculate statistics", "body": "<p>I have many .txt files in a folder. They are full of statistics, and have a name that's representative of the experiment those statistics are about.</p>\n\n<pre><code>exp_1_try_1.txt\nexp_1_try_2.txt\nexp_1_try_3.txt\n\nexp_2_try_1.txt\nexp_2_try_2.txt\n\nexp_other.txt\n</code></pre>\n\n<p>In those files, I need to find the value of a variable with a specific name, and use them to calculate some statistics: min, max, avg, std dev and median.</p>\n\n<p>The variable is a decimal value and dot \".\" is used as a decimal separator. No scientific notation, although it would be nice to handle that as well.</p>\n\n<pre><code>#in file exp_1_try_1.txt\nvar1=30.523\nvar2=0.6\n\n#in file exp_1_try_2.txt\nvar1=78.98\nvar2=0.4\n\n#in file exp_1_try_3.txt\nvar1=78.100\nvar2=1.1\n</code></pre>\n\n<p>In order to do this, I'm using bash. Here's an old script I made before my bash skills got rusty. It calculates the average of an integer value.</p>\n\n<pre><code>#!/bin/bash\n\nfolder=$1\nvarName=\"nHops\"\n\ncd \"$folder\"\ngrep -r -n -i --include=\"*_out.txt\" \"$varName\" . | sed -E 's/(.+'\"$varName\"'=([0-9]+))|.*/\\2/' | awk '{count1+=$1; count2+=$1+1}END{print \"avg hops:\",count1/NR; print \"avg path length:\",count2/NR}' RS=\"\\n\"\n</code></pre>\n\n<p>I'd like to modify this script to:</p>\n\n<ul>\n<li>support finding decimal values of variable length</li>\n<li>calculate more statistics</li>\n</ul>\n\n<p>In particular std dev and median may require special attention.</p>\n\n<p><strong>Update</strong>: Here's my try to solve the problem using only UNIX tools, partially inspired <a href=\"https://unix.stackexchange.com/a/13779\">by this answer</a>. It works fine, except it does not calculate the standard deviation. The chosen answer uses Perl and is probably much faster.</p>\n\n<pre><code>#!/bin/bash\n\nfolder=$1\nvarName=\"var1\"\n\ncd \"$folder\"\ngrep -r -n -i --include=\"exp_1_run_*\" \"$varName\" . | sed -E 's/(.+'\"$varName\"'=([0-9]+(\\.[0-9]*)?))/\\2/' | sort -n | awk '\n  BEGIN {\n    count = 0;\n    sum = 0;\n  }\n  {\n    a[count++] = $1;\n    sum += $1;\n  }\n  END {\n    avg = sum / count;\n    if( (count % 2) == 1 ) {\n      median = a[ int(count/2) ];\n    } else {\n      median = ( a[count/2] + a[count/2-1] ) / 2;\n    }\n    OFS=\"\\t\";\n    OFMT=\"%.6f\";\n    print avg, median, a[0], a[count-1];\n  }\n'\n</code></pre>\n"}, {"tags": ["perl", "debugging", "input", "stdin"], "comments": [{"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 2, "creation_date": 1422292486, "post_id": 28154128, "comment_id": 44681599, "body": "Feed your script from a file instead of from the keyboard."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1422292623, "post_id": 28154128, "comment_id": 44681672, "body": "Can you be more specific on how to do this?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 3, "creation_date": 1422295022, "post_id": 28154128, "comment_id": 44682963, "body": "<code>perl -d myprog.pl &lt; mystdin.txt</code>  or <code>perl -d myprog.pl myargv1.txt myargv2.txt</code> are the 1st two to come to mind...."}], "answers": [{"comments": [{"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1423480135, "post_id": 28173220, "comment_id": 45150503, "body": "Any idea why this used to work? In the past I&#39;ve just pasted the input as it is in question and it worked, now it doesn&#39;t and I don&#39;t know why. Also what if the perl script expect input multiple times, how to handle this problem?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1423512465, "post_id": 28173220, "comment_id": 45169930, "body": "Edit made to address your concerns.  Also note:  Text files containing input may be longer than one line."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 3, "last_activity_date": 1423511914, "last_edit_date": 1592644375, "creation_date": 1422370049, "answer_id": 28173220, "question_id": 28154128, "link": "https://stackoverflow.com/questions/28154128/perl-debugger-treats-stdin-as-a-debugger-commands-not-as-stdin/28173220#28173220", "title": "perl debugger treats STDIN as a debugger commands not as STDIN", "body": "<p>The Perl Debugger will take input from the Terminal.  If the program you are debugging is reading STDIN <em>and</em> your program had inherited the Terminal as it's STDIN, then you will be in the situation you are in.</p>\n<p>You have three choices that allow you to keep reading from <code>&lt;&gt;</code>:</p>\n<ul>\n<li><p>redirect STDIN from another source: <code>perl -d myprog.pl &lt; mystdin.txt</code> or <code>program_that_generates_usefull_input | perl -d myprog.pl</code></p>\n</li>\n<li><p>Take advantage of the fact that <code>&lt;&gt;</code> reads from STDIN <em>or</em> files named in ARGV:  <code>perl -d myprog.pl myargv1.txt myargv2.txt</code></p>\n</li>\n<li><p>Pay <em>very</em> close attention to which program is asking for input.</p>\n<p>In your example above, you <code>s</code>tep through the <code>while</code> line requesting input;  You enter the text <code>input1</code> into the program being debugged; then while the debugger is asking what to do about the 1st substitution line, you ignore the debugger hoping that the paused program might currently be accepting more text.</p>\n</li>\n</ul>\n"}], "owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "accepted_answer_id": 28173220, "answer_count": 1, "score": 1, "last_activity_date": 1423511914, "creation_date": 1422289141, "last_edit_date": 1495541279, "question_id": 28154128, "link": "https://stackoverflow.com/questions/28154128/perl-debugger-treats-stdin-as-a-debugger-commands-not-as-stdin", "title": "perl debugger treats STDIN as a debugger commands not as STDIN", "body": "<p>In my perl script I am reading user input via following construction:</p>\n\n<pre><code># READ INPUT IN TO THE ARRAY, LINE BY LINE AND REMOVE SLASHES /, BLANK CHARACTERS, EMPTY LINES, AND NEWLINES\nwhile (&lt;&gt;) { \n    $_ =~ s/\\\\//g;            # Remove slash /\n    $_ =~ s/^\\s+|\\s+$//g;     # Remove heading and trailing white spaces\n    $_ =~ s/^\\s*$//g;         # Remove white spaces\n    $_ =~ s/\\r|\\n//g;         # Remove CR and NL\n    if ($_ !~ /^\\s*$/ &amp;&amp;\n        $_ !~ /:/     &amp;&amp;\n        ($_ =~ /^[^=#]+=[^=#]+$/ || $_ =~ /^#+$/)){\n        push @raw_admin_input, split \"\\n\", $_; \n    }\n}\n</code></pre>\n\n<p>So when I run the script I am able to paste (or type) multi-line line (enter separated) string then press enter again and hit <code>ctrl+d</code> to signalize the end of user input and it works.</p>\n\n<p>Now I need to debug this script</p>\n\n<pre><code>main::(stdin.pl:177):        while (&lt;&gt;) { # READ INPUT IN TO THE ARRAY, LINE BY LINE AND REMOVE SLASHES /, BLANK CHARACTERS, EMPTY LINES, AND NEWLINES\n  DB&lt;4&gt; s\ninput1\nmain::(skript12.pl:179):            $_ =~ s/\\\\//g;            # Remove slash /\n  DB&lt;4&gt; input2\n\n  DB&lt;5&gt; input3\n\n  DB&lt;6&gt; #############\n\n  DB&lt;7&gt; sdasda=asdasd\nCan't modify constant item in scalar assignment at (eval 13)[/usr/share/perl5/core_perl/perl5db.pl:732] line 2, at EOF\n</code></pre>\n\n<p>The problem is that perl debugger recognizes this as a commands for debugger and not as a input from STDIN. I am pretty sure that this worked before and I am not aware that I've changed mentioned STDIN reading process.\nI have also found that <a href=\"https://stackoverflow.com/questions/6265790/how-to-fake-input-to-perls-diamond-operator\">there</a> <a href=\"https://stackoverflow.com/questions/1213986/how-can-i-fake-stdin-in-perl\">are</a> several ways of faking STDIN, but unfortunately I am a little bit confused with their syntax and do not know how to use them.</p>\n"}, {"tags": ["perl", "function", "ssh"], "comments": [{"owner": {"reputation": 291, "user_id": 2402135, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/8dd3c14f00ab9aac457f1ecc25c0c4e4?s=128&d=identicon&r=PG", "display_name": "user2402135", "link": "https://stackoverflow.com/users/2402135/user2402135"}, "edited": false, "score": 1, "creation_date": 1422290842, "post_id": 28153952, "comment_id": 44680735, "body": "It seems to be as if I cannot call the login method twice on the $ssh object and I have to create a new instance of the $ssh object (as $ssh2) for instance and then call login on that.. Any ideas on how I can re-use the existing object?"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 2, "creation_date": 1422291001, "post_id": 28153952, "comment_id": 44680819, "body": "You can&#39;t, once authentication succeeds, the SSH protocol doesn&#39;t allow one to re-authenticate. If you want to change user, you have to open a new connection."}, {"owner": {"reputation": 291, "user_id": 2402135, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/8dd3c14f00ab9aac457f1ecc25c0c4e4?s=128&d=identicon&r=PG", "display_name": "user2402135", "link": "https://stackoverflow.com/users/2402135/user2402135"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1422295714, "post_id": 28153952, "comment_id": 44683352, "body": "Thanks @salva. This works now. Just created a new SSH object."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1422308817, "post_id": 28153952, "comment_id": 44690043, "body": "@salva Care to make that an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 0, "last_activity_date": 1422390184, "last_edit_date": 1495540620, "creation_date": 1422390184, "answer_id": 28179292, "question_id": 28153952, "link": "https://stackoverflow.com/questions/28153952/pass-ssh-object-to-subroutine-in-perl/28179292#28179292", "title": "Pass SSH object to subroutine in Perl", "body": "<p>In response to your comment that:</p>\n\n<blockquote>\n  <p>It seems to be as if I cannot call the login method twice on the $ssh object and I have to create a new instance of the $ssh object (as $ssh2) for instance and then call login on that.. Any ideas on how I can re-use the existing object?</p>\n</blockquote>\n\n<p>You can't, once authentication succeeds, the SSH protocol doesn't allow one to re-authenticate. If you want to change user, you have to open a new connection.</p>\n\n<p><em>(Answered by <a href=\"https://stackoverflow.com/users/124951/salva\">salva</a> in the comments)</em></p>\n"}], "owner": {"reputation": 291, "user_id": 2402135, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/8dd3c14f00ab9aac457f1ecc25c0c4e4?s=128&d=identicon&r=PG", "display_name": "user2402135", "link": "https://stackoverflow.com/users/2402135/user2402135"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1422390184, "creation_date": 1422288551, "last_edit_date": 1422289118, "question_id": 28153952, "link": "https://stackoverflow.com/questions/28153952/pass-ssh-object-to-subroutine-in-perl", "title": "Pass SSH object to subroutine in Perl", "body": "<p>I am trying to pass an SSH object to a subroutine. When I call <code>doSomething($ssh)</code> this function appears to hang and not return any output.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks in advance!  </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Net::SSH::Perl;\n\nmy $myHost  = 'localhost'; \nmy @keyfile = \"/home/myuser/.ssh/id_rsa\";\n\nmy $ssh = Net::SSH::Perl-&gt;new(\n    $myHost,\n    identity_files =&gt; \\@keyfile\n);\n\n$ssh-&gt;register_handler(\"stdout\", sub {\n    my ($channel, $buffer) = @_;\n    print $buffer-&gt;bytes;\n});\n\n\n$ssh-&gt;login('userB');\nmy ($stdout, $stderr, $exit) = $ssh-&gt;cmd(\"whoami;hostname;pwd\");\n\ndoSomething($ssh);\n\nsub doSomething {\n    my $sshref = shift;\n    $sshref-&gt;login('userA');\n    my ($stdout, $stderr, $exit) = $sshref-&gt;cmd(\"whoami;hostname;pwd\");\n}\n</code></pre>\n"}, {"tags": ["perl", "unix", "printing", "word-wrap"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1422287068, "post_id": 28153371, "comment_id": 44678350, "body": "Have a look at  <a href=\"http://stackoverflow.com/questions/1616404/cat-file-with-no-line-wrap\" title=\"cat file with no line wrap\">stackoverflow.com/questions/1616404/cat-file-with-no-line-wr&zwnj;&#8203;ap</a>"}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 6, "creation_date": 1422287656, "post_id": 28153371, "comment_id": 44678726, "body": "The <code>print</code> function isn&#39;t doing the wrapping; your console is."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1422289992, "last_edit_date": 1422289992, "creation_date": 1422287717, "answer_id": 28153717, "question_id": 28153371, "link": "https://stackoverflow.com/questions/28153371/perl-print-function-word-wrap/28153717#28153717", "title": "Perl print function word wrap", "body": "<p>This is less perl, more unix. Perl doesn't wrap lines, your terminal is doing so. </p>\n\n<p>However, I'd start with something like <code>Term::ReadKey</code> which can use <code>GetTerminalSize();</code></p>\n\n<p>And then use that to format my 'print' statements. </p>\n\n<p>e.g. </p>\n\n<pre><code>use Term::ReadKey;\nmy ( $width_chars ) = GetTerminalSize();\n</code></pre>\n\n<p>And then use that to truncate the line, probably using <code>substr</code>. </p>\n\n<p>E.g. </p>\n\n<pre><code>print substr ( $line, 0, $width_chars ),\"\\n\"\n</code></pre>\n"}], "owner": {"reputation": 1286, "user_id": 1091412, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2ec2911bd0e7cf7ec6b4c1b48afa1ef2?s=128&d=identicon&r=PG", "display_name": "xwhyz", "link": "https://stackoverflow.com/users/1091412/xwhyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 28153717, "answer_count": 1, "score": 0, "last_activity_date": 1422289992, "creation_date": 1422286577, "question_id": 28153371, "link": "https://stackoverflow.com/questions/28153371/perl-print-function-word-wrap", "title": "Perl print function word wrap", "body": "<p>How is it possible to print output to console with <code>print</code> function <strong>without</strong> wordwrap? It seems that automatically it wraps the long words.</p>\n\n<p>I'm trying to write some easy text viewer so I need your hints :)\nShould different function be used or some mode changed?</p>\n"}, {"tags": ["sql", "perl", "csv", "placeholder", "dbi"], "comments": [{"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 0, "creation_date": 1422294932, "post_id": 28153290, "comment_id": 44682916, "body": "Fixed the <code>connect</code> line."}], "answers": [{"comments": [{"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 1, "creation_date": 1422293098, "post_id": 28153388, "comment_id": 44681947, "body": "Didn&#39;t know that the row count is not a value."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 0, "creation_date": 1422294844, "post_id": 28153388, "comment_id": 44682870, "body": "@sid_com: It is a value, but not a column value."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1422286605, "creation_date": 1422286605, "answer_id": 28153388, "question_id": 28153290, "link": "https://stackoverflow.com/questions/28153290/dbdcsv-and-placeholders/28153388#28153388", "title": "DBD::CSV and placeholders", "body": "<p>According to <a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"nofollow\">documentation</a>, placeholders can be use only for values.</p>\n"}, {"comments": [{"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 1, "creation_date": 1422293186, "post_id": 28153840, "comment_id": 44681995, "body": "I had no problem using LIMIT with placeholders when using DBD::SQLite, DBD::mysql and DBD::Pg."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 2, "creation_date": 1422293997, "post_id": 28153840, "comment_id": 44682450, "body": "That definitely hasn&#39;t always been the case. I think DBD::mysql (rather than the database server) is currently inlining the placeholders (which means the prepare operation is actually done during <code>execute</code>). If so, the server never sees the placeholders, just <code>LIMIT 1</code>, so it doesn&#39;t know you made a syntax error. (e.g. <code>SET @FOO = 1; SELECT 1 LIMIT @FOO;</code> fails.) DBD::CSV simply doesn&#39;t do all that magic for you."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1422293266, "last_edit_date": 1422293266, "creation_date": 1422288161, "answer_id": 28153840, "question_id": 28153290, "link": "https://stackoverflow.com/questions/28153290/dbdcsv-and-placeholders/28153840#28153840", "title": "DBD::CSV and placeholders", "body": "<p>Placeholders can only be used where an expression is expected. What follows <code>LIMIT</code> must be a row count (not an expression), so it can't be a placeholder.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse DBI qw( );\n\nmy $dbh = DBI-&gt;connect(\"DBI:CSV:\", undef, undef, {\n   PrintError =&gt; 0, RaiseError =&gt; 1,\n} );\n\n{\n   my $sth = $dbh-&gt;prepare( \"SELECT 1 LIMIT 1\" );\n   $sth-&gt;execute();\n   $sth-&gt;finish();\n   print \"ok\\n\";\n}\n\n{\n   my $sth = $dbh-&gt;prepare( \"SELECT 1 LIMIT 0+1\" );\n   $sth-&gt;execute();\n   $sth-&gt;finish();\n   print \"ok\\n\";\n}\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>ok\nDBD::CSV::db prepare failed: Bad limit clause! at .../SQL/Statement.pm line 88.\n [for Statement \"SELECT 1 LIMIT 0+1\"] at a.pl line 18.\n</code></pre>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 28153840, "answer_count": 2, "score": 3, "last_activity_date": 1422294959, "creation_date": 1422286339, "last_edit_date": 1422294959, "question_id": 28153290, "link": "https://stackoverflow.com/questions/28153290/dbdcsv-and-placeholders", "title": "DBD::CSV and placeholders", "body": "<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse DBI;\n\nmy $dbh = DBI-&gt;connect( \"DBI:CSV:\", '', '', { RaiseError =&gt; 1 } ) or die DBI-&gt;errstr;\n\nmy $table = 'my_test_table_1.csv';\n$dbh-&gt;do( \"CREATE TEMP TABLE $table( id INTEGER, name CHAR(64) )\" );\n\nmy $sth = $dbh-&gt;prepare( \"INSERT INTO $table ( id, name ) VALUES( ?, ? )\" );\n$sth-&gt;execute( 1, 'Ruth' );\n$sth-&gt;execute( 2, 'John' );\n$sth-&gt;execute( 3, 'Nena' );\n$sth-&gt;execute( 4, 'Mark' );\n\n$sth = $dbh-&gt;prepare( \"SELECT * FROM $table WHERE id &gt; ? LIMIT ?\" );\n$sth-&gt;execute( 1, 2 );\n$sth-&gt;dump_results;\n\n# Bad limit clause! at /usr/local/lib/perl5/site_perl/5.20.1/SQL/Statement.pm line 88.\n</code></pre>\n\n<p>It looks like a placeholder in the <code>LIMIT</code> clause doesn't work.</p>\n\n<p>How can I tell if placeholders are supported in a certain place in a SQL statement when I use the <a href=\"https://metacpan.org/pod/DBD::CSV\" rel=\"nofollow\">DBD::CSV</a> driver? </p>\n"}, {"tags": ["perl", "active-directory", "ldap"], "answers": [{"comments": [{"owner": {"reputation": 983, "user_id": 1830862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33446c1262d77933aa7b23696716f223?s=128&d=identicon&r=PG", "display_name": "Wald", "link": "https://stackoverflow.com/users/1830862/wald"}, "edited": false, "score": 0, "creation_date": 1422283945, "post_id": 28152236, "comment_id": 44676241, "body": "I suppose I can the problem is that I can&#39;t find a possible way to access this group type information.  I&#39;m also able to change this things directly but there are thousands of groups to go through and groups keep been created as they are needed automatically. The changing of those type is needed for further automation for granting all the permissions related to those groups."}], "tags": [], "owner": {"reputation": 1589, "user_id": 4250616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXswu.jpg?s=128&g=1", "display_name": "baldpate", "link": "https://stackoverflow.com/users/4250616/baldpate"}, "is_accepted": false, "score": 1, "last_activity_date": 1422283103, "creation_date": 1422283103, "answer_id": 28152236, "question_id": 28150766, "link": "https://stackoverflow.com/questions/28150766/modifying-group-type-and-scope-in-active-directory-through-perl-ldap/28152236#28152236", "title": "Modifying group type and scope in Active directory through Perl LDAP", "body": "<p>No knowledge on perl LDAP library.<br/>\nCan you update the groupType attribute directly?</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/ms675935%28v=vs.85%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ms675935%28v=vs.85%29.aspx</a></p>\n\n<p>See the Remarks section.</p>\n\n<p>2 (0x00000002): global scope<br/>\n4 (0x00000004): domain local scope<br/>\n8 (0x00000008):  universal scope<br/>\n2147483648 (0x80000000): security group if this bit is set, otherwise distribution group </p>\n"}], "owner": {"reputation": 983, "user_id": 1830862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33446c1262d77933aa7b23696716f223?s=128&d=identicon&r=PG", "display_name": "Wald", "link": "https://stackoverflow.com/users/1830862/wald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422283103, "creation_date": 1422278005, "question_id": 28150766, "link": "https://stackoverflow.com/questions/28150766/modifying-group-type-and-scope-in-active-directory-through-perl-ldap", "title": "Modifying group type and scope in Active directory through Perl LDAP", "body": "<p>In Active directory existing groups can be specified in the following ways</p>\n\n<p><strong>Type:</strong> Distribution and Security </p>\n\n<p><strong>Scope:</strong> Global, Domain Local and Universal </p>\n\n<p>Is there a way to modify this in some way using something from the LDAP library of perl since I can not find anything related to this property in the methods of the LDAP.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1422277731, "last_edit_date": 1422277731, "creation_date": 1422277006, "answer_id": 28150537, "question_id": 28150473, "link": "https://stackoverflow.com/questions/28150473/regex-exclude-digits-with-two-dots/28150537#28150537", "title": "Regex: exclude digits with two dots", "body": "<p>I think you're trying to match the valid numbers.</p>\n\n<pre><code>(?&lt;!\\S)\\d+(?:,\\d+)?(?:\\.\\d+)?(?!\\S)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/oC9wJ9/1\" rel=\"nofollow\">DEMO</a> <br> </p>\n\n<p><a href=\"http://rick.measham.id.au/paste/explain.pl?regex=%28%3F%3C!%5CS%29%5Cd%2B%28%3F%3A%2C%5Cd%2B%29%3F%28%3F%3A%5C.%5Cd%2B%29%3F%28%3F!%5CS%29\" rel=\"nofollow\">EXPLANATION</a></p>\n\n<p>OR</p>\n\n<pre><code>(?&lt;!\\S)(?!\\d+\\.\\d+\\.)[0-9]+[.,]?[0-9]+(?!\\S)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/oC9wJ9/2\" rel=\"nofollow\">DEMO</a></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3414386"}, "edited": false, "score": 0, "creation_date": 1422341298, "post_id": 28151048, "comment_id": 44700027, "body": "Thanks a lot for your explanation!"}], "tags": [], "owner": {"reputation": 4551, "user_id": 3790360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ef9805061faba2c8d3d95a1929702294?s=128&d=identicon&r=PG&f=1", "display_name": "Andie2302", "link": "https://stackoverflow.com/users/3790360/andie2302"}, "is_accepted": false, "score": 3, "last_activity_date": 1422279619, "last_edit_date": 1422279619, "creation_date": 1422279045, "answer_id": 28151048, "question_id": 28150473, "link": "https://stackoverflow.com/questions/28150473/regex-exclude-digits-with-two-dots/28151048#28151048", "title": "Regex: exclude digits with two dots", "body": "<p>Your regular expression matches the 15.10 due to a backtrack because of the <code>[^.]</code></p>\n\n<p>The reason why it matches 15.10 in 15.10.14 is:</p>\n\n<pre><code>[0-9]+[.,]?[0-9]+[^.]\n  ^Matches the 15\n\n[0-9]+[.,]?[0-9]+[^.]\n        ^Matches the .\n\n[0-9]+[.,]?[0-9]+[^.]\n             ^Matches the 10\n\n[0-9]+[.,]?[0-9]+[^.]\n                   ^ Causes the backtracking because of the . at position .14\n\nBacktracking switches to see 15.\n\n[0-9]+[.,]?[0-9]+[^.]\n             ^ Now matches the 1\n\n[0-9]+[.,]?[0-9]+[^.]\n                  ^ Now matches the 0\n</code></pre>\n\n<p>Match found!   </p>\n\n<p>You can use a atomic group:</p>\n\n<pre><code>(?&gt;[0-9]+[.,]?[0-9]+)[^.]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422280487, "post_id": 28151206, "comment_id": 44674089, "body": "The <code>&#47;x</code>, <code>&#47;m</code> and <code>&#47;s</code> on your regex are superfluous, and the usual way of counting characters in a string is <code>my $dot_count = $word =~ tr&#47;.&#47;&#47;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422281123, "post_id": 28151206, "comment_id": 44674460, "body": "I am aware that <i>some</i> people do that, yes, but in my opinion it is bad practice, in the same way as any other program construct that is written without a purpose. And please try what I suggested with <code>tr&#47;.&#47;&#47;</code>, or did you really write your code that way so that you could say \u201cgoatse operator\u201d and giggle a little? Also take a look at <a href=\"http://perldoc.perl.org/perlfaq4.html#How-can-I-count-the-number-of-occurrences-of-a-substring-within-a-string?\" rel=\"nofollow noreferrer\"><code>perlfaq</code></a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3414386"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422341490, "post_id": 28151206, "comment_id": 44700104, "body": "Thanks! And thanks to @Borodin, your solution works. I hoped that it could be solved with regex only, but I see nothing criminal in some additional lines of code :)"}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": -1, "last_activity_date": 1422280090, "last_edit_date": 1422280090, "creation_date": 1422279672, "answer_id": 28151206, "question_id": 28150473, "link": "https://stackoverflow.com/questions/28150473/regex-exclude-digits-with-two-dots/28151206#28151206", "title": "Regex: exclude digits with two dots", "body": "<p>Your explanation of the match is correct.  For a regex, it is imperative to find a match any way possible, so the regex engine will <em>give back</em> characters from <code>[0-9]+</code> to try and get a match for <code>[^.]</code>.</p>\n\n<pre><code>use strict; \nuse warnings; \nuse 5.016;\nuse Data::Dumper;\n\nmy $text = '150 45.5 678,68767 15.10.14';\n\nmy @words = split \" \", $text;\n\nfor my $word (@words) {\n    my $dot_count = () = $word =~ /[.]/gxms;  # `goatse` operator\n\n    if($dot_count &lt; 2) {\n        say $word;\n    }\n}\n\n--output:--\n150\n45.5\n678,68767\n</code></pre>\n\n<p>Or, this works, too:</p>\n\n<pre><code>while ($text =~ /([^ ]+)/gxms) { \n    my $word = $1;\n    my $dot_count = () = $word =~ /[.]/gxms;\n\n    if($dot_count &lt; 2) {\n        say $word;\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3414386"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 1, "accepted_answer_id": 28151206, "answer_count": 3, "score": 1, "last_activity_date": 1422280090, "creation_date": 1422276704, "question_id": 28150473, "link": "https://stackoverflow.com/questions/28150473/regex-exclude-digits-with-two-dots", "title": "Regex: exclude digits with two dots", "body": "<p>Could you please explain me, why Perl regex</p>\n\n<pre><code>$text = 150 45.5 678,68767 15.10.14;\n$text =~ m/[0-9]+[.,]?[0-9]+[^.]/;\n</code></pre>\n\n<p>captures<br> \n<strong>150 <br>45.5 <br>678,68767 <br>15.10<br>14</strong>?<br>\nI'd like to exclude 15.10.14 and thats why I added <strong>[^.]</strong> but it works not as I expected...\nI guess that expression have been interpreted as:<br>\n[0-9]+ => 15.1<br>\n[^.] => 0<br>\nbut I have no idea how to rewrite it to get only numbers with one <strong>.</strong> or <strong>,</strong> and exclude dates with two <strong>.</strong>. Could you please help me?\nThanks a lot.  </p>\n"}, {"tags": ["perl", "testing"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 1554811, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c3a16bc6f4aa44feff0eb9ba4ed403be?s=128&d=identicon&r=PG", "display_name": "perl2012", "link": "https://stackoverflow.com/users/1554811/perl2012"}, "edited": false, "score": 0, "creation_date": 1422286332, "post_id": 28151739, "comment_id": 44677873, "body": "I ran some tests -- I tried IPC::Shareable which would do exactly what I wanted, but I run up against shared memory limits. I tried Storable and FreezeThaw, and Data::Dumper, and the performance was worse than what I&#39;m currently using. Thanks!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 139, "user_id": 1554811, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c3a16bc6f4aa44feff0eb9ba4ed403be?s=128&d=identicon&r=PG", "display_name": "perl2012", "link": "https://stackoverflow.com/users/1554811/perl2012"}, "edited": false, "score": 0, "creation_date": 1422287348, "post_id": 28151739, "comment_id": 44678532, "body": "Having a primary and then forking might do the trick, as you&#39;re not reloading the data."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1422281597, "creation_date": 1422281597, "answer_id": 28151739, "question_id": 28150028, "link": "https://stackoverflow.com/questions/28150028/is-there-a-way-to-keep-perl-test-data-in-memory-between-test-runs/28151739#28151739", "title": "Is there a way to keep perl test data in memory between test runs?", "body": "<p>If you're talking about separate program invocations - no, there's no way to do that. Memory is owned within the process, and it's destructed after the process. </p>\n\n<p>The only way to do what you're trying to is:</p>\n\n<ul>\n<li>Have a parent process 'load' the data.</li>\n<li><code>fork</code> the child process</li>\n</ul>\n\n<p>This means the 'loaded' data will be retained in memory - <code>fork</code> uses copy-on-write for each of the children (So if it doesn't change, you won't use more memory at all). \nBut each child will have access to the same 'memory space'. </p>\n\n<p>Alternatively, you could use <code>Storable</code> - and either:</p>\n\n<ul>\n<li>write your data structure to disk (or <code>/tmp</code>) using <code>store</code> and <code>retrieve</code>.</li>\n<li>pass data as a scalar using <code>freeze</code> and <code>thaw</code>.</li>\n</ul>\n"}], "owner": {"reputation": 139, "user_id": 1554811, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c3a16bc6f4aa44feff0eb9ba4ed403be?s=128&d=identicon&r=PG", "display_name": "perl2012", "link": "https://stackoverflow.com/users/1554811/perl2012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "accepted_answer_id": 28151739, "answer_count": 1, "score": 1, "last_activity_date": 1422281597, "creation_date": 1422274854, "question_id": 28150028, "link": "https://stackoverflow.com/questions/28150028/is-there-a-way-to-keep-perl-test-data-in-memory-between-test-runs", "title": "Is there a way to keep perl test data in memory between test runs?", "body": "<p>When I run my test cases via prove, it takes about 20 - 25 seconds to load my test data before the first test runs. Is there a way I could have a separate, persistent process load the test data in memory, and prove just retrieve a copy instantly each time I run my tests?</p>\n\n<p>I know I could have a separate process return JSON/XML, but then it would have to be parsed. I'm wondering if I could have another process that returns a reference to a data structure.</p>\n"}, {"tags": ["perl", "postfix-mta", "document-conversion"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1422270093, "post_id": 28148532, "comment_id": 44669024, "body": "Go on. Give us a hint as to what the code&#39;s actually doing."}], "answers": [{"tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 0, "last_activity_date": 1422270082, "creation_date": 1422270082, "answer_id": 28148867, "question_id": 28148532, "link": "https://stackoverflow.com/questions/28148532/inappropriate-ioctl-for-device-at-when-calling-unoconv-from-perl-script/28148867#28148867", "title": "Inappropriate ioctl for device at when calling unoconv from perl script", "body": "<p>man unoconv says:</p>\n\n<pre><code>unoconv uses the LibreOffice\u2019s UNO bindings for non-interactive\n   conversion of documents and therefore needs an LibreOffice instance to\n   communicate with. Therefore if it cannot find one, it will start its\n   own instance for temporary usage. If desired, one can start a\n   \u201clistener\u201d instance to use for subsequent connections or even for\n   remote connections.\n</code></pre>\n\n<p>...</p>\n\n<pre><code>-T, --timeout\n       When unoconv starts its own listener, try to connect to it for an\n       amount of seconds before giving up. Increasing this may help when\n       you receive random errors caused by the listener not being ready to\n       accept conversion jobs.\n</code></pre>\n"}], "owner": {"reputation": 5358, "user_id": 905640, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e21783a690b300752aceb0db57946012?s=128&d=identicon&r=PG", "display_name": "markus", "link": "https://stackoverflow.com/users/905640/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422273214, "creation_date": 1422268708, "last_edit_date": 1422273214, "question_id": 28148532, "link": "https://stackoverflow.com/questions/28148532/inappropriate-ioctl-for-device-at-when-calling-unoconv-from-perl-script", "title": "Inappropriate ioctl for device at when calling unoconv from perl script", "body": "<p>I'm triggering a perl script from an postfix email server every time when an email is received for a specified domain. The perl script basically extracts all attachments and then calls unoconv to convert the attachments to PDF format.</p>\n\n<p>I'm currently testing the script with always the same email with the same attachments and I see a random behavior. Sometimes all attachments get converted, sometime I get the error \"Inappropriate ioctl for device at\" ERROR when calling the unoconv command like:</p>\n\n<pre><code>unoconv -f pdf -o /tmp/2151DC80-A545-11E4-880B-D7DC6512523E/ '/tmp/2151DC80-A545-11E4-880B-D7DC6512523E/attachments/21887524-A545-11E4-880B-D7DC6512523E-test.doc'\n</code></pre>\n\n<p>Looks like some racing condition issue or similar. What can be the problem?</p>\n\n<p>UPDATE: The problem seems se be that unoconv sometimes exits with a Floating point exception, however the document was converted successfully (I can open it in the PDF viewer). Here the code of the function where the error appears. The question now is how to proceed in such a case.  </p>\n\n<pre><code>################################################################################\n#                       Convert attachments to PDF                             #\n################################################################################\nsub convertAttachments() {\n  $logger-&gt;info(\"converting attachments\");\n  mkdir  $email_converted_attachment_dir;\n\n  opendir(DIR, $email_attachment_dir) or die $!;\n    while (my $file = readdir(DIR)) {\n        next if ($file =~ m/^\\./);\n        $logger-&gt;info(\"Converting attachment: \".$email_attachment_dir.$file);\n        $conv_result = \"unoconv -v -T 10 -f pdf -o \".$email_converted_attachment_dir.\" '\".$email_attachment_dir.$file.\"'\";\n        $logger-&gt;info(\"Running Command: \".$conv_result);\n        system($conv_result) and die  \"Can't launch unoconv: $!\";\n    }\n  closedir(DIR);\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4324, "user_id": 109483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1605dbda0d18f0df226b6c1b379f9a4?s=128&d=identicon&r=PG", "display_name": "Ashley", "link": "https://stackoverflow.com/users/109483/ashley"}, "edited": false, "score": 1, "creation_date": 1422303182, "post_id": 28148190, "comment_id": 44687166, "body": "You might also be interested in related ideas: <code>perl -E &#39;say $_ for &quot;a&quot; .. &quot;zz&quot;&#39;</code> and <code>perl -E &#39;$l = &quot;a&quot;; say $l++ for 1 .. 10&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 8, "last_activity_date": 1422267473, "creation_date": 1422267473, "answer_id": 28148202, "question_id": 28148190, "link": "https://stackoverflow.com/questions/28148190/whats-the-simplest-way-to-represent-a-long-string-literal-with-simple-pattern-i/28148202#28148202", "title": "What&#39;s the simplest way to represent a long string literal with simple pattern in Perl?", "body": "<p>Use the <a href=\"http://perldoc.perl.org/perlop.html#Multiplicative-Operators\" rel=\"noreferrer\">x</a> operator:</p>\n\n<pre><code>$a = \"abc\" x 2; # $a gets \"abcabc\";\n</code></pre>\n"}], "owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 28148202, "answer_count": 1, "score": 3, "last_activity_date": 1422267473, "creation_date": 1422267399, "question_id": 28148190, "link": "https://stackoverflow.com/questions/28148190/whats-the-simplest-way-to-represent-a-long-string-literal-with-simple-pattern-i", "title": "What&#39;s the simplest way to represent a long string literal with simple pattern in Perl?", "body": "<p>I have a long literal string in Perl, is there a way to represent it as simple pattern without typing it one by one? Such as some syntax as below.</p>\n\n<pre><code>$a = \"abc\" * 2; # $a gets \"abcabc\";\n</code></pre>\n"}, {"tags": ["perl", "unzip", "file-handling", "compression"], "comments": [{"owner": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 0, "creation_date": 1422250708, "post_id": 28145230, "comment_id": 44662280, "body": "post what you have so far."}], "answers": [{"tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 0, "last_activity_date": 1422288304, "last_edit_date": 1422288304, "creation_date": 1422263322, "answer_id": 28147203, "question_id": 28145230, "link": "https://stackoverflow.com/questions/28145230/how-to-find-and-read-into-files-inside-multiple-zip-folders-with-perl/28147203#28147203", "title": "How to find and read into files inside multiple .zip folders with Perl?", "body": "<p>Finding the zip-files can more easily be done using the module File::Find. </p>\n\n<p>The code block, that is given to search for the files can even be created from the usual find command by passing it to find2perl.</p>\n\n<p>For example: \n    find2perl find . -name \"*.zip\" </p>\n\n<p>produces: </p>\n\n<pre><code>sub wanted {\n    /^.*\\.zip\\z/s\n    &amp;&amp; print(\"$name\\n\");\n}\n</code></pre>\n\n<p>So you can do:</p>\n\n<pre><code>#!/usr/bin/perl\n#\n\nuse strict;\nuse warnings;\n\nuse File::Find;\n\n\nsub wanted {\n    /^.*\\.zip\\z/s\n    &amp;&amp; print(\"$File::Find::dir/$_\\n\");\n}\n\nmy @dirs = (\"somedir\", \"anotherdir\");\n\nmy @zips = find(\\&amp;wanted, @dirs);\n\nprint \"@zips\\n\";\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/File/Find.html\" rel=\"nofollow\">http://perldoc.perl.org/File/Find.html</a></p>\n\n<p>Then, to save the instances of summary.txt, you would scan the archives for that name and save the files to some directory. To avoid overwriting you can keep them apart by some arbitrary extension:</p>\n\n<pre><code>my $wanted = \"summary.txt\";\nmy $suffix = 0;\nforeach my $zipname (@zips)\n{\n    my $zip = Archive::Zip-&gt;new($zipname);\n    foreach my $member ($zip-&gt;members)\n    {\n        next unless ($member-&gt;fileName =~ /\\/$wanted$/);\n\n        $suffix++;\n        if ($member-&gt;extractToFileNamed(\"$wanted.$suffix\") != 'AZ_OK') {\n            die(\"Could not create $newname\");\n        }\n    }\n}\n</code></pre>\n\n<p>See <a href=\"http://www.perlmonks.org/?node_id=104653\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=104653</a></p>\n"}], "owner": {"reputation": 1726, "user_id": 4463919, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Aue2L.png?s=128&g=1", "display_name": "gaelgarcia", "link": "https://stackoverflow.com/users/4463919/gaelgarcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 745, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422288304, "creation_date": 1422250571, "last_edit_date": 1422256154, "question_id": 28145230, "link": "https://stackoverflow.com/questions/28145230/how-to-find-and-read-into-files-inside-multiple-zip-folders-with-perl", "title": "How to find and read into files inside multiple .zip folders with Perl?", "body": "<p>I have a directory structure like this:</p>\n\n<pre><code>Sample1\n  Subdir1\n    file.txt\n    file.jpg\n    file.fastq\n    directory1.zip\n          file.txt\n          file.csv\n          result.html\n          summary.txt\n    directory2.zip\n          file.txt\n          file.csv\n          result.html\n          summary.txt\n</code></pre>\n\n<p>Once I am at the Subdir1 level, how can I find an uncompress the two .zip files, and save the two summary.txt files to two different filehandles? </p>\n\n<p>This is for further reading into these two files and parsing them into an array.</p>\n\n<p>I was asked to post what I have so far. It's very messy, but here goes:</p>\n\n<pre><code>my %cellHash = ();\nwhile (my $cellDirectory = readdir(SEQ_RUN)) {\n         %cellHash { $cellDirectory } = ()\n         #Descend into \"trimmed\" subdirectory of cell.\n    my $trimmedDirectory =  $cellDirectory . \"/trimmed\"\n        opendir (TRIMMED_CELL_DIR, $trimmedDirectory) or die $!;\n        # Read the 2 ZIP files\n        while (my $fastQCzip = readdir(TRIMMED_CELL_DIR)) {\n         #only if .zip  \n        # File 1 always ends in _1_fastqc.zip\n        # File 2 always ends in _2_fastqc.zip\n\nmy $summaryFastQC = Archive::Zip-&gt;new();\nunless ( $summaryFastQC-&gt;read( $fastQCzip ) == AZ_OK ) {\n    die 'read error'\n    }\n# Parse output: cellHash {cellName} [ R1 TESTS ] [ R2 TESTS ]\nopen QUALITY_SUMMARY, \"filename.txt\" or die $!;\n</code></pre>\n"}, {"tags": ["macos", "bash", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422240697, "post_id": 28143857, "comment_id": 44660026, "body": "How big are your files?"}, {"owner": {"reputation": 4220, "user_id": 1661012, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/abc04c76810d98405fc0f27f96c6c5e5?s=128&d=identicon&r=PG", "display_name": "user137369", "link": "https://stackoverflow.com/users/1661012/user137369"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422240998, "post_id": 28143857, "comment_id": 44660092, "body": "Not huge. At least 11 lines, but shouldn\u2019t be over 90."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1422242934, "post_id": 28143857, "comment_id": 44660600, "body": "Depending on how wide your lines are, that is a <i>small</i> file"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1422242692, "last_edit_date": 1422242692, "creation_date": 1422241287, "answer_id": 28144237, "question_id": 28143857, "link": "https://stackoverflow.com/questions/28143857/substitution-only-on-last-matching-line-perl-one-liner/28144237#28144237", "title": "Substitution only on last matching line (perl one-liner)", "body": "<p>I suggest you use <a href=\"https://metacpan.org/module/Tie::File\" rel=\"nofollow\"><code>Tie::File</code></a>, which lets you access a file as an array of lines. Any modifications made to the array are reflected in the file. It has been a core module since version 8 of Perl 5, so it shouldn't need to be installed.</p>\n\n<p>This one-liner works by checking each line of the file from the end to the beginning, and stopping as soon as a match is found. It looks okay, but I'm not in a position to test it at present.</p>\n\n<pre><code>perl -MTie::File -e\"tie @f,'Tie::File',\\\"${file}\\\"; s/^\\s*${key_to_modify}\\s\\K.*/${new_value}/ and last for reverse @f\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1422304763, "last_edit_date": 1422304763, "creation_date": 1422242747, "answer_id": 28144404, "question_id": 28143857, "link": "https://stackoverflow.com/questions/28143857/substitution-only-on-last-matching-line-perl-one-liner/28144404#28144404", "title": "Substitution only on last matching line (perl one-liner)", "body": "<p>You might be tempted to use Tie::File.</p>\n\n<pre><code># Borodin's solution with the bug fixes I mention below.\nperl -MTie::File -e'\n   $key  = shift(@ARGV);\n   $val  = shift(@ARGV);\n   $file = shift(@ARGV);\n   tie @f, \"Tie::File\", $file;\n   for (reverse @f) { last if s/^\\s*\\Q$key\\E\\s\\K.*/$val/; }\n' \"$1\" \"$2\" \"$file\"\n</code></pre>\n\n<p>For small files, Tie::File will provide a solution that's slower than the alternatives and that uses more memory than the alternatives</p>\n\n<p>For large files, Tie::File will provide an abysmally slow solution to this problem, although it will use less memory than loading the entire file into memory.</p>\n\n<p>You really can't do any worse than using Tie::File for this problem.</p>\n\n<p>Here's an alternative:</p>\n\n<pre><code>perl -i -e'\n   $key = shift(@ARGV);\n   $val = shift(@ARGV);\n   my @f = reverse(&lt;&gt;);\n   for (@f) { last if s/^\\s*\\Q$key\\E\\s\\K.*/$val/; }\n   print reverse(@f);\n' \"$1\" \"$2\" \"$file\"\n</code></pre>\n\n<p>You could even avoid the double reversing by having the substitution operator find the last match.</p>\n\n<pre><code># 5.14+\nperl -0777 -i -e'\n   $key = shift(@ARGV);\n   $val = shift(@ARGV);\n   print &lt;&gt; =~ s/\\A.*^\\s*\\Q$key\\E\\s\\K[^\\n]*/$val/smr;\n' \"$1\" \"$2\" \"$file\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -0777 -i -e'\n   $key = shift(@ARGV);\n   $val = shift(@ARGV);\n   $_ = &lt;&gt;;\n   s/\\A.*^\\s*\\Q$key\\E\\s\\K[^\\n]*/$val/sm;\n   print;\n' \"$1\" \"$2\" \"$file\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -0777 -i -pe'\n   BEGIN {\n      $key = shift(@ARGV);\n      $val = shift(@ARGV);\n   }\n   s/\\A.*^\\s*\\Q$key\\E\\s\\K[^\\n]*/$val/sm;\n' \"$1\" \"$2\" \"$file\"\n</code></pre>\n\n<p>If memory is an issue, reverse the input using File::ReadBackwards (or a similarly efficient tool), change the first match, then reverse the output using File::ReadBackwards.</p>\n\n<hr>\n\n<p>These solutions also fix the improper interpolation of <code>$key_to_modify</code> and <code>$new_value</code> into the Perl program (by passing the values as args).</p>\n\n<p>These solutions also fix the improper interpolation of <code>$key_to_modify</code> into the regex (by using <code>\\Q</code>).</p>\n"}], "owner": {"reputation": 4220, "user_id": 1661012, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/abc04c76810d98405fc0f27f96c6c5e5?s=128&d=identicon&r=PG", "display_name": "user137369", "link": "https://stackoverflow.com/users/1661012/user137369"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 28144404, "answer_count": 2, "score": 0, "last_activity_date": 1422304763, "creation_date": 1422237874, "last_edit_date": 1422238293, "question_id": 28143857, "link": "https://stackoverflow.com/questions/28143857/substitution-only-on-last-matching-line-perl-one-liner", "title": "Substitution only on last matching line (perl one-liner)", "body": "<p>I have multiple files of the form</p>\n\n<pre><code>version 'aaa'\nother 'bbb'\nanother 'ccc'\nversion 'ddd'\nonemore 'eee'\n</code></pre>\n\n<p>Some have one <code>version</code>, others have multiple; same with the other keys, but the values never repeat. I\u2019m using, as part of a bigger <code>bash</code> function, a perl one-liner to modify values</p>\n\n<pre><code>modify_value() {\n  key_to_modify=\"$1\"\n  new_value=\"$2\"\n\n  perl -i'' -pe \"s|^(\\s*)${key_to_modify} .*|\\1${key_to_modify} ${new_value}|\" \"${file}\"\n}\n</code></pre>\n\n<p>The indentation on the lines varies and is unpredictable, but should be respected (hence the need for <code>^(\\s*)</code>). This function works great to an extent. I can do</p>\n\n<pre><code>modify_value \"onemore\" \"fff\"\n</code></pre>\n\n<p>And it will be correctly replaced in the text file. However, where it breaks down is where I have multiple keys with the same name (such as the aforementioned <code>version</code>), as this change will be made in all of them. In my particular case, <em>I want the modification to be made <strong>always</strong> in the last case</em>.</p>\n\n<p>Since values are never repeated, so far what I have is</p>\n\n<pre><code>modify_value() {\n  key_to_modify=\"$1\"\n  new_value=\"$2\"\n\n  last_key=$(cat \"${file}\" | grep \"^\\s*${key_to_modify}\" | tail -1 | perl -pe 's/^\\s*//')\n\n  perl -i'' -pe \"s|^(\\s*)${last_key}|\\1${key_to_modify} ${new_value}|\" \"${file}\"\n}\n</code></pre>\n\n<p>This works, but is a bit inelegant. Would it be possible to leverage the perl one-liner to act only on the latest occurrence of the match, instead?</p>\n"}, {"tags": ["apache", "perl"], "comments": [{"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1422237787, "post_id": 28143773, "comment_id": 44659428, "body": "You might want to define <i>everywhere</i> and depending on your answer, be prepared to receive a lot of people warning about security.  Also, did you try restarting your Apache server?"}, {"owner": {"reputation": 837, "user_id": 3649259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3f87133e7cfb26c676d7c479552e891?s=128&d=identicon&r=PG&f=1", "display_name": "Banned_User", "link": "https://stackoverflow.com/users/3649259/banned-user"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1422239394, "post_id": 28143773, "comment_id": 44659774, "body": "All directories and yes i have."}, {"owner": {"reputation": 837, "user_id": 3649259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3f87133e7cfb26c676d7c479552e891?s=128&d=identicon&r=PG&f=1", "display_name": "Banned_User", "link": "https://stackoverflow.com/users/3649259/banned-user"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1422239617, "post_id": 28143773, "comment_id": 44659822, "body": "I also have tried to put it under <code>&lt;Directory &#47;var&#47;www&#47;&gt;</code> but it wont work."}, {"owner": {"reputation": 837, "user_id": 3649259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3f87133e7cfb26c676d7c479552e891?s=128&d=identicon&r=PG&f=1", "display_name": "Banned_User", "link": "https://stackoverflow.com/users/3649259/banned-user"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1422239728, "post_id": 28143773, "comment_id": 44659848, "body": "Yes I see, its working in cgi-bin, but my question is how to allow it in all directories. When i read through the documentation it says i just need to add the <code>AddHandler cgi-script .cgi</code> in <code>mime.conf</code> but its not working."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 0, "last_activity_date": 1422243240, "last_edit_date": 1495540619, "creation_date": 1422243240, "answer_id": 28144454, "question_id": 28143773, "link": "https://stackoverflow.com/questions/28143773/perl-scripts-will-not-run-in-apache-permission-denied/28144454#28144454", "title": "Perl scripts will not run in apache (Permission Denied)", "body": "<p><em>(Self answer by <a href=\"https://stackoverflow.com/users/3649259/banned-user\">Banned_User</a> moved from question body)</em></p>\n\n<p>What I did was edit <code>/etc/apache2/sites-enabled/www.example.com/</code> and add:</p>\n\n<pre><code>&lt;Directory /var/www/www.example.com&gt;\n      Options +ExecCGI\n&lt;/Directory&gt;\n</code></pre>\n"}], "owner": {"reputation": 837, "user_id": 3649259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3f87133e7cfb26c676d7c479552e891?s=128&d=identicon&r=PG&f=1", "display_name": "Banned_User", "link": "https://stackoverflow.com/users/3649259/banned-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 935, "favorite_count": 0, "closed_date": 1422258574, "answer_count": 1, "score": 0, "last_activity_date": 1422243317, "creation_date": 1422237087, "last_edit_date": 1422243317, "question_id": 28143773, "link": "https://stackoverflow.com/questions/28143773/perl-scripts-will-not-run-in-apache-permission-denied", "closed_reason": "Duplicate", "title": "Perl scripts will not run in apache (Permission Denied)", "body": "<p>I have LAMP installed on Ubuntu 14.04.1.</p>\n\n<p>I want to be able to run cgi scripts from all directories that are within my website. So I added this to <code>/etc/apache2/apache.conf</code></p>\n\n<pre><code>    &lt;Directory /var/www/&gt; \n          AddHandler cgi-script .cgi .pl\n          Options FollowSymLinks +ExecCGI\n    &lt;/Directory&gt;\n</code></pre>\n\n<p>I also did this edit in <code>/etc/apache2/mods-enabled/mime.conf</code></p>\n\n<pre><code>    # To use CGI scripts outside of ScriptAliased directories:\n    # (You will also need to add \"ExecCGI\" to the \"Options\" directive.)\n    #\n    AddHandler cgi-script .cgi .py .pl\n</code></pre>\n\n<p>But now when i visit my script it says</p>\n\n<blockquote>\n  <p>You don't have permission to access /hello.pl on this server.</p>\n</blockquote>\n\n<p>But I have chmodded and chowned the script.. in fact look...</p>\n\n<p><code>ls -la hello.cgi\n-rwxrwxrwx 1 www-data www-data 84 Jan 26 03:19 hello.pl</code></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 2, "creation_date": 1422230666, "post_id": 28143043, "comment_id": 44657792, "body": "That&#39;s almost JSON. Just use the JSON module to parse it. Then you can do <code>$obj-&gt;{country}</code> to get the country."}, {"owner": {"reputation": 11, "user_id": 4487937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUDcF.jpg?s=128&g=1", "display_name": "Rob D", "link": "https://stackoverflow.com/users/4487937/rob-d"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422230971, "post_id": 28143043, "comment_id": 44657860, "body": "Sorry what I was expecting as output is:    &quot;X.X.XX.8&quot;,&quot;No Hostname&quot;,&quot;Kuala Terengganu&quot;,&quot;Terengganu&quot;, &quot;MY&quot;,&quot;AS4788 TM Net, Internet Service Provider&quot; &quot;X.X.XX.143&quot;,&quot;No Hostname&quot;,&quot;Kuantan&quot;,&quot;Pahang&quot;,&quot;MY&quot;,&quot;AS4788 TM Net, Internet Service Provider&quot; &quot;X.X.XXX.76&quot;,&quot;No Hostname&quot;,&quot;Kuching&quot;,&quot;Sarawak&quot;,&quot;MY&quot;,&quot;AS4788 TM Net, Internet Service Provider&quot; &quot;X.X.XX.158&quot;,&quot;No Hostname&quot;,&quot;Seoul&quot;,&quot;Seoul-t&#39;ukpyolsi&quot;,&quot;KR&quot;,&quot;AS17839 DreamcityMedia&quot; &quot;XX.XXX.X.87&quot;,&quot;No Hostname&quot;,&quot;Surat&quot;,&quot;Gujarat&quot;,&quot;IN&quot;,&quot;AS45528 Tikona Digital Networks Pvt Ltd.&quot;"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 2, "creation_date": 1422231693, "post_id": 28143043, "comment_id": 44658016, "body": "No, I meant you should use the <code>JSON</code> module, like this: <code>perl -0175 -MJSON -nE&#39;say join &quot;, &quot;, @{JSON::decode_json($_)}{qw|ip hostname city region country org|}}{say &quot;\\n$. lines processed&quot;&#39;  &lt; 1.txt</code>"}, {"owner": {"reputation": 11, "user_id": 4487937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUDcF.jpg?s=128&g=1", "display_name": "Rob D", "link": "https://stackoverflow.com/users/4487937/rob-d"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422233055, "post_id": 28143043, "comment_id": 44658333, "body": "Thanks Patrick that did the trick."}], "answers": [{"comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1422265462, "post_id": 28143612, "comment_id": 44666869, "body": "Why don&#39;t you use the just the <code>JSON</code> module? It falls back to <code>JSON::PP</code> if <code>JSON::XS</code> isn&#39;t installed and also has a <code>incr_parse</code> method."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422272135, "post_id": 28143612, "comment_id": 44669910, "body": "@Patrick J. S., Why would I want to risk being defaulted to JSON::PP?"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1422345069, "post_id": 28143612, "comment_id": 44701500, "body": "People sometimes have a hassle with installing modules (send the sysadmin a email, get it approved by some supervisors\u2026) and <code>JSON</code>&#39;s just a compatibility wrapper. You can run and test it while the installation process goes its way through the institutions."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1422235964, "last_edit_date": 1422235964, "creation_date": 1422235611, "answer_id": 28143612, "question_id": 28143043, "link": "https://stackoverflow.com/questions/28143043/perl-regular-expressoin-not-matching/28143612#28143612", "title": "perl regular expressoin not matching", "body": "<p>Ack! It's easier to use an actual JSON parser to parse JSON than trying to hack a fragile, error-prone solution!</p>\n\n<p>Ok, you don't actually have a JSON file, but a bunch of JSON files end-to-end. But that's no problem; JSON::XS's incremental parser (<code>incr_parse</code>) can handle that.</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n\nuse JSON::XS     qw( );\nuse Text::CSV_XS qw( );\n\nmy $json_parser = JSON::XS-&gt;new();\nmy $csv_formatter = Text::CSV_XS-&gt;new({ binary =&gt; 1, auto_diag =&gt; 1 });\n\nwhile ( my $file = do { local $/; &lt;&gt; } ) {\n   for my $obj ( $json_parser-&gt;incr_parse($file) ) {\n      my @row = @$obj{qw( ip hostname city region country org )};\n      $csv_formatter-&gt;print(\\*STDOUT, \\@row);\n   }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>myparser.pl input.json &gt;output.csv\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1422244975, "creation_date": 1422244975, "answer_id": 28144643, "question_id": 28143043, "link": "https://stackoverflow.com/questions/28143043/perl-regular-expressoin-not-matching/28144643#28144643", "title": "perl regular expressoin not matching", "body": "<p>Try this. I don't know about the json and json module, but simple code give the output what you expect.</p>\n\n<pre><code>use warnings;\nuse strict;\nopen('data',\"file\");\n$/ = \"}\";\nmy @ar  = &lt;data&gt;;\nforeach (@ar){\nmy @xz = split(\"\\n\",$_);\nmy @ddta;\nforeach my $v (@xz){\nmy @xvz = split(/.*\\:(.*)/,$v);\npush(@ddta,@xvz);\n}\nprint \"@ddta\\n\\n\";\n} \n</code></pre>\n\n<p>Your data separated by the <code>{</code> so i'm use <code>$/ = \"}\"</code>. which   separated the data into array. Try it <code>print $ar[0]</code>.</p>\n\n<p>Then <code>split(/.*\\:(.*)/,$v)</code> which group the adjacent of the <code>:</code> so your expected output was stored into <code>@xvz</code> then will print out side of the inner foreach condtion</p>\n"}], "owner": {"reputation": 11, "user_id": 4487937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUDcF.jpg?s=128&g=1", "display_name": "Rob D", "link": "https://stackoverflow.com/users/4487937/rob-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1422244975, "creation_date": 1422230280, "last_edit_date": 1422232884, "question_id": 28143043, "link": "https://stackoverflow.com/questions/28143043/perl-regular-expressoin-not-matching", "title": "perl regular expressoin not matching", "body": "<p>I have a text file (1.txt) with following information and format:</p>\n\n<pre><code>{\n  \"ip\": \"X.X.XX.8\",\n  \"hostname\": \"No Hostname\",\n  \"city\": \"Kuala Terengganu\",\n  \"region\": \"Terengganu\",\n  \"country\": \"MY\",\n  \"loc\": \"5.3302,103.1408\",\n  \"org\": \"AS4788 TM Net, Internet Service Provider\"\n}{\n  \"ip\": \"X.X.XX.143\",\n  \"hostname\": \"No Hostname\",\n  \"city\": \"Kuantan\",\n  \"region\": \"Pahang\",\n  \"country\": \"MY\",\n  \"loc\": \"3.8077,103.3260\",\n  \"org\": \"AS4788 TM Net, Internet Service Provider\"\n}{\n  \"ip\": \"X.X.XXX.76\",\n  \"hostname\": \"No Hostname\",\n  \"city\": \"Kuching\",\n  \"region\": \"Sarawak\",\n  \"country\": \"MY\",\n  \"loc\": \"1.5310,110.3442\",\n  \"org\": \"AS4788 TM Net, Internet Service Provider\",\n  \"postal\": \"93700\"\n}{\n  \"ip\": \"X.X.XX.158\",\n  \"hostname\": \"No Hostname\",\n  \"city\": \"Seoul\",\n  \"region\": \"Seoul-t'ukpyolsi\",\n  \"country\": \"KR\",\n  \"loc\": \"37.5985,126.9783\",\n  \"org\": \"AS17839 DreamcityMedia\"\n}{\n  \"ip\": \"XX.XXX.X.87\",\n  \"hostname\": \"No Hostname\",\n  \"city\": \"Surat\",\n  \"region\": \"Gujarat\",\n  \"country\": \"IN\",\n  \"loc\": \"20.9667,72.9000\",\n  \"org\": \"AS45528 Tikona Digital Networks Pvt Ltd.\"\n}{\n  \"ip\": \"XXX.XX.XXX.134\",\n  \"hostname\": \"No Hostname\",\n  \"city\": \"Bhandup\",\n  \"region\": \"Maharashtra\",\n  \"country\": \"IN\",\n  \"loc\": \"19.1500,72.9333\",\n  \"org\": \"AS45528 Tikona Digital Networks Pvt Ltd.\"\n}{\n</code></pre>\n\n<p>I wrote the following perl code so I can output it to a comma separated file:</p>\n\n<pre><code>use FileHandle;\nuse strict;\n\nmain();\n\nsub main() {\n    my $line_numbers = \"\";\n    my $num_matches  = 0;\n    my $first_match  = \"\";\n    my $count        = 0;\n\n    my $resource_location = \"1.txt\";\n\n    my $output_fh = FileHandle-&gt;new(\"&gt; 2.txt\");\n\n    open(FILE, \"&lt;\", $resource_location) or die \"cannot open &lt; $resource_location: $!\";\n\n    my $output_str = \"\";\n    foreach my $line (&lt;FILE&gt;) {\n        $count++;\n        my ($ip)       = $line =~ /\"ip=([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})\"/;\n        my ($hostname) = $line =~ /\"hostname:?([^\"\\s]+)\"/;\n        my ($city)     = $line =~ /\"city:?([^\"\\s]+)\"/;\n        my ($region)   = $line =~ /\"region:?([^\"\\s]+)\"/;\n        my ($country)  = $line =~ /\"country:?([^\"\\s]+)\"/;\n        my ($org)      = $line =~ /\"org:?([^\"\\s]+)\"/;\n\n        print $output_fh \"$ip,$hostname,$city,$region,$country,$org\\n\";\n    }\n\n    print \"$count   rows processed\\n\";\n\n    close FILE;\n    $output_fh-&gt;close;\n}\n</code></pre>\n\n<p>when I run the script all i get is commas:</p>\n\n<pre><code>,,,,,\n,,,,,\n,,,,,\n,,,,,\n,,,,,\n,,,,,\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>\"X.X.XX.8\",\"No Hostname\",\"Kuala Terengganu\",\"Terengganu\", \"MY\",\"AS4788 TM Net, Internet Service Provider\"\n\"X.X.XX.143\",\"No Hostname\",\"Kuantan\",\"Pahang\",\"MY\",\"AS4788 TM Net, Internet Service Provider\"\n\"X.X.XXX.76\",\"No Hostname\",\"Kuching\",\"Sarawak\",\"MY\",\"AS4788 TM Net, Internet Service Provider\"\n\"X.X.XX.158\",\"No Hostname\",\"Seoul\",\"Seoul-t'ukpyolsi\",\"KR\",\"AS17839 DreamcityMedia\"\n\"XX.XXX.X.87\",\"No Hostname\",\"Surat\",\"Gujarat\",\"IN\",\"AS45528 Tikona Digital Networks Pvt Ltd.\"\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["perl", "shell", "csh"], "comments": [{"owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "edited": false, "score": 0, "creation_date": 1422219563, "post_id": 28141384, "comment_id": 44654450, "body": "Check your current working directory in the moment you call your script."}, {"owner": {"reputation": 40834, "user_id": 297323, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/97e8a3c4945a8a898cbf216ce912fd46?s=128&d=identicon&r=PG", "display_name": "Fredrik Pihl", "link": "https://stackoverflow.com/users/297323/fredrik-pihl"}, "edited": false, "score": 0, "creation_date": 1422219663, "post_id": 28141384, "comment_id": 44654481, "body": "what is the path of <code>checkLength.perl</code> in relation to your .csh script?"}, {"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1422219745, "post_id": 28141384, "comment_id": 44654508, "body": "Hmm, I&#39;m not sure. How would I find that out?"}, {"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1422220294, "post_id": 28141384, "comment_id": 44654683, "body": "Ahh, I checked the working directory the moment before I called the script, and it&#39;s searching for the perl script in one directory ahead of where the perl script actually is.  If i edit the path of the perl script to the actual path, that should fix the issue, correct?"}, {"owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "edited": false, "score": 0, "creation_date": 1422220594, "post_id": 28141384, "comment_id": 44654779, "body": "Yes, that&#39;s it, suppose you found out about pwd. And Perlscripts usually have the suffix .pl."}, {"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1422220896, "post_id": 28141384, "comment_id": 44654895, "body": "Yeah I knew about pwd from before, just never thought to use it right before the perl script ran just to check to see if I&#39;m in the right directory.  Thanks a lot mate!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "edited": false, "score": 0, "creation_date": 1422236949, "post_id": 28141384, "comment_id": 44659223, "body": "@nlu: Please write a solution so that the OP can accept it"}], "answers": [{"tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 1, "last_activity_date": 1422238557, "creation_date": 1422238557, "answer_id": 28143924, "question_id": 28141384, "link": "https://stackoverflow.com/questions/28141384/trouble-running-perl-script-from-within-shell-script/28143924#28143924", "title": "Trouble Running Perl Script from within Shell Script", "body": "<p>Of course one obvious solution to your problem would be to simply use the full path to the script. But this is often not preferable, as the script would brake on installations that do not mirror exactly the original structure.</p>\n\n<p>So there are two possibilities:\nEither you put your perl script into a well defined location that is contained in your PATH variable so any program that runs under the respective users environment finds it.</p>\n\n<p>Or you have some well defined location relative to the location of your calling script. Say your bash script is located in somedir and you perl script is in somedir/subdir, then your call would be subdir/perlscript.pl. Then, to become independent of possible changes in the working directory of the caller, you could determine the current full path of the perl script to be called on start of the bash script.</p>\n\n<p>A template for this would be:</p>\n\n<pre><code>#!/bin/bash\nFULLPATH=$(pwd)/subdir/somescript.pl\n\n# do something else, cd ...\n\n$FULLPATH\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11732, "user_id": 3070452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9dbf752779b5b917014eb78e3a40eca?s=128&d=identicon&r=PG&f=1", "display_name": "Shantanu Bhadoria", "link": "https://stackoverflow.com/users/3070452/shantanu-bhadoria"}, "is_accepted": false, "score": 0, "last_activity_date": 1422245439, "creation_date": 1422245439, "answer_id": 28144696, "question_id": 28141384, "link": "https://stackoverflow.com/questions/28141384/trouble-running-perl-script-from-within-shell-script/28144696#28144696", "title": "Trouble Running Perl Script from within Shell Script", "body": "<p>I am assuming your Perl script is kept in a fixed path relative to your bash script. Assuming your directory structure to be like so:</p>\n\n<ul>\n<li><p>(BASEDIR)/<strong>bin</strong>/example.sh </p></li>\n<li><p>(BASEDIR)/<strong>perl</strong>/example.pl</p></li>\n</ul>\n\n<p>To allow you to run your bash script from anywhere in your system you must specify the relative path to your Perl script by getting the BASEDIR.</p>\n\n<pre><code>#!/bin/bash\n\nBASEDIR=$(dirname $0)\nperl $BASEDIR/../perl/example.pl\n</code></pre>\n\n<p>What we are doing above is finding the location of your bash script(BASEDIR/bin) that you call and then finding the relative location of the Perl script using the location of the bash script as reference. Now you will be able to call the bash script from anywhere and run your Perl script normally.</p>\n"}], "owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1124, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1422245439, "creation_date": 1422219287, "last_edit_date": 1422223441, "question_id": 28141384, "link": "https://stackoverflow.com/questions/28141384/trouble-running-perl-script-from-within-shell-script", "title": "Trouble Running Perl Script from within Shell Script", "body": "<p>I am trying to run a perl script from within a *.csh script, but I get the following error:</p>\n\n<pre><code>Can't open perl script \"checkLength.perl\": No such file or directory\n</code></pre>\n\n<p>I think it has something to do with the path of the perl script.  I can run a perl script fine when it's not being called within the shell script, but a perl script won't run when I have it being called in the cshell script.</p>\n\n<p>The shebang I use for the perl script is : #!/usr/bin/perl.  I checked, and perl is located there (not in /usr/bin/env perl).  I made sure it's executable.</p>\n\n<p>Do I need to edit the $PATH to get this to work?  I'm confused because if I run a perl script without calling it within another csh script, it runs just fine.</p>\n"}, {"tags": ["perl", "random", "identifier", "short", "fasta"], "answers": [{"tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 1, "last_activity_date": 1422297713, "last_edit_date": 1422297713, "creation_date": 1422297290, "answer_id": 28156463, "question_id": 28140137, "link": "https://stackoverflow.com/questions/28140137/change-the-identifier-line-name-to-random-shortened-name-in-fasta-file/28156463#28156463", "title": "Change the identifier line name to random shortened name in fasta file", "body": "<p>Your problem can simply be fixed by resetting <code>$string</code> to an empty string just inside the <code>while</code> loop.  But this is needlessly complex (and also inefficient -- you generate and throw away random identifiers when you are not looking at a line starting with <code>&gt;</code>); I would go with just</p>\n\n<pre><code>perl -pe 'BEGIN { srand(time()); }\n    s/&gt;.*/ \"&gt;\" . join (\"\", map { chr(rand(25)+65) } 0..9) /e' file.fasta\n</code></pre>\n\n<p>If you do not absolutely require properly pseudorandom identifiers, maybe go with just</p>\n\n<pre><code>perl -pe 'BEGIN { $id = \"a\" x 7 } s/&gt;.*/\"&gt;\" . $id++/e' file.fasta\n</code></pre>\n\n<p>which produces identifiers like \"aaaaaaa\", \"aaaaaab\", etc.  (I went for seven-character identifiers but four characters would be more than enough for 8,000 unique id:s; you'd end at \"alvr\".)</p>\n"}], "owner": {"reputation": 141, "user_id": 3767953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d63deb1aec93f67b9add5fa30a235bc4?s=128&d=identicon&r=PG&f=1", "display_name": "user3767953", "link": "https://stackoverflow.com/users/3767953/user3767953"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 28156463, "answer_count": 1, "score": 0, "last_activity_date": 1422297713, "creation_date": 1422211946, "last_edit_date": 1422297326, "question_id": 28140137, "link": "https://stackoverflow.com/questions/28140137/change-the-identifier-line-name-to-random-shortened-name-in-fasta-file", "title": "Change the identifier line name to random shortened name in fasta file", "body": "<p>I have a fasta file with about 8,000 sequences in it. I need to change the  identifier line name to a random unique shorten name (max length 10). \nThe fasta file contains seqences like this.</p>\n\n<pre><code>&gt;AX039539.1.1212 Bacteria;Chloroflexi;Dehalococcoidia;Dehalococcoidales;\nGAUGAACGCUAGCGGCGUGCCUUAUGCAUGCAAGUCGAACGGUCUUAAGCAAUUAAGAUAGUGGCAAACGGGUGAGUAACGCGUAAGUAACCUACCUCUAAGUGGGGGAUAGCUUCGGGAAACUGAAGGUAAUACCGCAUGUGGUGGGCCGACAUAAGUUGGUUCACUAAAGCCGUAAGGUGCUUGGUGAGGGGCUUGCGUCCGAUUAGCUAGUUGGUGGGGUAACGGCCUACCAAGGCUUCGAUCGGUAGCUGGUCUGAGAGGAUGAUCAGCCACACUGGGACUGAGACACGGCCCAGACUCCUACGGGAG\n</code></pre>\n\n<p>Here is my script so far:</p>\n\n<pre><code>use strict; \nuse warnings;\n\n#change ID line name to random unique shorten (max 10 characters) string\n\nopen (my $fh,\"$ARGV[0]\") or die \"Failed to open file: $!\\n\";\nopen (my $out_fh, \"&gt;$ARGV[0]_shorten_ID.fasta\");\n\nmy $string;\n\nwhile(&lt;$fh&gt;) {\n\n  for (0..9) { $string .= chr( int(srand(rand(25) + 65) )); }\n\n  if ($_ =~ s/^&gt;*.+\\n/&gt;$string/){  # change header FASTA header    \n\n    print $out_fh \"$_\";\n\n  }\n}\n\nclose $fh;\nclose $out_fh;\n</code></pre>\n\n<p>I have been trying this but it starts with 10 characters then adds 10 more on as goes down and I lose the sequence. I realize there are similar question already but it is slightly different, I need to randomly generate unique shortened names.</p>\n"}, {"tags": ["windows", "perl", "keystroke"], "comments": [{"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 1, "creation_date": 1422211356, "post_id": 28139663, "comment_id": 44651566, "body": "You can try using this module:  use Win32::GuiTest qw(SendKeys IsKeyPressed); <a href=\"http://search.cpan.org/~karasik/Win32-GuiTest-1.60/lib/Win32/GuiTest/Examples.pm#eg/keypress.pl\" rel=\"nofollow noreferrer\">search.cpan.org/~karasik/Win32-GuiTest-1.60/lib/Win32/GuiTes&zwnj;&#8203;t/&hellip;</a>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1422211916, "post_id": 28139663, "comment_id": 44651773, "body": "What operating system are you using?  This can matter."}, {"owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "edited": false, "score": 0, "creation_date": 1422212642, "post_id": 28139663, "comment_id": 44652044, "body": "I am using windows 7"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422215762, "post_id": 28139663, "comment_id": 44653197, "body": "How are you starting this program in the first place? The difficult part isn&#39;t imitating the key press, but informing the appropriate process of the event."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 2, "last_activity_date": 1422214276, "last_edit_date": 1422214276, "creation_date": 1422212850, "answer_id": 28140296, "question_id": 28139663, "link": "https://stackoverflow.com/questions/28139663/imitate-pressing-keyboard-f-keys-using-a-perl-script/28140296#28140296", "title": "Imitate pressing keyboard F-keys using a Perl script", "body": "<p>If you're on Windows, <a href=\"https://metacpan.org/pod/Win32::GuiTest\" rel=\"nofollow\">Win32::GuiTest</a> can do what you want.  They have <a href=\"https://metacpan.org/pod/Win32::GuiTest::Examples\" rel=\"nofollow\">several examples</a> of using SendKeys to press function keys.</p>\n\n<p>On Unix the situation is both easier and harder.  Function keys are usually mapped in a terminal to send several characters.  You can find out what they are using <code>ord</code> and sprintf to get their hex values (easier to work with).  Here's an example of \"kj\" as a simple example, then F1 through F7.</p>\n\n<pre><code>$ perl -wle 'while(&lt;&gt;) { chomp; print join \", \", map { sprintf \"%x\", ord } split //, $_ }'\nkj\n6b, 6a\n^[OP\n1b, 4f, 50\n^[OQ\n1b, 4f, 51\n^[OR\n1b, 4f, 52\n^[OS\n1b, 4f, 53\n^[[15~\n1b, 5b, 31, 35, 7e\n^[[17~\n1b, 5b, 31, 37, 7e\n^[[18~\n1b, 5b, 31, 38, 7e\n^[[19~\n1b, 5b, 31, 39, 7e\n</code></pre>\n\n<p><a href=\"https://duckduckgo.com/?q=ascii+table\" rel=\"nofollow\">ASCII 1b</a> is the escape character (represented on the terminal by a <code>^[</code>).  5b is <code>[</code>, and so on.  So you can print those strings to the program's input or to the tty.  For example, F8 would be \"\\x{1b}[19~\".</p>\n\n<p>Why are F1-F4 different?  The <a href=\"http://ascii-table.com/ansi-escape-sequences-vt-100.php\" rel=\"nofollow\">VT100 terminal</a>, upon which this is all based, only had four function keys.  The later <a href=\"https://en.wikipedia.org/wiki/VT220\" rel=\"nofollow\">VT220</a> added the rest.</p>\n\n<p>There's probably a module to take care of this for you, but I can't find it.</p>\n"}], "owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1142, "favorite_count": 1, "accepted_answer_id": 28140296, "answer_count": 1, "score": 1, "last_activity_date": 1518520968, "creation_date": 1422209102, "last_edit_date": 1518520968, "question_id": 28139663, "link": "https://stackoverflow.com/questions/28139663/imitate-pressing-keyboard-f-keys-using-a-perl-script", "title": "Imitate pressing keyboard F-keys using a Perl script", "body": "<p>Is there a way that I can imitate the pressing of a function key (F1-F12) from a Perl script on Windows 7?</p>\n\n<p>I have a program that requires F7 to be pressed in order to stop it.</p>\n\n<p>I have tried killing the program process, but that doesn't stop the process cleanly.</p>\n"}, {"tags": ["regex", "perl", "csv", "utf-8"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422214231, "post_id": 28139422, "comment_id": 44652653, "body": "What is <code>$keycol</code>? It isn&#39;t defined in the code that you show."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1422214348, "post_id": 28139422, "comment_id": 44652700, "body": "You must <i>always</i> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program that you write, and declare all of your variables using <code>my</code> as close as possible to their first point of use."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422215259, "post_id": 28139422, "comment_id": 44653028, "body": "You say, <i>\u201cthe program dies with an error\u201d</i>. What is the error message, please? What are you using to see the <code>^@</code> character? It is most likely to indicate the NUL character with a code point of zero. Where does your input data originate? I think you should be very careful with the data if it truly has mismatched quotation marks: it is highly likely that there are other problems as well that you haven&#39;t noticed."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1422228965, "post_id": 28139422, "comment_id": 44657368, "body": "Control-@ is also known as the null byte, <code>&#39;\\0&#39;</code>, which is used to terminate strings.  This is based on the ASCII value of <code>@</code> (64), compared with the ASCII value of <code>A</code> (65), and <code>^A</code> (control-A) is <code>&#39;\\1</code>, so <code>^@</code> is <code>&#39;\\0&#39;</code>.  That leaves you with potential problems when wrangling the data as a string \u2014 the <code>^@</code> marks the end of the string."}, {"owner": {"reputation": 4276, "user_id": 1210178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/09da6b70eb0b6b64fd5e3258c95f0e0c?s=128&d=identicon&r=PG", "display_name": "broccoli", "link": "https://stackoverflow.com/users/1210178/broccoli"}, "edited": false, "score": 0, "creation_date": 1422232819, "post_id": 28139422, "comment_id": 44658274, "body": "Thanks all for the pointers. This indeed does look like a data problem that is best fixed from the sender of the data, doesn&#39;t seem like there is anything to be done from a receivers point of view."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1422235722, "post_id": 28139422, "comment_id": 44658940, "body": "@JonathanLeffler: Perl doesn&#39;t use <code>&#39;\\0&#39;</code> to mark the end of a string. ` $s = &quot;foo\\0bar\\0baz&quot;; $s =~ s/\\0/Z/; print &quot;$s\\n&quot;;` --&gt; <code>fooZbarZbaz</code>"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 4453362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lkrdmAuxDMc/AAAAAAAAAAI/AAAAAAAAF68/KFvCcbC2Gzc/photo.jpg?sz=128", "display_name": "Dagmar d&#39;Surreal", "link": "https://stackoverflow.com/users/4453362/dagmar-dsurreal"}, "edited": false, "score": 0, "creation_date": 1422901821, "post_id": 28141661, "comment_id": 44922630, "body": "...and this was downvoted <i>why</i> precisely?  Those two regexps should convert any funky &quot;smartquotes&quot; back into sane and reasonable quotes (i.e., \\0x22, aka ASCII 34) in short order as a triage step.  Editors that do that sort of thing are known to also mangle ellipses and the minus sign (as well as several other characters) and are not friendly to data processing."}], "tags": [], "owner": {"reputation": 111, "user_id": 4453362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lkrdmAuxDMc/AAAAAAAAAAI/AAAAAAAAF68/KFvCcbC2Gzc/photo.jpg?sz=128", "display_name": "Dagmar d&#39;Surreal", "link": "https://stackoverflow.com/users/4453362/dagmar-dsurreal"}, "is_accepted": false, "score": -1, "last_activity_date": 1422220847, "creation_date": 1422220847, "answer_id": 28141661, "question_id": 28139422, "link": "https://stackoverflow.com/questions/28139422/remove-character-from-a-string/28141661#28141661", "title": "Remove ^@ character from a string", "body": "<p>I strongly recommend you go to the person you got this file from and ask them for a copy of it that they didn't edit in MS Word or whatever it was.  It sounds rather like you're describing a file that has been savaged by a word processor that believes in a more decorative form of quotation mark set, and it's replacing one of them with the \"upside down\" version of a quotation mark. i.e., \"smart quotes\".</p>\n\n<p>If the editor did this to the double-quotes, there's likely to be more damaged data in there as well.   In theory you might be able to revert them with  <strong>s/\\x93/\"/g</strong> and <strong>s/\\x94/\"/g</strong> but certainly they should <I>never be in a CSV-formatted file in the first place.</I>  </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1422236699, "creation_date": 1422236699, "answer_id": 28143735, "question_id": 28139422, "link": "https://stackoverflow.com/questions/28139422/remove-character-from-a-string/28143735#28143735", "title": "Remove ^@ character from a string", "body": "<p><code>^@</code> conventionally represents <code>NUL</code> (ASCII <code>00</code>). In Perl double-quoted and regex literals, it can be represented by <code>\\c@</code>, <code>\\0</code>, <code>\\x00</code>, etc</p>\n\n<pre><code>$str =~ s/\\c@/\"/g;\n</code></pre>\n\n<p>When most people try to remove NULs, it's because they have undecoded UTF-16. The solution is actually to perform proper decoding and encoding. It's unclear if that's the problem you are facing.</p>\n"}], "owner": {"reputation": 4276, "user_id": 1210178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/09da6b70eb0b6b64fd5e3258c95f0e0c?s=128&d=identicon&r=PG", "display_name": "broccoli", "link": "https://stackoverflow.com/users/1210178/broccoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1422236699, "creation_date": 1422207720, "last_edit_date": 1422213992, "question_id": 28139422, "link": "https://stackoverflow.com/questions/28139422/remove-character-from-a-string", "title": "Remove ^@ character from a string", "body": "<p>I have the following problem. I have a CSV file that comes from an external source, and I'm trying to read it using the <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\"><code>Text::CSV</code></a> module in the following way</p>\n\n<pre><code>$csv = Text::CSV-&gt;new({binary =&gt; 1}) or die \"Could not open $filename : \".Text::CSV-&gt;error_diag();\n\nbinmode(\"stdout\", \":utf8\");\n\nopen $fh, \"&lt;encoding(utf8)\", $filename or die \"Could not open $filename : $!\\n\";\n\nwhile ($row = $csv-&gt;getline($fh)) {\n    for ($i = 0; $i &lt;= $#{$row}; $i++) {\n        $data = encode(\"utf8\", $row-&gt;[$i]);\n        print \"$data\\n\";\n    }\n    print \"$row-&gt;[$keycol] =&gt; $row-&gt;[$valcol]\\n\";\n    $hash{$row-&gt;[$keycol]} = $row-&gt;[$valcol];\n}\n\n$csv-&gt;eof() or die \" Error--- $i \".($csv-&gt;error_diag()).\"\\n\";\n</code></pre>\n\n<p>However, the program dies with an error after reading in a few lines from that file.</p>\n\n<p>On inspection I found out that there are columns in the data which are supposed to be enclosed in quotes <code>\" ... \"</code> but only one of the quotes is there. Instead of a matching quote there is this odd <code>^@</code> character there. How do I replace all those <code>^@</code> characters with quotes? It isn't simple ASCII so I can't do <code>$str =~ s/\\^\\@/\\\"/g</code>.</p>\n"}, {"tags": ["python", "bash", "perl", "watchdog"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1422209270, "post_id": 28139283, "comment_id": 44650835, "body": "I presume there&#39;s a pause of some sort between the polls. How about taking the loop out of your program, so that it just interrogates the hardware once, records the result, and exits. Then you can run it as a <code>cron</code> job which will run at the same frequency, and the question of restarting doesn&#39;t arise. All that happens if a poll fails is that an entry is missing from the data sequence."}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422212062, "post_id": 28139283, "comment_id": 44651826, "body": "@Borodin there is a pause, but the polling occurs every 10 seconds, so a cron job would not work, as it only allows the script to be executed once a minute (vice the needed 10 seconds)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1422213030, "post_id": 28139283, "comment_id": 44652192, "body": "Then your Perl program should <code>fork</code> a child Perl process every ten seconds and let that do the poll. The parent process can <code>kill</code> and harvest the most recent child before spawning a new one, although your requirement to restart <i>\u201cif [the process is] no longer writing to the appropriate text files \u201d</i> is a little worrying. What sort of error do you imagine here, and how could it be tested? I would write an answer with some sample code, but I am using a tablet at present and can&#39;t test anything."}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1422213672, "post_id": 28139283, "comment_id": 44652426, "body": "@Borodin thank you.  I&#39;m not overly familiar with forking a sub-process in perl, but will look it up. As for the error of not appropriately writing files, I&#39;m not sure of the root cause just yet, but have seen cases where the PID still exists for the polling bash file, yet the output text files are no longer being updated.  That led me to monitoring the writing of those text files and restarting if they are stagnant.  I&#39;m making the assumption that it could be a hiccup in the network or a polled device that fails and for whatever reason halts the polling script.  Does that make sense?"}], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1422220643, "post_id": 28141221, "comment_id": 44654803, "body": "Thank you.  I will give this a shot.  This may do exactly what I need.  As @Borodin mentioned above, this doesn&#39;t entirely account for the &quot;write&quot; failure I described, but as I think you&#39;re comment elude to, I may be able to run another subroutine that tests the output files are being appended properly.  I will work the problem more and let you know if this solves my issue.  Thank you again."}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1422322542, "post_id": 28141221, "comment_id": 44694895, "body": "I&#39;m having a bit of trouble with the dereferencing call to <code>sub fetch_cpu_stats</code> happening in line 30 <code>&amp;{$test_list{$test}}($target);</code>.  I receive the following error: &quot;Can&#39;t use an undefined value as a subroutine reference&quot;.  I&#39;m not sure where the issue is here.  The syntax looks correct to me and <code>$test</code> seems to get the appropriate coderef.  However, if I call <code>&amp;fetch_cpu_stats</code> directly instead of going through the <code>%test_list</code> hash dereference it seems to work ok.  Any thoughts about this? Again, I&#39;m very rusty and may be missing something obvious here."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1422384625, "post_id": 28141221, "comment_id": 44724775, "body": "That should work, but as an alternative - <code>$test_list{$test} -&gt; ($target);</code> should do similar."}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1422396535, "post_id": 28141221, "comment_id": 44731036, "body": "Yeah, I tried that too, but get the same result.  Oh well, that&#39;s in the weeds and I&#39;ll work through it.  Appreciate your help with the overall problem.  I&#39;ll explore some options to verify the log files are being written periodically as well, maybe a subroutine that&#39;s paired with the cronjob to verify this script is running.  Thanks."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1422468746, "post_id": 28141221, "comment_id": 44765120, "body": "It may be there&#39;s a syntax error in the code somewhere, so it might be worth making another post."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1422218432, "creation_date": 1422218432, "answer_id": 28141221, "question_id": 28139283, "link": "https://stackoverflow.com/questions/28139283/watchdog-like-support-bash-perl-or-python/28141221#28141221", "title": "Watchdog-like support (bash perl or python)", "body": "<p>I'm doing something rather similar for monitoring a bunch of devices. Depends a bit on polling frequency though - I'm spawning via cron, at 3m intervals.</p>\n\n<p>Bear in mind 10s samples are potentially quite intensive, and may not always be necessary - it does depend a bit on what you're aiming for. </p>\n\n<p>Anyway, the tool for the job is Parallel::ForkManager. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Parallel::ForkManager;\n\nmy @targets = qw( server1 server2 );\n\nmy %test_list = { 'fetch_cpu' =&gt; \\&amp;fetch_cpu_stats, };\n\n\nsub fetch_cpu_stats {\n    my ($target) = @_;\n    ## do something to $target;\n    open( my $ssh_results, \"-|\", \"ssh -n $target uptime\" )\n        or die $!;\n    while (&lt;$ssh_results&gt;) {\n        print;\n    }\n}\n\nmy $manager = Parallel::ForkManager-&gt;new(10);\n\nwhile (1) {\n    foreach my $test ( keys %test_list ) {\n        foreach my $target (@targets) {\n            $manager-&gt;start and next;\n            print \"$$ starting $test\\n\";\n            &amp;{$test_list{$test}}($target);\n            $manager -&gt; finish;\n        }\n    }\n    sleep 10;\n}\n</code></pre>\n\n<p>This'll spawn up to 10 concurrent 'tests', and re-run them every 10s. It's probably worth some sort of 'lock' process (using <code>flock</code>) to make it easy to use cron check if your 'daemon' script is still running.</p>\n\n<p>That would be something like:</p>\n\n<pre><code>open ( my $self, \"&lt;\", $0 ) or die $!;\nflock ( $self, 2 | 4 ) or die \"$0 already running\"; \n</code></pre>\n\n<p>You can then fire it in cron every so often, and it'll restart itself if it's died for some reason. </p>\n\n<p>But anyway - you can have multiple subroutines (e.g. your test scripts) all spawned autonomously (and for bonus points - they'll run in parallel). </p>\n"}], "owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "accepted_answer_id": 28141221, "answer_count": 1, "score": 0, "last_activity_date": 1422218432, "creation_date": 1422206987, "last_edit_date": 1495542511, "question_id": 28139283, "link": "https://stackoverflow.com/questions/28139283/watchdog-like-support-bash-perl-or-python", "title": "Watchdog-like support (bash perl or python)", "body": "<p>I have a bash script (that I'm converting to perl) that runs in an infinite loop (<code>while true; do</code>) to poll devices on our network and log their responses to a text file.  With each iteration of the (<code>while</code>) loop, the text file for that device is appended with its latest information.</p>\n\n<p>I would like to have this script always run -- if it gets hung, crashes, or is no longer writing to the appropriate text files -- it should be restarted.</p>\n\n<p>Following the advice posted in <a href=\"https://stackoverflow.com/questions/696839/how-do-i-write-a-bash-script-to-restart-a-process-if-it-dies\">this</a> StackOverflow question, I could write the following bash script:</p>\n\n<pre><code>until myserver; do\n  echo \"Server 'myserver' crashed with exit code $?.  Respawning..\" &gt;&amp;2\n  sleep 1\ndone\n</code></pre>\n\n<p>where <code>myserver</code> is the polling program.  This would account for issues with the script unexpectedly crashing or hanging, presuming a non-zero exit code were issued in those cases.  However, if the script doesn't completely fail/exit, but fails in a way that just stops it from writing out to the text files -- I'd like to restart the script in this case as well.  This is where a watchdog-like script would come in.  I could use Python's <code>watchdog</code> and write a script that uses <code>Observer</code> library to monitor the text files being generated, <a href=\"http://brunorocha.org/python/watching-a-directory-for-file-changes-with-python.html\" rel=\"nofollow noreferrer\">like in this example</a>. I would trigger on stagnant text files to issue a non-zero exit for the python script and then augment the above bash script as follows:</p>\n\n<pre><code>until [myserver -o pythonMon]; do\n  echo \"Server 'myserver' crashed with exit code $?.  Respawning..\" &gt;&amp;2\n  sleep 1\ndone\n</code></pre>\n\n<p>where <code>pythonMon</code> is the python script monitoring whether or not the text files are updating properly.  Unfortunately, this approach requires three scripts (the main polling script and two monitoring scripts); it's a bit of a kludge .  I'm looking to optimize/simplify this approach.  Any recommendations?  Ideally, I'd have a single script (at least a single monitoring script) to keep the polling script running versus two.  Would there be a way to add file monitoring directly into the bash or perl code?\nThis is running on 64-bit, CentOS 6.5  </p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1422204872, "post_id": 28138812, "comment_id": 44649271, "body": "Provide example of input and expected output."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1422204873, "post_id": 28138812, "comment_id": 44649272, "body": "You can use the non-word-boundary anchor <code>\\B</code>. Something like <code>s&#47;\\B[A-Z]+&#47;&#47;g</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422205904, "post_id": 28138812, "comment_id": 44649687, "body": "What&#39;s your definition of a word?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1422207092, "post_id": 28138812, "comment_id": 44650085, "body": "You sure you want to <i>delete</i> upper case letters, or just lower case them?  Does &quot;CamelCase&quot; come out as &quot;Camelcase&quot; or &quot;Camelase&quot;... some sort of enzyme for dissolving camels... eww."}, {"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1422207119, "post_id": 28138812, "comment_id": 44650090, "body": "By word, I mean string. Each string is generally an english word. However, some of the words/strings have random uppercase letters on the end. I want to remove the uppercase letters attached to the end of the string. The input has a string/word on a separate line. An example would be &quot;WordSRR&quot;. I would want the output to be &quot;Word&quot;."}, {"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1422207269, "post_id": 28138812, "comment_id": 44650140, "body": "I need to delete uppercase letters trailing the end of a word."}], "answers": [{"comments": [{"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1422206606, "post_id": 28139136, "comment_id": 44649896, "body": "An example of the input: WordS MorewordsRRR. Each on a separate line. I  would want output similar to: Word Morewords. Each on a separate line."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1422207125, "post_id": 28139136, "comment_id": 44650094, "body": "@Andrew Taylor, Sorry, I fail to see the point of your last comment."}, {"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1422207415, "post_id": 28139136, "comment_id": 44650185, "body": "This is an example of the input and expected output: <a href=\"http://pastebin.com/GPfsJff3\" rel=\"nofollow noreferrer\">pastebin.com/GPfsJff3</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1422207495, "post_id": 28139136, "comment_id": 44650214, "body": "I underdstood what you said; I just don&#39;t know why you&#39;re telling me such things. What&#39;s your point?"}, {"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1422208253, "post_id": 28139136, "comment_id": 44650468, "body": "I was just trying to better clarify the situation. And I was asked to &#39;define a word&#39;. Thanks for your help."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1422206204, "creation_date": 1422206204, "answer_id": 28139136, "question_id": 28138812, "link": "https://stackoverflow.com/questions/28138812/remove-all-uppercase-letters-in-a-string-except-the-first-letter-using-perl/28139136#28139136", "title": "Remove all uppercase letters in a string except the first letter using perl", "body": "<p>What's your definition of a word? If you're just looking at letters, you almost had it. You want uppercase following any letter, not just lowercase letters.</p>\n\n<pre><code>$ perl -E'$_ = \"ABcDe\"; s/\\pL\\K\\p{Lu}+//g; say'\nAce\n</code></pre>\n"}], "owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "accepted_answer_id": 28139136, "answer_count": 1, "score": 1, "last_activity_date": 1422210948, "creation_date": 1422204292, "last_edit_date": 1422210948, "question_id": 28138812, "link": "https://stackoverflow.com/questions/28138812/remove-all-uppercase-letters-in-a-string-except-the-first-letter-using-perl", "title": "Remove all uppercase letters in a string except the first letter using perl", "body": "<p>I have a word list imported into an array. Many of the words start with a capital letter. So many of the words may start with an uppercase letter, this is okay. I want to delete all occurrences of uppercase letters unless it's the first letter of the word.</p>\n\n<pre><code>use strict;\n\nmy $filter_file = \"filter.txt\";\nmy $filtered_file = \"filtered.txt\";\nmy $file_data= \"\";\n\n\n#### Place file contents into an array ####\nopen (RESULTS, $filter_file) or die \"Unable to open file: $filter_file\\n$!\";\nmy @file_data;\n@file_data = &lt;RESULTS&gt;;\nclose(RESULTS);\n\n#### Search the array ####\nfor(@file_data) {\n# attempting different regular expression's \n   s/[[:lower:]]\\K[[:upper:]].*//;\n   s/([[:lower:]])[[:upper:]].*/$1/;\n    }\n\n#### Save filtered data to file ###\nopen (FILE, \"&gt;&gt; $filtered_file\") || die \"Unable to open file: $filtered_file\\n$!\";\nprint FILE @file_data;\nclose($filtered_file);\n</code></pre>\n"}, {"tags": ["perl", "reference"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1422199863, "post_id": 28137807, "comment_id": 44647690, "body": "Why would it be better to use a module when the same functionality can be achieved with a string?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1422203796, "post_id": 28137807, "comment_id": 44648919, "body": "@TLP: I don&#39;t understand your comment. You seem to be reiterating the OP&#39;s question."}, {"owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1422204027, "post_id": 28137807, "comment_id": 44648991, "body": "@TLP: yes, that&#39;s basically my question :-)"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1422211352, "post_id": 28137807, "comment_id": 44651565, "body": "Well, the OP asks &quot;Why is it better to use the constant pragma&quot;, and I said &quot;Why would it be better?&quot; Presumably he heard this somewhere in some context, which is why he asked the question."}], "answers": [{"comments": [{"owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "edited": false, "score": 0, "creation_date": 1422204073, "post_id": 28138680, "comment_id": 44649010, "body": "Thanks for an extensive explanation! (You have an URL included in the code section. I am not allowed to edit it.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "edited": false, "score": 0, "creation_date": 1422204431, "post_id": 28138680, "comment_id": 44649127, "body": "@jreisinger: Thanks. Fixed."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1422204420, "last_edit_date": 1422204420, "creation_date": 1422203588, "answer_id": 28138680, "question_id": 28137807, "link": "https://stackoverflow.com/questions/28137807/checking-perl-data-reference-type/28138680#28138680", "title": "Checking Perl data reference type", "body": "<p>The primary advantage that I can see is that, with <code>strict 'subs'</code> in effect, if an <em>identifier</em> is misspelled then it will raise an error, whereas misspelling a <em>string</em> will go unnoticed.</p>\n\n<p>For instance, if I write</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $data = {};\n\ndie \"I expect a hashref\" unless ref $data eq 'HSH';\n</code></pre>\n\n<p>then my code compiles with no problems, but will not run correctly. But if I had instead</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse constant HASH =&gt; ref {};\n\nmy $data = {};\n\ndie \"I expect a hashref\" unless ref $data eq HSH;\n</code></pre>\n\n<p>Then I am told</p>\n\n<pre><code>Bareword \"HSH\" not allowed while \"strict subs\" in use\n</code></pre>\n\n<p>before the program even starts to run.</p>\n\n<hr>\n\n<p>This is an appropriate place to mention the <code>reftype</code> function provided by <a href=\"https://metacpan.org/module/Scalar::Util\"><code>Scalar::Util</code></a>.</p>\n\n<p>The <code>ref</code> operator will return <code>HASH</code> if it is applied to a simple hash reference. However, if that reference has been <em>blessed</em> to turn it into a Perl object, <code>ref</code> will return the <em>name of the class</em> into which the reference has been blessed.</p>\n\n<p>An object is most often a blessed <em>hash reference</em>, but it can be formed from a reference to any type of data -- including subroutines and typeglobs. Clearly a simple <code>ref</code> will not help us to discover what underlying Perl data type has been used to create the object, so <code>reftype</code> was written to fill this gap.</p>\n\n<p>Consider this Perl program</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Scalar::Util 'reftype';\n\nmy $data = { };\n\nprint \"Plain hash reference\\n\";\nprintf \"  ref     =&gt; %s\\n\", ref $data;\nprintf \"  reftype =&gt; %s\\n\", reftype $data;\n\nbless $data, 'Class';\n\nprint \"\\nBlessed hash reference\\n\";\nprintf \"  ref     =&gt; %s\\n\", ref $data;\nprintf \"  reftype =&gt; %s\\n\", reftype $data;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Plain hash reference\n  ref     =&gt; HASH\n  reftype =&gt; HASH\n\nBlessed hash reference\n  ref     =&gt; Class\n  reftype =&gt; HASH\n</code></pre>\n\n<p>As you can see, <code>ref</code> and <code>reftype</code> return the same result for a simple hash reference, whereas only <code>reftype</code> can see behind the class of a blessed reference to see that its underlying data type is unchanged.</p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1422208143, "creation_date": 1422208143, "answer_id": 28139489, "question_id": 28137807, "link": "https://stackoverflow.com/questions/28137807/checking-perl-data-reference-type/28139489#28139489", "title": "Checking Perl data reference type", "body": "<p>@Borodin has the correct answer in this case, typo protection.  It's worth mentioning that this technique also protects you from undocumented assumptions.  If the behavior of <code>ref {}</code> were not documented, the code would continue working if it changed later.  (I can't think of a good example where it would be useful right now).</p>\n\n<p>However, the odds of the documented behavior of <code>ref</code> changing are so unlikely you should take out insurance against being hit by a dinosaur riding a meteor instead.</p>\n\n<hr>\n\n<p>You also asked about disadvantages.  There is a very small performance hit to creating constants, but this is only at startup.  We're talking milliseconds.  Once created, they carry no penalties for being used.</p>\n"}], "owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 28138680, "answer_count": 2, "score": 4, "last_activity_date": 1422208143, "creation_date": 1422197960, "last_edit_date": 1422206368, "question_id": 28137807, "link": "https://stackoverflow.com/questions/28137807/checking-perl-data-reference-type", "title": "Checking Perl data reference type", "body": "<p>When checking reference type in Perl, why is it better to use the <a href=\"http://perldoc.perl.org/constant.html\" rel=\"nofollow\">constant</a> pragma:</p>\n\n<pre><code>use constant HASH =&gt; ref {};\n\ndie \"I expect a hashref\" unless $ref_type eq HASH;\n</code></pre>\n\n<p>than a hardcoded string:</p>\n\n<pre><code>die \"I expect a hashref\" unless $ref_type eq 'HASH';\n</code></pre>\n\n<p>What are the advantages and disadvantages (if any)?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1422179225, "post_id": 28135049, "comment_id": 44642248, "body": "<a href=\"http://stackoverflow.com/a/778797/635608\">stackoverflow.com/a/778797/635608</a>"}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 1, "last_activity_date": 1422191483, "creation_date": 1422191483, "answer_id": 28136767, "question_id": 28135049, "link": "https://stackoverflow.com/questions/28135049/storing-the-output-of-a-external-command-to-a-variable-using-bactticks-in-perl/28136767#28136767", "title": "storing the output of a external command to a variable using bactticks in perl", "body": "<p>The backticks in Perl only capture standard output. If hadoop is sending the message to standard error instead, backticks won't capture it. See the perlfaq answer for <a href=\"http://perldoc.perl.org/perlfaq8.html#How-can-I-capture-STDERR-from-an-external-command%3f\" rel=\"nofollow\">How can I capture STDERR from an external command?</a> for several ways to do it. The simplest is to redirect the standard error file descriptor into the standard output file descriptor with <code>2&gt;&amp;1</code>:</p>\n\n<pre><code>$error1 = `hadoop fs -copyFromLocal $src_dir $tgt_dir 2&gt;&amp;1`;\n</code></pre>\n\n<p>Modules such as <a href=\"http://www.metacpan.org/module/Capture::Tiny\" rel=\"nofollow\">Capture::Tiny</a> are very nice as well.</p>\n"}], "owner": {"reputation": 539, "user_id": 3413587, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/043481860adb4656be6005e5cd50041e?s=128&d=identicon&r=PG&f=1", "display_name": "prasannads", "link": "https://stackoverflow.com/users/3413587/prasannads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 28136767, "answer_count": 1, "score": -1, "last_activity_date": 1422191483, "creation_date": 1422178805, "last_edit_date": 1422179105, "question_id": 28135049, "link": "https://stackoverflow.com/questions/28135049/storing-the-output-of-a-external-command-to-a-variable-using-bactticks-in-perl", "title": "storing the output of a external command to a variable using bactticks in perl", "body": "<p>I am usiing the following code to store the output of an external command in a variable. But when I print the error, I get nothing.</p>\n\n<pre><code>$error1 = `hadoop fs -copyFromLocal $src_dir $tgt_dir`;\nprint \"$error1\\n\";  # --&gt; prints nothing\n</code></pre>\n\n<p>The output of the command in <code>` `</code> is:</p>\n\n<pre><code>copyFromLocal: Cannot create file/user/file5._COPYING_. Name node is in safe mode.\n</code></pre>\n\n<p>Is there anything wrong in storing the output?</p>\n"}, {"tags": ["perl", "www-mechanize"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1422172342, "post_id": 28134329, "comment_id": 44640936, "body": "Why do you think your approach with <code>add_header</code> does not work?"}, {"owner": {"reputation": 3, "user_id": 4148236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001408616927/picture?type=large", "display_name": "rfernandez", "link": "https://stackoverflow.com/users/4148236/rfernandez"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1422172561, "post_id": 28134329, "comment_id": 44640968, "body": "because the webpage instead to show me the next webpage it is showing me a &quot;500 Internal server error&quot; (and when im sending directly from the phone itis showing me the info that needs to show)"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4148236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001408616927/picture?type=large", "display_name": "rfernandez", "link": "https://stackoverflow.com/users/4148236/rfernandez"}, "edited": false, "score": 0, "creation_date": 1422175335, "post_id": 28134528, "comment_id": 44641462, "body": "ok i will check by the way in that webpage (the webpage of the useful http headers)   we have:  x-drutt-portal-user-msisdn x-h3g-msisdn x-msisdn  which of the three is correct? or i need to send the 3?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 3, "user_id": 4148236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001408616927/picture?type=large", "display_name": "rfernandez", "link": "https://stackoverflow.com/users/4148236/rfernandez"}, "edited": false, "score": 0, "creation_date": 1422180215, "post_id": 28134528, "comment_id": 44642437, "body": "How should I now? Use of non-standard HTTP headers fully depends on what the web server wants. Ask them."}, {"owner": {"reputation": 3, "user_id": 4148236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001408616927/picture?type=large", "display_name": "rfernandez", "link": "https://stackoverflow.com/users/4148236/rfernandez"}, "edited": false, "score": 0, "creation_date": 1422206821, "post_id": 28134528, "comment_id": 44649988, "body": "ok anyway thanks for your help at least i know that im not doing it so bad =)"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 0, "last_activity_date": 1422173970, "last_edit_date": 1592644375, "creation_date": 1422173970, "answer_id": 28134528, "question_id": 28134329, "link": "https://stackoverflow.com/questions/28134329/wwwmechanize-send-custom-http-headers/28134528#28134528", "title": "WWW::Mechanize send custom HTTP headers", "body": "<blockquote>\n<p>...    $mech-&gt;add_header('x-msisdn'=&gt; $phonenumber);</p>\n<p>any idea of how i can send the HTTP header?</p>\n</blockquote>\n<p>The header gets sent (check with wireshark or similar).\nYour problem is something different.</p>\n"}], "owner": {"reputation": 3, "user_id": 4148236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001408616927/picture?type=large", "display_name": "rfernandez", "link": "https://stackoverflow.com/users/4148236/rfernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1146, "favorite_count": 0, "accepted_answer_id": 28134528, "answer_count": 1, "score": 0, "last_activity_date": 1592097801, "creation_date": 1422172138, "last_edit_date": 1592097801, "question_id": 28134329, "link": "https://stackoverflow.com/questions/28134329/wwwmechanize-send-custom-http-headers", "title": "WWW::Mechanize send custom HTTP headers", "body": "<p>Hi im making a little program for open a webpage this webpage needs to receive my msisdn for allow me to receive the login, im trying to send it  by this way</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse WWW::Mechanize;\n\nmy $target = \"http://www.example.domain/subscription/showsubscribe\";\n\nmy $user_agent = 'Mozilla/5.0 (Linux; Android 4.2.2; es-us; SAMSUNG GT-I9195L Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Version/1.0 Chrome/18.0.1025.308 Mobile Safari/535.19';\nmy $phonenumber = 'XXXXXXXXXX';\n\nmy $mech = WWW::Mechanize-&gt;new(agent=&gt;$user_agent);\n$mech-&gt;add_header('x-msisdn'=&gt; $phonenumber);\n\nmy $response = $mech-&gt;get($target);\ndie \"Error at '$target'\\n\", $response-&gt;status_line, \"\\n\nAborting\" unless $response-&gt;is_success;\nprint $mech-&gt;content;\n\n$response = $mech-&gt;response;\nfor my $key ($response-&gt;header_field_names()) {\nprint \"response[$key] = \", $response-&gt;header($key), \"\\n\";\n</code></pre>\n\n<p>the X-msisdn variable i got reading in the forum from this page: <a href=\"http://mobiforge.com/design-development/useful-x-headers\" rel=\"nofollow noreferrer\">http://mobiforge.com/design-development/useful-x-headers</a></p>\n\n<p>any idea of how i can send the HTTP header?</p>\n\n<p>thanks in advance!</p>\n"}, {"tags": ["perl", "function", "if-statement", "split"], "comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1422169387, "post_id": 28132713, "comment_id": 44640497, "body": "All string comparisons are done with operators whose names consist of two letters:  eq, ne, lt, le, ge, and gt.  For comparing numbers, you use ==, !=, &gt;=, &lt;=, etc., which are operator names composed of two symbols.  <i>Strings have operators that are spelled with letters...Strings have operators that are spelled with letters</i>."}], "answers": [{"tags": [], "owner": {"reputation": 110733, "user_id": 1009479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/wlrC5.jpg?s=128&g=1", "display_name": "Yu Hao", "link": "https://stackoverflow.com/users/1009479/yu-hao"}, "is_accepted": false, "score": 3, "last_activity_date": 1422154656, "creation_date": 1422154656, "answer_id": 28132753, "question_id": 28132713, "link": "https://stackoverflow.com/questions/28132713/split-function-usage-in-perl/28132753#28132753", "title": "Split function usage in Perl", "body": "<p><code>==</code> is used to compare numbers. To compare strings, use <code>eq</code>:</p>\n\n<pre><code>if ($val[2] eq 'gh')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 170, "user_id": 4485002, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wMffcVsLklw/AAAAAAAAAAI/AAAAAAAAAlg/FNz9_YSlWeY/photo.jpg?sz=128", "display_name": "Greg Anderson", "link": "https://stackoverflow.com/users/4485002/greg-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1422177683, "last_edit_date": 1422177683, "creation_date": 1422154729, "answer_id": 28132763, "question_id": 28132713, "link": "https://stackoverflow.com/questions/28132713/split-function-usage-in-perl/28132763#28132763", "title": "Split function usage in Perl", "body": "<p>Instead of </p>\n\n<p>if($val[2] == 'gh')</p>\n\n<p>use </p>\n\n<p>if($val[2] eq 'gh')</p>\n"}], "owner": {"reputation": 17, "user_id": 4157683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d624dfb89a37119c1ab2ba7506b7bb8?s=128&d=identicon&r=PG&f=1", "display_name": "Angie", "link": "https://stackoverflow.com/users/4157683/angie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1422177683, "creation_date": 1422154270, "last_edit_date": 1422155309, "question_id": 28132713, "link": "https://stackoverflow.com/questions/28132713/split-function-usage-in-perl", "title": "Split function usage in Perl", "body": "<p>I was using split function to split the $line by '|' and I want to check the protein name which is <code>$val[2]</code> after splitting! when I print its giving correct element but when I use it in if statement, even the given condition is false it's giving yes. </p>\n\n<p>Please tell me what's the mistake </p>\n\n<pre><code>#!/usr/bin/perl\n\n\n$line = \"&gt;sp|P01011|AACT_HUMAN| Alpha-1:-antichymotrypsin: OS=Homo sapiens GN=SERPINA3 PE=1 SV=2\";\n\nmy @val = split(/\\|/, $line);\n\nprint \" $val[2]\\n\";\n\nif($val[2] == 'gh')\n{\n   print \" \\n yes\\n\";    \n}    \nelse    \n{    \n   print \"no\";    \n}\n</code></pre>\n"}, {"tags": ["perl", "mojolicious", "mojolicious-lite"], "answers": [{"comments": [{"owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "edited": false, "score": 0, "creation_date": 1422149413, "post_id": 28132139, "comment_id": 44637049, "body": "Thank you -- I knew I must have missed something basic.  I&#39;ve moved my css and js folders into public, and now it works.  The use of the &#39;public&#39; directory is documented under <a href=\"http://mojolicio.us/perldoc/Mojolicious/Guides/Rendering\" rel=\"nofollow noreferrer\">rendering</a> and no doubt in other places too."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 2, "creation_date": 1422191023, "post_id": 28132139, "comment_id": 44645163, "body": "I&#39;ve often thought that a debugging message that says &#39;.../public/js/... does not exist&#39; would help. Maybe I should go do that :)"}], "tags": [], "owner": {"reputation": 2253, "user_id": 161727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd926f51fd711cc99e6b846dc4bc56f?s=128&d=identicon&r=PG", "display_name": "tempire", "link": "https://stackoverflow.com/users/161727/tempire"}, "is_accepted": true, "score": 7, "last_activity_date": 1422190935, "last_edit_date": 1422190935, "creation_date": 1422148201, "answer_id": 28132139, "question_id": 28131991, "link": "https://stackoverflow.com/questions/28131991/mojolicious-gives-404-when-getting-js-and-css/28132139#28132139", "title": "Mojolicious gives 404 when getting JS and CSS", "body": "<p><a href=\"http://mojolicio.us/perldoc/Mojolicious/Guides/Tutorial#Static-files\" rel=\"noreferrer\">Static files</a> are served from <em>./public</em>, relative to the lite app (<em>errorddemo.pl</em>).</p>\n\n<p>You can specify other folders by modifying the array refererence at <code>app-&gt;static-&gt;paths</code>:</p>\n\n<pre><code>push @{app-&gt;static-&gt;paths} =&gt; '.';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "edited": false, "score": 0, "creation_date": 1422293327, "post_id": 28138309, "comment_id": 44682071, "body": "Good point.  All I wanted to know was that js and css files should (normally) go within <code>public</code>.  I hadn&#39;t really thought about the implications of adding the current directory to <code>app-&gt;static-&gt;paths</code>, but I agree that it would be a bad idea.  Thanks for the tip about displaying the values of the paths being used."}], "tags": [], "owner": {"reputation": 126, "user_id": 1510250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b850d96978b5b07e2e523b81db30c26b?s=128&d=identicon&r=PG", "display_name": "Jan Henning Thorsen", "link": "https://stackoverflow.com/users/1510250/jan-henning-thorsen"}, "is_accepted": false, "score": 5, "last_activity_date": 1422201287, "creation_date": 1422201287, "answer_id": 28138309, "question_id": 28131991, "link": "https://stackoverflow.com/questions/28131991/mojolicious-gives-404-when-getting-js-and-css/28138309#28138309", "title": "Mojolicious gives 404 when getting JS and CSS", "body": "<p>I would not recommend the suggestion from tempire, since it would expose your complete project folder (including errordemo.pl and any private config files) to the public.</p>\n\n<p>In future, I would suggest that you investigated what the <code>paths</code> are set to:</p>\n\n<pre><code>warn join \":\", @{app-&gt;static-&gt;paths};\n</code></pre>\n\n<p>These are the interesting bits that will give you an idea where Mojolicious looks for static files and templates.</p>\n\n<pre><code>warn join \":\", @{app-&gt;static-&gt;paths};\nwarn join \":\", @{app-&gt;static-&gt;classes};\nwarn join \":\", @{app-&gt;renderer-&gt;paths};\nwarn join \":\", @{app-&gt;renderer-&gt;classes};\n</code></pre>\n\n<p>Note that \"paths\" have precedence before \"classes\". You can read more about the attributes here:</p>\n\n<p><a href=\"http://mojolicio.us/perldoc/Mojolicious/Static\" rel=\"noreferrer\">http://mojolicio.us/perldoc/Mojolicious/Static</a> </p>\n"}], "owner": {"reputation": 927, "user_id": 798372, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/383ba8f2609a21395b37850a84dc137f?s=128&d=identicon&r=PG", "display_name": "Chris Dennis", "link": "https://stackoverflow.com/users/798372/chris-dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1074, "favorite_count": 0, "accepted_answer_id": 28132139, "answer_count": 2, "score": 3, "last_activity_date": 1422201287, "creation_date": 1422146784, "question_id": 28131991, "link": "https://stackoverflow.com/questions/28131991/mojolicious-gives-404-when-getting-js-and-css", "title": "Mojolicious gives 404 when getting JS and CSS", "body": "<p>I'm new to Mojolicious, and I've got various things working, but I've come up against a problem which I've recreated in the following minimal bit of code.</p>\n\n<p>The problem is a simple one: I can't get it to load external CSS and JS files.  What surprises me is that it gives 404 errors as though it's trying to serve these static files as routes.  No-one else seems to be having this problem, so I've obviously done something (or missed something) foolish.</p>\n\n<p>The files in question are in the ./css and ./js directories relative to the perl file (errorddemo.pl).  I've tried with and without the leading '/', and any other variations that I could think of.</p>\n\n<p>This is the code:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Mojolicious::Lite;\nget '/' =&gt; sub {\n    my $c = shift;                                                     \n    $c-&gt;render('index');\n};            \napp-&gt;start;\n\n__DATA__\n@@ index.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    %= stylesheet '/css/bootstrap-3.3.2-dist/css/bootstrap.css'\n&lt;/head&gt;      \n&lt;body&gt;\n    &lt;p&gt;blah\n    %= javascript '/js/jquery-2.1.3.js'\n&lt;/body&gt;     \n&lt;/html&gt;\n</code></pre>\n\n<p>When I run <code>morbo errordemo.pl</code> and browse to :3000, I get this:</p>\n\n<pre><code>[Sun Jan 25 00:24:04 2015] [debug] GET \"/\".\n[Sun Jan 25 00:24:04 2015] [debug] Routing to a callback.\n[Sun Jan 25 00:24:04 2015] [debug] Rendering template \"index.html.ep\" from DATA section.\n[Sun Jan 25 00:24:04 2015] [debug] 200 OK (0.005127s, 195.046/s).\n[Sun Jan 25 00:24:04 2015] [debug] GET \"/css/bootstrap-3.3.2-dist/css/bootstrap.css\".\n[Sun Jan 25 00:24:04 2015] [debug] Template \"not_found.development.html.ep\" not found.\n[Sun Jan 25 00:24:04 2015] [debug] Template \"not_found.html.ep\" not found.\n[Sun Jan 25 00:24:04 2015] [debug] Rendering inline template \"3e3201ab0667c1fc7f39089209f0435c\".\n[Sun Jan 25 00:24:04 2015] [debug] Rendering inline template \"b2d451b47e2053ce583cbfdf7bcc6006\".\n[Sun Jan 25 00:24:04 2015] [debug] 404 Not Found (0.045663s, 21.900/s).\n[Sun Jan 25 00:24:04 2015] [debug] GET \"/js/jquery-2.1.3.js\".\n[Sun Jan 25 00:24:04 2015] [debug] Template \"not_found.development.html.ep\" not found.\n[Sun Jan 25 00:24:04 2015] [debug] Template \"not_found.html.ep\" not found.\n[Sun Jan 25 00:24:04 2015] [debug] Rendering cached inline template \"3e3201ab0667c1fc7f39089209f0435c\".\n[Sun Jan 25 00:24:04 2015] [debug] Rendering cached inline template \"b2d451b47e2053ce583cbfdf7bcc6006\".\n[Sun Jan 25 00:24:04 2015] [debug] 404 Not Found (0.009863s, 101.389/s).\n</code></pre>\n\n<p>The generated HTML is:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;link href=\"/css/bootstrap-3.3.2-dist/css/bootstrap.css\" rel=\"stylesheet\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p&gt;blah\n    &lt;script src=\"/js/jquery-2.1.3.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["regex", "perl", "hash"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1422146762, "post_id": 28131972, "comment_id": 44636557, "body": "You should ask a question about programming, including the source code you want to ask about. (Not an entire program on an external link, which nobody is going to read)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422163548, "post_id": 28131972, "comment_id": 44639575, "body": "Are you seriously asking how to assign the string <code>#include &lt;iostream&gt; int main(){return 0;}</code> to <code>$sourcecode</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1422264864, "creation_date": 1422264864, "answer_id": 28147569, "question_id": 28131972, "link": "https://stackoverflow.com/questions/28131972/how-to-call-a-sub-hash-function/28147569#28147569", "title": "How to call a sub hash($) function", "body": "<p>A subroutine in perl, is <em>defined</em> using <code>sub</code> and called using the subroutine name. </p>\n\n<p>So a subroutine called <code>hash</code> (which is a really bad choice of name, because hashes are something else in Perl) would be defined:</p>\n\n<pre><code>sub hash($) { \n    my ( $first_arg ) = @_; \n\n    my $some_result = $first_arg;  \n\n    return $some_result;\n}\n</code></pre>\n\n<p>The <code>($)</code> in the subroutine definition is a prototype, which says 'this hash expects a single scalar'. </p>\n\n<p>To call this subroutine:</p>\n\n<pre><code> my $subroutine_output = hash(\"some test text\");\n</code></pre>\n\n<p>It's as simple as that. (But seriously - don't call a subroutine <code>hash</code> - that's just asking for grief). </p>\n"}], "owner": {"reputation": 1, "user_id": 4490978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33dfe6829841ec106a68aa865901f4b9?s=128&d=identicon&r=PG&f=1", "display_name": "Endudu Eklolo", "link": "https://stackoverflow.com/users/4490978/endudu-eklolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "closed_date": 1422302168, "answer_count": 1, "score": -5, "last_activity_date": 1422264864, "creation_date": 1422146552, "last_edit_date": 1422149533, "question_id": 28131972, "link": "https://stackoverflow.com/questions/28131972/how-to-call-a-sub-hash-function", "closed_reason": "Needs details or clarity", "title": "How to call a sub hash($) function", "body": "<p>Here is a source-code of a short program:</p>\n\n<p><a href=\"http://info.fenster.name/misc/task_hash.pm.txt\" rel=\"nofollow\">http://info.fenster.name/misc/task_hash.pm.txt</a></p>\n\n<p>there's a comment</p>\n\n<p>Usage: <code>$hashref = hash($sourcecode);</code></p>\n\n<p>but I have no experience with Perl.</p>\n\n<p>Please, write an example, how to invoke those function, for example, with string <code>\u00ab#include &lt;iostream&gt; int main(){return 0;}\u00bb</code></p>\n\n<p><strong>upd. code:</strong></p>\n\n<p><strong>sub hash($)\n{\n...\n}\nhow to invoke it?</strong> </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1422145184, "post_id": 28131732, "comment_id": 44636238, "body": "it doesn&#39;t help much :("}], "tags": [], "owner": {"reputation": 565, "user_id": 4437053, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/hVLEw.jpg?s=128&g=1", "display_name": "Steve Lloyd", "link": "https://stackoverflow.com/users/4437053/steve-lloyd"}, "is_accepted": false, "score": 0, "last_activity_date": 1422190847, "last_edit_date": 1422190847, "creation_date": 1422144263, "answer_id": 28131732, "question_id": 28131528, "link": "https://stackoverflow.com/questions/28131528/what-does-exactly-perl-pi-e-do/28131732#28131732", "title": "What does exactly perl -pi -e do?", "body": "<p>From the <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">perlrun documentation</a>:</p>\n\n<pre><code>-p assumes an input loop around your script. Lines are printed.\n-i files processed by the &lt; &gt; construct are to be edited in place.\n-e may be used to enter a single line of script. Multiple -e commands may be given to build up a multiline script.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1422219077, "post_id": 28135314, "comment_id": 44654281, "body": "Very interesting answer. I am still a bit confused because I don&#39;t see any <code>open</code> or <code>print $fh $_</code> statement in this output. How does Perl open the file? <code>&lt;ARGV&gt;</code> is to me similar to `my @ARGV = qw/foo.txt/; my $bar = &lt;ARGV&gt; where I will get an error. I am missing something right?"}, {"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 2, "creation_date": 1422219910, "post_id": 28135314, "comment_id": 44654566, "body": "@coin The I/O Operators section of <code>[perlop](http:&#47;&#47;perldoc.perl.org&#47;perlop.html)</code> has a part beginning with &quot;The null filehandle &lt;&gt; is special&quot; that offers a pretty good explanation."}, {"owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "edited": false, "score": 2, "creation_date": 1422220736, "post_id": 28135314, "comment_id": 44654833, "body": "Yes, the opening and the closing of the output files is not shown in the deparse output. It is handled by the inplace edit magic. The section for &#39;-i&#39; in &#39;perldoc perlrun&#39; explains that. The <code>print $_</code> can be seen in the continue block. No $fh is needed because the inplace edit magic selects the default output filehandle. You can do something similar with the <code>select</code> command.  <code>&lt;ARGV&gt;</code> is as I understand it a synonmy for <code>&lt;&gt;</code>."}], "tags": [], "owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "is_accepted": true, "score": 8, "last_activity_date": 1422184290, "last_edit_date": 1422184290, "creation_date": 1422181070, "answer_id": 28135314, "question_id": 28131528, "link": "https://stackoverflow.com/questions/28131528/what-does-exactly-perl-pi-e-do/28135314#28135314", "title": "What does exactly perl -pi -e do?", "body": "<p>You can inspect the code actually used by Perl with the core module B::Deparse. This compiler backend module is activated with the option <code>-MO=Deparse</code>.</p>\n\n<pre><code>$ perl -MO=Deparse -p -i -e 's/X/U/' ./*.txt\nBEGIN { $^I = \"\"; }\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    s/X/U/;\n}\ncontinue {\n    die \"-p destination: $!\\n\" unless print $_;\n}\n-e syntax OK\n</code></pre>\n\n<p>Thus perl is looping over the lines in the given files, executes the code with $_ set to the line and prints the resulting $_.</p>\n\n<p>The magic variabe $^I is set to an empty string. This turns on in place editing. In place editing is explained in perldoc perlrun. There is no check whether the file is unchanged. Thus the modified time of the edited file is always updated. Apparently the modified time of the backup file is the same as the modified time of the original file.</p>\n\n<p>Using the -0 flag you can set the input record separator for using \"\\r\" for your Mac files.</p>\n\n<pre><code>$ perl -e \"print qq{aa\\raa\\raa}\" &gt; t.txt\n$perl -015 -p -i.ori -e 's/a/b/' t.txt\n$cat t.txt\nba\n$ perl -MO=Deparse -015 -p -i.ori -e 's/a/b/'.txt\nBEGIN { $^I = \".ori\"; }\nBEGIN { $/ = \"\\r\"; $\\ = undef; }\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    s/a/b/;\n}\ncontinue {\n    die \"-p destination: $!\\n\" unless print $_;\n}\n-e syntax OK\n</code></pre>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2935, "favorite_count": 0, "accepted_answer_id": 28135314, "answer_count": 2, "score": 2, "last_activity_date": 1422190847, "creation_date": 1422142575, "last_edit_date": 1422190756, "question_id": 28131528, "link": "https://stackoverflow.com/questions/28131528/what-does-exactly-perl-pi-e-do", "title": "What does exactly perl -pi -e do?", "body": "<p>I would like to know what is the equivalent code that Perl runs when executed with the options <code>perl -pi -e</code>? </p>\n\n<p>On some SO question I can read this:</p>\n\n<pre><code>while (&lt;&gt;) {\n    ...     # your script goes here\n} continue {\n    print;\n}\n</code></pre>\n\n<p>But this example does not show the part where the file is saved. </p>\n\n<p>How does Perl determine the EOL? Does it touch the file when no changes occured? For example if I have a old MAC file (<code>\\r</code> only). How does it deal with <code>s/^foo/bar/gm</code>?</p>\n\n<p>I tried to use the Perl debugger but it doesn't really help. So I am just trying to guess: </p>\n\n<pre><code>#!/usr/bin/env perl\n\nmy $pattern = shift;\nmap &amp;process, @ARGV;\n# perl -pi -e PATTERN &lt;files&gt;...\nsub process {\n    next unless -f;\n    open my $fh, '&lt;', $_;\n    my $extract;\n    read $fh, $extract, 1024;\n    seek &amp;fh, 0, 0;\n    if ($extract =~ /\\r\\n/) {\n        $/ = \"\\r\\n\";\n    } elsif ($extract =~ /\\r[^\\n]/) {\n        $/ = \"\\r\";\n    } else {\n        $/ = \"\\n\";\n    }\n\n    my $out = '';\n    while(&lt;&amp;fh&gt;) {\n        my $__ = $_;\n\n        eval $pattern;\n\n        my $changes = 1 if $_ ne $__;\n        $out .= $_;\n    }\n\n    if($changes)\n    {\n        open my $fh, '&gt;', $_;\n        print $fh $out;\n    }\n    close &amp;fh;\n}\n</code></pre>\n"}, {"tags": ["perl", "dist-zilla"], "answers": [{"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 0, "last_activity_date": 1423134170, "creation_date": 1423134170, "answer_id": 28342273, "question_id": 28128283, "link": "https://stackoverflow.com/questions/28128283/how-to-make-dzil-test-pass-command-line-arguments-to-makefile-pl/28342273#28342273", "title": "How to make &quot;dzil test&quot; pass command line arguments to Makefile.PL?", "body": "<p>Passing arguments to <code>Makefile.PL</code> simply isn't supported by <code>dzil</code> and probably will never be. As a work-around, I add the contents of <code>PERL_MM_OPT</code> to a local copy of <code>@ARGV</code> before calling into <code>Devel::CheckLib</code>:</p>\n\n<pre><code>{\n    local @ARGV;\n    unshift(@ARGV, ExtUtils::MakeMaker::_shellwords($ENV{PERL_MM_OPT} || ''));\n    check_lib_or_exit(...);\n}\n</code></pre>\n\n<p>Ugly, but works.</p>\n"}], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 28342273, "answer_count": 1, "score": 3, "last_activity_date": 1423134170, "creation_date": 1422120986, "last_edit_date": 1422124422, "question_id": 28128283, "link": "https://stackoverflow.com/questions/28128283/how-to-make-dzil-test-pass-command-line-arguments-to-makefile-pl", "title": "How to make &quot;dzil test&quot; pass command line arguments to Makefile.PL?", "body": "<p>For one of my XS based Perl modules that depends on a C library, I use <a href=\"https://metacpan.org/module/Dist::Zilla\" rel=\"nofollow\"><code>Dist::Zilla</code></a> together with with the <a href=\"https://metacpan.org/module/Dist::Zilla::Plugin::MakeMaker::Awesome\" rel=\"nofollow\"><code>MakeMaker::Awesome</code></a> plugin to create my <code>Makefile.PL</code>.</p>\n\n<p>In order to pass options to <code>Makefile.PL</code> (especially <code>INC</code> and <code>LIBS</code>), I used to set the <code>PERL_MM_OPT</code> environment variable which worked fine so far.</p>\n\n<p>Now I want to use <a href=\"https://metacpan.org/module/Devel::CheckLib\" rel=\"nofollow\"><code>Devel::CheckLib</code></a> to check for the presence of the C library. <code>Devel::CheckLib</code> also supports <code>INC</code> and <code>LIBS</code> when supplied via the command line, but it doesn't read these options from <code>PERL_MM_OPT</code>.</p>\n\n<p>How can I make <code>dzil test</code> pass command line arguments to <code>Makefile.PL</code>?</p>\n\n<p>From a quick look at <a href=\"https://metacpan.org/source/RJBS/Dist-Zilla-5.031/lib/Dist/Zilla/Plugin/MakeMaker/Runner.pm#L38\" rel=\"nofollow\">the source of the <code>MakeMaker::Runner</code> plugin</a> this doesn't seem to be supported. Is there another work-around?</p>\n"}, {"tags": ["java", "python", "perl", "ubuntu"], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 3609450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07af3e370d8d6c2beed5e20616deaaad?s=128&d=identicon&r=PG&f=1", "display_name": "efrem", "link": "https://stackoverflow.com/users/3609450/efrem"}, "edited": false, "score": 0, "creation_date": 1422120736, "post_id": 28128173, "comment_id": 44629340, "body": "Great! So there is a way!The problem is that I have to specify the line where the string is, can I write a python or bash script and call it in the option flag?"}], "tags": [], "owner": {"reputation": 20303, "user_id": 2333222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6705fd44c36d033f0ceae77259913e74?s=128&d=identicon&r=PG", "display_name": "SubOptimal", "link": "https://stackoverflow.com/users/2333222/suboptimal"}, "is_accepted": true, "score": 1, "last_activity_date": 1422120242, "creation_date": 1422120242, "answer_id": 28128173, "question_id": 28128088, "link": "https://stackoverflow.com/questions/28128088/pass-python-java-perl-option-using-shell-command/28128173#28128173", "title": "Pass Python/JAVA/Perl option using shell command", "body": "<p>If the option file contain only a single line you could do</p>\n\n<pre><code>python &lt;Prog_X.py&gt; input -option1 xxxx -option2 $(cat option.txt) -out\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4490169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiHL5.jpg?s=128&g=1", "display_name": "689Shinigami", "link": "https://stackoverflow.com/users/4490169/689shinigami"}, "is_accepted": false, "score": 0, "last_activity_date": 1422120436, "creation_date": 1422120436, "answer_id": 28128205, "question_id": 28128088, "link": "https://stackoverflow.com/questions/28128088/pass-python-java-perl-option-using-shell-command/28128205#28128205", "title": "Pass Python/JAVA/Perl option using shell command", "body": "<p>I have already created a file copier for only read text files for java sometime ago, so all you have to do is just change the java code in it to the other languages and confirm that it works\n<br>I've only ran it in JCreator so I don't know how it'll work on something else\n<br><a href=\"http://ideone.com/g7mRZ1\" rel=\"nofollow\"><code>File Copier Code</code></a></p>\n"}], "owner": {"reputation": 433, "user_id": 3609450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07af3e370d8d6c2beed5e20616deaaad?s=128&d=identicon&r=PG&f=1", "display_name": "efrem", "link": "https://stackoverflow.com/users/3609450/efrem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 28128173, "answer_count": 2, "score": 0, "last_activity_date": 1424211177, "creation_date": 1422119756, "last_edit_date": 1424211177, "question_id": 28128088, "link": "https://stackoverflow.com/questions/28128088/pass-python-java-perl-option-using-shell-command", "title": "Pass Python/JAVA/Perl option using shell command", "body": "<p>I am using several programs written in JAVA, Pyhton, and Perl, invoking them via command line.</p>\n\n<p>I am often performing the same task on multiple files and I would like use a </p>\n\n<pre><code>for\n</code></pre>\n\n<p>loop instead.\nHowever, there are some program options that should be adjusted for each file. I thought to store the strings describing the options in text files and copy them into the flag corresponding to the option.\nFor example for a python program:</p>\n\n<pre><code>python &lt;Prog_X.py&gt; input -option1 xxxx -option2 &lt;here I want to copy content of File.txt&gt; -out\n</code></pre>\n\n<p>I am not quite sure how to do that. Maybe it is a basic thing but I cannot find a way around it.</p>\n\n<p>Any idea how could I do that?</p>\n"}, {"tags": ["sql", "perl"], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1422127075, "post_id": 28127636, "comment_id": 44631434, "body": "Please leave a comment when down voting correct answer."}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": true, "score": 2, "last_activity_date": 1422117017, "creation_date": 1422117017, "answer_id": 28127636, "question_id": 28127397, "link": "https://stackoverflow.com/questions/28127397/how-to-link-three-distinct-arrays-same-size-of-elements-into-a-sql-table/28127636#28127636", "title": "How to link three distinct arrays (same size of elements) into a sql table?", "body": "<pre><code>my @day     = (1,1,1,2,2,2,3,3,3);\nmy @product = qw(banana apple pear orange cherry strawberry blueberry yogurt lettuce);\nmy @total   = (22,44,67,34,76,44,67,45,86);\nmy $cnt     = @day - 1;\n\nfor my $i (0..$cnt) {\n    $insert_products_total-&gt;execute($day[$i], $product[$i], $total[$i]);\n}\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 2630774, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7ca1ba33552a4cc51deafc8a0fa544ae?s=128&d=identicon&r=PG", "display_name": "Samuel Donadelli", "link": "https://stackoverflow.com/users/2630774/samuel-donadelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 28127636, "answer_count": 1, "score": 0, "last_activity_date": 1422117017, "creation_date": 1422115779, "question_id": 28127397, "link": "https://stackoverflow.com/questions/28127397/how-to-link-three-distinct-arrays-same-size-of-elements-into-a-sql-table", "title": "How to link three distinct arrays (same size of elements) into a sql table?", "body": "<p>I have three arrays with nine elements each one: </p>\n\n<pre><code>@day (1,1,1,2,2,2,3,3,3)\n\n@product (banana, apple, pear, orange, cherry, strawberry, blueberry, yogurt, lettuce)\n\n@total (22,44,67,34,76,44,67,45,86)\n</code></pre>\n\n<p>I will insert each of these elements in a table: </p>\n\n<pre><code>my $insert_products = $dbh_ref-&gt;prepare(q{insert into products_total(day,product,total) values(?,?,?)});\n</code></pre>\n\n<p>I tried to use the following command: </p>\n\n<pre><code>foreach my $day (@day) {\n\n     foreach my $product (@product) {\n\n         foreach my $total (@total) {\n\n   $insert_products_total-&gt;execute($day,$domain,$domain_count);  \n                                    }\n                                    }\n                        }\n</code></pre>\n\n<p>This foreach creates a massive amount of rows. That is not my goal. My intention is to produce a simple table like this: </p>\n\n<pre><code>day  product    total\n1    banana     22\n1    apple      44\n1    pear       67\n2    orange     34\n2    cherry     76\n2    strawberry 44\n3    blueberry  67\n3    yogurt     45\n3    lettuce    86\n</code></pre>\n\n<p>Any help in this matter is appreciated,</p>\n"}, {"tags": ["linux", "apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 5282, "user_id": 1003815, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a2de7b72452cde6ac37a07e506d68149?s=128&d=identicon&r=PG", "display_name": "RTF", "link": "https://stackoverflow.com/users/1003815/rtf"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1422109955, "post_id": 28126351, "comment_id": 44626107, "body": "I know, they&#39;re almost identical, but in that Q I was asking specifically about the array version of the <code>system</code> call to prevent command injection. In any case, <b>none</b> of those solutions will work for me, resulting in the same behavior described in this question. Also, when I accepted the answer for that question, I wasn&#39;t properly testing so I didn&#39;t realize that it still wasn&#39;t working."}], "answers": [{"comments": [{"owner": {"reputation": 5282, "user_id": 1003815, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a2de7b72452cde6ac37a07e506d68149?s=128&d=identicon&r=PG", "display_name": "RTF", "link": "https://stackoverflow.com/users/1003815/rtf"}, "edited": false, "score": 0, "creation_date": 1422117468, "post_id": 28127623, "comment_id": 44628326, "body": "Brilliant, thank you so much, it works. I understand what your saying about the cause of the problem, but I&#39;m not sure I understand the solution. Why does redirecting /dev/null to stdin, stdout and stderr solve the problem?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5282, "user_id": 1003815, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a2de7b72452cde6ac37a07e506d68149?s=128&d=identicon&r=PG", "display_name": "RTF", "link": "https://stackoverflow.com/users/1003815/rtf"}, "edited": false, "score": 1, "creation_date": 1422117821, "post_id": 28127623, "comment_id": 44628430, "body": "I have just improved the explanation in my answer."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1422118758, "post_id": 28127623, "comment_id": 44628722, "body": "So based on what you said, if the tree is chained by STDOUTs (writer is set to child&#39;s), why wouldn&#39;t redirecting the STDOUT be enough? Why the need for STDIN redirection? I think I&#39;m missing something."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 1, "creation_date": 1422119445, "post_id": 28127623, "comment_id": 44628929, "body": "@vol7ron, Providing a new STDIN is just common sense. Why would the child want to read from the pipe used by the web server to communicate the request to the CGI script? No good can came from that. As for STDERR, it&#39;s a pipe to the web server just like STDOUT."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422119557, "post_id": 28127623, "comment_id": 44628957, "body": "Daemon::Daemonize shows what you normally want to do when creating a disjointed process. In this case, the shell handles the double-forking and creating the new session, leaving you the job of providing something for STD*."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1422120102, "post_id": 28127623, "comment_id": 44629109, "body": "I don&#39;t know what the child is doing so I couldn&#39;t speculate why it would or wouldn&#39;t. I&#39;m just trying to clarify if not setting it would have any affect on the result (the delay)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422121103, "post_id": 28127623, "comment_id": 44629451, "body": "STDIN? No, the web server doesn&#39;t wait for it to reach EOF since it&#39;s the writer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1422117815, "last_edit_date": 1422117815, "creation_date": 1422116944, "answer_id": 28127623, "question_id": 28126351, "link": "https://stackoverflow.com/questions/28126351/end-perl-script-without-waiting-for-system-call-to-return/28127623#28127623", "title": "End perl script without waiting for system call to return", "body": "<p>The web server creates a pipe from which to receive the response. It waits for the the pipe to reach EOF before completing the request. A pipe reaches EOF when all copies of the writer handle are closed.</p>\n\n<p>The writer end of the pipe is set as the child's STDOUT. That file handle was copied to be the shell's STDOUT, and again to the <code>mycmd</code>'s STDOUT. So even though the CGI script and the shell ended and thus closed their ends of the file handle, <code>mycmd</code> still holds the handle open, so the web server is still waiting for the response to complete.</p>\n\n<p>All you have to do with to close the last handle to the writer end of the pipe. Or more precisely, you can avoid making it in the first place by attaching a different handle to <code>mycmd</code> STDOUT.</p>\n\n<pre><code>mycmd arg1 arg2 &lt;/dev/null &gt;/dev/null 2&gt;&amp;1 &amp;\n</code></pre>\n"}], "owner": {"reputation": 5282, "user_id": 1003815, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a2de7b72452cde6ac37a07e506d68149?s=128&d=identicon&r=PG", "display_name": "RTF", "link": "https://stackoverflow.com/users/1003815/rtf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 1, "accepted_answer_id": 28127623, "answer_count": 1, "score": 3, "last_activity_date": 1422117815, "creation_date": 1422108624, "last_edit_date": 1495542616, "question_id": 28126351, "link": "https://stackoverflow.com/questions/28126351/end-perl-script-without-waiting-for-system-call-to-return", "title": "End perl script without waiting for system call to return", "body": "<p>I'm running a simple apache web server on Linux (Ubuntu 14.04) with a perl CGI script handling some requests. The script initiates a system command using the <code>system</code> function, but I want it to return immediately, regardless of the outcome of the system call.  </p>\n\n<p>I've been adding an ampersand to the end of the scalar argument passed to <code>system</code> (<em>I am aware of the implications of command injection attacks</em>) and although this does cause the system command to return immediately, the script will still not exit until the underlying command has completed.  </p>\n\n<p>If I trigger a dummy ruby script with a 10 second sleep using the <code>system</code> call from the perl CGI, then my request to the web server still waits 10 seconds before finally getting a response. I put a log statement after the <code>system</code> call and it appears immediately when the web request is made, so the <code>system</code> call is definitely returning immediately, but the script is still waiting at the end.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22523543/how-do-i-make-a-system-call-and-resume-execution-without-waiting-for-the-call-to\">This question</a> is similar, but neither of the solutions have worked for me.</p>\n\n<p>Here's some example code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse CGI;\nuse Log::Log4perl qw(:easy);\n\nLog::Log4perl-&gt;easy_init(\n    { level =&gt; $DEBUG, file =&gt; \"&gt;&gt;/var/log/script.log\" } );\n\nprint \"Content-type: application/json\\n\\n\";\nmy $cgi = CGI-&gt;new();\n\nINFO(\"Executing command...\");\nsystem('sudo -u on-behalf-of-user /tmp/test.rb one two &amp;');\nINFO(\"Command initiated - will return now...\");\n\nprint '{\"error\":false}';\n</code></pre>\n\n<p><strong>Edit:</strong><br>\nThe command call is executed using <code>sudo -u</code> because the apache user <code>www-data</code> needs permission to execute the script on behalf of the script owner, and I've updated my sudoers file appropriately to that end. This is not the cause of my issue, because I've also tried changing script ownership to <code>www-data</code> and running <code>system(\"/tmp/test.rb one two &amp;\")</code> but result is the same.</p>\n\n<p><strong>Edit 2:</strong><br>\nI've also tried adding <code>exit 0</code> to the very end of the script, but it doesn't make any difference. Is it possible that the script is exiting immediately, but the apache server is holding onto the response until the script the perl CGI called is finished? Or is it possible that some setting or configuration of the operating system is causing the problem?</p>\n\n<p><strong>Edit 3:</strong><br>\nRunning the perl CGI script directly from a terminal works correctly. The perl script ends immediately, so this is not an inherent issue with Perl. Which presumably can only mean that the Apache web server is holding onto the request until the command called from <code>system</code> is finished. Why?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 5, "creation_date": 1422096500, "post_id": 28124600, "comment_id": 44622716, "body": "What is the expected result? <code>ThIs iS...</code> or <code>ThIs Is...</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1422138721, "last_edit_date": 1422138721, "creation_date": 1422096848, "answer_id": 28124706, "question_id": 28124600, "link": "https://stackoverflow.com/questions/28124600/alternate-between-upper-and-lowercase-perl/28124706#28124706", "title": "Alternate between upper and lowercase, PERL", "body": "<p>Try this:</p>\n\n<pre><code>use strict; \nuse warnings; \nuse 5.016;\nuse Data::Dumper;\n\nmy $str = 'hello';\nmy $x = 0;\n\n$str =~ s/(.)/($x++ % 2 == 0) ? \"\\U$1\" : \"\\L$1\"/eg;\nsay $str;\n\n--output:--\nHeLlO\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1422096875, "creation_date": 1422096875, "answer_id": 28124710, "question_id": 28124600, "link": "https://stackoverflow.com/questions/28124600/alternate-between-upper-and-lowercase-perl/28124710#28124710", "title": "Alternate between upper and lowercase, PERL", "body": "<p>How about:</p>\n\n<pre><code>my $mystring = \"this is my string I want each character to alternate between upper and lowercase\";\nmy @myarray = split(\"\", $mystring);\nmy $cnt = 1;\nfor (@myarray) {\n    next unless /[a-z]/i;\n    $_ = ($cnt%2 ? uc($_) : lc($_));\n    $cnt++;\n}\nsay join('',@myarray);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>ThIs Is My StRiNg I wAnT eAcH cHaRaCtEr To AlTeRnAtE bEtWeEn UpPeR aNd LoWeRcAsE\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1422103364, "post_id": 28125552, "comment_id": 44624367, "body": "In the first solution you will have an edge case when a sentence or a word contains an odd number of characters."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1422142094, "post_id": 28125552, "comment_id": 44635539, "body": "After reading your first solution, I realized my solution needs to use \\L on the alternate substitution...otherwise it won&#39;t work on &quot;HELLO&quot;."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1422142478, "post_id": 28125552, "comment_id": 44635627, "body": "@TLP, Nice catch.  No errors, but the result will be wrong for &quot;HELLO&quot; --because there is no further match after matching  &quot;LL&quot;, so the code ends up only doing substitutions on the substring &quot;HELL&quot;, producing &quot;hElLO&quot;, which is incorrect."}], "tags": [], "owner": {"reputation": 26, "user_id": 4418505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17bc0b9fd58f6b42ebc30b0cabf4d1be?s=128&d=identicon&r=PG&f=1", "display_name": "thisoldman", "link": "https://stackoverflow.com/users/4418505/thisoldman"}, "is_accepted": false, "score": 0, "last_activity_date": 1422103232, "creation_date": 1422103232, "answer_id": 28125552, "question_id": 28124600, "link": "https://stackoverflow.com/questions/28124600/alternate-between-upper-and-lowercase-perl/28125552#28125552", "title": "Alternate between upper and lowercase, PERL", "body": "<p>My first thought was to use a regex substitution. Try this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = \"this string, I will change\";\n\n# Ignore whitespace and punctuation.\n$str =~ s/(\\w)(\\w)/\\L$1\\U$2/g;\n\n# Or include all characters in the uc/lc alternation.\n# $str =~ s/(.)(.)/\\L$1\\U$2/g;\n\nprint $str, \"\\n\";\n</code></pre>\n\n<p>If, for some reason, you wish to avoid regexes, try:</p>\n\n<pre><code>my $str = \"this string, I will change\";\n\nmy @ary;\nmy $count = 0;\nfor my $glyph ( split //, lc $str ) {\n    $glyph = uc $glyph if $count % 2;\n    push @ary, $glyph;\n    $count++;\n}\nprint join( \"\", @ary ), \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1422141694, "post_id": 28126608, "comment_id": 44635429, "body": "If anyone is interested: instead of writing this: <code>$i = 0 if $i &gt; $#subs;</code>, which really confused me, you could write: <code>return $subs[$i++ % scalar @subs]-&gt;(@_);</code>.  In other words, the code cycles through the subs array(@subs) over and over."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1422252872, "post_id": 28126608, "comment_id": 44662753, "body": "@7stud yes, resetting the counter to zero is alternative to using <code>%</code> modulo."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1422110144, "creation_date": 1422110144, "answer_id": 28126608, "question_id": 28124600, "link": "https://stackoverflow.com/questions/28124600/alternate-between-upper-and-lowercase-perl/28126608#28126608", "title": "Alternate between upper and lowercase, PERL", "body": "<p>A more general approach using function factory</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub periodic {\n  my @subs = @_;\n  my $i = 0;\n\n  return sub {\n    $i = 0 if $i &gt; $#subs;\n    return $subs[$i++]-&gt;(@_);\n  };\n}\n\nmy $mystring = \"this is my string I want each character to alternate between upper and lowercase\";\n\nmy $f = periodic(\n  sub { uc pop },\n  sub { lc pop },\n  # sub { .. },\n  # sub { .. },\n);\n$mystring =~ s/([a-z])/ $f-&gt;($1) /egi;\nprint $mystring, \"\\n\";\n</code></pre>\n\n<p>output</p>\n\n<pre><code>ThIs Is My StRiNg I wAnT eAcH cHaRaCtEr To AlTeRnAtE bEtWeEn UpPeR aNd LoWeRcAsE\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1445503672, "last_edit_date": 1445503672, "creation_date": 1422164075, "answer_id": 28133570, "question_id": 28124600, "link": "https://stackoverflow.com/questions/28124600/alternate-between-upper-and-lowercase-perl/28133570#28133570", "title": "Alternate between upper and lowercase, PERL", "body": "<p>Try this. simple if else condition enough for this</p>\n\n<pre><code>my $mystring = \"this is my string I want each character to alternate between upper and lowercase\";\n\n@xz = split( '', $mystring );\nfor ( $i = 0; $i &lt; scalar @xz; $i++ ) {\n    if ( $i % 2 ) {\n        print uc \"$xz[$i]\";\n    }\n    else {\n        print \"$xz[$i]\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 1683888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/980cfe91eb4f7f09b80bdd956838d874?s=128&d=identicon&r=PG", "display_name": "glider", "link": "https://stackoverflow.com/users/1683888/glider"}, "is_accepted": false, "score": 0, "last_activity_date": 1445495207, "creation_date": 1445495207, "answer_id": 33274616, "question_id": 28124600, "link": "https://stackoverflow.com/questions/28124600/alternate-between-upper-and-lowercase-perl/33274616#33274616", "title": "Alternate between upper and lowercase, PERL", "body": "<p>Save script below with name <code>alter.pl</code></p>\n\n<pre><code>#!/usr/bin/perl\nprint@ARGV[0]=~s/([a-z])([^a-z]*)([a-z])/uc($1).$2.lc$3/egri\n</code></pre>\n\n<p>And run script by command</p>\n\n<pre><code>$ perl alter.pl \"this is my string I want each character to alternate between upper and lowercase\"\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>ThIs Is My StRiNg I wAnT eAcH cHaRaCtEr To AlTeRnAtE bEtWeEn UpPeR aNd LoWeRcAse\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1445503559, "creation_date": 1445503559, "answer_id": 33276853, "question_id": 28124600, "link": "https://stackoverflow.com/questions/28124600/alternate-between-upper-and-lowercase-perl/33276853#33276853", "title": "Alternate between upper and lowercase, PERL", "body": "<p>You have some good answers already but I thought I'd chip in because I hadn't seen <code>map</code> yet. </p>\n\n<pre><code>print map { $c++ % 2 ? lc : uc } split ( //, $mystring );\n</code></pre>\n\n<ul>\n<li>splits $mystring into characters (<code>split //</code>); </li>\n<li>uses map to apply a function to each letter. </li>\n<li>uses <code>$c++</code> to autoincrement, then take a modulo 2 to decide if this should be uppercase or lower case. </li>\n<li>join the resultant array. </li>\n</ul>\n\n<p>Gives:</p>\n\n<pre><code>#!c:\\Strawberry\\perl\\bin\nuse strict;\nuse warnings;\n\nmy $mystring = \"this is my string I want each character to alternate between upper and lowercase\";\nmy $c;\nprint join ( \"\", map { $c++ % 2 ? lc : uc } split ( //, $mystring ));\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>ThIs iS My sTrInG I WaNt eAcH ChArAcTeR To aLtErNaTe bEtWeEn uPpEr aNd lOwErCaSe\n</code></pre>\n\n<p><code>map</code> is a useful function that applies some code to each element in a list, and then 'returns' the list that's produced. So if we treat your string as a list of characters, it works nicely. </p>\n"}], "owner": {"reputation": 71, "user_id": 4432758, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0da5289ad37b75aa390725a32792f49?s=128&d=identicon&r=PG&f=1", "display_name": "pierrefelipe", "link": "https://stackoverflow.com/users/4432758/pierrefelipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1100, "favorite_count": 0, "answer_count": 7, "score": 1, "last_activity_date": 1445512829, "creation_date": 1422096021, "question_id": 28124600, "link": "https://stackoverflow.com/questions/28124600/alternate-between-upper-and-lowercase-perl", "title": "Alternate between upper and lowercase, PERL", "body": "<p>I want to alternate between upper and lower case, however I only managed to get the whole string upper or lower, or the first character.\nI have not found a proper function to execute what I need. Please have a look and help me out. Cheers.</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $mystring = \"this is my string I want each character to alternate between upper and lowercase\";\n\nmy @myarray = split(\"\", $mystring);\nprint ucfirst(\"@myarray\");\n</code></pre>\n"}, {"tags": ["java", "perl", "hash", "hashmap"], "comments": [{"owner": {"reputation": 63596, "user_id": 2314073, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/buvFz.png?s=128&g=1", "display_name": "Juned Ahsan", "link": "https://stackoverflow.com/users/2314073/juned-ahsan"}, "edited": false, "score": 2, "creation_date": 1422069294, "post_id": 28121874, "comment_id": 44617886, "body": "there is already a method in map interface called get(key) -&gt; returns value. What do u want&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 1712162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7PYxR.jpg?s=128&g=1", "display_name": "Nicholas Anderson", "link": "https://stackoverflow.com/users/1712162/nicholas-anderson"}, "edited": false, "score": 0, "creation_date": 1422069724, "post_id": 28121922, "comment_id": 44617927, "body": "I&#39;m not sure why my searches didn&#39;t present this answer. I guess I need to learn to understand Java docs."}], "tags": [], "owner": {"reputation": 4009, "user_id": 1549476, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dxQHN.png?s=128&g=1", "display_name": "k_g", "link": "https://stackoverflow.com/users/1549476/k-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1422069474, "creation_date": 1422069474, "answer_id": 28121922, "question_id": 28121874, "link": "https://stackoverflow.com/questions/28121874/java-direct-reference-hash-value/28121922#28121922", "title": "Java Direct Reference Hash Value", "body": "<p>You can use a <code>HashMap</code> as follows.</p>\n\n<pre><code>HashMap&lt;String,String&gt; lastName = new HashMap&lt;&gt;();\nlastName.put(\"Ward\",\"Cleaver\");\n...// The rest of your names\n</code></pre>\n\n<p>Then to directly reference a key, you can call <code>lastName.get(\"Archie\");</code> which will return your <code>\"Bunker\"</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 514, "user_id": 873350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/62HJj.png?s=128&g=1", "display_name": "Hamed Moghaddam", "link": "https://stackoverflow.com/users/873350/hamed-moghaddam"}, "is_accepted": false, "score": 1, "last_activity_date": 1422073220, "creation_date": 1422073220, "answer_id": 28122251, "question_id": 28121874, "link": "https://stackoverflow.com/questions/28121874/java-direct-reference-hash-value/28122251#28122251", "title": "Java Direct Reference Hash Value", "body": "<p>In java we have a lot of implementation of hash many of them implement Map interface. Depends on your need you have to pick the right one. HashMap is the most general. \nBefore that it was hashtable which all methods are synchronized. There is also a TreeMap or for concurrency purposes ConcurrentHashMap.\nCheck all Map implementation if you want to get a detailed knowledge of the topic.\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Map.html</a></p>\n"}], "owner": {"reputation": 573, "user_id": 1712162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7PYxR.jpg?s=128&g=1", "display_name": "Nicholas Anderson", "link": "https://stackoverflow.com/users/1712162/nicholas-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 28121922, "answer_count": 2, "score": 0, "last_activity_date": 1422073220, "creation_date": 1422068807, "question_id": 28121874, "link": "https://stackoverflow.com/questions/28121874/java-direct-reference-hash-value", "title": "Java Direct Reference Hash Value", "body": "<p>In perl a hash looks like</p>\n\n<pre><code>%last_name = (\n    \"Ward\",   \"Cleaver\",\n    \"Fred\",   \"Flintstone\",\n    \"Archie\", \"Bunker\"\n);\n</code></pre>\n\n<p>And there is the option to directly reference a key, in order to retrieve it's value.</p>\n\n<pre><code>say $last_name{Archie}; # Bunker\n</code></pre>\n\n<p>I've been looking for some time now and have found no option to achieve the same thing without creating a method to do it. </p>\n\n<p>Is there a way to directly reference a key in a Java hash to retrieve it's value?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1422118739, "post_id": 28119658, "comment_id": 44628712, "body": "This post is now atrocious. Each half asks a different question, and the second question consists entirely of a code snippet which doesn&#39;t run. I can&#39;t even delete my answer (which only answers half) because it&#39;s been accepted (even though you&#39;re not happy with it). If you have a new question to ask, ask a new question. (You could properly update this one, unaccept my answer, and have me delete my answer, but it&#39;s way simpler just to ask a new question.)"}], "answers": [{"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1422053123, "post_id": 28119732, "comment_id": 44614128, "body": "What is the <code>$|</code> symbol?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 1, "creation_date": 1422053322, "post_id": 28119732, "comment_id": 44614206, "body": "Turn on autoflush on the currently selected output handle"}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1422054157, "post_id": 28119732, "comment_id": 44614514, "body": "This works for me but i have a weird issue bc i have a progressbar on the same line and the progressbar overwrites the value in here"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1422092494, "post_id": 28119732, "comment_id": 44621817, "body": "@Bijan, move to a new line before printing the number?  Or perhaps just don&#39;t print a backspace with the first number."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1422117036, "post_id": 28119732, "comment_id": 44628186, "body": "For some reason it messes up the progress bar and instead of the progress bar being on one line, it becomes all on separate ones"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422117292, "post_id": 28119732, "comment_id": 44628286, "body": "Basically, it&#39;s going to come down to <code>print(&quot;\\r&quot;, $progress_bar, &quot; &quot;, $i);</code>"}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1422117840, "post_id": 28119732, "comment_id": 44628435, "body": "I am using Term::ProgressBar and the progress bar is not printed like that. I tried what you said and it did not work. I updated original post with the code"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1422051901, "creation_date": 1422051901, "answer_id": 28119732, "question_id": 28119658, "link": "https://stackoverflow.com/questions/28119658/perl-have-output-update-dynamically/28119732#28119732", "title": "Perl: Have output update dynamically", "body": "<p>For something simple like that, you can just move the cursor back using backspace or carriage return.</p>\n\n<pre><code>$| = 1;  # Autoflush.\n\nfor my $i (1..10) {\n   print(\"\\r\", $i);\n   sleep(1);\n}\n\nprint(\"\\n\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 2, "last_activity_date": 1422155080, "last_edit_date": 1422155080, "creation_date": 1422143951, "answer_id": 28131685, "question_id": 28119658, "link": "https://stackoverflow.com/questions/28119658/perl-have-output-update-dynamically/28131685#28131685", "title": "Perl: Have output update dynamically", "body": "<p>\"\\r\" returns the cursor to the beginning of the line. Instead, you probably just want to backspace the last printed number, and print the next one... Something like this:</p>\n\n<pre><code>$| = 1;    \nmy $i = 0;\nwhile ($i &lt; 10) {\n    print $i;\n    sleep 1; # REPLACE WITH WHATEVER PROCESS YOU NEED TO DO\n    print \"\\b\" x length $i++;\n}\n</code></pre>\n\n<p>The last line of the <code>while</code> loop prints a backspace the same length of the number it just printed, and then increments it. This is because the postfix <code>++</code> increments after evaluation.</p>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 28119732, "answer_count": 2, "score": 0, "last_activity_date": 1422155080, "creation_date": 1422051517, "last_edit_date": 1422118728, "question_id": 28119658, "link": "https://stackoverflow.com/questions/28119658/perl-have-output-update-dynamically", "title": "Perl: Have output update dynamically", "body": "<p>I have a variable <code>$i</code> that goes from 1 to 100. Is it possible to have the page display the # dynamically replacing the # that was there before?</p>\n\n<p>Suppose I have the following code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $i = 0;\n\nfor my $i ('1' .. '10') {\n    print \"$i\";\n    sleep(1);\n}\n</code></pre>\n\n<p>How do I make it so instead of print \"12345...\", it just replaces the # that was there before. So <code>1</code> becomes <code>2</code>, <code>2</code> becomes <code>3</code>, etc</p>\n"}, {"tags": ["perl", "perlbrew"], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 1146438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ce2d2706ea4fdebb9e13a5a50cde218?s=128&d=identicon&r=PG", "display_name": "Ivan Wills", "link": "https://stackoverflow.com/users/1146438/ivan-wills"}, "is_accepted": true, "score": 4, "last_activity_date": 1422046886, "last_edit_date": 1422046886, "creation_date": 1422046770, "answer_id": 28118645, "question_id": 28118577, "link": "https://stackoverflow.com/questions/28118577/how-do-i-make-perlbrew-install-a-specific-development-perl-version-ie-not-perl/28118645#28118645", "title": "How do I make perlbrew install a specific development perl version (ie not perl-bleed)", "body": "<p>You need to pass <code>-Dusedevel</code> to perlbrew, e.g.:</p>\n\n<pre><code>$ perlbrew install perl-5.21.5 -Dusedevel\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 1146438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ce2d2706ea4fdebb9e13a5a50cde218?s=128&d=identicon&r=PG", "display_name": "Ivan Wills", "link": "https://stackoverflow.com/users/1146438/ivan-wills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 28118645, "answer_count": 1, "score": 4, "last_activity_date": 1422046886, "creation_date": 1422046514, "question_id": 28118577, "link": "https://stackoverflow.com/questions/28118577/how-do-i-make-perlbrew-install-a-specific-development-perl-version-ie-not-perl", "title": "How do I make perlbrew install a specific development perl version (ie not perl-bleed)", "body": "<p>I'm trying to install a development perl version other than perl-bleed with perlbrew eg:</p>\n\n<pre><code>$ perlbrew install perl-5.21.5\n</code></pre>\n\n<p>fails if I tail the log file I see</p>\n\n<pre><code>$ tail ~/perl5/perlbrew/build.perl-5.21.5.log\n    Data corruption and crashes are possible.\n\n    It is most seriously suggested that you do not continue any further\n    unless you want to help in developing and debugging Perl.\n\n    If you *still* want to build perl, you can answer 'y' now,\n    or pass -Dusedevel to Configure.\n\nDo you really want to continue? [n]  \nOkay, bye.\n</code></pre>\n\n<p>How can I tell perlbrew to answer yes?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1422045415, "post_id": 28118303, "comment_id": 44610648, "body": "Show us what you have so far so that we can help you fix it."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422045437, "post_id": 28118303, "comment_id": 44610665, "body": "Are you trying to do this with Perl or PHP? You&#39;ve tagged your question with both."}, {"owner": {"reputation": 3138, "user_id": 1227914, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77620a453f8dc2575495b8332e090394?s=128&d=identicon&r=PG", "display_name": "user1227914", "link": "https://stackoverflow.com/users/1227914/user1227914"}, "edited": false, "score": 0, "creation_date": 1422045570, "post_id": 28118303, "comment_id": 44610738, "body": "Sorry, with perl if possible or otherwise command line. Accidentally tagged php :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422067911, "post_id": 28118303, "comment_id": 44617689, "body": "Are you sure you want to remove the <code>&#47;</code> that follows <code>s3.amazonaws.com&#47;username</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1422046625, "creation_date": 1422046625, "answer_id": 28118600, "question_id": 28118303, "link": "https://stackoverflow.com/questions/28118303/recursively-search-and-replace-on-command-line-with-slashes/28118600#28118600", "title": "recursively search and replace on command line with slashes?", "body": "<p>Recursive file traversals in perl are best done with <code>File::Find</code>. This allows you to specify a callback - subroutine to execute on every file. </p>\n\n<p>However, if you're really set on using perl-as-sed, can I point out that you can use a non slash as a delimiter. </p>\n\n<pre><code>s/somepattern/some_other_pattern/g;\n</code></pre>\n\n<p>is functionally equivalent to:</p>\n\n<pre><code>s,somepattern,some_other_pattern,g;\n</code></pre>\n\n<p>Or you can 'escape' the slash with a backslash, but I prefer using different delimiters for clarity.</p>\n\n<p>So your pattern:</p>\n\n<pre><code>'s/s3.amazonaws.com/username//something.cloudfront.net/g'\n</code></pre>\n\n<p>Would become:</p>\n\n<pre><code>'s,s3.amazonaws.com/username/,something.cloudfront.net,g'\n</code></pre>\n\n<p>(Assuming I've got that middle 'slash' in the right place)</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1422050008, "post_id": 28118660, "comment_id": 44612890, "body": "Just to be safe, you probably want to escape the periods in the search string as well to avoid matching any character: <code>s3\\.amazonaws\\.com&#47;username&#47;</code>"}, {"owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422375118, "post_id": 28118660, "comment_id": 44718887, "body": "You&#39;re right, @ThisSuitIsBlackNot, I always forget that, I&#39;ll edit my answer, thanks!"}], "tags": [], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "is_accepted": true, "score": 2, "last_activity_date": 1422375218, "last_edit_date": 1422375218, "creation_date": 1422046835, "answer_id": 28118660, "question_id": 28118303, "link": "https://stackoverflow.com/questions/28118303/recursively-search-and-replace-on-command-line-with-slashes/28118660#28118660", "title": "recursively search and replace on command line with slashes?", "body": "<p>Here's an example using curlie brackets as delimiters, and being more careful with the arguments from find. You have to watch out for spaces and special characters in the filenames, you know.</p>\n\n<pre><code>find . -type f -print0 |\n   xargs -0 perl -i -pe's{\\Qs3.amazonaws.com/username/}{something.cloudfront.net}g'\n</code></pre>\n\n<p>On POSIX systems, you don't even need <code>xargs</code>.</p>\n\n<pre><code>find . -type f -exec \\\n   perl -i -pe's{\\Qs3.amazonaws.com/username/}{something.cloudfront.net}g' {} +\n</code></pre>\n\n<p>(The \\Q makes the '.' character mean \"one dot\" as opposed to \"one anything\").</p>\n"}], "owner": {"reputation": 3138, "user_id": 1227914, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77620a453f8dc2575495b8332e090394?s=128&d=identicon&r=PG", "display_name": "user1227914", "link": "https://stackoverflow.com/users/1227914/user1227914"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 28118660, "answer_count": 2, "score": 0, "last_activity_date": 1422375218, "creation_date": 1422045351, "question_id": 28118303, "link": "https://stackoverflow.com/questions/28118303/recursively-search-and-replace-on-command-line-with-slashes", "title": "recursively search and replace on command line with slashes?", "body": "<p>I need to run a search and replace command of something like:</p>\n\n<pre><code>s3.amazonaws.com/username/\n</code></pre>\n\n<p>changing to:</p>\n\n<pre><code>something.cloudfront.net\n</code></pre>\n\n<p>in the entire home directories folders and files like:</p>\n\n<pre><code>/home/username/\n/home/username/folder\n/home/username/folder/js\n/home/username/folter/file.php    \netc.\n</code></pre>\n\n<p>How would I do that? The files are with different extensions like .php and .js, etc. so I need to replace all files like</p>\n\n<pre><code>*.*\n</code></pre>\n\n<p>I found a way to replace it via perl command line but it's not working because of the \"/\" slash.</p>\n\n<pre><code>perl -p -i -e 's/s3.amazonaws.com/username//something.cloudfront.net/g' `find ./ -name *`\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422039654, "post_id": 28116822, "comment_id": 44607861, "body": "Only three of the four should be escaped. The problem is that a <code>]</code> is missing."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1422039373, "creation_date": 1422039373, "answer_id": 28116822, "question_id": 28116770, "link": "https://stackoverflow.com/questions/28116770/unmatched-in-regex-despite-being-escaped/28116822#28116822", "title": "Unmatched [ in regex, despite being escaped", "body": "<p>You've only escaped 3 out of 4.</p>\n\n<pre><code>m{\\G.*\\[([^\\]+)\\]}cg)\n       ^    ^   ^\n         ^ - not escaped\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "is_accepted": false, "score": 3, "last_activity_date": 1422039767, "last_edit_date": 1422039767, "creation_date": 1422039426, "answer_id": 28116840, "question_id": 28116770, "link": "https://stackoverflow.com/questions/28116770/unmatched-in-regex-despite-being-escaped/28116840#28116840", "title": "Unmatched [ in regex, despite being escaped", "body": "<p>The error is from having a incomplete character class ...</p>\n\n<pre><code>\\G.*\\[([^\\] +)\\]\n           ^\n</code></pre>\n\n<p>To solve this problem, you need to add a closing bracket to complete the class.</p>\n\n<pre><code>\\G.*\\[([^\\]]+)\\]\n           ^\n</code></pre>\n\n<p>I propose the following, while changing <code>+</code> to <code>*</code> to match \"zero or more\" instead.</p>\n\n<pre><code>[^]]*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1422039435, "creation_date": 1422039435, "answer_id": 28116841, "question_id": 28116770, "link": "https://stackoverflow.com/questions/28116770/unmatched-in-regex-despite-being-escaped/28116841#28116841", "title": "Unmatched [ in regex, despite being escaped", "body": "<p>The negated character class is not terminated.</p>\n\n<p>Where you have</p>\n\n<pre><code>[^\\]+    # One or more characters that aren't \u00ab]\u00bb, \u00ab+\u00bb, ...\n</code></pre>\n\n<p>you should have</p>\n\n<pre><code>[^\\]]+   # One or more characters that aren't \u00ab]\u00bb\n</code></pre>\n\n<p>I would even use</p>\n\n<pre><code>[^[\\]]*  # Zero or more characters that aren't \u00ab[\u00bb or \u00ab]\u00bb\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6843, "user_id": 544094, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/per08.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/544094/chris"}, "edited": false, "score": 1, "creation_date": 1422046859, "post_id": 28117038, "comment_id": 44611405, "body": "Can you elaborate on why OP&#39;s getting the error in the first place? That seems to be the main question, and not just the correct regex"}], "tags": [], "owner": {"reputation": 4551, "user_id": 3790360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ef9805061faba2c8d3d95a1929702294?s=128&d=identicon&r=PG&f=1", "display_name": "Andie2302", "link": "https://stackoverflow.com/users/3790360/andie2302"}, "is_accepted": false, "score": 2, "last_activity_date": 1422053406, "last_edit_date": 1422053406, "creation_date": 1422040240, "answer_id": 28117038, "question_id": 28116770, "link": "https://stackoverflow.com/questions/28116770/unmatched-in-regex-despite-being-escaped/28117038#28117038", "title": "Unmatched [ in regex, despite being escaped", "body": "<p>Explaining the regex of the question:</p>\n\n<pre><code>m{\\G.*\\[([^\\]+)\\]}cg\n</code></pre>\n\n<p>This regex is a escaped perl regex.\nThe unescaped regex is: <code>\\G.*\\[([^\\]+)\\]</code></p>\n\n<p>The regex: <code>\\G.*\\[([^\\]+)\\]</code> does:</p>\n\n<ul>\n<li><code>\\G</code> ... Assert that the position is at the end of the previous match, or the start of the string.</li>\n<li><code>.*</code> ... Match any character that is not a line break character, between zero and unlimited times. (greedy)</li>\n<li><code>\\[</code> ... Match the character [</li>\n</ul>\n\n<p>Now the regex cant be processed, there is an opening paranthesis without a closing paranthesis.<br>\nThis is because after the opening paranthesis <code>(</code> there starts a character class <code>[</code> that would need to be closed before the close paranthesis <code>)</code> .<br>\nAllthough there is a <code>\\]</code> this is a escaped <code>]</code> and thus not the closing bracket of the character class.<br>\nSo the <code>)</code> in the regex is part of the opened character class.<br>\nSince the last <code>]</code> is also escaped neither the Capturing group nor the character class is closed.</p>\n\n<p>In Perl Regular expression the <code>]</code> does not need to be escaped.<br>\nThe end of a character class must not be escaped.</p>\n\n<p>If <code>\\[([^\\]+)\\]</code> is meant to match all characters between <code>[</code> and <code>]</code> and capture its value into capturing group 1 the corrected part is: <code>\\[([^\\]]+)\\]</code> or even shorter <code>\\[([^]]+)]</code></p>\n\n<p>So the closest working regex is:</p>\n\n<pre><code>\\G.*\\[([^\\]]+)\\]\n</code></pre>\n\n<p>and can be shortened to</p>\n\n<pre><code>\\G.*\\[([^]]+)]\n</code></pre>\n\n<hr>\n\n<p>If you want to match <code>two</code> <code>three</code> and <code>four</code>:</p>\n\n<pre><code>m/\\[([^]]+)]/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1422047109, "creation_date": 1422047109, "answer_id": 28118723, "question_id": 28116770, "link": "https://stackoverflow.com/questions/28116770/unmatched-in-regex-despite-being-escaped/28118723#28118723", "title": "Unmatched [ in regex, despite being escaped", "body": "<p>You might find that adding whitespace to the regex to make it more readable can help you see what's going on.  Plus you have too many \"my $string\"s in there :-)</p>\n\n<pre><code>my $string = \"one, [two] , [three], and [four].\";\n\nwhile ($string =~ m{\n        \\G.*\n        \\[\n            (  [^\\]]+  )\n        \\]\n    }cgx)\n{\n    my $value = $1;\n    print \"Found value $value .\\n\";\n};\n</code></pre>\n"}], "owner": {"reputation": 373, "user_id": 2361820, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/102230012a94b6869a8eb9d9312dc265?s=128&d=identicon&r=PG", "display_name": "user2361820", "link": "https://stackoverflow.com/users/2361820/user2361820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1422053406, "creation_date": 1422039163, "last_edit_date": 1422044631, "question_id": 28116770, "link": "https://stackoverflow.com/questions/28116770/unmatched-in-regex-despite-being-escaped", "title": "Unmatched [ in regex, despite being escaped", "body": "<p>Trying to test out the position function and parsing abilities of perl. I have a regex, which I think is correct, but perl is telling me I have an unmatched [, but to me it looks escaped.</p>\n\n<blockquote>\n  <p>Unmatched [ in regex; marked by &lt;-- HERE in m/\\G.*[([ &lt;-- HERE ^]+)]/ at perltest.pl line 5.</p>\n</blockquote>\n\n<p>Can anyone clarify why I'm getting that message from the following code?</p>\n\n<pre><code>my $string = \"one, [two] , [three], and [four].\";\n\npos($string) = 0;\nwhile (my $string =~ m{\\G.*\\[([^\\]+)\\]}cg)\n{\n    my $value = $1;\n    print \"Found value $value .\\n\";\n};\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1422037705, "post_id": 28116285, "comment_id": 44606833, "body": "Do you really want to change things like <code>11 * 11</code> to <code>1 * 1</code>? If those are mathematical formulas, that could be problematic."}, {"owner": {"reputation": 49, "user_id": 2717082, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72790a17582ddaa10576065e70981a2d?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/2717082/ash"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422038149, "post_id": 28116285, "comment_id": 44607044, "body": "Good point, will have to add the numbers [0-9] also. :)"}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1422037675, "creation_date": 1422037675, "answer_id": 28116378, "question_id": 28116285, "link": "https://stackoverflow.com/questions/28116285/search-more-than-one-consecutive-chars-and-replace-with-single-char-also-exclud/28116378#28116378", "title": "search more than one consecutive chars and replace with single char, also exclude certain chars", "body": "<p>Replace <code>.</code> with something more accurate,</p>\n\n<pre><code>$str =~ s/([^e(])\\1+/$1/g;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57126, "user_id": 1214800, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Z6dxp.jpg?s=128&g=1", "display_name": "brandonscript", "link": "https://stackoverflow.com/users/1214800/brandonscript"}, "is_accepted": true, "score": 2, "last_activity_date": 1422037699, "creation_date": 1422037699, "answer_id": 28116390, "question_id": 28116285, "link": "https://stackoverflow.com/questions/28116285/search-more-than-one-consecutive-chars-and-replace-with-single-char-also-exclud/28116390#28116390", "title": "search more than one consecutive chars and replace with single char, also exclude certain chars", "body": "<p>Exclude what you need to by using a <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow\">negating character class</a>:</p>\n\n<pre><code>([^(e])\\1+\n</code></pre>\n\n<p>Here's a regex101 to play with: <a href=\"https://regex101.com/r/rX0oH8/2\" rel=\"nofollow\">https://regex101.com/r/rX0oH8/2</a></p>\n"}], "owner": {"reputation": 49, "user_id": 2717082, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72790a17582ddaa10576065e70981a2d?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/2717082/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 28116390, "answer_count": 2, "score": 2, "last_activity_date": 1422037699, "creation_date": 1422037340, "last_edit_date": 1422037578, "question_id": 28116285, "link": "https://stackoverflow.com/questions/28116285/search-more-than-one-consecutive-chars-and-replace-with-single-char-also-exclud", "title": "search more than one consecutive chars and replace with single char, also exclude certain chars", "body": "<p>search more than one consecutive chars and replace with single char, also exclude certain chars.\nEx:\n<code>Saaleem</code> I need <code>Saleem</code></p>\n\n<p><code>0 ++ ((1*0.04526)*1.05* 1)</code> I need <code>0 + ((1*0.04526)*1.05* 1)</code></p>\n\n<p>The below replace everything, i need to exclude few chars as well - in this case <code>(</code> &amp; <code>e</code>.</p>\n\n<pre><code>$str =~ s/(.)\\1+/$1/g;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 3, "creation_date": 1422035676, "post_id": 28115689, "comment_id": 44605784, "body": "Nice exercise. To what extent is this homework?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1422035904, "post_id": 28115689, "comment_id": 44605915, "body": "You may start with <code>my @chars = split &#47;&#47;, $str;</code>"}, {"owner": {"reputation": 21, "user_id": 4487706, "user_type": "registered", "profile_image": "https://graph.facebook.com/712573481/picture?type=large", "display_name": "Orlando", "link": "https://stackoverflow.com/users/4487706/orlando"}, "edited": false, "score": 0, "creation_date": 1422036081, "post_id": 28115689, "comment_id": 44605995, "body": "Thanks for the quick response its a very simple assignment I know but I just cant seem to figure out the unique count part But I believe what you have shown me is right here is the assignment"}, {"owner": {"reputation": 21, "user_id": 4487706, "user_type": "registered", "profile_image": "https://graph.facebook.com/712573481/picture?type=large", "display_name": "Orlando", "link": "https://stackoverflow.com/users/4487706/orlando"}, "edited": false, "score": 0, "creation_date": 1422036142, "post_id": 28115689, "comment_id": 44606023, "body": "The program must store this string that the user enters in a scalar variable (e.g., $arbitrary_string, $input_string, etc.). \u2022 The program will then calculate two (2) items pertaining to the input string: o total number of characters (including spaces &amp; punctuation). o number of unique characters (including spaces &amp; punctuation). \u2022 To solve one or both of the count calculations, the split function might be useful in the following manner: my @chars = split(//, $arbitrary_string);"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422037573, "post_id": 28116262, "comment_id": 44606757, "body": "Since this is a homework question, some additional explanation might be in order (especially the hash slice)."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422038327, "post_id": 28116262, "comment_id": 44607132, "body": "If it&#39;s homework, I&#39;m feeling conflicted about giving him the answer in the first place. But explanation never hurts."}, {"owner": {"reputation": 21, "user_id": 4487706, "user_type": "registered", "profile_image": "https://graph.facebook.com/712573481/picture?type=large", "display_name": "Orlando", "link": "https://stackoverflow.com/users/4487706/orlando"}, "edited": false, "score": 0, "creation_date": 1422038416, "post_id": 28116262, "comment_id": 44607181, "body": "I appreciate the help the teacher told us to use the internet since that is our greatest resource when it comes to code and such"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1422038928, "post_id": 28116262, "comment_id": 44607474, "body": "Someone telling you the answer doesn&#39;t help you understand what&#39;s going on. That&#39;s why traditionally we resist &quot;homework&quot; questions - because the point isn&#39;t to get to the answer, it&#39;s to understand what&#39;s going on."}], "tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 1, "last_activity_date": 1422038090, "last_edit_date": 1422038090, "creation_date": 1422037204, "answer_id": 28116262, "question_id": 28115689, "link": "https://stackoverflow.com/questions/28115689/unique-character-count/28116262#28116262", "title": "Unique Character Count", "body": "<p>The simplest method would be to use a hash: </p>\n\n<pre><code># split the string into an array of characters\nmy @chars = split //, $str;  \n\n# lists of values can be assigned to multiple indexes at once\n# here we assign each character an empty value, but since hash \n# keys are unique in nature, every subsequent assignment overwrites\n# the first.\nmy %uniq; \n@uniq{@chars} = ();          \n\n# next get the list of keys from the hash and treat that list as \n# a scalar which gives you the count\nmy $count = scalar keys %uniq;\n</code></pre>\n\n<p>See: <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\">http://perldoc.perl.org/perldata.html#Slices</a></p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1422039289, "creation_date": 1422039289, "answer_id": 28116804, "question_id": 28115689, "link": "https://stackoverflow.com/questions/28115689/unique-character-count/28116804#28116804", "title": "Unique Character Count", "body": "<p>OK, so the magic keyword here - as far as Perl is concerned is 'unique'. Because that usually means a hash is the tool for the job.</p>\n\n<p>In perl, a hash is a set of key-value pairs, which means it's great for counting numbers of unique items. </p>\n\n<p>So if you take your string, and split it into characters:</p>\n\n<pre><code>my %count_of;\nforeach my $character ( split ( '', $str ) ) {\n    $count_of{$character}++;\n}\n</code></pre>\n\n<p>You can then print out <code>%count_of</code>:</p>\n\n<pre><code>foreach my $character ( keys %count_of ) {\n   print \"$character = $count_of{$character}\\n\";\n}\n</code></pre>\n\n<p>But because <code>keys %count_of</code> gives you an array containing each 'key' - one of the nice tricks in perl, is an array in a scalar context, is just a number representing the number of elements. So you can do:</p>\n\n<pre><code>print scalar keys %count_of, \" unique characters in $str\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "is_accepted": false, "score": 2, "last_activity_date": 1465995116, "last_edit_date": 1465995116, "creation_date": 1422147187, "answer_id": 28132021, "question_id": 28115689, "link": "https://stackoverflow.com/questions/28115689/unique-character-count/28132021#28132021", "title": "Unique Character Count", "body": "<p>You can use this function to get what you need:</p>\n\n<pre><code>sub func($) { my ($str, %hash) = shift; $hash{$_}++ for split //, $str; (length $str, scalar keys %hash) }\n</code></pre>\n\n<p>and this if you need to get count of certain char:</p>\n\n<pre><code>sub uniq_ch_count($$) { my ($ch, $str, %hash) = @_; $hash{$_}++ for split //, $str; $hash{$ch} }\n</code></pre>\n\n<p>EXAMPLE 1:</p>\n\n<pre><code>my ($chars_count, $uniq_chars_count) = func('one two three four');\nprint $chars_count . \" \" . $uniq_chars_count . \"\\n\";\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>18 10\n</code></pre>\n\n<p>EXAMPLE 2:</p>\n\n<pre><code>print uniq_ch_count('d', \"asdjkasdjd sdfj d \") . \" \" . uniq_ch_count(' ', \"asdjkasdjd sdfj d \") . \"\\n\";\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>5\n3\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4487706, "user_type": "registered", "profile_image": "https://graph.facebook.com/712573481/picture?type=large", "display_name": "Orlando", "link": "https://stackoverflow.com/users/4487706/orlando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1465995116, "creation_date": 1422035132, "question_id": 28115689, "link": "https://stackoverflow.com/questions/28115689/unique-character-count", "title": "Unique Character Count", "body": "<p>Hi I an extreme novice and I need help on what I should type so that the unique character count is displayed based on what the user inputs from their keyboard\nI already have it set up to show the character count in the string</p>\n\n<p>Here is the Code:</p>\n\n<pre><code>#!C:\\Strawberry\\perl\\bin\\perl\nuse strict;\nuse warnings;\nprint \"Input Username\";\nmy $str = &lt;&gt;;\nchomp ($str);\nprint \"You have typed: $str\\n\";\nmy $str_length = length($str);\nprint \"Total Characters = \" . $str_length . \"\\n\";\nexit;\n</code></pre>\n"}, {"tags": ["perl", "function", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1422034693, "last_edit_date": 1422034693, "creation_date": 1422034387, "answer_id": 28115499, "question_id": 28115113, "link": "https://stackoverflow.com/questions/28115113/how-do-i-refer-to-another-outer-functions-argument/28115499#28115499", "title": "How do I refer to another outer function&#39;s argument?", "body": "<p>In your code <code>$curr</code> is visible after <code>div()</code> call (second argument), so clearly you want to declare it before of it,</p>\n\n<pre><code>for_each($products, sub {\n    my $curr = $_[0];\n    div({-class =&gt; 'product'}, ...\n</code></pre>\n"}], "owner": {"reputation": 69792, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 28115499, "answer_count": 1, "score": 0, "last_activity_date": 1422034693, "creation_date": 1422033044, "question_id": 28115113, "link": "https://stackoverflow.com/questions/28115113/how-do-i-refer-to-another-outer-functions-argument", "title": "How do I refer to another outer function&#39;s argument?", "body": "<p>I have this code:</p>\n\n<pre><code>    for_each($products, sub {\n        div({-class =&gt; 'product'},\n            only_if(is_admin(), sub {\n                a({-href =&gt; 'remove_product.cgi?id='.$_[0]-&gt;{'product_id'}}, 'Bla bla bla')\n            }),\n            img({\n                -src =&gt; $_[0]-&gt;{'picture'},\n                -alt =&gt; $_[0]-&gt;{'description'}\n            }),\n            ...\n</code></pre>\n\n<p>It's just the relevant piece. <code>only_if</code> is a function that takes a boolean and another function and executes the function only if the boolean is <code>true</code>; but that's irrelevant.</p>\n\n<p>The problem is that in <code>$_[0]-&gt;{'product_id'}</code> it is trying to fetch the first argument of the function passed to <code>only_if</code>, not the \"main\" function (outermost). </p>\n\n<p>What would be the cleanest way to refer to the outer function argument instead?</p>\n\n<p>I tried with:</p>\n\n<pre><code>    for_each($products, sub {\n        div({-class =&gt; 'product'},\n            my $curr = $_[0],\n            only_if(is_admin(), sub {\n                a({-href =&gt; 'remove_product.cgi?id='.$curr-&gt;{'product_id'}}, 'Rimuovi prodotto')\n            }),\n            img({\n                -src =&gt; $_[0]-&gt;{'picture'},\n                -alt =&gt; $_[0]-&gt;{'description'}\n            }),\n</code></pre>\n\n<p>but apparently:</p>\n\n<blockquote>\n  <p>Global symbol \"$curr\" requires explicit package name</p>\n</blockquote>\n\n<p>(on line <code>$curr-&gt;{'product_id'}</code>).</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1422149896, "post_id": 28114403, "comment_id": 44637137, "body": "I don&#39;t think this is off topic at all as a &quot;a problem that can no longer be reproduced or a simple typographical error&quot; nor was it &quot;resolved in a manner unlikely to help future readers&quot;. It can be reproduced. Anyone installing Mail::CheckUser will run into the same problem. My answer points to a patch to allow anyone else installing that module to fix the problem. The answers also cover why the technique used in the module is flawed as well as alternative modules."}, {"owner": {"reputation": 8162, "user_id": 294313, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/165e55c78689e561c554c3dec671fb50?s=128&d=identicon&r=PG", "display_name": "SamB", "link": "https://stackoverflow.com/users/294313/samb"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1422151215, "post_id": 28114403, "comment_id": 44637379, "body": "@Schwern: One <i>hopes</i> it means that the close voters tried to reproduce the problem but did not succeed.  But, um, that close reason is really only supposed to be used if <b>even the OP</b> doesn&#39;t have the problem anymore, so I&#39;m voting to reopen it."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1422151837, "post_id": 28114403, "comment_id": 44637465, "body": "For better or worse, the close reason is just the prevailing one; it&#39;s not necessarily the case that all votes were made using that reason. Given there has been no change to the post since it was vote closed, it&#39;s hard to see why it should be reopened, even if the close reason seems off. Probably should have been closed as &quot;unclear what you&#39;re asking&quot; instead, since the only actual question here is &quot;Should I?&quot; But looks to me like it should still stay closed, at least until the question is improved."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1422206720, "post_id": 28114403, "comment_id": 44649953, "body": "@PeterDuniho I believe it has been fully answered, reopening is a meta issue. I&#39;d like it to be reopened because I consider questions about failing Perl module tests to be on topic. Also so future folks don&#39;t see it and think &quot;oh, my question is off topic, I guess I won&#39;t ask&quot;. The question may not have been worded the best, but Dave and I figured it out well enough. We&#39;ve seen <i>a lot</i> of &quot;this Perl module&#39;s tests are failing, what do I do&quot; questions."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 8162, "user_id": 294313, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/165e55c78689e561c554c3dec671fb50?s=128&d=identicon&r=PG", "display_name": "SamB", "link": "https://stackoverflow.com/users/294313/samb"}, "edited": false, "score": 0, "creation_date": 1422206880, "post_id": 28114403, "comment_id": 44650016, "body": "@SamB If they can&#39;t reproduce the problem that would be amazing, because as Dave pointed out, <a href=\"http://www.cpantesters.org/distro/M/Mail-CheckUser.html?oncpan=1&amp;distmat=1&amp;version=1.21\" rel=\"nofollow noreferrer\">everybody else can</a>."}, {"owner": {"reputation": 8162, "user_id": 294313, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/165e55c78689e561c554c3dec671fb50?s=128&d=identicon&r=PG", "display_name": "SamB", "link": "https://stackoverflow.com/users/294313/samb"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1422229860, "post_id": 28114403, "comment_id": 44657593, "body": "@Schwern: Well, my point was that I only think it makes sense to use that close reason after OP says something to the effect of &quot;nevermind, it&#39;s working now&quot;. (Or if it was a typo.)"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1422034127, "last_edit_date": 1422034127, "creation_date": 1422033780, "answer_id": 28115332, "question_id": 28114403, "link": "https://stackoverflow.com/questions/28114403/perl-mailcheckuser-fails-on-make-test/28115332#28115332", "title": "perl, Mail::CheckUser fails on make test", "body": "<p>Always worth checking the CPAN page for a module you're having trouble with. <a href=\"https://metacpan.org/pod/Mail::CheckUser\" rel=\"nofollow\">In this case</a>, you'll see that CPAN Testers is reporting 2 passes and 710 failures for the latest version of the module. The <a href=\"http://www.cpantesters.org/distro/M/Mail-CheckUser.html?oncpan=1&amp;distmat=1&amp;version=1.21\" rel=\"nofollow\">CPAN Testers page</a> gives more details - this module hasn't tested successfully for any version of Perl more recent than 5.8.8!</p>\n\n<p>Also worth noting (again on the <a href=\"https://metacpan.org/pod/Mail::CheckUser\" rel=\"nofollow\">CPAN page</a>) that the most recent version was released in 2001. This module has obviously been abandoned by its author.</p>\n\n<p>Those two signs (the huge number of test failures and the lack of recent versions) mean that this is a module I would be very unlikely to use on any of my projects.</p>\n\n<p>Note that <a href=\"https://metacpan.org/pod/Email::Valid\" rel=\"nofollow\">Email::Valid</a> seems to do much the same thing and is maintainined.</p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1422042599, "last_edit_date": 1495539810, "creation_date": 1422042294, "answer_id": 28117555, "question_id": 28114403, "link": "https://stackoverflow.com/questions/28114403/perl-mailcheckuser-fails-on-make-test/28117555#28117555", "title": "perl, Mail::CheckUser fails on make test", "body": "<p><a href=\"https://metacpan.org/pod/Mail::CheckUser\" rel=\"nofollow noreferrer\">Mail::CheckUser</a> is doing more than just checking if an email address is valid syntax.  It also checks that the hostname is valid <em>and</em> asks that domain's mail server if the email address exists.  That last one is the problem.</p>\n\n<p>Since the module hasn't been updated in 12 years, it's likely the assumptions in their network tests are no longer valid.</p>\n\n<ol>\n<li>Certain email addresses exist (or don't)</li>\n<li>Certain domains exist (or don't)</li>\n<li>The mail servers will respond to verification commands</li>\n</ol>\n\n<p>To fix the tests you can <a href=\"https://packages.debian.org/wheezy/libmail-checkuser-perl\" rel=\"nofollow noreferrer\">look at the Debian source</a> (which is upstream from Ubuntu) and <a href=\"http://ftp.de.debian.org/debian/pool/main/libm/libmail-checkuser-perl/libmail-checkuser-perl_1.21-2.debian.tar.gz\" rel=\"nofollow noreferrer\">apply their patches</a>.  You can even <a href=\"http://www.cpan.org/misc/cpan-faq.html#How_maintain_module\" rel=\"nofollow noreferrer\">apply to take over the module</a> and upload a patched version.</p>\n\n<p>Even if you fixed the tests, I doubt the technique of asking a mail server is still valid.  A lot has changed in the email world in 12 years.  I suspect many mail servers will no longer validate email addresses, it can be used by spammers to find targets and attackers to find usernames.</p>\n\n<p>As <a href=\"https://stackoverflow.com/a/28115332/14660\">Dave suggested</a>, use <a href=\"https://metacpan.org/pod/Email::Valid\" rel=\"nofollow noreferrer\">Email::Valid</a>.  It checks for valid syntax and (optionally) a valid hostname. It's well maintained and the author is <em>very</em> familiar with email.</p>\n"}], "owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "closed_date": 1422063765, "answer_count": 2, "score": 0, "last_activity_date": 1422263124, "creation_date": 1422030727, "last_edit_date": 1422263124, "question_id": 28114403, "link": "https://stackoverflow.com/questions/28114403/perl-mailcheckuser-fails-on-make-test", "closed_reason": "Not suitable for this site", "title": "perl, Mail::CheckUser fails on make test", "body": "<p>trying to install the module on Linux, but failing on make test.. </p>\n\n<pre><code>Test Summary Report\n-------------------\nt/smtp-taint.t (Wstat: 0 Tests: 0 Failed: 0)\nParse errors: No plan found in TAP output\nt/smtp.t      (Wstat: 0 Tests: 4 Failed: 1)\nFailed test:  1\nt/wildcard.t  (Wstat: 0 Tests: 13 Failed: 3)\nFailed tests:  8-9, 12\nFiles=6, Tests=59, 21 wallclock secs ( 0.05 usr  0.01 sys +  0.51   cusr  0.08 csys =  0.65 CPU)\nResult: FAIL\nFailed 3/6 test programs. 4/59 subtests failed.\nmake: *** [test_dynamic] Error 255\nILYAM/Mail-CheckUser-1.21.tar.gz\n/usr/bin/make test -- NOT OK\n//hint// to see the cpan-testers results for installing this module,    try:\nreports ILYAM/Mail-CheckUser-1.21.tar.gz\nRunning make install\nmake test had returned bad status, won't install without force\n</code></pre>\n\n<p>Edit:\nI still can not install it via cpan.</p>\n\n<p>The reason why I preferred this one to Email::Valid is that Mail::CheckUser can check if such user actually exists, not sure about right terminology... If say, mike@mike-klemin.com is OK by both  Email::Valid and Mail::CheckUser, but if you try notmike@mike-klemin.com, Email::Valid still says it's OK, while Mail::CheckUser will report that there no such user. \nMay be I missed some functionality of Email::Valid and it can do that too. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1422029529, "post_id": 28114022, "comment_id": 44601966, "body": "Can you describe what is wrong with your code?"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1422061850, "post_id": 28114022, "comment_id": 44616633, "body": "Do you want to play golf?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4487137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4a4109183b2f5a67622011d9b4fdc6?s=128&d=identicon&r=PG&f=1", "display_name": "amma", "link": "https://stackoverflow.com/users/4487137/amma"}, "edited": false, "score": 0, "creation_date": 1422354591, "post_id": 28114168, "comment_id": 44706279, "body": "Many Thanks Sobrique.  I tried your code and was able the get the desired result."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1422029948, "creation_date": 1422029948, "answer_id": 28114168, "question_id": 28114022, "link": "https://stackoverflow.com/questions/28114022/perl-code-to-concatenate-value-of-a-column-if-other-column-value-is-same/28114168#28114168", "title": "perl code to Concatenate value of a column if other column value is same", "body": "<p>As you are talking about key value pairs, the answer is 'use a hash'. </p>\n\n<pre><code>my %applications_on;\n\nwhile ( &lt;$info&gt; ) {\n   chomp;\n   my ( $date, $time, $server, $application ) = split; \n   push ( @{ $applications_on{$server} }, $application );\n}\n\nforeach my $server ( keys %applications_on ) {\n    print \"($server) = \".join ( \",\", @{ $applications_on{$server} } ); \n}\n</code></pre>\n\n<p>Something like that, at any rate. </p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4487137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4a4109183b2f5a67622011d9b4fdc6?s=128&d=identicon&r=PG&f=1", "display_name": "amma", "link": "https://stackoverflow.com/users/4487137/amma"}, "edited": false, "score": 0, "creation_date": 1422354619, "post_id": 28121169, "comment_id": 44706303, "body": "Many Thanks 7stud.  Appreciate to not only help me but also to explain in detail."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 21, "user_id": 4487137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4a4109183b2f5a67622011d9b4fdc6?s=128&d=identicon&r=PG&f=1", "display_name": "amma", "link": "https://stackoverflow.com/users/4487137/amma"}, "edited": false, "score": 0, "creation_date": 1422355600, "post_id": 28121169, "comment_id": 44706873, "body": "@amma, You&#39;re welcome.  When you have values that are in fixed width columns, like your data, unpack() is the most efficient way to extract the values."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1422063446, "last_edit_date": 1422063446, "creation_date": 1422061347, "answer_id": 28121169, "question_id": 28114022, "link": "https://stackoverflow.com/questions/28114022/perl-code-to-concatenate-value-of-a-column-if-other-column-value-is-same/28121169#28121169", "title": "perl code to Concatenate value of a column if other column value is same", "body": "<pre><code>use strict; \nuse warnings; \nuse 5.016;\nuse Data::Dumper;\n\nmy $fname = 'data.txt';\n\nopen my $INFILE, '&lt;', $fname\n    or die \"Couldn't open $fname: $!\";\n\nmy $header = &lt;$INFILE&gt;;\nsay \"0123456789\" x 7;\nsay $header;\n\nmy %apps_for;\n\nwhile (my $line = &lt;$INFILE&gt;) {\n    my ($server, $app) = unpack '@21 A14 A*', $line;  #see explanation below\n\n    my $trailing_whitespace = qr{\\s* \\z}xms;\n    $server =~ s/$trailing_whitespace//;\n    $app =~ s/$trailing_whitespace//;\n\n    push @{$apps_for{$server}}, $app;\n}\n\nclose $INFILE;\nsay Dumper(\\%apps_for);\n\nfor my $server (keys %apps_for) {\n    say \"$server:\";\n    say \"  $_\" for @{$apps_for{$server}};\n}\n\n\n--output:--\n0123456789012345678901234567890123456789012345678901234567890123456789\nDate                 Server        application\n\n$VAR1 = {\n          'xyz1' =&gt; [\n                      'oracle_patch_201',\n                      'Cygwin_app'\n                    ],\n          'abc123' =&gt; [\n                        'perl_module_1',\n                        'oracle_patch_201',\n                        'Microsoft_patch_71'\n                      ]\n        };\n\nxyz1:\n  oracle_patch_201\n  Cygwin_app\nabc123:\n  perl_module_1\n  oracle_patch_201\n  Microsoft_patch_71\n</code></pre>\n\n<p>...</p>\n\n<pre><code>@21 A14 A*   @21 -&gt; move to position 21\n             A14 -&gt; extract 14 characters(A)\n             A*  -&gt; extract the remaining(*) characters(A) \n</code></pre>\n\n<p>If you really want the exact output you showed:</p>\n\n<pre><code>for my $server (keys %apps_for) {\n    local $\" = ', ';\n    say \"$server = (@{$apps_for{$server}})\";\n}\n\n--output:--\nxyz1 = (oracle_patch_201, Cygwin_app)\nabc123 = (perl_module_1, oracle_patch_201, Microsoft_patch_71)\n</code></pre>\n\n<blockquote>\n  <p>$\"  </p>\n  \n  <p>When an array or an array slice is interpolated into a double-quoted\n  string or a similar context such as /.../ , its elements are separated\n  by this value. Default is a space.<br>\n  <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">http://perldoc.perl.org/perlvar.html</a></p>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 4487137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4a4109183b2f5a67622011d9b4fdc6?s=128&d=identicon&r=PG&f=1", "display_name": "amma", "link": "https://stackoverflow.com/users/4487137/amma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1422063446, "creation_date": 1422029452, "last_edit_date": 1422029618, "question_id": 28114022, "link": "https://stackoverflow.com/questions/28114022/perl-code-to-concatenate-value-of-a-column-if-other-column-value-is-same", "title": "perl code to Concatenate value of a column if other column value is same", "body": "<p>I want to write perl code to concatenate value of a column2 if other column value1 is same.  My input is tab delimited and contains 3 cloumns.</p>\n\n<p>Input file:</p>\n\n<pre><code>Date                 Server        application\n01/02/2013 00:00     abc123        perl_module_1\n01/02/2013 00:00     abc123        oracle_patch_201\n03/05/2014 00:00     abc123        Microsoft_patch_71\n04/04/2015 00:00     xyz1          oracle_patch_201\n02/12/2015 00:00     xyz1          Cygwin_app\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>abc123 = (\"perl_module_1\",\"oracle_patch_201\",\"Microsoft_patch_71\")\nxyz1 = (\"oracle_patch_201\",\"Cygwin_app\")\n</code></pre>\n\n<p>My code is as below.  As you can see it is not good enough</p>\n\n<pre><code>#!usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $file = 'oneplatformserver.txt';\nopen my $info, $file or die \"could not open $file: $!\";\nmy $application_string=\"\";\nmy $date_string=\"\";\n\nwhile (my $line= &lt;$info&gt;) \n{\n\n chomp $line;\n my @values = split('\\t', $line);\n\n    my $application= $values[2];\n   # $application =~ s/^\\s+|\\s+$//g; # This command will trim spaces at the end of the line\n    my $Quoteapplication = '\"'.$application.'\"';\n    my $QuoteDate = '\"'.$oracledate.'\"';\n\n    $application_string = join(',',$application_string,$Quoteapplication);\n\n    $date_string = join(',',$date_string,$QuoteDate);\n    print \"Date_String is $date_string \\n\";\n    printf(\"UPA \\\"TSTCM2:%s.A;1\\\" /ATTRIBUTES=(application_ID=[ %s ],APPLIED_DATE=[ %s ])\", $server,$application_string,$date_string);  \n\n }\nclose $info;\n\n# printf(\"UPB \\\"QAS:%s.A;1\\\" /ATTRIBUTES=(application_ID=[ %s ],APPLIED_DATE=[ %s ])\", $server,$applicationstring,$datestring);\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 2530415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e24277859b48c608471f491f5678f814?s=128&d=identicon&r=PG", "display_name": "kdarbs", "link": "https://stackoverflow.com/users/2530415/kdarbs"}, "edited": false, "score": 0, "creation_date": 1422040316, "post_id": 28114289, "comment_id": 44608180, "body": "I appreciate your help. Thank you!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 65, "user_id": 2530415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e24277859b48c608471f491f5678f814?s=128&d=identicon&r=PG", "display_name": "kdarbs", "link": "https://stackoverflow.com/users/2530415/kdarbs"}, "edited": false, "score": 0, "creation_date": 1422040471, "post_id": 28114289, "comment_id": 44608262, "body": "Sobrique is right though. If you can use a worker module, that would far more ideal."}, {"owner": {"reputation": 65, "user_id": 2530415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e24277859b48c608471f491f5678f814?s=128&d=identicon&r=PG", "display_name": "kdarbs", "link": "https://stackoverflow.com/users/2530415/kdarbs"}, "edited": false, "score": 0, "creation_date": 1422074458, "post_id": 28114289, "comment_id": 44618661, "body": "Yes, I will consider his approach too. For this approach $hash1{$affix}{$postfix} = shared_clone([$affix1]); only one value is saved for each key. A key can have multiple values. Previously, when I solved this problem without threads I used push @{$hash1{$affix}{$postfix}}, $affix1; or  $hash1{$affix}{$postfix} = [$affix1]; and it saved all the key values. Any ideas?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1422030326, "creation_date": 1422030326, "answer_id": 28114289, "question_id": 28113777, "link": "https://stackoverflow.com/questions/28113777/multithreading-how-can-i-share-hash-of-hash-arrays/28114289#28114289", "title": "Multithreading How can I share hash of hash arrays", "body": "<pre><code>$h{x}{y}\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>$h{x}-&gt;{y}\n</code></pre>\n\n<p>and dereferences autovivify, so it's effectively</p>\n\n<pre><code>( $h{x} //= {} )-&gt;{y}\n</code></pre>\n\n<p>Now, you want to a reference to a shared hash, so</p>\n\n<pre><code>$hash1{$affix} //= &amp;share({});\n$hash1{$affix}{$postfix} = shared_clone([$affix1]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 2530415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e24277859b48c608471f491f5678f814?s=128&d=identicon&r=PG", "display_name": "kdarbs", "link": "https://stackoverflow.com/users/2530415/kdarbs"}, "edited": false, "score": 0, "creation_date": 1422034741, "post_id": 28114917, "comment_id": 44605273, "body": "I appreciate you help. Thank you!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1422032387, "creation_date": 1422032387, "answer_id": 28114917, "question_id": 28113777, "link": "https://stackoverflow.com/questions/28113777/multithreading-how-can-i-share-hash-of-hash-arrays/28114917#28114917", "title": "Multithreading How can I share hash of hash arrays", "body": "<p>Personally: I wouldn't. </p>\n\n<p>I dislike how cumbersome <code>threads::shared</code> makes the process of sharing a hash, so so steer away from it unless it's absolutely necessary.</p>\n\n<p>Given your code, I would suggest is isn't - and you would be better off using <code>Thread::Queue</code> to collate results from your threads. It <em>looks</em> like you're updating an isolated element, without needing to read it back. So you could:</p>\n\n<pre><code>use Thread::Queue;\nuse threads; \n\nmy $task_q = Thread::Queue -&gt; new(); \nmy $result_q = Thread::Queue -&gt; new(); \n\nsub worker { \n   while ( my $item = $task_q -&gt; dequeue ) { \n       #extract a value to work on\n       my $result = \"something\"; \n       $result_q -&gt; enqueue ( $result ); \n   }\n}\n\nfor ( 1..$nthreads ) {\n    threads -&gt; create ( \\&amp;worker );\n}\n\n#enqueue one or more items; \n$work_q -&gt; enqueue ( \"abcde\" ); \n\n#close the work queue. \n$work_q -&gt; end; \n\nforeach my $worker ( threads -&gt; list() ) {\n   $worker -&gt; join;\n}\n\n$results_q -&gt; end;\n\nwhile ( my $item = $results_q -&gt; dequeue ) {\n      #process $item;\n}\n</code></pre>\n\n<p>Which'll mean you don't actually need to have a shared hash at all. </p>\n\n<p>Also - avoid using <code>$a</code> and <code>$b</code> - they are variables with a special meaning in perl - they're used by <code>sort</code> and so they don't get namespace checked in the same ways. </p>\n"}], "owner": {"reputation": 65, "user_id": 2530415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e24277859b48c608471f491f5678f814?s=128&d=identicon&r=PG", "display_name": "kdarbs", "link": "https://stackoverflow.com/users/2530415/kdarbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 28114289, "answer_count": 2, "score": 0, "last_activity_date": 1422032387, "creation_date": 1422028694, "question_id": 28113777, "link": "https://stackoverflow.com/questions/28113777/multithreading-how-can-i-share-hash-of-hash-arrays", "title": "Multithreading How can I share hash of hash arrays", "body": "<p>I am trying to use threads while assigning an array to a hash and another array to a hash of hash.</p>\n\n<pre><code>#!/usr/bin/Perl\n\nuse strict;\nuse threads;\nuse threads::shared;\n\nmy %hash :shared;\nmy %hash1 :shared;\n\nmy $a = \"abcdef\";\nmy $b = \"ghighi\";\n\nmy $len = length($a)-2;\n\n# Define the number of threads\nmy $num_of_threads = 2;\n\n# use the initThreads subroutine to create an array of threads.\nmy @threads = initThreads();\n\n# Loop through the array:\nforeach(@threads){\n                # Tell each thread to perform our 'doOperation()' subroutine.\n        $_ = threads-&gt;create(\\&amp;doOperation);\n}\n\n# This tells the main program to keep running until all threads have finished.\nforeach(@threads){\n    $_-&gt;join();\n}\n\nprint \"\\nProgram Done!\\nPress Enter to exit\";\n$a = &lt;&gt;;\n\n####################### SUBROUTINES ############################\nsub initThreads{\n    my @initThreads;\n    for(my $i = 1;$i&lt;=$num_of_threads;$i++){\n        push(@initThreads,$i);\n    }\n    return @initThreads;\n}\nsub doOperation{\n    # Get the thread id. Allows each thread to be identified.\n    my $id = threads-&gt;tid();\n    my $i = 0;\n\n    while($i &lt; 2)\n    {\n\n        my $split = substr($a, $i, $len);\n        my $split1 = substr($b, $i, $len);\n\n        my $affix = substr($split, 0, $len-1);\n        my $postfix = substr($split, 1, $len-1); \n        my $affix1 = substr($split1, 0, $len-1);\n        my $postfix1 = substr($split1, 1, $len-1); \n\n    print \"$affix\\t$postfix\\n\";\n\n        lock(%hash);\n        #lock(%hash1); \n\n        $hash{$affix} = threads::shared::shared_clone([$affix1]);\n    print \"$hash{$affix}\\n\";\n        #$hash1{$affix}{$postfix} = threads::shared::shared_clone([$affix1]); This is where the problem is. How can I assign an array to a hash of hash\n\n        $i++\n    }\n    print \"Thread $id done!\\n\";\n    # Exit the thread\n    threads-&gt;exit();\n}\n</code></pre>\n\n<p>Thread 1 terminated abnormally: Invalid value for shared scalar.</p>\n\n<p>This is part of my code. How can I assign an array to a hash of hash when using threads.e.g.$hash1{$affix}{$postfix} = threads::shared::shared_clone([$affix1]); This is where the problem is. How can I assign an array to a hash of hash</p>\n"}, {"tags": ["perl", "email", "sendmail"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1422032300, "post_id": 28113650, "comment_id": 44603805, "body": "Are you sanitizing your user input before putting it into the emails? Any newlines would mess things up, for example."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1422032365, "post_id": 28113650, "comment_id": 44603844, "body": "More readable: <code>my ($recipient, $subject, $sender, $cc, $content) = @_;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1422032556, "post_id": 28113650, "comment_id": 44603960, "body": "What does you outgoing mail log say? What do your recipients&#39; incoming mail logs say?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1422041384, "post_id": 28113650, "comment_id": 44608731, "body": "You&#39;re not checking that the open succeeded.  Consider using <a href=\"http://metacpan.org/pod/autodie\" rel=\"nofollow noreferrer\">autodie</a>."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1422040239, "creation_date": 1422040239, "answer_id": 28117036, "question_id": 28113650, "link": "https://stackoverflow.com/questions/28113650/perl-sendmail-mails-are-often-not-received/28117036#28117036", "title": "Perl: Sendmail mails are often not received", "body": "<p>If it works sometimes, and not all the time - odds are it's not something fundamentally wrong with your code. It's hard to say for sure, but what you have there <em>looks</em> ok. </p>\n\n<p>I'd therefore be starting to thinking two possible sources of problems:</p>\n\n<ul>\n<li><p>bad inputs/processing. my personal 'gotcha' is that <code>\"someuser@somewhere.com\"</code> may be interpolated as an array name. But linefeeds are another source of potential error. </p></li>\n<li><p>Your mail infrastructure is suffering, maybe mail spool is filling something like that. Check MTA logs and see if anything obvious occurs there. (You don't seem to be checking for a successful <code>open</code> of your sendmail, for example)</p></li>\n</ul>\n\n<p>Oh, and generally I'd suggest 3 arg open is 'good form', e.g:</p>\n\n<pre><code>open ( my $mailer, \"|-\", \"/usr/lib/sendmail -t -i\" ) or die $!;\nprint {$mailer} \"From: $sender\\n\";\n</code></pre>\n\n<p>etc. </p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1422041540, "creation_date": 1422041540, "answer_id": 28117357, "question_id": 28113650, "link": "https://stackoverflow.com/questions/28113650/perl-sendmail-mails-are-often-not-received/28117357#28117357", "title": "Perl: Sendmail mails are often not received", "body": "<p>There may be bugs in your code, and you should consider using a module like <a href=\"https://metacpan.org/pod/Email::Sender::Manual::QuickStart\" rel=\"nofollow\">Email::Sender</a> instead of rolling your own.  Your mail may also be tossed as spam.  Yes, even if it's not in your users' spam folders.</p>\n\n<p>In this day of rampant spam and phishing, it's not a good idea to send your own mail.  It's just too likely to trip anti-spam protections.  These protections will be at at user's ISP or mail provider and the mail will never reach the user's mail client.</p>\n\n<p>Residential internet accounts, dynamic IPs, VPNs, etc... are often blacklisted.  There are many, many blacklists.  <a href=\"http://whatismyipaddress.com/blacklist-check\" rel=\"nofollow\">You can check what lists your IP is on</a>.</p>\n\n<p>It could be failing other anti-spam heuristics. Many of these have to do with what's in the headers, not the body.  <a href=\"https://en.wikipedia.org/wiki/Anti-spam_techniques#Automated_techniques_for_email_administrators\" rel=\"nofollow\">Getting this right is hard</a>.  A simple one is email <code>From</code> a different domain than the server.</p>\n\n<p>My suggestion would be to try sending email via a provider like <a href=\"http://lifehacker.com/111166/how-to-use-gmail-as-your-smtp-server\" rel=\"nofollow\">GMail</a> or <a href=\"http://www.pobox.com/helpspot/index.php?pg=kb.printer.friendly&amp;id=18#p123\" rel=\"nofollow\">pobox.com</a>.  If you're going to be sending a lot of mail, you'll probably have to pay for an outgoing mail service.</p>\n"}], "owner": {"reputation": 5, "user_id": 3809670, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8867ff79e1ad7687073e83dce3598a5c?s=128&d=identicon&r=PG&f=1", "display_name": "user3809670", "link": "https://stackoverflow.com/users/3809670/user3809670"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "closed_date": 1422051847, "answer_count": 2, "score": 0, "last_activity_date": 1422041540, "creation_date": 1422028303, "question_id": 28113650, "link": "https://stackoverflow.com/questions/28113650/perl-sendmail-mails-are-often-not-received", "closed_reason": "Needs more focus", "title": "Perl: Sendmail mails are often not received", "body": "<p>I use the following function to send e-mails to users registered on my website. The majority of these users receives the mails, however a significant share of them does not recive them, and also cannot find them in their SPAM folder. Could anybody tell me, how I could change the configuration so that everybody could receive the mails?</p>\n\n<pre><code>sub pemo_send_email {\n    my $recipient = shift, my $subject = shift, my $sender = shift, my $cc = shift,\n    my $content = shift;\n\n    open MAIL, \"| /usr/lib/sendmail -t -i\";\n    print MAIL \"From: $sender\\n\";\n    print MAIL \"To: $recipient\\n\";\n    print MAIL \"C\" . \"c: $cc\\n\";\n    print MAIL \"Subject: $subject\\n\";\n    print MAIL \"Reply-To: $sender\\n\";\n    print MAIL \"\\n\";\n    print MAIL \"$content\";\n    close MAIL;\n}\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "reply_to_user": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1422027060, "post_id": 28112783, "comment_id": 44600199, "body": "typo, already corrected it. thanks"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1422028756, "post_id": 28112783, "comment_id": 44601391, "body": "&quot;Unfortunately, i am not able to extend testconf.pm with an exporter or a packagedeclaration, using our instea of my and so on, as this file has to stay like this.&quot; What kind of project are you on, that stops you from fixing basic architectural problems like this?"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1422028908, "post_id": 28112783, "comment_id": 44601512, "body": "basically, someone else build a huge program, this is a config file for this program and i am just a small someoneelse who has to use this file and can&#39;t change it to not kill the old huge program"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1422029006, "post_id": 28112783, "comment_id": 44601589, "body": "My advice: Stick a ticket on the backlog to fix this monstrosity and then start looking for a better job :-)"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1422029568, "post_id": 28112783, "comment_id": 44601997, "body": "Well, as everything else is fine in my job, i guess i can live with that ;)"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1422026872, "post_id": 28113142, "comment_id": 44600066, "body": "Not saying it makes sense, but the OP does say &quot;i am not able to extend testconf.pm with an exporter or a packagedeclaration, <b>using our instea of my</b> and so on, as this file has to stay like this.&quot;"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1422026907, "post_id": 28113142, "comment_id": 44600100, "body": "as i said, i can&#39;t change anything in testconfig.pm . THisSuitIsBlackNOt, yeah I know if I could change anything, it would be easier, but i somehow have to accept this file as given. Ben, this was a typo of mine , corrected the comma"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1422027595, "post_id": 28113142, "comment_id": 44600601, "body": "Well, this gets me one step closer, but i would have to use it as a hash. With your hack, i cannot use it as a hash"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 1, "creation_date": 1422027729, "post_id": 28113142, "comment_id": 44600693, "body": "It&#39;s read in as the hashref that it is in the file, you can simply dereference it as %$config - or directly e.g. $config-&gt;{default}"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1422027978, "post_id": 28113142, "comment_id": 44600869, "body": "Your code is indeed a hack because it&#39;s a reimplementation of <code>do</code>. Other than that, it&#39;s not a hack since he should be using <code>do</code> instead of <code>use</code>/<code>require</code> anyway!"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1422028117, "post_id": 28113142, "comment_id": 44600954, "body": "I haven&#39;t used <code>do</code> since perl4, but it certainly makes for a cleaner answer. :)"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1422028351, "post_id": 28113142, "comment_id": 44601118, "body": "dereferencing was the key. i think i need to get my time to learn this. Thank you very much Grimm!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422029524, "post_id": 28113142, "comment_id": 44601961, "body": "@Ben Grimm, That&#39;s cause your modules have had <code>package</code> statements since Perl 4. The OP&#39;s file doesn&#39;t have a <code>package</code> statement, so <a href=\"http://stackoverflow.com/a/6379109/589924\"><code>require</code> isn&#39;t appropriate</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1422029610, "post_id": 28113142, "comment_id": 44602033, "body": "Re &quot;dereferencing was the key.&quot; There&#39;s no dereferencing in our answers."}], "tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 2, "last_activity_date": 1422030038, "last_edit_date": 1422030038, "creation_date": 1422026757, "answer_id": 28113142, "question_id": 28112783, "link": "https://stackoverflow.com/questions/28112783/import-data-from-module/28113142#28113142", "title": "Import Data from Module", "body": "<p>If the file were not structured to allow <code>do</code> to work, you could read the file, make any necessary changes and <code>eval</code>: </p>\n\n<pre><code>open my $fh, '&lt;', 'testconfig.pm';\n$/ = undef;\nmy $testconfig = &lt;$fh&gt;;\n# changes to the $testconfig source go here\nmy $config = eval $testconfig;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1422027211, "post_id": 28113261, "comment_id": 44600312, "body": "Well, it was not me who specified it. This file is given to me, somehow they read it too. But i don&#39;t know how."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 1, "creation_date": 1422027871, "post_id": 28113261, "comment_id": 44600804, "body": "PS - It&#39;s not appropriate to give files that aren&#39;t Perl modules the <code>.pm</code> extensions"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1422028427, "post_id": 28113261, "comment_id": 44601172, "body": "Well, i am not completely sure who to give the kudos with an correct answer mark, cause you both gave great Support. Ben Grimm on dereferencing and first help, you on an more elegant way. So who to give the mark? ( well ikegami, i know what you mean....but this side of the code does not lay in my hands, so i have to accept whats given)"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1422028523, "post_id": 28113261, "comment_id": 44601220, "body": "There is more than one way to do it, but this answer is the correct one."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1422028950, "post_id": 28113261, "comment_id": 44601544, "body": "so with your acceptance Ben, i flagged this one as answer. But i am thankful to you too!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1422027784, "last_edit_date": 1422027784, "creation_date": 1422027131, "answer_id": 28113261, "question_id": 28112783, "link": "https://stackoverflow.com/questions/28112783/import-data-from-module/28113261#28113261", "title": "Import Data from Module", "body": "<p>You specifically told Perl to limit the scope of the variable (where it's seen) to the file, so you can't.</p>\n\n<p>If that's the entire file, you could rely on the fact that the assignment to <code>$item</code> is the last statement of the file by changing</p>\n\n<pre><code>do(\"testconf.pm\")\n   or die($@ || $!);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my $item = do(\"testconf.pm\")\n   or die($@ || $!);\n</code></pre>\n"}], "owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 28113261, "answer_count": 2, "score": 1, "last_activity_date": 1422030038, "creation_date": 1422025712, "last_edit_date": 1422027003, "question_id": 28112783, "link": "https://stackoverflow.com/questions/28112783/import-data-from-module", "title": "Import Data from Module", "body": "<p>I have given a file testconf.pm ,  with nothing else in it but </p>\n\n<pre><code>my $item = {\n\n'default'   =&gt;     {\n\n    'General'       =&gt;    { 'item1' =&gt; 'config1',\n                            'item2' =&gt; 'config2'\n                          }\n                   }\n           };\n</code></pre>\n\n<p>In a second file main.pl , i want to load the hash for next processing steps,\nI tried some stuff like</p>\n\n<pre><code>use testconfig;\nuse Data::Dumper;\nmy $config;\n$config = testconfig::item;\nprint Dumper $config;\n</code></pre>\n\n<p>But i could not get to use the data from testconf. Unfortunately, i am not able to extend testconf.pm with an exporter or a packagedeclaration, using our instea of my and so on, as this file has to stay like this. How could i get the values out of item in main.pl (btw. i Need to Access the data, not only Dumping it )</p>\n"}]