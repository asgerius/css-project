[{"tags": ["perl", "perl-module", "cpan"], "answers": [{"tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": true, "score": 2, "last_activity_date": 1507183868, "creation_date": 1507183868, "answer_id": 46578946, "question_id": 46575602, "link": "https://stackoverflow.com/questions/46575602/how-do-you-get-complete-kwalitee-output-for-a-perl-module-before-uploading-it/46578946#46578946", "title": "How do you get complete Kwalitee output for a Perl module before uploading it?", "body": "<p>After spending some time writing a conditional t/kwalitee.t test using Test::Kwalitee and Module::CPANTS::Analyse I stumbled upon the Ubuntu package libapp-cpants-lint-perl which installs the command cpants_lint. To use run:</p>\n\n<pre><code>cpants_lint --verbose ModuleName.tar.gz\n</code></pre>\n\n<p>on the *.tar.gz file you plan to upload to PAUSE. Alternately, I found you can install App::CPANTS::Lint which installs cpants_lint.pl which is pretty much the same.</p>\n"}], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 46578946, "answer_count": 1, "score": 4, "last_activity_date": 1507183868, "creation_date": 1507159273, "last_edit_date": 1507161134, "question_id": 46575602, "link": "https://stackoverflow.com/questions/46575602/how-do-you-get-complete-kwalitee-output-for-a-perl-module-before-uploading-it", "title": "How do you get complete Kwalitee output for a Perl module before uploading it?", "body": "<p>After I upload a module to PAUSE I can go sometime later to cpants.cpanauthors.org or metacpan.org and see a bunch of Kwalitee output and a Kwalitee score. How are you supposed to get this same information beforehand?</p>\n\n<p>For instance, I have the issue:</p>\n\n<pre><code>meta_yml_has_licence\nDefine the license if you are using in \nBuild.PL. If you are using MakeMaker (Makefile.PL) you should upgrade to  ExtUtils::MakeMaker version 6.31.\n</code></pre>\n\n<p>I recently upgraded to Perl v5.26.1 and I see I have a Test::Kwalitee module. Am I supposed to roll my own tester using this module, or is there something else that I am missing?</p>\n"}, {"tags": ["linux", "bash", "shell", "perl", "sh"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1507166122, "post_id": 46576141, "comment_id": 80106165, "body": "Thanks @mbethke !  I tried running on my system and get the below errors:  <code>Use of uninitialized value in numeric ge (&gt;=) at perlconnections.pl line 19. Use of uninitialized value in concatenation (.) or string at perlconnections.pl line 20. 101.101.101.101:2000: need 2 connections, found only Use of uninitialized value in numeric ge (&gt;=) at perlconnections.pl line 19. Use of uninitialized value in concatenation (.) or string at perlconnections.pl line 20. 101.101.101.102:3000: need 5 connections, found only</code>"}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1507166285, "post_id": 46576141, "comment_id": 80106193, "body": "you are right, I&#39;m only looking for established connections so -an isn&#39;t necessary. In my actual environment  I&#39;m  looking for the forth field. I just put it as the first filed to simplify the question. My netstat looks similar to yours:tcp        0      0 172.30.252.100:39056    52.216.18.58:80         ESTABLISHED 2000/chrome         ` `"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1507170441, "post_id": 46576141, "comment_id": 80107073, "body": "You&#39;re right, I hadn&#39;t considered the case when there were no connections at all. I&#39;ve added a line to guard against that."}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1507212996, "post_id": 46576141, "comment_id": 80128950, "body": "Thanks @mbethke ! That works. I&#39;m just having an issue with parsing out the 4th column which has the actual IP and not the first one like the example provided. I know how to do this is shell but can&#39;t seem to get it to work in perl. This is my actual netstat output: <code>tcp        0      0 ::ffff:10.151.89.60:46572   ::ffff:10.151.89.57:8030    ESTABLISHED -</code> I&#39;m trying to parse out the 4th column which has the IP&#39;s to track  Also can you provide an example of if a connection is down to send an email alert with the ip list that&#39;s down?  Thanks for all your help!!!"}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1507254662, "post_id": 46576141, "comment_id": 80146903, "body": "I tried to use awk in the netstat portion but no luck. Must be regular expressions :)"}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1507342749, "post_id": 46576141, "comment_id": 80183903, "body": "Hey @mbethke any suggestions or should i open a new thread since you already answered my initial question. Thanks again for your help!!!"}], "tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 0, "last_activity_date": 1507170294, "last_edit_date": 1507170294, "creation_date": 1507163443, "answer_id": 46576141, "question_id": 46574847, "link": "https://stackoverflow.com/questions/46574847/shell-script-alert-if-connections-comming-in-with-the-same-ip-port-drop/46576141#46576141", "title": "Shell Script Alert if connections comming in with the same IP/Port drop", "body": "<p>I'm still not quite clear on the requirements. You call the first field <code>$process_name</code> but in your netstat output that would be the addr:port combination. Actual output on both Linux and BSDs has the protocol as the first field. Also, you seem to be looking only for established connections but you use <code>netstat</code>'s -a switch that makes it print listening sockets, too?</p>\n\n<p>So assuming your output looks like above, I'd do it like this in Perl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %minimum = (\n    '101.101.101.101:2000' =&gt; 2,\n    '101.101.101.102:3000' =&gt; 5,\n);\nmy %count;\n\nopen my $fh, '-|', 'netstat -an' or die \"could not run netstat: $!\";\nwhile(&lt;$fh&gt;) {\n    next unless /^([0-9.]+:\\d+000) /;\n    $count{$1}++;\n}\nclose $fh;\n\nwhile(my ($ip_port, $min) = each %minimum) {\n    $count{$ip_port} ||= 0;\n    next if $count{$ip_port} &gt;= $min;\n    print \"$ip_port: need $min connections, found only $count{$ip_port}\\n\";\n}\n</code></pre>\n\n<p>You'll probably have to adapt the regular expression in the read loop. I'd use <code>netstat -tpn</code> to get active TCP connections and process names, its output looks like this:</p>\n\n<pre><code>tcp        0      0 172.30.252.100:39056    52.216.18.58:80         ESTABLISHED 2000/chrome         \n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507170294, "creation_date": 1507154422, "last_edit_date": 1507159358, "question_id": 46574847, "link": "https://stackoverflow.com/questions/46574847/shell-script-alert-if-connections-comming-in-with-the-same-ip-port-drop", "title": "Shell Script Alert if connections comming in with the same IP/Port drop", "body": "<p>I'm opening up a new question since my original one was answered and don't want to change the topic.</p>\n\n<p>I am trying to monitor multiple connections coming into two separate ports but with the same IP's</p>\n\n<p>Example</p>\n\n<pre><code>netstat -an |grep 000\n101.101.101.101:2000        ESTABLISHED\n101.101.101.101:2000        ESTABLISHED\n101.101.101.102:3000        ESTABLISHED\n101.101.101.102:3000        ESTABLISHED\n101.101.101.102:3000        ESTABLISHED\n101.101.101.102:3000        ESTABLISHED\n</code></pre>\n\n<p>What I'm trying to do is nestat and awk to print column 1 and if 1001.1001.1001.1001:200 isn't in the output 2 times than alert meaning if one goes down still alert that 10.1001.1001.1001 is missing one connection </p>\n\n<p>and also if 10.1001.1001.102:3000 doesn't print exactly 4 times than alert even if it exists 3 times in the netstat output:</p>\n\n<p>Here is my current code which is all good except the IP only has to exist once for the alert to not fail:</p>\n\n<pre><code>connections=('101.101.101.101' '101.101.101.102')\nrunning=( $(netstat -an |grep 000 |awk '{print $1}') )\nnon_running=()\nfor process_name in ${connections[@]}; do\n    if [[ \"${running[*]}\" == *$process_name* ]]; then\n        echo \"$process_name is running\"\n    else\n        echo \"$process_name is not running\"\n    fi\ndone\n</code></pre>\n"}, {"tags": ["arrays", "perl", "for-loop", "multidimensional-array", "text"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1507152544, "post_id": 46574478, "comment_id": 80102495, "body": "<code>[a-z|A-Z|0-9]</code> is the same as <code>[a-zA-Z0-9|]</code>. <code>[\\s\\S]</code> is the same as <code>.</code> if you enable the <code>&#47;s</code> flag."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507157577, "post_id": 46574478, "comment_id": 80104227, "body": "(1) Is the line &quot;<i>description ...</i>&quot; always the first line after &quot;<i>object-group</i>&quot;, and has no keywords?  (2) Do other lines always have the format your sample shows (&quot;<i>network-object</i>&quot; with either &quot;<i>host A.B..</i>&quot; or &quot;<i>AA.BB..  MM.MM..</i>&quot;)?  (3) Is it always exactly one pair of phrases after &quot;<i>network-object</i>&quot;? (4) Can the file ever be very large (as in many, many Mb)?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507158922, "post_id": 46574478, "comment_id": 80104535, "body": "Is there a design reason for having an array-of-arrays for each line, or would not hashrefs in an array be better, for instance <code>( { A =&gt; [ description, ... ] },  ...)</code>?"}, {"owner": {"reputation": 89, "user_id": 1956924, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/878a165da21787230f9c5277f18eea04?s=128&d=identicon&r=PG", "display_name": "Ben Shellrude", "link": "https://stackoverflow.com/users/1956924/ben-shellrude"}, "edited": false, "score": 0, "creation_date": 1507208798, "post_id": 46574478, "comment_id": 80125675, "body": "Thanks zdim. To answer your questions above. 1) no &quot;description&quot; is not always present; 2) yes the other lines always have the same format; 3) no the number of lines is almost always different; 4) no, the file will never be multiple MB... we&#39;re talking about around 1000 lines on average; 5) no design reason for array of arrays, just happened to be the first solution my mind came to"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 1956924, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/878a165da21787230f9c5277f18eea04?s=128&d=identicon&r=PG", "display_name": "Ben Shellrude", "link": "https://stackoverflow.com/users/1956924/ben-shellrude"}, "edited": false, "score": 0, "creation_date": 1507235899, "post_id": 46575755, "comment_id": 80141822, "body": "Worked, Thank you!!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1507236544, "last_edit_date": 1507236544, "creation_date": 1507160519, "answer_id": 46575755, "question_id": 46574478, "link": "https://stackoverflow.com/questions/46574478/perl-using-for-loop-to-parse-paragraphs-into-multidimensional-array/46575755#46575755", "title": "Perl, using for loop to parse paragraphs into multidimensional array", "body": "<p>Since you process the file line-by-line that regex in <code>split</code> cannot process ... multiple lines.  Also, using <code>split</code> like that is a bit convoluted (what exactly does it return?) while not necessary.</p>\n\n<p>You can parse the whole  multi-line block in a single regex, but for that you'd need to read the whole file into a scalar (to \"slurp\" it), and that regex wouldn't be exactly simple either.</p>\n\n<p>For a line-by-line approach a flag is needed to know about \"the first\" line after the header, what seems to be how the description line is identified.  Each line is first <code>split</code> and then the fields used for logic,\nso that we wouldn't start the regex engine often.</p>\n\n<p>The object-name and the description are stored in an ancillary array as they are used for all others.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $file = 'data.txt';\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy (@sections, @base, $got_description);\n\nwhile (&lt;$fh&gt;) \n{\n    my @fields = split;\n\n    if ($fields[0] eq 'object-group') {\n        @base = (); \n        push @base, $fields[-1];\n        $got_description = 0;\n    }   \n    elsif (not $got_description) { \n        $got_description = 1;\n        push @base, join ' ', @fields;\n    }   \n    elsif ($fields[1] eq 'host') {\n        push @sections, [ @base, $fields[2], $fields[1] ];\n    } \n    else {\n        push @sections, [ @base, $fields[1], $fields[2] ]; \n    }   \n}\n\nsay join ', ', @$_ for @sections;\n</code></pre>\n\n<p>On entering a new object-group block the ancillary array used for the name and description (<code>@base</code>) need be cleared, as well as the description-flag.</p>\n\n<p>You can also test the format of lines other than the header and the first line, with regex for patterns <code>A.B...</code>, <code>AA.BB..</code>, and <code>MM.MM..</code>. I didn't do that so not to guess what these stand for.</p>\n\n<p>This code clearly makes assumptions about data since specs aren't stated. The object-group name is taken to be the last word on its line and other values are also taken to have no spaces.</p>\n\n<p>With the description line from your sample shortened, this prints</p>\n\n<pre>\nA, description of A, A.B.C.D, host\nA, description of A, AA.BB.CC.DD, MM.MM.MM.MM\nB, description of B, e.f.g.h, host\nB, description of B, i.j.k.l, host\n</pre>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 1956924, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/878a165da21787230f9c5277f18eea04?s=128&d=identicon&r=PG", "display_name": "Ben Shellrude", "link": "https://stackoverflow.com/users/1956924/ben-shellrude"}, "edited": false, "score": 0, "creation_date": 1507209197, "post_id": 46576011, "comment_id": 80125993, "body": "Thanks Hoff, I&#39;ll give this a go too!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507209330, "post_id": 46576011, "comment_id": 80126085, "body": "<i>&quot;It&#39;s almost always easier to work with the whole block of text in one variable, rather than lines&quot;</i> That is complete nonsense. It is very rarely &quot;easier&quot; and usually results in opaque code such as you have written here."}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507211558, "post_id": 46576011, "comment_id": 80127913, "body": "@Borodin how so, in configs such as this, there are always a fix number of options and the data is consistent. when you have the options in one place use //m and //s really makes sure youre checking exactly the right bit and not drifting into a new section. You can add the data verification easily too to avoid potential issues."}], "tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": -1, "last_activity_date": 1507164742, "last_edit_date": 1507164742, "creation_date": 1507162228, "answer_id": 46576011, "question_id": 46574478, "link": "https://stackoverflow.com/questions/46574478/perl-using-for-loop-to-parse-paragraphs-into-multidimensional-array/46576011#46576011", "title": "Perl, using for loop to parse paragraphs into multidimensional array", "body": "<p>I would break it into sections and then work with the data. It's almost always easier to work with the whole block of text in one variable, rather than lines. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Slurp;\nmy @arr;\nmy $var = read_file($filename);\nfor (split  \"object-group \" , $var ) \n{ \n my $text.=$1 if /^network (\\S+)/s; \n $text.=\", $1\" if / description (.*)/; \n push @arr, \"$text , $1, $2\" while / network-object ((?:\\w+\\.){3}\\w+) ((?:\\w+\\.){3}\\w+)/g;\n push @arr, \"$text , $1, $2\" while / network-object (host) ((?:\\w+\\.){3}\\w+)/g ;\n}\n$\"=\")\\n(\";\nprint \"(@arr)\\n\";'\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 1956924, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/878a165da21787230f9c5277f18eea04?s=128&d=identicon&r=PG", "display_name": "Ben Shellrude", "link": "https://stackoverflow.com/users/1956924/ben-shellrude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 46575755, "answer_count": 2, "score": 1, "last_activity_date": 1507236544, "creation_date": 1507152444, "last_edit_date": 1507235833, "question_id": 46574478, "link": "https://stackoverflow.com/questions/46574478/perl-using-for-loop-to-parse-paragraphs-into-multidimensional-array", "title": "Perl, using for loop to parse paragraphs into multidimensional array", "body": "<p>I've been trying to make something work and I just can't seem to get it. What I'm trying to do... I have a text file that has multiple \"sections\" delimited by section headers:</p>\n\n<pre><code>object-group network A\n description description of section A\n network-object host A.B.C.D\n network-object AA.BB.CC.DD MM.MM.MM.MM\nobject-group network B\n description description of section B\n network-object host e.f.g.h\n network-object host i.j.k.l\n</code></pre>\n\n<p>I'm trying to eventually end up with a multidimensional array that will give me:</p>\n\n<pre><code>A, description, A.B.C.D, host\nA, description, AA.BB.CC.DD, MM.MM.MM.MM\nB, description, e.f.g.h, host\nB, description, i.j.k.l, host\n</code></pre>\n\n<p>I haven't even gotten to the point of reformatting the data yet as I can't even get it to properly parse the line of the text file. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $file = '/root/vpnstuff/objectgroups';\nmy @sections;\nmy $section;\n\nopen my $FILE, '&lt;', \"$file\" or die \"$file: $!\";\n\nwhile(&lt;$FILE&gt;){\n    chomp;\n    push @sections, [split /object-group.[a-z|A-Z|0-9][\\s\\S]*?(?=\\n.*?object-group|$)/, $_];\n}\n\nprint Dumper( @sections ) , \"\\n\\n\";\n\nfor $section (@sections){\n    for my $line (@$section){\n        print $line, \"\\n\";\n    }\n}\n</code></pre>\n\n<p>However, what this does is on account of the split function, strips out the \"object-group network XX\" headers. What I was originally planning to do was to parse the text file, using grep to dump the sections into an array, and then loop through each item in the array to re-format them into what I've described above... </p>\n\n<p>Normally my google kung fu is pretty good, but I'm having real trouble wrapping my head around this one. </p>\n\n<hr>\n\n<p>EDIT. Thanks to all who responded, and thanks to @zdim for helping point me in the right direction. Here's where I ended up, I'm sure you call could have done it much cleaner, but it works, and now I can use it as a working example for the other 3-4000 lines of config I have to parse.  </p>\n\n<pre><code>#! /usr/bin/perl\n\nuse warnings;\nuse strict;\nuse feature 'say';\nuse Data::Dumper;\n\nmy $file = '/root/vpnstuff/objectgroups';\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy (@sections, @base, $got_description);\n\nwhile (&lt;$fh&gt;)\n{\n    my @fields = split;\n\n    if ($fields[0] eq 'object-group') {\n        @base = ();\n        push @base, $fields[-1];\n        $got_description = 0;\n    }\n    elsif (not $got_description) {\n        $got_description = 1;\n        if ($fields[0] eq 'description') {\n            push @base, join ' ', @fields[1..$#fields];\n        }\n        elsif ($fields[0] ne 'description') {\n            if ($fields[1] eq 'host') {\n                push @base, \"\";\n                push @sections, [ @base, $fields[2], $fields[1] ];\n            }\n            else {\n                push @base, \"\";\n                push @sections, [ @base, $fields[1], $fields[2] ];\n            }\n        }\n    }\n    elsif ($fields[1] eq 'host') {\n        push @sections, [ @base, $fields[2], $fields[1] ];\n    }\n    elsif ($fields[1] ne 'host') {\n        push @sections, [ @base, $fields[1], $fields[2] ];\n    }\n}\n\nsay join ', ', @$_ for @sections;\n</code></pre>\n"}, {"tags": ["perl", "elasticsearch"], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 4376423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/82d151235fe0388cea883b7c95322dec?s=128&d=identicon&r=PG&f=1", "display_name": "Bryce", "link": "https://stackoverflow.com/users/4376423/bryce"}, "is_accepted": true, "score": 1, "last_activity_date": 1507733965, "creation_date": 1507733965, "answer_id": 46691551, "question_id": 46573263, "link": "https://stackoverflow.com/questions/46573263/perl-elastic-query-broken-after-upgrade-from-2-4-to-5/46691551#46691551", "title": "Perl Elastic query broken after upgrade from 2.4 to 5", "body": "<p>Update: The following fixed query: </p>\n\n<pre><code>my $response = $elastic-&gt;do_request_new(\n    {\n        query   =&gt; {\n                bool    =&gt; {\n                    must   =&gt; [\n                        {\n                            query_string =&gt; {\n                                query            =&gt; $qstring,\n                                rewrite          =&gt; \"scoring_boolean\",\n\n                                analyze_wildcard =&gt; \"true\",\n                            },\n                        }\n                    ],\n                    filter =&gt; {\n                        bool =&gt; {\n                            should =&gt; [\n                                { term =&gt; { _type =&gt; { value =&gt; \"some_val1\" } } },\n                                { term =&gt; { _type =&gt; { value =&gt; \"some_val2\" } } },\n\n                            ],\n                        },\n                    },\n                },\n            },\n        sort    =&gt; [ qw(_score) ],\n        size =&gt; 50,\n    },\n); \n</code></pre>\n"}], "owner": {"reputation": 362, "user_id": 4376423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/82d151235fe0388cea883b7c95322dec?s=128&d=identicon&r=PG&f=1", "display_name": "Bryce", "link": "https://stackoverflow.com/users/4376423/bryce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 46691551, "answer_count": 1, "score": 4, "last_activity_date": 1507733965, "creation_date": 1507147377, "question_id": 46573263, "link": "https://stackoverflow.com/questions/46573263/perl-elastic-query-broken-after-upgrade-from-2-4-to-5", "title": "Perl Elastic query broken after upgrade from 2.4 to 5", "body": "<p>As the title suggests, I am upgrading to ES5. My original ES query  looked like: </p>\n\n<pre><code>my $response = $elastic-&gt;do_request_new( \n        {\n            query       =&gt; {\n                filtered    =&gt; {\n                    filter  =&gt; {\n                        or  =&gt; [\n                            { term  =&gt; { _type  =&gt; { value =&gt; \"some_val1\" } } },\n                            { term  =&gt; { _type  =&gt; { value =&gt; \"some_val2\" } } },\n                        ]\n                    },\n                    query   =&gt; {\n                        query_string    =&gt; {\n                            query   =&gt; $qstring,\n                            rewrite =&gt; \"scoring_boolean\", \n                            analyze_wildcard =&gt; \"true\",\n                        }\n                    }\n                }\n            },\n\n            sort    =&gt; [ qw(_score) ],\n            size =&gt; 50,\n        },\n    ); \n</code></pre>\n\n<p>My updated looks like: </p>\n\n<pre><code>my $response = $elastic-&gt;do_request_new(\n    {\n        query       =&gt; {\n            bool    =&gt; {\n                should  =&gt; [\n                    { term  =&gt; { _type  =&gt; { value =&gt; \"some_val1\" } } },\n                    { term  =&gt; { _type  =&gt; { value =&gt; \"some_val2\" } } },\n                ],\n                must   =&gt; {\n                    query_string    =&gt; {\n                        query   =&gt; $qstring,\n                        rewrite =&gt; \"scoring_boolean\", \n                        analyze_wildcard =&gt; \"true\",\n                    }\n                }\n            }\n        },\n        sort    =&gt; [ qw(_score) ],\n        size =&gt; 50,\n    },\n); \n</code></pre>\n\n<p>However, upon searching for exact strings in my elastic database, I am returning zero results: </p>\n\n<pre><code>{\n  \"took\" : 3,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 5,\n    \"successful\" : 5,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : 0,\n    \"max_score\" : null,\n    \"hits\" : [ ]\n  }\n}\n</code></pre>\n\n<p>Any ideas about what might be happening? My guess is I have my query structure wrong. Thanks!</p>\n"}, {"tags": ["perl", "heroku", "cpan"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507145520, "post_id": 46572466, "comment_id": 80099169, "body": "Re &quot;<i>and therefore should have enc2xs</i>&#39;, Is this a self-installed <code>perl</code>, or the system <code>perl</code>? Lots of unix distros leave parts of <code>perl</code> out of the standard install, and have you install them using the system&#39;s package manager."}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507146177, "post_id": 46572466, "comment_id": 80099527, "body": "This is a system perl. I explicitly added <code>requires &#39;Encode&#39;, &#39;2.92&#39;;</code> to the cpanfile (and saw it get installed). However, it is worth noting that cpanm attempted to install Encode::HanExtra before it attempted to install Encode, so maybe it did not help. However, I don&#39;t see any way in the cpanfile documentation to force a particular order of installation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507146984, "post_id": 46572466, "comment_id": 80099939, "body": "So did you search your system&#39;s package manager for a package that contains <code>enc2xs</code>? Did you search the filesystem for <code>enc2xs</code> in case it&#39;s in a directory that&#39;s not in you PATH?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507147151, "post_id": 46572466, "comment_id": 80100017, "body": "As for order, Encode 2.92 is only guaranteed to be installed before Encode-HanExtra if it&#39;s a dependency of Encode-HanExtra. (Encode-HanExtra surely does have a dependency on Encode, but apparently not Encode 2.92.)"}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507154840, "post_id": 46572466, "comment_id": 80103376, "body": "That is an interesting question about my system&#39;s package manager. I am using RHEL 7. I never expected that they would cut out parts of Perl and require them to be installed separately. But it looks like that is what happened: In yum package manager, there is a package available <code>perl-Encode.x86_64 : Character encodings in Perl</code> which might give me what I want. Unfortunately you have to be root to update it, and I don&#39;t think that&#39;s allowed (checking)."}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507155030, "post_id": 46572466, "comment_id": 80103437, "body": "If I can&#39;t become root, then I guess my options are 1) Try to improve the buildpack so that it downloads a full copy of Perl from somewhere, instead of using system Perl. 2) Figure out how to get Encode to be installed before Encode::HanExtra. I might be able to do this by having numbered cpanfiles (cpanfile1, cpanfile2) and modifying the buildpack&#39;s configure script to go through them one by one."}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507155740, "post_id": 46572466, "comment_id": 80103671, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/155978/discussion-between-stephen-and-ikegami\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "is_accepted": false, "score": 0, "last_activity_date": 1507162908, "creation_date": 1507162908, "answer_id": 46576100, "question_id": 46572466, "link": "https://stackoverflow.com/questions/46572466/encodehanextra-cannot-be-installed-on-heroku-enc2xs-not-found/46576100#46576100", "title": "Encode::HanExtra cannot be installed on Heroku (enc2xs not found)", "body": "<p>I was able to solve my problem by modifying the configure script in the buildpack to explicitly install Encode before processing the cpanfile (<code>cpanm Encode@2.92</code>).</p>\n\n<p>Still not sure why system Perl was mangled like this, but glad to have it working.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10313256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7caf0b3284fdba523febc46ab676d19?s=128&d=identicon&r=PG", "display_name": "\u041f\u043b\u0430\u0442\u0438\u043d\u043e\u0432\u044b\u0439 \u041a\u043e\u0442", "link": "https://stackoverflow.com/users/10313256/%d0%9f%d0%bb%d0%b0%d1%82%d0%b8%d0%bd%d0%be%d0%b2%d1%8b%d0%b9-%d0%9a%d0%be%d1%82"}, "is_accepted": false, "score": 0, "last_activity_date": 1578652617, "creation_date": 1578652617, "answer_id": 59679964, "question_id": 46572466, "link": "https://stackoverflow.com/questions/46572466/encodehanextra-cannot-be-installed-on-heroku-enc2xs-not-found/59679964#59679964", "title": "Encode::HanExtra cannot be installed on Heroku (enc2xs not found)", "body": "<p>You need to install library \"perl-Encode-devel\"</p>\n\n<p><code>yum install perl-Encode-devel</code></p>\n"}], "owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1578652617, "creation_date": 1507144272, "question_id": 46572466, "link": "https://stackoverflow.com/questions/46572466/encodehanextra-cannot-be-installed-on-heroku-enc2xs-not-found", "title": "Encode::HanExtra cannot be installed on Heroku (enc2xs not found)", "body": "<p>I am attempting to build a Perl app on Heroku, which requires the module Encode::HanExtra. I'm not sure if it matters, but I am using <a href=\"https://github.com/miyagawa/heroku-buildpack-perl\" rel=\"nofollow noreferrer\">this unofficial buildpack</a> and the requirement is specified in the cpanfile with <code>requires 'Encode::HanExtra';</code>. The version of Perl being used is v5.16.3.</p>\n\n<p>Whenever cpanm attempts to configure the module, it errors with </p>\n\n<pre><code>   Entering Encode-HanExtra-0.23\n   Checking configure dependencies from META.yml\n   Running Makefile.PL\n   Configuring Encode-HanExtra-0.23 ... enc2xs not found! at Makefile.PL line 46.\n   ! Configure failed for Encode-HanExtra-0.23. See /app/.cpanm/work/1507137797.173/build.log for details.\n</code></pre>\n\n<p>Perl already has Encode included since it is a core module, and therefore should have enc2xs. I tried forcing a download of the latest version of Encode to see if it resolved the problem, but it didn't. So I'm guessing there is a problem with how the module finds enc2xs, somehow.</p>\n\n<p>From googling the error message I can see that other Encode modules have had similar errors which were patched, but I am not sure if they are actually the same problem as this one. </p>\n\n<p>I am not so familiar with debugging problems installing CPAN modules, so I would appreciate any pointers. My plan is to look at Makefile.pl if the module has one. FWIW I can install this module on Strawberry Perl just fine. I only have the problem on this Heroku build.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1507194940, "post_id": 46569587, "comment_id": 80116595, "body": "try <code>$file-&gt;root-&gt;get_xpath(&#39;&#47;Sys&#47;FP&#47;Ent[@p=&quot;s&quot; and v=&quot;6&quot;]&#39;)</code>"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1507234877, "post_id": 46569587, "comment_id": 80141319, "body": "Error in xpath expression at &#39;v=&quot;6&quot;&#39;.  I don&#39;t see how that would work anyhow: p is an attribute, v isn&#39;t.  I&#39;m not sure why looping over the results is so bad, though. Have you tried using an iterator like next_elt ?  Is that too memory-intensive? Too slow? Why do you not want to use a loop, specifically?"}], "owner": {"reputation": 473, "user_id": 8721281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DKU2.jpg?s=128&g=1", "display_name": "Chazg76", "link": "https://stackoverflow.com/users/8721281/chazg76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507137090, "creation_date": 1507133774, "last_edit_date": 1507137090, "question_id": 46569587, "link": "https://stackoverflow.com/questions/46569587/with-xmltwig-is-there-a-way-to-extract-only-entries-with-specific-child-entry", "title": "With XML::Twig, is there a way to extract only entries with specific child entry", "body": "<p>I have been using XML::Twig with perl for a while now. However I have come across the following problem and wondered if there was a solution. I have a large XML file and would like to extract a twig having a specific child entry. So, for example I might have the following structure:</p>\n\n<pre><code>&lt;Sys&gt;\n    &lt;FP&gt;\n        &lt;Ent p=\"s\"&gt;\n            &lt;v&gt;6&lt;/v&gt;\n        &lt;/Ent&gt;\n        &lt;Ent p=\"t\"&gt;\n            &lt;v&gt;60&lt;/v&gt;\n        &lt;/Ent&gt;\n        &lt;Ent p=\"s\"&gt;\n            &lt;v&gt;10&lt;/v&gt;\n        &lt;/Ent&gt;\n    &lt;/FP&gt;\n&lt;/Sys&gt;\n</code></pre>\n\n<p>Now I can get all the \"Ent\" parts which have an attribute p=\"s\" with a command like:</p>\n\n<pre><code>my @val = ($file-&gt;root-&gt;get_xpath('/Sys/FP/Ent[@p=\"s\"]'));\n</code></pre>\n\n<p>However I want to go a step further and only get those entries that have a child value \"v\" equal to say 6.</p>\n\n<p>Can this be done and if so how? I understand that I could loop through the values I found above and extract the required ones. But in my example I have over 10000+ entries in the XML file of which only about 100 have the required attribute.</p>\n\n<p>Please let me know if anything is not clear.</p>\n"}, {"tags": ["perl", "set-include-path"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507135447, "post_id": 46569489, "comment_id": 80093828, "body": "Just to be clear, this is not a request for help installing Tk. The OP is expecting to see the paths to the original installation location of <code>perl</code> on the network drive in <code>@INC</code>. Tk is installed there."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507135533, "post_id": 46569489, "comment_id": 80093867, "body": "Re &quot;<i>Now I always thought @INC was compiled into Perl.</i>&quot;, Support for building a relocatable Perl was added a while ago. It&#39;s an option that&#39;s used when building Windows binary distributions, as it allows the user to choose to which directory to install Perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507135596, "post_id": 46569489, "comment_id": 80093904, "body": "Aside from adding the paths via env var <code>PERL5LIB</code>, you might be able to address your issue by replacing relatives paths with absolute ones in <code>Config.pm</code> (and possibly the associated &quot;heavy&quot; file)."}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 0, "creation_date": 1507181240, "post_id": 46569489, "comment_id": 80109775, "body": "On *nix systems you just use &quot;use lib &#39;/home/pathtolib&#39;;&quot; at the start of you script. not sure how this is done on windows though"}, {"owner": {"reputation": 21, "user_id": 8721217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac3cb5fc748e4ab2ab3a8ef05610847?s=128&d=identicon&r=PG&f=1", "display_name": "frankme", "link": "https://stackoverflow.com/users/8721217/frankme"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507201116, "post_id": 46569489, "comment_id": 80120741, "body": "Explicitely setting the PERL5LIB environment variable does the trick, thanks @ikegami! But since I regard the explicit setting of paths somewhat ugly, I still would like to understand the underlying mechanism that changed the @inc array. Many thanks in advance."}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1507453645, "post_id": 46569489, "comment_id": 80208434, "body": "Comments are not for extended discussion; a conversation between ikegami and stevesliva has been <a href=\"http://chat.stackoverflow.com/rooms/156194/discussion-on-question-by-frankme-site-perl-directory-is-missing-in-perl-inc-se\">moved to chat</a>."}], "owner": {"reputation": 21, "user_id": 8721217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac3cb5fc748e4ab2ab3a8ef05610847?s=128&d=identicon&r=PG&f=1", "display_name": "frankme", "link": "https://stackoverflow.com/users/8721217/frankme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1507133415, "creation_date": 1507133415, "question_id": 46569489, "link": "https://stackoverflow.com/questions/46569489/site-perl-directory-is-missing-in-perl-inc-search-path", "title": "site/perl directory is missing in perl @INC search path", "body": "<p>I am developing a bunch of Perl scripts for my workmates and me.\nTo ease distribution, Perl itself resides on a network path and is used from there directly using this header:</p>\n\n<pre><code>@rem = '--*-Perl-*--\n@echo off\n\\\\network\\path\\to\\Perl\\bin\\perl.exe -x -S %0 %*\ngoto EndOfPerl\n@rem ';\n#!perl\n#line 8\n#####################################################################\n</code></pre>\n\n<p>This worked fine (and still does!), but a collegue needed a standalone version, so we copied the complete network installation of Perl to the local hard disk.\nAfter changing the header to use the local location we get the message:</p>\n\n<pre><code>Can't locate Tk.pm in @INC (@INC contains: C:/tools/Perl/5.16.1/lib .) at Test.cmd line 30\n</code></pre>\n\n<p>Now I always thought @INC was compiled into Perl. At least, it shouldn't change by simply copying Perl to another location.</p>\n\n<p>There is a slight difference in Perl -V output when started locally.</p>\n\n<p>Here is what I get when started from the network:</p>\n\n<pre><code>Summary of my perl5 (revision 5 version 16 subversion 1) configuration:\n  Platform:\n    osname=MSWin32, osvers=5.2, archname=MSWin32-x86-multi-thread\n    uname=''\n    config_args='undef'\n    hint=recommended, useposix=true, d_sigaction=undef\n    useithreads=define, usemultiplicity=define\n    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef\n    use64bitint=undef, use64bitall=undef, uselongdouble=undef\n    usemymalloc=n, bincompat5005=undef\n  Compiler:\n    cc='cl', ccflags ='-nologo -GF -W3 -MD -Zi -DNDEBUG -O1 -DWIN32 -D_CONSOLE -DNO_STRICT -DPERL_TEXTMODE_SCRIPTS -DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -DUSE_PERLIO -D_USE_32BIT_TIME_T',\n    optimize='-MD -Zi -DNDEBUG -O1',\n    cppflags='-DWIN32'\n    ccversion='12.00.8168', gccversion='', gccosandvers=''\n    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234\n    d_longlong=undef, longlongsize=8, d_longdbl=define, longdblsize=8\n    ivtype='long', ivsize=4, nvtype='double', nvsize=8, Off_t='__int64',\n    lseeksize=8\n    alignbytes=8, prototype=define\n  Linker and Libraries:\n    ld='link', ldflags ='-nologo -nodefaultlib -debug -opt:ref,icf\n    -libpath:\"C:\\Perl\\lib\\CORE\"  -machine:x86'\n    libpth=\\lib\n    libs=oldnames.lib kernel32.lib user32.lib gdi32.lib winspool.lib comdlg32.lib advapi32.lib shell32.lib ole32.lib oleaut32.lib  netapi32.lib uuid.lib ws2_32.lib mpr.lib\n    winmm.lib  version.lib odbc32.lib odbccp32.lib comctl32.lib msvcrt.lib\n    perllibs=oldnames.lib kernel32.lib user32.lib gdi32.lib winspool.lib  comdlg32.lib advapi32.lib shell32.lib ole32.lib oleaut32.lib  netapi32.lib uuid.lib ws2_32.lib mpr.lib winmm.lib  version.lib odbc32.lib odbccp32.lib comctl32.lib msvcrt.lib\n    libc=msvcrt.lib, so=dll, useshrplib=true, libperl=perl516.lib\n    gnulibc_version=''\n  Dynamic Linking:\n    dlsrc=dl_win32.xs, dlext=dll, d_dlsymun=undef, ccdlflags=' '\n    cccdlflags=' ', lddlflags='-dll -nologo -nodefaultlib -debug -opt:ref,icf  -libpath:\"C:\\Perl\\lib\\CORE\"  -machine:x86'\n\n\nCharacteristics of this binary (from libperl):\n  Compile-time options: HAS_TIMES HAVE_INTERP_INTERN MULTIPLICITY\n                        PERLIO_LAYERS PERL_DONT_CREATE_GVSV\n                        PERL_IMPLICIT_CONTEXT PERL_IMPLICIT_SYS\n                        PERL_MALLOC_WRAP PERL_PRESERVE_IVUV PL_OP_SLAB_ALLOC\n                        USE_ITHREADS USE_LARGE_FILES USE_LOCALE\n                        USE_LOCALE_COLLATE USE_LOCALE_CTYPE\n                        USE_LOCALE_NUMERIC USE_PERLIO USE_PERL_ATOF\n                        USE_SITECUSTOMIZE\n  Locally applied patches:\n        ActivePerl Build 1601 [296175]\n  Built under MSWin32\n  Compiled at Aug 30 2012 20:08:55\n  @INC:\n    //network/path/to/Perl/site/lib\n    //network/path/to/Perl/Perl/lib\n    .\n</code></pre>\n\n<p>And here is the output when executed from the local drive:</p>\n\n<pre><code>&lt;snip&gt;\nCompiled at Aug 30 2012 20:08:55\n  %ENV:\n    PERL_DIR=\"C:\\tools\\Perl\\5.16.1\"\n  @INC:\n    C:/tools/Perl/5.16.1/lib\n    .\n</code></pre>\n\n<p>The site/lib part is gone!\nAny ideas, anyone?</p>\n"}, {"tags": ["c", "perl", "undefined-reference", "xs"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1507133420, "post_id": 46569264, "comment_id": 80092704, "body": "If you want to call an XS function (as opposed to a C function earlier in the file), you&#39;ll need to call it as a Perl sub. Don&#39;t make it an XS function, make it a C function."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "edited": false, "score": 0, "creation_date": 1507134688, "post_id": 46569684, "comment_id": 80093396, "body": "I see.  Just got to compile and link.  And useful info too.  Thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507134732, "post_id": 46569684, "comment_id": 80093415, "body": "<code>fromMatrix[...]</code> and <code>intoVector[...]</code> will compile and link, but won&#39;t work. You still need to fix that. And I&#39;ve just made an update."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "edited": false, "score": 0, "creation_date": 1507136569, "post_id": 46569684, "comment_id": 80094363, "body": "Yeah I have been looking on the web for documentation on converting from Perl array-&gt;C array and back the other direction.  Any good links on this process?  Even redirect to another stackoverflow Q&amp;A would help."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1507140411, "post_id": 46569684, "comment_id": 80096386, "body": "<code>SvRV</code> dereference a scalar containing a reference. <code>SvTYPE</code> can be used to check that the referenced var is actually an array. You can then cast the variable returned by <code>SvRV</code> from a <code>SV*</code> into an <code>AV*</code>. <code>newAV()</code> creates a array. <code>av_*</code> functions manipulate arrays."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1507135036, "last_edit_date": 1507135036, "creation_date": 1507134080, "answer_id": 46569684, "question_id": 46569264, "link": "https://stackoverflow.com/questions/46569264/perl-xs-module-writing-use-another-function-from-within-same-xs-file/46569684#46569684", "title": "perl xs module writing - Use another function from within same xs file", "body": "<p>XS code creates <em>Perl</em> subs. So calling an XS function is the same as <a href=\"https://perldoc.perl.org/perlcall.html\" rel=\"nofollow noreferrer\">calling</a> any other Perl sub.</p>\n\n<p>Instead of dealing with that complexity and inefficiency, create a C function instead of a Perl sub. (You can independently expose that C function using XS if you want to.)</p>\n\n<pre><code>#define PERL_NO_GET_CONTEXT\n#include \"EXTERN.h\"\n#include \"perl.h\"\n#include \"XSUB.h\"\n\nstatic UV matrixIndex(UV colIndex, UV rowIndex, UV nCols, UV nRows) {\n    return (rowIndex * nCols) + colIndex;\n}\n\nMODULE = Foo::Bar  PACKAGE = Foo::Bar\n\nint\nmatrixCopyColumnVector_dbl(colIndex, fromMatrix, nColsMatrix, nRowsMatrix, intoVector, nRowsVector)\n    UV colIndex\n    SV * fromMatrix\n    UV nColsMatrix\n    UV nRowsMatrix\n    SV * intoVector\n    UV nRowsVector\nPREINIT:\n    UV register x, n;\nCODE:\n    if (nRowsVector == nRowsMatrix) {\n        RETVAL = 0;\n    } else {\n        n = 0;\n        for (x=0; x&lt;=nRowsMatrix; x++) {\n            intoVector[n] = fromMatrix[matrixIndex(colIndex, x, nColsMatrix, nRowsMatrix)];\n            n++;\n        }\n        RETVAL = 1;\n    }\nOUTPUT:\n    RETVAL\n</code></pre>\n\n<p>Your use of <code>return</code> is incorrect. If you want to return prematurely, use one of the <code>XSRETURN*</code> macros.</p>\n\n<p><code>fromMatrix[...]</code> and <code>intoVector[...]</code> are completely wrong. <code>fromMatrix</code> and <code>intoVector</code> are C arrays. (They aren't even Perl arrays, not that that's relevant.)</p>\n\n<p>Perl integers are of size <code>IV</code> (or <code>UV</code> for unsigned), not necessarily <code>size_t</code>. Use those for best compatibility.</p>\n\n<p>If you want portability, you can't assume C99, so you can't mix declarations and code. You need to put declarations in <code>PREINIT</code> (or use curlies in <code>CODE</code> to create a new scope for variable declarations).</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "edited": false, "score": 1, "creation_date": 1507136713, "post_id": 46569810, "comment_id": 80094440, "body": "Yes, I had figured this out.  It&#39;s definitely better to declare the C functions I need ahead then use XS as the glue as you say.  Much cleaner that way too.  I&#39;m just having trouble marshalling the arrays back and forth now."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1507136925, "post_id": 46569810, "comment_id": 80094531, "body": "@annoying_squid That is another question entirely \u2013 ask it!"}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 2, "last_activity_date": 1507134583, "creation_date": 1507134583, "answer_id": 46569810, "question_id": 46569264, "link": "https://stackoverflow.com/questions/46569264/perl-xs-module-writing-use-another-function-from-within-same-xs-file/46569810#46569810", "title": "perl xs module writing - Use another function from within same xs file", "body": "<p>An XSUB is not a C function. The XS preprocessor does create a C function from your declarations, but it has the signature <code>void (CV*)</code>. The XSUB then takes arguments from the Perl argument stack and translates them to C values using your typemaps. It is therefore not possible to call your XSUBs directly.</p>\n\n<p>Instead, you would have to call the XSUB as if it were any other Perl function, i.e. push the arguments as <code>SV*</code>s onto the stack. See <a href=\"http://perldoc.perl.org/perlcall.html\" rel=\"nofollow noreferrer\"><code>perldoc perlcall</code></a> for details. Clearly this is tedious and inefficient.</p>\n\n<p>A better solution is to declare all functions that you want to use from both Perl and XS as <code>static</code> C functions in your XS file, then write the XS glue code to expose it to Perl. Here:</p>\n\n<pre><code>static size_t matrixIndex(size_t colIndex, size_t rowIndex, size_t nCols, size_t nRows)\n{\n    size_t register i;  // unneeded\n    return (rowIndex * nCols) + colIndex;\n}\n</code></pre>\n\n<p>Note that if this function uses any part of the Perl API, then you should also use the <code>pTHX</code> and <code>aTHX</code> macros. The declaration changes to</p>\n\n<pre><code>static size_t matrixIndex(pTHX_ size_t colIndex, etc...) ...\n</code></pre>\n\n<p>and when calling it from C you'd write <code>matrixIndex(aTHX_ colIndex, etc...)</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 46569684, "answer_count": 2, "score": 3, "last_activity_date": 1507135036, "creation_date": 1507132697, "question_id": 46569264, "link": "https://stackoverflow.com/questions/46569264/perl-xs-module-writing-use-another-function-from-within-same-xs-file", "title": "perl xs module writing - Use another function from within same xs file", "body": "<p>I'm a beginner in XS and have spent some time looking for this answer on the web with no luck.  The problem is that XS changes the name of the function and when it goes to compile, I will get an undefined reference error.  For example consider the XS code below:</p>\n\n<pre><code>size_t \nmatrixIndex (colIndex, rowIndex,nCols,nRows)\n      size_t colIndex\n      size_t rowIndex\n      size_t nCols\n      size_t nRows\n    CODE:\n    size_t register i;\n    RETVAL = (rowIndex * nCols) + colIndex;\n    OUTPUT:\n        RETVAL\n</code></pre>\n\n<p>I then try to use this in the following function like this</p>\n\n<pre><code>int\nmatrixCopyColumnVector_dbl (colIndex,fromMatrix,nColsMatrix,nRowsMatrix,intoVector,nRowsVector)\n      size_t colIndex\n      SV * fromMatrix\n      size_t nColsMatrix\n      size_t nRowsMatrix\n      SV * intoVector\n      size_t nRowsVector\n    CODE:\n      size_t register x, n;\n      if( nRowsVector != nRowsMatrix) { RETVAL = 0; return RETVAL; }\n      n = 0;\n      for(x=0; x&lt;= nRowsMatrix; x++) {\n         intoVector[n] = fromMatrix[matrixIndex /*USE OF FUNCTION HERE!!*/(colIndex,x,nColsMatrix,nRowsMatrix)];\n         n++;\n      }\n      RETVAL = 1;\n      return RETVAL;\n    OUTPUT:\n       RETVAL\n</code></pre>\n\n<p>I then run <code>make</code> and it goes through the compile process and I get an error at what appears to be the linking stage of <code>undefined reference to 'matrixIndex'</code>.  </p>\n\n<p>So I am wondering what is the standard XS way to call a function from within the same XS file?</p>\n"}, {"tags": ["angularjs", "perl", "content-type", "dancer"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1507135378, "post_id": 46565373, "comment_id": 80093785, "body": "The <code>src</code> attribute expects an image and you provide the MIME type of an image, but you actually return a data URI containing an image, not an image itself. Can the response not return the image contents directly?"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1507137604, "post_id": 46565373, "comment_id": 80094884, "body": "@amon The back end generates an image data uri as exampled in the returned string in the subroutine... how should it be treated to be returned successfully/functionally to the src attribute? thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "is_accepted": true, "score": 0, "last_activity_date": 1507197303, "creation_date": 1507197303, "answer_id": 46582763, "question_id": 46565373, "link": "https://stackoverflow.com/questions/46565373/perl-correct-content-type-formatting-for-returning-image-data-uri/46582763#46582763", "title": "perl: correct `content type` formatting for returning `image data uri`", "body": "<p>Perl subroutine:</p>\n\n<pre><code>my $photo = '/9j/4gIcSUNDX....oqOU1MzEFUa8x2MJf5JUjFV3llWW3UVscTLNhd93KFWQUrqHn/ABEc2CfmIASx0nMWLiN5f2hqE//Z';\nmy $decoded= MIME::Base64::decode_base64($photo);\ncontent_type 'image/jpeg';\n$decoded;\n</code></pre>\n"}], "owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 46582763, "answer_count": 1, "score": 0, "last_activity_date": 1507197303, "creation_date": 1507121530, "question_id": 46565373, "link": "https://stackoverflow.com/questions/46565373/perl-correct-content-type-formatting-for-returning-image-data-uri", "title": "perl: correct `content type` formatting for returning `image data uri`", "body": "<p>I have a template in <code>angularjs</code> expecting the <code>image data uri</code> returned by a server call invoked through the <code>src</code> attribute of the <code>img</code> element of the template:</p>\n\n<pre><code>&lt;img width=\"200px\" height=\"200px\" src=\"http://localhost:3000/returnimage\" /&gt;\n</code></pre>\n\n<p>On the server side, written in <code>Perl</code> with <code>Dancer</code> I have:</p>\n\n<pre><code>any ['get', 'post'] =&gt; '/returnimage' =&gt; sub {\n    content_type 'image/jpeg;base64;';\n    'data:image/jpeg;base64,/9j/4gIcSUNDX1B....N5f2hqE//Z';\n};\n</code></pre>\n\n<p>The result on template render is a broken image tag:\n<a href=\"https://i.stack.imgur.com/Z36Gd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z36Gd.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/Eoes6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Eoes6.png\" alt=\"enter image description here\"></a>\nBut the call is executed:\n<a href=\"https://i.stack.imgur.com/D88Uf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D88Uf.png\" alt=\"enter image description here\"></a></p>\n\n<p>The network response and preview are unavailable. But if I call <code>http://localhost:3000/returnimage</code> directly from the browser they do contain the complete <code>image data uri</code> as 'data:image/jpeg;base64,/9j/4gIcSUNDX1B....N5f2hqE//Z'. ALthough a black image shows up and when inspected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BjL4Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BjL4Y.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any ideas on problem/fix ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 191202, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 1, "creation_date": 1507119311, "post_id": 46564515, "comment_id": 80082602, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4173496/what-does-mean-in-perl\">What does &#39;\\&#39; mean in Perl?</a>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1507119313, "post_id": 46564515, "comment_id": 80082604, "body": "Why do you use <code>$var=\\&#39;string&#39;</code> instead of <code>$var=&#39;string&#39;</code> ? The first one assigns a reference to the string, the second the string itself."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1507119827, "post_id": 46564515, "comment_id": 80083001, "body": "CSV is a complete red herring here. I&#39;ve removed the tag."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1507120798, "last_edit_date": 1507120798, "creation_date": 1507119792, "answer_id": 46564796, "question_id": 46564515, "link": "https://stackoverflow.com/questions/46564515/why-does-a-scalar-variable-that-contains-a-code-snippet-not-getting-stored-in-a/46564796#46564796", "title": "Why does a scalar variable that contains a code snippet not getting stored in a CSV file properly?", "body": "<p>Your variable doesn't contain a code snippet. It contains a <em>reference</em> to a code snippet. That's not the same thing.</p>\n\n<p>To get what you want, you can either store an <strong>actual</strong> code snippet:</p>\n\n<pre><code>$code = 'print \"Hello world\"';\nprint $code;\n</code></pre>\n\n<p>Or you can continue to store a reference, but de-reference it as you print it:</p>\n\n<pre><code>$code = \\'print \"Hello world\"';\nprint $$code;  # Note $$ to de-reference variable\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 8152961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-R-CzDhE6kss/AAAAAAAAAAI/AAAAAAAAAHQ/RFsiKB4bnSQ/photo.jpg?sz=128", "display_name": "Aiswarya", "link": "https://stackoverflow.com/users/8152961/aiswarya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 46564796, "answer_count": 1, "score": -1, "last_activity_date": 1507120798, "creation_date": 1507118956, "last_edit_date": 1507119832, "question_id": 46564515, "link": "https://stackoverflow.com/questions/46564515/why-does-a-scalar-variable-that-contains-a-code-snippet-not-getting-stored-in-a", "title": "Why does a scalar variable that contains a code snippet not getting stored in a CSV file properly?", "body": "<p>I have a variable <code>$code = \\'print \"Hello World\";'</code>.</p>\n\n<p>When I try to write this value in a CSV file using perl, I see something like <code>SCALAR(0x6ac7890)</code> under the CODE column in the CSV. I was expecting <code>print \"Hello World\";</code> under the column. Can someone please clarify what has went wrong here?</p>\n"}, {"tags": ["sql", "oracle", "perl", "dbi"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1507127174, "post_id": 46563987, "comment_id": 80088420, "body": "<a href=\"https://stackoverflow.com/questions/8657005/env-doesnt-work-and-i-cannot-use-shared-library?rq=1\" title=\"env doesnt work and i cannot use shared library\">stackoverflow.com/questions/8657005/&hellip;</a>"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1507147124, "post_id": 46563987, "comment_id": 80100004, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8657005/env-doesnt-work-and-i-cannot-use-shared-library\">%ENV doesn&#39;t work and I cannot use shared library</a>"}, {"owner": {"reputation": 443, "user_id": 8669616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hpKWB.jpg?s=128&g=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/8669616/avinash"}, "edited": false, "score": 0, "creation_date": 1507193554, "post_id": 46563987, "comment_id": 80115815, "body": "I tried to use the above provided solution, but i am getting the same error"}, {"owner": {"reputation": 443, "user_id": 8669616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hpKWB.jpg?s=128&g=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/8669616/avinash"}, "edited": false, "score": 1, "creation_date": 1507196485, "post_id": 46563987, "comment_id": 80117596, "body": "After setting the above export commands in the etc/profile and etc/bashrc and adding as an .sh file under etc/profile.d fixed the issue."}, {"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 0, "creation_date": 1535223316, "post_id": 46563987, "comment_id": 90991014, "body": "@Avinash If that&#39;s the answer could you make it into an answer to this, then a day later accept it?"}], "answers": [{"tags": [], "owner": {"reputation": 443, "user_id": 8669616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hpKWB.jpg?s=128&g=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/8669616/avinash"}, "is_accepted": true, "score": 1, "last_activity_date": 1549626567, "creation_date": 1549626567, "answer_id": 54591808, "question_id": 46563987, "link": "https://stackoverflow.com/questions/46563987/error-while-executing-the-perl-script-and-not-able-to-set-the-environment-variab/54591808#54591808", "title": "Error while executing the perl script and not able to set the Environment Variables", "body": "<p>After setting the above export commands in the etc/profile and etc/bashrc and adding as an .sh file under etc/profile.d fixed the issue. </p>\n"}], "owner": {"reputation": 443, "user_id": 8669616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hpKWB.jpg?s=128&g=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/8669616/avinash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 54591808, "answer_count": 1, "score": 2, "last_activity_date": 1549626567, "creation_date": 1507117424, "last_edit_date": 1507128667, "question_id": 46563987, "link": "https://stackoverflow.com/questions/46563987/error-while-executing-the-perl-script-and-not-able-to-set-the-environment-variab", "title": "Error while executing the perl script and not able to set the Environment Variables", "body": "<p>I executed the below perl script,</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse DBD::Oracle;\nuse DBI;\n\nmy $driver = \"Oracle\";\nmy $database = \"host=xxxxxx;port=6210;sid=xxxx\";\nmy $dsn = \"DBI:$driver:$database\";\nmy $userid = \"xxxxx\";\nmy $password = \"xxxxx\";\n\n#Database Connection\nmy $dbh = DBI-&gt;connect($dsn, $userid, $password,{RaiseError =&gt; 1}) or die \"$DB::errstr\";\nmy $sth = $dbh-&gt;prepare(\"update collabuser set user_email='aravikum.wipro.com' where user_login='aravikum'\") or die \"$DBI::errstr\";\n\n$sth-&gt;execute() or die \"couldn't execute statementn$!\";\n$sth-&gt;rows;\n\n#End of Program\n$sth-&gt;finish();\n$dbh-&gt;disconnect();\n</code></pre>\n\n<p>I got the error below:</p>\n\n<pre><code>Can't load '/usr/local/lib64/perl5/auto/DBD/Oracle/Oracle.so' for module DBD::Oracle: libocci.so.11.1: cannot open shared object file: No such file or directory at /usr/lib64/perl5/DynaLoader.pm line 190.\n at perlupdt.pl line 11.\nCompilation failed in require at perlupdt.pl line 11.\nBEGIN failed--compilation aborted at perlupdt.pl line 11.\n</code></pre>\n\n<p>on googling, i got an answer like running the below export commands fixed the issue. so, i executed and it worked fine,</p>\n\n<pre><code>export ORACLE_HOME=/usr/lib/oracle/11.2/client64\nexport LD_LIBRARY_PATH=/usr/lib/oracle/11.2/client64/lib:$LD_LIBRARY_PATH\nexport PATH=/usr/lib/oracle/11.2/client64/bin:$PATH\n</code></pre>\n\n<p>But, i cant execute the above commands each and every time when i login to putty,</p>\n\n<p>I decided to put this export inside the script so added these at the starting of the script,</p>\n\n<pre><code>$ENV{\"ORACLE_HOME\"} = '/usr/lib/oracle/11.2/client64';\n$ENV{\"LD_LIBRARY_PATH\"} = '/usr/lib/oracle/11.2/client64/lib:$LD_LIBRARY_PATH';\n$ENV{\"PATH\"} = '/usr/lib/oracle/11.2/client64/bin:$PATH';\n</code></pre>\n\n<p>But I am getting the above stated error, please suggest a solution to import these commands inside my perl script.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1507112329, "post_id": 46561997, "comment_id": 80078276, "body": "@abbasp: Also, please consider giving your question a better title."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1507113644, "post_id": 46561997, "comment_id": 80079081, "body": "@abbasp: I&#39;ve fixed the formatting of your code for you. It might be worth reading <a href=\"https://stackoverflow.com/editing-help\">Markdown help</a>."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507126700, "post_id": 46561997, "comment_id": 80088018, "body": "@Borodin: I have edited the question whatever OP updated the coding in the comments, unfortunately someone edited the question before I have edited the same. That&#39;s the issue. However I will follow your advice."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1507130756, "last_edit_date": 1507130756, "creation_date": 1507113565, "answer_id": 46562814, "question_id": 46561997, "link": "https://stackoverflow.com/questions/46561997/how-to-calculate-difference-between-2-time-stamps-in-perl/46562814#46562814", "title": "How to calculate difference between 2 time stamps in PERL", "body": "<p>You are getting that error message because Date::Parse isn't installed. This module isn't a part of the standard Perl distribution and needs to be installed separately. If you want to use it, then you need to install it.</p>\n\n<p>However.</p>\n\n<p>Although you <code>use</code> Date::Parse and Date::Format in your code, you don't actually make use of them. So you can just delete those two lines. Then your code will probably work.</p>\n\n<p>Date::Parse and Date::Format are actually quite dated modules. For date and time work in Perl, I recommend <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piec</a>e (which is a standard part of the Perl library) or <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow noreferrer\">DateTime</a> (which needs to be installed).</p>\n"}], "owner": {"reputation": 1, "user_id": 8715897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vx_IWzqj468/AAAAAAAAAAI/AAAAAAAAAHU/zE9wqL45oME/photo.jpg?sz=128", "display_name": "abbas p", "link": "https://stackoverflow.com/users/8715897/abbas-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -8, "last_activity_date": 1507130756, "creation_date": 1507111047, "last_edit_date": 1507113165, "question_id": 46561997, "link": "https://stackoverflow.com/questions/46561997/how-to-calculate-difference-between-2-time-stamps-in-perl", "title": "How to calculate difference between 2 time stamps in PERL", "body": "<p>Code to calculate the difference between 2 given time stamps.  <code>Start_Time=\"2017-09-19 19:36:12.763\"</code>  <code>End_Time=\"2017-09-19 19:36:22.72\"</code>  I want to get the difference between above 2 time stamps also considering the milliseconds. </p>\n\n<p>This is what i tried:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict; \nuse warnings;\nuse Date::Parse;\nuse Date::Format;\n\n$startdat = \"2007-11-17 12:51:22\";\n$stopdate = \"2007-11-17 12:52:22\";\n\nmy ($years, $months, $days, $hours, $mins, $secs) = split /\\W+/, $startdat;\nmy ($yeart, $montht, $dayt, $hourt, $mint, $sect) = split /\\W+/, $stopdate;\n\nmy $times = timelocal($secs,$mins,$hours,$days,$months,$years);\nmy $timet = timelocal($sect,$mint,$hourt,$dayt,$montht,$yeart);\n\n$time = $timet - $times;\n\nprint $time;\n</code></pre>\n\n<p>But this gives me an error: Can't locate Date/Parse.pm in @INC.</p>\n"}, {"tags": ["perl", "exec", "child-process", "qx"], "answers": [{"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 2, "last_activity_date": 1507109595, "creation_date": 1507109595, "answer_id": 46561534, "question_id": 46561341, "link": "https://stackoverflow.com/questions/46561341/modules-inherited-by-child-process-from-parent-process-in-perl/46561534#46561534", "title": "Modules inherited by child process from parent process in Perl", "body": "<p>Since the sub-processes are entirely separate processes they will not keep any modules loaded by the parent process.</p>\n\n<p>One possibility to solve this is to set the <code>PERL5OPT</code> environment variable. This variable can hold extra command line flags for the Perl interpreter. However, this will affect all Perl processes started directly or indirectly by your script, not just those scripts that are part of your project.</p>\n\n<p>To automatically <code>use Logging</code>, you'd add <code>-MLogging</code> to the <code>PERL5OPT</code>. In shell:</p>\n\n<pre><code>$ export PERL5OPT=\"$PERL5OPT -MLogging\"\n$ ./execute.pl\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ PERL5OPT=\"$PERL5OPT -MLogging\" ./execute.pl\n</code></pre>\n\n<p>or within <code>execute.pl</code>:</p>\n\n<pre><code>$ENV{PERL5OPT} .= \" -MLogging\";\n</code></pre>\n"}], "owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "accepted_answer_id": 46561534, "answer_count": 1, "score": 2, "last_activity_date": 1507109595, "creation_date": 1507108928, "question_id": 46561341, "link": "https://stackoverflow.com/questions/46561341/modules-inherited-by-child-process-from-parent-process-in-perl", "title": "Modules inherited by child process from parent process in Perl", "body": "<ul>\n<li>I am integrating a logging framework to my perl project which has\naround 300 Perl files.</li>\n<li>So I have written a module <code>Logging.pm</code> which has overridden <code>die</code> ,\n<code>say</code> , <code>warn</code> functionalities and since <code>print</code> cannot be overridden I have tied it my custom handle.</li>\n<li>I have a master script <code>execute.pl</code> which executes all the scripts through <code>system</code>/<code>qx</code>/<code>exec</code>.</li>\n<li>I want to include <code>Logging.pm</code> in just <code>execute.pl</code> and all the\nfunctionalities of  <code>Logging.pm</code> should be availabe in the child\nprocess executed by execute.pl through <code>system()</code> or <code>qx()</code> or\n<code>exec()</code>.</li>\n</ul>\n\n<p><strong>Example of Execution:</strong></p>\n\n<pre><code>execute.pl -&gt; system(\"test1.pl\") -&gt; system(\"test2.pl\")\n</code></pre>\n\n<p>So the <code>test1.pl</code> and <code>test2.pl</code> should pick up the overridden <code>die/warn/say/print</code> if I just include <code>Logging.pm</code> in <code>excute.pl</code>.</p>\n\n<p>As far I know <code>system/qx/exec</code> will be OS call and <code>Logging.pm</code> won't be available in the child process, is there any way I can achive this as I don't want to edit 300 files? </p>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1507104100, "post_id": 46559041, "comment_id": 80073390, "body": "You should add (at least) which module do you using..."}, {"owner": {"reputation": 75, "user_id": 7773733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b370c31cb262b2b15835fbcda16d7e4?s=128&d=identicon&r=PG&f=1", "display_name": "Shan Mugam", "link": "https://stackoverflow.com/users/7773733/shan-mugam"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1507106986, "post_id": 46559041, "comment_id": 80074954, "body": "we use Excel::Writer::XLSX"}, {"owner": {"reputation": 75, "user_id": 7773733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b370c31cb262b2b15835fbcda16d7e4?s=128&d=identicon&r=PG&f=1", "display_name": "Shan Mugam", "link": "https://stackoverflow.com/users/7773733/shan-mugam"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1508215131, "post_id": 46559041, "comment_id": 80511425, "body": "@jm66 - Any comments or suggestions on the above?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1508219005, "post_id": 46559041, "comment_id": 80512724, "body": "Double check your code, because probably you somewhere using the <code>(1,1)</code>. The module works correctly and on my Mac Excel it is OK - exactly as you want."}, {"owner": {"reputation": 75, "user_id": 7773733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b370c31cb262b2b15835fbcda16d7e4?s=128&d=identicon&r=PG&f=1", "display_name": "Shan Mugam", "link": "https://stackoverflow.com/users/7773733/shan-mugam"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1508243325, "post_id": 46559041, "comment_id": 80526590, "body": "@jm66 - i have checked the code again, am using (1,0) only. is der any other alternate command on the same module?"}], "answers": [{"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 0, "last_activity_date": 1508246167, "last_edit_date": 1508246167, "creation_date": 1508244782, "answer_id": 46790637, "question_id": 46559041, "link": "https://stackoverflow.com/questions/46559041/how-to-space-out-tall-in-page-setup-scaling-option-in-excel-through-perl/46790637#46790637", "title": "How to space out tall in page setup scaling option in Excel through Perl", "body": "<p>See, you didn't provided any code. Therefore nobody could help you. The module works correctly. Demo:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Excel::Writer::XLSX;\n\nmy $workbook  = Excel::Writer::XLSX-&gt;new( 'test.xlsx' );\nmy $worksheet = $workbook-&gt;add_worksheet();\n\n$worksheet-&gt;write( 0, 0, \"Hi\" );\n$worksheet-&gt;fit_to_pages(1,0);\n</code></pre>\n\n<p>Now after opening it in my Excel, it shows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4MJex.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4MJex.png\" alt=\"enter image description here\"></a></p>\n\n<p>or in the PageSetup</p>\n\n<p><a href=\"https://i.stack.imgur.com/rsTlc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rsTlc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Even if you check the <code>xml</code> in the <code>xlsx</code> (e.g. rename the <code>.xlsx</code> to <code>.zip</code> and unzip) you will find in the <code>sheet.xml</code> the following snipet:</p>\n\n<pre><code>&lt;pageSetup fitToHeight=\"0\" orientation=\"portrait\"/&gt;\n</code></pre>\n\n<p>as you can see, the content of the generated <code>.xlsx</code> file is correctly set the <code>fitToHeight</code> (aka \"tall\") to <code>0</code>.</p>\n\n<p>So, the problem - as I said in the comment - is in your side.</p>\n"}], "owner": {"reputation": 75, "user_id": 7773733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b370c31cb262b2b15835fbcda16d7e4?s=128&d=identicon&r=PG&f=1", "display_name": "Shan Mugam", "link": "https://stackoverflow.com/users/7773733/shan-mugam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508246167, "creation_date": 1507101194, "question_id": 46559041, "link": "https://stackoverflow.com/questions/46559041/how-to-space-out-tall-in-page-setup-scaling-option-in-excel-through-perl", "title": "How to space out tall in page setup scaling option in Excel through Perl", "body": "<p>Is there a way to fit to 1 page(s) wide only (tall should be blank) in excel through perl, so that we can set the scaling as \"Fit All Columns on One Page\". Same as below. </p>\n\n<p>Tried <strong>\"$worksheet1->fit_to_pages( 1, 0 );\"</strong>, but it is changing to 1,1 (1-wide &amp; 1-tall).</p>\n\n<p><a href=\"https://i.stack.imgur.com/zwon0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwon0.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["sql", "perl", "postfix", "dovecot"], "comments": [{"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1507125465, "post_id": 46558581, "comment_id": 80087109, "body": "If you&#39;re managing the mailboxes in a database, then I think you&#39;ve got it covered with the db INSERT or DELETE + folder rm.  You may want to add some logic to delete <code>&#47;var&#47;vmail&#47;[domain]</code> once there are no more mailboxes for that domain."}, {"owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "reply_to_user": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1507170996, "post_id": 46558581, "comment_id": 80107184, "body": "Thanks for your comment. The parent domain folder I think I need to leave alone, since there is a separate SQL table &quot;domain&quot; that contains domain names and later adding a new user might cause errors due to the missing folder. Was hoping somebody on this planet had dealt with this before... but eventually I&#39;ll do some testing and see if anything breaks before writing the code."}, {"owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "reply_to_user": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1507427880, "post_id": 46558581, "comment_id": 80204135, "body": "Quick update on this: after examining how postfixadmin PHP code deletes mailboxes, it appears it only deletes relevant SQL tables: the actual folders where mail data is stored still remains. The problem is that postfix creates folders and mail as its own user/group (e.g. vmail/vmail) and also writes permissions as 0600 rwx------... so even adding user apache to the group won&#39;t let it delete mailboxes &quot;fully&quot;. Now investigating how to get postfix to at least write its folders and files with permissions 0770 and 0660 respectively."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1507473207, "post_id": 46558581, "comment_id": 80213766, "body": "I&#39;ve noticed the same thing with postfixadmin.  It&#39;s a bit annoying that it doesn&#39;t or can&#39;t fully clean up after itself."}], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "is_accepted": false, "score": 0, "last_activity_date": 1507626322, "creation_date": 1507626322, "answer_id": 46662707, "question_id": 46558581, "link": "https://stackoverflow.com/questions/46558581/delete-mailbox-based-on-postfix-dovecot-sql/46662707#46662707", "title": "Delete mailbox based on postfix / dovecot / sql", "body": "<p>This is how I've solved this challenge.</p>\n\n<p>Firstly, the architecture is a remote mail server running Postfix/Dovecot/MySQL. My management server is its own LAMP stack and within it I have a custom database and table that tracks mailboxes: users, domains, status (amongst other things). I mention this because it will help people formulate their own custom solutions.</p>\n\n<p>However, theoretically it could all run on the same server (just go straight to step 2).</p>\n\n<p>To delete a mailbox this is what I do:</p>\n\n<ol>\n<li>From my local server, I use LWP::UserAgent and HTTP::Reqeuest::Common PERL modules to send a GET request to the remote Postfix server. For example, <a href=\"https://remote.com/api.cgi?action=delete&amp;mailbox=john@smith.com\" rel=\"nofollow noreferrer\">https://remote.com/api.cgi?action=delete&amp;mailbox=john@smith.com</a>.</li>\n<li><p>On the remote Postfix server, I also have PERL and Apache installed. As the GET request hits the server, my Apache run PERL script updates the local MySQL <em>postfix</em> database <em>mailbox</em> table sending this SQL commands:</p>\n\n<pre><code>use postfix\nUPDATE mailbox SET status=1,created='1111-11-11 11:11:11'\n</code></pre>\n\n<p>This means that effectively the account is already inactive.</p></li>\n</ol>\n\n<p>The reason I set the created date to that unique value is because it's a column that won't be changed by normal Postfix operation.</p>\n\n<ol start=\"3\">\n<li><p>On this remote server I have another PERL script that runs as a <strong>daily cron job</strong> with <strong>root</strong> permission. The script first performs a:</p>\n\n<pre><code>SELECT local_part,domain FROM mailbox WHERE created='1111-11-11 11:11:11'\n</code></pre></li>\n<li><p>I now use the \"1111-11-11 11:11:11\" to determine which mailboxes to delete. With the resulting array from DBI, the Perl script (with it's <strong>root</strong> privileges then does the following PERL code:</p>\n\n<pre><code>for $x (0 .. $#$delete_mailboxes) {\n $check = \"/var/vmail/$delete_mailboxes-&gt;[$x][1]/$delete_mailboxes-&gt;[$x][0]\";\n if (-e $check) { @a=system(\"rm -rf $check\") }\n}\n</code></pre></li>\n</ol>\n\n<p>and finishes up with a SQL command:</p>\n\n<pre><code>    DELETE FROM mailbox WHERE local_part='$delete_mailboxes-&gt;[$x][0]' AND domain='$delete_mailboxes-&gt;[$x][1]'\n</code></pre>\n\n<p>Effectively, it's using data already in the <em>postfix</em> <em>mailbox</em> table to test for which mailboxes to delete, whether the mailbox has existing folder/files to be deleted, and if found, deletes it using root privilege (which overcomes the tight file system permissions.</p>\n\n<p>Now this technique can be done in multiple different programming languages, using different versions of postfix, different database versions and different web service APIs... the important point is that it uses root privilege in a cron job to query the database to determine if/what to delete.</p>\n\n<p>Hopefully this will help save someone a lot of time.</p>\n"}], "owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1825, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507626322, "creation_date": 1507099513, "question_id": 46558581, "link": "https://stackoverflow.com/questions/46558581/delete-mailbox-based-on-postfix-dovecot-sql", "title": "Delete mailbox based on postfix / dovecot / sql", "body": "<p>I'm writing some PERL code to add/remove mailboxes and aliases on a remote server running a postfix / dovecot / mysql stack.</p>\n\n<p>I'm wondering does anyone have experience or definitive information on what needs to be programatically done on the remote mail server?</p>\n\n<p>For <strong>adding mailboxes</strong>, I believe it's as simple as doing an INSERT of a new row into the <em>postfix -> mailbox</em> table. As mail receives/sends, postfix and dovecot will create the relevant file/folders under <em>/var/vmail</em>.</p>\n\n<p>For <strong>deleting mailboxes</strong>, I believe in addition to a DELETE of the relevant <em>postfix -> mailbox</em> table row, I'll also need to run a bash command:</p>\n\n<pre><code>rm -rf /var/vmail/[domain]/[username]\n</code></pre>\n\n<p>... in order to clear actual messages and attachments of the user.</p>\n\n<p>I don't think there is anything to do on the Dovecot side, as it uses data in the above mentioned.</p>\n\n<p>P.S. For those interested, I'm using a LWP:UserAgent to send web API over to a local PERL script on the mail server in order to run the DBI and bash commands.</p>\n"}, {"tags": ["perl", "module"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1507084660, "post_id": 46555781, "comment_id": 80066293, "body": "Makefile.PL or Build.PL is provided by <i>the distro</i>, not by <i>perl</i>."}, {"owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "edited": false, "score": 0, "creation_date": 1507087950, "post_id": 46555781, "comment_id": 80067036, "body": "Look at perlbrew which allows you to install perl and perl modules in your user account, <a href=\"https://perlbrew.pl\" rel=\"nofollow noreferrer\">perlbrew.pl</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507142107, "post_id": 46555983, "comment_id": 80097333, "body": "@capser Added a comment on what I forgot to mention in the end -- you can install modules as a user into any directory using cpan/cpanm, and it&#39;s really simple. On the other hand, consider having a whole Perl of your liking installed using perlbrew. Then you can have all the modules you want with that Perl.  That way you&#39;re protected from changes to system&#39;s perl."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1574360045, "last_edit_date": 1574360045, "creation_date": 1507083124, "answer_id": 46555983, "question_id": 46555781, "link": "https://stackoverflow.com/questions/46555781/company-perl-missing-makefile-pl-or-build-pl/46555983#46555983", "title": "company Perl missing Makefile.PL or Build.PL", "body": "<p>The utility <code>which</code> (a shell-builtin on my system)</p>\n\n<blockquote>\n  <p>shows the full path of (shell) commands</p>\n</blockquote>\n\n<p>So it can query the location of installed programs, like <code>ls</code> or <code>cd</code>, and it also will show whether a command is, in fact, a shell command.  Try <code>which echo</code> for instance.</p>\n\n<p>Files <code>Makefile.PL</code> and/or <code>Build.PL</code> come with a distribution, not with Perl. They are not programs installed on the system, and even when they are there <code>which</code> cannot find them.  </p>\n\n<p>Make sure to read the documentation with the distribution, in tne particular instructions for how to install it, but you'll start with <code>perl Makefile.PL</code> or <code>perl Build.PL</code>. For example, once you found the file <code>Makefile.PL</code> in the unpacked distribution, a typical process consists of running</p>\n\n<blockquote>\n  <p>perl Makefile.PL<br>\n  make<br>\n  make test<br>\n  make install  </p>\n</blockquote>\n\n<p>A quick search reveals <a href=\"http://www.perlmonks.org/?node_id=128077\" rel=\"nofollow noreferrer\">this guide on perlmonks</a>.  There is a lot more out there.</p>\n\n<p>The <code>Build.PL</code> is generally associated with <a href=\"http://search.cpan.org/~leont/Module-Build-0.4224/lib/Module/Build.pm\" rel=\"nofollow noreferrer\">Module::Build</a>, and an installation outline is the same as above except that you use <code>./Build</code> instead of <code>make</code>. With it you don't need to even have <code>make</code>.</p>\n\n<p>This approach  is an alternative to <a href=\"https://perldoc.perl.org/ExtUtils/MakeMaker.html\" rel=\"nofollow noreferrer\">ExtUtils::MakeMaker</a>, which uses <code>Makefile.PL</code> . Comparing these two major alternatives is tricky and I'd rather not get into that. The <code>Module::Build</code> can also generate the file <code>Makefile.PL</code>. Both files may be provided so that one can use either method, and this decision itself is a topic of discussions.</p>\n\n<p>As for whether to use <code>Makefile.PL</code> or <code>Build.PL</code> for your install, I suggest to find discussions of the module, starting with its own docs, and see which one people recommend for that distribution. Most often either is fine.</p>\n\n<p>Another related common type of file is <code>Makefile</code> (no extension).  This is run by the program <code>make</code>, and often without arguments (<code>make</code> finds the  <code>Makefile</code>). The first command above writes one such file out, and then the remaining <code>make</code> commands use it to trigger actions that build (+test+install) the module.</p>\n\n<p>Have you considered using <a href=\"https://perldoc.perl.org/cpan.html\" rel=\"nofollow noreferrer\">cpan</a> or <a href=\"http://search.cpan.org/~miyagawa/Menlo-1.9005/script/cpanm-menlo\" rel=\"nofollow noreferrer\">cpanm</a> instead?  You <em>can</em> use them to install stuff as a user into a directory of your choosing.  See, for instance, <a href=\"https://stackoverflow.com/questions/3735836/how-can-i-install-perl-modules-without-root-privileges\">this post</a> and <a href=\"https://stackoverflow.com/questions/7072101/installing-perl-cpan-modules-in-local-directory\">this post</a>. </p>\n\n<p>Or, consider <a href=\"http://search.cpan.org/~gugod/App-perlbrew-0.80/lib/App/perlbrew.pm\" rel=\"nofollow noreferrer\">perlbrew</a> for a fully contained Perl with all chosen modules, insulated from any future management of the system perl.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1566, "favorite_count": 0, "accepted_answer_id": 46555983, "answer_count": 1, "score": 0, "last_activity_date": 1574360045, "creation_date": 1507081162, "question_id": 46555781, "link": "https://stackoverflow.com/questions/46555781/company-perl-missing-makefile-pl-or-build-pl", "title": "company Perl missing Makefile.PL or Build.PL", "body": "<p>WE have perl at work, but I do nt have install permissions on the machines. So i would like to dowload tar files of modules that I want, and build them in a directory of my choosing. \nHowever I do not have Makefile.PL or Build.PL. How do I proceed ?</p>\n\n<pre><code>$ which Makefile.PL\n/usr/bin/which: no Makefile.PL in ()\n$ which Build.PL\n/usr/bin/which: no Build.PL in ()\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1507064821, "post_id": 46553388, "comment_id": 80061309, "body": "Being bundled with the default installation of Perl doesn&#39;t make a module any less of a module. Core modules also change over time."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507069194, "post_id": 46553388, "comment_id": 80062901, "body": "One good thing about it is that some CPAN-style information is then right there, for instance the source.  Much harder to dig out of a perl distribution."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8717030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2362e74bc11c4bb82fa45c2916db7bf?s=128&d=identicon&r=PG&f=1", "display_name": "A. Ferreira", "link": "https://stackoverflow.com/users/8717030/a-ferreira"}, "is_accepted": false, "score": 2, "last_activity_date": 1507073716, "creation_date": 1507073716, "answer_id": 46554961, "question_id": 46553388, "link": "https://stackoverflow.com/questions/46553388/why-are-some-core-perl-modules-also-available-on-cpan/46554961#46554961", "title": "Why are some core Perl modules also available on CPAN?", "body": "<p>Also making a core library available at CPAN allows to easily upgrade from the version shipped with Perl to get the latest improvements and bug fixes.</p>\n\n<p>For example, <code>Encode</code> versions shipped with some versions of perl:</p>\n\n<pre><code>Perl      Encode\nv5.22.4   2.72_01\nv5.24.2   2.80_01\nv5.26.1   2.88\n</code></pre>\n\n<p>(retrieved with <code>corelist -a Encode</code>). Any of these can be readily updated to the latest Encode 2.92.</p>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1507128736, "post_id": 46556184, "comment_id": 80089577, "body": "Perhaps add a blurb that some modules are dual-life, but then sometimes get removed from core (eg: <code>CGI), and maybe something about </code>corelist` on how to check if a module is core?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1507130478, "post_id": 46556184, "comment_id": 80090757, "body": "@stevieb, Mentioned the former. The latter might be a related topic, but has nothing to do with the question. If someone hasn&#39;t already asked that question, feel free to ask it (and optionally answer it) yourself."}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1507133965, "post_id": 46556184, "comment_id": 80093004, "body": "Is there an easy way to see the schedule when certain modules were made core / removed from core?"}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1507134582, "post_id": 46556184, "comment_id": 80093336, "body": "Gotcha. Well in any case looks like corelist is my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1507130393, "last_edit_date": 1507130393, "creation_date": 1507084920, "answer_id": 46556184, "question_id": 46553388, "link": "https://stackoverflow.com/questions/46553388/why-are-some-core-perl-modules-also-available-on-cpan/46556184#46556184", "title": "Why are some core Perl modules also available on CPAN?", "body": "<p>Such modules are said to be \"dual-life\" modules.</p>\n\n<ul>\n<li><p>So users can upgrade the module without upgrading <code>perl</code> itself.</p></li>\n<li><p>So developers can release fixes and updates to the module on a different schedule (e.g. more often) than <code>perl</code> itself.</p></li>\n<li><p>Or maybe the module started on CPAN, and it was later added to the <code>perl</code> distro (e.g. because a module in the tool chain requires it).</p></li>\n<li><p>Or maybe the module is in the process of being removed from the Perl distro.</p></li>\n</ul>\n"}], "owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 46556184, "answer_count": 2, "score": 3, "last_activity_date": 1507130393, "creation_date": 1507064608, "question_id": 46553388, "link": "https://stackoverflow.com/questions/46553388/why-are-some-core-perl-modules-also-available-on-cpan", "title": "Why are some core Perl modules also available on CPAN?", "body": "<p>For example I believe that the Encode module is considered a core module and shipped with every copy of Perl. It has its own page on Perldoc:</p>\n\n<p><a href=\"https://perldoc.perl.org/Encode.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/Encode.html</a></p>\n\n<p>...but it is also available on CPAN:</p>\n\n<p><a href=\"http://search.cpan.org/~dankogai/Encode-2.92/Encode.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~dankogai/Encode-2.92/Encode.pm</a></p>\n\n<p>From skimming the two documents, it seems that they contain the same text. So why put it in both places? Is it just so that CPAN can be used to lookup documentation on \"any Perl module\"?</p>\n"}, {"tags": ["shell", "perl", "unix", "posix"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1507057121, "post_id": 46551400, "comment_id": 80057504, "body": "I&#39;m sorry, what? Please <a href=\"https://stackoverflow.com/posts/46551400/edit\">edit</a> your question and tell us again what you need help with. There is no question in your question. If you are having trouble with English, use Google Translate and write normally in your native language. That&#39;s probably easier to understand for us."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507057403, "post_id": 46551400, "comment_id": 80057646, "body": "Are you saying that you want a way to convert a date-time string to milliseconds without using Perl?"}, {"owner": {"reputation": 1, "user_id": 8715897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vx_IWzqj468/AAAAAAAAAAI/AAAAAAAAAHU/zE9wqL45oME/photo.jpg?sz=128", "display_name": "abbas p", "link": "https://stackoverflow.com/users/8715897/abbas-p"}, "edited": false, "score": 0, "creation_date": 1507057435, "post_id": 46551400, "comment_id": 80057661, "body": "This is my Input Date = 2017-09-19 19:36:12.763 And i expect the output in this format Output(in milliseconds) = 1567299281726 (something similar)."}, {"owner": {"reputation": 1, "user_id": 8715897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vx_IWzqj468/AAAAAAAAAAI/AAAAAAAAAHU/zE9wqL45oME/photo.jpg?sz=128", "display_name": "abbas p", "link": "https://stackoverflow.com/users/8715897/abbas-p"}, "edited": false, "score": 0, "creation_date": 1507057541, "post_id": 46551400, "comment_id": 80057713, "body": "Borodin yes thats right !!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507059184, "post_id": 46551400, "comment_id": 80058524, "body": "And are you also saying that: (1) <code>date</code> paramenters don&#39;t work on your system (2) you don&#39;t want to use Perl ... ?  How do you get that &quot;Input Date&quot;?  (Is this some shell?)  What system are you on?"}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 1, "last_activity_date": 1507059387, "creation_date": 1507059387, "answer_id": 46552114, "question_id": 46551400, "link": "https://stackoverflow.com/questions/46551400/unix-compatible-perl-command/46552114#46552114", "title": "Unix-compatible Perl command", "body": "<p>Similar to your perl command, the GNU date command does not handle milliseconds. You could do this (in bash or ksh)</p>\n\n<pre><code>input_date=\"2017-09-19 19:36:12.763\"\nIFS=. read -r datetime milliseconds &lt;&lt;&lt;\"$input_date\"\ndate -d \"$datetime\" \"+%s$milliseconds\"\n</code></pre>\n\n\n\n<pre><code>1505864172763\n</code></pre>\n\n<p>Then, to go the other way:</p>\n\n<pre><code>timestamp=1505864172763\nmilliseconds=$(( timestamp % 1000 ))\ndate -d \"@$((timestamp / 1000))\" \"+%F %T.$milliseconds\"\n</code></pre>\n\n\n\n<pre><code>2017-09-19 19:36:12.763\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8715897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vx_IWzqj468/AAAAAAAAAAI/AAAAAAAAAHU/zE9wqL45oME/photo.jpg?sz=128", "display_name": "abbas p", "link": "https://stackoverflow.com/users/8715897/abbas-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1507069054, "answer_count": 1, "score": -1, "last_activity_date": 1507098372, "creation_date": 1507056398, "last_edit_date": 1507098372, "question_id": 46551400, "link": "https://stackoverflow.com/questions/46551400/unix-compatible-perl-command", "closed_reason": "Needs details or clarity", "title": "Unix-compatible Perl command", "body": "\n\n<p>The piece of code that I am doing now is for converting a date/timestamp to milliseconds.</p>\n\n<p>The date parameters don't work on my Unix box like -d i get an error message\n(date: illegal option -- d\nUsage: date [-u] [+Field Descriptors]).</p>\n\n<p>So the requirement is as below i have an input date in below format and i want to convert it to milliseconds. Example</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Input Date = 2017-09-19 19:36:12.763\nOutput (in milliseconds) = 1567299281726 (something similar)\n</code></pre>\n\n<p>Hope this makes sense now?</p>\n"}, {"tags": ["linux", "perl", "at-command"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 2, "creation_date": 1507050773, "post_id": 46549894, "comment_id": 80054162, "body": "This does not seem to be a problem with Perl, but with your usage of the <code>at</code> command. To make debugging easier, it may be better to rephrase this question without any references to Perl. e.g. try executing <code>echo hello world</code> in two minutes directly from the command line."}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "edited": false, "score": 0, "creation_date": 1507110562, "post_id": 46550144, "comment_id": 80077194, "body": "In my script i need to send an email which needs to be sent in a later time handled by the at command. In your solution which works, it sends the email first then create the job. Please help"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "edited": false, "score": 0, "creation_date": 1507130072, "post_id": 46550144, "comment_id": 80090516, "body": "I bet you actually used <code>`test2.pl myargument | at now +3 days 2&gt;&amp;1`</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1598212349, "last_edit_date": 1598212349, "creation_date": 1507051390, "answer_id": 46550144, "question_id": 46549894, "link": "https://stackoverflow.com/questions/46549894/how-to-pass-an-argument-to-a-perl-script/46550144#46550144", "title": "How to pass an argument to a perl script", "body": "<p>According to the documentation for <code>at</code> on my system, it reads bourne shell commands to be executed from from the file specified with <code>-f</code> or STDIN.</p>\n<p>As such, the following should do the trick:</p>\n<pre><code>`printf %s 'test2.pl myargument' | at now +3 days 2&gt;&amp;1`;\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 46550144, "answer_count": 1, "score": -2, "last_activity_date": 1598212349, "creation_date": 1507050450, "question_id": 46549894, "link": "https://stackoverflow.com/questions/46549894/how-to-pass-an-argument-to-a-perl-script", "title": "How to pass an argument to a perl script", "body": "<pre><code> my @return = `at now +3 days -f test2.pl myargument 2&gt;&amp;1`;\n</code></pre>\n\n<p>How do I pass that myargument to my script test2.pl? In that code it returns an error.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1611233403, "post_id": 46549671, "comment_id": 116388097, "body": "<a href=\"https://www.effectiveperlprogramming.com/2017/01/v5-26-removes-dot-from-inc/\" rel=\"nofollow noreferrer\">v5.26 removes dot from @INC</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 7, "last_activity_date": 1507049820, "creation_date": 1507049820, "answer_id": 46549729, "question_id": 46549671, "link": "https://stackoverflow.com/questions/46549671/doesnt-perl-include-current-directory-in-inc-by-default/46549729#46549729", "title": "Doesn&#39;t Perl include current directory in @INC by default?", "body": "<p>Perl 5.26 removed having the current working directory in <code>@INC</code> as a security measure.</p>\n\n<p>It's explained in the <a href=\"http://search.cpan.org/dist/perl-5.26.0/pod/perldelta.pod#Removal_of_the_current_directory_(%22.%22)_from_@INC\" rel=\"noreferrer\">5.26 perldelta notes</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507052572, "post_id": 46549774, "comment_id": 80055184, "body": "@ikegami Oh, interesting. I didn&#39;t know FindBin was fixed. It did <a href=\"https://metacpan.org/source/DAPM/perl-5.14.4/lib/FindBin.pm#L153\" rel=\"nofollow noreferrer\">search <code>$PATH</code></a> until version 1.51, released with perl 5.16."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507052703, "post_id": 46549774, "comment_id": 80055258, "body": "@ikegami I&#39;ve retracted my code. Your <code>FindBin</code> solution is better (assuming it&#39;s at least version 1.51, so <code>use FindBin 1.51 qw($RealBin)</code> may be a good idea)."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 9, "last_activity_date": 1507052662, "last_edit_date": 1507052662, "creation_date": 1507050002, "answer_id": 46549774, "question_id": 46549671, "link": "https://stackoverflow.com/questions/46549671/doesnt-perl-include-current-directory-in-inc-by-default/46549774#46549774", "title": "Doesn&#39;t Perl include current directory in @INC by default?", "body": "<p>Having <code>.</code> (the current directory) in <code>@INC</code> was <a href=\"https://metacpan.org/pod/perl5260delta#Removal-of-the-current-directory-(%22.%22)-from-@INC\" rel=\"noreferrer\">removed in 5.26</a> for security reasons (<a href=\"http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-1238\" rel=\"noreferrer\">CVE-2016-1238</a>). Some Linux distributions have backported the change, so you might run into this problem even if you're using e.g. 5.24.</p>\n"}, {"comments": [{"owner": {"reputation": 6638, "user_id": 8127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "sundar - Remember Monica", "link": "https://stackoverflow.com/users/8127/sundar-remember-monica"}, "edited": false, "score": 0, "creation_date": 1523276386, "post_id": 46550384, "comment_id": 86479243, "body": "A tangential question, but why <code>$RealBin</code> and not just <code>$Bin</code>? Does having the links resolved give us any benefit here, or have you used it here just a general good practice?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6638, "user_id": 8127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "sundar - Remember Monica", "link": "https://stackoverflow.com/users/8127/sundar-remember-monica"}, "edited": false, "score": 1, "creation_date": 1523276808, "post_id": 46550384, "comment_id": 86479522, "body": "@sundar, <code>$Bin</code> won&#39;t work if someone creates a symlink to the script."}, {"owner": {"reputation": 315, "user_id": 5490719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-obsSHHWf_o8/AAAAAAAAAAI/AAAAAAAAALk/tZpZCJsA4C8/photo.jpg?sz=128", "display_name": "Greg Kennedy", "link": "https://stackoverflow.com/users/5490719/greg-kennedy"}, "edited": false, "score": 0, "creation_date": 1523425123, "post_id": 46550384, "comment_id": 86549766, "body": "What is the 1.51 argument to <code>FindBin</code>?  I don&#39;t see anything like that usage mentioned in <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow noreferrer\">perldoc for FindBin</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 315, "user_id": 5490719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-obsSHHWf_o8/AAAAAAAAAAI/AAAAAAAAALk/tZpZCJsA4C8/photo.jpg?sz=128", "display_name": "Greg Kennedy", "link": "https://stackoverflow.com/users/5490719/greg-kennedy"}, "edited": false, "score": 0, "creation_date": 1523426014, "post_id": 46550384, "comment_id": 86550138, "body": "@Greg Kennedy, It&#39;s a version check. See the <code>use Module VERSION LIST</code> syntax of <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\"><code>use</code></a>."}, {"owner": {"reputation": 935, "user_id": 1206102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5642c5824b5fae788e541ba8a5451d7?s=128&d=identicon&r=PG", "display_name": "textral", "link": "https://stackoverflow.com/users/1206102/textral"}, "edited": false, "score": 0, "creation_date": 1535503933, "post_id": 46550384, "comment_id": 91086128, "body": "regarding your 2nd option, I&#39;ve always used something similar: <code>use Cwd(); use File::Basename(); use lib Cwd::realpath(File::Basename::dirname(__FILE__));</code>  Which is better: yours or mine?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 935, "user_id": 1206102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5642c5824b5fae788e541ba8a5451d7?s=128&d=identicon&r=PG", "display_name": "textral", "link": "https://stackoverflow.com/users/1206102/textral"}, "edited": false, "score": 0, "creation_date": 1535504050, "post_id": 46550384, "comment_id": 91086152, "body": "@textral, You have dirname and realpath inside out. Your way fails to handle symlinks"}, {"owner": {"reputation": 935, "user_id": 1206102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5642c5824b5fae788e541ba8a5451d7?s=128&d=identicon&r=PG", "display_name": "textral", "link": "https://stackoverflow.com/users/1206102/textral"}, "edited": false, "score": 0, "creation_date": 1535505157, "post_id": 46550384, "comment_id": 91086358, "body": "Ah, thanks!  From Cwd&#39;s &quot;man page&quot; I see that <code>realpath</code> is just an alias of <code>abs_path</code>.  So what&#39;s the difference between <code>__FILE__</code> and <code>$0</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 935, "user_id": 1206102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5642c5824b5fae788e541ba8a5451d7?s=128&d=identicon&r=PG", "display_name": "textral", "link": "https://stackoverflow.com/users/1206102/textral"}, "edited": false, "score": 1, "creation_date": 1535523471, "post_id": 46550384, "comment_id": 91091021, "body": "@textral, No difference between <code>__FILE__</code> and <code>$0</code> (unless you changed <code>$0</code>, so <code>__FILE__</code> is slightly better). That&#39;s not the problem. The problem is that you used <code>realpath(dirname(__FILE__))</code> instead of <code>dirname(realpath(__FILE__))</code>. Your way will fail if a symlink is used."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 33, "last_activity_date": 1538641677, "last_edit_date": 1538641677, "creation_date": 1507052344, "answer_id": 46550384, "question_id": 46549671, "link": "https://stackoverflow.com/questions/46549671/doesnt-perl-include-current-directory-in-inc-by-default/46550384#46550384", "title": "Doesn&#39;t Perl include current directory in @INC by default?", "body": "<p>Perl doesn't search the current directory for modules or the script's directory for modules, at least not anymore. The current directory was removed from <code>@INC</code> in 5.26 for security reasons.</p>\n\n<p>However, any code that relies on the current directory being in <code>@INC</code> was buggy far before 5.26. Code that did so, like yours, incorrectly used the current directory as a proxy for the script's directory. That assumption is often incorrect.</p>\n\n<p>To tell Perl to look in the script's directory for modules, use the following:</p>\n\n<pre><code>use FindBin 1.51 qw( $RealBin );\nuse lib $RealBin;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use Cwd qw( abs_path );\nuse File::Basename qw( dirname );\nuse lib dirname(abs_path($0));\n</code></pre>\n"}], "owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7425, "favorite_count": 8, "accepted_answer_id": 46550384, "answer_count": 3, "score": 21, "last_activity_date": 1538641677, "creation_date": 1507049577, "last_edit_date": 1511279411, "question_id": 46549671, "link": "https://stackoverflow.com/questions/46549671/doesnt-perl-include-current-directory-in-inc-by-default", "title": "Doesn&#39;t Perl include current directory in @INC by default?", "body": "<p>I have never fully understood Perl's resolution of package names, but I always assumed that the following should always work, assuming you are executing myscript.pl from within the directory that contains it:</p>\n\n<pre><code>myscript.pl (contains the following statement: use Class1::Class2::Class3)\nClass1/\n    Class2/\n        Class3.pm (contains the following package declaration: package Class1::Class2::Class3;)\n</code></pre>\n\n<p>However, this is not working in my code because Class3.pm cannot be located. Looking at @INC, it does not include the current directory, only various directories of my Strawberry Perl installation.</p>\n\n<p>What is the recommended way to solve this? I suppose I could modify @INC, or I could start using FindBin, but I'm not sure which is best. I have inherited this code and am simply migrating it to a new location, but it doesn't look like the old code needed either such solution (I could be wrong, still looking...)</p>\n"}, {"tags": ["perl", "string-concatenation"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1507039078, "post_id": 46546022, "comment_id": 80046866, "body": "<code>chomp $todaydate</code>"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 628165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XF5o9.jpg?s=128&g=1", "display_name": "SRIHARIRAO M", "link": "https://stackoverflow.com/users/628165/sriharirao-m"}, "edited": false, "score": 0, "creation_date": 1507039673, "post_id": 46546457, "comment_id": 80047284, "body": "Wow! its worked. I am new to Perl Script. Thanks for your help. :-)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1507040914, "post_id": 46546457, "comment_id": 80048132, "body": "Or, perhaps, give an alternative answer that doesn&#39;t require running an external program!"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 2, "last_activity_date": 1507039178, "creation_date": 1507039178, "answer_id": 46546457, "question_id": 46546022, "link": "https://stackoverflow.com/questions/46546022/how-to-print-a-string-value-in-single-line-using-perl/46546457#46546457", "title": "How to print a string value in single line using Perl", "body": "<p>use chomp in your <code>$todaydate</code> variable.</p>\n\n<pre><code>my $todaydate = `date +%Y-%m-%d-%H%M%S`;\nchomp $todaydate;\nmy $output_file = \"my_data_$todaydate.csv\";\n</code></pre>\n\n<p>Always put <code>use warnings;</code> and <code>use strict;</code> in top of the program.</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 628165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XF5o9.jpg?s=128&g=1", "display_name": "SRIHARIRAO M", "link": "https://stackoverflow.com/users/628165/sriharirao-m"}, "edited": false, "score": 0, "creation_date": 1507045953, "post_id": 46546990, "comment_id": 80051473, "body": "This solution apt perfectly. Thank you!!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 8, "last_activity_date": 1507040844, "creation_date": 1507040844, "answer_id": 46546990, "question_id": 46546022, "link": "https://stackoverflow.com/questions/46546022/how-to-print-a-string-value-in-single-line-using-perl/46546990#46546990", "title": "How to print a string value in single line using Perl", "body": "<p>There are several reasons why you might not want to use external programs unnecessarily.</p>\n\n<ul>\n<li>The external program might not be available (or might work differently) on some systems where you want to run your program. You are therefore making your code less portable.</li>\n<li>Starting a new shell and invoking an external program takes longer than just using a Perl feature to achieve the same result.</li>\n<li>The value returned from an external problem will probably have a newline character at the end - and you might forget to remove it.</li>\n</ul>\n\n<p>Getting a date is a task that people commonly want to use an external program for. And I don't understand why, because Perl has pretty good built-in time and date handling. For example, your code can be written like this:</p>\n\n<pre><code>use Time::Piece;\n\n$todaydate = localtime-&gt;strftime('%Y-%m-%d-%H%M%S');\n$output_file = \"my_data_$todaydate.csv\";\nprint \"SQL query output file name : $output_file\\n\";\n</code></pre>\n\n<p><a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"noreferrer\">Time::Piece</a> has been included with all versions of Perl since 2007. It changes the behaviour of <code>localtime()</code> so it returns an object. And the object has many useful methods - here we use <code>strftime()</code>.</p>\n\n<p>If you're stuck with an older version of Perl (pre-5.10) then you can still do this easily without calling an external program.</p>\n\n<pre><code>use POSIX 'strftime';\n\n$todaydate = strftime('%Y-%m-%d-%H%M%S', localtime);\n$output_file = \"my_data_$todaydate.csv\";\nprint \"SQL query output file name : $output_file\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1507044839, "post_id": 46547520, "comment_id": 80050751, "body": "Isn&#39;t that what <code>chomp()</code> is for?"}, {"owner": {"reputation": 1561, "user_id": 1447507, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/f14xA.jpg?s=128&g=1", "display_name": "Srihari Karanth", "link": "https://stackoverflow.com/users/1447507/srihari-karanth"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507089512, "post_id": 46547520, "comment_id": 80067401, "body": "Someone has already given that answer, i just gave an alternative option. Regular expression is really helpful in perl and don&#39;t have to hunt for builtin functions if you know how to use them."}], "tags": [], "owner": {"reputation": 1561, "user_id": 1447507, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/f14xA.jpg?s=128&g=1", "display_name": "Srihari Karanth", "link": "https://stackoverflow.com/users/1447507/srihari-karanth"}, "is_accepted": false, "score": -2, "last_activity_date": 1507042410, "creation_date": 1507042410, "answer_id": 46547520, "question_id": 46546022, "link": "https://stackoverflow.com/questions/46546022/how-to-print-a-string-value-in-single-line-using-perl/46547520#46547520", "title": "How to print a string value in single line using Perl", "body": "<p>Its because of new line character at the end of <code>$todaydate</code>. Use below to fix it:</p>\n\n<pre><code>$todaydate =~ s/\\n|\\r//g;\n</code></pre>\n\n<p>The above code will remove any occurrence of <code>\\n</code> or <code>\\r</code>. </p>\n"}], "owner": {"reputation": 103, "user_id": 628165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XF5o9.jpg?s=128&g=1", "display_name": "SRIHARIRAO M", "link": "https://stackoverflow.com/users/628165/sriharirao-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 0, "accepted_answer_id": 46546990, "answer_count": 3, "score": -1, "last_activity_date": 1507042410, "creation_date": 1507038063, "question_id": 46546022, "link": "https://stackoverflow.com/questions/46546022/how-to-print-a-string-value-in-single-line-using-perl", "title": "How to print a string value in single line using Perl", "body": "<p>My problem is simple one...\nMy perl code is like below...</p>\n\n<pre><code> $todaydate = `date +%Y-%m-%d-%H%M%S`;\n $output_file = \"my_data_$todaydate\".\".csv\";\n print \"SQL query output file name : $output_file\\n\";\n</code></pre>\n\n<p>But the Output file name is printing as like below...</p>\n\n<pre><code>SQL query output file name : my_data_2017-10-03-062227\n.csv\n</code></pre>\n\n<p>If you can observe, the .csv is coming in new line.\nI have also tried the below join for string conactantion. but still no luck.</p>\n\n<pre><code>$output_file = join \"\", \"my_data_\", $todaydate, \".csv\";\n</code></pre>\n\n<p>due to this issue, while i am passing the output_file name to a sql query, its creating a file my_data_2017-10-03-062227 without .csv extension.</p>\n\n<p>Any suggestion please...</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1507037001, "post_id": 46545297, "comment_id": 80045355, "body": "Does it work if you use a full path for the remote (eg: &#39;/home/user&#39;) as opposed to the cwd (<code>.</code>)?"}, {"owner": {"reputation": 23, "user_id": 5656295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oR0kn.jpg?s=128&g=1", "display_name": "tommi", "link": "https://stackoverflow.com/users/5656295/tommi"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1507037765, "post_id": 46545297, "comment_id": 80045885, "body": "No difference when using full path. Directory listing works with cwd(.) and full path, scp_put does not work."}, {"owner": {"reputation": 23, "user_id": 5656295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oR0kn.jpg?s=128&g=1", "display_name": "tommi", "link": "https://stackoverflow.com/users/5656295/tommi"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1507275563, "post_id": 46545297, "comment_id": 80153172, "body": "I will probably have to try NET::SFTP:Foreign. We don\u2019t have it installed at the current Perl setup we have in production. That\u2019s why I was trying to manage it with libssh2 and scp_put."}], "answers": [{"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 1, "last_activity_date": 1507140017, "creation_date": 1507140017, "answer_id": 46571299, "question_id": 46545297, "link": "https://stackoverflow.com/questions/46545297/perl-netssh2-scp-put-returns-unknown-error/46571299#46571299", "title": "Perl Net::SSH2 scp_put returns unknown error", "body": "<p>SCP support in libssh2 is quite rudimentary and buggy.</p>\n\n<p>Better alternatives are <a href=\"https://metacpan.org/pod/Net::SSH::Any\" rel=\"nofollow noreferrer\">Net::SSH::Any</a> which has a proper pure-perl implementation of SCP or <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign\" rel=\"nofollow noreferrer\">Net::SFTP::Foreign</a> for SFTP. Both can work on top of <a href=\"https://metacpan.org/pod/Net::SSH2\" rel=\"nofollow noreferrer\">Net::SSH2</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 5656295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oR0kn.jpg?s=128&g=1", "display_name": "tommi", "link": "https://stackoverflow.com/users/5656295/tommi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1507140017, "creation_date": 1507035791, "last_edit_date": 1507039970, "question_id": 46545297, "link": "https://stackoverflow.com/questions/46545297/perl-netssh2-scp-put-returns-unknown-error", "title": "Perl Net::SSH2 scp_put returns unknown error", "body": "<p>I am using Net:SSH2 to put file on a remote server with scp_put.\nIt returns unknown error: </p>\n\n<blockquote>\n  <p>-43, LIBSSH2_ERROR_UNKNOWN(-43), SCP failure</p>\n</blockquote>\n\n<p>It seems that the error comes after some timeout/delay, as it takes several minutes to return.</p>\n\n<p>Connection to sftp-server is working. I can get a directory list from the directory.</p>\n\n<p>I have access rights to that directory as I can put files there with SFTP-client.</p>\n\n<p>I am using Strawberry Perl in Windows environment.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Net::SSH2;\n\nmy $dir1 = '.';\nmy $file = 'D:\\\\test\\\\test.txt';\nmy $ssh2 = Net::SSH2-&gt;new();\n$ssh2-&gt;connect('testserver') or die \"Unable to connect Host $@ \\n\";\n$ssh2-&gt;auth_password('test','test') or die \"Unable to login $@ \\n\";\n\nif($ssh2-&gt;scp_put($file, $dir1)) {\n            print \"File $file transferred to $dir1\\n\";\n} else {\n            print \"Couldn't transfer file $file to $dir1\\n\";\n            print join ', ', $ssh2-&gt;error;\n            print \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "cgi", "symlink"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1507030927, "post_id": 46543547, "comment_id": 80041384, "body": "Is your relative path in <code>&#47;tmp</code> and is this RHEL/Centos 7+? Because that&#39;s another gotcha. PrivateTmp"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1507031202, "post_id": 46543547, "comment_id": 80041528, "body": "The return value from <code>system</code> is a status value, not the output of the command."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507031994, "post_id": 46543547, "comment_id": 80041993, "body": "Does the path contain spaces? Try using <code>system(qq{&quot;$CMD&quot;})</code>. I think you need to tell us what the real value of <code>$CMD</code> is. I understand about privacy considerations, but if you change the code from the original then we are left casting around in the dark."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 2, "creation_date": 1507034957, "post_id": 46543547, "comment_id": 80043966, "body": "It is unclear how you&#39;re specifying the file path. Your dummy path is <code>&#47;relative&#47;path&#47;file</code>, but a path starting with <code>&#47;</code> is an <i>absolute</i> path. Relative paths don&#39;t start with <code>&#47;</code>. This is a relevant distinction here because, if you actually are using a relative path, then the issue is likely to be that CGI will run the code from a different working directory than the directory you&#39;re in when you run it from the shell."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1507036098, "post_id": 46543547, "comment_id": 80044778, "body": "@DaveSherohman I <i>think</i> the OP means &quot;relative path=/path/to/symlink&quot; and &quot;absolute path=/path/to/symlink/resolved&quot; (both being absolute paths in the usual sense). But that&#39;s only a guess."}, {"owner": {"reputation": 38, "user_id": 8713532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2cfea612b28751d54ab175ec08df22?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carmo", "link": "https://stackoverflow.com/users/8713532/jo%c3%a3o-carmo"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1507036634, "post_id": 46543547, "comment_id": 80045124, "body": "@Sobrique, the path is not in <code>&#47;tmp</code>  @Borodin, regardless of the result from <code>system()</code> the problem is it doesn&#39;t execute what&#39;s supposed to  @DaveSherohman, @PerlDuck is correct and I may have not been very clear about what I mean by a &quot;relative path&quot; what I mean by that is the symlink path and what I mean by &quot;absolute path&quot; is the real path the symlink points to, but both are absolute unix paths"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1507036893, "post_id": 46543547, "comment_id": 80045283, "body": "Did you try <code>su -s &#47;bin&#47;sh www-data -c &quot;cat &#47;symlink&#47;path&#47;to&#47;file&quot;</code> and <code>su -s &#47;bin&#47;sh www-data -c &quot;cat &#47;resolved&#47;symlink&#47;path&#47;to&#47;file&quot;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507038529, "post_id": 46543547, "comment_id": 80046440, "body": "If that is the output of <code>ls -l</code> then <code>&#47;relative&#47;path&#47;file</code> isn&#39;t a symlink."}, {"owner": {"reputation": 38, "user_id": 8713532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2cfea612b28751d54ab175ec08df22?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carmo", "link": "https://stackoverflow.com/users/8713532/jo%c3%a3o-carmo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507039220, "post_id": 46543547, "comment_id": 80046959, "body": "@Borodin, when I do <code>cd &#47;relative&#47;path</code> followed by <code>pwd</code> I get the output <code>&#47;some&#47;other&#47;path</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507041017, "post_id": 46543547, "comment_id": 80048199, "body": "@JoaoPestana: I don&#39;t think that&#39;s relevant except to demonstrate that <code>&#47;relative&#47;path</code> is a link to a directory, so <i>&quot;The file is a symbolic link&quot;</i> is untrue. If <code>ls -l &#47;relative&#47;path&#47;file</code> is showing that output then <code>&#47;relative&#47;path&#47;file</code> isn&#39;t a symbolic link. And please stop calling it <i>relative</i>; that means something else altogether."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507043856, "post_id": 46543547, "comment_id": 80050117, "body": "@JoaoPestana: What does <code>ls -l &#47;relative&#47;path</code> show?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507044291, "post_id": 46543547, "comment_id": 80050412, "body": "This was already asked, but it wasn&#39;t answered: Is <code>&#47;relative&#47;path&#47;file</code> an absolute path (starts with <code>&#47;</code>) or a relative path (doesn&#39;t start with <code>&#47;</code>)?"}, {"owner": {"reputation": 38, "user_id": 8713532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2cfea612b28751d54ab175ec08df22?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carmo", "link": "https://stackoverflow.com/users/8713532/jo%c3%a3o-carmo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507045034, "post_id": 46543547, "comment_id": 80050859, "body": "@ikegami, it&#39;s an absolute path @Borodin, the command <code>ls -l &#47;relative&#47;path</code> returns a list of files including <code>file</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507045630, "post_id": 46543547, "comment_id": 80051241, "body": "That&#39;s good. Many people assume the CWD is the directory in which the script is located when it&#39;s often not. Did you check the permissions of /relative, /relative/path, /some, /some/other and /some/other/path yet?"}, {"owner": {"reputation": 38, "user_id": 8713532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2cfea612b28751d54ab175ec08df22?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carmo", "link": "https://stackoverflow.com/users/8713532/jo%c3%a3o-carmo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507287979, "post_id": 46543547, "comment_id": 80160199, "body": "@ikegami, Yes, that was one of the first things I checked. All permissions are good."}], "answers": [{"comments": [{"owner": {"reputation": 38, "user_id": 8713532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2cfea612b28751d54ab175ec08df22?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carmo", "link": "https://stackoverflow.com/users/8713532/jo%c3%a3o-carmo"}, "edited": false, "score": 0, "creation_date": 1507287817, "post_id": 46551315, "comment_id": 80160107, "body": "I tried several variations of that, including explicitly calling perl to run the command as you suggested to the same result."}, {"owner": {"reputation": 137, "user_id": 2533201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629d53f972d26843dd019f479b7041a5?s=128&d=identicon&r=PG", "display_name": "Jorge_Freitas", "link": "https://stackoverflow.com/users/2533201/jorge-freitas"}, "reply_to_user": {"reputation": 38, "user_id": 8713532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2cfea612b28751d54ab175ec08df22?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carmo", "link": "https://stackoverflow.com/users/8713532/jo%c3%a3o-carmo"}, "edited": false, "score": 0, "creation_date": 1507293046, "post_id": 46551315, "comment_id": 80163282, "body": "Try running your command with backtits like this:  <code>my $output = `perl $CMD`; </code> Then print and analyze the result, maybe that&#180;ll help EDIT: just trying to get those backtits to show properly"}], "tags": [], "owner": {"reputation": 137, "user_id": 2533201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629d53f972d26843dd019f479b7041a5?s=128&d=identicon&r=PG", "display_name": "Jorge_Freitas", "link": "https://stackoverflow.com/users/2533201/jorge-freitas"}, "is_accepted": false, "score": 0, "last_activity_date": 1507056003, "creation_date": 1507056003, "answer_id": 46551315, "question_id": 46543547, "link": "https://stackoverflow.com/questions/46543547/no-such-file-or-directory-from-cgi-program-but-executes-from-the-shell/46551315#46551315", "title": "&quot;No such file or directory&quot; from CGI program, but executes from the shell", "body": "<p>Could it be that you're not calling Perl when trying to run your script?</p>\n\n<pre><code>$output = system(\"perl $CMD\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 38, "user_id": 8713532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2cfea612b28751d54ab175ec08df22?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carmo", "link": "https://stackoverflow.com/users/8713532/jo%c3%a3o-carmo"}, "edited": false, "score": 0, "creation_date": 1507287913, "post_id": 46562851, "comment_id": 80160163, "body": "I believe I&#39;ve found the problem to be something like that. The script I&#39;m trying to run has a shebang for a different perl version. This is a third party script and I believe that particular version is not available in the server that runs the CGI script I wrote."}], "tags": [], "owner": {"reputation": 159, "user_id": 1227873, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Po5P.png?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/1227873/vikas"}, "is_accepted": false, "score": 0, "last_activity_date": 1507113702, "creation_date": 1507113702, "answer_id": 46562851, "question_id": 46543547, "link": "https://stackoverflow.com/questions/46543547/no-such-file-or-directory-from-cgi-program-but-executes-from-the-shell/46562851#46562851", "title": "&quot;No such file or directory&quot; from CGI program, but executes from the shell", "body": "<p>Just a possibility... Is the file not found coming out of some code running in the /relative/path/file? Possibly it accesses some relative paths in its code?</p>\n"}], "owner": {"reputation": 38, "user_id": 8713532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2cfea612b28751d54ab175ec08df22?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carmo", "link": "https://stackoverflow.com/users/8713532/jo%c3%a3o-carmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507113702, "creation_date": 1507030213, "last_edit_date": 1507043777, "question_id": 46543547, "link": "https://stackoverflow.com/questions/46543547/no-such-file-or-directory-from-cgi-program-but-executes-from-the-shell", "title": "&quot;No such file or directory&quot; from CGI program, but executes from the shell", "body": "<p>I have a Perl CGI script which runs another Perl program using <code>system</code>.</p>\n\n<p>I added an <code>-x</code> test before the call to <code>system</code> and it evaluates as <em>true</em> when run from the shell but <em>false</em> when executed by the CGI server. The file is a symbolic link.</p>\n\n<p>When I use the absolute file path, then it also evaluates as <em>true</em> on the web, but when executing the conditional code, I receive a <code>No such file or directory</code> error.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse utf8;\nuse warnings;\n\nuse CGI::Carp 'fatalsToBrowser';\n\nour ($CMD) = '/relative/path/file';\n\nif ( -x $CMD ) {\n  my $output;\n  $output = system($CMD);\n  print $output;\n}\n</code></pre>\n\n<p>The result of <code>ls -l /relative/path/file</code> is:</p>\n\n<pre><code>-rwxr-xr-x 1 root something 19398 Sep 23 00:00 /relative/path/file\n</code></pre>\n\n<p>In summary</p>\n\n<ul>\n<li><p>The code works when executed on the shell, but not on the web</p></li>\n<li><p>If I use the relative path, <code>-x</code> the test evaluates as false</p></li>\n<li><p>If I use the full path, <code>-x</code> evaluates as true, but the <code>system()</code> call throws a <code>No such file or directory</code> error.</p></li>\n</ul>\n"}, {"tags": ["perl", "powershell", "batch-file"], "comments": [{"owner": {"reputation": 1823, "user_id": 5262941, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YzcZm.png?s=128&g=1", "display_name": "guiwhatsthat", "link": "https://stackoverflow.com/users/5262941/guiwhatsthat"}, "edited": false, "score": 0, "creation_date": 1507029983, "post_id": 46543433, "comment_id": 80040797, "body": "There is no file. And show some effort and the code with which you had problems"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1823, "user_id": 5262941, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YzcZm.png?s=128&g=1", "display_name": "guiwhatsthat", "link": "https://stackoverflow.com/users/5262941/guiwhatsthat"}, "edited": false, "score": 1, "creation_date": 1507030051, "post_id": 46543433, "comment_id": 80040839, "body": "@guiwhatsthat It wasn&#39;t properly formatted as <code>code</code> and then wasn&#39;t shown at all because it is &lt;xml&gt; and rendered as nothing."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507030070, "post_id": 46543433, "comment_id": 80040850, "body": "here is my manifest file content"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507030076, "post_id": 46543433, "comment_id": 80040853, "body": "&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;manifest android:versionCode=&quot;27&quot; android:versionName=&quot;1.0.1.42&quot; package=&quot;com.shure.motiv&quot; xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;&gt; &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;"}, {"owner": {"reputation": 1823, "user_id": 5262941, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YzcZm.png?s=128&g=1", "display_name": "guiwhatsthat", "link": "https://stackoverflow.com/users/5262941/guiwhatsthat"}, "edited": false, "score": 0, "creation_date": 1507030221, "post_id": 46543433, "comment_id": 80040931, "body": "Read the xml file with get-content and search for the part which you want to change with xpath"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507030274, "post_id": 46543433, "comment_id": 80040981, "body": "Please can you write the code i am totally new to power shell"}, {"owner": {"reputation": 1823, "user_id": 5262941, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YzcZm.png?s=128&g=1", "display_name": "guiwhatsthat", "link": "https://stackoverflow.com/users/5262941/guiwhatsthat"}, "edited": false, "score": 5, "creation_date": 1507030480, "post_id": 46543433, "comment_id": 80041102, "body": "Thats not how Stackoverflow works. This a simple task. Google it and you will find a solution"}, {"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 3, "creation_date": 1507030681, "post_id": 46543433, "comment_id": 80041228, "body": "@krishna, use perl or a batch file instead if you don&#39;t know or are new to powershell. Why did you ask for powershell help if you don&#39;t know it?"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507031276, "post_id": 46543433, "comment_id": 80041581, "body": "Thanks, I searched for the solution but no luck, <a href=\"https://stackoverflow.com/questions/11344179/how-to-get-value-from-xml-by-powershell\" title=\"how to get value from xml by powershell\">stackoverflow.com/questions/11344179/&hellip;</a>  this is similler but not work for me."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6250760"}, "edited": false, "score": 0, "creation_date": 1507033218, "post_id": 46543433, "comment_id": 80042815, "body": "<a href=\"https://stackoverflow.com/questions/tagged/batch-file\">batch-file</a> doesn&#39;t mean processing a lot of files."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1507034721, "post_id": 46543433, "comment_id": 80043802, "body": "@SteveFest Yes, it rather means processing (a lot of) commands, possibly on a set of files. But who said any different?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6250760"}, "edited": false, "score": 0, "creation_date": 1507034759, "post_id": 46543433, "comment_id": 80043829, "body": "You&amp;#39;re kinda wrong. Batch file is a kind of Windows script. It does help to process multiple files, but unrelated to the scenario"}], "answers": [{"tags": [], "owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "is_accepted": false, "score": 0, "last_activity_date": 1507039282, "last_edit_date": 1507039282, "creation_date": 1507035877, "answer_id": 46545320, "question_id": 46543433, "link": "https://stackoverflow.com/questions/46543433/retrieve-android-version-name-from-manifest-file-using-power-shell/46545320#46545320", "title": "retrieve android version name from manifest file using power shell", "body": "<p>A batch file which uses powershell may cover two of your tagged options:</p>\n\n<pre><code>@For /F %%A In ('Powershell -C \"[xml]$fC=Get-Content 'AndroidManifest.xml';\"^\n \"$fC.manifest.versionName\"') Do @Set \"versionName=%%A\"\n@Echo %versionName%\n@Pause\n</code></pre>\n\n<p><em>Please note, that because you've made absolutely no attempt to create any code, no tutoring will be entered into with reference to the above.</em></p>\n"}], "owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1507039282, "creation_date": 1507029850, "last_edit_date": 1507029918, "question_id": 46543433, "link": "https://stackoverflow.com/questions/46543433/retrieve-android-version-name-from-manifest-file-using-power-shell", "title": "retrieve android version name from manifest file using power shell", "body": "<p>I am working on android project and i want to retrieve the  android version name from manifest file using power shell or perl command. here is my manifest file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;manifest android:versionCode=\"27\" android:versionName=\"1.0.1.42\" package=\"com.shure.motiv\" xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p>my android version name is 1.0.1.42. How do i retrieve the 1.0.1.42 and set as the environment variable. Please can you anyone help me on the same.  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507020635, "post_id": 46540525, "comment_id": 80035328, "body": "You&#39;re running this as a one-liner, right? Please <a href=\"https://stackoverflow.com/posts/46540525/edit\">edit</a> and include the command line you&#39;re using, just to have it complete."}, {"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507020658, "post_id": 46540525, "comment_id": 80035340, "body": "No - it&#39;s within a larger script."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507020684, "post_id": 46540525, "comment_id": 80035359, "body": "But is it with <code>-a</code>? Or is it a coincidence that the fields are in <code>@F</code>?"}, {"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507020835, "post_id": 46540525, "comment_id": 80035457, "body": "I&#39;ve simply used @F as an example."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507020905, "post_id": 46540525, "comment_id": 80035503, "body": "I see. Loading that in from a file makes sense. I&#39;d use a hash for the config values. Hang on, I&#39;ll write something up quickly."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1507021589, "creation_date": 1507021589, "answer_id": 46540967, "question_id": 46540525, "link": "https://stackoverflow.com/questions/46540525/skipping-lines-based-on-multiple-listed-criteria/46540967#46540967", "title": "Skipping lines based on multiple listed criteria", "body": "<p>Store the ranges in a data structure, e.g.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %skip = ( 1 =&gt; [ [20, 40], [63, 68] ],\n             2 =&gt; [ [ 1, 10], [12, 18] ],\n             3 =&gt; [ [ 3,  9] ]\n);\n\nwhile (&lt;&gt;) {\n    my @F = split;\n    next if grep $F[1] &gt;= $_-&gt;[0] &amp;&amp; $F[1] &lt;= $_-&gt;[1],\n        @{ $skip{ $F[0] } };\n    print;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1507021956, "creation_date": 1507021956, "answer_id": 46541074, "question_id": 46540525, "link": "https://stackoverflow.com/questions/46540525/skipping-lines-based-on-multiple-listed-criteria/46541074#46541074", "title": "Skipping lines based on multiple listed criteria", "body": "<p>You can outsource that configuration into a file without problems. I would use a hash(ref) for the column numbers and an array ref for the min and max values like this. Since there can be more than one pair of values per field, you need an array of arrays.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\n\n# open my $fh, '&lt;', 'config.txt' or die $!;\nmy $config;\nwhile (my $line = &lt;DATA&gt;) {\n    chomp $line;\n    my ( $col, $min, $max )= split /\\s+/, $line;\n    push @{ $config-&gt;{$col} }, [ $min, $max ];\n}\n\np $config;\n__DATA__\n1   20  40\n1   63  68\n2   1   10\n2   12  18\n3   3   9\n</code></pre>\n\n<p>The data structure will look like this:</p>\n\n<pre><code>\\ {\n    1   [\n        [0] [\n            [0] 20,\n            [1] 40\n        ],\n        [1] [\n            [0] 63,\n            [1] 68\n        ]\n    ],\n    2   [\n        [0] [\n            [0] 1,\n            [1] 10\n        ],\n        [1] [\n            [0] 12,\n            [1] 18\n        ]\n    ],\n    3   [\n        [0] [\n            [0] 3,\n            [1] 9\n        ]\n    ]\n}\n</code></pre>\n\n<p>The hash makes it easy to use <code>exists</code> to check if the field hash values at all. You can then use it like this.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# see the code example above\nmy $config = {\n    1 =&gt; [ [ 20, 40 ], [ 63, 68 ] ],\n    2 =&gt; [ [ 1,  10 ], [ 12, 18 ] ],\n    3 =&gt; [ [ 3,  9 ] ],\n};\n\nsub skip_line {\n    my @F = @_;\n\n    return unless exists $config-&gt;{$F[0]}; # nothing to skip in this field\n\n    foreach my $pair (@{ $config-&gt;{$F[0]} }) {\n        return 1 if $F[1] &gt; $pair-&gt;[0] &amp;&amp; $F[1] &lt; $pair-&gt;[1];\n    }\n}\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @F = split /\\s+/; # \\t\n\n    next if skip_line(@F);\n\n    print; # output unskipped lines\n}\n\n__DATA__\n1 21 30\n2 19 20\n</code></pre>\n\n<p>You can of course use a shorter form instead of the <code>skip_line</code> function, as shown in <a href=\"https://stackoverflow.com/a/46540967/1331451\">choroba's answer</a>.</p>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 46541074, "answer_count": 2, "score": 1, "last_activity_date": 1507021956, "creation_date": 1507020220, "last_edit_date": 1507020800, "question_id": 46540525, "link": "https://stackoverflow.com/questions/46540525/skipping-lines-based-on-multiple-listed-criteria", "title": "Skipping lines based on multiple listed criteria", "body": "<p>I'm iterating over a file <code>&lt;$IN&gt;</code>, processing it line by line. There are some lines I wish to skip based on the values held within their split fields, which I currently accomplish via:</p>\n\n<pre><code>while (&lt;$IN&gt;) {\n    chomp $_;\n    my(@F) = split(\"\\t\", $_);\n    next if ($F[0] == 1 &amp;&amp; $F[1] &gt; 20 &amp;&amp; $F[1] &lt; 40);\n</code></pre>\n\n<p>However I have multiple such lines and criteria to check against. I'd much rather load in a .txt file containing the test values i.e.:</p>\n\n<pre><code>1   20  40\n1   63  68\n2   1   10\n2   12  18\n3   3   9\n</code></pre>\n\n<p>And find a shorter way of testing any given line against these ranges without the need for many lines as I currently have:</p>\n\n<pre><code>next if ($F[0] == 1 &amp;&amp; $F[1] &gt; 20 &amp;&amp; $F[1] &lt; 40);\nnext if ($F[0] == 1 &amp;&amp; $F[1] &gt; 63 &amp;&amp; $F[1] &lt; 68);\nnext if ($F[0] == 2 &amp;&amp; $F[1] &gt; 1 &amp;&amp; $F[1] &lt; 10);\nnext if ($F[0] == 2 &amp;&amp; $F[1] &gt; 12 &amp;&amp; $F[1] &lt; 18);\nnext if ($F[0] == 3 &amp;&amp; $F[1] &gt; 3 &amp;&amp; $F[1] &lt; 9);\n</code></pre>\n\n<p>Could anybody provide an example of how to do this in a more succinct manner?</p>\n"}, {"tags": ["windows", "perl", "ssh"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507017946, "post_id": 46539791, "comment_id": 80033943, "body": "Your <code>or do { print }</code> is not exiting. You should be using <code>die</code> there, or also <code>exit</code> if you want your output to go to STDOUT."}, {"owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507018595, "post_id": 46539791, "comment_id": 80034229, "body": "@simbabque : Added &quot;die&quot; as per the updated code above, but still the output is null. Could you please help."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507018657, "post_id": 46539791, "comment_id": 80034261, "body": "I&#39;ve read the documentation, but I&#39;ve never used Net:SSH2. And I don&#39;t have anything handy that I could ssh into, so I cannot help. Just pointed out an unrelated bug."}, {"owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507019415, "post_id": 46539791, "comment_id": 80034663, "body": "@simbabque : thanks a lot. Could you please let me know if you know somebody who can help in this forum."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507019599, "post_id": 46539791, "comment_id": 80034748, "body": "You cannot ask specific people for help here. Stack Overflow is not a forum. Give it a few hours and someone will help. We&#39;re currently in the morning hours of Central Europe, so the regulars from the UK should be around. The Germans have a bank holiday today, so they might not be today. In any case, patience is important. If you need a solution right away, this is the wrong place. We&#39;re all volunteers here."}, {"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 1, "creation_date": 1507027617, "post_id": 46539791, "comment_id": 80039467, "body": "<code>print $channel &quot;display supervlan\\n&quot;;</code> Wild guess, but try sending a <code>\\r</code> here instead of <code>\\n</code>. The enter key actually sends a CR rather than a line feed."}], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "edited": false, "score": 0, "creation_date": 1507021332, "post_id": 46540632, "comment_id": 80035756, "body": "I tried the above code, but still getting blank output."}, {"owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "edited": false, "score": 0, "creation_date": 1507028962, "post_id": 46540632, "comment_id": 80040213, "body": "I didnt understand. Could you please elaborate."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "edited": false, "score": 0, "creation_date": 1507030039, "post_id": 46540632, "comment_id": 80040829, "body": "<code>$ssh-&gt;error and die $ssh-&gt;error;</code> will output error message."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "edited": false, "score": 0, "creation_date": 1507094081, "post_id": 46540632, "comment_id": 80068698, "body": "<code>use Data::Dumper; print Dumper $ssh;</code> will show more info."}, {"owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "edited": false, "score": 0, "creation_date": 1507103498, "post_id": 46540632, "comment_id": 80073077, "body": "script --&gt;  use strict; use Data::Dumper;  use Net::SSH::Any;  my $ssh = Net::SSH::Any-&gt;new(      &quot;10.31.142.104&quot;,      port =&gt; &quot;22&quot;,      user =&gt; &quot;hpoouserseu&quot;,      password =&gt; &quot;TR*ve##3R&quot;,      strict_host_key_checking =&gt;0  );  $ssh-&gt;error and die $ssh-&gt;error;  print Dumper $ssh;  print &quot;\\nhello\\n&quot;;  my ($out, $err) = $ssh-&gt;capture2(&quot;show version\\r&quot;);  print $out;"}, {"owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "edited": false, "score": 0, "creation_date": 1507104188, "post_id": 46540632, "comment_id": 80073432, "body": "I have attached the script output as well. Please check"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1507026183, "last_edit_date": 1507026183, "creation_date": 1507020562, "answer_id": 46540632, "question_id": 46539791, "link": "https://stackoverflow.com/questions/46539791/retrieve-output-from-hp-switch-using-netssh2-perl-module/46540632#46540632", "title": "Retrieve output from HP Switch using Net::SSH2 Perl Module", "body": "<p><a href=\"https://metacpan.org/pod/Net::SSH::Any\" rel=\"nofollow noreferrer\">Net::SSH::Any</a> can use any of available backend ssh modules (under windows uses Net::SSH2 if available)</p>\n\n<pre><code>use Net::SSH::Any;\n\nmy $ssh = Net::SSH::Any-&gt;new(\n    \"127.0.0.1\",\n    port =&gt; \"22\",\n    user =&gt; \"xx\",\n    password =&gt; \"xx\",\n    strict_host_key_checking =&gt;0\n);\n$ssh-&gt;error and die $ssh-&gt;error;\n\nmy ($out, $err) = $ssh-&gt;capture2(\"ls -l /\");\nprint $out;\n</code></pre>\n"}], "owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1507104160, "creation_date": 1507017556, "last_edit_date": 1507104160, "question_id": 46539791, "link": "https://stackoverflow.com/questions/46539791/retrieve-output-from-hp-switch-using-netssh2-perl-module", "title": "Retrieve output from HP Switch using Net::SSH2 Perl Module", "body": "<p><a href=\"https://i.stack.imgur.com/iMs3g.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iMs3g.jpg\" alt=\"enter image description here\"></a>I am trying to connect to HP Switch via SSH using Net::SSH2 Perl module (Windows OS). The script is able to connect and authenticate to the device, but the output is not getting retrieved. I am getting blank output.</p>\n\n<p>I have tried with Net::SSH2 shell and exec both, but no luck till now.\nAlso tried with Net::SSH::Any, still no result.</p>\n\n<p>Hp Switch Model : HP 5900 - 7.1.045 </p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>use strict;\nuse Net::SSH2;\n\nmy $ssh = Net::SSH2-&gt;new();\n\n$ssh-&gt;connect('xx.xx.xx.xx');\n\n$ssh-&gt;auth(username =&gt; 'xxxxx', password =&gt; 'xxxxxx');\n\nmy  $channel = $ssh-&gt;channel() or die 'Error creating channel';\n\n$channel-&gt;blocking(0);\n\n$channel-&gt;shell();\n\nprint $channel \"display supervlan\\n\";       \n\nsleep(5);      \n\n while(&lt;$channel&gt;)\n   {\n      print $_;\n   }\n\n$channel-&gt;close(); \n\n$ssh-&gt;disconnect();\n</code></pre>\n\n<p>Can somebody please help.</p>\n"}, {"tags": ["java", "python", "regex", "perl", "notepad++"], "comments": [{"owner": {"reputation": 697, "user_id": 8667423, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/537e0ba00355c2a7431d571a2917824f?s=128&d=identicon&r=PG&f=1", "display_name": "rimalroshan", "link": "https://stackoverflow.com/users/8667423/rimalroshan"}, "edited": false, "score": 0, "creation_date": 1507007004, "post_id": 46537369, "comment_id": 80029330, "body": "You can write a script or write a simple program."}], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 4175365, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/gat99.gif?s=128&g=1", "display_name": "Mrye", "link": "https://stackoverflow.com/users/4175365/mrye"}, "edited": false, "score": 0, "creation_date": 1507007593, "post_id": 46537459, "comment_id": 80029486, "body": "thanks but the text is just a sample.. I may have hundreds of replacement, just scared of mistake if I replace one by one.. I&#39;ll do this if nothing else works.."}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 529, "user_id": 4175365, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/gat99.gif?s=128&g=1", "display_name": "Mrye", "link": "https://stackoverflow.com/users/4175365/mrye"}, "edited": false, "score": 0, "creation_date": 1507007728, "post_id": 46537459, "comment_id": 80029513, "body": "@Mrye Then you may need to write a  script in a language like Java or Perl to handle this.  Notepad++ can only do so much."}], "tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 0, "last_activity_date": 1507006907, "last_edit_date": 1507006907, "creation_date": 1507006548, "answer_id": 46537459, "question_id": 46537369, "link": "https://stackoverflow.com/questions/46537369/find-and-replace-text-iteratively-from-a-list/46537459#46537459", "title": "Find and replace text iteratively from a list", "body": "<p>You could try doing three regex replacements in succession:</p>\n\n<p><strong>Find:</strong></p>\n\n<pre><code>([^?]*)?\\?(.*)\n</code></pre>\n\n<p><strong>Replace:</strong></p>\n\n<pre><code>$1apple$2\n</code></pre>\n\n<p>The trick here is that <code>([^?]*)?\\?</code> matches everything up until the <em>first</em> question mark.  This allows us to do a controlled replacement of only one <code>?</code> placeholder at a time.</p>\n\n<p>You would then repeat the above the above replacement from left to right for the other two keywords.</p>\n"}, {"comments": [{"owner": {"reputation": 529, "user_id": 4175365, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/gat99.gif?s=128&g=1", "display_name": "Mrye", "link": "https://stackoverflow.com/users/4175365/mrye"}, "edited": false, "score": 0, "creation_date": 1507009038, "post_id": 46537677, "comment_id": 80029914, "body": "thanks, it&#39;s working.. I try to avoid scripting but it&#39;s ok"}], "tags": [], "owner": {"reputation": 1133, "user_id": 5717792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9202e38570333e9b5b1722042e552e6?s=128&d=identicon&r=PG&f=1", "display_name": "bgfvdu3w", "link": "https://stackoverflow.com/users/5717792/bgfvdu3w"}, "is_accepted": true, "score": 0, "last_activity_date": 1507008121, "creation_date": 1507008121, "answer_id": 46537677, "question_id": 46537369, "link": "https://stackoverflow.com/questions/46537369/find-and-replace-text-iteratively-from-a-list/46537677#46537677", "title": "Find and replace text iteratively from a list", "body": "<p>This Python script will get the job done. If there are more <code>?</code> than replacements in the list, it will leave them as <code>?</code>.</p>\n\n<pre><code>import re\n\nreplacements = [\"apple\", \"banana\", \"cherry\"]\nlines = \"\"\n\nwith open(\"file.txt\") as file:\n    lines = file.read()\n\ndef replace(m):\n    if not replacements:\n        return \"?\"\n\n    return replacements.pop(0)\n\nlines = re.sub(r\"\\?\", replace, lines)\n\nwith open(\"file.txt\", \"w\") as file:\n    file.write(lines)\n</code></pre>\n\n<p>Admittedly, there are better ways of doing this, such as not loading the entire file into a string.</p>\n"}, {"tags": [], "owner": {"reputation": 2571, "user_id": 2422530, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zlebS.jpg?s=128&g=1", "display_name": "Obi Wan - PallavJha", "link": "https://stackoverflow.com/users/2422530/obi-wan-pallavjha"}, "is_accepted": false, "score": 0, "last_activity_date": 1507017487, "last_edit_date": 1507017487, "creation_date": 1507015142, "answer_id": 46539131, "question_id": 46537369, "link": "https://stackoverflow.com/questions/46537369/find-and-replace-text-iteratively-from-a-list/46539131#46539131", "title": "Find and replace text iteratively from a list", "body": "<p>You can use below regex:</p>\n\n<pre><code>\\?(?!(.|\\s)*\\?(.|\\s)*)\n</code></pre>\n\n<p>It will pick the <strong>last</strong> <code>?</code> and provide you the index of it. After that you can replace it with the last element of your array (it would be better if you create a stack which contains <code>[\"apple\", \"banana\", \"cherry\"]</code> so that <code>stack.pop</code> method will always give you the last element.)</p>\n"}, {"tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 0, "last_activity_date": 1507117208, "creation_date": 1507117208, "answer_id": 46563925, "question_id": 46537369, "link": "https://stackoverflow.com/questions/46537369/find-and-replace-text-iteratively-from-a-list/46563925#46563925", "title": "Find and replace text iteratively from a list", "body": "<p>In Perl:</p>\n\n<pre><code>$text =~ s{\\?}{shift @fruits}eg;  # Consumes @fruits array\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>my $i = 0;\n$text =~ s{\\?}{$fruits[$i++]}g;   # Preserves @fruits\n</code></pre>\n\n<p>To cycle over <code>@fruits</code> (if the number of <code>?</code>s exceeds the number of fruits):</p>\n\n<pre><code>my $i = 0;\n$text =~ s{\\?}{$fruits[ $i++ % @fruits ]}g;\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 4175365, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/gat99.gif?s=128&g=1", "display_name": "Mrye", "link": "https://stackoverflow.com/users/4175365/mrye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 1, "accepted_answer_id": 46537677, "answer_count": 4, "score": 4, "last_activity_date": 1507117208, "creation_date": 1507006046, "last_edit_date": 1507007885, "question_id": 46537369, "link": "https://stackoverflow.com/questions/46537369/find-and-replace-text-iteratively-from-a-list", "title": "Find and replace text iteratively from a list", "body": "<p>Suppose I have these text :</p>\n\n<pre><code>Donec sollicitudin ? malesuada. \"Curabitur\" arcu erat, accumsan\nid imperdiet et, porttitor at sem. Quisque velit nisi, ? ut\nlacinia in, ? id enim. Proin eget tortor risus.\n</code></pre>\n\n<p>and I have these texts in list :</p>\n\n<pre><code>[\"apple\", \"banana\", \"cherry\"]\n</code></pre>\n\n<p>How can I replace each occurence of ? with each of the text in the list ? Expected output :</p>\n\n<pre><code>Donec sollicitudin apple malesuada. \"Curabitur\" arcu erat, accumsan\nid imperdiet et, porttitor at sem. Quisque velit nisi, banana ut\nlacinia in, cherry id enim. Proin eget tortor risus.\n</code></pre>\n\n<p>Is it possible to use notepad++ to achieve something like this for a longer text and list? Or is there any other technologies that I can use ?</p>\n"}, {"tags": ["arrays", "perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1506985979, "post_id": 46534911, "comment_id": 80024617, "body": "I tried to sort the second key first and then iterate value based on the sorted key and then do the bubble sort in the for loop. Posted"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1506986353, "post_id": 46534911, "comment_id": 80024716, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10701210/how-to-find-maximum-and-minimum-value-in-an-array-of-integers-in-perl\">How to find maximum and minimum value in an array of integers in Perl?</a>"}, {"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1506986506, "post_id": 46534911, "comment_id": 80024740, "body": "@MattJacob I did some googling about this question, and I found some similar one. But my data structure is a little different. Appreciate your answer."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506990633, "post_id": 46534979, "comment_id": 80025714, "body": "List::MoreUtils provides <code>minmax</code>, which is more efficient than calling both <code>min</code> and <code>max</code>."}, {"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1507051112, "post_id": 46534979, "comment_id": 80054336, "body": "@MattJacob What can I write explicitly instead of using <code>$_-&gt;[1]</code>?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1507051189, "post_id": 46534979, "comment_id": 80054378, "body": "@Luke I don&#39;t understand the question."}, {"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1507051587, "post_id": 46534979, "comment_id": 80054610, "body": "@MattJaco You used <code>$_-&gt;[1]</code> in your for loop. I know it calls the elements in the array. I just want to learn any other ways to call it? Like more explicitly ways instead of <code>$_-&gt;[1]</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1507051720, "post_id": 46534979, "comment_id": 80054699, "body": "@Luke What could be more explicit than the element at position 1 of an array reference?"}, {"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1507051839, "post_id": 46534979, "comment_id": 80054771, "body": "@MattJacob Yes!"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1507052027, "post_id": 46534979, "comment_id": 80054900, "body": "@Luke Is it possible that there&#39;s a language barrier here? <code>&#175;\\_(\u30c4)_&#47;&#175;</code>"}, {"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1507052113, "post_id": 46534979, "comment_id": 80054950, "body": "@MattJacob OH. I misunderstood. Nvm. haha. Thanks anyway."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 6, "last_activity_date": 1506985945, "creation_date": 1506985945, "answer_id": 46534979, "question_id": 46534911, "link": "https://stackoverflow.com/questions/46534911/perl-find-the-max-and-min-values-in-the-array-of-hashes/46534979#46534979", "title": "Perl: find the max and min values in the array of hashes", "body": "<p><a href=\"https://perldoc.perl.org/List/Util.html\" rel=\"noreferrer\">List::Util</a> is a core module that provides the <code>min</code> and <code>max</code> functions:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util qw(min max);\n\nmy %hash = (\n    'firstitem' =&gt; {\n        '1' =&gt; [\"A\",\"99\"],\n        '2' =&gt; [\"B\",\"88\"],\n        '3' =&gt; [\"C\",\"77\"],\n    },\n    'seconditem' =&gt; {\n        '3' =&gt; [\"C\",\"100\"],\n        '4' =&gt; [\"D\",\"200\"],\n        '5' =&gt; [\"E\",\"300\"],\n    },\n);\n\nfor my $key (keys(%hash)) {\n    my @numbers = map { $_-&gt;[1] } values(%{$hash{$key}});\n    printf(\"%s: max: %d, min: %d\\n\", $key, max(@numbers), min(@numbers));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>firstitem: max: 99, min: 77\nseconditem: max: 300, min: 100\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1506987985, "post_id": 46535080, "comment_id": 80025110, "body": "Awesome. It is a pretty solution. It is good to know <code>grep</code> with <b>Scalar::Util::looks_like_number</b>. Thanks for your always quick respond."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1507011659, "last_edit_date": 1507011659, "creation_date": 1506986713, "answer_id": 46535080, "question_id": 46534911, "link": "https://stackoverflow.com/questions/46534911/perl-find-the-max-and-min-values-in-the-array-of-hashes/46535080#46535080", "title": "Perl: find the max and min values in the array of hashes", "body": "<p>You are almost there.</p>\n\n<p>Once you get to the second level what you need is the <em>whole list</em> of numbers, so to be able to find max and min of the lot. Since you need the extreme values for all arrays within the subkey you don't need to iterate over the second-level keys. </p>\n\n<p>Also, you can fetch all array content unless the number is guaranteed to be at the specific place. Then use <code>grep</code> with <a href=\"http://perldoc.perl.org/Scalar/Util.html#looks_like_number\" rel=\"nofollow noreferrer\">Scalar::Util::looks_like_number</a> to filter out elements that aren't numbers.</p>\n\n<p>Finally, there is no benefit in sorting the keys.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Scalar::Util 'looks_like_number';\nuse List::MoreUtils 'minmax';\n\nmy %hash = ( \n    'firstitem' =&gt; {\n        '1' =&gt; [\"A\",\"99\"], '2' =&gt; [\"B\",\"88\"], '3' =&gt; [\"C\",\"77\"],\n    },  \n    'seconditem' =&gt; {\n        '3' =&gt; [\"C\",\"100\"], '4' =&gt; [\"D\",\"200\"], '5' =&gt; [\"E\",\"300\"],\n    },  \n);\n\n\nforeach my $k1 (keys %hash) \n{\n    my @nums = \n        grep { looks_like_number($_) } \n        map  { @{ $hash{$k1}{$_} } }\n        keys %{$hash{$k1}};\n\n    my ($min, $max) = minmax @nums;\n\n    say \"$k1: max = $max, min = $min\";\n}\n</code></pre>\n\n<p>This prints the expected values.  If your real hash is exactly as shown you can extract arrayrefs directly by <code>values %{$hash{$k1}}</code>, with <code>map { @$_ }</code> to dereference them.</p>\n\n<p>Since you need both extremes a good fit is <code>minmax</code> from <a href=\"http://search.cpan.org/~rehsack/List-MoreUtils-0.425/lib/List/MoreUtils.pm\" rel=\"nofollow noreferrer\">List::MoreUtils</a>, which is \"<em>the most efficient possible algorithm</em>\" for the job. The algorithm's performance is fully realized in the XS version of the module while the Perl version has some overhead.</p>\n\n<p>Also note the core <a href=\"https://perldoc.perl.org/List/Util.html\" rel=\"nofollow noreferrer\">List::Util</a> module, where individual <code>min</code> and <code>max</code> are, among other utilities. </p>\n"}], "owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 0, "accepted_answer_id": 46534979, "answer_count": 2, "score": 2, "last_activity_date": 1507046121, "creation_date": 1506985411, "last_edit_date": 1507046121, "question_id": 46534911, "link": "https://stackoverflow.com/questions/46534911/perl-find-the-max-and-min-values-in-the-array-of-hashes", "title": "Perl: find the max and min values in the array of hashes", "body": "<p>I have the structure below in Perl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %hash = (\n    'firstitem' =&gt; {\n        '1' =&gt; [\"A\",\"99\"],\n        '2' =&gt; [\"B\",\"88\"],\n        '3' =&gt; [\"C\",\"77\"],\n    },\n    'seconditem' =&gt; {\n        '3' =&gt; [\"C\",\"100\"],\n        '4' =&gt; [\"D\",\"200\"],\n        '5' =&gt; [\"E\",\"300\"],\n    },\n);\n</code></pre>\n\n<p>I am looking for a way to find the max number and min number in the array of each hash.\nSo the output will be</p>\n\n<pre><code>firstitem: max:99, min:77\nseconditem: max:300, min:100\n</code></pre>\n\n<p>My idea is sorting the secondary key first and then do the bubble sort or other sorts in the for loop. It looks like not very elegant and smart. </p>\n\n<pre><code>    foreach my $k1 (keys %hash) {\n        my $second_hash_ref = $hash{$k1};                   \n        my @sorted_k2 = sort { $a &lt;=&gt; $b } keys %{$second_hash_ref}; \n        foreach my $i (0..$#sorted_k3){ \n            #bubble sort or other sort\n        }\n    }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1506984147, "post_id": 46534589, "comment_id": 80024155, "body": "<a href=\"https://perldoc.perl.org/threads.html\" rel=\"nofollow noreferrer\">The use of interpreter-based threads in perl is officially discouraged.</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506987255, "post_id": 46534589, "comment_id": 80024932, "body": "You forgot to state your question ... ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1506990850, "post_id": 46534589, "comment_id": 80025761, "body": "@Matt Jacob, ...if you want lightweight threads. Perfectly fine otherwise."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506991255, "post_id": 46534589, "comment_id": 80025851, "body": "@andrew99, Three things you need to fix first: 1) Your code doesn&#39;t even compile. 2) ALWAYS use <code>use strict; use warnings qw( all );</code>. 3) You forgot to ask a question."}, {"owner": {"reputation": 3311, "user_id": 6147374, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d05b5955de351d18e1c8d715f97f0be2?s=128&d=identicon&r=PG&f=1", "display_name": "Ibo", "link": "https://stackoverflow.com/users/6147374/ibo"}, "edited": false, "score": 0, "creation_date": 1506997305, "post_id": 46534589, "comment_id": 80027143, "body": "What is your problem with this code?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1507020000, "post_id": 46534589, "comment_id": 80034972, "body": "@ikegami I&#39;m always glad when you write that. The <a href=\"https://perldoc.perl.org/threads.html#WARNING\" rel=\"nofollow noreferrer\">warning</a> Matt refers to also says <i>\u201cFew people know how to use them correctly or will be able to provide help.\u201d</i> I have a script that makes heavy use of threads and Queues. It works like a charm and if threads would disappear from Perl, that would be a real pain for me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1507020312, "post_id": 46534589, "comment_id": 80035152, "body": "@PerlDuck, Indeed. They are by no means deprecated. Someone just felt like saying &quot;you&#39;re too dumb to use threads&quot; as the official position, and is poisoning the community."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 6780943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5aa345ac3eb2e6032d8129a0286b0ce9?s=128&d=identicon&r=PG&f=1", "display_name": "andrew99", "link": "https://stackoverflow.com/users/6780943/andrew99"}, "edited": false, "score": 0, "creation_date": 1507010465, "post_id": 46535675, "comment_id": 80030436, "body": "Thanks sir!but it doesnt work ,when i print it! while (my $line = &lt;$log_fh&gt;) {       chomp($line);             print &quot;$line\\n&quot;"}, {"owner": {"reputation": 27, "user_id": 6780943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5aa345ac3eb2e6032d8129a0286b0ce9?s=128&d=identicon&r=PG&f=1", "display_name": "andrew99", "link": "https://stackoverflow.com/users/6780943/andrew99"}, "edited": false, "score": 0, "creation_date": 1507010516, "post_id": 46535675, "comment_id": 80030453, "body": "I need the output printed"}, {"owner": {"reputation": 27, "user_id": 6780943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5aa345ac3eb2e6032d8129a0286b0ce9?s=128&d=identicon&r=PG&f=1", "display_name": "andrew99", "link": "https://stackoverflow.com/users/6780943/andrew99"}, "edited": false, "score": 0, "creation_date": 1507010987, "post_id": 46535675, "comment_id": 80030632, "body": "i dont know,u know im newbie brothers ;("}, {"owner": {"reputation": 27, "user_id": 6780943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5aa345ac3eb2e6032d8129a0286b0ce9?s=128&d=identicon&r=PG&f=1", "display_name": "andrew99", "link": "https://stackoverflow.com/users/6780943/andrew99"}, "edited": false, "score": 0, "creation_date": 1507011639, "post_id": 46535675, "comment_id": 80030879, "body": "Haha,u forgot to to put the module!anyway thnk brother!respect"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1507011239, "last_edit_date": 1507011239, "creation_date": 1506991616, "answer_id": 46535675, "question_id": 46534589, "link": "https://stackoverflow.com/questions/46534589/perl-threads-reading-input-lines/46535675#46535675", "title": "Perl threads reading input lines", "body": "<pre><code>use strict;\nuse warnings qw( all );\nuse threads;\n\nuse Thread::Queue qw( );   # 3.01+\n\nuse constant NUM_WORKERS =&gt; 10;\n\nsub worker {\n   my ($job) = @_;\n   print(\"This is log $job\\n\");\n}\n\n{\n   my $log_qfn = \"log.txt\";\n   open(my $log_fh, '&lt;', $log_qfn)\n      or die(\"Can't open \\\"$log_qfn\\\": $!\\n\");\n\n   my $q = Thread::Queue-&gt;new();\n   for (1..NUM_WORKERS) {\n      async {\n         while (defined( my $job = $q-&gt;dequeue() )) {\n            worker($job);\n         }\n      };\n   }\n\n   while (my $line = &lt;$log_fh&gt;) {\n      chomp($line);\n      $q-&gt;enqueue($line);\n   }\n\n   $q-&gt;end();\n\n   $_-&gt;join() for threads-&gt;list();\n}\n</code></pre>\n\n<p>Of course, the output won't necessarily be in the same order. If you need that, it's going to take a whole lot of extra work.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1507044009, "post_id": 46540800, "comment_id": 80050213, "body": "Re &quot;<i><code>LOGFILE</code> and <code>$LOGFILE</code> aren&#39;t the same thing.</i>&quot;, That code was actually correct (or as correct as 1-arg <code>open</code> can be). <code>open(LOGFILE)</code> opens the file named by package var <code>$LOGFILE</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1507021064, "creation_date": 1507021064, "answer_id": 46540800, "question_id": 46534589, "link": "https://stackoverflow.com/questions/46534589/perl-threads-reading-input-lines/46540800#46540800", "title": "Perl threads reading input lines", "body": "<p>First off - there's a bunch of problems with your code even before we get to threading. Because parallel code introduces a whole world of new bugs, it's REALLY IMPORTANT to have decent code to start off with. </p>\n\n<p>Yours doesn't even compile, or work single threaded. </p>\n\n<ul>\n<li><code>LOGFILE</code> and <code>$LOGFILE</code> aren't the same thing.</li>\n<li>don't use <code>foreach</code> read a filehandle - use <code>while</code>. </li>\n<li>You don't actually pass any file data anywhere </li>\n<li>You maintain an <code>@threads</code> array which you don't use - mostly this isn't needed, because you have <code>threads-&gt;list</code>. </li>\n<li>Turn on <code>use strict</code> and <code>use warnings;</code> - threads are messy and create whole new classes of bugs and intermittent faults. Your code must be bullet proof before introducing the additional complexity. </li>\n</ul>\n\n<p>There's a fundamental point you're missing here - threads are non deterministic. The whole point is - you no longer have a defined execution sequence, and so you <em>cannot</em> rely on any particular output ordering. </p>\n\n<p>Also - threading is official discouraged <em>because</em> it's misunderstood - perl threads are not lightweight, so spawning lots of them is horribly inefficient. If you want to go down that road, then <code>Parallel::ForkManager</code> is probably the tool for the job. </p>\n\n<p>And even leaving that aside - they parallelise compute resources, not disk IO. If you're \"just\" reading a file, then you won't make it go faster than the disk controller, which is your limiting factor. </p>\n\n<p>Anyway, to do your thing:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse threads;\nuse Thread::Queue qw ( ); \n\nmy $num_threads = 10; \n\nmy $work_q = Thread::Queue -&gt; new;\nmy $output_q = Thread::Queue -&gt; new; \n\nsub worker {\n   my $count = 0; \n   print \"Worker: \", threads -&gt; self -&gt; tid, \" started and waiting for input\\n\";\n   while ( my $item = $work_q -&gt; dequeue ) { \n      $output_q -&gt; enqueue ( threads -&gt; self -&gt; tid. \": \". $count++. \" items: $item\");\n       print \"Processing: $item\";\n   }\n   print \"Worker: \", threads -&gt; self -&gt; tid, \" exiting\\n\";\n}\n\nsub serialise_output {\n\n   print \"Serialiser waiting for things to print: \", threads -&gt; self -&gt; tid,\"\\n\";\n   while ( my $output_item = $output_q -&gt; dequeue ) { \n     print $output_item,\"\\n\";\n   }\n}\n\nmy @workers = map { threads -&gt; create ( \\&amp;worker ) } 1..$num_threads; \nmy $serialiser = threads -&gt; create ( \\&amp;serialise_output ); \n\n\nopen ( my $input, '&lt;', 'log.txt' ) or die $!;\nwhile ( my $line = &lt;$input&gt; ) {\n  chomp ( $line ) ;\n  $work_q -&gt; enqueue ( $line ); \n}\nclose ( $input );\n\n$work_q -&gt; end; #tell the threads that's all of it, so they exit. \n$_ -&gt; join for @workers; #wait for all the workers to exit. \n\n$output_q -&gt; end; #need to wait for workers to finish, so we don't create race condition. \n$serialiser -&gt; join;\n\n\nprint \"All threads done\\n\";\n</code></pre>\n\n<p>Note - the serialiser gets it's input in a fairly random order, based on which thread processed which line. You can either stream that straight to an open file handle (don't try and open the same file in multiple threads - that'll get ugly) or do some sort of sorting and coalescing before printing. </p>\n\n<p>You absolutely cannot rely on any sort of ordering of your file io, because you're dividing up work - that's rather the point. But you don't need a separate thread to serialise output if you're going to wait until you have all of it (e.g. if you're going to sort it) - you can just do that in the 'main' thread instead. </p>\n"}], "owner": {"reputation": 27, "user_id": 6780943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5aa345ac3eb2e6032d8129a0286b0ce9?s=128&d=identicon&r=PG&f=1", "display_name": "andrew99", "link": "https://stackoverflow.com/users/6780943/andrew99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1507997966, "creation_date": 1506983033, "last_edit_date": 1507997966, "question_id": 46534589, "link": "https://stackoverflow.com/questions/46534589/perl-threads-reading-input-lines", "title": "Perl threads reading input lines", "body": "<p>I am so confused with threads! I hope someone here can help.</p>\n\n<p>The following is my code:</p>\n\n<pre><code>$LOGFILE = \"log.txt\";\nopen(LOGFILE) or die(\"Could not open log file.\");\nforeach $line (&lt;LOGFILE&gt;) {\n    chomp($line);    \n\n\n\n my $number = shift;\n\n\n system(\"echo $number total lines &gt; count\");\n  print \"This thread is printing the number  $number\\n\";\n  sleep(1);\n</code></pre>\n\n<p><code>log.txt</code>:</p>\n"}, {"tags": ["perl", "text", "diff", "git-diff"], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1507044607, "post_id": 46548057, "comment_id": 80050616, "body": "I am okay with using git diff, but it seems to require the text to be stored in files. Is there a way to perform a git diff on two strings without writing them to files?"}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1507063580, "post_id": 46548057, "comment_id": 80060693, "body": "I suggested this because you mentioned &quot;I also have git-diff available&quot;.  You could use temp files, depending on how performant you need this to be.  You could look into ramdisk as a means of speeding up the disk accesses."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1507064506, "post_id": 46548057, "comment_id": 80061160, "body": "I guess I can just use temp files, but it does take a significant amount more time and make my code look rather cludgy."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1507078536, "post_id": 46548057, "comment_id": 80065043, "body": "Have you tried it with ramdisk?  I&#39;d be interested to know how much slower that would be.  It&#39;s more code to write for sure, but using a combination of <code>File::Temp</code> and <code>Git::Sub</code> shouldn&#39;t be that bad."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1507121345, "post_id": 46548057, "comment_id": 80084103, "body": "Unfortunately I can&#39;t easily try it with an external program like ramdisk because where I work they have very strict security policies and I would have to go through a security review process to request software like ramdisk that is currently not used inside the company :("}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1507125242, "post_id": 46548057, "comment_id": 80086950, "body": "You should be able to set up a ramdisk on a Linux machine without installing any additional software: <a href=\"http://www.techrepublic.com/article/how-to-use-a-ramdisk-on-linux/\" rel=\"nofollow noreferrer\">techrepublic.com/article/how-to-use-a-ramdisk-on-linux</a>  You would need <code>sudo</code>, though."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1507127523, "post_id": 46548057, "comment_id": 80088695, "body": "Unfortunately I do not have <code>sudo</code> on our Linux systems, but this script will be primarily used on Windows anyways."}], "tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": true, "score": 1, "last_activity_date": 1507043976, "creation_date": 1507043976, "answer_id": 46548057, "question_id": 46533755, "link": "https://stackoverflow.com/questions/46533755/getting-a-diff-to-properly-recognize-code-blocks-that-contain-similar-content/46548057#46548057", "title": "Getting a diff to properly recognize code blocks that contain similar content", "body": "<p>If you're ok with using git directly, try <code>git diff --patience</code></p>\n\n<pre><code>$ git diff --patience\ndiff --git a/foo1.txt b/foo1.txt\nindex b474449..30a91bb 100644\n--- a/foo1.txt\n+++ b/foo1.txt\n@@ -1,11 +1,11 @@\n-text\n-(\n-    contents\n-)\n block \"block1\"\n (\n     contents\n )\n+text\n+(\n+    contents\n+)\n block \"block2\"\n (\n     contents\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1507064560, "post_id": 46549745, "comment_id": 80061189, "body": "Good answer, but I&#39;m trying to do this from the command line as part of a script so manual alignments aren&#39;t an option for me :("}], "tags": [], "owner": {"reputation": 23243, "user_id": 23118, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fab0965d392f9190012e9f8368c203d0?s=128&d=identicon&r=PG", "display_name": "hlovdal", "link": "https://stackoverflow.com/users/23118/hlovdal"}, "is_accepted": false, "score": 1, "last_activity_date": 1507049902, "creation_date": 1507049902, "answer_id": 46549745, "question_id": 46533755, "link": "https://stackoverflow.com/questions/46533755/getting-a-diff-to-properly-recognize-code-blocks-that-contain-similar-content/46549745#46549745", "title": "Getting a diff to properly recognize code blocks that contain similar content", "body": "<p>The best way to handle this is to use <a href=\"https://stackoverflow.com/a/5117210/23118\">manual diff alignments</a> in <a href=\"http://kdiff3.sourceforge.net/\" rel=\"nofollow noreferrer\">KDiff3</a>. Reusing some example images, but it would be just the same result with your example files:</p>\n\n<p><img src=\"https://i.stack.imgur.com/oUTT1.png\" alt=\"Comparision of old and new function_A with sync1\">\n<img src=\"https://i.stack.imgur.com/c5NY6.png\" alt=\"Comparision of old and new function_A with sync2\"></p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 46548057, "answer_count": 2, "score": 0, "last_activity_date": 1507049902, "creation_date": 1506978565, "last_edit_date": 1507034962, "question_id": 46533755, "link": "https://stackoverflow.com/questions/46533755/getting-a-diff-to-properly-recognize-code-blocks-that-contain-similar-content", "title": "Getting a diff to properly recognize code blocks that contain similar content", "body": "<p>I am diffing files that contain code blocks that have similar contents. The issue is this can cause diffs to get confused. I will start with an example, because this is hard to explain with words.</p>\n\n<p><strong>file1.txt:</strong></p>\n\n<pre><code>text\n(\n    contents\n)\nblock \"block1\"\n(\n    contents\n)\nblock \"block2\"\n(\n    contents\n)\n</code></pre>\n\n<p><strong>file2.txt:</strong></p>\n\n<pre><code>block \"block1\"\n(\n    contents\n)\ntext\n(\n    contents\n)\nblock \"block2\"\n(\n    contents\n)\n</code></pre>\n\n<p>When I diff these two files i get the following output:</p>\n\n<pre><code>-text\n+block \"block1\"\n (\n     contents\n )\n-block \"block1\"\n+text\n (\n     contents\n )\n block \"block2\"\n (\n     contents\n )\n</code></pre>\n\n<p>The issue is, the diff program doesn't recognize that code blocks of type \"block\" are entirely independent from code blocks of type \"text\" and should be treated as separate entities. (Perl's <a href=\"http://search.cpan.org/~neilb/Text-Diff-1.45/lib/Text/Diff.pm\" rel=\"nofollow noreferrer\"><code>Text::Diff</code></a> in this case, but I also have git-diff available and it does the same thing.)</p>\n\n<p>How can I make a diff recognize these different types of code blocks as separate entities so a diff of these two files would produce the following results instead?</p>\n\n<pre><code>-text\n-(\n-    contents\n-)\n block \"block1\"\n (\n     contents\n )\n+text\n+(\n+    contents\n+)\n block \"block2\"\n (\n     contents\n )\n</code></pre>\n\n<blockquote>\n  <p>Note that this is a drastically simplified example compared to the code I am actually trying to diff, I understand that it is easy enough to figure out what this example is doing, but when you are dealing with hundreds of similar elements the diff output becomes completely unreadable.</p>\n</blockquote>\n\n<p>I want the diff to realize that only a \"text\" code block was edited in this modification and no \"block\" code blocks were touched.</p>\n"}, {"tags": ["perl", "catalyst", "html-formhandler"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1506971408, "post_id": 46529225, "comment_id": 80018871, "body": "This is no perl problem. The user selects the country within his browser. You have to use javascript on the client side to limit the cities after a country has been selected."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1506973015, "post_id": 46529225, "comment_id": 80019625, "body": "@dgw and the question is how to do that when using HTML::FormHandler"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1506973885, "post_id": 46529225, "comment_id": 80020055, "body": "It depends on how much data there is. You have two options. Either you create all the data in a large data structure and include it in the page as json or similar, or  create an endpoint in your application that will handle AJAX calls. You don&#39;t really need the FormHandler for either of them."}, {"owner": {"reputation": 81, "user_id": 8674504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GD4ta.png?s=128&g=1", "display_name": "Njugu", "link": "https://stackoverflow.com/users/8674504/njugu"}, "edited": false, "score": 0, "creation_date": 1507008631, "post_id": 46529225, "comment_id": 80029799, "body": "i completely agree with the comments, could someone share some code on how this can be achieved? i have not found sample code on the matter hence the post."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507016107, "post_id": 46538465, "comment_id": 80032976, "body": "Please edit this answer to include a citation of the relevant parts, or include your own solution. Stack Overflow is meant to provide future readers with solutions to their problems, and we don&#39;t know how long the third party resources will be around. Thanks."}], "tags": [], "owner": {"reputation": 81, "user_id": 8674504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GD4ta.png?s=128&g=1", "display_name": "Njugu", "link": "https://stackoverflow.com/users/8674504/njugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1507022471, "last_edit_date": 1507022471, "creation_date": 1507012572, "answer_id": 46538465, "question_id": 46529225, "link": "https://stackoverflow.com/questions/46529225/dynamic-country-city-select-on-form/46538465#46538465", "title": "Dynamic Country - city select on form", "body": "<p>I found exactly what I was looking for, thank you for the effort, I appreciate it very much.</p>\n\n<p>The solution I needed is <a href=\"http://www.perlmonks.org/?node_id=769993\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I am using this code as my base:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction setmenu2() {\n  var menu1 = document.getElementById('menu1');\n  var sel   = menu1.options[menu1.selectedIndex].text;\n  var menu2 = document.getElementById('menu2');\n\n  if (sel == \"Foo\") {\n    menu2.innerHTML = \"&lt;option&gt;Foo-1&lt;/option&gt;\"\n                     +\"&lt;option&gt;Foo-2&lt;/option&gt;\";\n  } else {\n    menu2.innerHTML = \"&lt;option&gt;Bar-1&lt;/option&gt;\"\n                     +\"&lt;option&gt;Bar-2&lt;/option&gt;\"\n                     +\"&lt;option&gt;Bar-3&lt;/option&gt;\";\n  }\n}\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;select id=\"menu1\" onchange=\"setmenu2()\"&gt;\n&lt;option&gt;please select...&lt;/option&gt;\n&lt;option&gt;Foo&lt;/option&gt;\n&lt;option&gt;Bar&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;select id=\"menu2\"&gt;\n&lt;option&gt;- ?? -&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So far this is what I have:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction setcities() {\n  var country_select = document.getElementById('country_code');\n  var sel   = country_select.options[country_select.selectedIndex].value;\n  var city_select = document.getElementById('city_id');\n\n  if (sel == \"AFG\") {\n    city_select.innerHTML = \"&lt;option value='1' id='city_id.1'&gt;Kabul&lt;/option&gt;\"\n                     +\"&lt;option value='2' id='city_id.2'&gt; Qandahar&lt;/option&gt;\";\n  } else if (sel == \"AGO\"){\n    city_select.innerHTML = \"&lt;option value='56' id='city_id.1'&gt;Luanda&lt;/option&gt;\"\n                     +\"&lt;option value='57' id='city_id.2'&gt;Huambo&lt;/option&gt;\"\n                     +\"&lt;option value='58' id='city_id.3'&gt;Lobito&lt;/option&gt;\";\n  } else {\n    city_select.innerHTML = \"&lt;option&gt;nothing&lt;/option&gt;\";\n  }\n}\n&lt;/script&gt;\n\n\n&lt;select id=\"country_code\" onchange=\"setcities()\"&gt;\n  &lt;option value=\"\" id=\"country_code.0\"&gt;please select...&lt;/option&gt;\n  &lt;option value=\"AFG\" id=\"country_code.1\"&gt;Afghanistan&lt;/option&gt;\n  &lt;option value=\"AGO\" id=\"country_code.2\"&gt;Angola&lt;/option&gt;\n  &lt;option value=\"AIA\" id=\"country_code.3\"&gt;Anguilla&lt;/option&gt;\n&lt;/select&gt;\n\n\n&lt;select id=\"city_id\"&gt;\n  &lt;option&gt;- ?? -&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 8674504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GD4ta.png?s=128&g=1", "display_name": "Njugu", "link": "https://stackoverflow.com/users/8674504/njugu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507022471, "creation_date": 1506959882, "last_edit_date": 1506972911, "question_id": 46529225, "link": "https://stackoverflow.com/questions/46529225/dynamic-country-city-select-on-form", "title": "Dynamic Country - city select on form", "body": "<p>newbie alert,\nI am really enjoying perl Catalyst, however, i have googled and cant find a solution for Country - City dynamic selection. when i select a country from the dropdown, i would like the cities to change to that coutries cities only. How can i achieve this in Perl, Catalyst using HTML::FormHandler.</p>\n\n<p>PS\nThe data is coming from mysql db with a one to many relatioship</p>\n\n<pre><code>has_field 'city_id' =&gt; (\n    label            =&gt; 'City',\n    type             =&gt; 'Select',\n    empty_select     =&gt; 'Choose city',\n    required         =&gt; 1,\n    required_message =&gt; 'Please enter city.',\n);\n\nhas_field 'country_code' =&gt; (\n    label            =&gt; 'Country',\n    type             =&gt; 'Select',\n    empty_select     =&gt; 'Choose country',\n    required         =&gt; 1,\n    required_message =&gt; 'Please enter your country.',\n);\n\nhas_field 'submit'  =&gt; ( \n    type =&gt; 'Submit', \n    value =&gt; 'Save', \n    element_class =&gt; ['btn'] \n);\n\nsub options_country_code {\n    my $self = shift;\n    return unless $self-&gt;schema;\n    my @countries = $self-&gt;schema-&gt;resultset('Country')-&gt;all;\n    my @options = map { { value =&gt; $_-&gt;country_code, label =&gt; $_-&gt;country_name } } @countries;\n    unshift @options, { value =&gt; 0, label =&gt; 'Choose Country' };\n    return @options;\n}\n\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n1;\n</code></pre>\n"}, {"tags": ["bash", "perl", "ssh", "public-key", "sshd"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506950400, "post_id": 46525629, "comment_id": 80006582, "body": "What does your script look like? My money would be on an interpolation/escaping/quoting problem."}, {"owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506950755, "post_id": 46525629, "comment_id": 80006764, "body": "$x=<code>scp -i &#47;var&#47;www&#47;keys&#47;living&#47;id_rsa &#47;var&#47;www&#47;$RS-&gt;[$x][3].dat living\\@$a:&#47;var&#47;www&#47;</code>;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506950801, "post_id": 46525629, "comment_id": 80006786, "body": "Please edit that into your post."}, {"owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506950851, "post_id": 46525629, "comment_id": 80006816, "body": "Added to post above second debug."}, {"owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506952635, "post_id": 46525629, "comment_id": 80007911, "body": "It might be relevant to add that this backtick SCP command was working correctly in the script. The only thing that has fundamentally changed is that it now runs as part of a child process that is fork&#39;ed from the parent with $|=1; and $SIG{CHLD} = &quot;IGNORE&quot;; set (because I need the parent to exit for user browser update reasons)."}, {"owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506952993, "post_id": 46525629, "comment_id": 80008141, "body": "After further thought, I shifted the code from the child fork back into the main code, and ... I&#39;m embarrassed to say... I got the dread error_log entry: &quot;Permissions 0660 for ... too open&quot;. Will do further testing and come back with results. :("}], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "is_accepted": false, "score": 0, "last_activity_date": 1506953519, "creation_date": 1506953519, "answer_id": 46527249, "question_id": 46525629, "link": "https://stackoverflow.com/questions/46525629/ssh-failing-after-postponed-publickey-and-single-attempt/46527249#46527249", "title": "SSH failing after Postponed publickey and single attempt", "body": "<p>The solution to this was that the permissions of the file \"<strong>id_rsa</strong>\" private key was set to <strong>0660</strong> and had to be changed to <strong>0600</strong>.</p>\n\n<p>A noob error that was obscured because the SCP command was being run within PERL\n<em>backticks</em> as the child of a PERL fork with these commands:</p>\n\n<pre><code> $|=1;$SIG{CHLD} = \"IGNORE\";\n</code></pre>\n\n<p>This causes debug from the child process to not show up in the Apache error_log, and no amount of debug was exposing the issue on either the source or destination servers.</p>\n"}], "owner": {"reputation": 17, "user_id": 2994732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb41e11cf24c87e8d32a9439fbb03be?s=128&d=identicon&r=PG&f=1", "display_name": "JasonFJ", "link": "https://stackoverflow.com/users/2994732/jasonfj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3045, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506953519, "creation_date": 1506947961, "last_edit_date": 1506950919, "question_id": 46525629, "link": "https://stackoverflow.com/questions/46525629/ssh-failing-after-postponed-publickey-and-single-attempt", "title": "SSH failing after Postponed publickey and single attempt", "body": "<p>I have a working SSH setup that uses publickey without any issues. Specifically, I'm using SCP -i to copy files to a remote server and it works</p>\n\n<pre><code>scp -i /var/www/key/id_rsa /var/www/backups/example.dat living@example.com:/var/www/backups\n</code></pre>\n\n<p>This works fine as a command line when logged in as <strong>root</strong> or <strong>living</strong>.</p>\n\n<p>Here is an example of <strong>WORKING</strong> debug from a /usr/sbin/sshd -d test:</p>\n\n<pre><code>Server listening on :: port 22.\ndebug1: Server will not fork when running in debugging mode.\ndebug1: rexec start in 5 out 5 newsock 5 pipe -1 sock 8\ndebug1: inetd sockets after dupping: 3, 3\nConnection from X.X.X.X port 33166 on Y.Y.Y.Y port 22\ndebug1: Client protocol version 2.0; client software version OpenSSH_6.6.1\ndebug1: match: OpenSSH_6.6.1 pat OpenSSH_6.6.1* compat 0x04000000\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_6.6.1\ndebug1: SELinux support disabled [preauth]\ndebug1: permanently_set_uid: 74/74 [preauth]\ndebug1: list_hostkey_types: ssh-rsa,ecdsa-sha2-nistp256,ssh-ed25519 [preauth]\ndebug1: SSH2_MSG_KEXINIT sent [preauth]\ndebug1: SSH2_MSG_KEXINIT received [preauth]\ndebug1: kex: client-&gt;server aes128-ctr hmac-md5-etm@openssh.com none [preauth]\ndebug1: kex: server-&gt;client aes128-ctr hmac-md5-etm@openssh.com none [preauth]\ndebug1: kex: curve25519-sha256@libssh.org need=16 dh_need=16 [preauth]\ndebug1: kex: curve25519-sha256@libssh.org need=16 dh_need=16 [preauth]\ndebug1: expecting SSH2_MSG_KEX_ECDH_INIT [preauth]\ndebug1: SSH2_MSG_NEWKEYS sent [preauth]\ndebug1: expecting SSH2_MSG_NEWKEYS [preauth]\ndebug1: SSH2_MSG_NEWKEYS received [preauth]\ndebug1: KEX done [preauth]\ndebug1: userauth-request for user living service ssh-connection method none [preauth]\ndebug1: attempt 0 failures 0 [preauth]\ndebug1: PAM: initializing for \"living\"\ndebug1: PAM: setting PAM_RHOST to \"FQDN_redacted\"\ndebug1: PAM: setting PAM_TTY to \"ssh\"\ndebug1: userauth-request for user living service ssh-connection method publickey [preauth]\ndebug1: attempt 1 failures 0 [preauth]\ndebug1: test whether pkalg/pkblob are acceptable [preauth]\ndebug1: temporarily_use_uid: 1001/1001 (e=0/0)\ndebug1: trying public key file /home/living/.ssh/authorized_keys\ndebug1: fd 4 clearing O_NONBLOCK\nFound matching RSA key: 5a:c2:98:38:bf:b3:01:13:55:b0:3d:74:61:3f:b1:f3\ndebug1: restore_uid: 0/0\nPostponed publickey for living from X.X.X.X port 33166 ssh2 [preauth]\ndebug1: userauth-request for user living service ssh-connection method publickey [preauth]\ndebug1: attempt 2 failures 0 [preauth]\ndebug1: temporarily_use_uid: 1001/1001 (e=0/0)\ndebug1: trying public key file /home/living/.ssh/authorized_keys\ndebug1: fd 4 clearing O_NONBLOCK\nFound matching RSA key: 5a:c2:98:38:bf:b3:01:13:55:b0:3d:74:61:3f:b1:f3\ndebug1: restore_uid: 0/0\ndebug1: ssh_rsa_verify: signature correct\ndebug1: do_pam_account: called\nAccepted publickey for living from X.X.X.X port 33166 ssh2: RSA 5a:c2:98:38:bf:b3:01:13:55:b0:3d:74:61:3f:b1:f3\ndebug1: monitor_child_preauth: living has been authenticated by privileged process\ndebug1: monitor_read_log: child log fd closed\ndebug1: temporarily_use_uid: 1001/1001 (e=0/0)\ndebug1: ssh_gssapi_storecreds: Not a GSSAPI mechanism\ndebug1: restore_uid: 0/0\ndebug1: SELinux support disabled\ndebug1: PAM: establishing credentials\nUser child is on pid 2320\ndebug1: PAM: establishing credentials\ndebug1: permanently_set_uid: 1001/1001\ndebug1: Entering interactive session for SSH2.\n</code></pre>\n\n<p>My problem is this: when I run the <strong>same</strong> SCP command within a PERL script, as a backtick bash command, it fails with the following debug.</p>\n\n<pre><code>$x=`scp -i /var/www/keys/living/id_rsa /var/www/$RS-&gt;[$x][3].dat living\\@$a:/var/www/`;\n</code></pre>\n\n<p>I'm thinking the issue might be resolved if I can figure out why the SCP command run inside PERL is only trying once.</p>\n\n<p>Here is an example of <strong>FAILING</strong> debug from a /usr/sbin/sshd -d test:</p>\n\n<pre><code>Server listening on :: port 22.\ndebug1: Server will not fork when running in debugging mode.\ndebug1: rexec start in 5 out 5 newsock 5 pipe -1 sock 8\ndebug1: inetd sockets after dupping: 3, 3\nConnection from X.X.X.X port 33208 on Y.Y.Y.Y port 22\ndebug1: Client protocol version 2.0; client software version OpenSSH_6.6.1\ndebug1: match: OpenSSH_6.6.1 pat OpenSSH_6.6.1* compat 0x04000000\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_6.6.1\ndebug1: SELinux support disabled [preauth]\ndebug1: permanently_set_uid: 74/74 [preauth]\ndebug1: list_hostkey_types: ssh-rsa,ecdsa-sha2-nistp256,ssh-ed25519 [preauth]\ndebug1: SSH2_MSG_KEXINIT sent [preauth]\ndebug1: SSH2_MSG_KEXINIT received [preauth]\ndebug1: kex: client-&gt;server aes128-ctr hmac-md5-etm@openssh.com none [preauth]\ndebug1: kex: server-&gt;client aes128-ctr hmac-md5-etm@openssh.com none [preauth]\ndebug1: kex: curve25519-sha256@libssh.org need=16 dh_need=16 [preauth]\ndebug1: kex: curve25519-sha256@libssh.org need=16 dh_need=16 [preauth]\ndebug1: expecting SSH2_MSG_KEX_ECDH_INIT [preauth]\ndebug1: SSH2_MSG_NEWKEYS sent [preauth]\ndebug1: expecting SSH2_MSG_NEWKEYS [preauth]\ndebug1: SSH2_MSG_NEWKEYS received [preauth]\ndebug1: KEX done [preauth]\ndebug1: userauth-request for user living service ssh-connection method none [preauth]\ndebug1: attempt 0 failures 0 [preauth]\ndebug1: PAM: initializing for \"living\"\ndebug1: PAM: setting PAM_RHOST to \"FQDN_redacted\"\ndebug1: PAM: setting PAM_TTY to \"ssh\"\ndebug1: userauth-request for user living service ssh-connection method publickey [preauth]\ndebug1: attempt 1 failures 0 [preauth]\ndebug1: test whether pkalg/pkblob are acceptable [preauth]\ndebug1: temporarily_use_uid: 1001/1001 (e=0/0)\ndebug1: trying public key file /home/living/.ssh/authorized_keys\ndebug1: fd 4 clearing O_NONBLOCK\nFound matching RSA key: 5a:c2:98:38:bf:b3:01:13:55:b0:3d:74:61:3f:b1:f3\ndebug1: restore_uid: 0/0\nPostponed publickey for living from X.X.X.X port 33208 ssh2 [preauth]\nConnection closed by X.X.X.X [preauth]\ndebug1: do_cleanup [preauth]\ndebug1: monitor_read_log: child log fd closed\ndebug1: do_cleanup\ndebug1: PAM: cleanup\ndebug1: Killing privsep child 2409\n</code></pre>\n"}, {"tags": ["xml", "perl", "xsd"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506938695, "post_id": 46523386, "comment_id": 80000705, "body": "Are you trying to build an all-pairs unit test for your schema?"}, {"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506946758, "post_id": 46523386, "comment_id": 80004519, "body": "Yes, that&#39;s sort of the idea"}, {"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507649556, "post_id": 46523386, "comment_id": 80289622, "body": "I gave it a second though, maybe modify the XML::Compile module, to give some special value/tag to the enumeration and choice, then split the generated XML. For example: &lt;x0:Pname&gt;AAENUMERATION1&lt;/x0:Pname&gt;&lt;x0:Pname&gt;BBENUMERATION2&lt;&zwnj;&#8203;/x0:Pname&gt;&lt;x0:bday&gt;2&zwnj;&#8203;017-10-2CHOICE1&lt;/x0:&zwnj;&#8203;bday&gt;&lt;x0:postal&gt;exam&zwnj;&#8203;pleCHOICE2&lt;/x0:posta&zwnj;&#8203;l&gt;&lt;x0:email&gt;exampleC&zwnj;&#8203;HOICE3&lt;/x0:email&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 2, "creation_date": 1507656976, "post_id": 46670888, "comment_id": 80293794, "body": "I am just reading the Translate, almost there. Thanks for the Answer and the great work on the module!!!"}], "tags": [], "owner": {"reputation": 126, "user_id": 8753501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9PMJYA7KlvY/AAAAAAAAAAI/AAAAAAAAAEM/ZqByGWY1yxo/photo.jpg?sz=128", "display_name": "Mark Overmeer", "link": "https://stackoverflow.com/users/8753501/mark-overmeer"}, "is_accepted": true, "score": 6, "last_activity_date": 1507650629, "creation_date": 1507650629, "answer_id": 46670888, "question_id": 46523386, "link": "https://stackoverflow.com/questions/46523386/xmlcompile-to-generate-sample-xml-from-schema-with-enumeration-and-choice/46670888#46670888", "title": "XML::Compile to generate sample XML from schema with enumeration and choice", "body": "<p>(I am the author of XML::Compile)\nThis can never lead to an generic solution, so it is probably not worth the effort...</p>\n\n<p>Nearly all elements have different values which you need to test, enumeration seems to be special, but isn't.  For instance, an integer is an enumeration as well.  Would you walk all its values?  The number of combinations explode.</p>\n\n<p>When you want to collect more info from the schema than the template() function shows, try to extend XML::Compile::Translate::Template.  It offers you details from the xsd in simple HASH structures.</p>\n\n<p>Success</p>\n"}, {"comments": [{"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1508002042, "post_id": 46701352, "comment_id": 80440705, "body": "Thanks @ikegami, you are right, I had modified my script to do non-complete combination of these iterations. i.e.: combination of enums 1, enums 2, etc, as well as the combination of choice 1, choice 2. default maxOccurs 99 (if not specified), default maxLength 399 (if not specified), some other restricts had been set to meet my specific requirement - no guarantee if this logic covers all general cases."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1508105120, "post_id": 46701352, "comment_id": 80466251, "body": "You did mention those restrictions (except the max length which is impossible to check until after you&#39;ve dine the work). I used those restrictions and added some restrictions of my own on top of those to get those enormous numbers."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1507960480, "last_edit_date": 1507960480, "creation_date": 1507781963, "answer_id": 46701352, "question_id": 46523386, "link": "https://stackoverflow.com/questions/46523386/xmlcompile-to-generate-sample-xml-from-schema-with-enumeration-and-choice/46701352#46701352", "title": "XML::Compile to generate sample XML from schema with enumeration and choice", "body": "<p>You don't seem to have a grasp of the size of the numbers involved.</p>\n\n<p>Let me add some limits:</p>\n\n<ul>\n<li>We limit bounded repetitions to four test cases of <code>min</code>, <code>min+1</code>, <code>max-1</code> and <code>max</code> repetitions.</li>\n<li>We limit unbounded repetitions to three test cases of <code>min</code>, <code>min+1</code> and <code>min+100</code> repetitions.</li>\n<li>We always use the same value for <code>xs:string</code> and <code>xs:date</code>.</li>\n</ul>\n\n<p>Even with those limits, your trivially simple schema would result in 4&nbsp;\u00d7&nbsp;10<sup>179</sup> combinations (or 4&nbsp;\u00d7&nbsp;10<sup>19</sup> combinations if we reduce the third case of unbounded repetitions from <code>min+100</code> to <code>min+10</code>).</p>\n\n<p>To get an idea of the scale of these numbers, consider this: There are only 10<sup>80</sup> atoms in the observable universe.</p>\n\n<p>A generic solution is just not possible.</p>\n\n<hr>\n\n<p>The number was obtained using the following program:</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\nuse feature qw( say );\n\nsub sum { my $acc = 0; $acc += $_ for @_; $acc }\nsub mul { my $acc = 1; $acc *= $_ for @_; $acc }\n\nsub choice { sum @_ }\nsub sequence { mul @_ }\n\nsub repeat {\n   my ($x, $min, $max) = @_;\n   my @exps;\n   if (defined($max)) {\n      @exps = ( $min, $min+1, $max-1, $max );\n      my $diff = $max - $min;\n      die if $diff &lt; 0;\n      splice @exps, $diff+1 if $diff &lt; 3;\n   } else {\n      @exps = ( $min, $min+1, $min+100 );   \n   }\n\n   return choice map { $x ** $_ } @exps;\n}\n\n# optional($x) is a shortcut for repeat($x, 0, 1)\nsub optional { 1 + $_[0] }\n\nsub Document { repeat(address(), 1) }\nsub address { sequence optional(Pname()), repeat(street(), 0, 3), contacttype() }\nsub contacttype { optional(contacttype_choice()) }\nsub contacttype_choice { choice bday(), email(), repeat(postal(), 1, 2) }\nsub Pname { 2 }\nsub street { 1 }\nsub bday { 1 }\nsub email { 1 }\nsub postal { 1 }\n\nsay Document();\n</code></pre>\n\n<p>The above program uses the following simpler-but-equivalent definition of <code>contacttype</code>:</p>\n\n<pre><code>&lt;xs:complexType name=\"contacttype\"&gt;\n        &lt;xs:choice minOccurs=\"0\" maxOccurs=\"1\"&gt;\n                &lt;xs:element ref=\"bday\"/&gt;\n                &lt;xs:element ref=\"email\"/&gt;\n                &lt;xs:element ref=\"postal\" minOccurs=\"1\" maxOccurs=\"2\"/&gt;\n        &lt;/xs:choice&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 46670888, "answer_count": 2, "score": 4, "last_activity_date": 1507960480, "creation_date": 1506938426, "question_id": 46523386, "link": "https://stackoverflow.com/questions/46523386/xmlcompile-to-generate-sample-xml-from-schema-with-enumeration-and-choice", "title": "XML::Compile to generate sample XML from schema with enumeration and choice", "body": "<p>Following some existing tutorials, I created below perl script to generate XML from xsd.</p>\n\n<p>Script:</p>\n\n<pre><code>#!/opt/perl/bin/perl -w\nuse warnings;\nuse strict;\nuse XML::Compile::Schema;\nuse XML::LibXML::Reader;\nuse XML::Compile::Util qw/pack_type/;\n\nmy $in_qfn  = $ARGV[0];\nmy $out_qfn = $ARGV[1];\n\nopen (OUT, \"&gt;$out_qfn\") || die \"Unable to create output file: $out_qfn\\n\";\n\n# Generate the hash of xml\nmy $schema = XML::Compile::Schema-&gt;new($in_qfn);\nmy $type = pack_type 'urn:testsample','Document';\nmy $data = $schema-&gt;template('PERL', $type);\n$data =~ s/#.*//g;\n$data =~ s/\\s*//g;\n$data = eval($data);\n\n# Print the xml\nmy $doc = XML::LibXML::Document-&gt;new('1.0','UTF-8');\nmy $write = $schema-&gt;compile(WRITER=&gt;$type);\nmy $xml = $write-&gt;($doc,$data);\n$doc-&gt;setDocumentElement($xml);\nprint OUT $doc-&gt;toString(1);\n</code></pre>\n\n<p>Input Schema:</p>\n\n<pre><code>&lt;xs:schema xmlns=\"urn:testsample\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" targetNamespace=\"urn:testsample\" elementFormDefault=\"qualified\"&gt;\n    &lt;xs:element name=\"Document\"&gt;\n            &lt;xs:complexType&gt;\n                    &lt;xs:sequence&gt;\n                            &lt;xs:element ref=\"address\" minOccurs=\"1\" maxOccurs=\"unbounded\"/&gt;\n                    &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:element name=\"address\"&gt;\n            &lt;xs:complexType&gt;\n                    &lt;xs:sequence&gt;\n                            &lt;xs:element name=\"Pname\" type=\"Pname\" minOccurs=\"0\" maxOccurs=\"1\"/&gt;\n                            &lt;xs:element ref=\"street\" minOccurs=\"0\" maxOccurs=\"3\"/&gt;\n                            &lt;xs:element name=\"contact\" type=\"contacttype\"/&gt;\n                    &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:complexType name=\"contacttype\"&gt;\n            &lt;xs:choice&gt;\n                    &lt;xs:element ref=\"bday\" minOccurs=\"0\" maxOccurs=\"1\"/&gt;\n                    &lt;xs:element ref=\"email\" minOccurs=\"0\" maxOccurs=\"1\"/&gt;\n                    &lt;xs:element ref=\"postal\" minOccurs=\"0\" maxOccurs=\"2\"/&gt;\n            &lt;/xs:choice&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:simpleType name=\"Pname\"&gt;\n            &lt;xs:restriction base=\"xs:string\"&gt;\n                    &lt;xs:enumeration value=\"AA\"/&gt;\n                    &lt;xs:enumeration value=\"BB\"/&gt;\n            &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n    &lt;xs:element name=\"street\" type=\"xs:string\"/&gt;\n    &lt;xs:element name=\"email\" type=\"xs:string\"/&gt;\n    &lt;xs:element name=\"postal\" type=\"xs:string\"/&gt;\n    &lt;xs:element name=\"bday\" type=\"xs:date\"/&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>The output is correct. To take it further, in the example schema, there are choice elements, enumerations and repetitive elements. I would like to:</p>\n\n<pre><code>1. iterate all the possible values\n2. generate maximum repetitive elements, if unbounded then 99\n3. generate all choice values\n4. split them into multiple XML files such that every XML is valid against the original schema. \n</code></pre>\n\n<p>The output XML files amount is: i*j (i: the amount of choices in each node recursively, can be i1*i2*i3... j: the amount of enumerations in each node recursively, can be j1*j2*j3...)</p>\n\n<p>In this case, it outputs 2*3=6 XML files (if there is an embedded node with 2 enumeration values, then it becomes 2*2*3=12 XML files), similar to:</p>\n\n<p><strong>XML file 1:</strong></p>\n\n<pre><code>&lt;x0:Document xmlns:x0=\"urn:testsample\"&gt;\n&lt;x0:address&gt;\n    &lt;x0:Pname&gt;AA&lt;/x0:Pname&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:contact&gt;\n        &lt;x0:email&gt;example&lt;/x0:email&gt;\n    &lt;/x0:contact&gt;\n&lt;/x0:address&gt;\n&lt;/x0:Document&gt;\n</code></pre>\n\n<p><strong>XML File 2:</strong></p>\n\n<pre><code>&lt;x0:Document xmlns:x0=\"urn:testsample\"&gt;\n&lt;x0:address&gt;\n    &lt;x0:Pname&gt;BB&lt;/x0:Pname&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:contact&gt;\n        &lt;x0:email&gt;example&lt;/x0:email&gt;\n    &lt;/x0:contact&gt;\n&lt;/x0:address&gt;\n&lt;/x0:Document&gt;\n</code></pre>\n\n<p><strong>XML File 3:</strong></p>\n\n<pre><code>&lt;x0:Document xmlns:x0=\"urn:testsample\"&gt;\n&lt;x0:address&gt;\n    &lt;x0:Pname&gt;AA&lt;/x0:Pname&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:contact&gt;\n        &lt;x0:bday&gt;2017-10-2&lt;/x0:bday&gt;\n    &lt;/x0:contact&gt;\n&lt;/x0:address&gt;\n&lt;/x0:Document&gt;\n</code></pre>\n\n<p><strong>XML File 4:</strong></p>\n\n<pre><code>&lt;x0:Document xmlns:x0=\"urn:testsample\"&gt;\n&lt;x0:address&gt;\n    &lt;x0:Pname&gt;BB&lt;/x0:Pname&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:contact&gt;\n        &lt;x0:bday&gt;2017-10-2&lt;/x0:bday&gt;\n    &lt;/x0:contact&gt;\n&lt;/x0:address&gt;\n&lt;/x0:Document&gt;\n</code></pre>\n\n<p><strong>XML File 5:</strong></p>\n\n<pre><code>&lt;x0:Document xmlns:x0=\"urn:testsample\"&gt;\n&lt;x0:address&gt;\n    &lt;x0:Pname&gt;AA&lt;/x0:Pname&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:contact&gt;\n        &lt;x0:postal&gt;example&lt;/x0:postal&gt;\n        &lt;x0:postal&gt;example&lt;/x0:postal&gt;\n    &lt;/x0:contact&gt;\n&lt;/x0:address&gt;\n&lt;/x0:Document&gt;\n</code></pre>\n\n<p><strong>XML File 6:</strong></p>\n\n<pre><code>&lt;x0:Document xmlns:x0=\"urn:testsample\"&gt;\n&lt;x0:address&gt;\n    &lt;x0:Pname&gt;BB&lt;/x0:Pname&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:street&gt;example&lt;/x0:street&gt;\n    &lt;x0:contact&gt;\n        &lt;x0:postal&gt;example&lt;/x0:postal&gt;\n        &lt;x0:postal&gt;example&lt;/x0:postal&gt;\n    &lt;/x0:contact&gt;\n&lt;/x0:address&gt;\n&lt;/x0:Document&gt;\n</code></pre>\n\n<p>I firstly stuck to get the correct value for i and j, as they will be variables used in the generated XML file names, then the possible split. Any help is appreciated!</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506934058, "post_id": 46521633, "comment_id": 79998457, "body": "Does it give any error messages? What&#39;s the response?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506934675, "post_id": 46521633, "comment_id": 79998797, "body": "Could you also include a text dump of the request? I guess <a href=\"https://metacpan.org/pod/Mojo::UserAgent#DEBUGGING\" rel=\"nofollow noreferrer\">metacpan.org/pod/Mojo::UserAgent#DEBUGGING</a> can give you that."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506949247, "post_id": 46521633, "comment_id": 80005901, "body": "I was asking for the request. You need to compare your request to the example given in the documentation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507056806, "post_id": 46521633, "comment_id": 80057346, "body": "Do you still need help with this? I&#39;m just starting to look at it."}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507074978, "post_id": 46521633, "comment_id": 80064262, "body": "@borodin - I&#39;ve figured out <i>something</i> by creating <code>Mojo::Content::Single</code> objects, adding <code>Mojo::Asset::Memory</code> and headers, and then putting them all in a <code>Mojo::Content::MultiPart</code> object. Looks ugly to me - or is it the only way?"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1506936622, "creation_date": 1506931377, "last_edit_date": 1506936622, "question_id": 46521633, "link": "https://stackoverflow.com/questions/46521633/how-can-i-do-multipart-requests-mith-mojouseragent", "title": "How can I do multipart requests mith Mojo::UserAgent?", "body": "<p>I'd like to perform a multipart file upload to Google Drive as described <a href=\"https://developers.google.com/drive/v3/web/multipart-upload\" rel=\"nofollow noreferrer\">here</a> using a Mojo::UserAgent. I currently do it like this:</p>\n\n<pre><code>my $url = Mojo::URL-&gt;new('https://www.googleapis.com/upload/drive/v3/files');\n$url-&gt;query({ fields =&gt; 'id,parents', \n              ocr =&gt; 'true', \n              ocrLanguage =&gt; 'de', \n              uploadType =&gt; 'multipart' });\n\n\nmy $tx = $ua-&gt;post($url,\n                   json =&gt; { parents =&gt; [ '0ByFk4UawESNUX1Bwak1Ka1lwVE0' ] },\n                   {\n                       'Content-Type' =&gt; 'multipart/related',\n                       'parents' =&gt; [ '0ByFk4UawESNUX1Bwak1Ka1lwVE0' ]\n                   },\n                   $content );\n</code></pre>\n\n<p>but it doesn't work.</p>\n\n<p>I've managed authorization OK (omitted here) and simple file upload works fine. I just can't seem to do the multipart.</p>\n\n<p>I've tried to make sense of the docs <a href=\"http://mojolicious.org/perldoc/Mojo/Content/MultiPart\" rel=\"nofollow noreferrer\">here</a> - but to no avail, in the sense that the file gets uploaded OK, but the JSON part gets ignored, and the file gets uploaded in the root folder.</p>\n"}, {"tags": ["perl", "unit-testing", "mocha.js", "tap"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506932659, "post_id": 46517764, "comment_id": 79997734, "body": "<code>prove</code> is biased towards Perl, but fundamentally language-agnostic. The <code>.t</code> files can be any executable that outputs TAP, not necessarily a Perl script. One of my favourite techniques is writing test cases using YAML documents as .t files, then using a shebang like <code>#!&#47;usr&#47;bin&#47;env .&#47;run-yaml-test</code> to execute the test cases."}], "answers": [{"comments": [{"owner": {"reputation": 734, "user_id": 201526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5de6b8edb4455c78dbb5ac56f2438e?s=128&d=identicon&r=PG", "display_name": "Skrylar", "link": "https://stackoverflow.com/users/201526/skrylar"}, "edited": false, "score": 0, "creation_date": 1541231936, "post_id": 46518009, "comment_id": 93152935, "body": "I don&#39;t know that a TAP formatter needs <i>much</i> maintenance, though. I may just be naive, but it&#39;s not a very complicated format / one that needs a lot of constant updating to conform to."}], "tags": [], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "is_accepted": true, "score": 6, "last_activity_date": 1506902260, "creation_date": 1506902260, "answer_id": 46518009, "question_id": 46517764, "link": "https://stackoverflow.com/questions/46517764/how-can-i-use-perls-prove-with-tap-producers-in-other-languages/46518009#46518009", "title": "How can I use Perl&#39;s &#39;prove&#39; with TAP producers in other languages?", "body": "<p>The most direct way I can think of to use TAP as a common unit test reporting format in a multi-language project is to write a few scripts in your <code>t/</code> directory that call TAP-producing unit test drivers.</p>\n\n<p>Mocha has a TAP reporting plugin called mocha-tap-reporter and invoking it from the command line is just</p>\n\n<pre><code>mocha --reporter mocha-tap-reporter &lt;directory&gt;\n</code></pre>\n\n<p>Here's an example of how might set things up in a simple project</p>\n\n<pre><code>.\n\u251c\u2500\u2500 node_modules\n    (contents of node_modules omitted)\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 t\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 mocha.t\n\u2514\u2500\u2500 test\n    \u2514\u2500\u2500 multiply.js\n</code></pre>\n\n<p>In this case, <code>multiply.js</code> uses the <code>assert</code> helper and just has one test:</p>\n\n<pre><code>const assert = require('assert');\n\ndescribe('multiply', function () {\n    it('1 * 0 = 0', function () {\n        assert.equal(1 * 0, 0);\n    });\n});\n</code></pre>\n\n<p><code>mocha.t</code> is just a shell wrapper around <code>mocha --reporter mocha-tap-reporter test</code>.</p>\n\n<pre><code>#!/bin/bash\n# change directory to folder containing source file\ncd \"$(dirname \"${BASH_SOURCE[0]}\")\"\n# go to project root\ncd ..\n# invoke mocha test runner with tap reporter\n./node_modules/.bin/mocha \\\n    --reporter mocha-tap-reporter \\\n    test\n</code></pre>\n\n<p>And then if you run <code>prove</code> from the project root, you'll see this:</p>\n\n<pre><code>% prove\nt/mocha.t .. ok\nAll tests successful.\nFiles=1, Tests=1,  0 wallclock secs ( 0.02 usr  0.01 sys +  0.23 cusr  0.08 csys =  0.34 CPU)\nResult: PASS\n</code></pre>\n\n<p>That being said, the <code>mocha-tap-reporter</code> plugin hasn't been updated in three years or so and looks a little unmaintained. I think that's the general situation for TAP libraries outside of the Perl community, though (having used one in an OCaml project a while back).</p>\n"}], "owner": {"reputation": 666, "user_id": 2243865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/32c60daf8fbec71c63b1e78e8ed38bc1?s=128&d=identicon&r=PG", "display_name": "user3243135", "link": "https://stackoverflow.com/users/2243865/user3243135"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 46518009, "answer_count": 1, "score": 2, "last_activity_date": 1506902260, "creation_date": 1506899596, "last_edit_date": 1506901162, "question_id": 46517764, "link": "https://stackoverflow.com/questions/46517764/how-can-i-use-perls-prove-with-tap-producers-in-other-languages", "title": "How can I use Perl&#39;s &#39;prove&#39; with TAP producers in other languages?", "body": "<p>I'm a Perl dev working with a multi-language project, including python, node.js and C. Thankfully all of these languages have TAP producer libraries. For example, I can use the <code>mocha</code> command to run Node.js scripts and get TAP output. </p>\n\n<p>However, how do I integrate this with the <code>prove</code> tool? For perl, I generally put tests in <code>t/</code> and <code>prove -vlc t/</code> will run all .t files inside as perl scripts. The only thing I can think of is to <code>exec</code> a mocha command within a perl .t file. </p>\n"}, {"tags": ["linux", "perl", "rename", "file-rename"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506893098, "post_id": 46517022, "comment_id": 79988230, "body": "You could probably get a list of all dirs/files that need to be renamed via the <code>find</code> command \u2013 but recursion through a directory you are also renaming might lead to problems."}, {"owner": {"reputation": 11, "user_id": 8705558, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210953743989603/picture?type=large", "display_name": "Ortoch", "link": "https://stackoverflow.com/users/8705558/ortoch"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506895094, "post_id": 46517022, "comment_id": 79988680, "body": "I just need to add ./* to that command basically I dont need to rename in the parent directory I ONLY need to rename in the hundreds of sub directories. So I need to find a way to tell it to point to all the directories one level down instead of the way its written which is to the current directory."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1506897267, "post_id": 46517022, "comment_id": 79989165, "body": "Stack Overflow is a site for programming and development questions. This question appears to be off-topic because it is not about programming or development. See <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here</a> in the Help Center. Perhaps <a href=\"http://superuser.com/\">Super User</a> or <a href=\"http://unix.stackexchange.com/\">Unix &amp; Linux Stack Exchange</a> would be a better place to ask."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8705558, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210953743989603/picture?type=large", "display_name": "Ortoch", "link": "https://stackoverflow.com/users/8705558/ortoch"}, "edited": false, "score": 0, "creation_date": 1506900671, "post_id": 46517556, "comment_id": 79989780, "body": "find -type f -print0 | xargs -0 safely_unhide Skipping &quot;./safely_unhide&quot;: Can&#39;t stat &quot;safely_unhide//&quot;: Not a directory Skipping &quot;./remove_hidden&quot;: Can&#39;t stat &quot;remove_hidden//&quot;: Not a directory Skipping &quot;./T2/.test3&quot;: Can&#39;t rename to &quot;.test3//T2/&quot;: No such file or directory"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 8705558, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210953743989603/picture?type=large", "display_name": "Ortoch", "link": "https://stackoverflow.com/users/8705558/ortoch"}, "edited": false, "score": 0, "creation_date": 1506901072, "post_id": 46517556, "comment_id": 79989847, "body": "Fixed. Had the values returned by <code>fileparse</code> in the wrong order."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1506901055, "last_edit_date": 1506901055, "creation_date": 1506897529, "answer_id": 46517556, "question_id": 46517022, "link": "https://stackoverflow.com/questions/46517022/how-to-change-all-hidden-folders-files-to-visible-in-a-multiple-sub-directories/46517556#46517556", "title": "How to change all hidden folders/files to visible in a multiple sub directories", "body": "<p><code>safely_unhide</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Basename qw( fileparse );\nfor (@ARGV) {\n   my $o = $_;\n\n   my ($fn, $dir_qfn) = fileparse($_);\n   $fn =~ s/^\\.//\n      or next;\n\n   my $n = \"$dir_qfn/$fn\";\n   if (stat($n)) {\n      warn(\"Skipping \\\"$o\\\": \\\"$n\\\" already exists\\n\");\n      next;\n   }\n   elsif (!$!{ENOENT}) {\n      warn(\"Skipping \\\"$o\\\": Can't stat \\\"$n\\\": $!\\n\");\n      next;\n   }\n\n   rename($n, $o)\n      or warn(\"Skipping \\\"$o\\\": Can't rename to \\\"$n\\\": $!\\n\");\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>find -type f -exec safely_unhide {} +          # Supports all file names. Requires GNU find\nfind -type f | xargs safely_unhide             # Doesn't support newlines in file names.\nfind -type f -print0 | xargs -0 safely_unhide  # Supports all file names.\n</code></pre>\n\n<p>Drop <code>-type f</code> and add <code>-depth</code> if you want to rename hidden dirs too.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506915224, "post_id": 46518003, "comment_id": 79992345, "body": "Interesting about POSIX and <code>+</code>, because I&#39;ve run into numerous people that had a <code>find</code> that didn&#39;t accept <code>+</code>."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506915438, "post_id": 46518003, "comment_id": 79992379, "body": "@ikegami It&#39;s not even that new, already the 2004 spec lists it, but I don&#39;t rely on it being around on every system."}], "tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": true, "score": 4, "last_activity_date": 1506902221, "creation_date": 1506902221, "answer_id": 46518003, "question_id": 46517022, "link": "https://stackoverflow.com/questions/46517022/how-to-change-all-hidden-folders-files-to-visible-in-a-multiple-sub-directories/46518003#46518003", "title": "How to change all hidden folders/files to visible in a multiple sub directories", "body": "<p>This requires a find that supports the <code>+</code> (can use <code>\\;</code> instead, which will call <code>rename</code> multiple times), but even <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/utilities/find.html\" rel=\"nofollow noreferrer\">POSIX find</a> specifies it:</p>\n\n<pre><code>find -mindepth 1 -depth -exec rename -n 's{/\\.([^\\/]*$)}{/$1}' {} +\n</code></pre>\n\n<ul>\n<li>The <code>-depth</code> option prevents directories from being renamed before all the files in them are renamed</li>\n<li><code>-mindepth 1</code> prevents find from trying to rename the current directory, <code>.</code>.</li>\n<li><code>-n</code> is to just print what would be renamed instead of actually renaming (has to be removed to do the renaming).</li>\n<li>The regular expression removes the last period after which there are no forward slashes, if it is preceded by a forward slash.</li>\n</ul>\n\n<p><code>rename</code> doesn't overwrite existing files, unless the <code>-f</code> (\"force\") option is used.</p>\n\n<p>For a test directory structure like this:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 .dir1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 .dir2\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 .dir3\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 .file2\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 .file1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 file3\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 .file6\n\u251c\u2500\u2500 dir5\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 .file5\n\u251c\u2500\u2500 .file4\n\u251c\u2500\u2500 test1.bar\n\u2514\u2500\u2500 test1.foo\n</code></pre>\n\n<p>the output is</p>\n\n<pre><code>rename(./dir5/.file5, ./dir5/file5)\nrename(./.file4, ./file4)\nrename(./.dir1/.file6, ./.dir1/file6)\nrename(./.dir1/.dir2/.file1, ./.dir1/.dir2/file1)\nrename(./.dir1/.dir2/.dir3/.file2, ./.dir1/.dir2/.dir3/file2)\nrename(./.dir1/.dir2/.dir3, ./.dir1/.dir2/dir3)\nrename(./.dir1/.dir2, ./.dir1/dir2)\nrename(./.dir1, ./dir1)\n</code></pre>\n\n<p>and the result after removing <code>-n</code> is</p>\n\n<pre><code>.\n\u251c\u2500\u2500 dir1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 dir2\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 dir3\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 file2\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 file1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 file3\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 file6\n\u251c\u2500\u2500 dir5\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 file5\n\u251c\u2500\u2500 file4\n\u251c\u2500\u2500 test1.bar\n\u2514\u2500\u2500 test1.foo\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8705558, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210953743989603/picture?type=large", "display_name": "Ortoch", "link": "https://stackoverflow.com/users/8705558/ortoch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 1, "accepted_answer_id": 46518003, "answer_count": 2, "score": 0, "last_activity_date": 1506902283, "creation_date": 1506892895, "last_edit_date": 1506902283, "question_id": 46517022, "link": "https://stackoverflow.com/questions/46517022/how-to-change-all-hidden-folders-files-to-visible-in-a-multiple-sub-directories", "title": "How to change all hidden folders/files to visible in a multiple sub directories", "body": "<p>I have hundreds of sub directories in a directory that all have hidden files in them that I need to remove the period at the beginning of them to make them visible. I found a command to go into each directory and change them to make them visible but I need to know how to make this command work from one directory up.</p>\n\n<pre><code>rename 's/\\.//;' .*\n</code></pre>\n\n<p>I have tried about an hour to modify this to work one level up but don't understand the Perl string enough to do it. If someone could help out I am sure it's simple and I just can't land on the right answer.</p>\n"}, {"tags": ["perl", "io", "filehandle"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506898064, "post_id": 46516951, "comment_id": 79989297, "body": "Notes: (1) When you <code>use v5.22;</code> the features <code>say</code> and <code>switch</code> are enabled (so there is no need for <code>use feature ...</code>), and so is <code>strict</code>.  (2) The <a href=\"https://perldoc.perl.org/feature.html#The-%27switch%27-feature\" rel=\"nofollow noreferrer\">feature switch</a> is considered experimental and is almost certain to undergo changes in the future.  (3) You <code>chomp $base_line</code> so it has no newline, and then you <code>print</code> without a newline.  Thus all these &quot;lines&quot; will be one big line.  If you <code>chomp</code> use <code>say</code> (to add a newline), or better don&#39;t <code>chomp</code> and <code>print</code> as you do, since you are just copying whole lines."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1506898812, "last_edit_date": 1506898812, "creation_date": 1506892620, "answer_id": 46516980, "question_id": 46516951, "link": "https://stackoverflow.com/questions/46516951/print-on-a-closed-filehandle-out-at/46516980#46516980", "title": "print() on a closed filehandle OUT at", "body": "<p>You really should check if calls to <code>open</code> succeed.</p>\n\n<pre><code>open(OUT, '&gt;&gt;', $new_file)\n   or die(\"Can't append to \\\"$new_file\\\": $!\\n\");\n</code></pre>\n\n<p>I bet you'll find that the <code>open</code> is failing, I bet you'll find that it's because the file you specified doesn't exist, and I bet you'll find that <code>$new_file</code> contains a line feed it shouldn't.</p>\n\n<p>The fix is to move the following line to before the <code>open</code>:</p>\n\n<pre><code>chomp $new_file;\n</code></pre>\n\n<hr>\n\n<p>By the way, you shouldn't be using global variables. Replace <code>OUT</code> with <code>my $OUT</code>. Same for <code>BASE</code> and <code>APPEND</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 2635999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/503131857eb4261021b4f4cb342adb1f?s=128&d=identicon&r=PG", "display_name": "tarkan", "link": "https://stackoverflow.com/users/2635999/tarkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1506898812, "creation_date": 1506892474, "question_id": 46516951, "link": "https://stackoverflow.com/questions/46516951/print-on-a-closed-filehandle-out-at", "title": "print() on a closed filehandle OUT at", "body": "<p>I am very new to Perl (just seen one Youtube video on it). I want to make a script that takes will take two .csv files and append them together and make a new .csv file. I don't want the two .csv files that are being appended to be altered. I also want to make this script take in a user input as the file to be merged (right now the two appended .csv files are in the same directory).</p>\n\n<p>The error I keep getting is: print() on closed filehandle OUT at  line 1 (#2) (W closed) The filehande you're printing on got itself closed sometime before now. Check your control flow</p>\n\n<p>But I never used the close command so how are my filehandles closing?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse diagnostics;\nuse feature 'say';\nuse feature \"switch\";\nuse v5.22;\n\n# Ask for Base File\nsay \"What is the base file you want to use?\";\nmy $base_file = &lt;STDIN&gt;;\nchomp $base_file;\nopen (BASE, '&lt;', $base_file) or die \"Couldn't find the base file you are entered: $base_file \";\n\n# Ask for Append File\nsay \"What is the file you want to append to the base file?\";\nmy $append_file = &lt;STDIN&gt;;\nchomp $append_file;\nopen (APPEND, '&lt;', $append_file) or die \"Couldn't find the append file you are entered: $append_file \";\n\n# Create new File with new name\nsay \"What is the name of the new file you want to create?\";\nmy $new_file = &lt;STDIN&gt;;\nopen (OUT, '&gt;&gt;', $new_file);\nchomp $new_file;\nwhile(my $base_line = &lt;BASE&gt;) {\n        chomp $base_line;\n        print OUT $base_line;\n}\n</code></pre>\n"}, {"tags": ["perl", "cpan", "bugzilla", "testlink"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506892362, "post_id": 46516205, "comment_id": 79988054, "body": "Voting to close as typo. The OP simply mispelled the name of a module."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1506889906, "creation_date": 1506889906, "answer_id": 46516631, "question_id": 46516205, "link": "https://stackoverflow.com/questions/46516205/installation-of-bugzilla-fails-on-windows-10-showing-error-500/46516631#46516631", "title": "installation of bugzilla fails on windows 10 showing error 500", "body": "<p>The name of the module is \"DateTime\" (not \"TimeDate\").</p>\n\n<p><a href=\"https://bugzilla.readthedocs.io/en/latest/installing/windows.html#perl-modules\" rel=\"nofollow noreferrer\">Installation instructions</a></p>\n"}], "owner": {"reputation": 11, "user_id": 6821125, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XBcRPr62cIs/AAAAAAAAAAI/AAAAAAAAALY/82oqC5IPOvs/photo.jpg?sz=128", "display_name": "Abhijit Mukherjee", "link": "https://stackoverflow.com/users/6821125/abhijit-mukherjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 1, "closed_date": 1506932438, "answer_count": 1, "score": 0, "last_activity_date": 1607030812, "creation_date": 1506886926, "last_edit_date": 1607030812, "question_id": 46516205, "link": "https://stackoverflow.com/questions/46516205/installation-of-bugzilla-fails-on-windows-10-showing-error-500", "closed_reason": "Not suitable for this site", "title": "installation of bugzilla fails on windows 10 showing error 500", "body": "<p>THE FOLLOWING ERROR IS SHOWING UP:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>D:\\Programs\\XAMPP\\htdocs\\test\\bugzilla-5.0.3&gt;ppm install TimeDate\nDownloading ActiveState Package Repository packlist...not found\nppm install failed: Can't find any package that provides TimeDate\n</code></pre>\n\n<p>Please help me on this,\nperl is installed - ActiveState 5.26 \napache also confidured kindly suggest whr i am doing the mistake?\nActually after this my aim is to link it with Testlink.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1506860170, "post_id": 46512119, "comment_id": 79978635, "body": "Try adding the <code>s</code> modifier to your regex, see <a href=\"https://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">perlre</a> for details on the regexp modifiers."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1506860237, "creation_date": 1506860237, "answer_id": 46512304, "question_id": 46512119, "link": "https://stackoverflow.com/questions/46512119/multiline-matching-with-perl/46512304#46512304", "title": "multiline matching with perl", "body": "<p>It matches for me.</p>\n\n<pre><code>say \"&lt;&lt;$_&gt;&gt;\" for $string\n    =~ /^(\\s*\"concept_rule\":\\s*\"(?:.|\\n)*?[^\\\\]\".*)/mg;\n</code></pre>\n\n<p>I changed the inner <code>()</code> to <code>(?:)</code> because you probably don't want to capture the newlines or last characters.</p>\n"}], "owner": {"reputation": 704, "user_id": 2107372, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lTvDk.png?s=128&g=1", "display_name": "chile", "link": "https://stackoverflow.com/users/2107372/chile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1506860237, "creation_date": 1506858801, "question_id": 46512119, "link": "https://stackoverflow.com/questions/46512119/multiline-matching-with-perl", "title": "multiline matching with perl", "body": "<p>I was constructing a regular expression with one multiline matching:\n<a href=\"https://regex101.com/r/Ezgeev/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/Ezgeev/1</a></p>\n\n<p>Yet, it seems I can't transfer this to perl:</p>\n\n<pre><code>s/^\\s*\"concept_rule\":\\s*\"(.|\\n)*?[^\\\\]\".*//mg\n</code></pre>\n\n<p>At least, this will not match over multiple lines (single line matches work).\nIs this due to differences in the regex syntax or some flag problem?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1506827585, "post_id": 46508342, "comment_id": 79971998, "body": "this doesn&#39;t quite do what you want, since it doesn&#39;t let you set values, but it may be a starting point: <a href=\"http://www.perlmonks.org/?node_id=315251\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=315251</a>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1506837752, "post_id": 46508342, "comment_id": 79973453, "body": "This is probably a bad idea. It violates the encapsulation of subroutines. Normally you&#39;d just pass anything in as arguments. Why do you want to do this? What problem is it solving? There&#39;s probably a better way to solve whatever problem this is solving."}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1506838308, "post_id": 46508342, "comment_id": 79973548, "body": "@Schwern Yeah, I imagine so :\\ I&#39;m trying to write something kind of like Test::LectroTest ... except that instead of using a source filter and comments like in <code>Property { ##[ x &lt;- Int, y &lt;- Int ]## &lt;body&gt; }</code> ... I want to write something like <code>Property({x =&gt; gen_int, y =&gt; gen_int}, sub { &lt;body&gt; })</code> where <code>$x</code> and <code>$y</code> inside <code>body</code> get their values when an &quot;instantiation&quot; of a property test is performed. (With <code>gen_int</code> being a function minting a fresh source of integers)."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1506838579, "post_id": 46508342, "comment_id": 79973613, "body": "@GregoryNisbet You could make <code>$x</code> and <code>$y</code> globals in the caller&#39;s package and use a symbolic reference like <code>*{$var} = $property-&gt;{x}</code>. But I&#39;d recommend using as little magic as possible in testing libraries, one less mysterious thing to debug. Maybe have just one global variable, <code>$p</code>, which contains the property hash. Then you can <code>local $p = ...</code> and the user can write <code>$p-&gt;{x}</code>."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1506839843, "creation_date": 1506839843, "answer_id": 46509874, "question_id": 46508342, "link": "https://stackoverflow.com/questions/46508342/perl-calling-subroutine-reference-with-explicit-additional-scope-as-cleanly-as-p/46509874#46509874", "title": "Perl calling subroutine reference with explicit additional scope as cleanly as possible", "body": "<blockquote>\n  <p><em>I'm trying to write something kind of like Test::LectroTest ... except that instead of using a source filter and comments like in <code>Property { ##[ x &lt;- Int, y &lt;- Int ]## &lt;body&gt; }</code> ... I want to write something like <code>Property({x =&gt; gen_int, y =&gt; gen_int}, sub { &lt;body&gt; })</code> where <code>$x</code> and <code>$y</code> inside body get their values when an \"instantiation\" of a property test is performed.</em></p>\n</blockquote>\n\n<p>You can do this by defining <code>$x</code> and <code>$y</code> as globals in the caller's package.</p>\n\n<pre><code>no strict 'refs';\nmy $caller = caller;\nfor my $var (keys %$properties) {\n    *{$caller.'::'.$var} = $properties-&gt;{$var};\n}\n$code-&gt;();\n</code></pre>\n\n<p>But this can't be easily localized. And polluting the caller's namespace with globals potentially leads to mysterious data leaking between tests. In general, use as little magic as possible in a test library; the user will have enough of their own weird magic to debug.</p>\n\n<p>Instead, provide a function which returns the properties. For example, <code>p</code>.</p>\n\n<pre><code>package LectroTest;\n\nuse Exporter qw(import);\nour @EXPORT = qw(test p);\nour $P;\n\nsub test {\n    my($props, $test) = @_;\n\n    local $P = $props;\n    $test-&gt;();\n}\n\nsub p {\n    return $P;\n}\n</code></pre>\n\n<p>And the test looks like:</p>\n\n<pre><code>use LectroTest;\n\ntest(\n    { x =&gt; 42 }, sub { print p-&gt;{x} }\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1506884197, "last_edit_date": 1506884197, "creation_date": 1506883035, "answer_id": 46515607, "question_id": 46508342, "link": "https://stackoverflow.com/questions/46508342/perl-calling-subroutine-reference-with-explicit-additional-scope-as-cleanly-as-p/46515607#46515607", "title": "Perl calling subroutine reference with explicit additional scope as cleanly as possible", "body": "<p>The problem is that the anon sub is compiled before <code>call_with_scope</code> is called, so there's no chance for <code>call_with_scope</code> to declare variables for that sub.</p>\n\n<p>Any reason you're not using arguments like any other sub?</p>\n\n<pre><code>call_with_scope([ 47 ], sub {\n   my ($x) = @_;\n   printf \"%s\\n\", $x;\n   printf \"%s\\n\", $y;\n});\n</code></pre>\n\n<p>It's not any longer!</p>\n\n<hr>\n\n<p>Here's an alternative if you're ok in declaring <code>$x</code> outside of the sub.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse PadWalker qw( closed_over );\n\nsub call_with_scope {\n   my ($inits, $cb) = @_;\n   my $captures = closed_over($cb);\n   for my $var_name_with_sigil (keys(%$captures)) {\n      my ($var_name) = $var_name_with_sigil =~ /^\\$(.*)/s\n         or next;\n\n      $inits-&gt;{$var_name}\n         or next;\n\n      ${ $captures-&gt;{$var_name_with_sigil} } = $inits-&gt;{$var_name};\n   }\n\n   return $cb-&gt;();\n}\n\n{\n   my $x;\n   my $y = 48;\n   call_with_scope({\n      x =&gt; 47,\n   }, sub {\n      printf \"%s\\n\", $x;\n      printf \"%s\\n\", $y;\n  });\n}\n</code></pre>\n\n<p>This works because variables are created at compile-time and cleared on scope exit.</p>\n\n<p>It even works if <code>sub</code> was compiled in a different scope and package than the call to <code>call_with_scope</code>.</p>\n\n<pre><code>{\n   my $sub = do {\n      my $x;\n      my $y = 48;\n      sub {\n         printf \"%s\\n\", $x;\n         printf \"%s\\n\", $y;\n      }\n   };\n\n   call_with_scope({ x =&gt; 47 }, $sub);\n}\n</code></pre>\n\n<p>But do you really want that kind of magic in your program?</p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 46509874, "answer_count": 2, "score": 3, "last_activity_date": 1506884197, "creation_date": 1506819633, "last_edit_date": 1506837697, "question_id": 46508342, "link": "https://stackoverflow.com/questions/46508342/perl-calling-subroutine-reference-with-explicit-additional-scope-as-cleanly-as-p", "title": "Perl calling subroutine reference with explicit additional scope as cleanly as possible", "body": "<p>I'd like to be able to write something like the following...</p>\n\n<pre><code>call_with_scope({\n    x =&gt; 47,\n}, sub {\n    printf \"$x\\n\";\n    printf \"$y\\n\";\n});\n</code></pre>\n\n<p>Where <code>$y</code> is bound in the environment containing the expression (either lexically or dynamically depending on the symbol).</p>\n\n<p>I've found a way to do it, but it requires <code>no strict \"vars\"</code> to be in effect in the expression containing <code>call_with_scope(...)</code> and the implementation of <code>call_with_scope</code> uses <code>eval</code> to create local bindings before transferring control to the callback.</p>\n\n<p>Is there a way to avoid either requiring <code>no strict \"vars\"</code> at the call site or refer to and change the value of a <code>local</code> variable without resorting to eval?</p>\n\n<p>For completeness, the code snippet below implements <code>call_with_scope</code> and prints <code>47</code> and then <code>48</code>.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nsub call_with_scope {\n    my ($env, $func) = @_;\n    my %property;\n    my @preamble;\n    foreach my $k (keys %$env) {\n        $property{$k} = $env-&gt;{$k};\n        # deliberately omitted: logic to ensure that ${$k} is a well-formed variable\n        push @preamble, \"local \\$$k = \\$property{'$k'};\";\n    }\n    # force scalar context\n    do {\n        my $str = join('', 'no strict \"vars\";', @preamble, '$_[1]-&gt;();');\n        return scalar(eval($str));\n    };\n}                        \n\ndo {\n    no strict 'vars';\n    local $x;\n    my $y = 48;\n    call_with_scope(\n        {\n            x =&gt; 47,\n        },\n        sub {\n            printf \"$x\\n\";\n            printf \"$y\\n\";\n        }\n    );\n};\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "sybase"], "answers": [{"tags": [], "owner": {"reputation": 2088, "user_id": 3594999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Uh3N.jpg?s=128&g=1", "display_name": "RobV", "link": "https://stackoverflow.com/users/3594999/robv"}, "is_accepted": false, "score": 0, "last_activity_date": 1506896888, "creation_date": 1506896888, "answer_id": 46517492, "question_id": 46508294, "link": "https://stackoverflow.com/questions/46508294/perl-threads-to-execute-a-sybase-stored-proc-parallel/46517492#46517492", "title": "Perl threads to execute a sybase stored proc parallel", "body": "<p>What you do in Perl does not really matter here: what matters is what happens on the side of the Sybase server. Assuming each client task creates its own connection to the database, then it's all fine and how the client achieved this makes no diff for the Sybase server. But do not use a model where the different client tasks will try to use the same client-server connection as that will never happen in parallel.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8702117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d487e92fccfc90521187d91a6cd9a06?s=128&d=identicon&r=PG&f=1", "display_name": "JollyRoger", "link": "https://stackoverflow.com/users/8702117/jollyroger"}, "edited": false, "score": 0, "creation_date": 1506908300, "post_id": 46518247, "comment_id": 79991126, "body": "hi markp,  Please find my answers below 1) I have ? million+ ids to archive. based on my last runs 18k ids to archive from 58 tables took around 11 hours. As you mentioned i am doing insertfupdate and deletes. Query plan seems to be good and i am using certain columns in each table which is having index. so this is not an issue for me. I run all the queries in a transaction. so any error occurred within the procedure will rollback the whole transaction for given id."}, {"owner": {"reputation": 11, "user_id": 8702117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d487e92fccfc90521187d91a6cd9a06?s=128&d=identicon&r=PG&f=1", "display_name": "JollyRoger", "link": "https://stackoverflow.com/users/8702117/jollyroger"}, "edited": false, "score": 0, "creation_date": 1506908309, "post_id": 46518247, "comment_id": 79991128, "body": "2) I ran the same proc twice with only 10 id&#39;s as input for each call. so i am not sure if running the proc parallely with 10<b>K</b> id each will lead to any type of blocking or performance issues. I will be testing this out tomorrow and get back. 3) dataserver should have around 20 enignes, but not less for sure. And yes this archival will be running on weekends with less user activity. running 4 threads is also a concern for me here."}, {"owner": {"reputation": 11, "user_id": 8702117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d487e92fccfc90521187d91a6cd9a06?s=128&d=identicon&r=PG&f=1", "display_name": "JollyRoger", "link": "https://stackoverflow.com/users/8702117/jollyroger"}, "edited": false, "score": 0, "creation_date": 1506908313, "post_id": 46518247, "comment_id": 79991129, "body": "4) There is replication being setup on source db and as you mentioned dba suggestions have to be gathered on this. from what i read regarding threads, without careful and proper implementation it could lead to memory related issues. I cant find any example to achieve my request in threads. Though it may not work, atleast i want to test it out in QA and see its performance. any sample code would be of great help."}, {"owner": {"reputation": 8716, "user_id": 7366100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/426e64e0d4a4ee822821a63c62424ddb?s=128&d=identicon&r=PG&f=1", "display_name": "markp-fuso", "link": "https://stackoverflow.com/users/7366100/markp-fuso"}, "reply_to_user": {"reputation": 11, "user_id": 8702117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d487e92fccfc90521187d91a6cd9a06?s=128&d=identicon&r=PG&f=1", "display_name": "JollyRoger", "link": "https://stackoverflow.com/users/8702117/jollyroger"}, "edited": false, "score": 0, "creation_date": 1506911210, "post_id": 46518247, "comment_id": 79991634, "body": "running 4 concurrent processes on a 20-engine dataserver shouldn&#39;t be a problem re: dataserver resources; not sure where your memory issues/concerns are coming from, so not able to comment on that; if replication latency becomes an issue, and replication is being used solely for DR, you may want to work with the DBA(s) to run the archive process on both dataservers (primary and replicate/DR) ... DBA could grant <code>replication_role</code> to your process, then you need to issue <code>set replication off</code> (in each thread) prior to kicking off your archive operations (test to make sure rep disabled)"}], "tags": [], "owner": {"reputation": 8716, "user_id": 7366100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/426e64e0d4a4ee822821a63c62424ddb?s=128&d=identicon&r=PG&f=1", "display_name": "markp-fuso", "link": "https://stackoverflow.com/users/7366100/markp-fuso"}, "is_accepted": false, "score": 0, "last_activity_date": 1506905165, "creation_date": 1506905165, "answer_id": 46518247, "question_id": 46508294, "link": "https://stackoverflow.com/questions/46508294/perl-threads-to-execute-a-sybase-stored-proc-parallel/46518247#46518247", "title": "Perl threads to execute a sybase stored proc parallel", "body": "<p>No 'answer' per se, but some questions/comments:</p>\n\n<p>Can you quantify <code>taking a very long time to archive</code>?  Assuming your archive process consists of a mix of <code>insert/select</code> and <code>delete</code> operations, do query plans and MDA data show fast, efficient operations?  If you're seeing table scans, sort merges, deferred inserts/deletes, etc ... then it may be worth the effort to address said performance issues.</p>\n\n<p>Can you expand on the comment that running two stored proc invocations at the same time <code>seems to work</code>?  Again, any sign of performance issues for the individual proc calls?  Any sign of contention (eg, blocking) between the two proc calls?  If the archival proc isn't designed properly for parallel/concurrent operations (eg, eliminate blocking), then you may not be gaining much by running multiple procs in parallel.</p>\n\n<p>How many engines does your dataserver have, and are you planning on running your archive process during a period of moderate-to-heavy user activity?  If the current archive process runs at/near 100% cpu utilization on a single dataserver engine, then spawning 4 copies of the same process could see your archive process tying up 4 dataserver engines with heavy cpu utilization ... and if your dataserver doesn't have many engines ... combined with moderate-to-heavy user activity at the same time ... you could end up invoking the wrath of your DBA(s) and users.  Net result is that you may need to make sure your archive process hog the dataserver.</p>\n\n<p>One other item to consider, and this may require input from the DBAs ... if you're replicating out of either database (source or archive), increasing the volume of transactions per a given time period could have a negative effect on replication throughput (ie, an increase in replication latency); if replication latency needs to be kept at a minimum, then you may want to rethink your entire archive process from the point of view of spreading out transactional activity enough so as to not have an effect on replication latency (eg, single-threaded archive process that does a few insert/select/delete operations, sleeps a bit, then does another batch, then sleeps, ...).</p>\n\n<hr>\n\n<p>It's been my experience that archive processes are not considered high-priority operations (assuming they're run on a regular basis, and before the source db fills up); this in turn means the archive process is usually designed so that it's efficient while at the same time putting a (relatively) light load on the dataserver (think: running as a trickle in the background) ... ymmv ...</p>\n"}], "owner": {"reputation": 11, "user_id": 8702117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d487e92fccfc90521187d91a6cd9a06?s=128&d=identicon&r=PG&f=1", "display_name": "JollyRoger", "link": "https://stackoverflow.com/users/8702117/jollyroger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1506905165, "creation_date": 1506818946, "last_edit_date": 1506830004, "question_id": 46508294, "link": "https://stackoverflow.com/questions/46508294/perl-threads-to-execute-a-sybase-stored-proc-parallel", "title": "Perl threads to execute a sybase stored proc parallel", "body": "<p>I have written a sybase stored procedure to move data from certain tables[~50] on primary db for given id to archive db. Since it's taking a very long time to archive, I am thinking to execute the same stored procedure in parallel with unique input id for each call.</p>\n\n<p>I manually ran the stored proc twice at same time with different input and it seems to work. Now I want to use Perl threads[maximum 4 threads] and each thread execute the same procedure with different input. </p>\n\n<p>Please advise if this is recommended way or any other efficient way to achieve this. If the experts choice is threads, any pointers or examples would be helpful. </p>\n"}, {"tags": ["perl", "reference"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 17, "last_activity_date": 1579829512, "last_edit_date": 1579829512, "creation_date": 1506811623, "answer_id": 46507723, "question_id": 46507722, "link": "https://stackoverflow.com/questions/46507722/perl-dereferencing-syntax/46507723#46507723", "title": "Perl Dereferencing Syntax", "body": "<p>Whenever you can use the name of a variable, you can use a block that evaluates to a reference instead. For example, the following are valid syntax for specifying an array:</p>\n\n<pre><code>@NAME    # If you have the name      e.g. @array\n@BLOCK   # If you have a reference   e.g. @{ $ref }\n</code></pre>\n\n<p>This is the \"circumfix syntax\" illustrated in the table below.</p>\n\n<p>An alternative syntax colloquially known as the \"arrow notation\" is easier to read, but requires Perl 5.20+ in some cases. This is the \"postfix syntax\" illustrated in the table below.</p>\n\n<pre>\n                              <b>Direct</b>           <b>Using References</b>     <b>Using References</b>\n                                               <b>Circumfix Syntax</b><sup>[1]</sup>   <b>Postfix Syntax</b>\n\n<b>scalar</b>  <b>itself</b>                $s               ${$sr}               $sr-&gt;$* <sup>[3]</sup>\n\n<b>array</b>   <b>itself</b>                @a               @{$ar}               $ar-&gt;@* <sup>[3]</sup>\n<b>array</b>   <b>element</b>               $a[0]            ${$ar}[0]            $ar-&gt;[0]\n<b>array</b>   <b>slice</b>                 @a[0,1,2]        @{$ar}[0,1,2]        $ar-&gt;@[0,1,2] <sup>[3]</sup>\n<b>array</b>   <b>index/value slice</b><sup>[2]</sup>   %a[0,1,2]        %{$ar}[0,1,2]        $ar-&gt;%[0,1,2] <sup>[3]</sup>\n<b>array</b>   <b>last index</b>            $#a              $#{$ar}              $ar-&gt;$#* <sup>[3]</sup>\n\n<b>hash</b>    <b>itself</b>                %h               %{$hr}               $hr-&gt;%* <sup>[3]</sup>\n<b>hash</b>    <b>element</b>               $h{'a'}          ${$hr}{'a'}          $hr-&gt;{'a'}\n<b>hash</b>    <b>slice</b>                 @h{'a','b','c'}  @{$hr}{'a','b','c'}  $hr-&gt;@{'a','b','c'} <sup>[3]</sup>\n<b>hash</b>    <b>key/value slice</b><sup>[2]</sup>     %h{'a','b','c'}  %{$hr}{'a','b','c'}  $hr-&gt;%{'a','b','c'} <sup>[3]</sup>\n\n<b>code</b>    <b>call</b>                  func(@args)\n<b>code</b>    <b>w/ prototype ignored</b>  &amp;func(@args)     &amp;{$cr}(@args)        $cr-&gt;(@args)\n<b>code</b>    <b>w/ inherited @_</b>       &amp;func            &amp;{$cr}               $cr-&gt;&amp;* <sup>[3]</sup>\n\n<b>glob</b>    <b>itself</b>                *glob            *{$gr}               $gr-&gt;** <sup>[3]</sup>\n<b>glob</b>    <b>slot</b>                  *glob{ARRAY}     *{$gr}{ARRAY}        $gr-&gt;*{ARRAY} <sup>[3]</sup>\n</pre>\n\n<p>Notes:</p>\n\n<ol>\n<li><p>The curly brackets around <code>$sr</code>, <code>$ar</code>, <code>$hr</code>, <code>$cr</code> and <code>$gr</code> are optional when the contents of the curlies is simply a scalar.</p>\n\n<p>If they are used, those curlies form blocks, so they can actually contain multiple statements.</p></li>\n<li><p>Requires Perl 5.20+.</p></li>\n<li><p>Requires Perl 5.24+. Available in Perl 5.20+ by adding both <code>use feature qw( postderef );</code> and <code>no warnings qw( experimental::postderef );</code>, or by adding <code>use experimental qw( postderef );</code>. This is safe because the then-experimental feature was accepted into Perl without change.</p></li>\n</ol>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://www.perlmonks.org/?node_id=69927\" rel=\"nofollow noreferrer\">References Quick Reference</a></li>\n<li><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a></li>\n<li><a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a></li>\n<li><a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a></li>\n<li><a href=\"http://perldoc.perl.org/perllol.html\" rel=\"nofollow noreferrer\">perllol</a></li>\n</ul>\n"}], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 6, "accepted_answer_id": 46507723, "answer_count": 1, "score": 14, "last_activity_date": 1579829512, "creation_date": 1506811623, "question_id": 46507722, "link": "https://stackoverflow.com/questions/46507722/perl-dereferencing-syntax", "title": "Perl Dereferencing Syntax", "body": "<p>What is the syntax to dereference a reference in Perl?</p>\n\n<p>&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;</p>\n\n<p>&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;</p>\n\n<p>&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;</p>\n"}, {"tags": ["java", "perl", "cgi"], "comments": [{"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 2, "creation_date": 1506805994, "post_id": 46507055, "comment_id": 79968530, "body": "You should not do this.  Rewrite that CGI script as Java.  It&#39;s excellent at managing databases.  Throw away that old code."}, {"owner": {"reputation": 323, "user_id": 5766927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f4d26002541e3be3f418282d4f37c5?s=128&d=identicon&r=PG&f=1", "display_name": "Naga", "link": "https://stackoverflow.com/users/5766927/naga"}, "reply_to_user": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 0, "creation_date": 1506809547, "post_id": 46507055, "comment_id": 79969342, "body": "Thanks duffymo for your suggestion, all our backend API access  are written in perl."}, {"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 0, "creation_date": 1506820825, "post_id": 46507055, "comment_id": 79971128, "body": "Silly.  Java will scale; Perl will not.  cgi requires a new process for each request.  A Java solution will use a lightweight thread per request.  You&#39;ll be astonished at how netty scales as long as you don&#39;t have long running processes that block the event bus.  Make the switch now - you&#39;ll never reqret it."}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 5766927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f4d26002541e3be3f418282d4f37c5?s=128&d=identicon&r=PG&f=1", "display_name": "Naga", "link": "https://stackoverflow.com/users/5766927/naga"}, "edited": false, "score": 0, "creation_date": 1506809881, "post_id": 46507438, "comment_id": 79969403, "body": "Thanks Javier, i will check mod_perl and CGI::Fast modules."}], "tags": [], "owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "is_accepted": false, "score": 0, "last_activity_date": 1506809031, "creation_date": 1506809031, "answer_id": 46507438, "question_id": 46507055, "link": "https://stackoverflow.com/questions/46507055/best-way-to-execute-perl-script-from-java-application/46507438#46507438", "title": "Best way to execute perl script from java application", "body": "<p>As @duffymo points out, it is not a good idea to try to push too many cgi calls at the same time. But maybe you don\u00b4t want your Java clients to access the database directly. Trying to answer your question, I would say that you have several courses of action.</p>\n\n<p>One is to try to make the perl CGI code faster. Have you considered using Fast CGI or something similar? It usually does not require to change the perl CGI too much and you will get much faster response times. <a href=\"https://perldoc.perl.org/5.8.9/CGI/Fast.html\" rel=\"nofollow noreferrer\">CGI::Fast</a> for instance, only takes a little change to your CGI program:</p>\n\n<pre><code>while (new CGI::Fast) {\n\n  &lt;Your previous CGI code goes here&gt;\n\n}\n</code></pre>\n\n<p>What it does is leave one or more <em>perl</em> processes waiting for <em>http</em> clients so requests are handled much faster. It takes some configuring on the server side.</p>\n\n<p>Another way of doing the same is <a href=\"https://perl.apache.org/\" rel=\"nofollow noreferrer\">mod_perl</a>. There are other alternatives. All of them will require some changes to your <em>perl</em> code and some configuration (maybe module installation) at the server side.</p>\n\n<p>The other approach could be to create a new web service (in <em>perl</em> or in any other language you feel confident) and group together client requests. Doing that you could get many calls to your legacy <em>perl</em> script with only one request.</p>\n\n<p>The master web service would take one macro request which comprises many requests  and call the <em>perl</em> script as needed.</p>\n"}], "owner": {"reputation": 323, "user_id": 5766927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f4d26002541e3be3f418282d4f37c5?s=128&d=identicon&r=PG&f=1", "display_name": "Naga", "link": "https://stackoverflow.com/users/5766927/naga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506809031, "creation_date": 1506805857, "question_id": 46507055, "link": "https://stackoverflow.com/questions/46507055/best-way-to-execute-perl-script-from-java-application", "title": "Best way to execute perl script from java application", "body": "<p>Currently from our front end java web application, we use cgi script to trigger perl script to take any action on backend datastore. But its very slow when user takes multiple actions. Is there any way to take actions in parallel ?</p>\n\n<p>I can send multiple cgi at same time to achieve this but browser allows only 6 active connection to server at a time. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506792515, "post_id": 46505073, "comment_id": 79964833, "body": "You <i>reall&#253;</i> don&#39;t want to do this."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506792805, "post_id": 46505073, "comment_id": 79964930, "body": "Why? What is the issue with it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506793751, "post_id": 46505073, "comment_id": 79965194, "body": "Take a look at the duplicate question, and read <a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\"><i>Why it&#39;s stupid to &quot;use a variable as a variable name&quot;</i></a> especially Part II."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1506794090, "post_id": 46505073, "comment_id": 79965276, "body": "I just read them and they don&#39;t seem to apply to my situation. Thanks, though."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506794757, "post_id": 46505073, "comment_id": 79965469, "body": "It&#39;s less critical when you&#39;re using class names, but it&#39;s best not to split a class name up into bits, which are mostly a reflection of their file structure on disk. You can write <code>my $class = &#39;My::Package::Page&#39;</code> and <code>my $p = $class-&gt;new</code>. (You can even write <code>my $var = &#39;Page&#39;</code> and <code>my $p = &quot;My::Package::$var&quot;-&gt;new</code> but that&#39;s horrible.) But now you have an object <code>$p</code> whose methods you don&#39;t know without checking its class."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506805365, "post_id": 46505274, "comment_id": 79968387, "body": "This answer doesn&#39;t match the question! But since you claim it&#39;s a duplicate of the other question, I&#39;ll oblige and close your question."}], "tags": [], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "is_accepted": false, "score": -1, "last_activity_date": 1506792438, "creation_date": 1506792438, "answer_id": 46505274, "question_id": 46505073, "link": "https://stackoverflow.com/questions/46505073/syntax-for-using-variable-in-package-name/46505274#46505274", "title": "Syntax for using variable in package name?", "body": "<p>I was able to get this working using answer at <a href=\"https://stackoverflow.com/questions/3470706/perl-dynamically-include-package\">Perl, dynamically include package</a></p>\n\n<pre><code>my $module_name = 'Some::Module';\n(my $require_name = $module_name . \".pm\") =~ s{::}{/}g;\nrequire $require_name;\nmy $obj = $module_name-&gt;new();\n</code></pre>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "closed_date": 1506805427, "answer_count": 1, "score": -1, "last_activity_date": 1506799876, "creation_date": 1506791240, "question_id": 46505073, "link": "https://stackoverflow.com/questions/46505073/syntax-for-using-variable-in-package-name", "closed_reason": "Duplicate", "title": "Syntax for using variable in package name?", "body": "<p>I want to call a method on a package name generated from a variable. I think I've done this before but it appears I have forgotten how. Here's the broken version of what I'm trying to achieve.</p>\n\n<pre><code>my $var = 'Page';\nmy $p = My::Package::$var-&gt;new();\n</code></pre>\n"}, {"tags": ["perl", "pipe", "buffering"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506789650, "post_id": 46504667, "comment_id": 79963967, "body": "Off topic, but the cryptic <code>select(CONSUMER); $| = 1;</code> is better written as <code>CONSUMER-&gt;autoflush;</code> in modern Perls."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506791824, "post_id": 46504667, "comment_id": 79964604, "body": "It sounds like you have more work (commands) than the consumer is able to support. Is that right?"}, {"owner": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506804388, "post_id": 46504667, "comment_id": 79968140, "body": "Yes, this script can read commands (from the file) a lot faster than consumer can process them.  The problem is this starves other things trying to use consumer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1506806701, "post_id": 46504667, "comment_id": 79968691, "body": "Yes, the pipe is getting full if the reader is slower or absent. Once it gets &quot;full&quot; (normally 64k) it will block. One cannot check for not-empty; we can check whether we can write to it (whether it is not-full). So the <code>&#47;bin&#47;consumer</code> is too slow and the faster writing to it makes it work only with this script all the time? What is wrong with <code>0.1s</code> sleep (that added <code>select</code>), and why is it &quot;not very effective&quot;? Without access to <code>consumer</code>&#39;s code one other way I can think of is to monitor <code>logfile</code>, but that&#39;s surely not nice, and <code>consumer</code>&#39;s output is likely buffered anyway."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506807556, "post_id": 46504667, "comment_id": 79968919, "body": "We don&#39;t know enough about the situation to help. It sounds like the design is badly wrong. Is this process just reading commands from a file and passing them to <code>consumer</code>? Do the other sources of commands work the same way? If so then you can create just a single process that reads a command from each of the files in rotation and passes it to <code>consumer</code> to create round-robin scheduling. If there is something else in play then please describe it <i>in detail</i>. You have given only the tiniest amount of information about what is a relatively complex situation. We can&#39;t help you by guesswork."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506815445, "post_id": 46504667, "comment_id": 79970370, "body": "Re &quot;<i>This monopolizes the service that CONSUMER is using</i>&quot;, Sounds like something you need to fix in the service. &quot;<i>Oh? It&#39;s been that long since I&#39;ve done something other than service CONSUMER? Then I&#39;ll do the other things I need to do before going back to servicing CONSUMER.</i>&quot;"}, {"owner": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "edited": false, "score": 0, "creation_date": 1506820592, "post_id": 46504667, "comment_id": 79971096, "body": "The other users of the service are &quot;interactive&quot; (i.e. Web) users hence the concern with their starvation by this bulk update.  The sleep is ineffective because the commands take a highly variable amount of time to complete. I do not at present have time for a complete re-architecting of this thing, hence my search for a quick win."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506830830, "post_id": 46504667, "comment_id": 79972449, "body": "How about you run it as an external command (blocking), instead as a constant feed over a pipe, plain and simple? Loop over input like you do and run <code>consumer </code>; it&#39;s a small tweak, not a major rewrite. Then others get a chance to fight for it, or you can <i>then</i> add a little sleep as well."}, {"owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1506839744, "post_id": 46504667, "comment_id": 79973851, "body": "Commands you write on pipe are already defined? Can you follow each command with a dummy/special command like touching a file or a record update to check for completion on the true command?"}, {"owner": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "edited": false, "score": 0, "creation_date": 1506880378, "post_id": 46504667, "comment_id": 79984455, "body": "This has probably never worked right but when Linux increased the pipe buffer size from 4K to 64K just made it completely unworkable.  Thank you all for convincing me of what I feared - there is no easy way out - the only solution is a rewrite."}], "owner": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1506788308, "creation_date": 1506788308, "question_id": 46504667, "link": "https://stackoverflow.com/questions/46504667/check-if-pipe-is-empty-before-writing", "title": "Check if pipe is empty before writing", "body": "<p>I have inherited a perl program which opens a pipe to another program:</p>\n\n<pre><code>open(CONSUMER, \"|/bin/consumer &gt;&gt; logfile 2&gt;&amp;1\") ||\n    die \"Comsumer open fail\\n\";\nselect(CONSUMER); $| = 1;\n</code></pre>\n\n<p>and then repeatedly writes to this pipe in a loop:</p>\n\n<pre><code>while (&lt;INPUT&gt;) {\n    $command=$_;\n    ...\n#   is CONSUMER empty?\n    print CONSUMER $command;\n}\n</code></pre>\n\n<p>It seems that a bunch of these commands get buffered up in the pipe buffer.  This monopolizes the service that CONSUMER is using.  At some point this:</p>\n\n<pre><code>select(undef, undef, undef, 0.1);\n</code></pre>\n\n<p>got added to the bottom of the loop as a (not very effective) bandaid.</p>\n\n<p>It seems that what would be most effective is if there could be a check in front of the <code>print</code> to make sure the pipe buffer was empty before proceeding with the <code>print</code>.</p>\n\n<p>Is this at all possible?</p>\n"}, {"tags": ["perl", "authentication"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506775847, "post_id": 46502831, "comment_id": 79959934, "body": "Unfortunately asking for recommendations is off-topic on Stack Overflow. It depends on what application you have. If you are using a modern web framework, there are probably several plugins to do auth for each of them."}], "owner": {"reputation": 366, "user_id": 8569128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2cde21e40e767064c4e4e0b61f1b8f8?s=128&d=identicon&r=PG&f=1", "display_name": "Imylor", "link": "https://stackoverflow.com/users/8569128/imylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506775506, "creation_date": 1506775506, "question_id": 46502831, "link": "https://stackoverflow.com/questions/46502831/perl-secure-way-to-do-authentication-like-whm", "title": "Perl Secure way to do Authentication like WHM", "body": "<p>I planning to implement a web system authentication and the maint part I want to focus is Security.\nI have been reading a little about OAuth, OpenId, SAML, JWT, WS-Trust, etc.</p>\n\n<p>My example is cpanel whm: \ndemo.cpanel.net:2083</p>\n\n<p>When you login you get a token security like this:</p>\n\n<p><a href=\"https://demo.cpanel.net:2083/cpsess4554629598\" rel=\"nofollow noreferrer\">https://demo.cpanel.net:2083/cpsess4554629598</a></p>\n\n<p>I see several modules in cpan and also I see modules relation to this case fromn cpanel:\nforums.cpanel.net/threads/cpanel-rpms.557131/</p>\n\n<p>Crypt::\nSOAP::</p>\n\n<p>My question is,  how can I Implement a system authentication like cpanel, witch modules should choose from cpan?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "reference"], "comments": [{"owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "edited": false, "score": 0, "creation_date": 1506946435, "post_id": 46502080, "comment_id": 80004342, "body": "Greatly obleeged to the answerers, {$ips{$1}}; works fine.  But I&#39;m puzzled that ($ips{$1}); (round instead of curly) fails.  I&#39;ll try to find out why by RTFM...:-) @J-L"}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1506771077, "creation_date": 1506771077, "answer_id": 46502287, "question_id": 46502080, "link": "https://stackoverflow.com/questions/46502080/perl-why-does-my-assignment-from-an-array-ref-give-an-error/46502287#46502287", "title": "Perl - why does my assignment from an array ref give an error", "body": "<p>Perl is looking for <code>$ips</code> variable as you've made mistake when dereferencing <code>%ips</code> hash. You can</p>\n\n<pre><code>my @arr = @{ $ips{$1} };\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $ref = $ips{$1};\nmy @arr = @$ref; # or @{ $ref }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1280, "user_id": 8513648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c59086b9318c37cc02acaeb85fef8f6?s=128&d=identicon&r=PG", "display_name": "J-L", "link": "https://stackoverflow.com/users/8513648/j-l"}, "is_accepted": true, "score": 2, "last_activity_date": 1506789425, "creation_date": 1506789425, "answer_id": 46504819, "question_id": 46502080, "link": "https://stackoverflow.com/questions/46502080/perl-why-does-my-assignment-from-an-array-ref-give-an-error/46504819#46504819", "title": "Perl - why does my assignment from an array ref give an error", "body": "<p>The problem with using code like:</p>\n\n<pre><code>@$ips{$1}\n</code></pre>\n\n<p>is that you think that \"@\" is dereferencing \"$ips{$1}\" (so it can be assigned to an array), but in reality that line is using \"{$1}\" to get an element from \"@$ips\".</p>\n\n<p>The \"@\" and \"$\" sigils bind more tightly than \"{$1}\" does, so the above is closer to:</p>\n\n<pre><code>(@$ips) {$1}\n</code></pre>\n\n<p>than what you want, which is:</p>\n\n<pre><code>@ ($ips{$1})\n</code></pre>\n\n<p>To overcome this, you can tell Perl to have the \"@\" sigil work on \"$ips{$1}\" by putting \"$ips{$1}\" in curly brackets, like this:</p>\n\n<pre><code>@{$ips{$1}}\n</code></pre>\n\n<p>This way, there's no ambiguity over which happens first.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1506807235, "last_edit_date": 1506807235, "creation_date": 1506806646, "answer_id": 46507156, "question_id": 46502080, "link": "https://stackoverflow.com/questions/46502080/perl-why-does-my-assignment-from-an-array-ref-give-an-error/46507156#46507156", "title": "Perl - why does my assignment from an array ref give an error", "body": "<pre><code>@$ips{$1}\n</code></pre>\n\n<p>is short for </p>\n\n<pre><code>@{ $ips }{$1}     # Hash slice, like @hash{\"a\", \"b\", \"c\"}\n</code></pre>\n\n<p>but you want</p>\n\n<pre><code>@{ $ips{$1} }     # Array, like @array\n</code></pre>\n\n<hr>\n\n<pre class=\"lang-none prettyprint-override\"><code>Scalar         Direct           $NAME         $scalar\nScalar         By ref (simple)  $$NAME        $$scalar_ref\nScalar         By ref           $BLOCK        ${ $scalar_ref }\n\nArray          Direct           @NAME         @array\nArray          By ref (simple)  @$NAME        @$array_ref\nArray          By ref           @BLOCK        @{ $array_ref }\n\nHash           Direct           %NAME         %hash\nHash           By ref (simple)  %$NAME        %$hash_ref\nHash           By ref           %BLOCK        %{ $hash_ref }\n\nHash element   Direct           $NAME{EXPR}   $hash{key}\nHash element   By ref (simple)  $$NAME{EXPR}  $$hash_ref{key}\nHash element   By ref           $BLOCK{EXPR}  ${ $hash_ref }{key}\n\nHash slice     Direct           @NAME{LIST}   @hash{qw( a b c )}\nHash slice     By ref (simple)  @$NAME{LIST}  @$hash_ref{qw( a b c )}\nHash slice     By ref           @BLOCK{LIST}  @{ $hash_ref }{qw( a b c )}\n\nArray element  Direct           $NAME[EXPR]   $array[3]\nArray element  By ref (simple)  $$NAME[EXPR]  $$array_ref[3]\nArray element  By ref           $BLOCK[EXPR]  ${ $array_ref }[3]\n\nArray slice    Direct           @NAME[LIST]   @array[3..5]\nArray slice    By ref (simple)  @$NAME[LIST]  @$array_ref[3..5]\nArray slice    By ref           @BLOCK[LIST]  @{ $array_ref }[3..5]\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 46504819, "answer_count": 3, "score": 1, "last_activity_date": 1506807235, "creation_date": 1506769310, "question_id": 46502080, "link": "https://stackoverflow.com/questions/46502080/perl-why-does-my-assignment-from-an-array-ref-give-an-error", "title": "Perl - why does my assignment from an array ref give an error", "body": "<p>Fragment A below works, copying an array by dereferencing an array ref.</p>\n\n<p>Fragment B, deeper in some real code, does not.  The commented-out line is not part of the real code, which works fine (%ips is a hash in which each key is an IP address and each value is a reference to an array).</p>\n\n<p>But why does the commented-out line fail with the message</p>\n\n<blockquote>\n  <p>Global symbol \"$ips\" requires explicit package name at ...</p>\n</blockquote>\n\n<h2>Fragment A:</h2>\n\n<pre><code>my $a1 = [1,2,3];\nsay $$a1[1];\nmy @a2 = @$a1;\nsay \"@a2\";\n</code></pre>\n\n<hr>\n\n<h2>Fragment B:</h2>\n\n<pre><code>    else {\n            # Initialise count to 1, \n            # set both dates:\n        $ips{$1} = [1, $2, $2];\n        # my @arr = @$ips{$1};  # error...\n    }\n</code></pre>\n"}, {"tags": ["windows", "perl", "batch-file", "cmd", "staf"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506762575, "post_id": 46501299, "comment_id": 79956781, "body": "<a href=\"https://metacpan.org/pod/Expect#Can-I-use-this-module-with-ActivePerl-on-Windows\" rel=\"nofollow noreferrer\">metacpan.org/pod/&hellip;</a>"}, {"owner": {"reputation": 38379, "user_id": 3074564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yo5QG.png?s=128&g=1", "display_name": "Mofi", "link": "https://stackoverflow.com/users/3074564/mofi"}, "edited": false, "score": 0, "creation_date": 1506783164, "post_id": 46501299, "comment_id": 79961999, "body": "@NikhilHegde As you have executed a Stack Overflow search with the search term <a href=\"https://stackoverflow.com/search?q=%5Bbatch-file%5D+run+background\">&#91;batch-file&#93; run background</a>, which topic was the most promising for you?"}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 38379, "user_id": 3074564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yo5QG.png?s=128&g=1", "display_name": "Mofi", "link": "https://stackoverflow.com/users/3074564/mofi"}, "edited": false, "score": 0, "creation_date": 1506866320, "post_id": 46501299, "comment_id": 79980327, "body": "@Mofi Anything related to running a batch-file in the background would be promising. And the nature of the problem is such that the batch file that I&#39;m currently working on, is read/execute only."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1506943013, "post_id": 46501299, "comment_id": 80002571, "body": "try <code>start start_STAF.bat</code>"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1506944007, "post_id": 46501299, "comment_id": 80003049, "body": "That <code>start</code> will open a new cmd windows which will execute the batch file and after it started the process it will return to your cmd window from where you executed the command."}, {"owner": {"reputation": 38379, "user_id": 3074564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yo5QG.png?s=128&g=1", "display_name": "Mofi", "link": "https://stackoverflow.com/users/3074564/mofi"}, "edited": false, "score": 0, "creation_date": 1507009892, "post_id": 46501299, "comment_id": 80030215, "body": "@NikhilHegde If <code>start_STAF.bat</code> contains only the single line to run Perl interpreter with a Perl script which obviously requires user input to end it, then don&#39;t use the batch file at all and just run Perl executable with the script file as parameter with <code>start &quot;&quot; &#47;B &quot;X:\\ActiveState\\Perl\\perl-5.14.0\\bin\\perl.exe&quot; &quot;X:\\bin\\start_STAF.pl&quot;</code>. The running Perl interpreter must be stopped using <code>taskkill</code> command. For a short time a console window is shown as <code>start</code> is an internal command of <code>cmd.exe</code> which on execution always opens a console window."}, {"owner": {"reputation": 38379, "user_id": 3074564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yo5QG.png?s=128&g=1", "display_name": "Mofi", "link": "https://stackoverflow.com/users/3074564/mofi"}, "edited": false, "score": 0, "creation_date": 1507010070, "post_id": 46501299, "comment_id": 80030289, "body": "@NikhilHegde Other solutions posted on SO for running a console application in background without opening ever a console window suggest the only method working for this case: running a Windows GUI application like <code>wscript.exe</code> (Windows Scripting Host) with a script which starts the console application in background and which do not show a GUI application window at all."}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1507038988, "post_id": 46501299, "comment_id": 80046803, "body": "@JohnDoe, that&#39;s not the case. I&#39;ve tried <code>start start_STAF.bat</code> and <code>start &#47;B start_STAF.bat</code> but in does not return to the prompt until I hit Enter after a few minutes"}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 38379, "user_id": 3074564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yo5QG.png?s=128&g=1", "display_name": "Mofi", "link": "https://stackoverflow.com/users/3074564/mofi"}, "edited": false, "score": 0, "creation_date": 1507039925, "post_id": 46501299, "comment_id": 80047459, "body": "@Mofi, your first suggestion of killing the <code>perl.exe</code> process may be the road I take. Running GUI is probably not going to be possible in the environment that I&#39;m set up in without having the STAF process running already"}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 38379, "user_id": 3074564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yo5QG.png?s=128&g=1", "display_name": "Mofi", "link": "https://stackoverflow.com/users/3074564/mofi"}, "edited": false, "score": 0, "creation_date": 1507041265, "post_id": 46501299, "comment_id": 80048371, "body": "@Mofi, the moment I kill <code>perl.exe</code> process, <code>STAF.exe</code> and <code>STAFProc.exe</code> both get killed. When I execute <code>start perl.exe start_STAF.pl</code>, I can see the STAF processes starting but the moment I kill <code>perl.exe</code>, the STAF processes disappear"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1507117368, "post_id": 46501299, "comment_id": 80081300, "body": "Just remove the <code>&#47;B</code> from the command. Test this <code>system(&quot;start test.bat&quot;); print &quot;\\ndone&quot;;</code> and in the same folder create <code>test.bat</code> with this content: <code>ping 1.1.1.1 -n 1 -w 10001 &gt;nul &amp;&amp; echo &quot;end with this batch&quot;</code>. Basically the script will launch in a new window the batch file which will stay opened ( while pinging for 10 s) but the control will  return to the cmd window right after launching the batch file."}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1507728361, "post_id": 46501299, "comment_id": 80326520, "body": "@JohnDoe, <code>start start_STAF.pl</code> worked. Thanks for the help!"}], "answers": [{"tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": true, "score": 2, "last_activity_date": 1507796739, "creation_date": 1507796739, "answer_id": 46704821, "question_id": 46501299, "link": "https://stackoverflow.com/questions/46501299/running-a-bat-file-in-background/46704821#46704821", "title": "Running a bat file in background", "body": "<p>Just run the command <code>START start_STAF.bat</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9954781, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HPUM4Co4a6g/AAAAAAAAAAI/AAAAAAAAABc/fgvHKg4sJlc/photo.jpg?sz=128", "display_name": "L\u01b0\u01a1ng V\u0169", "link": "https://stackoverflow.com/users/9954781/l%c6%b0%c6%a1ng-v%c5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1554743561, "last_edit_date": 1592644375, "creation_date": 1554743561, "answer_id": 55578501, "question_id": 46501299, "link": "https://stackoverflow.com/questions/46501299/running-a-bat-file-in-background/55578501#55578501", "title": "Running a bat file in background", "body": "<h1>For windows 10</h1>\n<ol>\n<li>write .bat file(syncfiles.bat)</li>\n</ol>\n<pre><code>&quot;C:\\Program Files\\Oracle\\VirtualBox\\VBoxHeadless.exe&quot; --comment &quot;linux_mint&quot; --startvm &quot;14f426cc-845d-46cb-9f6e-4dbb31a3769a&quot;\n</code></pre>\n<ol start=\"2\">\n<li>write .vbs file (start.vbs):</li>\n</ol>\n<pre><code>Set WshShell = CreateObject(&quot;WScript.Shell&quot;) \nWshShell.Run chr(34) &amp; &quot;syncfiles.bat&quot; &amp; Chr(34), 0\nSet WshShell = Nothing\n</code></pre>\n<ol start=\"3\">\n<li>run vbs file double click start.vbs</li>\n</ol>\n"}], "owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6647, "favorite_count": 0, "accepted_answer_id": 46704821, "answer_count": 2, "score": 2, "last_activity_date": 1554743561, "creation_date": 1506762361, "question_id": 46501299, "link": "https://stackoverflow.com/questions/46501299/running-a-bat-file-in-background", "title": "Running a bat file in background", "body": "<p>I've this .bat file which I'd like to run in the background. The file basically launches processes. The output of the .bat file would be:</p>\n\n<pre><code>X:\\bin&gt;start_STAF.bat\nstart_STAF.bat\n\nX:\\bin&gt;X:\\ActiveState\\Perl\\perl-5.14.0\\bin\\perl.exe x:\\bin\\start_STAF.pl\n\nThe operation completed successfully.\nThe operation completed successfully.\nThe operation completed successfully.\n*\nSTAFProc is now Started.  Leave this window up.\n*\n</code></pre>\n\n<p>Pressing the Enter key after a few minutes returns the control back to the prompt. I don't like this because this process needs to be launched through a Perl script and I don't know how one would automate the Enter key press through Perl.</p>\n\n<p>There's a few things that I've tried, unsuccessfully.</p>\n\n<p>I tried using <code>START /B start_STAF.bat</code> but what this does is that it returns back to the prompt without launching the .bat file. However, the next time I execute <code>tasklist</code>, the .bat file launches on stdout. This brings me back to square one.</p>\n\n<p>I tried redirecting the stdout/stderr as <code>start_STAF.bat &gt;nul 2&gt;&amp;1</code> but this too, does not launch the .bat file.</p>\n\n<p>Is there anything else that I can do? Thanks!</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 0, "last_activity_date": 1506785763, "last_edit_date": 1506785763, "creation_date": 1506745077, "answer_id": 46499521, "question_id": 46498730, "link": "https://stackoverflow.com/questions/46498730/split-rowcount-of-a-table-by-3-ways-in-perl/46499521#46499521", "title": "split rowcount of a table by 3 ways in perl", "body": "<p>The interesting part is deciding where each range starts. From there it's easy to decide that each range ends at one less than the start of the next range.</p>\n\n<p>This <code>partition()</code> function will determine the start points for given number of partitions within a given number of elements starting at a given offset.</p>\n\n<pre><code>sub partition {\n    my ($offset, $n_elements, $n_partitions) = @_;\n\n    die \"Cannot create $n_partitions partitions from $n_elements elements.\\n\"\n        if $n_partitions &gt; $n_elements;\n\n    my $step = int($n_elements / $n_partitions);\n\n    return map {$step * $_ + $offset} 0 .. $n_partitions - 1;\n}\n</code></pre>\n\n<p>Here's how it works:</p>\n\n<p>First, determine what the step should be by dividing the number of elements by the number of partitions, and preserving the integer by truncating any trailing decimal places.</p>\n\n<p>Next walk through the steps by starting at zero and multiplying by the step number (or the partition number).  So if the step is 5 then 5*0=0, 5x1=5, 5x2=10, and so on.  We will not look at the last step, because it makes more sense to include an \"off by one\" in the last partition than to start a new partition with only one element.</p>\n\n<p>Finally, we allow for an offset to be applied, so that <code>partition(0,100,5)</code>means to find the starting element positions for five partitions starting at zero and continuing for 100 elements (so a range of 0 to 99).  And <code>partition(1,100,5)</code> would mean start at 1 and continue to 100 elements partitioning in five segments, so a range of 1 to 100.</p>\n\n<p>Here's an example of putting the function to use to find the partition points in a set of several ranges:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Test::More;\n\nsub partition {\n    my ($offset, $n_elements, $n_partitions) = @_;\n\n    die \"Cannot create $n_partitions partitions from $n_elements elements.\\n\"\n        if $n_partitions &gt; $n_elements;\n\n    my $step = int($n_elements / $n_partitions);\n\n    return map {$step * $_ + $offset} 0 .. $n_partitions - 1;\n}\n\nwhile(&lt;DATA&gt;) {\n    chomp;\n    next unless length;\n\n    my ($off, $n_elems, $n_parts, @starts) = split /,\\s*/;\n\n    local $\" = ',';\n\n    is_deeply\n        [partition($off, $n_elems, $n_parts)],\n        [@starts],\n        \"Partitioning $n_elems elements starting at $off by $n_parts yields start positions of [@starts]\";\n}\n\ndone_testing();\n\n__DATA__\n0,10,2,0,5\n1,11,2,1,6\n0,3,2,0,1\n0,7,3,0,2,4\n0,21,3,0,7,14\n0,21,7,0,3,6,9,12,15,18\n0,20,3,0,6,12\n0,100,4,0,25,50,75\n1,100,4,1,26,51,76\n1,100,3,1,34,67\n0,10,1,0\n1,10,10,1,2,3,4,5,6,7,8,9,10\n</code></pre>\n\n<p>This yields the following output:</p>\n\n<pre><code>ok 1 - Partitioning 10 elements starting at 0 by 2 yields start positions of [0,5]\nok 2 - Partitioning 11 elements starting at 1 by 2 yields start positions of [1,6]\nok 3 - Partitioning 3 elements starting at 0 by 2 yields start positions of [0,1]\nok 4 - Partitioning 7 elements starting at 0 by 3 yields start positions of [0,2,4]\nok 5 - Partitioning 21 elements starting at 0 by 3 yields start positions of [0,7,14]\nok 6 - Partitioning 21 elements starting at 0 by 7 yields start positions of [0,3,6,9,12,15,18]\nok 7 - Partitioning 20 elements starting at 0 by 3 yields start positions of [0,6,12]\nok 8 - Partitioning 100 elements starting at 0 by 4 yields start positions of [0,25,50,75]\nok 9 - Partitioning 100 elements starting at 1 by 4 yields start positions of [1,26,51,76]\nok 10 - Partitioning 100 elements starting at 1 by 3 yields start positions of [1,34,67]\nok 11 - Partitioning 10 elements starting at 0 by 1 yields start positions of [0]\nok 12 - Partitioning 10 elements starting at 1 by 10 yields start positions of [1,2,3,4,5,6,7,8,9,10]\n1..12\n</code></pre>\n\n<p>For additional examples look at <a href=\"http://www.perlmonks.org/?node_id=892828%22Split%20range%200%20to%20M%20into%20N%20non-overlapping%20(roughly%20equal)%20ranges.%22\" rel=\"nofollow noreferrer\">Split range 0 to M into N non-overlapping (roughly equal) ranges.</a> on PerlMonks.</p>\n\n<p>Your question is looking for complete range start and end points. This method makes it rather trivial:</p>\n\n<pre><code>sub partition {\n    my ($offset, $n_elements, $n_partitions) = @_;\n    my $step = int($n_elements / $n_partitions);\n    return map {$step * $_ + $offset} 0 .. $n_partitions - 1;\n}\n\nmy $n_elems = 100;\nmy $offset  = 1;\nmy $n_parts = 3;\n\nmy @starts = partition($offset, $n_elems, $n_parts);\n\nmy @ranges = map{\n    [\n        $starts[$_],\n        ($starts[$_+1] // $n_elems+$offset)-1,\n    ]\n} 0..$#starts;\n\nprint \"($_-&gt;[0], $_-&gt;[1])\\n\" foreach @ranges;\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>(1, 33)\n(34, 66)\n(67, 100)\n</code></pre>\n\n<p>Even more implementation examples appear in <a href=\"https://softwareengineering.stackexchange.com/q/187680/24692\">Algorithm for dividing a range into ranges and then finding which range a number belongs to</a> on the StackExchange Software Engineering forum.</p>\n"}], "owner": {"reputation": 3, "user_id": 6074549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd2b4fa5ccb5dee26d1766cec08811d?s=128&d=identicon&r=PG&f=1", "display_name": "Gobi", "link": "https://stackoverflow.com/users/6074549/gobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 46499521, "answer_count": 1, "score": -2, "last_activity_date": 1506785763, "creation_date": 1506734933, "question_id": 46498730, "link": "https://stackoverflow.com/questions/46498730/split-rowcount-of-a-table-by-3-ways-in-perl", "title": "split rowcount of a table by 3 ways in perl", "body": "<p>I am getting rowcount of a sybase table in perl. For example table have 100 rows, so n=100</p>\n\n<p>I want to split this value into 3 parts \n1-33 | 34-66 | 67-99 or 100</p>\n\n<p>please advise how do get this in perl.</p>\n\n<p>Reason for this split: I need to pass the values 1 and 33 as input parameter to a stored proc to select rows whose identity column value is between 1 and 33.</p>\n\n<p>same goes for 34-66 &amp; 67-99</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1506726231, "last_edit_date": 1506726231, "creation_date": 1506725908, "answer_id": 46497908, "question_id": 46497866, "link": "https://stackoverflow.com/questions/46497866/how-to-find-the-perl-code-referenced-by-this-line/46497908#46497908", "title": "How to find the Perl code referenced by this line?", "body": "<p><code>A</code> is a class name, you should find it in <code>A.pm</code>. <code>current</code> should be a method of the class, defined under a <code>sub current</code> in <code>A.pm</code>. It returns an object whose <code>config</code> method is being called which returns an object again whose <code>settings</code> method is being called with arguments <code>'arg1'</code> and <code>'arg2'</code> (well, in fact, the object itself is the first argument).</p>\n\n<p>In fact, any of the methods can return a class instead of an object, too.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1506729104, "last_edit_date": 1506729104, "creation_date": 1506728772, "answer_id": 46498188, "question_id": 46497866, "link": "https://stackoverflow.com/questions/46497866/how-to-find-the-perl-code-referenced-by-this-line/46498188#46498188", "title": "How to find the Perl code referenced by this line?", "body": "<p>Step through the code in the <a href=\"https://metacpan.org/pod/perldebug\" rel=\"nofollow noreferrer\">perl debugger</a> and see where it takes you.</p>\n\n<p><code>foo-&gt;bar</code> is a method call, meaning that there is likely a subroutine called <code>bar</code> defined in the package referred to by <code>foo</code> (or a superclass), and gives you no information about whether there is a package <code>bar</code> or <code>foo::bar</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1506788967, "post_id": 46498267, "comment_id": 79963769, "body": "What&#39;s confusing to me, though, is that there is no sigil in front of A. If we are saying that A-&gt;current is an object, shouldn&#39;t there be a $ at the beginning of A?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1506799821, "post_id": 46498267, "comment_id": 79967031, "body": "Barewords on the left-hand side of <code>-&gt;</code> will be auto stringifird. So <code>A-&gt;method</code> is the same as <code>&quot;A&quot;-&gt;method</code> (unless a sub called <code>A</code> exists)"}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1506810353, "post_id": 46498267, "comment_id": 79969486, "body": "They are auto-stringified, yes, but that isn&#39;t the same thing as not needing a sigil, is it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1506811786, "post_id": 46498267, "comment_id": 79969732, "body": "I meant auto-quoted. See the example I provided again."}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1506964992, "post_id": 46498267, "comment_id": 80015718, "body": "Let me ask a different question in that case: Do we know if A (alone, without the -&gt;current) is a class or an object?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1506965892, "post_id": 46498267, "comment_id": 80016151, "body": "Without context, we can&#39;t tell. <code>A</code> could evaluate to a number of things, including (but not limited to) an object or a string (class name). Even if it&#39;s followed by <code>-&gt;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1506730633, "last_edit_date": 1506730633, "creation_date": 1506729583, "answer_id": 46498267, "question_id": 46497866, "link": "https://stackoverflow.com/questions/46497866/how-to-find-the-perl-code-referenced-by-this-line/46498267#46498267", "title": "How to find the Perl code referenced by this line?", "body": "<blockquote>\n  <p><em>Is <code>A-&gt;current-&gt;config-&gt;settings</code> guaranteed to be a nested class hierarchy</em></p>\n</blockquote>\n\n<p>You're thinking of <code>A::current::config::settings</code>.</p>\n\n<p>The following are method calls:</p>\n\n<pre><code>INVOCANT-&gt;name\nINVOCANT-&gt;name(LIST)\n</code></pre>\n\n<p>That means that <code>A-&gt;current-&gt;config-&gt;settings</code> is a chain of method calls.</p>\n\n<p>The only class named in that code is <code>A</code>.</p>\n\n<blockquote>\n  <p><em>could <code>config</code> actually be a property or method of a different object <code>A-&gt;current</code>?</em></p>\n</blockquote>\n\n<p>It's the name of a method of the object or class returned by <code>A-&gt;current</code>.</p>\n\n<blockquote>\n  <p><em>How to find the Perl code referenced by this line?</em></p>\n</blockquote>\n\n<pre><code>my $binary = A-&gt;current-&gt;config-&gt;settings('arg1', 'arg2');\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>my $obj1   = A-&gt;current;\nmy $obj2   = $obj1-&gt;config;\nmy $binary = $obj2-&gt;settings('arg1', 'arg2');\n</code></pre>\n\n<p>Now that you have the objects available, you can find the class of which they are an instance using</p>\n\n<pre><code>say ref($obj) || \"Not a reference\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use Scalar::Util qw( blessed );\n\nsay blessed($obj) // \"Not an object\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1565156775, "last_edit_date": 1565156775, "creation_date": 1506750848, "answer_id": 46499998, "question_id": 46497866, "link": "https://stackoverflow.com/questions/46497866/how-to-find-the-perl-code-referenced-by-this-line/46499998#46499998", "title": "How to find the Perl code referenced by this line?", "body": "<p>As explained, you are dealing with a chain of method calls in the class named <code>A</code>, where at least the first one is a <a href=\"http://perldoc.perl.org/perlobj.html#Method-Invocation\" rel=\"nofollow noreferrer\">class method</a> since it is invoked on the class (<code>A</code>) itself, not on an object.</p>\n\n<p>An easy way to find that class is by using <a href=\"http://search.cpan.org/dist/Class-Inspector/lib/Class/Inspector.pm\" rel=\"nofollow noreferrer\">Class::Inspector</a></p>\n\n<pre><code>use Class::Inspector;\n\nsay \"Filename: \", Class::Inspector-&gt;resolved_filename( 'A' );\n</code></pre>\n\n<p>which printed the full path to the class I used in my tests.  Also see <code>loaded_filename</code>.</p>\n\n<hr>\n\n<p>Another interesting way to interrogate a class is to add to it at runtime.</p>\n\n<p>Create an object of <code>A</code> and add to it a method of your choice at runtime</p>\n\n<pre><code>my $objA = A-&gt;new();\n\neval q( sub A::get_info { print \"$_\\n\" for (caller(0)) } );    \nif ($@) { print \"Eval: $@\" };\n\neval q( sub A::boom { croak \"Stacktrace: \" } );\nif ($@) { print \"Eval: $@\" };\n\n$objA-&gt;get_info();\n\n$objA-&gt;boom();\n</code></pre>\n\n<p>These are simple examples but you can acquire practically any information from inside a method.</p>\n\n<p>If <code>A</code> happens to not have a method called <code>new</code> (possible) work with methods in the given chain, starting with <code>my $objA = A-&gt;current</code>.</p>\n\n<p>Or, you can directly add a subroutine to the package's symbol table</p>\n\n<pre><code>*{A::new_method} = sub { say \"A new method\" };\n\n$any_obj_of_A-&gt;new_method();\n</code></pre>\n\n<p>which is now also available on all existing instances, as well as on new ones.</p>\n"}], "owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 1, "answer_count": 4, "score": 2, "last_activity_date": 1565156775, "creation_date": 1506725493, "last_edit_date": 1506729875, "question_id": 46497866, "link": "https://stackoverflow.com/questions/46497866/how-to-find-the-perl-code-referenced-by-this-line", "title": "How to find the Perl code referenced by this line?", "body": "<p>I have inherited some Perl code which contains a line that is mysterious to me:</p>\n\n<pre><code>my $binary = A-&gt;current-&gt;config-&gt;settings('arg1', 'arg2')\n</code></pre>\n\n<p>Basically, I am not sure how to find the related code. \"A\" is NOT a variable in the local code so I thought this was a class hierarchy. However I checked the directory structure to see if the following path existed, but there was none:</p>\n\n<pre><code>A/current/config/settings.pm\n</code></pre>\n\n<p>Is <code>A-&gt;current-&gt;config-&gt;settings</code> guaranteed to be a nested class hierarchy, or could it be something else? For example could <code>config</code> actually be a property or method of a different object <code>A-&gt;current</code>?</p>\n\n<p>Any assistance you could lend tracking this down would be greatly appreciated!</p>\n"}, {"tags": ["regex", "perl", "replace", "batch-rename"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1506859374, "last_edit_date": 1506859374, "creation_date": 1506858852, "answer_id": 46512125, "question_id": 46496509, "link": "https://stackoverflow.com/questions/46496509/regexp-replace-some-numbers-with-letters-in-names/46512125#46512125", "title": "Regexp replace (some) numbers with letters in names", "body": "<p>You could try something like this:</p>\n\n<pre><code>rename 's/_\\K(\\d+)(?=.pdf$)/chr ((ord \"a\") + $1 - 1)/e' *.pdf\n</code></pre>\n\n<ul>\n<li>The <code>e</code> option to the substitution operator is used to convert the digit to a lowercase character, see <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">perlop</a> for more details on the <code>s///e</code> operator. </li>\n<li>To avoid removing the underscore in front of the digit, we use the zero-width lookbehind assertion <code>\\K</code>, see <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">perlre</a> for more details.</li>\n<li>To avoid removing the <code>.pdf</code> extention following the digit, we use a <code>(?=pat)</code> zero-width positive lookahead assertion, also see <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">perlre</a>.</li>\n</ul>\n"}], "owner": {"reputation": 403, "user_id": 2883770, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/lZkHX.jpg?s=128&g=1", "display_name": "Massimo2013", "link": "https://stackoverflow.com/users/2883770/massimo2013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 46512125, "answer_count": 1, "score": 0, "last_activity_date": 1536053323, "creation_date": 1506716954, "last_edit_date": 1536053323, "question_id": 46496509, "link": "https://stackoverflow.com/questions/46496509/regexp-replace-some-numbers-with-letters-in-names", "title": "Regexp replace (some) numbers with letters in names", "body": "<p>I have a list of files:</p>\n\n<pre><code>file1_1.pdf file1_2.pdf file1_3.pdf\n</code></pre>\n\n<p>However, I want them to be renamed as</p>\n\n<pre><code>file1_a.pdf file1_b.pdf file1_c.pdf\n</code></pre>\n\n<p>I wonder how can I substitute letters for numbers in filenames (I use the <code>rename</code> perl script, which relies on standard regexp); unfortunately, <code>tr</code> is of no help, as it would substitute numbers where I don't want it to.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506717268, "post_id": 46496424, "comment_id": 79947891, "body": "It&#39;s weird that <code>$0</code> is a Windows path when you appear to be using a non-Windows build of <code>perl</code>. What&#39;s the first line of the <code>perl -v</code>?"}, {"owner": {"reputation": 22706, "user_id": 440611, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bb7d8fdf5ba702571df8bbfcff84e790?s=128&d=identicon&r=PG&f=1", "display_name": "Stan", "link": "https://stackoverflow.com/users/440611/stan"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506717422, "post_id": 46496424, "comment_id": 79947966, "body": "Seems it&#39;s windows build. <code>This is perl 5, version 24, subversion 1 (v5.24.1) built for x86_64-msys-thread-multi</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506719685, "post_id": 46496424, "comment_id": 79948815, "body": "No, it&#39;s a msys build, not Windows build. msys is a unix emulation environment. (A Windows build would start with <code>MSWin32-x64</code> instead of <code>x86_64-msys</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 22706, "user_id": 440611, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bb7d8fdf5ba702571df8bbfcff84e790?s=128&d=identicon&r=PG&f=1", "display_name": "Stan", "link": "https://stackoverflow.com/users/440611/stan"}, "edited": false, "score": 0, "creation_date": 1506717522, "post_id": 46496545, "comment_id": 79948008, "body": "<code>say $RealBin;</code> gives back <code>&#47;c&#47;Users&#47;sed&#47;c&#47;Users&#47;sed&#47;C:&#47;Users&#47;sed&#47;AppData&#47;Roaming&#47;npm&#47;no&zwnj;&#8203;de_modules&#47;my-test-m&zwnj;&#8203;odule&#47;my-test-file</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 22706, "user_id": 440611, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bb7d8fdf5ba702571df8bbfcff84e790?s=128&d=identicon&r=PG&f=1", "display_name": "Stan", "link": "https://stackoverflow.com/users/440611/stan"}, "edited": false, "score": 1, "creation_date": 1506719652, "post_id": 46496545, "comment_id": 79948799, "body": "You passed a Windows path to a <code>perl</code> that runs in unix-emulation environment. Pass a native (msys) path to <code>perl</code> instead. (Apparently, the call to open a file accepts both Windows and native paths, but <code>abspath</code> (used by FindBin) thinks it&#39;s on a unix machine and performs accordingly.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1506717095, "creation_date": 1506717095, "answer_id": 46496545, "question_id": 46496424, "link": "https://stackoverflow.com/questions/46496424/perl-dirname-prints-dot-instead-of-full-path/46496545#46496545", "title": "Perl `dirname` prints dot instead of full path", "body": "<pre><code>use FindBin qw( $RealBin );\n\nsay $RealBin;\n</code></pre>\n\n<p>Common use:</p>\n\n<pre><code>use lib $RealBin;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use lib \"$RealBin/lib\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506719971, "post_id": 46496946, "comment_id": 79948903, "body": "This has the same problem as doing it correctly (using <code>$FindBin::RealBin</code> or <code>dirname(abspath($0))</code>): It returns <code>.</code> for <code>C:\\Scripts\\MyScript.pl</code> on a unix machine. Changing <code>File::Spec</code> to <code>File::Spec::Win32</code> would do the trick, though (except it won&#39;t support symlinks like <code>$FindBin::RealBin</code> and <code>dirname(abspath($0))</code> do)."}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": true, "score": 1, "last_activity_date": 1506719338, "creation_date": 1506719338, "answer_id": 46496946, "question_id": 46496424, "link": "https://stackoverflow.com/questions/46496424/perl-dirname-prints-dot-instead-of-full-path/46496946#46496946", "title": "Perl `dirname` prints dot instead of full path", "body": "<p>A quick look at:</p>\n\n<pre><code>perldoc File::Basename\n</code></pre>\n\n<p>shows why it may not be the best choice for what you need to do.\nPlease try File::Spec instead.</p>\n\n<pre><code>C:\\Users\\Ken&gt; echo C:\\Scripts\\MyScript.pl | perl -MFile::Spec -lne \"print $_; ($v,$d,$f)=File::Spec-&gt;splitpath($_); print $v.$d;\"\nC:\\Scripts\\MyScript.pl\nC:\\Scripts\\\n</code></pre>\n\n<p>Type:</p>\n\n<pre><code>perldoc File::Spec\n</code></pre>\n\n<p>for more information. BTW, I tested with Strawberry perl v5.24.1</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2771781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b8a67aa7d997e2c9bd7ba239d0bfb7?s=128&d=identicon&r=PG&f=1", "display_name": "Qarj", "link": "https://stackoverflow.com/users/2771781/qarj"}, "is_accepted": false, "score": 0, "last_activity_date": 1539807815, "creation_date": 1539807815, "answer_id": 52863034, "question_id": 46496424, "link": "https://stackoverflow.com/questions/46496424/perl-dirname-prints-dot-instead-of-full-path/52863034#52863034", "title": "Perl `dirname` prints dot instead of full path", "body": "<p>Using Strawberry Perl v5.26.1 I found that starting the script directly as in <code>MyScript.pl</code> gave a different result to starting it with Perl i.e. <code>perl MyScript.pl</code>. In the latter case I got the useless relative (dot) output.</p>\n\n<p>The following worked for me in both cases:</p>\n\n<pre><code>use File::Basename;\nuse File::Spec;\nmy (undef, $this_script_folder, undef) = fileparse(File::Spec-&gt;rel2abs( __FILE__ ));\n</code></pre>\n"}], "owner": {"reputation": 22706, "user_id": 440611, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bb7d8fdf5ba702571df8bbfcff84e790?s=128&d=identicon&r=PG&f=1", "display_name": "Stan", "link": "https://stackoverflow.com/users/440611/stan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 1, "accepted_answer_id": 46496946, "answer_count": 3, "score": 2, "last_activity_date": 1539807815, "creation_date": 1506716516, "question_id": 46496424, "link": "https://stackoverflow.com/questions/46496424/perl-dirname-prints-dot-instead-of-full-path", "title": "Perl `dirname` prints dot instead of full path", "body": "<p>I am trying to implement a perl script and I need to get a directory of my executed file.</p>\n\n<p>For example if my file that I'm executing is at <code>C:\\Scripts\\MyScript.pl</code> I would like to get <code>C:\\Scripts</code>.</p>\n\n<p>I tried <code>dirname</code> but it does not seem to do what i want. It just prints <code>.</code></p>\n\n<p>I understand that I need to use <code>dirname</code> and <code>abs_path</code> together, however <code>abs_path</code> seems buggy to me because it returns some UNIX looking directory and then concatenates it with the actual path which obviously is invalid path in the end.</p>\n\n<p>Here is my proof of concept.</p>\n\n<pre><code># The initial variable with file\nsay $0; # C:\\Users\\sed\\AppData\\Roaming\\npm\\node_modules\\my-test-module\\my-test-file\n\n# This is just a current directory\nsay dirname($0); # .\n\n# This looks like a bug to me, the shell is opened in C:/Users/sed so it is related\nsay abs_path($0); # /c/Users/sed/C:/Users/sed/AppData/Roaming/npm/node_modules/my-test-module\\my-test-file\n\n# This is what I need, except I don't need that first UNIX looking part\nsay dirname(abs_path($0)); # /c/Users/sed/C:/Users/sed/AppData/Roaming/npm/node_modules/my-test-module\n</code></pre>\n"}, {"tags": ["string", "perl", "byte", "take"], "comments": [{"owner": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 0, "creation_date": 1506785421, "post_id": 46496290, "comment_id": 79962712, "body": "If your hex string represents some byte values (every <b>two chars</b> in a hex string make <b>one</b> byte value), where example : <code>45</code> is 1st byte, <code>F5</code> is 2nd byte and so on... Taking 16 letters with <code>substr($s, 0, 16)</code> only gives you 8 byte values (if hex string is converted to binary) or since each ASCII letter itself has own byte to represent the letter (eg: letter <code>A</code> is byte <code>41</code>) so your starting <code>45</code> makes letter <code>E</code> (in string format) or the value <code>69</code> (in binary format). Don&#39;t assume <code>4</code> and <code>5</code> are two separate bytes..."}], "answers": [{"comments": [{"owner": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 1, "creation_date": 1506785846, "post_id": 46496341, "comment_id": 79962816, "body": "Still confused how he asked for <b>bytes</b> (from obviously a hex string) but the correct Answer was to &quot;use substring&quot; to extract ASCII <b>text</b>? I&#39;ve tried to edit Asker&#39;s title so this Answer fits (for future readers)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 0, "creation_date": 1506799933, "post_id": 46496341, "comment_id": 79967067, "body": "@VC.One, You shouldn&#39;t surprised if you see it as ASCII text because &quot;ASCII text&quot; means &quot;the bytes obtained when you encode text using ASCII&quot;."}, {"owner": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 0, "creation_date": 1506805166, "post_id": 46496341, "comment_id": 79968336, "body": "Technically your answer is correct... For example a string of all the A to Z letters contains 26 bytes. So for first 16 bytes, just get the first 16 letters in string. The complication is that (it looks like) a hex string possibly returned by some (API?) request that could not provide bytearray and so returned byte array values in a text string. Example : A Jpeg begins with 2 bytes <code>FF D8</code>, so from string like <code>&quot;FFD8&quot;</code> doesn&#39;t <b>substring</b> for first 2 letters only give <code>&quot;FF&quot;</code> (or bytes <code>46 46</code>) ? This logic can&#39;t confirm JPG header as (int) 255 and 216, when the &quot;FF&quot; result is (int) 70 and 70"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 1, "creation_date": 1506805938, "post_id": 46496341, "comment_id": 79968506, "body": "@VC.One, Oh I know the OP could have meant something else. There&#39;s no denying the OP could have meant something other than what they actually asked. So I answered the question actually asked, but I clearly stated what the answer does so the OP could judge if it&#39;s that&#39;s what they actually wanted. I also upvoted the answer that covered the answer the OP might have meant to ask, and I left an improved method of achieving the same result in a comment to it. I&#39;m way ahead of you, dude."}, {"owner": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 0, "creation_date": 1506812177, "post_id": 46496341, "comment_id": 79969802, "body": "<i>&quot;I&#39;m way ahead of you, dude&quot;</i> yes you are and your power is freaking me out (in a good way, haha). I&#39;m not confused anymore. You literally answered <i>&quot;take first 16 bytes <b>of that string</b>&quot;</i> and OP is actually satisfied with it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1506717384, "last_edit_date": 1506717384, "creation_date": 1506716083, "answer_id": 46496341, "question_id": 46496290, "link": "https://stackoverflow.com/questions/46496290/perl-take-first-16-bytes-from-string/46496341#46496341", "title": "Perl - take first 16 bytes from string", "body": "<p>Strings are composed of elements called \"characters\" (which may or may not be bytes). To get a string that consists of the first 16 characters of another string, you can use the following:</p>\n\n<pre><code> substr($s, 0, 16)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1506720508, "post_id": 46496672, "comment_id": 79949084, "body": "Better: <code>my @bytes = unpack &#39;C*&#39;, pack &#39;H*&#39;, $hex;</code> (all) or <code>my @bytes = unpack &#39;C16&#39;, pack &#39;H32&#39;, $hex;</code> (first 16)"}], "tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": 2, "last_activity_date": 1506717878, "creation_date": 1506717878, "answer_id": 46496672, "question_id": 46496290, "link": "https://stackoverflow.com/questions/46496290/perl-take-first-16-bytes-from-string/46496672#46496672", "title": "Perl - take first 16 bytes from string", "body": "<p>looks like you need hexadeximals convert to bytes.</p>\n\n<pre><code>my $hex = \"45f5f5ca1997b35bf09b8e0932b0d693967d0608a3c\";\n\nmy @bytes = map { hex } $hex =~ m/(..)/g;\n\n\nuse Data::Dumper;\nprint Dumper(\\@bytes);\n\nprint join('', map { sprintf(\"%x\", $_) } @bytes);\n</code></pre>\n\n<p>feel free to limit array size by 16 elements by yourself (<code>substr($hex, 0, 16*2)</code>).</p>\n"}], "owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1170, "favorite_count": 0, "accepted_answer_id": 46496341, "answer_count": 2, "score": -3, "last_activity_date": 1506794976, "creation_date": 1506715892, "last_edit_date": 1506794976, "question_id": 46496290, "link": "https://stackoverflow.com/questions/46496290/perl-take-first-16-bytes-from-string", "title": "Perl - take first 16 bytes from string", "body": "<p>I have a string which contains <code>45f5f5ca1997b35bf09b8e0932b0d693967d0608a3c</code></p>\n\n<p>How can I take first 16 bytes of that string?</p>\n"}, {"tags": ["perl", "utf-8", "uri", "lwp"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1506712400, "post_id": 46495270, "comment_id": 79945546, "body": "You&#39;ve neglected to do the URI encoding:  <code>http:&#47;&#47;perry.wikia.com&#47;wiki&#47;P%C3%A1gina_principal</code> is what you actually want to GET."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1506713005, "post_id": 46495270, "comment_id": 79945828, "body": "Check out <a href=\"https://metacpan.org/pod/URI::Encode\" rel=\"nofollow noreferrer\">URI::Encode</a> or <a href=\"https://metacpan.org/pod/URI::Escape\" rel=\"nofollow noreferrer\">URI::Escape</a>"}, {"owner": {"reputation": 1470, "user_id": 2904315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sW7Oj.png?s=128&g=1", "display_name": "Akronix", "link": "https://stackoverflow.com/users/2904315/akronix"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1506716932, "post_id": 46495270, "comment_id": 79947737, "body": "I forgot to mention, I tried to use URI::Escape to escape the URI but it doesn&#39;t work either, it returns the same 404 error. Actually, If you try to just do a request to the URI already encoded: <a href=\"http://perry.wikia.com/wiki/P%C3%A1gina_principal\" rel=\"nofollow noreferrer\">perry.wikia.com/wiki/P%C3%A1gina_principal</a> it does not work :/"}, {"owner": {"reputation": 1470, "user_id": 2904315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sW7Oj.png?s=128&g=1", "display_name": "Akronix", "link": "https://stackoverflow.com/users/2904315/akronix"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1506718095, "post_id": 46495270, "comment_id": 79948222, "body": "Tested with URI:Encode, same URI output and same 404 result :("}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 2, "creation_date": 1506966028, "post_id": 46495270, "comment_id": 80016215, "body": "Are you sure that this URL isn&#39;t actually a 404?  Chrome and curl are giving me 404s."}, {"owner": {"reputation": 1470, "user_id": 2904315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sW7Oj.png?s=128&g=1", "display_name": "Akronix", "link": "https://stackoverflow.com/users/2904315/akronix"}, "reply_to_user": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 1, "creation_date": 1507142829, "post_id": 46495270, "comment_id": 80097764, "body": "you&#39;re absolutely right @oalders. I&#39;ve missed it because, from the browser, the website seemed to response an actual page instead of an 404 Error."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1507149614, "post_id": 46495270, "comment_id": 80101138, "body": "@Akronix perhaps best to close or remove the question then?"}, {"owner": {"reputation": 1470, "user_id": 2904315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sW7Oj.png?s=128&g=1", "display_name": "Akronix", "link": "https://stackoverflow.com/users/2904315/akronix"}, "reply_to_user": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1507214552, "post_id": 46495270, "comment_id": 80130077, "body": "@oalders I voted to close it as &quot;Unclear what you&#39;re asking&quot; (I dind&#39;t find any other reason closer), but it requires 3 more votes to be closed :/ On the other hand, I think that It could be useful for somebody else, so I thought it&#39;s better to not remove it."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1507227977, "post_id": 46495270, "comment_id": 80137928, "body": "@Akronix ok, in that case I added an answer, to save anyone from having to read all the comments. :)"}, {"owner": {"reputation": 1470, "user_id": 2904315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sW7Oj.png?s=128&g=1", "display_name": "Akronix", "link": "https://stackoverflow.com/users/2904315/akronix"}, "reply_to_user": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 1, "creation_date": 1507307634, "post_id": 46495270, "comment_id": 80172266, "body": "@oalders all right. there you go"}], "answers": [{"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": true, "score": 0, "last_activity_date": 1507227957, "creation_date": 1507227957, "answer_id": 46592459, "question_id": 46495270, "link": "https://stackoverflow.com/questions/46495270/http-request-with-perl-to-a-utf-8-uri-some-non-ascii-chars-inside-throws-a-404/46592459#46592459", "title": "HTTP request with Perl to a utf-8 URI (some non-ascii chars inside) throws a 404 Not Found error", "body": "<p>This is not a bug in any of the Perl modules.  This URL actually does return a 404.</p>\n"}], "owner": {"reputation": 1470, "user_id": 2904315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sW7Oj.png?s=128&g=1", "display_name": "Akronix", "link": "https://stackoverflow.com/users/2904315/akronix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 1, "accepted_answer_id": 46592459, "answer_count": 1, "score": 2, "last_activity_date": 1507227957, "creation_date": 1506711108, "last_edit_date": 1506966087, "question_id": 46495270, "link": "https://stackoverflow.com/questions/46495270/http-request-with-perl-to-a-utf-8-uri-some-non-ascii-chars-inside-throws-a-404", "title": "HTTP request with Perl to a utf-8 URI (some non-ascii chars inside) throws a 404 Not Found error", "body": "<p>I'm trying to request an URL which has some characters that are non-ASCII, for example: <a href=\"http://perry.wikia.com/wiki/P%C3%A1gina_principal\" rel=\"nofollow noreferrer\">http://perry.wikia.com/wiki/P\u00e1gina_principal</a> which has an <code>\u00e1</code> symbol.</p>\n\n<p>I've tried with LWP::UserAgent but it throws a 404 Not found error:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse utf8;\nuse LWP::UserAgent;\nuse Encode qw(decode encode);\n\nmy $br = LWP::UserAgent-&gt;new;\n#~ my $url = 'http://perry.wikia.com/wiki/P\u00e1gina_principal'; # doesn't work either\nmy $url = encode('UTF-8','http://perry.wikia.com/wiki/P\u00e1gina_principal');\nmy $response = $br-&gt;get($url);\nif ($response-&gt;{success}) {\n    my $html = $response-&gt;{content};\n} else {\n  die \"Unexpected error requesting $url : \" . $response-&gt;status_line;\n}\n</code></pre>\n\n<p>I've tried with HTTP::Tiny too, same result:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse utf8;\nuse HTTP::Tiny;\nuse Encode qw(decode encode);\n\nmy $url = 'http://perry.wikia.com/wiki/P\u00e1gina_principal';\n#~ my $url = encode('UTF-8','http://perry.wikia.com/wiki/P\u00e1gina_principal'); # doesn't work either\nmy $response = HTTP::Tiny-&gt;new-&gt;get($url);\nif ($response-&gt;{success}) {\n    my $html = $response-&gt;{content};\n} else {\n  die \"Unexpected error requesting $url : \" . $response-&gt;{status};\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 4, "creation_date": 1506693987, "post_id": 46490518, "comment_id": 79935536, "body": "You mean as in <code>my $result = -M $file;</code>?"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1506694448, "post_id": 46490518, "comment_id": 79935835, "body": "yes exactly , Is there any way ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1506694515, "post_id": 46490518, "comment_id": 79935878, "body": "What&#39;s wrong with the want in @PerlDuck&#39;s comment?"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506694542, "post_id": 46490518, "comment_id": 79935895, "body": "@downvoters : I would also be interested to know the reason for downvote so that I can improve myself and my questions :)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1506694631, "post_id": 46490518, "comment_id": 79935947, "body": "@Vicky: I haven&#39;t downvoted. But I would guess it&#39;s because you haven&#39;t explained what you have tried and what problems you are having."}, {"owner": {"reputation": 326, "user_id": 5586958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bfb8771459ceed79fa8502fbf9ce02c?s=128&d=identicon&r=PG&f=1", "display_name": "Lexi", "link": "https://stackoverflow.com/users/5586958/lexi"}, "edited": false, "score": 1, "creation_date": 1506694642, "post_id": 46490518, "comment_id": 79935951, "body": "These types of questions get closed as too broad all the time because it shows no effort that you attempted to solve the problem yourself."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 1, "creation_date": 1506695142, "post_id": 46490518, "comment_id": 79936271, "body": "Thanks but I did not really have any idea for how to go about that , nonetheless I have edited with what I have tried , can&#39;t think of anything else."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 1, "creation_date": 1506695489, "post_id": 46490518, "comment_id": 79936505, "body": "Thanks , I will make sure I post my question with what I tried now on."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1506696587, "post_id": 46490518, "comment_id": 79937239, "body": "@Vicky: If every newcomer posted questions of as high quality as most of yours, I think we&#39;d all be very happy :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506699599, "post_id": 46490518, "comment_id": 79939091, "body": "Vicky, you seem to want to learn a lot about Perl, and many of the questions you ask here involve existing code. I wonder, are you getting this code at work? Have you been dumped on a legacy code base without a lot of knowledge about Perl? But then some of the questions are more general, like this one about debugging (though I think you used the debugger as a REPL) or the one about formats. This is not a critique, I am just curious. What&#39;s your situation? :)"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506703440, "post_id": 46490518, "comment_id": 79941258, "body": "@simbabque , yes I have been given existing code to work on after a short  curtain raiser training on Perl, the code given to me is written by people who left the organisation  :-)  I dont have any perl expert around me for guidance. I am reading books and perldocs but I get stuck sometimes."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1506695001, "creation_date": 1506695001, "answer_id": 46490881, "question_id": 46490518, "link": "https://stackoverflow.com/questions/46490518/store-value-returned-by-file-test-operator-in-perl/46490881#46490881", "title": "Store value returned by file test operator in Perl", "body": "<p>You can take the value returned by a file test operator and store in a variable by... well... by taking the value and storing it in a variable.</p>\n\n<pre><code>my $mod_time = -M $some_file;\n</code></pre>\n\n<p>Then later you can treat <code>$mod_time</code> as you would treat any scalar variable (because that's what it is).</p>\n\n<p><strong>Update:</strong> You've just updated your question to show what you've tried:</p>\n\n<pre><code>$ a= `-M $file`;\n</code></pre>\n\n<p>But <code>-M $file</code> is not an external command, so you don't need the backticks.</p>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 46490881, "answer_count": 1, "score": 0, "last_activity_date": 1506695062, "creation_date": 1506693857, "last_edit_date": 1506695062, "question_id": 46490518, "link": "https://stackoverflow.com/questions/46490518/store-value-returned-by-file-test-operator-in-perl", "title": "Store value returned by file test operator in Perl", "body": "<p>How can I store value returned by <code>-M $file</code> operator in Perl in a variable and later use in a mathematical expression? I have tried this on an existing file:</p>\n\n<pre><code>DB&lt;1&gt; $file=\"file.txt\"\n\nDB&lt;2&gt; $a=`-M $file`;\n\nDB&lt;3&gt; print \"$a\"\n</code></pre>\n\n<p>But that does not seem to work.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506694193, "post_id": 46490425, "comment_id": 79935674, "body": "write is actually doing the write to filehandle <code>OUT1</code>, which is specified right on top by <code>open(out,..</code>. The format funtions actually does the formatting which you see, kind of like an image layout, so basically the fomat layers walk hand in hand with write."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506695719, "post_id": 46490425, "comment_id": 79936652, "body": "Thanks, but my question is how the format named OUT1_TOP  is printed in the outputfile I understand rest of the code"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1506696169, "post_id": 46490425, "comment_id": 79936961, "body": "@Vicky: I would strongly suggest that you are wasting your time learning about formats. No-one ever uses them in Perl."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506697132, "post_id": 46490425, "comment_id": 79937580, "body": "Thanks Dave, are you trying to say that sprintf and printf are alone are better for formatting ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506697522, "post_id": 46490425, "comment_id": 79937843, "body": "@Vicky: Pretty much. Or perhaps a templating engine. Or if you really want something like formats, take a look at <a href=\"https://metacpan.org/pod/Perl6::Form\" rel=\"nofollow noreferrer\">Perl6::Form</a> on CPAN."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506697639, "post_id": 46490425, "comment_id": 79937924, "body": "Thanks Dave , that is really helpful."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1506698403, "post_id": 46490425, "comment_id": 79938427, "body": "<code>format</code> was a good solution for a common programming task from 1987 -- producing reports for dot-matrix printers with a fixed number of lines per page."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1506696070, "creation_date": 1506696070, "answer_id": 46491253, "question_id": 46490425, "link": "https://stackoverflow.com/questions/46490425/format-command-in-perl/46491253#46491253", "title": "Format command in Perl", "body": "<p>From <a href=\"https://metacpan.org/pod/perlfunc#write\" rel=\"nofollow noreferrer\"><code>perldoc -f write</code></a>:</p>\n\n<blockquote>\n  <p>By default, the top-of-page format is the name of the filehandle with <code>_TOP</code> appended</p>\n</blockquote>\n\n<p>So when you <code>write</code> to <code>OUT1</code>, the format in <code>OUT1_TOP</code> is used at the top of every page.</p>\n\n<p>And to signal boost Dave Cross's comment above:</p>\n\n<blockquote>\n  <p>@Vicky: I would strongly suggest that you are wasting your time learning about formats. No-one ever uses them in Perl.</p>\n</blockquote>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1506869458, "creation_date": 1506693606, "last_edit_date": 1506869458, "question_id": 46490425, "link": "https://stackoverflow.com/questions/46490425/format-command-in-perl", "title": "Format command in Perl", "body": "<p>I cannot completely understand how the format named OUT1_TOP is being printed in the outputfile. I can see that there is one call to write function with OUT1 which would print format OUT1 in the outputfile but I don't know how and when OUT1_TOP is being called.</p>\n\n<pre><code>open(OUT1,\"&gt;outputfile\");\nformat OUT1_TOP =\n\n                                                  #         REPORT            #\n\n\nDate : @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n$date\n--------------------------------------------------------\nColumn1           Column1                   Column1     \n--------------------------------------------------------\n.\nformat OUT1 =\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;  @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;  @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;  \n$C1,$C2,$C3\n.\n\nopen(FILE,$filename);\nwhile(&lt;FILE&gt;)\n{\n# if else conditions where C1,C2,C3 are set ;\n}\ncontinue\n{\n write OUT1;\n}\n</code></pre>\n\n<p><strong><em>OUTPUT:</em></strong> (seen in outputfile)</p>\n\n<pre><code>             #         REPORT            #\n\n\nDate : Friday September 29 14:51:09 BST 2017\n--------------------------------------------------------\nColumn1           Column1                   Column1     \n--------------------------------------------------------\nAAA1                    21                  30\nBBB2                    2                   21\n\n...... and so on \n</code></pre>\n"}, {"tags": ["perl", "sequence", "leading-zero"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1506693094, "post_id": 46490208, "comment_id": 79934958, "body": "For most practical purposes <code>&#39;001&#39;..&#39;100&#39;</code> should create that list quite nicely."}, {"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1506694295, "post_id": 46490208, "comment_id": 79935735, "body": "Great! Didn&#39;t know that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506695686, "post_id": 46490208, "comment_id": 79936627, "body": "@evb: Please explain <i>why</i> you don&#39;t want to use <code>sprintf</code>?"}, {"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506696588, "post_id": 46490208, "comment_id": 79937242, "body": "@Borodin I&#39;m used to bash&#39;s <code>seq -w</code>, so the solution with <code>sprintf</code> seems too &#39;heavy&#39;. And yes, there turned out to be an even more elegant solution."}, {"owner": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "edited": false, "score": 1, "creation_date": 1506731593, "post_id": 46490208, "comment_id": 79951710, "body": "@evb sprintf / printf may seem heavy, but I&#39;ve found that nearly every solution that passes through to C is faster than an pure Perl implementation, even with the overhead of the XS call."}, {"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "reply_to_user": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "edited": false, "score": 0, "creation_date": 1506785368, "post_id": 46490208, "comment_id": 79962694, "body": "@EdwinBuck, thanks, I&#39;ll use it in my work. I had an exam on C in 1991, but I&#39;ve totally forgotten everything about the language (except that there are many curly braces). :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506789486, "post_id": 46490208, "comment_id": 79963923, "body": "@evb: It&#39;s always best to distinguish between a preference and a requirement. It may be that <code>sprintf</code> is <i>prohibited</i> for some reason, but in fact it seems that a subroutine like <code>sub d2 { sprintf &#39;%02d&#39;, @_ }</code> would help."}, {"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506792869, "post_id": 46490208, "comment_id": 79964957, "body": "@Borodin At present my goal is to know the language better. If I only used sprintf, I wouldn&#39;t have learned about &#39;001&#39;..&#39;100&#39;, which is more simple. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506793484, "post_id": 46490208, "comment_id": 79965135, "body": "@evb: It&#39;s not necessarily better to make things more simple. And that&#39;s nothing to do with distinguishing between a preference and a requirement in your questions. And as it is you have learned only a blinkered view of Perl&#39;s ability to <i>increment strings</i>. If you want to learn stuff you don&#39;t know about a language then you should read through the language reference. I still read <i>Programming Perl</i> around once a year."}, {"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506794112, "post_id": 46490208, "comment_id": 79965281, "body": "@Borodin I believe that learning should be gradual and also it should be fun. If people could read a 1K-pages reference book in several days and remember it word-by-word, Q/A sites like this wouldn&#39;t probably exist. Pure imho of course and thanks again you for your help!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506794573, "post_id": 46490208, "comment_id": 79965417, "body": "@evb: Your comment is still unrelated to mine: that it is important to distinguish between a preference and a requirement in your questions so that we know what we are dealing with. The main reason sites like this exist is that, even if you know the language inside-out you then have all the tools you need but may still struggle to combine them to provide a particular solution. You shouldn&#39;t think of <i>Stack Overflow</i> as a replacement for tutorials."}, {"owner": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "edited": false, "score": 0, "creation_date": 1613321968, "post_id": 46490208, "comment_id": 117033745, "body": "@EugeneBarsky Somehow this came up in my notifications today.  I reread the comments, and saw something new.  First you said &quot;faster&quot; then you said &quot;simple&quot;.  I think you really wanted to day &quot;More Perl specific&quot;.  Incrementing strings isn&#39;t faster, nor is it more simple.  Perl defines &quot;simple&quot; in some pretty strange ways, so maybe you&#39;ve drank too deeply from the Perl water.  The string increment is both slower and more complex, especially if someone slips in an unexpected character.  One problem with Perl is that it defines simple in &quot;characters typed&quot; instead of logic performed."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506693219, "post_id": 46490291, "comment_id": 79935041, "body": "You might want to explain the <code>..</code> operator."}, {"owner": {"reputation": 7599, "user_id": 170961, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1e252d94e2b6093fc408baec2c7e5065?s=128&d=identicon&r=PG", "display_name": "matiit", "link": "https://stackoverflow.com/users/170961/matiit"}, "edited": false, "score": 0, "creation_date": 1506693258, "post_id": 46490291, "comment_id": 79935070, "body": "I put the reference to the documentation"}, {"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "edited": false, "score": 0, "creation_date": 1506693477, "post_id": 46490291, "comment_id": 79935221, "body": "Yes, that&#39;s it! Thanks for the links!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1506794701, "post_id": 46490291, "comment_id": 79965450, "body": "It&#39;s important to understand that this is a consequence of the behaviour of the <code>++</code> operator on strings, which is what the range operator <code>..</code> uses under the hood."}, {"owner": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "edited": false, "score": 1, "creation_date": 1596116195, "post_id": 46490291, "comment_id": 111712921, "body": "after I thought &quot;how can I do that in perl&quot; I also got it working with bash - just mention fyi: for i in {001..100};do echo &quot;&gt;&gt;&gt;${i}&lt;&lt;&lt;&quot;;done`"}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": true, "score": 8, "last_activity_date": 1506693689, "last_edit_date": 1506693689, "creation_date": 1506693153, "answer_id": 46490291, "question_id": 46490208, "link": "https://stackoverflow.com/questions/46490208/perl-sequence-of-numbers-with-leading-zeros/46490291#46490291", "title": "Perl sequence of numbers with leading zeros", "body": "<p>you mean like this?</p>\n\n<pre><code>for ('001'..'100') {\n    print \"$_\\n\";\n}\n</code></pre>\n\n<p><code>..</code> in a range, returns a list of values counting by ones, from the left value to the right value.</p>\n\n<p>For more details about how to use range, please refer to: \n<a href=\"https://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"noreferrer\">Perldoc range operator</a> and <a href=\"https://users.cs.cf.ac.uk/Dave.Marshall/PERL/node38.html\" rel=\"noreferrer\">this link</a></p>\n"}, {"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1506693341, "post_id": 46490338, "comment_id": 79935137, "body": "OP requested no <code>sprintf</code>.  Presumably that applies to <code>printf</code> as well."}, {"owner": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "edited": false, "score": 0, "creation_date": 1506693542, "post_id": 46490338, "comment_id": 79935265, "body": "I think the reason no &quot;sprintf&quot; has a lot to do with the Perl tutorials.  Basically, they teach formatting with &quot;sprintf&quot; and somehow avoid advertising in a big way that they have a &quot;printf&quot;  If I saw &quot;sprintf&quot; just so I could &quot;print&quot; afterwards, it would seem clunky, inelegant, and something to be avoided."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506693767, "post_id": 46490338, "comment_id": 79935406, "body": "@EdwinBuck true."}, {"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "edited": false, "score": 1, "creation_date": 1506694257, "post_id": 46490338, "comment_id": 79935715, "body": "Thanks for your comment! Probably my question was unclear, I meant to do it without either sprintf or printf."}], "tags": [], "owner": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "is_accepted": false, "score": 4, "last_activity_date": 1506693388, "last_edit_date": 1506693388, "creation_date": 1506693293, "answer_id": 46490338, "question_id": 46490208, "link": "https://stackoverflow.com/questions/46490208/perl-sequence-of-numbers-with-leading-zeros/46490338#46490338", "title": "Perl sequence of numbers with leading zeros", "body": "<p>Printf was created for problems like this.  Using it will help you get the answers you want faster.</p>\n\n<pre><code>foreach my $number ( 1 .. 100 ) {\n     printf \"%03d\\n\", $number;\n}\n</code></pre>\n\n<p>The <code>%</code> is the \"begin a format sequence\"\nThe <code>0</code> is \"leading zeros\"\nThe <code>3</code> is \"three digits minimum\"\nThe <code>d</code> is \"treat the parameter as digits (integer)\"</p>\n"}], "owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2046, "favorite_count": 1, "accepted_answer_id": 46490291, "answer_count": 2, "score": 2, "last_activity_date": 1506696726, "creation_date": 1506692915, "last_edit_date": 1506696726, "question_id": 46490208, "link": "https://stackoverflow.com/questions/46490208/perl-sequence-of-numbers-with-leading-zeros", "title": "Perl sequence of numbers with leading zeros", "body": "<p>Is there some easy way (without <code>sprintf</code> and, of course, <code>printf</code>) to get a list of <code>(001, 002, ... 100)</code> in Perl? \nIn bash it was something like <code>seq -w 1 100</code>. What about Perl?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506692732, "post_id": 46490144, "comment_id": 79934745, "body": "Is there a reason you are not using an HTML parser? <a href=\"https://stackoverflow.com/q/1732348/1331451\">For your own good, you shouldn&#39;t parse XML with regex</a>."}, {"owner": {"reputation": 670, "user_id": 3307553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/31dea7338e7fc944c850bcf2549f9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3307553/eric"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506692804, "post_id": 46490144, "comment_id": 79934782, "body": "because i&#39;m doing a lot of edits and i&#39;m actually replacing the &lt; with unicodes so i can display the full code with highlighting once the script finishes. an HTML parser would not be able to read it once i&#39;m done with modifying it."}, {"owner": {"reputation": 21876, "user_id": 1678362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba023d18099cde022b9e4394d5714c0?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1678362/aaron"}, "edited": false, "score": 0, "creation_date": 1506693026, "post_id": 46490144, "comment_id": 79934911, "body": "It shouldn&#39;t have to read it once you&#39;re done with it though, only at the start when it&#39;s more-or-less valid HTML. That doesn&#39;t mean you would have to produce valid HTML as an output."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506693091, "post_id": 46490144, "comment_id": 79934954, "body": "Your code is missing <code>$linenumber</code>. How does that start? <code>0</code> or <code>1</code>? <code>@newH2Array</code> is also missing. Please <a href=\"https://stackoverflow.com/posts/46490144/edit\">edit</a> and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, you do not need to escape angle brackets <code>&lt;&gt;</code> in patterns, they do not have special meaning."}, {"owner": {"reputation": 670, "user_id": 3307553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/31dea7338e7fc944c850bcf2549f9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3307553/eric"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506693788, "post_id": 46490144, "comment_id": 79935420, "body": "@simbabque i edited the post with more information."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506693837, "post_id": 46490144, "comment_id": 79935439, "body": "You do realize that <i>Part</i> doesn&#39;t match <i>Chapter</i>? :D"}, {"owner": {"reputation": 670, "user_id": 3307553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/31dea7338e7fc944c850bcf2549f9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3307553/eric"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506693945, "post_id": 46490144, "comment_id": 79935510, "body": "@simbabque Oops, here&#39;s the full regex im using in my code ([a-z]+)\\s(part \\d+[a-z]?\\.?[\\d+]?|part [IVX]+|annex [a-z]+|appendix [A-Z\\d][\\-\\.]?[\\d+]?)([\\w\\s\\-]+) Part is covered in this case. i was typing up a copy of the code."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506694280, "post_id": 46490637, "comment_id": 79935728, "body": "So funny how our answers are again almost identical. So much for TIMTOWTDI. :)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506694372, "post_id": 46490637, "comment_id": 79935783, "body": "@simbabque: &quot;Great minds think alike&quot; or perhaps &quot;Fools seldom differ&quot; :-)"}, {"owner": {"reputation": 670, "user_id": 3307553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/31dea7338e7fc944c850bcf2549f9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3307553/eric"}, "edited": false, "score": 0, "creation_date": 1506697670, "post_id": 46490637, "comment_id": 79937955, "body": "okay so i copy and pasted your code into a new pl script to test and it works perfectly. when i replaced it with my regex it starts failing. so i think my issue is with the regex. also thanks for letting me know about perl&#39;s built in $. i started learning perl and regex this week so there&#39;s still alot to learn."}, {"owner": {"reputation": 670, "user_id": 3307553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/31dea7338e7fc944c850bcf2549f9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3307553/eric"}, "edited": false, "score": 0, "creation_date": 1506698279, "post_id": 46490637, "comment_id": 79938344, "body": "yeah i got it working i definately do need the while loop, i took it out cause i assumed the g flag might do it but i guess not. and the regex i have was incorrect, after i fixed it i was able to get all the patterns. thanks guys really appreciate the help."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1506694299, "last_edit_date": 1506694299, "creation_date": 1506694242, "answer_id": 46490637, "question_id": 46490144, "link": "https://stackoverflow.com/questions/46490144/perl-regex-only-prints-first-pattern-found/46490637#46490637", "title": "Perl: Regex only prints first pattern found", "body": "<p>An <code>if</code> statement is a binary choice. It either matches or it doesn't. For a loop, you need a looping construct - like <code>while</code>.</p>\n\n<p>I've also used <code>say()</code> instead of <code>print()</code>, Perl's built-in <code>$.</code> instead of <code>$linenumber</code> and I've interpolated variables in strings.</p>\n\n<p>Oh, and switched to <code>&lt;DATA&gt;</code> to make it easy to test.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy @newH2Array = (\"Part I\", \"Part II\", \"Part III\");\nmy $linenumber = 0;\nwhile (my $line = &lt;DATA&gt;){\n    chomp $line;\n    if ($line =~ /^&lt;p&gt;/){\n        while ($line =~ /(Part [IVX]+)/gi) {\n            if (grep{ lc $_ eq lc $1 } @newH2Array){\n                say \"found a hit &lt;$1&gt; that matches array element on line $.\";\n            }\n        }\n    }\n}\n\n__DATA__\n&lt;p&gt;Part I should be found. Part II should be found also. Part III should be found.&lt;/p&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1506694249, "creation_date": 1506694249, "answer_id": 46490640, "question_id": 46490144, "link": "https://stackoverflow.com/questions/46490144/perl-regex-only-prints-first-pattern-found/46490640#46490640", "title": "Perl: Regex only prints first pattern found", "body": "<p>You are using a <code>/g</code> match, but you are only taking the first of its matches because of the <code>if</code>. You need to iterate all the matches. One way to do that is with a <code>while</code> loop.</p>\n\n<pre><code>my @newH2Array = (\"Part I\", \"Part II\", \"Part III\", \"Part X\");\n\nwhile (my $line = &lt;DATA&gt;){\n    chomp $line;\n\n    if($line =~ /^&lt;p&gt;/){\n        while ($line =~ /(Part [IVX]+)/gi) {\n            if (grep{ lc $_ eq lc $1 } @newH2Array){\n                print \"found a hit &lt;$1&gt; that matches array element on line $.\\n\";\n            }\n        }\n    }\n}\n\n__DATA__\n&lt;p&gt;Part I should be found. Part II should be found also. Part III should be found.&lt;/p&gt;\n&lt;p&gt;Part X should be found. Particles are fun.&lt;/p&gt;\n</code></pre>\n\n<p>Note that I removed <code>$linenumber</code>. You can just use <code>$.</code>, which is always the current line number of the last filehandle read.</p>\n\n<p>Here's the output.</p>\n\n<pre><code>found a hit &lt;Part I&gt; that matches array element on line 1\nfound a hit &lt;Part II&gt; that matches array element on line 1\nfound a hit &lt;Part III&gt; that matches array element on line 1\nfound a hit &lt;Part X&gt; that matches array element on line 2\n</code></pre>\n"}], "owner": {"reputation": 670, "user_id": 3307553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/31dea7338e7fc944c850bcf2549f9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3307553/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 46490637, "answer_count": 2, "score": 1, "last_activity_date": 1506694299, "creation_date": 1506692704, "last_edit_date": 1506693962, "question_id": 46490144, "link": "https://stackoverflow.com/questions/46490144/perl-regex-only-prints-first-pattern-found", "title": "Perl: Regex only prints first pattern found", "body": "<p>I'm attempting to parse an html file and i have a regular expression that captures patterns inside all p tags. for some reason it's only printing out the first instance found.</p>\n\n<pre><code>my @newH2Array = (\"Part I\", \"Part II\", \"Part III\");\nmy $linenumber = 0;\nwhile (my $line = &lt;$parser&gt;){\n    chomp $line;\n    $linenumber++;\n    if($line =~ /^&lt;p&gt;/){\n        if($line =~ /(Part [IVX]+)/gi) {\n            if (grep{ lc $_ eq lc $1 } @newH2Array){\n                print \"found a hit &lt;\" . $1 . \"&gt; that matches array element on line\" . $linenumber;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>When i run it with this test below it would only print out Part I but not the other 3. When i switched the if statements to a while loop it doesn't work as either. Can anyone tell me what i'm doing wrong here?</p>\n\n<pre><code>&lt;p&gt;Part I should be found. Part II should be found also. Part III should be found.&lt;/p&gt;\n</code></pre>\n\n<p>The result should be.</p>\n\n<pre><code>found a hit &lt;Part I&gt; that matches array element on line 1\nfound a hit &lt;Part II&gt; that matches array element on line 1\nfound a hit &lt;Part III&gt; that matches array element on line 1\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1506689344, "post_id": 46489105, "comment_id": 79932731, "body": "Have you checked <a href=\"https://unix.stackexchange.com/questions/30173/how-to-remove-duplicate-lines-inside-a-text-file\">this question</a>?"}, {"owner": {"reputation": 125, "user_id": 8695634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiBSw.jpg?s=128&g=1", "display_name": "WetCheerios", "link": "https://stackoverflow.com/users/8695634/wetcheerios"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1506689620, "post_id": 46489105, "comment_id": 79932890, "body": "How do I implement this line into my code?  $ perl -ne &#39;print unless $dup{$_}++;&#39; input_file &gt; output_file"}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1506689718, "post_id": 46489105, "comment_id": 79932964, "body": "Why do you need the code then?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1506689725, "post_id": 46489105, "comment_id": 79932966, "body": "as a side note, there are no file <i>handlers</i>  only file <i>handles</i>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506689892, "post_id": 46489105, "comment_id": 79933076, "body": "The one-liner already does everything you need. It&#39;s the same as what you want to do, just in a lot less words. If you want to fully write it out, you need to read your file, use a hash to count which lines you have seen (and I mean literally full lines) and simply write only the ones that have not been seen."}, {"owner": {"reputation": 125, "user_id": 8695634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiBSw.jpg?s=128&g=1", "display_name": "WetCheerios", "link": "https://stackoverflow.com/users/8695634/wetcheerios"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1506689971, "post_id": 46489105, "comment_id": 79933127, "body": "or handles... yes, excuse the typo. @raina77ow, the code is part of a larger program to search test programs for components used in smaller programs, then pare down the ouput file of it&#39;s duplicates. So, the code needs to be implemented inside an executable. Does that answer? Again, I&#39;m a noob. Potato even... Thanks."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1506690031, "post_id": 46489105, "comment_id": 79933163, "body": "&gt;&gt; <code>perl -MO=Deparse -ne &#39;print unless $dup{$_}++;&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1506689737, "creation_date": 1506689737, "answer_id": 46489293, "question_id": 46489105, "link": "https://stackoverflow.com/questions/46489105/recursive-search-in-perl/46489293#46489293", "title": "Recursive search in Perl?", "body": "<p>If your file is not very large, you can store each line readed from the input file as a key in a hash variable. And then, print the hash keys (ordered). Something like that:</p>\n\n<pre><code>my %lines = ();\nmy $order = 1;\n\nopen my $fhi, \"&lt;\", $file2 or die \"Cannot open file: $!\";\nwhile( my $line = &lt;$fhi&gt; ) {\n   $lines {$line} = $order++;\n}\nclose $fhi;\n\nopen my $fho, \"&gt;\", $file3 or die \"Cannot open file: $!\";\n\n#Sort the keys, only if needed\nmy @ordered_lines = sort { $lines{$a} &lt;=&gt; $lines{$b} } keys(%lines);\nfor my $key( @ordered_lines ) {\n   print $fho $key;\n}\n\nclose $fho;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 8695634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiBSw.jpg?s=128&g=1", "display_name": "WetCheerios", "link": "https://stackoverflow.com/users/8695634/wetcheerios"}, "edited": false, "score": 0, "creation_date": 1506690696, "post_id": 46489395, "comment_id": 79933569, "body": "This is a subroutine in a program designed to remove the duplicate lines from a txt file I created earlier by grepping filenames, including paths, from another file. The intent of this subroutine is to cut down the duplicates from the txt file and produce an output file without duplications. I should of been more clear in my post, thanks for taking the time to answer!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 125, "user_id": 8695634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiBSw.jpg?s=128&g=1", "display_name": "WetCheerios", "link": "https://stackoverflow.com/users/8695634/wetcheerios"}, "edited": false, "score": 1, "creation_date": 1506690806, "post_id": 46489395, "comment_id": 79933634, "body": "@WetCheerios that doesn&#39;t change anything about this answer. It&#39;s still perfectly valid. You should be able to transfer Dave&#39;s code into a subroutine just fine."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506690912, "post_id": 46489395, "comment_id": 79933691, "body": "@simbabque: Except the Unix filter bit, I guess."}, {"owner": {"reputation": 125, "user_id": 8695634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiBSw.jpg?s=128&g=1", "display_name": "WetCheerios", "link": "https://stackoverflow.com/users/8695634/wetcheerios"}, "edited": false, "score": 0, "creation_date": 1506691250, "post_id": 46489395, "comment_id": 79933889, "body": "Perhaps it is just too elegant for me to grasp. I&#39;ll try to implement the key part of the code using what I have already in place, and remove the parts that are redundant, or worthless, till I get ti to work. Thanks!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506691997, "post_id": 46489395, "comment_id": 79934331, "body": "Redundant! Worthless!! There&#39;s nothing in my code that is redundant or worthless :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1506690139, "creation_date": 1506690139, "answer_id": 46489395, "question_id": 46489105, "link": "https://stackoverflow.com/questions/46489105/recursive-search-in-perl/46489395#46489395", "title": "Recursive search in Perl?", "body": "<p>The secret of checking for uniqueness, is to store the lines you have seen in a hash and only print lines that don't exist in the hash.</p>\n\n<p>Updating your code slightly to use more modern practices (three-arg <code>open()</code>, lexical filehandles) we get this:</p>\n\n<pre><code>my $file2 = \"/tmp/cutdown.txt\";\nmy $file3 = \"/tmp/output.txt\";\n\nopen my $in_fh,  '&lt;', $file2 or die \"Can't open cutdown.txt: $!\\n\";\nopen my $out_fh, '&gt;', $file3 or die \"Can't open output.txt: $!\\n\";\n\nmy %seen;\n\nwhile (&lt;$in_fh&gt;) {\n  print $out_fh unless $seen{$_}++;\n}\n</code></pre>\n\n<p>But I would write this as a Unix filter. Read from <code>STDIN</code> and write to <code>STDOUT</code>. That way, your program is more flexible. The whole code becomes:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %seen;\n\nwhile (&lt;&gt;) {\n  print unless $seen{$_}++;\n}\n</code></pre>\n\n<p>Assuming this is in a file called <code>my_filter</code>, you would call it as:</p>\n\n<pre><code>$ ./my_filter &lt; /tmp/cutdown.txt &gt; /tmp/output.txt\n</code></pre>\n\n<p><strong>Update:</strong> But this doesn't use your <code>$searchString</code> variable. It's not clear to me what that's for.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1506690485, "post_id": 46489407, "comment_id": 79933438, "body": "Also note that nothing about your question is <i>recursive</i>."}, {"owner": {"reputation": 125, "user_id": 8695634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiBSw.jpg?s=128&g=1", "display_name": "WetCheerios", "link": "https://stackoverflow.com/users/8695634/wetcheerios"}, "edited": false, "score": 0, "creation_date": 1506703605, "post_id": 46489407, "comment_id": 79941335, "body": "I&#39;m supremely confident this is an absurdly ignorant question to ask, but how are the filenames being assigned to $fh_in and $fh_out? Again, I am very new to perl, and appreciate the assistance."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 125, "user_id": 8695634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiBSw.jpg?s=128&g=1", "display_name": "WetCheerios", "link": "https://stackoverflow.com/users/8695634/wetcheerios"}, "edited": false, "score": 0, "creation_date": 1506707184, "post_id": 46489407, "comment_id": 79943067, "body": "@WetCheerios through the argument list. I meant to include an example call but it seems I forgot. Sorry."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1506690611, "last_edit_date": 1506690611, "creation_date": 1506690165, "answer_id": 46489407, "question_id": 46489105, "link": "https://stackoverflow.com/questions/46489105/recursive-search-in-perl/46489407#46489407", "title": "Recursive search in Perl?", "body": "<p>You need two things to do that:</p>\n\n<ul>\n<li>a hash to keep track of all the lines you have seen</li>\n<li>a loop reading the input file</li>\n</ul>\n\n<p>This is a simple implementation, called with an input filename and an output filename.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $fh_in, '&lt;', $ARGV[0] or die \"Could not open file '$ARGV[0]': $!\";\nopen my $fh_out, '&lt;', $ARGV[1] or die \"Could not open file '$ARGV[1]': $!\";\n\nmy %seen;\n\nwhile (my $line = &lt;$fh_in&gt;) {\n\n    # check if we have already seen this line\n    if (not $seen{$line}) {\n        print $fh_out $line;\n    }\n\n    # remember this line\n    $seen{$line}++;\n}\n</code></pre>\n\n<p>To test it, I've included it with the DATA handle as well.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %seen;\n\nwhile (my $line = &lt;DATA&gt;) {\n\n    # check if we have already seen this line\n    if (not $seen{$line}) {\n        print $line;\n    }\n\n    # remember this line\n    $seen{$line}++;\n}\n\n__DATA__\nfoo\nbar\nasdf\nfoo\nfoo\nasdfg\nhello world\n</code></pre>\n\n<p>This will print</p>\n\n<pre><code>foo\nbar\nasdf\nasdfg\nhello world\n</code></pre>\n\n<p>Keep in mind that the memory consumption will grow with the file size. It should be fine as long as the text file is smaller than your RAM. Perl's hash memory consumption grows a faster than linear, but your data structure is very flat.</p>\n"}], "owner": {"reputation": 125, "user_id": 8695634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiBSw.jpg?s=128&g=1", "display_name": "WetCheerios", "link": "https://stackoverflow.com/users/8695634/wetcheerios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1506690611, "creation_date": 1506689085, "question_id": 46489105, "link": "https://stackoverflow.com/questions/46489105/recursive-search-in-perl", "title": "Recursive search in Perl?", "body": "<p>I'm incredibly new to Perl, and never have been a phenomenal programmer. I have some successful BVA routines for controlling microprocessor functions, but never anything embedded, or multi-facted. Anyway, my question today is about a boggle I cannot get over when trying to figure out how to remove duplicate lines of text from a text file I created. </p>\n\n<p>The file could have several of the same lines of txt in it, not sequentially placed, which is problematic as I'm practically comparing the file to itself, line by line. So, if the first and third lines are the same, I'll write the first line to a new file, not the third. But when I compare the third line, I'll write it again since the first line is \"forgotten\" by my current code. I'm sure there's a simple way to do this, but I have issue making things simple in code. Here's the code:</p>\n\n<pre><code>my $searchString = pseudo variable \"ideally an iterative search through the source file\";\nmy $file2 = \"/tmp/cutdown.txt\";\nmy $file3 = \"/tmp/output.txt\";\nmy $count = \"0\";\n\nopen (FILE, $file2) || die \"Can't open cutdown.txt \\n\";\nopen (FILE2, \"&gt;$file3\") || die \"Can't open output.txt \\n\";\n    while (&lt;FILE&gt;) {\n        print \"$_\";\n        print \"$searchString\\n\";\n        if (($_ =~ /$searchString/) and ($count == \"0\")) {\n            ++ $count;\n            print FILE2 $_;\n            } else {\n            print \"This isn't working\\n\";\n        }\n    }\nclose (FILE);\n\nclose (FILE2);\n</code></pre>\n\n<p>Excuse the way filehandles and scalars do not match. It is a work in progress... :)</p>\n"}, {"tags": ["perl", "metaprogramming"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506688840, "post_id": 46488999, "comment_id": 79932476, "body": "This smells like an XY problem to me. What are you actually trying to accomplish?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506689036, "post_id": 46488999, "comment_id": 79932569, "body": "How about reading your own source code, much like the error screen of a Mojolicious app does."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 2, "creation_date": 1506690668, "post_id": 46488999, "comment_id": 79933550, "body": "Isn&#39;t that Data::Printer?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1506691012, "post_id": 46488999, "comment_id": 79933744, "body": "@briandfoy nope, Data::Printer does not know variable names."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506691902, "post_id": 46488999, "comment_id": 79934276, "body": "and what about <code>Data::TreeDumper</code> but I suppose that is just a <i>&quot;newer&quot;</i> <code>Data::Dumper</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1506692828, "post_id": 46488999, "comment_id": 79934796, "body": "Yes this feature would be nice to have. I <a href=\"https://github.com/garu/Data-Printer/pull/74\" rel=\"nofollow noreferrer\">started implementing</a> something like this for <code>Data::Printer</code> using <code>PPI</code> two years ago. Damian has recently come up with a more efficient Perl parser in his <code>PPR</code> module, see <a href=\"https://metacpan.org/pod/Data::Dx\" rel=\"nofollow noreferrer\"><code>Data::Dx</code></a>. See also <a href=\"https://stackoverflow.com/q/36361651/2173773\">Getting all arguments passed to a subroutine as a string in Perl</a> for some other links."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506711133, "post_id": 46488999, "comment_id": 79944920, "body": "This is similar to <a href=\"https://stackoverflow.com/questions/36361651/getting-all-arguments-passed-to-a-subroutine-as-a-string-in-perl\">this question</a>, but not quite."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506711726, "post_id": 46488999, "comment_id": 79945202, "body": "Best way might be to get subroutine call opcode (using perlapi func <code>caller_cx</code>???), locate the argument opcodes (through standard opcode tree navigation), and somehow pass them to B::Deparse."}], "answers": [{"comments": [{"owner": {"reputation": 11684, "user_id": 1990570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1hso.png?s=128&g=1", "display_name": "tobyink", "link": "https://stackoverflow.com/users/1990570/tobyink"}, "edited": false, "score": 0, "creation_date": 1603290198, "post_id": 64465466, "comment_id": 113990926, "body": "PS: if you wonder why I save whitespace into <code>@ws</code> and <code>@ws2</code> and then carefully insert it back into the generated code, it&#39;s because whitespace can include linebreaks, and I&#39;m trying to avoid breaking line numbers in error messages."}], "tags": [], "owner": {"reputation": 11684, "user_id": 1990570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1hso.png?s=128&g=1", "display_name": "tobyink", "link": "https://stackoverflow.com/users/1990570/tobyink"}, "is_accepted": false, "score": 1, "last_activity_date": 1603292858, "last_edit_date": 1603292858, "creation_date": 1603289576, "answer_id": 64465466, "question_id": 46488999, "link": "https://stackoverflow.com/questions/46488999/which-modern-post-5-10-trickery-can-be-leveraged-to-make-a-datadumpersimpl/64465466#64465466", "title": "Which modern (post-5.10) trickery can be leveraged to make a Data::Dumper::Simple work-alike work?", "body": "<p>Whitespace in the output doesn't perfectly match your examples, but this is pretty close...</p>\n<pre><code>use v5.14;\nuse strict;\nuse warnings;\n\nBEGIN {\n    package Acme::Hypothetical::Dumper;\n    use Keyword::Simple;\n    use PPR;\n    use Data::Dumper;\n    use B 'perlstring';\n    \n    sub import {\n        my ( $class, $fname ) = ( shift, @_ );\n        $fname ||= 'd';\n        \n        Keyword::Simple::define $fname =&gt; sub {\n            my $code = shift;\n            my ( @ws, @vars, @ws2 );\n            while ( $$code =~ / ^ ((?&amp;PerlOWS)) ((?&amp;PerlTerm)) ((?&amp;PerlOWS)) $PPR::GRAMMAR /x ) {\n                my $len = length( $1 . $2 . $3 );\n                push @ws, $1;\n                push @vars, $2;\n                push @ws2, $3;\n                substr( $$code, 0, $len ) = '';\n                $$code =~ s/ ^ (?&amp;PerlComma) $PPR::GRAMMAR //x;\n            }\n            my $newcode = perlstring( $class ) . '-&gt;d(';\n            while ( @vars ) {\n                my $var = shift @vars;\n                $newcode .= sprintf(\n                    '%s%s,[%s],%s',\n                    shift( @ws ),\n                    perlstring( $var ),\n                    $var,\n                    shift( @ws2 ),\n                );\n            }\n            $newcode .= ');';\n            substr( $$code, 0, 0 ) = $newcode;\n            return;\n        };\n    }\n    \n    our $OUTPUT = \\*STDERR;\n    \n    sub d {\n        my ( $class, @args ) = ( shift, @_ );\n        while ( @args ) {\n            my ( $label, $value ) = splice( @args, 0, 2 );\n            \n            my $method = 'dump_list';\n            if ( $label =~ /^\\$/ ) {\n                $method = 'dump_scalar';\n                $value  = $value-&gt;[0];\n            }\n            elsif ( $label =~ /^\\%/ ) {\n                $method = 'dump_hash';\n            }\n            \n            printf { $OUTPUT } &quot;%s = %s;\\n&quot;, $label, $class-&gt;$method( $value );\n        }\n    }\n    \n    sub dump_scalar {\n        my ( $class, $value ) = ( shift, @_ );\n        local $Data::Dumper::Terse  = 1;\n        local $Data::Dumper::Indent = 0;\n        return Dumper( $value );\n    }\n    \n    sub dump_list {\n        my ( $class, $value ) = ( shift, @_ );\n        my $dumped = $class-&gt;dump_scalar( $value );\n        $dumped =~ s/\\[/(/;\n        $dumped =~ s/\\]/)/;\n        return $dumped;\n    }\n\n    sub dump_hash {\n        my ( $class, $value ) = ( shift, @_ );\n        my $dumped = $class-&gt;dump_scalar( { @$value } );\n        $dumped =~ s/\\{/(/;\n        $dumped =~ s/\\}/)/;\n        return $dumped;\n    }\n\n    $INC{'Acme/Hypothetical/Dumper.pm'} = __FILE__;\n};\n\nuse Acme::Hypothetical::Dumper 'd';\n\nmy %foo = (\n    Me =&gt; 'person',\n    You =&gt; 'beloved one',\n    Them =&gt; 'space aliens',\n);\n\nd %foo, $foo{'Me'}, @foo{qw(You Me)}, %foo{qw(You Me)};\n\nmy @bar = qw(Me You Them);\n\nd @bar, $bar[0], @bar[2, 1], %bar[2, 1];\n\nuse LWP::UserAgent qw();\nmy $ua = LWP::UserAgent-&gt;new;\n\nd $ua-&gt;{ssl_opts}{verify_hostname};\n</code></pre>\n"}], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "answer_count": 1, "score": 11, "last_activity_date": 1603292858, "creation_date": 1506688633, "last_edit_date": 1584095413, "question_id": 46488999, "link": "https://stackoverflow.com/questions/46488999/which-modern-post-5-10-trickery-can-be-leveraged-to-make-a-datadumpersimpl", "title": "Which modern (post-5.10) trickery can be leveraged to make a Data::Dumper::Simple work-alike work?", "body": "<p>Several dumpers exist that can show the names of variables without requiring the programmer to explicitely repeat the name.</p>\n\n<pre><code>\u203a perl -MData::Dumper::Simple -e'my $foo = 42; print Dumper($foo)'\n$foo = 42;\n</code></pre>\n\n<p>The trickery is a source filter (breaks often).</p>\n\n<pre><code>\u203a perl -MDDS -e'my $foo = 42; DumpLex $foo'\n$foo = 42;\n</code></pre>\n\n<p>The trickery is <a href=\"https://metacpan.org/pod/PadWalker\" rel=\"nofollow noreferrer\">PadWalker</a>.</p>\n\n<p>They also work to some extent with variables of other types, but slices or other complex expressions are problematic.</p>\n\n<p>Which modern (post-5.10) trickery can be leveraged to make the following example dumper (as in: data structure viewer, not <code>eval</code>-able code producer) work? The point of emphasis is to always print nice names, to accept multiple expressions, and no need for changing expressions with an extra reference level.</p>\n\n<pre><code>use 5.020; use Syntax::Construct qw(%slice);\nuse strictures;\nuse Acme::Hypothetical::Dumper 'd';\n\nmy %foo = (\n    Me =&gt; 'person',\n    You =&gt; 'beloved one',\n    Them =&gt; 'space aliens',\n);\n\nd %foo, $foo{'Me'}, @foo{qw(You Me)}, %foo{qw(You Me)};\n# %foo = ('Me' =&gt; 'person', 'Them' =&gt; 'space aliens', 'You' =&gt; 'beloved one');\n# $foo{'Me'} = 'person';\n# @foo{qw(You Me)} = ('beloved one', 'person');\n# %foo{qw(You Me)} = ('Me' =&gt; 'person', 'You' =&gt; 'beloved one');\n\nmy @bar = qw(Me You Them);\n\nd @bar, $bar[0], @bar[2, 1], %bar[2, 1];\n# @bar = ('Me', 'You', 'Them');\n# $bar[0] = 'Me';\n# @bar[2, 1] = ('Them', 'You');\n# %bar[2, 1] = (2 =&gt; 'Them', 1 =&gt; 'You');\n\nuse LWP::UserAgent qw();\nmy $ua = LWP::UserAgent-&gt;new;\nd $ua-&gt;{ssl_opts}{verify_hostname};\n# $ua-&gt;{ssl_opts}{verify_hostname} = 1;\n</code></pre>\n"}, {"tags": ["perl", "ubuntu", "apt-get"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1506683556, "post_id": 46487591, "comment_id": 79929533, "body": "What instructions for perl update did you follow?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1506683600, "post_id": 46487591, "comment_id": 79929551, "body": "You <i>removed</i> your system Perl? Ouch. About half your Ubuntu&#39;s core utilities use that Perl. Some of them depend on specific module versions. <b>Never mess with the system Perl</b>. If you need a newer Perl in a production environment, compile it and put it somewhere else like you did, and then make the program that should use it aware of it, either via shebang or environment. If you need it locally, look into <i>plenv</i> or <a href=\"https://perlbrew.pl\" rel=\"nofollow noreferrer\"><i>perlbrew</i></a>. But never ever mess with the system Perl."}, {"owner": {"reputation": 11, "user_id": 8694981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df12285e6044b13e50bb22a3998056f?s=128&d=identicon&r=PG&f=1", "display_name": "Susie", "link": "https://stackoverflow.com/users/8694981/susie"}, "edited": false, "score": 0, "creation_date": 1506684989, "post_id": 46487591, "comment_id": 79930356, "body": "I would like to replace the perl because some program call /usr/bin/perl, but it needs perl module that is not installed in the system path. And Our system is a computer cluster, I don&#39;t want to install perl module in each note. The workload is too big."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1506686170, "post_id": 46487591, "comment_id": 79930992, "body": "It is too much work to install a module, but it&#39;s feasible to compile a new Perl <i>and</i> install the module? That is a bit surprising (even more so assuming the cluster is administered via centralized configuration management.) How did you install the software requiring /usr/bin/perl with a specific module \u2013 via APT, or manually?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8694981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df12285e6044b13e50bb22a3998056f?s=128&d=identicon&r=PG&f=1", "display_name": "Susie", "link": "https://stackoverflow.com/users/8694981/susie"}, "edited": false, "score": 0, "creation_date": 1506685265, "post_id": 46487750, "comment_id": 79930501, "body": "I have not used perlbrew yet. I should study it later. Is there a way to make different perl use the same module?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11, "user_id": 8694981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df12285e6044b13e50bb22a3998056f?s=128&d=identicon&r=PG&f=1", "display_name": "Susie", "link": "https://stackoverflow.com/users/8694981/susie"}, "edited": false, "score": 0, "creation_date": 1506686763, "post_id": 46487750, "comment_id": 79931337, "body": "@Susie if you install them in a common directory, then yes. You can also look at local::lib and bring the module with your application."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 1, "last_activity_date": 1506684034, "creation_date": 1506684034, "answer_id": 46487750, "question_id": 46487591, "link": "https://stackoverflow.com/questions/46487591/why-does-can-not-locate-debconf-log-pm-in-inc-issue-i-just-modified-usr-b/46487750#46487750", "title": "Why does &quot;Can not locate Debconf / Log.pm in @INC&quot; issue? I just modified /usr/bin/perl into the perl that I installed", "body": "<p>Each Perl is compiled with a few <code>@INC</code> directories where it will search for modules. The error message explains which directories are searched:</p>\n\n<pre><code>@INC contains:\n/share/Software/perl-5.26.0/lib/site_perl/5.26.0/x86_64-linux\n/share/Software/perl-5.26.0/lib/site_perl/5.26.0\n/share/Software/perl-5.26.0/lib/5.26.0/x86_64-linux\n/share/Software/perl-5.26.0/lib/5.26.0\n</code></pre>\n\n<p>This does not include the directories where APT has installed modules for Perl, e.g. under <code>/usr/lib</code>.</p>\n\n<p>However, adding those directories will not help. Some modules are compiled for a specific Perl versions. You cannot upgrade Perl in-place, but would have to reinstall all modules. Since APT contains pre-built modules you cannot use modules installed via APT with a custom Perl.</p>\n\n<p>Therefore: leave the system Perl because Ubuntu depends on its proper functioning. It is safe to install another Perl alongside, e.g. via <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\"><code>perlbrew</code></a>. It is safe to add a custom Perl to your PATH, e.g. via <code>perlbrew switch</code>. This will also fix a couple of additional environment variables that are required for a second Perl to work.</p>\n"}], "owner": {"reputation": 11, "user_id": 8694981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df12285e6044b13e50bb22a3998056f?s=128&d=identicon&r=PG&f=1", "display_name": "Susie", "link": "https://stackoverflow.com/users/8694981/susie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1600, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506684450, "creation_date": 1506683354, "last_edit_date": 1506684450, "question_id": 46487591, "link": "https://stackoverflow.com/questions/46487591/why-does-can-not-locate-debconf-log-pm-in-inc-issue-i-just-modified-usr-b", "title": "Why does &quot;Can not locate Debconf / Log.pm in @INC&quot; issue? I just modified /usr/bin/perl into the perl that I installed", "body": "<p>The system is Ubuntu. There is a perl in /usr/bin/, and is version is 5.18.2.\nIn this state, I tried to install many software by \"sudo apt-get install **\" and it was OK.</p>\n\n<p>But a few days before, I installed a new perl in an other \ndirectory(/share/Software/perl-5.26.0/bin/perl). And I remove the original perl then link the new perl to /use/bin/. The commands are:</p>\n\n<pre><code>sudo mv /usr/bin/perl /usr/bin/old/; (the old/ directory was make before)\nsudo ln -s /share/Software/perl-5.26.0/bin/perl /usr/bin/perl\n</code></pre>\n\n<p>After that, I got the error informations when I install system software by apt-get. The error likes below:</p>\n\n<pre><code>1 not fully installed or removed.\nAfter this operation, 0 B of additional disk space will be used.\nDo you want to continue? [Y/n] y\ndebconf: Perl may be unconfigured (Can't locate Debconf/Log.pm in @INC (you may need to install the Debconf::Log module) (@INC contains: /share/Software/perl-5.26.0/lib/site_perl/5.26.0/x86_64-linux /share/Software/perl-5.26.0/lib/site_perl/5.26.0 /share/Software/perl-5.26.0/lib/5.26.0/x86_64-linux /share/Software/perl-5.26.0/lib/5.26.0) at (eval 1) line 4.\nBEGIN failed--compilation aborted at (eval 1) line 4.\n) -- aborting\nSetting up doc-base (0.10.5) ...\nCan't locate Debian/DocBase/Common.pm in @INC (you may need to install the Debian::DocBase::Common module) (@INC contains: /share/Software/perl-5.26.0/lib/site_perl/5.26.0/x86_64-linux /share/Software/perl-5.26.0/lib/site_perl/5.26.0 /share/Software/perl-5.26.0/lib/5.26.0/x86_64-linux /share/Software/perl-5.26.0/lib/5.26.0) at /usr/sbin/install-docs line 8.\nBEGIN failed--compilation aborted at /usr/sbin/install-docs line 8.\n</code></pre>\n\n<p>Some software can be installed successfully, but some can not be.\nIf I put perl back to the previous, it is normal again. (That must be!)</p>\n\n<p>Module \"Debconf::Log\" is located at /share/Software/perl-5.26.0/lib/perl5, but I can not find Debian/DocBase/Common.pm. \nPath of /share/Software/perl-5.26.0/lib/perl5 is inside @INC of perl. Why it can not find it?</p>\n\n<p>I even think that it is the problem when perl installed. I get below error when perl installed: (\"make test\")</p>\n\n<pre><code>Useless use of single ref constructor in void context at op/gv.t line 1191.\nIn file included from ../../../../perl.h:5644:0,\n                 from ExtTest.xs:2:\nExtTest.c: In function \u2018XS_ExtTest_constant\u2019:\n../../../../embed.h:691:40: warning: \u2018pv\u2019 may be used uninitialized in this function [-Wmaybe-uninitialized]\n #define sv_setpvn(a,b,c) Perl_sv_setpvn(aTHX_ a,b,c)\n                                        ^\nExtTest.xs:420:14: note: \u2018pv\u2019 was declared here\n  const char *pv;\n              ^\nIn file included from ../../../../perl.h:5644:0,\n                 from ExtTest.xs:2:\n../../../../embed.h:691:40: warning: \u2018iv\u2019 may be used uninitialized in this function [-Wmaybe-uninitialized]\n #define sv_setpvn(a,b,c) Perl_sv_setpvn(aTHX_ a,b,c)\n                                        ^\nExtTest.xs:418:6: note: \u2018iv\u2019 was declared here\n  IV  iv;\n      ^\nIn file included from ../../../../perl.h:5644:0,\n                 from ExtTest.xs:2:\nExtTest.c: In function \u2018XS_ExtTest_constant\u2019:\n../../../../embed.h:691:40: warning: \u2018pv\u2019 may be used uninitialized in this function [-Wmaybe-uninitialized]\n #define sv_setpvn(a,b,c) Perl_sv_setpvn(aTHX_ a,b,c)\n                                        ^\nExtTest.xs:194:14: note: \u2018pv\u2019 was declared here\n  const char *pv;\n              ^\nIn file included from ../../../../perl.h:5644:0,\n                 from ExtTest.xs:2:\nExtTest.c: In function \u2018XS_ExtTest_constant\u2019:\n../../../../embed.h:675:42: warning: \u2018iv\u2019 may be used uninitialized in this function [-Wmaybe-uninitialized]\n #define sv_setiv_mg(a,b) Perl_sv_setiv_mg(aTHX_ a,b)\n                                          ^\nExtTest.xs:166:6: note: \u2018iv\u2019 was declared here\n  IV  iv;\n      ^\n#   Failed test 'cp updated mtime'\n#   at t/cp.t line 26.\n#     '38'\n#         &lt;=\n#     '1'\n# Looks like you failed 1 test of 1.\nRequest to remove file /share/Software/perl-5.26.0-src/cpan/File-Temp/suffixOEXZVr.dat could not be completed since it is not there!\n at t/mktemp.t line 75.\n# parser guessed wrong encoding expected 'CP1252' got 'UTF-8'\n\n#   Failed test 'File 1 atime set correctly'\n#   at t/utime.t line 113.\n#     '37.684463262558'\n#         &lt;\n#     '0.1'\n#   Failed test 'File 1 mtime set correctly'\n#   at t/utime.t line 114.\n#     '37.684463262558'\n#         &lt;\n#     '0.1'\n#   Failed test 'File 2 atime set correctly'\n#   at t/utime.t line 118.\n#     '37.684463262558'\n#         &lt;\n#     '0.1'\n#   Failed test 'File 2 mtime set correctly'\n#   at t/utime.t line 119.\n#     '37.684463262558'\n#         &lt;\n#     '0.1'\n# Looks like you failed 4 tests of 18.\nCan't open copy1-87150: Permission denied at ../lib/File/Copy.t line 326.\n# Looks like your test exited with 13 just after 366.\nFailed 3 tests out of 2449, 99.88% okay.\n### Since not all tests were successful, you may want to run some of\n### them individually and examine any diagnostic messages they produce.\n### See the INSTALL document's section on \"make test\".\n### You have a good chance to get more information by running\n###   ./perl harness\n### in the 't' directory since most (&gt;=80%) of the tests succeeded.\n### You may have to set your dynamic library search path,\n### LD_LIBRARY_PATH, to point to the build directory:\n###   setenv LD_LIBRARY_PATH `pwd`:$LD_LIBRARY_PATH; cd t; ./perl harness\n###   LD_LIBRARY_PATH=`pwd`:$LD_LIBRARY_PATH; export LD_LIBRARY_PATH; cd t; ./perl harness\n###   export LD_LIBRARY_PATH=`pwd`:$LD_LIBRARY_PATH; cd t; ./perl harness\n### for csh-style shells, like tcsh; or for traditional/modern\n### Bourne-style shells, like bash, ksh, and zsh, respectively.\nmake: *** [test] Error 1\n</code></pre>\n"}, {"tags": ["perl", "system", "stdout", "stderr", "backticks"], "answers": [{"tags": [], "owner": {"reputation": 995, "user_id": 1760065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kWfhw.jpg?s=128&g=1", "display_name": "HateStackOverFlow", "link": "https://stackoverflow.com/users/1760065/hatestackoverflow"}, "is_accepted": false, "score": 0, "last_activity_date": 1557820440, "last_edit_date": 1557820440, "creation_date": 1506679670, "answer_id": 46486568, "question_id": 46486567, "link": "https://stackoverflow.com/questions/46486567/get-both-stdout-and-stderr-of-a-program-or-script-to-a-variable-in-perl/46486568#46486568", "title": "Get both STDOUT and STDERR of a program or script to a variable in perl", "body": "<p>To get both STDOUT and STDERR into a variable use following code snippet using backticks (``).</p>\n\n<p>Make sure <strong>2>&amp;1</strong> is places at the end of your command, to redirect STDERR in to STDOUT.</p>\n\n<p><strong>When wrong command provided,</strong> </p>\n\n<pre><code>my $Temp_return;\n$Temp_return = `lse 2&gt;&amp;1`;\nprint \"return = \" . $Temp_return . \"\\n\";\n</code></pre>\n\n<p><strong>Error OutPut is,</strong></p>\n\n<pre><code>return = 'lse' is not recognized as an internal or external command, operable program or batch file.\n</code></pre>\n\n<p>For  correct command you will get the result accordingly.</p>\n\n<p>As an additional information different methods for executing the command in Perl are.</p>\n\n<p><strong>system()  :</strong> If you want to execute a command and not interested in reading console output of the executed command.</p>\n\n<p><strong>exec      :</strong> When you don't want to return to the calling Perl script. use same.</p>\n\n<p><strong>backticks :</strong> When you want to store /read the console output of the command into a Perl variable. Initial I mistakenly thought, required to use Single cores('') instead, for backticks (``) and get confused, because its almost similar to Single cores(''), please give attention.</p>\n\n<p><strong>open()    :</strong> When you want to pipe the command (as input or output) to your script.</p>\n\n<p>Hope  it could be helpful for you..... :)</p>\n\n<p>BR,\nJerry James</p>\n"}], "owner": {"reputation": 995, "user_id": 1760065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kWfhw.jpg?s=128&g=1", "display_name": "HateStackOverFlow", "link": "https://stackoverflow.com/users/1760065/hatestackoverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 714, "favorite_count": 1, "closed_date": 1506682107, "answer_count": 1, "score": 0, "last_activity_date": 1557820440, "creation_date": 1506679670, "last_edit_date": 1506988171, "question_id": 46486567, "link": "https://stackoverflow.com/questions/46486567/get-both-stdout-and-stderr-of-a-program-or-script-to-a-variable-in-perl", "closed_reason": "Duplicate", "title": "Get both STDOUT and STDERR of a program or script to a variable in perl", "body": "<p>I did lot of google to redirect the both STDOUT and STDERR of a program to a variable in perl, Initially i tried using both <strong>open</strong> and <strong>backticks</strong>, but failed to capture Error signal to the variable.</p>\n\n<p>I am posting this question because Now I got the solution and hope it may helps others..  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "edited": false, "score": 1, "creation_date": 1506677361, "post_id": 46485756, "comment_id": 79926176, "body": "Sorry about that. The code is pretty long so I&#39;m not sure how much of it I should&#39;ve added. I&#39;ve edited it now with the chunk that&#39;s causing the problem."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1506677682, "post_id": 46485756, "comment_id": 79926386, "body": "I strongly assume the errors comes from the <code>for($final_value; ...</code> part. Maybe you want to use a <code>while</code> loop instead."}, {"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506677791, "post_id": 46485756, "comment_id": 79926457, "body": "@amon Yes you&#39;re right. I changed it to a while loop and it&#39;s working now. Thanks a lot. Perhaps it was because I didn&#39;t add the third part (the iteration?)?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1506677864, "post_id": 46485756, "comment_id": 79926498, "body": "The errors definitely come from the <code>for($final_value</code> loop"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506678101, "post_id": 46485756, "comment_id": 79926645, "body": "@amon you were first, write an answer?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506678838, "post_id": 46485756, "comment_id": 79927053, "body": "@GerhardBarnard - if <code>$final_value</code> were undefined, you&#39;d get a different error: <code>Use of uninitialized value $final_value in numeric gt (&gt;)</code>."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506678974, "post_id": 46485756, "comment_id": 79927127, "body": "@Sobrique true.. I answered that comment before the post was edited, though you&#39;re correct. and comment removed."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "edited": false, "score": 0, "creation_date": 1506679046, "post_id": 46486286, "comment_id": 79927171, "body": "Thanks for breaking it down and explaining it."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 8, "last_activity_date": 1506699832, "last_edit_date": 1506699832, "creation_date": 1506678744, "answer_id": 46486286, "question_id": 46485756, "link": "https://stackoverflow.com/questions/46485756/useless-use-of-private-variable-in-void-context-perl/46486286#46486286", "title": "Useless use of private variable in void context Perl", "body": "<p>The  syntax is wrong on your 'for' loop.</p>\n\n<p>Perl expects C style, which means the first 'statement' should initialize, the second test, and the third increment.</p>\n\n<p>Your 'initialize' isn't doing anything: you're just using the variable in a void context - which is what it's warning you about:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $final_value = 10;\n\nfor ( $final_value; $final_value &gt; 0; ) {\n   $final_value -= 1;\n}\n</code></pre>\n\n<p>If you initialize <code>$final_value</code> or just leave it blank, it doesn't give you the same error. </p>\n\n<pre><code>for ( ; $final_value &gt; 0; ) {\n</code></pre>\n\n<p>At this point, you might as well use a while loop. </p>\n\n<p>Alternatively, you can go in the other direction:</p>\n\n<pre><code>for ( my $final_value = 10; $final_value &gt; 0; $final_value -= 1) {\n    print $final_value - 1;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for ( my $final_value = 10; $final_value--; ) {\n    print $final_value;\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 46486286, "answer_count": 1, "score": 0, "last_activity_date": 1506699832, "creation_date": 1506676940, "last_edit_date": 1506677407, "question_id": 46485756, "link": "https://stackoverflow.com/questions/46485756/useless-use-of-private-variable-in-void-context-perl", "title": "Useless use of private variable in void context Perl", "body": "<p>I am getting the error</p>\n\n<pre><code>Useless use of private variable in void context \n</code></pre>\n\n<p>and it is at the line that contains a <code>}</code> only. However, I'm assuming it refers to the line before, which is <code>$final_value -= 4;</code>. I enabled diagnostics to get more info and it returned saying <code>You did something without a side effect in a context that does nothing with the return value</code>\nBut, if I remove the line <code>$final_value -= 4;</code>, the error stops coming, but my program doesn't work anymore. Can I just ignore this and continue ? </p>\n\n<p>Thanks.</p>\n\n<p>Edit- here's a part of the code</p>\n\n<pre><code>elsif($size_of_array == 2){\n        if($array[0] &gt; $array[1] &amp;&amp; $array[0] &gt;= 4){\n            my $final_value = $array[0];\n            for($final_value; $final_value &gt; 0;){\n                $line =~ s/(.*?)$/\"$1\\n\" . ( q{ } x $final_value . \"}\")/e;\n                $final_value -= 4;          \n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506675753, "post_id": 46485272, "comment_id": 79925103, "body": "Your <code>$dbh</code> object is undefined. Are you sure you connected to the database? Pleae <a href=\"https://stackoverflow.com/posts/46485272/edit\">edit</a> your question and include the part that does <code>my $dbh = DBI-&gt;connect</code>. Or better, include the full program. Also take a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to format code in your question."}, {"owner": {"reputation": 11, "user_id": 8689310, "user_type": "registered", "profile_image": "https://graph.facebook.com/1500752016699279/picture?type=large", "display_name": "Nitin Alety", "link": "https://stackoverflow.com/users/8689310/nitin-alety"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506680258, "post_id": 46485272, "comment_id": 79927798, "body": "yes connected to db  .. updated the code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506689417, "post_id": 46485272, "comment_id": 79932780, "body": "Is this really the code that produces this error? It seems unlikely to me. A call to <code>connect()</code> will return either a database handle or <code>undef</code>. Returning <code>undef</code> would trigger your <code>die()</code> call, so you must be getting a defined database handle back from <code>connect()</code>. I suspect there is something else going in parts of the code that you have removed to simplify your example."}], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "is_accepted": false, "score": 1, "last_activity_date": 1506676123, "creation_date": 1506676123, "answer_id": 46485501, "question_id": 46485272, "link": "https://stackoverflow.com/questions/46485272/how-to-print-the-names-of-tables-of-database-using-perl-scripting-using-unix/46485501#46485501", "title": "how to print the names of tables of database using perl scripting using unix", "body": "<p>Looks like you not connected to DB.</p>\n\n<p>Read <a href=\"https://metacpan.org/pod/DBI#tables\" rel=\"nofollow noreferrer\">DBI</a> documentation and try something like this:</p>\n\n<pre><code>use DBI;\nuse Data::Dumper;\n\nmy $dbh = DBI-&gt;connect($data_source, $username, $password)\n          or die $DBI::errstr;\n\nmy @names = $dbh-&gt;tables( $catalog, $schema, $table, $type );\nprint Dumper @names;\n</code></pre>\n\n<p>$dbh->tables; without args is deprecated</p>\n"}], "owner": {"reputation": 11, "user_id": 8689310, "user_type": "registered", "profile_image": "https://graph.facebook.com/1500752016699279/picture?type=large", "display_name": "Nitin Alety", "link": "https://stackoverflow.com/users/8689310/nitin-alety"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506677048, "creation_date": 1506675338, "last_edit_date": 1506677048, "question_id": 46485272, "link": "https://stackoverflow.com/questions/46485272/how-to-print-the-names-of-tables-of-database-using-perl-scripting-using-unix", "title": "how to print the names of tables of database using perl scripting using unix", "body": "<p>How to print the names of tables of database using Perl scripting using unix. Connected to DB using DBI module.</p>\n\n<p>I tried scripting using </p>\n\n<pre><code>     my $driver= \"Oracle\";\n     my $dsn = \"DBI:$driver:sid=as;host=asdsa\";\n     my $dbh = DBI-&gt;connect($dsn, \"a\", \"b\") || die( $DBI::errstr . \"\\n\" );\n     my $notables = $dbh-&gt;tables();\n     print \"No of tables : $notables\" ;\n</code></pre>\n\n<p>Getting error:</p>\n\n<blockquote>\n  <p>Can't call method \"tables\" on an undefined value at hello.pl line 16.</p>\n</blockquote>\n\n<p>Please help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506675611, "post_id": 46485251, "comment_id": 79925020, "body": "Please <a href=\"https://stackoverflow.com/posts/46485251/edit\">edit</a> your question and include your <i>hi.txt</i> file. Also make sure your code always uses <code>use strict</code> and <code>use warnings</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506688277, "post_id": 46485251, "comment_id": 79932110, "body": "I&#39;ve edited your question to improve the formatting of the code. You&#39;re welcome, but please do it yourself in future. If you are asking a large number of people to read and understand your code, then it is only polite to make that as easy for them as possible."}], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 5279526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/584e0f8d11c0a5826c0d803f6cc5ac26?s=128&d=identicon&r=PG&f=1", "display_name": "jayaganthan", "link": "https://stackoverflow.com/users/5279526/jayaganthan"}, "is_accepted": false, "score": 0, "last_activity_date": 1506678288, "creation_date": 1506678288, "answer_id": 46486161, "question_id": 46485251, "link": "https://stackoverflow.com/questions/46485251/how-to-count-the-specific-word-inputted-in-stdin-inside-the-text-perl/46486161#46486161", "title": "how to count the specific word inputted in STDIN inside the text (PERL)", "body": "<p>I believe you want to get a word from the user and count the number of occurrences of that word in the entire text file.</p>\n\n<p>You can try something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(WRITE,'&gt;','log.txt') or die \"Unable to open the file\";\nmy $string = &lt;&lt;END;\nfoo baz bar\nbaz bar bar foo\nfoo foo bar bar baz baz\nbaz baz baz\nEND\n\nprint WRITE $string;\nclose WRITE;\n\nopen(READ, '&lt;','log.txt') or die \"unable to open the file\";\n\nmy $search = &lt;STDIN&gt;;\nchomp $search;\nmy $count = 0;\n\nwhile ( my $line = &lt;READ&gt; ) {\n    chomp($line);\n    my @words = split(' ',$line);\n    foreach my $word(@words){\n        $count++ if($word eq $search);\n    }\n}\nclose READ;\nprint \"Search string: $search, Count: $count\",\"\\n\"; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1506689037, "creation_date": 1506689037, "answer_id": 46489091, "question_id": 46485251, "link": "https://stackoverflow.com/questions/46485251/how-to-count-the-specific-word-inputted-in-stdin-inside-the-text-perl/46489091#46489091", "title": "how to count the specific word inputted in STDIN inside the text (PERL)", "body": "<p>You have a problem here. You are using the variable <code>$word</code> for three different things.</p>\n\n<p>You are using it as the word that you are searching for:</p>\n\n<pre><code>$word = &lt;STDIN&gt;;\n</code></pre>\n\n<p>You are using it to store each word on a line read from your file:</p>\n\n<pre><code>foreach $word (split(' ', $line)) {\n</code></pre>\n\n<p>And you are using it to contain the keys you are reading from your hash at the end.</p>\n\n<pre><code>foreach $word (sort keys %count) {\n</code></pre>\n\n<p>In particular, the second use is interfering with the first. When you are reading data from your file, you have no way of knowing what word you are looking for.</p>\n\n<p>If you are looking for a single word, there is no need for a hash to store the counts. I'd write your code like this:</p>\n\n<pre><code># ALWAYS INCLUDE THESE\nuse strict;\nuse warnings;\n\nuse feature 'say';\n\n# Renamed your variable, it's a file handle, not a file.\n# Also, include $! in error message so we know what really\n# went wrong.\nopen my $fh, '&lt;', 'C:\\Users\\yukari\\Desktop\\hi.txt'\n    or die \"Can't open file: $!\";\n\nprint \"Search the word:\";\nmy $search_word = &lt;STDIN&gt;;\n\nprint \"\\n\";\n\n# Scalar variable to store the count\nmy $count;\n\n# Remove the $line variable and use Perl's default variable $_\n# instead. This makes the code *far* cleaner.\nwhile ( &lt;$file&gt; ) {\n    chomp;\n\n    # By default, split splits $_ on whitespace\n    foreach $word (split) {\n        # Skip words we don't care about\n        next if $word ne $search_word;\n        # Increment the counter\n        $count++;\n    }\n}\n\nsay \"$search_word appeared $word times\";\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5401403, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/76da9452a06e5e852146dae4de27325a?s=128&d=identicon&r=PG&f=1", "display_name": "Candy083", "link": "https://stackoverflow.com/users/5401403/candy083"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506689037, "creation_date": 1506675256, "last_edit_date": 1506688194, "question_id": 46485251, "link": "https://stackoverflow.com/questions/46485251/how-to-count-the-specific-word-inputted-in-stdin-inside-the-text-perl", "title": "how to count the specific word inputted in STDIN inside the text (PERL)", "body": "<p>how to count the specific word inputted in STDIN inside the text (PERL)\nmy output just count all the owrds found inside the text . but i need the specific word i inputted inside the STDIN</p>\n\n<pre><code>open my($file), '&lt;','C:\\Users\\yukari\\Desktop\\hi.txt' or die \"not exist\";\n\nprint \"Search the word:\";\n$word = &lt;STDIN&gt;;\n\nprint \"\\n\";\n\nwhile ( my $line = &lt;$file&gt; ) {\n    chomp($line);\n\n    # print $line; \n\n    foreach $word (split(' ', $line)) {\n        $count{$word}++;\n    }\n}\n\nforeach $word (sort keys %count) {\n    print \"$word: $count{$word}\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506675529, "post_id": 46484836, "comment_id": 79924982, "body": "I don&#39;t think doing that is a good idea. Those placeholders are part of the URL. In a way they are arguments (or params), but they are not <i>form</i> parameters, and that&#39;s what validation is intended for imho. That said, I <i>think</i> you can feed the validation object an arbitrary hash instead of relying on on its built-in magic that fetches GET and POST params."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506691637, "post_id": 46484836, "comment_id": 79934109, "body": "@simbabque: I think, we should take into account <b>form</b>. The query may be <b>json</b> or <b>xml</b> and in any case data will be accessed by <code>$v-&gt;param(...)</code>. The form validation is particular case. This behavior should not be hardcoded and must relay on handlers. Which called based on <code>Content-Type</code> header. I think about all: URL, query, and POST body, as user&#39;s input"}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1506690649, "post_id": 46489516, "comment_id": 79933536, "body": "Please <a href=\"http://meta.stackoverflow.com/tags/link-only-answers/info\">avoid link only answers</a>. Answers that are &quot;barely more than a link to an external site\u201d <a href=\"http://stackoverflow.com/help/deleted-answers\">may be deleted</a>."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1506691749, "post_id": 46489516, "comment_id": 79934174, "body": "There is not problem with query. Question is about placeholder. which are not available to validation object"}, {"owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "edited": false, "score": 0, "creation_date": 1506691887, "post_id": 46489516, "comment_id": 79934262, "body": "OpenAPI supports placeholder parameters validation too. Thanks, have fixed the answer."}], "tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": 0, "last_activity_date": 1506692119, "last_edit_date": 1506692119, "creation_date": 1506690522, "answer_id": 46489516, "question_id": 46484836, "link": "https://stackoverflow.com/questions/46484836/how-to-validate-placeholders/46489516#46489516", "title": "How to validate placeholders?", "body": "<p>Usually I use <a href=\"https://www.openapis.org\" rel=\"nofollow noreferrer\">OpenAPI</a> plugin and describe API using this format. Placeholder parameters also will be validated through schema (just like Query/JSON/Form/XML parameters).</p>\n\n<p>OpenAPI validator is based on JSON Schema Validator and is rich. Supports min, max, patterns, enums, deep structures etc.</p>\n\n<p><a href=\"http://thorsen.pm/perl/programming/2015/07/05/mojolicious-swagger2.html\" rel=\"nofollow noreferrer\">Read article about Mojolicious and OpenAPI</a>.</p>\n\n<p>Here is <a href=\"https://github.com/akzhan/perl-YourCompany-Project/blob/master/config/api.json\" rel=\"nofollow noreferrer\">example of validation schema</a> and <a href=\"https://github.com/akzhan/perl-YourCompany-Project/blob/master/lib/YourCompany/App/Api/Project.pm\" rel=\"nofollow noreferrer\">controller</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1506693867, "creation_date": 1506693867, "answer_id": 46490519, "question_id": 46484836, "link": "https://stackoverflow.com/questions/46484836/how-to-validate-placeholders/46490519#46490519", "title": "How to validate placeholders?", "body": "<p>I have found this solution: put placeholder into <code>-&gt;input</code></p>\n\n<pre><code># GET /tariffs/:tariff_id\nmy $v =  $c-&gt;validation;\n\n# Solution: how to make placeholder available to validation:\nmy $placeholders =  $self-&gt;match-&gt;stack-&gt;[-1];\n@{ $v-&gt;input }{ keys %$placeholders } =  values %$placeholders;\n\n# etc.\n$v-&gt;required( tariff_id =&gt;  [ data_exists =&gt;  $self, '!Tariff' ] );\nreturn ...   if $v-&gt;has_error;\n\nmy $tariff =  $v-&gt;param( 'tariff_id' );\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1506693867, "creation_date": 1506673959, "last_edit_date": 1506674824, "question_id": 46484836, "link": "https://stackoverflow.com/questions/46484836/how-to-validate-placeholders", "title": "How to validate placeholders?", "body": "<p>The <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Tutorial#Placeholders\" rel=\"nofollow noreferrer\">Placeholders</a> are available in Mojolicious.</p>\n\n<p>We can access them via <code>$c-&gt;param( 'placeholder_name' )</code> as other input data from user <code>$c-&gt;param( 'post_or_query_param' )</code></p>\n\n<p>But when we access parameters after validation we use:</p>\n\n<pre><code>$c-&gt;validation-&gt;param( 'post_or_query_param' )\n</code></pre>\n\n<p>The <code>undef</code> is returned if <code>post_or_query_param</code> did not pass validation.</p>\n\n<p>We can validate placeholders partially via <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Tutorial#Restrictive-placeholders\" rel=\"nofollow noreferrer\"><code>Restrective placeholders</code></a> but still access them as <code>$c-&gt;param( 'placeholder_name' )</code> (because placeholder is not available to validation object)</p>\n\n<p>This often lead programmer to think that in this place of code not validated data is used because validated data is available as: <code>$v-&gt;param( 'xxx' )</code></p>\n\n<p>The placeholders is same input from user as query or post data.</p>\n\n<p><strong>How to make placeholders available to validation object?</strong> and access user's input in same way as other validated data: </p>\n\n<pre><code>$v-&gt;param( 'validated parameter name' );\n</code></pre>\n"}, {"tags": ["arrays", "perl", "byte"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 5, "creation_date": 1506666718, "post_id": 46482900, "comment_id": 79920352, "body": "What will you use this size for? Why would you \u201cparse\u201d the array if the JSON was already decoded into an array? It feels like there&#39;s a lot of context missing in this question. Ideally, please <a href=\"https://stackoverflow.com/posts/46482900/edit\">edit</a> the question to include some code that illustrates what you are trying to do."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1506666764, "post_id": 46482900, "comment_id": 79920379, "body": "<a href=\"http://search.cpan.org/~nwclark/Devel-Size-0.81/lib/Devel/Size.pm\" rel=\"nofollow noreferrer\">Devel::Size</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 6564988, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Q9b-VzaJOu4/AAAAAAAAAAI/AAAAAAAAKoE/wiaWs8z_Uzo/photo.jpg?sz=128", "display_name": "Subhashree R", "link": "https://stackoverflow.com/users/6564988/subhashree-r"}, "edited": false, "score": 0, "creation_date": 1506667161, "post_id": 46483042, "comment_id": 79920568, "body": "If I use use Devel::Size qw(total_size); - It is showing me error. Can&#39;t locate Devel/Size.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .)"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 27, "user_id": 6564988, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Q9b-VzaJOu4/AAAAAAAAAAI/AAAAAAAAKoE/wiaWs8z_Uzo/photo.jpg?sz=128", "display_name": "Subhashree R", "link": "https://stackoverflow.com/users/6564988/subhashree-r"}, "edited": false, "score": 0, "creation_date": 1506667227, "post_id": 46483042, "comment_id": 79920597, "body": "@SubhashreeR Ok, read the answer again, you need to install the Devel::Size module from CPAN. There is a link in the bottom of the answer."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 27, "user_id": 6564988, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Q9b-VzaJOu4/AAAAAAAAAAI/AAAAAAAAKoE/wiaWs8z_Uzo/photo.jpg?sz=128", "display_name": "Subhashree R", "link": "https://stackoverflow.com/users/6564988/subhashree-r"}, "edited": false, "score": 0, "creation_date": 1506667601, "post_id": 46483042, "comment_id": 79920742, "body": "@SubhashreeR see the edited answer, I posted a link that will help you to install modules if you are unsure how to."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1506676142, "post_id": 46483042, "comment_id": 79925370, "body": "@GerhardBarnard Just out of curiosity (and because I don&#39;t want to install D::S right now): what&#39;s the output of your code sample? How many bytes is it?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1506676243, "post_id": 46483042, "comment_id": 79925437, "body": "Oops, I found it in the example link you provided:  it&#39;s 765 bytes. Sorry for the noise."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1506676892, "post_id": 46483042, "comment_id": 79925868, "body": "@PerlDuck Yes. My output when I ran it is the same as the linked answer 765 bytes."}, {"owner": {"reputation": 27, "user_id": 6564988, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Q9b-VzaJOu4/AAAAAAAAAAI/AAAAAAAAKoE/wiaWs8z_Uzo/photo.jpg?sz=128", "display_name": "Subhashree R", "link": "https://stackoverflow.com/users/6564988/subhashree-r"}, "edited": false, "score": 0, "creation_date": 1506706550, "post_id": 46483042, "comment_id": 79942697, "body": "@GerhardBarnard Thanks for your suggestion. Referred your link and used it, it is working fine."}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": true, "score": 2, "last_activity_date": 1506668644, "last_edit_date": 1506668644, "creation_date": 1506666958, "answer_id": 46483042, "question_id": 46482900, "link": "https://stackoverflow.com/questions/46482900/in-perl-how-to-know-the-array-size-in-bytes/46483042#46483042", "title": "In Perl - How to know the array size in bytes?", "body": "<p>From this <a href=\"https://stackoverflow.com/questions/27290816/how-to-get-size-of-array-in-bytes-in-perl\">example</a></p>\n\n<pre><code>use strict;\nuse warnings;\nuse Devel::Size qw(total_size);\n\nmy @arr = (1, 2, 3, \"Foo\", \"Bar\", \"Baz\", [4, 5, 6], {xyz =&gt; 2048});\n\nprint \"Size: \", total_size(\\@arr), \" bytes.\\n\";\n</code></pre>\n\n<p>You would therefore need <a href=\"http://search.cpan.org/~nwclark/Devel-Size-0.81/lib/Devel/Size.pm\" rel=\"nofollow noreferrer\">Devel::Size</a></p>\n\n<p>If you are unsure on how to install modules from CPAN, go to <a href=\"http://www.cpan.org/modules/INSTALL.html\" rel=\"nofollow noreferrer\">this link</a></p>\n"}], "owner": {"reputation": 27, "user_id": 6564988, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Q9b-VzaJOu4/AAAAAAAAAAI/AAAAAAAAKoE/wiaWs8z_Uzo/photo.jpg?sz=128", "display_name": "Subhashree R", "link": "https://stackoverflow.com/users/6564988/subhashree-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "closed_date": 1506710882, "accepted_answer_id": 46483042, "answer_count": 1, "score": 0, "last_activity_date": 1506668644, "creation_date": 1506666370, "question_id": 46482900, "link": "https://stackoverflow.com/questions/46482900/in-perl-how-to-know-the-array-size-in-bytes", "closed_reason": "Duplicate", "title": "In Perl - How to know the array size in bytes?", "body": "<p>I Have stored a decoded json in an array. I need to know the array size in bytes, so that I can parse it. Please suggest me a way to know the size of an array in perl. </p>\n\n<p>Note: It is not the number of elements in array. I want size in bytes or mb</p>\n"}, {"tags": ["perl", "fastcgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506671508, "post_id": 46478301, "comment_id": 79922718, "body": "If you want to do cleanup, you could do it in an <code>END</code> block I guess."}, {"owner": {"reputation": 211, "user_id": 8538502, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fc1c647e75547c790215a6fe24c9e5a2?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik2", "link": "https://stackoverflow.com/users/8538502/henrik2"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506685595, "post_id": 46478301, "comment_id": 79930676, "body": "@simbabque Are you sure the END block will be executed when the server trashes the Perl interpreter instance and all its running scripts?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506686079, "post_id": 46478301, "comment_id": 79930949, "body": "I&#39;m not sure. It might. Try it."}], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 8538502, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fc1c647e75547c790215a6fe24c9e5a2?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik2", "link": "https://stackoverflow.com/users/8538502/henrik2"}, "edited": false, "score": 0, "creation_date": 1506684645, "post_id": 46478989, "comment_id": 79930159, "body": "Can _create_fcgi_request fail and return undef? Is the expr $Ext_Request-&gt;Accept &gt;= 0 false if $Ext_Request is undef?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 211, "user_id": 8538502, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fc1c647e75547c790215a6fe24c9e5a2?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik2", "link": "https://stackoverflow.com/users/8538502/henrik2"}, "edited": false, "score": 0, "creation_date": 1506701522, "post_id": 46478989, "comment_id": 79940261, "body": "It can throw an exception, but it can&#39;t return undef. /// No, that would be a fatal runtime error."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1506640853, "last_edit_date": 1506640853, "creation_date": 1506636378, "answer_id": 46478989, "question_id": 46478301, "link": "https://stackoverflow.com/questions/46478301/perl-fast-cgi-do-you-ever-exit-the-loop/46478989#46478989", "title": "Perl fast CGI : do you ever exit the loop?", "body": "<p>Not normally, but it is possible.</p>\n\n<p><code>CGI::Fast::new</code> is:</p>\n\n<pre><code>sub new {\n    my ($self, $initializer, @param) = @_;\n\n    if ( ! defined $initializer ) {\n        $Ext_Request ||= _create_fcgi_request( $in_fh,$out_fh,$err_fh );\n        return undef unless $Ext_Request-&gt;Accept &gt;= 0;\n    }\n    CGI-&gt;_reset_globals;\n    $self-&gt;_setup_symbols(@CGI::SAVED_SYMBOLS) if @CGI::SAVED_SYMBOLS;\n    return $CGI::Q = $self-&gt;SUPER::new($initializer, @param);\n}\n</code></pre>\n\n<p>As you can see, it can return false if <code>$Ext_Request-&gt;Accept</code> (where <code>$Ext_Request</code> is an FGCI::Request object) returns a negative number.</p>\n\n<p>Drilling down gets us to a one of two C functions called <code>OS_Accept</code>, one for unix, and one for Windows. They are primarily wrappers for the <code>accept</code> system call.</p>\n\n<p><code>accept</code> primarily fail if it's interrupted by a signal or if the process runs out of resources (sockets or memory). Most other reasons would be the result of a bug in the code.</p>\n"}], "owner": {"reputation": 211, "user_id": 8538502, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fc1c647e75547c790215a6fe24c9e5a2?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik2", "link": "https://stackoverflow.com/users/8538502/henrik2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 46478989, "answer_count": 1, "score": 4, "last_activity_date": 1506640853, "creation_date": 1506632732, "question_id": 46478301, "link": "https://stackoverflow.com/questions/46478301/perl-fast-cgi-do-you-ever-exit-the-loop", "title": "Perl fast CGI : do you ever exit the loop?", "body": "<p>Consider the standard Perl fast CGI script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse CGI::Fast;\n\n# Init handler\n\nwhile (my $cgi = CGI::Fast-&gt;new) \n{\n# Handle request\n}\n\n# Do you ever get here?\n</code></pre>\n\n<p>Do I ever exit the loop and get a chance to do some cleanup?</p>\n\n<p>What happens when the server throws out the test.fpl script because the time limit has been exceeded?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1506623966, "post_id": 46475923, "comment_id": 79907461, "body": "You&#39;re correct, and warning pops as <code>undef</code> value is compared to <code>1</code>. Since such construct doesn&#39;t make sense, you can <code>until (-e  $finFlag) {..}</code> or what @zdim wrote."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506625006, "post_id": 46475923, "comment_id": 79908026, "body": "<code>-e</code> returns a true value if the file exists, and <code>undef</code> if an error occurred (incl the file not existing)."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1506702091, "last_edit_date": 1506702091, "creation_date": 1506623315, "answer_id": 46476019, "question_id": 46475923, "link": "https://stackoverflow.com/questions/46475923/warning-message-using-the-e-operator-as-the-condition-of-a-while-loop/46476019#46476019", "title": "Warning Message using the -e operator as the condition of a WHILE loop", "body": "<p>The whole point of \"true/false\" return of many operators in Perl, <code>-e</code> certainly included, is that it need not be tested any further.  You just need</p>\n\n<pre><code>while (not -e $finFlag) { ... }\n</code></pre>\n\n<hr>\n\n<p>The <code>!=</code> <a href=\"http://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"nofollow noreferrer\">equality operator</a> compares its arguments <em>numerically</em> thus the warning when it gets <code>undef</code> to work with (or <code>''</code>, or any string). Which is precisely what happens when the file does not exist since <code>-e</code> then indeed returns <code>undef</code>, like other filetests do.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1506625318, "creation_date": 1506625318, "answer_id": 46476519, "question_id": 46475923, "link": "https://stackoverflow.com/questions/46475923/warning-message-using-the-e-operator-as-the-condition-of-a-while-loop/46476519#46476519", "title": "Warning Message using the -e operator as the condition of a WHILE loop", "body": "<p><code>-e</code> returns a true value if the file exists, and <code>undef</code> if an error occurred (incl the file not existing).</p>\n\n<p>You are using <code>undef</code> in a numerical comparison, thus the warning. Use boolean arithmetic instead.</p>\n\n<p>Fixed:</p>\n\n<pre><code>while (!-e $finFlag) {\n    sleep(120);\n    print(PROGRESSFILE \"Waiting for the Fin Nightly to finish \" . getPCTime5() . \"\\n\"); \n} \n</code></pre>\n\n<p>However, that will loop forever if the file exists, but something prevents you from getting information about it (such as a permission problem). The following solves that problem:</p>\n\n<pre><code>while (1) {\n    last if -e $finFlag;\n    die(\"Can't stat \\\"$finFlag\\\": $!\\n\") if !$!{ENOENT};\n\n    sleep(120);\n    print(PROGRESSFILE \"Waiting for the Fin Nightly to finish \" . getPCTime5() . \"\\n\"); \n} \n</code></pre>\n\n<p>Slightly clearer:</p>\n\n<pre><code>while (1) {\n    last if stat($finFlag);\n    die(\"Can't stat \\\"$finFlag\\\": $!\\n\") if !$!{ENOENT};\n\n    sleep(120);\n    print(PROGRESSFILE \"Waiting for the Fin Nightly to finish \" . getPCTime5() . \"\\n\"); \n} \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8691491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe832b9a66166376650b8bcbd1c2994?s=128&d=identicon&r=PG&f=1", "display_name": "toliver", "link": "https://stackoverflow.com/users/8691491/toliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1506702091, "creation_date": 1506622969, "question_id": 46475923, "link": "https://stackoverflow.com/questions/46475923/warning-message-using-the-e-operator-as-the-condition-of-a-while-loop", "title": "Warning Message using the -e operator as the condition of a WHILE loop", "body": "<p>Using warnings and strict.  ActivePerl (vendor restricted) version 5.8.0 Build 806</p>\n\n<p>Getting this warning message: Use of uninitialized value in numeric ne (!=) at D:\\NIGHTLY\\SamJudNighlty_ABS.pl line 589 (code snippet at bottom).</p>\n\n<p>Actually multiple lines receive this warning as this construct is used frequently in the code.  Inherited this code and just trying to clean it up.  Not sure if this is an issue, but wanted to follow up on it.</p>\n\n<p>From what I have researched: \"-e returns 1 for true and '' for false, or the undefined value if the file doesn't exist. </p>\n\n<pre><code>587 $finFlag = $NightlyFlagPath . \"\\\\FIN\\\\DONE\";\n588        \n589 while((-e  $finFlag) != 1)\n590 {\n591   sleep(120);\n592   print(PROGRESSFILE \"\\nWaiting for the Fin Nightly to finish\" . getPCTime5()); \n593 } \n</code></pre>\n"}, {"tags": ["windows", "perl", "unix", "cmd", "stanford-nlp"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506625606, "post_id": 46475881, "comment_id": 79908312, "body": "You are using a sh/bash command, but you aren&#39;t using <code>sh</code> or <code>bash</code>. Write commands for the shell you use, or use the shell for which you write your commands."}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1506646324, "post_id": 46475881, "comment_id": 79915418, "body": "It&#39;s unfortunate that this was marked as &quot;an exact duplicate&quot; without providing a link to that dupe.  But, one of the interesting aspects of the DOS &quot;shell&quot; is that you usually have to reverse the quotes compared to UNIX.  Try something like <code>perl -ne &quot;print &#39;neg\\t&#39; . $_&quot; &lt;  rt-polarity.neg.utf8 &gt; rt-polarity.neg.utf8.tsv </code>."}], "owner": {"reputation": 2051, "user_id": 1521562, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/db83411b2a7593e682053a4235b52bbc?s=128&d=identicon&r=PG", "display_name": "bendecko", "link": "https://stackoverflow.com/users/1521562/bendecko"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1506623210, "answer_count": 0, "score": 0, "last_activity_date": 1506668464, "creation_date": 1506622812, "last_edit_date": 1506668464, "question_id": 46475881, "link": "https://stackoverflow.com/questions/46475881/using-perl-and-unix-commands-on-windows", "closed_reason": "Duplicate", "title": "Using Perl and Unix commands on Windows", "body": "<p>I'm try to get Stanford's Classifier running on Windows.</p>\n\n<p>Working through the Sentiment Classifier:</p>\n\n<p><a href=\"https://nlp.stanford.edu/wiki/Software/Classifier/Sentiment\" rel=\"nofollow noreferrer\">https://nlp.stanford.edu/wiki/Software/Classifier/Sentiment</a></p>\n\n<p>I've downloaded the dataset, and installed <code>iconv</code>, <code>head</code>, <code>tail</code></p>\n\n<p><a href=\"http://gnuwin32.sourceforge.net/packages/coreutils.htm\" rel=\"nofollow noreferrer\">http://gnuwin32.sourceforge.net/packages/coreutils.htm</a></p>\n\n<p>And got Perl running from ActivePerl.</p>\n\n<p>However, the Perl command given in the instructions doesn't work on Windows.</p>\n\n<pre><code>perl -ne 'print \"neg\\t\" . $_' &lt;  rt-polarity.neg.utf8 &gt; rt-polarity.neg.utf8.tsv\n</code></pre>\n\n<p>Gives an error:</p>\n\n<blockquote>\n  <p>Can't find string terminator \"'\" anywhere before EOF at -e line 1.</p>\n</blockquote>\n\n<p>Which I'm guessing is some difference in use of the apostrophe char between what Windows uses and Unix does.</p>\n\n<p>What should I use in Windows to convert this file with Perl to .tsv?</p>\n"}, {"tags": ["arrays", "perl", "awk", "foreach", "equivalent"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1506619227, "post_id": 46474344, "comment_id": 79904852, "body": "Alternative to an <code>END</code> block in a Perl one-liner: the <a href=\"https://metacpan.org/pod/distribution/perlsecret/lib/perlsecret.pod#Eskimo-greeting\" rel=\"nofollow noreferrer\">eskimo greeting operator</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1506621813, "post_id": 46474506, "comment_id": 79906264, "body": "Thank for  your help. Please see my update. I want to know is there is a way to speed up perl script."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1506625941, "post_id": 46474506, "comment_id": 79908488, "body": "@GerCas Updated.  I&#39;ll look into it more and will update if I find improvements"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1507049945, "last_edit_date": 1507049945, "creation_date": 1506617632, "answer_id": 46474506, "question_id": 46474344, "link": "https://stackoverflow.com/questions/46474344/load-field-1-and-print-at-the-end-equivalent-awk-in-perl/46474506#46474506", "title": "Load field 1 and print at the END{} equivalent awk in Perl", "body": "<p>Equivalent to your <code>awk</code> line</p>\n\n<pre><code>perl -lanE'$a{$F[0]}++; END { say \"$_ =&gt; $a{$_}\" for keys %a }' file\n</code></pre>\n\n<p>By <code>-a</code> the line is broken into fields in <code>@F</code> so you want <code>$F[0]</code> as a key in a hash <code>%a</code> with the value of the counter handled by <code>++</code>. The hash is iterated over keys and printed in the <code>END</code> block.</p>\n\n<p>However, the efficiency comparison comes up. One way to improve this is to not fetch all fields on the line, done with <code>-a</code>, since only the first one is needed.  Between two ways that come to mind</p>\n\n<pre><code>perl -nE'$a{(/(\\S+)/)[0]}++; END { ... }' \n</code></pre>\n\n<p>and </p>\n\n<pre><code>perl -nE'$a{(split \" \", $_, 2)[0]}++; END { ... }'\n</code></pre>\n\n<p>the <code>split</code> is significantly faster with its <code>3.63s</code> vs <code>4.41s</code> for regex,  on a 8M-line file.  </p>\n\n<p>This is still behind <code>1.99s</code> for your <code>awk</code> line.  So it seems that awk <em>is</em> faster for this task.</p>\n\n<hr>\n\n<p>Summary of my timings for an 8-million line file (average of a few runs)</p>\n\n<pre>\nawk  (question)  1.99s\nperl (split)     3.63s\nperl (regex)     4.41s\nperl (like awk)  5.61s\n</pre>\n\n<p>These timings vary over runs by a few tens of miliseconds (a few 0.01s).</p>\n"}, {"comments": [{"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1506621819, "post_id": 46474612, "comment_id": 79906269, "body": "Thank for  your help. Please see my update. I want to know is there is a way to speed up perl script."}, {"owner": {"reputation": 14904, "user_id": 3161993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/56e8M.png?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/3161993/akshay"}, "reply_to_user": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1506622392, "post_id": 46474612, "comment_id": 79906566, "body": "@GerCas can&#39;t you use awk, in your environment ? these are hashes, I really can&#39;t compare perl and awk at my end, if you ask me, I prefer GNU awk most of the time"}, {"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1506623296, "post_id": 46474612, "comment_id": 79907065, "body": "Hi Akshay, sometimes awk is not an option, so trying to look for an option. Actually I know that awk is very fast :)."}, {"owner": {"reputation": 14904, "user_id": 3161993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/56e8M.png?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/3161993/akshay"}, "reply_to_user": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1506624236, "post_id": 46474612, "comment_id": 79907603, "body": "I think, @EdMorton probably have better idea than anyone here, why awk is faster compare to perl, I am not sure, I guess perl could be spending more time in splitting field <code>(-a)</code>, there is an interesting post which I found on search,  see <a href=\"https://libertysys.com.au/2011/03/an-interesting-performance-difference-between-perl-and-awk/\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 1, "creation_date": 1506625483, "post_id": 46474612, "comment_id": 79908241, "body": "Many thanks Akshay for the solution provided and link shared."}], "tags": [], "owner": {"reputation": 14904, "user_id": 3161993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/56e8M.png?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/3161993/akshay"}, "is_accepted": false, "score": -1, "last_activity_date": 1506617998, "creation_date": 1506617998, "answer_id": 46474612, "question_id": 46474344, "link": "https://stackoverflow.com/questions/46474344/load-field-1-and-print-at-the-end-equivalent-awk-in-perl/46474612#46474612", "title": "Load field 1 and print at the END{} equivalent awk in Perl", "body": "<p>You can go through <a href=\"http://perldoc.perl.org/a2p.html\" rel=\"nofollow noreferrer\"><code>a2p</code></a></p>\n\n<pre><code>$ cat file\n1\n1\n2\n3\n3\n3\n\n$ perl -lane '$a{$F[0]}++;END{foreach my $k (keys %a){ print \"$k --&gt; $a{$k}\" } }' file\n1 --&gt; 2\n2 --&gt; 1\n3 --&gt; 3\n\n$ awk '{a[$1]++} END{ for(i in a){print i\" --&gt; \"a[i]} }' file\n1 --&gt; 2\n2 --&gt; 1\n3 --&gt; 3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1506968784, "post_id": 46482625, "comment_id": 80017614, "body": "Hi Ken, more than 7 minutes with this perl version, awk 1:37 min. It seems awk is faster. Thanks for your help."}, {"owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "reply_to_user": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1506988863, "post_id": 46482625, "comment_id": 80025321, "body": "I guess the file you are reading makes quite a difference! When I tested, the Perl line was only slightly (seconds) slower than Awk."}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 0, "last_activity_date": 1506664953, "creation_date": 1506664953, "answer_id": 46482625, "question_id": 46474344, "link": "https://stackoverflow.com/questions/46474344/load-field-1-and-print-at-the-end-equivalent-awk-in-perl/46482625#46482625", "title": "Load field 1 and print at the END{} equivalent awk in Perl", "body": "<p>This destructive method is the fastest I came up with:</p>\n\n<pre><code>perl -lne '$_=~s/\\s.*//; $a{$_}++; END{foreach $i (keys %a){print \"$i--&gt;$a{$i}\"}}' file\n</code></pre>\n\n<p>However, it still is not quite as fast as awk.</p>\n"}, {"comments": [{"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1507075751, "post_id": 46535163, "comment_id": 80064450, "body": "Hi Ken. My input file has one column of 34.5 million lines with values of 16 digits each one. Maybe that is the reason."}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 1, "last_activity_date": 1506987554, "creation_date": 1506987554, "answer_id": 46535163, "question_id": 46474344, "link": "https://stackoverflow.com/questions/46474344/load-field-1-and-print-at-the-end-equivalent-awk-in-perl/46535163#46535163", "title": "Load field 1 and print at the END{} equivalent awk in Perl", "body": "<p>Input file would obviously make a difference, but Perl 5.22.1 was slightly faster than Awk 4.1.3 below on my 33.5 million line test file (12.23 vs 12.52 seconds).</p>\n\n<pre><code>schumack@daddyo2 10-02T18:25:17 54&gt; wc -l listbig\n33521910 listbig\n\nschumack@daddyo2 10-02T18:25:58 55&gt; /usr/bin/time -f '%E %P' awk '{a[$1]++} END{ for(i in a){print i\"--&gt;\"a[i]} }' listbig\n1--&gt;9434310\n2--&gt;1605840\n3--&gt;9635040\n4--&gt;5218980\n5--&gt;4416060\n7--&gt;802920\n8--&gt;802920\n9--&gt;802920\n12--&gt;802920\n0:12.52 99%\n\nschumack@daddyo2 10-02T18:26:17 56&gt; /usr/bin/time -f '%E %P' perl -lne '$_=~s/^(\\S+) .*/$1/; $a{$_}++; END{foreach $i (keys %a){print \"$i--&gt;$a{$i}\"}}' listbig \n1--&gt;9434310\n5--&gt;4416060\n2--&gt;1605840\n3--&gt;9635040\n12--&gt;802920\n8--&gt;802920\n9--&gt;802920\n4--&gt;5218980\n7--&gt;802920\n0:12.23 99%\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1507188943, "post_id": 46557113, "comment_id": 80113245, "body": "Excellent Ken :) Many thanks for your extra help and tests. With your Perl script I get 14.44 seconds and with awk 14.19 seconds in a Dell machine using  Cygwin and Ubuntu built-in feature on Windows 10, Core I7, 8 gb ram. But it takes 2 min in awk and more than 7 with Perl in the original machine I tested that is Cygwin on Windows 7, Hp core i7, 16 gb ram hehehe"}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": true, "score": 1, "last_activity_date": 1507091893, "creation_date": 1507091893, "answer_id": 46557113, "question_id": 46474344, "link": "https://stackoverflow.com/questions/46474344/load-field-1-and-print-at-the-end-equivalent-awk-in-perl/46557113#46557113", "title": "Load field 1 and print at the END{} equivalent awk in Perl", "body": "<p>Okay, Ger, one more time :-) \nI upgraded my Perl to the latest version available to me and made a file like what you described (34.5 million lines each having a 16 digit integer in the 1st and only column):</p>\n\n<pre><code>schumack@linux2 52&gt; wc -l listbig\n34521909 listbig\n\nschumack@linux2 53&gt; head -3 listbig\n1111111111111111\n3333333333333333\n4444444444444444\n</code></pre>\n\n<p>I then ran a specialized Perl line (works for this file but is not the same as the awk line). As before I timed the runs using /usr/bin/time: </p>\n\n<pre><code>schumack@linux2 54&gt; /usr/bin/time -f '%E %P' /usr/local/bin/perl -lne 'chomp; $a{$_}++; END{foreach $i (keys %a){print \"$i--&gt;$a{$i}\"}}' listbig\n5555555555555555--&gt;4547796\n1111111111111111--&gt;9715747\n9999999999999999--&gt;826872\n3333333333333333--&gt;9922465\n1212121212121212--&gt;826872\n4444444444444444--&gt;5374669\n2222222222222222--&gt;1653744\n8888888888888888--&gt;826872\n7777777777777777--&gt;826872\n0:12.20 99%\n\nschumack@linux2 55&gt; /usr/bin/time -f '%E %P' awk '{a[$1]++} END{ for(i in a){print i\"--&gt;\"a[i]} }' listbig\n1111111111111111--&gt;9715747\n2222222222222222--&gt;1653744\n3333333333333333--&gt;9922465\n4444444444444444--&gt;5374669\n5555555555555555--&gt;4547796\n1212121212121212--&gt;826872\n7777777777777777--&gt;826872\n8888888888888888--&gt;826872\n9999999999999999--&gt;826872\n0:12.61 99%\n</code></pre>\n\n<p>Both perl and awk ran very fast on the 34.5 million line file and were within a half second of each other.\nCurious as what type of machine / OS / Perl version you are currently using. I tested on an ASUS laptop that is about 4 years old, has Intel I7. I am using Ubuntu 16.04 and Perl v5.26.1</p>\n\n<p>Anyways, thanks for the reason to play around with Perl!</p>\n\n<p>Have fun,\nKen</p>\n"}], "owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 46557113, "answer_count": 5, "score": 2, "last_activity_date": 1507091893, "creation_date": 1506617060, "last_edit_date": 1506621712, "question_id": 46474344, "link": "https://stackoverflow.com/questions/46474344/load-field-1-and-print-at-the-end-equivalent-awk-in-perl", "title": "Load field 1 and print at the END{} equivalent awk in Perl", "body": "<p>I have the following AWK script that counts occurences of elements in field 1 and when finishes to read entire file, prints each element and the times of repetitions.</p>\n\n<pre><code>awk '{a[$1]++} END{ for(i in a){print i\"--&gt;\"a[i]} }' file\n</code></pre>\n\n<p>I'm very new with perl and I don't know how would be the equivalent. What I have so far is below, but it has incorrect syntax. Thanks in advance.</p>\n\n<pre><code>perl -lane '$a{$F[1]}++ END{foreach $a {print $a} }' file\n</code></pre>\n\n<p><strong>____________________________________UPDATE</strong>\n<strong>______________________________________</strong></p>\n\n<p>Hi, thanks both for your answers. The real input file has 34 million lines and the execution time is 3 or more times faster between awk and Perl. Is awk faster than perl?</p>\n\n<pre><code>awk '{a[$1]++}END{for(i in a){print i\"--&gt;\"a[i]}}' file #--&gt; 2:45 aprox\nperl -lane '$a{$F[0]}++;END{foreach my $k (keys %a){ print \"$k --&gt; $a{$k}\" } }' file #--&gt; 7 min aprox\nperl -lanE'$a{$F[0]}++; END { say \"$_ =&gt; $a{$_}\" for keys %a }' file # --&gt;9 min aprox\n</code></pre>\n"}, {"tags": ["perl", "moose"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1506616972, "post_id": 46473892, "comment_id": 79903546, "body": "Lower case names are intended for pragmas though."}, {"owner": {"reputation": 79, "user_id": 3424992, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007335999152/picture?type=large", "display_name": "Anop Singh Ranawat", "link": "https://stackoverflow.com/users/3424992/anop-singh-ranawat"}, "edited": false, "score": 0, "creation_date": 1506705831, "post_id": 46473892, "comment_id": 79942331, "body": "Dear pete,  thanks for response. but how to call or use class (Point, Point3D) from outside or another perl code, how to make object for class&#39;s."}], "tags": [], "owner": {"reputation": 21519, "user_id": 639716, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NN38X.png?s=128&g=1", "display_name": "pete", "link": "https://stackoverflow.com/users/639716/pete"}, "is_accepted": false, "score": 4, "last_activity_date": 1506716670, "last_edit_date": 1506716670, "creation_date": 1506615497, "answer_id": 46473892, "question_id": 46473219, "link": "https://stackoverflow.com/questions/46473219/in-perl-how-do-i-put-multiple-class-in-a-single-pm-file/46473892#46473892", "title": "In Perl, how do I put multiple class in a single .pm file", "body": "<p>Since the one-file-per-class guideline is merely there to help you organize your own code, you can name the file anything you want.</p>\n\n<p>That said, <strong>there's a good reason that guideline exists.</strong>  </p>\n\n<p>There's an interesting discussion on this topic over at <a href=\"http://www.perlmonks.org/?node_id=932351\" rel=\"nofollow noreferrer\">perlmonks</a> that you may want to review.  </p>\n\n<p>I would advise against multiple classes per file, unless you're putting them in a common namespace.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>{\n    package Geometrics;\n\n    class Point {\n        ...\n    }\n\n    class Point3D {\n        ...\n    }\n}\n</code></pre>\n\n<p>Should you go that route, you could name your <code>.pm</code> file accordingly (i.e., <code>Geometrics.pm</code>).</p>\n\n<p>Failing that, assuming your classes are related by theme (as they seem to be), perhaps something like <code>Points.pm</code> would be appropriate.</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>As for how to \"call or use class (Point, Point3D) from outside\" or how to instantiate classes defined in your module:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># import the package\nuse Geometrics qw(Point Point3d);\n# or\n# use Geometrics ('Point' 'Point3d');\n\n\n# instantiate a Point\nmy $point = Point-&gt;new();\n\n# instantiate a Point3D\nmy $point3d = Point3D-&gt;new();\n</code></pre>\n\n<p>You could also import the package by doing either:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># import the package but do not import any symbols from it\nuse Geometrics ();\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># While you can import the package this way, please do not do so.\n# import the package with ALL symbols\nuse Geometrics;\n</code></pre>\n\n<p>but there are going to be some caveats to doing so...</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># importing the package with no symbols\nuse Geometrics ();\n\n# means instantiation of objects must be fully-qualified\nmy $point = Geometrics::Point-&gt;new();\nmy $point3d = Geometrics::Point3D-&gt;new();\n</code></pre>\n\n<pre class=\"lang-perl prettyprint-override\"><code># importing the package with ALL symbols\nuse Geometrics;\n\n# makes instantiation of objects simpler\nmy $point = Point-&gt;new();\nmy $point3d = Point3D-&gt;new();\n\n# BUT because all symbols are imported with the package,\n# overwriting of symbols can occur too easily.\n# If I were to import the package Foo this way (which has the symbol Bar defined)\nuse Foo;\n\n# and then import the package Baz this way (which also has the symbol Bar defined)\nuse Baz;\n\n# I no longer have access to Foo:Bar as that has been over-written by Baz::Bar\n# because I imported the packages with ALL symbols by default.\n# The lesson here is to code defensively and:\n#     only import those symbols you intend to use, or\n#     don't import any symbols and fully-qualify everything.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1419, "user_id": 204275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c1d7c7d7d48017ce55936bff356688?s=128&d=identicon&r=PG", "display_name": "HerbN", "link": "https://stackoverflow.com/users/204275/herbn"}, "is_accepted": false, "score": 0, "last_activity_date": 1506702633, "creation_date": 1506702633, "answer_id": 46493225, "question_id": 46473219, "link": "https://stackoverflow.com/questions/46473219/in-perl-how-do-i-put-multiple-class-in-a-single-pm-file/46493225#46493225", "title": "In Perl, how do I put multiple class in a single .pm file", "body": "<p>As a general rule do not put multiple classes in one file.</p>\n\n<p>The exception I am used to seeing most often is related classes, especially helper or sub classes of the top level class.  In those cases they have always been grouped into a single package and the file name being the package name.</p>\n"}], "owner": {"reputation": 79, "user_id": 3424992, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007335999152/picture?type=large", "display_name": "Anop Singh Ranawat", "link": "https://stackoverflow.com/users/3424992/anop-singh-ranawat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1506716670, "creation_date": 1506613178, "last_edit_date": 1506637628, "question_id": 46473219, "link": "https://stackoverflow.com/questions/46473219/in-perl-how-do-i-put-multiple-class-in-a-single-pm-file", "title": "In Perl, how do I put multiple class in a single .pm file", "body": "<p>I have a question of Perl <a href=\"https://metacpan.org/pod/MooseX%3A%3ADeclare\" rel=\"nofollow noreferrer\">MooseX::Declare</a>. I want to put multiple classes in a single .pm file. How do I make this file, and what will the filename be because that .pm file has multiple classes?</p>\n\n<p>For example</p>\n\n<pre><code>use MooseX::Declare;\nclass Point {\n\n   has 'x' =&gt; ( isa =&gt; 'Num', is =&gt; 'rw' );\n   has 'y' =&gt; ( isa =&gt; 'Num', is =&gt; 'rw' );\n\n   method clear {\n      $self-&gt;x(0);\n      $self-&gt;y(0);\n   }\n   method set_to( Num $x, Num $y) {\n      $self-&gt;x($x);\n      $self-&gt;y($y);\n   }\n}\n\n\nclass Point3D {\n\n   has 'z' =&gt; ( isa =&gt; 'Num', is =&gt; 'rw' );\n\n   method clear {\n      $self-&gt;z(0);\n   }\n   method set_to( Num $x, Num $y, Num $z) {\n      $self-&gt;x($x);\n      $self-&gt;y($y);\n      $self-&gt;z($z);\n   }\n}\n</code></pre>\n\n<p>How do I save this pm file -- by first class name or second class name?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1506611297, "post_id": 46472215, "comment_id": 79900045, "body": "Interesting how you managed to explain this without talking about <i>references</i> at all. I do like the arrows <code>-&gt;</code> to make the nested refs more obvious, especially for beginners."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 5, "last_activity_date": 1506610403, "creation_date": 1506610403, "answer_id": 46472215, "question_id": 46472037, "link": "https://stackoverflow.com/questions/46472037/in-perl-how-do-sub-hash-tables-work/46472215#46472215", "title": "In Perl how do sub hash tables work?", "body": "<p>The code</p>\n\n<pre><code>$summary01{$myHash{'ConfigID'}}{'ConfigID'} = $myHash{'ConfigID'}; \n</code></pre>\n\n<p>can be rewritten as</p>\n\n<pre><code>my $configID = $myHash{ConfigID};\n$summary01{$configID}{ConfigID} = $configID;\n</code></pre>\n\n<p>I.e. assuming the <code>$configID = 123</code>, this would add an entry to <code>%summary01</code> like</p>\n\n<pre><code>%summary01 = (\n    ...,\n    123 =&gt; { ..., ConfigID =&gt; 123 },\n    ...,\n);\n</code></pre>\n\n<p>The <code>}}{</code> sequence has no special meaning. This is just a lookup in a nested hash <code>$summary{ ... }{ ... }</code> where one of the hash keys is another hash lookup <code>$myHash{ConfigID}</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "is_accepted": false, "score": 1, "last_activity_date": 1506681108, "creation_date": 1506681108, "answer_id": 46486953, "question_id": 46472037, "link": "https://stackoverflow.com/questions/46472037/in-perl-how-do-sub-hash-tables-work/46486953#46486953", "title": "In Perl how do sub hash tables work?", "body": "<p>Lets break <code>$summary01{$myHash{'ConfigID'}}{'ConfigID'} = $myHash{'ConfigID'};</code> down into something more long-winded:</p>\n\n<pre><code># Observation: %$summary01 is a hash of hashes\nmy $foo = $myHash{'ConfigID'};  # $foo is a scalar value\nmy $bar = $summary01{$foo};     # $bar is a pointer, a copy of a reference\n$bar{'ConfigID'} = $foo;        # .... and this is the actual assignment\n</code></pre>\n"}], "owner": {"reputation": 2647, "user_id": 110701, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Xk3Zw.jpg?s=128&g=1", "display_name": "codingguy3000", "link": "https://stackoverflow.com/users/110701/codingguy3000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 46472215, "answer_count": 2, "score": 0, "last_activity_date": 1506681108, "creation_date": 1506609931, "question_id": 46472037, "link": "https://stackoverflow.com/questions/46472037/in-perl-how-do-sub-hash-tables-work", "title": "In Perl how do sub hash tables work?", "body": "<p>I'm working on some Perl code and I'm trying to gain understanding as to what Perl is doing. </p>\n\n<p>I'm stuck on the following hash table code:</p>\n\n<pre><code>$summary01{$myHash{'ConfigID'}}{'ConfigID'} = $myHash{'ConfigID'}; \n</code></pre>\n\n<p>The variable <code>$myHash</code> contains a single database record. </p>\n\n<p>This code is setting storing a summary of data from a sql query. </p>\n\n<p>can someone explain what the <code>}}{</code> code is doing? Is this a multiple dimension hash table? </p>\n\n<p>Thanks,</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1506611380, "post_id": 46471749, "comment_id": 79900102, "body": "I think this is a very good question and I don&#39;t understand why anyone would downvote this. The perldoc does not do a good job of explaining why this is useful, and I&#39;ve thought about this exact question myself every time I thought <i>hey I could use a <code>continue</code> here... or maybe not</i>."}], "answers": [{"comments": [{"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506609676, "post_id": 46471851, "comment_id": 79898913, "body": "no , I dont think so when using continue with a BLOCK it behaves differently , please read this <a href=\"https://perldoc.perl.org/functions/continue.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/continue.html</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 1, "creation_date": 1506611552, "post_id": 46471851, "comment_id": 79900226, "body": "@Vicky actually the docs say pretty much the same, just in different words. mob is spot-on, and has a good example. They just didn&#39;t explain about <code>last</code> and <code>redo</code>, but the answer is sound. I like the reference of real code on CPAN."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506611905, "post_id": 46471851, "comment_id": 79900494, "body": "What if I remove the &quot;next&quot; statement from the second code block of mob , code in continue block will still execute right ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506612067, "post_id": 46471851, "comment_id": 79900604, "body": "<code>perl -pe&#39;...&#39;</code> uses <code>continue</code> too: <code>LINE: while (defined($_ = readline ARGV)) {     ... } continue {     die &quot;-p destination: $!\\n&quot; unless print $_; }</code> (I wish it didn&#39;t, though.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506621639, "post_id": 46471851, "comment_id": 79906177, "body": "@Vicky: If you remove the second <code>next</code> statement then it will fall through and call <code>do_something_else</code>. As it stands it will skip that call and go straight to the <code>continue</code> block."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 6, "last_activity_date": 1506612497, "last_edit_date": 1506612497, "creation_date": 1506609427, "answer_id": 46471851, "question_id": 46471749, "link": "https://stackoverflow.com/questions/46471749/is-there-an-advantage-to-using-a-continue-block-with-a-while-loop-in-perl/46471851#46471851", "title": "Is there an advantage to using a continue block with a while loop in Perl?", "body": "<p>The <code>continue</code> block executes when you call <code>next</code> from the middle of the loop, so it provides a way to execute some common code between iterations, regardless of the path of execution through each iteration.</p>\n\n<p>Compare</p>\n\n<pre><code>my $last_item;\nfor my $item (@list) {\n   if ($last_item eq $item) {\n       do_something();\n       $last_item = $item;\n       next;\n   }\n\n   if (condition2($item,$last_item)) {\n       $last_item = $item;\n       next;\n   }\n\n   do_something_else();\n   $last_item = $item;\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my $last_item;\nfor my $item (@list) {\n   if ($last_item eq $item) {\n       do_something();\n       next;\n   }\n\n   if (condition2($item,$last_item)) {\n       next;\n   }\n\n   do_something_else();\n} continue {\n   $last_item = $item;\n}\n</code></pre>\n\n<p>Some examples of <code>continue</code> in the wild:</p>\n\n<p><a href=\"https://metacpan.org/source/OALDERS/HTTP-Cookies-6.04/lib/HTTP/Cookies.pm#L143\" rel=\"nofollow noreferrer\"><code>HTTP::Cookies</code></a></p>\n\n<p><a href=\"https://metacpan.org/source/WYANT/PPIx-Regexp-0.052/lib/PPIx/Regexp/Node.pm#L353\" rel=\"nofollow noreferrer\"><code>PPIx::Regexp::Node</code></a></p>\n\n<p><a href=\"https://metacpan.org/source/CHM/PDL-2.018/Basic/Core/Core.pm#L1234\" rel=\"nofollow noreferrer\"><code>PDL::Core</code></a></p>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 1, "accepted_answer_id": 46471851, "answer_count": 1, "score": 5, "last_activity_date": 1506612497, "creation_date": 1506609173, "last_edit_date": 1506611405, "question_id": 46471749, "link": "https://stackoverflow.com/questions/46471749/is-there-an-advantage-to-using-a-continue-block-with-a-while-loop-in-perl", "title": "Is there an advantage to using a continue block with a while loop in Perl?", "body": "<p><strong>SYNTAX 1:</strong></p>\n\n<pre><code>while {\n#some code \n}\ncontinue {\n#some other code \n}\n</code></pre>\n\n<p><strong>SYNTAX 2:</strong></p>\n\n<pre><code>while {\n#some code \n#some other code\n}\n</code></pre>\n\n<p>Does SYNTAX 1 has any advantage over SYNTAX 2 ? assuming \"some code\"and \"some other code\" remain same set of lines in both the syntaxes. Or its just two different styles having no coding advantage.</p>\n"}, {"tags": ["perl", "active-directory", "ldap"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506605058, "post_id": 46467712, "comment_id": 79895602, "body": "did you consider chomping some of those variables? it is difficult to test code as I do not have the same scenario, so stabbing in semi darkness here."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506605247, "post_id": 46467712, "comment_id": 79895758, "body": "additionally, do you expect the <code>Your password has been changed.You will need to use the new password for future logins</code> message to come from AD?"}, {"owner": {"reputation": 33, "user_id": 8428286, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1891924112f85f20f923512cbae27c0?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek B Ahmed", "link": "https://stackoverflow.com/users/8428286/vivek-b-ahmed"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506662141, "post_id": 46467712, "comment_id": 79918874, "body": "@GerhardBarnard the perl code works just fine. It creates <b>password 1</b> correctly. Which variables are you suggesting <code>chomping</code>  And yes, we expect the <code>Your password has been changed.You will need to use the new password for future logins</code> message to come from AD when the user is prompted to change their password"}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 8428286, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1891924112f85f20f923512cbae27c0?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek B Ahmed", "link": "https://stackoverflow.com/users/8428286/vivek-b-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1507273196, "creation_date": 1507273196, "answer_id": 46600018, "question_id": 46467712, "link": "https://stackoverflow.com/questions/46467712/active-directory-change-password-success-message/46600018#46600018", "title": "Active Directory change password success message", "body": "<p>Finally found the root cause of the issue.<br>\nOur network has multiple AD servers. We were updating the password on one of the AD servers.<br>\nThe sync between the AD servers takes some time in our network.<br>\nThe user was logging on using a different AD server for verification. As this point, the sync had not taken place. Hence we were receiving the issue.<br>\nWe have now modified the code to update the correct AD server based on which Ad server is used to authenticate the user. </p>\n"}], "owner": {"reputation": 33, "user_id": 8428286, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1891924112f85f20f923512cbae27c0?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek B Ahmed", "link": "https://stackoverflow.com/users/8428286/vivek-b-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507273196, "creation_date": 1506597123, "question_id": 46467712, "link": "https://stackoverflow.com/questions/46467712/active-directory-change-password-success-message", "title": "Active Directory change password success message", "body": "<p>We are resetting the Active Directory User password by connecting through LDAPS. We are also setting the \"Change Password at next Logon\" attribute.<br>\nWhen we Login to the Windows machine,we perform the following steps:  </p>\n\n<ol>\n<li>Login to the windows machine using the new password (<strong>password 1</strong>)  </li>\n<li>The machine prompts to change password  </li>\n<li>Enter the existing password (<strong>password 1</strong>) and a new password (<strong>password 2</strong>) </li>\n</ol>\n\n<p>At this point we are expecting the message: <code>Your password has been changed.You will need to use the new password for future logins</code>.<br>\nHowever we receive the message: <code>Unknown user name or bad password</code>.<br>\nBut, in the backend, the system has accepted the new password (<strong>password 2</strong>) as we are able to login using <strong>password 2</strong>.<br>\nWhat we are unable to understand as to why we are receiving the incorrect message when the system has accepted the new password<br>\nDo we need to set another attribute which will show the correct message?<br>\nOur code is as below:  </p>\n\n<pre><code>#!/usr/bin/perl -w\n#########################\n#This script resets the password in active user directory \n#########################\n\nuse strict;\nuse warnings;\nuse DBI;\nuse Net::LDAP;\nuse Net::LDAPS;\nuse Authen::SASL qw(Perl);\nuse Net::LDAP::Control::Paged;\nuse Time::Local;\nuse MIME::Lite;\n\nmy $CERTDIR     = \"&lt;certpath&gt;\";\nmy $AD_PASS     = \"$CERTDIR/&lt;certfile&gt;\";\nmy $sAN = $ARGV[0];\nmy $uninewpass;\nmy $mail;\nmy $fullname;\nmy $name;\nmy $distName;\nmy $finalresult;\n\n### Generate Random Password ###\nmy $randompass = askPasswd();\n\n### Reading Active directory connection credentials ###\nmy @AD_passwords = get_domain_pass();\n\n###Reset password###\nmy $result = reset_AD_Password();\n\n\n###SUB FUNCTIONS###\n\n#Reset AD user password\nsub reset_AD_Password {                              \n    my $result = \"fail\";\n\n    my $ad = Net::LDAPS-&gt;new($AD_passwords[0]);\n    my $msg = $ad-&gt;bind(dn =&gt; \"cn=$AD_passwords[2],$AD_passwords[1]\",\n                        password   =&gt; $AD_passwords[3],\n                        version    =&gt; 3);\n\n    if ($msg-&gt;code)\n    {\n            print \"Error msg:\" . $msg-&gt;error() . \"\\n\";\n            print \"Error code:\" . $msg-&gt;code() . \"\\n\";\n            exit 3;\n    }\n\n    my $acc_name            = 'sAMAccountName';\n    my $acc_fullname        = 'displayName';\n    my $acc_distName        = 'distinguishedName';\n    my $acc_mail            = 'mail';\n\n    my $act = $ad-&gt;search(\n                        base    =&gt; \"$AD_passwords[1]\",\n                        filter  =&gt; \"(&amp;(objectCategory=person)(sAMAccountName=$sAN))\",\n                        attrs   =&gt; [$acc_name, $acc_fullname, $acc_distName, $acc_mail]);\n    die 2 if ($act-&gt;count() !=1 );\n\n    if ($act-&gt;code)\n    {\n            print \"Error msg:\" . $act-&gt;error() . \"\\n\";\n            print \"Error code:\" . $act-&gt;code() . \"\\n\";\n            exit 4;\n    }\n\n#Store DN for password reset\nmy $sANdn = $act-&gt;entry(0)-&gt;dn;\n\n# Add quotes and uniCode to the passwords.\nmap { $uninewpass .= \"$_\\000\" } split(//, \"\\\"$randompass\\\"\");\nprint \"$uninewpass\\n\";\n\n#Reset AD Password and change at next logon\nmy $rtn = $ad-&gt;modify($sANdn, replace =&gt; [ 'unicodePwd' =&gt; $uninewpass]);\n\nif($rtn-&gt;{'resultCode'} != 0) {\n    print \"Error msg:\" . $rtn-&gt;error() . \"\\n\";\n    print \"Error code:\" . $rtn-&gt;code() . \"\\n\";\n    exit 5;\n}\n\n#Change Password at next logon#\nmy $rtn = $ad-&gt;modify($sANdn, replace =&gt; { pwdLastSet =&gt; 0});\n\nif($rtn-&gt;{'resultCode'} != 0) {\n    print \"Error msg:\" . $rtn-&gt;error() . \"\\n\";\n    print \"Error code:\" . $rtn-&gt;code() . \"\\n\";\n    exit 6;\n}\n    $result = \"pass\";\n    return $result;\n}\n\n###Generate password###\nsub askPasswd {\n\n        use String::Random;\n        my $randPass = new String::Random;\n        my $rndpassword = $randPass-&gt;randpattern(\"CCccn!cnC\");\n\n        print \"Your random password is: \" , $rndpassword , \"\\n\";\n\n        return $rndpassword;\n}\n\n###Read Credentials File###\nsub get_domain_pass {\n        open(my $fh, '&lt;:encoding(UTF-8)', $AD_PASS) or die \"Could not open file\";\n        my $row = &lt;$fh&gt;;\n        chomp $row;\n        print \"$row\\n\";\n        my @AD_passwords = split/:/,$row;\n        return @AD_passwords;\n}\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506596406, "post_id": 46467351, "comment_id": 79889739, "body": "Please <a href=\"https://stackoverflow.com/posts/46467351/edit\">edit</a> your question and include the code that saves the <code>$upfile</code> to disk. I believe you are missing a <code>binmode</code> on your output filehandle, or that data is otherwise mangled. Also run the <code>file</code> program on one of those uploaded files and tell us what it thinks this file contains."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506596543, "post_id": 46467351, "comment_id": 79889835, "body": "did you look at the switch <code>-t &lt;file-type&gt;</code>"}, {"owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506598014, "post_id": 46467351, "comment_id": 79890698, "body": "@simbabque Okay I have edited it and added the file upload code, that I am using. The uploaded file information shows: file1.wav: audio/x-wav; charset=binary. On Sox file information it shows: Channels : 1, Sample Rate : 11025, Precision : 16-bit"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506598331, "post_id": 46467351, "comment_id": 79890916, "body": "You forgot the part where you write to the file handle. That&#39;s three most important line."}, {"owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506598353, "post_id": 46467351, "comment_id": 79890928, "body": "@GerhardBarnard Yes I had tried with -t &lt;file-type&gt;, but it gives me the same error"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506598384, "post_id": 46467351, "comment_id": 79890949, "body": "what filetype did you put after <code>-t</code> ?"}, {"owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506598927, "post_id": 46467351, "comment_id": 79891306, "body": "@GerhardBarnard i used -t wav &lt;filename&gt;"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506599365, "post_id": 46467351, "comment_id": 79891578, "body": "is it not wave?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506682517, "post_id": 46470471, "comment_id": 79928987, "body": "Thanks firstly for your response. I liked most of your suggestions and will improve my coding style, since I am in college and just started with perl a few days back unlike you who has more than 25+ years of experience."}, {"owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506682848, "post_id": 46470471, "comment_id": 79929160, "body": "Now coming to the code its working fine if I dont include that sox command. By fine I specifically mean, I am able to upload the audio file and run the necessary scripts to get the audio recognition. The reason for using sox is to downsample an uploaded file to 8000Hz(which is a prerequisite for me). The reason for using File::Copy  is that I was trying to copy the file to a particular location but I wasnt able to."}, {"owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506683724, "post_id": 46470471, "comment_id": 79929627, "body": "For copy function I am using &quot;use File::Copy qw(copy);&quot;                                I am defining the parameters for copy function as:                                      my $source_file=&quot;/var/www/cgi-bin/upload/$upfile&quot;; my $target_file=&quot;/var/www/cgi-bin/output/$basename&quot;                          where $upfile is the upload file and $basename is folder where I want to copy the $upfile. My copy command goes like:               copy($source_file ,$target_file) or die &quot;Move failed: $!&quot;;  I am getting no error message for copy function in logs but clearly its not copying the file."}, {"owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506683881, "post_id": 46470471, "comment_id": 79929719, "body": "The parameters of copy function have correct values(I checked). Is it that the file is not uploaded completely and I call copy function too soon? I tried with sleep(n); too."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506683909, "post_id": 46470471, "comment_id": 79929739, "body": "@PrabhjitThind: Adding information like this in comments isn&#39;t really helpful. It&#39;s hard to read code in comment. Far better to update your question to include this information."}, {"owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506684004, "post_id": 46470471, "comment_id": 79929801, "body": "And finally as a perl consultant who has worked for almost all the major companies in UK what should I used if not CGI(referring to the last line of your answer)?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506684090, "post_id": 46470471, "comment_id": 79929856, "body": "See <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> (written by the current maintainer of CGI.pm)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506687934, "post_id": 46470471, "comment_id": 79931919, "body": "@PrabhjitThind: It would be useful for you to write up the solution as an answer to this question (it&#39;s perfectly acceptable to answer your own question - and even to accept that answer). Stack Overflow exists as a resource of answers to help programmers with problems. If someone else has a similar problem in the future, it will be frustrating for them to find your question, but no definitive answer."}, {"owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506690357, "post_id": 46470471, "comment_id": 79933360, "body": "Thanks for your time Dave. But you didn&#39;t suggest me viable alternatives for cgi as asked in one of the comments,"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "edited": false, "score": 0, "creation_date": 1506690402, "post_id": 46470471, "comment_id": 79933386, "body": "@PrabhjitThind: I did."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1506607538, "last_edit_date": 1506607538, "creation_date": 1506605557, "answer_id": 46470471, "question_id": 46467351, "link": "https://stackoverflow.com/questions/46467351/unable-to-downsample-audio-file-in-cgi-perl-script-using-sox/46470471#46470471", "title": "Unable to Downsample audio file in CGI perl script using sox", "body": "<p>This isn't really an answer to your question as we don't have enough information yet.</p>\n\n<p>Have you tried running the command from your Unix command line? I'd assume you get the same error. What do you get if you run <code>file</code> on the file that you have saved? How big is the file before and after you upload it?</p>\n\n<p>You don't show the code that writes the uploaded file. I suspect there's a bug in that. If you add that to your question, we could help you find it.</p>\n\n<p>Where is <code>GetBasename()</code> defined? Can we see the code?</p>\n\n<p>Your <code>sox</code> command seems strange. You're running <code>sox</code> on a file called <code>temp.wav</code> and then copying that file over your uploaded file. Perhaps there are a couple of steps that you aren't telling us.</p>\n\n<p>Some other suggestions for improvement:</p>\n\n<ul>\n<li>Use <code>cgi-&gt;new</code>, not <code>new CGI</code>. The latter has some strange corner cases that you will have real problems debugging if you ever come across them.</li>\n<li>If you're loading the <code>CGI</code> module, then why not use its <code>header</code> method instead of writing your own (technically incorrect) header.</li>\n<li><code>no strict 'refs'</code> is a really bad idea (and, as far as I can see, isn't needed here).</li>\n<li><p>Please use the three-arg version of <code>open()</code> and lexical filehandles</p>\n\n<pre><code>open my $out_fh, '&gt;', \"../cgi-bin/upload/$basename\"\n</code></pre></li>\n<li><p>Include the file path in your error message</p>\n\n<pre><code>my $file = \"../cgi-bin/upload/$basename\";\nif (!open my $out_fh, '&gt;', $file) {\n  print \"Can't open file '$file' for writing - $!\";\n  exit(-1);\n}\n</code></pre></li>\n<li><p>You are loading the <code>File::Copy</code> module, but then moving your file using a shell command.</p></li>\n<li><p>Allowing random users to upload files into a directory under your <code>cgi-bin</code> directory is a massive potential security hole. You should find another directory to store the uploaded files.</p></li>\n</ul>\n\n<p>Oh, and then there's the whole - why on Earth would you be writing CGI programs in 2017!</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "is_accepted": false, "score": 0, "last_activity_date": 1506690278, "creation_date": 1506690278, "answer_id": 46489438, "question_id": 46467351, "link": "https://stackoverflow.com/questions/46467351/unable-to-downsample-audio-file-in-cgi-perl-script-using-sox/46489438#46489438", "title": "Unable to Downsample audio file in CGI perl script using sox", "body": "<p>The issue is resolved. The reason why I was having problem executing the sox and copy commands was because of where I was placing the two commands in code. Basically a beginners error. So I was opening the file as mentioned in the problem statement. I put the copy and sox commands for execution before I closed the filehandler and hence they were not getting executed successfully.</p>\n"}], "owner": {"reputation": 11, "user_id": 8688958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214421545998080/picture?type=large", "display_name": "Prabhjit Thind", "link": "https://stackoverflow.com/users/8688958/prabhjit-thind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506690278, "creation_date": 1506595933, "last_edit_date": 1506597909, "question_id": 46467351, "link": "https://stackoverflow.com/questions/46467351/unable-to-downsample-audio-file-in-cgi-perl-script-using-sox", "title": "Unable to Downsample audio file in CGI perl script using sox", "body": "<p>I am working on a cgi script where I get an <strong>uploaded</strong> an audio file, <strong>downsample</strong> it to <strong>8000Hz</strong> and then get it recognised later.</p>\n\n<p>I am facing an error while downsampling the file. The code for downsampling goes like:</p>\n\n<p>1) Code for File Upload:</p>\n\n<pre><code>use CGI;\nuse strict;\nuse File::Copy qw(copy);\nuse CGI::Carp 'fatalsToBrowser';\nmy $PROGNAME = \"file_upload.cgi\";\nmy $cgi = new CGI();\nprint \"Content-type: text/html\\n\\n\";\nmy $upfile = $cgi-&gt;param('upfile');\n\n# Get the basename in case we want to use it.\nmy $basename = GetBasename($upfile);\n\nno strict 'refs';\n\nif (! open(OUTFILE, \"&gt;../cgi-bin/upload/\".$basename) ) {\n    print \"Can't open for writing - $!\";\n    exit(-1);\n}\n</code></pre>\n\n<p>2)Code for downsample:</p>\n\n<pre><code>my $source_file=\"/var/www/cgi-bin/upload/$upfile\";\nsystem(\"sox $source_file -r 8000 /var/www/cgi-bin/upload/temp.wav\".\";\".\"mv /var/www/cgi-bin/upload/temp.wav $source_file\");\n</code></pre>\n\n<p>where:</p>\n\n<ol>\n<li>source_file is the path for uploaded audio file</li>\n<li><code>$upfile</code> is the name of the uploaded wav file</li>\n<li>temp.wav is the temporary downsampled file which is overwritten on the original file using mv command</li>\n</ol>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>sox FAIL formats: can't open input file `/var/www/cgi-bin/upload/file1.wav': WAVE: RIFF header not found</p>\n</blockquote>\n\n<p>file1.wav is the file I uploaded</p>\n\n<p>Please help me understand why the <strong>sox</strong> command is not executing despite it being correctly written?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1506588597, "post_id": 46464636, "comment_id": 79884550, "body": "I&#39;m getting the error even when I remove <code>$1</code>. What&#39;s your Perl version?"}, {"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1506592506, "post_id": 46464636, "comment_id": 79887250, "body": "@choroba my apologies, I didn&#39;t notice but the issue was still there. However, the text color went back to normal. I have edited the question. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1506588567, "creation_date": 1506588567, "answer_id": 46464893, "question_id": 46464636, "link": "https://stackoverflow.com/questions/46464636/unrecognized-escape-when-using-1-in-perl-match/46464893#46464893", "title": "Unrecognized escape when using $1 in Perl match", "body": "<p>The right hand side of a substitution <code>s///</code> is not a regular expression pattern. You cannot tell it to create content by using pattern syntax.</p>\n\n<blockquote>\n  <p>Unrecognized escape \\s passed through at ...</p>\n</blockquote>\n\n<p>This error means that Perl interpreted the <code>\\s</code> as a escape sequence similar to <code>\\n</code> or <code>\\r</code> inside an interpolated string. The right hand side of the substitution is the same as a normal double quoted <code>\"\"</code> string. <code>\\s</code> does not have a meaning there, so Perl complains. All the brackets and parenthesis will show up as literal characters. When run with the data I've provided further down in the answer, this is the result.</p>\n\n<pre><code>foo\n(s){4}\n</code></pre>\n\n<p>Instead, you will have to use the <code>/e</code> flag on your substitution, and provide Perl code. The right hand side of the <code>s///</code> will be evaluated with actual code, and the result will be used as the substitution. You can use the <a href=\"http://perldoc.perl.org/perlop.html#Multiplicative-Operators\" rel=\"nofollow noreferrer\"><code>x</code> operator</a> to repeat your blank space character. Note that the whole right hand side now needs to be a valid Perl expression, so you have to construct strings and use the concatenation operator <code>.</code>.</p>\n\n<pre><code>$line =~ s/(.*?$)/\"$1\\n\" . ( q{ } x $array[0] ) /e;\n</code></pre>\n\n<hr>\n\n<p>When I run this with an underscore instead of a space it looks weird though. I don't think it does what you want.</p>\n\n<pre><code>my @array = ( 4 );\nmy $line = \"foo\";\n$line =~ s/(.*?$)/\"$1\\n\" . ( \"_\" x $array[0] ) /e;\nprint $line;\n\n__END__\nfoo\n____\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 46464893, "answer_count": 1, "score": 1, "last_activity_date": 1506592556, "creation_date": 1506587905, "last_edit_date": 1506592556, "question_id": 46464636, "link": "https://stackoverflow.com/questions/46464636/unrecognized-escape-when-using-1-in-perl-match", "title": "Unrecognized escape when using $1 in Perl match", "body": "<p>I have this match</p>\n\n<pre><code>$line =~ s/(.*?$)/$1\\n(\\s){$array[0]}/;\n</code></pre>\n\n<p>which gives the error </p>\n\n<pre><code>Unrecognized escape \\s passed through\n</code></pre>\n\n<p>Can someone tell me why using the <code>$1</code> is throwing this error. In my text editor, the colours also change if I add or remove the <code>$1</code>(the colours signify when a character is specially interpreted).</p>\n\n<p>Also, is <code>(\\s){$array[0]}</code> the correct way of saying I want spaces that many times (the number in $array[0]). </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1506591239, "post_id": 46464710, "comment_id": 79886361, "body": "You haven&#39;t backslashed all the backslashes."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1506588092, "creation_date": 1506588092, "answer_id": 46464710, "question_id": 46463712, "link": "https://stackoverflow.com/questions/46463712/how-to-replace-regex-as-normal-text-getting-from-ini-file/46464710#46464710", "title": "How to replace REGEX as normal text getting from *INI file", "body": "<p>If you print the $quval1, you'll see what the problem is:</p>\n\n<pre><code>\\\\mathbf\\{\\\\mathit\\{\\(\\[A\\-z0\\-9\\]\\*\\)\\}\n                    ~~~~ ~~  ~~ ~~~~~~\n</code></pre>\n\n<p><a href=\"http://p3rl.org/quotemeta\" rel=\"nofollow noreferrer\">quotemeta</a> backslashes the dashes, parentheses, square brackets, and asterisks, as well, but you need to keep them unbackslashed.</p>\n\n<p>But, how do you recognize which of these characters are part of a regex and which are part of the TeX markup?</p>\n\n<p>Store the regexes in the file already quoted.</p>\n\n<p>That doesn't end the story, though. The <code>$1</code> is the replacement isn't expanded, because it's not contained in the replacement literally. You can use the <code>/e</code> switch to evaluate the replacement, but then you need to backslash backslashes in it again, and in fact you need the double <code>/ee</code> to evaluate the code properly, so you need to wrap the string in quotes to make it syntactically correct.</p>\n\n<p>Data:</p>\n\n<pre><code>&lt;repl&gt;\n\\\\mathbf\\{\\\\mathit\\{([a-zA-Z0-9]*)\\}    \\\\boldsymbol{\\\\mathit{$1}\n\\\\mathit\\{\\\\mathit\\{([a-zA-Z0-9]*)\\}    \\\\italicsymbol{\\\\mathit{$1}\n\\\\mathul\\{\\\\mathit\\{([a-zA-Z0-9]*)\\}    \\\\underlinesymbol{\\\\mathit{$1}\n&lt;/repl&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>$val2 = qq(\"$val2\");\n$str =~ s/$val1/$val2/geei;\n</code></pre>\n\n<p>I also had to fix the file names, as <code>Text</code>, <code>Test</code>, and <code>test</code> are three different strings.</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 46464710, "answer_count": 1, "score": 1, "last_activity_date": 1506590767, "creation_date": 1506584833, "last_edit_date": 1506590767, "question_id": 46463712, "link": "https://stackoverflow.com/questions/46463712/how-to-replace-regex-as-normal-text-getting-from-ini-file", "title": "How to replace REGEX as normal text getting from *INI file", "body": "<p>I have a text file contains <code>Text.txt</code></p>\n\n<pre><code>\\mathbf{\\mathit{adad09}\n\\mathit{\\mathit{aavB}\n\\mathul{\\mathit{AZDs}\n</code></pre>\n\n<p>And I have a <code>test.ini</code> file contains (<strong>Since user can add or less the replacements</strong>)</p>\n\n<pre><code>&lt;repl&gt;\n\\mathbf{\\mathit{([A-z0-9]*)}    \\boldsymbol{\\mathit{$1}\n\\mathit{\\mathit{([A-z0-9]*)}    \\italicsymbol{\\mathit{$1}\n\\mathul{\\mathit{([A-z0-9]*)}    \\underlinesymbol{\\mathit{$1}\n&lt;/repl&gt;\n</code></pre>\n\n<p>My Expected output is</p>\n\n<pre><code>\\boldsymbol{\\mathit{adad09}\n\\italicsymbol{\\mathit{aavB}\n\\underlinesymbol{\\mathit{AZDs}\n</code></pre>\n\n<p>My Coding is here</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Cwd;\n\nmy $myinicnt = \"\"; my $file = \"Test.txt\"; my $str = \"\";\nreadFileinString($file, \\$str); readFileinString(\"Test.ini\", \\$myinicnt);\nmy @replsEach = ();\n\nif($myinicnt=~m/&lt;repl&gt;(.*?)&lt;\\/repl&gt;/gs) {  @replsEach = split /\\n/, $1;  }\nforeach my $myvar( @replsEach )\n{\n    my ($val1, $val2) = split /\\t/, $myvar;\n    my $quval1 = quotemeta $val1;\n\n    #First Attempt\n    $str=~s{$val1}{$val2}gi;\n\n    #Second Attempt \n    $str=~s{$quval1}{$val2}gi;\n}\n\nprint $str;\n\n#---------------&gt; File reading\nsub readFileinString\n#---------------&gt;\n{\n    my $File = shift;\n    my $string = shift;\n    open(FILE1, \"&lt;$File\") or die \"\\nFailed Reading File: [$File]\\n\\tReason: $!\";\n    read(FILE1, $$string, -s $File, 0);\n    close(FILE1);\n}\n\n#---------------&gt; File Writing\nsub writeFileinString\n#---------------&gt;\n{\n    my $File = shift;\n    my $string = shift;\n    my @cDir = split(/\\\\/, $File);\n    my $tmp = \"\";\n    for(my $i = 0; $i &lt; $#cDir; $i++)\n    {\n        $tmp = $tmp . \"$cDir[$i]\\\\\";\n        mkdir \"$tmp\";\n    }\n    if(-f $File){\n        unlink($File);\n    }\n    open(FILE, \"&gt;$File\") or die \"\\n\\nFailed File Open for Writing: [$File]\\n\\nReason: $!\\n\";\n    print FILE $$string;\n    close(FILE);\n}\n#------------------------- SUB END -------------------------&gt;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Use of uninitialized value $val1 in quotemeta at ini.pl line 13.\nUse of uninitialized value $val2 in concatenation (.) or string at ini.pl line 18.\nUse of uninitialized value $val1 in regexp compilation at ini.pl line 19.\nUnrecognized escape \\m passed through in regex; marked by &lt;-- HERE in m/\\m &lt;-- HERE athbf{\\mathit{([A-z]*)}/ a\nt ini.pl line 19.\nUnrecognized escape \\m passed through in regex; marked by &lt;-- HERE in m/\\mathbf{\\m &lt;-- HERE athit{([A-z]*)}/ a\nt ini.pl line 19.\nUnrecognized escape \\m passed through in regex; marked by &lt;-- HERE in m/\\m &lt;-- HERE athit{\\mathit{([A-z]*)}/ a\nt ini.pl line 19.\nUnrecognized escape \\m passed through in regex; marked by &lt;-- HERE in m/\\mathit{\\m &lt;-- HERE athit{([A-z]*)}/ a\nt ini.pl line 19.\nUnrecognized escape \\m passed through in regex; marked by &lt;-- HERE in m/\\m &lt;-- HERE athul{\\mathit{([A-z]*)}/ a\nt ini.pl line 19.\nUnrecognized escape \\m passed through in regex; marked by &lt;-- HERE in m/\\mathul{\\m &lt;-- HERE athit{([A-z]*)}/ a\nt ini.pl line 19.\n\\mathbf{\\mathit{adad09}\n\\mathit{\\mathit{aavB}\n\\mathul{\\mathit{AZDs}\n</code></pre>\n\n<p>Please could anyone can be guide me to get the solution.</p>\n"}, {"tags": ["arrays", "perl", "match"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506606217, "post_id": 46461198, "comment_id": 79896493, "body": "<i>&quot;I still confuse how to make it more efficient for my case&quot;</i> Why do you want to make it more efficient? Have you tested what you have and found that it is too slow?"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "edited": false, "score": 0, "creation_date": 1506576453, "post_id": 46461378, "comment_id": 79877841, "body": "hi Thanks for your response. actually, the system where I run this script has very limited resources and perl modules. will consider your solutions. btw, I would like also consider what if item in the @ary in your sample is consists of &quot;not single word&quot;, but &quot;multi words&quot; in an item. will the benchmark results changes?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "edited": false, "score": 0, "creation_date": 1506576604, "post_id": 46461378, "comment_id": 79877889, "body": "@guete  There is no need for resources or Perl modules.  I am simply showing you a comparison of your (good) approach and of that with a regex.  As you can see, the regex is much faster in general.  Time these two on your machines/resources, it should come out very similar.  The <i>only</i> module used is in the core, <code>Benchmark</code>.  I am adding the link to the answer..."}, {"owner": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "edited": false, "score": 0, "creation_date": 1506576806, "post_id": 46461378, "comment_id": 79877960, "body": "example: my @ary = (&quot;balloon red&quot;, &quot;space monkey&quot;, &quot;monkey&quot;, &quot;fruit jelly&quot; );"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "edited": false, "score": 0, "creation_date": 1506576997, "post_id": 46461378, "comment_id": 79878033, "body": "@guete  Alright, I&#39;ll revert the <code>qw(...)</code> ... but then, does your string still start with <code>monkey</code>? If so, it&#39;s the same: the regex pattern is now <code>&#47;^(ballon red|space monkey|monkey...)&#47;</code>, which again matches on <code>monkey</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "edited": false, "score": 0, "creation_date": 1506577172, "post_id": 46461378, "comment_id": 79878089, "body": "@guete  Restored your list of quoted words"}, {"owner": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "edited": false, "score": 0, "creation_date": 1506577423, "post_id": 46461378, "comment_id": 79878199, "body": "yes @zdim, my regex pattern could be more complex than simple word, it could consists of multiple words and non-alphabet characters. I tried your sample to suits my case, it works perfectly. and Benchmark also shows not so much different than single word. Thank you very much! appreciated! :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "edited": false, "score": 0, "creation_date": 1506577681, "post_id": 46461378, "comment_id": 79878290, "body": "@guete  Glad that it helped :)  The alternation pattern does not in fact do much more than the regex you use in the loop (while it can if needed).  I&#39;ll add anotherexample when I get to it (tomorrow?), will let you know."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506608904, "post_id": 46461378, "comment_id": 79898415, "body": "<code>my $re = join &#39;|&#39;, @ary</code> should probably be <code>my $re = join &#39;|&#39;, map { quotemeta } sort { length $b &lt;=&gt; length $a } @ary</code> to allow for some of the words containing regex metacharacters or being substrings of others."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506618734, "post_id": 46461378, "comment_id": 79904550, "body": "@Borodin  Thank you, I am adding <code>quotemeta</code> (didn&#39;t want to descend into that but this isn&#39;t quite right the way it is). As for telling a <code>bookcase</code> from a <code>book</code> ... I had decided to focus on the stated question and use their code, so to not comment on their <code>&#47;^$word&#47;</code> without <code>\\b</code> ... but looking back I think I should. Thank you, will add a note at the end."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1550515935, "last_edit_date": 1550515935, "creation_date": 1506575376, "answer_id": 46461378, "question_id": 46461198, "link": "https://stackoverflow.com/questions/46461198/perl-check-if-a-line-starting-with-a-word-from-an-array-and-return-the-matched-v/46461378#46461378", "title": "Perl check if a line starting with a word from an array and return the matched value to variable", "body": "<p>In principle, you have to iterate over possible words to match.  However, you can also construct an alternation regex pattern with them so that the regex engine starts once, unlike with the loop where it is started for <em>every</em> iteration. Also, now the iteration goes by highly optimized C code.  </p>\n\n<p>How do these compare? Let's benchmark them, using the core module <a href=\"http://perldoc.perl.org/Benchmark.html\" rel=\"nofollow noreferrer\">Benchmark</a>.</p>\n\n<p><strong>For a tiny array, matching around its middle</strong> (your example)</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Benchmark qw( cmpthese );\n\nmy @ary = (\"balloon\", \"space\", \"monkey\", \"fruit\");\nmy $line = \"monkey space always unlimited\";\n\nsub regex {\n    my ($line, @ary) = @_;\n    my $match; \n    my $re = join '|', map { quotemeta } @ary;\n    if ($line =~ /^($re)/) {\n        $match = $1;\n    }   \n    return $match;\n}   \n\nsub loop {\n    my ($line, @ary) = @_;\n    my $match; \n    foreach my $word (@ary) {\n        if ($line =~ /^$word/) {  # see note at end\n            $match = $word;\n            last;\n        }   \n    }   \n    return $match;\n}   \n\ncmpthese(-10, {\n    regex =&gt; sub { regex ($line, @ary) },\n    loop  =&gt; sub { loop  ($line, @ary) },\n}); \n</code></pre>\n\n<p>This produces, on both a very good machine with v5.16 and on an older one with  v5.10</p>\n\n<pre>\n          Rate  loop regex\nloop  222791/s    --  -70%\nregex 742962/s  233%    --\n</pre>\n\n<p>Thus regex is way more efficient.</p>\n\n<p><strong>For a 40 times larger array, matching around the middle</strong></p>\n\n<p>I build this array by <code>@ary = qw(...) x 20</code>, then add a word (<code>'AHA'</code>), then repeat 20 more times. I prepend that very word to the string, so that's what gets matched. I make the string much larger, too, even though this shouldn't matter for matching.</p>\n\n<p>In this case the regex is even more convincing</p>\n\n<pre>\n         Rate  loop regex\nloop   9300/s    --  -82%\nregex 50873/s  447%    --\n</pre>\n\n<p>and yet more so with v5.10 on the older machine, with <code>574%</code>. </p>\n\n<p>On v5.27.2 the regex is faster by <code>1188%</code>, so by a clean order of magnitude. But it is the rate of the loop that drops to only <code>6723/s</code>, against the above <code>9330/s</code>. So this only shows that the regex \"startup\" is more expensive in newer Perls, thus the loop falls further behind.</p>\n\n<p><strong>For the same large array, with the match word near its beginning</strong></p>\n\n<p>I move the match-word <code>AHA</code> in the array right past the original 4-word list</p>\n\n<pre>\n         Rate  loop regex\nloop  36710/s    --   -3%\nregex 37666/s    3%    --\n</pre>\n\n<p>So the match needs to happen very, very early so that the loop catches up with the regex.  While this can happen often in specific use cases it cannot be expected in general, of course.</p>\n\n<p>Note that the regex had far less work to do as well. Thus it's clear that the loop's problem is that it starts the regex engine anew for every iteration.  Here it only had to do it a few times and the regex's advantage all but evaporated, even though it also matched much sooner.</p>\n\n<hr>\n\n<p>As for programmer's efficiency, take your pick. There are yet other ways using higher level libraries so that you don't have to write the loop. For instance, using core <a href=\"http://perldoc.perl.org/List/Util.html\" rel=\"nofollow noreferrer\">List::Util</a></p>\n\n<pre><code>use List::Util qw(first);\n\nmy $match = first { $line =~ /^$_/ } @ary;\n</code></pre>\n\n<p>This benchmarks between the same and around 10% <em>slower</em> than your loop when added.</p>\n\n<hr>\n\n<p>A note on regex used in the question.  </p>\n\n<p>If the first word in <code>$line</code> is <code>puppy</code> the regex <code>/^$word/</code> will match it with <code>pup</code>. This may or may not be intended (but think of <code>flu</code> for <code>fluent</code> instead), but if it isn't it can be fixed by adding the <em>word boundary</em> anchor <code>\\b</code>,</p>\n\n<pre><code>$line =~ /^$word\\b/\n</code></pre>\n\n<p>The same can be used with the alternation pattern, which was written so to mimic the code in the question. So add the word boundary anchor, for <code>/^($re)\\b/</code>.</p>\n\n<p>Another way is to sort the list by the length of words, <code>sort { length $b &lt;=&gt; length $a } @ary</code>, per <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a>'s comment. This may affect the problem in a more complex way, please consider.</p>\n"}], "owner": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3080, "favorite_count": 0, "accepted_answer_id": 46461378, "answer_count": 1, "score": 2, "last_activity_date": 1550515935, "creation_date": 1506574305, "question_id": 46461198, "link": "https://stackoverflow.com/questions/46461198/perl-check-if-a-line-starting-with-a-word-from-an-array-and-return-the-matched-v", "title": "Perl check if a line starting with a word from an array and return the matched value to variable", "body": "<p>I checked following topic <a href=\"https://stackoverflow.com/questions/43658293/perl-check-a-line-contains-at-list-one-word-of-an-array\">Perl check a line contains at list one word of an array</a>, but I still confuse how to make it more efficient for my case.</p>\n\n<p>I use example from topic above. </p>\n\n<p>I have an array, called @exampleWords:</p>\n\n<pre><code>my @exampleWords = (\"balloon\", \"space\", \"monkey\", \"fruit\" );\n</code></pre>\n\n<p>and I have a line contains of a sentence for example:</p>\n\n<pre><code>my $line = \"monkey space always unlimited\";\n</code></pre>\n\n<p>How do I can check if $line starting with a match word in array, and return the matched word into a variable?</p>\n\n<p>in example above, the matched word is \"monkey\".</p>\n\n<p>current solution in my mind is: loop each word in array and check if the $line starting with a $word. </p>\n\n<pre><code>my $matchWord = \"\";\nforeach my $word(@exampleWords) {\n  if ($line =~ /^$word/) {\n    $matchWord = $word;\n    last;\n  }\n}\n</code></pre>\n\n<p>I am still looking more efficient solution..</p>\n\n<p>thank you...</p>\n"}]