[{"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 2662, "user_id": 2898215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WRwjX.jpg?s=128&g=1", "display_name": "struthersneil", "link": "https://stackoverflow.com/users/2898215/struthersneil"}, "edited": false, "score": 0, "creation_date": 1501712869, "post_id": 45471910, "comment_id": 77905000, "body": "You could put a long sleep just before your print statement, sleeps in the middle of your STDIN input loop, and observe memory usage with a larger file. My <i>guess</i> is that you&#39;ll see peaks of 2x the file size dropping to 1x the file size."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501718216, "post_id": 45471910, "comment_id": 77906391, "body": "Note that Perl data structures take yet more memory.  From what I recall, roughly 2-3 times the size of data (or more) and the whole program&#39;s footprint is yet greater. There is a related discussion with some more detail in <a href=\"https://stackoverflow.com/a/43270307/4653379\">this post</a>.  But that&#39;s a fixed factor, not affecting @hobbs&#39;s answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501718382, "post_id": 45471910, "comment_id": 77906443, "body": "Btw: you need not invoke <code>cat</code>, but can do <code>script1.pl &lt; input.txt | script.pl ...</code>.  This way <code>input.txt</code> also goes to <code>script1.pl</code>&#39;s <code>STDIN</code>"}], "answers": [{"comments": [{"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 0, "creation_date": 1501713133, "post_id": 45471992, "comment_id": 77905102, "body": "That&#39;s great thanks, but why doesn&#39;t <code>cat | </code> take 1GB of memory when putting the output to STDOUT?"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 0, "creation_date": 1501713281, "post_id": 45471992, "comment_id": 77905152, "body": "@hoffmeister because it doesn&#39;t read the whole thing before it starts writing. It just reads a little chunk, writes it, and then forgets about it."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 2, "last_activity_date": 1501712746, "creation_date": 1501712746, "answer_id": 45471992, "question_id": 45471910, "link": "https://stackoverflow.com/questions/45471910/memory-usage-when-reading-from-stdin/45471992#45471992", "title": "Memory usage when reading from STDIN", "body": "<p>More like 2kB, but a 1kB file isn't a very good example as your read buffer is probably bigger than that. Let's make the file 1GB instead. Then your peak memory usage would probably be around 2GB plus some overhead. <code>cat</code> uses negligible memory, just shuffling its input to its output. The first perl process has to read all of that input and store it in <code>$var</code>, using 1GB (plus a little bit). Then it starts writing it to the second one, which will store it into its own private <code>$var</code>, also using 1GB (plus a little bit), so we're up to 2GB. When the first perl process finishes writing, it exits, which closes its stdout, causing the second perl process to get EOF on stdin, which is what makes the <code>while(&lt;&gt;)</code> loop terminate and the second perl proces to start writing. At this point the third perl process starts reading and storing into its own <code>$var</code>, using another 1GB, but the first one is gone, so we're still in the neighborhood of 2GB. Then the second perl process ends, and the third starts writing to stdout, and exits itself.</p>\n"}, {"comments": [{"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 0, "creation_date": 1502371715, "post_id": 45472946, "comment_id": 78188838, "body": "Thanks for this, very nice answer. Good to see your working too :-)"}], "tags": [], "owner": {"reputation": 2662, "user_id": 2898215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WRwjX.jpg?s=128&g=1", "display_name": "struthersneil", "link": "https://stackoverflow.com/users/2898215/struthersneil"}, "is_accepted": true, "score": 2, "last_activity_date": 1501719933, "creation_date": 1501719933, "answer_id": 45472946, "question_id": 45471910, "link": "https://stackoverflow.com/questions/45471910/memory-usage-when-reading-from-stdin/45472946#45472946", "title": "Memory usage when reading from STDIN", "body": "<p>You've already got a good answer, but I wasn't satisfied with my guess, so I decided to test my assumptions.</p>\n\n<p>I made a simple C++ program called <code>streamstream</code> that just takes STDIN and writes it to STDOUT in 1024-byte chunks. It looks like this:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() \n{\n    const int BUF_SIZE = 1024;\n\n    unsigned char* buf = new unsigned char[BUF_SIZE];\n\n    size_t read = fread(buf, 1, BUF_SIZE, stdin);\n\n    while(read &gt; 0)\n    {\n        fwrite(buf, 1, read, stdout);\n        read = fread(buf, 1, BUF_SIZE, stdin);\n    }\n\n    delete buf;\n}\n</code></pre>\n\n<p>To test how the program uses memory, I ran it with <code>valgrind</code> while piping the output from one to another as follows: </p>\n\n<pre><code>cat onetwoeightk | valgrind --tool=massif ./streamstream | valgrind --tool=massif ./streamstream | valgrind --tool=massif ./streamstream | hexdump\n</code></pre>\n\n<p>...where <code>onetwoeightk</code> is just a 128KB file of random bytes. Then I used the <code>ms_print</code> tool on the massif output to aid in interpretation. Obviously there is the overhead of the program itself and its heap, but it starts at about 80KB and never grows beyond that, because it's sipping STDIN just one kilobyte at a time. </p>\n\n<p>The data is passed from process to process 1 kilobyte at a time. Our overall memory usage will peak at 1 kilobyte * the number of instances of the program handling the stream.</p>\n\n<p>Now let's do what your perl program is doing--I'll read the whole stream (growing my buffer each time) and then write it all to STDOUT. Then I'll check the valgrind output again. </p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\nint main() \n{\n    const int BUF_INCREMENT = 1024;\n\n    unsigned char* inbuf = (unsigned char*)malloc(BUF_INCREMENT);\n    unsigned char* buf = NULL;\n    unsigned int bufsize = 0;\n\n    size_t read = fread(inbuf, 1, BUF_INCREMENT, stdin);\n\n    while(read &gt; 0)\n    {\n        bufsize += read;\n        buf = (unsigned char *)realloc(buf, bufsize);\n        memcpy(buf + bufsize - read, inbuf, read);\n\n        read = fread(inbuf, 1, BUF_INCREMENT, stdin);\n    }\n\n    fwrite(buf, 1, bufsize, stdout);\n\n    free(inbuf);\n    free(buf);\n}\n</code></pre>\n\n<p>Unsurprisingly, memory usage climbs to over 128 kilobytes over the execution of the program.</p>\n\n<pre><code>KB\n 137.0^                                                                      :#\n      |                                                                     ::#\n      |                                                                   ::::#\n      |                                                                  :@:::#\n      |                                                                :::@:::#\n      |                                                              :::::@:::#\n      |                                                            :@:::::@:::#\n      |                                                          :@:@:::::@:::#\n      |                                                         ::@:@:::::@:::#\n      |                                                       :@::@:@:::::@:::#\n      |                                                     :@:@::@:@:::::@:::#\n      |                                                   @::@:@::@:@:::::@:::#\n      |                                                 ::@::@:@::@:@:::::@:::#\n      |                                               :@::@::@:@::@:@:::::@:::#\n      |                                              @:@::@::@:@::@:@:::::@:::#\n      |                                            ::@:@::@::@:@::@:@:::::@:::#\n      |                                          :@::@:@::@::@:@::@:@:::::@:::#\n      |                                        @::@::@:@::@::@:@::@:@:::::@:::#\n      |                                      ::@::@::@:@::@::@:@::@:@:::::@:::#\n      |                                    ::::@::@::@:@::@::@:@::@:@:::::@:::#\n    0 +-----------------------------------------------------------------------&gt;ki\n      0                                                                   210.9\n</code></pre>\n\n<p>But the question is, what is the total memory usage due to this approach? I can't find a good tool for measuring the memory footprint over time of a set of interacting processes. <code>ps</code> doesn't seem accurate enough here, even when I insert a bunch of sleeps. But we can work it out: the 128KB buffer is only freed at the end of program execution, after the stream is written. But while the stream is being written, another instance of the program builds its own 128KB buffer. So we know our memory usage will climb to 2x 128KB. But it <em>won't</em> rise to 3x or 4x 128KB by chaining more instances of our program, as our instances free their memory and close as soon as they are done writing to STDOUT. </p>\n"}], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 45472946, "answer_count": 2, "score": 1, "last_activity_date": 1501721158, "creation_date": 1501712281, "last_edit_date": 1501721158, "question_id": 45471910, "link": "https://stackoverflow.com/questions/45471910/memory-usage-when-reading-from-stdin", "title": "Memory usage when reading from STDIN", "body": "<p>If I have text file (<code>textfile</code>) with lines of text and a Perl file (<code>perlscript</code>) of</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $var; \n$var.=$_ while (&lt;&gt;) ;\nprint $var;\n</code></pre>\n\n<p>And the command run in terminal</p>\n\n<pre><code>cat ./textfile | ./perlscript | ./perlscript | ./perlscript\n</code></pre>\n\n<p>If I run the above code on a 1kb text file, other than the program stack etc., have I used 4Kb of memory? Or when I pull from <code>STDIN</code>, have I freed that memory, therefore, I would only use 1 Kb?</p>\n\n<p>To word the above question another way, is copying from <code>STDIN</code> to a variable effectively neutral in memory usage? Or doubling memory consumption?</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1501708813, "post_id": 45471051, "comment_id": 77903416, "body": "What do you mean by &quot;sequential numbers?&quot;"}, {"owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1502232184, "post_id": 45471051, "comment_id": 78117759, "body": "You already got the nail on the head, but I meant numbers that have no spaces or characters in between... For example 82649 is a set of 5 sequential numbers... My example wasn&#39;t clear, so thank you for asking a clarifying question."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1501709127, "post_id": 45471208, "comment_id": 77903595, "body": "You probably want <code>&#47;s</code> in case the string contains newlines (and maybe <code>\\A</code>, just to be explicit)."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1501708896, "creation_date": 1501708896, "answer_id": 45471208, "question_id": 45471051, "link": "https://stackoverflow.com/questions/45471051/get-last-5-sequential-numbers-from-perl-text-and-3-preceding-characters/45471208#45471208", "title": "Get Last 5 Sequential Numbers from Perl Text and 3 Preceding Characters", "body": "<p>Use a regular expression:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy $string = 'This is just a bunch of ran 00000 Dom text. It has no 11111 meaning.';\n\nmy ($pre, $digits) = $string =~ /.*(...)([0-9]{5})/;\nsay \"&lt;$pre&gt;\\t&lt;$digits&gt;\";\n</code></pre>\n\n<ul>\n<li><code>[0-9]</code> matches any digit</li>\n<li><code>{5}</code> means the previous thing should match five times</li>\n<li><code>()</code> parentheses create a capture group</li>\n<li><code>.</code> matches any character (excpet newline)</li>\n<li><code>*</code> means the previous thing should match zero or more times, as much as possible. The <code>.*</code> therefore tries to match as much as possible from the string, to prevent matching the 00000.</li>\n</ul>\n"}], "owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 45471208, "answer_count": 1, "score": 0, "last_activity_date": 1501708896, "creation_date": 1501708217, "question_id": 45471051, "link": "https://stackoverflow.com/questions/45471051/get-last-5-sequential-numbers-from-perl-text-and-3-preceding-characters", "title": "Get Last 5 Sequential Numbers from Perl Text and 3 Preceding Characters", "body": "<p>How can someone get the last 5 sequential numbers from a Perl string and then additionally get the 3 characters that immediately proceed that sequence. For example, if the string is \"This is just a bunch of ran 00000 Dom text. It has no 11111 meaning.\" Then I would want to get \"11111\" and then \"no \".</p>\n"}, {"tags": ["json", "perl", "datetime", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1501703559, "post_id": 45469793, "comment_id": 77900599, "body": "... Can&#39;t locate object method &quot;stringify&quot; via package &quot;DateTime&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1501703579, "post_id": 45469793, "comment_id": 77900616, "body": "Yeah, I mis-remembered. The (undocumented, internal) method is actually named <code>_stringify</code>, but I wouldn&#39;t use that. Already fixed."}, {"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1501704863, "post_id": 45469793, "comment_id": 77901333, "body": "Alas, i was hoping for a true stringify somewhere, but I will accept this answer. I also added a stringify() as a suggestion to the module maintainer: <a href=\"https://github.com/houseabsolute/DateTime.pm/issues/58\" rel=\"nofollow noreferrer\">github.com/houseabsolute/DateTime.pm/issues/58</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1501704928, "post_id": 45469793, "comment_id": 77901373, "body": "What are you talking about? How you can get any true-er stringify than the <code>stringify</code> opcode? <code>perl -MO=Concise,-exec -e&#39;&quot;$dt&quot;&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 2, "creation_date": 1501705198, "post_id": 45469793, "comment_id": 77901521, "body": "<code>&quot;&quot;.$person-&gt;birth_d</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1501705210, "last_edit_date": 1501705210, "creation_date": 1501703457, "answer_id": 45469793, "question_id": 45469748, "link": "https://stackoverflow.com/questions/45469748/true-stringify-of-datetime/45469793#45469793", "title": "True stringify of DateTime", "body": "<p>You can use <code>\"$dt\"</code> or <code>\"\".$o-&gt;dt</code>. Like your solution, it's short for</p>\n\n<pre><code>$dt-&gt;formatter ? $dt-&gt;formatter-&gt;format_datetime($dt) : $dt-&gt;iso8601\n</code></pre>\n\n<p>If you want a specific format, there's <code>$dt-&gt;strftime</code>, <code>$dt-&gt;iso8601</code>, or you could use a <a href=\"http://search.cpan.org/search?query=DateTime%3A%3AFormat&amp;mode=module\" rel=\"nofollow noreferrer\"><em>DateTime::Format::</em></a> module.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501703889, "post_id": 45469811, "comment_id": 77900801, "body": "Re &quot;<i>or call the method that&#39;s actually getting called (<code>$dt-&gt;iso8601</code>)</i>&quot;, No, not quite. <code>&quot;$dt&quot;</code> is equivalent to <code>$dt-&gt;formatter ? $dt-&gt;formatter-&gt;format_datetime($dt) : $dt-&gt;iso8601</code>."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1501703550, "creation_date": 1501703550, "answer_id": 45469811, "question_id": 45469748, "link": "https://stackoverflow.com/questions/45469748/true-stringify-of-datetime/45469811#45469811", "title": "True stringify of DateTime", "body": "<p>You can explicitly interpolate the object in a string (<code>\"$dt\"</code>) or call the method that's actually getting called (<code>$dt-&gt;iso8601</code>).</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse DateTime;\n\nmy $dt = DateTime-&gt;now;\n\nsay $dt;\nsay \"$dt\";\nsay $dt-&gt;iso8601;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2017-08-02T19:54:22\n2017-08-02T19:54:22\n2017-08-02T19:54:22\n</code></pre>\n"}], "owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 45469793, "answer_count": 2, "score": 0, "last_activity_date": 1501705210, "creation_date": 1501703305, "last_edit_date": 1501704270, "question_id": 45469748, "link": "https://stackoverflow.com/questions/45469748/true-stringify-of-datetime", "title": "True stringify of DateTime", "body": "<p>According to:</p>\n\n<p><a href=\"http://search.cpan.org/~drolsky/DateTime-1.43/lib/DateTime.pm#Formatters_And_Stringification\" rel=\"nofollow noreferrer\">http://search.cpan.org/~drolsky/DateTime-1.43/lib/DateTime.pm#Formatters_And_Stringification</a></p>\n\n<p>the following will work:</p>\n\n<pre><code>use DateTime;\n$dt = DateTime-&gt;new( ... );\nprint $dt;  # as string\n</code></pre>\n\n<p>and it does. </p>\n\n<p>However, when using the JSON module to embed the created $dt string as a json-encoded data structure as follows:</p>\n\n<pre><code>use JSON;\nmy $json = JSON::encode_json( { dt =&gt; $dt } );\n</code></pre>\n\n<p>The JSON module is throwing the following exception:</p>\n\n<pre><code>encountered object '2017-08-02', but neither allow_blessed nor convert_blessed settings are enabled at ...\n</code></pre>\n\n<p>I can work around the issue as follows:</p>\n\n<pre><code>my $json = JSON::encode_json( { dt =&gt; substr($dt,0) } );\n</code></pre>\n\n<p>but wonder if there's a cleaner way to get a \"true\" string out of DateTime?  </p>\n\n<p>I've looked through the DateTime docs but I don't see an explicit stringify() to create the true string as required by JSON.</p>\n\n<p>EDIT: In the constructor, I specify a desired output format via 'formatter'. I'd like to get a string using the already-specified format, and not specify the format again (which would be against DRY principle...)</p>\n\n<p>EDIT2: Interpolating the string is a good solution if just $dt, but doesn't work if $dt is actually a moose attribute (i.e. \"$person->birth_d\"). </p>\n"}, {"tags": ["perl", "int", "double", "pack", "mixing"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1501688698, "post_id": 45465230, "comment_id": 77891596, "body": "Don&#39;t, use a parsable format like JSON."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 8406514, "user_type": "registered", "profile_image": "https://graph.facebook.com/1751324591562900/picture?type=large", "display_name": "Aki", "link": "https://stackoverflow.com/users/8406514/aki"}, "edited": false, "score": 1, "creation_date": 1501690810, "post_id": 45465613, "comment_id": 77893032, "body": "Perhaps you should stop to think before replying. I repeat: The first snippet produces unusable output. Period. Consider what happens for <code>@array = qw&#47;4.0 ...&#47;</code> vs <code>@array = qw&#47;4.1 ...&#47;</code>"}, {"owner": {"reputation": 1, "user_id": 8406514, "user_type": "registered", "profile_image": "https://graph.facebook.com/1751324591562900/picture?type=large", "display_name": "Aki", "link": "https://stackoverflow.com/users/8406514/aki"}, "edited": false, "score": 0, "creation_date": 1501695414, "post_id": 45465613, "comment_id": 77895774, "body": "I am sorry, I am probably misunderstanding something, but your first suggestion worked well.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 8406514, "user_type": "registered", "profile_image": "https://graph.facebook.com/1751324591562900/picture?type=large", "display_name": "Aki", "link": "https://stackoverflow.com/users/8406514/aki"}, "edited": false, "score": 0, "creation_date": 1501695448, "post_id": 45465613, "comment_id": 77895799, "body": "You obviously didn&#39;t run the test I mentioned. I can&#39;t keep you from lying to yourself, but it&#39;s your program that&#39;s going to break and your reputation on the line, not mine."}, {"owner": {"reputation": 1, "user_id": 8406514, "user_type": "registered", "profile_image": "https://graph.facebook.com/1751324591562900/picture?type=large", "display_name": "Aki", "link": "https://stackoverflow.com/users/8406514/aki"}, "edited": false, "score": 0, "creation_date": 1501767270, "post_id": 45465613, "comment_id": 77932221, "body": "I see now, it is working because the double values I get are so unlikely to hit exactly an integer but at one point it would hit one and give a wrong binary file like you pointed out."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1501696328, "last_edit_date": 1501696328, "creation_date": 1501689325, "answer_id": 45465613, "question_id": 45465230, "link": "https://stackoverflow.com/questions/45465230/mixing-integer-and-double-types-and-packing-them-into-raw-binary-format-with-per/45465613#45465613", "title": "Mixing integer and double types and packing them into raw binary format with perl", "body": "<pre><code>for (@array) {\n   if (int($_) == $_) {\n      $output .= pack($int_format, $_);\n   } else {\n      $output .= pack($double_format, $_);\n   }\n}\n</code></pre>\n\n<p>That said, there's no way the file format you specify could be read by anything. The reader needs to know whether the next thing to read is stored as an integer or as a double, but that information is not available to it.</p>\n\n<p>Maybe you meant you wanted to select the format based on the presence or absence of <code>.</code> in the strings in <code>@array</code>. In that case, you'd use the following:</p>\n\n<pre><code>for (@array) {\n   if (/\\./) {\n      $output .= pack($double_format, $_);\n   } else {\n      $output .= pack($int_format, $_);\n   }\n}\n</code></pre>\n\n<p>You've since mentioned the reader expects a specific pattern of floating point numbers and integers. So why not just use that same pattern?</p>\n\n<pre><code>$output .= pack(\"$int_format$double_format$double_format$int_format$double_format\", @array);\n</code></pre>\n\n<hr>\n\n<p>Note that I left the exact format vague. That's because you did as well.</p>\n\n<ul>\n<li>You didn't specify the size of the integer:\n\n<ul>\n<li>8-bit integer (<code>c</code>)</li>\n<li>16-bit integer (<code>s</code>)</li>\n<li>32-bit integer (<code>l</code>)</li>\n<li>64-bit integer (<code>q</code> or use <a href=\"http://search.cpan.org/perldoc?Math::Int64\" rel=\"nofollow noreferrer\">Math::Int64</a>)</li>\n<li>Same as the <code>int</code> of the compiler that compiled Perl (<code>i</code>)</li>\n<li>Same as Perl uses (<code>j</code>)</li>\n</ul></li>\n<li>The format for double-precision floating point numbers is <code>d</code>.</li>\n<li>You didn't specify endianness (for either the integer and the floating-point number):\n\n<ul>\n<li>little-endian (append <code>&lt;</code>)</li>\n<li>big-endian (append <code>&gt;</code>)</li>\n<li>native endianness (no suffix)</li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 8406514, "user_type": "registered", "profile_image": "https://graph.facebook.com/1751324591562900/picture?type=large", "display_name": "Aki", "link": "https://stackoverflow.com/users/8406514/aki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1501696328, "creation_date": 1501688272, "last_edit_date": 1501689474, "question_id": 45465230, "link": "https://stackoverflow.com/questions/45465230/mixing-integer-and-double-types-and-packing-them-into-raw-binary-format-with-per", "title": "Mixing integer and double types and packing them into raw binary format with perl", "body": "<p>In perl, with an array that only has integers and doubles like\n@array = qw/4 3.1416 6.7 15 4.3/,\nhow do you pack the list into a sequence of binaries and save it to a .bi file, where the binary has to be exactly an int when an element is an integer and double when the element is double. This format is essential because I need to feed itto an external executable.</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501688296, "post_id": 45464813, "comment_id": 77891285, "body": "(You shouldn&#39;t need to adjust the path. You should be able to simply do <code>&#47;path&#47;to&#47;perl -v</code>.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501688390, "post_id": 45464813, "comment_id": 77891358, "body": "Can&#39;t even do <code>perl -v</code>? That install is pooched. Reinstall it. (If the files simply got moved around, this might be fixable by moving them back. But that&#39;s a big &quot;if&quot;, and basically requires knowing what got moved where.)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1501688455, "post_id": 45464813, "comment_id": 77891403, "body": "Are you sure that you need Perl 5.8? Perl is generally pretty good at maintaining backwards compatibility. Have you tried running your application&#39;s test suite under Perl 5.18 to see what happens? I&#39;d bet that fixing the few problems you might find will be quicker than trying to get an obsolete Perl version up and running."}, {"owner": {"reputation": 1, "user_id": 7964644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dccb1127a2053d6f3d3c3bf82f65b88c?s=128&d=identicon&r=PG&f=1", "display_name": "MrDeMolay", "link": "https://stackoverflow.com/users/7964644/mrdemolay"}, "edited": false, "score": 0, "creation_date": 1501688552, "post_id": 45464813, "comment_id": 77891488, "body": "I don&#39;t have the module binaries for each of the 20 modules installed on my old system. And my server does not have access to CPAN/Internet to do the installs. I was hoping to just re-point from the base install of perl to my old one copied from old server."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501688661, "post_id": 45464813, "comment_id": 77891576, "body": "Re &quot;<i>And my server does not have access to CPAN/Internet to do the installs</i>&quot;, That part isn&#39;t an issue. You could download the distros you need using another machine. You could even download <a href=\"http://search.cpan.org/perldoc?CPAN::Mini\" rel=\"nofollow noreferrer\">all of CPAN</a>!"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1501688714, "creation_date": 1501688714, "answer_id": 45465389, "question_id": 45464813, "link": "https://stackoverflow.com/questions/45464813/linux-and-multi-perl-versions/45465389#45465389", "title": "Linux and multi perl versions", "body": "<p>Some of the files of your Perl installation are missing. Without knowledge of what was done, there's no practical way of fixing this other than reinstalling Perl.</p>\n"}], "owner": {"reputation": 1, "user_id": 7964644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dccb1127a2053d6f3d3c3bf82f65b88c?s=128&d=identicon&r=PG&f=1", "display_name": "MrDeMolay", "link": "https://stackoverflow.com/users/7964644/mrdemolay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501688714, "creation_date": 1501687159, "last_edit_date": 1501688463, "question_id": 45464813, "link": "https://stackoverflow.com/questions/45464813/linux-and-multi-perl-versions", "title": "Linux and multi perl versions", "body": "<p>I have a server running SUSE Linux that included Perl 5.18 (64-bit) as the base perl version. I have an older application using Perl 5.8 (32-bit) that I would like to migrate to the new server however the new server does not have access to the internet. Can I do this migration of all 5.8 modules without using CPAN?</p>\n\n<p>A lot of internet support cases indicate that I can point to the 2nd instance of perl, but when doing a test, it keeps grabbing the 64-bit version perl. I've looked into perlbrew, but can't download and install it on my server. Is there any comprehensive list of what environment or system setup that would be required to use the older 5.8 version?</p>\n\n<p>When doing perl -v from command line it returns 5.18. When I adjusted Path variable putting home directory where perl binary is for 5.8, I get error \"perl: error while loading shared libraries: libperl.so: cannot open shared object file: No such file or directory\"</p>\n\n<p>user@servername:/home/user/bin $ /home/user/bin/perl -v</p>\n\n<p>/home/user/bin/perl: error while loading shared libraries: libperl.so: cannot open shared object file: No such file or directory</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1501682970, "post_id": 45463118, "comment_id": 77887046, "body": "Relevant: <a href=\"https://metacpan.org/pod/JSON#simple-scalars\" rel=\"nofollow noreferrer\">metacpan.org/pod/JSON#simple-scalars</a>"}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501684066, "post_id": 45463466, "comment_id": 77887868, "body": "Thank you for this answer! I see now that it is impossible to distinguish between <code>0</code> and <code>&#39;0&#39;</code> because they are both stringified. I will use @Sinan &#220;n&#252;r &#39;s approach in dealing with numeric keys."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 1, "creation_date": 1501684145, "post_id": 45463466, "comment_id": 77887935, "body": "@aoiee you should also review your code. Why is the variable called <code>$key</code> when it&#39;s actually the value? And making the function <code>print</code> and return the return value of <code>print</code> is... confusing."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501684492, "post_id": 45463466, "comment_id": 77888244, "body": "As @simbabque points out <code>FETCH</code> should return the JSON encoded value, instead of printing it and then returning <code>print</code>&#39;s value. Also, there is the issue of how to deal with <code>42.0</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501684710, "post_id": 45463466, "comment_id": 77888445, "body": "@aoiee Also, note that you don&#39;t really want to make an extra copy of the argument list on each invocation."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1501683577, "creation_date": 1501683577, "answer_id": 45463466, "question_id": 45463118, "link": "https://stackoverflow.com/questions/45463118/in-perl-how-can-i-distinguish-between-numeric-and-string-hash-values-in-json-en/45463466#45463466", "title": "In Perl, how can I distinguish between numeric and string hash values in JSON encoding?", "body": "<p>Since there is no real concept of string or number in Perl, but only the <em>scalar</em>, this is tricky. The <a href=\"https://metacpan.org/pod/JSON#simple-scalars\" rel=\"noreferrer\">JSON module tries</a> to do it by looking at the last context the value it encodes was used in.</p>\n\n<blockquote>\n  <p>Simple Perl scalars (any scalar that is not a reference) are the most difficult objects to encode: this module will encode undefined scalars as JSON null values, scalars that have last been used in a string context before encoding as JSON strings, and anything else as number value:</p>\n\n<pre><code># dump as number\nencode_json [2]                      # yields [2]\nencode_json [-3.0e17]                # yields [-3e+17]\nmy $value = 5; encode_json [$value]  # yields [5]\n\n# used as string, so dump as string\nprint $value;\nencode_json [$value]                 # yields [\"5\"]\n\n# undef becomes null\nencode_json [undef]                  # yields [null]\n</code></pre>\n</blockquote>\n\n<p>Your code in <code>FETCH</code> does not do this specifically. So it has to be somewhere else.</p>\n\n<p>My guess is that Perl's automatic quoting for hash keys is the culprit here.</p>\n\n<pre><code>$exp-&gt;{0}; # this should print {\"key\":0}\n$exp-&gt;{'0'}; # this should print {\"key\":\"0\"}\n</code></pre>\n\n<p>These two expressions are equivalent. Perl will automatically treat things inside of the <code>{}</code> for hash (ref) elements as quoted and they become strings. Because that's easily forgotten, <a href=\"https://stackoverflow.com/q/401556/1331451\">there is best practice</a> to always use single quotes <code>''</code>.</p>\n\n<p><a href=\"https://perldoc.perl.org/perldata.html#Variable-names\" rel=\"noreferrer\">Perldata says</a> (emphasis mine):</p>\n\n<blockquote>\n  <p>Hashes are unordered collections of scalar values indexed by their associated <strong>string key</strong>.</p>\n</blockquote>\n\n<p>The idea is that there are no numerical keys for hashes. If there are numerical keys, they can be ordered, and then you have an array. </p>\n\n<p>You can get further proof for this by calling your <code>FETCH</code> directly with an unquoted number as the arg.</p>\n\n<pre><code>Example::Tie-&gt;FETCH(1);\n</code></pre>\n\n<p>This will result in </p>\n\n<pre><code>{\"key\":1}\n</code></pre>\n\n<p>I therefore conclude that using <code>tie</code> with the JSON module what you want to do is not possible, unless you explicitly try to force it back to be a number. There is an example in the JSON module's documentation.</p>\n\n<blockquote>\n  <p>You can force the type to be a number by numifying it:</p>\n\n<pre><code>my $x = \"3\"; # some variable containing a string\n$x += 0;     # numify it, ensuring it will be dumped as a number\n$x *= 1;     # same thing, the choice is yours.\n</code></pre>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501683802, "post_id": 45463497, "comment_id": 77887658, "body": "Congratulations on reaching 100k :)"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 5, "last_activity_date": 1501684629, "last_edit_date": 1501684629, "creation_date": 1501683682, "answer_id": 45463497, "question_id": 45463118, "link": "https://stackoverflow.com/questions/45463118/in-perl-how-can-i-distinguish-between-numeric-and-string-hash-values-in-json-en/45463497#45463497", "title": "In Perl, how can I distinguish between numeric and string hash values in JSON encoding?", "body": "<p>Basically, <a href=\"https://stackoverflow.com/a/45463466/100754\">@simbabque's answer</a> is spot on. By the time, your <code>FETCH</code> gets the argument list, the <code>0</code> in <code>$exp-&gt;{0}</code> has already been stringified because hash keys are always strings.</p>\n\n<p>Of course, you are going to have issues if you add <code>0</code> to every argument to fetch indiscriminately. Below, I use <a href=\"https://metacpan.org/Scalar::Util\" rel=\"nofollow noreferrer\">Scalar::Util::looks_like_number</a> to distinguish between numbers and strings, but, of course, this will not work if you try it with <code>\"0\"</code>. That will also get converted to <code>0</code>.</p>\n\n<pre><code>use strict; use warnings;\n\npackage Example::Tie;\n\nuse JSON;\nuse Scalar::Util qw( looks_like_number );\n\nmy $json = JSON-&gt;new;\n\nsub TIEHASH {\n    my $pkg = shift;\n    bless { @_ } =&gt; $pkg;\n}\n\nsub FETCH {\n    my $tied = shift;\n    $json-&gt;encode({key =&gt; looks_like_number($_[0]) ? 0 + $_[0] : $_[0]})\n}\n\npackage Example;\n\nsub new {\n    my $pkg = shift;\n    my $self = {};\n    tie %$self, 'Example::Tie', @_;\n    bless $self =&gt; $pkg;\n}\n\npackage main;\n\nmy $exp = Example-&gt;new;\nprint \"$_\\n\" for map $exp-&gt;{$_}, 0, 'a';\n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 1, "accepted_answer_id": 45463466, "answer_count": 2, "score": 4, "last_activity_date": 1501685117, "creation_date": 1501682611, "last_edit_date": 1501685117, "question_id": 45463118, "link": "https://stackoverflow.com/questions/45463118/in-perl-how-can-i-distinguish-between-numeric-and-string-hash-values-in-json-en", "title": "In Perl, how can I distinguish between numeric and string hash values in JSON encoding?", "body": "<p>In the following code, I have a class tied to a hash. In the <code>FETCH</code> function, I am printing the <code>JSON</code> encoding of the key:</p>\n\n<pre><code>package Example::Tie;\nuse JSON;\nmy $json = JSON-&gt;new();\n\nsub TIEHASH {\n    my ($pkg,@list) = @_;\n    bless { @list }, $pkg;\n}\n\nsub FETCH {\n    my ($tied,$key) = @_;\n    return $json-&gt;encode({key =&gt; $key});\n}\n\npackage Example;\n\nsub new {\n    my ($pkg,@list) = @_;\n    my $self = {};\n    tie %$self, 'Example::Tie', @list;\n    bless $self, $pkg;\n}\n\npackage main;\nmy $exp = Example-&gt;new();\nprint($exp-&gt;{0} . \"\\n\");\n</code></pre>\n\n<p>I get the following output:</p>\n\n<pre><code>{\"key\":\"0\"}\n</code></pre>\n\n<p>This results in <code>0</code> being encoded as a string. Is there a way to encode it into a number instead?</p>\n\n<pre><code>print($exp-&gt;{0} . \"\\n\"); # this should print {\"key\":0}\nprint($exp-&gt;{'0'} . \"\\n\"); # this should print {\"key\":\"0\"}\n</code></pre>\n"}, {"tags": ["linux", "apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1501667294, "post_id": 45457297, "comment_id": 77874899, "body": "Have you tried looking at the output of running the stop command?"}, {"owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1501667436, "post_id": 45457297, "comment_id": 77875000, "body": "It&#39;s printing like this:                                        Stopping httpd: [FAILED]"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 3, "creation_date": 1501667568, "post_id": 45457297, "comment_id": 77875095, "body": "Perhaps the user running the CGI script has not the right to start/stop the service."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1501667584, "post_id": 45457297, "comment_id": 77875109, "body": "Do I get that right: You are trying to stop the HTTP server while it is serving your script? Like unmounting a car&#39;s wheel while driving?"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 6, "creation_date": 1501667625, "post_id": 45457297, "comment_id": 77875136, "body": "I wonder how he tries to start it again ... ;)"}, {"owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "edited": false, "score": 1, "creation_date": 1501668001, "post_id": 45457297, "comment_id": 77875382, "body": "If the httpd service is stopped, then i&#39;m going to get an error in my browser which will indicate that the service is stopped..But the problem is its httpd or any other service-it&#39;s not working.And if the user while running the script is apache than how is it displaying the status.I mean that user may not have the permission to do that."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "edited": false, "score": 0, "creation_date": 1501670384, "post_id": 45458236, "comment_id": 77877118, "body": "Points noted.Thanks for your advice.Actually I&#39;m new to the CGI environment.The other way i want to try is to login as root user and execute that command.Is it possible to login to root from the script or the other option is to give sudo rights to the apache user.which one will be better and ease my task?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "edited": false, "score": 0, "creation_date": 1501670510, "post_id": 45458236, "comment_id": 77877208, "body": "<i>Actually I&#39;m new to the CGI environment.</i> @VamseeBond: Then please stop. Learning CGI in 2017 is ridiculous."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "edited": false, "score": 0, "creation_date": 1501682780, "post_id": 45458236, "comment_id": 77886891, "body": "@VamseeBond I am not a stringently against learning CGI, but you need to find a different task to learn. One that does not involve gaping backdoors to the system."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "edited": false, "score": 0, "creation_date": 1501744769, "post_id": 45458236, "comment_id": 77915163, "body": "@VamseeBond: You haven&#39;t accepted answers to any of your questions. You might like to put that right before people start wondering if they can be bothered to help you. See <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "edited": false, "score": 0, "creation_date": 1501745670, "post_id": 45458236, "comment_id": 77915789, "body": "@VamseeBond: That&#39;s great. Thank you."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1501677498, "last_edit_date": 1501677498, "creation_date": 1501669630, "answer_id": 45458236, "question_id": 45457297, "link": "https://stackoverflow.com/questions/45457297/how-to-start-stop-services-using-perl-cgi-script/45458236#45458236", "title": "How to start/stop services using Perl CGI script", "body": "<p>I suggest displaying the output from the <code>stop</code> command. I strongly suspect that you will see an error indicating that you do not have permission to stop the service.</p>\n\n<p>A correctly configured web server process will be owned by a user that has almost no permissions on the system. This is a security feature. CGI programs on your web server can be run by anyone who can access the web server. For that reason, the web server user is usually configured to only run a very limited set of programs.</p>\n\n<p>Starting and stopping your web server is something that you will usually need root permissions for. Your web server process will not have root permissions (for, hopefully, obvious reasons). But it's entirely possible that every user on the system (including the web server user) will have permissions to get the status of the web server process. This is why your <code>httpd status</code> command works, while the <code>httpd stop</code> command doesn't.</p>\n\n<p>You could give the web server user temporary permission to start or stop services, using <code>sudo</code> or something like that. But you would need to do it very carefully - perhaps requiring a password on the web page (and transmitting that password securely over https).</p>\n\n<p>But it's probably a better idea to reconsider this approach completely.</p>\n\n<p>Can I also point that it's a bad idea to use backticks to run external commands that you don't want to collect the output from. In cases like that, it will be more efficient to use the <code>system()</code> function.</p>\n\n<p>I also note, that you are loading the CGI module, but not using any of its functionality. You even manually create your <code>Content-Type</code> header, ignoring the module's <code>header()</code> function.</p>\n\n<p>And here's my traditional admonition that writing new CGI programs in 2017 is a terrible idea. Please read <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> and consider a PSGI-based approach instead.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1501670459, "creation_date": 1501670459, "answer_id": 45458576, "question_id": 45457297, "link": "https://stackoverflow.com/questions/45457297/how-to-start-stop-services-using-perl-cgi-script/45458576#45458576", "title": "How to start/stop services using Perl CGI script", "body": "<p>You should not even think of having a CGI script which has the privileges to start/stop services on a computer. There are, of course, valid reasons to want to have remote control over servers, but if giving the HTTP daemon super user privileges is the only way you can think of achieving that end, you need to realize that you ought not to be the person implementing that functionality.</p>\n"}], "owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 947, "favorite_count": 0, "accepted_answer_id": 45458236, "answer_count": 2, "score": -1, "last_activity_date": 1501677498, "creation_date": 1501667208, "last_edit_date": 1501670967, "question_id": 45457297, "link": "https://stackoverflow.com/questions/45457297/how-to-start-stop-services-using-perl-cgi-script", "title": "How to start/stop services using Perl CGI script", "body": "<p>My aim is to start/stop services(like httpd, sshd, iptables, etc) from a Perl CGI Script.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nprint \"content-type:text/html\\n\\n\";\nprint &lt;&lt;EOM;\n&lt;html&gt;\n&lt;body&gt;\nEOM\n`/etc/init.d/httpd stop`;\nmy $res=`/etc/init.d/httpd status`;\nprint &lt;&lt;EOM;\n&lt;h3&gt;$res&lt;/h3&gt;\n&lt;/body&gt;\n&lt;/html&gt;\nEOM\n</code></pre>\n\n<p>Here the first command inside back tics isn't working, whereas the second command which is assigned to $res is working. \nOutput on the browser is as follows:</p>\n\n<pre><code>httpd (pid 15657) is running...\n</code></pre>\n"}, {"tags": ["perl", "search"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1501664540, "post_id": 45456177, "comment_id": 77872881, "body": "<code>=~ m</code> doesn&#39;t modify a variable, but returns true or false."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1501664720, "post_id": 45456177, "comment_id": 77873022, "body": "<code>$xml</code> contains the current line. It is printed only when it contains <code>&gt;OK&lt;</code>, if you remove the test, the script prints all the lines."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1501664894, "post_id": 45456177, "comment_id": 77873117, "body": "Sample data would be useful. Because the answer here is probably don&#39;t use regex for XML parsing. But I can&#39;t give you a better solution without your data."}, {"owner": {"reputation": 31, "user_id": 3062996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RxIpG.png?s=128&g=1", "display_name": "TCke", "link": "https://stackoverflow.com/users/3062996/tcke"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1501664896, "post_id": 45456177, "comment_id": 77873118, "body": "@choroba If i remove the check on OK and leave the print statement it prints the whole xml snippet, otherwise it prints only the line containing the OK, where is the $xml variable modified then?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501665100, "post_id": 45456177, "comment_id": 77873277, "body": "The input goes into <code>$_</code>.  Then that <i>is modified</i> in the range with <code>if</code>s, since <code>s&#47;</code> by default works on <code>$_</code>.  So it&#39;s anyone&#39;s guess what <code>$xml</code> then gets, being assigned <code>$_</code>. We&#39;d need to see the data."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501719156, "post_id": 45456177, "comment_id": 77906614, "body": "See, that&#39;s one reason why it&#39;s good to show input and output -- what you actually want, <i>now</i> clear, won&#39;t be done by the posted code.  And, regardless of the mysterious behavior you say you see, which I don&#39;t (I get with your script and input exactly as expected, two lines with the <code>OK</code> phrase in them.)"}, {"owner": {"reputation": 31, "user_id": 3062996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RxIpG.png?s=128&g=1", "display_name": "TCke", "link": "https://stackoverflow.com/users/3062996/tcke"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501763009, "post_id": 45456177, "comment_id": 77928651, "body": "@zdim It is not entirely clear what you mean with the code snipper, i&#39;ve added push <code>@buff, $_;</code> instead of <code>my $xml = $_;</code> and did the check on $_ for the OK. And if there is a match i&#39;ve printed @buff, but the output file is empty"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501788616, "post_id": 45456177, "comment_id": 77947426, "body": "That really wasn&#39;t very clear ... posted nicely instead.  Let me know how it goes."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1503111110, "last_edit_date": 1503111110, "creation_date": 1501788560, "answer_id": 45493020, "question_id": 45456177, "link": "https://stackoverflow.com/questions/45456177/perl-collecting-xml-snippets-from-log-with-specific-contents/45493020#45493020", "title": "Perl collecting xml snippets from log with specific contents", "body": "<p>The objective is to capture the whole <code>tag</code> when it contains a specific pattern (<code>&gt;OK&lt;</code>).</p>\n\n<p>Here is a step-by-step way which spells out details. I keep your program interface.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $tag = pop;\n\nmy ($inside_tag, $found, @buff);\n\nwhile (&lt;&gt;)\n{\n    if (s/.*(&lt;$tag&gt;)/$1/) {\n        $inside_tag = 1;\n    }   \n    elsif (s|(&lt;/$tag&gt;).*|$1|) {  #/\n        $inside_tag = 0;\n        if ($found) { \n            print @buff, $_;\n            $found = 0;\n        }\n        @buff = ();\n    }   \n\n    next unless $inside_tag;\n\n    push @buff, $_; \n\n    $found = 1 if /&gt;OK&lt;/;\n}\n</code></pre>\n\n<p>On the opening tag we set the flag that we are inside the tag. On the closing tag we unset it, and if the marker has been <code>$found</code> we print the buffer (and unset marker's flag). We clear the buffer here. </p>\n\n<p>Then we skip the iteration if outside of the tag. Otherwise, add the line to the buffer and test for the marker on that line.</p>\n\n<hr>\n\n<p>A glitch with using the range in this problem  is that we must know when we are on the closing-tag line, and would like to know the opening line as well. Then we need further tests and flip-flop isn't so clean any more. We can use the <em>sequence number</em> that the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\"><code>..</code> operator</a> returns</p>\n\n<blockquote>\n  <p>The value returned is either the empty string for false, or a sequence number (beginning with 1) for true. The sequence number is reset for each range encountered. The final sequence number in a range has the string <code>\"E0\"</code> appended to it, which doesn't affect its numeric value, but gives you something to search for if you want to exclude the endpoint. You can exclude the beginning point by waiting for the sequence number to be greater than 1.</p>\n</blockquote>\n\n<p>It would go something like</p>\n\n<pre><code>if (my $seq = /BEG/ .. /END/) \n{\n    if ($seq == 1)        {  # first line of range\n        # ...\n    }\n    elsif ($seq =~ /EO$/) {  # last line of range\n        # ...\n    }\n    else  { ... }            # inside\n</code></pre>\n\n<p>and I don't see that this is clearer or better than keeping the state manually.</p>\n"}], "owner": {"reputation": 31, "user_id": 3062996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RxIpG.png?s=128&g=1", "display_name": "TCke", "link": "https://stackoverflow.com/users/3062996/tcke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 45493020, "answer_count": 1, "score": 0, "last_activity_date": 1503111110, "creation_date": 1501664410, "last_edit_date": 1501668137, "question_id": 45456177, "link": "https://stackoverflow.com/questions/45456177/perl-collecting-xml-snippets-from-log-with-specific-contents", "title": "Perl collecting xml snippets from log with specific contents", "body": "<p>I have a script copied from another stackoverflow question, but it seems to replace the content of the variable, could someone point me to the error? If i remove the if check for the \">OK&lt;\" it prints the whole xml to a file, if i put the if back it only prints the line containing the \">OK&lt;\", why is the $xml variable modified by the =~?</p>\n\n<pre><code># Example usage:\n# perl script.pl data.xml RootTag &gt; RootTag.xml\n\nuse strict;\nuse warnings;\n\nmy $tag = pop;\n\nwhile (&lt;&gt;){\n  if ( s/.*(&lt;$tag&gt;)/$1/ .. s/(&lt;(\\/)$tag&gt;).*/$1/ ) {\n    my $xml = $_;\n    if ($xml =~ m/&gt;OK&lt;/) {\n        print \"$xml\";\n    }\n  }\n}\n</code></pre>\n\n<p>An example of a input file could be</p>\n\n<pre><code>reioirioree\nbrebreberbre\nrbebrbebre\n&lt;test&gt;\n&lt;id&gt;1&lt;/id&gt;\n&lt;status&gt;OK&lt;/status&gt;\n&lt;/test&gt;\nbbrtbtrbt\nrtbtrb\n&lt;test&gt;\n&lt;id&gt;2&lt;/id&gt;\n&lt;status&gt;KO&lt;/status&gt;\n&lt;/test&gt;\nbrtoibjtrbi\nbebbetreb\n&lt;test&gt;\n&lt;id&gt;3&lt;/id&gt;\n&lt;status&gt;OK&lt;/status&gt;\n&lt;/test&gt;\ndfbreberbreb\nberbrebre\n</code></pre>\n\n<p>In this case if we user \"test\" as parameter, i would like following output</p>\n\n<pre><code>&lt;test&gt;\n&lt;id&gt;1&lt;/id&gt;\n&lt;status&gt;OK&lt;/status&gt;\n&lt;/test&gt;\n&lt;test&gt;\n&lt;id&gt;3&lt;/id&gt;\n&lt;status&gt;OK&lt;/status&gt;\n&lt;/test&gt;\n</code></pre>\n"}, {"tags": ["html", "xml", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1501660968, "post_id": 45453911, "comment_id": 77870384, "body": "<a href=\"http://search.cpan.org/dist/XML-LibXML/LibXML.pod\" rel=\"nofollow noreferrer\">XMLLibXML</a> or <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\">XML::Twig</a>.  Happy coding.  If you run into trouble ask, about <i>your code</i>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1501661071, "post_id": 45453911, "comment_id": 77870459, "body": "Here people normally post their code, describing specific problems they have with it. This is not a good place to simply ask for someone to write code for you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1501661346, "post_id": 45453911, "comment_id": 77870646, "body": "Also - without some sample (valid) XML, it&#39;s hard to even do that. But with XML::Twig you can rename your tags. Rearranging the tree structure (e.g. unrolling nesting) is somewhat harder though, so we need some clearer explanation. Sample input and output is a good start for that. XML::Twig lets you cut and paste elements, which sounds like it could be what you&#39;re after."}], "answers": [{"tags": [], "owner": {"reputation": 6356, "user_id": 284285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lZ5E.jpg?s=128&g=1", "display_name": "Ghislain Fourny", "link": "https://stackoverflow.com/users/284285/ghislain-fourny"}, "is_accepted": false, "score": 0, "last_activity_date": 1501661241, "creation_date": 1501661241, "answer_id": 45455029, "question_id": 45453911, "link": "https://stackoverflow.com/questions/45453911/extracting-nested-xml-tags-not-its-attributes-or-values-or-even-contents/45455029#45455029", "title": "Extracting nested xml tags (not its attributes or values or even contents.)", "body": "<p>I would recommend using a <strong>Perl XML/XPath library</strong>.</p>\n\n<p>XML is not a regular language, so that regex would not suffice in the general case. Attempting to write new code to extract tags from an XML document would, in the end, come down to rewriting a basic (that is, not necessarily fully conformant) XML parser from scratch.</p>\n\n<p>One of the reasons why XML usage is so widespread is that it is a W3C standard, so that there are a lot of existing conformant parsers out there, which spares the time and effort of writing new parsers. Some parsers will expose the document to the host language (e.g., DOM), some will come with XPath included, which makes it even easier.</p>\n\n<p>I hope this helps!</p>\n"}], "owner": {"reputation": 1, "user_id": 4523597, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LlaLOOtcWOg/AAAAAAAAAAI/AAAAAAAAARg/Zia9-HmC_wo/photo.jpg?sz=128", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/4523597/rajesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501661241, "creation_date": 1501657974, "question_id": 45453911, "link": "https://stackoverflow.com/questions/45453911/extracting-nested-xml-tags-not-its-attributes-or-values-or-even-contents", "title": "Extracting nested xml tags (not its attributes or values or even contents.)", "body": "<p>Hi Folks out there i have a real trouble to get the xml tag out of it while its nested. And i need your help to find the starting tag and closing tag from an xml file while its nested ? using Perl script (either regex or modules..anything is ok) but only perl</p>\n\n<p>**NOTE: I need to number the tag and strictly i dont need the contents inside the tag.</p>\n\n<p>Tried to copy epsilon because it shows me the correct closing tag when i select the starting tag. But i cant.**</p>\n\n<p>Th sample pasted below is a small snippet but i need code for any number of nesting</p>\n\n<pre><code>sample Tag:\n&lt;mrow&gt;&lt;mrow&gt;&lt;mrow&gt;....&lt;mi&gt;K&lt;\\mi&gt;...&lt;\\mrow&gt;&lt;mi&gt;&lt;\\mi&gt;&lt;\\mrow&gt;&lt;\\mrow&gt;\n\nexpected output:\n\n&lt;mrow1&gt;&lt;\\mrow1&gt;\n&lt;mrow2&gt;&lt;\\mrow2&gt;\n&lt;mrow3&gt;&lt;\\mrow3&gt;\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501657584, "post_id": 45453525, "comment_id": 77868264, "body": "There is no <code>TRUNCATE</code>. You have to delete all rows."}, {"owner": {"reputation": 23, "user_id": 8403735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57bc8c09170333f1c084b165511b5c5?s=128&d=identicon&r=PG&f=1", "display_name": "SDQ", "link": "https://stackoverflow.com/users/8403735/sdq"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501658199, "post_id": 45453525, "comment_id": 77868648, "body": "You sure ? How sad it is :-("}], "answers": [{"tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": true, "score": 1, "last_activity_date": 1501659289, "creation_date": 1501659289, "answer_id": 45454356, "question_id": 45453525, "link": "https://stackoverflow.com/questions/45453525/perl-dbixclass-truncate-table/45454356#45454356", "title": "Perl DBIx::Class Truncate table", "body": "<p>You can execute <code>SQL</code> directly within your DBIx::Class Model with a small helper function:</p>\n\n<pre><code>sub _sql_do {\n  my ( $self , $sql ) = @_ ;\n\n  return $self-&gt;storage-&gt;dbh_do(\n    sub {\n      my ( $storage , $dbh , $sql ) = @_ ;\n      my $sth = $dbh-&gt;prepare( $sql ) ;\n      $sth-&gt;execute() ;\n    },\n    $sql\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8403735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57bc8c09170333f1c084b165511b5c5?s=128&d=identicon&r=PG&f=1", "display_name": "SDQ", "link": "https://stackoverflow.com/users/8403735/sdq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 45454356, "answer_count": 1, "score": 2, "last_activity_date": 1501659289, "creation_date": 1501656851, "question_id": 45453525, "link": "https://stackoverflow.com/questions/45453525/perl-dbixclass-truncate-table", "title": "Perl DBIx::Class Truncate table", "body": "<p>I\u2019m looking for a way to truncate a table with <code>DBIx::Class</code> but I ain\u2019t able to find anything on the web except some suggestions such as delete all the rows instead of truncating the table.\nUnfortunately, <code>TRUNCATE</code> being much faster, I\u2019d wish to do it properly. For now, I think I\u2019ll use <code>DBI</code> for truncating but it is a bit of a drawback.</p>\n\n<p>Is this possible in any way ?</p>\n\n<p>Thanks in advance :-)</p>\n"}, {"tags": ["html", "perl", "html-table"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501660656, "post_id": 45452726, "comment_id": 77870164, "body": "The <code>$browser</code> is the object itself, the <code>$response</code> has the page. But first  you need  <code>my $content = $response-&gt;decoded_content</code>, then <code>$te-&gt;parse($content)</code>."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501663331, "post_id": 45452726, "comment_id": 77871964, "body": "Thanks @zdim, i try your method but didnt work, i modified the question with part of the HTML code. Basically i want to get all the information from column ( Name, Age, Mark Count, Grade,Hobby,Attendence ) but the thing return is empty."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501663843, "post_id": 45452726, "comment_id": 77872375, "body": "Thanks.  So .. what I wrote above is just how you do it The next issue then is, of course, of what your page is like. What you posted isn&#39;t a valid table? It has no opening <code>&lt;table&gt;</code>, then it has another <code>&lt;table&gt;</code> in the middle, and then yet another one (and the previous one doesn&#39;t end). Can you post the url?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501664000, "post_id": 45452726, "comment_id": 77872488, "body": "If you get nothing from the code you posted (assuming you fix the errors I told you about) that means that no tables were found (<code>$te-&gt;tables</code> returns nothing) so there is no list to iterate over and the body of the loop doesn&#39;t execute at all.  So it&#39;s about that web page."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501664601, "post_id": 45452726, "comment_id": 77872927, "body": "I just posted a sample of working code to get tables, from this page.  (It beats comments.) If this page didn&#39;t have any <code>&lt;table&gt;</code>s in it, then there would be no output."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501821149, "post_id": 45452726, "comment_id": 77957514, "body": "I just realized that you nicely put the url in the question. Sorry about asking for it and not testing the page. I did now and the code I posted with your prints (from docs) in the loop &quot;works&quot; ... it prints correct data, along with a bunch of garbage.  With tables you may need to do a bit of a cleanup, remove extra cells, etc.  One example of realistic, albeit still simple, processing is in <a href=\"https://stackoverflow.com/a/38252478/4653379\">this post</a>.  Let me know if questions pop up."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501822573, "post_id": 45452726, "comment_id": 77957973, "body": "@zdim, thanks the post you share is useful to me. Thanks"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501823252, "post_id": 45452726, "comment_id": 77958150, "body": "Some more sources: a great <a href=\"http://radar.oreilly.com/2014/02/parsing-html-with-perl-2.html\" rel=\"nofollow noreferrer\">article</a>, <a href=\"https://stackoverflow.com/questions/18191944/trying-to-use-htmltableextract-in-perl-to-extract-table-from-html-file-but-fa\">SO post</a> (with links), some <a href=\"http://www.mojotoad.com/sisk/projects/HTML-TableExtract/tables.html\" rel=\"nofollow noreferrer\">examples</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501837977, "post_id": 45452726, "comment_id": 77966108, "body": "Added code that parses a table from the URL in the question"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1501891183, "last_edit_date": 1501891183, "creation_date": 1501664516, "answer_id": 45456224, "question_id": 45452726, "link": "https://stackoverflow.com/questions/45452726/get-the-data-in-table-from-a-website-and-output-it-to-table-format-using-perl/45456224#45456224", "title": "Get the data in table from a website and output it to table format using perl", "body": "<p>To get us on the same page, this is how we can pull tables from <em>this</em> page</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse LWP::UserAgent;\nuse HTML::TableExtract;\n\nmy $url = 'https://stackoverflow.com/q/45452726/4653379';\n\nmy $ua = LWP::UserAgent-&gt;new;    \nmy $response = $ua-&gt;get($url);\ndie \"Error at $url\\n \", $response-&gt;status_line if not $response-&gt;is_success;\nmy $page = $response-&gt;decoded_content;\n\nmy $te = HTML::TableExtract-&gt;new;\n$te-&gt;parse($page);\n\nforeach my $tbl ($te-&gt;tables) {\n    say \"Table (\", join(',', $tbl-&gt;coords), \")\";\n}\n</code></pre>\n\n<p>with output </p>\n\n<pre>\nTable (1,0)\n...\nTable (0,3)\n</pre>\n\n<hr>\n\n<p>Here is a table from the url in the question, with a caveat.  </p>\n\n<pre><code>use warnings;\nuse strict;\nuse open ':std', ':encoding(UTF-8)';\n\nuse LWP::UserAgent;\nuse HTML::TableExtract;\nuse Text::Table;\n\nmy $url = q(http://reitdata.com/);\n\nmy $ua = LWP::UserAgent-&gt;new;    \nmy $response = $ua-&gt;get($url);\nmy $page = $response-&gt;decoded_content;\n\nmy @headers = qw(REIT PERIOD MKT DPU YIELD NAV GEARING ASSETS);\nmy $te = HTML::TableExtract-&gt;new( headers =&gt; \\@headers );\n$te-&gt;parse($page);\n\nmy @data;\nforeach my $tbl ( ($te-&gt;tables)[1] ) {  # just the second one\n    foreach my $row ($tbl-&gt;rows) {\n        my @row = map { s{^\\s*|\\s*$}{}gr } @$row;\n        push @data, \\@row;\n    }   \n}\n\nmy $tb = Text::Table-&gt;new( map { $_, \\'  ' } @headers );   #'\n$tb-&gt;load( @data );\nprint $tb;\n</code></pre>\n\n<p>The regex in the <code>map</code> block uses the <em>non-destructive</em> <code>/r</code> modifier, which <em>returns</em> the changed string (the original stays unchanged). We <a href=\"http://perldoc.perl.org/perl5140delta.html#Regular-Expressions\" rel=\"nofollow noreferrer\">need v5.14.0</a> for it, otherwise use <code>map { s{..}{}g; $_ }</code>.</p>\n\n<p>The table is printed using <a href=\"http://search.cpan.org/~shlomif/Text-Table-1.132/lib/Text/Table.pm\" rel=\"nofollow noreferrer\">Text::Table</a>. The good old <code>printf</code> can do this job as well.</p>\n\n<p>For more on table processing see <a href=\"https://stackoverflow.com/a/38252478/4653379\">this post</a>, and <a href=\"https://stackoverflow.com/a/18198158/4653379\">this one</a> with links, for example.</p>\n\n<p>This prints</p>\n\n<pre>\nREIT              PERIOD      MKT     DPU      YIELD   NAV      GEARING  ASSETS                                                                                                                           \nSoilbuildBizREIT  Q2 \u2013 Jun17  $0.710   1.4660  8.259%  $0.720   37.90%   Industrial (12) : Business Park 32% + Industrial 68% by NPI                                                                      \nCache Log Trust   Q2 \u2013 Jun17  $0.885   1.8000  8.158%  $0.770   43.40%   Industrial (19) : Singapore (83%) + Australia (16%) + China (1%) by Gross Revenue                                                \nViva Ind Tr       Q2 \u2013 Jun17  $0.925   1.861   8.069%  $0.790   39.10%   Industrial (9) : Biz Park (50.4%) + Light Industrial (23.4%) + Logistics (15.4%) + Hotel (10.8%) by NPI                          \nEC World Reit     Q1 \u2013 Mar17  $0.775   1.5410  8.065%  $0.900   28.60%   Port, Warehouse & e-Commerce Infrastructure in China                                                                             \nLippo Malls Tr    Q1 \u2013 Mar17  $0.460   0.890   7.739%  $0.374   32.20%   Retail (Indonesia) \u2013 20                                                                                                          \nBHG Retail Reit   Q1 \u2013 Mar17  $0.735   1.3900  7.565%  $0.820   32.50%   Retail (China) \u2013 5                                                                                                               \nAIMSAMP Cap Reit  Q1 \u2013 Jun17  $1.440   2.500   7.500%  $1.386   36.30%   Industrial (27) : Singapore + Australia                                                                                          \nIREIT Global      Q1 \u2013 Mar17  $0.790   1.4400  7.291%  $0.672   42.10%   Offices : Germany (5)                                                                                                            \nSabana REIT       Q2 \u2013 Jun17  $0.450   0.810   7.222%  $0.560   37.00%   Industrial (21)                                                                                                                  \nManulifeREIT USD  Q1 \u2013 Mar17  $0.920   1.6500  7.174%  $0.830   34.20%   Offices : USA (3)                                                                                                                \nOUE Com Reit      Q1 \u2013 Mar17  $0.730   1.230   6.973%  $0.860   36.20%   Office (82.6%) + Retail (17.4%) ; Singapore (79.9%) + China (20.1%) by Revenue                                                   \nOUE Htrust        Q1 \u2013 Mar17  $0.755   1.3000  6.887%  $0.760   38.10%   Hotel (78%) + Retail (22%) by NPI                                                                                                \nFrasers Com Tr    Q3 \u2013 Jun17  $1.400   2.398   6.871%  $1.520   35.90%   Singapore (52.7%) + Australia (47.3%) by NPI                                                                                     \nESR-REIT          Q2 \u2013 Jun17  $0.565   0.9560  6.768%  $0.633   37.90%   Industrial (49)                                                                                                                  \nAscendas-hTrust   2H \u2013 Mar17  $0.840   3.010   6.762%  $0.920   32.20%   Hotels (11) : Australia (51%) + Japan (29%) + Singapore (14%) + China (6%) by NPI                                                \nFHT               Q3 \u2013 Jun17  $0.740   1.2374  6.689%  $0.749   34.10%   Hotel (9) + Serviced Apt (6) : Australia (38%) + Singapore (20%) + UK (17%) + Japan (14%) + Malaysia (6%) + Germany (5%) by NPI  \nMapletree GCC Tr  Q1 \u2013 Jun17  $1.110   1.851   6.614%  $1.244   39.40%   Retail + Office : HK (69.4%) + China (30.6%) by NPI ; Retail (62%) + Office (36.5%) by NPI                                       \nAscott Reit       1H \u2013 Jun17  $1.190   3.3560  6.511%  $1.190   32.40%   Serviced Apts (73) : Asia Pacific (61.6%) + Europe (28.4%) + US (10%) by Assets                                                  \nFirst REIT        Q2 \u2013 Jun17  $1.350   2.140   6.393%  $1.004   31.00%   Hospitals (13 \u2013 1 in S Korea) + Hotel (Indonesia \u2013 2) + Nursing Home (Singapore \u2013 3)                                             \nMapletree Ind Tr  Q1 \u2013 Jun17  $1.855   2.9200  6.296%  $1.400   29.80%   Industrial (86)                                                                                                                  \nMapletree Log Tr  Q1 \u2013 Jun17  $1.200   1.887   6.290%  $1.020   39.00%   Industrial (127)                                                                                                                 \nFar East HTrust   Q1 \u2013 Mar17  $0.670   0.9300  6.239%  $0.903   32.30%   Hotels (65.2%) + Commercial (23.1%) + Serviced Apts (11.7%) by Revenue                                                           \nCapitaR China Tr  1H \u2013 Jun17  $1.660   5.360   6.078%  $1.520   35.30%   Retail (China) \u2013 11                                                                                                              \nFrasers L&I Tr    Q3 \u2013 Jun17  $1.095   1.7500  6.076%  $0.920   29.30%   Industrial (Australia) \u2013 54                                                                                                      \nStarhillGbl Reit  Q4 \u2013 Jun17  $0.780   1.180   6.064%  $0.910   35.30%   Retail + Office : Singapore (62.5%) + Australia (23.0%) + Malaysia (12.5%) + Others (2.0%) by Revenue                            \nCDL Htrust        1H \u2013 Jun17  $1.600   4.1000  6.031%  $1.545   38.70%   Hotels : Singapore (58.1%) + Australia (10.2%) + Maldives (7.6%) + NZ (14.2%) + UK (6.1%) + Japan (3.7%) by NPI                  \nAscendas Reit     Q1 \u2013 Jun17  $2.700   4.049   5.811%  $2.040   33.90%   Industrial (132) : Singapore (86%) + Australia (14%) by Valuation                                                                \nKeppel DC REIT    1H \u2013 Jun17  $1.280   3.6300  5.672%  $0.931   27.70%   Data Centres \u2013 12 + 1 (Under Devt)                                                                                               \nFrasers Cpt Tr    Q3 \u2013 Jun17  $2.100   3.000   5.593%  $1.920   30.00%   Retail (6) + 31.17% of Hektar (MREIT)                                                                                            \nCapitaMall Trust  Q2 \u2013 Jun17  $2.010   2.7500  5.542%  $1.910   34.70%   Retail (16) + Office                                                                                                             \nSPHREIT           Q3 \u2013 May17  $1.000   1.370   5.520%  $0.940   25.60%   Retail (2)                                                                                                                       \nMapletree Com Tr  Q1 \u2013 Jun17  $1.605   2.2300  5.495%  $1.370   36.40%   Retail + Office                                                                                                                  \nCapitaCom Trust   1H \u2013 Jun17  $1.720   4.590   5.337%  $1.770   35.20%   Office (73%) + Retail (16%) + Hotel (11%) by Gross Rental Income                                                                 \nSuntec Reit       Q2 \u2013 Jun17  $1.900   2.4930  5.289%  $2.094   36.10%   Office (69%) + Retail (28%) + Convention (3%) by Income                                                                          \nFortune Reit HKD  1H \u2013 Jun17  $9.720  25.530   5.253%  $13.390  28.40%   Retail (HK) \u2013 17                                                                                                                 \nKeppel Reit       Q2 \u2013 Jun17  $1.160   1.4200  4.897%  $1.400   38.50%   Office (8) : Singapore (89%) + Australia (11%) by Asset Value                                                                    \nParkwayLife Reit  Q2 \u2013 Jun17  $2.710   3.320   4.576%  $1.680   37.40%   Hospitals + Nursing Homes = 49 : Singapore 60% + Japan 40% by Gross Revenue                                                      \nSaizen REIT       2H \u2013 Jun15  $0.033   2.930   0.000%  $1.210   35.00%   Residential (Japan) \u2013 136 \n</pre>\n\n<p>The caveat: this isn't the second table on the page, but is the one in the section \"July 2017.\" The module only sees the very first table and this one, what has to do with the web site. It is a separate issue which I have to leave for now. </p>\n"}], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 45456224, "answer_count": 1, "score": 1, "last_activity_date": 1501891183, "creation_date": 1501654241, "last_edit_date": 1501663178, "question_id": 45452726, "link": "https://stackoverflow.com/questions/45452726/get-the-data-in-table-from-a-website-and-output-it-to-table-format-using-perl", "title": "Get the data in table from a website and output it to table format using perl", "body": "<p>I have try several method from previous question on how to parse the table information from website like <code>HTML::TableExtract</code> and <code>HTML::Parser</code> but it does not work for me. Below is my code</p>\n\n<pre><code>my $browser = LWP::UserAgent-&gt;new( ssl_opts =&gt; { verify_hostname =&gt; 0, } );\nmy $url = 'http://reitdata.com/';\n\nmy $response = $browser-&gt;get($url);\ndie \"Error at $url\\n \", $response-&gt;status_line, \"\\n Aborting\" unless $response-&gt;is_success;\n\nmy $te = HTML::TableExtract-&gt;new( headers =&gt; [qw(REIT PERIOD MKT DPU YIELD NAV GEARING ASSETS)]);\n$te-&gt;parse($browser);\n\nforeach my $ts ($te-&gt;tables) {\n    print \"Table (\", join(',', $ts-&gt;coords), \"):\\n\";\n    foreach my $row ($ts-&gt;rows) {\n    print join(',', @$row), \"\\n\";\n\n   }\n}\n</code></pre>\n\n<p>The code above show no output. Any problem for the code to get the table information from the website? Additional, can i output the information get from website in table form? Below is the html code for the table.</p>\n\n<pre><code>&lt;select name=\"ww\" size=\"1\" style=\"font-family: sans-serif; font-size: 9pt;\" onchange=\"location.href = '/~sipesoft/cgi/sipesoft.cgi?report=ndashboard-'+ document.myform.family.value + ':' + document.myform.rpt.value + '*' + document.myform.ww.value\"&gt;&lt;option selected value=\"201730\"&gt;201730&amp;nbsp;&amp;nbsp;&lt;/option&gt;\n&lt;option value=\"201729\"&gt;201729&amp;nbsp;&amp;nbsp;&lt;/option&gt;\n&lt;option value=\"201728\"&gt;201728&amp;nbsp;&amp;nbsp;&lt;/option&gt;\n&lt;option value=\"201727\"&gt;201727&amp;nbsp;&amp;nbsp;&lt;/option&gt;\n&lt;option value=\"201726\"&gt;201726&amp;nbsp;&amp;nbsp;&lt;/option&gt;\n&lt;option value=\"201725\"&gt;201725&amp;nbsp;&amp;nbsp;&lt;/option&gt;\n&lt;option value=\"201724\"&gt;201724&amp;nbsp;&amp;nbsp;&lt;/option&gt;\n&lt;option value=\"201723\"&gt;201723&amp;nbsp;&amp;nbsp;&lt;/option&gt;\n&lt;option value=\"201722\"&gt;201722&amp;nbsp;&amp;nbsp;&lt;/option&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;hr color=\"#000000\" size=\"2\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;table border=0 align=center cellspacing=0 cellpadding=0&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;table border=1 align=left cellspacing=3 cellpadding=2&gt;\n&lt;tr&gt;\n&lt;td align=\"center\" valign=\"bottom\" bgcolor=\"#C0C0C0\" width=\"45\"&gt;&lt;b&gt;&lt;font face=\"Tahoma\" size=\"1\"&gt;Name&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n&lt;td align=\"center\" valign=\"bottom\" bgcolor=\"#C0C0C0\" width=\"60\"&gt;&lt;b&gt;&lt;font face=\"Tahoma\" size=\"1\"&gt;Age&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n&lt;td align=\"center\" valign=\"bottom\" bgcolor=\"#C0C0C0\" width=\"40\"&gt;&lt;b&gt;&lt;font face=\"Tahoma\" size=\"1\"&gt;Mark&lt;br&gt;Count&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n&lt;td align=\"center\" valign=\"bottom\" bgcolor=\"#C0C0C0\" width=\"40\"&gt;&lt;b&gt;&lt;font face=\"Tahoma\" size=\"1\"&gt;Grade&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n&lt;td align=\"center\" valign=\"bottom\" bgcolor=\"#C0C0C0\" width=\"40\"&gt;&lt;b&gt;&lt;font face=\"Tahoma\" size=\"1\"&gt;Hobby&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n&lt;td align=\"center\" valign=\"bottom\" bgcolor=\"#C0C0C0\" width=\"40\"&gt;&lt;b&gt;&lt;font face=\"Tahoma\" size=\"1\"&gt;Attendence&lt;/font&gt;&lt;/b&gt;&lt;/td&gt; \n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["perl", "unix", "ksh"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501648779, "post_id": 45451136, "comment_id": 77864137, "body": "<code>%</code> is not a special character in regex literals or in regex patterns."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501649097, "post_id": 45451424, "comment_id": 77864268, "body": "The OP probably wants to keep using the value of <code>$temp_var</code> instead of having the value hardcoded. And if they&#39;re ok with having the value hardcoded, why do it in such a complicated manner?"}, {"owner": {"reputation": 169, "user_id": 7771448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3955b446080b535d1ade3e9e61ab8e28?s=128&d=identicon&r=PG&f=1", "display_name": "Jolin", "link": "https://stackoverflow.com/users/7771448/jolin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501650229, "post_id": 45451424, "comment_id": 77864643, "body": "Hello @ikegami  Because I have to use this mulit-times therefore variable will be a better choice."}, {"owner": {"reputation": 169, "user_id": 7771448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3955b446080b535d1ade3e9e61ab8e28?s=128&d=identicon&r=PG&f=1", "display_name": "Jolin", "link": "https://stackoverflow.com/users/7771448/jolin"}, "edited": false, "score": 0, "creation_date": 1501650394, "post_id": 45451424, "comment_id": 77864717, "body": "@permanent409  any alternative besides declared in oneliner as the value as actually, it is a function parameter."}], "tags": [], "owner": {"reputation": 19, "user_id": 6908744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7580048e2f6ab76662525163f5ad8c22?s=128&d=identicon&r=PG&f=1", "display_name": "permanent409", "link": "https://stackoverflow.com/users/6908744/permanent409"}, "is_accepted": false, "score": 0, "last_activity_date": 1501647644, "creation_date": 1501647644, "answer_id": 45451424, "question_id": 45451136, "link": "https://stackoverflow.com/questions/45451136/perl-unable-to-read-in-variable-to-replace-words-ksh/45451424#45451424", "title": "Perl unable to read in variable to replace words [ksh]", "body": "<p>Your substituton works for me, the only thing I did differently is that I also declared the variable $temp_var in the oneliner itself.</p>\n\n<pre><code>$ cat so45451136.txt\nis okay % : That's good\nnot okay % : That's bad\n\n$ perl -pe '$temp_var=\"is okay \\%\";s/$temp_var/okay can \\%/g;' so45451136.txt \nokay can % : That's good\nnot okay % : That's bad\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 7771448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3955b446080b535d1ade3e9e61ab8e28?s=128&d=identicon&r=PG&f=1", "display_name": "Jolin", "link": "https://stackoverflow.com/users/7771448/jolin"}, "edited": false, "score": 0, "creation_date": 1501662512, "post_id": 45451587, "comment_id": 77871402, "body": "Hello may i know BEGIN { $text = shift(@ARGV); }what does this means?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 169, "user_id": 7771448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3955b446080b535d1ade3e9e61ab8e28?s=128&d=identicon&r=PG&f=1", "display_name": "Jolin", "link": "https://stackoverflow.com/users/7771448/jolin"}, "edited": false, "score": 0, "creation_date": 1501684671, "post_id": 45451587, "comment_id": 77888413, "body": "At compile-time (i.e. before the loop created by <code>-p</code>), grab and remove the first argument."}, {"owner": {"reputation": 169, "user_id": 7771448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3955b446080b535d1ade3e9e61ab8e28?s=128&d=identicon&r=PG&f=1", "display_name": "Jolin", "link": "https://stackoverflow.com/users/7771448/jolin"}, "edited": false, "score": 0, "creation_date": 1501753014, "post_id": 45451587, "comment_id": 77921180, "body": "How about adding additional <b>$text2</b> examepl s/\\Q$text $test2/okay can %/g; &#39; &quot;$text $text2&quot; *123.txt ... Is this violated?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1501649210, "last_edit_date": 1501649210, "creation_date": 1501648712, "answer_id": 45451587, "question_id": 45451136, "link": "https://stackoverflow.com/questions/45451136/perl-unable-to-read-in-variable-to-replace-words-ksh/45451587#45451587", "title": "Perl unable to read in variable to replace words [ksh]", "body": "<p>In <code>s/$temp_var/okay can \\%/g</code>, <code>$temp_var</code> refers to a Perl variable. Nothing but that <code>ksh</code> process knows about its variables. You will need to provide its value to Perl.</p>\n\n<hr>\n\n<p>Hardcoded:</p>\n\n<pre><code>perl -i -pe's/is okay %/okay can %/g' *123.txt\n</code></pre>\n\n<p>Via an argument:</p>\n\n<pre><code>text='is okay %'\nperl -i -pe'\n   BEGIN { $text = shift(@ARGV); }\n   s/\\Q$text/okay can %/g;\n' \"$text\" *123.txt\n</code></pre>\n\n<p>Via an env var:</p>\n\n<pre><code>text='is okay %'\nTEXT=\"$text\" perl -i -pe's/$ENV{TEXT}/okay can %/g' *123.txt\n</code></pre>\n\n<p>Via an env var:</p>\n\n<pre><code>export TEXT='is okay %'\nperl -i -pe's/$ENV{TEXT}/okay can %/g' *123.txt\n</code></pre>\n\n<hr>\n\n<p>Note: <code>\"\\Q$text\\E\"</code> creates a regex that matches the value of <code>$text</code>. (A trailing <code>\\E</code> can be left out.)</p>\n"}], "owner": {"reputation": 169, "user_id": 7771448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3955b446080b535d1ade3e9e61ab8e28?s=128&d=identicon&r=PG&f=1", "display_name": "Jolin", "link": "https://stackoverflow.com/users/7771448/jolin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 45451587, "answer_count": 2, "score": 0, "last_activity_date": 1501650628, "creation_date": 1501645779, "last_edit_date": 1501650628, "question_id": 45451136, "link": "https://stackoverflow.com/questions/45451136/perl-unable-to-read-in-variable-to-replace-words-ksh", "title": "Perl unable to read in variable to replace words [ksh]", "body": "<p>I have a text file named 123.txt\nIn the 123.txt it contains </p>\n\n<p><strong>is okay %  : That's good</strong><br>\n<strong>not okay % : That's bad</strong>  </p>\n\n<p>My job is to replace the word from <strong>\"is okay %\"</strong> to <strong>okay can %</strong></p>\n\n<p>My Current Code (Not working)</p>\n\n<pre><code>$temp_var=\"is okay \\%\"\nperl -pi -e 's/$temp_var/okay can \\%/g' *123.txt\n</code></pre>\n\n<p>The reason to put a backslash on % to handle special character.</p>\n\n<p><em>I have tried using sed -i for my previous coding but it did not work out as -i is not part of the classic interface, i have tried placing <strong>'s/is okay \\%/okay can \\%/g'</strong> instead of $temp_var and it is able to work.</em></p>\n\n<p>I am not too sure if it is the way i cast my variable or $temp_var is not able to read in PERL</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501649471, "post_id": 45451110, "comment_id": 77864385, "body": "What problem are you having? <code>keys(%$VAR1)</code> will get you the list of keys. A string comparison (<code>$_ lt &#39;07:47:42&#39;</code>) will suffice for identifying the times of interest. Extracting the number of milliseconds can be done using <code>substr($_, 0, -2)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 8267952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b2ef54d99c06b6bf90bfe866cd939f2b?s=128&d=identicon&r=PG&f=1", "display_name": "ran1n", "link": "https://stackoverflow.com/users/8267952/ran1n"}, "edited": false, "score": 0, "creation_date": 1501720595, "post_id": 45451744, "comment_id": 77906940, "body": "Thanks ikegami, the code snippet works really well and concise. Thankyou!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1501649678, "creation_date": 1501649678, "answer_id": 45451744, "question_id": 45451110, "link": "https://stackoverflow.com/questions/45451110/sort-and-manipulation-of-hash-with-average-calculations/45451744#45451744", "title": "sort and manipulation of hash with average calculations", "body": "<pre><code>sub sum { my $acc; $acc += $_ for @_; $acc }\nsub avg { sum(@_) / @_ }\n\nmy $cutoff = '07:47:42';\n\nmy $result =\n   avg\n      map { substr($VAR1-&gt;{$_}, 0, -2) }\n         grep { $_ lt $cutoff }\n            keys %$VAR1;\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 8267952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b2ef54d99c06b6bf90bfe866cd939f2b?s=128&d=identicon&r=PG&f=1", "display_name": "ran1n", "link": "https://stackoverflow.com/users/8267952/ran1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 45451744, "answer_count": 1, "score": 0, "last_activity_date": 1501649678, "creation_date": 1501645651, "last_edit_date": 1501649513, "question_id": 45451110, "link": "https://stackoverflow.com/questions/45451110/sort-and-manipulation-of-hash-with-average-calculations", "title": "sort and manipulation of hash with average calculations", "body": "<p>I am having a hash whose keys are time instances and values are process time taken in milliseconds. I am working on a solution wherein user will input a time value and in return should get average of all process times before the inputted time.</p>\n\n<p>Example: if user enters 07:47:42, he should get average of process times of keys 04:46:41, 03:46:37, 06:47:41, 00:45:35, 01:46:05. </p>\n\n<p>Please suggest how to do this. Do i need to convert the strings in time or can it be done in strings only. Any code samples would be really helpful. Thanks!</p>\n\n<pre><code>$VAR1 = {\n          '01:46:05' =&gt; '119.947ms',\n          '11:47:47' =&gt; '165.916ms',\n          '15:48:51' =&gt; '164.226ms',\n          '19:50:22' =&gt; '159.873ms',\n          '10:47:45' =&gt; '177.947ms',\n          '04:46:41' =&gt; '174.613ms',\n          '16:49:22' =&gt; '169.104ms',\n          '00:45:35' =&gt; '122.289ms',\n          '18:49:52' =&gt; '158.956ms',\n          '06:47:41' =&gt; '145.969ms',\n          '09:47:44' =&gt; '85.786ms',\n          '12:48:16' =&gt; '132.169ms',\n          '05:47:11' =&gt; '186.575ms',\n          '03:46:37' =&gt; '131.529ms',\n          '07:47:42' =&gt; '121.417ms',\n          '21:50:55' =&gt; '171.268ms',\n        };\n</code></pre>\n"}, {"tags": ["visual-studio", "perl", "cmake", "nmake"], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 552, "user_id": 7339033, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd26f19b1e5a2bd0d9550a4d97881f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Chepe Questn", "link": "https://stackoverflow.com/users/7339033/chepe-questn"}, "edited": false, "score": 0, "creation_date": 1501682633, "post_id": 45449206, "comment_id": 77886763, "body": "One would have to be familiar with why earlier <code>perl</code>s would not build with Visual Studio 2015 to know that. I do wish <code>perl</code> source did not grab <code>stdio.h</code> data structures by the guts, but it does."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 0, "last_activity_date": 1501632922, "last_edit_date": 1501632922, "creation_date": 1501630626, "answer_id": 45449206, "question_id": 45448032, "link": "https://stackoverflow.com/questions/45448032/build-perl-from-source-for-windows-10-using-visual-studio-2017/45449206#45449206", "title": "Build Perl from Source for Windows 10 using Visual Studio 2017", "body": "<p><code>win32/Makefile</code> does not officially have support for building with Visual Studio 2017. But, it does have support for building with VS 2015. The reason building with Visual Studio 2015 tools require a separate configuration than with building with Visual Studio 2013 tools is the same for Visual Studio 2017 tools, so you can use the same configuration.</p>\n\n<p>To do so:</p>\n\n<ul>\n<li><p>Open a \"x64 Native Command Tools Command Prompt for VS 2017\" command window from Start.</p></li>\n<li><p>Go to the directory in which you extracted the Perl 5.26.0 sources, and edit <code>win32/Makefile</code>:</p></li>\n<li><p>Set:</p>\n\n<pre><code>CCTYPE      = MSVC140\n\n...\nCCHOME      = C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.10.25017\nCCINCDIR    = $(CCHOME)\\include\nCCLIBDIR    = $(CCHOME)\\lib\\x64\n</code></pre>\n\n<p>Noting the version dependent directory in <code>CCHOME</code>. Make sure you use the version that corresponds to what you have.</p></li>\n<li><p>Run <code>nmake</code> in <code>&lt;perl source directory&gt;\\win32</code>. Now, I usually make some more changes, but this is the minimal amount of changes necessary to have a build.</p></li>\n<li><p>Then, <code>nmake test</code>, <code>nmake install</code>.</p></li>\n</ul>\n\n<p>Note that <code>perl</code>s built with Visual Studio 2015 and 2017 may end up being rather useless because they link with the new platform runtime which OpenSSL does not work with. I think this means you are not going to be able to use modules such as <code>LWP</code>, <code>HTTP::Tiny</code> etc with <code>https</code>. I haven't investigated this a lot, so if I am wrong, I would love to be corrected.</p>\n\n<p>Note that Visual Studio 2013 tools are also installed when you install Visual Studio 2017, so if you can live with certain <a href=\"https://www.nu42.com/2016/06/msvc-printf-bug-affects-perl.html\" rel=\"nofollow noreferrer\">bugs</a> and the fact that Perl's build config for VS 2013 by default ignores the C99 features included in VS 2013, or if you are willing to hand-edit config files, I have found building with that to be more reliable.</p>\n\n<p>In general, you are better off using <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a>. Using the MinGW toolchain saves a lot of time if you want to use modules that depend on C libraries.</p>\n"}], "owner": {"reputation": 552, "user_id": 7339033, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd26f19b1e5a2bd0d9550a4d97881f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Chepe Questn", "link": "https://stackoverflow.com/users/7339033/chepe-questn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2022, "favorite_count": 0, "accepted_answer_id": 45449206, "answer_count": 1, "score": 0, "last_activity_date": 1501632922, "creation_date": 1501623267, "question_id": 45448032, "link": "https://stackoverflow.com/questions/45448032/build-perl-from-source-for-windows-10-using-visual-studio-2017", "title": "Build Perl from Source for Windows 10 using Visual Studio 2017", "body": "<p>I was reading this post.</p>\n\n<p><a href=\"http://www.cpan.org/src/README.html\" rel=\"nofollow noreferrer\">http://www.cpan.org/src/README.html</a>\nand\n<a href=\"http://search.cpan.org/~rjbs/perl-5.16.0/README.win32#Building\" rel=\"nofollow noreferrer\">http://search.cpan.org/~rjbs/perl-5.16.0/README.win32#Building</a></p>\n\n<p>I extracted the files to:  <code>c:\\Sources\\perl-5.26.0\\</code> Now I want to build it.</p>\n\n<p>I set <code>CCTYPE       = MSVC141</code> </p>\n\n<p>Now I run:</p>\n\n<pre><code>C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Visual Studio 2017\\Visual Studio Tools\\VC\\x64 Native Tools Command Prompt for VS 2017\n</code></pre>\n\n<p>Later:</p>\n\n<pre><code>    C:\\Sources\\perl-5.26.0&gt;win32\\Makefile\n    'win32\\Makefile' is not recognized as an internal or external command,\n    operable program or batch file.\n\n    C:\\Sources\\perl-5.26.0&gt;nmake -f win32\\Makefile\n\n    Microsoft (R) Program Maintenance Utility Version 14.10.25019.0\n    Copyright (C) Microsoft Corporation.  All rights reserved.\n\n    NMAKE : fatal error U1073: don't know how to make 'config_H.vc'\n    Stop.\n\n    C:\\Sources\\perl-5.26.0&gt;\n</code></pre>\n\n<p>With CMAKE:</p>\n\n<pre><code>mkdir c:\\Sources\\perl-5.26.0\\bld\ncd /d c:\\Sources\\perl-5.26.0\\bld\n\ncmake . -G \"NMake Makefiles\" -DCMAKE_INSTALL_PREFIX=\"c:\\Custom\\perl\" -DBUILD_SHARED_LIBS=ON -DCMAKE_BUILD_TYPE=RelWithDebInfo  \nCMake Error: The source directory \"C:/Sources/perl-5.26.0/bld\" does not appear to contain CMakeLists.txt.\nSpecify --help for usage, or press the help button on the CMake GUI.\n\nc:\\Sources\\perl-5.26.0\\bld&gt;\n</code></pre>\n\n<p>Sorry I forget to check the existence of: <code>CMakeLists.txt</code> file</p>\n\n<p><strong>Is it possible to build perl instead of obtain downloading from</strong> <em>ActivePerl (The installer is not working properly)</em> <strong>or</strong> <em>Strawberry-perl (the site was down)</em> <strong>?</strong></p>\n\n<p>Please tell me.</p>\n\n<p>How I must define this variables: </p>\n\n<pre><code>MSVCDIR     = ???\nCCHOME      = $(MSVCDIR)\nCCINCDIR    = $(CCHOME)\\include\nCCLIBDIR    = $(CCHOME)\\lib\n</code></pre>\n\n<p>My Output.</p>\n\n<pre><code>generate_uudmap.c\n        link -out:..\\generate_uudmap.exe @C:\\Users\\...\\AppData\\Local\\Temp\\nmFB0B.tmp\ngenerate_uudmap.obj : error LNK2001: unresolved external symbol __imp_exit\ngenerate_uudmap.obj : error LNK2001: unresolved external symbol __imp_fputc\ngenerate_uudmap.obj : error LNK2001: unresolved external symbol __imp_fopen\ngenerate_uudmap.obj : error LNK2001: unresolved external symbol __imp___acrt_iob_func\ngenerate_uudmap.obj : error LNK2001: unresolved external symbol __imp_fclose\ngenerate_uudmap.obj : error LNK2001: unresolved external symbol __imp___stdio_common_vfprintf\ngenerate_uudmap.obj : error LNK2001: unresolved external symbol __imp__errno\ngenerate_uudmap.obj : error LNK2001: unresolved external symbol __imp_fputs\ngenerate_uudmap.obj : error LNK2001: unresolved external symbol __imp_strerror\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _seh_filter_exe\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _set_app_type\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol __setusermatherr\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _configure_narrow_argv\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol _configure_narrow_argv\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _initialize_narrow_environment\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol _initialize_narrow_environment\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _get_initial_narrow_environment\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _initterm\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _initterm_e\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol exit\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _exit\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _set_fmode\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol __p___argc\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol __p___argv\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _cexit\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol _cexit\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _c_exit\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _register_thread_local_exe_atexit_callback\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _configthreadlocale\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol _set_new_mode\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol __p__commode\nmsvcrt.lib(exe_main.obj) : error LNK2001: unresolved external symbol __C_specific_handler\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol __C_specific_handler\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol _seh_filter_dll\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol _initialize_onexit_table\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol _register_onexit_function\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol _execute_onexit_table\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol _crt_atexit\nmsvcrt.lib(utility.obj) : error LNK2001: unresolved external symbol _crt_at_quick_exit\nmsvcrt.lib(tncleanup.obj) : error LNK2001: unresolved external symbol __std_type_info_destroy_list\nmsvcrt.lib(utility_desktop.obj) : error LNK2001: unresolved external symbol terminate\nmsvcrt.lib(utility_desktop.obj) : error LNK2001: unresolved external symbol memset\n..\\generate_uudmap.exe : fatal error LNK1120: 38 unresolved externals\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.10.25017\\bin\\HostX64\\x64\\link.EXE\"' : return code '0x460'\nStop.\n\nc:\\Sources\\perl-5.26.0\\win32&gt;\n</code></pre>\n"}, {"tags": ["perl", "sed"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 7, "creation_date": 1501615297, "post_id": 45445773, "comment_id": 77853161, "body": "Perl can do anything <code>sed</code> can do \u2014 and then some.  There is no obvious reason to need to run <code>sed</code> from within Perl.  (There is/was a program <code>s2p</code> to convert a <code>sed</code> script to Perl \u2014 it was released up to Perl 5.20; it doesn&#39;t seem to be in my Perl 5.22 installation, so maybe it has been dropped now.  There was <code>a2p</code> to convert Awk to Perl too.)"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1501615629, "post_id": 45445773, "comment_id": 77853363, "body": "How does <code>Xris:</code> get mapped to <code>XUrl:</code>?  Is that a typo in the question?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1501615854, "post_id": 45445773, "comment_id": 77853504, "body": "I see in the <code>perldoc perl5200delta</code> documentation: <i><b>Utility removals</b>     The following utilities will be removed from the core distribution in a     future release, and will at that time need to be installed from CPAN. \u2022 find2perl \u2022 s2p \u2022 a2p</i> \u2014 so this is a documented change in status.  Running <code>perldoc perl5220delta</code> shows that the future release was indeed 5.22.0."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501650843, "post_id": 45445773, "comment_id": 77864892, "body": "<code>echo &quot;sed  &#39;&#47;: \\[.*$&#47; {s&#47;\\[&#47;&#47;; N; s&#47;\\n&#47;&#47;g; }&#39;&quot;</code> gives an idea of the problem... Remember, backticks interpolate like double-quoted strings."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501665791, "post_id": 45445773, "comment_id": 77873742, "body": "<i>I  need to run a <code>sed</code> command inside a Perl script</i> That is never true :-)"}], "answers": [{"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 3, "last_activity_date": 1501616548, "creation_date": 1501616548, "answer_id": 45446407, "question_id": 45445773, "link": "https://stackoverflow.com/questions/45445773/complicated-sed-command-inside-perl-script/45446407#45446407", "title": "Complicated sed command inside Perl script", "body": "<p>Perl can do the transformation that you're using <code>sed</code> to do, almost trivially.  I doubt if this is minimal Perl, but it works on the sample data, except it does not map <code>Xris</code> to <code>XUrl</code> (I assume that is a typo in the question).</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;)\n{\n    if (m/: \\[.*$/)\n    {\n        chomp;\n        my $next = &lt;&gt;;\n        $_ =~ s/: \\[.*/: /;\n        $_ .= $next;\n    }\n    print;\n}\n</code></pre>\n\n<p>When run on the data file from the question, the output is:</p>\n\n<pre><code>\"ABC\": \"abcd.com\"\n\"Xris\": \"xyz.com\"\n\"users\": \"user.com\"\n\"id\": \"96444aa4b618.com\"\n</code></pre>\n\n<p>which is pretty much what was wanted.  You can probably revise the code so that the <code>chomp</code> is not necessary, but you need to remove the newline at the end of <code>$_</code> in the <code>if</code> statement:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;)\n{\n    if (m/: \\[.*$/)\n    {\n        my $next = &lt;&gt;;\n        $_ =~ s/: \\[.*\\n/: /;\n        $_ .= $next;\n    }\n    print;\n}\n</code></pre>\n\n<p>Same output from the same input.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1501651313, "creation_date": 1501651313, "answer_id": 45452075, "question_id": 45445773, "link": "https://stackoverflow.com/questions/45445773/complicated-sed-command-inside-perl-script/45452075#45452075", "title": "Complicated sed command inside Perl script", "body": "<p>Backticks interpolate and process escapes just like double-quotes, so</p>\n\n<pre><code>`sed -e '/: \\[.*$/ {s/\\[//; N; s/\\n//g; }' /tmp/f1`\n</code></pre>\n\n<p>is the same as </p>\n\n<pre><code>`sed -e '/: [.*\n{s/[//; N; s/\n//g; }' /tmp/f1`\n</code></pre>\n\n<p>You need</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote('sed', '-e', '/: \\\\[.*$/ {s/\\\\[//; N; s/\\\\n//g; }', '/tmp/f1');\nmy $output = `$cmd`;\ndie(\"sed killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\ndie(\"sed exited with error \".( $? &gt;&gt; 8 ).\"\\n\") if $? &gt;&gt; 8;\n</code></pre>\n\n<p>Of course, anything <code>sed</code> can do can easily be done in Perl itself. You'd be better off doing that.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7562356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AQm9u.jpg?s=128&g=1", "display_name": "Sanjay Bangalore", "link": "https://stackoverflow.com/users/7562356/sanjay-bangalore"}, "is_accepted": false, "score": 0, "last_activity_date": 1501671725, "creation_date": 1501671725, "answer_id": 45459031, "question_id": 45445773, "link": "https://stackoverflow.com/questions/45445773/complicated-sed-command-inside-perl-script/45459031#45459031", "title": "Complicated sed command inside Perl script", "body": "<p>Thanks all..</p>\n\n<p>Sorry there was typo in the question. </p>\n\n<p>Got the sed command replaced by following and now its working fine-</p>\n\n<pre><code>while (&lt;&gt;)\n{\n    if (m/: \\[.*$/)\n    {\n        my $next = &lt;&gt;;\n        $_ =~ s/: \\[.*\\n/: /;\n        $_ .= $next;\n    }\n    print;\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7562356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AQm9u.jpg?s=128&g=1", "display_name": "Sanjay Bangalore", "link": "https://stackoverflow.com/users/7562356/sanjay-bangalore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 45446407, "answer_count": 3, "score": 0, "last_activity_date": 1501671725, "creation_date": 1501614199, "last_edit_date": 1501615511, "question_id": 45445773, "link": "https://stackoverflow.com/questions/45445773/complicated-sed-command-inside-perl-script", "title": "Complicated sed command inside Perl script", "body": "<p>I need to run a <code>sed</code> command inside a Perl script. But because the <code>sed</code> command is complicated, it does not run inside Perl. However, the <code>sed</code> command runs fine in shell. </p>\n\n<p>Can someone please help?</p>\n\n<p>File - </p>\n\n<blockquote>\n  <p>cat /tmp/f1</p>\n</blockquote>\n\n<pre><code>\"ABC\": \"abcd.com\"\n\"Xris\": [\n\"xyz.com\"\n\"users\": \"user.com\"\n\"id\": \"96444aa4b618.com\"\n</code></pre>\n\n<hr>\n\n<p>Sed command on shell -</p>\n\n<pre><code>[]$ cat /tmp/f1 | sed  '/: \\[.*$/ {s/\\[//; N; s/\\n//g; }'\n\"ABC\": \"abcd.com\"\n\"XUrl\": \"xyz.com\"\n\"users\": \"user.com\"\n\"id\": \"96444aa4b618.com\"\n[]$\n</code></pre>\n\n<hr>\n\n<p>However, when this <code>sed</code> command is called in a Perl script, it complains. I have tried many different escape characters but it does not work. Usually it throws error -</p>\n\n<pre><code>[]$ cat script.pl\n#!/usr/bin/perl\n`sed -e '/: \\[.*$/ {s/\\[//; N; s/\\n//g; }' /tmp/f1`;\n[]$ ./script.pl\nsed: -e expression #1, char 6: unterminated address regex\n[]$\n</code></pre>\n\n<p>Please help with how this <code>sed</code> command can be run from inside a Perl script. Or is there any better way of running <code>sed</code> in a Perl script?</p>\n"}, {"tags": ["javascript", "regex", "perl", "parsing"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501596424, "post_id": 45439493, "comment_id": 77841324, "body": "In your Perl code, you probably want the <code>&#47;c</code> flag and not <code>&#47;i</code> or <code>&#47;m</code>."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501597865, "post_id": 45439493, "comment_id": 77842508, "body": "Thanks, melpomene, I will fix it now"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501600715, "post_id": 45439493, "comment_id": 77844436, "body": "<code>&#47;gim</code> should be <code>&#47;gc</code>. Without <code>&#47;c</code>, the match position will reset on a failed match. (<code>&#47;i</code> and <code>&#47;m</code> are merely useless for those patterns.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501601016, "post_id": 45439493, "comment_id": 77844636, "body": "<a href=\"https://pastebin.com/dnVKF6tX\" rel=\"nofollow noreferrer\">Cleaned up version of your Perl code</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501599316, "post_id": 45440696, "comment_id": 77843526, "body": "I can have miss something, but I do not think it does what I want. It skips <b>&quot;#&quot;</b> character  and scans the space character after. I don&#39;t want it, because I want to be able to scan # in another snippet of code.  In addition, this solution ignores embedded pieces that don&#39;t fit, which violates the concept of continuous parsing in a compiler ou transpiler.  For instance, if string is <b>&quot;&amp; a &amp; 1 # &quot;</b>, the result will be                 <b>space word space space int space space</b>  That would violate my &quot;syntax&quot; I have created above.  If not, <b>/G</b> would be useless in Perl."}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501599772, "post_id": 45440696, "comment_id": 77843815, "body": "@PauloBuchsbaum: sure, a real world regex should cover all possible cases, with the last (fallback) group <code>([\\s\\S])</code>. See update"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501601248, "post_id": 45440696, "comment_id": 77844794, "body": "it&#39;s hard to explain.  The above regex is just for illustration. My real app is much more complicated than this, but I will try to elucidate  below:   My real goal is stop the pointer at the first part of string that does not  fit this pattern matching, so in the following code snippet, I&#39;ll deal it with another regex.    In this case (string <b>&quot;a 1 # &quot;</b>), I need to stop in &quot;#&quot; character and not skip the unwanted parts and proceed with the same regex.  After all, Perl must have added <b>&quot;/G&quot;</b> in regex spec for some reason."}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501602213, "post_id": 45440696, "comment_id": 77845435, "body": "@PauloBuchsbaum: I see where you&#39;re coming from, updated the answer."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501602853, "post_id": 45440696, "comment_id": 77845837, "body": "Yep, nice, thank you, @georg . It works flawless, however I still prefer my approach because the regex is a little bit simpler and the string doesn&#39;t need to be changed in each iteration. The change is encapsulated and local within the routine pattmatch. I will edit my code to make it simpler."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501603030, "post_id": 45440696, "comment_id": 77845951, "body": "Re &quot;<i>I still prefer my approach</i>&quot;, Your approach does far more copying."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501603750, "post_id": 45440696, "comment_id": 77846409, "body": "I have edited my code. Both are just as simple, it&#39;s just a matter of taste."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501606013, "post_id": 45440696, "comment_id": 77847737, "body": "Except for the function, both solutions have the same number of lines of code. One chose to move the pointer, the other chose to successively change the pattern recognition target. In fact, your solution is a bit faster because it avoids an additional function call in each interaction."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501610365, "post_id": 45440696, "comment_id": 77850272, "body": "Re &quot;<i>Both are just as simple, it&#39;s just a matter of taste</i>&quot;, The whole point was to get the efficiency of <code>&#47;\\G...&#47;gc</code>, and that&#39;s not a matter of taste."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501619787, "post_id": 45440696, "comment_id": 77855579, "body": "Perl can be better than Javascript for some uses. I have no experience in that language, but I&#39;m using Ionics that uses Angular, that uses Javascript. So I have no choice for now! And as I&#39;ve shown in post-editing, the time difference for each execution cycle is of the order of 10%, which corresponds, in my environment, to about 100 nanoseconds."}], "tags": [], "owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "is_accepted": false, "score": 2, "last_activity_date": 1501602516, "last_edit_date": 1501602516, "creation_date": 1501597897, "answer_id": 45440696, "question_id": 45439493, "link": "https://stackoverflow.com/questions/45439493/how-to-overcome-the-lack-of-perls-g-in-javascript-code/45440696#45440696", "title": "How to overcome the lack of Perl&#39;s \\G in JavaScript code?", "body": "<p>Looks like you're overcomplicating it a bit. <code>exec</code> with the <code>g</code> flag provides anchoring out of the box:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var \r\n    string = \" a 1 # \",\r\n    re  = /(\\s+)|([0-9]+)|(\\w+)|([\\s\\S])/gi,\r\n    m;\r\n\r\nwhile (m = re.exec(string)) {\r\n    if (m[1]) console.log('space');\r\n    if (m[2]) console.log('int');\r\n    if (m[3]) console.log('word');\r\n    if (m[4]) console.log('unknown');    \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If your regexp is not covering, and you want to stop on the first non-match, the simplest way would be to match from the <code>^</code> and strip the string once matched:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    var \r\n        string = \" a 1 # \",\r\n        re  = /^(?:(\\s+)|([0-9]+)|(\\w+))/i,\r\n        m;\r\n\r\n    while (m = string.match(re)) {\r\n        if (m[1]) console.log('space');\r\n        if (m[2]) console.log('int');\r\n        if (m[3]) console.log('word');\r\n        string = string.slice(m[0].length)\r\n    }\r\n\r\n    console.log('done, rest=[%s]', string)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This simple method doesn't fully replace <code>\\G</code> (or your \"match from\" method), because it loses the left context of the match.</p>\n"}, {"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 1, "creation_date": 1501601721, "post_id": 45441515, "comment_id": 77845140, "body": "I didn&#39;t know it, @ikegami, thank you for you knowledge sharing!  Unfortunately  I cannot use this feature in my project, which requires some compatibility with older versions.   So the question is:  Is there any more optimized way (apart mine) to simulate / G without this new feature?"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501609608, "post_id": 45441515, "comment_id": 77849828, "body": "Nowadays I do not think that saving a function call within a loop is so relevant. For the processing type of my application, I&#39;d rather pay the price for it than to cut the string successively, as one  goes through processing.     This is because, in my actual process, I want to save some positions inside string for further processing and the relative position takes off the clarity, even though I could rescue the absolute positions.     So the / Y clause you cited, and the / G clause has its value."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501609984, "post_id": 45441515, "comment_id": 77850040, "body": "I&#39;ve edited my javascript code in order to have the same number of lines than the @georg javascript code. The difference is one additional  function call and my option to keep the integrity of index and pattern match target."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501610173, "post_id": 45441515, "comment_id": 77850174, "body": "Re &quot;<i>Nowadays I do not think that saving a function call within a loop is so relevant.</i>&quot;, You really missed the point of their solution if you think it has to do with function calls?!? What his solution adds is a reduction in the number of times your input file is copied."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501611635, "post_id": 45441515, "comment_id": 77850996, "body": "Sorry for my ignorance, but which input file do you mean? The source code? Is the string, regex target, no would be already in memory? The routine that performs pattern recognition (<i>exec</i>) is called the same number of times in both cases, in one case directly, the other in the function <i>pattmatch</i>. My edited solution has the same number of lines as the other. The loop executes the same number of times. It must be something obvious that is escaping me, but I can not understand what you&#39;re talking about."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1501613917, "post_id": 45441515, "comment_id": 77852289, "body": "The input to a tokenizer is the string to tokenize. You keep making partial copies of it using slice. That makes your JavaScript-based tokenizer O(N^2). In contrast, the Perl-based tokeniser is O(N)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1501600207, "creation_date": 1501600207, "answer_id": 45441515, "question_id": 45439493, "link": "https://stackoverflow.com/questions/45439493/how-to-overcome-the-lack-of-perls-g-in-javascript-code/45441515#45441515", "title": "How to overcome the lack of Perl&#39;s \\G in JavaScript code?", "body": "<p>The functionality of <code>\\G</code> exists in form of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/sticky\" rel=\"nofollow noreferrer\"><code>/y</code> flag</a>.</p>\n\n<pre><code>var regex = /^foo/y;\nregex.lastIndex = 2;\nregex.test('..foo');   // false - index 2 is not the beginning of the string\n\nvar regex2 = /^foo/my;\nregex2.lastIndex = 2;\nregex2.test('..foo');  // false - index 2 is not the beginning of the string or line\nregex2.lastIndex = 2;\nregex2.test('.\\nfoo'); // true - index 2 is the beginning of a line\n</code></pre>\n\n<p>But it's quite new. You won't be able to use it on public web sites yet. Check the browser compatibility chart in the linked documentation.</p>\n"}], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1598210563, "creation_date": 1501594753, "last_edit_date": 1598210563, "question_id": 45439493, "link": "https://stackoverflow.com/questions/45439493/how-to-overcome-the-lack-of-perls-g-in-javascript-code", "title": "How to overcome the lack of Perl&#39;s \\G in JavaScript code?", "body": "<p>In Perl, when one wants to do continuous parsing on a string, it can be done something like this\nmy $string = &quot; a 1 # &quot;;</p>\n<pre><code>while () {\n    if ( $string =~ /\\G\\s+/gc )    {\n        print &quot;whitespace\\n&quot;;\n    }\n    elsif ( $string =~ /\\G[0-9]+/gim ) {\n        print &quot;integer\\n&quot;;\n    }\n    elsif ( $string =~ /\\G\\w+/gim ) {\n        print &quot;word\\n&quot;;\n    }\n    else {\n        print &quot;done\\n&quot;;\n        last;\n    }\n}\n</code></pre>\n<p>Source: <a href=\"https://stackoverflow.com/questions/21971701/when-is-g-useful-application-in-a-regex\"><em>When is \\G useful application in a regex?</em></a></p>\n<p>It produces the following output:</p>\n<pre><code>whitespace\nword\nwhitespace\ninteger\nwhitespace\ndone\n</code></pre>\n<p>In <em>JavaScript</em> (and many other regular expressions flavors) there is no <code>\\G</code> pattern, nor any good replacement.</p>\n<p>So I came up with a very simple solution that serves my purpose.</p>\n<pre><code>&lt;!-- language: lang-js --&gt; \n//*************************************************\n// pattmatch - Makes the PAT pattern in ST from POS\n// notice the &quot;^&quot; use to simulate &quot;/G&quot; directive\n//*************************************************\nfunction pattmatch(st,pat,pos)\n{\nvar resu;\npat.lastIndex=0;\nif (pos===0)  \n    return  pat.exec(st);    // busca qualquer identificador  \nelse  {\n  resu = pat.exec(st.slice(pos));    // busca qualquer identificador  \n  if (resu) \n      pat.lastIndex = pat.lastIndex + pos;\n  return resu;\n}  // if\n\n}\n</code></pre>\n<p>So, the above example would look like this in JavaScript (<code>node.js</code>):</p>\n<pre><code>&lt;!-- language: lang-js --&gt;\nvar string = &quot; a 1 # &quot;;\nvar pos=0, ret;  \nvar getLexema  = new RegExp(&quot;^(\\\\s+)|([0-9]+)|(\\\\w+)&quot;,&quot;gim&quot;);  \nwhile (pos&lt;string.length &amp;&amp; ( ret = pm(string,getLexema,pos)) ) {\n    if (ret[1]) console.log(&quot;whitespace&quot;);\n    if (ret[2]) console.log(&quot;integer&quot;);\n    if (ret[3]) console.log(&quot;word&quot;);\n    pos = getLexema.lastIndex;\n}  // While\nconsole.log(&quot;done&quot;);\n</code></pre>\n<p>It produces the same output than <em>Perl</em> code snippet:</p>\n<pre><code>whitespace\nword\nwhitespace\ninteger\nwhitespace\ndone\n</code></pre>\n<p>Notice the parser stop at <code>#</code> character. One can continue parsing in another code snippet from <code>pos</code> position.</p>\n<p>\u2756</p>\n<p>Is there a better way in <em>JavaScript</em> to simulate Perl's <code>/G</code> regex pattern?</p>\n<h1><strong>Post edition</strong></h1>\n<p>For curiosity, I've decided to compare my personal solution with @georg proposal. Here I do not state which code is best. For me, tt's a matter of taste.</p>\n<p>It will my system, which will depend a lot on user interaction, become slow?</p>\n<p>@ikegami writes about @georg solution:</p>\n<blockquote>\n<p>... his solution adds is a reduction in the number of times your input\nfile is copied ...</p>\n</blockquote>\n<p>So I've decided compare both solutions in a loop that repeats the code code 10 million times:</p>\n<pre><code>&lt;!-- language: lang-js --&gt;\nvar i;\nvar n1,n2;\nvar string,pos,m,conta,re;\n\n// Mine code\nconta=0;\nn1 = Date.now();\nfor (i=0;i&lt;10000000;i++) {\n  string = &quot; a 1 # &quot;;\n  pos=0, m;  \n  re  = new RegExp(&quot;^(\\\\s+)|([0-9]+)|(\\\\w+)&quot;,&quot;gim&quot;);  \n  while (pos&lt;string.length &amp;&amp; ( m = pattMatch(string,re,pos)) ) {\n    if (m[1]) conta++;\n    if (m[2]) conta++;\n    if (m[3]) conta++;\n    pos = re.lastIndex;\n  }  // While\n}\nn2 = Date.now();\nconsole.log('Mine: ' , ((n2-n1)/1000).toFixed(2), ' segundos' );\n\n\n// Other code\nconta=0;\nn1 = Date.now();\n\nfor (i=0;i&lt;10000000;i++) {\n  string = &quot; a 1 # &quot;;\n  re  = /^(?:(\\s+)|([0-9]+)|(\\w+))/i;\n  while (m = string.match(re)) {\n   if (m[1]) conta++;\n   if (m[2]) conta++;\n   if (m[3]) conta++;\n   string = string.slice(m[0].length)\n }\n }\nn2 = Date.now();\nconsole.log('Other: ' , ((n2-n1)/1000).toFixed(2) , ' segundos');\n\n//*************************************************\n// pattmatch - Makes the PAT pattern in ST from POS\n// notice the &quot;^&quot; use to simulate &quot;/G&quot; directive\n//*************************************************\nfunction pattMatch(st,pat,pos)\n{\nvar resu;\npat.lastIndex=0;\nif (pos===0)  \n    return  pat.exec(st);    \nelse  {\n  resu = pat.exec(st.slice(pos)); \n  if (resu) \n      pat.lastIndex = pat.lastIndex + pos;\n  return resu;\n}  \n} // pattMatch\n</code></pre>\n<p><em><strong>Results:</strong></em></p>\n<blockquote>\n<p>Mine:  11.90  segundos<br />\nOther:  10.77  segundos</p>\n</blockquote>\n<p>My code runs about 10% longer. It spends about 110 nanoseconds more per iteration.</p>\n<p>Honestly, according to my personal preference, I accept this loss of efficiency as acceptable to me, in a system with heavy user interaction.</p>\n<p>If my project involved heavy mathematical processing with multidimensional arrays or gigantic neural networks, I might rethink.</p>\n"}, {"tags": ["linux", "perl", "sockets", "centos", "ipv6"], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501597915, "post_id": 45436986, "comment_id": 77842544, "body": "Disabling your firewall is not the solution. A test failed. You realize it was a spurious failure due to the firewall instead of something being wrong with the module itself, so you go ahead and install it, ignoring the failure instead of disabling your protection."}, {"owner": {"reputation": 37, "user_id": 3043717, "user_type": "registered", "profile_image": "https://graph.facebook.com/738728149/picture?type=large", "display_name": "user3043717", "link": "https://stackoverflow.com/users/3043717/user3043717"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501610224, "post_id": 45436986, "comment_id": 77850204, "body": "That&#39;s what I did the first time (some weeks ago) and all that happened was that the IPV6 code  that I wrote did not work. So disabling the firewall would appear to fix those problems too."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501611522, "post_id": 45436986, "comment_id": 77850923, "body": "In that case, find rule that is interfering with your application. Find out if your application is at fault, or if the rule really is not necessary. Then decide whether to correct your application or to make an exception in the firewall. Don&#39;t disable the entire firewall."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501611570, "post_id": 45436986, "comment_id": 77850949, "body": "I am not interested in further discussion. As far as I am concerned, I&#39;ve already warned you not to smoke around gasoline. The rest is your problem."}], "tags": [], "owner": {"reputation": 37, "user_id": 3043717, "user_type": "registered", "profile_image": "https://graph.facebook.com/738728149/picture?type=large", "display_name": "user3043717", "link": "https://stackoverflow.com/users/3043717/user3043717"}, "is_accepted": false, "score": 0, "last_activity_date": 1501588121, "creation_date": 1501588121, "answer_id": 45436986, "question_id": 45436161, "link": "https://stackoverflow.com/questions/45436161/install-perl-5-20-3-fails-on-io-socket-ip-t-04local-client-v6-t/45436986#45436986", "title": "Install perl 5.20.3 fails on IO-Socket-IP/t/04local_client_v6.t", "body": "<p>It looks like it was a firewall problem.</p>\n\n<pre><code>service ip6tables stop\n</code></pre>\n\n<p>was the solution.</p>\n"}], "owner": {"reputation": 37, "user_id": 3043717, "user_type": "registered", "profile_image": "https://graph.facebook.com/738728149/picture?type=large", "display_name": "user3043717", "link": "https://stackoverflow.com/users/3043717/user3043717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501588121, "creation_date": 1501585781, "question_id": 45436161, "link": "https://stackoverflow.com/questions/45436161/install-perl-5-20-3-fails-on-io-socket-ip-t-04local-client-v6-t", "title": "Install perl 5.20.3 fails on IO-Socket-IP/t/04local_client_v6.t", "body": "<p>On installing perl 5.20.3I get the following error.</p>\n\n<pre><code>failed test: IO::Socket::IP-new constructs a SOCK_STREAM socket. line 55\n</code></pre>\n\n<p>On looking further I extracted the following code to demonstrate the problem.</p>\n\n<p><a href=\"https://gist.github.com/icydee/68a008e5b44544ce8b97e638bdd92526\" rel=\"nofollow noreferrer\">https://gist.github.com/icydee/68a008e5b44544ce8b97e638bdd92526</a></p>\n\n<p>On the linux (centos) system I am installing it on it fails (with timeout) on the IO::Socket::IP constructor.</p>\n\n<p>On another linux system the code runs with no problem.</p>\n\n<p>At this stage it seems to me to be a server configuration problem, but I am at a loss as to where to go next?</p>\n"}, {"tags": ["perl", "module", "cgi"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1501582321, "post_id": 45434990, "comment_id": 77830690, "body": "What is the error message?"}, {"owner": {"reputation": 7, "user_id": 6304252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VEwfM.jpg?s=128&g=1", "display_name": "C&#233;sar P.", "link": "https://stackoverflow.com/users/6304252/c%c3%a9sar-p"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501582575, "post_id": 45434990, "comment_id": 77830889, "body": "Sorry, I forgot to attach that before. This is the error message I receive: Can&#39;t locate CGI.pm in @INC (you may need to install the CGI module) (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5 /vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at main.pl line 5.                                                                                                             BEGIN failed--compilation aborted at main.pl line 5."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 3, "creation_date": 1501582627, "post_id": 45434990, "comment_id": 77830927, "body": "The CGI module is not installed"}, {"owner": {"reputation": 7, "user_id": 6304252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VEwfM.jpg?s=128&g=1", "display_name": "C&#233;sar P.", "link": "https://stackoverflow.com/users/6304252/c%c3%a9sar-p"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501582637, "post_id": 45434990, "comment_id": 77830933, "body": "So, I guess this is because the compiler cannot locate the CGI module, right?"}, {"owner": {"reputation": 7, "user_id": 6304252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VEwfM.jpg?s=128&g=1", "display_name": "C&#233;sar P.", "link": "https://stackoverflow.com/users/6304252/c%c3%a9sar-p"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501582672, "post_id": 45434990, "comment_id": 77830961, "body": "Is there any online compiler which could run this code?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501582711, "post_id": 45434990, "comment_id": 77830982, "body": "I do not know. I do not know any online compiler"}, {"owner": {"reputation": 7, "user_id": 6304252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VEwfM.jpg?s=128&g=1", "display_name": "C&#233;sar P.", "link": "https://stackoverflow.com/users/6304252/c%c3%a9sar-p"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501582939, "post_id": 45434990, "comment_id": 77831125, "body": "Ok, thanks. So, I could install Padre or another IDE to run the code? I use Windows."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1501582973, "post_id": 45434990, "comment_id": 77831141, "body": "You do not Need an IDE. You must install the module."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 6304252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VEwfM.jpg?s=128&g=1", "display_name": "C&#233;sar P.", "link": "https://stackoverflow.com/users/6304252/c%c3%a9sar-p"}, "edited": false, "score": 0, "creation_date": 1501592362, "post_id": 45437894, "comment_id": 77837948, "body": "Thanks a lot for your explanation. You see, I hadn&#39;t coded in Perl before... what I didn&#39;t get is why I was missing so many modules &quot;apparently&quot;. Now, I understand why. Unfortunately, I cannot redo all the work because I just have little time to check how it works. But I will note that down as a coding exercise or the future. I really appreciate your insight here @Dave Cross."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501604334, "post_id": 45437894, "comment_id": 77846760, "body": "Re &quot;<i>what I didn&#39;t get is why I was missing so many module</i>&quot;, Basically, Perl comes with the modules it needs to install other modules, and a few others for historical reasons. That&#39;s pretty much it."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1501615114, "last_edit_date": 1501615114, "creation_date": 1501590716, "answer_id": 45437894, "question_id": 45434990, "link": "https://stackoverflow.com/questions/45434990/why-does-this-code-have-issues-with-the-cgi-module/45437894#45437894", "title": "Why does this code have issues with the CGI module?", "body": "<p>The error message seems pretty clear to me:</p>\n\n<blockquote>\n  <p>Can't locate CGI.pm in @INC (you may need to install the CGI module)</p>\n</blockquote>\n\n<p>Which version of Perl are you using? CGI.pm was a core Perl module from 5.004 to 5.20. From 5.22 onwards, CGI.pm has been removed from the Perl core distribution. You will need to install it separately.</p>\n\n<p>But it's worth considering the reason why CGI.pm was removed from the Perl core - it's because it isn't the recommended way to write web applications with Perl in 2017. I recommend reading <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> for an overview of some more modern technologies.</p>\n\n<p>However, as you already have a CGI program, I'm assuming that you don't want to rewrite it all from scratch to reflect modern Perl best practices. I would, however, urge you to remove the use of the HTML generation functions from your code. We've known they are a terrible idea since the end of the last millennium and <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">they are now deprecated</a>. Please consider moving your HTML generation into some kind of template (there's an example using the Template Toolkit in the CGI::Alternatives document I mentioned above).</p>\n\n<p>You are also using subroutine prototypes. Their use is also strongly discouraged unless you are using one of the small number of cases where they add useful functionality. I'd recommend removing them.</p>\n\n<p><strong>Update:</strong> In your comment, you say:</p>\n\n<blockquote>\n  <p>what I didn't get is why I was missing so many modules \"apparently\".</p>\n</blockquote>\n\n<p>Looking at the list of modules in your code:</p>\n\n<ul>\n<li>CGI was added to core in 5.004 and removed in 5.22.</li>\n<li>CGI::Carp was added and removed at the same times as CGI.</li>\n<li>LWP::Simple has never been in the Perl core distribution. But from Perl 5.14, the core has included HTTP::Tiny which does many of the same things.</li>\n<li>List::Util has been in the Perl core since 5.8.</li>\n</ul>\n\n<p>So I think that mainly your problem was assuming that more libraries are in the core than actually are.</p>\n"}], "owner": {"reputation": 7, "user_id": 6304252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VEwfM.jpg?s=128&g=1", "display_name": "C&#233;sar P.", "link": "https://stackoverflow.com/users/6304252/c%c3%a9sar-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 45437894, "answer_count": 1, "score": -3, "last_activity_date": 1501615114, "creation_date": 1501582248, "last_edit_date": 1501592119, "question_id": 45434990, "link": "https://stackoverflow.com/questions/45434990/why-does-this-code-have-issues-with-the-cgi-module", "title": "Why does this code have issues with the CGI module?", "body": "<p>Good morning, I have this code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CGI;\nuse CGI::Carp qw/fatalsToBrowser/;\nuse LWP::Simple;\nuse List::Util qw/min max sum/;\n\nmy $urlData = \"http://cgi.csc.liv.ac.uk/cgi-bin/cgiwrap/~ullrich/data.pl\";\nmy $title   = \"Statistical analysis of weather data for a particular date\";\n#\n# Display form with input fields\n# Take a CGI object as input\n#\n</code></pre>\n\n<p>etc ...</p>\n\n<pre><code>print $q-&gt;end_html;\n</code></pre>\n\n<p>I cannot run this code because a warning about the modules pops up, but it seemed to be OK. Any idea about what's going on?</p>\n\n<p>First, the CGI module, but when I comment that one out, the following modules also cause the same error message.</p>\n\n<p>This is the error message I receive</p>\n\n<blockquote>\n  <p>Can't locate CGI.pm in @INC (you may need to install the CGI module) (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5 /vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at main.pl line 5. BEGIN failed--compilation aborted at main.pl line 5</p>\n</blockquote>\n\n<p>I tried running in an online compiler and got an error. Will this be solved by installing those missing modules in the computer before compiling? Which IDE do you recommend to test this code?</p>\n\n<p><strong>tl;dr</strong> <strong>The solution is below:</strong> I needed to install the missing modules.</p>\n"}, {"tags": ["perl", "data-structures", "reference", "hashmap"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1501582261, "post_id": 45434822, "comment_id": 77830636, "body": "Where does array <code>@hashvalues</code> come from? I don&#39;t see an &quot;array of a hash&quot; anywhere here. An example with real data would help a lot."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1501597968, "post_id": 45434822, "comment_id": 77842585, "body": "Too much bold, and horrible formatting make it hard for other people to read your question."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1501584328, "creation_date": 1501584328, "answer_id": 45435701, "question_id": 45434822, "link": "https://stackoverflow.com/questions/45434822/how-do-i-push-a-value-from-a-hash-onto-an-array-of-a-hash/45435701#45435701", "title": "How do i push a value from a hash onto an array of a hash?", "body": "<p>Your question is far from clear, but I think I can answer this question out of context</p>\n\n<blockquote>\n  <p>I want to push the $name from <code>$hashmap{$key}</code> into the <code>\\@children</code> of the <code>$hashmap{$newkey}</code></p>\n</blockquote>\n\n<p>I assume you have something like this in place already</p>\n\n<pre><code>my %hashmap;\n\nmy ( $name, $type, $Statement, @parents, @children );\n\nmy @hashvalues = ( $name, $type, $Statement, \\@parents, \\@children );\n$hashmap{$newkey} = \\@hashvalues;\n</code></pre>\n\n<ul>\n<li><p>Remember that the identifiers <code>name</code>, <code>type</code>, <code>Statement</code> etc. have vanished, and these five values are simply elements of an array</p></li>\n<li><p>The $name from <code>$hashmap{$key}</code> is the first element of the array, so it is\n<code>$hashmap{$key}[0]</code></p></li>\n<li><p>The <code>@children</code> of the <code>$hashmap{$newkey}</code> is the fifth element of the array, or\n<code>$hashmap{$newkey}[4]</code></p></li>\n<li><p>To push the first into the second, you need</p>\n\n<pre><code>push @{ $hashmap{$newkey}[4] }, $hashmap{$key}[0]\n</code></pre></li>\n</ul>\n\n<p><em>You should also use something more meaningful than <code>hashmap</code> for your identifier. The <code>%</code> says that the variable is a hash (there's no such thing as a Perl hash map) and you should use the name to describe the nature of its contents</em></p>\n"}], "owner": {"reputation": 57, "user_id": 7856165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/776861022491015/picture?type=large", "display_name": "Cristi.Fatu", "link": "https://stackoverflow.com/users/7856165/cristi-fatu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 45435701, "answer_count": 1, "score": -2, "last_activity_date": 1501623572, "creation_date": 1501581778, "last_edit_date": 1501623572, "question_id": 45434822, "link": "https://stackoverflow.com/questions/45434822/how-do-i-push-a-value-from-a-hash-onto-an-array-of-a-hash", "title": "How do i push a value from a hash onto an array of a hash?", "body": "<p>I have a <code>%hashmap</code> and an array <code>@values</code>.</p>\n\n<p>In my code the <code>%hashmap</code> is being created like this <code>$hashmap{$key}=\"$name\";</code></p>\n\n<p>After the <code>%hashmap</code> is created i need to take it's value and add it to the same <code>%hashmap</code> but with a different key , the new hashmap looks like this :</p>\n\n<pre><code>@hashvalues=($name,$type,$Statement,\\@parents,\\@children)\n$hashmap{$newkey}=\\@hashvalues;\n</code></pre>\n\n<p>I want to push the <code>$name</code> from <code>$hashmap{$key}</code> into the <code>\\@children</code> of the  <code>$hashmap{$newkey}</code></p>\n\n<p>This is my code so far :</p>\n\n<pre><code># first i check if the $hashmap exists so i know i update it \n\nif(exists$hashmap{$name}){\n    my $auxiliary=\\@{$hashmap{$name}};\n    push(@children,@$auxiliary);\n}   \nmy @hashvalues=($name,$type,$Statement,\\@parents,\\@children);\n\n$hashmap{$name}=\\@hashvalues;\n</code></pre>\n\n<p>The <code>%hash</code> i want to <code>push</code> it is created here , there is no other record of it :</p>\n\n<pre><code>if ($parent ne @$hashvalues2[0]) {      \n    $hashmap{$parent}=\"$child\";\n}\n</code></pre>\n\n<p>The value i am interested to store and push is <code>$child</code> here .</p>\n\n<p>Here is the place were the same %hash will be created again but with the fields name , type etc : (not empty fields ! , they all have a value assigned earlier )</p>\n\n<pre><code>@hashvalues = ($name, $type, $Statement, \\@parents, \\@children)\n$hashmap{$newkey} = \\@hashvalues; \n</code></pre>\n\n<p>I want to see if the <code>%hash</code> was created before this point <code>@hasvalues=($name..</code></p>\n\n<p>So i check it with this code : </p>\n\n<pre><code>if (exists$hashmap{$name}) { Do Code... }\n</code></pre>\n\n<p>If there was a recording of it i want to update the %hash , by pushing the value <code>$child</code> in the <code>\\@parents</code> of the <code>@hashvalues</code> , so when <code>%hash</code> with type , name .. will be made to have the $child value for the previous version of it. </p>\n\n<p>Here is the order of the code :</p>\n\n<ol>\n<li><p><code>if (exists$hashmap{$name}) { Do Code; }</code></p></li>\n<li><p>&nbsp;</p>\n\n<pre><code>my @hashvalues  = ($name, $type, $Statement, \\@parents, \\@children);\n$hashmap{$name} = \\@hashvalues;\n</code></pre></li>\n<li><p>&nbsp;  </p>\n\n<pre><code>if ($parent ne @$hashvalues2[0]) {\n    $hashmap{$parent} = \"$child\";\n}\n</code></pre></li>\n</ol>\n\n<p>Here is the whole code :</p>\n\n<p><code>@FileStatements</code> - An array of Statements\n<code>$Statement</code> - a larger string where i collect all my data from</p>\n\n<p>And i fill the <code>@hashvalues</code> with all the data i collect </p>\n\n<pre><code>my $FROMduplicate=\"\";\n my $JOINduplicate=\"\";\n    foreach my $Statement (@FileStatements) {\n\n        if ($Statement!~m/create/i) {\n            next;\n        }\n        if ($Statement=~m/create user |^GRANT |^spool /gim) {\n            next;       \n        }\n        my $name=\"\";\n        my $type=\"\";\n        my $content=\"\";#FileStatements\n        my @parents=();\n        my @children=();\n        my $duplicate=\"\";\n        # print $Statement.\"\\n\";\n\n    #NAME--------------------------------------------\n        my $catch = (split(/ view | trigger | table | synonym | procedure | role /i, $Statement))[1];\n        $catch =~ s/^\\s+//;\n        $name = (split(/\\s+/, $catch))[0];\n        if ($name=~m/undef/gi){next;}\n    #DEBUG  #print \"$name\\n\";\n    #TYPE--------------------------------------------\n        if( $Statement=~m/^create or replace \\w+ /i) {\n        my $tmp = (split(/ replace /i, $Statement))[1];\n        $tmp =~ s/^\\s+//;\n        $type = (split(/\\s+/, $tmp))[0];\n        }\n        else{\n\n        my $tmp = (split(/^create /i, $Statement))[1];  \n        $tmp =~ s/^\\s+//;\n        $type = (split(/\\s+/, $tmp))[0];\n        }\n        if ($type=~m/undef| undef |\\s+undef\\s+|\\s+undef,/) {\n            next;\n        }\n\n            #print \"$type\\n\";\n        #CONTENT-----------------------------------------\n        #PARENTS-----------------------------------------\n        my @froms = split(/ from\\s+/i, $Statement); \n        my @joins = split(/ join /i, $Statement);\n        foreach my $i (1..@froms-1) {\n            #print Writer1 \"$froms[$i]\".\"\\n\\n\";\n            my $from = (split(/ where |select | left |  left | right | as /i, $froms[$i])) [0];\n            $from=~s/^\\s+//;\n            $from=~s/\\(+//;\n            my @Spaces = split(/, | , /,$from);\n            foreach my $x (0..@Spaces-1) {\n                    my $SpaceFrom = (split(/ /,$Spaces[$x])) [0];\n                    $SpaceFrom=~s/;//;\n                    $SpaceFrom=~s/\\)+//;\n                # print Writer1 $SpaceFrom.\"\\n\\n\";\n                    if ($SpaceFrom eq $FROMduplicate) {\n                        next;\n                    }\n                    push(@parents,$SpaceFrom);                 \n                     $FROMduplicate=$SpaceFrom;\n           }  \n        }\n        foreach my $x (1..@joins-1){\n            #print \"$joins[$i]\".\"\\n\\n\";\n            my $join = (split(/ on /i,$joins[$x])) [0];\n            $join = (split(/ /i,$joins[$x])) [0];\n            #print Writer \"\\n\\n\".$join.\"\\n\\n\";   \n             if ($join eq $JOINduplicate) {\n                next;\n             }\n            push(@parents,$join);\n              $JOINduplicate=$join;\n\n        }\n             @parents = do { my %seen; grep { !$seen{$_}++ } @parents };\n        #check hash for existence\n           if(exists$hashmap{$name}){\n\n\n             push(@{$hashmap[3]},@parents);\n             push(@{$hashmap[0]},$name);\n             push(@{$hashmap[1]},$type);\n             push(@{$hashmap[2]},$Statement);\n            }\n\n        my @hashvalues=($name,$type,$Statement,\\@parents,\\@children);\n        $hashmap{$name}=\\@hashvalues;\n         # push(@children,$hashmap{$name}) if( exists$hashmap{$name})   \n\n    } \n\n}\n</code></pre>\n"}, {"tags": ["python", "ruby", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1501590317, "post_id": 45434618, "comment_id": 77836299, "body": "Can you be more specific about your requirement to stop processing a line after the first successful replacement (from comment below)? Do you mean you want exactly/at most one replacement per line?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1501611678, "post_id": 45434618, "comment_id": 77851019, "body": "I took &quot;<i>without cluttering my code with checks</i>&quot; to the heart -- I don&#39;t think you can add some magical switch to the ready code, without adding checks. On a new project though, you can write a class to wrap regex and have it count matches by each pattern.  Thinking about it, such a module may well exist. (I found that <a href=\"http://search.cpan.org/~rsavage/Regexp-Assemble-0.38/lib/Regexp/Assemble.pm\" rel=\"nofollow noreferrer\">Regexp::Assemble</a> has the option <code>track</code> but couldn&#39;t get it to work.)"}, {"owner": {"reputation": 1973, "user_id": 1716999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/06a58106c9a1013f1ca791c46579d664?s=128&d=identicon&r=PG", "display_name": "rubystallion", "link": "https://stackoverflow.com/users/1716999/rubystallion"}, "edited": false, "score": 0, "creation_date": 1501643692, "post_id": 45434618, "comment_id": 77862713, "body": "I haven&#39;t looked into Regexp::Assemble, but here&#39;s such a wrapper I came up with: <a href=\"https://gist.github.com/rubystallion/a28cb275f3209478253939decf9c2e31#file-regexpwrapper-pl\" rel=\"nofollow noreferrer\">gist.github.com/rubystallion/&hellip;</a>  I&#39;m still convinced that it should be possible to extend the existing substitution mechanism without adding checks or wrapping expressions, maybe not in perl, but surely in ruby, python or perl6."}], "answers": [{"comments": [{"owner": {"reputation": 1973, "user_id": 1716999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/06a58106c9a1013f1ca791c46579d664?s=128&d=identicon&r=PG", "display_name": "rubystallion", "link": "https://stackoverflow.com/users/1716999/rubystallion"}, "edited": false, "score": 0, "creation_date": 1501582562, "post_id": 45434852, "comment_id": 77830876, "body": "Replacing on the whole file is a good solution for me, because it&#39;s a small file and in my case the replacements are not likely to lead to bugs. I&#39;ll wait a bit longer if someone can come up with a solution that doesn&#39;t require keeping the entire file in memory and would also work if I didn&#39;t apply the replacements one after the other, but stopped processing a line after the first successful replacement. Thanks!"}, {"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1501590071, "post_id": 45434852, "comment_id": 77836106, "body": "If the pattern is a regex rather than a string, use a Regex literal (<code>[&#47;foo&#47;, &#39;lorem&#39;]</code> or <code>[ %r{foo}, &#39;lorem&#39;]</code>) instead."}], "tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": false, "score": 2, "last_activity_date": 1501590120, "last_edit_date": 1501590120, "creation_date": 1501581861, "answer_id": 45434852, "question_id": 45434618, "link": "https://stackoverflow.com/questions/45434618/how-can-i-report-any-regexp-which-never-matched-in-the-whole-script/45434852#45434852", "title": "How can I report any regexp which never matched in the whole script?", "body": "<p>In Ruby, <a href=\"https://ruby-doc.org/core-2.1.4/String.html#method-i-gsub-21\" rel=\"nofollow noreferrer\"><code>gsub!</code></a> modifies the string in place and returns <code>nil</code> if the pattern hasn't been found:</p>\n\n<pre><code>text = \"foo\nbar\nbaz\"\n\nreplacements = [['foo', 'lorem'], ['bazzz', 'ipsum']]\n# or with regexen:\nreplacements = [[/foo/, 'lorem'], [/bazzz/, 'ipsum']]\n\n\nreplacements.each do |pattern, replacement|\n  unless text.gsub!(pattern, replacement)\n    puts \"#WARNING: #{pattern} wasn't found\"\n  end\nend\n\nputs text\n</code></pre>\n\n<p>It outputs:</p>\n\n<pre><code>WARNING: bazzz wasn't found\nlorem\nbar\nbaz\n</code></pre>\n\n<p>Note that applying replacements one after the other can lead to bugs.</p>\n"}, {"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 1, "last_activity_date": 1501584894, "last_edit_date": 1501584894, "creation_date": 1501582861, "answer_id": 45435203, "question_id": 45434618, "link": "https://stackoverflow.com/questions/45434618/how-can-i-report-any-regexp-which-never-matched-in-the-whole-script/45435203#45435203", "title": "How can I report any regexp which never matched in the whole script?", "body": "<p>Not really metaprogramming, but here's a Perl version which counts how many lines each pattern matches.  It doesn't modify the input data or the patterns and only keeps one line of input in memory at a time:</p>\n\n<pre><code>#!/usr/bin/env perl    \n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy @patterns = qw( foo bazzz );\nmy %matches;\n\nfor my $line (&lt;DATA&gt;) {\n  for my $pat (@patterns) {\n    if ($line =~ /$pat/) {\n      $matches{$pat}++;\n    }\n  }\n} \n\nfor my $pat (sort @patterns) {\n  say \"$pat matched no lines\" unless $matches{$pat};\n} \n\n__DATA__\nfoo\nbar\nbaz\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>bazzz matched no lines\n</code></pre>\n\n<p><strong>Edit:</strong> How careless of me.  You want to do substitutions, not matches! That actually makes it a little simpler, since the Perl regex substitution operator returns the number of substitutions performed.  Here's a modified version which does that:</p>\n\n<pre><code>#!/usr/bin/env perl    \n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy %patterns = ( foo =&gt; 'lorem', bazzz =&gt; 'ipsum' );\nmy %matches;\n\nfor my $line (&lt;DATA&gt;) {\n  for my $from (keys %patterns) {\n    my $to = $patterns{$from};\n    $matches{$from} += $line =~ s/$from/$to/g;\n  }\n} \n\nfor my $pat (sort keys %patterns) {\n  say \"$pat matched no lines\" unless $matches{$pat};\n} \n\n__DATA__\nfoo\nbar\nbaz\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>bazzz matched no lines\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1501591736, "last_edit_date": 1501591736, "creation_date": 1501591363, "answer_id": 45438154, "question_id": 45434618, "link": "https://stackoverflow.com/questions/45434618/how-can-i-report-any-regexp-which-never-matched-in-the-whole-script/45438154#45438154", "title": "How can I report any regexp which never matched in the whole script?", "body": "<p>All you need is:</p>\n\n<pre><code>awk '\nBEGIN {\n    map[\"foo\"] = \"lorem\"\n    map[\"bazzz\"] = \"ipsum\"\n}\n{\n    for (re in map) {\n        cnt[re] += gsub(re,map[re])\n    }\n    print\n}\nEND {\n    for (re in map) {\n        print re, cnt[re]+0 | \"cat&gt;&amp;2\"\n    }\n}\n' file\n</code></pre>\n\n<p>The above will print to stderr you how many times each substitution was made - massage to suit, e.g.:</p>\n\n<pre><code>END {\n    for (re in map) {\n        if ( cnt[re] == 0 ) {\n            print \"WARNING: never matched\", re | \"cat&gt;&amp;2\"\n        }\n    }\n}\n</code></pre>\n\n<p>It only keeps one line of the file at a time in memory.</p>\n"}, {"tags": [], "owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "is_accepted": true, "score": 1, "last_activity_date": 1501593458, "creation_date": 1501593458, "answer_id": 45438991, "question_id": 45434618, "link": "https://stackoverflow.com/questions/45434618/how-can-i-report-any-regexp-which-never-matched-in-the-whole-script/45438991#45438991", "title": "How can I report any regexp which never matched in the whole script?", "body": "<p>Here's a Ruby script that:</p>\n\n<ul>\n<li>Reads the substitutions from a simple delimited file</li>\n<li>Reads the file to process from the command line</li>\n<li>Stops applying substitutions to a line once one matches</li>\n<li>Reports which patterns did not match</li>\n</ul>\n\n<p>Currently, it prints the output but it can be changed to write to a file.</p>\n\n<p><strong>substitutions.txt</strong></p>\n\n<pre><code>foo     lorem\nbazzz   ipsum\nqux     notfound\n</code></pre>\n\n<p><strong>example.txt</strong></p>\n\n<pre><code>The foo and bazzz\nThe foo\nThe bazzz\nand the ugly\n</code></pre>\n\n<p><strong>subs.rb</strong>, invocation: <code>ruby subs.rb example.txt</code></p>\n\n<pre><code>filename = ARGV[0]\nsubstitutions = File.readlines(\"substitutions.txt\").map(&amp;:split)\nused = {}\n\nIO.foreach(filename) do |line|\n    substitutions.each do |pattern, replacement|\n        if line.gsub!(pattern, replacement)\n            used[pattern] = true\n            break #no more substitutions for this line\n        end\n    end\n    puts line\nend\n\nunused = substitutions.map(&amp;:first) - used.keys\nunless unused.empty?\n    puts \"Unused patterns:\"\n    puts unused\nend\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>The lorem and bazzz\nThe lorem\nThe ipsum\nand the ugly\n\nUnused patterns:\nqux\n</code></pre>\n"}], "owner": {"reputation": 1973, "user_id": 1716999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/06a58106c9a1013f1ca791c46579d664?s=128&d=identicon&r=PG", "display_name": "rubystallion", "link": "https://stackoverflow.com/users/1716999/rubystallion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "accepted_answer_id": 45438991, "answer_count": 4, "score": 1, "last_activity_date": 1501595587, "creation_date": 1501581207, "last_edit_date": 1501595587, "question_id": 45434618, "link": "https://stackoverflow.com/questions/45434618/how-can-i-report-any-regexp-which-never-matched-in-the-whole-script", "title": "How can I report any regexp which never matched in the whole script?", "body": "<p>I often loop over lines in a file and apply several regexp substitutions, where I sometimes make mistakes so that one of these expressions never matches on any line. \nHow can I find out which regexp didn't match without cluttering my code with checks? Does any scripting language provide metaprogramming facilities or debugging facilities for that?\nExample input:</p>\n\n<pre><code> foo\n bar\n baz\n</code></pre>\n\n<p>Example script (pseudocode):</p>\n\n<pre><code> for each line of the file:\n  s/foo/lorem/\n  s/bazzz/ipsum/    # this never matches on any line and should get reported\n</code></pre>\n\n<p><strong>Edit:</strong> I prefer Mark Thomas' solution, because I want the file to be read line by line and stops applying substitutions after the first match. Next time I should make my requirements clearer. A metaprogramming solution would have additional benefits, because I often do more complex case-specific processing line by line, although I think given the inspirations from the answers I can probably come up with a ruby extension method myself so that I can replace <code>gsub!</code> with <code>gsub_debug!</code> for debugging and get a report of all non-matching regular expressions when the program finished running.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1501580448, "post_id": 45434230, "comment_id": 77829318, "body": "I don&#39;t think you&#39;re likely to get a quarter of a century of Perl development condensed into a Stackoverflow answer. Try Wikipedia instead."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1501580774, "post_id": 45434230, "comment_id": 77829544, "body": "There is no &quot;4.2&quot;. The latest perl4 version is 4.036 (released in 1993)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501585817, "post_id": 45434230, "comment_id": 77832989, "body": "@melpomene: <a href=\"http://perldoc.perl.org/perlhist.html\" rel=\"nofollow noreferrer\">4.001..3      1991-Apr-12</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501587037, "post_id": 45434230, "comment_id": 77833862, "body": "@Borodin There was also a 4.020 in 1992. Both 4.002 and 4.020 existed for less than a day, superceded by 4.003 and 4.033, respectively. It&#39;s unclear what OP is actually using."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501587386, "post_id": 45434230, "comment_id": 77834138, "body": "@melpomene: I agree, but I doubt if they meant 4.200"}, {"owner": {"reputation": 5, "user_id": 3291891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a38593fb83ab3b9ae49f6bb2ecb8da1?s=128&d=identicon&r=PG&f=1", "display_name": "user3291891", "link": "https://stackoverflow.com/users/3291891/user3291891"}, "edited": false, "score": 0, "creation_date": 1501758606, "post_id": 45434230, "comment_id": 77925317, "body": "Sorry It was 4.036 version we have been using"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 3291891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a38593fb83ab3b9ae49f6bb2ecb8da1?s=128&d=identicon&r=PG&f=1", "display_name": "user3291891", "link": "https://stackoverflow.com/users/3291891/user3291891"}, "edited": false, "score": 0, "creation_date": 1501582470, "post_id": 45434949, "comment_id": 77830809, "body": "Thank you so much for much needed information. I would like to know does Perl latest version support informix 11.5. Because informix db interaction is the back bone of my application. How about upgrade process, would it be smooth or painful"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 5, "user_id": 3291891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a38593fb83ab3b9ae49f6bb2ecb8da1?s=128&d=identicon&r=PG&f=1", "display_name": "user3291891", "link": "https://stackoverflow.com/users/3291891/user3291891"}, "edited": false, "score": 0, "creation_date": 1501582782, "post_id": 45434949, "comment_id": 77831020, "body": "@user3291891 Apparently there&#39;s a <a href=\"https://metacpan.org/pod/DBD::Informix#NAME\" rel=\"nofollow noreferrer\">DBD::Informix</a> driver, so the standard <a href=\"https://metacpan.org/pod/DBI#NAME\" rel=\"nofollow noreferrer\">DBI</a> (database interface) module should be able to work with it."}, {"owner": {"reputation": 5, "user_id": 3291891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a38593fb83ab3b9ae49f6bb2ecb8da1?s=128&d=identicon&r=PG&f=1", "display_name": "user3291891", "link": "https://stackoverflow.com/users/3291891/user3291891"}, "edited": false, "score": 0, "creation_date": 1501582856, "post_id": 45434949, "comment_id": 77831065, "body": "Thank you so much for much needed information. I would like to know does Perl latest version support informix 11.5. Because informix db interaction is the back bone of my application. How about upgrade process, would it be smooth or painful and one last thing is does it have support for code which was written years ago using 4.1."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 5, "user_id": 3291891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a38593fb83ab3b9ae49f6bb2ecb8da1?s=128&d=identicon&r=PG&f=1", "display_name": "user3291891", "link": "https://stackoverflow.com/users/3291891/user3291891"}, "edited": false, "score": 3, "creation_date": 1501582930, "post_id": 45434949, "comment_id": 77831118, "body": "@user3291891 As for the upgrade process: You haven&#39;t shown any of the code so I can&#39;t say. But given that you don&#39;t even know what version of perl you&#39;re currently using (neither &quot;4.2&quot; nor &quot;4.1&quot; exist), I doubt it&#39;s going to be smooth."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1501582130, "creation_date": 1501582130, "answer_id": 45434949, "question_id": 45434230, "link": "https://stackoverflow.com/questions/45434230/need-help-to-upgrade-perl-from-4-to-latest/45434949#45434949", "title": "Need help to upgrade perl from 4 to latest", "body": "<p>Some things perl4 didn't have:</p>\n\n<ul>\n<li>local (lexically scoped) variables</li>\n<li>data structures (beyond simple arrays-of-scalars and hashes-of-scalars)</li>\n<li>references (including references to subroutines, which let you abstract over behavior)</li>\n<li>closures / first-class functions</li>\n<li>OO: classes, methods, and objects</li>\n<li>a module system, and a way to implement parts or all of a module in C, letting you bind to external libraries</li>\n<li>CPAN: a central repository for modules written by other people for almost any task you can think of (current count: 188,959 modules) </li>\n<li>pragmas that can warn you about or disable dangerous and questionable operations (<code>use strict</code>, <code>use warnings</code>)</li>\n<li>Unicode support (in strings + all core operations; encoding layers in file handles) </li>\n<li>subroutines that can be called like (most) builtins (<code>&amp;</code> and parentheses not required, special calling conventions can be enabled by using \"prototypes\")</li>\n<li><code>tie</code>: a variable (scalar/array/hash) can be backed by an object; operations on the variable automatically invoke methods on the object instead</li>\n<li>threads</li>\n<li>overridable keywords</li>\n<li>exception handling with <code>die</code>/<code>eval {}</code></li>\n<li>tons and tons of regex enhancements</li>\n</ul>\n\n<p>... and hundreds of things I don't remember and can't list here. Seriously, perl5 is a very different language from perl4, even if many perl4 features are still there.</p>\n"}], "owner": {"reputation": 5, "user_id": 3291891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a38593fb83ab3b9ae49f6bb2ecb8da1?s=128&d=identicon&r=PG&f=1", "display_name": "user3291891", "link": "https://stackoverflow.com/users/3291891/user3291891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1501582594, "accepted_answer_id": 45434949, "answer_count": 1, "score": -3, "last_activity_date": 1553101948, "creation_date": 1501580252, "last_edit_date": 1553101948, "question_id": 45434230, "link": "https://stackoverflow.com/questions/45434230/need-help-to-upgrade-perl-from-4-to-latest", "closed_reason": "Needs more focus", "title": "Need help to upgrade perl from 4 to latest", "body": "<p>We are using Perl extensively in our project which is used to fetch the data from DB and install several components. Now we want to upgrade it to 5 from 4.2. I would like to know what changed and what are features that the latest Perl version has over 4.2. Someone please guide me to get this done.</p>\n"}, {"tags": ["mysql", "perl", "transactions", "dbi"], "comments": [{"owner": {"reputation": 4920, "user_id": 3719667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nu56e.jpg?s=128&g=1", "display_name": "joanolo", "link": "https://stackoverflow.com/users/3719667/joanolo"}, "edited": false, "score": 0, "creation_date": 1501582359, "post_id": 45433920, "comment_id": 77830722, "body": "Not in a transactional way... Your second transaction shouldn&#39;t read data which isn&#39;t yet <i>committed</i>. You may do some things if your isolation level is <a href=\"https://dev.mysql.com/doc/refman/5.7/en/innodb-transaction-isolation-levels.html#isolevel_read-uncommitted\" rel=\"nofollow noreferrer\"><i>read uncommitted</i></a>. I wouldn&#39;t."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501587728, "post_id": 45433920, "comment_id": 77834396, "body": "<i>&quot;I implemented transactions using <code>dbh-&gt;begin_work</code> and <code>eval</code> in my perl script&quot;</i> It&#39;s far cleaner to disable <code>RaiseError</code> and check the returned status of each operation."}], "answers": [{"tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": 0, "last_activity_date": 1501685300, "creation_date": 1501685300, "answer_id": 45464104, "question_id": 45433920, "link": "https://stackoverflow.com/questions/45433920/perl-dbi-parallel-transactions/45464104#45464104", "title": "Perl DBI - Parallel Transactions", "body": "<p>Every database has its own transaction isolation levels. Read something like this article: <a href=\"http://www.oracle.com/technetwork/issue-archive/2005/05-nov/o65asktom-082389.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/issue-archive/2005/05-nov/o65asktom-082389.html</a></p>\n\n<p>So every transaction may be locked and/or abandoned due to race conditions between simultaneous running transactions.</p>\n\n<p>And read <a href=\"http://search.cpan.org/~timb/DBI-1.636/DBI.pm#Transactions\" rel=\"nofollow noreferrer\">http://search.cpan.org/~timb/DBI-1.636/DBI.pm#Transactions</a> chapter to use RaiseError anyway.</p>\n"}], "owner": {"reputation": 985, "user_id": 2195499, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0d3180333388fe82acbed9a395ba9ee5?s=128&d=identicon&r=PG", "display_name": "Yashwanth Aluru", "link": "https://stackoverflow.com/users/2195499/yashwanth-aluru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1501685300, "creation_date": 1501579439, "question_id": 45433920, "link": "https://stackoverflow.com/questions/45433920/perl-dbi-parallel-transactions", "title": "Perl DBI - Parallel Transactions", "body": "<p>I have a perl script with DBI doing various DML operations on multiple tables in a MySQL database in a sequence.</p>\n\n<p>I implemented transactions using <code>dbh-&gt;begin_work</code> and <code>eval</code> in my perl script. Now, I ran my script once and after some time I ran it again thereby initiating two transactions to my database. By the time, I ran the script for second time, the first transaction had completed operations on the fifth table yet my second transaction waits to do operations even on the first table.</p>\n\n<p>Can I make the script get executed in parallel so that second transaction can be able to perform operations on the first table while the first transaction is working ahead of it?</p>\n"}, {"tags": ["perl", "remedy"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1501576158, "post_id": 45432461, "comment_id": 77826356, "body": "why do you convert the array to a string (using <code>join</code>)? Maybe you need to pass a reference to the array?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 2, "creation_date": 1501577029, "post_id": 45432461, "comment_id": 77826888, "body": "From reading the documentation, it looks like you just need to pass in <code>@arr</code> as is...although the numbers in it might not be right"}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 2, "last_activity_date": 1501585887, "last_edit_date": 1501585887, "creation_date": 1501577512, "answer_id": 45433194, "question_id": 45432461, "link": "https://stackoverflow.com/questions/45432461/how-to-pass-each-element-in-a-list-as-arguments-of-a-function/45433194#45433194", "title": "How to pass each element in a list as arguments of a function", "body": "<p>Use the array directly (see <a href=\"http://cpansearch.perl.org/src/JMURPHY/ARSperl-2.00/html/manual/ars_CreateEntry.html\" rel=\"nofollow noreferrer\">ars_CreateEntry examples</a>):</p>\n\n<pre><code>my @arr=(1,\"New\",2,\"Test\",3,\"Hi\");\ndie unless @arr % 2 == 0; # enforce even number of elements in @arr\nmy $created_ticket=ars_CreateEntry( $control, $schema, @arr) \n  or die \"ERROR: Cannot create host ticket: $ars_errstr\\n\";\n</code></pre>\n\n<p>Or even better use hash instead of array if ars_CreateEntry is not picky about order of parameters:</p>\n\n<pre><code>my %params=(1 =&gt; \"New\",2 =&gt; \"Test\", 3 =&gt; \"Hi\");\n# hash will be converted to array\nmy $created_ticket=ars_CreateEntry( $control, $schema, %params) \n  or die \"ERROR: Cannot create host ticket: $ars_errstr\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 45433194, "answer_count": 1, "score": -1, "last_activity_date": 1501588534, "creation_date": 1501575388, "last_edit_date": 1501588534, "question_id": 45432461, "link": "https://stackoverflow.com/questions/45432461/how-to-pass-each-element-in-a-list-as-arguments-of-a-function", "title": "How to pass each element in a list as arguments of a function", "body": "<p>I have my data in an array. I need to pass an array value to <code>ars_CreateEntry</code> function in\n<a href=\"http://arsperl.sourceforge.net/manual/toc.html\" rel=\"nofollow noreferrer\">ARSperl</a>.\nThe array is formed dynamically based on inputs received, so its length may vary.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nuse ARS;\nuse ARS::Login;\n\nmy $server   = '125.10.14.1';\nmy $username = 'RemedyUser';\nmy $dbsid    = $ENV{'ORACLEID'};\nmy $dbuser   = 'admin';\nmy $schema   = 'Form 1';\n\nmy $control = remedyars_login( $username )\n        or die \"ERROR: Cannot login to $server \\n\";\nmy $dbh = remedydbi_login( $dbsid, $dbuser )\n        or die( \"Cannot connect to $dbsid: $DBI::errstr\\n\" );\n\nmy @arr = ( 1, \"New\", 2, \"Test\", 3, \"Hi\" );\nmy $created_ticket = ars_CreateEntry( $control, $schema, join( \",\", @arr ) )\n        or die \"ERROR: Cannot create host ticket: $ars_errstr\\n\";\n\nars_Logoff( $control );\n</code></pre>\n\n<p>When I run the script I get this error</p>\n\n<blockquote>\n  <p>ERROR: Cannot create host ticket: [ERROR] Invalid number of arguments (ARERR #80000)</p>\n</blockquote>\n"}, {"tags": ["xml", "perl", "soap", "soap-client", "soaplite"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8398096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbeb48b6bd5d685a46e1faf2cfde5b26?s=128&d=identicon&r=PG&f=1", "display_name": "froage", "link": "https://stackoverflow.com/users/8398096/froage"}, "edited": false, "score": 0, "creation_date": 1501614230, "post_id": 45437342, "comment_id": 77852469, "body": "Yes, I did realize the server is broken and that I want those two definitions added to the Envelope element, but what I need is a description of how to actually use SOAP::Lite to accomplish that editing."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502279949, "post_id": 45437342, "comment_id": 78138777, "body": "There&#39;s a kind of live stream of the Perl Conference in Amsterdam at <a href=\"https://twitter.com/steve_mynott/status/895222263695409153\" rel=\"nofollow noreferrer\">twitter.com/steve_mynott/status/895222263695409153</a> if you&#39;re interested."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504194154, "post_id": 45437342, "comment_id": 78930669, "body": "@simbabque: Thank you."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504194739, "post_id": 45437342, "comment_id": 78931080, "body": "Welcome back! :) I missed you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1504194836, "post_id": 45437342, "comment_id": 78931144, "body": "@simbabque: Thank you. I doubt if many people share your sentiment! I wish wouldn&#39;t do that.I sent you a tweet; did you get it?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504195067, "post_id": 45437342, "comment_id": 78931291, "body": "I did not unfortunately. But I found it now and wrote a private message there."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504624618, "post_id": 45437342, "comment_id": 79076832, "body": "I just submitted a talk for the London Perl Workshop in November this year. Maybe we can have that pint finally. And if you don&#39;t plan to attend I am happy to extend my stay and come to Reading to collect it. There&#39;s nothing like a train ride through the London suburbs in dreadful late-autumn weather I guess."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504649170, "post_id": 45437342, "comment_id": 79088829, "body": "@simbabque: Sadly I&#39;m in Edinburgh for the foreseeable future caring for my elderly mother while I work. Reading is where I took my degree, but that was in 1978\u2014I&#39;m normally in Norwich these days. What will your subject be?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504649786, "post_id": 45437342, "comment_id": 79089021, "body": "Oh, that&#39;s a shame. Some other time then. My talk will be about training junior developers. I&#39;ve already done a lightning talk about that in Amsterdam. This one is going to be longer though."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504651254, "post_id": 45437342, "comment_id": 79089419, "body": "@simbabque: I&#39;ll catch it on Youtube if it&#39;s posted there."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1501589068, "creation_date": 1501589068, "answer_id": 45437342, "question_id": 45431966, "link": "https://stackoverflow.com/questions/45431966/using-soaplite-client-to-handle-server-that-sends-responses-missing-namespace/45437342#45437342", "title": "Using SOAP::Lite client to handle server that sends responses missing namespace specification", "body": "<p>The server is broken and you should raise an error. Meanwhile, you could get your code working by editing the incoming data, adding</p>\n\n<p>these definitions to the <code>Envelope</code> element</p>\n\n<pre><code>xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8398096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbeb48b6bd5d685a46e1faf2cfde5b26?s=128&d=identicon&r=PG&f=1", "display_name": "froage", "link": "https://stackoverflow.com/users/8398096/froage"}, "edited": false, "score": 0, "creation_date": 1501711092, "post_id": 45461612, "comment_id": 77904378, "body": "That cannot work. I need a solution for namespace definitions missing from the incoming SOAP response, not the outgoing request. Is there a way to register such definitions with the <b>de</b>serializer so that it will use them when they are missing in the actual incoming response XML?"}], "tags": [], "owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1501678856, "creation_date": 1501678856, "answer_id": 45461612, "question_id": 45431966, "link": "https://stackoverflow.com/questions/45431966/using-soaplite-client-to-handle-server-that-sends-responses-missing-namespace/45461612#45461612", "title": "Using SOAP::Lite client to handle server that sends responses missing namespace specification", "body": "<p>Just add to SOAP::Lite object:</p>\n\n<pre><code>$soap-&gt;serializer-&gt;register_ns('http://www.w3.org/2001/XMLSchema' =&gt; 'xmlns:xsd');\n\n$soap-&gt;serializer-&gt;register_ns('http://www.w3.org/2001/XMLSchema-instance' =&gt; 'xmlns:xsi');\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8398096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbeb48b6bd5d685a46e1faf2cfde5b26?s=128&d=identicon&r=PG&f=1", "display_name": "froage", "link": "https://stackoverflow.com/users/8398096/froage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501678856, "creation_date": 1501573862, "question_id": 45431966, "link": "https://stackoverflow.com/questions/45431966/using-soaplite-client-to-handle-server-that-sends-responses-missing-namespace", "title": "Using SOAP::Lite client to handle server that sends responses missing namespace specification", "body": "<p>I'm writing a SOAP::Lite client to work with a SOAP server that sometimes sends responses that are missing a namespace specification. This is the first time I've ever done anything with SOAP, so I'm not very knowledgeable at all. Here is an example response:</p>\n\n<pre><code>HTTP/1.1 200 OK\nServer: \"OS/version\" UPnP/1.0 \"product/version\"\nContent-Length: 83219\nContent-Type: text/xml; charset=\"UTF-8\"\nClient-Date: Tue, 01 Aug 2017 06:30:44 GMT\nClient-Peer: 192.168.1.123:5000\nClient-Response-Num: 1\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-6\"?&gt;\n&lt;soap-env:Envelope\n        xmlns:soap-env=\"http://schemas.xmlsoap.org/soap/envelope/\"\n        soap-env:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"\n        &gt;\n&lt;soap-env:Body&gt;\n    &lt;m:GetDataResponse\n        xmlns:m=\"urn:BLACKBOX:service:DataSource:1\"&gt;\n        &lt;DataBlob xsi:type=\"xsd:base64Binary\"&gt;Ikf7SPJ...SsA==&lt;/DataBlob&gt;\n    &lt;/m:GetDataResponse&gt;\n    &lt;ResponseCode&gt;0&lt;/ResponseCode&gt;\n&lt;/soap-env:Body&gt;\n&lt;/soap-env:Envelope&gt;\n</code></pre>\n\n<p>Notice the use of the 'xsi' namespace without specification. There should probably be one for 'xsd' too? SOAP::Lite is giving me this error message:</p>\n\n<pre><code>failed:  Unresolved prefix 'xsi' for attribute 'xsi:type'\n</code></pre>\n\n<p>How would I work around this with SOAP::Lite in the client, given that I have no control of the server? Is there some way for me to tell SOAP::Lite to assume namespaces I provide?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501661315, "post_id": 45427771, "comment_id": 77870628, "body": "What do you need to replace the name with?  I assume it is something derived dynamically from the existing name, rather than a fixed string for all of them?"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1550527065, "last_edit_date": 1550527065, "creation_date": 1501552651, "answer_id": 45427795, "question_id": 45427771, "link": "https://stackoverflow.com/questions/45427771/perl-replace-multiple-matches-in-string/45427795#45427795", "title": "Perl, replace multiple matches in string", "body": "<p>The problem is that <code>.*</code> is greedy: it matches <em>everything</em> it can. So <code>.*x</code> matches all up to the very last <code>x</code> in the string, even if all that contains <code>x</code>s.  You need the non-greedy</p>\n\n<pre><code>s/\\('(.*?)\\.png/('$replacement.png/g;\n</code></pre>\n\n<p>where the <code>?</code> makes <code>.*</code> match up to the first <code>.png</code>. The <code>\\('</code> are needed to suitably delimit the pattern to the filename.  This correctly replaces the filenames in the shown examples.</p>\n\n<p>Another way to do this is <code>\\('([^.]*)\\.png</code>, where <code>[^.]</code> is the <em>negated character class</em>, matching anything that is <em>not</em> a <code>.</code>. With the <code>*</code> quantifier it again matches all up to the first <code>.png</code></p>\n\n<hr>\n\n<p>The question doesn't say how exactly you are \"<em>parsing an XML</em>\" but I dearly hope that it is with libraries like <a href=\"http://search.cpan.org/dist/XML-LibXML/LibXML.pod\" rel=\"nofollow noreferrer\">XML::LibXML</a> of <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\">XML::Twig</a>. Please do not attempt that with regex. The tool is just not fully adequate for the job, and you'll get to know about it.  A lot has been written over years about this, search SO.</p>\n"}], "owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 830, "favorite_count": 0, "accepted_answer_id": 45427795, "answer_count": 1, "score": 1, "last_activity_date": 1550527065, "creation_date": 1501552401, "question_id": 45427771, "link": "https://stackoverflow.com/questions/45427771/perl-replace-multiple-matches-in-string", "title": "Perl, replace multiple matches in string", "body": "<p>So, i'm parsing an XML, and got a problem. XML has objects containing script, which looks about that:</p>\n\n<pre><code>return [\n['measurement' : org.apache.commons.io.FileUtils.readFileToByteArray(new File('tab_2_1.png')),\n'kpi' : org.apache.commons.io.FileUtils.readFileToByteArray(new File('tab_2_2.png'))]]\n</code></pre>\n\n<p>I need to replace all filenames, saving file format, every entry of regexp template, because string can look like that:</p>\n\n<pre><code>['measurement' : org.apache.commons.io.FileUtils.readFileToByteArray(new File('tab_2_1.png'))('tab_2_1.png'))('tab_2_1.png')),\n</code></pre>\n\n<p>and i still need to replace all <code>image_name</code> before <code>.png</code></p>\n\n<p>I used this regexp : <code>.*\\(\\'(.*)\\.png\\'\\)</code>,\nbut it catches only last match in line before <code>\\n</code>, not in whole string.</p>\n\n<p>Can you help me with correcting this regexp?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1501542741, "post_id": 45426503, "comment_id": 77814549, "body": "Did you read the <a href=\"https://metacpan.org/pod/JSON#decode_json\" rel=\"nofollow noreferrer\">docs</a> for the JSON module&#39;s <code>decode_json</code> function? That would be a good place to start."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1501550953, "creation_date": 1501550953, "answer_id": 45427601, "question_id": 45426503, "link": "https://stackoverflow.com/questions/45426503/json-decoding-perl-malformed-json-string/45427601#45427601", "title": "JSON Decoding Perl - malformed JSON string", "body": "<p><code>[ ... ]</code> creates an array and returns a reference to that array, so <code>$VAR1</code> contains a reference. You are passing this reference (which happens to stringify to <code>ARRAY(0x7f8674002ee8)</code>) to <code>decode_json</code> instead of a JSON string.</p>\n\n<p>You want</p>\n\n<pre><code>$VAR1 = [ '{\"description\":[\"\"],\"last_modified_date_min\":[\"\"]}' ];\n\ndecode_json($VAR1-&gt;[0])\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$VAR1 = '{\"description\":[\"\"],\"last_modified_date_min\":[\"\"]}';\n\ndecode_json($VAR1)\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 199823, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/157ed4431cd8ae20f248aa9f6aa4d1ed?s=128&d=identicon&r=PG", "display_name": "Kris1511", "link": "https://stackoverflow.com/users/199823/kris1511"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2443, "favorite_count": 0, "accepted_answer_id": 45427601, "answer_count": 1, "score": -3, "last_activity_date": 1501550953, "creation_date": 1501541756, "last_edit_date": 1501547302, "question_id": 45426503, "link": "https://stackoverflow.com/questions/45426503/json-decoding-perl-malformed-json-string", "title": "JSON Decoding Perl - malformed JSON string", "body": "<p>I am getting data from MYSQL Database that is stored in JSON format when I try to decode it I am getting error Malformed JSON any idea ?\n$VAR1 is variable that\\I get from Database </p>\n\n<pre>\n\n    use JSON;\n    use Data::Dumper;\n\n    $VAR1 = [ '{\"description\":[\"\"],\"last_modified_date_min\":[\"\"]}' ];\n\n    $DecodeS = decode_json($VAR1);\n\n    print Dumper $DecodeS;\n\n</pre>\n\n<p>malformed JSON string, neither array, object, number, string or atom, at character offset 0 (before \"ARRAY(0x7f8674002ee8...\") </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1501536353, "post_id": 45425511, "comment_id": 77812474, "body": "This question does not show any research effort."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501536629, "post_id": 45425511, "comment_id": 77812578, "body": "@melpomene  So <i>many</i> of those ... I just vote to close (at least, and perhaps with a comment)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501536784, "post_id": 45425511, "comment_id": 77812652, "body": "@zdim I decided to write an answer because the string increment trick may not be immediately obvious."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501541626, "post_id": 45425627, "comment_id": 77814280, "body": "@ikegami <i>we want to use the increment operator <code>++</code> on it, not just add <code>1</code>. [...] For numeric strings it preserves leading digits</i> ... oops, fixed that to say <i>leading zeroes</i>."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1501541652, "last_edit_date": 1501541652, "creation_date": 1501536741, "answer_id": 45425627, "question_id": 45425511, "link": "https://stackoverflow.com/questions/45425511/perl-regular-expression-to-replace-the-last-matching-string-after-dot/45425627#45425627", "title": "Perl Regular expression to replace the last matching string after dot", "body": "<p>This problem has two parts: Matching the digits after the last dot, and replacing/incrementing them.</p>\n\n<p>It's possible to do this with <a href=\"https://metacpan.org/pod/perlop#s/PATTERN/REPLACEMENT/msixpodualngcer\" rel=\"nofollow noreferrer\"><code>s///</code></a>:</p>\n\n<pre><code>$someString =~ s{\\.([0-9]+)\\z}{\n    my $n = $1;\n    \".\" . ++$n\n}e;\n</code></pre>\n\n<p>The regex matches a dot, followed by 1 or more digits, followed by the end of the string. This takes care of matching the last digit group.</p>\n\n<p>The replacement part of a substitution normally behaves like a double-quoted string, but with the <code>e</code> flag it turns into a block of code.</p>\n\n<p>We assign the captured group of digits (<code>$1</code>) to a temporary variable, <code>$n</code>. This is because we want to use the increment operator <code>++</code> on it, not just add <code>1</code>. The <code>++</code> operator is a bit special in that it handles strings: For numeric strings it preserves leading zeroes, for example.</p>\n\n<p>The return value of the replacement block is a string consisting of a <code>.</code> (to replace the one we matched), followed by the incremented digit string. </p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501552892, "post_id": 45427613, "comment_id": 77816896, "body": "@zdim, <code>\\d</code> matches 360 more characters than <code>[0-9]</code> unless <code>&#47;a</code> is provided (or <code>&#47;aa</code> if <code>&#47;i</code> is also provided). Despite this, <code>\\d</code> would surely be fine as well, but it&#39;s not my style."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1501551073, "creation_date": 1501551073, "answer_id": 45427613, "question_id": 45425511, "link": "https://stackoverflow.com/questions/45425511/perl-regular-expression-to-replace-the-last-matching-string-after-dot/45427613#45427613", "title": "Perl Regular expression to replace the last matching string after dot", "body": "<pre><code>$someString =~ s{\\.([0-9]+)\\z}{ sprintf \".%03d\", $1 + 1 }e;\n</code></pre>\n\n<p>If you don't want to hardcod the length (maybe because it varies), you can use the following:</p>\n\n<pre><code>$someString =~ s{\\.([0-9]+)\\z}{ sprintf \".%0*d\", length($1), $1 + 1 }e;\n</code></pre>\n\n<p>In both cases, you can use <code>\\K</code> to avoid having to re-add the <code>.</code>, but it actually makes the solution slightly longer.</p>\n"}], "owner": {"reputation": 83, "user_id": 3346474, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/121aa79c8d980d948e34cacc1dbe5b14?s=128&d=identicon&r=PG&f=1", "display_name": "Java_Sol", "link": "https://stackoverflow.com/users/3346474/java-sol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1501551073, "creation_date": 1501536141, "last_edit_date": 1501536319, "question_id": 45425511, "link": "https://stackoverflow.com/questions/45425511/perl-regular-expression-to-replace-the-last-matching-string-after-dot", "title": "Perl Regular expression to replace the last matching string after dot", "body": "<p>I have string <code>$someString = \"XXX.v2016.12.016\"</code>. Now I am trying to replace the last three digits (after dot) by incrementing one (output: <code>\"XXX.v2016.12.017\"</code>). Does anyone have idea how to do this with regex? </p>\n"}, {"tags": ["perl", "hash", "reference", "deprecated"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501536200, "post_id": 45425116, "comment_id": 77812417, "body": "The <code>$x</code> is a hash <i>reference</i> (judged by its use).  To retrieve a value for a key from it we <i>dereference</i> it, as <code>$x-&gt;{key}</code>.  Specifically <i>not as</i> <code>%$x-&gt;{}</code>.  (What worked a long time ago.)  It&#39;s only when we want the whole hash when we say <code>%$x</code> (like for <code>keys</code>).  Here your hash has hashrefs for values thus <code>keys %$x-&gt;{y}</code> to derefence those into hashes and <code>$x-&gt;{y}-&gt;{$a}</code> to get one value from one of those hashrefs (the <code>$a</code> one)."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8396196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9f911f7f48e54f421b148ef3b6872?s=128&d=identicon&r=PG&f=1", "display_name": "Tomatobot", "link": "https://stackoverflow.com/users/8396196/tomatobot"}, "edited": false, "score": 0, "creation_date": 1501536525, "post_id": 45425312, "comment_id": 77812546, "body": "Ha, that was it.  That&#39;s what I get for overthinking the punctuation.  Thanks a million!"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1501535281, "creation_date": 1501535281, "answer_id": 45425312, "question_id": 45425116, "link": "https://stackoverflow.com/questions/45425116/deprecated-cant-use-a-hash-as-a-reference-perl-error-in-legacy-code/45425312#45425312", "title": "deprecated &quot;Can&#39;t use a hash as a reference&quot; perl error in legacy code", "body": "<p>Just dropping the % should do it.  I can't imagine anything else that could have been meant.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8396196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9f911f7f48e54f421b148ef3b6872?s=128&d=identicon&r=PG&f=1", "display_name": "Tomatobot", "link": "https://stackoverflow.com/users/8396196/tomatobot"}, "edited": false, "score": 0, "creation_date": 1501536815, "post_id": 45425513, "comment_id": 77812662, "body": "Totally agree on your comment about the warnings, but I am late to this party.  Thanks for the explanation!"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1501542721, "post_id": 45425513, "comment_id": 77814543, "body": "to be fair, this wasn&#39;t a bug, exactly.  it was an unintentional feature that made it work in the first place, which was later deprecated and then later removed.  but that makes the point even more strongly: don&#39;t ever ignore deprecation warnings; used to be things would stay deprecated forever, but now perl is making an effort to actually remove deprecated things within a reasonable time."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1501536152, "creation_date": 1501536152, "answer_id": 45425513, "question_id": 45425116, "link": "https://stackoverflow.com/questions/45425116/deprecated-cant-use-a-hash-as-a-reference-perl-error-in-legacy-code/45425513#45425513", "title": "deprecated &quot;Can&#39;t use a hash as a reference&quot; perl error in legacy code", "body": "<p>It looks like the idea is to iterate over the entries in the hash referenced by <code>$x-&gt;{'y'}</code>. The <code>foreach</code> loop sets <code>$a</code> to each key in turn. The loop body would then assign the corresponding value to <code>$b</code>.</p>\n\n<p>From the <code>keys</code> expression we can see that <code>$x</code> must contain a reference to a hash, and that the value under the key <code>'y'</code> must be a reference to another hash. From that you can get the value under <code>$a</code> by doing</p>\n\n<pre><code>my $b = $x-&gt;{'y'}-&gt;{$a};\n# or: \nmy $b = $x-&gt;{y}{$a};  # if you don't like typing\n</code></pre>\n\n<p>The problem with your original code is the <code>%$x-&gt;{...}</code> part. <code>%$x</code> dereferences the reference in <code>$x</code>, so what you get as a result is an actual hash. The <code>-&gt;{...}</code> operator then tries to dereference it again, which makes no sense (as the error message says, a hash is not a reference). Just drop the <code>%</code> and let <code>-&gt;{...}</code> do the work.</p>\n\n<p>(Alternatively, if you're feeling crazy, you can do <code>(\\%$x)-&gt;{'y'}-&gt;{$a}</code>. In addition to <code>%</code> (to dereference the reference in <code>$x</code>), we use <code>\\</code> (to take a reference to the hash we just got), which can then correctly be dereferenced (again) by <code>-&gt;{...}</code>.)</p>\n\n<hr>\n\n<p>For the future, blindly silencing warnings is usually not a good idea, especially if they tell you about bugs in your code.</p>\n"}], "owner": {"reputation": 11, "user_id": 8396196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9f911f7f48e54f421b148ef3b6872?s=128&d=identicon&r=PG&f=1", "display_name": "Tomatobot", "link": "https://stackoverflow.com/users/8396196/tomatobot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1454, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501536152, "creation_date": 1501534467, "question_id": 45425116, "link": "https://stackoverflow.com/questions/45425116/deprecated-cant-use-a-hash-as-a-reference-perl-error-in-legacy-code", "title": "deprecated &quot;Can&#39;t use a hash as a reference&quot; perl error in legacy code", "body": "<p>We've got some legacy code throwing up the \"Can't use a hash as a reference\" perl error.  The previous \"fix\" was to turn off warnings, but new perl has made the warning a hard error and so now someone's got to actually fix the problem.</p>\n\n<p>The code looks like this...</p>\n\n<pre><code>foreach my $a (keys %{$x-&gt;{'y'}}) {\n        my $b = %$x-&gt;{'y'}-&gt;{$a};\n        &lt;some other stuff&gt;\n}\n</code></pre>\n\n<p>My understanding is that something like  %j->{'k'} should be converted into $j{'k'}, but the %$ thing with two pointers is more than I can process, given that I only understand this at the most general of levels.</p>\n\n<p>It seems that only the line within the loop is causing the error, but I included the foreach for reference.</p>\n\n<p>Is it clear what the original author is attempting to do and is there an obvious fix that that will clean this up once and for all?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["excel", "perl"], "owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501519373, "creation_date": 1501519373, "question_id": 45421246, "link": "https://stackoverflow.com/questions/45421246/is-there-any-way-to-specify-intervals-between-labels-on-a-particular-axis-using", "title": "Is there any way to specify intervals between labels on a particular axis using SpreadSheet::WriteExcel?", "body": "<p>I am using Spreadsheet::WriteExcel module and creating column charts based on some data. However, in a few charts I wish to change the interval between x-axis labels. Currently, in some of them it is showing labels alternatively( interval=2). I want to make this interval to be 1 so that all the labels are shown.</p>\n\n<p>Does Spreadsheet::WriteExcel::Chart;\nhave this functionality?</p>\n"}, {"tags": ["apache", "perl", "tomcat", "proxy", "single-sign-on"], "answers": [{"tags": [], "owner": {"reputation": 43212, "user_id": 13447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K6sTa.jpg?s=128&g=1", "display_name": "Olaf Kock", "link": "https://stackoverflow.com/users/13447/olaf-kock"}, "is_accepted": true, "score": 2, "last_activity_date": 1501511553, "creation_date": 1501511553, "answer_id": 45418721, "question_id": 45418483, "link": "https://stackoverflow.com/questions/45418483/can-tomcat-be-configured-as-the-proxy-for-apache/45418721#45418721", "title": "Can Tomcat be configured as the proxy for apache?", "body": "<p>I haven't seen that scenario ever. And due to the standard mode of operation it doesn't make much sense: Apache httpd easily covers ports 80 and 443, while tomcat needs to jump through a lot of hoops (typically being proxied by a proper webserver)</p>\n\n<p>For SSO, you don't necessarily need to intercept a request - you can also go with cookies or initial redirects (e.g. an unauthenticated request gets redirected to the SSO address, then bounced back to (e.g.) a well known URL, with some cryptographically signed identity information)</p>\n\n<p>As you're not mentioning if you have a homegrown or an industry standard SSO system, it's hard to recommend what you should do. However, I'd definitely stay away from configuring tomcat as a Proxy to Apache httpd. Sounds completely backwards to me.</p>\n"}], "owner": {"reputation": 21, "user_id": 8394453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c449eb86c5d11a03ea129fe74d413158?s=128&d=identicon&r=PG&f=1", "display_name": "Imogene", "link": "https://stackoverflow.com/users/8394453/imogene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 45418721, "answer_count": 1, "score": 0, "last_activity_date": 1501511553, "creation_date": 1501510914, "question_id": 45418483, "link": "https://stackoverflow.com/questions/45418483/can-tomcat-be-configured-as-the-proxy-for-apache", "title": "Can Tomcat be configured as the proxy for apache?", "body": "<p>I have inherited a Perl/MySQL application running on xampp Apache.  I have been tasked with adding SSO, and the implementation being made available to me requires Tomcat. I have installed the Tomcat module from the most recent xampp, so that leaves me with Apache 2.4 and Tomcat 7.0. </p>\n\n<p>I have encountered several similar questions here on StackOverflow that address setting up Apache as the proxy server for Tomcat, but isn't that backward from what I need?  My brain is getting stuck on that concept.  I envision a request coming to the server, Tomcat intercepts it first and performs authentication with my SSO app, and then forwards the request to Apache where the original request is served.</p>\n\n<p>I know that Tomcat would be able to handle (serve) the Perl application, but I cringe at the thought of reconfiguring the existing Apache setup to move the app to Tomcat.  Unless someone can provide a simple, 3-step process for doing so....</p>\n"}, {"tags": ["perl", "perl5.16"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1501509217, "post_id": 45417696, "comment_id": 77796375, "body": "What do you mean by &quot;this is not working&quot;?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1501509269, "post_id": 45417696, "comment_id": 77796419, "body": "Need some more detail - a bit more of your script would be a good starting point. Short answer is - it probably <i>hasn&#39;t</i> changed your regex, just the way it&#39;s displaying it. <code>(?^:</code> is &#39;no modifiers&#39;, and <code>?-xism</code> also means &#39;no <code>x</code>, no <code>i</code>, no <code>s</code>, no <code>m</code>."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1501511147, "post_id": 45417696, "comment_id": 77797835, "body": "Looks like it&#39;s been fixed in 5.16 as it&#39;s keeping the <code>^</code> rather than changing it into a <code>\\b</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1501511558, "post_id": 45417696, "comment_id": 77798105, "body": "@ChrisTurner: <i>&quot;it&#39;s keeping the <code>^</code> rather than changing it into a <code>\\b</code>&quot;</i> I think it&#39;s highly unlikely that Perl v5.10 was making that change. It is much more likely that the OP has made a transcription mistake."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501512764, "post_id": 45417696, "comment_id": 77799030, "body": "@Borodin true, but we can only work with what is in the question"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1501522225, "post_id": 45417696, "comment_id": 77805044, "body": "Sure looks to me like the 5.10 version had <code>\\b</code> and you changed it to <code>^</code> inadvertently.  Show your actual code and sample data"}, {"owner": {"reputation": 27, "user_id": 3073940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22cc95ef867fd000d0c7ad75f388b1f?s=128&d=identicon&r=PG&f=1", "display_name": "user3073940", "link": "https://stackoverflow.com/users/3073940/user3073940"}, "edited": false, "score": 0, "creation_date": 1501566877, "post_id": 45417696, "comment_id": 77820707, "body": "i am sorry , the output in 5.10 doesnot contain \\b, as below (?-xism:^FILE_DESC_LIMIT=\\d+(\\s*))"}, {"owner": {"reputation": 27, "user_id": 3073940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22cc95ef867fd000d0c7ad75f388b1f?s=128&d=identicon&r=PG&f=1", "display_name": "user3073940", "link": "https://stackoverflow.com/users/3073940/user3073940"}, "edited": false, "score": 0, "creation_date": 1501568455, "post_id": 45417696, "comment_id": 77821520, "body": "i am sorry , the output in 5.10 doesnot contain \\b, as below (?-xism:^FILE_DESC_LIMIT=\\d+(\\s*))"}, {"owner": {"reputation": 27, "user_id": 3073940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22cc95ef867fd000d0c7ad75f388b1f?s=128&d=identicon&r=PG&f=1", "display_name": "user3073940", "link": "https://stackoverflow.com/users/3073940/user3073940"}, "edited": false, "score": 0, "creation_date": 1501568952, "post_id": 45417696, "comment_id": 77821783, "body": "my code looks something like below"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1501509456, "creation_date": 1501509456, "answer_id": 45417936, "question_id": 45417696, "link": "https://stackoverflow.com/questions/45417696/qr-operation-in-perl-5-16/45417936#45417936", "title": "qr operation in perl 5.16", "body": "<p>See <a href=\"https://perldoc.perl.org/perl5140delta.html#Regular-Expressions\" rel=\"nofollow noreferrer\">Regular Expressions in Perl 5.14 Delta</a>: the <code>(?^</code> now signifies default modifiers. It's just a matter of how the compiled regular expressions are serialized, the more important is the difference between <code>\\b</code> and <code>^</code> in your regular expressions.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1501511332, "creation_date": 1501511332, "answer_id": 45418639, "question_id": 45417696, "link": "https://stackoverflow.com/questions/45417696/qr-operation-in-perl-5-16/45418639#45418639", "title": "qr operation in perl 5.16", "body": "<p>The <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">documentation on <em>Extended Patterns</em> in <code>perlre</code></a> has this</p>\n\n<blockquote>\n  <p>Starting in Perl 5.14, a <code>\"^\"</code> (caret or circumflex accent) immediately after the <code>\"?\"</code> is a shorthand equivalent to <code>d-imnsx</code> . Flags (except <code>\"d\"</code> ) may follow the caret to override it. But a minus sign is not legal with it.</p>\n</blockquote>\n\n<p>Of those modifiers, <code>-imsx</code> matches what you saw in v5.10, while <code>-n</code> enables the capturing behaviour of parentheses and <code>d</code> enables \"default\" character set behaviour. These last two are new modifiers</p>\n\n<p>None of those are any different from the values you show in v5.10, so you will have to show your data and exactly what you wrote to get a change in behaviour</p>\n"}], "owner": {"reputation": 27, "user_id": 3073940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22cc95ef867fd000d0c7ad75f388b1f?s=128&d=identicon&r=PG&f=1", "display_name": "user3073940", "link": "https://stackoverflow.com/users/3073940/user3073940"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501584633, "creation_date": 1501508803, "last_edit_date": 1501584633, "question_id": 45417696, "link": "https://stackoverflow.com/questions/45417696/qr-operation-in-perl-5-16", "title": "qr operation in perl 5.16", "body": "<p>I am trying to fix a very old script, which is trying to find a string <code>FILE_DESC_LIMIT</code> in a text file and change it to something else.</p>\n\n<p>For this my current script which is working fine on Perl 5.10 I see it uses a regular expression </p>\n\n<pre><code>    qr!^FILE_DESC_LIMIT=\\d+(\\s*)!;\n</code></pre>\n\n<p>But this is not working in Perl 5.16 , so I tried to print this expression. \nIn 5.10 I see </p>\n\n<pre><code>    (?-xism:\\bFILE_DESC_LIMIT=\\d+(\\s*))\n</code></pre>\n\n<p>While in Perl 5.16 i see </p>\n\n<pre><code>    (?^:^FILE_DESC_LIMIT=\\d+(\\s*))\n</code></pre>\n\n<p>I see <code>qr</code> was adding <code>-xism</code> while it not adding it in 5.16, why there is a difference here?</p>\n\n<p>If I add it explicitly in my regular expression, it works. But I doubt the solution as Perl doesn't add it explicitly there might be some problem here.</p>\n\n<p>Is there some different way which I should use for Perl 5.16?\nWhy has Perl changed this behavior?</p>\n\n<p>my code looks like this , we are creating a regex and then using regex we are fomulating an expression which is then evaluated on an open file, then the evaluated output is written to the same file.</p>\n\n<pre><code>my atempRegex=qr!^FILE_DESC_LIMIT=\\d+(\\s*)!;\nmy $replaceSting =&gt; qq!FILE_DESC_LIMIT=$FileDescLimit\\$1!\n\n$tempRegex =~ s!\\^!\\\\b!g if ($] =~ /5\\.010/);\n\nmy $code .= \"\\$File =~ s!$tempRegex!$replaceSting!gsm;\\n\";\n\nopen (FH, \"&lt;$WORKING_DIR/$base_script_name.$$.tmp\") || logWrite2(E,\"-- \nERROR: Unable to open $WORKING_DIR/$base_script_name.$$.tmp for reading \n($!)\");\n\nmy $File = join(\"\",&lt;FH&gt;);\nclose (FH);\n\neval $code;\n\nopen (FH, \"&gt;$WORKING_DIR/$base_script_name.$$.tmp\") || logWrite2(E,\"-- \nERROR: Unable to open $WORKING_DIR/$base_script_name.$$.tmp for writing \n($!)\");\n\nprint FH $File;\nclose (FH);\n</code></pre>\n\n<p>change which i did to make it work in perl 5.16 is , i added the -xism modifiers explicitly into the regex and also modified the \\b modifier condition </p>\n\n<pre><code>my $FileDescLimit=2048;\nmy $tempRegex=qr!^FILE_DESC_LIMIT=\\d+(\\s*)!;\nmy $replaceSting =&gt; qq!FILE_DESC_LIMIT=$FileDescLimit\\$1!\n\nif ($] &gt;=5.016)\n{\n    $tempRegex=~ s!\\^!-xism!;\n}\n$tempRegex =~ s!\\^!\\\\b!g if ($] &gt;=5.010);\n\nmy $code .= \"\\$File =~ s!$tempRegex!$replaceSting!gsm;\\n\";\n\nopen (FH, \"&lt;$WORKING_DIR/$base_script_name.$$.tmp\") || logWrite2(E,\"-- ERROR: Unable to open $WORKING_DIR/$base_script_name.$$.tmp for reading ($!)\");\n\nmy $File = join(\"\",&lt;FH&gt;);\nclose (FH);\n\neval $code;\n\nopen (FH, \"&gt;$WORKING_DIR/$base_script_name.$$.tmp\") || logWrite2(E,\"-- ERROR: Unable to open $WORKING_DIR/$base_script_name.$$.tmp for writing ($!)\")\nprint FH $File;\nclose (FH);\n</code></pre>\n\n<p>i dont know if the problem is because of -xism modifier or because of \\b modifier, as i see the script was modified on version 5.10 and \\b modifier was added explicitly, may the real problem is with this modifier.</p>\n\n<p>referring to one of the answer below that ?^ is equivalent to ?-xism , i removed the code </p>\n\n<pre><code>if ($] &gt;=5.016)\n{\n    $tempRegex=~ s!\\^!-xism!;\n}\n</code></pre>\n\n<p>from my script , so -xism is not part of my regex anymore , and i have added \\b in my regex as done for perl version 5.10 , below code replaces the second caret sign in my regex , (?^:^FILE_DESC_LIMIT=\\d+(\\s*)) with \\b, with the resultant regex (?^:\\bFILE_DESC_LIMIT=\\d+(\\s*)) , the string is matched and replaced</p>\n\n<pre><code>if ($] =~ /5\\.016/)\n{\n    my $n=0;\n    $Source =~ s/\\^/++$n==2?\"\\\\b\":\"\\^\"/ge\n}\n</code></pre>\n\n<p>as i see in regex tutorials \\b is used to define word boundary and to perform a whole word match , i am not clear why it is not able to match \nFILE_DESC_LIMIT=2048 string in the file without \\b.</p>\n"}, {"tags": ["perl", "parameters", "arguments", "parameter-passing"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501506843, "post_id": 45416662, "comment_id": 77794584, "body": "So that&#39;s <code>@deviceMIB</code> in your picture, and <code>$deviceMIB[0]</code> is <code>( &#39;ubntWlStatRssi&#39;, 29)</code>. Right? What do you want <code>$MIB</code> to be?"}, {"owner": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501507105, "post_id": 45416662, "comment_id": 77794772, "body": "@Borodin I edited the question a bit to be more specific."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501507309, "post_id": 45416662, "comment_id": 77794910, "body": "I don&#39;t understand your data structure. What&#39;s actually in <code>@deviceMIB</code> and what do you want to get out of it (in Perl syntax)?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1501507383, "creation_date": 1501507383, "answer_id": 45417165, "question_id": 45416662, "link": "https://stackoverflow.com/questions/45416662/how-extract-a-column-from-a-2d-array-in-perl/45417165#45417165", "title": "How extract a column from a 2D array in Perl", "body": "<p>The most readable way is probably to create a new array that just contains the data that you want.</p>\n\n<pre><code>my @ids = map { $_-&gt;[1] } @deviceMIB;\ninsertDeviceOIDstats(\\$dbh, \\@ids);\n</code></pre>\n\n<p>But, as with anything in Perl, it's possible to skip the intermediate <code>@ids</code> array:</p>\n\n<pre><code>insertDeviceOIDstats(\\$dbh, [ map { $_-&gt;[1] @deviceMIB } ]);\n</code></pre>\n\n<p>This second approach used <code>map</code> to get a list of the IDs you want and the the anonymous array constructor (<code>[ ... ]</code>) to turn that into an array and give you a reference to that array.</p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 3679380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYUD4.jpg?s=128&g=1", "display_name": "mickvav", "link": "https://stackoverflow.com/users/3679380/mickvav"}, "edited": false, "score": 0, "creation_date": 1501684591, "post_id": 45417215, "comment_id": 77888334, "body": "But it seems to me that author has to double check that he always has the same rows with the same names in the same order, if he doesn&#39;t want to end up with lots of digits without meaning."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1501511648, "last_edit_date": 1501511648, "creation_date": 1501507495, "answer_id": 45417215, "question_id": 45416662, "link": "https://stackoverflow.com/questions/45416662/how-extract-a-column-from-a-2d-array-in-perl/45417215#45417215", "title": "How extract a column from a 2D array in Perl", "body": "<blockquote>\n  <p>How many ways are there for passing only one column to the function and which one is more efficient?</p>\n</blockquote>\n\n<p>I don't believe you really want to know <em>how many ways</em> there are. Suppose I told you there were 42 ways, what would you do with that information?</p>\n\n<p>It's most efficient to just pass the whole array, and use <code>$MIB-&gt;[$i][1]</code> etc. to get at the second column</p>\n\n<hr>\n\n<p>First of all, <code>$dbh</code> is already a reference\u2014in fact it's an object\u2014so there's no need to pass a reference to it</p>\n\n<p>Secondly, I'm guessing that you want the second column of your data, which will need a <code>map</code>, either when you call the subroutine or inside it</p>\n\n<p>This code dumps the original <code>@deviceMIB</code> and then uses <code>map</code> to create an array containing the second column, passing that to the subroutine. It then dumps <code>$MIB</code> inside the subroutine</p>\n\n<p>There's no reason to copy <code>@$MIB</code> to <code>@objectsID</code> so I've left that out\u2014you can simply access the array elements through the reference. In fact there's probably no need to extract the second column at all, as all the information is in the main array, and it's also wasteful as it <em>copies</em> all the data in that column </p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Data::Dump;\n\nmy $dbh;\n\nmy @deviceMIB = map [ split ], &lt;DATA&gt;;\n\ndd \\@deviceMIB;\n\ninsertDeviceOIDstats( $dbh, [ map $_-&gt;[1], @deviceMIB ] );\n\nsub insertDeviceOIDstats {\n\n    # Get passed arguments\n    my ( $dbh, $MIB ) = @_;\n\n    dd $MIB;\n}\n\n__DATA__\nubntWlStatRssi        29\nubntWlStatSignal     -67\nubntWlStatCcq         91\nubntWlStatNoiseFloor -96\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[\n  [\"ubntWlStatRssi\", 29],\n  [\"ubntWlStatSignal\", -67],\n  [\"ubntWlStatCcq\", 91],\n  [\"ubntWlStatNoiseFloor\", -96],\n]\n[29, -67, 91, -96]\n</code></pre>\n"}], "owner": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 45417215, "answer_count": 2, "score": 0, "last_activity_date": 1501511648, "creation_date": 1501506026, "last_edit_date": 1501507625, "question_id": 45416662, "link": "https://stackoverflow.com/questions/45416662/how-extract-a-column-from-a-2d-array-in-perl", "title": "How extract a column from a 2D array in Perl", "body": "<p>I am trying to pass a specific column of a 2d-array to a function in perl. I only know how to pass a 1darray or a 2d-array.</p>\n\n<pre><code>insertDeviceOIDstats(\\$dbh, \\@deviceMIB);\n\nsub insertDeviceOIDstats{\n  # Get passed arguments\n  my ($dbh, $MIB) = @_;\n  # Get the array from the reference\n  my @objectsID = @{$MIB};\n...\n\n}\n</code></pre>\n\n<p>Suppose I have a \"2d\" array <code>deviceMIB</code>:</p>\n\n<pre><code>+----------------------+-------+\n| ubntWlStatRssi       | 29    |\n| ubntWlStatSignal     | -67   |\n| ubntWlStatCcq        | 91    |\n| ubntWlStatNoiseFloor | -96   |\n+----------------------+-------+\n</code></pre>\n\n<p>I want the array <code>@objectsID</code> or <code>$MIB</code> to contain only the following column:</p>\n\n<pre><code>+-------+\n| 29    |\n| -67   |\n| 91    |\n| -96   |\n+-------+\n</code></pre>\n\n<p>How many ways are there for passing only one column to the function and which one is more efficient? </p>\n\n<p>Should I somehow pre-slice the array or is there a way to that while passing the argument with a lamda function or something familiar?</p>\n"}, {"tags": ["regex", "shell", "perl"], "answers": [{"comments": [{"owner": {"reputation": 12623, "user_id": 930170, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ehN7q.jpg?s=128&g=1", "display_name": "Sergei Panfilov", "link": "https://stackoverflow.com/users/930170/sergei-panfilov"}, "edited": false, "score": 1, "creation_date": 1501506461, "post_id": 45416680, "comment_id": 77794295, "body": "Great! Many thanks. So the regexp as is would be <code>(?:\\G(?!\\A),?|function\\s*\\()\\s*\\K(\\w+)</code>. Works like a charm. I&#39;ll accept this answer after few mins"}, {"owner": {"reputation": 12623, "user_id": 930170, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ehN7q.jpg?s=128&g=1", "display_name": "Sergei Panfilov", "link": "https://stackoverflow.com/users/930170/sergei-panfilov"}, "edited": false, "score": 0, "creation_date": 1501510017, "post_id": 45416680, "comment_id": 77797003, "body": "is it possible to check if it closes with <code>{</code>character? Sorry, but it&#39;s can be important for me. (I&#39;ve tried to add something like <code>(?:\\)\\s\\{)</code> at the very end of the expression, but it&#39;s totally wrong ))"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 12623, "user_id": 930170, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ehN7q.jpg?s=128&g=1", "display_name": "Sergei Panfilov", "link": "https://stackoverflow.com/users/930170/sergei-panfilov"}, "edited": false, "score": 1, "creation_date": 1501510213, "post_id": 45416680, "comment_id": 77797137, "body": "@SergeyPanfilov: Yes, sure, sorry, that evaded my attention. Just add the lookahead at the start: <code>function\\s*\\(</code> must be replaced with <code>function\\s*\\((?=[^)]*\\)\\s*{)</code> or maybe even like <code>function\\s*\\((?=.*?\\)\\s*{)</code>."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1501506071, "creation_date": 1501506071, "answer_id": 45416680, "question_id": 45416541, "link": "https://stackoverflow.com/questions/45416541/regexp-replace-multiple-groups-with-unknown-groups-number/45416680#45416680", "title": "Regexp: replace multiple groups with unknown groups number", "body": "<p>You may use single regex replacement using a <code>\\G</code> based regex:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $s = 'function (foo, bar, some, other) {';\n$s =~ s/(?:\\G(?!\\A),?|function\\s*\\()\\s*\\K(\\w+)/$1:any/g;\nprint $s;\n</code></pre>\n\n<p>See an <a href=\"https://ideone.com/vuK2k5\" rel=\"nofollow noreferrer\">online Perl demo</a></p>\n\n<p><strong>Pattern details</strong>:</p>\n\n<ul>\n<li><code>(?:\\G(?!\\A),?|function\\s*\\()</code>  - either the end of the previous successful match and an optional <code>,</code> (matched with <code>\\G(?!\\A),?</code>) or (<code>|</code>) <code>function</code> substring followed with 0+ whitespaces and then a literal <code>(</code> (matched with <code>function\\s*\\(</code>)</li>\n<li><code>\\s*</code> - zero or more whitespaces</li>\n<li><code>\\K</code> - match reset operator discarding the whole text matched so far from the match buffer</li>\n<li><code>(\\w+)</code> - Group 1: one or more word chars.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1501506699, "creation_date": 1501506699, "answer_id": 45416916, "question_id": 45416541, "link": "https://stackoverflow.com/questions/45416541/regexp-replace-multiple-groups-with-unknown-groups-number/45416916#45416916", "title": "Regexp: replace multiple groups with unknown groups number", "body": "<p>Like this perhaps?</p>\n\n<p>It uses a substitution nested within another substitution. The outer one finds the parameter list, while the inner one adds <code>:any</code> after each parameter in the list</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $s = 'function (foo, bar, some, other) {';\n\n$s =~ s{\\bfunction\\s*\\(\\K([^()]+)}{\n    my $params = $1;\n    $params =~ s/[^\\s,]+\\K/:any/gr;\n}eg;\n\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>function (foo:any, bar:any, some:any, other:any) {\n</code></pre>\n"}], "owner": {"reputation": 12623, "user_id": 930170, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ehN7q.jpg?s=128&g=1", "display_name": "Sergei Panfilov", "link": "https://stackoverflow.com/users/930170/sergei-panfilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 1, "accepted_answer_id": 45416680, "answer_count": 2, "score": 2, "last_activity_date": 1501506699, "creation_date": 1501505705, "question_id": 45416541, "link": "https://stackoverflow.com/questions/45416541/regexp-replace-multiple-groups-with-unknown-groups-number", "title": "Regexp: replace multiple groups with unknown groups number", "body": "<p>Let's say I want to replace</p>\n\n<pre><code>function (foo, bar, some, other) {\n</code></pre>\n\n<p>With </p>\n\n<pre><code>function (foo:any, bar:any, some:any, other:any) {\n</code></pre>\n\n<p><em>Important:</em> <strong>I don't know how many arguments function may have</strong>.</p>\n\n<p>it's gonna be something like <code>/function \\((\\S+),?\\) \\{/g</code> probably but with a various number of capture groups, I guess... </p>\n\n<p>Is it a way to replace all matches with <strong>Perl-styled RegEx</strong></p>\n\n<p>P.S. I didn't found rexex-based solution, but I need exactly regex</p>\n"}, {"tags": ["perl", "tk"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1501505779, "post_id": 45412221, "comment_id": 77793762, "body": "As a workaround you can try use <code>$documentsListbox-&gt;columnPack(@ar)</code>, where <code>@ar</code> contains the sizes of the columns. Since you have 5 columns you could try make each 1/5th of the screen-width, for example."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8393000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8762afe5c5ed096b313bd7c69277eea?s=128&d=identicon&r=PG&f=1", "display_name": "Shadow", "link": "https://stackoverflow.com/users/8393000/shadow"}, "edited": false, "score": 0, "creation_date": 1501571302, "post_id": 45417657, "comment_id": 77823136, "body": "Thank you very much for your answer."}, {"owner": {"reputation": 13, "user_id": 8393000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8762afe5c5ed096b313bd7c69277eea?s=128&d=identicon&r=PG&f=1", "display_name": "Shadow", "link": "https://stackoverflow.com/users/8393000/shadow"}, "edited": false, "score": 0, "creation_date": 1501571801, "post_id": 45417657, "comment_id": 77823435, "body": "It is too bad that it doesn&#39;t expand automatically. I will then use your solution. I will have to bind to the window size modification if I want to be able to extend the window. Or maybe I will simply forbid window modification. Thanks again."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 13, "user_id": 8393000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8762afe5c5ed096b313bd7c69277eea?s=128&d=identicon&r=PG&f=1", "display_name": "Shadow", "link": "https://stackoverflow.com/users/8393000/shadow"}, "edited": false, "score": 0, "creation_date": 1501572079, "post_id": 45417657, "comment_id": 77823612, "body": "Yes it is a pitty. Maybe you could check the <a href=\"https://metacpan.org/source/RCS/Tk-MListbox-1.11/MListbox.pm\" rel=\"nofollow noreferrer\">source</a> and suggest an improvement to the author (if he is still around then since it seems like 15 years ago he last updated anything).. But binding to the the configure event as you say, should also let you manually do the update of the list box columns as you desire"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 0, "last_activity_date": 1501508986, "last_edit_date": 1501508986, "creation_date": 1501508671, "answer_id": 45417657, "question_id": 45412221, "link": "https://stackoverflow.com/questions/45412221/tkmlistbox-doesnt-expand/45417657#45417657", "title": "Tk::MListbox doesn&#39;t expand", "body": "<p>It seems like the <a href=\"https://metacpan.org/pod/Tk::MListbox\" rel=\"nofollow noreferrer\"><code>Tk::MListbox</code></a> does not resize its own columns when the window width becomes larger than the sum of the column widths. Seems like a bug, maybe you should report it?</p>\n\n<p>Anyway, you can try work around it by using <code>columnPack</code> function. According to the <a href=\"https://metacpan.org/pod/Tk::MListbox\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p><strong>$ml->columnPack(array)</strong>  </p>\n  \n  <p>Repacks all columns in the MListbox widget\n  according to the specification in array. Each element in array is a\n  string on the format index:width. index is a column index, width\n  defines the columns width in pixels (may be omitted). The columns are\n  packed left to right in the order specified by by array. Columns not\n  specified in array will be hidden.</p>\n</blockquote>\n\n<p>Here is an example<sup>1</sup> where I maximize the window to fill the whole screen, and then compute the column widths:</p>\n\n<pre><code>#! /usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Tk;\nuse Tk::MListbox;\n\nmy $mw = MainWindow-&gt;new();\nmy $frameDocuments = $mw-&gt;Frame(-background =&gt; '#CCCCFF');\nmy @columns = (\n    [-text =&gt; 'Name'],\n    [-text =&gt; 'Path'],\n    [-text =&gt; 'Format'], \n    [-text =&gt; 'Loader Type'],\n    [-text =&gt; 'Cache directory']\n);\nmy $numCols = scalar @columns;\n\nmy $documentsListbox = $frameDocuments-&gt;Scrolled(\n    'MListbox',\n    -scrollbars =&gt; 'osoe',\n    -columns    =&gt; \\@columns,\n    -resizeable =&gt; 1,\n    -moveable   =&gt; 1,\n    -sortable   =&gt; 1,\n    -selectmode =&gt; 'browse',\n);\n\n$frameDocuments-&gt;pack(\n    -anchor =&gt; \"n\",\n    -expand =&gt; \"1\",\n    -fill   =&gt; \"both\",\n    -side =&gt; \"top\"\n);\n$documentsListbox-&gt;pack(\n    -anchor =&gt; \"n\",\n    -expand =&gt; \"1\",\n    -fill =&gt; \"both\",\n    -side =&gt; \"top\"\n);\n\nmy $screenHeight = $mw-&gt;screenheight;\nmy $screenWidth = $mw-&gt;screenwidth;\n$mw-&gt;geometry( sprintf \"%dx%d+0+0\", $screenWidth, $screenHeight );\nmy $colWidth = int( $screenWidth / $numCols );\nmy @ar = map { \"$_:$colWidth\" } 0 .. ($numCols - 1);\n$documentsListbox-&gt;columnPack(@ar);\n\nMainLoop;\n</code></pre>\n\n<p><strong>Resulting window</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5JK9Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5JK9Z.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Footnotes</strong>:</p>\n\n<p><sub></p>\n\n<ol>\n<li>I used <em>camelCase</em> for variable names in the code snippet since you already used it in your question. Note that <em>snake_case</em> is more common in Perl.</li>\n</ol>\n\n<p></sub></p>\n"}], "owner": {"reputation": 13, "user_id": 8393000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8762afe5c5ed096b313bd7c69277eea?s=128&d=identicon&r=PG&f=1", "display_name": "Shadow", "link": "https://stackoverflow.com/users/8393000/shadow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 45417657, "answer_count": 1, "score": 1, "last_activity_date": 1501508986, "creation_date": 1501493696, "last_edit_date": 1501495095, "question_id": 45412221, "link": "https://stackoverflow.com/questions/45412221/tkmlistbox-doesnt-expand", "title": "Tk::MListbox doesn&#39;t expand", "body": "<p>I would like to create a Tk application with a MListbox to display some data. If there is too much information, I would like that a scrollbar appears.</p>\n\n<p>My problem is that the MListbox doesn't fill all the available space. There is a blank space on the right. It doesn't look very nice.\nIs it possible to solve this problem? Or should I use another widget? (TableMatrix seems interesting but I can't download it). I chose MLlistbox because I want to be able to hide some columns and change the size of each column.</p>\n\n<p>This is the code I had so far:</p>\n\n<pre><code>my $frameDocuments = $mw-&gt;Frame(-background =&gt; '#CCCCFF');\n    $documentsListbox = $frameDocuments-&gt;Scrolled(\n        'MListbox',\n        -scrollbars =&gt; 'osoe',\n        -columns =&gt; [\n                        [-text =&gt; 'Name'], [-text =&gt; 'Path'], [-text =&gt; 'Format'], \n                        [-text =&gt; 'Loader Type'], [-text =&gt; 'Cache directory']\n                    ],\n        -resizeable =&gt; 1,\n        -moveable =&gt; 1,\n        -sortable =&gt; 1,\n        -selectmode =&gt; 'browse',\n    );\n\n$frameDocuments-&gt;pack(-anchor =&gt; \"n\",-expand =&gt; \"1\",-fill =&gt; \"both\",-side =&gt; \"top\");\n    $documentsListbox-&gt;pack(-anchor =&gt; \"n\",-expand =&gt; \"1\",-fill =&gt; \"both\",-side =&gt; \"top\");\n</code></pre>\n"}, {"tags": ["perl", "square-bracket"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501490833, "post_id": 45411013, "comment_id": 77782713, "body": "It&#39;s an element of a 2D array. That is an array which for elements has array references (like <code>my @ary = ([1, 2], [4, 5]);</code>). Then what you ask is the <code>1</code>-indexed element of the arrayref which is the <code>@line</code> array&#39;s <code>$k</code>-indexed element. The full syntax is <code>$line[$k]-&gt;[1]</code> but (here) the arrow may be dropped.  In my <code>@ary</code> example <code>$ary[1][1]</code> is <code>5</code>."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1501490832, "creation_date": 1501490832, "answer_id": 45411233, "question_id": 45411013, "link": "https://stackoverflow.com/questions/45411013/perl-meaning-of-double-squared-brackets-after-a-string/45411233#45411233", "title": "Perl: Meaning of double squared brackets after a string?", "body": "<p>It means you're working with a two dimensional array. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @stuff = ( \n   [ 1, 2, 3, 4 ],\n   [ 5, 6, 7, 8 ],\n );\n\n print $stuff[1][2]; \n #prints '7'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 0, "last_activity_date": 1501490879, "creation_date": 1501490879, "answer_id": 45411249, "question_id": 45411013, "link": "https://stackoverflow.com/questions/45411013/perl-meaning-of-double-squared-brackets-after-a-string/45411249#45411249", "title": "Perl: Meaning of double squared brackets after a string?", "body": "<p>A <code>[..]</code> is an array index. If you've got 2 of them, that means it's an array of arrays. In your example you're getting the 2nd element (indexes start at 0) of the <code>$k</code>th element of <code>@line</code>.</p>\n\n<p>That you think it's a string is possibly a sign the code isn't very well written as there should be a line saying something along the lines of <code>my @line;</code></p>\n\n<p>Make sure the code has <code>use strict;</code> and <code>use warnings;</code> at the top and that should throw up any problems with the code.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1501503285, "creation_date": 1501503285, "answer_id": 45415698, "question_id": 45411013, "link": "https://stackoverflow.com/questions/45411013/perl-meaning-of-double-squared-brackets-after-a-string/45415698#45415698", "title": "Perl: Meaning of double squared brackets after a string?", "body": "<p>It means that what you have there is not \"a string\". It's an array called <code>@line</code> and that every element in <code>@line</code> is a reference to another array.</p>\n\n<p>When you access a single element in a Perl array, the sigil changes from <code>@</code> (which implies multiple values) to <code>$</code> (which implies a single value). So to look up the element with index <code>$k</code> in an array called <code>@line</code>, you use:</p>\n\n<pre><code>$line[$k]\n</code></pre>\n\n<p>But in your example, <code>$line[$k]</code> contains a reference to another array. To get from an array reference to one of the elements of the referenced array, we use the <code>-&gt;[...]</code> syntax. So the second element of the array referenced by the <code>$k</code>th element of <code>@line</code> is given by:</p>\n\n<pre><code>$line[$k]-&gt;[1];\n</code></pre>\n\n<p>And in Perl, we have a rule that when two sets of array (or hash) look-up brackets are separated by just a dereferencing array, we can omit that arrow. So my previous example can be simplified to:</p>\n\n<pre><code>$line[$k][1];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8392696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VoRhR.jpg?s=128&g=1", "display_name": "Volker Gr&#246;ller ", "link": "https://stackoverflow.com/users/8392696/volker-gr%c3%b6ller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "answer_count": 3, "score": -6, "last_activity_date": 1501503285, "creation_date": 1501490280, "last_edit_date": 1501491069, "question_id": 45411013, "link": "https://stackoverflow.com/questions/45411013/perl-meaning-of-double-squared-brackets-after-a-string", "title": "Perl: Meaning of double squared brackets after a string?", "body": "<p>I don't understand a seemingly basic piece of code in Perl, which looks like this:</p>\n\n<pre><code>$line[$k][1]\n</code></pre>\n\n<p>What is the meaning of the double squared brackets?</p>\n\n<p>I'm sorry if this was already asked or is so basic it can be found in every beginners book for Perl. I couldn't find it anywhere</p>\n"}, {"tags": ["perl", "rtc"], "owner": {"reputation": 21, "user_id": 8147819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b9bee7a063bed91b647dc506212f482?s=128&d=identicon&r=PG", "display_name": "user8147819", "link": "https://stackoverflow.com/users/8147819/user8147819"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1501489303, "creation_date": 1501489303, "question_id": 45410703, "link": "https://stackoverflow.com/questions/45410703/does-rtc-command-line-provides-rollback-option", "title": "Does RTC command line provides rollback option?", "body": "<p>Suppose i have to deliver 10 files and 5 are delivered but it fails on 6th file. \nDoes the deliver command (refer below) provide rollback option or we have to do it manually? </p>\n\n<blockquote>\n  <p>lscm deliver</p>\n</blockquote>\n"}, {"tags": ["perl", "latex"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501445377, "post_id": 45403889, "comment_id": 77768673, "body": "At the first look, the operation seems to depend on <code>$generate_all_ == 1 </code> , not calling <code>generate_latex()</code> if it&#39;s <code>0</code>. Alas, that <code>$generate_all</code> is set to <code>0</code> in the beginning.  Change it to <code>1</code> and try again?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501450078, "post_id": 45403889, "comment_id": 77769968, "body": "This code, while reasonably clean and organized, has peculiarities (like <code>main()</code>) and does not fully follow the modern Perl style.  What may not matter that much, except for one thing: you want <code>use warnings;</code> up there, along with <code>use strict;</code>.  Without it even grave mistakes may not get mentioned -- like failing to open a file and then quietly &quot;readiing&quot; from that (invalid) filehandle. So I suggest that you add that line (and keep your fingers crossed)."}, {"owner": {"reputation": 29, "user_id": 4888700, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bb6e8893c2afa620e6981e4faf76c85?s=128&d=identicon&r=PG&f=1", "display_name": "josephS", "link": "https://stackoverflow.com/users/4888700/josephs"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501454511, "post_id": 45403889, "comment_id": 77771158, "body": "@zdim, just changed the $generate_all to 1 and tried again. It works. Thank you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501471268, "post_id": 45403889, "comment_id": 77774476, "body": "Great, you are welcome.  Add that <code>use warnings;</code>. You <i>always</i> want that on Perl scripts."}], "owner": {"reputation": 29, "user_id": 4888700, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bb6e8893c2afa620e6981e4faf76c85?s=128&d=identicon&r=PG&f=1", "display_name": "josephS", "link": "https://stackoverflow.com/users/4888700/josephs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1501455997, "creation_date": 1501443250, "last_edit_date": 1501455997, "question_id": 45403889, "link": "https://stackoverflow.com/questions/45403889/run-a-latex-file-for-pdf-generation", "title": "Run a LaTeX file for PDF generation", "body": "<p>I found this code on the internet and I was deeply confused. Could you please help me out?</p>\n\n<p>It seems like the file generated will be saved into a folder with name <code>cover_letters</code>, which should already be there. I ran the code, but I can't find the generated file at all even though no errors are given. Did I misunderstand something?</p>\n\n<pre><code>use strict;\n\nuse Schools;\n\nsub main;\nsub generate_latex;\n\n# Set this to 1 if you want to generate cover letters for all\n# schools regardless of whether their DO_GENERATE_KEY is set.\nmy $generate_all_ = 0;\n\n# The directory where the files will go (should be created already).\nmy $cover_letter_dir_ = \"cover_letters\";\n\n# The prefix that will be prepended to each file.\nmy $fname_pre_ = \"coverletter_\";\n\n# A log file to see an errors.\nmy $log_file_ = \"coverletter.log\";\n\nmain();\n\nsub main {\n\n    my $key;\n    my $num_keys = scalar(keys(%Schools::univ_));\n    my $ctr = 1;\n\n    print \"\\n\";\n\n    if(-e $cover_letter_dir_.\"/\".$log_file_) {\n        unlink($cover_letter_dir_.\"/\".$log_file_);\n    }\n\n    my $i;\n    if($generate_all_ == 1) {\n        my @prev_fnames = glob($cover_letter_dir_.\"/\".$fname_pre_.\"*\");\n        foreach $i (@prev_fnames) {\n            unlink $i;\n        }\n    }\n\n    foreach $key (keys(%Schools::univ_)) {\n        if($generate_all_ == 1 || \n                (defined $Schools::univ_{$key}{$Schools::DO_GENERATE_KEY} &amp;&amp;\n                $Schools::univ_{$key}{$Schools::DO_GENERATE_KEY} &gt; 0)) {\n            print \"Generating $key, $ctr of $num_keys\\n\";\n            generate_latex($key);\n            $ctr++;\n        }\n    }\n\n    print \"\\n\";\n\n}\n\n# NOTE: You should change the LaTeX in this function\n# to generate the format you desire.  I used the newlfm\n# and charter (a font) packages to create my files.\n\nsub generate_latex {\n\n\n    my $key = shift;\n    my $fname = $cover_letter_dir_.\"/\".$fname_pre_.$key.\".tex\";\n    local *OUT;\n\n    open(OUT, '&gt;', $fname) || die \"Cannot open $fname\\n\";\n\n    # newlfm is available at:\n    # http://www.tug.org/tex-archive/help/Catalogue/entries/newlfm.html\n    print OUT \"\\\\documentclass[10pt,stdletter]{newlfm}\\n\";\n    print OUT \"\\\\usepackage{charter}\\n\\n\";\n\n    # Determines how forceful LaTeX is in making sure page breaks\n    # do not leave orphaned lines.\n    print OUT \"\\\\widowpenalty=1000\\n\";\n    print OUT \"\\\\clubpenalty=1000\\n\\n\";\n\n    # Replace \"figures/logo\" with the logo you want to use and\n    # \".eps\" with the extension of your file.\n    print OUT \"\\\\newsavebox{\\\\Luiuc}\\n\";\n    print OUT \"\\\\sbox{\\\\Luiuc}{%\\n\";\n    print OUT \"\\t\\\\parbox[b]{1.75in}{%\\n\";\n    print OUT \"\\t\\t\\\\vspace{0.5in}%\\n\";\n    print OUT \"\\t\\t\\\\includegraphics[scale=1.0,ext=.eps]\\n\";\n    print OUT \"\\t\\t{figures/logo}%\\n\";\n    print OUT \"\\t}%\\n\";\n    print OUT \"}%\\n\";\n    print OUT \"\\\\makeletterhead{Uiuc}{\\\\Lheader{\\\\usebox{\\\\Luiuc}}}\\n\\n\";\n\n    print OUT \"\\\\newlfmP{headermarginskip=20pt}\\n\";\n    print OUT \"\\\\newlfmP{sigsize=50pt}\\n\";\n    #print OUT \"\\\\newlfmP{sigskipbefore=20pt}\\n\";\n    print OUT \"\\\\newlfmP{dateskipafter=20pt}\\n\";\n    print OUT \"\\\\newlfmP{addrfromphone}\\n\";\n    print OUT \"\\\\newlfmP{addrfromemail}\\n\";\n    print OUT \"\\\\PhrPhone{Phone}\\n\";\n    print OUT \"\\\\PhrEmail{Email}\\n\\n\";\n\n    print OUT \"\\\\lthUiuc\\n\\n\";\n\n    print OUT \"\\\\namefrom{Your Name}\\n\";\n    print OUT \"\\\\addrfrom{%\\n\";\n    print OUT \"\\tYour Street\\\\\\\\\\n\";\n    print OUT \"\\tBeverly Hills, CA 90210\\n\";\n    print OUT \"}\\n\";\n    print OUT \"\\\\phonefrom{217-555-5555}\\n\";\n    print OUT \"\\\\emailfrom{you\\@school.edu}\\n\\n\";\n\n    if(defined $Schools::univ_{$key}{$Schools::ADDR_KEY}) {\n        if(defined $Schools::univ_{$key}{$Schools::TO_NAME_KEY}) {\n            print OUT \"\\\\nameto{\".\n                \"$Schools::univ_{$key}{$Schools::TO_NAME_KEY}}\\n\";\n        }\n        print OUT \"\\\\addrto{%\\n\";\n        print OUT \"$Schools::univ_{$key}{$Schools::ADDR_KEY}\";\n        print OUT \"}\\n\\n\";\n    }\n\n    # Specify the default string to use if no TO_NAME key is defined.\n    my $to_str = \"To Whom It May Concern\";\n    #my $to_str = \"Dear Faculty Search Committee\";\n    if(defined $Schools::univ_{$key}{$Schools::TO_NAME_KEY}) {\n        my @name = split(/ /, \n            $Schools::univ_{$key}{$Schools::TO_NAME_KEY});\n        $to_str = \"Dear $name[0] $name[$#name]\";\n    }\n\n    print OUT \"\\\\greetto{$to_str,}\\n\";\n    print OUT \"\\\\closeline{Sincerely,}\\n\";\n\n    print OUT \"\\\\begin{document}\\n\";\n    print OUT \"\\\\begin{newlfm}\\n\\n\";\n\n    # Specify a default string to use if no UNIV_KEY or DEPT_KEY is defined.\n    my $dept_str = \"your department\";\n    if(defined $Schools::univ_{$key}{$Schools::UNIV_KEY} &amp;&amp; \n            defined $Schools::univ_{$key}{$Schools::DEPT_KEY}) {\n        # Make the school possessive...deal with school names ending\n        # in 's'.\n        my $poss_str = \"'s\";\n        my $name_str = $Schools::univ_{$key}{$Schools::UNIV_KEY};\n        if(substr($name_str,(length($name_str) - 1), 1) eq \"s\") {\n            $poss_str = \"'\";\n        }\n        $dept_str = \"$Schools::univ_{$key}{$Schools::UNIV_KEY}$poss_str \".\n        \"$Schools::univ_{$key}{$Schools::DEPT_KEY} Department\"\n    }\n\n    # By default, do not include any string about your research \n    # background.\n    my $area_str = \"\";\n    if(defined $Schools::univ_{$key}{$Schools::AREA_KEY}) {\n        # If the ad is relevant to your specific background, use this\n        # string.\n        $area_str =\n        \"My background is particularly applicable to your advertised\\n\".\n        \"preference in the area of \".\n        \"$Schools::univ_{$key}{$Schools::AREA_KEY}.\\n\";\n    }\n\n    # By default, do not print anything extra for the school.\n    my $loc_str = \"\";\n    if(defined $Schools::univ_{$key}{$Schools::LOCATION_KEY}) {\n        # If extra info is defined for the school, print it.\n        $loc_str = $Schools::univ_{$key}{$Schools::LOCATION_KEY};\n    }\n\n    # Here's the actual text that will go in your cover letter.\n    # I will leave mine in as an example, but it is NOT a template.\n    # DO NOT PLAGERIZE THIS!!!  The cover letter should be unique\n    # to you.  Plus, it is a well-known fact that the job gods\n    # look very unfavorably upon anyone that doesn't write their\n    # own cover letter.\n\n    print OUT \"I am writing to apply for the position of assistant\\n\".\n    \"professor in $dept_str.  I plan to receive my\\n\".\n    \"Ph.D.\\\\ degree from the University of Illinois at\\n\".\n    \"Urbana-Champaign in Summer of 2006.  My adviser is\\n\".\n    \"Prof.\\\\ Nitin H.\\\\ Vaidya, and my general areas of interest\\n\".\n    \"include wireless and sensor network performance and security.\\n\".\n    \"$area_str $loc_str\\n\";\n\n    print OUT \"In my graduate work, I focus on the design of\\n\".\n    \"energy-efficient protocols and secure key distribution.\\n\".\n    \"More specifically, I have explored various techniques at\\n\".\n    \"multiple layers of the network stack to effectively reduce\\n\".\n    \"the energy consumption of wireless communication.  In security,\\n\".\n    \"my work was the first to propose leveraging channel diversity\\n\".\n    \"for sensor network key distribution.  My research appears in \\n\".\n    \"the \\\\textit{IEEE Transactions on Mobile Computing} journal as\\n\".\n    \"well as \\\\textit{Infocom 2006} and \\\\textit{ICDCS 2005},\\n\".\n    \"prestigious conferences in the areas of networking and distributed\\n\".\n    \"systems, respectively.\\n\\n\";\n\n    print OUT \"Enclosed is my curriculum vitae (including a list of\\n\".\n    \"publications), contact information for my references, a research\\n\".\n    \"statement, and a teaching statement.  All of my publications and\\n\".\n    \"presentations are available at:\\n\\n\";\n\n    print OUT \"http://www.crhc.uiuc.edu/\\$\\\\sim\\$mjmille2/publications/\\n\\n\";\n\n    print OUT \"Please let me know if there are any other materials\\n\".\n    \"or information that will assist you in processing my application.\\n\\n\";\n\n    print OUT \"Thank you for your consideration.  I look forward to\\n\".\n    \"hearing from you.\\n\\n\";\n\n    print OUT \"\\\\end{newlfm}\\n\";\n    print OUT \"\\\\end{document}\\n\\n\";\n\n    close OUT;\n\n    chdir($cover_letter_dir_);\n    # Change this command if you generate LaTeX with a different\n    # series of commands.\n    system(\"latexmk -pdfps $fname_pre_$key &gt;&gt; $log_file_ 2&gt;&amp;1\");\n    chdir(\"..\");\n\n}\n</code></pre>\n"}, {"tags": ["string", "perl", "variables"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 3, "creation_date": 1501432852, "post_id": 45401459, "comment_id": 77764729, "body": "Please do not <a href=\"http://perlmonks.org/?node_id=1196310\" rel=\"nofollow noreferrer\">cross post</a> without telling all locations you&#39;ve done so. This avoids wasting other people&#39;s time who are not on all cross-posted sites."}], "answers": [{"comments": [{"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 5, "creation_date": 1501429813, "post_id": 45401545, "comment_id": 77763778, "body": "+1 for &quot;avoid using the shell.&quot; Too many people treat perl (and other languages) as glorified shell scripts when it&#39;s safer and more robust to just write a couple extra lines of code and do it internally."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 3, "last_activity_date": 1501428862, "creation_date": 1501428862, "answer_id": 45401545, "question_id": 45401459, "link": "https://stackoverflow.com/questions/45401459/perl-variable-inside-a-string-inside-back-ticks/45401545#45401545", "title": "perl variable inside a string inside back ticks", "body": "<p>That is exactly how you use a variable in backticks.</p>\n\n<p>I'm not sure what the actual problem is (\"<em>I cannot find a way to get this to work</em>\" is not a helpful problem description), but here's my guess:</p>\n\n<p><code>`date ...`</code> returns a string with a trailing newline, <code>\"\\n\"</code>, so the command you're actually running ends up being:</p>\n\n<pre><code>ls electric_inventory_WE_20170330\n*.dat\n</code></pre>\n\n<p>A possible solution is to avoid using the shell (and external commands such as <code>date</code> and <code>ls</code>) at all:</p>\n\n<pre><code>use POSIX qw(strftime);\n\nmy $today = strftime \"%Y%m%d\", localtime;\nmy @candidates = glob \"electric_inventory_WE_$today*.dat\";\nif (@candidates != 1) {\n    ...   # handle error: either 0 or more than 1 files were found\n}\nmy $filename = shift @candidates;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501535493, "post_id": 45420122, "comment_id": 77812066, "body": "This does nothing like what you described. This literally just assigns <code>&quot;electric_inventory_WE_20170730_*.dat&quot;</code> to <code>$filename</code>; it doesn&#39;t resolve to the actual filename."}], "tags": [], "owner": {"reputation": 7, "user_id": 6696741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e20a4bc8f34c052b5a33c3b58e60385?s=128&d=identicon&r=PG&f=1", "display_name": "phamalda", "link": "https://stackoverflow.com/users/6696741/phamalda"}, "is_accepted": false, "score": -1, "last_activity_date": 1501515711, "creation_date": 1501515711, "answer_id": 45420122, "question_id": 45401459, "link": "https://stackoverflow.com/questions/45401459/perl-variable-inside-a-string-inside-back-ticks/45420122#45420122", "title": "perl variable inside a string inside back ticks", "body": "<p>Thanks to all that provided information on this and I do apologize for the cross posts. Thanks to your posts, I was able to use the following to get this to work:</p>\n\n<p>my $filename=\"electric_inventory_WE_\" . $today . \"*.dat\";</p>\n"}], "owner": {"reputation": 7, "user_id": 6696741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e20a4bc8f34c052b5a33c3b58e60385?s=128&d=identicon&r=PG&f=1", "display_name": "phamalda", "link": "https://stackoverflow.com/users/6696741/phamalda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1501515711, "creation_date": 1501428363, "last_edit_date": 1501428542, "question_id": 45401459, "link": "https://stackoverflow.com/questions/45401459/perl-variable-inside-a-string-inside-back-ticks", "title": "perl variable inside a string inside back ticks", "body": "<p>I have a filename that is formated as electric_inventory_WE_20170730_195758.dat. There is a similar file created each day. The time created may vary. I need to capture the filename with today's date, not worry about the time and end with a .dat extension.</p>\n\n<p>I have created a variable for today's date. I need to use this variable inside a string inside back ticks. Something like this:</p>\n\n<pre><code>my $today = `date \"+%Y%m%d\"`;\n\nmy $filename = `ls electric_inventory_WE_$today*.dat`;\n</code></pre>\n\n<p>I cannot find a way to get this variable to work inside a string inside the back ticks. Any help would be greatly appreciated.</p>\n"}, {"tags": ["perl", "archive", "tar", "bzip2", "archive-tar"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501422326, "post_id": 45400336, "comment_id": 77761388, "body": "Related: <a href=\"https://stackoverflow.com/questions/653127/how-can-i-tar-files-larger-than-physical-memory-using-perls-archivetar?rq=1\" title=\"how can i tar files larger than physical memory using perls archivetar\">stackoverflow.com/questions/653127/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501423562, "post_id": 45400336, "comment_id": 77761773, "body": "What does &quot;across platforms&quot; refer to? Do you need to pull these files from multiple systems?"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501424193, "post_id": 45400336, "comment_id": 77761967, "body": "@Borodin I meant that the script needs to work in Windows as well as Linux. I edited the first paragraph to reflect this."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501424429, "post_id": 45400336, "comment_id": 77762053, "body": "Can&#39;t you just install a <code>tar</code> program on Windows? Might be easier in the long run."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501424763, "post_id": 45400336, "comment_id": 77762147, "body": "@melpomene I could. But how would I then write a script that is generic enough that I don&#39;t need to change anything for it to work under Linux (built-in <code>tar</code>) and Windows (not built-in)? (The <code>tar</code>ing is not standalone, and is part of a larger Perl script.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1501424819, "post_id": 45400336, "comment_id": 77762166, "body": "@BramVanroy: Okay, thank you. Did you look at <a href=\"https://metacpan.org/pod/Archive::Tar::Streamed\" rel=\"nofollow noreferrer\"><code>Archive::Tar::Streamed</code></a> as described in <a href=\"https://stackoverflow.com/questions/653127\">the question that <b>melpomene</b> linked to</a>? Contrary to the accepted answer, it <b><i>doesn&#39;t</i></b> require a <code>tar</code> command line utility, and so should be fine on your Windows systems. The documentation says <i>&quot;It also aims to be portable, and available on platforms without a native tar&quot;</i>."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501425534, "post_id": 45400336, "comment_id": 77762403, "body": "@Borodin Thanks for looking into it. I looked at it, but as far as I can tell it is not possible to add the compression method as an argument in the Streamed class. Would this mean I have to &#39;bzip&#39; the created <code>tar</code> file, by using Archive::Tar anyway? But wouldn&#39;t that mean that the whole <code>tar</code> (possibly hundreds of gigabyte) needs to be read in memory?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501425783, "post_id": 45400336, "comment_id": 77762485, "body": "You could probably use <a href=\"https://metacpan.org/pod/IO::Compress::Bzip2\" rel=\"nofollow noreferrer\">IO::Compress::Bzip2</a> for bzipping."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501426966, "post_id": 45400336, "comment_id": 77762852, "body": "@Borodin and melpomene, please see my edit."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501445661, "post_id": 45400336, "comment_id": 77768762, "body": "<i>&quot;<code>Streamed</code> allows to only need one file in memory completely, and then adding that to the archive, one by one?&quot;</i> The main difference from <code>Archive::Tar</code> is that the tar file is built incrementally on disk instead of in memory. Adding a file or a list of files to the archive will require all of those files&#39; data in memory whichever module is used. This can be minimised by adding only one file at a time. Does your data include any multi-gigabyte individual files? I&#39;ve written a short solution and will post it tomorrow unless you have files that don&#39;t fit in memory."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501445951, "post_id": 45400336, "comment_id": 77768844, "body": "@Borodin Unfortunately, as I&#39;ve written in my post <i>I have 32GB available in my current system, but it gets flooded almost immediately. Some files in the directory I am trying to add to the archive exceed 32GB.</i> So yes, some files are larger than my available memory. Nonetheless, please do post your solution because I will need something similar for a directory that consists of loads of sub-directories which contain all many <i>small</i> files. By the way, just to be clear: just because it is not possible in Perl, does not mean I cannot do this in simple command line (backtick operator), right?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1501446410, "post_id": 45400336, "comment_id": 77768951, "body": "@BramVanroy: I will look at writing a variant of <code>Archive::Tar</code> tomorrow which streams the individual files to the output as well as the whole archive. It shouldn&#39;t be hard. Meanwhile, yes you can use <code>system</code> or backticks. Windows doesn&#39;t come with a tar or a bzip2 command-line archiver, but <a href=\"http://gnuwin32.sourceforge.net/packages.html\" rel=\"nofollow noreferrer\"><i>GnuWin</i> provides both</a>."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501448438, "post_id": 45400336, "comment_id": 77769485, "body": "@Borodin Sounds interesting. Perhaps the quote in Sinan &#220;n&#252;r&#39;s answer is of some help. If you plan to create your own Archive module and throw it on CPAN, that&#39;d be cool! I can imagine that many people who are working with big data and Perl (and also use a Windows machine to test some stuff) find this useful as well!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501455541, "post_id": 45400336, "comment_id": 77771402, "body": "@BramVanroy: It may end up on CPAN, but it will take a lot of work to make it worthy for that. I intend to write something that will work just for your situation at present. Supporting things like symbolic links can wait until later."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1501433675, "last_edit_date": 1592644375, "creation_date": 1501433675, "answer_id": 45402362, "question_id": 45400336, "link": "https://stackoverflow.com/questions/45400336/how-to-add-complete-tree-structure-into-a-tar-bz2-file-with-perl/45402362#45402362", "title": "How to add complete tree structure into a .tar.bz2 file with Perl?", "body": "<p>Unfortunately, what you want <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=64712\" rel=\"nofollow noreferrer\">is not possible</a> in Perl:</p>\n<blockquote>\n<p>I agree, it would be nice if this module could write the files in chunks and then rewrite the headers afterwards (to maintain the relationship of Archive::Tar doing the writing). You could maybe walk the archive backwards knowing you split the file into <code>N</code> entries, remove the extra headers, and update the first header with the sum of their sizes.</p>\n<p>At the moment the only options are: use <code>Archive::Tar::File</code>, split the data into manageable sizes outside of <code>perl</code>, or use the <code>tar</code> command directly (to use it from <code>perl</code>, there's a nice wrapper on CPAN: <code>Archive::Tar::Wrapper</code>).</p>\n<p>I don't think we'll ever have a truly non-memory-resident <code>tar</code> implementation in Perl based on <code>Archive::Tar</code>. To be honest, <code>Archive::Tar</code> itself needs to be rewritten or succeeded by something else.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1501512661, "creation_date": 1501512661, "answer_id": 45419089, "question_id": 45400336, "link": "https://stackoverflow.com/questions/45400336/how-to-add-complete-tree-structure-into-a-tar-bz2-file-with-perl/45419089#45419089", "title": "How to add complete tree structure into a .tar.bz2 file with Perl?", "body": "<p>This is the original version of my solution, which still stores a whole file in memory. I probably shan't have time today to add an update which only stores partial files, as the <code>Archive::Tar</code> module doesn't have the friendliest API</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse autodie; # Remove need for checks on IO calls\n\nuse File::Find 'find';\nuse Archive::Tar::Streamed ();\nuse Compress::Raw::Bzip2;\nuse Time::HiRes qw/ gettimeofday tv_interval /;\n\n# Set a default root directory for testing\n#\nBEGIN {\n    our @ARGV;\n    @ARGV = 'E:\\test' unless @ARGV;\n}\n\nuse constant ROOT_DIR =&gt; shift;\n\nuse constant KB =&gt; 1024;\nuse constant MB =&gt; KB * KB;\nuse constant GB =&gt; MB * KB;\n\nSTDOUT-&gt;autoflush; # Make sure console output isn't buffered\n\nmy $t0 = [ gettimeofday ];\n\n# Create a pipe, and fork a child that will build a tar archive\n# from the files and pass the result to the pipe as it is built\n#\n# The parent reads from the pipe and passes each chunk to the\n# module for compression. The result of zipping each block is\n# written directly to the bzip2 file\n#\npipe( my $pipe_from_tar, my $pipe_to_parent );  # Make our pipe\nmy $pid  = fork;                      # fork the process\n\nif ( $pid == 0 ) {    # child builds tar and writes it to the pipe\n\n    $pipe_from_tar-&gt;close;    # Close the parent side of the pipe\n    $pipe_to_parent-&gt;binmode;\n    $pipe_to_parent-&gt;autoflush; \n\n    # Create the ATS object, specifiying that the tarred output\n    # will be passed straight to the pipe\n    #\n    my $tar = Archive::Tar::Streamed-&gt;new( $pipe_to_parent );\n\n    find(sub {\n\n        my $file = File::Spec-&gt;canonpath( $File::Find::name );\n        $tar-&gt;add( $file );\n\n        print \"Processing $file\\n\" if -d;\n\n    }, ROOT_DIR );\n\n    $tar-&gt;writeeof; # This is undocumented but essential\n\n    $pipe_to_parent-&gt;close;\n}\nelse {    # parent reads the tarred data, bzips it, and writes it to the file\n\n    $pipe_to_parent-&gt;close; # Close the child side of the pipe\n    $pipe_from_tar-&gt;binmode;\n\n    open my $bz2_fh, '&gt;:raw', 'T:\\test.tar.bz2';\n    $bz2_fh-&gt;autoflush;\n\n    # The first parameter *must* have a value of zero. The default\n    # is to accumulate each zipped chunnk into the output variable,\n    # whereas we want to write each chunk to a file\n    #\n    my ( $bz, $status ) = Compress::Raw::Bzip2-&gt;new( 0 );\n    defined $bz or die \"Cannot create bunzip2 object: $status\\n\";\n\n    my $zipped;\n\n    while ( my $len = read $pipe_from_tar, my $buff, 8 * MB ) {\n\n        $status = $bz-&gt;bzdeflate( $buff, $zipped );\n        $bz2_fh-&gt;print( $zipped ) if length $zipped;\n    }\n\n    $pipe_from_tar-&gt;close;\n\n    $status = $bz-&gt;bzclose( $zipped );\n    $bz2_fh-&gt;print( $zipped ) if length $zipped;\n\n    $bz2_fh-&gt;close;\n\n    my $elapsed = tv_interval( $t0 );\n\n    printf \"\\nProcessing took %s\\n\", hms($elapsed);\n}\n\n\nuse constant MINUTE =&gt; 60;\nuse constant HOUR   =&gt; MINUTE * 60;\n\nsub hms {\n    my ($s) = @_;\n\n    my @ret;\n\n    if ( $s &gt; HOUR ) {\n        my $h = int($s / HOUR);\n        $s -= $h * HOUR;\n        push @ret, \"${h}h\";\n    }\n\n    if ( $s &gt; MINUTE or @ret ) {\n        my $m = int($s / MINUTE);\n        $s -= $m * MINUTE;\n        push @ret, \"${m}m\";\n    }\n\n    push @ret, sprintf \"%.1fs\", $s;\n\n    \"@ret\";\n}\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 45402362, "answer_count": 2, "score": 0, "last_activity_date": 1501512661, "creation_date": 1501421487, "last_edit_date": 1501426829, "question_id": 45400336, "link": "https://stackoverflow.com/questions/45400336/how-to-add-complete-tree-structure-into-a-tar-bz2-file-with-perl", "title": "How to add complete tree structure into a .tar.bz2 file with Perl?", "body": "<p>I am looking to compress <em>a lot</em> of data spread across loads of sub-directories into an archive. I cannot simply use built-in tar functions because I need my Perl script to work in a Windows as well as a Linux environment. I have found the <code>Archive::Tar</code> module but <a href=\"http://perldoc.perl.org/Archive/Tar.html\" rel=\"nofollow noreferrer\">their documentation</a> gives a warning:</p>\n\n<blockquote>\n  <p>Note that this method [<code>create_archive()</code>] does not write <code>on the fly</code>\n  as it were; it still reads all the files into memory before writing\n  out the archive. Consult the FAQ below if this is a problem.</p>\n</blockquote>\n\n<p>Because of the sheer size of my data, I want to write 'on the fly'. But I cannot find useful information in the FAQ about <em>writing</em> files. They suggest to use the iterator <code>iter()</code>:</p>\n\n<blockquote>\n  <p>Returns an iterator function that reads the tar file without loading\n  it all in memory. Each time the function is called it will return the\n  next file in the tarball.</p>\n\n<pre><code>my $next = Archive::Tar-&gt;iter( \"example.tar.gz\", 1, {filter =&gt; qr/\\.pm$/} );\nwhile( my $f = $next-&gt;() ) {\n    print $f-&gt;name, \"\\n\";\n    $f-&gt;extract or warn \"Extraction failed\";\n    # ....\n}\n</code></pre>\n</blockquote>\n\n<p>But this only discusses the <em>reading</em> of files, not the <em>writing</em> of the compressed archive. So my question is, how can I take a directory <code>$dir</code> and recursively add it to an archive <code>archive.tar.bz2</code> with bzip2 compression in a memory-friendly manner, i.e. without first loading the whole tree in memory?</p>\n\n<p>I tried to build my own script with the suggestions in the comments using <code>Archive::Tar::Streamed</code> and <code>IO::Compress::Bzip2</code>, but to no avail. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Archive::Tar::Streamed;\nuse File::Spec qw(catfile);\nuse IO::Compress::Bzip2 qw(bzip2 $Bzip2Error);\n\nmy ($in_d, $out_tar, $out_bz2) = @ARGV;\n\nopen(my $out_fh,'&gt;', $out_tar) or die \"Couldn't create archive\";\nbinmode $out_fh;\n\nmy $tar = Archive::Tar::Streamed-&gt;new($out_fh);\n\nopendir(my $in_dh, $in_d) or die \"Could not opendir '$in_d': $!\";\nwhile (my $in_f = readdir $in_dh) {\n  next unless ($in_f =~ /\\.xml$/);\n  print STDOUT \"Processing $in_f\\r\";\n  $in_f = File::Spec-&gt;catfile($in_d, $in_f);\n  $tar-&gt;add($in_f);\n}\n\nprint STDOUT \"\\nBzip'ing $out_tar\\r\";\n\n bzip2 $out_tar =&gt; $out_bz2\n    or die \"Bzip2 failed: $Bzip2Error\\n\";\n</code></pre>\n\n<p>Very quickly, my system runs out of memory. I have 32GB available in my current system, but it gets flooded almost immediately. Some files in the directory I am trying to add to the archive exceed 32GB.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5kzHP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5kzHP.png\" alt=\"Memory exceeded\"></a></p>\n\n<p>So I wonder if even in the <code>Streamed</code> class each file has to be read in memory completely before being added to the archive? I assumed the files themselves would be streamed in buffers to the archive, but perhaps it's simply that instead of first saving ALL files in memory, <code>Streamed</code> allows to only need one file in memory completely, and then adding that to the archive, one by one?</p>\n"}, {"tags": ["mysql", "arrays", "perl", "dbi", "dbd"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501357516, "post_id": 45392994, "comment_id": 77747330, "body": "The 2D output array ... do you want those column names to somehow be there?  That would make it hard to work with. (Or are they shown just to clarify what output you want?)"}, {"owner": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501357712, "post_id": 45392994, "comment_id": 77747397, "body": "@zdim Not really but, for learning purpose it would be nice to see if there is a way to have titles on the colums maybe throught a special variable binding or something. :)"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1501357919, "post_id": 45392994, "comment_id": 77747480, "body": "Maybe it would be better to use a HoA or HoH instead of an array?  Especially if you want to use the field names as titles in your output."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1501358164, "post_id": 45392994, "comment_id": 77747557, "body": "OK. If you want to have column names: what is the purpose -- to print conveniently, like you show? (Then, do you need to maintain order?) Or to retrieve data by name, use as lookup? (Then, how? Look up what by what?) The <code>$dbh-&gt;selectall_arrayref</code> returns precisely a &quot;2D&quot; array already."}, {"owner": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501358432, "post_id": 45392994, "comment_id": 77747653, "body": "@zdim Its ok then we can skip the titles, as I said it doesnt matter. Btw, I tried with <code>selectall_arrayref</code> but I couldnt merge all columns in one 2d-array while fetching the result."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1501358805, "post_id": 45392994, "comment_id": 77747775, "body": "The <code>$selectall_arrayref</code> returns a reference to an array.  That elements of that array are references, each to an array with values for a row.  So you have a &quot;2D array&quot; already, it&#39;s <code>my $all_rows = $dbh-&gt;selectall_arrayref($sql);</code> So <code>for (@$all_rows) { print &quot;@$_\\n&quot; };</code>   prints the table, just without headers, in the right order.  Is this what you need?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501359079, "post_id": 45392994, "comment_id": 77747858, "body": "There are at lease a few ways to store this <i>with</i> column information. But then in order to choose how to do it one should decide what is that new data structure intended for, what should be easy to do with it."}, {"owner": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501359101, "post_id": 45392994, "comment_id": 77747868, "body": "@zdim Yes that worked! when i have tried that i used <code>@</code> instead of <code>$</code> in <code>my $all_rows = $dbh-&gt;selectall_arrayref($sql);</code> and it didnt work. I think that confused me and so I opened this question here... Can u explain why it doesnt work with @?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501359159, "post_id": 45392994, "comment_id": 77747886, "body": "Sure. I&#39;ll post it so we can take it from there."}], "answers": [{"comments": [{"owner": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "edited": false, "score": 0, "creation_date": 1501360168, "post_id": 45393703, "comment_id": 77748177, "body": "Thanks. I believe I should try a tutorial for perl :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "edited": false, "score": 0, "creation_date": 1501360304, "post_id": 45393703, "comment_id": 77748213, "body": "@BugShotGG Welcome.  Yes, that would probably be good :).  i list docs for references, for other stuff browse <a href=\"https://perldoc.perl.org/index.html\" rel=\"nofollow noreferrer\">perldoc.perl.org</a>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1501362668, "last_edit_date": 1501362668, "creation_date": 1501359758, "answer_id": 45393703, "question_id": 45392994, "link": "https://stackoverflow.com/questions/45392994/how-to-fetch-multiple-columns-from-sql-query-and-store-them-in-2d-array-in-perl/45393703#45393703", "title": "How to fetch multiple columns from SQL query and store them in 2d array in perl", "body": "<p>The <code>selectall_arrayref()</code> returns an <em>array reference</em>. See <a href=\"http://search.cpan.org/~timb/DBI-1.636/DBI.pm#selectall_arrayref\" rel=\"nofollow noreferrer\">it in DBI</a>. \nThus we can use it as</p>\n\n<pre><code>my $all_rows = $dbh-&gt;selectall_arrayref($sql);\n</code></pre>\n\n<p>assigning it to a variable, a scalar, <code>$all_rows</code>.  To <em>dereference</em> this and create an array</p>\n\n<pre><code>my @all_rows = @{ $all_rows };\n</code></pre>\n\n<p>where I use the same name (\"all_rows\") only to show that the scalar (<code>$</code>) and the array (<code>@</code>) with that same name are different variables.  That is not the practice I'd recommend though, as confusion may result; choose names carefully.  In this case the <code>{ }</code> aren't needed and <code>@$all_rows</code> is fine.</p>\n\n<p>Now you can print the contents</p>\n\n<pre><code>foreach my $row (@all_rows) { \n    print \"@$row\\n\";\n}\n</code></pre>\n\n<p>where each <code>$row</code> retrieved from the array is itself an arrayref so we dereference it (<code>@$row</code>), or </p>\n\n<pre><code>print \"@$_\\n\" for @all_rows;\n</code></pre>\n\n<p>References are <em>very</em> convenient for work, so there may not be much of a reason to create the actual array with rows; just keep it in <code>$all_rows</code>.  To print them out</p>\n\n<pre><code>print \"@$_\\n\" for @$all_rows;\n</code></pre>\n\n<p>where <code>@$all_rows</code> dereferences <code>$all_rows</code> and creates a list that <code>for</code> iterates over, putting each element in the special <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">$_ variable</a>.  That is then dereferenced <code>@$_</code>, and interpolated <code>\"@$_\"</code> in <code>print</code>ing so that we get spaces between the elements for a legible readout.</p>\n\n<p>Literature: tutorial <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>, cookbook <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>, and reference <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a>.</p>\n\n<hr>\n\n<p>Now, in order to add column names in some way to this it is important to first articulate the purpose of doing that. If it's for a lookup, then what should be looked up by what? If you query by column name, then how do you want to be able to access elements of a row?  By index, or again by name somehow? Do you want to be able to conveniently iterate through it as well?  Maintain the oder of columns?</p>\n\n<p>At this point we are practically implementing a relational database style functionality. </p>\n\n<p>So perhaps just keep it simple.  The arrayref has information, and for display you can simply print column names first. Formatting can be taken care of via <a href=\"http://perldoc.perl.org/functions/printf.html\" rel=\"nofollow noreferrer\">printf</a>, with details available in <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\">sprintf</a>.</p>\n"}], "owner": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1622, "favorite_count": 0, "accepted_answer_id": 45393703, "answer_count": 1, "score": 1, "last_activity_date": 1501362668, "creation_date": 1501354956, "last_edit_date": 1501359788, "question_id": 45392994, "link": "https://stackoverflow.com/questions/45392994/how-to-fetch-multiple-columns-from-sql-query-and-store-them-in-2d-array-in-perl", "title": "How to fetch multiple columns from SQL query and store them in 2d array in perl", "body": "<p>Suppose I have a query like:</p>\n\n<pre><code>my $sql = \"SELECT dev_name,\n                  OID_name,\n                  Obj_Val\n           FROM dev_logs\";\n</code></pre>\n\n<p>where the table has values like </p>\n\n<pre><code>+----+------------+----------------------+---------+---------------------+\n| id | dev_name   | OID_name             | Obj_Val | timeStamp           |\n+----+------------+----------------------+---------+---------------------+\n|  1 | iKazatseva | ubntWlStatRssi       | 29      | 2017-07-22 15:18:34 |\n|  2 | iKazatseva | ubntWlStatSignal     | -67     | 2017-07-22 10:12:32 |\n|  3 | iKazatseva | ubntWlStatCcq        | 91      | 2017-07-22 15:18:34 |\n|  4 | iKazatseva | ubntWlStatNoiseFloor | -96     | 2017-07-27 16:45:24 |\n+----+------------+----------------------+---------+---------------------+\n</code></pre>\n\n<p><strong>How can I store the values returned by the query in a 2D-array like the following?</strong>:</p>\n\n<pre><code>+------------+----------------------+---------+\n| dev_name   | OID_name             | Obj_Val |\n+------------+----------------------+---------+\n| iKazatseva | ubntWlStatRssi       | 29      |\n| iKazatseva | ubntWlStatSignal     | -67     |\n| iKazatseva | ubntWlStatCcq        | 91      |\n| iKazatseva | ubntWlStatNoiseFloor | -96     |\n+------------+----------------------+---------+\n</code></pre>\n\n<p>I have tried some things but all I could get was either bind them in a 1d array like:</p>\n\n<pre><code>my @devLogsArr = $dbh-&gt;selectall_arrayref($sql);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my @OID_names= map {$_-&gt;[1]}\n  @{$dbh-&gt;selectall_arrayref($sql)};\n</code></pre>\n\n<p>or bind them in variables like:</p>\n\n<pre><code>$sth-&gt;bind_col(1, \\$devname);\n$sth-&gt;bind_col(2, \\$OID);\n$sth-&gt;bind_col(3, \\$value);\n\nprint \"$devname\\t$OID\\t$value\\n\" while $sth-&gt;fetchrow_arrayref;\n\nmy @devLogsArr;\npush(@devLogsArr, (devname=&gt; $devname, OID=&gt; $OID, value=&gt; $value))\nwhile $sth-&gt;fetchrow_arrayref;\n</code></pre>\n\n<p>but its far from what I would like to do. I know that i can be done by querying the DB for each individual column but that would be redundant. </p>\n\n<p>Is what I am asking here feasible?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["linux", "apache", "perl", "debian"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1501350563, "post_id": 45392108, "comment_id": 77745215, "body": "The error message tells you all the places perl is trying to look for the missing module. This list does not include <code>&#47;usr&#47;lib&#47;cgi-bin</code>. However, the script <code>install.cgi</code> does a <code>use lib &#39;.&#39;</code> indicating it wants to find modules in the directory it is currently in. This would work if you were to execute the install.cgi from <code>&#47;usr&#47;lib&#47;cgi-bin</code>."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1501350613, "post_id": 45392108, "comment_id": 77745227, "body": "I would try and install it properly like the other required modules, so it ends up in a path that is found, instead."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1501352211, "creation_date": 1501352211, "answer_id": 45392556, "question_id": 45392108, "link": "https://stackoverflow.com/questions/45392108/perl-error-cant-locate-xfileconfig-pm-in-inc-xfilesharing-2-5/45392556#45392556", "title": "Perl error: Can&#39;t locate XFileConfig.pm in @INC XFileSharing 2.5", "body": "<p>The script is buggy. It incorrectly assumes the current directory is set to the directory in which the script resides. To fix this, replace</p>\n\n<pre><code>use lib '.';\n</code></pre>\n\n<p>with</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib $RealBin;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8392276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cde92fbdf4052b5d5e6156a8ab078619?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Z", "link": "https://stackoverflow.com/users/8392276/alexey-z"}, "is_accepted": false, "score": 2, "last_activity_date": 1501485321, "creation_date": 1501485321, "answer_id": 45409568, "question_id": 45392108, "link": "https://stackoverflow.com/questions/45392108/perl-error-cant-locate-xfileconfig-pm-in-inc-xfilesharing-2-5/45409568#45409568", "title": "Perl error: Can&#39;t locate XFileConfig.pm in @INC XFileSharing 2.5", "body": "<p>Most likely that's because you're running it with mod_perl handler. XFilesharing Pro must run under regular CGI environment. Try to disable mod_perl - that should solve your problem.</p>\n"}], "owner": {"reputation": 11, "user_id": 8082352, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TKzE71rWXcc/AAAAAAAAAAI/AAAAAAAAAJs/iXEnNlzOZSI/photo.jpg?sz=128", "display_name": "Ricardo Marques", "link": "https://stackoverflow.com/users/8082352/ricardo-marques"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501485321, "creation_date": 1501349464, "question_id": 45392108, "link": "https://stackoverflow.com/questions/45392108/perl-error-cant-locate-xfileconfig-pm-in-inc-xfilesharing-2-5", "title": "Perl error: Can&#39;t locate XFileConfig.pm in @INC XFileSharing 2.5", "body": "<p>I am trying to install <strong>XFileSharing 2.5.</strong></p>\n\n<p>I am using Debian 8 64bit </p>\n\n<p>I installed apache2, mod_perl, activated mod_rewrite etc..\nThe cgi-bin location is in : /usr/lib/cgi-bin (folder where perl scripts running)</p>\n\n<p>And i have the /var/www/html (folder with HTML files)</p>\n\n<p>I'm following these instructions:\n    <a href=\"https://pastebin.com/47vARv60\" rel=\"nofollow noreferrer\">https://pastebin.com/47vARv60</a></p>\n\n<p>I am on the \"2) Set install.cgi permissions to 755. Then open it in your browser (e.g. server.com/cgi-bin/install.cgi)\"\n Problems start here.</p>\n\n<pre><code>Internal Server Error\n\nThe server encountered an internal error or misconfiguration and was unable \nto complete your request.\n\nPlease contact the server administrator at webmaster@localhost to inform them \nof the time this error occurred, and the actions you performed just before \nthis error.\n\nMore information about this error may be available in the server error log.\n</code></pre>\n\n<p>So I went to apache logs to see what's going on.</p>\n\n<p><strong>And this is the error</strong> \"[Sat Jul 29 18:54:06.695645 2017] [:error] [pid 18153:tid 140636055983872] Can't locate XFileConfig.pm in @INC (you may need to install the XFileConfig module) (@INC contains: . /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.20.2 /usr/local/share/perl/5.20.2 /usr/lib/x86_64-linux-gnu/perl5/5.20 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.20 /usr/share/perl/5.20 /usr/local/lib/site_perl /etc/apache2) at /usr/lib/cgi-bin/install.cgi line 4.\\nBEGIN failed--compilation aborted at /usr/lib/cgi-bin/install.cgi line 4.\\n\"</p>\n\n<p>It seems that can not find the XFileConfig.pm but the file exist.</p>\n\n<pre><code>root@Server:~# updatedb\nroot@Server:~# locate XFileConfig.pm\n/usr/lib/cgi-bin/XFileConfig.pm\n</code></pre>\n\n<p>The file is in \"/usr/lib/cgi-bin/XFileConfig.pm\" \nThe install.cgi file is in /usr/lib/cgi-bin/install.cgi.</p>\n\n<p>Why seems cant find the file?? Here is the install.cgi code. \n<a href=\"https://pastebin.com/LHjcSEDK\" rel=\"nofollow noreferrer\">https://pastebin.com/LHjcSEDK</a></p>\n\n<p>I've spent hours and hours trying to figure it out.</p>\n\n<p>So I decided to come here to see if someone smarter than I could help me. </p>\n"}, {"tags": ["mysql", "shell", "perl", "awk", "alias"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501448386, "post_id": 45390889, "comment_id": 77769471, "body": "Tip: <code>-00</code> should be <code>-0777</code>. The former doesn&#39;t actually slurp; the latter does."}], "answers": [{"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 4, "last_activity_date": 1501342328, "creation_date": 1501342328, "answer_id": 45390974, "question_id": 45390889, "link": "https://stackoverflow.com/questions/45390889/command-does-not-work-as-alias/45390974#45390974", "title": "Command does not work as alias", "body": "<p>Aliases are for simple commands like <code>alias lf='ls -F'</code>, for anything more complicated you should use functions:</p>\n\n<pre><code>function mysql_get_password2 {\n    awk -F'[= ]' '/^password=/ &amp;&amp; p !~ /clientreadonly/{print $2} {p=$0}' ~/.my.cnf\n}\n</code></pre>\n\n<p>Not all shells support hyphens in function or alias names btw so they're best avoided for portability - see <a href=\"https://unix.stackexchange.com/questions/168221/are-there-problems-with-hyphens-in-functions-aliases-and-executables\">https://unix.stackexchange.com/questions/168221/are-there-problems-with-hyphens-in-functions-aliases-and-executables</a></p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501448303, "post_id": 45391128, "comment_id": 77769445, "body": "Or use single quotes, replacing embedded single quotes worth <code>&#39;\\&#39;&#39;</code>"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 1, "last_activity_date": 1501343261, "creation_date": 1501343261, "answer_id": 45391128, "question_id": 45390889, "link": "https://stackoverflow.com/questions/45390889/command-does-not-work-as-alias/45391128#45391128", "title": "Command does not work as alias", "body": "<p>You have to escape the <code>$</code> because <code>$1</code> is interpreted by the shell:</p>\n\n<pre><code>alias mysql-get-password=\"perl -00 -ane '/\\[client\\].password=(\\S+)/s &amp;&amp; print \\$1' &lt; ~/.my.cnf\"\n#                                                                      here ___^\n</code></pre>\n"}], "owner": {"reputation": 1690, "user_id": 4602919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9c8081c1665f7277b43cf167af5ccf28?s=128&d=identicon&r=PG&f=1", "display_name": "Asara", "link": "https://stackoverflow.com/users/4602919/asara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 45391128, "answer_count": 2, "score": 1, "last_activity_date": 1501343367, "creation_date": 1501341743, "last_edit_date": 1501343367, "question_id": 45390889, "link": "https://stackoverflow.com/questions/45390889/command-does-not-work-as-alias", "title": "Command does not work as alias", "body": "<p>I have this two commands that work:</p>\n\n<pre><code>awk -F'[= ]' '/^password=/ &amp;&amp; p !~ /clientreadonly/{print $2} {p=$0}' ~/.my.cnf\nperl -00 -ane '/\\[client\\].password=(\\S+)/s &amp;&amp; print $1' &lt; ~/.my.cnf\n</code></pre>\n\n<p>they can grep pass2 from a .my.cnf like this:</p>\n\n<pre><code># longer\n# comment text\n\n[clientreadonly]\npassword=pass1 # comment\nport=3306\nuser=test_ro\nsocket=/var/lib/mysql/mysql.sock\n\n[client]\npassword=pass2 # comment\nport=3306\nuser=test\nsocket=/var/lib/mysql/mysql.sock\n</code></pre>\n\n<p>But if I make them as alias:</p>\n\n<pre><code>alias mysql-get-password=\"perl -00 -ane '/\\[client\\].password=(\\S+)/s &amp;&amp; print $1' &lt; ~/.my.cnf\"\nalias mysql-get-password2=\"awk -F'[= ]' '/^password=/ &amp;&amp; p !~ /clientreadonly/{print $2} {p=$0}' ~/.my.cnf\"\n</code></pre>\n\n<p>the perl one returns</p>\n\n<pre><code>[client]\npassword=pass2 # comment\nport=3306\nuser=test\nsocket=/var/lib/mysql/mysql.sock\n</code></pre>\n\n<p>and the awk variant returns</p>\n\n<pre><code>password=pass1 # comment\npassword=pass2 # comment\n</code></pre>\n\n<p>Why is the result so different as alias? When I use the commands directly in shell, I get just <code>pass2</code></p>\n"}, {"tags": ["perl", "loops", "counter"], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": true, "score": 1, "last_activity_date": 1501338551, "creation_date": 1501338551, "answer_id": 45390387, "question_id": 45390249, "link": "https://stackoverflow.com/questions/45390249/perl-set-counter-to-match-in-loop/45390387#45390387", "title": "Perl set counter to match in loop", "body": "<p>If you only want to increment unless some condition is met,\nyou should mention that in your code.</p>\n\n<p>Using the postfix <code>foo() unless condition();</code> syntax means the condition will only refer to the previous statement, not the entire scope ( which would arguably be insane to parse ).</p>\n\n<p>So <code>print '...' unless $foo</code> is the same as <code>unless( $foo ){ print '...'; }</code>.</p>\n\n<p>Thus, if you want to include more than one statement in your unless condition, you need to use curly braces: <code>unless ( $foo ) { # as many lines as desired }</code></p>\n\n<p>If I understood your question correctly, you want to do:</p>\n\n<pre><code>unless ( $justone{$1}++ ){\n    $count++;\n    print \"Number:$count Your TLD $1!\\n\"\n}\n</code></pre>\n\n<p>This will increment only if the condition was met, and lead to the desired output. I would suggest to use a named variable for what you've captured in $1 to make it more readable, though.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1501359575, "creation_date": 1501359575, "answer_id": 45393677, "question_id": 45390249, "link": "https://stackoverflow.com/questions/45390249/perl-set-counter-to-match-in-loop/45393677#45393677", "title": "Perl set counter to match in loop", "body": "<p>The problem is that <code>$count++</code> should only be done once per domain like the <code>print</code>, which means you could simply move <code>$count++</code> into the <code>unless</code>'s body.</p>\n\n<p>Alternatively, you could simplify your code by using</p>\n\n<pre><code>my %seen;\nmy @uniq_domains =\n   grep !$seen{$_}++,\n      map /Domain:\\s([a-z].+)/,\n         &lt;$in&gt;;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use List::Util qw( uniq );\n\nmy @uniq_domains =\n   uniq\n      map /Domain:\\s([a-z].+)/,\n         &lt;$in&gt;;\n</code></pre>\n\n<p>Then, the following outputs what you want:</p>\n\n<pre><code>say sprintf \"%d. %s\", $_+1, $uniq_domains[$_]\n   for 0..$#uniq_domains;\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 3185638, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e17f4bcc437d279c112a983046fd8730?s=128&d=identicon&r=PG&f=1", "display_name": "The nothing", "link": "https://stackoverflow.com/users/3185638/the-nothing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 45390387, "answer_count": 2, "score": -2, "last_activity_date": 1501359575, "creation_date": 1501337670, "last_edit_date": 1501340976, "question_id": 45390249, "link": "https://stackoverflow.com/questions/45390249/perl-set-counter-to-match-in-loop", "title": "Perl set counter to match in loop", "body": "<p>How can I set a <code>$counter++</code> to hash unless is <code>1</code>? in this code:</p>\n\n<pre><code>use strict;\n    use warnings;    \n\n    my @filestwo = glob(\"*.xml\");\n    my $result = @filestwo;          \n\n    my $count = 0;\n    my %justone;\n    foreach my $domain (@filestwo) {\n      open my $in, '&lt;', $domain or die \"Open fail on $domain $!\\n\";\n        my @linestwo = &lt;$in&gt;;        \n\n            for my $line (@linestwo) {\n\n                if($line =~ /Domain:\\s([a-z].+)/){\n                  $count++;\n                  print \"Number:$count Your TLD $1!\\n\" unless $justone{$1}++;\n                }                \n\n            }\n\n}\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>Number:1 Your TLD one.com!\nNumber:3 Your TLD three.com!\nNumber:5 Your TLD two.com!\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>Number:1 Your TLD one.com!\nNumber:2 Your TLD three.com!\nNumber:3 Your TLD two.com!\n</code></pre>\n\n<p>Explanation about the code:</p>\n\n<ul>\n<li>Open 3 files <code>.xml</code> (In every file exist duplicate pattern)</li>\n<li>Create a hash <code>%justone;</code></li>\n<li>Search from the array if the match the pattern: domain</li>\n<li>If match and in the next iteration match again the same pattern, just print 1 with <code>unless $justone{$1}++;</code></li>\n</ul>\n\n<p>My problem, I can't set a counter just for the match relation unless hash.</p>\n"}, {"tags": ["database", "perl", "bioinformatics", "bioperl"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1501326832, "post_id": 45388493, "comment_id": 77737773, "body": "This will not compile. Please post enough code that it can be run without fixing syntax errors, unless those are part of the question. This creates additional work for anyone trying to help you! Also, please do put <code>use strict;</code> and <code>use warnings;</code> at the beginning of the file."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 2, "creation_date": 1501328086, "post_id": 45388493, "comment_id": 77738160, "body": "Well I&#39;ve posted an answer. If it&#39;s not useful, please try and explain what you&#39;re looking for in more detail. This is a perl forum, and I for one am not a geneticist ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1501338414, "post_id": 45388493, "comment_id": 77741265, "body": "@MTG: Please don&#39;t edit your question so as to make nonsense of any answers or comments that have already been posted. I have restored your malformed Perl code and added your new code as an update."}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": true, "score": 1, "last_activity_date": 1501338176, "last_edit_date": 1501338176, "creation_date": 1501327976, "answer_id": 45388782, "question_id": 45388493, "link": "https://stackoverflow.com/questions/45388493/how-can-i-print-the-first-result-of-a-search-sequence-for-each-iteration/45388782#45388782", "title": "How can I print the first result of a search sequence for each iteration?", "body": "<p>The main problem I see with your snippet is that it does not compile.\nPut <code>use strict; use warnings;</code> at the beginning of all your perl programs.\nThis will alert you to syntax errors.</p>\n\n<p>I do not know much about biology, however, you are iterating over sequence objects, but then making a rather strange call with <code>$seq_obj-&gt;seq[,'\\n'</code></p>\n\n<p>First of all, to call a function, use <code>()</code>, not <code>[]</code>, <code>[]</code> indicates a reference to an array. Secondly, <code>seq</code> seems to be used to set or get a sequence value, and I do not see how <code>'\\n'</code> would be a valid value.</p>\n\n<p>So </p>\n\n<pre><code>while ($seq_obj = $stream_obj-&gt;next_seq) {\n    print join(' ', $seq_obj-&gt;display_id, $seq_obj-&gt;desc).\"\\n\"; # or use 'say'\n    print $seq_obj-&gt;seq() . \"\\n\";\n}\n</code></pre>\n\n<p>should print all sequences. To get just the first, simply don't iterate through all results ( That's how I understood your question ):</p>\n\n<p>replace the while (){} with:</p>\n\n<pre><code>my $first_seq_obj = $stream_obj-&gt;next_seq;\nprint join(' ', $first_seq_obj-&gt;display_id, $first_seq_obj-&gt;desc).\"\\n\"; # or use 'say'\nprint $first_seq_obj-&gt;seq() . \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 7117483, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/be17c7d01f5c08d2de9b7763bf33fa25?s=128&d=identicon&r=PG", "display_name": "MTG", "link": "https://stackoverflow.com/users/7117483/mtg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 45388782, "answer_count": 1, "score": -3, "last_activity_date": 1501338329, "creation_date": 1501326099, "last_edit_date": 1501338329, "question_id": 45388493, "link": "https://stackoverflow.com/questions/45388493/how-can-i-print-the-first-result-of-a-search-sequence-for-each-iteration", "title": "How can I print the first result of a search sequence for each iteration?", "body": "<p>How can I print the first occurrence of a protein sequence? For this query I get four results and I want only the first.</p>\n\n<pre><code>use Bio::DB::GenBank;\nuse Bio::DB::Query::GenBank;\n\n$query     = \"LEGK\";\n$query_obj = Bio::DB::Query::GenBank-&gt;new(\n    -db    =&gt; 'protein',\n    -query =&gt; $query\n);\n\n$gb_obj = Bio::DB::GenBank-&gt;new;\n\n$stream_obj = $gb_obj-&gt;get_Stream_by_query( $query_obj );\n\nwhile ( $seq_obj = $stream_obj-&gt;next_seq ) {\n\n    # do something with the sequence object\n    print\n        \"&gt;$query\", ' ',\n        $seq_obj-&gt;display_id, ' ',\n        $seq_obj-&gt;desc, \"\\n\",\n        $seq_obj-&gt;seq[, '\\n';\n</code></pre>\n\n<p>That <code>while</code> loop should look like this</p>\n\n<pre><code>while ( $seq_obj = $stream_obj-&gt;next_seq ) {\n\n    # do something with the sequence object\n    print $seq_obj-&gt;display_id, \"\\t\", $seq_obj-&gt;length, \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["regex", "bash", "perl", "replace", "quoting"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6292602, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753128698232164/picture?type=large", "display_name": "Min Gu Kang", "link": "https://stackoverflow.com/users/6292602/min-gu-kang"}, "edited": false, "score": 1, "creation_date": 1501324326, "post_id": 45387760, "comment_id": 77737039, "body": "Thanks so much! That solved my problem. I can&#39;t believe I made that stupid mistake lol"}], "tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": true, "score": 3, "last_activity_date": 1501321594, "last_edit_date": 1501321594, "creation_date": 1501321291, "answer_id": 45387760, "question_id": 45387730, "link": "https://stackoverflow.com/questions/45387730/bash-find-and-replace-string/45387760#45387760", "title": "Bash find and replace string", "body": "<p>Your variables are not expanded between single quotes. Use double quotes instead:</p>\n\n<pre><code>sudo perl -pi -e \"s/${oldIP}/${newIP}/g\" /etc/nginx/conf.d/${oldIP}.conf\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6292602, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753128698232164/picture?type=large", "display_name": "Min Gu Kang", "link": "https://stackoverflow.com/users/6292602/min-gu-kang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 45387760, "answer_count": 1, "score": 0, "last_activity_date": 1501321828, "creation_date": 1501321091, "last_edit_date": 1501321828, "question_id": 45387730, "link": "https://stackoverflow.com/questions/45387730/bash-find-and-replace-string", "title": "Bash find and replace string", "body": "<p>I am writing a code that will change the IP of VestaCP panel automatically.\nI need the code to replace the variable $oldIP with a new variable $newIP, so I wrote this piece of code.</p>\n\n<pre><code>sudo perl -pi -e 's/${oldIP}/${newIP}/g' /etc/nginx/conf.d/${oldIP}.conf\n</code></pre>\n\n<p>But the code doesn't replace the oldIP from oldIP.conf (123.123.123.123.conf).</p>\n\n<p>However, if I try</p>\n\n<pre><code>sudo perl -pi -e 's/123.123.123.123/123.456.123.456/g' /etc/nginx/conf.d/123.123.123.123.conf\n</code></pre>\n\n<p>It works flawlessly, although I can't use this code since ever servers have a different IP and I can't predict the next IP when it changes.</p>\n\n<p>What am I doing wrong here? Any solutions? Thanks in advance!</p>\n\n<p>P.S. If it helps to know, I am on Ubuntu 16.04.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1501288192, "post_id": 45384062, "comment_id": 77729391, "body": "&quot;It didn&#39;t work&quot; is not a good description of the problem."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1501289071, "creation_date": 1501289071, "answer_id": 45384151, "question_id": 45384062, "link": "https://stackoverflow.com/questions/45384062/uncomment-line-in-script/45384151#45384151", "title": "uncomment line in script", "body": "<p><code>(</code> and <code>)</code> are regex meta characters, they have special meaning; <a href=\"http://perldoc.perl.org/perlretut.html#Grouping-things-and-hierarchical-matching\" rel=\"nofollow noreferrer\">they mean to capture what's inside it</a>.</p>\n\n<p><code>/# %wheel ALL=(ALL) NOPASSWD: ALL/</code> will not match <code># %wheel ALL=(ALL) NOPASSWD: ALL</code>. It will match <code># %wheel ALL=ALL NOPASSWD: ALL</code> (note the lack of parens) and capture <code>ALL</code> in <code>$1</code>.</p>\n\n<p>You can either escape any special metacharacters with <code>\\</code> like <code>/# %wheel ALL=\\(ALL\\) NOPASSWD: ALL/</code> or you can declare that everything is to be taken literally between <code>\\Q</code> and <code>\\E</code>. <code>/\\Q# %wheel ALL=(ALL) NOPASSWD: ALL\\E/</code></p>\n"}], "owner": {"reputation": 27, "user_id": 8292914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5373febe0697b3bbe4e5da431ba7e549?s=128&d=identicon&r=PG&f=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/8292914/albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1501289094, "creation_date": 1501288022, "last_edit_date": 1501289094, "question_id": 45384062, "link": "https://stackoverflow.com/questions/45384062/uncomment-line-in-script", "title": "uncomment line in script", "body": "<p>I want to uncomment a line using a bash script. Usually I use a perl command to replace text, but in this case this doesn't work:</p>\n\n<pre><code>perl -pi -e \"s[# %wheel ALL=(ALL) NOPASSWD: ALL][%wheel ALL=(ALL) NOPASSWD: ALL]g\" /mnt/etc/sudoers\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1501286857, "post_id": 45383944, "comment_id": 77729165, "body": "Great! You have a problem statement. What have you tried so far, and how is it not working?"}, {"owner": {"reputation": 39, "user_id": 8384379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7544534701a6fd215a2b641b9d2cd2f2?s=128&d=identicon&r=PG&f=1", "display_name": "Yeshwanath", "link": "https://stackoverflow.com/users/8384379/yeshwanath"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501287311, "post_id": 45383944, "comment_id": 77729255, "body": "I have tried following but it&#39;s not replacing it in a file.My requirement is to edit the strings in a file"}, {"owner": {"reputation": 39, "user_id": 8384379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7544534701a6fd215a2b641b9d2cd2f2?s=128&d=identicon&r=PG&f=1", "display_name": "Yeshwanath", "link": "https://stackoverflow.com/users/8384379/yeshwanath"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501287316, "post_id": 45383944, "comment_id": 77729257, "body": "sed -e &#39;/./{H;$!d;}&#39; -e &#39;x;/DataGuardDatadgSpace/!d;&#39; test.shee | sed &#39;/hostgroups/s/\\S*$/REPLACED/g&#39;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1501287399, "post_id": 45383944, "comment_id": 77729275, "body": "You should <a href=\"https://stackoverflow.com/posts/45383944/edit\">edit</a> your post and include that as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1501341424, "post_id": 45383944, "comment_id": 77742270, "body": "sed is for simple substitutions on individual lines, <b>that is all</b>. What you are trying to do is not that so you should not be considering sed. An awk script would be far simpler, clearer, more maintainable and almost certainly more robust, efficient, and portable too. You&#39;ve already accepted a sed answer so I doubt if anyone will now bother to post an awk answer since you may not bother to even read it but If you post a followup question I&#39;m sure someone will be able to help you with that."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8384379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7544534701a6fd215a2b641b9d2cd2f2?s=128&d=identicon&r=PG&f=1", "display_name": "Yeshwanath", "link": "https://stackoverflow.com/users/8384379/yeshwanath"}, "edited": false, "score": 2, "creation_date": 1501299417, "post_id": 45384785, "comment_id": 77731120, "body": "Thank you so much.It helped to fix the issues,"}], "tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": true, "score": 3, "last_activity_date": 1501297780, "last_edit_date": 1501297780, "creation_date": 1501297153, "answer_id": 45384785, "question_id": 45383944, "link": "https://stackoverflow.com/questions/45383944/match-the-string-to-find-the-braces-match-another-string-with-in-the-braces/45384785#45384785", "title": "match the string to find the braces &amp; match another string with in the braces &amp; replace it", "body": "<p>I suppose that hostgroup value should be <code>SERVER-DATABASE</code> and not <code>SERVER--DATABASE</code> in your sample code. If so, you can try this sed:</p>\n\n<pre><code>sed '/{/{:a;N;/}/!ba;/DataGuardDatadgSpace/s/\\(.*hostgroups[[:space:]]*\\)SERVER-DATABASE/\\1SERVER-NODE1-DATABASE/;}' file\n</code></pre>\n\n<p>All lines between <code>{</code> and <code>}</code> are merged in the pattern space. If <code>DataGuardDatadgSpace</code> is found in the block, <code>SERVER-DATABASE</code> value in <code>hostgroups</code> is replaced with <code>SERVER- NODE1-DATABASE</code>.</p>\n\n<p>Add the <code>-i</code> flag to edit the file in place:</p>\n\n<pre><code>sed -i '/{/{:a;N;/}/!ba;/DataGuardDatadgSpace/s/\\(.*hostgroups[[:space:]]*\\)SERVER-DATABASE/\\1SERVER-NODE1-DATABASE/;}' file\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8384379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7544534701a6fd215a2b641b9d2cd2f2?s=128&d=identicon&r=PG&f=1", "display_name": "Yeshwanath", "link": "https://stackoverflow.com/users/8384379/yeshwanath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 45384785, "answer_count": 1, "score": 1, "last_activity_date": 1501298908, "creation_date": 1501286710, "last_edit_date": 1501298908, "question_id": 45383944, "link": "https://stackoverflow.com/questions/45383944/match-the-string-to-find-the-braces-match-another-string-with-in-the-braces", "title": "match the string to find the braces &amp; match another string with in the braces &amp; replace it", "body": "<p>We would like to match the string DataGuardDatadgSpace &amp; find the hostgroups string within the flower brackets &amp; replace the string SERVER-DATABASE with SERVER-NODE1-DATABASE in the line matching the hostgroups.it shouldn't affect the servicegroups line which matches the string or remaining code.</p>\n\n<p>I would like to edit this code in a file. I have tried the below option</p>\n\n<pre><code>sed -e '/./{H;$!d;}' -e 'x;/DataGuardDatadgSpace/!d;' test.shee \n    | sed '/hostgroups/s/\\S*$/REPLACED/g'\n</code></pre>\n\n<p>but it's not working for the file</p>\n\n<pre>\ndefine service {\n\u00a0 \u00a0 use \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 generic-pasv-svc\n\u00a0 \u00a0 name \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0SERVER-DATABASE-ArchdgSpace\n\u00a0 \u00a0 service_description \u00a0 \u00a0 DataGuardArchdgSpace\n\u00a0 \u00a0 hostgroups \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0SERVER-DATABASE,xDB\n\u00a0 \u00a0 servicegroups \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PASV,SERVER-stack,SERVER-DATABASE\n\u00a0 \u00a0 max_check_attempts \u00a0 \u00a0 \u00a03\n\u00a0 \u00a0 check_command \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 check_dummy!2!\"Passive check is stale\"\n\u00a0 \u00a0 contact_groups \u00a0 \u00a0 \u00a0 \u00a0 \u00a0po\n\u00a0 \u00a0 check_freshness \u00a0 \u00a0 \u00a0 \u00a0 1\n\u00a0 \u00a0 freshness_threshold \u00a0 \u00a0 180\n\u00a0 \u00a0 register \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a01\n}\n\ndefine service {\n\u00a0 \u00a0 use \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 generic-pasv-svc\n\u00a0 \u00a0 name \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0SERVER-DATABASE-DatadgSpace\n\u00a0 \u00a0 service_description \u00a0 \u00a0 DataGuardDatadgSpace\n\u00a0 \u00a0 servicegroups \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PASV,SERVER-stack,SERVER-DATABASE\n\u00a0 \u00a0 max_check_attempts \u00a0 \u00a0 \u00a03\n\u00a0 \u00a0 check_command \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 check_dummy!2!\"Passive check is stale\"\n\u00a0 \u00a0 contact_groups \u00a0 \u00a0 \u00a0 \u00a0 \u00a0po\n   hostgroups \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0SERVER-DATABASE,xDB\n\u00a0 \u00a0 check_freshness \u00a0 \u00a0 \u00a0 \u00a0 1\n\u00a0 \u00a0 freshness_threshold \u00a0 \u00a0 180\n\u00a0 \u00a0 register \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a01\n}\n\ndefine service{\n\u00a0 \u00a0 \u00a0 \u00a0 use \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 generic-pasv-svc\n\u00a0 \u00a0 \u00a0 \u00a0 name \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0ORA_DATABASE_HangDetect_DefunctProcess\n\u00a0 \u00a0 \u00a0 \u00a0 service_description \u00a0 \u00a0 ORA_HangDetect_DefunctProcess\n\u00a0 \u00a0 \u00a0 \u00a0 hostgroups \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0SERVER-DATABASE\n\u00a0 \u00a0 \u00a0 \u00a0 servicegroups \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PASV\n\u00a0 \u00a0 \u00a0 \u00a0 check_command \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 check_dummy!3!\"Passive service check is stale, check the Ora HangDetect Script is running or not\"\n\u00a0 \u00a0 \u00a0 \u00a0 freshness_threshold \u00a0 \u00a0 600\n\u00a0 \u00a0 \u00a0 \u00a0 contact_groups \u00a0 \u00a0 \u00a0 \u00a0 \u00a0po\n\u00a0 \u00a0 \u00a0 \u00a0 max_check_attempts \u00a0 \u00a0 \u00a02\n\u00a0 \u00a0 \u00a0 \u00a0 normal_check_interval \u00a0 5\n\u00a0 \u00a0 \u00a0 \u00a0 retry_check_interval \u00a0 \u00a01\n\u00a0 \u00a0 \u00a0 \u00a0 register \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a01\n}\n</pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1501278514, "post_id": 45382847, "comment_id": 77727031, "body": "Anything that you tried, and why it doesn&#39;t work?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501283397, "post_id": 45382847, "comment_id": 77728466, "body": "The fact that the values are in an array is meaningless"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1501300465, "last_edit_date": 1501300465, "creation_date": 1501283559, "answer_id": 45383610, "question_id": 45382847, "link": "https://stackoverflow.com/questions/45382847/how-to-replace-a-value-in-an-arrays-element-with-another-element-from-the-same/45383610#45383610", "title": "How to replace a value in an array&#39;s element with another element from the same array?", "body": "<pre><code>my %repl = (\n   HOSTGROUP =&gt; $row[3],\n   TOOLNAME  =&gt; $row[4],\n   VERSION   =&gt; $row[5],\n);\n\nmy $pat = join '|', map quotemeta, keys %repl;\nmy $re = qr/\\$($pat)\\b/;\n\n$row[0] =~ s/$re/$repl{$1}/g;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my %repl = (\n   HOSTGROUP =&gt; $row[3],\n   TOOLNAME  =&gt; $row[4],\n   VERSION   =&gt; $row[5],\n);\n\n$row[0] =~ s{(\\$(\\w+))}{\n   if (exists($repl{$2})) {\n      $repl{$2}\n   } else {\n      warn(\"Unrecognized var $2\\n\");\n      $1\n   }\n}eg;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 7611688, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/575079da403f0c1cf947d5a5daf22779?s=128&d=identicon&r=PG&f=1", "display_name": "B. Juice", "link": "https://stackoverflow.com/users/7611688/b-juice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1501300465, "creation_date": 1501278226, "question_id": 45382847, "link": "https://stackoverflow.com/questions/45382847/how-to-replace-a-value-in-an-arrays-element-with-another-element-from-the-same", "title": "How to replace a value in an array&#39;s element with another element from the same array?", "body": "<p>I have an element in an array, called $row[0], that contains this absolute pathname:</p>\n\n<pre><code>/home/&lt;username&gt;/puppet/config/files/$HOSTGROUP/$TOOLNAME/$VERSION\n</code></pre>\n\n<p>I'd like to replace each of the three variables listed in that path with three matching elements that are part of the same array...</p>\n\n<pre><code>$row[3]      (represents $HOSTGROUP)\n$row[4]      (represents $TOOLNAME)\n$row[5]      (represents $VERSION)\n</code></pre>\n\n<p>How can I do this in a Perl script?</p>\n"}, {"tags": ["regex", "perl", "colors", "grep"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1501278481, "post_id": 45382795, "comment_id": 77727024, "body": "Try <code>bbb|ccc</code>. What does <code>#</code> and BOS anchor <code>^</code> have to do with it ?"}, {"owner": {"reputation": 439, "user_id": 2693551, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/589060ef76425b441b2f35c966d8de22?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Vegter", "link": "https://stackoverflow.com/users/2693551/martin-vegter"}, "edited": false, "score": 0, "creation_date": 1501278771, "post_id": 45382795, "comment_id": 77727123, "body": "@sln - I don&#39;t want to colorize comments, thus the <code>#</code>. What do you mean &quot;try bbb|ccc&quot; ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1501278887, "post_id": 45382795, "comment_id": 77727161, "body": "I&#39;d imagine that <code>grep</code> colorizes only what it actually matches, not your regex used to match. (It is <code>ccc</code> here because <code>*</code> is greedy.)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1501279057, "post_id": 45382795, "comment_id": 77727226, "body": "Unless grep is not a line parser, it won&#39;t give you another match where the last one left off right ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501279194, "post_id": 45382795, "comment_id": 77727273, "body": "@sin Interestingly, adding <code>g</code> at the end makes it color <code>bbb</code>.  I&#39;d say it&#39;s because if <i>first</i> matches <code>ccc</code> (<code>*</code> being greedy) and then it goes on to match <code>bbb</code>."}], "answers": [{"tags": [], "owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "is_accepted": true, "score": 5, "last_activity_date": 1501288398, "last_edit_date": 1501288398, "creation_date": 1501283146, "answer_id": 45383556, "question_id": 45382795, "link": "https://stackoverflow.com/questions/45382795/colorize-string-using-grep-p/45383556#45383556", "title": "colorize string using grep -P", "body": "<p>Because your regex matches only one alternative: <a href=\"https://regex101.com/r/T4SZot/2\" rel=\"nofollow noreferrer\">From <code>^</code> start until <code>ccc</code></a>. But you want multiple matches. This could be achieved by chaining matches to start with use of <a href=\"https://stackoverflow.com/questions/14897949/what-is-the-use-of-g-anchor-in-regex\"><code>\\G</code> anchor</a>.</p>\n\n<p>Further it's needed to make the <code>[^#]*</code> <a href=\"https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions\">lazy</a> by attaching <code>?</code> for not skipping over a match.</p>\n\n<pre><code>echo aaa bbb ccc ddd eee | grep --color=always -P \"\\G[^#]*?\\K(?:bbb|ccc)\"\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eRjOZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eRjOZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>And the regex variant for multiline string.</p>\n\n<pre><code>(?:\\G|\\n)[^#]*?\\K(?:bbb|ccc)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/TjttL9/2\" rel=\"nofollow noreferrer\">See this demo at regex101</a></p>\n\n<hr>\n\n<p>A different approach can be the use of <a href=\"https://stackoverflow.com/questions/24534782/how-do-skip-or-f-work-on-regex\">pcre verbs <code>(*SKIP)(*F)</code></a> for skipping anything until eol from <code>#</code></p>\n\n<pre><code>#.*(*SKIP)(*F)|bbb|ccc\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/yeJiIs/1\" rel=\"nofollow noreferrer\">See another demo at regex101</a></p>\n"}, {"tags": [], "owner": {"reputation": 148, "user_id": 3788443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1534339750cdb1b7abc2220fe102a0a?s=128&d=identicon&r=PG&f=1", "display_name": "Boncrete", "link": "https://stackoverflow.com/users/3788443/boncrete"}, "is_accepted": false, "score": 1, "last_activity_date": 1501636945, "creation_date": 1501636945, "answer_id": 45449983, "question_id": 45382795, "link": "https://stackoverflow.com/questions/45382795/colorize-string-using-grep-p/45449983#45449983", "title": "colorize string using grep -P", "body": "<p>Another alternative is using a perl command to do the match for you.</p>\n\n<pre><code>echo \"aaa bbb ccc ddd eee fff\" | perl -ne'print if s/(bbb|eee)/\\e[1;35m$1\\e[0m/g'\n</code></pre>\n"}], "owner": {"reputation": 439, "user_id": 2693551, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/589060ef76425b441b2f35c966d8de22?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Vegter", "link": "https://stackoverflow.com/users/2693551/martin-vegter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 45383556, "answer_count": 2, "score": 2, "last_activity_date": 1501636945, "creation_date": 1501277986, "question_id": 45382795, "link": "https://stackoverflow.com/questions/45382795/colorize-string-using-grep-p", "title": "colorize string using grep -P", "body": "<p>I am using <code>grep</code> with <code>-P</code> (Perl regular expression) to colorize strings:</p>\n\n<pre><code>echo aaa bbb ccc ddd eee | grep --color=always -P \"^[^#]*\\K(bbb|ccc)|^\"\n</code></pre>\n\n<p>in the above example, I want to colorize the string <code>bbb</code> and <code>ccc</code>. However, grep only colorizes the last one (<code>ccc</code>).</p>\n\n<p>how can I modify my regular expression, so that both strings match and are colorized ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15161, "user_id": 1067003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3af2bd4b5604b0b661b5e6646544eba?s=128&d=identicon&r=PG", "display_name": "hanshenrik", "link": "https://stackoverflow.com/users/1067003/hanshenrik"}, "edited": false, "score": 3, "creation_date": 1501272673, "post_id": 45381246, "comment_id": 77724892, "body": "@hanshenrik: I don&#39;t see how that&#39;s helpful."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1501273387, "post_id": 45381246, "comment_id": 77725186, "body": "That should be part of debugging, and I think it gives a false sense of security to code such specific checks. Making sure that a given parameter is really, say, an array reference covers only a very small fraction of possible errors, and Perl will raise an exception of its own if you try to dereference something else as an array. By far the most common errors are largely undetectable, for instance your reference may refer to an an array with old data."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501273651, "post_id": 45381246, "comment_id": 77725297, "body": "It is rare to have code that can fail without making the whole run invalid, so it would be better to <code>die</code> with useful information than to let your program continue and just provide incorrect results. But no amount of type checking can provide the same protection as the most minimal test procedure. That is why the elaborate and verbose syntax of Java and C++ is based on a misconception. Perl is undeservedly infamous for many things, but being prone to faulty code isn&#39;t one of them even though it has only very basic type checking."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 4, "creation_date": 1501274103, "post_id": 45381246, "comment_id": 77725448, "body": "Note that the simple decision to <code>or</code> the return will make this <code>die</code> if the return is <code>0</code>, for instance.  I think that you meant this only as an example, but what if <code>0</code> (or empty string) <i>is</i> a valid return?  Then you&#39;d condition it on <code>defined</code>, so <code>func() &#47;&#47; die ...</code> I suppose.  But what if returing <code>undef</code> is a good solution for an invalid result?  Etc. It&#39;s a part of a bigger design decision, which in principle should take into account all of your code. There is no &quot;best practice.&quot;"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1501276570, "post_id": 45381246, "comment_id": 77726386, "body": "What&#39;s really important is having unit tests that test your edge cases on bad variables so that you are confident that if a user does send in incorrect data, you know exactly what the program will do in those cases."}], "answers": [{"comments": [{"owner": {"reputation": 15161, "user_id": 1067003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3af2bd4b5604b0b661b5e6646544eba?s=128&d=identicon&r=PG", "display_name": "hanshenrik", "link": "https://stackoverflow.com/users/1067003/hanshenrik"}, "edited": false, "score": 0, "creation_date": 1501277790, "post_id": 45381878, "comment_id": 77726811, "body": "can a <code>die</code> actually be caught and handled?  can you do something like try{die &#39;foo&#39;;}catch($ex){} ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 15161, "user_id": 1067003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3af2bd4b5604b0b661b5e6646544eba?s=128&d=identicon&r=PG", "display_name": "hanshenrik", "link": "https://stackoverflow.com/users/1067003/hanshenrik"}, "edited": false, "score": 0, "creation_date": 1501278073, "post_id": 45381878, "comment_id": 77726907, "body": "@hanshenrik  Oh yes, that is what makes it the (simple-minded)  exception handling mechanism in Perl.  It&#39;s caught with <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">eval</a> (its block form).  There are modules that wrap it and provide <code>try</code>-style syntax, and then yet others that go well beyond.  But it&#39;s all based on <code>die</code>-<code>eval</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 15161, "user_id": 1067003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3af2bd4b5604b0b661b5e6646544eba?s=128&d=identicon&r=PG", "display_name": "hanshenrik", "link": "https://stackoverflow.com/users/1067003/hanshenrik"}, "edited": false, "score": 0, "creation_date": 1501409559, "post_id": 45381878, "comment_id": 77757952, "body": "@JohnnyLoo I added a section with more direct comments on your questions"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1587104383, "last_edit_date": 1587104383, "creation_date": 1501273586, "answer_id": 45381878, "question_id": 45381246, "link": "https://stackoverflow.com/questions/45381246/perl-best-practices-in-dealing-with-invalid-data-passed-to-a-sub/45381878#45381878", "title": "Perl - best practices in dealing with invalid data passed to a sub", "body": "<p>This falls squarely under the question of how to deal with errors in subroutines in general.</p>\n\n<p>In principle, these are ways to handle errors in subroutines</p>\n\n<ul>\n<li><p>return codes, some of which indicate errors</p></li>\n<li><p>return \"special\" values, like <code>undef</code> in Perl</p></li>\n<li><p>throw exceptions, and a device for that in Perl is <code>die</code></p></li>\n</ul>\n\n<p>The caller either checks the return, or tests for <code>undef</code>, or uses <code>eval</code> to catch and handle the <code>die</code>. What is most suitable depends entirely on the context and on what the code does.</p>\n\n<p>I don't see much reason in modern languages to be restrained to \"codes\" (like negative values) that indicate errors.  For one thing, that either interferes will legitimate returns or it constrains them to go via pointer/reference, which is a big design decision.</p>\n\n<p>Returning <code>undef</code> is often a good middle-of-the-road approach, in particular in code that isn't overly complex. It indicates some \"failure\" of the sub to perform what it is meant to.  However, even in the smallest of subs <code>undef</code> may be suitable to indicate a <em>result</em> that isn't acceptable. Then if it is also used for bad input we have a problem of distinguishing between those failings.</p>\n\n<p>Throwing an exception, based in Perl on the simple <code>die</code>, adds more possibilities. In complex code you may well want to write (or use) an error-handling class that mimics exception handling support from languages that have it, and then throw that.</p>\n\n<pre><code>my $error_obj = ErrorHandlingClass-&gt;new( params );\n\n... or die $error_obj;\n</code></pre>\n\n<p>Then the calling code can analyze the object. This would be the most structured way to do it. </p>\n\n<p>A nice and simple example is <a href=\"http://search.cpan.org/~dagolden/Path-Tiny-0.104/lib/Path/Tiny.pm\" rel=\"nofollow noreferrer\">Path::Tiny</a>, with its own <code>Path::Tiny::Error</code> found in its <a href=\"http://cpansearch.perl.org/src/DAGOLDEN/Path-Tiny-0.104/lib/Path/Tiny.pm\" rel=\"nofollow noreferrer\">source</a>.</p>\n\n<p>Again, what is suitable in any one particular case depends on details of that application.</p>\n\n<hr>\n\n<p>A few comments on direct questions.</p>\n\n<p>The dilemma of what to return is stressed by the information-free message in <code>die</code> (it tells us nothing of what failed). But how do we make the failure  informative, in this case? </p>\n\n<p>Note that your <code>or</code> results in a <code>die</code> if the sub returns <code>0</code> or an empty string. If we replace it with <code>//</code> (defined-or), so to <code>die</code> on <code>undef</code>, we still can't print a specific message if <code>undef</code> may also indicate a bad result. </p>\n\n<p>So in this case you may want the function to <code>die</code> on bad input, with a suitable message.</p>\n\n<p>That would do it for debugging after there's been a problem. If the code needs to be able to <em>recover</em> then you'd better return more structured information -- throw (or return) an object of an error handling class you'd write. (As an ad hoc stop-gap measure you can parse the message from <code>die</code>.)</p>\n\n<p>As for the age-old question of discipline to check returns, a <code>die</code> is a good tool. There is no \"<em>simple sub</em>\" that is unworthy &ndash; you do not want to proceed with an error so it's OK to <code>die</code>. And in complex projects error handling is more complex, so we need <em>more</em> tools and structure, not less. </p>\n\n<p>Recall that exceptions \"bubble up\", propagate up the call stack if unhandled, and so does <code>die</code>.  This can be used nicely for debugging without having <code>eval</code> on every single call.  In the end, most of this is a part of debugging.</p>\n\n<p>There is no \"best practice\" for this. But a default of <code>die</code>-ing is rather reasonable.</p>\n"}], "owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 45381878, "answer_count": 1, "score": 1, "last_activity_date": 1587104383, "creation_date": 1501270929, "last_edit_date": 1510807738, "question_id": 45381246, "link": "https://stackoverflow.com/questions/45381246/perl-best-practices-in-dealing-with-invalid-data-passed-to-a-sub", "title": "Perl - best practices in dealing with invalid data passed to a sub", "body": "<p>What is best practice in Perl when data is passed incorrectly to a subroutine? Should the sub die or just return?</p>\n\n<p>Here is what I usually do</p>\n\n<pre><code>my @text = ('line 1', 'line 2');\n\nprint_text(\\@text) \n   or die \"ERROR: something went wrong in the sub\";\n\nsub print_text{\n   my ($aref_text) = @_;\n   return unless ref($aref_text) eq \"ARRAY\";\n   print \"$_\\n\" for @{$aref_text};\n   return 1;\n}\n</code></pre>\n\n<p>Here the sub just returns if the passed input is invalid and it expects the caller to check for errors as it does here. I wonder if it is always a better practice to just \"die\" at the sub level. In big scripts, I'm afraid of doing that because I don't want to kill the entire script just because some simple sub fails.</p>\n\n<p>On the other hand, I'm afraid of just returning because if the caller forgets to check if the sub returns true, then the script will keep going and weird stuff could happen.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "centos7"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1501256736, "post_id": 45377100, "comment_id": 77716631, "body": "<i>&quot;error: C++ style comments are not allowed in ISO C90&quot;</i> : Try remove the <code>-std=c89</code> option (or use <code>-std=c99</code> instead). See <a href=\"https://gcc.gnu.org/onlinedocs/gcc/C-Dialect-Options.html\" rel=\"nofollow noreferrer\">gcc options controlling C dialect</a> and <a href=\"https://stackoverflow.com/q/2223541/2173773\">Why can&#39;t I use //-style comments in my C code?</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1501257747, "post_id": 45377100, "comment_id": 77717226, "body": "You can try alter C compiler switches by passing them with the <code>-A</code> switch to <code>Configure</code>. For example:  <code>.&#47;Configure -des -Accflags=-std=c99 [...]</code>"}, {"owner": {"reputation": 109, "user_id": 4792074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710299228242f3f7bc50f01d61458eea?s=128&d=identicon&r=PG&f=1", "display_name": "julio514", "link": "https://stackoverflow.com/users/4792074/julio514"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1501258681, "post_id": 45377100, "comment_id": 77717777, "body": "However, when I add the <code>-Accflags=-std=c99</code>, it generates the following command: <code>gcc -c -DPERL_CORE -D_REENTRANT -D_GNU_SOURCE -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D_FORTIFY_SOURCE=2 -std=c99 -std=c89 -O2 -Wall -Werror=declaration-after-statement -Wextra -Wc++-compat -Wwrite-strings generate_uudmap.c</code> So basically <code>-std=c99</code> and <code>-std=c89</code> and generates the same error msg."}, {"owner": {"reputation": 109, "user_id": 4792074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710299228242f3f7bc50f01d61458eea?s=128&d=identicon&r=PG&f=1", "display_name": "julio514", "link": "https://stackoverflow.com/users/4792074/julio514"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1501262734, "post_id": 45377100, "comment_id": 77719908, "body": "Okay it works now! :D. After the error thrown by Configure, I went into the <code>sflags</code> file and commented line #13: <code>stdflags=&quot; -std=c89&quot;</code> Many thanks @H&#229;kon H&#230;gland -much appreciated!"}], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 4792074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710299228242f3f7bc50f01d61458eea?s=128&d=identicon&r=PG&f=1", "display_name": "julio514", "link": "https://stackoverflow.com/users/4792074/julio514"}, "is_accepted": true, "score": 1, "last_activity_date": 1501262829, "creation_date": 1501262829, "answer_id": 45379233, "question_id": 45377100, "link": "https://stackoverflow.com/questions/45377100/error-generate-uudmap-o-during-perl-5-26-0-installation/45379233#45379233", "title": "Error (generate_uudmap.o) during Perl 5.26.0 installation", "body": "<p>Okay it works now! :D. After the error thrown by Configure, I went into the <code>sflags</code> file and commented line #13: <code>stdflags=\" -std=c89\"</code> I ran <code>make</code> again and then <code>make install</code></p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 8685968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f549e6be3d8cf2a8c227f3571758de?s=128&d=identicon&r=PG&f=1", "display_name": "Mario A Bianchet", "link": "https://stackoverflow.com/users/8685968/mario-a-bianchet"}, "is_accepted": false, "score": 0, "last_activity_date": 1585239630, "last_edit_date": 1585239630, "creation_date": 1585237289, "answer_id": 60870921, "question_id": 45377100, "link": "https://stackoverflow.com/questions/45377100/error-generate-uudmap-o-during-perl-5-26-0-installation/60870921#60870921", "title": "Error (generate_uudmap.o) during Perl 5.26.0 installation", "body": "<p>In Centos 7 Perl version 5.30.2 change to <code>c99</code> the line <code>stdflags=\" -std=c89\"</code>\nin the cflags file for:</p>\n\n<p>Oldline</p>\n\n<pre><code>stdflags=\" -std=c89\"\n</code></pre>\n\n<p>Newline</p>\n\n<pre><code>stdflags=\" -std=c99\"\n</code></pre>\n\n<p>And make install (no <code>./Configure -des -Dprefix=...</code>)</p>\n"}], "owner": {"reputation": 109, "user_id": 4792074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710299228242f3f7bc50f01d61458eea?s=128&d=identicon&r=PG&f=1", "display_name": "julio514", "link": "https://stackoverflow.com/users/4792074/julio514"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 45379233, "answer_count": 2, "score": 1, "last_activity_date": 1585239630, "creation_date": 1501255160, "last_edit_date": 1516478324, "question_id": 45377100, "link": "https://stackoverflow.com/questions/45377100/error-generate-uudmap-o-during-perl-5-26-0-installation", "title": "Error (generate_uudmap.o) during Perl 5.26.0 installation", "body": "<p>I'm trying to install Perl 5.26.0 on a CentOS 7 system where I do not have root access. I installed that version of Perl with no problem on another CentOS 6 system. Here is the configure command I executed:</p>\n\n<pre><code>./Configure -des -Dusethreads -Dprefix=$INSTALL_PATH/$SOFTWARE-$VERSION\n</code></pre>\n\n<p>And here is the error I obtain:</p>\n\n<pre><code>gcc -c -DPERL_CORE -D_REENTRANT -D_GNU_SOURCE -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D_FORTIFY_SOURCE=2 -std=c89 -O2 -Wall -Werror=declaration-after-statement -Wextra -Wc++-compat -Wwrite-strings generate_uudmap.c\nIn file included from /path/to/include/string.h:635:0,\n                 from generate_uudmap.c:10:\n/path/to/include/bits/string3.h:129:1: error: C++ style comments are not allowed in ISO C90\n // XXX We have no corresponding builtin yet.\n ^\n/path/to/include/bits/string3.h:129:1: error: (this will be reported only once per input file)\nmake: *** [Makefile:250: generate_uudmap.o] Error 1\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1501259099, "post_id": 45376119, "comment_id": 77718007, "body": "<a href=\"http://metacpan.org/pod/perlfunc#ref\" rel=\"nofollow noreferrer\"><code>perldoc -f ref</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 0, "creation_date": 1553685477, "post_id": 45376361, "comment_id": 97473825, "body": "however, the last suggested solution will be a problem if class name would be <code>0</code>, see <a href=\"https://perldoc.perl.org/Scalar/Util.html#blessed\" rel=\"nofollow noreferrer\">perldoc.perl.org/Scalar/Util.html#blessed</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 1, "creation_date": 1553685936, "post_id": 45376361, "comment_id": 97474092, "body": "@vanHoesel: If you use &quot;0&quot; as a class name, then you deserve everything you get :-)"}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 1, "creation_date": 1553686327, "post_id": 45376361, "comment_id": 97474330, "body": "I think I just stumbled on a issue in the docs for <code>UNIVERSAL</code> where it does show the bad example code for <code>isa</code>. Luckily in <code>Scalar::Util</code> is is explained correctly: <code>defined blessed($thing) and $thing-&gt;isa(TYPE)</code>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 8, "last_activity_date": 1501253073, "creation_date": 1501253073, "answer_id": 45376361, "question_id": 45376119, "link": "https://stackoverflow.com/questions/45376119/perl-is-object-instance-of-class/45376361#45376361", "title": "Perl - is object instance of class?", "body": "<p>The <code>blessed()</code> subroutine from <a href=\"https://metacpan.org/pod/Scalar::Util\" rel=\"noreferrer\">Scalar::Util</a> returns the name of the class that an object belongs to.</p>\n\n<pre><code>say blessed $exp; # prints \"Example\"\n</code></pre>\n\n<p>For your test, you would use something like:</p>\n\n<pre><code>if (blessed $exp eq 'Example') { ...}\n</code></pre>\n\n<p>If subclassing is likely to be an issue, then use <code>isa()</code> instead.</p>\n\n<pre><code>if ($exp-&gt;isa('Example')} { ... }\n</code></pre>\n\n<p>But that throws an error if <code>$exp</code> isn't an object, so protect the call by calling <code>blessed()</code> first.</p>\n\n<pre><code>if (blessed($exp) and $exp-&gt;isa('Example')) { ... }\n</code></pre>\n\n<p><code>isa()</code> is a method on the <a href=\"https://metacpan.org/pod/UNIVERSAL\" rel=\"noreferrer\">UNIVERSAL</a> class and every class is a subclass of UNIVERSAL, so every object has the <code>isa()</code> method.</p>\n"}], "owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1279, "favorite_count": 1, "accepted_answer_id": 45376361, "answer_count": 1, "score": 1, "last_activity_date": 1501253073, "creation_date": 1501252357, "last_edit_date": 1501252945, "question_id": 45376119, "link": "https://stackoverflow.com/questions/45376119/perl-is-object-instance-of-class", "title": "Perl - is object instance of class?", "body": "<p>Is there a way to check whether an object is an instance of a class? An object would be an instance of a class if it has been blessed by the class:</p>\n\n<pre><code>package Example;\n\nsub new {\n    $self = {};\n    bless($self, shift);\n    return $self;\n}\n\n############\n\nuse Example;\n$exp = Example-&gt;new(); # $exp is now an 'instance' of Example\n# something like instanceof($exp, Example) would return 1\n</code></pre>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 5, "creation_date": 1501250131, "post_id": 45374759, "comment_id": 77711910, "body": "You don&#39;t want to create a thread, do 1 unit of work, then close the thread and start a new one. Create a pool of threads and pass work to them, and don&#39;t join them until the work is done. <a href=\"http://search.cpan.org/perldoc/Thread::Queue\" rel=\"nofollow noreferrer\">Thread::Queue</a> is useful for this."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1501251837, "post_id": 45374759, "comment_id": 77713270, "body": "nmap itself can perform parallel pings of a list of addresses in a file; no need for this script at all"}, {"owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1501254113, "post_id": 45374759, "comment_id": 77714879, "body": "Understood, but I am doing far more than just pinging the IP addresses.  I am just using the ping command for simplicity&#39;s sake while testing. There are complex functions being performed on data collected from other sources before and after this particular subroutine is executed that NMAP is not capable of performing. I truly appreciate the advice though."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501254236, "post_id": 45374759, "comment_id": 77714968, "body": "See <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow noreferrer\">Parallel::ForkManager</a>. Perl threads are not really lightweight."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501254363, "post_id": 45374759, "comment_id": 77715064, "body": "@Sinan&#220;n&#252;r this is windows, so fork is going to be emulated with perl threads anyway, so it&#39;s much better to use persistent threads with Thread::Queue than start new ones repeatedly as Parallel::ForkManager will end up doing.  (Though running Parallel::ForkManager in a linux vm is always possible.)"}, {"owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1501254469, "post_id": 45374759, "comment_id": 77715150, "body": "Parallel::ForkManager is how I originally tried to accomplish this task, but after many attempts, the guru&#39;s on this site advised me to use threads, as Forks are not inherently supported in Windows. If you would like to read that thread, it is located at: <a href=\"https://stackoverflow.com/questions/45086804/exit-a-fork-but-return-to-parent\" title=\"exit a fork but return to parent\">stackoverflow.com/questions/45086804/&hellip;</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1501254486, "post_id": 45374759, "comment_id": 77715161, "body": "@ysth Which is exactly why I prefer <code>Parallel::ForkManager</code> on Windows ... Cleaner programming model, and program runs on *nixy systems where threading is not necessarily enabled."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501254539, "post_id": 45374759, "comment_id": 77715205, "body": "Please refrain from calling people guru, ninja, etc"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501254781, "post_id": 45374759, "comment_id": 77715393, "body": "I have never encountered these magic crashes you speak of, and found <code>Parallel::ForkManager</code> to be incredibly useful on Windows for writing code that can run unchanged on both Windows and *nixy systems."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1501254872, "post_id": 45374759, "comment_id": 77715463, "body": "@ysth You don&#39;t have to go to the trouble of installing a VM with <a href=\"https://msdn.microsoft.com/en-us/commandline/wsl/install_guide\" rel=\"nofollow noreferrer\">WSL</a>."}, {"owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1501255664, "post_id": 45374759, "comment_id": 77715958, "body": "Sinan &#220;n&#252;r, I apologize if I have used bad form by using the term Guru.  I just know that the people on this board, including you, are far better programmers than myself.  That being said, can you look at the thread <a href=\"https://stackoverflow.com/questions/45086804/exit-a-fork-but-return-to-parent\" title=\"exit a fork but return to parent\">stackoverflow.com/questions/45086804/&hellip;</a> and advise me on where I went wrong when using Parallel::ForkManager?  Thank you in advance."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501257020, "post_id": 45374759, "comment_id": 77716801, "body": "At @ohm, I do not provide consulting services for free. On this site, you need a minimal example I can compile and run before I might spend time on it unless your problem is exceptionally interesting to me. Also, see <a href=\"https://www.linkedin.com/pulse/please-stop-calling-yourself-ninja-jedi-wizard-justin-seeley\" rel=\"nofollow noreferrer\">this</a>. Programming is mostly sweat, occasionally cleverness."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1501257246, "post_id": 45374759, "comment_id": 77716931, "body": "If your ForkManager code is crashing, post a question about it including the full code, and someone might be able to help."}, {"owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1501263575, "post_id": 45374759, "comment_id": 77720350, "body": "AKHolland - The code and question can be found at <a href=\"https://stackoverflow.com/questions/45086804/exit-a-fork-but-return-to-parent\" title=\"exit a fork but return to parent\">stackoverflow.com/questions/45086804/&hellip;</a>. Sinan &#220;n&#252;r - The &quot;minimal example I can compile and run&quot; is above. No one is asking you to provide consulting services.  If you are not capable or willing to give advise and guidance to the less experienced programmer, why are you replying to any post at all?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501264150, "post_id": 45374759, "comment_id": 77720636, "body": "In both this and the linked post you mention running this out of a subroutine.  If that subroutine gets callled often then there will be a lot of overhead. In Perl threads should be the top-level thing in your program, started as early in code as possible (since each threads copies <i>everything</i>).  Same with forks on Windows. So check your design.  Other than that, type <code>Thread::Queue</code> in the search box here and scan a dozen or two answers.  You&#39;ll find tutorial style posts to follow.  Keep it simple.  Btw, the Parallel::ForkManager should work, too."}, {"owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1501264643, "post_id": 45374759, "comment_id": 77720886, "body": "zdim - Thanks a million.  I will look these over.  BTW, the subroutine is only run once so that should not be an issue.  Thanks again for your help.  Looks like I have some reading to do."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501265433, "post_id": 45374759, "comment_id": 77721267, "body": "OK.  Threads aren&#39;t the simplest thing to do, which is why I suggest to find good documentation, and templates.  But it&#39;s not horrible either, if you stay on the reservation and use good advice.  There are many good self-contained and complete posts here that should provide the whole framework.  (But scan more specific ones as well, to scoop up bits and pieces of good advice.)  Also read the tutorial <a href=\"http://perldoc.perl.org/perlthrtut.html\" rel=\"nofollow noreferrer\">perlthrtut</a>."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 2, "creation_date": 1501268329, "post_id": 45374759, "comment_id": 77722751, "body": "Your code in that other question doesn&#39;t have Parallel::ForkManager in it. From reading the comments, you took an answer, did <i>something</i> to it, and then it didn&#39;t work. You never posted the new code."}, {"owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1501272049, "post_id": 45374759, "comment_id": 77724611, "body": "AKHolland - You are right and I apologize.  I updated the post with the new code."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1501272490, "post_id": 45374759, "comment_id": 77724792, "body": "Doesn&#39;t really matter.  P::FM isn&#39;t appropriate for parallelizing very short tasks on windows (leaving WSL aside), since it in effect makes a new Perl thread for each task."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1501272576, "post_id": 45374759, "comment_id": 77724837, "body": "TL;DR use Thread::Queue or an OS that forks, preferably the latter"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501329649, "post_id": 45374759, "comment_id": 77738560, "body": "&quot;<i>Sinan &#220;n&#252;r - The &quot;minimal example I can compile and run&quot; is above.</i>&quot;  ... No, it is not. How could I run that? I can&#39;t. ... Asking people to try to guess is asking people to work for you for free."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1501329682, "post_id": 45374759, "comment_id": 77738569, "body": "@ysth Obviously, the processes need not be short lived."}], "owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501280807, "creation_date": 1501248396, "last_edit_date": 1501280807, "question_id": 45374759, "link": "https://stackoverflow.com/questions/45374759/threaded-code-exits-before-all-tasks-are-complete", "title": "Threaded code exits before all tasks are complete", "body": "<p>I am trying to take a portion of an existing script and have it run multiple <code>nmap</code> scans simultaneously to increase the speed of the script.</p>\n\n<p>I initially tried using <code>fork</code>, but it was suggested to me that I should be using threads instead as I am doing this on a Windows box. I modified a code snippet I found online and it partially works.</p>\n\n<p>I am using a list of 23 IP addresses. I have been able to open 10 threads and scan the first 10 addresses, but then the code exits. Ideally, the code would open a new thread each time one exits so that there are always 10 threads running, until it reaches the remainder, in this case there would be three. Then only 3 threads would be open.</p>\n\n<p>This entire code needs to be run inside a subroutine that I have in my original sequential code. I am using <code>ping</code> instead of the <code>nmap</code> command to test.</p>\n\n<pre><code>#!/usr/bin/Perl\n\nuse strict;\nuse threads;\n\nmy $i = 0;\nmy @lines;\n\n# Define the number of threads\nmy $num_of_threads = 10;\n\n# use the initThreads subroutine to create an array of threads.\nmy @threads = initThreads();\n\nmy @files = glob( \"./ping.txt\" ) or die \"Can't open CMS HostInventory$!\";     # Open the CMS Host Inventory csv files for parsing\n\nforeach my $file ( @files ) {\n    open (CONFIG, '&lt;', $file) or die \"Can't ip360_DNS File$!\";\n    @lines = &lt;CONFIG&gt;;\n    chomp (@lines);\n}\n\n# Loop through the array:\nforeach ( @threads ) {\n        # Tell each thread to perform our 'doOperation()' subroutine.\n    $_ = threads-&gt;create(\\&amp;doOperation);\n}\n\n# This tells the main program to keep running until all threads have finished.\nforeach ( @threads ) {\n    $_-&gt;join();\n}\n\nprint \"\\nProgram Done!\\nPress Enter to exit\";\n$a = &lt;&gt;;\n\n####################### SUBROUTINES ############################\n\nsub initThreads{\n\n    my @initThreads;\n\n    for ( my $i = 1; $i &lt;= $num_of_threads; $i++ ) {\n        push(@initThreads, $i);\n    }\n\n    return @initThreads;\n}\n\n\nsub doOperation{\n\n    # Get the thread id. Allows each thread to be identified.\n    my $id = threads-&gt;tid();\n    my $ip = ($id - 1);\n\n    system(\"ping $lines[$ip] &gt;&gt; ./input/$lines[$ip].txt\");\n    print \"Thread $id done!\\n\";\n\n    # Exit the thread\n    threads-&gt;exit();\n}\n</code></pre>\n"}, {"tags": ["perl", "inversion-of-control"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1501231101, "post_id": 45368516, "comment_id": 77697960, "body": "Do you have access to <code>$callback</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501231495, "post_id": 45368516, "comment_id": 77698245, "body": "@simbabque  They (we?) write the anonymous sub that&#39;s <code>shift</code>ed into <code>$callback</code> ... ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501231652, "post_id": 45368516, "comment_id": 77698373, "body": "There is <a href=\"https://metacpan.org/pod/Return::MultiLevel\" rel=\"nofollow noreferrer\">metacpan.org/pod/Return::MultiLevel</a> which might be helpful, but as long as <code>$count</code> is lexical inside of <code>my_fixed_handler</code> it&#39;s not going to help a lot. Every time you call <code>my_fixed_handler</code> it&#39;s going to start over, so wrapping it in something that returns all the way out is gonna give you <code>1</code> every time.  How is the <code>$callback</code> supposed to break the <code>while (1)</code> loop?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501231655, "post_id": 45368516, "comment_id": 77698374, "body": "Your <code>my_fixed_handler</code> would have to be able to keep the state so that it can be used as an iterator.  If it&#39;s really &quot;fixed&quot; and you have no access to it then the callback can take that over, but then what&#39;s the job of the <code>handler</code>?  You can do that, take the logic from <code>handler</code> and put it into the callback you send to it.  Then the handler merely provides <code>1</code> each time."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501231913, "post_id": 45368516, "comment_id": 77698557, "body": "On the other hand, the infinite loop in the handler can&#39;t be for real ... perhaps the real code allows other approaches?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501233812, "post_id": 45368516, "comment_id": 77699898, "body": "This could be done with threads (or fork)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501235265, "post_id": 45368516, "comment_id": 77700935, "body": "@melpomene  By <code>SIGSTOP</code>-ing and <code>SIGCONT</code>-ing a forked process with the calculation, on each step?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501235610, "post_id": 45368516, "comment_id": 77701199, "body": "@zdim No, just let it block while writing to a pipe."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501236817, "post_id": 45368516, "comment_id": 77702047, "body": "@melpomene Oh. While the parent is processing what it read the child is blocked on the pipe (in the callback). No need to <code>STOP</code> it.  Nice :)"}, {"owner": {"reputation": 19, "user_id": 8380579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a81d8885f87689c7428f64cad77d1bda?s=128&d=identicon&r=PG", "display_name": "Hochstenbach", "link": "https://stackoverflow.com/users/8380579/hochstenbach"}, "edited": false, "score": 0, "creation_date": 1501237954, "post_id": 45368516, "comment_id": 77702882, "body": "It is just an example of some code I often see in my projects. I only can control the callback function but not the handler."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501536889, "post_id": 45368516, "comment_id": 77812689, "body": "@melpomene  I wrote up that, as it seemed clear that you wouldn&#39;t.  If you&#39;d actually would please just post and I&#39;ll remove this if it&#39;s similar enough. (If I didn&#39;t miss something big in it I&#39;ll make the reference to your idea more explicit.)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501537022, "post_id": 45368516, "comment_id": 77812756, "body": "@zdim You may also want to have a look at threads (or <a href=\"https://metacpan.org/pod/forks\" rel=\"nofollow noreferrer\"><code>forks</code></a>, which implements the <code>threads</code> API on top of <code>fork</code>). :-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501537836, "post_id": 45368516, "comment_id": 77813094, "body": "@melpomene  Right, they can stop and go nicely.  But I just don&#39;t reach for them in Perl (while I did use them some and played some more).  In C and C++ there is such a natural choice of when to use <code>fork</code> or threads, I&#39;m sorry we don&#39;t qiute have that Perl.  While we do have really nice queueing in Perl :). I know of <code>forks</code> just haven&#39;t got to start using it.  Perhaps this question is a chance :).  I don&#39;t know how solid it is."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 8380579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a81d8885f87689c7428f64cad77d1bda?s=128&d=identicon&r=PG", "display_name": "Hochstenbach", "link": "https://stackoverflow.com/users/8380579/hochstenbach"}, "edited": false, "score": 0, "creation_date": 1501321923, "post_id": 45387316, "comment_id": 77736355, "body": "I can&#39;t add votes yet (not enough privileges yet) but thanks for this great answer!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 19, "user_id": 8380579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a81d8885f87689c7428f64cad77d1bda?s=128&d=identicon&r=PG", "display_name": "Hochstenbach", "link": "https://stackoverflow.com/users/8380579/hochstenbach"}, "edited": false, "score": 0, "creation_date": 1501322491, "post_id": 45387316, "comment_id": 77736501, "body": "@Hochstenbach Thanks, glad you like it :).  Let me know if there are questions."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1517546984, "last_edit_date": 1517546984, "creation_date": 1501318020, "answer_id": 45387316, "question_id": 45368516, "link": "https://stackoverflow.com/questions/45368516/transform-callbacks-into-a-stream/45387316#45387316", "title": "Transform callbacks into a stream", "body": "<p>Use the fact that the pipe blocks when full: Run the <code>fixed_handler</code> in a forked process, with the callback writing back to the parent via a pipe. While the parent is processing after a read the pipe is blocked if full and the writer is waiting. To facilitate this write an extra empty string to fill the pipe.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nsub fixed_handler {\n    my $callback = shift;\n    #state $count = 1; # would solve the problem\n    my $count = 1;\n    for (1..4) { $callback-&gt;($count++) }   \n}\n\npipe my $reader, my $writer  or die \"Can't open pipe: $!\";\n$writer-&gt;autoflush(1);\n$reader-&gt;autoflush(1);\n\nmy $fill_buff = ' ' x 100_000;  # (64_656 - 3); # see text\n\nmy $iter = sub { \n    my $data = shift; \n    say \"\\twrite on pipe ... ($data)\";\n    say $writer $data;\n    say $writer $fill_buff;     # (over)fill the buffer\n};\n\nmy $pid = fork // die \"Can't fork: $!\";  #/\n\nif ($pid == 0) {\n    close $reader;\n    fixed_handler($iter);\n    close $writer;\n    exit;\n}\n\nclose $writer;\nsay \"Parent: started kid $pid\";\n\nwhile (my $recd = &lt;$reader&gt;) {\n    next if $recd !~ /\\S/;      # throw out the filler\n    chomp $recd;\n    say \"got: $recd\";\n    sleep 1;\n}\n\nmy $gone = waitpid $pid, 0;\nif    ($gone &gt; 0) { say \"Child $gone exited with: $?\" }\nelsif ($gone &lt; 0) { say \"No such process: $gone\" }\n</code></pre>\n\n<p>Output</p>\n\n<pre>\nParent: started kid 13555\n        write on pipe ... (1)\ngot: 1\n        write on pipe ... (2)\ngot: 2\n        write on pipe ... (3)\ngot: 3\n        write on pipe ... (4)\ngot: 4\nChild 13555 exited with: 0\n</pre>\n\n<p>At first the writer would keep printing until it fills the buffer.<sup>&dagger;</sup> Then, as the reader gets one line, the writer puts another (or two, if prints' length vary), etc. If this is OK, remove <code>say $writer $fill_buff;</code>. Then in the output we see all <code>write on pipe</code> lines first, then parent's prints go. A common buffer size nowadays is 64K.</p>\n\n<p>However, we are told that each step of <code>file_handler</code> takes time and so we'd wait for thousands of such steps before starting the processing in the parent (depending on the size of each write), until the buffer fills and the writer starts getting blocked at each read.</p>\n\n<p>One way out of this is to write an extra string, long enough to fill the buffer, and dismiss it in the reader. I found it finicky to get the exact length for this though.  For one, the buffer found in the program by</p>\n\n<pre><code>my $cnt; while (1) { ++$cnt; print $writer ' '; print \"\\r$cnt\" } # reader sleeps\n</code></pre>\n\n<p>differs from the one found on the command line in a similar way. Even with this I still (sometimes) get \"double writes.\" While <em>that</em> may not be a show stopper, I went with <code>100K</code> to make sure to fill it. </p>\n\n<p>See <a href=\"https://unix.stackexchange.com/q/11946/226064\">this post</a> for discussion of buffer sizes, for example.</p>\n\n<p>Another way may be to set the pipe's buffer size using <code>IO::Handle::setvbuf</code>. However, I ran into \"<em>Not implemented on this architecture</em>\" (on production machines) and so I wouldn't consider that.</p>\n\n<p>Messing with buffering will of course slow down the communication a lot.</p>\n\n<p>This implements the idea from <a href=\"https://stackoverflow.com/users/1848654/melpomene\">melpomene</a>'s comments.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> With \"buffer\" I refer to the pipe's buffer (the amount of data written before the pipe blocks, if no data is read on the other side). That are other buffers that get involved but are not as relevant here.</p>\n"}], "owner": {"reputation": 19, "user_id": 8380579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a81d8885f87689c7428f64cad77d1bda?s=128&d=identicon&r=PG", "display_name": "Hochstenbach", "link": "https://stackoverflow.com/users/8380579/hochstenbach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517546984, "creation_date": 1501230425, "last_edit_date": 1501239238, "question_id": 45368516, "link": "https://stackoverflow.com/questions/45368516/transform-callbacks-into-a-stream", "title": "Transform callbacks into a stream", "body": "<p>In Perl, how can one transform a function that requires callbacks to a new function that returns a stream of results?</p>\n\n<p>Image I have a fixed function I can't change:</p>\n\n<pre><code>sub my_fixed_handler {\n    my $callback = shift;\n\n    my $count = 1;\n    while(1) {\n       $callback-&gt;($count++);\n    }\n}\n</code></pre>\n\n<p>To print all the a count of numbers I could easily write this code:</p>\n\n<pre><code>my_fixed_handler( sub {\n    my $num = shift;\n    print \"...$num\\n\";\n});\n</code></pre>\n\n<p>But now I need another function based on on the <code>my_fixed_handler</code> that will return only the result of one calculation step:</p>\n\n<pre><code>my $stream = my_wrapper( my_fixer_hander( ... ) ) ;\n$stream-&gt;next;  # 1\n$stream-&gt;next;  # 2\n</code></pre>\n\n<p>Is this possible?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501228870, "post_id": 45367547, "comment_id": 77696523, "body": "Comments in Perl are done with <code>#</code>, not <code>&#47;&#47;</code>. That&#39;s an empty regular expression pattern."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1501228950, "post_id": 45367547, "comment_id": 77696567, "body": "Is there an Exporter or any other exporting mechanism in Operation.pm? It doesn&#39;t export just because you&#39;ve declared an <code>@EXPORT</code>."}, {"owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501231930, "post_id": 45367547, "comment_id": 77698565, "body": "@simbabque no but using that way i can call <code>Config subs</code> inside my <code>Operation.pm</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501232184, "post_id": 45367547, "comment_id": 77698755, "body": "I don&#39;t believe that. Your <code>use ABC::Config</code> actually calls <code>ABC::Config-&gt;import</code>. If you do not have an <code>import</code> sub in there, it cannot import anything. The <code>@EXPORT</code> is not something Perl has by default, it&#39;s an interface defined by Exporter, which you would typically use as a base class for your module. So this cannot work. Show your real code."}], "answers": [{"comments": [{"owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "edited": false, "score": 1, "creation_date": 1501234850, "post_id": 45369627, "comment_id": 77700617, "body": "thanks.i created a CommonUtils package and put shared code there and it worked."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1501233647, "creation_date": 1501233647, "answer_id": 45369627, "question_id": 45367547, "link": "https://stackoverflow.com/questions/45367547/how-to-call-one-module-sub-inside-another-module-sub-in-perl/45369627#45369627", "title": "How to call one module sub inside another module sub in Perl", "body": "<p>There is a circular dependency. <code>use</code> statements get done at <em>compile time</em>. That means before any actual code is run. So when you start your program, and the first thing it does is go into <code>ABC::Operation</code>, the following will happen:</p>\n\n<ul>\n<li>scan ABC::Operation for <code>use</code> statements</li>\n<li>load Term::ANSIColor\n\n<ul>\n<li>parsing switches to Term::ANSIColor</li>\n<li>scan Term::ANSIColor for <code>use</code> statements ...</li>\n</ul></li>\n<li>parsing switches back to ABC::Operation</li>\n<li>load File::Basename\n\n<ul>\n<li>parsing switches to File::Basename</li>\n<li>scan File::Basename</li>\n</ul></li>\n<li>parsing switches back to ABC::Operation</li>\n<li>... a couple more of those</li>\n<li>load ABC::Config\n\n<ul>\n<li>parsing switches to ABC::Config</li>\n<li>scan ABC::Config for <code>use</code> statements ...</li>\n</ul></li>\n<li>parsing witches back to ABC::Operation\n\n<ul>\n<li><code>import</code> stuff from Term::ANSIColor, File::Basename, Exporter and Cwd; these do not get loaded again because Perl already loaded them before. It only imports the symbols into the current ABC::Config namespace</li>\n<li><code>import</code> the function <code>commonFunc</code> from ABC::Config; again, this has also already been loaded, so it doesn't load it again</li>\n<li>throw an error because at this point, ABC::Config has not finished parsing, and it does not yet export a <code>commonFunc</code> symbol</li>\n</ul></li>\n</ul>\n\n<p>This is a bit confusing, but it's a sign that your architecture is broken. If things are common, they can sure be in a common package. But that common package <strong>cannot</strong> use anything that uses it. If that's the case, whatever is using it also becomes common by definition.</p>\n\n<p>The solution is to rethink which functions go where. Find the smallest possible parts, and put them in one package. That's the things every other package shares. Then use it where it's needed. The next things that use this shouldn't bring each other in. Only the last level should combine all of them. The dependency tree is called tree for a reason. Having a circle in there can't work.</p>\n"}], "owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 45369627, "answer_count": 1, "score": -1, "last_activity_date": 1501292058, "creation_date": 1501227391, "last_edit_date": 1501292058, "question_id": 45367547, "link": "https://stackoverflow.com/questions/45367547/how-to-call-one-module-sub-inside-another-module-sub-in-perl", "title": "How to call one module sub inside another module sub in Perl", "body": "<p>I have created Perl modules under <code>/my_project/ABC/</code>. The <code>ABC</code> folder contains three subroutine modules: <code>Build.pm</code>, <code>Config.pm</code>, and <code>Operation.pm</code>. There is a common subroutine in <code>Operation.pm</code> that I need to access from <code>Config.pm</code>, but when I tried i throws</p>\n\n<blockquote>\n  <p>\"configureTheRepository\" is not exported by the ABC::Config module`.</p>\n</blockquote>\n\n<p>Here is the call stack.</p>\n\n<h3>Operation.pm</h3>\n\n<pre><code>    package ABC::Operation;\n\n    use strict;\n    use warnings;\n\n    use Term::ANSIColor qw(:constants);\n    use File::Basename qw(dirname);\n    use Exporter qw(import);\n    use Term::ANSIColor qw( colored );\n    use Data::Dumper qw(Dumper);\n    use JSON::PP;\n    use File::Basename qw(dirname);\n    use Cwd  qw(abs_path);\n    use ABC::Config qw(configureTheRepository);\n\n    our @EXPORT = qw(commonFunc)\n\n   sub commonFunc{\n      #handle logic\n    }\n1;\n</code></pre>\n\n<h3>Config.pm</h3>\n\n<pre><code>    package ABC::Config;\n\n    use strict;\n    use warnings;\n\n    use Term::ANSIColor qw(:constants);\n    use File::Basename qw(dirname);\n    use Exporter qw(import);\n    use Cwd  qw(abs_path);\n    use Cwd  qw(abs_path);\n    use ABC::Operation qw(commonFunc); #Compilation failed when i insert this line.if i removed this my script will execute and but in runtime throws undefined commonFunc.\n\n   our @EXPORT = qw(configureTheRepository);\n\n   sub configureTheRepository{\n      #handle logic\n    }\n\n1;\n</code></pre>\n\n<p>Please let me know where I made the mistake.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501221525, "post_id": 45365597, "comment_id": 77692380, "body": "You&#39;ve given <code>rwx</code> to the root&#39;s home directory?  Are you running this as root?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1501222016, "post_id": 45365597, "comment_id": 77692638, "body": "This approach is not going to work.  Please explain the underlying goal you are trying to achieve so we can suggest alternatives."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8330694, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CYcKV5Sai0g/AAAAAAAAAAI/AAAAAAAAADI/l8KvEgHeSEc/photo.jpg?sz=128", "display_name": "Praveenkumar Kumbham", "link": "https://stackoverflow.com/users/8330694/praveenkumar-kumbham"}, "edited": false, "score": 1, "creation_date": 1501233879, "post_id": 45367296, "comment_id": 77699941, "body": "when i&#39;m trying to execute the above code,it&#39;s displaying setting env variable, but it&#39;s not storing permanently"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1501234306, "post_id": 45367296, "comment_id": 77700248, "body": "It is storing it permanently for the duration of the perl script - if you want it to exist in the shell that calls the perl script, you need to <code>source</code> it in there instead"}, {"owner": {"reputation": 33, "user_id": 8330694, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CYcKV5Sai0g/AAAAAAAAAAI/AAAAAAAAADI/l8KvEgHeSEc/photo.jpg?sz=128", "display_name": "Praveenkumar Kumbham", "link": "https://stackoverflow.com/users/8330694/praveenkumar-kumbham"}, "edited": false, "score": 0, "creation_date": 1501239124, "post_id": 45367296, "comment_id": 77703737, "body": "I want to source it inside the same perl script"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "reply_to_user": {"reputation": 33, "user_id": 8330694, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CYcKV5Sai0g/AAAAAAAAAAI/AAAAAAAAADI/l8KvEgHeSEc/photo.jpg?sz=128", "display_name": "Praveenkumar Kumbham", "link": "https://stackoverflow.com/users/8330694/praveenkumar-kumbham"}, "edited": false, "score": 2, "creation_date": 1501239241, "post_id": 45367296, "comment_id": 77703819, "body": "@PraveenkumarKumbham you cannot influence the environment of a running perl script from outside the script. You can only make changes from within the script."}], "tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": true, "score": 3, "last_activity_date": 1501226641, "creation_date": 1501226641, "answer_id": 45367296, "question_id": 45365597, "link": "https://stackoverflow.com/questions/45365597/source-command-not-working-when-used-in-perl-script/45367296#45367296", "title": "source command not working when used in Perl script", "body": "<p>The backticks start a subshell process where the source will be executed. And then will the subshell exit and your perl script will not be effected. Have you tried $ENV{PI}=3.14;? This will alter the environment of the running perl script and all afterwards created subprocesses.</p>\n\n<pre><code>use strict ;\nuse warnings ;\n\n$ENV{TEST} = 'Yo.' ;\n\nmy $subshelled = qx!echo \\$TEST! ;\nchomp $subshelled ;\n\nprintf \"Subshelled result: '%s'\\n\" , $subshelled ;\n\nmy $subshellenv = qx!env! ;\n\nprintf \"Env:\\n%s\\n\" , $subshellenv ;\n</code></pre>\n\n<p>will print</p>\n\n<pre><code>Subshelled result: 'Yo.'\nEnv:\n...\nTEST=Yo.\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8330694, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CYcKV5Sai0g/AAAAAAAAAAI/AAAAAAAAADI/l8KvEgHeSEc/photo.jpg?sz=128", "display_name": "Praveenkumar Kumbham", "link": "https://stackoverflow.com/users/8330694/praveenkumar-kumbham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 45367296, "answer_count": 1, "score": 3, "last_activity_date": 1501226641, "creation_date": 1501220236, "last_edit_date": 1501223574, "question_id": 45365597, "link": "https://stackoverflow.com/questions/45365597/source-command-not-working-when-used-in-perl-script", "title": "source command not working when used in Perl script", "body": "<p>Consider the below code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n$value=\"export PI = 3.14\";\nopen(IN,\"&gt;&gt;/root/.bashrc\");\nprint IN $value;\nclose(IN);\n`source /root/.bashrc`;\n</code></pre>\n\n<p>I want to create an env variable using a Perl script.\nI've given 777 permissions to the root folder as well as the .bashrc file.\nThe $value in the script is getting appended to .bashrc but when i use \"env \" or \"printenv\" to display env variables, i cant see the one which is appended to .bashrc.I guess the source command is not working, because when i source the .bashrc file from CL its showing in the env list.Please help me out or suggest another way.Thanks in advance.        </p>\n"}, {"tags": ["perl", "perltk"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501220775, "post_id": 45364190, "comment_id": 77692007, "body": "what about <code>my $numValue = $f3_entry-&gt;get();</code> so then you can move them to array...."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501225075, "post_id": 45364190, "comment_id": 77694241, "body": "@ssr1012 when i using get it show up this error message &quot;wrong # args: should be &quot;.notebook.sheet_3.frame1.text get index1 ?index2&quot;"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501227526, "post_id": 45364190, "comment_id": 77695763, "body": "could you please update your question with minimal sample perl file for compile the script"}], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1501229703, "post_id": 45367636, "comment_id": 77697076, "body": "Thanks , i able to get the word but i am not sure why when i print the $test i show out this error instead &quot; Use of uninitialized value in concatenation (.) or string at line 218."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1501230412, "post_id": 45367636, "comment_id": 77697522, "body": "Great. Can you show how you print? If <code>$test</code> is empty (<code>undef</code>) you will get that error..."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1501227684, "creation_date": 1501227684, "answer_id": 45367636, "question_id": 45364190, "link": "https://stackoverflow.com/questions/45364190/get-all-the-word-enter-in-text-widget-to-an-array/45367636#45367636", "title": "Get all the word enter in text widget to an array", "body": "<p>The correct syntax for the <code>get()</code> method on a <code>Tk::Text</code> object is described in the documentation for <a href=\"https://metacpan.org/pod/distribution/Tk/pod/Text.pod\" rel=\"nofollow noreferrer\"><code>Tk::Text</code></a>:</p>\n\n<blockquote>\n  <p><code>$text-&gt;get(index1, ?index2?)</code>  </p>\n  \n  <p>Return a range of characters from the text. The return value will be\n  all the characters in the text starting with the one whose index is\n  <code>index1</code> and ending just before the one whose index is <code>index2</code> (the\n  character at <code>index2</code> will not be returned). If <code>index2</code> is omitted then\n  the single character at <code>index1</code> is returned. If there are no characters\n  in the specified range (e.g. <code>index1</code> is past the end of the file or\n  <code>index2</code> is less than or equal to <code>index1</code>) then an empty string is\n  returned</p>\n</blockquote>\n\n<p>So using <code>get()</code> without an argument is an error.</p>\n\n<p>Here is an example of how to get the text:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Tk;\n\nmy $mw = MainWindow-&gt;new(); \n\nmy $entry = $mw-&gt;Text(\n    -width=&gt;20, -height =&gt; 10, -wrap =&gt; 'word', -state =&gt; \"normal\"\n)-&gt;pack(\n    -padx =&gt; 1, -pady =&gt; 1, -fill =&gt; 'x', -expand =&gt; 1\n);\n\nmy $button = $mw-&gt;Button(\n    -text =&gt; \"Run\",\n    -command=&gt; sub { fablot_fusesort($entry) }\n)-&gt;pack(\n    -padx =&gt; 1, -pady =&gt; 1\n);\n\nsub fablot_fusesort{\n    my ( $entry) = @_;\n    my $text = $entry-&gt;get('1.0','end'); # &lt;-- Gets all the text in the widget\n    print \"$text\";\n}\nMainLoop;\n</code></pre>\n"}], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 45367636, "answer_count": 1, "score": 0, "last_activity_date": 1501227684, "creation_date": 1501211098, "question_id": 45364190, "link": "https://stackoverflow.com/questions/45364190/get-all-the-word-enter-in-text-widget-to-an-array", "title": "Get all the word enter in text widget to an array", "body": "<p>I am new to Tk/Perl. Below is the simple GUI interface i create using tk/perl. </p>\n\n<p><a href=\"https://i.stack.imgur.com/7yrep.png\" rel=\"nofollow noreferrer\">GUI INTERFACE</a></p>\n\n<p>Below is part of the code create this GUI.</p>\n\n<pre><code>$f2_label=$f_frame_top0-&gt;Label(-text=&gt;\"File\",-font=&gt;[-family=&gt;'MS Sans Serif',-size=&gt;9,-weight=&gt;'bold',-underline=&gt;0],-justify=&gt;'left')-&gt;pack(-side=&gt;'left',-anchor=&gt;'w',-padx=&gt;1,-pady=&gt;1,);\n$f2_entry=$f_frame_top0-&gt;Entry(-width=&gt;50,-state=&gt;\"normal\")-&gt;pack(-side=&gt;'left',-anchor=&gt;'w',-padx=&gt;1,-pady=&gt;1,-fill=&gt;'x',-expand=&gt;1);\n$f2_file_btn=$f_frame_top0-&gt;Button(-text=&gt;\"...\", -height=&gt;1, -width=&gt;2, -command=&gt; [\\&amp;file_search,$tab2,$f2_entry,\"TXT\"])-&gt;pack(-side=&gt;'left',-anchor=&gt;'w',-padx=&gt;1,-pady=&gt;1);\n\n$f3_label=$f_frame_top1-&gt;Label(-text=&gt;\"Number\",-font=&gt;[-family=&gt;'MS Sans Serif',-size=&gt;9,-weight=&gt;'bold',-underline=&gt;0],-justify=&gt;'left')-&gt;pack(-side=&gt;'left',-anchor=&gt;'w',-padx=&gt;1,-pady=&gt;1,);\n$f3_entry=$f_frame_top1-&gt;Text(-width=&gt;10,-height=&gt;10,-wrap=&gt;'word',-state=&gt;\"normal\")-&gt;pack(-side=&gt;'left',-anchor=&gt;'w',-padx=&gt;1,-pady=&gt;1,-fill=&gt;'x',-expand=&gt;1);\n\n\n$but1_close=$f_frame_bot-&gt;Button(-text=&gt;\"Close\",-command=&gt;sub {destroy $mw}) -&gt;pack(-side=&gt;\"right\",-anchor=&gt;'e',-padx=&gt;1,-pady=&gt;1);\n$but1_exe=$f_frame_bot-&gt;Button(-text=&gt;\"Run\",-command=&gt;[\\&amp;fablot_fusesort,$f2_entry,$f3_entry] ) -&gt;pack(-side=&gt;\"right\",-anchor=&gt;'e',-padx=&gt;1,-pady=&gt;1);\n\nsub fablot_fusesort{\n     my $file1 = shift -&gt; get();\n     my $number = shift -&gt;get();\n}\n</code></pre>\n\n<p>i want to get the number user enter in Text (the 22,23,24,25,26) to process in my subroutine but i not able to get it from shift -> get(). Any way i can get all the number user enter in the Text Widget? Thanks for helping </p>\n"}, {"tags": ["arrays", "perl", "defined", "undef"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501194368, "post_id": 45361968, "comment_id": 77685175, "body": "This is very strange code with likely errors, and convoluted logic.  What are you trying to do?"}, {"owner": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501194484, "post_id": 45361968, "comment_id": 77685213, "body": "I am trying to have a standard input and have a limit on the standard input..."}, {"owner": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501194513, "post_id": 45361968, "comment_id": 77685223, "body": "I am making an array that has inputs, but I want the array to have a limit of only five"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1501194553, "post_id": 45361968, "comment_id": 77685234, "body": "Are you talking number of characters, number of items with spaces in between? Show us some input..."}, {"owner": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501194568, "post_id": 45361968, "comment_id": 77685241, "body": "O I want the array to have a limit on the number of lines"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1501194592, "post_id": 45361968, "comment_id": 77685252, "body": "How are you passing STDIN? ie. show us a copy/paste of what your command line looks like sending in data."}, {"owner": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501194656, "post_id": 45361968, "comment_id": 77685272, "body": "What kind of input?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1501197386, "post_id": 45361968, "comment_id": 77686122, "body": "<a href=\"https://stackoverflow.com/q/45192445/100754\">Duplicate</a> ... Unfortunately, I already voted to close this question for another reason, but it&#39;s probably better to close as duplicate."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501194741, "post_id": 45362046, "comment_id": 77685290, "body": "Thanks, this helped a lot, but do you know of any other way of doing this? Is this the only way to do it? Because from articles that I have read, I believe that there is another way to do it? I am not sure"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501194858, "post_id": 45362046, "comment_id": 77685334, "body": "@Soup  Well, what kind of &quot;<i>other way</i>&quot;?  There are <i>many</i> ways to do things.  But when it comes to <code>STDIN</code> this is pretty much how it&#39;s done. Take it line by line, remove newline from each (<code>chomp</code>).  Quit when done"}, {"owner": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501194898, "post_id": 45362046, "comment_id": 77685352, "body": "I want to ask one more question, if I can?"}, {"owner": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501194935, "post_id": 45362046, "comment_id": 77685361, "body": "Does this only apply to this Array, or does this apply to every Standard Input in my whole file?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 1, "creation_date": 1501195338, "post_id": 45362046, "comment_id": 77685488, "body": "I am not sure I understand, so here&#39;s a little bit.  The <code>STDIN</code> refers to  the input to the program from the terminal, and <code>&lt; &gt;</code> is an operator that reads from a &quot;filehandle&quot; inside.  So whenever your program has <code>while (&lt;STDIN&gt;)</code> it stops at that line and waits for a user to type in something. It waits at the standard input (STDIN). Once the user hits return after what they&#39;ve typed, the line is returned from <code>&lt;&gt;</code> operator, the body of <code>while</code> runs, and then it&#39;s back to waiting for more.  This process goes line-by-line, no array involved."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501195393, "post_id": 45362046, "comment_id": 77685505, "body": "Let me know whether this helps?"}, {"owner": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501195409, "post_id": 45362046, "comment_id": 77685512, "body": "ok ok ok ok I think I am starting to get it now. Much thanks @zbdim!!!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501195470, "post_id": 45362046, "comment_id": 77685541, "body": "@Soup  Alright :)  Let me know if/as more comes up"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1501197432, "post_id": 45362046, "comment_id": 77686139, "body": "Why does everyone want to <a href=\"https://stackoverflow.com/q/45192445/100754\">read five lines from <code>STDIN</code></a>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1501197654, "post_id": 45362046, "comment_id": 77686190, "body": "@Sinan&#220;n&#252;r  Hah ... :)   At least here it&#39;s just a number, 5 (in code that is)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501541303, "post_id": 45362046, "comment_id": 77814204, "body": "@Soup  Added a (long) comment on reading from filehandles and <i>context</i>.  Just letting you know. Hopefully it&#39;s useful."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "edited": false, "score": 0, "creation_date": 1501614110, "post_id": 45362046, "comment_id": 77852394, "body": "@Soup Need to amend my comment about <code>STDIN</code>. It focused on terminal based input but that <i>is not</i> the only way for a program to get it.  The <code>STDIN</code> is a <a href=\"https://en.wikipedia.org/wiki/Standard_streams\" rel=\"nofollow noreferrer\">&quot;standard stream&quot;</a>, always set up by the system, from which a program can read, get &quot;input.&quot;  It can come from a terminal but it can come from other programs as well.  Added section in my post mentions this.  See more for instance <a href=\"http://www.tldp.org/LDP/abs/html/io-redirection.html\" rel=\"nofollow noreferrer\">in scripting manual for Bash</a>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1501540938, "last_edit_date": 1501540938, "creation_date": 1501194644, "answer_id": 45362046, "question_id": 45361968, "link": "https://stackoverflow.com/questions/45361968/how-do-i-make-the-stdin-in-the-array-stop-perl/45362046#45362046", "title": "How do I make the STDIN in the Array stop? (PERL)", "body": "<p>As clarified, limit the <code>STDIN</code> to five lines</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @input;\n\nwhile (&lt;STDIN&gt;) {\n    chomp;\n    push @input, $_;\n    last if @input == 5;\n}\n\nsay for @input;\n</code></pre>\n\n<hr>\n\n<p>There are other things to comment on in the posted code.  While a good deal of it is cleared up in detail in <a href=\"https://stackoverflow.com/a/45369842/4653379\">Dave Cross answer</a>, I'd like to address the business of <a href=\"http://perldoc.perl.org/perldata.html#Context\" rel=\"nofollow noreferrer\">context</a> when reading from a filehandle. </p>\n\n<p>The \"diamond\" operator <code>&lt;&gt;</code> is context-aware.  From <a href=\"http://perldoc.perl.org/perlop.html#I/O-Operators\" rel=\"nofollow noreferrer\">I/O Operators (perlop)</a></p>\n\n<blockquote>\n  <p>If a <code>&lt;FILEHANDLE&gt;</code> is used in a context that is looking for a list, a list comprising all input lines is returned, one line per list element. It's easy to grow to a rather large data space this way, so use with care.</p>\n</blockquote>\n\n<p>In the usual <code>while</code> loop the <code>&lt;&gt;</code> is in the scalar context</p>\n\n<pre><code>while (my $line = &lt;$fh&gt;)\n</code></pre>\n\n<p>and it is the same with <code>while (&lt;$fh&gt;)</code> since it assigns to <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>$_</code> variable</a>, a scalar, by default.</p>\n\n<p>But if we assign to an array, say from a filehandle <code>$fh</code> with which a file was opened</p>\n\n<pre><code>my @lines = &lt;$fh&gt;;\n</code></pre>\n\n<p>then <code>&lt;&gt;</code> operator works in the list context. It reads all lines until it sees EOF (end-of-file), at which point it returns all lines, which are assigned to <code>@lines</code>. Remember that each line has its newline.  You can remove them all by </p>\n\n<pre><code>chomp @lines;\n</code></pre>\n\n<p>since <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\">chomp</a> works on a list as well.</p>\n\n<p>With <code>STDIN</code> this raises an issue when input comes from keyboard, as <code>&lt;&gt;</code> waits for more input since EOF isn't coming on its own. It is usually given as <code>Ctrl+D</code><sup>&dagger;</sup> on Unixy systems (Ctrl+Z on Windows). </p>\n\n<p>So you can, in principle, have <code>@array = &lt;STDIN&gt;</code> and quit input with <code>Ctrl+D</code> but this may be a little awkward for input expected from keyboard, as it mostly implies the need for line by line processing.  It is less unusual if <code>STDIN</code> comes from a file,</p>\n\n<pre><code>script.pl &lt; input.txt\n</code></pre>\n\n<p>or a pipe on the command line</p>\n\n<pre><code>some command with output | script.pl\n</code></pre>\n\n<p>where we do get an EOF (courtesy of <a href=\"https://en.wikipedia.org/wiki/End-of-Transmission_character\" rel=\"nofollow noreferrer\">EOT</a>).</p>\n\n<p>But I'd still stick to a customary <code>while</code> when reading <code>STDIN</code>, and process it line by line.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup>&nbsp; The <code>Ctrl+D</code> is how this is usually referred to but one actually types a low-case <code>d</code> with <code>Ctrl</code>.  Note that <code>Ctrl</code> and <code>c</code> (labeled as <code>Ctrl+C</code>) does something entirely different; it sends the <code>SIGINT</code> signal, which terminates the whole program if not caught.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1501234276, "creation_date": 1501234276, "answer_id": 45369842, "question_id": 45361968, "link": "https://stackoverflow.com/questions/45361968/how-do-i-make-the-stdin-in-the-array-stop-perl/45369842#45369842", "title": "How do I make the STDIN in the Array stop? (PERL)", "body": "<pre><code>my @array = undef;\nwhile (@array = undef){\n</code></pre>\n\n<p>These two lines don't do what (I assume) you think they are doing.</p>\n\n<pre><code>my @array = undef;\n</code></pre>\n\n<p>This defines an array with a single element which is the special value <code>undef</code>. I suspect that what you actually wanted was:</p>\n\n<pre><code>my @array = ();\n</code></pre>\n\n<p>which creates an empty array. But Perl arrays are always empty when first created, so this can be simplified to:</p>\n\n<pre><code>my @array;\n</code></pre>\n\n<p>The second line repeats that error and adds a new one.</p>\n\n<pre><code>while (@array = undef) {\n</code></pre>\n\n<p>I suspect you want to check for an empty array here and you were reaching for something that meant something like \"if <code>@array is undefined</code>). But you missed the fact that in Perl, assignment operators (like <code>=</code>) are different to comparison operators (like <code>==</code>). So this line <strong>assigns</strong> <code>undef</code> to <code>@array</code> rather than comparing it. You really wanted <code>@array == undef</code> - but that's not right either.</p>\n\n<p>You need to move away from this idea of checking that an array is \"defined\". What you're actually interested in is whether an array is empty. And Perl has a clever trick that helps you work that out.</p>\n\n<p>If you use a Perl array in a place where Perl expects to see a single (scalar) value, it gives you the number of elements in the array. So you can write code like:</p>\n\n<pre><code>my $number_of_elements = @an_array;\n</code></pre>\n\n<p>The boolean logic check in an <code>if</code> or <code>while</code> condition is a single scalar value. So if you want to check if an array contains any elements, you can use code like this:</p>\n\n<pre><code>if (@array) {\n  # @array contains data\n} else {\n  # @array is empty\n}\n</code></pre>\n\n<p>And to loop while an array contains elements, you can simply write:</p>\n\n<pre><code>while (@array) {\n  # do something\n}\n</code></pre>\n\n<p>But here, you want to do something while your array is empty. To do that, you can either invert the <code>while</code> condition logic (using <code>!</code> for \"not\"):</p>\n\n<pre><code>while (!@array) {\n  # do something\n}\n</code></pre>\n\n<p>Or you can switch to using an <code>until</code> test (which is the opposite of <code>while</code>):</p>\n\n<pre><code>until (@array) {\n  # do something\n}\n</code></pre>\n\n<p>I'm going to have to stop there. I hope this gives you some insight into what is wrong with your code. I'm afraid that this level of wrongness permeates the rest of your code too.</p>\n"}], "owner": {"reputation": 45, "user_id": 7675311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ea2Fu8vfQE/AAAAAAAAAAI/AAAAAAAAAjw/2iys5SIQofg/photo.jpg?sz=128", "display_name": "Soup", "link": "https://stackoverflow.com/users/7675311/soup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1484, "favorite_count": 0, "closed_date": 1501267599, "accepted_answer_id": 45362046, "answer_count": 2, "score": 1, "last_activity_date": 1501540938, "creation_date": 1501194184, "question_id": 45361968, "link": "https://stackoverflow.com/questions/45361968/how-do-i-make-the-stdin-in-the-array-stop-perl", "closed_reason": "Duplicate", "title": "How do I make the STDIN in the Array stop? (PERL)", "body": "<p>My @array will not stop taking in STDIN...</p>\n\n<pre><code>my @array = undef;\nwhile (@array = undef){\n    @array = &lt;STDIN&gt;;\n    for (@array[x]=5){\n        @array = defined;\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501190201, "post_id": 45361078, "comment_id": 77683619, "body": "What do you need <code>$index</code> for?"}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501190377, "post_id": 45361078, "comment_id": 77683693, "body": "I thought it might be useful because the $index which is the special variable &quot;$.&quot; contains the line number. So if I printed if($index == 2){say $line;}, it would print line 2 with a newline. But I can&#39;t figure out how to increment the index according to the line it matches on."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501190697, "post_id": 45361078, "comment_id": 77683815, "body": "I am not sure I get it -- do you want to process the file shown in the beginning, so to append the number of digits to the <code>factorial of N is</code> line, but keep the following line with the result?"}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 2, "creation_date": 1501190837, "post_id": 45361078, "comment_id": 77683878, "body": "That would be correct."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501190875, "post_id": 45361078, "comment_id": 77683901, "body": "You&#39;ve just answer @zdim&#39;s <i>either or</i> question with yes. :D"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501190935, "post_id": 45361078, "comment_id": 77683930, "body": "@simbabque  My bad, I edited the comment ... :))) ... editing it <i>back to what it was</i> ... done.  All good now :)"}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1501190994, "post_id": 45361078, "comment_id": 77683960, "body": "Oh wow, I answered the either or question with a &quot;Yes.&quot; That&#39;s embarrassing."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501191115, "post_id": 45361078, "comment_id": 77684020, "body": "No, no, you didn&#39;t -- you answered my question when it didn&#39;t have the <code>or</code> part (so it was yes/no), and <i>then</i> I edited that comment, making it either/or (having not seen your answer at that time).  Now I put it back to what it had been and your answer is spot on :)"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501190912, "post_id": 45361251, "comment_id": 77683916, "body": "Apparently we need to also reprint the line with the result (so to add <code>say $line;</code> in <code>else</code>)"}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1501191119, "post_id": 45361251, "comment_id": 77684022, "body": "Maybe I&#39;m having a hard time communicating what I&#39;m trying to say. However, simbabque has provided the expected result as shown in my question which is good."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1501191136, "post_id": 45361251, "comment_id": 77684034, "body": "That is an interesting way of doing things, simbabque."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1501191170, "post_id": 45361251, "comment_id": 77684058, "body": "@xyz123 I think you&#39;re trying to say it with too many words. A lot of the background in your question is not relevant. You have some data, and you want to transform it. It doesn&#39;t really matter where it&#39;s from. ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1501191236, "post_id": 45361251, "comment_id": 77684086, "body": "@xyz123 well, it&#39;s pragmatic. The alternative would be to save the most recent number in a variable, but since you don&#39;t need it for anything but printing, you can just print right away. If you were to use it as a hash key that&#39;d be a different story..."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1501190615, "creation_date": 1501190615, "answer_id": 45361251, "question_id": 45361078, "link": "https://stackoverflow.com/questions/45361078/how-to-print-the-next-line-of-a-match-in-perl/45361251#45361251", "title": "How to print the next line of a match in Perl?", "body": "<p>The whole thing can be much simpler than that. All you need is one specific match.</p>\n\n<p>The following code will check for the text with the number that you've built the factorial of. If it finds that, it <code>print</code>s the label. It does that by capturing the number into <code>$1</code>. The <code>print</code> does not have a line break.</p>\n\n<p>If it doesn't find it, it assumes the whole line is the one with the factorial, so it <code>say</code>s the <code>length</code> of the line. This will now have the line break, and the next output will go to the next line.</p>\n\n<p>The <code>chomp</code> is important for the <code>length</code> to work correctly.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nwhile (my $line = &lt;DATA&gt;) {\n    chomp $line;\n    if ( $line =~ m/factorial of ([0-9]+)/) {\n        print \"Factorial of $1: \";\n    } else {\n        say length $line;\n    }\n}\n\n__DATA__\nThe factorial of 1 is\n1\nThe factorial of 4 is\n24\nThe factorial of 16 is\n20922789888000\nThe factorial of 64 is\n126886932185884164103433389335161480802865516174545192198801894375214704230400000000000000\n</code></pre>\n\n<p>And the output:</p>\n\n<pre><code>Factorial of 1: 1\nFactorial of 4: 2\nFactorial of 16: 14\nFactorial of 64: 90\n</code></pre>\n"}], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 45361251, "answer_count": 1, "score": 0, "last_activity_date": 1501190615, "creation_date": 1501189851, "question_id": 45361078, "link": "https://stackoverflow.com/questions/45361078/how-to-print-the-next-line-of-a-match-in-perl", "title": "How to print the next line of a match in Perl?", "body": "<p>So, I wrote a script which calculates the factorials of 4^(0) to 4^(10) as I wanted to test the run-times, and I also wanted to compare Stirling's approximation with the with the actual number of digits of the respective factorials. </p>\n\n<p>So I have a file with this data called factorials.txt\nwhich contains the following data for example: </p>\n\n<pre><code>The factorial of 1 is\n1\nThe factorial of 4 is\n24\nThe factorial of 16 is\n20922789888000\nThe factorial of 64 is\n126886932185884164103433389335161480802865516174545192198801894375214704230400000000000000\n</code></pre>\n\n<p>I would like the output of the factorials to be the following: </p>\n\n<pre><code>Factorial 1: 1 digits.\n\nFactorial 4: 2 digits.\n\nFactorial 16: 14 digits.\n\nFactorial 64: 90 digits\n</code></pre>\n\n<p>I was able to write a script to get these values, where after my statement for the factorial of ___ is ... on the next line is the value of the factorial. But I wasn't able to select the next line after the match, so I wrote this much using a while loop through the file matching for the nonexistence of letters, and then printing the length of the characters on the line. It works, but I don't think that it's very efficient.  </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy $file = 'factorials.txt';\nmy $filehandle;\nopen($filehandle, '&lt;', $file) or die \"Could not open file $_ because $!\";\n\nwhile(my $line = &lt;$filehandle&gt;)\n{\nchomp $line;\nmy $index = $.;\n        if($line !~ m/[a-z]/)\n        {\n                say length($line);\n        }\n\n}\n</code></pre>\n\n<p>My script outputs the following, for example:</p>\n\n<pre><code>1\n2\n14\n90\n</code></pre>\n\n<p>I want the parsing script to if it matches the word \"factorial\" on the line, print the length of characters on the next line. I believe this must be possible, but I can't seem to figure out how to go to the next line.</p>\n\n<p>Any ideas? Thanks so much!   </p>\n"}, {"tags": ["regex", "perl", "concatenation"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1501187991, "post_id": 45360595, "comment_id": 77682481, "body": "Please, show some test cases."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501188074, "post_id": 45360595, "comment_id": 77682528, "body": "Two things: <code>#</code> is not a metacharacter (and therefore doesn&#39;t need to be escaped), and you probably want to use <code>\\Q...\\E</code> to quote any potential metacharacters contained inside your variable. Have you tried anything yet?"}, {"owner": {"reputation": 2524, "user_id": 1504882, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e071b156e2d26def3d6988e424c38ef6?s=128&d=identicon&r=PG&f=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/1504882/elias"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1501188150, "post_id": 45360595, "comment_id": 77682574, "body": "@Toto I added a couple."}, {"owner": {"reputation": 2524, "user_id": 1504882, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e071b156e2d26def3d6988e424c38ef6?s=128&d=identicon&r=PG&f=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/1504882/elias"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501188240, "post_id": 45360595, "comment_id": 77682621, "body": "@MattJacob I&#39;m rather inexperienced with Perl and am editing someone else&#39;s script. I have not because I kind of need to know if this is possible for the type of script I am creating. Basically it will look for different strings in different templates for emails. Based on prior criteria the appendValue will be different."}], "answers": [{"comments": [{"owner": {"reputation": 2524, "user_id": 1504882, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e071b156e2d26def3d6988e424c38ef6?s=128&d=identicon&r=PG&f=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/1504882/elias"}, "edited": false, "score": 0, "creation_date": 1501188700, "post_id": 45360697, "comment_id": 77682858, "body": "Thank you. I inherited this script in a language I have 0 experience with and I don&#39;t have much experience with Regex either. I will try this and mark you as answered if it works. Or be back with more questions."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1501188343, "creation_date": 1501188343, "answer_id": 45360697, "question_id": 45360595, "link": "https://stackoverflow.com/questions/45360595/combining-a-variable-and-regular-expression-in-perl/45360697#45360697", "title": "Combining a Variable and Regular Expression in Perl", "body": "<p>The pattern interpolates variables, so no concatenation operator is needed:</p>\n\n<pre><code>$TEMP =~ s/#NAME$appendValue#/$customerName/g;\n</code></pre>\n\n<p>You might need to protect special characters in the variable, though, so use <code>\\Q...\\E</code>:</p>\n\n<pre><code>$TEMP =~ s/#NAME\\Q$appendValue\\E#/$customerName/g;\n</code></pre>\n\n<p><code>#</code> is not special in a regex, so no backslash is needed (but it doesn't hurt).</p>\n"}], "owner": {"reputation": 2524, "user_id": 1504882, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e071b156e2d26def3d6988e424c38ef6?s=128&d=identicon&r=PG&f=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/1504882/elias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 45360697, "answer_count": 1, "score": 0, "last_activity_date": 1501188343, "creation_date": 1501187887, "last_edit_date": 1501188120, "question_id": 45360595, "link": "https://stackoverflow.com/questions/45360595/combining-a-variable-and-regular-expression-in-perl", "title": "Combining a Variable and Regular Expression in Perl", "body": "<p>I have the code:</p>\n\n<pre><code>$TEMP =~ s/\\#NAME\\#/$customerName/g;\n</code></pre>\n\n<p>Where I am replacing <code>#NAME#</code> with the value in <code>$customername</code> using Regex. What I want to do is append a variable onto the end of <code>NAME</code>. </p>\n\n<p>So I want to do something like:</p>\n\n<pre><code>$TEMP =~ s/\\#NAME . $appendValue\\#/$customerName/g;\n</code></pre>\n\n<p>so it will essentially be:</p>\n\n<pre><code>$TEMP =~ s/\\#NAME_1\\#/$customerName/g;\n</code></pre>\n\n<p>Would this work or is there a proper way to handle this?</p>\n\n<hr>\n\n<p>Test Cases:</p>\n\n<ul>\n<li>Hello #NAME#</li>\n<li>This is only intended for #NAME#</li>\n</ul>\n"}, {"tags": ["perl", "template-toolkit"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1501189751, "post_id": 45359745, "comment_id": 77683410, "body": "Put things that repeat into smaller subsets. Templates are like functions in that regard. I would not stick them into folders based on where they are (first) used, but in folders according to what they do or what they are for. A <i>product</i> template for example might be used in the cart, on a detail page, and in a newsletter. It should not be subdir to <i>cart</i> just because that&#39;s where it initially showed up."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501259466, "post_id": 45359745, "comment_id": 77718208, "body": "@simbabque Your answer (well, comment) is not to my question. I have not given the task to restructure the templates and its parts, but just to &quot;translate&quot; from a legacy template &quot;language&quot; into modern Template Toolkit. It is the only task I was assigned. I am not now going to do more restructuring work"}], "answers": [{"tags": [], "owner": {"reputation": 1393, "user_id": 870000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0b0a0147d36c80b4b003617caad4f76?s=128&d=identicon&r=PG", "display_name": "Sam Graham", "link": "https://stackoverflow.com/users/870000/sam-graham"}, "is_accepted": true, "score": 2, "last_activity_date": 1501533726, "creation_date": 1501533726, "answer_id": 45424942, "question_id": 45359745, "link": "https://stackoverflow.com/questions/45359745/template-toolkit-extracting-a-part-of-a-template/45424942#45424942", "title": "Template Toolkit: Extracting a part of a template", "body": "<p>Are you asking whether there's a better way to extract the fragment from the parent template?</p>\n\n<p>(Answer is: no, that's probably the best way.)</p>\n\n<p>Or are you asking is there a better way to organize the extracted fragements?</p>\n\n<p>(Answer is: no real best answer, everywhere will have their own house style - you aren't going to go too far wrong by picking any convention.)</p>\n\n<p>Most common conventions for naming I've seen are subdirectories <code>x/A.html</code> and prefixes <code>x_A.html</code>. Whether you use the name of the parent template for <code>x</code> or you choose to group by functionality as simbabque suggested is another matter of taste: grouping by functionality scales better on larger and more complicated layouts where you have a great deal of reuse of components, but grouping by use case is conceptually simpler in smaller use cases with little or no component reuse.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 45424942, "answer_count": 1, "score": 1, "last_activity_date": 1501533726, "creation_date": 1501184696, "question_id": 45359745, "link": "https://stackoverflow.com/questions/45359745/template-toolkit-extracting-a-part-of-a-template", "title": "Template Toolkit: Extracting a part of a template", "body": "<p>I was assigned the task to rewrite our home-made templates with Perl Template Toolkit.</p>\n\n<p>Our templates have the possibility to extract a fragment of the template (and then make HTML from it) instead of using the entire template.</p>\n\n<p>How to do it with Template Toolkit?</p>\n\n<p>The best solution I came with is the following:</p>\n\n<p>Let we have a template <code>x.html</code> with fragment <code>A</code>.</p>\n\n<p>The fragment should be extracted into new file. (I am to name it like <code>x/A.html</code> for consistency.) In the original template <code>x.html</code> it should be replaced with <code>[% INCLUDE 'x/A.html' %]</code>. So I could be able to use either the entire template <code>x.html</code> or its fragment <code>x/A.html</code>. Probably we may have several levels of inclusion like <code>x/A/B.html</code>.</p>\n\n<p>Are there other ways to do it? (I don't like to idea to split it in subdirectories as described above, but haven't come up with a better solution.)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1501182212, "post_id": 45358970, "comment_id": 77679513, "body": "Use <a href=\"https://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\"><code>join</code></a> on a list, and don&#39;t use <code>$a</code> and <code>$b</code> as variable names---those are special and should only be used with <code>sort</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501182656, "post_id": 45358970, "comment_id": 77679781, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5741101/easy-way-to-print-perl-array-with-a-little-formatting\">Easy way to print Perl array? (with a little formatting)</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501187383, "post_id": 45359051, "comment_id": 77682196, "body": "Needn&#39;t be in one statement of course. Can build an array and do other needed things (and checks) in that loop, then print <code>join</code>ed array."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1501182249, "creation_date": 1501182249, "answer_id": 45359051, "question_id": 45358970, "link": "https://stackoverflow.com/questions/45358970/concat-string-with-a-separator/45359051#45359051", "title": "Concat string with a separator", "body": "<pre><code>say join ', ', map { /foo(.*)\\.txt/ } glob \"foo*.txt\";\n</code></pre>\n\n<p>Build the list/array first then use <code>join</code>.</p>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 45359051, "answer_count": 1, "score": 1, "last_activity_date": 1501182249, "creation_date": 1501181928, "question_id": 45358970, "link": "https://stackoverflow.com/questions/45358970/concat-string-with-a-separator", "title": "Concat string with a separator", "body": "<pre><code>$ ls /tmp/foo/\nfoo10.txt  foo11.txt  foo15.txt\n\n$ cat ./foo.pl \nuse warnings;\nuse strict;\nuse Cwd;\nmy $dir = cwd();\nchdir '/tmp/foo';\nmy @files = glob \"foo*.txt\";\nmy $b = \"\";\nfor (0..$#files) {\n  my ($a) = $files[$_] =~ m/foo(.*)\\.txt/;\n  $b = $b.\",\".$a;\n}\nchdir $dir;\nprint \"$b\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ perl ./foo.pl \n,10,11,15\n</code></pre>\n\n<p>How do I avoid first comma, just before 10? also please suggest if there is a better logic than this.</p>\n"}, {"tags": ["java", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8377877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFQOx.jpg?s=128&g=1", "display_name": "phalanx", "link": "https://stackoverflow.com/users/8377877/phalanx"}, "edited": false, "score": 0, "creation_date": 1501181633, "post_id": 45358424, "comment_id": 77679189, "body": "So with your helpful information would the following be the literal translation?       zone_filename = zone_filename.toString().replaceAll(&quot;/&quot;, &quot;\\&quot;);"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3, "user_id": 8377877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFQOx.jpg?s=128&g=1", "display_name": "phalanx", "link": "https://stackoverflow.com/users/8377877/phalanx"}, "edited": false, "score": 0, "creation_date": 1501181748, "post_id": 45358424, "comment_id": 77679249, "body": "<code>zone_filename</code> is probably already a string, so you can drop the <code>.toString</code> <code>.replaceAll(&quot;&#47;&quot;, &quot;\\&quot;)</code> does indeed to the trick (though I think you need to escape that <code>\\ </code> for it to compile...)"}, {"owner": {"reputation": 3, "user_id": 8377877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFQOx.jpg?s=128&g=1", "display_name": "phalanx", "link": "https://stackoverflow.com/users/8377877/phalanx"}, "edited": false, "score": 0, "creation_date": 1501181944, "post_id": 45358424, "comment_id": 77679365, "body": "You were right again. Thank you for catching that, and thank you for your assistance."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1501180434, "last_edit_date": 1501180434, "creation_date": 1501179961, "answer_id": 45358424, "question_id": 45358046, "link": "https://stackoverflow.com/questions/45358046/what-does-this-perl-mean-and-how-would-one-translate-it-into-java/45358424#45358424", "title": "What does this Perl mean, and how would one translate it into Java?", "body": "<p>If the variable <code>$zone_filename</code> doesn't contain a string, the value is first stringified. Then, the string in <code>$zone_filename</code> is replaced with one where all instances of <code>/</code> are replaced with <code>\\</code>.</p>\n\n<p>If you have further problems coding this in Java, please show your work and identify what problems you are having.</p>\n"}], "owner": {"reputation": 3, "user_id": 8377877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFQOx.jpg?s=128&g=1", "display_name": "phalanx", "link": "https://stackoverflow.com/users/8377877/phalanx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 45358424, "answer_count": 1, "score": -3, "last_activity_date": 1501180434, "creation_date": 1501178685, "last_edit_date": 1501180364, "question_id": 45358046, "link": "https://stackoverflow.com/questions/45358046/what-does-this-perl-mean-and-how-would-one-translate-it-into-java", "title": "What does this Perl mean, and how would one translate it into Java?", "body": "<p>I found this in some code I am having to translate into java, and I am lost in translating it. Does anyone know what this transliteration is doing, and if there is any java equivalent this transliteration?</p>\n\n<pre><code>$zone_filename=~tr^/^\\\\^;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501178586, "post_id": 45357987, "comment_id": 77677451, "body": "A key that doesn&#39;t exist or whose value is undefined returns <code>undef</code>, so you can just use <a href=\"https://perldoc.perl.org/functions/defined.html\" rel=\"nofollow noreferrer\"><code>defined</code></a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1501178651, "post_id": 45357987, "comment_id": 77677482, "body": "Provide accessors (instead of accessing the hash directly) if you want special stuff to happen."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1501180854, "last_edit_date": 1501180854, "creation_date": 1501179449, "answer_id": 45358263, "question_id": 45357987, "link": "https://stackoverflow.com/questions/45357987/perl-capturing-undefined-keys-in-a-class/45358263#45358263", "title": "Perl - capturing undefined keys in a class?", "body": "<p>Your class can wrap a <a href=\"https://metacpan.org/pod/perltie#Tying-Hashes\" rel=\"nofollow noreferrer\">tied hash</a></p>\n\n<pre><code>package Example::Tie;\nsub TIEHASH {\n    my ($pkg,@list) = @_;\n    bless { @list }, $pkg;\n}\n\nsub FETCH {\n    my ($tied,$key) = @_;\n    if (!defined($tied-&gt;{$key})) {\n        warn \"$key is undefined!\";\n    }\n    $tied-&gt;{$key};\n}\n\nsub STORE {\n    my ($tied,$key,$val) = @_;\n    $tied-&gt;{$key} = $val;\n}\n\npackage Example;\n\nsub new {\n    my ($pkg,@list) = @_;\n    my $self = {};\n    tie %$self, 'Example::Tie', @list;\n    bless $self, $pkg;\n}\n\n###########\n\npackage main;\nmy $exp = Example-&gt;new();\nprint $exp-&gt;{fieldname};\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>fieldname is undefined! at 45357987.pl line 10.\n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 45358263, "answer_count": 1, "score": 0, "last_activity_date": 1501180854, "creation_date": 1501178463, "question_id": 45357987, "link": "https://stackoverflow.com/questions/45357987/perl-capturing-undefined-keys-in-a-class", "title": "Perl - capturing undefined keys in a class?", "body": "<p>We can capture undefined methods using <code>AUTOLOAD</code>, is there a way to capture undefined variables in a class instance?</p>\n\n<pre><code>package Example;\nsub new {\n    my ($class) = @_;\n    my $self = {};\n    bless($self, $class);\n    return $self;\n}\nsub AUTOLOAD {\n    print(\"hello\\n\");\n}\n\n\nuse Example;\nmy $exp = Example-&gt;new();\n$exp-&gt;methodname; # prints \"hello\"\n$exp-&gt;{fieldname}; # currently undefined\n</code></pre>\n"}, {"tags": ["perl", "exec", "stdout", "stdin", "stderr"], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 5490719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-obsSHHWf_o8/AAAAAAAAAAI/AAAAAAAAALk/tZpZCJsA4C8/photo.jpg?sz=128", "display_name": "Greg Kennedy", "link": "https://stackoverflow.com/users/5490719/greg-kennedy"}, "is_accepted": true, "score": 5, "last_activity_date": 1501172606, "creation_date": 1501172606, "answer_id": 45356213, "question_id": 45356212, "link": "https://stackoverflow.com/questions/45356212/redirect-stdout-and-stderr-in-exec-without-shell/45356213#45356213", "title": "Redirect STDOUT and STDERR in exec()... without shell", "body": "<p>Redirection via <code>&lt;</code> and <code>&gt;</code> is a <strong>shell feature</strong>, which is why it does not work in this usage.  You are essentially calling <code>/bin/ls</code> and passing <code>&gt;/tmp/stdout</code> as just another argument, which is easily visible when replacing the command by <code>echo</code>:</p>\n\n<pre><code>exec ('/bin/echo', '/etc', '&gt;/tmp/stdout');\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>/etc &gt;/tmp/stdout\n</code></pre>\n\n<p>Normally, your shell (<code>/bin/sh</code>) would have parsed the command, spotted the redirection attempts, opened the proper files, and also pruned the argument list going in to <code>/bin/echo</code>.</p>\n\n<p>However -\nA program started with <code>exec()</code> (or <code>system()</code>) will inherit the <code>STDIN</code>, <code>STDOUT</code> and <code>STDERR</code> files of its calling process.  So, the proper way to handle this is to</p>\n\n<ul>\n<li>close each special filehandle,</li>\n<li>re-open them, pointing at your desired logfile, and</li>\n<li>finally call <code>exec()</code> to start the program.</li>\n</ul>\n\n<p>Rewriting your example code above, this works fine:</p>\n\n<pre><code>close STDOUT;\nopen (STDOUT, '&gt;', '/tmp/stdout');\nexec ('/bin/ls', '/etc');\n</code></pre>\n\n<p>...or, using the indirect-object syntax recommended by <code>perldoc</code>:</p>\n\n<pre><code>close STDOUT;\nopen (STDOUT, '&gt;', '/tmp/stdout');\nexec { '/bin/ls' } ('ls', '/etc');\n</code></pre>\n\n<p>(in fact, according to the documentation, this final syntax is the only reliable way to avoid instantiating a shell in Windows.)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1501215864, "last_edit_date": 1501215864, "creation_date": 1501173870, "answer_id": 45356597, "question_id": 45356212, "link": "https://stackoverflow.com/questions/45356212/redirect-stdout-and-stderr-in-exec-without-shell/45356597#45356597", "title": "Redirect STDOUT and STDERR in exec()... without shell", "body": "<p>The following shell command tells the shell to launch <code>/bin/ls</code> with <code>/etc</code> for argument with its STDOUT redirected.</p>\n\n<pre><code>/bin/ls /etc &gt;/tmp/stdout\n</code></pre>\n\n<p>On the other hand, the following Perl statement tells the Perl to replace the current program with <code>/bin/ls</code>, with <code>/etc</code> and <code>&gt;/tmp/stdout</code> for arguments.</p>\n\n<pre><code>exec('/bin/ls', '/etc', '&gt;/tmp/stdout');\n</code></pre>\n\n<p>You didn't tell Perl to redirect STDOUT at all! Remember <code>exec</code> doesn't start a new process, so if you change the child process's fd 1, it will effect <code>ls</code> running in the same process.</p>\n\n<p>But rather than just fixing this one problem (as Greg Kennedy did) but leave your other problems intact (e.g. misreporting the inability of launching <code>ls</code> as an error from <code>ls</code>), I'll show you to fix them all:</p>\n\n<pre><code>use IPC::Open3 qw( open3 );\n\nmy $stdout = '';\n{\n   # open3 will close the handle used as the child's STDIN.\n   # open3 has issues with lexical file handles.\n   open(local *CHILD_STDIN, '&lt;', '/dev/null') or die $!;\n\n   my $pid = open3('&lt;&amp;CHILD_STDIN', local *CHILD_STDOUT, '&gt;&amp;STDERR',\n      '/bin/ls', '/etc');\n\n   while (my $line = &lt;CHILD_STDOUT&gt;) {\n      $stdout .= $line;\n   }\n\n   waitpid($pid, 0);\n}\n</code></pre>\n\n<p>While that saved you a hundred lines of code, <a href=\"http://search.cpan.org/perldoc?IPC::Open3\" rel=\"nofollow noreferrer\"><code>open3</code></a> is a still quite low-level. (You'll run into problems if you have to deal with two pipes.) I instead recommend <a href=\"http://search.cpan.org/perldoc?IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a> (simpler) or <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> (more flexible).</p>\n\n<pre><code>use IPC::Run3 qw( run3 );\nrun3([ '/bin/ls', '/etc' ], \\undef, \\my $stdout);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use IPC::Run qw( run );\nrun([ '/bin/ls', '/etc' ], \\undef, \\my $stdout);\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 5490719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-obsSHHWf_o8/AAAAAAAAAAI/AAAAAAAAALk/tZpZCJsA4C8/photo.jpg?sz=128", "display_name": "Greg Kennedy", "link": "https://stackoverflow.com/users/5490719/greg-kennedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1436, "favorite_count": 1, "accepted_answer_id": 45356213, "answer_count": 2, "score": 1, "last_activity_date": 1501215864, "creation_date": 1501172606, "last_edit_date": 1592644375, "question_id": 45356212, "link": "https://stackoverflow.com/questions/45356212/redirect-stdout-and-stderr-in-exec-without-shell", "title": "Redirect STDOUT and STDERR in exec()... without shell", "body": "<p>I am attempting to use Perl5 to <code>fork()</code> a child process.  The child process should <code>exec()</code> another program, redirecting its <code>STDIN</code> to a named pipe, and <code>STDOUT</code> and <code>STDERR</code> to log files.  The parent process continues running in a loop, using <code>waitpid</code> and checking <code>$?</code> to restart the child in case it dies with non-zero exit status.</p>\n<p>Perl documentation for the <code>exec()</code> function says:</p>\n<blockquote>\n<p>If there is more than one argument in LIST, this calls <em>execvp(3)</em> with the arguments in LIST. If there is only one element in LIST, the argument is checked for shell metacharacters, and if there are any, the entire argument is passed to the system's command shell for parsing (this is <code>/bin/sh -c</code> on Unix platforms, but varies on other platforms). If there are no shell metacharacters in the argument, it is split into words and passed directly to <code>execvp</code>, which is more efficient. Examples:</p>\n<pre><code>exec '/bin/echo', 'Your arguments are: ', @ARGV;\nexec &quot;sort $outfile | uniq&quot;;\n</code></pre>\n</blockquote>\n<p>This sounds pretty cool, and I'd like to run my external program without an intermediary shell, as shown in these examples.  Unfortunately, I am unable to combine this with output redirection (as in <code>/bin/foo &gt; /tmp/stdout</code>).</p>\n<p><strong>In other words, this does not work:</strong></p>\n<pre><code>exec ( '/bin/ls', '/etc', '&gt;/tmp/stdout' );\n</code></pre>\n<p>So, my question is: how do I redirect the <code>STD*</code> files for my sub-command, without using the shell?</p>\n"}, {"tags": ["json", "perl", "zapier"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501177249, "post_id": 45355978, "comment_id": 77676700, "body": "This question is waaaaayyyy too broad."}, {"owner": {"reputation": 275557, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1501345960, "post_id": 45355978, "comment_id": 77743702, "body": "Please don&#39;t vandalize your own question"}], "answers": [{"tags": [], "owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "is_accepted": false, "score": 0, "last_activity_date": 1501176942, "creation_date": 1501176942, "answer_id": 45357516, "question_id": 45355978, "link": "https://stackoverflow.com/questions/45355978/perl-zapier-integration-via-webhooks/45357516#45357516", "title": "Perl/Zapier integration via webhooks", "body": "<p>Posting is easily done with <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"nofollow noreferrer\">HTTP::Tiny</a>.  There is a plethora of JSON parsers on CPAN. See, e.g. <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 697, "user_id": 2225632, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/1026597524636f4c242fe47afd47e14d?s=128&d=identicon&r=PG", "display_name": "stackoverflowrocks", "link": "https://stackoverflow.com/users/2225632/stackoverflowrocks"}, "is_accepted": false, "score": 0, "last_activity_date": 1501345761, "creation_date": 1501345761, "answer_id": 45391557, "question_id": 45355978, "link": "https://stackoverflow.com/questions/45355978/perl-zapier-integration-via-webhooks/45391557#45391557", "title": "Perl/Zapier integration via webhooks", "body": "<p>Got it working like this:</p>\n\n<pre><code>use HTTP::Tiny;\n\nmy %data = (\n        id  =&gt; \"1234\",\n        first_name =&gt; \"Name\",\n        email  =&gt; \"email\\@example.com\",\n        phone  =&gt; \"1234567890\",\n);\n\nmy $response = HTTP::Tiny-&gt;new-&gt;post_form('https://www.example.com', \\%data);\n</code></pre>\n"}], "owner": {"reputation": 697, "user_id": 2225632, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/1026597524636f4c242fe47afd47e14d?s=128&d=identicon&r=PG", "display_name": "stackoverflowrocks", "link": "https://stackoverflow.com/users/2225632/stackoverflowrocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501345949, "creation_date": 1501171865, "last_edit_date": 1501345949, "question_id": 45355978, "link": "https://stackoverflow.com/questions/45355978/perl-zapier-integration-via-webhooks", "title": "Perl/Zapier integration via webhooks", "body": "<p>I'd like to set up integration with zapier.com/help/webhooks which I'm hoping will give me useful access to a lot of apps without integrating with each app's API.  I'm told I need to POST some JSON to Zapier and then parse the response.  Here's what I have but I'm getting: \"Usage: $http->www_form_urlencode(DATAREF)\".</p>\n\n<pre><code>my %data = (\n            id  =&gt; \"1234\",\n            first_name =&gt; \"Name\",\n            email  =&gt; \"email@example.com\",\n            phone  =&gt; \"1234567890\",\n);\nmy $data = \\%data;\n\nmy $http = HTTP::Tiny-&gt;new();\nmy $params = $http-&gt;www_form_urlencode( $data );\nmy $response = $http-&gt;post_form($url, $params);\n</code></pre>\n"}, {"tags": ["perl", "temp", "filehandle"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1501172588, "post_id": 45355761, "comment_id": 77673787, "body": "Third arg to <code>open</code> should be a filename (so <code>$filename</code>), not a file handle (<code>$fh</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1501172518, "creation_date": 1501172518, "answer_id": 45356194, "question_id": 45355761, "link": "https://stackoverflow.com/questions/45355761/using-a-separate-file-handle-to-read-a-temporary-file-created-using-filetemp/45356194#45356194", "title": "Using a separate file handle to read a temporary file created using File::Temp", "body": "<p>To clone (\"dup\") a system file handle, the syntax is</p>\n\n<pre><code>open(my $fh, '&lt;&amp;', $fh_to_dup)          # dups into a new fd\n</code></pre>\n\n<p>or</p>\n\n<pre><code>open($existing_fh, '&lt;&amp;=', $fh_to_dup)   # dupds into fd fileno($existing_fh)\n</code></pre>\n\n<p>so you want</p>\n\n<pre><code>open(my $ANOTHER_FH, \"&lt;&amp;\", $fh)         # Avoid needless use of globals!\n   or die(\"Can't dup temp file: $!\\n\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1515782280, "last_edit_date": 1515782280, "creation_date": 1515663886, "answer_id": 48203922, "question_id": 45355761, "link": "https://stackoverflow.com/questions/45355761/using-a-separate-file-handle-to-read-a-temporary-file-created-using-filetemp/48203922#48203922", "title": "Using a separate file handle to read a temporary file created using File::Temp", "body": "<p>Use <code>$filename</code> instead of <code>$fh</code>:</p>\n\n<pre><code>open ANOTHERFH, \"&lt;\", $filename   or die \"Cannot open $filename\\n\";\n</code></pre>\n\n<p>Or use <code>dup</code> as @ikegami suggest</p>\n"}], "owner": {"reputation": 245, "user_id": 5483086, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-Jy4zcLAdO1g/AAAAAAAAAAI/AAAAAAAAADs/WAgYfacy-7o/photo.jpg?sz=128", "display_name": "aman", "link": "https://stackoverflow.com/users/5483086/aman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1515782280, "creation_date": 1501171222, "question_id": 45355761, "link": "https://stackoverflow.com/questions/45355761/using-a-separate-file-handle-to-read-a-temporary-file-created-using-filetemp", "title": "Using a separate file handle to read a temporary file created using File::Temp", "body": "<p>I created a temporary file using File::Temp and added some data to it. At some other point of time, I would like to read the temporary file, using a separate file handle (seek method works). Following is the code snippet.</p>\n\n<pre><code>#!usr/local/bin/perl\nuse File::Temp qw(tempfile);\n\nmy ($fh, $filename) = tempfile( SUFFIX =&gt; '.txt' );\nmy $towrite = \"XXXX\\nYYYY\\nZZZZ\\n\";\n\nopen ANOTHERFH, \"&lt;\", $fh or die \"Cannot open $FH\\n\";\nwhile (&lt;ANOTHERFH&gt;) {\n   print \"ANOTHERFH: $_\";\n}\nclose ANOTHERFH;\n</code></pre>\n\n<p>However, I get an error stating \"Can't open GLOB....\"\nAny suggestions</p>\n"}, {"tags": ["perl", "module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501182800, "post_id": 45355710, "comment_id": 77679852, "body": "(1) Include only what is needed in each module  (2) You can <code>require Mod; Mod-&gt;import(qw(...));</code> inside that sub so it goes at runtime thus only if the sub runs. Bad: you don&#39;t see that <code>Mod</code> is used by glancing at the top of the file; importing at runtime may differ for some modules, and imply different use, see <a href=\"https://stackoverflow.com/q/41094774/4653379\">this Q</a>.  Your call, I&#39;d say.  I do load modules at runtime, when they are heavy and indeed used infrequently.  Note, this relieves compilation time (every time) on the account of some runtime overhead (only when it happens)."}], "answers": [{"tags": [], "owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "is_accepted": true, "score": 0, "last_activity_date": 1501173359, "last_edit_date": 1501173359, "creation_date": 1501172457, "answer_id": 45356173, "question_id": 45355710, "link": "https://stackoverflow.com/questions/45355710/management-of-imported-modules-in-module-consisting-of-multiple-files/45356173#45356173", "title": "Management of imported modules in module consisting of multiple files", "body": "<p>I think a good general principle is <a href=\"http://norvig.com/luv-slides.ps\" rel=\"nofollow noreferrer\"><strong>be specific</strong></a> (<em>I linked Peter Norvig's and Kent Pitman's slides for their tutorial on Lisp programming good style: there are parts specific to Lisp but also good general advices</em>). </p>\n\n<p>This means that in a multi-file project each module should be use'd in the most narrowest scope (I mean scope file-wise) where they're needed. Loading modules in the top package would violate this specificity principle, because they are <em>not specifically</em> needed there.</p>\n\n<p>That being said, I think we can extend this criteria to importing symbols into namespaces. I mean this style from your example:</p>\n\n<blockquote>\n<pre><code># MyModule.pm\nuse File::Spec qw(catdir);\n...\n# MyMethod.pm\nuse File::Spec qw(catdir);\n...\n# AnotherMethod.pm\nuse File::Spec qw(catfile);\n</code></pre>\n</blockquote>\n\n<p>There are no inefficiencies implied in this double <code>use</code>. To explain why, we need to examine some details of how it works.</p>\n\n<pre><code>use Module qw/ foo bar baz /;\n</code></pre>\n\n<p>is roughly equivalent to:</p>\n\n<pre><code>require Module;\nModule-&gt;import( qw/ foo bar baz / );\n</code></pre>\n\n<p><code>require</code> loads and compiles the module <strong>if and only if</strong> it has been <strong>not</strong> loaded before (to do so it examines the status of the special hash <code>%INC</code>: you can read more details in the <a href=\"http://perldoc.perl.org/functions/require.html\" rel=\"nofollow noreferrer\">documentation for <code>require</code></a>.</p>\n\n<p><code>import</code> will be called three times (one in <code>MyModule</code>, one in <code>MyMethod</code> and one in <code>AnotherMethod</code>), but there's no way around it because one way or the other we need to have those symbols in each package.</p>\n\n<p>Importing only what is needed is also a form of documenting the /intentions/ of your module, and it could also make refactoring easier, in perspective.</p>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 45356173, "answer_count": 1, "score": 1, "last_activity_date": 1501173359, "creation_date": 1501171079, "question_id": 45355710, "link": "https://stackoverflow.com/questions/45355710/management-of-imported-modules-in-module-consisting-of-multiple-files", "title": "Management of imported modules in module consisting of multiple files", "body": "<p>I am building my first ever Perl module, and I am wondering what the best practice is of loading modules in your own module. I did read <a href=\"https://stackoverflow.com/a/1457885/1150683\">this answer</a>, but it seems to talk about single file projects.</p>\n\n<p>I started out by simply loading all modules I'd ever need in the project in the main file (let's call it <code>MyModule.pm</code>), like so:</p>\n\n<pre><code>use Config::IniFiles;\nuse File::Spec qw(catdir catfile curdir);\nuse File::Path qw(remove_tree);\nuse File::Basename qw(fileparse dirname);\nuse Cwd qw(abs_path);\nuse XML::Twig;\nuse Getopt::Long;\n</code></pre>\n\n<p>But then I realised that not all modules (or subroutines/methods) are always necessary. For instance, it is possible that <code>File::Path</code> is only required in a single method of the module, which has its own file (e.g. <code>MyMethod.pm</code>). Would I then <em>not</em> <code>use</code> File::Path in <code>MyModule.pm</code>, but only in <code>MyMethod.pm</code></p>\n\n<p>Furthermore, should this be extended to specific <code>use</code>'ing of subroutines as well? For instance, let's say I need to use <code>catdir</code> in MyModule.pm and MyMethod.pm, but catfile in AnotherMethod.pm, would I split that up as well? I assume that Perl will just ignore a subroutine if it's already been imported but I am asking about the common practice. Would I do this?</p>\n\n<pre><code># MyModule.pm\nuse File::Spec qw(catdir);\n...\n# MyMethod.pm\nuse File::Spec qw(catdir);\n...\n# AnotherMethod.pm\nuse File::Spec qw(catfile);\n...\n</code></pre>\n\n<p>Or rather</p>\n\n<pre><code># MyModule.pm\nuse File::Spec qw(catdir catfile);\n...\n# MyMethod.pm\nuse File::Spec qw(catdir catfile);\n...\n# AnotherMethod.pm\nuse File::Spec qw(catdir catfile);\n...\n</code></pre>\n\n<p>Or even simply</p>\n\n<pre><code># MyModule.pm\nuse File::Spec qw(catdir catfile);\n...\n</code></pre>\n\n<p>To me it seems nice to split them up, as in the first example. That way, you immediately see what the dependencies for each file are. But I am wondering what the typical 'Perl style' for this is, or if there are up/downsides of any of these examples.</p>\n"}, {"tags": ["perl", "pdf", "lwp"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1501171711, "post_id": 45355693, "comment_id": 77673209, "body": "You get also  the error message if you are trying to access this link directly with a browser. Thus there is some authentication, cookie, referer or whatever needed additionally to the link."}, {"owner": {"reputation": 103, "user_id": 2694987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d8f4026e2253a626b08c67ad3bf8d9?s=128&d=identicon&r=PG&f=1", "display_name": "spatiallyConfused", "link": "https://stackoverflow.com/users/2694987/spatiallyconfused"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1501172024, "post_id": 45355693, "comment_id": 77673409, "body": "It&#39;s a bit hit and miss with the browser: the majority of times when I paste the path into the browser, the PDF loads up correctly. Sometimes it gives the HTML error page, but not in most cases."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501172762, "post_id": 45355693, "comment_id": 77673878, "body": "Re &quot;<i>the majority of times when I paste the path into the browser, the PDF loads up correctly</i>&quot;, Then, the majority of the time, you had previously visited the main site first. The download site expects cookies set by the main site."}, {"owner": {"reputation": 103, "user_id": 2694987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d8f4026e2253a626b08c67ad3bf8d9?s=128&d=identicon&r=PG&f=1", "display_name": "spatiallyConfused", "link": "https://stackoverflow.com/users/2694987/spatiallyconfused"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1501173155, "post_id": 45355693, "comment_id": 77674151, "body": "Yes, you are probably both right. I had been assuming it was temporary server glitches, but the cookies make sense. I will test with HTTP::Cookies and see what I find! Thanks, @SteffenUllrich and ikegami !"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501292579, "post_id": 45361150, "comment_id": 77730135, "body": "There&#39;s no need to store the home page; just <code>$browser-&gt;get($homeUrl)</code> will do fine. And <code>$homeContents</code> etc. are <code>HTTP::Response</code> objects, not &quot;contents&quot;, and you really should test them for success: <code>my $res = $browser-&gt;get($url); die $res-&gt;status_line unless $res-&gt;is_success;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501443915, "post_id": 45361150, "comment_id": 77768200, "body": "You misunderstood my meaning. I&#39;ve modified your code to demonstrate."}], "tags": [], "owner": {"reputation": 103, "user_id": 2694987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d8f4026e2253a626b08c67ad3bf8d9?s=128&d=identicon&r=PG&f=1", "display_name": "spatiallyConfused", "link": "https://stackoverflow.com/users/2694987/spatiallyconfused"}, "is_accepted": true, "score": 1, "last_activity_date": 1501443810, "last_edit_date": 1501443810, "creation_date": 1501190142, "answer_id": 45361150, "question_id": 45355693, "link": "https://stackoverflow.com/questions/45355693/unable-to-download-pdfs-with-perl-and-lwp/45361150#45361150", "title": "Unable to download PDFs with Perl and LWP", "body": "<p>Ok, thanks to @SteffenUllrich and @ ikegami for putting me on the right track! </p>\n\n<p>It is indeed a cookie issue. The fix? Open a cookie jar, access the homepage of the site first, then access the PDF once a cookie has been stored in the jar. </p>\n\n<p>This can be done without using HTTP::Cookies. We need to use LWP::UserAgent instead of LWP::Simple, however. </p>\n\n<p>Minimal working example below: </p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse LWP::UserAgent;\n\nmy $homeUrl       = \"https://documents.un.org/prod/ods.nsf/home.xsp\"; \nmy $pdfUrl        = \"https://documents-dds-ny.un.org/doc/UNDOC/GEN/N16/100/02/PDF/N1610002.pdf\";\nmy $pdfOutputName = \"test.pdf\"; \n\nmy $browser = LWP::UserAgent-&gt;new( cookie_jar =&gt; { } );\n\nmy $resp;\n\n$resp = $browser-&gt;get( $homeUrl );\ndie $resp-&gt;status_line unless $resp-&gt;is_success;\n\n$resp = $browser-&gt;get( $pdfUrl, ':content_file' =&gt; $pdfOutputName );\ndie $resp-&gt;status_line unless $resp-&gt;is_success;\n</code></pre>\n\n<p>This will produce a complete PDF file. </p>\n"}], "owner": {"reputation": 103, "user_id": 2694987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d8f4026e2253a626b08c67ad3bf8d9?s=128&d=identicon&r=PG&f=1", "display_name": "spatiallyConfused", "link": "https://stackoverflow.com/users/2694987/spatiallyconfused"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 45361150, "answer_count": 1, "score": 0, "last_activity_date": 1501443810, "creation_date": 1501171015, "question_id": 45355693, "link": "https://stackoverflow.com/questions/45355693/unable-to-download-pdfs-with-perl-and-lwp", "title": "Unable to download PDFs with Perl and LWP", "body": "<p>I'm trying to use LWP::Simple in Perl to download a number of PDF documents from the United Nations website (Security Council resolutions, etc.). Yet instead of returning PDFs, I am receiving an HTML error page. Consider this very simple example: </p>\n\n<pre><code>use LWP::Simple;\nuse strict;\n\nmy $url = 'https://documents-dds-ny.un.org/doc/UNDOC/GEN/N16/100/02/PDF/N1610002.pdf';\nmy $file = 'test.pdf';\ngetstore($url, $file);\n</code></pre>\n\n<p>If I then look at the contents of \"test.pdf\", I find that they are an HTML page. </p>\n\n<p>I have also tried a number of tricks with LWP::UserAgent and even with cURL, but with no success. Any ideas?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1501165321, "post_id": 45353287, "comment_id": 77668415, "body": "&quot;isn&#39;t turning out good&quot;, &quot;this as well isn&#39;t helping&quot;. It might help us if you were a little clearer about what problems you had with the approaches you have tried. Your descriptions aren&#39;t very clear."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1501165504, "post_id": 45353287, "comment_id": 77668567, "body": "some sample data and expected output would be helpful in understanding what you want"}, {"owner": {"reputation": 47, "user_id": 8203581, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-iiq69Nz5ZjQ/AAAAAAAAAAI/AAAAAAAAFlQ/cZJ7Yy3H3j4/photo.jpg?sz=128", "display_name": "Krushna Sonar", "link": "https://stackoverflow.com/users/8203581/krushna-sonar"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501218574, "post_id": 45353287, "comment_id": 77691178, "body": "@DaveCross I am sorry for the less information. Basically my you can imagine it as: array1=(&#39;adam west&#39;, &#39;daric dalon&#39;,&#39;tom helic&#39;,&#39;todd nick&#39;,&#39;riley remer&#39;); array2=(&#39;adam west 12&#39;, &#39;daric dalon mr.&#39;,&#39;tom helic (fads)&#39;,&#39;todd nick (456)&#39;,&#39;riley remer&#39;,&#39;john steve&#39;,&#39;dim madz 12&#39;);  Now you can see that the elements do not exactly match each other, but that is not the issue, my script matches it efficiently. The problem is when I am trying to find out the index of the element in bigger array, here array2."}, {"owner": {"reputation": 47, "user_id": 8203581, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-iiq69Nz5ZjQ/AAAAAAAAAAI/AAAAAAAAFlQ/cZJ7Yy3H3j4/photo.jpg?sz=128", "display_name": "Krushna Sonar", "link": "https://stackoverflow.com/users/8203581/krushna-sonar"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1501218653, "post_id": 45353287, "comment_id": 77691206, "body": "@ysth I am sorry for the inconvenience. Sample: array1=(&#39;adam west&#39;, &#39;daric dalon&#39;,&#39;tom helic&#39;,&#39;todd nick&#39;,&#39;riley remer&#39;); array2=(&#39;adam west 12&#39;, &#39;daric dalon mr.&#39;,&#39;tom helic (fads)&#39;,&#39;todd nick (456)&#39;,&#39;riley remer&#39;,&#39;john steve&#39;,&#39;dim madz 12&#39;);  Expected output: Index of the matched element in the bigger array, here array2."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501226505, "post_id": 45353287, "comment_id": 77695126, "body": "@KrushnaSonar: For important clarifications like this, you shouldn&#39;t just dump the new information in a comment. Firstly, the formatting in comments is terrible and secondly, people might not read the comment. Please <a href=\"https://stackoverflow.com/posts/45353287/edit\">edit your question</a> to add your new information."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501226576, "post_id": 45353287, "comment_id": 77695184, "body": "And, really, the information about the elements of the two arrays not being identical is crucial information. You really should have put that in your question from the start."}], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "is_accepted": false, "score": 2, "last_activity_date": 1501166645, "creation_date": 1501166645, "answer_id": 45354101, "question_id": 45353287, "link": "https://stackoverflow.com/questions/45353287/index-of-element-of-one-array-in-another-array-avoiding-listutils/45354101#45354101", "title": "Index of element of one array in another array avoiding list::utils", "body": "<p>I think you need something like this:</p>\n\n<pre><code>use Data::Dumper\n\nmy @indexes = ();\n#create hash of \"first_index\" elemets in @org_name\nmy %tmp = map { $org_name[$_] =&gt; $_ } reverse 0..$#org_name;\n\nfor my $t (@allNames) {\n    if(exists($tmp{$t})) {\n        push @indexes, $tmp{$t};\n    }\n}\n\nprint Dumper @indexes;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 0, "creation_date": 1501231297, "post_id": 45354188, "comment_id": 77698094, "body": "The OP messed up the way he asked this question, no doubt. That said, I don&#39;t think you&#39;re using regexes in a safe way. If you want to check that one string starts with another, using <code>index()</code> would be safer, and <code>substr</code>+<code>eq</code> would be both safe and fast, albeit verbose. (Also, I&#39;m still not sure this is what the OP meant. I interpreted his comments differently than you. But it doesn&#39;t matter--if he needs the right answer, he can write the right question. But the regex thing is significant--or if I&#39;m wrong, could you let me know why?)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 1, "creation_date": 1501231515, "post_id": 45354188, "comment_id": 77698259, "body": "@piojo: You&#39;re right. The regex was perfectly safe with the sample data I was using, but I&#39;ve added <code>\\Q</code> to make it safe for all input. I don&#39;t like using <code>index()</code> as its interface (returning <code>-1</code> for no match) makes code over-complicated."}, {"owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 0, "creation_date": 1501232729, "post_id": 45354188, "comment_id": 77699167, "body": "It looks like <code>\\Q</code> and <code>\\E</code> are parsed before variables are interpolated. Safer than I expected. That feature will be useful. Thanks for remarking on it!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1501232073, "last_edit_date": 1501232073, "creation_date": 1501166855, "answer_id": 45354188, "question_id": 45353287, "link": "https://stackoverflow.com/questions/45353287/index-of-element-of-one-array-in-another-array-avoiding-listutils/45354188#45354188", "title": "Index of element of one array in another array avoiding list::utils", "body": "<pre><code> if ( index( $matchList, $name ) != -1 ) {\n</code></pre>\n\n<p>You haven't explained what you mean by \"match two arrays\". I think you might be looking for elements that are in both arrays. But the line above isn't testing for equality of two strings, it is testing if <code>$name</code> appears as a substring of <code>$matchList</code>. Is that what you want?</p>\n\n<p>If you want to test for equality, you should use this instead:</p>\n\n<pre><code> if ($matchList eq $name) {\n</code></pre>\n\n<p>But the substring check should still work if your strings are equal. If they aren't matching, then it sounds like your arrays don't contain what you think they contain. Perhaps one array contains elements that still have newlines attached - or something like that.</p>\n\n<p>If you're actually trying to find the elements that appear in both arrays, then (as it often the case) the <a href=\"https://perldoc.perl.org/perlfaq.html\" rel=\"nofollow noreferrer\">Perl FAQ</a> will be useful. You're looking for the intersection of two sets and <a href=\"https://perldoc.perl.org/perlfaq4.html\" rel=\"nofollow noreferrer\">perlfaq4</a> contains this:</p>\n\n<blockquote>\n  <p><strong>How do I compute the difference of two arrays? How do I compute the\n  intersection of two arrays?</strong></p>\n  \n  <p>Use a hash. Here's code to do both and\n  more. It assumes that each element is unique in a given array:</p>\n\n<pre><code>my (@union, @intersection, @difference);\nmy %count = ();\nforeach my $element (@array1, @array2) { $count{$element}++ }\nforeach my $element (keys %count) {\n    push @union, $element;\n    push @{ $count{$element} &gt; 1 ? \\@intersection : \\@difference }, $element;\n}\n</code></pre>\n  \n  <p>Note that this is the symmetric difference, that is, all elements in either A or in B but not in both. Think of it as an xor operation.</p>\n</blockquote>\n\n<p><strong>Update:</strong> Having seen what you want, most of what I said above is completely off-topic. Please try to be clearer when asking questions.</p>\n\n<p>What you actually want is something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse feature 'say';\n\nmy @arr1 = ('adam west', 'daric dalon', 'tom helic','todd nick', 'riley remer');\nmy @arr2 = ('adam west 12', 'daric dalon mr.','tom helic (fads)',\n            'todd nick (456)', 'riley remer', 'john steve', 'dim madz 12');\n\n# Match elements from array1 ...\nfor my $e1 (@arr1) {\n  # ... against indexes in array2\n  for my $i2 (0 .. $#arr2) {\n    if ($arr2[$i2] =~ /^\\Q$e1/) {\n      say \"$e1 -&gt; $i2\";\n    }\n  }\n}\n</code></pre>\n\n<p>Or you can use <code>List::MoreUtils::firstidx</code> like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse List::MoreUtils 'firstidx';\n\nuse feature 'say';\n\nmy @arr1 = ('adam west', 'daric dalon', 'tom helic','todd nick', 'riley remer');\nmy @arr2 = ('adam west 12', 'daric dalon mr.','tom helic (fads)',\n            'todd nick (456)', 'riley remer', 'john steve', 'dim madz 12');\n\n# Match elements from array1 ...\nfor my $e1 (@arr1) {\n  # ... against indexes in array2\n  if ((my $i2 = firstidx { /^\\Q$e1/ } @arr2) == -1) {\n    say \"$e1 not found in \\@arr2\";\n  } else {\n    say \"$e1 -&gt; $i2\";\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 8203581, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-iiq69Nz5ZjQ/AAAAAAAAAAI/AAAAAAAAFlQ/cZJ7Yy3H3j4/photo.jpg?sz=128", "display_name": "Krushna Sonar", "link": "https://stackoverflow.com/users/8203581/krushna-sonar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1501483381, "creation_date": 1501164591, "last_edit_date": 1501483381, "question_id": 45353287, "link": "https://stackoverflow.com/questions/45353287/index-of-element-of-one-array-in-another-array-avoiding-listutils", "title": "Index of element of one array in another array avoiding list::utils", "body": "<blockquote>\n  <p>Aim: To match two array and find the index position of matched element.</p>\n  \n  <p>Tricky part: As per the example given below, the elements of each array are not exactly similar to each other but the comprise of some part and I want to match that.</p>\n</blockquote>\n\n<p>Sample of how the arrays are:</p>\n\n<pre><code>array1=('adam west', 'daric dalon','tom helic','todd nick','riley remer'); \n\narray2=('adam west 12', 'daric dalon mr.','tom helic (fads)','todd nick (456)','riley remer','john steve','dim madz 12');\n</code></pre>\n\n<p>I have tried using <code>List::MoreUtils qw(first_index);</code> method but this method isn't giving what I want.</p>\n\n<p><strong>The following I have tried:</strong></p>\n\n<p>Try 1</p>\n\n<pre><code>for my $name (@Names) {\n    $count;\n    for $matchList (@org_name) {\n        if ( index( $matchList, $name ) != -1 ) {\n            push (@matched,$matchList);\n            $count++;\n            }#print $org_name[$count];\n    }\n} print \"Those which are matched @matched\\n\";\n</code></pre>\n\n<p>Try 2</p>\n\n<p>The next method I have copied from online but not very much useful.</p>\n\n<pre><code>use List::MoreUtils qw(first_index);\n@indexes;\n\nforeach my $place (@allNames) {\n    push @indexes, first_index { $_ eq $place } @org_name;\n}\nuse Data::Dumper qw(Dumper);\nprint Dumper \\@indexes;\n</code></pre>\n\n<p>I know this is going to be a very easy thing which I am missing out. But please let me know what I can do.</p>\n"}, {"tags": ["perl", "process", "fork", "exe", "execution"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 7798690, "user_type": "registered", "profile_image": "https://graph.facebook.com/1353026104753829/picture?type=large", "display_name": "Georgi Genchev", "link": "https://stackoverflow.com/users/7798690/georgi-genchev"}, "edited": false, "score": 0, "creation_date": 1501165588, "post_id": 45352756, "comment_id": 77668651, "body": "ehh, the installation of the module failed :("}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1501163330, "creation_date": 1501163330, "answer_id": 45352756, "question_id": 45352491, "link": "https://stackoverflow.com/questions/45352491/execute-process-in-perl-with-options-for-stopping-resuming-killing-using-ipc/45352756#45352756", "title": "execute process in Perl with options for stopping,resuming,killing using IPC", "body": "<p><a href=\"http://metacpan.org/pod/Forks::Super\" rel=\"nofollow noreferrer\"><code>Forks::Super</code></a> makes this simple and platform-independent.</p>\n\n<pre><code>use Forks::Super;\n...\nmy $pid = fork { exec =&gt; $jobs{$id}-&gt;{path} };\n...\n$pid-&gt;suspend;\n...\n$pid-&gt;resume;\n...\n$pid-&gt;kill;       # or $pid-&gt;kill('TERM'), $pid-&gt;kill('QUIT'), etc.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1502426129, "last_edit_date": 1502426129, "creation_date": 1501190147, "answer_id": 45361151, "question_id": 45352491, "link": "https://stackoverflow.com/questions/45352491/execute-process-in-perl-with-options-for-stopping-resuming-killing-using-ipc/45361151#45361151", "title": "execute process in Perl with options for stopping,resuming,killing using IPC", "body": "<p>If you must go by hand, the signals to use are <code>'SIGSTOP'</code> and <code>'SIGCONT'</code>. </p>\n\n<p>A command-line demo</p>\n\n<pre><code>perl -wE'\n    $pid = fork // die \"Cant fork: $!\"; \n    if ($pid == 0) { \n        for (1..6) { say \"\\tkid ...\"; sleep 1; }; \n        say \"\\tKID DONE\"; exit; \n    }; \n    sleep 3; \n    kill \"STOP\", $pid; \n    for (1..2) { say \"Parent here!\"; sleep 1}; \n    kill \"CONT\", $pid; \n    wait;    \n'\n</code></pre>\n\n<p>prints</p>\n\n<pre>\n        kid ...\n        kid ...\n        kid ...\nParent here!\nParent here!\n        kid ...\n        kid ...\n        kid ...\n        KID DONE\n</pre>\n\n<p>Then you'd need to implement this in your <code>STDIN</code>-driven management.</p>\n\n<p>But I suggest to try to resolve the installation of <a href=\"http://search.cpan.org/~mob/Forks-Super-0.84/lib/Forks/Super.pm\" rel=\"nofollow noreferrer\">Forks::Super</a>, from mob's answer.</p>\n\n<hr>\n\n<p>A <code>STDIN</code> controlled example.  The forked process and the parent write to a file for a test.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';    \n#use IO::Handle;            # needed pre v5.16 (for autoflush)\n\nmy $fh_kid;\n$SIG{INT} = sub { close $fh_kid; exit 1 };\n\nmy $file = 'kidfile.out';\nopen $fh_kid, '&gt;', $file or die \"Can't open $file: $!\";\n$fh_kid-&gt;autoflush;\n\nmy $pid = fork // die \"Can't fork: $!\";\n\nif ($pid == 0) {\n    $SIG{TERM} = sub { close $fh_kid; exit 1 };\n    for (1..20) { \n        say $fh_kid \"\\tkid, $_\"; \n        sleep 1;\n    }   \n    exit;\n}\nsay \"Parent: started $pid\";\n\nwhile (1) {\n    chomp (my $input = &lt;STDIN&gt;);\n    if (not $input) {\n        close $fh_kid; \n        last;\n    }   \n    if ($input == 1) {\n        kill 'STOP', $pid;\n        say         \"Parent: STOP-ed $pid\";\n        say $fh_kid \"Parent STOP-ed $pid\";\n    }   \n    elsif ($input == 2) {\n        say \"Parent: CONT the $pid\";\n        kill 'CONT', $pid;\n    }   \n    elsif ($input == 3) {\n        close $fh_kid;\n        kill 'TERM', $pid;\n        say \"Parent: TERM-ed the $pid\";\n    }   \n}\n\nmy $gone = waitpid $pid, 0;\n\nif    ($gone &gt; 0) { say \"Child $gone exited with: $?\" }\nelsif ($gone &lt; 0) { say \"No such process ($gone), reaped already?\" }\nelse              { say \"Still out there?\" }\n</code></pre>\n\n<p>This needs more detail but it does show what kinds of things get involved.</p>\n\n<p>Output (with comments)</p>\n\n<pre>\nParent: started 19628\n1                              # entered a few seconds after starting\nParent: STOP-ed 19628\n2                              # after waiting for a minute\nParent: CONT the 19628\n3                              # after waiting for a few more seconds\nParent: TERM-ed the 19628\n^C                             # quit STDIN\n</pre>\n\n<p>We allow the kid to print to a file for a few seconds (so a few times) and then <code>STOP</code> it (1), then wait for a bit and then <code>CONT</code>inue the child (2) and let it print a few more times before killing it (3). </p>\n\n<p>The output <code>kidfile.out</code> has a few lines from the child, then a line from the parent, and then a few more lines from the child, confirming that the child was paused, resumed, and stopped.</p>\n"}], "owner": {"reputation": 103, "user_id": 7798690, "user_type": "registered", "profile_image": "https://graph.facebook.com/1353026104753829/picture?type=large", "display_name": "Georgi Genchev", "link": "https://stackoverflow.com/users/7798690/georgi-genchev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 45352756, "answer_count": 2, "score": 3, "last_activity_date": 1502426129, "creation_date": 1501162725, "question_id": 45352491, "link": "https://stackoverflow.com/questions/45352491/execute-process-in-perl-with-options-for-stopping-resuming-killing-using-ipc", "title": "execute process in Perl with options for stopping,resuming,killing using IPC", "body": "<p>I almost have no idea of forking. I tried to research, but I couldn't find a simple example of how to do these things. For windows I found a good module and wrote this piece of code, which is doing what I want.</p>\n\n<pre><code>   Win32::Process::Create( my $ProcessObj,\n    \"$jobs{$id}-&gt;{path}\", \"execute job\", 0, NORMAL_PRIORITY_CLASS, \".\" )\n  || die ErrorReport();\nprint \"Available commands:\\n1.Suspend\\n2.Resume\\n3.Kill\\n\";\nwhile (1) {\n    chomp( my $input = &lt;STDIN&gt; );\n    if ( $input eq \"1\" ) {\n        $ProcessObj-&gt;Suspend();\n    }\n    if ( $input eq \"2\" ) {\n        $ProcessObj-&gt;Resume();\n    }\n    if ( $input eq \"3\" ) {\n        print \"Returned to main menu.\\n\";\n        $ProcessObj-&gt;Kill(0);\n        return;\n    }\n}\n</code></pre>\n\n<p>So my question is if there is a way to do this with forking?\nAnd here is my try for forking:</p>\n\n<pre><code>unless ( $pid = fork) {\n        unless (fork) {\n            exec \"$jobs{$id}-&gt;{path}\";\n            die \"exec failed!\";\n        }\n        exit 0;\n    }\n    waitpid($pid, 0);\n</code></pre>\n\n<p>I have a program which is printing Hello world every 3 seconds and I want to pause it, resume it and kill it, if this example will help.</p>\n"}, {"tags": ["regex", "perl", "loops", "foreach", "while-loop"], "comments": [{"owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1501166726, "post_id": 45351449, "comment_id": 77669589, "body": "Why not print repeated lines once: <code>perl -ne &#39;!&#47;^\\.+$&#47;g &amp;&amp; print unless $w{$_}++&#39; file</code>"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 153, "user_id": 3185638, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e17f4bcc437d279c112a983046fd8730?s=128&d=identicon&r=PG&f=1", "display_name": "The nothing", "link": "https://stackoverflow.com/users/3185638/the-nothing"}, "edited": false, "score": 0, "creation_date": 1501187104, "post_id": 45351861, "comment_id": 77682075, "body": "Good. But do you understand it, or are you just copying blindly from the internet?"}, {"owner": {"reputation": 153, "user_id": 3185638, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e17f4bcc437d279c112a983046fd8730?s=128&d=identicon&r=PG&f=1", "display_name": "The nothing", "link": "https://stackoverflow.com/users/3185638/the-nothing"}, "edited": false, "score": 0, "creation_date": 1501335321, "post_id": 45351861, "comment_id": 77740244, "body": "Hi @Dave Cross, sorry for the delay. I understand a little about the code. Can you please tellme &#191;how can I set a counter?  like: count 1 count 2 count 3... for just the match that are not duplicate. I set a count but it count like  1,2,3,4,5...(it count the duplicate match)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 153, "user_id": 3185638, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e17f4bcc437d279c112a983046fd8730?s=128&d=identicon&r=PG&f=1", "display_name": "The nothing", "link": "https://stackoverflow.com/users/3185638/the-nothing"}, "edited": false, "score": 0, "creation_date": 1501335550, "post_id": 45351861, "comment_id": 77740304, "body": "@Thenothing: If you have a new question, then it&#39;s best to ask it as a completely new question."}, {"owner": {"reputation": 153, "user_id": 3185638, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e17f4bcc437d279c112a983046fd8730?s=128&d=identicon&r=PG&f=1", "display_name": "The nothing", "link": "https://stackoverflow.com/users/3185638/the-nothing"}, "edited": false, "score": 0, "creation_date": 1501337700, "post_id": 45351861, "comment_id": 77741016, "body": "Thanks, here: <a href=\"https://stackoverflow.com/questions/45390249/perl-set-counter-to-match-in-loop\" title=\"perl set counter to match in loop\">stackoverflow.com/questions/45390249/&hellip;</a>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1501161183, "creation_date": 1501161183, "answer_id": 45351861, "question_id": 45351449, "link": "https://stackoverflow.com/questions/45351449/perl-loop-avoid-print-duplicate-in-regex-match/45351861#45351861", "title": "perl loop avoid print duplicate in regex match", "body": "<p>The easiest approach is probably to use a hash (called <code>%seen</code> in my example below) which keeps track of the strings you have ever seen.</p>\n\n<p>Making the smallest changes to your code, we get:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'file.txt';\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n  or die \"Could not open file '$filename' $!\";\n\nmy %seen;\n\nwhile (my $row = &lt;$fh&gt;) {\n      if ($row =~ /^Name\\sServer:\\s+(.*+)?/) {\n          print \"dns $1\\n\" unless $seen{$1}++;\n      }\n\n      if ($row =~ /Whois.+server:.(.*)/) {\n          print \"whois server: $1\\n\" unless $seen{$1}++;\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 3185638, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e17f4bcc437d279c112a983046fd8730?s=128&d=identicon&r=PG&f=1", "display_name": "The nothing", "link": "https://stackoverflow.com/users/3185638/the-nothing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 45351861, "answer_count": 1, "score": 0, "last_activity_date": 1501161183, "creation_date": 1501160140, "last_edit_date": 1501160571, "question_id": 45351449, "link": "https://stackoverflow.com/questions/45351449/perl-loop-avoid-print-duplicate-in-regex-match", "title": "perl loop avoid print duplicate in regex match", "body": "<p>I Search, and research for a solution but without successful.</p>\n\n<p>The file.txt:</p>\n\n<pre><code>Name Server: NS1.SERVER.COM\nName Server: NS2.SERVER.COM\n..........................\n..........................\nName Server: NS1.SERVER.COM\nName Server: NS2.SERVER.COM\nWhois server: whois.directnic.com!\n..........................\n..........................\nName Server: NS1.SERVER.COM\nName Server: NS2.SERVER.COM\nWhois server: whois.directnic.com!\n..........................\n..........................\n</code></pre>\n\n<p>When I run:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'file.txt';\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n  or die \"Could not open file '$filename' $!\";\n\nwhile (my $row = &lt;$fh&gt;) {\n      if ($row =~ /^Name\\sServer:\\s+(.*+)?/) {          \n          print \"dns $1\\n\";\n      }\n\n      if ($row =~ /Whois.+server:.(.*)/) {\n          print \"whois server: $1\\n\";\n      }\n}\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>dns NS1.SERVER.COM\ndns NS2.SERVER.COM\ndns NS1.SERVER.COM\ndns NS2.SERVER.COM\nwhois server: whois.directnic.com!\ndns NS1.SERVER.COM\ndns NS2.SERVER.COM\nwhois server: whois.directnic.com!\n</code></pre>\n\n<p>I want to get like this:</p>\n\n<pre><code>dns NS1.SERVER.COM\ndns NS2.SERVER.COM\nwhois server: whois.directnic.com!\n</code></pre>\n\n<p>I know I can use Last\n<strong>(If you\u2019ve used the \u201cbreak\u201d operator in C or a similar language, it\u2019s like that.)</strong></p>\n\n<p>If I set last; in the first condition I get this:</p>\n\n<pre><code>dns NS1.SERVER.COM\n</code></pre>\n\n<p>If I set last; in the second condition I get this:</p>\n\n<pre><code>dns NS1.SERVER.COM\ndns NS2.SERVER.COM\ndns NS1.SERVER.COM\ndns NS2.SERVER.COM\nwhois server: whois.directnic.com!\n</code></pre>\n\n<p>I find a solution but using hash, while, increase count and grep, like this:</p>\n\n<pre><code>my %count_of; \nmy %count_of_two; \nwhile (my $row = &lt;$fh&gt;) {\n\n          if ($row =~ /^Name\\sServer:\\s+(.*+)?$/) {\n\n              $count_of{$row}++; \n\n            }\n\n           if ($row =~ /Whois.+Server:.(.*)/) {\n\n              $count_of_two{$row}++; \n          }\n\n    }\n    print join \"\\n\", grep { $count_of{$_} &gt; 1 } keys %count_of; \n    print join \"\\n\", grep { $count_of_two{$_} == 1 } keys %count_of_two;\n</code></pre>\n\n<p>\u00bfHow can I do this with while or foreach?</p>\n\n<p>Note: I think I know why while loop print duplicate because that the functionality, but maybe exist another way.</p>\n\n<p>I research about this but I can't find a solution.</p>\n\n<p>Thanks for your patience.</p>\n"}, {"tags": ["perl", "cpan", "activeperl"], "comments": [{"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1502976840, "post_id": 45351030, "comment_id": 78430865, "body": "Anyone faced the same problem? I am still facing this issue."}], "answers": [{"comments": [{"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1501162637, "post_id": 45352327, "comment_id": 77666119, "body": "I have made the proxy settings only in the env variables and not in any perl config file. Can the error be caused by that??"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1501162658, "post_id": 45352327, "comment_id": 77666133, "body": "As I tried deleting this file but the one being downloaded also throws the same error"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1501163145, "post_id": 45352327, "comment_id": 77666571, "body": "Did you do the settting in both the conf file and the env variables"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1501163163, "post_id": 45352327, "comment_id": 77666590, "body": "Also cpan is not using my local home config i think when I call cpan"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1501163054, "last_edit_date": 1501163054, "creation_date": 1501162324, "answer_id": 45352327, "question_id": 45351030, "link": "https://stackoverflow.com/questions/45351030/error-while-using-cpan-command-line/45352327#45352327", "title": "Error while using cpan command line", "body": "<p><code>return \"DIRECT\";</code> is something you will often see in a proxy configuration file, so that's what you probably downloaded into <code>02packages.details.txt.gz</code> before your proxy was set up correctly. </p>\n\n<p>Once you're sure that your proxy is set up correctly, delete this file and run <code>cpan</code> again. Then <code>cpan</code> will download a fresh copy of the package file.</p>\n\n<hr>\n\n<blockquote>\n  <p>Once you're sure that your proxy is set up correctly ...</p>\n</blockquote>\n\n<p><code>cpan</code> has proxy settings that may need to be configured to get this working.\nRun <code>o conf /proxy/</code> from the cpan prompt to see them.</p>\n\n<p>On my work machine, for example, I have the settings</p>\n\n<pre><code>http_proxy     [http://proxymachine.mycompany.com:82]\nno_proxy       [localhost,127.0.0.1,internalsite.mycompany.com]\n</code></pre>\n"}], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501163054, "creation_date": 1501159019, "question_id": 45351030, "link": "https://stackoverflow.com/questions/45351030/error-while-using-cpan-command-line", "title": "Error while using cpan command line", "body": "<p>I am getting the below errors while using cpan command line:</p>\n\n<pre><code>Reading 'C:\\Perl64\\cpan\\sources\\modules\\02packages.details.txt.gz'\nWarning: Your C:\\Perl64\\cpan\\sources\\modules\\02packages.details.txt.gz does not\ncontain a Line-Count header.\nPlease check the validity of the index file by comparing it to more\nthan one CPAN mirror. I'll continue but problems seem likely to\nhappen.\nCPAN: Time::HiRes loaded ok (v1.9741)\nWarning: Your C:\\Perl64\\cpan\\sources\\modules\\02packages.details.txt.gz does not\ncontain a Last-Updated header.\nPlease check the validity of the index file by comparing it to more\nthan one CPAN mirror. I'll continue but problems seem likely to\nhappen.\n........Could not split line[\"            return \\\"DIRECT\\\";\"]\nCould not split line[\"\"]\n........Could not split line[\"            return \\\"DIRECT\\\";\"]\nCould not split line[\"\"]\nGiving up parsing your C:\\Perl64\\cpan\\sources\\modules\\02packages.details.txt.gz,\n too many errors\n</code></pre>\n\n<p>I was trying to install cpanm using cpan App::cpanminus command in command prompt.</p>\n\n<p>I am behind a firewall and have configured the pac file in the http_proxy env variable also. I am using ActivePerl.</p>\n"}, {"tags": ["git", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1501149452, "post_id": 45346995, "comment_id": 77655809, "body": "chomping the exit status is useless."}], "answers": [{"comments": [{"owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "edited": false, "score": 0, "creation_date": 1501150462, "post_id": 45347387, "comment_id": 77656604, "body": "how can i capture the out put inside while loop and check the condition.i tried following way and not working.<code>while(</code>ls `git rev-parse --git-dir` | grep rebase || echo no rebase` eq &#39;rebase-apply&#39;){         print &quot;in rebase state&quot;;     }`"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1501149538, "creation_date": 1501149538, "answer_id": 45347387, "question_id": 45346995, "link": "https://stackoverflow.com/questions/45346995/how-to-handle-merge-conflicts-through-custom-perl-script/45347387#45347387", "title": "How to Handle Merge Conflicts through Custom Perl Script", "body": "<p><a href=\"http://p3rl.org/system\" rel=\"nofollow noreferrer\">system</a> returns the exit status of the command, not its output. Check <code>`</code> or <code>qx</code> in <a href=\"http://p3rl.org/perlop\" rel=\"nofollow noreferrer\">perlop</a> for the way to store the output of an external command.</p>\n"}, {"tags": [], "owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "is_accepted": false, "score": 0, "last_activity_date": 1501158735, "creation_date": 1501158735, "answer_id": 45350919, "question_id": 45346995, "link": "https://stackoverflow.com/questions/45346995/how-to-handle-merge-conflicts-through-custom-perl-script/45350919#45350919", "title": "How to Handle Merge Conflicts through Custom Perl Script", "body": "<p>Finally was able to do it.Please let me know if there is any better way to do this.</p>\n\n<pre><code>my $ifRebaseState=`ls \\`git rev-parse --git-dir\\` | grep rebase || echo no rebase`;\n    chomp $ifRebaseState;\n    while( $ifRebaseState eq \"rebase-apply\"){\n        $ifRebaseState=`ls \\`git rev-parse --git-dir\\` | grep rebase || echo no rebase`;\n        chomp $ifRebaseState;\n        my $ifMergeNeed=`git mergetool`;\n        chomp $ifMergeNeed;\n        if($ifMergeNeed ne \"No files need merging\"){\n          system(\"git rebase --continue\"); \n        }else{\n          last;\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501158735, "creation_date": 1501148552, "question_id": 45346995, "link": "https://stackoverflow.com/questions/45346995/how-to-handle-merge-conflicts-through-custom-perl-script", "title": "How to Handle Merge Conflicts through Custom Perl Script", "body": "<p>I am writing a custom Perl script that should be able to handle merge conflicts in programmatically with minimum interaction from the GIT user when they execute the <code>git  rebase</code> command.Currently i was able to detect if GIT goes to <code>REBASE</code> state and i execute my list of commands inside a while loop.But the problem is that i can not detect when GIT leaves <code>REBASE</code> state.</p>\n\n<p><strong>Custom Perl Script</strong> </p>\n\n<pre><code>while(system(\"ls `git rev-parse --git-dir` | grep rebase\") eq 'rebase-apply/'){\n       my $mergeToolMsg=system(\"git mergetool\");\n       chomp $mergeToolMsg;\n       if($mergeToolMsg != 0){\n           //This doesnt hit even\n           last;\n       }else{\n          system(\"git rebase --continue\"); \n       }\n\n    }\n</code></pre>\n\n<p>My requirement is that how can i terminate the loop if there is no merge conflicts or please let me know if there is any other better way to do this.</p>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501142260, "post_id": 45343946, "comment_id": 77650614, "body": "A file <i>cannot</i> be changed so to add to its lines without overwriting it.  What doesn&#39;t matter: you write an output file as needed (with lines appended), then you rename it to the original file. In the end you have your original file changed as needed. (In a simple approach the inode number will change, do you care about that?)"}, {"owner": {"reputation": 25, "user_id": 8343206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dnUNd.jpg?s=128&g=1", "display_name": "Perl newbie", "link": "https://stackoverflow.com/users/8343206/perl-newbie"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501142547, "post_id": 45343946, "comment_id": 77650805, "body": "Thank you so much. really value your suggestion and i am coding now..."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 25, "user_id": 8343206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dnUNd.jpg?s=128&g=1", "display_name": "Perl newbie", "link": "https://stackoverflow.com/users/8343206/perl-newbie"}, "edited": false, "score": 0, "creation_date": 1501471214, "post_id": 45345898, "comment_id": 77774464, "body": "@Perlnewbie Great :)   Let me know if there are questions"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1502695888, "last_edit_date": 1502695888, "creation_date": 1501145752, "answer_id": 45345898, "question_id": 45343946, "link": "https://stackoverflow.com/questions/45343946/perlto-write-in-input-file-without-overwrite-the-original-file/45345898#45345898", "title": "PERL:To write in input file (without overwrite the original file)", "body": "<p>One cannot append to a line in a file without overwriting the rest of the file. A file is a sequence of bytes and we can't \"insert\" new ones, only overwrite the existing ones (or add more by extending the file). See <a href=\"https://stackoverflow.com/a/40269154/4653379\">this post</a> for more detail, for instance.</p>\n\n<p>Instead, write out a new file and then rename it to the original. This does change the inode number; if you need to keep it see the end.  The code simplifies the <code>index</code>+<code>substr</code> part, by regex.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse File::Copy qw(mv);\n\n# ... code from the question \n\nopen my $fh,     '&lt;', $file    or die \"Can't open $file:$!\";\nopen my $fh_out, '&gt;', $outfile or die \"Can't open $outfile:$!\";\n\nwhile (&lt;$fh&gt;) \n{\n    next if not /\\S/;\n    chomp;\n\n    my ($dev, $tag) = /.*?_(.*)_\\s+(.*)/;\n\n    my $cat_path = \"/testdata/17.26.6/$dev/sd/$tag\";\n    my $arc_path = \"archive/$dev/sd/$tag\";\n\n    if (-d $cat_path) {\n        say $fh_out \"$_ IN_CAD\";\n    } \n    elsif (-d $arc_path) {\n        say $fh_out \"$_ IN_ARCHIVE\";\n    }\n    else {\n        say $fh_out \"NA\";\n    }\n}\nclose $fh;\nclose $fh_out;\n\n# Changes inode number. See text for comment\nmove($fh_out, $fh) or die \"Can't move $fh_out to $fh: $!\";\n</code></pre>\n\n<p>The regex matches up to the first <code>_</code>, since <code>?</code> makes <code>.*?</code> non-greedy (it stops at first <code>_</code>). Then it captures everything until the <em>last</em> <code>_</code> since <code>.*</code> is greedy, matching everything until the very last <code>_</code>.  This is what the code in the question does, by using <code>rindex</code>. Then it captures all after tabs/spaces.</p>\n\n<p>The current line is then printed appended, as in the question, to the output file. Since the output file is temporary its name should be built using <a href=\"http://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">File::Temp</a>. Then the file is renamed using <a href=\"https://perldoc.perl.org/File/Copy.html\" rel=\"nofollow noreferrer\">File::Copy</a>.</p>\n\n<p>This changes the inode number. If that matters, one way to keep the inode number is as follows. After the output file has been written out open the original file <em>for writing</em>, what will clobber it.  Then read from the output file and write to the original file.  The content gets copied, to the same inode. Remove the output file when done.  See more detail in the post linked in the beginning.</p>\n"}], "owner": {"reputation": 25, "user_id": 8343206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dnUNd.jpg?s=128&g=1", "display_name": "Perl newbie", "link": "https://stackoverflow.com/users/8343206/perl-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 1, "accepted_answer_id": 45345898, "answer_count": 1, "score": 2, "last_activity_date": 1502695888, "creation_date": 1501140117, "question_id": 45343946, "link": "https://stackoverflow.com/questions/45343946/perlto-write-in-input-file-without-overwrite-the-original-file", "title": "PERL:To write in input file (without overwrite the original file)", "body": "<p>Below is my input file as well as acts my output file too. Need assistance to read and write in the input file. (PS: Input and output is same file) </p>\n\n<pre><code> TS_dunit_       PDX_VER_6\n TS_test1_par    PDX_VER_0\n</code></pre>\n\n<p>my code look likes below;</p>\n\n<pre><code>#!/usr/perl/5.14.1\n\nuse Getopt::Long;\nuse strict;\nuse warnings;\n\nmy $file;\n\nGetOptions(\n   \"iofile=s\" =&gt; \\$file\n   );\nif (not defined $file){\nprint \"Please specify input_output (iofile) file\\n\";\nexit;\n}\n\nopen (my $fh, \"$file\") or die \"Can't open the file $file: \";\nopen (my $fh1, \"&gt;&gt;$file\") or die \"Can't open the file $file: \";\n\nwhile (&lt;$fh&gt;){\nchomp $_;\nnext if ($_ !~ /S+/);\n$_ =~ /(\\S+)\\s+(\\S+)/;\nmy $first_underscore =index ($1, '_');\nmy $dev = substr ($1, $first_underscore + 1,\n        rindex ($1, '_') - $first_underscore - 1);\nmy $tag  = $2;\nmy $cat_path = \"/testdata/17.26.6/$dev/sd/$tag\";\nmy $arc_path = \"archive/$dev/sd/$tag\";\nif (-d $cat_path){\n            print $fh1 \"$dev $tag IN_CAD\\n\";\n    }elsif (-d $arc_path){\n            print $fh1 \"$dev $tag IN_ARCHIVE\\n\";\n    }else{\n            print $fh1 \"NA\\n\";\n    }\n\n}\n   print \"Done! File been append.\\n\";   \n</code></pre>\n\n<p>Above code gives output as</p>\n\n<pre><code>  TS_dunit_          PDX_VER_6       \n  TS_test1_par       PDX_VER_0        \n\n\n  IN_CAD \n  IN_CAD \n</code></pre>\n\n<p>need help if anyway i can make the output as below instead.</p>\n\n<pre><code>  TS_dunit_          PDX_VER_6     IN_CAD   \n  TS_test1_par       PDX_VER_0     IN_CAD   \n</code></pre>\n"}, {"tags": ["perl", "date"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1501124152, "post_id": 45340272, "comment_id": 77642885, "body": "Since not all days have 24 hours, this could actually result in a date 6 days or 8 days earlier."}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501124918, "post_id": 45340272, "comment_id": 77643086, "body": "True but it does depend on the definition of a day and that of a week."}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501125580, "post_id": 45340272, "comment_id": 77643227, "body": "@ikegami Since neither of us asked for the OP&#39;s definition for a day and a week, it is premature to vote down an answer until one is accepted."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1501128789, "post_id": 45340272, "comment_id": 77644053, "body": "What are you talking about? If we&#39;re the 27th and you&#39;re asked for the date 7 days earlier, the 21st isn&#39;t correct. They&#39;re printing a date, not a timestamp."}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501131788, "post_id": 45340272, "comment_id": 77645041, "body": "@ikegami My code doesn&#39;t print the 21st when today is the 27th, which it is as of a few seconds ago. Instead it prints the 20th. Don&#39;t be inflammatory. It doesn&#39;t help. When you do that, it encourages folks to ask questions like <a href=\"https://meta.stackoverflow.com/questions/251758/why-is-stack-overflow-so-negative-of-late\">this</a>."}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501132193, "post_id": 45340272, "comment_id": 77645171, "body": "@ikegami True, but again, that depends on your definition of a day. I&#39;m pretty sure we are not going to agree that multiple definitions are possible. And if that&#39;s true, then there really is nothing left to say. Right?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1501133589, "post_id": 45340272, "comment_id": 77645642, "body": "Re &quot;<i>My code doesn&#39;t print the 21st when today is the 27th</i>&quot;, Yes, it does do exactly that for some times and time zones. <a href=\"https://pastebin.com/cDwq0hRX\" rel=\"nofollow noreferrer\">Example</a>."}], "tags": [], "owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "is_accepted": false, "score": -1, "last_activity_date": 1501121992, "creation_date": 1501121992, "answer_id": 45340272, "question_id": 45340073, "link": "https://stackoverflow.com/questions/45340073/how-to-print-date-in-perl/45340272#45340272", "title": "How to print date in perl?", "body": "<p>Will this work for you?</p>\n\n<p>Change</p>\n\n<pre><code>localtime(time);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>localtime(time - (7 * 24 * 3600));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1501124271, "creation_date": 1501124271, "answer_id": 45340573, "question_id": 45340073, "link": "https://stackoverflow.com/questions/45340073/how-to-print-date-in-perl/45340573#45340573", "title": "How to print date in perl?", "body": "<pre><code>use DateTime qw( );\n\nmy $dt = DateTime-&gt;now( time_zone =&gt; 'local' );\n$dt-&gt;subtract( days =&gt; 7 );\nsay $dt-&gt;strftime(\"%d/%m/%Y\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 472, "user_id": 6337701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/58414a43e117bb92ebd1da8c091916bd?s=128&d=identicon&r=PG&f=1", "display_name": "Aquaholic", "link": "https://stackoverflow.com/users/6337701/aquaholic"}, "is_accepted": false, "score": 0, "last_activity_date": 1574413814, "creation_date": 1574413814, "answer_id": 58990880, "question_id": 45340073, "link": "https://stackoverflow.com/questions/45340073/how-to-print-date-in-perl/58990880#58990880", "title": "How to print date in perl?", "body": "<p>The simplest one-liner print statement to print localtime in perl is:</p>\n\n<pre><code>print scalar localtime (); #Output: Fri Nov 22 14:25:58 2019\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8373269"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2179, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1574413814, "creation_date": 1501120626, "question_id": 45340073, "link": "https://stackoverflow.com/questions/45340073/how-to-print-date-in-perl", "title": "How to print date in perl?", "body": "<p>I am printing today's date in cgi-perl using the following code:</p>\n\n<pre><code> my ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = \n              localtime(time);\n              $year = $year + 1900;\n              $mon++;\n\n              print \"$mday/$mon/$year\\n\";\n</code></pre>\n\n<p>I need to print exactly the date exactly 7 days(1 week) before the current date.</p>\n"}]