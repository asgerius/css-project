[{"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469661350, "post_id": 38624530, "comment_id": 64634833, "body": "I am not sure I understand the problem -- you dereference correctly, and <code>getFreq</code> seems to correctly fetch data.  As for the first one, <code>$int_hash-&gt;{$s}{&#39;rrhName&#39;}</code> will give you <code>MCD59</code>. (You may also leave out the single quotes, so <code>{rrhName}</code>.) Is this what you need?"}, {"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469661500, "post_id": 38624530, "comment_id": 64634864, "body": "@zdim I just want &#39;MCD59&#39; not the rest of that for $VAR1. In my database table, what you see above for $VAR1 turns to &#39;HASH(0x325e94)&#39; and not &#39;MCD59&#39;. Also, that was my mistake, getFreq returns blanks. so $VAR11 and $VAR12 are &#39;&#39; each."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469661766, "post_id": 38624530, "comment_id": 64634920, "body": "Alright, I&#39;ll post what I think you need. Let me know then.  Btw, I edited the question to remove the extra code indentation. If you don&#39;t like it that way please just roll it back."}, {"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469661892, "post_id": 38624530, "comment_id": 64634946, "body": "But that did work, I think it was just a goofy error, I thought that $s was the $rrhName. Could you explain the line you posted in your first post. I dont quite understand it."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1469671601, "post_id": 38624530, "comment_id": 64636964, "body": "If you have remaining uncertainty about dealing with references in Perl, I highly recommend <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">Mark&#39;s very short tutorial about references</a> which is part of the standard documentation that ships with Perl. Set aside 20min to read it  - your life will be improved :-)"}], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "edited": false, "score": 0, "creation_date": 1469662120, "post_id": 38624771, "comment_id": 64635014, "body": "But how is the value itself a hash reference. I thought one you dereference the hash, you can obtain the values."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "edited": false, "score": 0, "creation_date": 1469662752, "post_id": 38624771, "comment_id": 64635153, "body": "@noc_coder  Thank you for the attribution.  I&#39;ve added a statement from my comment (removed it now for a typo in it) and some links.  Please let me know if more would be better."}, {"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "edited": false, "score": 0, "creation_date": 1469663039, "post_id": 38624771, "comment_id": 64635234, "body": "I understand it now. Very helpful!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1476246504, "last_edit_date": 1476246504, "creation_date": 1469662009, "answer_id": 38624771, "question_id": 38624530, "link": "https://stackoverflow.com/questions/38624530/get-a-value-from-a-reference-to-a-hash/38624771#38624771", "title": "Get a value from a reference to a hash", "body": "<p>Your <code>$int_hash</code> is a hash reference, and you dereference it correctly into a hash, <code>%$int_hash</code>,  to then retrieve its keys. The obtained key is then also used correctly to get the corresponding value, <code>$int_hash-&gt;{$s}</code>.</p>\n\n<p>However, as the <code>Dumper</code> output shows, the value associated with the key <code>$s</code> is itself a hash reference. Since a reference itself is a scalar we can always assign it as a value to a key, which is how complex (nested) data structures are built.  See <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\"><code>perldsc</code></a> for a cookbook and for references in general see <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\"><code>perlreftut</code></a> for a tutorial and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\"><code>perlref</code></a> for a reference.</p>\n\n<p>In short, you only need to keep dereferencing</p>\n\n<pre><code>$int_hash-&gt;{$s}-&gt;{'rrhName'};  # or,\n$int_hash-&gt;{$s}{'rrhName'};    # or even\n$int_hash-&gt;{$s}{rrhName};\n</code></pre>\n\n<p>The second and third lines are syntax shortcuts, explained in the above pages.</p>\n\n<p>Either of these will return the value in the nested hash, <code>MCD59</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "edited": false, "score": 0, "creation_date": 1469826219, "post_id": 38632749, "comment_id": 64715712, "body": "I remember you helping me before with Perl questions lol. The array values and the %int_hash are two separate data structures. Apologies that this wasnt clear in the excerpt. I am looping over each serial in the hash for each serial in @values(pulled from a different query) to find a match. @values isnt the values from the hash."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1469699161, "creation_date": 1469699161, "answer_id": 38632749, "question_id": 38624530, "link": "https://stackoverflow.com/questions/38624530/get-a-value-from-a-reference-to-a-hash/38632749#38632749", "title": "Get a value from a reference to a hash", "body": "<p>You are committing the sin of doing a linear search for a key in the hash <code>%$int_hash</code> that matches <code>$values[6]</code>. You don't access arrays that way. It would look like this</p>\n\n<pre><code>my $values_6;\n\nfor my $i ( 0 .. $#values ) {\n    if ( $i == 6 ) {\n        $values_6 = $values[$i];\n    }\n}\n</code></pre>\n\n<p>You need to discard your <code>for</code> loop and simply access the hash element directly. Combining that with accessing the value of the second-level hash, your code should look like this</p>\n\n<pre><code>my $band_name;\n\nif ( my $band = $int_hash-&gt;{$values[6]} ) {\n\n        $band_name = $band-&gt;{rrhName};\n\n        my $ulink  = getFreq($band_name, 'u');\n        my $dlink  = getFreq($band_name, 'd');\n        my $status = 'active';\n}   \n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 38624771, "answer_count": 2, "score": 2, "last_activity_date": 1476246504, "creation_date": 1469660306, "last_edit_date": 1469698720, "question_id": 38624530, "link": "https://stackoverflow.com/questions/38624530/get-a-value-from-a-reference-to-a-hash", "title": "Get a value from a reference to a hash", "body": "<p>I know that there have been multiple posts about this topic already, but I have not found them to be helpful for my particular case.</p>\n\n<p>When I run this excerpt of code</p>\n\n<pre><code>my $bandName = ''; \n\nmy $rrh_sth = $dbh-&gt;prepare(\"SELECT serial....\");\n$rrh_sth-&gt;execute;\n\nmy $int_hash = $rrh_sth-&gt;fetchall_hashref('serial');\ndelete $_-&gt;{serial} for values %$int_hash;\n\nforeach my $s ( keys %$int_hash ) {\n\n    if ( $values[6] eq $s ) {\n\n        #$bandName =  @{%$int_hash}{$s};\n        $bandName = $int_hash -&gt;{$s};\n\n        my $ulink = getFreq($bandName, \"u\");\n        my $dlink = getFreq($bandName, \"d\");\n\n        my $status = \"active\";\n\n        print Dumper (\n            $bandName,\n            $values[0],\n            $values[8],\n            $values[7],\n            $values[6],\n            $values[11],\n            $values[10],\n            $values[3],\n            $values[4],\n            $values[5],\n            $dlink,\n            $ulink\n        );\n    }   \n}   \n</code></pre>\n\n<p>I keep getting the key and the value for the particular serial, represented by <code>$s</code>. I know that I have to de-reference <code>int_hash</code>, but I am not sure how now that the methods that I have tried do not work.</p>\n\n<pre><code>$VAR1 = {\n    'rrhName' =&gt; 'MCD59'\n};\n$VAR2 = 'MCO57';\n$VAR3 = 'R-S-S:1-0-1';\n$VAR4 = 'scb';\n$VAR5 = '12NT46000050';\n$VAR6 = undef;\n$VAR7 = '109786038';\n$VAR8 = 'MCO: 976 2x5W AC';\n$VAR9 = 'enabled';\n$VAR10 = '1';\n$VAR11 = ''; #EDITED\n$VAR12 = ''; #EDITED\n</code></pre>\n\n<p>In general, when I have a reference, I need to dereference it to get to the slices, but in the case of <code>$VAR1</code>, when I go to my database to see the value being inserted its telling me the position of <code>$VAR1</code> in memory, which is not what I thought I was asking for.</p>\n"}, {"tags": ["perl", "proxy"], "answers": [{"comments": [{"owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "edited": false, "score": 1, "creation_date": 1469644678, "post_id": 38619977, "comment_id": 64627245, "body": "http_proxy env will not affect https requests; https_proxy is needed instead."}, {"owner": {"reputation": 41, "user_id": 6237515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSGMi4oRdwg/AAAAAAAAAAI/AAAAAAAAABg/FwC7vIOVc5k/photo.jpg?sz=128", "display_name": "Tedy Grey", "link": "https://stackoverflow.com/users/6237515/tedy-grey"}, "edited": false, "score": 1, "creation_date": 1469644826, "post_id": 38619977, "comment_id": 64627347, "body": "Since an unexperienced user in the proxy domain comes andd asks a question, it&#39;s not helpfull to point him the user manual of something. A &quot;hello world&quot; example would have been more helpfull. I did not understood half of the terms from there"}, {"owner": {"reputation": 41, "user_id": 6237515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSGMi4oRdwg/AAAAAAAAAAI/AAAAAAAAABg/FwC7vIOVc5k/photo.jpg?sz=128", "display_name": "Tedy Grey", "link": "https://stackoverflow.com/users/6237515/tedy-grey"}, "edited": false, "score": 1, "creation_date": 1469644896, "post_id": 38619977, "comment_id": 64627386, "body": "I managed to follow your instructions, yet they didn&#39;t work. I used the example from the duplicate link."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 41, "user_id": 6237515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSGMi4oRdwg/AAAAAAAAAAI/AAAAAAAAABg/FwC7vIOVc5k/photo.jpg?sz=128", "display_name": "Tedy Grey", "link": "https://stackoverflow.com/users/6237515/tedy-grey"}, "edited": false, "score": 0, "creation_date": 1469646823, "post_id": 38619977, "comment_id": 64628479, "body": "@TedyGrey I assume basic familiarity with your operating environment and tools."}, {"owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "reply_to_user": {"reputation": 41, "user_id": 6237515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSGMi4oRdwg/AAAAAAAAAAI/AAAAAAAAABg/FwC7vIOVc5k/photo.jpg?sz=128", "display_name": "Tedy Grey", "link": "https://stackoverflow.com/users/6237515/tedy-grey"}, "edited": false, "score": 0, "creation_date": 1469648304, "post_id": 38619977, "comment_id": 64629222, "body": "@Tedy Grey, refer to the https connect examples from <a href=\"http://search.cpan.org/~benning/LWP-Protocol-connect-6.05/lib/LWP/Protocol/connect.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~benning/LWP-Protocol-connect-6.05/lib/LWP/&hellip;</a>&zwnj;&#8203;. This assumes your proxy supports https connect passthrough. You need to ensure you have the module installed."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1469646763, "last_edit_date": 1469646763, "creation_date": 1469641859, "answer_id": 38619977, "question_id": 38619768, "link": "https://stackoverflow.com/questions/38619768/downloading-a-web-page-through-proxy/38619977#38619977", "title": "Downloading a web page through proxy", "body": "<p>Note <a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow\">LWP::Simple</a>:</p>\n\n<blockquote>\n  <p>The user agent created by this module will identify itself as \"LWP::Simple/#.##\" and will initialize its proxy defaults from the environment (by calling $ua->env_proxy).</p>\n</blockquote>\n\n<p>Then, note <a href=\"https://metacpan.org/pod/LWP::UserAgent#ua-env_proxy\" rel=\"nofollow\"><code>env_proxy</code></a>:</p>\n\n<blockquote>\n  <p>Load proxy settings from *_proxy environment variables. </p>\n</blockquote>\n\n<p>So, set <code>HTTPS_PROXY</code> in the environment.</p>\n"}], "owner": {"reputation": 41, "user_id": 6237515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSGMi4oRdwg/AAAAAAAAAAI/AAAAAAAAABg/FwC7vIOVc5k/photo.jpg?sz=128", "display_name": "Tedy Grey", "link": "https://stackoverflow.com/users/6237515/tedy-grey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 1, "closed_date": 1469643553, "answer_count": 1, "score": 0, "last_activity_date": 1469646763, "creation_date": 1469641131, "last_edit_date": 1469641900, "question_id": 38619768, "link": "https://stackoverflow.com/questions/38619768/downloading-a-web-page-through-proxy", "closed_reason": "Duplicate", "title": "Downloading a web page through proxy", "body": "<p>I am trying to download a webpage through a proxy connection with the following code:</p>\n\n<pre><code>use LWP::Simple qw(get);\nmy $url = 'https://www.random-site.com';\nmy $html = get $url or die \"sorry, can't\";\n</code></pre>\n\n<p>I get the obvious error <code>sorry, can't</code>.</p>\n\n<p>The code works on a normal connection,but on proxy it doesn't and even with the <code>Hideman</code> program, it still doesn't bypass that proxy. Which would be a better approach in this situation? Am I using the wrong module?</p>\n"}, {"tags": ["perl", "nagios", "nagiosxi"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 6, "creation_date": 1469640954, "post_id": 38619663, "comment_id": 64625130, "body": "Even if they did, <code>LANG=C ls -l</code> would still be an invalid Windows command"}, {"owner": {"reputation": 512, "user_id": 1139336, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/62121bb0e1e605b0870a4550beb0f483?s=128&d=identicon&r=PG", "display_name": "mithrix", "link": "https://stackoverflow.com/users/1139336/mithrix"}, "edited": false, "score": 0, "creation_date": 1469649326, "post_id": 38619663, "comment_id": 64629782, "body": "&#39;ls&#39; is on the windows box and I did change the LANG=C line to just be ls -l but I still get an:  UNKNOWN ERROR - could not execute ls -l - No such file or directory  in nagios but if I run the same command from the command prompt it works fine"}, {"owner": {"reputation": 8726, "user_id": 597305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ad05a19a937275934237503fc77d887?s=128&d=identicon&r=PG", "display_name": "Bill Ruppert", "link": "https://stackoverflow.com/users/597305/bill-ruppert"}, "edited": false, "score": 1, "creation_date": 1469671698, "post_id": 38619663, "comment_id": 64636974, "body": "You should check that <code>ls</code> is on the path from within whatever environment Nagios is running in.  It may be different than the command line path."}], "tags": [], "owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "is_accepted": false, "score": 2, "last_activity_date": 1469641511, "last_edit_date": 1469641511, "creation_date": 1469640719, "answer_id": 38619663, "question_id": 38619507, "link": "https://stackoverflow.com/questions/38619507/perl-returning-error-for-ls-l-command/38619663#38619663", "title": "Perl Returning error for ls -l command", "body": "<p><code>ls</code> is unix command and by default there is no such command in windows.</p>\n\n<p>If you need it, you can install it e.g. from <a href=\"http://gnuwin32.sourceforge.net/packages/coreutils.htm\" rel=\"nofollow\">GNU CoreUtils</a></p>\n\n<p>You also need to change shell command on line 639 from <code>LANG=C ls -l</code> to just <code>ls -l</code> because in windows you can't set environment variables like that.</p>\n"}], "owner": {"reputation": 512, "user_id": 1139336, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/62121bb0e1e605b0870a4550beb0f483?s=128&d=identicon&r=PG", "display_name": "mithrix", "link": "https://stackoverflow.com/users/1139336/mithrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1469649448, "creation_date": 1469640147, "last_edit_date": 1469649448, "question_id": 38619507, "link": "https://stackoverflow.com/questions/38619507/perl-returning-error-for-ls-l-command", "title": "Perl Returning error for ls -l command", "body": "<p>I am running a perl script from Nagios to check some files for certain characteristics on a windows machine.  When I run the script from Nagios it responds with a result of:</p>\n\n<blockquote>\n  <p>UNKNOWN ERROR - execution of LANG=C ls -l resulted in an error 32512 -</p>\n</blockquote>\n\n<p>My Code is <a href=\"https://github.com/willixix/naglio-plugins/blob/master/check_files.pl\" rel=\"nofollow\">from this GitHub</a> with a single modification of line 168 so I can use it with windows:</p>\n\n<pre><code>use lib 'C$\\Progra~1\\Nagios\\NRDS_Win\\plugins';\n</code></pre>\n\n<p>The odd thing is the program actually outputs the expected result from the command line on the windows machine.  </p>\n\n<p>Here is the command:</p>\n\n<blockquote>\n  <p>check_files.pl -D c:\\logs -F Health.log -a '~,300'</p>\n</blockquote>\n\n<p>Here is an example:</p>\n\n<blockquote>\n  <p>CRITICAL - Health.log  is 10703 (more than 300) seconds old - 1\n  Health.log files found</p>\n</blockquote>\n\n<p>I modified line that defined <code>LANG=C ls -l</code> in the code but now i just get: </p>\n\n<blockquote>\n  <p>UNKNOWN ERROR - could not execute ls -l - No such file or directory</p>\n</blockquote>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1469635157, "post_id": 38617931, "comment_id": 64621767, "body": "What&#39;s in <code>$folder</code>? You aren&#39;t passing the value of <code>$folder</code> directly to Perl; you are dynamically building a Perl expression to be executed. If there is (as seems likely) a <code>&#47;</code> in the value of <code>$folder</code>, that will terminate the <code>s&#47;&#47;</code> expression, not be treated as part of the replacement text."}, {"owner": {"reputation": 2123, "user_id": 803674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/sXfCE.png?s=128&g=1", "display_name": "niken", "link": "https://stackoverflow.com/users/803674/niken"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1469635296, "post_id": 38617931, "comment_id": 64621852, "body": "Yes it had a forward slash in it, I modified the value of the folder and that fixed it. Thank you"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1469636449, "post_id": 38617931, "comment_id": 64622567, "body": "Changing the value of <code>folder</code> may not always be possible; see my answer for a change to the Perl code that is safe for <i>any</i> value of <code>folder</code>."}], "answers": [{"comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1469636156, "post_id": 38618086, "comment_id": 64622403, "body": "Probably, but not guaranteed, safe; <code>{</code> and <code>}</code> are both legal characters in a path name."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1469635441, "creation_date": 1469635441, "answer_id": 38618086, "question_id": 38617931, "link": "https://stackoverflow.com/questions/38617931/how-to-handle-special-characters-in-perl-pie-find-replace/38618086#38618086", "title": "How to handle special characters in perl pie find replace", "body": "<p>Slashes embedded in the <code>folder</code> variable are prematurely terminating the substitution</p>\n\n<p>The easiest solution is to change the delimiters. Something like this should work</p>\n\n<pre><code>$ perl -pi -e \"s{FOLDER}{$folder}g\" tmp.sql\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2123, "user_id": 803674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/sXfCE.png?s=128&g=1", "display_name": "niken", "link": "https://stackoverflow.com/users/803674/niken"}, "edited": false, "score": 0, "creation_date": 1469642667, "post_id": 38618279, "comment_id": 64626088, "body": "I know this is a different q but what if instead of tmp.sql I replaced &quot;in-place&quot; on a variable like: text=<code>cat .&#47;tmp.sql</code> ... <code>perl -pi -e &quot;s|FOLDER|$folder|g&quot; $text</code>"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 2123, "user_id": 803674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/sXfCE.png?s=128&g=1", "display_name": "niken", "link": "https://stackoverflow.com/users/803674/niken"}, "edited": false, "score": 1, "creation_date": 1469643571, "post_id": 38618279, "comment_id": 64626614, "body": "You don&#39;t even need Perl for that: <code>text=${text&#47;&#47;FOLDER&#47;$folder}</code>."}], "tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 4, "last_activity_date": 1469636058, "creation_date": 1469636058, "answer_id": 38618279, "question_id": 38617931, "link": "https://stackoverflow.com/questions/38617931/how-to-handle-special-characters-in-perl-pie-find-replace/38618279#38618279", "title": "How to handle special characters in perl pie find replace", "body": "<p>Suppose you have <code>folder=/some/path</code>. Here is what your call to Perl looks like after the shell is done processing the line:</p>\n\n<pre><code>perl -pi -e \"s/FOLDER//some/path/g\" ./tmp.sql\n</code></pre>\n\n<p>The value of a shell variable is not passed into Perl; the shell performs simple text expansion on the string before Perl ever sees it.</p>\n\n<p>If you were doing the replacement literally, you would realize you need to type something like</p>\n\n<pre><code>perl -pi -e \"s/FOLDER/\\/some\\/path/g\" ./tmp.sql\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -pi -e \"s|FOLDER|/some/path|g\" ./tmp.sql\n</code></pre>\n\n<p>It is difficult either to properly escape the values in <code>$folder</code> or to \"guess\" a safe delimiter. The safest thing to do is to pass <code>$folder</code> as an extra argument.</p>\n\n<pre><code>perl -pi -e 'BEGIN {$replacement=shift}; s/FOLDER/$replacement/g' \"$folder\" ./tmp.sql\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1469636790, "creation_date": 1469636790, "answer_id": 38618509, "question_id": 38617931, "link": "https://stackoverflow.com/questions/38617931/how-to-handle-special-characters-in-perl-pie-find-replace/38618509#38618509", "title": "How to handle special characters in perl pie find replace", "body": "<p>Access the variable <code>$folder</code> from your shell environment as <code>$ENV{folder}</code> in Perl.</p>\n\n<pre><code>$ perl -pi -e 's/FOLDER/$ENV{folder}/g' ./tmp.sql\n</code></pre>\n\n<p>Note that this now uses 'single quotes' to delimit the code to execute.</p>\n"}], "owner": {"reputation": 2123, "user_id": 803674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/sXfCE.png?s=128&g=1", "display_name": "niken", "link": "https://stackoverflow.com/users/803674/niken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 852, "favorite_count": 1, "accepted_answer_id": 38618279, "answer_count": 3, "score": 1, "last_activity_date": 1469636790, "creation_date": 1469635012, "question_id": 38617931, "link": "https://stackoverflow.com/questions/38617931/how-to-handle-special-characters-in-perl-pie-find-replace", "title": "How to handle special characters in perl pie find replace", "body": "<p>I have the following text in a file:</p>\n\n<pre><code>prompt **********************************************************************************\nprompt **  Start\nprompt **********************************************************************************\nprompt **\nprompt **  Calling:  FILE\nprompt **\nprompt **\n@@FOLDER\\FILE\nprompt **\nprompt **  commit\ncommit;\nprompt **\nprompt **\nprompt **\nprompt **********************************************************************************\nprompt **  End\nprompt **********************************************************************************\n</code></pre>\n\n<p>When I do </p>\n\n<pre><code>$ perl -pi -e \"s/FILE/$file/g\" ./tmp.sql;\n</code></pre>\n\n<p>It replaces all instances of the word FILE with whatever I have in $file, but when I call </p>\n\n<pre><code>$ perl -pi -e \"s/FOLDER/$folder/g\" ./tmp.sql;\n</code></pre>\n\n<p>Which just has the folder string, it coughs up, doesn't replace anything and the shell where I am calling it from spits out this stuff:</p>\n\n<pre><code>Execution of -e aborted due to compilation errors.\nUnquoted string \"g\" may clash with future reserved word at -e line 1.\nUnknown regexp modifier \"/R\" at -e line 1, at end of line\nUnknown regexp modifier \"/F\" at -e line 1, at end of line\nUnknown regexp modifier \"/5\" at -e line 1, at end of line\nUnknown regexp modifier \"/4\" at -e line 1, at end of line\nUnknown regexp modifier \"/7\" at -e line 1, at end of line\nUnknown regexp modifier \"/5\" at -e line 1, at end of line\nUnknown regexp modifier \"/6\" at -e line 1, at end of line\nUnknown regexp modifier \"/_\" at -e line 1, at end of line\nUnknown regexp modifier \"/2\" at -e line 1, at end of line\n</code></pre>\n\n<p>Anyone know what gives?</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469618682, "post_id": 38611566, "comment_id": 64609374, "body": "I really wouldn&#39;t mix signals with threads. They don&#39;t work as well as you think. Especially as your semaphore is global anyway, so you can use that to signal your process regardless."}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1469618998, "post_id": 38611566, "comment_id": 64609588, "body": "Actually the semaphore object is inside the method that creates the thread (or you mean the semaphore is global according to the <code>test</code> method). Since mixing signals with threads is not a good idea, could you share another way to suspend/ resume a running thread."}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469619448, "post_id": 38611566, "comment_id": 64609909, "body": "And <code>$thr-&gt;suspend()</code> calls <code>$SIG{STOP}</code> (tested it with removing <code>$thr-&gt;kill(&#39;STOP&#39;);</code> line from <code>pause</code> method"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469630240, "post_id": 38611566, "comment_id": 64618220, "body": "Actually, see <a href=\"https://metacpan.org/pod/threads#THREAD-SIGNALLING\" rel=\"nofollow noreferrer\">threads</a>: &quot;<i>When safe signals is in effect (the default behavior - see &quot;Unsafe signals&quot; for more details), then signals may be sent and acted upon by individual threads.</i>&quot; @bob_saginowski What is your <code>perl</code> version and are safe signals enabled?"}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469630490, "post_id": 38611566, "comment_id": 64618424, "body": "@Sinan&#220;n&#252;r my <code>perl</code> version is <code>v5.22.2</code> and nowhere in my code I enable safe signals"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469631139, "post_id": 38611566, "comment_id": 64618926, "body": "Well, they are enabled by default. They would be disabled if Perl has been built with PERL_OLD_SIGNALS (see perl -V) or the environment variable PERL_SIGNALS is set to unsafe (see &quot;PERL_SIGNALS&quot; in perlrun)."}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469632091, "post_id": 38611566, "comment_id": 64619617, "body": "@Sinan&#220;n&#252;r I added <code>$ENV{PERL_SIGNALS} = &#39;unsafe&#39;;</code> to my code but there is no difference;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1469632259, "post_id": 38611566, "comment_id": 64619746, "body": "Don&#39;t do that! There&#39;s a reason it&#39;s called unsafe."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469634227, "post_id": 38611566, "comment_id": 64621128, "body": "@bob_saginowski You misunderstood what I was saying ... I am <b><i>NOT</i></b> recommending unsafe signals."}], "answers": [{"comments": [{"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1469688565, "post_id": 38617308, "comment_id": 64642183, "body": "thank you for the great solution without semaphores, exactly what I am trying to achieve"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 1, "creation_date": 1469708176, "post_id": 38617308, "comment_id": 64655150, "body": "@bob_saginowski: I&#39;m also unsure whether you realise that your subroutines aren&#39;t necessary. I&#39;ve updated my answer to add a simpler solution."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1469708092, "last_edit_date": 1469708092, "creation_date": 1469633281, "answer_id": 38617308, "question_id": 38611566, "link": "https://stackoverflow.com/questions/38611566/perl-resume-a-thread/38617308#38617308", "title": "Perl resume a thread", "body": "\n\n<p>It's unclear whether you need <a href=\"https://metacpan.org/pod/Thread::Semaphore\" rel=\"nofollow\"><code>Thread::Semaphore</code></a> for a separate purpose, but it's not required for the functioning of <a href=\"https://metacpan.org/pod/Thread::Suspend\" rel=\"nofollow\"><code>Thread::Suspend</code></a></p>\n\n<p>I suspect the reason your suspend/resume isn't working is that you've overridden the signal handler that <code>Thread::Suspend</code> sets up for its own purposes</p>\n\n<p>If I remove all the signal handlers and the <code>Thread::Semaphore</code> stuff, then your code works fine:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse threads;\n\nuse Thread::Suspend;\n\nSTDOUT-&gt;autoflush;\n\n\nmy $tid = create_thread();\n\nfor ( 1 .. 10 ) {\n    sleep 5;\n    print pause($tid);\n    sleep 5;\n    print resume($tid);\n}\n\n\nsub create_thread { \n\n    my $thr = threads-&gt;create( sub {\n        while () {\n            print \"Working thread\\n\";\n            sleep 1;\n        }\n    } );\n\n    return $thr-&gt;tid;\n}\n\n\nsub pause {\n    my ($tid) = @_;\n    my $thr = threads-&gt;object($tid);\n\n    return \"Thread $tid not found\\n\" unless $thr;\n\n    return \"Thread $tid is already suspended\\n\" if $thr-&gt;is_suspended;\n\n    $thr-&gt;suspend;\n    return \"Thread $tid paused\\n\";\n}\n\nsub resume {\n    my ($tid) = @_;\n\n    my $thr = threads-&gt;object($tid);\n\n    return \"Thread $tid not found\\n\" unless $thr;\n    return \"Thread $tid has not been paused\\n\" unless $thr-&gt;is_suspended;\n\n    $thr-&gt;resume;\n    return \"Thread $tid resumed\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Working thread\nWorking thread\nWorking thread\nWorking thread\nWorking thread\nThread 1 paused\nThread 1 resumed\nWorking thread\nWorking thread\nWorking thread\nWorking thread\nWorking thread\nThread 1 paused\nThread 1 resumed\nWorking thread\nWorking thread\n...\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>There's no real need for your subroutines either. Here's a bare implementation</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse threads;\n\nuse Thread::Suspend;\n\nSTDOUT-&gt;autoflush;\n\nsub thread_sub {\n\n    while () {\n        printf \"Working thread %d\\n\", threads-&gt;self-&gt;tid;\n        sleep 1;\n    }\n}\n\nmy $thr = threads-&gt;create(\\&amp;thread_sub);\n\nfor ( 1 .. 10 ) {\n\n    sleep 5;\n\n    if ( my $suspended = $thr-&gt;suspend ) {\n        printf \"Thread %d suspended\\n\", $suspended-&gt;tid;\n    }\n\n    sleep 5;\n\n    if ( my $resumed = $thr-&gt;resume ) {\n        printf \"Thread %d resumed\\n\", $resumed-&gt;tid;\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Working thread 1\nWorking thread 1\nWorking thread 1\nWorking thread 1\nWorking thread 1\nWorking thread 1\nThread 1 suspended\nThread 1 resumed\nWorking thread 1\nWorking thread 1\nWorking thread 1\nWorking thread 1\nWorking thread 1\nWorking thread 1\nThread 1 suspended\nThread 1 resumed\nWorking thread 1\nWorking thread 1\nWorking thread 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469634933, "post_id": 38617412, "comment_id": 64621622, "body": "Tested. Need a couple of small fixes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1469634992, "post_id": 38617412, "comment_id": 64621662, "body": "&quot;down_force&quot; sounds like a racer&#39;s handle or a bad super hero group name."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1469679714, "last_edit_date": 1469679714, "creation_date": 1469633544, "answer_id": 38617412, "question_id": 38611566, "link": "https://stackoverflow.com/questions/38611566/perl-resume-a-thread/38617412#38617412", "title": "Perl resume a thread", "body": "<p>No actual signals are being used here. Signals can only be sent to processes, not threads. From <code>$thread-&gt;kill</code>'s documentation:</p>\n\n<blockquote>\n  <p>CAVEAT: The thread signalling capability provided by this module does not actually send signals via the OS. It emulates signals at the Perl-level such that signal handlers are called in the appropriate thread. For example, sending <code>$thr-&gt;kill('STOP')</code> does not actually suspend a thread (or the whole process), but does cause a <code>$SIG{'STOP'}</code> handler to be called in that thread (as illustrated above).</p>\n</blockquote>\n\n<p>Since no actual signals are being used here, you're not mixing signals and threads. Good.</p>\n\n<p>But it's an overly complicated design. Simply call <code>$sem-&gt;down_force()</code> in <code>pause</code> and <code>$sem-&gt;up()</code> in <code>resume</code>. There's no need for this to happen in the thread.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse Thread::Semaphore qw( );\n\n{\n    package Worker;\n\n    sub new { \n        my $class = shift;\n        return bless({ @_ }, $class);\n    }\n\n    sub thr    { return $_[0]{thr}        }\n    sub tid    { return $_[0]{thr}-&gt;tid() }\n    sub join   { $_[0]{thr}-&gt;join()       }\n    sub pause  { $_[0]{sem}-&gt;down_force() }\n    sub resume { $_[0]{sem}-&gt;up()         }\n}\n\nsub createThread {\n    my $sem = Thread::Semaphore-&gt;new();\n    my $thr = async {\n        while (1) {\n            $sem-&gt;down();\n            ...\n            $sem-&gt;up();\n        }\n    };\n\n    return Worker-&gt;new( thr =&gt; $thr, sem =&gt; $sem );\n}\n\nsub pause  { my ($worker) = @_;  $worker-&gt;pause();  }\nsub resume { my ($worker) = @_;  $worker-&gt;resume(); }\n</code></pre>\n\n<p>Of course, that assumes you only want to suspend the thread between work units. If you want to suspend the thread immediately, you don't need semaphores or \"signals\" at all<sup>[1]</sup>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse Thread::Suspend;  # Must call import!\n\n{\n    package Worker;\n\n    sub new { \n        my $class = shift;\n        return bless({ @_ }, $class);\n    }\n\n    sub thr    { return $_[0]{thr}                           }\n    sub tid    { return $_[0]{thr}-&gt;tid()                    }\n    sub join   { $_[0]{thr}-&gt;join()                          }\n    sub pause  { $_[0]{suspended}++ || $_[0]{thr}-&gt;suspend() }\n    sub resume { --$_[0]{suspended} || $_[0]{thr}-&gt;resume()  }\n}\n\nsub createThread {\n    my $thr = async {\n        ...\n    };\n\n    return Worker-&gt;new( thr =&gt; $thr );\n}\n\nsub pause  { my ($worker) = @_;  $worker-&gt;pause();  }\nsub resume { my ($worker) = @_;  $worker-&gt;resume(); }\n</code></pre>\n\n<p>Bonus: <code>$worker-&gt;pause; $worker-&gt;pause; $worker-&gt;resume; $worker-&gt;resume;</code> works fine for both of these methods (unlike the version in the question).</p>\n\n<p>If you want to keep working using a tid instead of an object, just store the object in a hash keyed by tid.</p>\n\n<hr>\n\n<ol>\n<li>At least, not in addition to Thread::Suspend, which uses a \"signal\" and what amounts to semaphores internally.</li>\n</ol>\n"}], "owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 3, "accepted_answer_id": 38617308, "answer_count": 2, "score": 8, "last_activity_date": 1469708092, "creation_date": 1469618553, "question_id": 38611566, "link": "https://stackoverflow.com/questions/38611566/perl-resume-a-thread", "title": "Perl resume a thread", "body": "<p>I am trying to start a thread that I could suspend/ resume any time. Here is how I create the thread: </p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse threads::shared;\nuse Thread::Suspend;\nuse Thread::Semaphore;\n\nsub createThread { \n    my $semaphore = Thread::Semaphore-&gt;new();\n    my $thr = threads-&gt;create(sub {\n        local $SIG{KILL} = sub { \n            die \"Thread killed\\n\";\n        };\n        local $SIG{STOP} = sub { \n            print \"sig stop\\n\";\n            $semaphore-&gt;down();\n        };\n        local $SIG{CONT} = sub {\n            $semaphore-&gt;up();\n            print \"sig cont\\n\";\n        };\n\n        my $test = sub {\n            while (1) {\n                $semaphore-&gt;down();\n                print STDERR \"Working process\\n\";\n                sleep(2);\n                $semaphore-&gt;up();\n            }\n        };\n\n        return $test-&gt;();\n    });\n\n    return $thr-&gt;tid();\n}\n</code></pre>\n\n<p>After retrieving the thread id (with <code>return $thr-&gt;tid();</code>). Then I try to pause it and the message <code>sig stop</code> is being printed and later when I try to resume it <code>sig cont</code> is not printed. Here is the code that suspends/ resumes the thread: </p>\n\n<pre><code>sub pause {\n    my $class = shift;\n    my $threadId = shift;\n    my $thr = threads-&gt;object($threadId);\n\n    if ($thr) {\n        if ($thr-&gt;is_suspended() == 0) {\n            $thr-&gt;kill('STOP');\n            $thr-&gt;suspend();\n            return \"Process $threadId paused\\n\";\n        } else {\n            return \"Process $threadId has to be resumed\\n\";\n        }\n    } else {\n        return \"Process $threadId not found\\n\";\n    }\n}\n\nsub resume {\n    my $class = shift;\n    my $threadId = shift;\n    my $thr = threads-&gt;object($threadId);\n\n    if ($thr) {\n        if ($thr-&gt;is_suspended() != 0) {\n            $thr-&gt;resume();\n            $thr-&gt;kill('CONT');\n            return \"Operation $threadId resumed\\n\";\n        } else {\n            return \"Operation $threadId has not been paused\\n\";\n        }\n    } else {\n        return \"Process $threadId not found\\n\";\n    }\n}\n</code></pre>\n\n<p>After I resume a suspended thread, the message <code>Operation X was resumed</code> but <code>sig cont</code> isn't and the thread function is also not being resumed.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1469619829, "post_id": 38610567, "comment_id": 64610195, "body": "math::round <a href=\"http://search.cpan.org/dist/Math-Round/Round.pm\" rel=\"nofollow noreferrer\">reference</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12533, "user_id": 931027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWhaB.jpg?s=128&g=1", "display_name": "Kusalananda", "link": "https://stackoverflow.com/users/931027/kusalananda"}, "edited": false, "score": 0, "creation_date": 1469617780, "post_id": 38611156, "comment_id": 64608758, "body": "Or store and print them as strings, <code>$x = &quot;200.1564867256545456457&quot;;</code>."}, {"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1469618738, "post_id": 38611156, "comment_id": 64609414, "body": "@ Kusalananda: How could I sum if i have converted into sting?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1469679974, "post_id": 38611156, "comment_id": 64638780, "body": "There&#39;s also Math::BigRat which stores numbers as fractions with integral numerators and denominators. Whatever <i>floats</i> your boat."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 11, "last_activity_date": 1469640993, "last_edit_date": 1469640993, "creation_date": 1469617402, "answer_id": 38611156, "question_id": 38610567, "link": "https://stackoverflow.com/questions/38610567/how-to-prevent-floating-numbers-getting-round-off-in-perl/38611156#38611156", "title": "How to prevent floating numbers getting round off in perl?", "body": "<p>You cannot change the fact that there are a finite number of <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow\">floating point</a> numbers whereas there are uncountably many real numbers.</p>\n\n<p>You always have the option of reading and printing them as strings without modification. However, the moment you carry out any arithmetic, you are in floating point land.</p>\n\n<p>You have two alternatives: 1. You can print numbers using more digits than the default using <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#sprintf-FORMAT-LIST\" rel=\"nofollow\">printf/sprintf</a>; or 2. You can try to use arbitrary precision arithmetic. The latter is bound to be much slower and you need to be careful about how you initialize your variables.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %n = (\n    x =&gt; 200.1564867256545456457,\n    y =&gt; 3352.25654454545454,\n);\n\nprintf \"%s = %.18f\\n\", $_, $n{$_} for qw/x y/;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>x = 200.156486725654531256\ny = 3352.256544545454289619</pre>\n\n<p>This illustrates the fact that most real numbers cannot be represented using floating point numbers.</p>\n\n<p>Using <a href=\"https://metacpan.org/pod/Math::BigFloat\" rel=\"nofollow\">Math::BigFloat</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Math::BigFloat;\nMath::BigFloat-&gt;accuracy(24);\n\nmy %n = (\n    x =&gt; Math::BigFloat-&gt;new('200.1564867256545456457'),\n    y =&gt; Math::BigFloat-&gt;new('3352.25654454545454'),\n);\n\nprint \"$_ = $n{$_}\\n\" for qw/x y/;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>x = 200.156486725654545645700\ny = 3352.25654454545454000000</pre>\n"}], "owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 1, "accepted_answer_id": 38611156, "answer_count": 1, "score": 2, "last_activity_date": 1469640993, "creation_date": 1469615801, "question_id": 38610567, "link": "https://stackoverflow.com/questions/38610567/how-to-prevent-floating-numbers-getting-round-off-in-perl", "title": "How to prevent floating numbers getting round off in perl?", "body": "<p>I am getting some numbers from various sources with different length in its float. I am summing all the numbers as it is. The numbers are automatically round off. Someone please suggest to prevent the auto round off in perl.</p>\n\n<p>The sample snippet is below.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nmy $x=200.1564867256545456457;\nmy $y=3352.25654454545454;\n\nprint \"X : $x\\n Y : $y\\n\";\n</code></pre>\n"}, {"tags": ["perl", "curl", "lwp"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1469612713, "post_id": 38609198, "comment_id": 64605187, "body": "You are not showing your full code. The code does not produce that output as there is no sending happening. See <a href=\"http://stackoverflow.com/documentation/perl/983/debug-output#t=201607270944292058065\">stackoverflow.com/documentation/perl/983/&hellip;</a> to learn how to output objects so you understand them."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1469631217, "post_id": 38609198, "comment_id": 64618983, "body": "Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how to mark a question as resolved. :)"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6643952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4cd803f85d5c53fe1226fd8cceb6cc?s=128&d=identicon&r=PG&f=1", "display_name": "Talgarth", "link": "https://stackoverflow.com/users/6643952/talgarth"}, "edited": false, "score": 0, "creation_date": 1469615607, "post_id": 38609646, "comment_id": 64607296, "body": "Thanks for the comprehensive and quick response. I&#39;ll give that a spin."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 6, "last_activity_date": 1531461481, "last_edit_date": 1531461481, "creation_date": 1469613396, "answer_id": 38609646, "question_id": 38609198, "link": "https://stackoverflow.com/questions/38609198/perl-lwpuseragent-how-to-i-add-headers/38609646#38609646", "title": "Perl LWP:UserAgent how to I add headers?", "body": "<p>If you want to do a GET request with custom headers with LWP::UserAgent, you can put them into the <code>$ua-&gt;get()</code> call in the way <a href=\"https://metacpan.org/pod/LWP::UserAgent#ua-get-url-field_name-value\" rel=\"nofollow noreferrer\">the documentation describes</a>.</p>\n\n<blockquote>\n  <p>This method will dispatch a GET request on the given $url. Further arguments can be given to initialize the headers of the request. These are given as separate name/value pairs. The return value is a response object. See HTTP::Response for a description of the interface it provides.</p>\n</blockquote>\n\n<p>Your example is missing the part where you are sending the request, so it's hard to tell what you are doing.</p>\n\n<p>Your <code>@headers</code> array contains both headers and URL params. That's not going to do what you expect. If you want to construct the URL and the headers like this, you need a different approach.</p>\n\n<p>Use the <a href=\"https://metacpan.org/pod/URI#uri-query_form\" rel=\"nofollow noreferrer\">URI module</a> to create the URI programmatically, then use LWP::UA's <code>get</code> to send it including the headers.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\nuse URI;\n\nmy $uri = URI-&gt;new('https://10.51.10.26/10/download');\n$uri-&gt;query_form(\n    \"startTime\"       =&gt; $queryStart, # these two need \n    \"endTime\"         =&gt; $queryEnd,   # to be set above\n    \"cNat\"            =&gt; \"True\", \n    \"cNatShowDst\"     =&gt; \"False\", \n    \"tuplesFile\"      =&gt; \"False\", \n    \"summarizeTuples\" =&gt; \"False\",   \n);\n\nmy $ua = LWP::UserAgent-&gt;new;\nmy $res = $ua-&gt;get(\n    $uri,\n    \"Authorization\" =&gt; \"Basic YWRtaW46YWRtaW4\",\n    \"Cache-Control\" =&gt; \"no-cache\", \n    \"Postman-Token\" =&gt; \"eb3955f1-a7b5-65d7-f5c0-808c7aba6cef\", \n);\n\nif ($res-&gt;is_success) {\n    # do stuff with content\n} else {\n    # request failed\n}\n</code></pre>\n\n<p>To output the full HTTP::Response object, use <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a>.</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper $res;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1469614662, "creation_date": 1469614662, "answer_id": 38610137, "question_id": 38609198, "link": "https://stackoverflow.com/questions/38609198/perl-lwpuseragent-how-to-i-add-headers/38610137#38610137", "title": "Perl LWP:UserAgent how to I add headers?", "body": "<p>Your Perl code doesn't result in the HTTP::Response object that you show. It can't possibly do that as your code doesn't actually make a request.</p>\n\n<p>Putting new headers in an array called <code>@headers</code> isn't going to achieve anything useful either. You need to attach those headers to the request in some way.</p>\n\n<p>LWP includes <a href=\"https://metacpan.org/pod/distribution/libwww-perl/lwptut.pod\" rel=\"nofollow noreferrer\">a useful tutorial</a>. It would be a good idea to read that before trying to do too much with the tools. In particular, it includes a section entitled <a href=\"https://metacpan.org/pod/distribution/libwww-perl/lwptut.pod#Adding-Other-HTTP-Request-Headers\" rel=\"nofollow noreferrer\">Adding Other HTTP Request Headers</a> which says:</p>\n\n<blockquote>\n  <p>The most commonly used syntax for requests is <code>$response = $browser-&gt;get($url)</code>,\n  but in truth, you can add extra HTTP header lines\n  to the request by adding a list of key-value pairs after the URL, like\n  so:</p>\n\n<pre><code>$response = $browser-&gt;get( $url, $key1, $value1, $key2, $value2, ... );\n</code></pre>\n  \n  <p>For example, here's how to send some more Netscape-like headers, in\n  case you're dealing with a site that would otherwise reject your\n  request:</p>\n\n<pre><code>my @ns_headers = (\n  'User-Agent' =&gt; 'Mozilla/4.76 [en] (Win98; U)', \n  'Accept' =&gt; 'image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,image/png, */*',\n  'Accept-Charset' =&gt; 'iso-8859-1,*,utf-8', \n  'Accept-Language' =&gt; 'en-US', );\n\n...\n\n$response = $browser-&gt;get($url, @ns_headers);\n</code></pre>\n  \n  <p>If you weren't reusing that array, you could just go ahead and do\n  this:</p>\n\n<pre><code>$response = $browser-&gt;get($url,\n  'User-Agent' =&gt; 'Mozilla/4.76 [en] (Win98; U)',\n  'Accept' =&gt; 'image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*',\n  'Accept-Charset' =&gt; 'iso-8859-1,*,utf-8',\n  'Accept-Language' =&gt; 'en-US',\n);\n</code></pre>\n  \n  <p>If you were only ever changing the 'User-Agent' line, you could just\n  change the <code>$browser</code> object's default line from \"libwww-perl/5.65\" (or\n  the like) to whatever you like, using the LWP::UserAgent agent method:</p>\n\n<pre><code>$browser-&gt;agent('Mozilla/4.76 [en] (Win98; U)');\n</code></pre>\n</blockquote>\n\n<p>It's worth pointing out that <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow noreferrer\">LWP::UserAgent</a> also has a <code>default_headers()</code> method which allows you to define headers which are added to every request made by that useragent.</p>\n\n<p>People have put a lot of effort into creating a lot of useful documentation for Perl tools. That effort is rather wasted if people don't read it.</p>\n"}], "owner": {"reputation": 59, "user_id": 6643952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4cd803f85d5c53fe1226fd8cceb6cc?s=128&d=identicon&r=PG&f=1", "display_name": "Talgarth", "link": "https://stackoverflow.com/users/6643952/talgarth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11834, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1531461481, "creation_date": 1469612270, "last_edit_date": 1469612751, "question_id": 38609198, "link": "https://stackoverflow.com/questions/38609198/perl-lwpuseragent-how-to-i-add-headers", "title": "Perl LWP:UserAgent how to I add headers?", "body": "<p>I'm a new perl programmer trying to convert a curl request into a Perl script get using LWP:UserAgent.</p>\n\n<p>The curl request example is:</p>\n\n<pre><code>curl -X GET -H \"Authorization: Basic YWRtaW46YWRtaW4=\" -H \"Cache-Control: no-cache\" -H \"Postman-Token: eb3955f1-a7b5-65d7-f5c0-808c7aba6cef\" \"https://10.51.10.26/10/download?startTime=1461698250&amp;endTime=1461698252&amp;cNat=True&amp;cNatShowDst=True&amp;tuplesFile=True&amp;summarizeTuples=False\"\n</code></pre>\n\n<p>And my PERL equivalent:</p>\n\n<pre><code>use LWP::UserAgent;\nmy $browser = LWP::UserAgent-&gt;new;\nmy $url = 'https://10.51.10.26/10/download';\nmy @headers = (\n   \"startTime\" =&gt; $queryStart, \n   \"endTime\" =&gt; $queryEnd, \n   \"cNat\" =&gt; \"True\", \n   \"cNatShowDst\" =&gt; \"False\", \n   \"tuplesFile\" =&gt; \"False\", \n   \"summarizeTuples\" =&gt; \"False\",\n   \"Authorization\" =&gt; \"Basic YWRtaW46YWRtaW4\",\n   \"Cache-Control\" =&gt; \"no-cache\", \n   \"Postman-Token\" =&gt; \"eb3955f1-a7b5-65d7-f5c0-808c7aba6cef\", \n);\n</code></pre>\n\n<p>Results in - <code>HTTP::Response=HASH(0x27884bc)</code></p>\n\n<p>Is this the correct way of adding headers?</p>\n"}, {"tags": ["multithreading", "perl", "mod-perl", "mod-perl2"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1469611173, "post_id": 38608488, "comment_id": 64604146, "body": "What are you trying to accomplish? I&#39;d suggest trying to mutlithread CGI script type stuff is asking for some real pain, to the point where you&#39;d probably be better off looking at running a web framework instead (mojolicious/dancer or similar)"}, {"owner": {"reputation": 83, "user_id": 1829719, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dfaebf2f0e3f6d332bf959ad6d6b9bcc?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/1829719/john"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469611965, "post_id": 38608488, "comment_id": 64604684, "body": "I already have a cgi script that uses multi threading then would like to utilize mod_perl to make it more faster and efficient. But I cannot get threads to work on mod_perl."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469611973, "post_id": 38608488, "comment_id": 64604692, "body": "You don&#39;t even need a framework, but using Plack (plain or with a framework) makes your live incredibly more easy. There are PSGI servers that bring automatic forking, pre-forking and there might be one that does threading if you actually want that. You can tie all of them into your web server so it feels like it&#39;s mod_perl."}, {"owner": {"reputation": 83, "user_id": 1829719, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dfaebf2f0e3f6d332bf959ad6d6b9bcc?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/1829719/john"}, "edited": false, "score": 0, "creation_date": 1469612299, "post_id": 38608488, "comment_id": 64604916, "body": "Hmmm so threads really does not work with mod_perl?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 1829719, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dfaebf2f0e3f6d332bf959ad6d6b9bcc?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/1829719/john"}, "edited": false, "score": 0, "creation_date": 1469740407, "post_id": 38619137, "comment_id": 64676286, "body": "I needed threads to execute numerous mysql queries simultaneously so that the waiting time does not add up."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 83, "user_id": 1829719, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dfaebf2f0e3f6d332bf959ad6d6b9bcc?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/1829719/john"}, "edited": false, "score": 0, "creation_date": 1469743343, "post_id": 38619137, "comment_id": 64677563, "body": "A problem I would worry about is what happens to your database server if, say, 100 users come to your web site (they might hit it at a rate of 1/second), you spawn 10 simultaneous queries for each, and cause the database server to trash. I don&#39;t know if the results of these queries are cacheable, but, you might have an easier time using a framework such as Mojolicious. Possibly fewer complications. Although, I would recommend trying this out, and asking when you run into specific problems."}, {"owner": {"reputation": 83, "user_id": 1829719, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dfaebf2f0e3f6d332bf959ad6d6b9bcc?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/1829719/john"}, "edited": false, "score": 0, "creation_date": 1469774774, "post_id": 38619137, "comment_id": 64686088, "body": "I already have a working code that runs smoothly on mod_cgi. The problem is when running on mod_perl it crashes, specifically on the &quot;threads-&gt;new&quot; line. Is there a setting that should be enabled to make threads work on mod_perl? Or am I missing something?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 83, "user_id": 1829719, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dfaebf2f0e3f6d332bf959ad6d6b9bcc?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/1829719/john"}, "edited": false, "score": 0, "creation_date": 1469784353, "post_id": 38619137, "comment_id": 64691673, "body": "&quot;crashes&quot; is not an adequate problem description. Tell us what error you get, what do you get from <code>perl -V</code> etc etc. Update your question with that information."}, {"owner": {"reputation": 83, "user_id": 1829719, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dfaebf2f0e3f6d332bf959ad6d6b9bcc?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/1829719/john"}, "edited": false, "score": 0, "creation_date": 1469785114, "post_id": 38619137, "comment_id": 64692172, "body": "There is no error message. My web page / script just stops and gives the error:   The www.abcd.com page isn\u2019t working   www.abcd.com didn\u2019t send any data.   What&#39;s weird is if I execute the script via command line it works fine."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 83, "user_id": 1829719, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dfaebf2f0e3f6d332bf959ad6d6b9bcc?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/1829719/john"}, "edited": false, "score": 0, "creation_date": 1469786413, "post_id": 38619137, "comment_id": 64693014, "body": "If you do not know where to look for any error messages, you are likely not well equipped to deal with this problem."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1469639298, "last_edit_date": 1592644375, "creation_date": 1469638838, "answer_id": 38619137, "question_id": 38608488, "link": "https://stackoverflow.com/questions/38608488/how-can-i-use-threads-multi-threading-on-mod-perl/38619137#38619137", "title": "How can I use threads / multi threading on mod_perl", "body": "<blockquote>\n<p>so threads really do not work with mod_perl?</p>\n</blockquote>\n<p>I have not investigated whether threads work or do not work with <code>mod_perl2</code>. Keep in mind that the point of <code>mod_perl</code> is to run a set of persistent Perl interpreters within the Apache process.</p>\n<p>Also keep in mind that Apache can kill CGI scripts that are taking too long to respond. Now, add to that mix a set of threads which your CGI script that can die at any time is managing within some persistent Perl process within Apache, and I hope it is easy to see why people's first reaction is &quot;Great idea!&quot; This would never occur to me as a solution to any problem I have encountered in CGI programming.</p>\n<p>What you may or may not be able to do may depend greatly on the MPM you choose and how <code>httpd</code> and <code>perl</code> you are using were compiled etc.</p>\n<p>You need to explain why you think you need threads. What is the problem you are trying to solve, and how will using threads within a <a href=\"https://perl.apache.org/docs/2.0/api/ModPerl/Registry.html\" rel=\"nofollow noreferrer\">CGI script run under <code>mod_perl</code></a> will help you solve it?</p>\n<p>See <a href=\"https://perl.apache.org/docs/2.0/user/intro/overview.html#Threads_Support\" rel=\"nofollow noreferrer\">mod_perl documentation</a>:</p>\n<blockquote>\n<h3>Threads Support</h3>\n<p>In order to adapt to the Apache 2.0 threads architecture (for threaded MPMs), mod_perl 2.0 needs to use thread-safe Perl interpreters, also known as &quot;<code>ithreads</code>&quot; (Interpreter Threads). This mechanism can be enabled at compile time and ensures that each Perl interpreter uses its private <code>PerlInterpreter</code> structure for storing its symbol tables, stacks and other Perl runtime mechanisms. When this separation is engaged any number of threads in the same process can safely perform concurrent callbacks into Perl. This of course requires each thread to have its own <code>PerlInterpreter</code> object, or at least that each instance is only accessed by one thread at any given time.</p>\n<p>The first <code>mod_perl</code> generation has only a single PerlInterpreter, which is constructed by the parent process, then inherited across the forks to child processes. <code>mod_perl</code> 2.0 has a configurable number of <code>PerlInterpreter</code>s and two classes of interpreters, parent and clone. A parent is like that in <code>mod_perl</code> 1.0, where the main interpreter created at startup time compiles any pre-loaded Perl code. A clone is created from the parent using the Perl API <a href=\"http://perldoc.perl.org/perlapi.html#Cloning-an-interpreter\" rel=\"nofollow noreferrer\">perl_clone()</a> function. At request time, parent interpreters are only used for making more clones, as the clones are the interpreters which actually handle requests. Care is taken by Perl to copy only mutable data, which means that no runtime locking is required and read-only data such as the syntax tree is shared from the parent, which should reduce the overall <code>mod_perl</code> memory footprint.</p>\n<p>Rather than create a <code>PerlInterpreter</code> per-thread by default, mod_perl creates a pool of interpreters. The pool mechanism helps cut down memory usage a great deal. As already mentioned, the syntax tree is shared between all cloned interpreters. If your server is serving more than <code>mod_perl</code> requests, having a smaller number of <code>PerlInterpreter</code>s than the number of threads will clearly cut down on memory usage. Finally and perhaps the biggest win is memory re-use: as calls are made into Perl subroutines, memory allocations are made for variables when they are used for the first time. Subsequent use of variables may allocate more memory, e.g. if a scalar variable needs to hold a longer string than it did before, or an array has new elements added. As an optimization, Perl hangs onto these allocations, even though their values &quot;go out of scope&quot;. mod_perl 2.0 has a much better control over which <code>PerlInterpreters</code> are used for incoming requests. The interpreters are stored in two linked lists, one for available interpreters and another for busy ones. When needed to handle a request, one interpreter is taken from the head of the available list and put back into the head of the same list when done. This means if for example you have 10 interpreters configured to be cloned at startup time, but no more than 5 are ever used concurrently, those 5 continue to reuse Perl's allocations, while the other 5 remain much smaller, but ready to go if the need arises.</p>\n<p>Various attributes of the pools are configurable using <a href=\"https://perl.apache.org/docs/2.0/user/config/config.html#Threads_Mode_Specific_Directives\" rel=\"nofollow noreferrer\">threads mode specific directives</a>.</p>\n<p>The interpreters pool mechanism has been abstracted into an API known as &quot;tipool&quot;, Thread Item Pool. This pool can be used to manage any data structure, in which you wish to have a smaller number than the number of configured threads. For example a replacement for <code>Apache::DBI</code> based on the tipool will allow to reuse database connections between multiple threads of the same process.</p>\n<h3>Thread-environment Issues</h3>\n<p>While <code>mod_perl</code> itself is thread-safe, you may have issues with the thread-safety of your code. For more information refer to <a href=\"https://perl.apache.org/docs/2.0/user/coding/coding.html#Threads_Coding_Issues_Under_mod_perl\" rel=\"nofollow noreferrer\">Threads Coding Issues Under mod_perl</a>.</p>\n<p>Another issue is that &quot;global&quot; variables are only global to the interpreter in which they are created. It's possible to share variables between several threads running in the same process. For more information see: <a href=\"https://perl.apache.org/docs/2.0/user/coding/coding.html#Shared_Variables\" rel=\"nofollow noreferrer\">Shared Variables</a>.</p>\n</blockquote>\n"}], "owner": {"reputation": 83, "user_id": 1829719, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dfaebf2f0e3f6d332bf959ad6d6b9bcc?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/1829719/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1469785337, "creation_date": 1469610343, "last_edit_date": 1469785337, "question_id": 38608488, "link": "https://stackoverflow.com/questions/38608488/how-can-i-use-threads-multi-threading-on-mod-perl", "title": "How can I use threads / multi threading on mod_perl", "body": "<p>The code below works fine on mod_cgi but not on mod_perl. The code just crashes upon creation of the first thread. Any thoughts on how to implement threads on mod_perl? Is it really possible? What am I missing?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\n\nprint \"Content-type: text/html\\n\\n\";\n\nsub testthread{\n   my $value = shift;\n   print \"&lt;br&gt;test - $value\"\n}\n\nmy @threads = ();\npush(@threads, threads-&gt;new(\\&amp;testthread, 1));\npush(@threads, threads-&gt;new(\\&amp;testthread, 2));\nforeach (@threads) {\n   $_-&gt;join;\n}\n\nexit;\n</code></pre>\n\n<p>There is no error message given. My web page / script just stops and gives this error to the browser:\nThe www.abcd.com page isn\u2019t working\nwww.abcd.com didn\u2019t send any data.\nWhat's weird is if I execute the script via command line it works fine.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469610035, "post_id": 38608284, "comment_id": 64603383, "body": "Isn&#39;t your current output <code>10.7&#39; =&gt; &#39;217</code> ?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469610108, "post_id": 38608284, "comment_id": 64603434, "body": "<code>$VAR1 = {           &#39;10.7&#39; =&gt; &#39;216&#39;         };</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1469610164, "post_id": 38608284, "comment_id": 64603471, "body": "Strategy is to push the values onto an array indexed by <code>$1</code>.  Then you can process the values in the array to produce a friendlier string.  You can <code>push @{ $colorfigshash{ $1 } }, $2;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 2, "last_activity_date": 1469618937, "last_edit_date": 1469618937, "creation_date": 1469610489, "answer_id": 38608527, "question_id": 38608284, "link": "https://stackoverflow.com/questions/38608284/in-hashes-key-duplicated-join-the-value-into-the-previous-keys-in-perl-script/38608527#38608527", "title": "In hashes key duplicated join the Value into the previous keys in perl script", "body": "<p>I would use a hash of arrays, and re-write it along these lines: </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %colorfigshash;\n\nwhile(&lt;DATA&gt;) { \n    chomp; \n    next unless /^Placement/;\n    my ($placement) = /\\{(\\d+\\.\\d+)\\}/;\n    my ($page) = /Page (\\d+)/;\n    push @{$colorfigshash{$placement}}, $page;\n}\n\nfor (keys %colorfigshash){\n    print \"$_ \";\n    print join ('-', @{$colorfigshash{$_}}), \"\\n\";\n}\n\n__DATA__\nPlacement of Figure \\hbox {10.7} Page 216\nPages in Color: 216\nPlacement of Figure \\hbox {10.7} Page 217\nPages in Color: 217\n</code></pre>\n\n<hr>\n\n<pre><code>10.7 216-217\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 38608527, "answer_count": 1, "score": 2, "last_activity_date": 1469618937, "creation_date": 1469609794, "question_id": 38608284, "link": "https://stackoverflow.com/questions/38608284/in-hashes-key-duplicated-join-the-value-into-the-previous-keys-in-perl-script", "title": "In hashes key duplicated join the Value into the previous keys in perl script", "body": "<pre><code>my %colorfigshash = ();\nmy $tempcnt = &lt;DATA&gt;;\nwhile($tempcnt=~m/Placement of Figure (?:[^\\{]*)\\{([^\\{\\}]*)\\} Page ([^\\n]*)\\n/sg)\n{\n    $colorfigshash{$1} = $2;\n}\n\nuse Data::Dumper;\nprint Dumper \\%colorfigshash;\n\n__DATA__\nPlacement of Figure \\hbox {10.7} Page 216\nPages in Color: 216\nPlacement of Figure \\hbox {10.7} Page 217\nPages in Color: 217\n</code></pre>\n\n<p>Current Output:</p>\n\n<pre><code>$VAR1 = {\n      '10.7' =&gt; '216'\n    };  \n</code></pre>\n\n<p>Expected Output</p>\n\n<pre><code>$VAR1 = {\n      '10.7' =&gt; '216-217'\n    };  \n</code></pre>\n\n<p>How could we merge the values with previous one if the keys are duplicated.\nIf the Keys duplicated the last Value stored in the hashes table. Anyone could give a path to solve also it would be appreciated.</p>\n"}, {"tags": ["linux", "apache", "perl", "ubuntu", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 0, "last_activity_date": 1469607584, "last_edit_date": 1469607584, "creation_date": 1469607259, "answer_id": 38607430, "question_id": 38607344, "link": "https://stackoverflow.com/questions/38607344/browser-try-to-download-pl-file-instead-of-executing-it-apache2-perl-cgi-scr/38607430#38607430", "title": "Browser try to download .pl file instead of executing it - apache2, perl cgi scripts, ubuntu", "body": "<pre><code> print \"Content-type: test/html\\r\\n\\r\\n\";\n                        ^\n                      Here is your problem\n</code></pre>\n\n<p>should be <code>print \"Content-type: text/html\\r\\n\\r\\n\";</code></p>\n\n<p>goto root and restart the apache server in your machine by the following command </p>\n\n<p><code>/etc/init.d/apache2 restart</code></p>\n"}], "owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1265, "favorite_count": 0, "accepted_answer_id": 38607430, "answer_count": 1, "score": 0, "last_activity_date": 1537655507, "creation_date": 1469607025, "last_edit_date": 1537655507, "question_id": 38607344, "link": "https://stackoverflow.com/questions/38607344/browser-try-to-download-pl-file-instead-of-executing-it-apache2-perl-cgi-scr", "title": "Browser try to download .pl file instead of executing it - apache2, perl cgi scripts, ubuntu", "body": "<p>My ubuntu version is 15.04.\nI followed the steps for configuring the server:</p>\n\n<ol>\n<li><code>sudo apt-get install apache2</code></li>\n<li><code>sudo apt-get install libapache2-mod-perl2</code></li>\n<li><code>sudo apt-get install perl-debug</code></li>\n<li><code>sudo apt-get install libapache2-mod-perl2-dev</code></li>\n<li><code>sudo apt-get install libapache2-request-perl libdatetime-perl</code></li>\n<li><code>mkdir /var/www/cgi-bin</code></li>\n<li><p><code>nano perltest.pl</code></p>\n\n<pre><code>#!/usr/bin/perl -w\nprint \"Content-type: test/html\\r\\n\\r\\n\";\nprint \"Hello there!&lt;br/&gt;\\nJust Testing. &lt;br/&gt;\\n\";\n\nfor ($i=0; $i&lt;10;$i++)\n{\nprint $i.\"&lt;br/&gt;\";\n}\n</code></pre></li>\n<li><p><code>chmod a+x perltest.pl</code></p></li>\n<li><p>Edit <code>/etc/apache2/sites-available/000-default.conf</code></p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n# The ServerName directive sets the request scheme, hostname and port that\n# the server uses to identify itself. This is used when creating\n# redirection URLs. In the context of virtual hosts, the ServerName\n# specifies what hostname must appear in the request's Host: header to\n# match this virtual host. For the default virtual host (this file) this\n# value is not decisive as it is used as a last resort host regardless.\n# However, you must set it for any further virtual host explicitly.\n#ServerName www.example.com\n\nServerAdmin webmaster@localhost\nDocumentRoot /var/www/\n\n# Available loglevels: trace8, ..., trace1, debug, info, notice, warn,\n# error, crit, alert, emerg.\n# It is also possible to configure the loglevel for particular\n# modules, e.g.\n#LogLevel info ssl:warn\n\n\n&lt; Files ~ \"\\.(pl|cgi)$\"&gt;\nSetHandler perl-script\nPerlResponseHandler ModPerl::PerlRun\nOptions +ExecCGI\nPerlSendHeader On\n&lt; /Files&gt;\n\n\nScriptAlias /cgi-bin/ /var/www/cgi-bin/\n\n&lt; Directory /var/www/cgi-bin/&gt;\nAllowOverride None\nOptions ExecCGI -MultiViews +SymLinksIfOwnerMatch\nAddHandler cgi-script cgi pl\nOrder allow,deny\nallow from all\n &lt;/Directory&gt;\n\n\nErrorLog ${APACHE_LOG_DIR}/error.log\nCustomLog ${APACHE_LOG_DIR}/access.log combined\n\n# For most configuration files from conf-available/, which are\n# enabled or disabled at a global level, it is possible to\n# include a line for only one particular virtual host. For example the\n# following line enables the CGI configuration for this host only\n# after it has been globally disabled with \"a2disconf\".\n#Include conf-available/serve-cgi-bin.conf\n&lt;/VirtualHost&gt;\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n</code></pre></li>\n<li><p><code>/etc/apache2/sites-available/default-ssl.conf</code> file is <a href=\"https://ideone.com/O7zK0r\" rel=\"nofollow noreferrer\">here</a>(line 5-11)</p></li>\n<li><code>/etc/apache2/sites-enabled/000-default.conf</code> file is <a href=\"https://ideone.com/RNt80S\" rel=\"nofollow noreferrer\">here</a>(line 12-37)</li>\n<li>Add lines to nano <code>/etc/apache2/apache2.conf</code> file is <a href=\"https://ideone.com/7nhNjF\" rel=\"nofollow noreferrer\">here</a>(line- (54-78))</li>\n<li>In browser, hit <a href=\"http://127.0.0.1/cgi-bin/perltest.pl\" rel=\"nofollow noreferrer\">http://127.0.0.1/cgi-bin/perltest.pl</a></li>\n</ol>\n\n<p>But, the browser downloads the files. \nI am unable to understand the problems. Please help.</p>\n"}, {"tags": ["perl", "sockets", "eval"], "answers": [{"comments": [{"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1469605253, "post_id": 38606605, "comment_id": 64600237, "body": "First screen works but on the second screen, im getting the error &quot;Can&#39;t call method &quot;accept&quot; on an undefined value at perl_server.pl line 39&quot; which is the line &quot;socket-&gt;accept()&quot;;"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1469605395, "post_id": 38606605, "comment_id": 64600319, "body": "but why would it break out of &quot;unless&quot; if $socket is not defined?"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1469606672, "post_id": 38606605, "comment_id": 64601129, "body": "i think the one you had origianlly was more correct. but for some reason the second screen is having issue. could you try to code yourself and see if you get the error?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1469609941, "post_id": 38606605, "comment_id": 64603311, "body": "@ealeon have changed to a while Loop. Now it is working for me."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469619257, "post_id": 38606605, "comment_id": 64609764, "body": "Don&#39;t use indirect object notation. That is, instead of <code>new IO::Socket::INET</code>, write <code>IO::Socket::INET-&gt;new</code>. Second, have you heard of <code>last</code>? It sure beats having a misleadingly named variable named <code>$success</code> being set to <code>1</code> on <b><i>failure</i></b>."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469619379, "post_id": 38606605, "comment_id": 64609861, "body": "@Sinan&#220;n&#252;r Thanks for the hint. Have changed my answer"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 2, "creation_date": 1469619592, "post_id": 38606605, "comment_id": 64610017, "body": "For robustness, may I suggest checking <code>$!</code> against <a href=\"http://perldoc.perl.org/Errno.html\" rel=\"nofollow noreferrer\"><code>Errno::EADDRINUSE</code></a> when the INET constructor fails?  That&#39;s the only error for which it would make sense to increment the bind port and try again (vs. EADDRNOTAVAIL, for example).  Additionally, you&#39;ll want an upper bound on that incrementing."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1469629721, "post_id": 38606605, "comment_id": 64617792, "body": "thank you this works as well. ill go with the sinan answer though as it is more robust (explicit checking). appreicate your answer nonetheless"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 4, "last_activity_date": 1469619739, "last_edit_date": 1469619739, "creation_date": 1469604811, "answer_id": 38606605, "question_id": 38606537, "link": "https://stackoverflow.com/questions/38606537/perl-socket-increment-port-if-in-use/38606605#38606605", "title": "perl socket: increment port if in use", "body": "<p>Use a Loop:</p>\n\n<pre><code>use IO::Socket::INET;\nuse Sys::Hostname;\nuse Socket;\n\nmy($addr)=inet_ntoa((gethostbyname(hostname))[4]);\n\nmy $port_to_use = 7776;\nmy $fail =1;\nmy $socket;\n\nwhile ($fail == 1){ \n    $port_to_use++;\n    $fail = 0;\n    warn $port_to_use;\n   $socket = IO::Socket::INET-&gt;new (\n        LocalHost =&gt; $addr,\n        LocalPort =&gt; $port_to_use,\n        Proto =&gt; 'tcp',\n        Listen =&gt; 5,\n        Reuse =&gt; 0\n    ) or $fail =1;\n}\nwarn $socket-&gt;accept();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469689074, "post_id": 38611930, "comment_id": 64642480, "body": "This will be useful, thank you! I am failing to find a resource for various such error types. (If they are in <code>Errno</code> I don&#39;t see any.)  Would you know some reference for it?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469765227, "post_id": 38611930, "comment_id": 64682841, "body": "Ah, yes. Thank you very much :)"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1469628051, "last_edit_date": 1469628051, "creation_date": 1469619607, "answer_id": 38611930, "question_id": 38606537, "link": "https://stackoverflow.com/questions/38606537/perl-socket-increment-port-if-in-use/38611930#38611930", "title": "perl socket: increment port if in use", "body": "<p>Here is a tidier alternative which actually checks to make sure the failure to bind to a given port was due to the port being in use. It also limits the port range to check. If you use the code <a href=\"https://stackoverflow.com/a/38606605/100754\">in the other answer</a>, and, if for some reason, the machine is not allowing your application to bind to any ports, you are going to get stuck in an infinite loop. It may also cause your application to bind to ports that should otherwise have been left alone etc.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Carp qw( croak );\nuse Errno qw( EADDRINUSE );\nuse IO::Socket::INET;\nuse Sys::Hostname qw( hostname );\nuse Socket;\n\n# These can come from a config file or command line\n# See also https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Dynamic.2C_private_or_ephemeral_ports\n# https://unix.stackexchange.com/a/39784/2371\n\nmy @port_range = (0xC000, 0xFFFF);\n\nmy $addr = inet_ntoa( (gethostbyname(hostname) )[4]);\nmy $socket;\n\nTRY_PORT:\nfor my $port ($port_range[0] .. $port_range[1]) {\n    warn \"Trying port $port\\n\";\n\n    $socket = IO::Socket::INET-&gt;new(\n        LocalHost =&gt; $addr,\n        LocalPort =&gt; $port,\n        Proto =&gt; 'tcp',\n        Listen =&gt; 7,\n        Reuse =&gt; 0,\n    );\n\n    if ($socket) {\n        warn \"Bound to port $port\\n\";\n        last TRY_PORT;\n    }\n\n    if ( EADDRINUSE != $! ) {\n        croak \"Cannot bind to port '$port': $!\";\n    }\n    warn \"Port in use, trying the next one\\n\";\n}\n\n$socket-&gt;accept\n     or croak \"...\";\n# ...\n</code></pre>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 1, "accepted_answer_id": 38611930, "answer_count": 2, "score": 4, "last_activity_date": 1469628051, "creation_date": 1469604564, "last_edit_date": 1469605199, "question_id": 38606537, "link": "https://stackoverflow.com/questions/38606537/perl-socket-increment-port-if-in-use", "title": "perl socket: increment port if in use", "body": "<p>I have the following code:</p>\n\n<pre><code>use IO::Socket::INET;\nuse Sys::Hostname;\nuse Socket;\n\n\nmy($addr)=inet_ntoa((gethostbyname(hostname))[4]);\n\nmy $port_to_use = 7777;\n\nmy $socket = new IO::Socket::INET (\n        LocalHost =&gt; $addr,\n        LocalPort =&gt; $port_to_use,\n        Proto =&gt; 'tcp',\n        Listen =&gt; 5,\n        Reuse =&gt; 1\n    );\ndie \"cannot create socket $!\\n\" unless $socket;\nmy $client_socket = $socket-&gt;accept();\n</code></pre>\n\n<p>if i start this in one screen and start another one in the other screen, i get an error:</p>\n\n<pre><code>cannot create socket Address already in use\n</code></pre>\n\n<p>instead of dying, i would like to try using different port (increment by 1) until it can find the one to use.</p>\n\n<p>I've try to convert the <code>die</code> line with <code>eval</code> but im not able to catch it</p>\n\n<p>any suggestions?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1470187147, "post_id": 38605332, "comment_id": 64841765, "body": "If you have perl v5.6.0 or newer, you should use lexical filehandles (which close automatically when they go out of scope) and 3-arg <code>open</code> (a maliciously named file can execute arbitrary programs when opened with 2-arg <code>open</code>), like so: <code>open my $file, &#39;&lt;&#39;, $filename or die $!</code>. It\u2019s also possible for <code>binmode</code> to fail, so it\u2019s a good idea to check its return value."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5861285"}, "reply_to_user": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1470202936, "post_id": 38605332, "comment_id": 64845923, "body": "Thank you for your advice!"}], "answers": [{"tags": [], "owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "is_accepted": true, "score": 5, "last_activity_date": 1469601661, "creation_date": 1469601661, "answer_id": 38605494, "question_id": 38605332, "link": "https://stackoverflow.com/questions/38605332/how-to-get-the-last-16-bytes-from-binary-file-with-perl/38605494#38605494", "title": "How to get the last 16 bytes from binary file with Perl?", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/seek.html\">seek</a> to move to position 16 bytes before file end, and then read the 16 bytes:</p>\n\n<pre><code>open (FILE, \"&lt;$filename\") or die $!;\nbinmode FILE;\nseek FILE, -16, 2;\nread FILE, $data, 16;\nclose (FILE);\n</code></pre>\n\n<p>You can also use constant instead of <code>2</code>:</p>\n\n<pre><code>use Fcntl qw(SEEK_END);\n\nopen (FILE, \"&lt;$filename\") or die $!;\nbinmode FILE;\nseek FILE, -16, SEEK_END;\nread FILE, $data, 16;\nclose (FILE);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5861285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 0, "accepted_answer_id": 38605494, "answer_count": 1, "score": 2, "last_activity_date": 1469601661, "creation_date": 1469601105, "question_id": 38605332, "link": "https://stackoverflow.com/questions/38605332/how-to-get-the-last-16-bytes-from-binary-file-with-perl", "title": "How to get the last 16 bytes from binary file with Perl?", "body": "<p>I read an image with Perl read:</p>\n\n<pre><code>open (FILE,\"&lt;$filename\") or die $!;\n            binmode FILE;\n            while (($n = read FILE, $data, 4) != 0) {\n                $buf .= $data;\n            }\nclose (FILE);\n</code></pre>\n\n<p>How can i get only the last 16 bytes from this file? Backgound is, that i want to compare the last 16 bytes from an image with the last 16 bytes from another image.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "is_accepted": false, "score": 2, "last_activity_date": 1469631087, "creation_date": 1469631087, "answer_id": 38616436, "question_id": 38605052, "link": "https://stackoverflow.com/questions/38605052/signalp-error-message-cant-locate-fasta-pm-in-inc/38616436#38616436", "title": "SignalP Error message: Can&#39;t locate FASTA.pm in @INC", "body": "<p>I didn't see this in the installation instructions anywhere, but if you edit the <code>signalp</code> executable in that package, you'll see some settings that need to be customized.  On line 14, you need to edit the default path to point to your signalp directory location by editing the line</p>\n\n<p><code>$ENV{SIGNAL} = '/path/to/signalp/directory';</code></p>\n\n<p>That will allow the program to find the <code>FASTA.pm</code> module located in the <code>lib</code> directory of that package.  It doesn't look like there's any need to install any other packages for this.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 486469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f780d0a3842fe154922c71e015749a0?s=128&d=identicon&r=PG", "display_name": "Bob Forma", "link": "https://stackoverflow.com/users/486469/bob-forma"}, "is_accepted": false, "score": 3, "last_activity_date": 1484770771, "creation_date": 1484770771, "answer_id": 41728731, "question_id": 38605052, "link": "https://stackoverflow.com/questions/38605052/signalp-error-message-cant-locate-fasta-pm-in-inc/41728731#41728731", "title": "SignalP Error message: Can&#39;t locate FASTA.pm in @INC", "body": "<p>You're missing the 'P'. Try: <code>$ENV{SIGNALP} = '/path/to/signalp/directory';</code></p>\n"}], "owner": {"reputation": 99, "user_id": 5464969, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ad5e66b96d7dbba09dcbad7efab47e8a?s=128&d=identicon&r=PG&f=1", "display_name": "Y. Lin", "link": "https://stackoverflow.com/users/5464969/y-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2603, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1484770771, "creation_date": 1469600008, "question_id": 38605052, "link": "https://stackoverflow.com/questions/38605052/signalp-error-message-cant-locate-fasta-pm-in-inc", "title": "SignalP Error message: Can&#39;t locate FASTA.pm in @INC", "body": "<p>I installed SignalP 4.0 on a mac. I changed the path of the file folder directory and the output directory as described.</p>\n\n<p>Then, when I try the test script by typing:</p>\n\n<pre><code>   ./signalp -t euk -f summary test/euk10.fsa &gt; euk10.fsa.summary_out\n</code></pre>\n\n<p>Error message: </p>\n\n<pre><code>    Can't locate FASTA.pm in @INC (you may need to install the FASTA module)(@INC contains: ....) at ./signalp line 80.\n</code></pre>\n\n<p>in the file signalp line 80 is:</p>\n\n<pre><code> use FASTA;\n</code></pre>\n\n<p>I installed BioPerl which contains a module Bio::BD::Fasta, which I guess is what I need. </p>\n\n<p>However, it still output the same error message.</p>\n"}, {"tags": ["python", "perl", "sockets", "tcp"], "comments": [{"owner": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1469605142, "post_id": 38604991, "comment_id": 64600164, "body": "<b>wrong while</b> check this <a href=\"https://www.ccsf.edu/Pub/Perl/perlipc/TCP_Servers_with_IO_Socket.html\" rel=\"nofollow noreferrer\">ccsf.edu/Pub/Perl/perlipc/TCP_Servers_with_IO_Socket.html</a>  mean : <code>while accpeting and while client isAlive</code> and i delete my old comment."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1469606054, "post_id": 38604991, "comment_id": 64600711, "body": "@dsgdfg when i changed to that, the file handle was receiving nothing. hmm"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 480, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469622168, "creation_date": 1469599762, "question_id": 38604991, "link": "https://stackoverflow.com/questions/38604991/tcp-python-client-and-perl-server-receive-line-by-line", "title": "TCP: python client and perl server - receive line by line", "body": "<p>perl_server.pl</p>\n\n<pre><code>use IO::Socket::INET;\nuse Sys::Hostname;\nuse Socket;\n\n\nmy($addr)=inet_ntoa((gethostbyname(hostname))[4]);\n\n\n\n# auto-flush on socket\n$| = 1;\n\n# creating a listening socket\nmy $socket = new IO::Socket::INET (\n    LocalHost =&gt; $addr,\n    LocalPort =&gt; '7777',\n    Proto =&gt; 'tcp',\n    Listen =&gt; 5,\n    Reuse =&gt; 1\n);\ndie \"cannot create socket $!\\n\" unless $socket;\nprint \"server waiting for client connection on $addr:7777\\n\";\n\n\n# waiting for a new client connection\nmy $client_socket = $socket-&gt;accept();\n\n# get information about a newly connected client\nmy $client_address = $client_socket-&gt;peerhost();\nmy $client_port = $client_socket-&gt;peerport();\nprint \"connection from $client_address:$client_port\\n\";\nwhile(1)\n{\n    # read up to 1024 characters from the connected client\n    my $data = \"\";\n    $client_socket-&gt;recv($data, 1024);\n    print \"received data: $data\\n\";\n\n    if ($data eq \"done\") {\n        last;\n    }else {\n        # write response data to the connected client\n        $data = \"ok\";\n        $client_socket-&gt;send($data);\n    }\n\n}\n\n\n\n# notify client that response has been sent\nshutdown($client_socket, 1);\n$socket-&gt;close();\n</code></pre>\n\n<p>python_client.py</p>\n\n<pre><code>import socket\nimport sys\nimport time\n\n# Create a TCP/IP socket\nsock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n# Connect the socket to the port where the server is listening\nserver_address = ('0.0.0.0', 7777)\nprint &gt;&gt;sys.stderr, 'connecting to %s port %s' % server_address\nsock.connect(server_address)\n\n\ncnt = 0\nwhile True:\n    try:\n        cnt += 1\n\n        #time.sleep(1)\n        # Send data\n        message = 'This is the message.  It will be repeated.'\n        print &gt;&gt;sys.stderr, 'sending \"%s\"' % message\n        sock.sendall(message)\n\n        if cnt &gt; 10000:\n            sock.sendall(\"done\")\n            break\n    except Exception, msg:\n        continue\n\n\nprint &gt;&gt;sys.stderr, 'closing socket'\nsock.close()\n</code></pre>\n\n<p>So, the above code works fine but I would like it so that <code>perl_client.pl</code> recieves one line at a time</p>\n\n<p>For example, right now the following code,</p>\n\n<pre><code>$client_socket-&gt;recv($data, 1024);\nprint \"received data: $data\\n\";\n</code></pre>\n\n<p><code>$data</code> contains multiple lines of <code>'This is the message.  It will be repeated.'</code><br>\ni would like so that <code>$data</code> contains ONE line of <code>'This is the message.  It will be repeated.'</code>  </p>\n\n<p>Now this message from client may change so i dont know if simply changing 1024 would suffice.</p>\n\n<p>any suggestions?</p>\n"}, {"tags": ["perl", "ssh", "net-ssh"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1469600053, "post_id": 38604737, "comment_id": 64597033, "body": "#$chan-&gt;exec(&#39;ls -la&#39;); <a href=\"http://www.perlmonks.org/?node_id=569657\" rel=\"nofollow noreferrer\">referred from here</a>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1469600130, "post_id": 38604737, "comment_id": 64597074, "body": "@ssr1012 That would list the directory. I don&#39;t want to do that."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1469600459, "post_id": 38604737, "comment_id": 64597259, "body": "<code>$chan-&gt;exec(&quot;.&#47;command&quot;);</code>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1469601215, "post_id": 38604737, "comment_id": 64597650, "body": "@JimGarrison Why does that work?"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1469601315, "post_id": 38604737, "comment_id": 64597708, "body": "Because on Linux the current directory is not included in the path automatically.  you must either add it yourself or remember to invoke local programs (ones in cd) using <code>.&#47;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 1, "last_activity_date": 1469670250, "creation_date": 1469670250, "answer_id": 38625839, "question_id": 38604737, "link": "https://stackoverflow.com/questions/38604737/how-to-change-working-directory-using-netssh2/38625839#38625839", "title": "How to change working directory using Net::SSH2?", "body": "<p>According to <a href=\"http://search.cpan.org/~salva/Net-SSH2-0.62/lib/Net/SSH2/Channel.pm\" rel=\"nofollow\">the documentation</a>, each invocation of <code>$chan-&gt;exec()</code> runs in its own process on the remote. The <code>cd dir1</code> in the first <code>exec</code> affects only that execution. The next <code>exec</code> is a completely separate process.</p>\n\n<p>The simplest way to solve the problem would be to pass the full path in the command, i.e. </p>\n\n<pre><code>$chan-&gt;exec(\"command dir1/file1.txt\");\n</code></pre>\n\n<p>You could also try setting the PATH variable using <code>$chan-&gt;setenv()</code> but that probably will be prohibited by the remote side.</p>\n\n<p>Note also (from the <code>process</code> section):</p>\n\n<blockquote>\n  <p>... it is also possible to launch a remote shell (using shell) and simulate the user interaction printing commands to its stdin stream and reading data back from its stdout and stderr. But this approach should be avoided if possible; talking to a shell is difficult and, in general, unreliable.</p>\n</blockquote>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469670250, "creation_date": 1469598792, "last_edit_date": 1469659518, "question_id": 38604737, "link": "https://stackoverflow.com/questions/38604737/how-to-change-working-directory-using-netssh2", "title": "How to change working directory using Net::SSH2?", "body": "<pre><code>use Net::SSH2;\nmy $ssh2 = Net::SSH2-&gt;new();\n$ssh2-&gt;connect($hostname);\n$ssh2-&gt;auth_password($user,$pass);\n$chan = $ssh2-&gt;channel();\n$chan-&gt;exec(\"cd dir1\");\n$chan-&gt;exec(\"command file1.txt\");\n</code></pre>\n\n<p>The above doesn't work and <code>command</code> cannot find <code>dir1/file1.txt</code>.  How do you change the working directory using <a href=\"http://search.cpan.org/~salva/Net-SSH2-0.62/lib/Net/SSH2.pm\" rel=\"nofollow\"><code>Net::SSH2</code></a>?</p>\n"}, {"tags": ["perl", "ftp", "ftps"], "comments": [{"owner": {"reputation": 2682, "user_id": 4072843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKkUM.jpg?s=128&g=1", "display_name": "Castaglia", "link": "https://stackoverflow.com/users/4072843/castaglia"}, "edited": false, "score": 1, "creation_date": 1469802544, "post_id": 38603976, "comment_id": 64703502, "body": "In reading through the <code>Net::FTPSSL</code> source code, I see a <i>potential</i> cause of the behavior you&#39;re seeing.  To test this, though, could you change your <code>$ftps-&gt;put(&quot;local_filename&quot;);</code> to instead be something like <code>$ftps-&gt;put($local_fh, &quot;remote_filename&quot;);</code>?  When a file <i>handle</i>, rather than a scalar, is passed as the local file for the <code>put()</code> method, there&#39;re different code paths taken.  If this file handle approach works, I will provide the fuller explanation of what I think is happening."}, {"owner": {"reputation": 59, "user_id": 3251311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ba00bdc131ea07fb8f1b3708edae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "A-Kay", "link": "https://stackoverflow.com/users/3251311/a-kay"}, "reply_to_user": {"reputation": 2682, "user_id": 4072843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKkUM.jpg?s=128&g=1", "display_name": "Castaglia", "link": "https://stackoverflow.com/users/4072843/castaglia"}, "edited": false, "score": 0, "creation_date": 1471674692, "post_id": 38603976, "comment_id": 65451642, "body": "So the put command I&#39;m using is: <code>$ftps-&gt;put($local_file_to_send_name, $file_to_send_name_tmp)</code> as I&#39;m sending the file as a different name, where <code>$local_file_to_send_name</code> is the location of the file. Would you recommend changing this?"}, {"owner": {"reputation": 2682, "user_id": 4072843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKkUM.jpg?s=128&g=1", "display_name": "Castaglia", "link": "https://stackoverflow.com/users/4072843/castaglia"}, "edited": false, "score": 1, "creation_date": 1471705325, "post_id": 38603976, "comment_id": 65459997, "body": "Maybe try <i>e.g.</i> <code>open($local_fh_to_send, $local_file_to_send_name)</code>, then use that file handle like so: <code>$ftps-&gt;put($local_fh_to_send, $file_to_send_name_tmp)</code>?  The issue I saw in the <code>Net::FTPSSL</code> code involves a code path when the file name (not handle) was used; in that situation, a variable name was <i>reused</i> in a different scope, which could be causing the issue."}, {"owner": {"reputation": 59, "user_id": 3251311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ba00bdc131ea07fb8f1b3708edae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "A-Kay", "link": "https://stackoverflow.com/users/3251311/a-kay"}, "reply_to_user": {"reputation": 2682, "user_id": 4072843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKkUM.jpg?s=128&g=1", "display_name": "Castaglia", "link": "https://stackoverflow.com/users/4072843/castaglia"}, "edited": false, "score": 0, "creation_date": 1471940178, "post_id": 38603976, "comment_id": 65538537, "body": "Alrighty that seems to have worked! One thing to note (which I found out the hard way) is that when using a file handler with resume you need to manually specify the offset in the local file using the <code>seek</code> command - otherwise it&#39;ll start from the start of the file locally and you&#39;ll end up with a remote file which is bigger than the local file. Thanks @Castaglia"}], "owner": {"reputation": 59, "user_id": 3251311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ba00bdc131ea07fb8f1b3708edae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "A-Kay", "link": "https://stackoverflow.com/users/3251311/a-kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469596085, "creation_date": 1469595100, "last_edit_date": 1469596085, "question_id": 38603976, "link": "https://stackoverflow.com/questions/38603976/perl-netftpssl-restart-resume-problems", "title": "Perl NET:FTPSSL Restart/Resume problems", "body": "<p>I've got a Perl program that connects to an FTP server and transfers files. It has resume functionality by using: </p>\n\n<pre><code>$ftps-&gt;restart('-1');\n</code></pre>\n\n<p>For the most part it works fine but in some cases some files will only resume a transfer if the file is smaller than a certain size (and that size varies).</p>\n\n<p>Another problem is that if the file exists and is the same size (ie. the transfer is already completed) it hangs there and doesn't move onto the next step.</p>\n\n<p>The FTP Server is showing:</p>\n\n<blockquote>\n  <p>150 Opening BINARY mode data connection. Ready to write file\n  /ftpserverfolder/ftpserverfilename</p>\n</blockquote>\n\n<p>(then 10 minutes later)</p>\n\n<blockquote>\n  <p>550 Read timed out /ftpserverfolder/ftpserverfilename</p>\n</blockquote>\n\n<p>It's not an FTP timeout problem. Should I be using the exact OFFSET instead of letting <code>restart('-1')</code> work it out?</p>\n"}, {"tags": ["perl", "github", "unicode-string", "cpanm"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1469595643, "post_id": 38603421, "comment_id": 64595259, "body": "Ack, no, don&#39;t do that!!! Either copy the module to a new name, or simply monkey patch the fix"}, {"owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469636445, "post_id": 38603421, "comment_id": 64622563, "body": "Can you help me understand why this would be a bad idea?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469640508, "post_id": 38603421, "comment_id": 64624850, "body": "What if the unpatched version is already installed, are you going to force the installation of yours? What if a newer version is installed? What if a newer version comes out and that gets installed? And I&#39;m just getting started"}, {"owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469647201, "post_id": 38603421, "comment_id": 64628664, "body": "Yep, those seem like great reasons to avoid doing this.  I&#39;ve emailed the module&#39;s maintainer to see about getting the patch released as a new version; in the meantime I&#39;ll work around it.  Thanks!"}, {"owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469660447, "post_id": 38603421, "comment_id": 64634637, "body": "Info I didn&#39;t provide before: I&#39;m bundling these to use when spinning up Docker containers.  I need a central place where every module is the same, so if a module changes on CPAN, I still get the same copy as before.  cpanfile allows me to specify a version number, and plan upgrades to modules.  For now, I&#39;ve bundled the modules with Carton and installed them from a cache, which allowed me to temporarily work around the one buggy module by replacing the tarball in the cache and modifying the cpanfile.snapshot.  This is an ugly hack, and I&#39;d rather just use the git repo for now."}, {"owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469660611, "post_id": 38603421, "comment_id": 64634676, "body": "<a href=\"http://blogs.perl.org/users/lestrrat/2013/03/the-main-problem-with-cpan-modules-on-github.html\" rel=\"nofollow noreferrer\">This</a> blog post gives syntax (also in one of its links) as <b>requires &#39;Unicode::String&#39; =&gt; &#39;git:<a href=\"https://github.com/msouth/Unicode-String.git\" rel=\"nofollow noreferrer\">github.com/msouth/Unicode-String.git</a>&#39;;</b> but that errors out with &quot;Invalid version format&quot;, so either cpanm changed how it processes cpanfiles, or my syntax is still messed up."}], "owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1469591593, "creation_date": 1469591593, "question_id": 38603421, "link": "https://stackoverflow.com/questions/38603421/is-it-possible-to-require-a-git-repo-in-a-cpanfile-for-cpanm", "title": "Is it possible to require a git repo in a cpanfile for cpanm?", "body": "<p>I am trying to use a cpanfile with cpanm to install a large list of modules.  One of the modules, Unicode::String, has a bug on CPAN that the author has only fixed on Github.  (<a href=\"https://github.com/msouth/Unicode-String\" rel=\"nofollow\">https://github.com/msouth/Unicode-String</a>)</p>\n\n<p>Is it possible to list the Github repo as a requirement in the cpanfile and have cpanm install from there rather than from CPAN?  If so, what is the proper syntax for doing so?</p>\n\n<p>The closest I've found is a thread from 2013 where Miyagawa said it was coming in a future release, then that the future release was fragile and on-hold:</p>\n\n<p><a href=\"https://github.com/perl-carton/carton/issues/132\" rel=\"nofollow\">https://github.com/perl-carton/carton/issues/132</a>\n(This discusses carton, but since they both use cpanfile, the syntax should be the same.)</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469590599, "post_id": 38603078, "comment_id": 64593881, "body": "<i>&quot;It seems that the tied hash loses its magic when it is part of another data structure&quot;</i> No, it would be fine if a <code>Tie::IxHash</code> were the value of an array or hash element. The problem is the way the <code>Template</code> module handles the values in the <code>%vars</code> parameter: it makes an internal copy of the data and thereby loses any <i>tie</i> magic."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469590964, "post_id": 38603078, "comment_id": 64593967, "body": "You&#39;re welcome. But you&#39;ve now edited your answer to say the same as my own!"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1469590670, "last_edit_date": 1469590670, "creation_date": 1469589154, "answer_id": 38603078, "question_id": 38602800, "link": "https://stackoverflow.com/questions/38602800/passing-a-tieixhash-object-to-the-template-module/38603078#38603078", "title": "Passing a Tie::IxHash object to the Template module", "body": "<p>The tied hash loses its magic when it is passed to Template Toolkit which doesn't use the tied hash, but makes plain copy of it instead.  To get around this, you can just store and pass in your key order and use it to pull out your hash elements in order.</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings;\nuse Tie::IxHash;\nuse Template;\nuse Test::More;\n\ntie my %hash, 'Tie::IxHash';\n%hash = ('one' =&gt; 1, 'two' =&gt; 2, 'three' =&gt; 3);\nis_deeply([keys %hash], ['one', 'two', 'three'], 'key order');\nis_deeply([values %hash], [1, 2, 3], 'value order');\nmy @key_order = keys %hash;\nmy %vars = ( 'hash' =&gt; \\%hash, key_order =&gt; \\@key_order );\n\nmy $t = Template-&gt;new(STRICT =&gt; 1) || die(Template-&gt;error());\nmy $template = '[% FOREACH k IN key_order %][% hash.$k %][% END %]';\nmy $output = '';\n$t-&gt;process(\\$template, \\%vars, \\$output) || die $t-&gt;error();\nis($output, '123', 'templatized hash order');\ndone_testing(3);\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>ok 1 - key order\nok 2 - value order\nok 3 - templatized hash order\n1..3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1469590317, "creation_date": 1469590317, "answer_id": 38603249, "question_id": 38602800, "link": "https://stackoverflow.com/questions/38602800/passing-a-tieixhash-object-to-the-template-module/38603249#38603249", "title": "Passing a Tie::IxHash object to the Template module", "body": "\n\n<p>You can't do that</p>\n\n<p>When you call the <code>process</code> method on the <code>Template</code> object, the values that you pass in the <code>%vars</code> parameter are <em>copied</em> to an ordinary data structure before they are used to build the document</p>\n\n<p>The obvious alternative is to collect the hash keys into an array before calling <code>process</code>, and pass that as another element of the <code>%vars</code> parameter. This program shows the idea</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Tie::IxHash;\nuse Template;\n\ntie my %hash, 'Tie::IxHash';\n%hash = (one =&gt; 1, two =&gt; 2, three =&gt; 3);\n\n\nmy @keys = keys %hash;\nmy %vars = (hash =&gt; \\%hash, keys =&gt; \\@keys); \n\nmy $t = Template-&gt;new(STRICT =&gt; 1) or die Template-&gt;error;\n\nmy $template = &lt;&lt;'END_TEMPLATE';\n[% FOREACH k IN keys %][% hash.$k %]\n[% END %]\nEND_TEMPLATE\n\nmy $output;\n$t-&gt;process(\\$template, \\%vars, \\$output) or die $t-&gt;error;\n\nprint $output;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>1\n2\n3\n</code></pre>\n\n<p>Of course this removes much of the point of using <code>Tie::IxHash</code> in the first place, and you may well be better off using an ordinary hash with a parallel array of keys</p>\n"}], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 38603078, "answer_count": 2, "score": 1, "last_activity_date": 1469590844, "creation_date": 1469587051, "last_edit_date": 1469590844, "question_id": 38602800, "link": "https://stackoverflow.com/questions/38602800/passing-a-tieixhash-object-to-the-template-module", "title": "Passing a Tie::IxHash object to the Template module", "body": "<p>I am using Perl v5.18.2.</p>\n\n<p>I want hash elements printed in order with Perl's <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow\"><code>Template</code></a> module, but the hash seems to be ordered only until it gets passed to <code>Template</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Tie::IxHash;\nuse Template;\nuse Test::More;\n\ntie my %hash, 'Tie::IxHash';\n%hash = ('one' =&gt; 1, 'two' =&gt; 2, 'three' =&gt; 3);\nmy %vars = ('hash' =&gt; \\%hash); \n\nis_deeply(\\[keys $vars{'hash'}], \\['one', 'two', 'three'], 'key order');\nis_deeply(\\[values $vars{'hash'}], \\[1, 2, 3], 'value order');\n\nmy $t = Template-&gt;new(STRICT =&gt; 1) || die(Template-&gt;error());\nmy $template = '[% FOREACH k IN hash %][% k.value %][% END %]';\nmy $output = '';\n\n$t-&gt;process(\\$template, \\%vars, \\$output) || die $t-&gt;error();\n\nis($output, '123', 'templatized hash order');\n\ndone_testing(3);\n</code></pre>\n\n<p>This always fails:</p>\n\n<pre><code>ok 1 - key order\nok 2 - value order\nnot ok 3 - templatized hash order\n#   Failed test 'templatized hash order'\n#   at t/wtf.t line 18.\n#          got: '132'\n#     expected: '123'\n1..3\n# Looks like you failed 1 test of 3.\n</code></pre>\n\n<p>What am I missing here? And how can I preserve hash element order in the template?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469583187, "post_id": 38602233, "comment_id": 64592258, "body": "Please learn to format your posts properly. You should read <a href=\"http://stackoverflow.com/editing-help\"><i>Markdown Editing Help</i></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469583308, "post_id": 38602233, "comment_id": 64592280, "body": "<code>$str =~ m&#47;doctor_who:e(?!eh)[epx];</code> won&#39;t compile. Please <i>copy and paste</i> your <b>real code</b> into any questions"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469588276, "post_id": 38602233, "comment_id": 64593328, "body": "<code>(?!PAT)</code> means &quot;is not followed by <code>PAT</code>&quot;, or more precisely, &quot;<code>PAT</code> does not match at this position&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1469583082, "creation_date": 1469583082, "answer_id": 38602312, "question_id": 38602233, "link": "https://stackoverflow.com/questions/38602233/what-does-do-in-a-perl-regex/38602312#38602312", "title": "What does &quot;(?! ... )&quot; do in a Perl regex?", "body": "<p>A component like <code>(?! ... )</code> will fail to match if the following characters in the target string match the enclosed regex pattern. It's called a <em>negative look-ahead</em></p>\n\n<p>It's unclear whether you need help to form a pattern to your requirements, or if you've come across a pattern that you don't understand</p>\n\n<p>If I was writing it, I'd look at your specification</p>\n\n<blockquote>\n  <p><em>I want to match 'doctor_who:ee' not 'doctor_who:eeh'</em></p>\n</blockquote>\n\n<p>You want to match <code>doctor_who:ee</code> that isn't followed by <code>h</code>, which is</p>\n\n<pre><code>/doctor_who:ee(?!h)/\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6624168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b337d10a518461d4686d272f710274?s=128&d=identicon&r=PG&f=1", "display_name": "fancity xia", "link": "https://stackoverflow.com/users/6624168/fancity-xia"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1469599224, "answer_count": 1, "score": -2, "last_activity_date": 1469584105, "creation_date": 1469582228, "last_edit_date": 1469584105, "question_id": 38602233, "link": "https://stackoverflow.com/questions/38602233/what-does-do-in-a-perl-regex", "closed_reason": "Duplicate", "title": "What does &quot;(?! ... )&quot; do in a Perl regex?", "body": "<pre><code> $str = \"doctor_who:eeh1234LMNOP51234.123\";\n</code></pre>\n\n<p>I want to match <code>doctor_who:ee</code> not <code>doctor_who:eeh</code>;</p>\n\n<pre><code> $str =~ m/doctor_who:e(?!eh)[epx];\n</code></pre>\n\n<p>I want to know the role of regular expression within Parentheses;</p>\n"}, {"tags": ["perl", "date"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1469571276, "post_id": 38600416, "comment_id": 64589221, "body": "You might like to take a look at <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1469570467, "creation_date": 1469570467, "answer_id": 38600578, "question_id": 38600416, "link": "https://stackoverflow.com/questions/38600416/change-date-format-and-add-the-day/38600578#38600578", "title": "Change date format and add the day", "body": "<p>If the date is always in the 21st century then you can use a simple regex substitution, like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nsay convert_date('0919');\n\nsub convert_date {\n    (my $yyyymmdd = shift) =~ s/(\\d\\d)(\\d\\d)/20$2-$1-01/;\n    $yyyymmdd;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>2019-09-01\n</code></pre>\n\n<p>This may be abbreviated if you are running Perl v 5.14 or later, like this</p>\n\n<pre><code>sub convert_date {\n    shift =~ s/(\\d\\d)(\\d\\d)/20$2-$1-01/r;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1469608394, "post_id": 38603498, "comment_id": 64602244, "body": "You don&#39;t need to concatenate the &#39;01&#39;. Just using the original &#39;0919&#39; with the strptime pattern <code>%m%y</code> will work fine."}, {"owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1469619363, "post_id": 38603498, "comment_id": 64609850, "body": "Correct Dave. I am showing the point that if those two( &#39;0919&#39; and &#39;01&#39; ) values comes from two different variables then we can concatenate."}], "tags": [], "owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "is_accepted": false, "score": 0, "last_activity_date": 1469592081, "creation_date": 1469592081, "answer_id": 38603498, "question_id": 38600416, "link": "https://stackoverflow.com/questions/38600416/change-date-format-and-add-the-day/38603498#38603498", "title": "Change date format and add the day", "body": "<p>I would suggest to use excellent <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">https://metacpan.org/pod/DateTime</a>. It will be really effortless if you need to do further date calculation.</p>\n\n<pre><code>use DateTime::Format::Strptime;\nmy $mmyydd = '0919' . '01';\nprint DateTime::Format::Strptime\n    -&gt;new(pattern =&gt; '%m%y%d')\n    -&gt;parse_datetime($mmyydd)\n    -&gt;ymd;\n</code></pre>\n\n<p>output:\n    2019-09-01</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1469608306, "creation_date": 1469608306, "answer_id": 38607768, "question_id": 38600416, "link": "https://stackoverflow.com/questions/38600416/change-date-format-and-add-the-day/38607768#38607768", "title": "Change date format and add the day", "body": "<p>No need for DateTime. <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a> has been included in the standard Perl distribution since 2007.</p>\n\n<pre><code>$ perl -MTime::Piece -E'say Time::Piece-&gt;strptime(\"0919\", \"%m%y\")-&gt;ymd'\n2019-09-01\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6641898, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d3bf9bc15cf8149b97309933e8f00129?s=128&d=identicon&r=PG&f=1", "display_name": "jreed21", "link": "https://stackoverflow.com/users/6641898/jreed21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 38600578, "answer_count": 3, "score": -2, "last_activity_date": 1469608306, "creation_date": 1469569581, "question_id": 38600416, "link": "https://stackoverflow.com/questions/38600416/change-date-format-and-add-the-day", "title": "Change date format and add the day", "body": "<p>I need help with changing the format of a date and adding the day. Right now the date is MMYY (0919) and I need it to be YYYY-MM-DD(2019-09-01) with the day always being 01. Any help would be greatly appreciated!</p>\n"}, {"tags": ["bash", "perl", "awk", "sed", "tr"], "comments": [{"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 0, "creation_date": 1469567233, "post_id": 38599871, "comment_id": 64587698, "body": "Can you give us an example of the input data, and show us what you tried?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469569009, "post_id": 38599871, "comment_id": 64588436, "body": "<code>echo &quot;one\\\\ntwo&quot; | perl -wpe &#39;s&#47;\\\\n&#47;&#47;g&#39;</code>.  (The <code>\\\\n</code> in input is to create such a string.)"}], "answers": [{"tags": [], "owner": {"reputation": 12533, "user_id": 931027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWhaB.jpg?s=128&g=1", "display_name": "Kusalananda", "link": "https://stackoverflow.com/users/931027/kusalananda"}, "is_accepted": false, "score": 3, "last_activity_date": 1469567354, "creation_date": 1469567354, "answer_id": 38599915, "question_id": 38599871, "link": "https://stackoverflow.com/questions/38599871/how-to-remove-the-literal-string-n-not-newlines-from-a-variable-in-bash/38599915#38599915", "title": "How to remove the literal string &quot;\\n&quot; (not newlines) from a variable in bash?", "body": "<p>The <code>tr</code> utility will only work with single characters, transliterating them from one set of characters to another. This is not the tool you want.</p>\n\n<p>With <code>sed</code>:</p>\n\n<pre><code>newvar=\"$( sed 's/\\\\n//g' &lt;&lt;&lt;\"$var\" )\"\n</code></pre>\n\n<p>The only thing worth noting here is the escaping of the <code>\\</code> in <code>\\n</code>.  I'm using a here-string (<code>&lt;&lt;&lt;\"...\"</code>) to feed the value of the variable <code>var</code> into the standard input of <code>sed</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 109227, "user_id": 641955, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Hg2nO.jpg?s=128&g=1", "display_name": "janos", "link": "https://stackoverflow.com/users/641955/janos"}, "is_accepted": true, "score": 5, "last_activity_date": 1469567557, "creation_date": 1469567557, "answer_id": 38599966, "question_id": 38599871, "link": "https://stackoverflow.com/questions/38599871/how-to-remove-the-literal-string-n-not-newlines-from-a-variable-in-bash/38599966#38599966", "title": "How to remove the literal string &quot;\\n&quot; (not newlines) from a variable in bash?", "body": "<p>I suspect you just didn't escape the <code>\\</code> correctly in the replacement when using <code>sed</code>. Also note that <code>tr</code> is not well-suited for this task.\nFinally, if you want to replace <code>\\n</code> in a <em>variable</em>, then <strong>Pattern substitution</strong> (a form of <strong>Parameter Expansion</strong>) is your best option.</p>\n\n<p>To replace <code>\\n</code> in a variable, you can use Bash pattern substitution:</p>\n\n<pre><code>$ text='hello\\n\\nthere\\nagain'\n$ echo ${text//\\\\n/}\nhellothereagain\n</code></pre>\n\n<p>To replace <code>\\n</code> in standard input, you can use <code>sed</code>:</p>\n\n<pre><code>$ echo 'hello\\n\\nthere\\nagain' | sed -e 's/\\\\n//g'\nhellothereagain\n</code></pre>\n\n<p>Notice the <code>\\</code> escaped in the pattern as <code>\\\\</code> in both examples.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1469568830, "creation_date": 1469568830, "answer_id": 38600264, "question_id": 38599871, "link": "https://stackoverflow.com/questions/38599871/how-to-remove-the-literal-string-n-not-newlines-from-a-variable-in-bash/38600264#38600264", "title": "How to remove the literal string &quot;\\n&quot; (not newlines) from a variable in bash?", "body": "<p>You don't need external tools for this, bash can do it trivially and efficiently on it's own:</p>\n\n<pre><code>$ someString='\\n\\nCreate a URL where the client can point their web browser to.  This URL should test the following IP addresses and ports for connectivity.'\n\n$ echo \"${someString//\\\\n/}\"\nCreate a URL where the client can point their web browser to.  This URL should test the following IP addresses and ports for connectivity.\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 6392200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f9bbab270e9351a49219626fb26ced?s=128&d=identicon&r=PG&f=1", "display_name": "Void", "link": "https://stackoverflow.com/users/6392200/void"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2678, "favorite_count": 0, "accepted_answer_id": 38599966, "answer_count": 3, "score": 5, "last_activity_date": 1469568830, "creation_date": 1469567140, "last_edit_date": 1592644375, "question_id": 38599871, "link": "https://stackoverflow.com/questions/38599871/how-to-remove-the-literal-string-n-not-newlines-from-a-variable-in-bash", "title": "How to remove the literal string &quot;\\n&quot; (not newlines) from a variable in bash?", "body": "<p>I'm pulling some data from a database and one of the strings I'm getting back is in one line and contains multiple instances of the string <code>\\n</code>. These are not newline characters; they are literally the string <code>\\n</code>, i.e. backslash+en, or hex 5C 6E.</p>\n<p>I've tried using sed and tr to remove them however they don't seem recognize the string and don't effect the variable at all. This has been a difficult problem to search for on google as all the results I get back are about how to remove newline characters from strings which is not what I need.</p>\n<p>How can I remove these strings from my variable in bash?</p>\n<p>Example data:</p>\n<p><code>\\n\\nCreate a URL where the client can point their web browser to.  This URL should test the following IP addresses and ports for connectivity.</code></p>\n<p>Example failed command:</p>\n<pre><code>echo &quot;$someString&quot; | tr '\\\\n' ''\n</code></pre>\n<p>Operating system: Solaris 10</p>\n<p><a href=\"https://stackoverflow.com/questions/36974182/remove-n-from-a-string-but-leave-the-actual-linebreaks\">Possible Duplicate</a> - Except this is in python</p>\n"}, {"tags": ["perl", "cpan", "dbi", "msysgit"], "comments": [{"owner": {"reputation": 2622, "user_id": 2029450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fc82fa7a3fedf8af02d1ffd1070a0f9?s=128&d=identicon&r=PG", "display_name": "crazybilly", "link": "https://stackoverflow.com/users/2029450/crazybilly"}, "edited": false, "score": 0, "creation_date": 1469566442, "post_id": 38599414, "comment_id": 64587304, "body": "msysgit provides a package, installable via pacman for DBI:      <code>pacman -S perl-DBI</code>  However, that doesn&#39;t solve the wider problem of what&#39;s missing, preventing cpan from installing other modules like Text::CSV_XS or whatever else I&#39;ll later need."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469570956, "post_id": 38599414, "comment_id": 64589109, "body": "It seems msysgit does not provide a full build environment."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469585407, "post_id": 38599414, "comment_id": 64592686, "body": "Have you tried using <code>Cygwin</code>?  I have DBI as well as Text::CSV_XS installed there without any issues."}, {"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1469588995, "post_id": 38599414, "comment_id": 64593499, "body": "Or maybe try Active Perl, which has ppm, the perl package manager. It downloads prebuilt binaries, instead of trying to compile C code (XS) that some modules use.."}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 0, "creation_date": 1469598863, "post_id": 38599414, "comment_id": 64596448, "body": "Or use Strawberry Perl: both ActiveState Perl and Strawberry have a full working CPAN client and allow you to compile using MSYS just about anything. Also Strawberry has loads of modules, such as DBI and your favourite database drivers, preinstalled."}, {"owner": {"reputation": 2622, "user_id": 2029450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fc82fa7a3fedf8af02d1ffd1070a0f9?s=128&d=identicon&r=PG", "display_name": "crazybilly", "link": "https://stackoverflow.com/users/2029450/crazybilly"}, "edited": false, "score": 0, "creation_date": 1469625913, "post_id": 38599414, "comment_id": 64614838, "body": "Today&#39;s slog will be getting msysgit to use Strawberry Perl (what I&#39;ve used without heartache in the past) instead of the built in perl."}], "answers": [{"tags": [], "owner": {"reputation": 2622, "user_id": 2029450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fc82fa7a3fedf8af02d1ffd1070a0f9?s=128&d=identicon&r=PG", "display_name": "crazybilly", "link": "https://stackoverflow.com/users/2029450/crazybilly"}, "is_accepted": true, "score": 0, "last_activity_date": 1478297003, "creation_date": 1478297003, "answer_id": 40432342, "question_id": 38599414, "link": "https://stackoverflow.com/questions/38599414/how-to-install-dbi-and-other-modules-on-msysgit-on-windows-7/40432342#40432342", "title": "How to install DBI and other modules on msysgit (on Windows 7)?", "body": "<p>mysysgit does not provide a full build environment. Thus, the best solution is to install another version of Perl (Strawberry Perl or Active Perl, for example) and alter your path so that mysysgit uses that perl rather than the one that comes built in.</p>\n"}], "owner": {"reputation": 2622, "user_id": 2029450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fc82fa7a3fedf8af02d1ffd1070a0f9?s=128&d=identicon&r=PG", "display_name": "crazybilly", "link": "https://stackoverflow.com/users/2029450/crazybilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 40432342, "answer_count": 1, "score": 0, "last_activity_date": 1478297003, "creation_date": 1469565356, "last_edit_date": 1469566403, "question_id": 38599414, "link": "https://stackoverflow.com/questions/38599414/how-to-install-dbi-and-other-modules-on-msysgit-on-windows-7", "title": "How to install DBI and other modules on msysgit (on Windows 7)?", "body": "<p>I'm trying to install the DBI perl module on my Windows 7 machine, using Git for Windows, ie. msysgit, and the version of perl that ships with it.</p>\n\n<p>I've been able to install a few other perl modules, but when I try to install DBI (via <code>perl -MCPAN -e \"install DBI\"</code>), the build process bombs out with the following error: </p>\n\n<pre><code>\"/usr/bin/perl.exe\" \"/usr/share/perl5/core_perl/ExtUtils/xsubpp\"  -typemap \"/usr/share/perl5/core_perl/ExtUtils/typemap\" -typemap \"typemap\"  Perl.xs &gt; Perl.xsc &amp;&amp; mv Perl.xsc Perl.c\n\ngcc -c   -DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -D_FORTIFY_SOURCE=2 -DUSEIMPORTLIB -march=x86-64 -mtune=generic -O2 -pipe   -DVERSION=\\\"1.636\\\" -DXS_VERSION=\\\"1.636\\\"  \"-I/usr/lib/perl5/core_perl/CORE\"  -W -Wall -Wpointer-arith -Wbad-function-cast -Wno-comment -Wno-sign-compare -Wno-cast-qual -Wmissing-noreturn -Wno-unused-parameter Perl.c\n\nIn file included from DBIXS.h:23:0,\n             from Perl.xs:7:\nC:/git-sdk-64/usr/lib/perl5/core_perl/CORE/perl.h:805:25: fatal error: sys/wait.h: No such file or directory\n      #   include &lt;sys/wait.h&gt;\n                     ^\ncompilation terminated.\nmake: *** [Makefile:627: Perl.o] Error 1\n TIMB/DBI-1.636.tar.gz\n /usr/bin/make -- NOT OK\n</code></pre>\n\n<p>I get a similar error when I try to install Text::CSV_XS. </p>\n\n<p>Based on what I've read elsewhere, I'm assuming that I'm missing something in my build environment. I've installed all the <a href=\"https://sourceforge.net/p/msys2/wiki/Contributing%20to%20MSYS2/\" rel=\"nofollow\">development metapackages mentioned on the msysgit documentation</a> without any luck. </p>\n\n<p>I'm not opposed to somehow building the module without using cpan, but I don't know how to troubleshoot the error I'm getting, let alone take on building something new. Suggestions?</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1469565866, "post_id": 38599403, "comment_id": 64587008, "body": "You may need to explicitly invoke the shell instead of relying on Perl to figure out you want to do that, as in <code>system(&#39;&#47;bin&#47;sh -c if ! dpkg ...&#39;)</code>"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1469566073, "post_id": 38599403, "comment_id": 64587107, "body": "invoking the system(&#39;/bin/sh -c if ! dpkg ...&#39;) gets me closer but it is complaining now !: 1: !: Syntax error: end of file unexpected.  Maybe I need to escape some characters?"}], "answers": [{"tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 0, "last_activity_date": 1469567913, "creation_date": 1469567913, "answer_id": 38600038, "question_id": 38599403, "link": "https://stackoverflow.com/questions/38599403/executing-an-if-else-shell-command-from-perl/38600038#38600038", "title": "Executing an if else shell command from perl", "body": "<p>The issue seemed a little problematic so I went about another way to solve it.  Here is what I ended up doing which gives me the same end result</p>\n\n<pre><code>if ($os eq 'Ubuntu'){\n    my $check = `dpkg --get-selections | grep \"^curl *\" | awk '{print \\$1}'`;\n    if(!$check){ system('apt-get install curl -y &gt; /dev/null'); }\n        foreach my $mod (keys %deb){\n            eval \"use $mod\";\n            if($@){\n            system(\"apt-get install $deb{$mod} -y\");\n            eval \"use $mod\";\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "edited": false, "score": 0, "creation_date": 1469568576, "post_id": 38600060, "comment_id": 64588282, "body": "thank you, I will give that a try for future implementations"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469599348, "post_id": 38600060, "comment_id": 64596649, "body": "@ikegami Thank you for the comment -- this was perplexing.  I tried with what should be a clear <code>if</code> statement but it was using <code>!</code> for expansion.  I tried <code>[...]</code>, and I couldn&#39;t get the <code>test</code> to work either. This, on the other hand, works from the terminal from <code>bash</code> and as the above one-liner. Also, I am not sure why it is not valid -- I think that <code>rpm</code> exits with 1/0, and so should <code>dpkg</code>.  Can they not be used as conditionals and execute as a side effect?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469631319, "post_id": 38600060, "comment_id": 64619066, "body": "The <code>&amp;&gt;</code> is a bash-ism, so I think that is the problem, not the <code>!</code>. <code>!</code> is valid syntax according to the dash manpage (dash is the default shell on Debian), although I haven&#39;t tested yet."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469631834, "post_id": 38600060, "comment_id": 64619439, "body": "(<code>dash</code> is a POSIX-compliant <code>sh</code>. In other words, <code>dash</code> <i>is</i> <code>sh</code>)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469643995, "post_id": 38600060, "comment_id": 64626860, "body": "@ThisSuitIsBlackNot  Thank you, adjusted.  So Debian uses <code>sh</code> -- which doesn&#39;t take <code>&amp;&gt;</code>? That was a surprise to me altogether.  (On RHEL here <code>sh</code> is a link to <code>bash</code> so I guess that&#39;s why my tests work.) Either way, <a href=\"http://stackoverflow.com/users/589924/ikegami\">ikegami</a>&#39;s answer of course bypasses these details."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469644824, "post_id": 38600060, "comment_id": 64627344, "body": "Yep. On Debian and Ubuntu, <code>&#47;bin&#47;sh</code> is a symlink to <code>&#47;bin&#47;dash</code>. <code>&amp;&gt;</code> is specific to bash, and only relatively new versions of bash at that; it wasn&#39;t added until v4.0 (released in 2009)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1469730681, "last_edit_date": 1495541312, "creation_date": 1469568017, "answer_id": 38600060, "question_id": 38599403, "link": "https://stackoverflow.com/questions/38599403/executing-an-if-else-shell-command-from-perl/38600060#38600060", "title": "Executing an if else shell command from perl", "body": "<p>You can avoid getting into the details of <code>if</code> syntax and also simplify it a bit by using <code>||</code> instead of negation. To try it out on the command line</p>\n\n<pre><code>perl -we 'system(\"rpm -q NO_PACK &amp;&gt; /dev/null || echo \\\"install package\\\"\")'\n</code></pre>\n\n<p>I can only test on RHEL right now thus <code>rpm</code>. However, on RHEL I find this to work fine, too</p>\n\n<pre><code>perl -we 'system(\"if ! rpm -q NO &gt;&amp; /dev/null ; then echo install; fi\")'\n</code></pre>\n\n<p>It is the syntax in the command that conflicts with the shell invoked by <code>system</code>, which is <code>dash</code> on Ubuntu (itself being a link to <code>sh</code>). Thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> and <a href=\"https://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsBlackNot</a> for comments on this.  In particular, the redirection <code>&amp;&gt;</code> does not work since that is specifically <code>bash</code>'s feature. Then you can change to the generic <code>&gt; /dev/null 2&gt;&amp;1</code> which sends <code>STDOUT</code> stream to <code>/dev/null</code> and redirects <code>STDERR</code> stream (2) to the same place where <code>STDOUT</code> (1) goes</p>\n\n<pre><code>system('dpkg -l curl &gt; /dev/null 2&gt;&amp;1 || apt-get install curl -y');\n</code></pre>\n\n<p>On a RHEL system the <code>sh</code> is a link to <code>bash</code>, thus <code>&amp;&gt;</code> works.  Note that the <code>2&amp;&gt;1</code> redirection works as well. However, in my opinion a better solution is to specify which shell you want to use.</p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>system</code></a> allows one to <em>not</em> invoke the shell, by supplying arguments in a list. Then the program given as the first argument is run directly, without triggering the shell, with the rest of the list being passed to it. This is the way to get the right shell to run your command, as you can specify that shell as the first argument in the list. This is shown in the answer by <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1469631484, "last_edit_date": 1469631484, "creation_date": 1469589649, "answer_id": 38603150, "question_id": 38599403, "link": "https://stackoverflow.com/questions/38599403/executing-an-if-else-shell-command-from-perl/38603150#38603150", "title": "Executing an if else shell command from perl", "body": "<p>The <code>if</code> works perfectly fine.</p>\n\n<pre><code>$ perl -e'system(\"if ! true ; then echo ok ; fi\")'\n\n$ perl -e'system(\"if ! false ; then echo ok ; fi\")'\nok\n</code></pre>\n\n<p>There is a problem, though. What you posted is a <code>bash</code> command, but <code>system(EXPR)</code> is short for <code>system('/bin/sh', '-c', EXPR)</code>. Simply replacing</p>\n\n<pre><code>system(EXPR)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>system('/bin/bash', '-c', EXPR)\n</code></pre>\n\n<p>should do the trick.</p>\n"}], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 1, "accepted_answer_id": 38603150, "answer_count": 3, "score": 2, "last_activity_date": 1469730681, "creation_date": 1469565322, "last_edit_date": 1469565675, "question_id": 38599403, "link": "https://stackoverflow.com/questions/38599403/executing-an-if-else-shell-command-from-perl", "title": "Executing an if else shell command from perl", "body": "<p>I have never run into this scenario before so I could use a little help.  I am trying to issue an if/else statement from a shell command but within perl.  I've tried system and exec with no success.  Here's a sample of the code</p>\n\n<pre><code>if ($os eq 'Ubuntu'){\n    system('if ! dpkg -l curl &amp;&gt; /dev/null; then apt-get install curl -y; fi');\n    foreach my $mod (keys %deb){\n        eval \"use $mod\";\n        if($@){\n            system(\"apt-get install $deb{$mod} -y\");\n            eval \"use $mod\";\n        }\n    }\n}\n</code></pre>\n\n<p>If I run the command <code>if ! dpkg -l curl &amp;&gt; /dev/null; then apt-get install curl -y; fi</code> in shell it works fine but executing it from perl is skips the <code>if</code> part and goes right on to installing it. </p>\n"}, {"tags": ["perl", "docker", "dockerfile", "cpanm"], "answers": [{"tags": [], "owner": {"reputation": 6614, "user_id": 766855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/322fe0da26cfd08f32ee539e7ca219b1?s=128&d=identicon&r=PG", "display_name": "Camilo Silva", "link": "https://stackoverflow.com/users/766855/camilo-silva"}, "is_accepted": false, "score": 4, "last_activity_date": 1469562946, "creation_date": 1469562946, "answer_id": 38598809, "question_id": 38598683, "link": "https://stackoverflow.com/questions/38598683/how-do-i-set-up-my-dockerfile-to-use-cpanm-to-install-a-specific-version-of-a-pe/38598809#38598809", "title": "How do I set up my Dockerfile to use cpanm to install a specific version of a Perl module?", "body": "<p>To have CPAN install a specific version of a module, you need to provide the full module distribution filename including the author. For example to install the module <code>Set::Object</code> version <code>1.28</code>, at the command line type:</p>\n\n<pre><code>cpan SAMV/Set-Object-1.28.tar.gz\n</code></pre>\n\n<p>Same thing apply with Docker, just add</p>\n\n<pre><code>RUN cpan SAMV/Set-Object-1.28.tar.gz\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "edited": false, "score": 1, "creation_date": 1469655826, "post_id": 38598818, "comment_id": 64633012, "body": "Great tip about the environment option!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 6, "last_activity_date": 1469563548, "last_edit_date": 1469563548, "creation_date": 1469562975, "answer_id": 38598818, "question_id": 38598683, "link": "https://stackoverflow.com/questions/38598683/how-do-i-set-up-my-dockerfile-to-use-cpanm-to-install-a-specific-version-of-a-pe/38598818#38598818", "title": "How do I set up my Dockerfile to use cpanm to install a specific version of a Perl module?", "body": "<p>Instead of specifying a module name, specify a URL. Eg, instead of <code>Class::Data::Inheritable</code>, use <code>https://cpan.metacpan.org/authors/id/T/TM/TMTM/Class-Data-Inheritable-0.06.tar.gz</code></p>\n\n<p>You can find the applicable URL by going to the <a href=\"https://metacpan.org/pod/Class::Data::Inheritable\">module page on metacpan</a>, selecting the version you want, and copying the download link.</p>\n\n<p>PS: You might want to also set <code>PERL_CPANM_OPT=--from https://cpan.metacpan.org/</code> in the environment so <code>cpanm</code> only downloads using <code>HTTPS</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469659170, "post_id": 38623682, "comment_id": 64634280, "body": "Excellent summary (I am going to tidy up the formatting a little later). However, note that, in production, I like to know exactly where everything is coming from. For that purpose, you may want to keep your own repository of specific instances of CPAN dist files. See also <a href=\"https://metacpan.org/pod/CPAN::Mini\" rel=\"nofollow noreferrer\">CPAN::Mini</a> and <a href=\"https://metacpan.org/pod/Pinto\" rel=\"nofollow noreferrer\">Pinto</a>."}, {"owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469660125, "post_id": 38623682, "comment_id": 64634556, "body": "Thanks.  I looked into Pinto and decided that it would be overkill, since I&#39;m just using this to spin up Docker containers.  <a href=\"https://metacpan.org/release/carton\" rel=\"nofollow noreferrer\">Carton</a> is another tool to consider, though it also uses the cpanfile, and I&#39;m having trouble digging up working syntax to include a url instead of a version number in the cpanfile."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469666358, "post_id": 38623682, "comment_id": 64635964, "body": "I don&#39;t think there is syntax for including modules by URL in a cpanfile. However, you can probably achieve the same effect by setting the mirror in the environment, and specifying an exact version."}, {"owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469720594, "post_id": 38623682, "comment_id": 64665112, "body": "I did find this <b>one</b> blog post with syntax for including a git url.  Sadly, the line is cut off.  I&#39;ve made a couple of guesses, but so far cpanm keeps trying to translate the url into a version number:  <a href=\"http://blogs.perl.org/users/lestrrat/2013/03/the-main-problem-with-cpan-modules-on-github.html\" rel=\"nofollow noreferrer\">blogs.perl.org/users/lestrrat/2013/03/&hellip;</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469729224, "post_id": 38623682, "comment_id": 64670554, "body": "Looking at the source of the web page, it seems to be <code>requires &#39;My::Experimental::Module&quot; =&gt; &quot;git:&#47;&#47;github.com&#47;lestrrat&#47;p5-MyExperimental-Module.git&quot;;</code>"}, {"owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469803214, "post_id": 38623682, "comment_id": 64703924, "body": "LOL, can&#39;t believe I didn&#39;t think to look at the source.  I guess that&#39;s what happens when you stare at the same problem for too long.  However, that is one of the syntax variations that I tried, and cpanm interpreted it as a version number, regardless of the &quot;=&gt;&quot; between.  I left a comment on the blog post requesting clarification regarding the syntax, so hopefully the blogger can provide some missing context or clarification.  Thanks for all the effort you&#39;ve put into this; it&#39;s been extremely helpful."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469808405, "post_id": 38623682, "comment_id": 64707220, "body": "The reason I had not originally suggested something like that was because I looked at the source of the cpanfile module to see if requirements options checked for URLs and I could not find a check, I assumed it did not exist. The blog post made me think I had missed something. I should have tried. Thank you for the update."}], "tags": [], "owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "is_accepted": false, "score": 6, "last_activity_date": 1469666223, "last_edit_date": 1469666223, "creation_date": 1469655722, "answer_id": 38623682, "question_id": 38598683, "link": "https://stackoverflow.com/questions/38598683/how-do-i-set-up-my-dockerfile-to-use-cpanm-to-install-a-specific-version-of-a-pe/38623682#38623682", "title": "How do I set up my Dockerfile to use cpanm to install a specific version of a Perl module?", "body": "<p>For anyone who's searching for this same answer in the future, another option can be found here in <a href=\"https://metacpan.org/pod/distribution/App-cpanminus/bin/cpanm\" rel=\"noreferrer\">the documentation for <code>cpanm</code></a>:</p>\n\n<blockquote>\n<pre><code>cpanm Plack@0.9990\n</code></pre>\n</blockquote>\n\n<p>If you have a long list of modules, consider feeding a <a href=\"https://metacpan.org/pod/cpanfile\" rel=\"noreferrer\"><code>cpanfile</code></a> into <code>cpanm</code> rather than listing them all in the Dockerfile.</p>\n\n<p>The easiest way to specify a particular version number for a module in a <code>cpanfile</code> is like this:</p>\n\n<pre><code>requires 'Text::ParseWords', '==3.1';\n</code></pre>\n\n<p>The syntax for requesting the latest version of a module is this:</p>\n\n<pre><code>requires 'Text::ParseWords';\n</code></pre>\n\n<p>Requesting a minimum version: (note the lack of '==')</p>\n\n<pre><code>requires 'Text::ParseWords', '3.1';\n</code></pre>\n\n<p>The syntax for requesting specific versions in other ways is fairly well-documented <a href=\"https://metacpan.org/pod/cpanfile\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Another great write-up of the use of <code>cpanm</code> and a <code>cpanfile</code> can be found \nin <a href=\"https://github.com/kraih/mojo/wiki/Installation-of-cpan-modules-by-cpanm-and-cpanfile\" rel=\"noreferrer\">Installation of cpan modules by cpanm and cpanfile</a>.</p>\n"}], "owner": {"reputation": 385, "user_id": 4146954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XB3m9Z5Q_FY/AAAAAAAAAAI/AAAAAAAABjE/WAqYkH9FCrQ/photo.jpg?sz=128", "display_name": "Mik", "link": "https://stackoverflow.com/users/4146954/mik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2287, "favorite_count": 1, "accepted_answer_id": 38598818, "answer_count": 3, "score": 7, "last_activity_date": 1469666223, "creation_date": 1469562452, "question_id": 38598683, "link": "https://stackoverflow.com/questions/38598683/how-do-i-set-up-my-dockerfile-to-use-cpanm-to-install-a-specific-version-of-a-pe", "title": "How do I set up my Dockerfile to use cpanm to install a specific version of a Perl module?", "body": "<p>Within my Dockerfile, I am setting up the Perl modules that will be installed when run, like so:</p>\n\n<p><code>RUN [\"cpanm\", \"Carp\", \"Carp::Heavy\", \"Class::Data::Inheritable\"]</code></p>\n\n<p>However, for one module, I need a specific version of a module, not the latest one.  How can I specify that version in the above line?</p>\n\n<p>I've been searching online for hours, and haven't turned up anything useful yet.</p>\n"}, {"tags": ["perl", "doxygen"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469559700, "post_id": 38597714, "comment_id": 64583665, "body": "There&#39;s no such thing as private or protected methods in Perl. You can tell people that they shouldn&#39;t look at a method by prefixing it with an underscore, but the interpreter doesn&#39;t actually prevent anyone from calling it."}, {"owner": {"reputation": 49, "user_id": 6548129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88f64111eb5313a00f14693b7866a482?s=128&d=identicon&r=PG&f=1", "display_name": "UserABC", "link": "https://stackoverflow.com/users/6548129/userabc"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469559785, "post_id": 38597714, "comment_id": 64583719, "body": "I am familiar with that, but I want to show in documentation that which methods can be called from which file. That is why."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469559839, "post_id": 38597714, "comment_id": 64583757, "body": "The standard in Perl is to only document the public API. If it&#39;s not documented, people shouldn&#39;t be calling it."}], "owner": {"reputation": 49, "user_id": 6548129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88f64111eb5313a00f14693b7866a482?s=128&d=identicon&r=PG&f=1", "display_name": "UserABC", "link": "https://stackoverflow.com/users/6548129/userabc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469558984, "creation_date": 1469558984, "question_id": 38597714, "link": "https://stackoverflow.com/questions/38597714/doxygen-filter-perl-listing-private-and-protected-methods-in-public-member-funct", "title": "Doxygen-filter-perl listing private and protected methods in public member functions", "body": "<p>I am documenting Perl project with Doxygen, for that I am using doxygen-filter-perl to make it work with perl. Everything is working fine except for one thing, which is, if I document protected/private method it is listing under public member functions section. I want to have three separate modules for each kind of methods. i.e. public, private and protected and not only PUBLIC member functions.</p>\n\n<p>Any help will be appreciated. \nThanks</p>\n"}, {"tags": ["matlab", "perl", "memory"], "comments": [{"owner": {"reputation": 4420, "user_id": 4291805, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/srYOJ.jpg?s=128&g=1", "display_name": "GameOfThrows", "link": "https://stackoverflow.com/users/4291805/gameofthrows"}, "edited": false, "score": 1, "creation_date": 1469547479, "post_id": 38594233, "comment_id": 64576610, "body": "How much RAM do you have? If you have Unix version, you can disable JVM on matlab launch to save yourself a whole load of RAM."}, {"owner": {"reputation": 32443, "user_id": 1485872, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/9XWSA.png?s=128&g=1", "display_name": "Ander Biguri", "link": "https://stackoverflow.com/users/1485872/ander-biguri"}, "edited": false, "score": 0, "creation_date": 1469547509, "post_id": 38594233, "comment_id": 64576632, "body": "It is not MATLAB giving the memory. Most likely MATLAB+perl are more than the memory you have."}, {"owner": {"reputation": 621, "user_id": 1583025, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/665c632b9083ec0fde852ede140d4e4b?s=128&d=identicon&r=PG", "display_name": "Richard Hum", "link": "https://stackoverflow.com/users/1583025/richard-hum"}, "edited": false, "score": 0, "creation_date": 1469547523, "post_id": 38594233, "comment_id": 64576642, "body": "I&#39;ve got 24 gigs. The perl script runs fine when using perl on command line."}, {"owner": {"reputation": 621, "user_id": 1583025, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/665c632b9083ec0fde852ede140d4e4b?s=128&d=identicon&r=PG", "display_name": "Richard Hum", "link": "https://stackoverflow.com/users/1583025/richard-hum"}, "edited": false, "score": 0, "creation_date": 1469547563, "post_id": 38594233, "comment_id": 64576678, "body": "I look at my task manager, and the memory graph barely goes up before it throws the error."}, {"owner": {"reputation": 32443, "user_id": 1485872, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/9XWSA.png?s=128&g=1", "display_name": "Ander Biguri", "link": "https://stackoverflow.com/users/1485872/ander-biguri"}, "edited": false, "score": 1, "creation_date": 1469547577, "post_id": 38594233, "comment_id": 64576689, "body": "But do you have more things in MATLAB? Run the code to before you carl PERL and check your memory"}, {"owner": {"reputation": 4420, "user_id": 4291805, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/srYOJ.jpg?s=128&g=1", "display_name": "GameOfThrows", "link": "https://stackoverflow.com/users/4291805/gameofthrows"}, "edited": false, "score": 1, "creation_date": 1469547589, "post_id": 38594233, "comment_id": 64576698, "body": "I think this might be your JVM heap space rather than your machine&#39;s physical RAM"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1469547893, "post_id": 38594233, "comment_id": 64576891, "body": "Is it a 32-bit Perl? That can only access 4 GiB of memory (of which 1 or 2 GiB is reserved by the OS)."}], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 1583025, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/665c632b9083ec0fde852ede140d4e4b?s=128&d=identicon&r=PG", "display_name": "Richard Hum", "link": "https://stackoverflow.com/users/1583025/richard-hum"}, "is_accepted": true, "score": 4, "last_activity_date": 1469547876, "creation_date": 1469547876, "answer_id": 38594424, "question_id": 38594233, "link": "https://stackoverflow.com/questions/38594233/matlab-out-of-memory-when-using-perl/38594424#38594424", "title": "MATLAB Out of Memory when using perl()", "body": "<p>MATLAB ships with the 32 bit version of perl. That's why it couldn't run.</p>\n"}], "owner": {"reputation": 621, "user_id": 1583025, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/665c632b9083ec0fde852ede140d4e4b?s=128&d=identicon&r=PG", "display_name": "Richard Hum", "link": "https://stackoverflow.com/users/1583025/richard-hum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 38594424, "answer_count": 1, "score": 4, "last_activity_date": 1469547876, "creation_date": 1469547342, "question_id": 38594233, "link": "https://stackoverflow.com/questions/38594233/matlab-out-of-memory-when-using-perl", "title": "MATLAB Out of Memory when using perl()", "body": "<p>I've got a perl script that I want to execute using MATLAB using the perl() function, and it keeps giving me a \"System error: Out of memory!\", which seems to be from perl. </p>\n\n<p>My perl script needs about 5GB of memory to run, and it works fine when run through Cygwin. How do i get MATLAB to give perl more memory?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "edited": false, "score": 0, "creation_date": 1469604041, "post_id": 38594098, "comment_id": 64599389, "body": "Sorry for incomplete description, but your understanding of the problem is right. Thanks a ton...your answer solved my problem...Thank you ..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "edited": false, "score": 0, "creation_date": 1469632174, "post_id": 38594098, "comment_id": 64619688, "body": "Personally, I always list all exports explicitly, meaning I either use <code>qw( )</code> or <code>qw( foo bar )</code> on my <code>use</code> statements. (strict, warnings, Test::More and Moose being rare exceptions)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1469546995, "creation_date": 1469546995, "answer_id": 38594098, "question_id": 38593947, "link": "https://stackoverflow.com/questions/38593947/how-to-resolve-conflict-with-filefindrule-and-filefind/38594098#38594098", "title": "How to resolve conflict with File::Find::Rule and File::Find", "body": "<p>It's hard to tell from your description of the problem, but I suspect the problem is related to the fact that both</p>\n\n<pre><code>use File::Find::Rule;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>use File::Find;\n</code></pre>\n\n<p>export a function named <code>find</code>. Replace</p>\n\n<pre><code>use File::Find::Rule;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>use File::Find::Rule qw( );\n</code></pre>\n\n<p>to avoid importing <code>find</code> from File::Find::Rule.</p>\n"}], "owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 38594098, "answer_count": 1, "score": 0, "last_activity_date": 1469627085, "creation_date": 1469546609, "last_edit_date": 1469627085, "question_id": 38593947, "link": "https://stackoverflow.com/questions/38593947/how-to-resolve-conflict-with-filefindrule-and-filefind", "title": "How to resolve conflict with File::Find::Rule and File::Find", "body": "<p>To elaborate, </p>\n\n<p>I am using <code>File::Find::Rule</code> to get the path of a specific file which exists in multiple sub directories and sometimes in sub directories directory.</p>\n\n<pre><code>File::Find::Rule-&gt;file()\n                -&gt;name('abc')\n                -&gt;in('.');\n</code></pre>\n\n<p>Apart from this, i am using </p>\n\n<pre><code>use File::Find;\n    find(\\&amp;wanted, @directories_to_search);\n    sub wanted { ... }\n</code></pre>\n\n<p>Here basically the wanted function is just to change permissions....</p>\n\n<p>The problem is...when I add <code>File::Find::Rule</code>, the <code>find()</code> function mentioned above says file itself doesn't exist. If I don't add the rule module use then the find part works great</p>\n\n<p>Can anyone help me sort this one. Any ideas here would be helpful. I tried all possible combinations....but nothing works...</p>\n\n<p>Thank you in advance :) </p>\n"}, {"tags": ["perl", "global", "substitution"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1469546580, "post_id": 38593896, "comment_id": 64576001, "body": "Could you provide a sample input and output?"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 1, "creation_date": 1469546622, "post_id": 38593896, "comment_id": 64576025, "body": "Iterate over the matches found with <code>m&#47;&#47;g</code>."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "edited": false, "score": 0, "creation_date": 1469548183, "post_id": 38594210, "comment_id": 64577049, "body": "Well according to my output of my text file it replaces the datetime of each line individually except it ignores any that is after the first datetime within that line. Going to give your code a shot now! Thanks.  EDIT: Works like a charm thank you good sir!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "edited": false, "score": 0, "creation_date": 1469557981, "post_id": 38594210, "comment_id": 64582691, "body": "Not quite. As I said, &quot;You are replacing <b>all</b> the datetimes that are <b>identical</b> to the first datetime of the line.&quot; If you have <code>May 15 2007 12:00AM ... May 15 2007 12:00AM</code>, both will get replaced. Other datetimes aren&#39;t replaced because you don&#39;t even look for them."}, {"owner": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "edited": false, "score": 0, "creation_date": 1469628980, "post_id": 38594210, "comment_id": 64617150, "body": "Ahhh thank you for the clarification! Much appreciated. And thanks a lot I did not know you can use the time::piece module within the substitution syntax."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "edited": false, "score": 0, "creation_date": 1469631362, "post_id": 38594210, "comment_id": 64619105, "body": "When you use use <code>&#47;e</code>, the replacement expression is treated as an expression which is evaluated for each mach."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1469547667, "last_edit_date": 1469547667, "creation_date": 1469547289, "answer_id": 38594210, "question_id": 38593896, "link": "https://stackoverflow.com/questions/38593896/global-substitution/38594210#38594210", "title": "Global Substitution", "body": "<p>You are replacing all the datetimes that are identical to the first datetime of the line. You don't even try to find any other datetimes.</p>\n\n<pre><code>while (&lt;&gt;) {\n    s{([A-Z][a-z][a-z] [ \\d]\\d \\d{4} \\d{2}:\\d{2}[AP]M)}{\n        Time::Piece-&gt;strptime($1, '%b %d %Y %I:%M%p')-&gt;strftime('%Y-%m-%d %H:%M:%S')\n    }eg;\n\n    print;\n}\n</code></pre>\n\n<p>As it turns out, the subject you chose for your question was quite appropriate :)</p>\n\n<hr>\n\n<p>Note: I changed <code>%H</code> (hour as 0..23) to the more appropriate than <code>%I</code> (hour as 1..12).</p>\n"}], "owner": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 38594210, "answer_count": 1, "score": 0, "last_activity_date": 1469547667, "creation_date": 1469546468, "last_edit_date": 1469547307, "question_id": 38593896, "link": "https://stackoverflow.com/questions/38593896/global-substitution", "title": "Global Substitution", "body": "<p>Hi I am using the below code to replace date formats but I am unable to figure out how to globally change all dates. Currently, the script finds and replaces the dates correctly, but it only does it for the first date found within a line but skips the rest of that line. So if there is another date that needed to be change within the same line it ignores it. I've attempted using global substitution but to no avail. If anyone could give me an idea I would very much appreciate it.</p>\n\n<pre><code>use strict;\nuse Time::Piece ();\n\nmy $file = $ARGV[0];\nopen FILE, $file or die;\n\n\nwhile ( my $line = &lt;FILE&gt; ) {\nchomp $line;\nmy ($date) = $line =~ m/([A-Z][a-z][a-z] [ \\d]{2} \\d{4} \\d{2}:\\d{2}[AP]M)/; \n\n            if ($date eq ''){ \n                    print \"$line\\n\";\n                    next;\n            }\n        my $new_dt = Time::Piece-&gt;strptime($date, '%b %d %Y %H:%M%p')-&gt;strftime('%Y-%m-%d %H:%M:%S');\n\n        $line =~ s/$date/$new_dt/g;\n        print \"$line\\n\";\n}\n\nclose FILE;\nprint \"\\n\";\n</code></pre>\n\n<p>EDIT: Added example</p>\n\n<p>Input:</p>\n\n<p>May 15 2007 12:00AM, , 1, 0, Feb  2 2003 12:00PM</p>\n\n<p>Output:</p>\n\n<p>2007-05-15 00:00:00, , 1, 0, Feb  2 2003 12:00PM</p>\n"}, {"tags": ["regex", "bash", "perl", "search", "replace"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1469546649, "post_id": 38593862, "comment_id": 64576050, "body": "If you&#39;re reading a line at a time you don&#39;t need the global modifier, try to take it out."}, {"owner": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "edited": false, "score": 0, "creation_date": 1469546782, "post_id": 38593862, "comment_id": 64576156, "body": "I removed the &quot;g&quot;.  Although I dont&#39; get one giant file anymore, I still don&#39;t get the tokens substituted in the right place, getting instead, &quot;update my_sql_table set my_user_id = &#39;&#39; where my_user_id = &#39;&#39;;&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1469547098, "post_id": 38593862, "comment_id": 64576362, "body": "Probably a bunch of extra spaces in there. Use <code>\\S</code> in place of dot <code>.</code> Like <code>(\\S+?)\\s(\\S+)</code> where the quantifier is now <code>+</code>"}], "answers": [{"comments": [{"owner": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "edited": false, "score": 0, "creation_date": 1469547297, "post_id": 38594131, "comment_id": 64576476, "body": "Is this a Perl script?  Do I replace &quot;&lt;DATA&gt;&quot; with the name of my file?"}, {"owner": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "edited": false, "score": 0, "creation_date": 1469560639, "post_id": 38594131, "comment_id": 64584209, "body": "Like the ideas of the one-liners but the first one doesn&#39;t work and the second one doens&#39;t include single quotes around the two arguments to the SQL statements."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "edited": false, "score": 0, "creation_date": 1469566785, "post_id": 38594131, "comment_id": 64587483, "body": "@Dave - Great - feel free to add them yourself then"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1469548481, "last_edit_date": 1469548481, "creation_date": 1469547103, "answer_id": 38594131, "question_id": 38593862, "link": "https://stackoverflow.com/questions/38593862/having-trouble-using-perl-command-line-to-do-a-search-and-replace/38594131#38594131", "title": "Having trouble using perl command line to do a search and replace", "body": "<p>I'd use split instead of a regex in a perl loop:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $input_file, '&lt;', 'input.txt' or die $!;\n\nwhile(&lt;$input_file&gt;){   \n        chomp;\n        my @fields = split;\n        print \"update my_sql_table set my_user_id = $fields[1] where my_user_id = $fields[0]\\n\";\n    }\n</code></pre>\n\n<p>Or as a one-liner:</p>\n\n<pre><code>perl -F: -lane 'print \"update my_sql_table set my_user_id = $F[1] where my_user_id = $F[0]\";' in.txt\n</code></pre>\n\n<p>Or using awk:</p>\n\n<pre><code>awk '{ print \"update my_sql_table set my_user_id = \" $2 \"where my_user_id = \" $1 }' &lt; in.txt \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12533, "user_id": 931027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWhaB.jpg?s=128&g=1", "display_name": "Kusalananda", "link": "https://stackoverflow.com/users/931027/kusalananda"}, "is_accepted": false, "score": 0, "last_activity_date": 1469550173, "creation_date": 1469550173, "answer_id": 38595168, "question_id": 38593862, "link": "https://stackoverflow.com/questions/38593862/having-trouble-using-perl-command-line-to-do-a-search-and-replace/38595168#38595168", "title": "Having trouble using perl command line to do a search and replace", "body": "<p>A short shell loop (it seems a bit too much to pull in Perl to do this):</p>\n\n<pre><code>while read -r old new; do\n    cat &lt;&lt;SQL_END\nUPDATE my_sql_table\n    SET my_user_id   = '$new'\n    WHERE my_user_id = '$old';\nSQL_END\ndone\n</code></pre>\n\n<p>Running it with the provided data in <code>data.in</code>:</p>\n\n<pre><code>$ sh scripts.sh &lt;data.in\nUPDATE my_sql_table\n    SET my_user_id   = '5237d5eee1399d2f11005571'\n    WHERE my_user_id = '560c4f458b97330d00b0832d';\nUPDATE my_sql_table\n    SET my_user_id   = '55c4a0001b9e2d0e00032d6f'\n    WHERE my_user_id = '560c4f458b97330d00b0832e';\nUPDATE my_sql_table\n    SET my_user_id   = '55ce2e78e1055a0d008cad3c'\n    WHERE my_user_id = '560c4f458b97330d00b0832f';\nUPDATE my_sql_table\n    SET my_user_id   = '55ce2e78e1055a0d008cad44'\n    WHERE my_user_id = '560c4f458b97330d00b08330';\nUPDATE my_sql_table\n    SET my_user_id   = '55ce2e78e1055a0d008cad4a'\n    WHERE my_user_id = '560c4f458b97330d00b08331';\nUPDATE my_sql_table\n    SET my_user_id   = '55c4a0001b9e2d0e00032d78'\n    WHERE my_user_id = '560c4f458b97330d00b08332';\nUPDATE my_sql_table\n    SET my_user_id   = '55c4a0001b9e2d0e00032d7b'\n    WHERE my_user_id = '560c4f458b97330d00b08333';\nUPDATE my_sql_table\n    SET my_user_id   = '55ce2e78e1055a0d008cad51'\n    WHERE my_user_id = '560c4f458b97330d00b08334';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1469559306, "creation_date": 1469559306, "answer_id": 38597807, "question_id": 38593862, "link": "https://stackoverflow.com/questions/38593862/having-trouble-using-perl-command-line-to-do-a-search-and-replace/38597807#38597807", "title": "Having trouble using perl command line to do a search and replace", "body": "<p></p>\n\n<p>This is simple using Perl's command-line autosplit option</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -anE'print qq{update my_sql_table set my_user_id = \\'$F[1]\\' where my_user_id = \\'$F[0]\\';\\n}' ids.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-sql prettyprint-override\"><code>update my_sql_table set my_user_id = '5237d5eee1399d2f11005571' where my_user_id = '560c4f458b97330d00b0832d';\nupdate my_sql_table set my_user_id = '55c4a0001b9e2d0e00032d6f' where my_user_id = '560c4f458b97330d00b0832e';\nupdate my_sql_table set my_user_id = '55ce2e78e1055a0d008cad3c' where my_user_id = '560c4f458b97330d00b0832f';\nupdate my_sql_table set my_user_id = '55ce2e78e1055a0d008cad44' where my_user_id = '560c4f458b97330d00b08330';\nupdate my_sql_table set my_user_id = '55ce2e78e1055a0d008cad4a' where my_user_id = '560c4f458b97330d00b08331';\nupdate my_sql_table set my_user_id = '55c4a0001b9e2d0e00032d78' where my_user_id = '560c4f458b97330d00b08332';\nupdate my_sql_table set my_user_id = '55c4a0001b9e2d0e00032d7b' where my_user_id = '560c4f458b97330d00b08333';\nupdate my_sql_table set my_user_id = '55ce2e78e1055a0d008cad51' where my_user_id = '560c4f458b97330d00b08334';\n</code></pre>\n"}], "owner": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 38597807, "answer_count": 3, "score": 0, "last_activity_date": 1469559306, "creation_date": 1469546380, "question_id": 38593862, "link": "https://stackoverflow.com/questions/38593862/having-trouble-using-perl-command-line-to-do-a-search-and-replace", "title": "Having trouble using perl command line to do a search and replace", "body": "<p>I'm using bash shell on Mac YOsemite.  I have a file that contains lines like</p>\n\n<pre><code>560c4f458b97330d00b0832d 5237d5eee1399d2f11005571\n560c4f458b97330d00b0832e 55c4a0001b9e2d0e00032d6f\n560c4f458b97330d00b0832f 55ce2e78e1055a0d008cad3c\n560c4f458b97330d00b08330 55ce2e78e1055a0d008cad44\n560c4f458b97330d00b08331 55ce2e78e1055a0d008cad4a\n560c4f458b97330d00b08332 55c4a0001b9e2d0e00032d78\n560c4f458b97330d00b08333 55c4a0001b9e2d0e00032d7b\n560c4f458b97330d00b08334 55ce2e78e1055a0d008cad51\n</code></pre>\n\n<p>I\u2019m trying to write an expression that will turn the file into a series of SQL statements.  So I tried</p>\n\n<pre><code>perl -pi -e \u201cs/(.*?)\\s(.*)/update my_sql_table set my_user_id = '$2' where my_user_id = '$1';/g\" /tmp/myfile.csv\n</code></pre>\n\n<p>Hoping to get a file of lines line</p>\n\n<pre><code>update my_sql_table set my_user_id = '5237d5eee1399d2f11005571' where my_user_id = '560c4f458b97330d00b0832d';\nupdate my_sql_table set my_user_id = '55c4a0001b9e2d0e00032d6f' where my_user_id = '560c4f458b97330d00b0832e';\n</code></pre>\n\n<p>But instead the output is one massive line of statements that look like</p>\n\n<pre><code>update my_sql_table set my_user_id = '' where my_user_id = '';update my_sql_table set my_user_id = '' where my_user_id = '';update my_sql_table set my_user_id = '' where my_user_id = '';update my_sql_table set my_user_id = ''\n</code></pre>\n\n<p>How can I correct my above statement to put the tokens in the right place?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1469544386, "post_id": 38592624, "comment_id": 64574293, "body": "what is the project?"}, {"owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1469544757, "post_id": 38592624, "comment_id": 64574571, "body": "the project&#39;s link is here(<a href=\"http://llama.mshri.on.ca/cgi/download/download.pl?software=ClusterJudge\" rel=\"nofollow noreferrer\">llama.mshri.on.ca/cgi/download/&hellip;</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1469545817, "creation_date": 1469545817, "answer_id": 38593651, "question_id": 38592624, "link": "https://stackoverflow.com/questions/38592624/dont-find-expressiontable-attributetable-module-in-perl/38593651#38593651", "title": "Don&#39;t find ExpressionTable, AttributeTable module in perl", "body": "<p>The modules aren't from CPAN. I expect they are supposed to be included in the downloadable tarball for the project, but that doesn't seem to be the case - the directory labelled \"lib\" only seems to contain .pl files, no .pm files.</p>\n\n<p>To be honest, I'd be really wary of using that code. It seems to have been written by someone with very little idea of how to write sharable and maintainable Perl code. For example, it contains <code>use lib</code> lines that point to Windows directories belonging to a specific user (which, obviously, won't exist on anyone else's systems).</p>\n\n<p>There's a support email address on the download page for the project. They will be far more likely than we are to be able to help you with this.</p>\n"}], "owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469545817, "creation_date": 1469543264, "last_edit_date": 1469544794, "question_id": 38592624, "link": "https://stackoverflow.com/questions/38592624/dont-find-expressiontable-attributetable-module-in-perl", "title": "Don&#39;t find ExpressionTable, AttributeTable module in perl", "body": "<p>I found a <a href=\"http://llama.mshri.on.ca/cgi/download/download.pl?software=ClusterJudge\" rel=\"nofollow\">perl project</a>. I want to run that project. But it needs some modules like:</p>\n\n<ol>\n<li>ExpressionTable</li>\n<li>AttributeTable </li>\n</ol>\n\n<p>I used cpan for install modules but it does not find it and also I don't find it in search.cpan.org.</p>\n\n<p>Can anyone tell me what is the reason for it?</p>\n"}, {"tags": ["perl", "deobfuscation"], "answers": [{"comments": [{"owner": {"reputation": 12943, "user_id": 4094231, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/da5d12e4b0c319022432a23fc5344831?s=128&d=identicon&r=PG&f=1", "display_name": "Umair Ayub", "link": "https://stackoverflow.com/users/4094231/umair-ayub"}, "edited": false, "score": 0, "creation_date": 1469557862, "post_id": 38592262, "comment_id": 64582621, "body": "I still didnt get how it works :( it would be nice if you add detailed explanation for <code>&#39;]])@+}&#39; ^ &#39;-&#47;@._]&#39;</code>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 12943, "user_id": 4094231, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/da5d12e4b0c319022432a23fc5344831?s=128&d=identicon&r=PG&f=1", "display_name": "Umair Ayub", "link": "https://stackoverflow.com/users/4094231/umair-ayub"}, "edited": false, "score": 0, "creation_date": 1469558098, "post_id": 38592262, "comment_id": 64582770, "body": "Follow the link. The ordinal value of each character in the first string is XOR&#39;d with the ordinal value of the corresponding character in the second string and converted back to a character. <code>ord(&quot;]&quot;)</code> is 93, <code>ord(&quot;-&quot;)</code> is 45, 93 xor 45 is 112. <code>chr(112)</code> is <code>p</code>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469564004, "post_id": 38592262, "comment_id": 64586104, "body": "Note that you need <code>use re &#39;eval&#39;;</code> with 5.24 and later."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 10, "last_activity_date": 1469633330, "last_edit_date": 1469633330, "creation_date": 1469542335, "answer_id": 38592262, "question_id": 38591911, "link": "https://stackoverflow.com/questions/38591911/how-does-this-perl-code-work/38592262#38592262", "title": "How does this Perl code work?", "body": "<p>It is making good use of the <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlop.pod#Bitwise-String-Operators\" rel=\"nofollow\">bitwise string XOR operator</a> <code>^</code>.</p>\n\n<pre><code>']])@+}' ^ '-/@._]'\n</code></pre>\n\n<p>evaluates to <code>print</code>,</p>\n\n<pre><code>'/&lt;[*-_&lt;+&gt;?}{&gt;]@}+@}]])@+}@&lt;[*-_&lt;+&gt;?}{&gt;]@^' \n    ^ '`^=_^&lt;]_[[]+[/,]_/]-/@._]/^=_^&lt;]_[[]+[/,|'\n</code></pre>\n\n<p>evaluates to <code>Obfuscated Perl to print obfuscated Perl\"</code> and the whole program reduces to</p>\n\n<pre><code>$ perl -MO=Deparse ...\n'' =~ m[(?{print \"Obfuscated Perl to print obfuscated Perl\",$/})];\n... syntax OK\n</code></pre>\n\n<p>Related: <a href=\"https://metacpan.org/pod/Acme::EyeDrops\" rel=\"nofollow\"><code>Acme::EyeDrops</code></a></p>\n"}], "owner": {"reputation": 12943, "user_id": 4094231, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/da5d12e4b0c319022432a23fc5344831?s=128&d=identicon&r=PG&f=1", "display_name": "Umair Ayub", "link": "https://stackoverflow.com/users/4094231/umair-ayub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 38592262, "answer_count": 1, "score": 9, "last_activity_date": 1469633330, "creation_date": 1469541429, "last_edit_date": 1469570303, "question_id": 38591911, "link": "https://stackoverflow.com/questions/38591911/how-does-this-perl-code-work", "title": "How does this Perl code work?", "body": "<p>I found this Perl program:</p>\n\n<pre><code>''=~('(?{'.(']])@+}'^'-/@._]').'\"'.('/&lt;[*-_&lt;+&gt;?}{&gt;]@}+@}]])@+}@&lt;[*-_&lt;+&gt;?}{&gt;]@^'^'`^=_^&lt;]_[[]+[/,]_/]-/@._]/^=_^&lt;]_[[]+[/,|').',$/})')\n</code></pre>\n\n<p>It prints <code>\"Obfuscated Perl to print obfuscated Perl\"</code></p>\n\n<p>I want to know how it actually prints this.</p>\n"}, {"tags": ["perl", "shell", "cron", "centos", "crontab"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 3, "creation_date": 1469541207, "post_id": 38591762, "comment_id": 64571885, "body": "Try adding the full path to <code>useradd</code>. Crontab does not get a copy of the environment."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1469541217, "post_id": 38591762, "comment_id": 64571893, "body": "What error did <code>system</code> return? What output did <code>useradd</code> send to STDERR?"}, {"owner": {"reputation": 3704, "user_id": 6518219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2810c9f3275b98c4c2f9928c730bfb9?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa DOGRU", "link": "https://stackoverflow.com/users/6518219/mustafa-dogru"}, "edited": false, "score": 0, "creation_date": 1469541739, "post_id": 38591762, "comment_id": 64572279, "body": "add first line #!/usr/bin/perl; change in the cron as  * * * * * /usr/bin/perl /var/perl/myperl.pl"}, {"owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1469541774, "post_id": 38591762, "comment_id": 64572302, "body": "@stevieb It worked thanks. You might want to write is as a proper answer."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1469541882, "post_id": 38591762, "comment_id": 64572363, "body": "I&#39;ve made it an answer."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 4, "last_activity_date": 1469541870, "creation_date": 1469541870, "answer_id": 38592087, "question_id": 38591762, "link": "https://stackoverflow.com/questions/38591762/cron-not-executing-my-system-statement-in-perl/38592087#38592087", "title": "Cron not executing my system() statement in PERL", "body": "<p>Include the full path to <code>useradd</code> in the <code>system()</code> call.</p>\n\n<p>Crontab does not get a copy of the environment, therefore the <code>PATH</code> environment variable isn't set.</p>\n"}], "owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 38592087, "answer_count": 1, "score": 0, "last_activity_date": 1469541870, "creation_date": 1469541042, "question_id": 38591762, "link": "https://stackoverflow.com/questions/38591762/cron-not-executing-my-system-statement-in-perl", "title": "Cron not executing my system() statement in PERL", "body": "<p>I am working on a PERL script that adds users from a database and then deletes the database. The code works fine when I execute it.</p>\n\n<pre><code>use DBI;\nuse strict;\nmy $database = \"database\";\nmy $hostname = \"123.4.56.78\";\nmy $port = \"3306\";\nmy $user = \"user\";\nmy $password = \"password\";\nmy $dsn = \"DBI:mysql:database=$database;host=$hostname;port=$port\";\nmy $dbh = DBI-&gt;connect($dsn,$user,$password) or die \"Can't connect to database: \", $DBI::errstr, \"\\n\";\n\n\nmy $sql = 'SELECT * FROM somewhere';\nmy $sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute();\nwhile (my @row = $sth-&gt;fetchrow_array) {\nsystem(\"useradd -g mygroup -d /home/somewhere/$row[0] -s /sbin/nologin $row[0]\");\nsystem(\"echo $row[0]:$row[1] | chpasswd\");\n}\nmy $sql_delete = 'TRUNCATE somewhere';\nmy $delete = $dbh-&gt;prepare($sql_delete);\n$delete-&gt;execute();\n</code></pre>\n\n<p>However when I execute it through the Crontab, the system() statements are never executed, and the user are not added. They are deleted from the databse itself though.</p>\n\n<pre><code>* * * * * perl /var/perl/myperl.pl\n</code></pre>\n\n<p>The log says every minute:</p>\n\n<pre><code>Jul 26 15:42:01 ex40 CROND[7028]: (root) CMD (perl /var/perl/myperl.pl)\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469538458, "post_id": 38590498, "comment_id": 64569750, "body": "The file does not have a BOM. As it contains confidential data, I cannot unfortunately just copy and paste the first few lines."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469538676, "post_id": 38590498, "comment_id": 64569907, "body": "Add <code>use Devel::Peek;</code> and replace <code>die ...</code> with <code>Dump($s), die ...</code>. Please provide the output."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469538990, "post_id": 38590498, "comment_id": 64570147, "body": "Alternatively, replace <code>die ...&quot;</code> with <code>do { use Data::Dumper; local $Data::Dumper::Useqq = 1; die Dumper($s).&quot; &quot;.( utf8::is_utf8($s)?1:0 ).&quot; at line $. didn&#39;t match&quot; };</code>"}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469539142, "post_id": 38590498, "comment_id": 64570254, "body": "@Sinan&#220;n&#252;r your suggestion actually <i>did</i> fix the problem... Please turn it into an answer so I can accept it, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1469540212, "creation_date": 1469540212, "answer_id": 38591438, "question_id": 38590498, "link": "https://stackoverflow.com/questions/38590498/are-there-any-gotchas-with-openmy-f-encodingutf-8-n/38591438#38591438", "title": "Are there any gotchas with open(my $f, &#39;&lt;:encoding(UTF-8)&#39;, $n)", "body": "<p>I do not have a full and correct explanation of why this is necessary, but you can try opening the file with</p>\n\n<pre><code>'&lt;:unix:encoding(UTF-8)'\n</code></pre>\n\n<p>This may be related to my question \"<a href=\"https://www.nu42.com/2014/05/utf-8-output-from-perl-in-cmdexe-layers.html\" rel=\"nofollow\">Why is CRLF set for the unix layer on Windows?</a>\" which I noticed when I was trying to figure out stuff which I ended up never figuring out.</p>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 38591438, "answer_count": 1, "score": 1, "last_activity_date": 1469540212, "creation_date": 1469537714, "question_id": 38590498, "link": "https://stackoverflow.com/questions/38590498/are-there-any-gotchas-with-openmy-f-encodingutf-8-n", "title": "Are there any gotchas with open(my $f, &#39;&lt;:encoding(UTF-8)&#39;, $n)", "body": "<p>I am having a problem that I am unable to reproduce in a manner suitable for Stackoverflow although it's reproducable in my production environment.</p>\n\n<p>The problem occors in a Perl script that, among others, iterates over a file that looks like so:</p>\n\n<pre><code>abc-4-9|free text, possibly containing non-ascii characters|\ncde-3-8|h\u00e4llo w\u00f6rld|\n# comment\n\nxyz-9-1|and so on|\nqrs-2-8|and so forth|\n</code></pre>\n\n<p>I can verify the correctness of the file with this Perl script:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen (my $f, '&lt;:encoding(UTF-8)', 'c:\\path\\to\\file') or die \"$!\";\n\nwhile (my $s = &lt;$f&gt;) {\n  chomp($s);\n  next unless $s;\n  next if $s =~ m/^#/;\n  $s =~ m!(\\w+)-(\\d+)-(\\d+)\\|([^|]*)\\|! or die \"\\n&gt;$s&lt;\\n didn't match on line $.\";\n}\n\nprint \"Ok\\n\";\nclose $f;\n</code></pre>\n\n<p>When I run this script, it won't die on line 10 and consequently print <code>Ok</code>.</p>\n\n<p>Now, I use essentially the same construct in a huge Perl script (hence irreproducable for Stackoverflow) and it will die on line 2199 of the input file.</p>\n\n<p>If I change the first line (which is completely unrelated to line 2199) from something like</p>\n\n<pre><code> www-1-1|A line with some words|\n</code></pre>\n\n<p>to</p>\n\n<pre><code> www-1-1|x|\n</code></pre>\n\n<p>the script will process line 2199 (but fail later).</p>\n\n<p>Interestingly, this behaviour was introduced when I changed </p>\n\n<pre><code>open (my $f, '&lt;', 'c:\\path\\to\\file') or die \"$!\";\n</code></pre>\n\n<p>to</p>\n\n<pre><code>open (my $f, '&lt;:encoding(UTF-8)', 'c:\\path\\to\\file') or die \"$!\";\n</code></pre>\n\n<p>Without the <code>:encoding(UTF-8)</code> directive, the script does not fail. Of course, I need the encoding directive since the file contains non-ascii characters.</p>\n\n<p>BTW, the same script runs without problems on Linux.</p>\n\n<p>On Windows, where it fails, I use Strawberry Perl 5.24</p>\n"}, {"tags": ["linux", "string", "perl", "variables"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1469531284, "post_id": 38587705, "comment_id": 64564463, "body": "Okay, so if you achieve this, how will you know what variable names to use in the rest of your Perl code?"}, {"owner": {"reputation": 67, "user_id": 2430630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac5c9d08b2f40ec2b6068f77c384b59b?s=128&d=identicon&r=PG", "display_name": "Digimon Digitizer 2", "link": "https://stackoverflow.com/users/2430630/digimon-digitizer-2"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469531819, "post_id": 38587705, "comment_id": 64564833, "body": "@Borodin , I am building a universal/standard module at the company where I am working (called using require). Since this will be a module, there will expectations like what are the available variable. And for me not to worry, I will follow the SOLID principle, I can only add but not modify the expected available variables. Thanks for asking. Let me know if I can answer any other questions..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1469532240, "post_id": 38587705, "comment_id": 64565101, "body": "It&#39;s still a terrible idea to crap all over your namespace like this. What if someone creates a column called <code>&#47;</code>? Or <code>0</code>? Or <code>^I</code>? You&#39;ll create some HORRIFIC bugs that will be an absolute horror to trace."}, {"owner": {"reputation": 67, "user_id": 2430630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac5c9d08b2f40ec2b6068f77c384b59b?s=128&d=identicon&r=PG", "display_name": "Digimon Digitizer 2", "link": "https://stackoverflow.com/users/2430630/digimon-digitizer-2"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1469532367, "post_id": 38587705, "comment_id": 64565172, "body": "@Sobrique don&#39;t worry, &quot;IT WON&#39;T HAPPEN&quot;. Because the column names I am planning to create are based from a ora sql table, which is a production table."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 2430630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac5c9d08b2f40ec2b6068f77c384b59b?s=128&d=identicon&r=PG", "display_name": "Digimon Digitizer 2", "link": "https://stackoverflow.com/users/2430630/digimon-digitizer-2"}, "edited": false, "score": 0, "creation_date": 1469534483, "post_id": 38588119, "comment_id": 64566670, "body": "Thank you very very very very MUCH! You made my day! It worked like charm! :D I am so glad someone like you answered my question! Thank you so much once again. I have achieved what I need! :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 9, "last_activity_date": 1469531883, "last_edit_date": 1469531883, "creation_date": 1469530999, "answer_id": 38588119, "question_id": 38587705, "link": "https://stackoverflow.com/questions/38587705/how-to-convert-raw-string-to-variable-variable-variable/38588119#38588119", "title": "How to convert raw string to variable (variable --&gt; $variable)?", "body": "<p>What you're asking for, is not what you want. This is a bad idea for many many reasons, but they're outlined here: <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow\">http://perl.plover.com/varvarname.html</a></p>\n\n<p>What you need for this is a hash, and specifically a <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\">slice</a>.</p>\n\n<p>It works a bit like this:</p>\n\n<pre><code>my @header = qw ( A B C );\nmy @values = qw ( X Y Z );\nmy %combined;\n@combined{@header} = @values; \nprint Dumper \\%combined; \n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>$VAR1 = {\n          'C' =&gt; 'Z',\n          'A' =&gt; 'X',\n          'B' =&gt; 'Y'\n        };\n</code></pre>\n\n<p>(NB: Hashes are explicitly UNORDERED, so you get a random sequence each time you print. That's by design, because they're supposed to be accessed via keys anyway) </p>\n\n<p>So with your data:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings 'all'; \n\nopen ( my $cols, '&lt;', 'cols_file.txt') or die $!;\nchomp ( my @cols = split /,/, &lt;$cols&gt; ); #just reads first line. \nclose ( $cols );\nopen ( my $rows, '&lt;', 'rows_file.txt' ) or die $!; \nwhile ( &lt;$rows&gt; ) {\n    chomp;\n    my %this_row;\n    @this_row{@cols} = split /,/;\n    push ( @all_rows, \\%this_row );\n}\nclose ( $rows );\n\nprint Dumper \\@all_rows; \n</code></pre>\n\n<p>You can then access individual elements from rows e.g.:</p>\n\n<pre><code>foreach my $row ( @all_rows ) {\n    print $row -&gt; {name},\"\\n\";\n }\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 2430630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac5c9d08b2f40ec2b6068f77c384b59b?s=128&d=identicon&r=PG", "display_name": "Digimon Digitizer 2", "link": "https://stackoverflow.com/users/2430630/digimon-digitizer-2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1469568800, "creation_date": 1469529819, "last_edit_date": 1469531186, "question_id": 38587705, "link": "https://stackoverflow.com/questions/38587705/how-to-convert-raw-string-to-variable-variable-variable", "title": "How to convert raw string to variable (variable --&gt; $variable)?", "body": "<p>How to convert string to variable (string variable --> $variable)?</p>\n\n<p>Or a list of variables delimited by commas then convert to actual variables.</p>\n\n<p>I have 2 files:</p>\n\n<ul>\n<li>column names file</li>\n<li>rows file</li>\n</ul>\n\n<p>I need to match a whole row from the rows file based on a string, and name each row based from the column names file.</p>\n\n<p>Example:</p>\n\n<h3>COLUMN NAMES FILE content</h3>\n\n<pre><code>name,age,gender\n</code></pre>\n\n<h3>ROWS FILE content</h3>\n\n<pre><code>mar,44,m\nrich,49,m\nglenn,22,m\n</code></pre>\n\n<p>Now I have a variable string <code>$who = 'glenn'</code></p>\n\n<p>I will first match it on the <em>ROWS FILE</em>.</p>\n\n<p>Then I need to name its matched contents with an actual variable with its name based on the <em>COLUMN NAMES FILE</em>.</p>\n\n<p>Output: </p>\n\n<pre><code>$name = 'glenn';\n$age = 22;\n$gender = 'm';\n</code></pre>\n\n<p>I need something that dynamically changes, creating the needed variables and contents automatically by only updating the content files.</p>\n"}, {"tags": ["perl", "latex", "entity"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469532654, "post_id": 38587627, "comment_id": 64565365, "body": "Your terms are very vague. UTF-8 is non-ASCII, and Unicode isn&#39;t an encoding at all."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "edited": false, "score": 0, "creation_date": 1469539592, "post_id": 38588610, "comment_id": 64570610, "body": "Another diamond on your crown... Great...!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "edited": false, "score": 0, "creation_date": 1469539649, "post_id": 38588610, "comment_id": 64570660, "body": "{\\&#39;o}  {\\&#39;o}  Malformed UTF-8 character (unexpected end of string) in substitution (s///) at C:/Perl/site/lib/LaTeX/Encode.pm line 1  <b>Third one print this</b> -- &gt;01.  Malformed UTF-8 character (fatal) at C:/Perl/site/lib/LaTeX/Encode.pm line 101."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469540036, "post_id": 38588610, "comment_id": 64570972, "body": "@Mahe_sundar: It sounds like you haven&#39;t read and decoded your input string properly. You need to ask a new question and show your code and data."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "edited": false, "score": 0, "creation_date": 1469540226, "post_id": 38588610, "comment_id": 64571120, "body": "Just I copied the above code and tried it in my windows machine. Hence I got this warn msg enough."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469540363, "post_id": 38588610, "comment_id": 64571236, "body": "@Mahe_sundar: Do you have <code>use utf8</code> in place at the top?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "edited": false, "score": 0, "creation_date": 1469540470, "post_id": 38588610, "comment_id": 64571330, "body": "Yes... full code copied from the above. My perl version <code>This is perl 5, version 18, subversion 4 (v5.18.4) built for MSWin32-x86-multi-thread-64int (with 1 registered patch, see perl -V for more detail)</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469540604, "post_id": 38588610, "comment_id": 64571422, "body": "@Mahe_sundar: Ill see if I can reproduce the problem when I get back to a PC. Can you check the versions of perl and of the modules, please?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "edited": false, "score": 0, "creation_date": 1469540786, "post_id": 38588610, "comment_id": 64571585, "body": "Sure. I can check and let you know. Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469556702, "post_id": 38588610, "comment_id": 64581986, "body": "@Mahe_sundar: Okay my guess is that, while your code contains <code>use utf8</code> to say that the source file UTF-8-encoded, it&#39;s actually in ISO-8859-1 or Windows-1252 or similar. You can either change your editor to use UTF-8, or you can use the <code>Encode</code> module to decode the non-ASCII strings in your program. On the other hand, if all your data is coming from an external source, then it will be sufficient just to decode that appropriately and everything should work."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1469532342, "creation_date": 1469532342, "answer_id": 38588610, "question_id": 38587627, "link": "https://stackoverflow.com/questions/38587627/convert-non-ascii-utf-8-characters-into-latex-codes/38588610#38588610", "title": "Convert non-ASCII/UTF-8 characters into LaTeX codes", "body": "<p>This is very straightforward using the <a href=\"https://metacpan.org/pod/XML::Entities\" rel=\"nofollow\"><code>XML::Entities</code></a> module to decode the entities, and the <a href=\"https://metacpan.org/pod/LaTeX::Encode\" rel=\"nofollow\"><code>LaTeX::Encode</code></a> module to re-encode them as LaTeX</p>\n\n<p>Note that I've explicitly created an alias <code>xml_decode</code> for the decoding function, as the exported name is just <code>decode</code>, which is far too imprecise</p>\n\n<pre><code>use utf8;\nuse strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse XML::Entities ();\nuse LaTeX::Encode 'latex_encode';\n*xml_decode = \\&amp;XML::Entities::decode;\n\nfor my $s ( '&amp;oacute;', '&amp;#x000F3;', '\u00f3' ) {\n    my $reencoded = latex_encode(xml_decode('all', $s));\n    say $reencoded;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\\'o}\n{\\'o}\n{\\'o}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12669336, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/0bdf9f7f267d620c3f2cc1b87487772f?s=128&d=identicon&r=PG", "display_name": "Thomas Lorentz", "link": "https://stackoverflow.com/users/12669336/thomas-lorentz"}, "is_accepted": false, "score": -1, "last_activity_date": 1578413458, "creation_date": 1578413458, "answer_id": 59632070, "question_id": 38587627, "link": "https://stackoverflow.com/questions/38587627/convert-non-ascii-utf-8-characters-into-latex-codes/59632070#59632070", "title": "Convert non-ASCII/UTF-8 characters into LaTeX codes", "body": "<p>I needed about 2 hours to find my mistake. Perl did not detect my input string being coded in UTF-8.  </p>\n\n<p>You can help perl to treat the input string as utf-8\nwith:\nuse open ( \":encoding(UTF-8)\", \":std\" );</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 1, "accepted_answer_id": 38588610, "answer_count": 2, "score": 2, "last_activity_date": 1578413458, "creation_date": 1469529600, "last_edit_date": 1469532567, "question_id": 38587627, "link": "https://stackoverflow.com/questions/38587627/convert-non-ascii-utf-8-characters-into-latex-codes", "title": "Convert non-ASCII/UTF-8 characters into LaTeX codes", "body": "<p>We have to convert non-ASCII, UTF-8, or named entity characters into LaTeX codes. Now we are using non-ASCII to Unicode, then Unicode to LaTeX/entity using a Perl script. </p>\n\n<p>For example:</p>\n\n<pre><code> &amp;oacute; --&gt; \\'{o}\n &amp;#x000F3; --&gt; \\'{o}\n \u00f3 --&gt; \\'{o}\n</code></pre>\n\n<p>Is there any direct conversion from non-ASCII, or UTF-8 to LaTeX codes in Perl program/script?</p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1469529500, "post_id": 38587428, "comment_id": 64563291, "body": "What&#39;s the problem you&#39;re having?"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1469531691, "post_id": 38587966, "comment_id": 64564755, "body": "I very thank full for your answer but I wanted logic in perl format manner just like I did, getting element values and put into the format. Please can you convert your logic into that..."}, {"owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1469532099, "post_id": 38587966, "comment_id": 64565016, "body": "That headers are just information purpose I don&#39;t need that my concern in values only."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1469530547, "creation_date": 1469530547, "answer_id": 38587966, "question_id": 38587428, "link": "https://stackoverflow.com/questions/38587428/building-report-from-xml-using-perl/38587966#38587966", "title": "Building report from xml using perl", "body": "<p>To get your output, I'd probably tackle it like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings 'all';\n\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; new -&gt; parsefile('sample.xml'); \n\nmy @headers = qw ( CurrentRead PreviousRead ActualConsumption );\nmy @categories = ( 'MA - WATER', 'MA - SEWER' ); \n\nopen ( my $output, '&gt;', \"output.txt\" ) or die $!; \nforeach my $bill ( $twig -&gt; get_xpath('//BILL') ) { \n    print {$output} \"Bill ID: \", $bill -&gt; att('id'),\"\\n\\n\"; \n    print {$output} join \"\\t\", \"Service\\t\", @headers, \"\\n\"; \n    foreach my $category ( @categories ) { \n        my $charge = $bill -&gt; get_xpath(\".//CHARGES[\\@ChargeCategoryDescription=\\\"$category\\\"]\", 0); \n        next unless $charge;\n        print {$output} join \"\\t\", $category, (map { $charge -&gt; get_xpath('.//LIDetailConsumption',0) -&gt; att($_) } @headers), \"\\n\";\n    }\n    print {$output} \"\\n\";\n\n}\n</code></pre>\n\n<p>Note - using tab stops to delinate formatting, rather than a format. That's not quite what you asked for, I know, but IMO it's more useful. </p>\n"}], "owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 38587966, "answer_count": 1, "score": -1, "last_activity_date": 1469530547, "creation_date": 1469529115, "question_id": 38587428, "link": "https://stackoverflow.com/questions/38587428/building-report-from-xml-using-perl", "title": "Building report from xml using perl", "body": "<p>I'm newbie in XML parsing, I made a code to build reports from XML file using Perl But I'm facing problem that not get exact output. Following is my file.</p>\n\n<pre><code>&lt;ROOT&gt;\n&lt;BILL id = '1'&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MAYESEVILLE CHARGES\" Amount=\"70.09\" Parent=\"1\"/&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - WATER\" Amount=\"43.04\" Parent=\"0\"&gt;\n        &lt;LineItemDetail UtilityTransDetailID=\"6605683\" ComponentType=\"Flat Rate\" ComponentDescription=\"WATER MIN\"&gt;\n             &lt;LIDetailConsumption PreviousRead=\"914.0000000\" CurrentRead=\"915.0000000\" ActualConsumption=\"1.0000000\"/&gt;\n        &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - SEWER\" Amount=\"27.05\" Parent=\"0\"&gt;\n        &lt;LineItemDetail UtilityTransDetailID=\"6605685\" ComponentType=\"Flat Rate\" ComponentDescription=\"SEWER MINIMUM\"&gt;\n            &lt;LIDetailConsumption PreviousRead=\"91.0000000\" CurrentRead=\"95.0000000\" ActualConsumption=\"4.0000000\"/&gt;\n        &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;      \n&lt;/BILL&gt;\n&lt;BILL id = '2'&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MAYESEVILLE CHARGES\" Amount=\"21.52\" Parent=\"1\"/&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - WATER\" Amount=\"21.52\" Parent=\"0\"&gt;\n        &lt;LineItemDetail UtilityTransDetailID=\"6605690\" ComponentType=\"Flat Rate\" ComponentDescription=\"WATER MIN\"&gt;\n             &lt;LIDetailConsumption PreviousRead=\"790.0000000\" CurrentRead=\"791.0000000\" ActualConsumption=\"1.0000000\"/&gt;\n        &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;      \n&lt;/BILL&gt;\n&lt;BILL id = '3'&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MAYESEVILLE CHARGES\" Amount=\"60.7\" Parent=\"1\"/&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - WATER\" Amount=\"38\" Parent=\"0\"&gt;\n        &lt;LineItemDetail UtilityTransDetailID=\"6605673\" ComponentType=\"Flat Rate\" ComponentDescription=\"WATER MIN\"&gt;\n             &lt;LIDetailConsumption PreviousRead=\"5.0000000\" CurrentRead=\"5.0000000\" ActualConsumption=\".0000000\"/&gt;\n        &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - SEWER\" Amount=\"22.7\" Parent=\"0\"&gt;\n        &lt;LineItemDetail UtilityTransDetailID=\"6605675\" ComponentType=\"Flat Rate\" ComponentDescription=\"SEWER MINIMUM\"&gt;\n            &lt;LIDetailConsumption PreviousRead=\"5.0000000\" CurrentRead=\"5.0000000\" ActualConsumption=\".0000000\"/&gt;\n        &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;      \n&lt;/BILL&gt;\n</code></pre>\n\n<p></p>\n\n<p>Follows is my code</p>\n\n<pre><code>use XML::Twig;\n\nmy $filename = \"sample.xml\";\n\nmy $twig = XML::Twig-&gt;new();\n$twig-&gt;parsefile($filename);\nmy $root = $twig-&gt;root;\n\nopen(OUT, \"&gt;output.txt\") or die \"$!\";\n\nforeach my $bill($root-&gt;children('BILL'))\n{\n    $Field[0] = $bill-&gt;att('id');\n    foreach my $service($bill-&gt;children('CHARGES'))\n    {       \n        $Field[1] = $service-&gt;att('ChargeCategoryDescription');\n        if ($Field[1] =~ /MA \\- WATER/)\n        {\n            $Field[1] = $service-&gt;att('ChargeCategoryDescription');\n        }\n        elsif ($Field[1] =~ /MA \\- SEWER/)\n        {\n            $Field[1] = $service-&gt;att('ChargeCategoryDescription');\n        }\n        $Field[2] = $service-&gt;att('Amount');\n        foreach my $read ($service-&gt;children('LineItemDetail'))\n        {\n            $Field[3] = $read-&gt;first_child('LIDetailConsumption')-&gt;att('CurrentRead');\n            $Field[4] = $read-&gt;first_child('LIDetailConsumption')-&gt;att('PreviousRead');\n            $Field[5] = $read-&gt;first_child('LIDetailConsumption')-&gt;att('ActualConsumption');\n        }\n\n    }\n    push(@servicearr,\"$Field[1] $Field[3] $Field[4] $Field[5] $Field[2]\");\n    if (@servicearray&gt;7){die \"MORE THEN TWO SERVICES FOUND IN ID#$Field[0] \\n\";}\n    write OUT;\n    @servicearr = ();\n\n}\n\nformat OUT = \n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n$Field[0]\n\n\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n$servicearr[0]\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n$servicearr[1]\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n$servicearr[2]\n\n\n.\n</code></pre>\n\n<p>I wanted the OUTPUT like as Follows:</p>\n\n<pre><code>\f\nBill No: 1\n\nService         CurrentRead     PreviousRead    Consumption     Amount\nMA - WATER      915.0000000     914.0000000     1.0000000       43.04\nMA - SEWER      95.0000000      91.0000000      4.0000000       27.05\n\n\f\nBill No: 2\n\nService         CurrentRead     PreviousRead    Consumption     Amount\nMA - WATER      791.0000000     790.0000000     1.0000000       21.52\n\n\f\nBill No: 3\n\nService         CurrentRead     PreviousRead    Consumption     Amount\nMA - WATER      5.0000000       5.0000000       .0000000        38\nMA - SEWER      5.0000000       5.0000000       .0000000        22.7\n</code></pre>\n\n<p>Please need help, Thanks in advanced.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1469542881, "post_id": 38587357, "comment_id": 64573119, "body": "This sounds like an XY problem. Could you elaborate on it in a bit more detail? Normally recursive structures are recursive for a reason."}, {"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469549774, "post_id": 38587357, "comment_id": 64578057, "body": "@Sobrique the input hashref is generated from an classification hierarchy of data in xml. I have to join data to generate strings which represents parent child link."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1469566792, "post_id": 38587357, "comment_id": 64587486, "body": "Ok. Can I suggest taking a step back then. Use an XML parser - post your XML,  and we can give what you want more easily i think, given XML parsers implicitly handle that recursion."}, {"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469601551, "post_id": 38587357, "comment_id": 64597850, "body": "@Sobrique XML is: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;root&gt; &lt;class1 name=&quot;A1&quot;&gt; \t&lt;class2 name=&quot;B1&quot;&gt; \t\t&lt;class3 name=&quot;C1&quot;&gt; \t\t\t&lt;class4 name=&quot;D1&quot;&gt; \t\t\t&lt;/class4&gt; \t\t\t&lt;class4 name=&quot;D2&quot;&gt; \t\t\t&lt;/class4&gt; \t\t&lt;/class3&gt; \t&lt;/class2&gt; \t&lt;class2 name=&quot;B2&quot;&gt; \t\t&lt;class3 name=&quot;C1&quot;&gt; \t\t\t&lt;class4 name=&quot;D1&quot;&gt; \t\t\t&lt;/class4&gt; \t\t&lt;/class3&gt; \t&lt;/class2&gt; \t&lt;class2 name=&quot;B3&quot;&gt; \t\t&lt;class3 name=&quot;C1&quot;&gt; \t\t\t&lt;class4 name=&quot;D1&quot;&gt; \t\t\t&lt;/class4&gt; \t\t\t&lt;class4 name=&quot;D2&quot;&gt; \t\t\t&lt;/class4&gt; \t\t\t&lt;class4 name=&quot;D3&quot;&gt; \t\t\t&lt;/class4&gt; \t\t&lt;/class3&gt; \t&lt;/class2&gt; &lt;/class1&gt; &lt;/root&gt;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469608233, "post_id": 38587357, "comment_id": 64602124, "body": "I&#39;ve edited that into your question. Your specific goal is a list of &#39;name&#39; attributes, right?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1469609096, "post_id": 38587357, "comment_id": 64602706, "body": "Added an example of how to work directly with the XML. Backtrack a bit, and figure out what you&#39;re <i>actually trying to accomplish</i> and you might find that working direct with XML is a better solution to your problem."}], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "edited": false, "score": 0, "creation_date": 1469538042, "post_id": 38588304, "comment_id": 64569430, "body": "Thanks for answer Dave. But this code will fail if there are only 2 levels of nesting. The hash I&#39;m trying is having dynamic nesting &amp; it&#39;s getting too complicated when I try to further code it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "edited": false, "score": 0, "creation_date": 1469538571, "post_id": 38588304, "comment_id": 64569840, "body": "Yeah, having a dynamic number of hash levels means you&#39;ll need a recursive solution. I might have time to look at that a little later."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "edited": false, "score": 0, "creation_date": 1469543952, "post_id": 38588304, "comment_id": 64573959, "body": "Added a recursive solution."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1469543935, "last_edit_date": 1469543935, "creation_date": 1469531516, "answer_id": 38588304, "question_id": 38587357, "link": "https://stackoverflow.com/questions/38587357/generate-array-from-reference-hash/38588304#38588304", "title": "Generate array from reference hash", "body": "<p>You should really make some effort yourself before coming to SO for help. We're far more likely to help you fix broken code than just give you an answer.</p>\n\n<p>But I'm feeling generous and I have a couple of minutes to spare.</p>\n\n<p>The brute force approach would be to walk through every key at every level in the hash.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Data::Dumper;\n\nmy $hash_ref = {\n    'A1' =&gt; {\n        'B2' =&gt; {\n            'C1' =&gt; {\n                'D1' =&gt; {},\n                'D2' =&gt; {},\n                'D3' =&gt; {}\n            }\n        },\n        'B3' =&gt; {\n            'C1' =&gt; {\n                'D2' =&gt; {},\n                'D1' =&gt; {},\n                'D3' =&gt; {}\n            }\n        },\n        'B1' =&gt; {\n            'C1' =&gt; {\n                'D1' =&gt; {},\n                'D2' =&gt; {}\n            }\n        }\n    }\n};\n\nmy @arr;\n\nfor my $l1 (sort keys %$hash_ref) {\n  for my $l2 (sort keys %{$hash_ref-&gt;{$l1}}) {\n    for my $l3 (sort keys %{$hash_ref-&gt;{$l1}{$l2}}) {\n      for my $l4 (sort keys %{$hash_ref-&gt;{$l1}{$l2}{$l3}}) {\n        push @arr, \"$l1$l2$l3$l4\";\n      }\n    }\n  }\n}\n\nsay Dumper \\@arr;\n</code></pre>\n\n<p>This produces the output:</p>\n\n<pre><code>$VAR1 = [\n          'A1B1C1D1',\n          'A1B1C1D2',\n          'A1B2C1D1',\n          'A1B2C1D2',\n          'A1B2C1D3',\n          'A1B3C1D1',\n          'A1B3C1D2',\n          'A1B3C1D3'\n        ];\n</code></pre>\n\n<p><strong>Update:</strong> Here's a recursive solution:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Data::Dumper;\n\nmy $hash_ref = {\n    'A1' =&gt; {\n        'B2' =&gt; {\n            'C1' =&gt; {\n                'D1' =&gt; {},\n                'D2' =&gt; {},\n                'D3' =&gt; {}\n            }\n        },\n        'B3' =&gt; {\n            'C1' =&gt; {\n                'D2' =&gt; {},\n                'D1' =&gt; {},\n                'D3' =&gt; {}\n            }\n        },\n        'B1' =&gt; {\n            'C1' =&gt; {\n                'D1' =&gt; {},\n                'D2' =&gt; {}\n            }\n        }\n    }\n};\n\nmy @arr = walk_hash($hash_ref, '');\n\nsay Dumper \\@arr;\n\nsub walk_hash {\n  my ($hash_ref, $prefix) = @_;\n\n  return $prefix unless keys %$hash_ref;\n  return map { walk_hash($hash_ref-&gt;{$_}, \"$prefix$_\") } sort keys %$hash_ref;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1469609058, "creation_date": 1469609058, "answer_id": 38608011, "question_id": 38587357, "link": "https://stackoverflow.com/questions/38587357/generate-array-from-reference-hash/38608011#38608011", "title": "Generate array from reference hash", "body": "<p>I would tackle this differently - as this is XML, I would skip the intermediate 'mangle the XML into a hash' step, and just work with it directly. </p>\n\n<p>Something like this does what you want:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings 'all'; \n\nuse XML::Twig;\nuse Data::Dumper;\n\nmy $twig = XML::Twig -&gt; new -&gt; parsefile ('your.xml');\n\nmy @node_keys; \n\n#find all the nodes with a name attribute.\n#then grep out the ones that have child nodes. \nforeach my $elt ( grep { not $_ -&gt; descendants } $twig -&gt; get_xpath('//*[@name]') ){\n    my $path = $elt -&gt; att('name'); \n    my $cursor = $elt; \n    #recurse upwards through 'parent' nodes with a 'name' attribute. \n    while ( $cursor -&gt; parent -&gt; att('name') ) {\n       $path = $cursor -&gt; parent -&gt; att('name') . $path;\n       $cursor = $cursor -&gt; parent;\n    }\n    push @node_keys, $path; \n}\n\nprint Dumper \\@node_keys;\n</code></pre>\n\n<p>Gives output:</p>\n\n<pre><code>$VAR1 = [\n          'A1B1C1D1',\n          'A1B1C1D2',\n          'A1B2C1D1',\n          'A1B3C1D1',\n          'A1B3C1D2',\n          'A1B3C1D3'\n        ];\n</code></pre>\n\n<p>Note - because it's walking in 'XML order' it's preserving the same ordering as source. That might be called a feature, or you can sort it afterwards. </p>\n\n<p>But I would question perhaps, what you're trying to accomplish by making these compounds of 'name' attributes - it may be that you can solve the task more effectively through XML parsing and <code>xpath</code> queries. </p>\n"}], "owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 2, "accepted_answer_id": 38588304, "answer_count": 2, "score": 0, "last_activity_date": 1469609058, "creation_date": 1469528915, "last_edit_date": 1469608205, "question_id": 38587357, "link": "https://stackoverflow.com/questions/38587357/generate-array-from-reference-hash", "title": "Generate array from reference hash", "body": "<p>I'm trying to generate array from hash reference, created by joining all keys of hashes with sorting.\nConsider I have dynamic hash reference like </p>\n\n<pre><code>my $hash_ref = {\n          'A1' =&gt; {\n                  'B2' =&gt; {\n                          'C1' =&gt; {\n                                  'D1' =&gt; {},\n                                  'D2' =&gt; {},\n                                  'D3' =&gt; {}\n                                }\n                        },\n                  'B3' =&gt; {\n                          'C1' =&gt; {\n                                  'D2' =&gt; {},\n                                  'D1' =&gt; {},\n                                  'D3' =&gt; {}\n                                }\n                        },\n                  'B1' =&gt; {\n                          'C1' =&gt; {\n                                  'D1' =&gt; {},\n                                  'D2' =&gt; {}\n                                }\n                        }\n                }\n        };\n</code></pre>\n\n<p>how to create array from above hash like</p>\n\n<p><code>@arr = qw/A1B1C1D1 A1B1C1D2 A1B2C1D1 ..../;</code></p>\n\n<p>below is the code I tried(which is not working)</p>\n\n<pre><code>my $out = hash_walk($hash_ref);\n\nsay Dumper $out;\n\nsub hash_walk {\n    my $hash = shift;\n    my $array_ref;\n    my $temp_arr;\n    my @temp_arr2;\n    foreach my $k ( sort keys %$hash ) {\n        $v = $$hash{$k};\n\n        if ( ref($v) eq 'HASH' ) {\n\n            # Recurse.\n            $temp_arr = hash_walk( $v);\n\n        }\n        push @$array_ref, $k if $k;\n\n        my (@lvlfirst, @lvlnext );\n\n        if ($array_ref &amp;&amp; $temp_arr){\n            @lvlfirst = @$array_ref;\n            @lvlnext = @$temp_arr; \n        }\n\n        for ( my $i = 0 ; $i &lt;= $#lvlfirst ; $i++ ) {\n            for ( my $j = 0 ; $j &lt;= $#lvlnext ; $j++ ) {\n                push @temp_arr2, \"$lvlfirst[$i]$lvlnext[$j]\"; ##Trying to join here\n\n            }\n        }\n    }\n\n    return \\@temp_arr2;\n}\n</code></pre>\n\n<p>XML is:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;class1 name=\"A1\"&gt;\n    &lt;class2 name=\"B1\"&gt;\n      &lt;class3 name=\"C1\"&gt;\n        &lt;class4 name=\"D1\"&gt;&lt;/class4&gt;\n        &lt;class4 name=\"D2\"&gt;&lt;/class4&gt;\n      &lt;/class3&gt;\n    &lt;/class2&gt;\n    &lt;class2 name=\"B2\"&gt;\n      &lt;class3 name=\"C1\"&gt;\n        &lt;class4 name=\"D1\"&gt;&lt;/class4&gt;\n      &lt;/class3&gt;\n    &lt;/class2&gt;\n    &lt;class2 name=\"B3\"&gt;\n      &lt;class3 name=\"C1\"&gt;\n        &lt;class4 name=\"D1\"&gt;&lt;/class4&gt;\n        &lt;class4 name=\"D2\"&gt;&lt;/class4&gt;\n        &lt;class4 name=\"D3\"&gt;&lt;/class4&gt;\n      &lt;/class3&gt;\n    &lt;/class2&gt;\n  &lt;/class1&gt;\n&lt;/root&gt;\n</code></pre>\n"}, {"tags": ["php", "regex", "perl"], "comments": [{"owner": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 3, "creation_date": 1469526604, "post_id": 38586517, "comment_id": 64561315, "body": "What have you tried so far to get this going? That might help us understand the problems you&#39;re facing :)"}, {"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "reply_to_user": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 0, "creation_date": 1469526911, "post_id": 38586517, "comment_id": 64561577, "body": "I tried with this code, but it gives infinite loop: <code>while(preg_match(&#39;&#47;td class=\\&quot;bbb\\&quot;&gt;(.*?)&lt;\\&#47;td&gt;&lt;td&gt;(\\d+)&lt;\\&#47;td&gt;&#47;&#39;,$html,$out)) { \t\techo &quot;$out[1]:$out[2]\\n&quot;; \t}</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469527023, "post_id": 38586517, "comment_id": 64561650, "body": "Please <a href=\"https://stackoverflow.com/posts/38586517/edit\">edit</a> your question and add the PHP code there. It&#39;s hard to read in the comment."}, {"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469527031, "post_id": 38586517, "comment_id": 64561658, "body": "Also, with <b>if</b> insted of <b>while</b> it gives only one result."}, {"owner": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 0, "creation_date": 1469527269, "post_id": 38586517, "comment_id": 64561827, "body": "You should look at <a href=\"http://stackoverflow.com/questions/4088836/php-preg-match-and-preg-match-all-functions\">this question</a> and <a href=\"http://stackoverflow.com/a/19767391/2233391\">the answer</a> given, I think that will resolve your issue."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 0, "creation_date": 1469527533, "post_id": 38586517, "comment_id": 64562013, "body": "@Henders that explains the difference, but not what OP is doing wrong."}, {"owner": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469527709, "post_id": 38586517, "comment_id": 64562143, "body": "@simbabque agreed, but it does point them in the right direction based on their comment <i>&#39;with if insted of while it gives only one result&#39;</i>. Looks like they were on the right track initially and then diverted when only a single result was returned."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 0, "creation_date": 1469527835, "post_id": 38586517, "comment_id": 64562219, "body": "@Henders I agree. But there is more, because <code>preg_match_all</code> also seems to only return <i>if</i> it matched. Coming from a Perl background, I would iterate the matches array <a href=\"http://stackoverflow.com/a/38586866/1331451\">as shown in my answer</a>. That might not be the most  efficient way, and simply saying <code>if(preg_match_all(...))</code> and then using <code>$matches</code> might suffice, but I don&#39;t have a PHP to test it."}, {"owner": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469528530, "post_id": 38586517, "comment_id": 64562734, "body": "@simbabque I&#39;ve just tested it and on PHP 5.5.9 you can do that no problem. As you suggested, <code>if(preg_match_all(...))</code> and then <code>print_r($matches)</code> gives you the array of matches."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 0, "creation_date": 1469528832, "post_id": 38586517, "comment_id": 64562908, "body": "You should add that as an answer @Henders. Mine explains the <i>why</i> part, but my lack of PHP knowledge is clearly visible. ;)"}, {"owner": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 0, "creation_date": 1469529433, "post_id": 38586517, "comment_id": 64563254, "body": "Can you provide an example of your expected output, please? When I <a href=\"http://phpfiddle.org/main/code/in7p-rb4g\" rel=\"nofollow noreferrer\">run your code on PHPFiddle</a> it gives me a result that doesn&#39;t look like what you are looking for..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 0, "creation_date": 1469529858, "post_id": 38586517, "comment_id": 64563513, "body": "@Henders: If there are no matches then the <code>$out</code> array will be empty, so simply printing its contents regardless of the return value of <code>preg_match_all</code> will do the right thing."}, {"owner": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469530194, "post_id": 38586517, "comment_id": 64563729, "body": "@Borodin I was missing the <code>PREG_SET_ORDER</code>. Nice spot!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 0, "creation_date": 1469530893, "post_id": 38586517, "comment_id": 64564212, "body": "@Henders: That just reorders the contents of <code>$out</code>; all of the information is there with or without it."}, {"owner": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469531094, "post_id": 38586517, "comment_id": 64564346, "body": "@Borodin Much more easy to access the data though! :) I&#39;ll remember that flag"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469528028, "post_id": 38586866, "comment_id": 64562370, "body": "Nope. I changed echo <code>&quot;$out\\n&quot;;</code> to <code>echo &quot;$match\\n&quot;;</code> but <code>preg_match</code> gives only the first match with newline between IP and Port. <code>preg_match_all</code> gives error <b>Notice: Array to string conversation bla bla bla</b>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469528316, "post_id": 38586866, "comment_id": 64562554, "body": "@tr0in see my update. I need to read phpdoc for syntax because I am not usually using php. The foreach approach was wrong, I didn&#39;t see that there are two matches in the regex at first."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469528339, "post_id": 38586866, "comment_id": 64562569, "body": "That regex is better as, for instance, <code>&#39;td class=&quot;bbb&quot;&gt;(.*?)&lt;&#47;td&gt;&lt;td&gt;(\\d+)&lt;&#47;td&gt;&#39;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469528388, "post_id": 38586866, "comment_id": 64562608, "body": "Which regex @Borodin?"}, {"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469528691, "post_id": 38586866, "comment_id": 64562833, "body": "@simbabque I see your update, but its same. It gives error: <b>Notice: Array to string conversation bla bla bla.</b> for 3rd and 4th line from your code - <code>$out[$i]</code> and <code>$out[$i+1]</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469528798, "post_id": 38586866, "comment_id": 64562890, "body": "As I said, I&#39;m not a PHP guy. Treat this as pseudo-code and work with it. @Henders <a href=\"http://stackoverflow.com/questions/38586517/perl-to-php-equivalent-extract-strings-with-regex?noredirect=1#comment64562734_38586517\">gives good advice in their comment</a> on the question. I believe that approach is easier, though you still might need a loop if you don&#39;t know how many matches you will have."}, {"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469529093, "post_id": 38586866, "comment_id": 64563056, "body": "OK @simbabque, thanks anyway, I appreciate your effort."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469529950, "post_id": 38586866, "comment_id": 64563570, "body": "@simbabque: The regex in your solution. Just like in Perl, it&#39;s best to use different delimiters if the pattern itself contains slashes, and double quotes don&#39;t need escaping anyway."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469530615, "post_id": 38586866, "comment_id": 64564026, "body": "@borodin I just copied it from the question. You&#39;re right of course."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1469528263, "last_edit_date": 1469528263, "creation_date": 1469527509, "answer_id": 38586866, "question_id": 38586517, "link": "https://stackoverflow.com/questions/38586517/perl-to-php-equivalent-extract-strings-with-regex/38586866#38586866", "title": "Perl to PHP equivalent: extract strings with regex", "body": "<p>The PHP function <code>preg_match()</code> <a href=\"http://php.net/manual/en/function.preg-match.php\" rel=\"nofollow\">returns an integer</a> that indicates if it matched. You are only looking at that return value in your loop, so that condition will always be true. That's why you have an infinite loop. </p>\n\n<p>Since <code>preg_match</code>'s <code>$matches</code> only gives you all capture groups from matching once, you only get the first match when used with an <code>if</code>. </p>\n\n<p>The Perl code has the <code>/g</code> modifier on the regular expression match, which makes the match <em>global</em>. The match operator <code>=~</code> returns a true value for each match. It's basically an iterator, so the <code>while</code> loop will go through all matches without repeating a match, so there is no infinite lop. Then the match variables <code>$1</code> and <code>$2</code> are used to display results. You need to use <a href=\"http://php.net/manual/en/function.preg-match-all.php\" rel=\"nofollow\"><code>preg_match_all</code></a> to get a global match in PHP.</p>\n\n<p>You need to first match, then iterate the array with the matches. Since the first element is the full match, you can ignore that.</p>\n\n<pre><code>preg_match_all('/td class=\\\"bbb\\\"&gt;(.*?)&lt;\\/td&gt;&lt;td&gt;(\\d+)&lt;\\/td&gt;/',$html,$out);\nfor ($i = 1; $i &lt; count($out) - 1; $i += 2) {\n    echo \"$out[$i]:\";\n    echo $out[$i+1];\n    echo \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 1, "creation_date": 1469529989, "post_id": 38587605, "comment_id": 64563589, "body": "That&#39;s it, this solved my problem. PREG_SET_ORDER is the man, without it doesn&#39;t work! :D  Thank you."}, {"owner": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 0, "creation_date": 1469530296, "post_id": 38587605, "comment_id": 64563806, "body": "From <a href=\"http://php.net/manual/en/function.preg-match-all.php\" rel=\"nofollow noreferrer\">the docs</a>: <i>&quot;PREG_SET_ORDER - Orders results so that $matches[0] is an array of first set of matches, $matches[1] is an array of second set of matches, and so on.&quot;</i>"}, {"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469530571, "post_id": 38587605, "comment_id": 64563999, "body": "At first, I tried with PHP Simple HTML DOM Parser, I scraped the IPs, but I couldn&#39;t ports."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469530814, "post_id": 38587605, "comment_id": 64564164, "body": "<i>&quot;without [PREG_SET_ORDER] it doesn&#39;t work&quot;</i> Yes, it does work without that flag. It&#39;s simpler to unpack the contents of <code>$out</code> if you use it, but all the information is in there either way."}, {"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469532269, "post_id": 38587605, "comment_id": 64565110, "body": "@Borodin So, how to access the information without setting PREG_SET_ORDER flag? What is that &quot;unpack&quot; thing, how it works, how to do that?  Is there any other way to do it without storing the information into the <code>$out</code> array? Something simple as the Perl code provided in the main question, something like <code>if you find a match - print it, if you find a match - print it, if you find a match - print it</code> etc."}, {"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "reply_to_user": {"reputation": 1144, "user_id": 2233391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBnLP.jpg?s=128&g=1", "display_name": "Henders", "link": "https://stackoverflow.com/users/2233391/henders"}, "edited": false, "score": 1, "creation_date": 1469532377, "post_id": 38587605, "comment_id": 64565180, "body": "@Henders Thank you, I&#39;m new here, I didn&#39;t know about &#39;accepted answer&#39;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469532926, "post_id": 38587605, "comment_id": 64565532, "body": "@tr0in: If you have something else to ask then you should open a new question."}, {"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469533496, "post_id": 38587605, "comment_id": 64565977, "body": "Haha, I should wait 5 days because I have reached the question limit, stackoverflow says. It&#39;s because someone downvote my question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1469535915, "post_id": 38587605, "comment_id": 64567709, "body": "@tr0in: It&#39;s becaused <i>six people</i> downvoted your question, and rightly so. You can&#39;t just post your work on Stack Overflow and wait for someone else to do it. You should spend those days reading through <a href=\"http://stackoverflow.com/questions/how-to-ask\"><b><i>How do I ask a good question?</i></b></a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1469529543, "last_edit_date": 1495539862, "creation_date": 1469529543, "answer_id": 38587605, "question_id": 38586517, "link": "https://stackoverflow.com/questions/38586517/perl-to-php-equivalent-extract-strings-with-regex/38587605#38587605", "title": "Perl to PHP equivalent: extract strings with regex", "body": "\n\n<p>This code will do as you ask. It uses <code>preg_match_all</code> as <a href=\"https://stackoverflow.com/a/38586866/622310\">simbabque described</a></p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n\n$html = '&lt;tr class=\"aaa\"&gt;&lt;td class=\"bbb\"&gt;221.86.2.163&lt;/td&gt;&lt;td&gt;443&lt;/td&gt;&lt;td&gt;&lt;div&gt;&lt;span class=\"ccc\"&gt;&lt;/span&gt; example &lt;span&gt; example&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"aaa\"&gt;&lt;td class=\"bbb\"&gt;221.86.2.163&lt;/td&gt;&lt;td&gt;443&lt;/td&gt;&lt;td&gt;&lt;div&gt;&lt;span class=\"ccc\"&gt;&lt;/span&gt; example &lt;span&gt; example&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;';\n\npreg_match_all('|td class=\"bbb\"&gt;([\\d.]+)&lt;/td&gt;&lt;td&gt;(\\d+)&lt;/td&gt;|', $html, $out, PREG_SET_ORDER);\n\nforeach ( $out as $item ) {\n    echo \"$item[1]:$item[2]\\n\";\n}\n\n?&gt;\n</code></pre>\n\n<h2>output</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>221.86.2.163:443\n221.86.2.163:443\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 38587605, "answer_count": 2, "score": -6, "last_activity_date": 1469529765, "creation_date": 1469526559, "last_edit_date": 1469529765, "question_id": 38586517, "link": "https://stackoverflow.com/questions/38586517/perl-to-php-equivalent-extract-strings-with-regex", "title": "Perl to PHP equivalent: extract strings with regex", "body": "<p>What is the PHP equivalent for this Perl code?</p>\n\n<pre><code>my $html = '&lt;tr class=\"aaa\"&gt;&lt;td class=\"bbb\"&gt;111.111.111.111&lt;/td&gt;&lt;td&gt;443&lt;/td&gt;&lt;td&gt;&lt;div&gt;&lt;span class=\"ccc\"&gt;&lt;/span&gt; example &lt;span&gt; example&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"aaa\"&gt;&lt;td class=\"bbb\"&gt;222.222.222.222&lt;/td&gt;&lt;td&gt;443&lt;/td&gt;&lt;td&gt;&lt;div&gt;&lt;span class=\"ccc\"&gt;&lt;/span&gt; example &lt;span&gt; example&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;';\n\nprint \"$1:$2\\n\" while $html =~ /class=\"aaa\"&gt;&lt;td class=\"bbb\"&gt;(.*?)&lt;\\/td&gt;&lt;td&gt;(\\d+)&lt;\\/td&gt;/g;\n</code></pre>\n\n<p>I tried with this code, but it gives infinite loop.</p>\n\n<pre><code>while(preg_match('/td class=\\\"bbb\\\"&gt;(.*?)&lt;\\/td&gt;&lt;td&gt;(\\d+)&lt;\\/td&gt;/',$html,$out)) {\n        echo \"$out[1]:$out[2]\\n\";\n    }\n</code></pre>\n\n<p>Also, with <code>if</code> instead of <code>while</code> it gives only one result.</p>\n\n<p>Expected output (IP:PORT):</p>\n\n<pre><code>111.111.111.111:443\n222.222.222.222:443\n</code></pre>\n\n<p>Environment: <strong>Windows 7</strong> with <strong>PHP 5.5.12</strong> (WAMP v2.5).</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 4, "creation_date": 1469520421, "post_id": 38584314, "comment_id": 64557085, "body": "You actually defined it in the pattern: <code>)</code> (matched with <code>\\)</code>) must be outside Group 2."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1469520422, "post_id": 38584314, "comment_id": 64557086, "body": "<code>.*?</code> is <b>lazy</b> !"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1469521127, "post_id": 38584314, "comment_id": 64557489, "body": "@Jan you are missunderstanding my question, i was talking about the second <code>.*</code>"}], "answers": [{"comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1469521236, "post_id": 38584480, "comment_id": 64557551, "body": "Corect me if i wrong, so when searching for a pattern, it will first try to find the &quot;things&quot; outside of the groupings and then search in the text delimited by the outside rules?"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1469521331, "post_id": 38584480, "comment_id": 64557597, "body": "In this case, it searched for the brackets, found them, and then searched for <code>.*</code> in the text between the brackets, is that right?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 1, "creation_date": 1469521861, "post_id": 38584480, "comment_id": 64557925, "body": "It is not right. I added the explanation to the answer."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1469521950, "last_edit_date": 1469521950, "creation_date": 1469520853, "answer_id": 38584480, "question_id": 38584314, "link": "https://stackoverflow.com/questions/38584314/perl-greedy-regex-is-not-acting-greedy/38584480#38584480", "title": "Perl greedy regex is not acting greedy", "body": "<p>The <code>.*</code> is a greedy subpattern, but it does not account for grouping. Grouping is defined with a pair of unescaped parentheses (see <a href=\"http://www.regular-expressions.info/brackets.html\" rel=\"nofollow\"><em>Use Parentheses for Grouping and Capturing</em></a>).</p>\n\n<p>See where your group boundaries are:</p>\n\n<pre><code>s/(.*?)\\((.*)\\)/$2/\n  | G1|  |G2| \n</code></pre>\n\n<p>So, the <code>\\(</code> and <code>\\)</code> matching <code>(</code> and <code>)</code> are <em>outside the groups</em>, and will not be part of neither <code>$1</code> nor <code>$2</code>.</p>\n\n<p>If you need the <code>)</code> be part of <code>$2</code>, use</p>\n\n<pre><code>s/(.*?)\\((.*\\))/$2/\n              ^\n</code></pre>\n\n<p>A regex engine is processing both the string and the pattern from left to right. The first <code>(.*?)</code> is handled first, and it matches up to the first literal <code>(</code> symbol as it is lazy (matches as few chars as possible before it can return a valid match), and the whole part before the <code>(</code> is placed into Group 1 stack. Then, the <code>(</code> is matched, but not captured, then <code>(.*)</code> matches any 0+ characters other than a newline up to the last <code>)</code> symbol, and places the capture into Group 2. Then, the <code>)</code> is just matched. The point is that <code>.*</code> grabs the whole string up to the end, but then backtracking happens since the engine tries to accommodate for the final <code>)</code> in the pattern. The <code>)</code> must be matched, but not captured in your pattern, thus, it is not part of Group 2 due to the group boundary placement. You can see the <em>regex debugger</em> at <a href=\"https://regex101.com/r/xS9dJ8/1\" rel=\"nofollow\">this regex demo page</a> to see how the pattern matches your string.</p>\n"}], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 38584480, "answer_count": 1, "score": 2, "last_activity_date": 1469521950, "creation_date": 1469520342, "question_id": 38584314, "link": "https://stackoverflow.com/questions/38584314/perl-greedy-regex-is-not-acting-greedy", "title": "Perl greedy regex is not acting greedy", "body": "<p>Giving the following code:<br></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $text = \"asdf(blablabla)\";\n\n$text =~ s/(.*?)\\((.*)\\)/$2/;\nprint \"\\nfirst match: $1\";\nprint \"\\nsecond match: $2\";\n</code></pre>\n\n<p>I expected that <code>$2</code> would catch my last bracket, yet my output is:<br>\n<a href=\"https://i.stack.imgur.com/hPq1u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hPq1u.png\" alt=\"enter image description here\"></a>\n<br>If <code>.*</code> by default it's greedy why it stopped at the bracket?</p>\n"}, {"tags": ["apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1469521263, "post_id": 38581991, "comment_id": 64557569, "body": "What are the permissions on <code>~</code>?  That needs to be readable and executable by the apache user, too, or else it won&#39;t be able to reach <code>~&#47;Sites</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469524421, "post_id": 38581991, "comment_id": 64559640, "body": "Welcome to Stack Overflow and the Perl tag. This is a very good first question. :) You have a syntax error in your Perl code. <code>str = &quot;Hello World&quot;</code> is wrong. Variables need to have a <code>$</code> sigil, so it needs to be <code>$str = &quot;foo&quot;</code> and <code>print $str</code>. That is not the issue here though."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 5931838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee58af6593aef6a9ab5045f34a091d4?s=128&d=identicon&r=PG", "display_name": "json25", "link": "https://stackoverflow.com/users/5931838/json25"}, "is_accepted": false, "score": 0, "last_activity_date": 1482858281, "creation_date": 1482858281, "answer_id": 41349202, "question_id": 38581991, "link": "https://stackoverflow.com/questions/38581991/error-message-forbidden-you-dont-have-permission-to-access-uname-cgi-o/41349202#41349202", "title": "Error message &quot;Forbidden You don&#39;t have permission to access /~[uname]/***.cgi on this server.&quot;", "body": "<p>the first line must be : </p>\n\n<blockquote>\n  <p>#!/usr/bin/perl -wT</p>\n</blockquote>\n\n<p>add this two flags (-wT) at the end</p>\n"}], "owner": {"reputation": 163, "user_id": 6599739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dLZSZ.jpg?s=128&g=1", "display_name": "mackeee", "link": "https://stackoverflow.com/users/6599739/mackeee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1312, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482858281, "creation_date": 1469512524, "question_id": 38581991, "link": "https://stackoverflow.com/questions/38581991/error-message-forbidden-you-dont-have-permission-to-access-uname-cgi-o", "title": "Error message &quot;Forbidden You don&#39;t have permission to access /~[uname]/***.cgi on this server.&quot;", "body": "<p>I have configured my Apache by myself and have configured CGI on my localhost,\nbut I received:</p>\n\n<blockquote>\n  <p>Forbidden You don't have permission to access /[username/**.cgi on this server.</p>\n</blockquote>\n\n<p>My http.conf(/etc/apache2/httpd.conf)</p>\n\n<pre><code>Before: #LoadModule userdir_module libexec/apache2/mod_userdir.so\nAfter:  LoadModule userdir_module libexec/apache2/mod_userdir.so\n\nBefore: #Include /private/etc/apache2/extra/httpd-userdir.conf\nAfter:  Include /private/etc/apache2/extra/httpd-userdir.conf\n\nBefore: #AddHandler cgi-script .cgi\nAfter:  AddHandler cgi-script .cgi .ru .pl\n</code></pre>\n\n<p>My [username].conf(/etc/apache2/users/[username].conf)</p>\n\n<pre><code>&lt;Directory \"/Users/[username]/Sites/\"&gt;\n  AllowOverride All\n  Options Indexes FollowSymLinks MultiViews +ExecCGI\n  AddHandler cgi-script .cgi\n  Require all granted\n&lt;/Directory&gt;\n</code></pre>\n\n<p>My cgi file (Users/[username]/Sites/**.cgi)</p>\n\n<pre><code>#!/usr/bin/perl                                                                                     \nprint \"Content-Type: text/html \\n\\n\"\nstr = \"Hello World\"\nprint str\nprint \"\\n\"\n</code></pre>\n\n<p>my Apache version:</p>\n\n<pre><code>Server version: Apache/2.4.18 (Unix)\n</code></pre>\n\n<p>And I have tried this command:</p>\n\n<pre><code>$ sudo chmod 755 ~/Sites\n$ sudo chmod 755 ~/Sites/**.cgi\n</code></pre>\n"}, {"tags": ["arrays", "perl", "for-loop", "multidimensional-array"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469505340, "post_id": 38580651, "comment_id": 64550470, "body": "You pushed in array references, so you should collect array references when you unpack, not arrays.  <code>my ($i, $arr2_ref, $arr3_ref) = @$linkarray;</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469505370, "post_id": 38580651, "comment_id": 64550477, "body": "<a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html</a>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469505811, "post_id": 38580651, "comment_id": 64550598, "body": "How do I then deference those references to use them like a normal array?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469505883, "post_id": 38580651, "comment_id": 64550619, "body": "<code>my @arr2 = @$arr2_ref;</code>  or you can just use them directly: <code>my $first = $arr2_ref-&gt;[0];</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469505915, "post_id": 38580651, "comment_id": 64550626, "body": "<a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlref.html</a>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469505941, "post_id": 38580651, "comment_id": 64550635, "body": "Is it necessary to use <code>-&gt;</code> ?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469506014, "post_id": 38580651, "comment_id": 64550657, "body": "Yes.  Read up on references."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469506423, "post_id": 38580651, "comment_id": 64550775, "body": "No. <code>$ref-&gt;[0]</code> and <code>${$ref}[0]</code> are equivalent. That said, <code>$ref-&gt;[0]</code> is much more readable."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469507052, "post_id": 38580651, "comment_id": 64550936, "body": "Tip: If you want to dump an array or hash, pass a reference to it to Dumper. You&#39;ll get less confusing results."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1469507292, "last_edit_date": 1469507292, "creation_date": 1469506553, "answer_id": 38580923, "question_id": 38580651, "link": "https://stackoverflow.com/questions/38580651/how-to-extract-inner-array-out-of-nested-array/38580923#38580923", "title": "How to extract inner array out of nested array?", "body": "<p>If you're having trouble, figure how you'd do it with a named array, then replace the name with a block that returns the reference.</p>\n\n<p>If it's <code>$a[0]</code> for an named array, it's <code>${REF}[0]</code> for a reference to an array.</p>\n\n<p>If it's <code>@a</code> for an named array, it's <code>@{REF}</code> for a reference to an array.</p>\n\n<p>Easy!</p>\n\n<pre><code>my $i    =    ${ $linkarray }[0];\nmy @arr2 = @{ ${ $linkarray }[1] };\nmy @arr3 = @{ ${ $linkarray }[2] };\n</code></pre>\n\n<p>However, the following is easier to read:</p>\n\n<pre><code>my $i    =    $linkarray-&gt;[0];\nmy @arr2 = @{ $linkarray-&gt;[1] };\nmy @arr3 = @{ $linkarray-&gt;[2] };\n</code></pre>\n\n<p>Furthermore, you really shouldn't be making copies of those arrays like that. It's rather wasteful. Just work with the references.</p>\n\n<pre><code>my $i    = $linkarray-&gt;[0];\nmy $arr2 = $linkarray-&gt;[1];\nmy $arr3 = $linkarray-&gt;[2];\n</code></pre>\n\n<p>Finally, that simplifies to the following:</p>\n\n<pre><code>my ($i, $arr2, $arr3) = @$linkarray;\n</code></pre>\n\n<hr>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://www.perlmonks.org/?node_id=977408\" rel=\"nofollow\">Mini-Tutorial: Dereferencing Syntax</a></li>\n<li><a href=\"http://www.perlmonks.org/?node_id=69927\" rel=\"nofollow\">References quick reference</a></li>\n<li><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a></li>\n<li><a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a></li>\n<li><a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldsc</a></li>\n<li><a href=\"http://perldoc.perl.org/perllol.html\" rel=\"nofollow\">perllol</a></li>\n</ul>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469507292, "creation_date": 1469504469, "last_edit_date": 1469504852, "question_id": 38580651, "link": "https://stackoverflow.com/questions/38580651/how-to-extract-inner-array-out-of-nested-array", "title": "How to extract inner array out of nested array?", "body": "<p>I have the following code which defines a nested array and then loops through the array and outputs it.  I would like to use the commented out line to extract the inner arrays but it doesn't work because it flattens out the inner arrays. I instead have to use the subsequent three lines.  How can I get the commented out line to work properly?</p>\n\n<pre><code>use Data::Dumper;    \nmy @arr1;\nfor $i (0..9)\n{\n    my @arr2;\n    my @arr3;\n    for $j ('A'..'D') {\n        push @arr2, $j;\n        push @arr3, int(rand(100));\n    }\n    push @arr1, [$i, \\@arr2, \\@arr3]; \n}\nfor $linkarray (@arr1) {\n    #my ($i, @arr2, @arr3) = @$linkarray;   \n    my $i = @$linkarray[0];\n    my @arr2 = @$linkarray[1];\n    my @arr3 = @$linkarray[2];\n    print \"i: $i\\narr2: \" . Dumper(@arr2) . \"\\narr3: \" . Dumper(@arr3) . \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1469508498, "post_id": 38580559, "comment_id": 64551335, "body": "You need to write your own code or function to fetch the row and column value. As per my knowledge, There is no existing function for this purpose."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1469534157, "post_id": 38580559, "comment_id": 64566457, "body": "I agree with @Arijit. You will have to scan the whole thing once and keep it in memory, or scan it every time. Bot are not optimal."}, {"owner": {"reputation": 25, "user_id": 6464072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388076be4b1c0d6f27ae81f377db7e09?s=128&d=identicon&r=PG&f=1", "display_name": "jpjy", "link": "https://stackoverflow.com/users/6464072/jpjy"}, "edited": false, "score": 0, "creation_date": 1469549141, "post_id": 38580559, "comment_id": 64577676, "body": "I see.Thank you very much!"}], "owner": {"reputation": 25, "user_id": 6464072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388076be4b1c0d6f27ae81f377db7e09?s=128&d=identicon&r=PG&f=1", "display_name": "jpjy", "link": "https://stackoverflow.com/users/6464072/jpjy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469503749, "creation_date": 1469503749, "last_edit_date": 1592644375, "question_id": 38580559, "link": "https://stackoverflow.com/questions/38580559/how-to-get-cell-reference-based-on-cell-value-with-perl", "title": "How to get cell reference based on cell value with Perl", "body": "<p>For example</p>\n<blockquote>\n<p>.......1.........  2..........3 ........4</p>\n<p>1 aeced wcwac cedd wecaa</p>\n<p>2 wemv wddcv Hello acefcc</p>\n<p>3 eleqc qdfax wcdcc ecwvv</p>\n</blockquote>\n<p>Using Spreadsheet::ParseExcel, I am able to get cell value 'Hello' based on the cell reference (2,3) using</p>\n<pre><code>my $cell = $worksheet-&gt;get_cell($row, $col);\n</code></pre>\n<p>However,  is it possible to do it the other way around? E.g. Get the cell reference (2,3) based on cell value 'Hello'.</p>\n"}, {"tags": ["perl", "variables"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1469464285, "post_id": 38572969, "comment_id": 64535104, "body": "your code is looking fine to me. Test your code by replacing  <code>$retval = $HASHLIST{$key}-&gt;{description};</code> with <code>print &quot;$ui\\t$uniqueID&quot;;</code>"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1469464421, "post_id": 38572969, "comment_id": 64535185, "body": "Also check your <code>%HASHLIST</code> is their or not .Because your code does not have  <code>%HASHLIST</code> and show your  <code>=~</code> line"}, {"owner": {"reputation": 8450, "user_id": 285374, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3edca14be7e2e46426ec5da42f489197?s=128&d=identicon&r=PG", "display_name": "Mikesname", "link": "https://stackoverflow.com/users/285374/mikesname"}, "edited": false, "score": 2, "creation_date": 1469464519, "post_id": 38572969, "comment_id": 64535249, "body": "What do you mean by &quot;=~ isn&#39;t working&quot;? Have you tried <code>if ($ui =~ &#47;$uniqueID&#47;) {...}</code>?"}, {"owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 1, "creation_date": 1469464587, "post_id": 38572969, "comment_id": 64535296, "body": "Or perhaps <code>$ui =~ &#47;\\b$uniqueID\\b&#47;</code> which doesn&#39;t allow matches inside words."}, {"owner": {"reputation": 51, "user_id": 6227274, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1295932613759591/picture?type=large", "display_name": "Cecily", "link": "https://stackoverflow.com/users/6227274/cecily"}, "reply_to_user": {"reputation": 8450, "user_id": 285374, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3edca14be7e2e46426ec5da42f489197?s=128&d=identicon&r=PG", "display_name": "Mikesname", "link": "https://stackoverflow.com/users/285374/mikesname"}, "edited": false, "score": 1, "creation_date": 1469465007, "post_id": 38572969, "comment_id": 64535512, "body": "@Mikesname please put this as an answer so I can vote it up.  It seems I was forgetting the / / when I tried using the =~ thank you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469466710, "post_id": 38572969, "comment_id": 64536449, "body": "Please give an example of <code>$uniqueID</code> and what you mean by &quot;words&quot;. What value should be returned if it matches more than one word?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469466646, "post_id": 38573395, "comment_id": 64536416, "body": "The OP wants to test whether <i>&quot;$ui contains any words in variable $unqiueID&quot;</i>. This will test whether it contains the whole string in <code>$uniqueID</code>."}, {"owner": {"reputation": 8450, "user_id": 285374, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3edca14be7e2e46426ec5da42f489197?s=128&d=identicon&r=PG", "display_name": "Mikesname", "link": "https://stackoverflow.com/users/285374/mikesname"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469466895, "post_id": 38573395, "comment_id": 64536564, "body": "@Borodin I thought that was unclear, but the OP asked me to post this as an answer and I obliged."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1469467046, "post_id": 38573395, "comment_id": 64536666, "body": "And use <code>&#47;\\Q$uniqueID\\E&#47;</code> to prevent false positive and false negative results if <code>$uniqueID</code> has regex metacharacters."}, {"owner": {"reputation": 51, "user_id": 6227274, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1295932613759591/picture?type=large", "display_name": "Cecily", "link": "https://stackoverflow.com/users/6227274/cecily"}, "edited": false, "score": 0, "creation_date": 1469630548, "post_id": 38573395, "comment_id": 64618473, "body": "I wanted partial word matches :) Thank you"}], "tags": [], "owner": {"reputation": 8450, "user_id": 285374, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3edca14be7e2e46426ec5da42f489197?s=128&d=identicon&r=PG", "display_name": "Mikesname", "link": "https://stackoverflow.com/users/285374/mikesname"}, "is_accepted": false, "score": 2, "last_activity_date": 1469465353, "creation_date": 1469465353, "answer_id": 38573395, "question_id": 38572969, "link": "https://stackoverflow.com/questions/38572969/test-whether-one-string-contains-any-of-the-words-in-another/38573395#38573395", "title": "Test whether one string contains any of the words in another", "body": "<p>A simple way to test if one scalar variable contains another is:</p>\n\n<pre><code>if ($ui =~ /$uniqueID/) {\n    ...\n}\n</code></pre>\n\n<p>(And as <a href=\"https://stackoverflow.com/questions/38572969/perl-variable-contains-variable?noredirect=1#comment64535296_38572969\">@Markus Laire</a> points out you can also use <code>/\\b$uniqueID\\b/</code> to prevent partial word matches.)</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1469467255, "creation_date": 1469467255, "answer_id": 38573897, "question_id": 38572969, "link": "https://stackoverflow.com/questions/38572969/test-whether-one-string-contains-any-of-the-words-in-another/38573897#38573897", "title": "Test whether one string contains any of the words in another", "body": "<p>Your purpose isn't clear, but it sounds like <code>$uniqueID</code> is a list of words, and you want the first entry in <code>%HASHLIST</code> whose <code>uniqueID</code> matches any one of those words</p>\n\n<p>This will do that for you, but I must say that your data structure isn't ideally suited to this job</p>\n\n<pre><code>sub getDescription {\n\n    my ($uniqueID) = @_;\n    my %wanted = map { $_ =&gt; 1 } split ' ', $uniqueID;\n\n    for my $ui ( values %HASHLIST ) {\n        my @ids = @{ $item-&gt;{uniqueID} };\n        return $item-&gt;{description} if @wanted{@ids};\n    }\n\n    return $retval;\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6227274, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1295932613759591/picture?type=large", "display_name": "Cecily", "link": "https://stackoverflow.com/users/6227274/cecily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469467328, "creation_date": 1469463947, "last_edit_date": 1469467328, "question_id": 38572969, "link": "https://stackoverflow.com/questions/38572969/test-whether-one-string-contains-any-of-the-words-in-another", "title": "Test whether one string contains any of the words in another", "body": "<p>I have a Perl program code that pulls a description string from a hash.  </p>\n\n<p>I have my variable <code>$ui</code> equal to the variable <code>$uniqueID</code>, but what I want is to return true if <code>$ui</code> <em>contains any words</em> in variable <code>$unqiueID</code>. But <code>=~</code> isn't working.</p>\n\n<p>Is there a smart way of doing this?</p>\n\n<pre><code>sub getDescription {\n\n    my $uniqueID = shift;\n    my $retval;\n    my $ui;\n\n    foreach my $key ( keys %HASHLIST ) {\n\n        foreach $ui ( @{ $HASHLIST{$key}-&gt;{uniqueID} }) {\n\n            if ( $ui eq $uniqueID ) {\n                $retval = $HASHLIST{$key}-&gt;{description};\n                last;\n            }\n         }\n\n         last if $retval;\n    }\n\n    return $retval;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "perl", "visual-c++", "openssl"], "answers": [{"comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1469547548, "post_id": 38591954, "comment_id": 64576663, "body": "Oh, I missed that altogether during a quick scan of the question... Doh..."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 5, "last_activity_date": 1469541542, "creation_date": 1469541542, "answer_id": 38591954, "question_id": 38572948, "link": "https://stackoverflow.com/questions/38572948/openssl-nmake-fatal-error-u1077-ias-return-code-0x1/38591954#38591954", "title": "OpenSSL: Nmake fatal error U1077: &#39;ias&#39; : return code &#39;0x1&#39;", "body": "<p>The problem has nothing to do with long filenames. @Sebastian does not have <code>ias</code> installed. He should not be using <a href=\"http://www.intel.com/design/itanium/downloads/asmusrgd.pdf\" rel=\"noreferrer\">ias</a> in any case.</p>\n\n<p>You need <a href=\"http://www.nasm.us/\" rel=\"noreferrer\">nasm</a> if you want OpenSSL to take advantage of assembly language optimizations.</p>\n\n<p>If not, you can pass <code>no-asm</code> to <code>Configure</code>.</p>\n\n<p>Depending on your operating system</p>\n\n<blockquote>\n  <p>on Windows (only pick one of the targets for configuration):</p>\n\n<pre><code>$ perl Configure { VC-WIN32 | VC-WIN64A | VC-WIN64I | VC-CE }\n</code></pre>\n</blockquote>\n\n<p>you need either <code>VC-WIN32</code> or <code>VC-WIN64A</code>. Here is <a href=\"https://www.nu42.com/2014/04/building-openssl-101g-on-64-bit-windows.html\" rel=\"noreferrer\">how I did it</a>. <code>1.0.1g</code> was the current version at the time of that post.</p>\n\n<ol>\n<li>Download the latest source distribution</li>\n<li>Start the applicable VC command prompt</li>\n<li>Optionally, get zlib, build DLL</li>\n<li>Get nasm and build executable</li>\n<li><p>If you did ask for zlib, add directories to INCLUDE and LIB:</p>\n\n<pre><code>C:\\\u2026\\openssl-1.0.1g&gt; set INCLUDE=%INCLUDE%;C:\\\u2026\\zlib-1.2.8\nC:\\\u2026\\openssl-1.0.1g&gt; set LIB=%LIB%;C:\\\u2026\\zlib-1.2.8\n</code></pre></li>\n<li><p>Run <code>C:\\\u2026\\openssl-1.0.1g&gt; perl Configure VC-WIN64A zlib-dynamic --openssldir=C:\\opt\\OpenSSL</code></p></li>\n<li><p>Run <code>C:\\\u2026\\openssl-1.0.1g&gt; ms\\do_win64a</code></p></li>\n<li><p>Run <code>C:\\\u2026\\openssl-1.0.1g&gt; nmake -f ms\\ntdll.mak</code></p></li>\n<li><p>cd to out32dll, and run ..\\ms\\test</p></li>\n<li><p>Make sure all tests pass:</p></li>\n<li><p>Install by doing:</p>\n\n<pre><code>C:\\\u2026\\openssl-1.0.1g\\out32dll&gt; cd ..\nC:\\\u2026\\openssl-1.0.1g&gt; nmake -f ms\\ntdll.mak install\n</code></pre></li>\n</ol>\n\n<p>PS: If you are building OpenSSL for use with Strawberry Perl, note that <code>perl.exe</code> will have been compiled with gcc, and therefore, you should use the gcc that comes with Strawberry Perl to build OpenSSL.</p>\n\n<p>If you are building the library for use with a project you'll build with the MSVC toolchain, you can ignore this comment.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8726805, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/85e377a5cee6f63c30ae2e30cf676f98?s=128&d=identicon&r=PG", "display_name": "JesSelien123", "link": "https://stackoverflow.com/users/8726805/jesselien123"}, "is_accepted": false, "score": 0, "last_activity_date": 1507212145, "creation_date": 1507212145, "answer_id": 46587643, "question_id": 38572948, "link": "https://stackoverflow.com/questions/38572948/openssl-nmake-fatal-error-u1077-ias-return-code-0x1/46587643#46587643", "title": "OpenSSL: Nmake fatal error U1077: &#39;ias&#39; : return code &#39;0x1&#39;", "body": "<p>My Solution:<br>\n - openssl-OpenSSL_1_0_0q; perl 5.8<br>\n - Extract the source code<br>\n - Download Nasm.exe - <a href=\"http://www.nasm.us/\" rel=\"nofollow noreferrer\">http://www.nasm.us/</a>.<br>\nNote - Attempt to build from source code gave me errors. I download nasm-2.13.01-win64; nasm.exe and moved it to the openssl install\\working folder.<br>\n - Start the VS2012 X86 Command prompt - and run the following:  </p>\n\n<pre><code>`c:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC\\vcvarsall.bat\"` \n`perl Configure VC-WIN32 --prefix=C:\\Build-OpenSSL-VC-32`\n`ms\\do_nasm.bat`\n`nmake -f ms\\nt.mak`\n`nmake -f ms\\nt.mak install`\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 2714443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000057063390/picture?type=large", "display_name": "Sebastian Smolorz", "link": "https://stackoverflow.com/users/2714443/sebastian-smolorz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6753, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1507212145, "creation_date": 1469463881, "last_edit_date": 1469563998, "question_id": 38572948, "link": "https://stackoverflow.com/questions/38572948/openssl-nmake-fatal-error-u1077-ias-return-code-0x1", "title": "OpenSSL: Nmake fatal error U1077: &#39;ias&#39; : return code &#39;0x1&#39;", "body": "<p>I'm trying to set up OpenSSL on Windows 10 64-bit, having followed the instructions so far, after installing Visual Studio I attempted to nmake in the openssl directory using Visual c++ 2008 command prompt to get the following error:</p>\n\n<pre><code> \"C:\\Strawberry\\perl\\bin\\perl.exe\" \"-I.\" -Mconfigdata \"util\\dofile.pl\"  \"-omakefile\" \"crypto\\include\\internal\\bn_conf.h.in\" &gt; crypto\\include\\internal\\bn_conf.h\n        \"C:\\Strawberry\\perl\\bin\\perl.exe\" \"-I.\" -Mconfigdata \"util\\dofile.pl\"  \"-omakefile\" \"crypto\\include\\internal\\dso_conf.h.in\" &gt; crypto\\include\\internal\\dso_conf.h\n        \"C:\\Strawberry\\perl\\bin\\perl.exe\" \"-I.\" -Mconfigdata \"util\\dofile.pl\"  \"-omakefile\" \"include\\openssl\\opensslconf.h.in\" &gt; include\\openssl\\opensslconf.h\n        ias -d debug -ocrypto\\aes\\aes-ia64.obj \"crypto\\aes\\aes-ia64.asm\"\n'ias' is not recognized as an internal or external command,\noperable program or batch file.\nNMAKE : fatal error U1077: 'ias' : return code '0x1'\nStop.\n</code></pre>\n\n<p>This error is different if I try to compile the 32 bit version. That results in an error referencing NASM which |I tried to install with no luck.</p>\n\n<p>Can anybody suggest a solution?</p>\n\n<p>Thank you for taking the time to read my question.</p>\n"}, {"tags": ["perl", "shell", "awk"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1469462007, "post_id": 38572272, "comment_id": 64533749, "body": "go ahead and try... these might help: <a href=\"http://stackoverflow.com/questions/32481877/what-is-nr-fnr-in-awk\" title=\"what is nr fnr in awk\">stackoverflow.com/questions/32481877/what-is-nr-fnr-in-awk</a> , <a href=\"http://stackoverflow.com/documentation/awk/topics\">stackoverflow.com/documentation/awk/topics</a> , <a href=\"http://stackoverflow.com/documentation/perl/topics\">stackoverflow.com/documentation/perl/topics</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1469462990, "creation_date": 1469462990, "answer_id": 38572666, "question_id": 38572272, "link": "https://stackoverflow.com/questions/38572272/awk-get-rows-from-a-file-that-contain-values-within-ranges-described-in-anothe/38572666#38572666", "title": "Awk - Get rows from a file that contain values within ranges described in another file", "body": "<p>In perl, I'd probably do something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings 'all';\nuse Data::Dumper;\n\nopen ( my $grades_in, '&lt;', \"file1.txt\" ) or die $!;\nmy @grade_lookup = map { [split] } &lt;$grades_in&gt;;\nprint Dumper \\@grade_lookup;\nclose ( $grades_in ); \n\nopen ( my $people, '&lt;', \"file2.txt\" ) or die $!; \nwhile (&lt;$people&gt;) {\n   chomp;\n   my ( $person, $score ) = split;\n   my ( $grade ) = grep { $_ -&gt; [1] &gt;= $score \n                     and $_ -&gt; [2] &lt;= $score } @grade_lookup;\n   print join \" \", $person, $score, $grade -&gt; [0], $grade -&gt; [3], \"\\n\";\n} \nclose ( $people ); \n</code></pre>\n\n<h2>output:</h2>\n\n<pre><code>Randy 80 B PASS \nDenis 44 F FAIL \nEarl 97 A PASS \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1469463089, "last_edit_date": 1469463089, "creation_date": 1469463017, "answer_id": 38572674, "question_id": 38572272, "link": "https://stackoverflow.com/questions/38572272/awk-get-rows-from-a-file-that-contain-values-within-ranges-described-in-anothe/38572674#38572674", "title": "Awk - Get rows from a file that contain values within ranges described in another file", "body": "<p>You can use this awk:</p>\n\n<pre><code>awk 'BEGIN{FS=OFS=\"\\t\"}\nFNR==NR {\n   a[$0] = $2\n   next\n}\n{\n   for (i in a)\n      if ($2&gt;=a[i] &amp;&amp; $3&lt;=a[i])\n         print i, $1, $4\n}' file2 file1\n</code></pre>\n\n\n\n<pre><code>Earl    97  A   PASS\nRandy   80  B   PASS\nDenis   44  F   FAIL\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1469463686, "creation_date": 1469463686, "answer_id": 38572882, "question_id": 38572272, "link": "https://stackoverflow.com/questions/38572272/awk-get-rows-from-a-file-that-contain-values-within-ranges-described-in-anothe/38572882#38572882", "title": "Awk - Get rows from a file that contain values within ranges described in another file", "body": "\n\n<p>In Perl</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nuse List::Util 'first';\n\nmy @grades = do {\n    open my $fh, '&lt;', 'file1.txt';\n    map [ split ], &lt;$fh&gt;;\n};\n\nopen my $fh, '&lt;', 'file2.txt';\n\nwhile ( &lt;$fh&gt;) {\n    my ($name, $score) = split;\n    my $grade = first { $_-&gt;[2] &lt;= $score } @grades;\n    print \"$name $score @$grade[0,3]\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Randy 80 B PASS\nDenis 44 F FAIL\nEarl 97 A PASS\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 2686680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1621a800324f65c094ce572011482e34?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/2686680/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 38572674, "answer_count": 3, "score": 1, "last_activity_date": 1469463686, "creation_date": 1469461770, "question_id": 38572272, "link": "https://stackoverflow.com/questions/38572272/awk-get-rows-from-a-file-that-contain-values-within-ranges-described-in-anothe", "title": "Awk - Get rows from a file that contain values within ranges described in another file", "body": "<p>I have 2 tab-delimited files formatted similar to this:</p>\n\n<p>file 1</p>\n\n<pre><code>A 100 90 PASS\nB 89 80 PASS\nC 79 70 PASS\nD 69 60 FAIL\nF 59 0 FAIL\n</code></pre>\n\n<p>file 2</p>\n\n<pre><code>Randy 80\nDenis 44\nEarl 97\n</code></pre>\n\n<p>I want to take the values from column 2 in file 2 and compare them with the ranges given between columns 2 and 3 of file 1. Then I want to create a new file that combines this data, printing columns 1 and 2 from file 2 and columns 1 and 4 from file 1:</p>\n\n<p>file 3</p>\n\n<pre><code>Randy 80 B PASS\nDenis 44 F FAIL\nEarl 97 A PASS\n</code></pre>\n\n<p>I want to implement this using awk or perl.</p>\n"}, {"tags": ["bash", "perl", "sed"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469462999, "post_id": 38571822, "comment_id": 64534380, "body": "Are there really blank lines in your data file? Are there always just two entries?"}, {"owner": {"reputation": 51, "user_id": 3263699, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/f5b5f59c655d96669f68b445482eff98?s=128&d=identicon&r=PG&f=1", "display_name": "user3263699", "link": "https://stackoverflow.com/users/3263699/user3263699"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469463388, "post_id": 38571822, "comment_id": 64534621, "body": "Nope ther are not blank lines and it is always the same A and A=X"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1469463587, "post_id": 38571822, "comment_id": 64534710, "body": "If there are no blank lines, perhaps you could edit your question so that your sample data looks more (preferably exactly!) like the real thing."}, {"owner": {"reputation": 51, "user_id": 3263699, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/f5b5f59c655d96669f68b445482eff98?s=128&d=identicon&r=PG&f=1", "display_name": "user3263699", "link": "https://stackoverflow.com/users/3263699/user3263699"}, "edited": false, "score": 0, "creation_date": 1469463847, "post_id": 38571822, "comment_id": 64534868, "body": "If i am removing the lines Dave it is becoming worse in format :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1469463972, "post_id": 38571822, "comment_id": 64534934, "body": "Please <a href=\"http://stackoverflow.com/editing-help\">learn how to edit your posts</a> on Stack Overflow."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469464140, "post_id": 38571822, "comment_id": 64535024, "body": "Are you saying you want to copy the second line of all the files into one place, and the fourth lines into another place? You say that <code>grep -w A &gt; output.txt</code> works for you, but that will just copy all the <code>A</code> and <code>A=X</code> lines to <code>output.txt</code>. What do you really want?"}, {"owner": {"reputation": 51, "user_id": 3263699, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/f5b5f59c655d96669f68b445482eff98?s=128&d=identicon&r=PG&f=1", "display_name": "user3263699", "link": "https://stackoverflow.com/users/3263699/user3263699"}, "edited": false, "score": 0, "creation_date": 1469464334, "post_id": 38571822, "comment_id": 64535135, "body": "Thanks Borodin, sorry for the misunderstanding. I meant to say that it takes the files and outputs two separate files one with having A and its content and one having the A=X and its content."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469464956, "post_id": 38571822, "comment_id": 64535490, "body": "I think you need <code>grep ^A$ -A1 *.txt</code> and <code>grep ^A=X$ -A1 *.txt</code>. Why do you want an alternative to <code>grep</code>?"}, {"owner": {"reputation": 51, "user_id": 3263699, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/f5b5f59c655d96669f68b445482eff98?s=128&d=identicon&r=PG&f=1", "display_name": "user3263699", "link": "https://stackoverflow.com/users/3263699/user3263699"}, "edited": false, "score": 0, "creation_date": 1469476613, "post_id": 38571822, "comment_id": 64541889, "body": "Thanks Borodin but i think that will not as it when i will use for extract the A=X it will also extract the A ones also."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469478810, "post_id": 38571822, "comment_id": 64543080, "body": "@user3263699: Did you try it? The regex patterns that I have shown match the <i>whole line</i>. I have also tested it."}, {"owner": {"reputation": 51, "user_id": 3263699, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/f5b5f59c655d96669f68b445482eff98?s=128&d=identicon&r=PG&f=1", "display_name": "user3263699", "link": "https://stackoverflow.com/users/3263699/user3263699"}, "edited": false, "score": 0, "creation_date": 1469479835, "post_id": 38571822, "comment_id": 64543596, "body": "Yes i tried it. When i am extracting the A=X it is working fine but when i am extracting the A only then A=X is also coming"}], "answers": [{"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1469496001, "creation_date": 1469496001, "answer_id": 38579727, "question_id": 38571822, "link": "https://stackoverflow.com/questions/38571822/separating-merge-file-into-different-file/38579727#38579727", "title": "Separating merge file into different file", "body": "<pre><code>awk 'NR%2{o=$0;next}{print &gt; o}' file\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 3263699, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/f5b5f59c655d96669f68b445482eff98?s=128&d=identicon&r=PG&f=1", "display_name": "user3263699", "link": "https://stackoverflow.com/users/3263699/user3263699"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1469496001, "creation_date": 1469460525, "last_edit_date": 1469464061, "question_id": 38571822, "link": "https://stackoverflow.com/questions/38571822/separating-merge-file-into-different-file", "title": "Separating merge file into different file", "body": "<p>I have a list of files in which I have text sorted according to labels. One of the labels is <code>A</code> and the other is <code>A=X</code>.</p>\n\n<p>For example like this</p>\n\n<pre><code>A\nQMAX3427\nA=X\nQMAX567897\n</code></pre>\n\n<p>Now I want to make two different files one with the <code>A</code> and one with the <code>A=X</code> contents</p>\n\n<p>This can be easily done with grep by <code>grep -w A &gt; output.txt</code>.</p>\n\n<p>Is there any other option?</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1469460203, "post_id": 38571651, "comment_id": 64532527, "body": "loop through the keys of <code>fruit</code> until you see one with name = <code>apple</code>"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "edited": false, "score": 0, "creation_date": 1469521226, "post_id": 38572138, "comment_id": 64557543, "body": "This is what I wanted, thank you  :D  Would you mind explaining these in your code?&quot;die scalar&quot;,  &quot;print scalar..&quot; and &quot;nometagen =&gt; 1&quot;"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1469461391, "creation_date": 1469461391, "answer_id": 38572138, "question_id": 38571651, "link": "https://stackoverflow.com/questions/38571651/perl-xmlsmart-how-to-update-a-node-value-in-an-xml-file/38572138#38572138", "title": "Perl XML::Smart : How to update a node value in an xml file?", "body": "\n\n<p>You will have to search the data structure for fruits with a <code>name</code> fiels of <code>apple</code></p>\n\n<p>You will probably also want to ensure that there is exactly one such element</p>\n\n<p>The code would look like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse XML::Smart;\n\nmy $xml = XML::Smart-&gt;new(\\*DATA);\n\nmy $fruits = $xml-&gt;{food}{fruit};\n\nmy @apples = grep { $_-&gt;{name} eq 'apple' } @$fruits;\n\ndie scalar @apples . \" apples found\" unless @apples == 1;\n\n$apples[0]{price} = 14;\n\nprint scalar $xml-&gt;data(nometagen =&gt; 1);\n\n\n\n__DATA__\n&lt;food&gt;\n    &lt;fruit&gt;\n        &lt;name&gt;banana&lt;/name&gt;\n        &lt;price&gt;12&lt;/price&gt;\n    &lt;/fruit&gt;\n    &lt;fruit&gt;\n        &lt;name&gt;apple&lt;/name&gt;\n        &lt;price&gt;13&lt;/price&gt;\n    &lt;/fruit&gt;\n    &lt;fruit&gt;\n        &lt;name&gt;orange&lt;/name&gt;\n        &lt;price&gt;19&lt;/price&gt;\n    &lt;/fruit&gt;\n&lt;/food&gt;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;food&gt;\n  &lt;fruit&gt;\n    &lt;name&gt;banana&lt;/name&gt;\n    &lt;price&gt;12&lt;/price&gt;\n  &lt;/fruit&gt;\n  &lt;fruit&gt;\n    &lt;name&gt;apple&lt;/name&gt;\n    &lt;price&gt;14&lt;/price&gt;\n  &lt;/fruit&gt;\n  &lt;fruit&gt;\n    &lt;name&gt;orange&lt;/name&gt;\n    &lt;price&gt;19&lt;/price&gt;\n  &lt;/fruit&gt;\n&lt;/food&gt;\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 38572138, "answer_count": 1, "score": 0, "last_activity_date": 1469461391, "creation_date": 1469460067, "question_id": 38571651, "link": "https://stackoverflow.com/questions/38571651/perl-xmlsmart-how-to-update-a-node-value-in-an-xml-file", "title": "Perl XML::Smart : How to update a node value in an xml file?", "body": "<p>I am trying to update an xml file from a Perl script using XML::Smart library.</p>\n\n<p>Example XML file: </p>\n\n<pre><code>&lt;food&gt;\n    &lt;fruit&gt;\n        &lt;name&gt;banana&lt;/name&gt;\n        &lt;price&gt;12&lt;/price&gt;\n    &lt;/fruit&gt;\n    &lt;fruit&gt;\n        &lt;name&gt;apple&lt;/name&gt;\n        &lt;price&gt;13&lt;/price&gt;\n    &lt;/fruit&gt;\n    &lt;fruit&gt;\n        &lt;name&gt;orange&lt;/name&gt;\n        &lt;price&gt;19&lt;/price&gt;\n    &lt;/fruit&gt;\n&lt;/food&gt;\n</code></pre>\n\n<p>I want to update apple price from 13 to 14 for example. </p>\n\n<p>I tried this: </p>\n\n<pre><code>#!/usr/bin/perl\nuse XML::Smart;\n\nmy $XML = XML::Smart-&gt;new(file.xml);\n\n$XML-&gt;{food}{fruit}[$X]{price} = 14 ;\n\n$XML-&gt;save($file);\n</code></pre>\n\n<p>This could work if I knew the index number $X of the fruit element named apple. \nHere we can see it's 1 because indexes start from 0, but in case of multiple fruit elements, how could I get that index knowing only the fruit name?  </p>\n"}, {"tags": ["perl", "data-dumper"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1469458386, "post_id": 38570319, "comment_id": 64531401, "body": "If I understand you correctly, you want to know how to access the values in your data structure. You want to iterate over the <i>field</i> array reference and access keys inside the hash refs that are the elements of <i>field</i>. I suggest you read <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a> for an introduction to data structures in Perl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469479074, "post_id": 38570319, "comment_id": 64543221, "body": "Does this data originate as XML? How are you generating it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469507506, "post_id": 38570319, "comment_id": 64551039, "body": "There is no name field. Do you mean content? How do you want to handle  a language with an empty array? How do you want to handle a language with more than one element in the array?"}], "answers": [{"tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 4, "last_activity_date": 1469515449, "last_edit_date": 1469515449, "creation_date": 1469458420, "answer_id": 38571047, "question_id": 38570319, "link": "https://stackoverflow.com/questions/38570319/print-data-after-dumper/38571047#38571047", "title": "Print data after dumper", "body": "<p>It looks like the structure is a hashref containing an arrayref of hashes, and so on. And apparently where you mention 'name' you mean 'content' by language.  Likewise, it seems that where you mention 'tag' you mean 'type'. My answer will be based on those assumptions.</p>\n\n<pre><code>foreach my $rec (@{$href-&gt;{field}}) {\n    print \"$rec-&gt;{content}-&gt;{en}-&gt;[0]: $rec-&gt;{type}, $rec-&gt;{valore}\\n\";\n}\n</code></pre>\n\n<p>The <code>-&gt;</code> between <code>{content}</code> and <code>{en}</code>, and again between <code>{en}</code> and <code>[0]</code> are optional, and a matter of style.</p>\n\n<p>If you simply want to access elements directly (foregoing the loop), you might do it like this:</p>\n\n<pre><code>print $href-&gt;{field}-&gt;[0]-&gt;{content}-&gt;{en}-&gt;[0], \"\\n\";\nprint $href-&gt;{field}-&gt;[0]-&gt;{type}, \"\\n\";\nprint $href-&gt;{field}-&gt;[0]-&gt;{valore}, \"\\n\";\n</code></pre>\n\n<p>If you want to print <em>all</em> the languages, you could do this:</p>\n\n<pre><code>foreach my $rec (@{$href-&gt;{field}}) {\n    print $rec-&gt;{content}-&gt;{$_}-&gt;[0], \"\\n\" foreach sort keys %{$rec-&gt;{content}};\n    print $rec-&gt;{type}, \"\\n\";\n    print $rec-&gt;{valor}, \"\\n\\n\";\n}\n</code></pre>\n\n<p>There are several Perl documentation pages that could be of use to you in the future as you learn to manipulate references and datastructures with Perl:  <code>perlreftut</code>, <code>perlref</code>, and <code>perldsc</code>.  Access them from your own system as <code>perldoc perlreftut</code>, for example.</p>\n"}], "owner": {"reputation": 45, "user_id": 5546256, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2ozF7.jpg?s=128&g=1", "display_name": "Python_96", "link": "https://stackoverflow.com/users/5546256/python-96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 38571047, "answer_count": 1, "score": 0, "last_activity_date": 1469515449, "creation_date": 1469456519, "question_id": 38570319, "link": "https://stackoverflow.com/questions/38570319/print-data-after-dumper", "title": "Print data after dumper", "body": "<p>I have this structure with data-dumper:</p>\n\n<pre><code>$VAR1 = {\n      'field' =&gt; [\n                 {\n                   'content' =&gt; {\n                                'en' =&gt; [\n                                        'Footware haberdashery leather goods'\n                                      ],\n                                'de' =&gt; [\n                                        'Schuhe Kurzwaren und Lederartikel'\n                                      ],\n                                'it' =&gt; [\n                                        'Calzature mercerie e pelletterie'\n                                      ]\n                              },\n                   'type' =&gt; 'tag',\n                   'valore' =&gt; 'TAG3'\n                 },\n                 {\n                   'content' =&gt; {\n                                'en' =&gt; [\n                                        'Cobbler'\n                                      ],\n                                'de' =&gt; [\n                                        'Schuster'\n                                      ],\n                                'it' =&gt; [\n                                        'Calzolai'\n                                      ]\n                              },\n                   'type' =&gt; 'tag',\n                   'valore' =&gt; 'TAG24'\n                 }\n               ]\n    };\n</code></pre>\n\n<p>My question is: how to take data and print one for one ?\nI want print the name, the tag and valore.\nFor my software is necessary take the name of shop and more data  for example the type </p>\n"}, {"tags": ["mysql", "perl", "dbi", "dbd-mysql"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469456471, "post_id": 38570085, "comment_id": 64530084, "body": "DBD::mysql doesn&#39;t describe it in the docs, and neither does DBI give hints about it."}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 1278913, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/68f75d432724ed22b7defe9eb37390f9?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1278913/dan"}, "edited": false, "score": 0, "creation_date": 1488791936, "post_id": 38571277, "comment_id": 72371754, "body": "Is this still true, or have the binaries been updated?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 325, "user_id": 1278913, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/68f75d432724ed22b7defe9eb37390f9?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1278913/dan"}, "edited": false, "score": 1, "creation_date": 1488815773, "post_id": 38571277, "comment_id": 72387923, "body": "As far as I know, nothing has changed. I don&#39;t see anything suggesting that the MySQL developers are even working on adding this functionality. Maybe you should submit a feature request."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 3, "last_activity_date": 1469459061, "creation_date": 1469459061, "answer_id": 38571277, "question_id": 38570085, "link": "https://stackoverflow.com/questions/38570085/use-login-path-local-in-perl-dbdmysql/38571277#38571277", "title": "use --login-path=local in perl DBD::mysql", "body": "<p>DBD::mysql uses the MySQL C API, which doesn't appear to support login paths. As an alternative, you can use an <a href=\"http://dev.mysql.com/doc/refman/5.7/en/option-files.html\" rel=\"nofollow\">option file</a> and the <a href=\"https://metacpan.org/pod/DBD::mysql#mysql_read_default_file\" rel=\"nofollow\"><code>mysql_read_default_file</code></a> and <code>mysql_read_default_group</code> options in your <code>connect</code> call:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse DBI;\n\nmy $dsn = 'DBI:mysql:' .\n          ';mysql_read_default_group=local' .\n          ';mysql_read_default_file=/path/to/config';\n\nmy $dbh = DBI-&gt;connect($dsn, undef, undef, {\n    PrintError =&gt; 0,\n    RaiseError =&gt; 1\n});\n</code></pre>\n\n<p>Your option file should look something like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[local]\nhost     = localhost\ndatabase = foo\nuser     = myuser\npassword = mypassword\n\n[remote]\nhost     = remote.example.com\ndatabase = foo\nuser     = myuser\npassword = mypassword\n</code></pre>\n\n<p>Note that unlike .mylogin.cnf (the file used by <code>--login-path</code>), regular option files are not encrypted. This isn't as big of a problem as it might sound. The main benefit of encryption is that it prevents you from accidentally exposing your credentials, e.g. when viewing the file, but it doesn't provide unbreakable security. You can still protect your option file by making sure it's not world-readable, excluding it from version control, etc.</p>\n"}], "owner": {"reputation": 31, "user_id": 4153507, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CoTOPYJTRBs/AAAAAAAAAAI/AAAAAAAAAPI/QLn7mM62HCo/photo.jpg?sz=128", "display_name": "Chen Weihua", "link": "https://stackoverflow.com/users/4153507/chen-weihua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1469459061, "creation_date": 1469455925, "question_id": 38570085, "link": "https://stackoverflow.com/questions/38570085/use-login-path-local-in-perl-dbdmysql", "title": "use --login-path=local in perl DBD::mysql", "body": "<p>mysql supports passwordless login using stored local authentication credentials in a file named .mylogin.cnf (see <a href=\"http://dev.mysql.com/doc/refman/5.7/en/mysql-config-editor.html\" rel=\"nofollow\">here</a> for more details). </p>\n\n<p>for example: </p>\n\n<pre><code>mysql --login-path=local\n</code></pre>\n\n<p>My questions is: how to do this in perl using DBD::mysql?</p>\n"}, {"tags": ["perl", "file", "hash"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1469452549, "post_id": 38568778, "comment_id": 64527273, "body": "please provide sample input/output as well <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469452838, "post_id": 38568778, "comment_id": 64527467, "body": "Without sample data, it&#39;s hard to answer. But I think it&#39;ll be because your inner loop is getting steadily larger, and each iteration, you&#39;re sorting it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469452912, "post_id": 38568778, "comment_id": 64527521, "body": "Some <i>actual sample</i> data is necessary. &#39;something like&#39; isn&#39;t enough for us to help. (It  doesn&#39;t have to be &#39;real&#39; data, but it has to have EXACTLY the right formatting)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469453600, "post_id": 38568778, "comment_id": 64527969, "body": "How big is your log file?"}, {"owner": {"reputation": 93, "user_id": 4398301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb3043b3b4dbb03046411a69775e052?s=128&d=identicon&r=PG&f=1", "display_name": "cvirus96", "link": "https://stackoverflow.com/users/4398301/cvirus96"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469454756, "post_id": 38568778, "comment_id": 64528829, "body": "@Borodin really large millions of lines"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1469453169, "post_id": 38569011, "comment_id": 64527679, "body": "I suspect that it&#39;s looking for unique mail IDs, rather than unique lines in the file. (I&#39;m not entirely sure though). And likewise - I assume that it&#39;s reading two extra lines from the file, because it&#39;s doing something with a record, but ..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469453260, "post_id": 38569011, "comment_id": 64527745, "body": "@Sobrique: I just copied the existing functionality. It&#39;s another question if that doesn&#39;t work!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1469453190, "last_edit_date": 1469453190, "creation_date": 1469453092, "answer_id": 38569011, "question_id": 38568778, "link": "https://stackoverflow.com/questions/38568778/is-there-a-better-way-to-pull-duplicate-strings-out-of-a-file-in-perl/38569011#38569011", "title": "Is there a better way to pull duplicate strings out of a file in Perl?", "body": "<p>First of all, there is no need to iterate over all the keys of a hash; it breaks the whole point of a hash</p>\n\n<p>Suppose you wanted element <code>$arr[3]</code> of arra <code>@arr</code>, would you write this?</p>\n\n<pre><code>for my $i ( 0 .. $#arr ) {\n    if ( $i == 3 ) {\n        print \"Found: $arr[$i]\\n\";\n    }\n}\n</code></pre>\n\n<p>and so you can just access any previously-existing element of <code>%uniq</code> with <code>$uniq{$search}</code></p>\n\n<p>Secondly, you can simply test whether the element of <code>%uniq</code> is currently zero when you increment it</p>\n\n<p>Like this</p>\n\n<pre><code>my $test           = 'testFile.txt';\nmy $domainAnalysis = '...';\n\nopen my $handle, '&lt;', $domainAnalysis or die qq{Cannot open \"$domainAnalysis\": $!};\nopen my $hand,   '&gt;', $test           or die qq{Cannot open \"$test\": $!};\n\nmy %uniq;\n\nwhile ( my $search = &lt;$handle&gt; ) {\n\n    next unless $search =~ /^Mail ID:/;\n\n    if ( $uniq{$search}++ ) {\n        print $hand $search;\n        print $hand scalar &lt;$handle&gt; for 1 .. 2;\n    }\n}\n</code></pre>\n\n<p>You also <em>must always</em> <code>use strict</code> and <code>use warnings 'all'</code> and declare all of your variables with <code>my</code> as close as possible to where they are first used</p>\n\n<p>And <code>$hand</code> and <code>$handle</code> are dreadful names for file handles!</p>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 4398301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb3043b3b4dbb03046411a69775e052?s=128&d=identicon&r=PG&f=1", "display_name": "cvirus96", "link": "https://stackoverflow.com/users/4398301/cvirus96"}, "edited": false, "score": 0, "creation_date": 1469456390, "post_id": 38569124, "comment_id": 64530001, "body": "Although if I wanted to redirect this to a file how would I do that? For  some reason if I used:  print$handle unless $seen{$id}++; its not working"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 93, "user_id": 4398301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb3043b3b4dbb03046411a69775e052?s=128&d=identicon&r=PG&f=1", "display_name": "cvirus96", "link": "https://stackoverflow.com/users/4398301/cvirus96"}, "edited": false, "score": 0, "creation_date": 1469457275, "post_id": 38569124, "comment_id": 64530642, "body": "To use the exact <code>print unless...</code> idiom, you need to use <code>select</code> to choose the default output - e.g. <code>select $handle;</code> - outside the loop is fine. Otherwise, if you want to do it explicitly: <code>print {$handle} $_ unless $seen{$id}++;</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1469453411, "creation_date": 1469453411, "answer_id": 38569124, "question_id": 38568778, "link": "https://stackoverflow.com/questions/38568778/is-there-a-better-way-to-pull-duplicate-strings-out-of-a-file-in-perl/38569124#38569124", "title": "Is there a better way to pull duplicate strings out of a file in Perl?", "body": "<p>I'm pretty sure your problem is that inner loop - as you iterate the log, presumably you'll accumulate a significant number of 'Mail ID' entries. </p>\n\n<p>And each loop, you sort them all, and then iterate them all and compare them.</p>\n\n<p>And - more importantly - your <code>$search</code> that you're inserting into each hash is EACH LINE which means it'll be getting huge. </p>\n\n<p>Anyway - I'd suggest given your input data, first off you use <code>$/</code>:</p>\n\n<pre><code>local $/ = ''; #read in paragraph mode.  \nmy %seen; \nwhile ( &lt;$input&gt; ) { \n    my ( $id ) = m/Mail ID: ([^:]*)/;\n    print unless $seen{$id}++; \n}\n</code></pre>\n\n<p>And this will print only the first time a particular mail ID is spotted. </p>\n\n<p>(Of course, if you only want to print <em>duplicates</em> you can use 'if' instead of 'unless')</p>\n"}], "owner": {"reputation": 93, "user_id": 4398301, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb3043b3b4dbb03046411a69775e052?s=128&d=identicon&r=PG&f=1", "display_name": "cvirus96", "link": "https://stackoverflow.com/users/4398301/cvirus96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 38569124, "answer_count": 2, "score": 0, "last_activity_date": 1469454179, "creation_date": 1469452416, "last_edit_date": 1469454179, "question_id": 38568778, "link": "https://stackoverflow.com/questions/38568778/is-there-a-better-way-to-pull-duplicate-strings-out-of-a-file-in-perl", "title": "Is there a better way to pull duplicate strings out of a file in Perl?", "body": "<p></p>\n\n<p>I currently am looping through a log file pulling certain characteristics out. I have to check for a unique string if it is duplicated and if the string is duplicated then ignore that log. Currently, my code takes an absurd amount of time to run (or I'm in an infinite loop) yippey. Is there a better way to pull duplicates out of a file and check them for uniqueness?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>close($handle);\n\n$test = \"testFile.txt\";\n\nopen( $handle, '&lt;', $domainAnalysis ) or die \"Cannot open file: $!\";\nopen( $hand,   '&gt;', $test )           or die \"Cannot open file: $!\";\n\nmy %uniq;\n\nwhile ( $search = &lt;$handle&gt; ) {\n\n    if ( $search =~ /Mail ID: ([^:]*)\\n/g ) {\n        $uniq{$search}++;\n    }\n\n    my @sortedHash = sort keys %uniq;\n\n    foreach $i (@sortedHash) {\n\n        if ( $i eq $search ) {\n            print $hand $search;\n            print $hand scalar &lt;$handle&gt; for 1 .. 2;\n        }\n    }\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated. I am kinda stuck. </p>\n\n<p>Edit:</p>\n\n<p>It currently is reading a log file and pulling needed information to a new file. The new file is printed in the format of this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Mail ID: b12342534  \nDomain : someEmail@email.com  \nStatus Message = Sent  \n\nMail ID: a32432234  \nDomain : someEmail@email.com  \nStatus Message = Deferred  \n</code></pre>\n\n<p>Output: well the program never actually stops. It takes forever and my patience won't let it run all the way.</p>\n"}, {"tags": ["html", "perl", "mechanize", "html-tableextract"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1469450391, "post_id": 38567448, "comment_id": 64525697, "body": "Is the page building this table using JavaScript?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469450476, "post_id": 38567448, "comment_id": 64525769, "body": "I only see one table there. There are multiple tabs, though. Are you talking about a table in one of those tabs? Which one?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469452155, "post_id": 38567448, "comment_id": 64526982, "body": "<i>&quot;I am trying to fetch all tables from the website ... I got first two tables only, which are useless for me&quot;</i> Do you mean you&#39;re trying to fetch the third table from the page?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1469452381, "creation_date": 1469452381, "answer_id": 38568761, "question_id": 38567448, "link": "https://stackoverflow.com/questions/38567448/how-can-i-extract-special-kind-of-table-from-website-in-perl/38568761#38568761", "title": "how can i extract special kind of table from website in perl?", "body": "<p></p>\n\n<p>The third table is generated dynamically using JavaScript. <code>WWW::Mechanize</code> doesn't support JavaScript, and you will need to use <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox\" rel=\"nofollow\"><code>WWW::Mechanize::Firefox</code></a> instead</p>\n\n<p>Note that this will require you to install a Firefox web browser, and its mozrepl plugin, as well as the <code>MozRepl</code> Perl module</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\nuse open qw/ :std :encoding(UTF-8) /;\n\nuse WWW::Mechanize::Firefox;\nuse HTML::TableExtract;\n\nuse constant URL =&gt; 'http://finance.yahoo.com/etf/lists/?bypass=true&amp;mod_id=mediaquotesetf&amp;tab=tab1&amp;scol=imkt&amp;stype=desc&amp;rcnt=50&amp;page=1';\n\nmy $mech = WWW::Mechanize::Firefox-&gt;new;\n$mech-&gt;autoclose_tab(0);\n$mech-&gt;get(URL);\n\nmy $te = HTML::TableExtract-&gt;new(depth =&gt; 0, count =&gt; 2);\n$te-&gt;parse( $mech-&gt;content );\n\nfor my $row ( $te-&gt;rows ) {\n    local $\" = ',';\n    print \"@$row\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ETF Name,Ticker,Category,Fund Family,Intraday Return,3-MO Return,YTD Return,1-YR Return,3-YR Return,5-YR Return\nUBS ETRACS ISE Exclusively Hmbldrs ETN,HOMX,Consumer Cyclical,UBS Group AG,+13.43%,-6.74%,-6.74%,-19.54%,0.0%,0.0%\nVelocityShares 3x Long Natural Gas ETN,UGAZ,Trading-Leveraged Commodities,Credit Suisse AG,+9.33%,-60.15%,-60.15%,-91.36%,-81.58%,0.0%\nProShares Ultra Bloomberg Natural Gas,BOIL,Trading-Leveraged Commodities,ProShares,+5.96%,-41.13%,-41.13%,-76.12%,-62.1%,0.0%\nDirexion Daily Brazil Bull 3X ETF,BRZU,Trading-Leveraged Equity,Direxion Funds,+4.24%,+66.64%,+66.64%,-61.7%,0.0%,0.0%\nDB Commodity Double Long ETN,DYY,Trading-Leveraged Commodities,Deutsche Bank AG,+4.16%,-25.87%,-25.87%,-41.98%,-34.91%,-32.8%\nDeutsche X-trackers MSCI EMktsHiDvYdHgEq,HDEE,Diversified Emerging Mkts,Deutsche Asset Management,+3.73%,-2.15%,-2.15%,0.0%,0.0%,0.0%\nDB Agriculture Double Long ETN,DAG,Trading-Leveraged Commodities,Deutsche Bank AG,+3.57%,+3.12%,+3.12%,-19.14%,-29.52%,-25.49%\nUnited States Natural Gas,UNG,Commodities Energy,United States Commodity Funds LLC,+3.15%,-23.18%,-23.18%,-49.7%,-32.73%,-32.09%\nDirexion Daily Jr Gld Mnrs Bear 3X ETF,JDST,Trading-Inverse Equity,Direxion Funds,+3.03%,-80.83%,-80.83%,-88.33%,0.0%,0.0%\nDirexion Daily S&amp;P Biotech Bull 3X ETF,LABU,Trading-Leveraged Equity,Direxion Funds,+2.97%,-67.51%,-67.51%,0.0%,0.0%,0.0%\nVelocityShares 3x Inverse Silver ETN,DSLV,Trading-Inverse Commodities,Credit Suisse AG,+2.88%,-36.11%,-36.11%,-15.03%,+13.64%,0.0%\nProShares Ultra MSCI Brazil Capped,UBR,Trading-Leveraged Equity,ProShares,+2.85%,+51.79%,+51.79%,-37.19%,-42.04%,-38.48%\nDirexion Daily India Bull 3X ETF,INDL,Trading-Leveraged Equity,Direxion Funds,+2.71%,-9.82%,-9.82%,-48.84%,-13.11%,-22.69%\nDirexion Daily Real Estate Bull 3X ETF,DRN,Trading-Leveraged Equity,Direxion Funds,+2.66%,+15.65%,+15.65%,-0.71%,+21.8%,+22.37%\niShares US Telecommunications,IYZ,Communications,iShares,+2.63%,+7.43%,+7.43%,+3.79%,+10.74%,+7.88%\nProShares Ultra Semiconductors,USD,Trading-Leveraged Equity,ProShares,+2.58%,-4.09%,-4.09%,-6.65%,+31.6%,+15.12%\nDirexion Daily Pharmctcl&amp;Medcl Bl 2X ETF,PILL,Trading-Leveraged Equity,Direxion Funds,+2.57%,-27.81%,-27.81%,0.0%,0.0%,0.0%\nIQ Hedge Event-Driven Tracker ETF,QED,Market Neutral,IndexIQ,+2.54%,+1.51%,+1.51%,-1.64%,0.0%,0.0%\nDirexion Daily Regional Bnks Bull 3X ETF,DPST,Trading-Leveraged Equity,Direxion Funds,+2.51%,-20.73%,-20.73%,0.0%,0.0%,0.0%\nVelocityShares 3x Inverse Gold ETN,DGLD,Trading-Inverse Commodities,Credit Suisse AG,+2.44%,-40.19%,-40.19%,-24.19%,+6.6%,0.0%\nDirexion Daily South Korea Bull 3X ETF,KORU,Trading-Leveraged Equity,Direxion Funds,+2.43%,+12.48%,+12.48%,-30.37%,0.0%,0.0%\nVelocityShares Daily Inverse VIX ST ETN,XIV,Volatility,Credit Suisse AG,+2.43%,+0.31%,+0.31%,-25.29%,+3.55%,+13.26%\nProShares Ultra S&amp;P Regional Banking,KRU,Trading-Leveraged Equity,ProShares,+2.42%,-22.89%,-22.89%,-17.41%,+10.48%,+9.61%\nGlobal X FTSE Andean 40 ETF,AND,Latin America Stock,Global X Funds,+2.38%,+12.8%,+12.8%,-15.28%,-19.56%,-11.0%\nAccuShares Spot CBOE\u00ae VIX\u00ae ETC Down,VXDN,Volatility,AccuShares\u2122,+2.32%,-12.72%,-12.72%,0.0%,0.0%,0.0%\nProShares Short S&amp;P Regional Banking,KRS,Trading-Inverse Equity,ProShares,+2.3%,+7.46%,+7.46%,-0.5%,-12.4%,-14.52%\nUnited States 12 Month Natural Gas,UNL,Commodities Energy,United States Commodity Funds LLC,+2.3%,-8.84%,-8.84%,-29.88%,-22.73%,-23.91%\nProShares Short VIX Short-Term Futures,SVXY,Volatility,ProShares,+2.28%,+0.16%,+0.16%,-25.73%,+3.53%,0.0%\nSPDR\u00ae S&amp;P Transportation ETF,XTN,Industrials,SPDR State Street Global Advisors,+2.24%,+7.3%,+7.3%,-12.73%,+12.63%,+12.34%\niShares MSCI UAE Capped,UAE,Miscellaneous Region,iShares,+2.22%,+5.31%,+5.31%,-4.98%,0.0%,0.0%\nVelocityShares 3x Inverse Crude Oil ETN,DWTI,Trading-Inverse Commodities,Credit Suisse AG,+2.21%,-20.19%,-20.19%,+19.62%,+56.72%,0.0%\nProShares Ultra High Yield,UJB,Trading-Leveraged Debt,ProShares,+2.19%,+10.09%,+10.09%,-6.81%,+1.36%,0.0%\niPath\u00ae Bloomberg Livestock SubTR ETN,COW,Commodities Agriculture,Barclays Funds,+2.19%,+0.94%,+0.94%,-10.57%,-3.1%,-5.92%\niPath\u00ae Bloomberg Natural Gas SubTR ETN,GAZ,Commodities Energy,Barclays Funds,+2.19%,-31.94%,-31.94%,-59.17%,-44.91%,-49.91%\nDirexion Daily Small Cap Bull 3X ETF,TNA,Trading-Leveraged Equity,Direxion Funds,+2.16%,-8.7%,-8.7%,-35.41%,+10.14%,+6.17%\nProShares Ultra Utilities,UPW,Trading-Leveraged Equity,ProShares,+2.16%,+30.83%,+30.83%,+28.99%,+22.85%,+24.31%\nSPDR\u00ae Wells Fargo Preferred Stock ETF,PSK,Preferred Stock,SPDR State Street Global Advisors,+2.14%,+1.77%,+1.77%,+5.83%,+5.83%,+6.08%\nProShares UltraShort Silver,ZSL,Trading-Inverse Commodities,ProShares,+2.14%,-23.44%,-23.44%,-1.99%,+21.56%,-2.97%\nProShares UltraPro Russell2000,URTY,Trading-Leveraged Equity,ProShares,+2.14%,-8.53%,-8.53%,-34.81%,+10.76%,+7.06%\nDirexion Daily Emrg Mkts Bull 3X ETF,EDC,Trading-Leveraged Equity,Direxion Funds,+2.11%,+13.64%,+13.64%,-44.79%,-25.84%,-28.1%\nDB Agriculture Short ETN,ADZ,Trading-Inverse Commodities,Deutsche Bank AG,+2.1%,-11.59%,-11.59%,-5.04%,+11.94%,+7.62%\nDB 3x Long 25+ Year Treasury Bond ETN,LBND,Trading-Leveraged Debt,Deutsche Bank AG,+2.08%,+22.67%,+22.67%,+2.15%,+11.31%,+24.21%\nPureFunds ISE Cyber Security\u2122 ETF,HACK,Technology,Pure Funds,+2.02%,-7.45%,-7.45%,-14.3%,0.0%,0.0%\nProShares UltraPro MidCap400,UMDD,Trading-Leveraged Equity,ProShares,+1.95%,+6.04%,+6.04%,-19.63%,+20.32%,+16.2%\nProShares Ultra Telecommunications,LTL,Trading-Leveraged Equity,ProShares,+1.79%,+13.74%,+13.74%,+0.87%,+18.18%,+11.67%\nDirexion Daily Hmbldrs&amp;Supls Bull 3X ETF,NAIL,Trading-Leveraged Equity,Direxion Funds,+1.79%,-10.32%,-10.32%,0.0%,0.0%,0.0%\nTeucrium Wheat ETF,WEAT,Commodities Agriculture,Teucrium,+1.78%,-1.54%,-1.54%,-17.67%,-21.21%,0.0%\nVanguard Telecommunication Services ETF,VOX,Communications,Vanguard,+1.76%,+11.11%,+11.11%,+11.82%,+11.64%,+9.99%\nDirexion Daily Financial Bull 3X ETF,FAS,Trading-Leveraged Equity,Direxion Funds,+1.75%,-14.79%,-14.79%,-18.93%,+21.63%,+14.48%\nUS Global Jets ETF,JETS,Miscellaneous Sector,U.S. Global Investors,+1.75%,+1.77%,+1.77%,0.0%,0.0%,0.0%\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6634729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8fbd232a5b4a7080d2b06774f176eb51?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/6634729/sanket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469454547, "creation_date": 1469448754, "last_edit_date": 1469454547, "question_id": 38567448, "link": "https://stackoverflow.com/questions/38567448/how-can-i-extract-special-kind-of-table-from-website-in-perl", "title": "how can i extract special kind of table from website in perl?", "body": "<p>I am trying to fetch all tables from the website <a href=\"http://finance.yahoo.com/etf/lists/?bypass=true&amp;mod_id=mediaquotesetf&amp;tab=tab1&amp;scol=imkt&amp;stype=desc&amp;rcnt=50&amp;page=1\" rel=\"nofollow\">http://finance.yahoo.com/etf/lists/?bypass=true&amp;mod_id=mediaquotesetf&amp;tab=tab1&amp;scol=imkt&amp;stype=desc&amp;rcnt=50&amp;page=1</a>, using Perl module HTML::TableExtract, but I can't get the desired table; instead I get the first two tables only, which are useless to me.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n#!perl -w\nuse DBI;\nuse strict;\nuse WWW::Mechanize;\nuse HTML::TableExtract;\nmy $mech= WWW::Mechanize-&gt;new();\nmy $url= 'http://finance.yahoo.com/etf/lists/?bypass=true&amp;mod_id=mediaquotesetf&amp;tab=tab1&amp;scol=imkt&amp;stype=desc&amp;rcnt=50&amp;page=1';\n$mech -&gt; get($url);\nchomp(my $script = $mech -&gt; content);\nmy $table=new HTML::TableExtract();\n$table-&gt;parse($script);\n\nforeach my $ts($table-&gt;tables){\n\nprint \"Table (\", join(',', $ts-&gt;coords), \"):\\n\";\n\nforeach my $row ($ts-&gt;rows){\n    print join(',', @$row), \"\\n\";\n}\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Table (0,0):\n  ,Search FinanceSearch Web\nTable (0,1):\n\n                              Quotes you view appear here for quick access.\n</code></pre>\n\n<p>like this I only get the first two tables instead of all of them.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "is_accepted": false, "score": 1, "last_activity_date": 1469458568, "creation_date": 1469458568, "answer_id": 38571098, "question_id": 38567339, "link": "https://stackoverflow.com/questions/38567339/excelwriterxlsx-using-numbers-as-hyperlinks/38571098#38571098", "title": "Excel::Writer::XLSX using numbers as hyperlinks", "body": "<p>Just need more precisely read the doc. It says:</p>\n\n<blockquote>\n  <p>If you wish to have some other cell data such as a number or a formula\n  you can overwrite the cell using another call to write_*():</p>\n</blockquote>\n\n<p>So, the solution is using:</p>\n\n<pre><code>$worksheet-&gt;write_url( 0, 0, $url.$num, $f_url, $num );\n# adding another write after the write_url - the link remains\n$worksheet-&gt;write_number( 0, 0, $num, $f_url ); # and now it is an number\n</code></pre>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1469458568, "creation_date": 1469448381, "question_id": 38567339, "link": "https://stackoverflow.com/questions/38567339/excelwriterxlsx-using-numbers-as-hyperlinks", "title": "Excel::Writer::XLSX using numbers as hyperlinks", "body": "<p>Need create an Excel file where in some cells has <code>numbers</code> and these numbers should be as labels for the hyperlink.</p>\n\n<p>So, using the following demo code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Excel::Writer::XLSX;\n\nmy $workbook = Excel::Writer::XLSX-&gt;new( 'test.xlsx' );\nmy $f_url = $workbook-&gt;add_format( color =&gt; 'blue', underline =&gt; 1 );\nmy $worksheet = $workbook-&gt;add_worksheet();\n\nmy $url = 'http://example.com/aaa=';\nmy $num = 123;\n\n$worksheet-&gt;write_url( 0, 0, $url.$num, $f_url, $num );\n\n$workbook-&gt;close();\n</code></pre>\n\n<p>After opening the <code>test.xlsx</code> in the Excel, it shows an cell-warning about the <code>number stored as text</code>, like in the following screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BIDYF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BIDYF.png\" alt=\"enter image description here\"></a></p>\n\n<p>after selecting the <code>convert to number</code> got:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ENZWZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ENZWZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>E.g. correct hyperlink, where the \"number\" is really number (right aligned, without warning).</p>\n\n<p>The question is: how to create the <code>test.xlsx</code> to get an correct cell type? e.g. <code>number</code> <strong>and</strong> <code>hyperlink</code>?</p>\n\n<p>The <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX#write_number-row-column-number-format\" rel=\"nofollow noreferrer\">Excel::Writer::XLSX</a> knows:</p>\n\n<pre><code>write_string()\nwrite_number()\nwrite_blank()\nwrite_formula()\nwrite_url()\nwrite_row()\nwrite_col()\n</code></pre>\n\n<p>but the <code>write_url</code> (used in the example) produces \"text\" and not a number type cell.</p>\n\n<p>Is here some workaround to create the correct <code>xlsx</code> without warnings?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1469445707, "post_id": 38566377, "comment_id": 64522542, "body": "Using the -Mv5.14 enables the <code>strict</code> and even your example with the <code>warnings</code> doesn&#39;t prints any warning. At least for me - using <code>v5.24.0</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1469445769, "post_id": 38566377, "comment_id": 64522579, "body": "@kobame hmm that&#39;s strange. I&#39;ve got 5.20. But that&#39;s still what is happening. Warning or no warning. You are overwriting the default behaviour by giving it a sub name"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469453980, "post_id": 38566377, "comment_id": 64528245, "body": "<code>sort(uniq(@x))</code> works fine, as long as there&#39;s no space after <code>uniq</code>"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1469446318, "last_edit_date": 1469446318, "creation_date": 1469445549, "answer_id": 38566377, "question_id": 38566135, "link": "https://stackoverflow.com/questions/38566135/perl-listallutils-uniq-sort/38566377#38566377", "title": "perl List::AllUtils uniq &amp; sort", "body": "<p>If you run it with <code>use strict</code> and <code>use warnings</code> it tells you what is wrong.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse List::AllUtils 'uniq';\n\nmy (@x) = qw(2 3 1 2);\nsay \"@x\";\nmy (@y) = sort uniq @x;\nsay \"@y\";\n</code></pre>\n\n<p>This gives the warning <em>Sort subroutine didn't return single value at</em>. <code>sort</code> thinks that <code>uniq</code> is the subroutine that it should use to sort the list.</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow\">The <code>sort</code> documentation</a> explains this.</p>\n\n<blockquote>\n  <p>sort SUBNAME LIST<br>\n  sort BLOCK LIST<br>\n  sort LIST  </p>\n</blockquote>\n\n<p>You can also give it a sub name. It's a bit counter-intuitive to use that subname directy (i.e. not as a string, or as a code reference), but that's how it is supposed to be. There even is an example in the docs.</p>\n\n<blockquote>\n<pre><code># sort using explicit subroutine name\nsub byage {\n    $age{$a} &lt;=&gt; $age{$b};  # presuming numeric\n}\nmy @sortedclass = sort byage @class;\n</code></pre>\n</blockquote>\n\n<p>So in this case, it treats your <code>uniq</code> not as _call <code>uniq(@x)</code> and sort the return value using the default <code>sort</code> behaviour, but instead it does <em>sort <code>@x</code> using <code>uniq</code> as the sorting function</em>.</p>\n\n<hr>\n\n<p>You can make <code>sort</code> ignore the sub name and use the return value instead by prepending a <code>+</code> sign.</p>\n\n<pre><code>my (@x) = qw(2 3 1 2);\nsay \"@x\";\nmy (@y) = sort +uniq @x;\nsay \"@y\";\n\n__END__\n2 3 1 2\n1 2 3\n</code></pre>\n\n<p>And there is no warning now. <code>sort +uniq(@x)</code> also works, and is easier to read.</p>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 38566377, "answer_count": 1, "score": 1, "last_activity_date": 1469446318, "creation_date": 1469444898, "last_edit_date": 1469445285, "question_id": 38566135, "link": "https://stackoverflow.com/questions/38566135/perl-listallutils-uniq-sort", "title": "perl List::AllUtils uniq &amp; sort", "body": "<p>Trying this:</p>\n\n<pre><code>perl -Mv5.14 -MList::AllUtils=uniq -E 'my(@x) = qw(2 3 1 2); say \"@x\"; my(@y) = uniq @x; say \"@y\"'\n</code></pre>\n\n<p>It correctly prints</p>\n\n<pre><code>2 3 1 2\n2 3 1\n</code></pre>\n\n<p>Now want the sorted output, so tried:</p>\n\n<pre><code>perl -Mv5.14 -MList::AllUtils=uniq -E 'my(@x) = qw(2 3 1 2); say \"@x\"; my(@y) = sort uniq @x; say \"@y\"'\n</code></pre>\n\n<p>Surprisingly it prints:</p>\n\n<pre><code>2 3 1 2\n2 1 3 2\n</code></pre>\n\n<p>Switching the order of the <code>uniq</code> and <code>sort</code></p>\n\n<pre><code>perl -Mv5.14 -MList::AllUtils=uniq -E 'my(@x) = qw(2 3 1 2); say \"@x\"; my(@y) = uniq sort @x; say \"@y\"'\n</code></pre>\n\n<p>gives the correct result</p>\n\n<pre><code>2 3 1 2\n1 2 3\n</code></pre>\n\n<p>So, compared them using the <code>MO=Deparse</code>.</p>\n\n<p>The 1st:</p>\n\n<pre><code>perl -MO=Deparse -Mv5.14 -MList::AllUtils=uniq -E 'my(@x) = qw(2 3 1 2); say \"@x\"; my(@y) = uniq @x; say \"@y\"'\nsub BEGIN {\n    require v5.14;\n}\nuse List::AllUtils (split(/,/u, 'uniq', 0));\nuse strict;\nuse feature 'current_sub', 'evalbytes', 'fc', 'postderef_qq', 'say', 'state', 'switch', 'unicode_strings', 'unicode_eval';\nmy(@x) = ('2', '3', '1', '2');\nsay join($\", @x);\nmy(@y) = &amp;uniq(@x);\nsay join($\", @y);\n-e syntax OK\n</code></pre>\n\n<p>the second:</p>\n\n<pre><code>perl -MO=Deparse -Mv5.14 -MList::AllUtils=uniq -E 'my(@x) = qw(2 3 1 2); say \"@x\"; my(@y) = sort uniq @x; say \"@y\"'\nsub BEGIN {\n    require v5.14;\n}\nuse List::AllUtils (split(/,/u, 'uniq', 0));\nuse strict;\nuse feature 'current_sub', 'evalbytes', 'fc', 'postderef_qq', 'say', 'state', 'switch', 'unicode_strings', 'unicode_eval';\nmy(@x) = ('2', '3', '1', '2');\nsay join($\", @x);\nmy(@y) = (sort uniq @x);\nsay join($\", @y);\n-e syntax OK\n</code></pre>\n\n<p>third:</p>\n\n<pre><code>perl -MO=Deparse -Mv5.14 -MList::AllUtils=uniq -E 'my(@x) = qw(2 3 1 2); say \"@x\"; my(@y) = uniq sort @x; say \"@y\"'\nsub BEGIN {\n    require v5.14;\n}\nuse List::AllUtils (split(/,/u, 'uniq', 0));\nuse strict;\nuse feature 'current_sub', 'evalbytes', 'fc', 'postderef_qq', 'say', 'state', 'switch', 'unicode_strings', 'unicode_eval';\nmy(@x) = ('2', '3', '1', '2');\nsay join($\", @x);\nmy(@y) = &amp;uniq(sort(@x));\nsay join($\", @y);\n-e syntax OK\n</code></pre>\n\n<p>The difference is how the <code>uniq</code> subroutine is called:</p>\n\n<pre><code>my(@y) = (sort uniq @x);  # sort uniq @x\nmy(@y) = &amp;uniq(sort(@x)); # uniq sort @x\n</code></pre>\n\n<p>I understand than the <code>uniq</code> is an subroutine provided by the <code>List::AllUtils</code> and the <code>sort</code> is an builtin function, but using the <code>uniq</code> as:</p>\n\n<pre><code>my(@y) = &amp;uniq(sort(@x));\n</code></pre>\n\n<p>doesn't seems for me very intutive.</p>\n\n<p>Must I use it in the <code>&amp;uniq(...)</code> form, e.g. with <code>&amp;</code> and parenthesis? Coudl someone please add some more info about?</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "xml-libxml"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1469444610, "post_id": 38565878, "comment_id": 64521867, "body": "Is that valid XML?"}, {"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1469444934, "post_id": 38565878, "comment_id": 64522057, "body": "@stark yes its a valid xml. I&#39;ll add xml as well."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469448692, "post_id": 38565878, "comment_id": 64524466, "body": "Are you using <code>XML::Parser</code>?"}, {"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469449298, "post_id": 38565878, "comment_id": 64524914, "body": "@Borodin I&#39;m using XML::LibXML::Reader"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469449517, "post_id": 38565878, "comment_id": 64525051, "body": "Please can you describe the data structure that you want as output?"}, {"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469450819, "post_id": 38565878, "comment_id": 64526037, "body": "@Borodin Either array of arrays <code>[&#39;A1&#39;,   [&#39;B1&#39;, [&#39;C2&#39;,  [&#39;D1&#39;,&#39;D2&#39;]]  ], [&#39;B1&#39;, [&#39;C2&#39;,  [&#39;D1&#39;,&#39;D2&#39;,&#39;D3 ]]  ]]</code> or preferably hash of hashes <code>( &#39;A1&#39;=&gt;{&#39;B1&#39; =&gt; {&#39;C1&#39; =&gt; [D1, D2]}, &#39;B2&#39; =&gt; {&#39;C1&#39; =&gt; [D1, D2, D3]} } )</code>. But there will be more levels like E1, F1."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1469451046, "creation_date": 1469451046, "answer_id": 38568283, "question_id": 38565878, "link": "https://stackoverflow.com/questions/38565878/perl-arrays-of-array-elements-are-missing/38568283#38568283", "title": "perl arrays of array, elements are missing", "body": "<p></p>\n\n<p>This code will do as you ask. But this is basically what the awful <code>XML::Simple</code> tries to do. It loses information and it's not possible with a general XML document</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse XML::LibXML::Reader;\n\nuse constant XML_FILE =&gt; 'root.xml';\n\nmy %data;\nmy @stack = (\\%data);\n\nmy $reader = XML::LibXML::Reader-&gt;new(location =&gt; XML_FILE);\n\nwhile ( $reader-&gt;read ) {\n\n    my $type = $reader-&gt;nodeType;\n\n    if ( $type == XML_READER_TYPE_ELEMENT ) {\n        next unless my $name = $reader-&gt;getAttribute('name');\n        push @stack, ($stack[-1]{$name} = {});\n    }\n    elsif ( $type == XML_READER_TYPE_END_ELEMENT ) {\n        pop @stack if $reader-&gt;getAttribute('name');\n    }\n}\n\nuse Data::Dump;\ndd \\%data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>{\n  A1 =&gt; {\n          B1 =&gt; { C1 =&gt; { D1 =&gt; {}, D2 =&gt; {} } },\n          B2 =&gt; { C2 =&gt; { D1 =&gt; {}, D2 =&gt; {}, D3 =&gt; {} } },\n        },\n}\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 38568283, "answer_count": 1, "score": 0, "last_activity_date": 1469451046, "creation_date": 1469444109, "last_edit_date": 1469445104, "question_id": 38565878, "link": "https://stackoverflow.com/questions/38565878/perl-arrays-of-array-elements-are-missing", "title": "perl arrays of array, elements are missing", "body": "<p>I'm trying to generate arrays of array from xml string for nested tree structure.</p>\n\n<p>But when I generating reference variable <code>$output</code> few elements inside B1 are missing(C1, D1, D2). <code>$test</code>is generated using <code>XML::LibXML::Reader</code>cpan module.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nuse v5.10;\n\nmy $test = \"start, /root/class1, A1\nstart, /root/class1/class2, B1\nstart, /root/class1/class2/class3, C1\nstart, /root/class1/class2/class3/class4, D1\nend, /root/class1/class2/class3/class4, D1\nstart, /root/class1/class2/class3/class4, D2\nend, /root/class1/class2/class3/class4, D2\nend, /root/class1/class2/class3, C1\nend, /root/class1/class2, B1\nstart, /root/class1/class2, B2\nstart, /root/class1/class2/class3, C2\nstart, /root/class1/class2/class3/class4, D1\nend, /root/class1/class2/class3/class4, D1\nstart, /root/class1/class2/class3/class4, D2\nend, /root/class1/class2/class3/class4, D2\nstart, /root/class1/class2/class3/class4, D3\nend, /root/class1/class2/class3/class4, D3\nend, /root/class1/class2/class3, C2\nend, /root/class1/class2, B2\nend, /root/class1, A1\";\n\nour $x = 0;\n\nmy $output = generator($test); \n\nsay \"Output: \". Dumper $output;\n\nsub generator{\n    my ($classes, $x, $subout) = (shift, shift, '');\n    my @out;\n\n    $x += 1;\n\n    while($classes =~ /(start(.+?class$x\\,\\ (\\w+))\\n(.*?)end\\2)/gsi){\n        my ($data1, $value, $rest) = ($1, $3, $4);\n        $subout = generator($rest,$x) if $rest;\n        push @out, $value;\n\n    }\n    push @out, $subout if $subout;\n#   say \"X: $x \". Dumper \\@out;\n    return \\@out;\n}\n</code></pre>\n\n<p>output is :</p>\n\n<pre><code>Output: $VAR1 = [\n          'A1',\n          [\n            'B1',\n            'B2',\n            [\n              'C2',\n              [\n                'D1',\n                'D2',\n                'D3'\n              ]\n            ]\n          ]\n        ];\n</code></pre>\n\n<p>am I missing something?\nAny other method to create data structure also helpful.</p>\n\n<p>xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;root&gt;\n&lt;class1 name=\"A1\"&gt;\n &lt;class2 name=\"B1\"&gt;\n  &lt;class3 name=\"C1\"&gt;\n   &lt;class4 name=\"D1\"&gt;\n   &lt;/class4&gt;\n   &lt;class4 name=\"D2\"&gt;\n   &lt;/class4&gt;\n  &lt;/class3&gt;\n &lt;/class2&gt;\n&lt;class2 name=\"B2\"&gt;\n &lt;class3 name=\"C2\"&gt;\n  &lt;class4 name=\"D1\"&gt;\n  &lt;/class4&gt;\n  &lt;class4 name=\"D2\"&gt;\n  &lt;/class4&gt;\n  &lt;class4 name=\"D3\"&gt;\n  &lt;/class4&gt;\n &lt;/class3&gt;\n&lt;/class2&gt;\n&lt;/class1&gt;\n&lt;/root&gt;\n</code></pre>\n"}, {"tags": ["perl", "cpan", "libssh2", "cpanm"], "owner": {"reputation": 202, "user_id": 1606164, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6306a99514c0a21ba2e88e58b998505e?s=128&d=identicon&r=PG", "display_name": "Tigran Khachikyan", "link": "https://stackoverflow.com/users/1606164/tigran-khachikyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469444909, "creation_date": 1469442207, "last_edit_date": 1469444909, "question_id": 38565225, "link": "https://stackoverflow.com/questions/38565225/install-netssh2-with-carton", "title": "install Net::SSH2 with carton", "body": "<p>I want to install Net::SSh2 with <a href=\"http://search.cpan.org/~miyagawa/Carton-v1.0.28/lib/Carton.pm\" rel=\"nofollow\">Carton</a>:\nI have locally installed libssh2-1.6.0.</p>\n\n<p>exported all necessary LIBSSH2 variables</p>\n\n<pre><code>export LIBSSH2_INCLUDE=$HOME/lib/libssh2-1.6.0/include\nexport LIBSSH2_LIB=$HOME/lib/lib\nexport LIBSSH2_LDARGS=\"-lz\"\n</code></pre>\n\n<p>and then call <code>carton install</code></p>\n\n<p>and here Carton still complains that dependency can't be found.</p>\n\n<p>It is not clear to me why Carton does not see Env variables? </p>\n\n<p>log:</p>\n\n<pre><code>$ ~/.cpanm/work/1469440056.31412/Net-SSH2-0.62 $ perl Makefile.PL lib=$HOME/libssh2/lib inc=$HOME/libssh2/include \\\n&gt; # 56         ldargs=\"-lz\"\n\nThe libssh2 library is required by this module.  If you don't have it, you can\ndownload it from http://www.libssh2.org; you may also need OpenSSL, which can\nbe obtained from http://www.openssl.org , or libgcrypt, which can be obtained\nfrom http://www.gnupg.org .\n\nDebian:   sudo aptitude install libssh2-1-dev\nOpenSUSE: sudo zypper in libssh2-1 libssh2-devel\n\nYou can pass your libssh2 lib and include dirs (and extra link args) on the\ncommand line. E.g.:\n\n    perl Makefile.PL lib=$HOME/libssh2/lib inc=$HOME/libssh2/include \\\n        ldargs=\"-lz\"\n\nThese can also be set through the LIBSSH2_LIB/LIBSSH2_INCLUDE/LIBSSH2_LDARGS\nenvironment variables.\n</code></pre>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 1, "creation_date": 1469441775, "post_id": 38565048, "comment_id": 64520165, "body": "Which module are you using, also <code>$num ++</code> is missing a semi colon"}, {"owner": {"reputation": 25, "user_id": 6464072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388076be4b1c0d6f27ae81f377db7e09?s=128&d=identicon&r=PG&f=1", "display_name": "jpjy", "link": "https://stackoverflow.com/users/6464072/jpjy"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1469441923, "post_id": 38565048, "comment_id": 64520270, "body": "i am using Excel::Writer::XLSX;"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1469444044, "post_id": 38565048, "comment_id": 64521550, "body": "Please update the full code"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469447365, "post_id": 38565048, "comment_id": 64523582, "body": "<i>&quot;My program will open an Excel file like this&quot;</i> If you are using <code>Excel::Writer::XLSX</code> then this is impossible. The module cannot load pre-existing Excel files, and is intended for creating them from scratch."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6464072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388076be4b1c0d6f27ae81f377db7e09?s=128&d=identicon&r=PG&f=1", "display_name": "jpjy", "link": "https://stackoverflow.com/users/6464072/jpjy"}, "edited": false, "score": 0, "creation_date": 1469500702, "post_id": 38566930, "comment_id": 64549466, "body": "I see. Mat i ask what module should i be using if i want to open a existing excel file?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1469447209, "creation_date": 1469447209, "answer_id": 38566930, "question_id": 38565048, "link": "https://stackoverflow.com/questions/38565048/how-to-print-to-next-vertical-empty-cell-using-excelwriterxlsx/38566930#38566930", "title": "How to print to next vertical empty cell using Excel::Writer::XLSX", "body": "<p>You can't do that without messing with the internals of the <code>Excel::Writer::XLSX::Worksheet</code> object hash</p>\n\n<p>But that shouldn't be a problem. The module can only create Excel files from scratch, so anything that's already in column A is something that you've written there. You just need to keep track of what data has been added</p>\n"}], "owner": {"reputation": 25, "user_id": 6464072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388076be4b1c0d6f27ae81f377db7e09?s=128&d=identicon&r=PG&f=1", "display_name": "jpjy", "link": "https://stackoverflow.com/users/6464072/jpjy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 38566930, "answer_count": 1, "score": 1, "last_activity_date": 1469447209, "creation_date": 1469441699, "last_edit_date": 1469445839, "question_id": 38565048, "link": "https://stackoverflow.com/questions/38565048/how-to-print-to-next-vertical-empty-cell-using-excelwriterxlsx", "title": "How to print to next vertical empty cell using Excel::Writer::XLSX", "body": "<p>I am using module <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX\" rel=\"nofollow\"><code>Excel::Writer::XLSX</code></a>.</p>\n\n<p>My program will open an Excel file like this</p>\n\n<pre><code>    A    B    C \n1   xx\n2   xx\n3   xx\n4\n5\n</code></pre>\n\n<p>And in the above example I want to print to A4, A5 and so on</p>\n\n<p>Is this possible?</p>\n\n<p>Currently I am using</p>\n\n<pre><code>    $worksheet-&gt;write( \"a$num\", \"$key\" );\n    $num++;\n</code></pre>\n\n<p>but that will always start at a specified point.</p>\n"}, {"tags": ["perl", "reference", "return", "subroutine"], "answers": [{"comments": [{"owner": {"reputation": 851, "user_id": 1070525, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d6e829a8be1b08fcef0cab71466d5b0f?s=128&d=identicon&r=PG", "display_name": "password636", "link": "https://stackoverflow.com/users/1070525/password636"}, "edited": false, "score": 0, "creation_date": 1469442766, "post_id": 38565152, "comment_id": 64520753, "body": "Hi @Thilo To make reference count available for my variables of a subroutine, does that mean the my variable will be stored in data segment if it is referenced? And stored in stack if it is not referenced?"}, {"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "reply_to_user": {"reputation": 851, "user_id": 1070525, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d6e829a8be1b08fcef0cab71466d5b0f?s=128&d=identicon&r=PG", "display_name": "password636", "link": "https://stackoverflow.com/users/1070525/password636"}, "edited": false, "score": 0, "creation_date": 1469450076, "post_id": 38565152, "comment_id": 64525461, "body": "I think all variables in Perl are allocated in the managed heap area, rather than an automatic stack. If the subroutine exits, the reference counts for all local variables will decrease, usually becoming zero unless you created another reference for it. This is like using objects in Java (as opposed to primitives, which can be stack-allocated and are more like in your C example)."}], "tags": [], "owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "is_accepted": false, "score": 0, "last_activity_date": 1469441997, "creation_date": 1469441997, "answer_id": 38565152, "question_id": 38564999, "link": "https://stackoverflow.com/questions/38564999/how-does-perl-implement-global-reference-to-private-variable-of-a-subroutine/38565152#38565152", "title": "How does Perl implement global reference to private variable of a subroutine?", "body": "<p>You are setting your global variable to a <em>reference</em> to some data created locally in the function.</p>\n\n<p>In Perl (a \"managed memory\" language), this will be a reference counted \"object\" (using the term loosely, as it is a string here) that will not be garbage collected until all references go away.</p>\n\n<p>In C, this is just a memory address and you have to make sure yourself that it remains valid (and does not point at stack space that is already reclaimed as soon as the function returned).</p>\n"}], "owner": {"reputation": 851, "user_id": 1070525, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d6e829a8be1b08fcef0cab71466d5b0f?s=128&d=identicon&r=PG", "display_name": "password636", "link": "https://stackoverflow.com/users/1070525/password636"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1469450828, "creation_date": 1469441557, "last_edit_date": 1469450828, "question_id": 38564999, "link": "https://stackoverflow.com/questions/38564999/how-does-perl-implement-global-reference-to-private-variable-of-a-subroutine", "title": "How does Perl implement global reference to private variable of a subroutine?", "body": "<p>I have two code sections as below, in Perl and C. This is about Perl's <code>my</code> variables and C's automatic variables. To some extent, they are quite similar in that they get initialized every time entering the function. But Perl can reference <code>my</code> variables of a subroutine, C will get random value if doing so because the function call stack is destroyed after return. Anyone knows how Perl implements this feature? It couldn't be keeping every subroutine call stack untouched, is it that Perl allocates every <code>my</code> variable created in a subroutine in \"data segment\" (comparing to stack)?</p>\n\n<p>Perl code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $ref;\n\nsub func\n{\n    my $str = \"hello\";\n    $ref = \\$str;\n}\nfunc;\nprint \"value is \";\nprint \"${$ref}\\n\";\n</code></pre>\n\n<p>C code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint *pi;\n\nvoid func(void)\n{\n    int j = 9;\n    pi = &amp;j;\n}\n\nint main(void)\n{\n    func();\n    printf(\"value is \");\n    printf(\"%d\\n\", *pi);\n    return 0;\n}\n</code></pre>\n\n<p>Thanks,</p>\n"}, {"tags": ["perl", "hash", "key"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469443764, "post_id": 38563675, "comment_id": 64521379, "body": "How can the program know whether you want a complete word match or just a partial match?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6634150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c45cc819969b630cae141fb15b8bfb1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6634150/john"}, "edited": false, "score": 0, "creation_date": 1469515906, "post_id": 38566578, "comment_id": 64554299, "body": "I&#39;m getting error running the code.   <b>Use of uninitialized value in pattern match (m//)</b>"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 0, "last_activity_date": 1469475831, "last_edit_date": 1469475831, "creation_date": 1469446186, "answer_id": 38566578, "question_id": 38563675, "link": "https://stackoverflow.com/questions/38563675/perl-search-multiple-keyword-with-regex/38566578#38566578", "title": "Perl Search Multiple Keyword with Regex", "body": "<p>Here's a working solution for what I think you're trying to achieve. Let me know if not:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw/ say /;\n\nmy %keywords;\n\nwhile(&lt;DATA&gt;){\n    chomp;\n    my ($key) = split;\n    my $length = length($key);\n    $keywords{$key} = $length;\n}\n\nopen my $in, '&lt;', 'in.txt' or die $!;\n\n\nwhile(&lt;$in&gt;){\n    chomp;\n    my $firstword = (split)[0];\n\n        for my $key (keys %keywords){\n            if ($firstword =~ m/$key/){ \n                my $word = substr($firstword, 0, $keywords{$key});\n                say $word;\n            }\n        }\n}\n__DATA__\nKeywords:-\nDES\nAES \nhttps:// - here it should match the word starting with https:// but my code considers the whole word and skipping it.\n</code></pre>\n\n<p>For an input file containing:</p>\n\n<pre><code>here are some words over multiple\nlines\nthat may or\nmay not match your keywords:\nDES DEA AES SSE\nFOO https:\nhttps://example.domain.com\n</code></pre>\n\n<p>This produces the output:</p>\n\n<pre><code> DES\n https://\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6634150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c45cc819969b630cae141fb15b8bfb1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6634150/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 38566578, "answer_count": 1, "score": -1, "last_activity_date": 1469475831, "creation_date": 1469437634, "last_edit_date": 1469442014, "question_id": 38563675, "link": "https://stackoverflow.com/questions/38563675/perl-search-multiple-keyword-with-regex", "title": "Perl Search Multiple Keyword with Regex", "body": "<p>I'm searching for a list of Keywords from a file. I am able to match the whole keyword, but for some keywords i need to match a first part of word. For Example</p>\n\n<pre><code>DES\nAES\nhttps:// --- here it should match the word starting with https:// but my code considers the whole word and skips it.\n</code></pre>\n\n<p>For example using the above keywords I would want to match <code>DES</code>, <code>DES</code> and <code>https://</code> only from the below input:</p>\n\n<pre><code>DES some more words\nDESTINY and more...\nhttps://example.domain.com\nhttp://anotherexample.domain.com # note that this line begins with http://, not https://\n</code></pre>\n\n<p>Here is what I've tried so far:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen STDOUT, '&gt;&gt;', \"my_stdout_file.txt\";\n#die qq[Usage: perl $0 &lt;keyword-file&gt; &lt;search-file&gt; &lt;file-name&gt;\\n] unless  @ARGV == 3;\n\nmy $filename = $ARGV[2];\nchomp ($filename);\nopen my $fh, q[&lt;], shift or die $!; --- This file handle Opening all the 3 arguments. I need to Open only 2.\n\nmy %keyword = map { chomp; $_ =&gt; 1 } &lt;$fh&gt;;\nprint \"$fh\\n\";\nwhile ( &lt;&gt; ) {\n    chomp;\n    my @words = split;\n    for ( my $i = 0; $i &lt;= $#words; $i++ ) {\n            if ( $keyword{^$words[ $i ] } ) {\n                    print \"Keyword Found for file:$filename\\n\";\n                    printf qq[$filename Line: %4d\\tWord position: %4d\\tKeyword: %s\\n],\n                            $., $i, $words[ $i ];\n            }\n    }\n}\nclose ($fh);\n</code></pre>\n"}, {"tags": ["windows", "perl", "gsl"], "answers": [{"comments": [{"owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469450502, "post_id": 38564126, "comment_id": 64525804, "body": "Platform is windows not linux/debian"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469450928, "post_id": 38564126, "comment_id": 64526101, "body": "@AnimeshKumarPaul Regardless, if you want to use a module, install the packages required."}, {"owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469451416, "post_id": 38564126, "comment_id": 64526447, "body": "I know that, i need to install it. I need to know what will be the process to install it in windows."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469451558, "post_id": 38564126, "comment_id": 64526567, "body": "@AnimeshKumarPaul <a href=\"http://gnuwin32.sourceforge.net/packages/gsl.htm\" rel=\"nofollow noreferrer\">gnuwin32.sourceforge.net/packages/gsl.htm</a> first hit on google, you should search first"}, {"owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469460825, "post_id": 38564126, "comment_id": 64532902, "body": "I installed gsl from <a href=\"http://gnuwin32.sourceforge.net/downlinks/gsl.php\" rel=\"nofollow noreferrer\">gnuwin32.sourceforge.net/downlinks/gsl.php</a> and also added <b>GnuWin32\\bin</b> to path variable.  But, I still get this error: &#39;gsl-config&#39; is not recognized as an internal or external command."}], "tags": [], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "is_accepted": false, "score": 0, "last_activity_date": 1469438932, "creation_date": 1469438932, "answer_id": 38564126, "question_id": 38561737, "link": "https://stackoverflow.com/questions/38561737/cant-exec-gsl-config-no-such-file-or-directory-at-build-pl/38564126#38564126", "title": "Can&#39;t exec &quot;gsl-config&quot;: No such file or directory at Build.pl", "body": "<p>You need to have <code>gsl-config</code> installed, the README.md states that you need to have a proper GSL install before building the module. gsl-config can be found in the following package on Debian:</p>\n\n<pre><code>sudo apt-get install libgsl0-dev\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6402, "user_id": 588805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235c9ac5e61a2dd765d82384e76fa50c?s=128&d=identicon&r=PG", "display_name": "kmx", "link": "https://stackoverflow.com/users/588805/kmx"}, "is_accepted": false, "score": -1, "last_activity_date": 1469517226, "creation_date": 1469517226, "answer_id": 38583332, "question_id": 38561737, "link": "https://stackoverflow.com/questions/38561737/cant-exec-gsl-config-no-such-file-or-directory-at-build-pl/38583332#38583332", "title": "Can&#39;t exec &quot;gsl-config&quot;: No such file or directory at Build.pl", "body": "<p>Go to <a href=\"http://strawberryperl.com/releases.html\" rel=\"nofollow\">http://strawberryperl.com/releases.html</a> and download Strawberry Perl <strong>PDL edition</strong>. It comes with bundled gsl binaries (and also with gsl-config).</p>\n\n<p>Other option is to download gsl binaries from <a href=\"http://strawberryperl.com/package/kmx/32_libs/gcc49-2015Q2/\" rel=\"nofollow\">http://strawberryperl.com/package/kmx/32_libs/gcc49-2015Q2/</a> (v1.16) or <a href=\"http://strawberryperl.com/package/kmx/32_libs/gcc49-2016Q2/\" rel=\"nofollow\">http://strawberryperl.com/package/kmx/32_libs/gcc49-2016Q2/</a> (v2.1) and simply unpack them into your existing strawberry folder.</p>\n"}], "owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 687, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1469517226, "creation_date": 1469431006, "question_id": 38561737, "link": "https://stackoverflow.com/questions/38561737/cant-exec-gsl-config-no-such-file-or-directory-at-build-pl", "title": "Can&#39;t exec &quot;gsl-config&quot;: No such file or directory at Build.pl", "body": "<p>I used strawberry perl in windows 7. I need to install Math-GSL-0.36.</p>\n\n<p>using command:</p>\n\n<pre><code>perl Build.PL \n</code></pre>\n\n<p>But the command give error:</p>\n\n<blockquote>\n  <p>Checking for GSL using gsl-config\n  Can't exec \"gsl-config\": No such file or directory at Build.pl line 305.</p>\n  \n  <hr>\n  \n  <p>*** Can't find GSL with gsl-config.</p>\n  \n  <p>*** Trying with PkgConfig.</p>\n  \n  <p>PkgConfig is currently needed to find GSL for the compilation of this module.</p>\n</blockquote>\n\n<p>How to solve this problem? please help</p>\n"}, {"tags": ["windows", "perl", "math", "random"], "answers": [{"comments": [{"owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469451183, "post_id": 38564256, "comment_id": 64526284, "body": "dmake gives error:  &gt;CreateProcess failed (2). dmake:  Error executing &#39;/bin/sh /S /c &quot;&quot;/usr/bin/perl.exe&quot; -MExtUtils::Install -e &#39;pm_to_blib(@ARGV, &#39;\\&#39;&#39;blib/lib/auto&#39;\\&#39;&#39;, q[], &#39;\\&#39;&#39;755&#39;\\&#39;&#39;)&#39; --        Random .pm blib/lib/Math/Random.pm       example.pl blib/lib/Math/example.pl     test1. pl blib/lib/Math/test1.pl         test2.pl blib/lib/Math/test2.pl &quot;&#39;: No such fi le or directory dmake:  Error code -1, while making &#39;pm_to_blib&#39;"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469451440, "post_id": 38564256, "comment_id": 64526468, "body": "@AnimeshKumarPaul the above works perfectly, I can&#39;t make this not work. What does <code>perl -V</code> show?"}, {"owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469451608, "post_id": 38564256, "comment_id": 64526594, "body": "perl -V shows:  Summary of my perl5 (revision 5 version 22 subversion 0) configuration:    Platform:     osname=msys, osvers=2.1.4(0.28753), archname=x86_64-msys-thread-multi     uname=&#39;msys_nt-6.1 cab8 2.1.4(0.28753) 2015-06-08 22:11 x86_64 msys &#39;     config_args=&#39;-des -Dusethreads -Doptimize=-march=x86-64 -mtune=generic -O2 - pipe -Dprefix=/usr -Dvendorprefix=/usr -Dprivlib=/usr/share/perl5/core_perl -Dar chlib=/usr/lib/perl5/core_perl -Dsitelib=/usr/share/perl5/site_perl -Dsitearch=/ usr/lib/perl5/site_perl"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469451944, "post_id": 38564256, "comment_id": 64526837, "body": "You&#39;re really making it difficult to help you with these questions. No MSWin32 platform here, this is MSYS. You&#39;re mixing and matching environments and making things difficult for yourself"}, {"owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469452310, "post_id": 38564256, "comment_id": 64527084, "body": "I am new in perl. Can you please guide me on it?"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "edited": false, "score": 0, "creation_date": 1469452397, "post_id": 38564256, "comment_id": 64527163, "body": "The answer I provided is accurate and working for the environment you claimed you were using. Open a normal Windows command prompt and try it."}], "tags": [], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "is_accepted": false, "score": 0, "last_activity_date": 1469439331, "creation_date": 1469439331, "answer_id": 38564256, "question_id": 38561674, "link": "https://stackoverflow.com/questions/38561674/mingw32-make-exe-no-rule-to-make-target-usr-share-perl5-core-perl-extutil/38564256#38564256", "title": "mingw32-make.exe: *** No rule to make target &#39;/usr/share/perl5/core_perl/ExtUtil s/typemap&#39;, needed by &#39;Random.c&#39;. in Perl for windows 7", "body": "<p>Strawberry Perl, Windows 7 64bit:</p>\n\n<pre><code>Math-Random-0.72&gt;perl Makefile.PL phrtsd_orig\ndmake\ndmake test\ndmake install\n</code></pre>\n\n<p>Works fine. Strawberry Perl ships with it's own built tools, use them for building modules.</p>\n"}], "owner": {"reputation": 2025, "user_id": 1359137, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1da62381332ae241f4a28acf7c2f5f52?s=128&d=identicon&r=PG", "display_name": "Animesh Kumar Paul", "link": "https://stackoverflow.com/users/1359137/animesh-kumar-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469439331, "creation_date": 1469430733, "question_id": 38561674, "link": "https://stackoverflow.com/questions/38561674/mingw32-make-exe-no-rule-to-make-target-usr-share-perl5-core-perl-extutil", "title": "mingw32-make.exe: *** No rule to make target &#39;/usr/share/perl5/core_perl/ExtUtil s/typemap&#39;, needed by &#39;Random.c&#39;. in Perl for windows 7", "body": "<p>I used strawberry perl in windows 7. I need to install Math::Random.</p>\n\n<p>using command:</p>\n\n<pre><code>1. perl Makefile.PL phrtsd_orig\n2. \"C:/MinGW/bin/mingw32-make.exe\"\n3. \"C:/MinGW/bin/mingw32-make.exe\" test\n4. \"C:/MinGW/bin/mingw32-make.exe\" install\n</code></pre>\n\n<p>But the 2nd command give error:</p>\n\n<blockquote>\n  <p>Skip blib/lib/Math/test1.pl (unchanged)\n  Skip blib/lib/Math/example.pl (unchanged)\n  Skip blib/lib/Math/test2.pl (unchanged)\n  Skip blib/lib/Math/Random.pm (unchanged)\n  Running Mkbootstrap for Math::Random ()</p>\n  \n  <p>chmod 644 \"Random.bs\"\n  mingw32-make.exe: *** No rule to make target '/usr/share/perl5/core_perl/ExtUtil\n  s/typemap', needed by 'Random.c'.  Stop.</p>\n</blockquote>\n\n<p>how to solve this problem?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1469431091, "post_id": 38561556, "comment_id": 64514050, "body": "please try this: <code>perl -i.bak -pe &quot;s&#47;^(.*\\r\\n)!&#47;$1\\t!&#47;sg&quot; a.txt</code> or else <code>perl -i.bak -pe &quot;s&#47;\\s*$&#47;&#47;sg&quot; a.txt</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1469431295, "post_id": 38561556, "comment_id": 64514162, "body": "<a href=\"http://stackoverflow.com/questions/3166976/removing-crlf-0d-0a-from-string-in-perl\" title=\"removing crlf 0d 0a from string in perl\">stackoverflow.com/questions/3166976/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1469431377, "post_id": 38561556, "comment_id": 64514205, "body": "@ssr1012, That&#39;s of no use. It&#39;s about merging all lines into one, and it&#39;s for a different OS."}, {"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469431542, "post_id": 38561556, "comment_id": 64514296, "body": "@ikegami It is just an example to demonstrate feature I want . Anyway, merging lines is very useful : )"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469431603, "post_id": 38561556, "comment_id": 64514331, "body": "<code>od -c a.txt | less</code> to see what characters you really have in your file."}, {"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469431733, "post_id": 38561556, "comment_id": 64514409, "body": "@xxfelixxx Hey, guys, I already screen captured the notepad++ view, it clearly shows the CR and LF."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1469431840, "post_id": 38561556, "comment_id": 64514479, "body": "Try <code>perl -i.bak -pe &quot;s&#47;\\\\R+&#47;&#47;g&quot; a.txt</code>"}, {"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1469431964, "post_id": 38561556, "comment_id": 64514548, "body": "@WiktorStribi\u017cew Hi, WiktorStribi\u017cew, thanks. \\R works. But it still doesn&#39;t explain why apparent \\r\\n failed. Also <code>\\R!</code> seems can&#39;t match across the line"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1469435890, "post_id": 38561556, "comment_id": 64516614, "body": "The <a href=\"https://regex101.com/r/tT8zK9/2\" rel=\"nofollow noreferrer\"><code>\\R</code> can match across lines</a> since <code>\\R</code> matches any linebreak sequence."}], "answers": [{"comments": [{"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1469433407, "post_id": 38562294, "comment_id": 64515325, "body": "Hi, Dmitry Egorov. Currently, your answer works. And <code>m</code> seems not needed here. However, why things got so complicated, I just switch to perl because sed is so awkward in regex, while perl is also awkward in something. : )"}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1469433675, "post_id": 38562294, "comment_id": 64515470, "body": "@user15964, yes, you&#39;re right. Corrected the answer."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1469433716, "post_id": 38562294, "comment_id": 64515492, "body": "I would also like to thank @LukStorms for the simpler regex"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469433732, "post_id": 38562294, "comment_id": 64515503, "body": "<code>-0777</code> can be used instead of <code>BEGIN{undef $&#47;;}</code>"}, {"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469433788, "post_id": 38562294, "comment_id": 64515538, "body": "@ikegami Hi, ikegami. You deleted your answer? That is a good reference too."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469433815, "post_id": 38562294, "comment_id": 64515554, "body": "It didn&#39;t do what you asked. (I stopped reading too soon. I wasn&#39;t planning on answering at all, since I&#39;m too tired, but so much bad misinformation was being posted.)"}, {"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469433926, "post_id": 38562294, "comment_id": 64515616, "body": "@ikegami There is one thing I doubt. <code>BEGIN{undef $&#47;;}</code> seems like something advanced, does it? Sorry, I am new to perl, so I don&#39;t know. Is there any simpler way?"}, {"owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "edited": false, "score": 0, "creation_date": 1469438190, "post_id": 38562294, "comment_id": 64518027, "body": "-0015 will probably be a bit more efficient. Since 015 is the octal value for the carriage return."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "edited": false, "score": 0, "creation_date": 1469444406, "post_id": 38562294, "comment_id": 64521765, "body": "@LukStorms, I&#39;m not sure -0015 is more efficient than -0777 since it will cause Perl to search the input file for 015, I think (yet, it&#39;s only my guess -- this needs to be checked). Since all \\015\\012 are replaced with \\012 on Windows, we effectively end up with slurping the entire file into a single string. -0000 would basically do the same in our case. On the other hand, -0777 instructs Perl to slurp the entire file explicitly without searching contents for any line delimiters, so the I expect the latter to be a little bit more effective, provided my guess is correct."}, {"owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "edited": false, "score": 0, "creation_date": 1469444790, "post_id": 38562294, "comment_id": 64521965, "body": "I agree on that it&#39;s not sure. It might depends on the size of the file. Most of the time the -0777 will probably be faster. But on big files it&#39;ll use less memory when perl processes the file line by line. So when I said it would be more efficient I was thinking about the memory usage."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "edited": false, "score": 0, "creation_date": 1469446181, "post_id": 38562294, "comment_id": 64522833, "body": "@LukStorms, now I see your point. Yes, generally it may prove more efficient to process large files line by line, but in this particular case the entire content needs to be searched to do cross-line match, so we have to have the whole file in-memory at some points. Of course, we may elaborate the algorithm further to address this potential memory usage issue, but this would make the one-liner more complex and therefore I personally would do that only if such large files are definitely in our scope."}], "tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": true, "score": 2, "last_activity_date": 1469612162, "last_edit_date": 1469612162, "creation_date": 1469432942, "answer_id": 38562294, "question_id": 38561556, "link": "https://stackoverflow.com/questions/38561556/cross-line-regex-match-in-a-perl-one-liner/38562294#38562294", "title": "Cross-line regex match in a Perl one-liner", "body": "<ol>\n<li><code>perl -i.bak -pe \"s/\\n//\" a.txt</code></li>\n</ol>\n\n<p>I.e. just change <code>\\r\\n</code> to <code>\\n</code> for the <code>\\r\\n</code> is automatically converted to <code>\\n</code> on Windows as it was explained by ikegami.</p>\n\n<hr>\n\n<ol start=\"2\">\n<li><code>perl -i.bak -0777 -pe \"s/^(function.*?\\n)!/\\1\\t!/gm\" a.txt</code></li>\n</ol>\n\n<p>The main point here is that you need to read the entire file contents into a single string in order to do cross-line matches. <code>-0777</code> parameter instructs Perl to do so (alternatively you may set <code>$/</code> to an empty string from within Perl script).</p>\n"}, {"comments": [{"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1469435203, "post_id": 38562680, "comment_id": 64516249, "body": "ikegami, I am very sorry for my post which is not clear enough and may already wasted you a lot of time. Well, as I said in the post, I insisted to do it across line for a reason. What I actually want to do is indent the ! line according to the previous line, for example only indent ! line when its previous line is start with &quot;function&quot;. My post actually has the same goal as my previous post &quot;<a href=\"http://stackoverflow.com/questions/38452288/how-to-use-regex-to-indent-code-in-notepad\" title=\"how to use regex to indent code in notepad\">stackoverflow.com/questions/38452288/&hellip;</a>&quot;. If you have any better idea using perl, feel free to add an answer, just neglect notepad++ tag."}, {"owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "edited": false, "score": 0, "creation_date": 1469446249, "post_id": 38562680, "comment_id": 64522882, "body": "The current solution doesn&#39;t do it just for the lines with a &#39;!&#39; that have a &#39;function&#39; on the previous line."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1469434489, "creation_date": 1469434489, "answer_id": 38562680, "question_id": 38561556, "link": "https://stackoverflow.com/questions/38561556/cross-line-regex-match-in-a-perl-one-liner/38562680#38562680", "title": "Cross-line regex match in a Perl one-liner", "body": "<p>By default, on Windows, CR+LF gets transformed to LF on read, and LF gets transformed to CR+LF on write. This makes lines look like they're LF-terminated regardless of the OS.</p>\n\n<hr>\n\n<p>If sounds like you want to add a leading tab to lines starting with <code>!</code>.</p>\n\n<pre><code>perl -i.bak -pe\"s/^!/\\t!/\" a.txt\n   -or-\nperl -i.bak -pe\"s/^(?=!)/\\t/\" a.txt\n</code></pre>\n\n<p>You might also be trying to avoid doing it on the first line.</p>\n\n<pre><code>perl -i.bak -pe\"s/^!/\\t!/ if $. &gt; 1\" a.txt\n   -or-\nperl -i.bak -pe\"s/^(?=!)/\\t/ if $. &gt; 1\" a.txt\n</code></pre>\n"}], "owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 38562294, "answer_count": 2, "score": 0, "last_activity_date": 1469612162, "creation_date": 1469430280, "last_edit_date": 1469445536, "question_id": 38561556, "link": "https://stackoverflow.com/questions/38561556/cross-line-regex-match-in-a-perl-one-liner", "title": "Cross-line regex match in a Perl one-liner", "body": "<p>My question sounds trivial, but I google many page still can't not find an answer.</p>\n\n<p>I am on Windows. I have a text file. If I open it with Notepad++, it looks like this</p>\n\n<p><img src=\"https://i.stack.imgur.com/UAdMP.png\" alt=\"enter image description here\"></p>\n\n<p>I want to try several things</p>\n\n<ol>\n<li><p>delete all carriage return and line feed</p>\n\n<p><code>perl -i.bak -pe \"s/\\r\\n//g\" a.txt</code></p></li>\n</ol>\n\n<p>surprisingly, there is nothing changed. What is wrong? But according to the <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">doc</a>, I am pretty sure <code>\\r</code> is <code>CR</code> and <code>\\n</code> is <code>LF</code></p>\n\n<ol start=\"2\">\n<li>What I actually want to do is match across line. for example <code>^function.*\\r\\n!</code> will match just like Notepad++ will does</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/0m7Y6.png\" alt=\"enter image description here\"></p>\n\n<p>If we want to indent the ! line if its previous line is started with \"function\", a naive thought would be (actually it works is notepad++)</p>\n\n<pre><code>perl -i.bak -pe \"s/^(function.*\\r\\n)!/$1\\t!/g\" a.txt\n</code></pre>\n\n<p>But it didn't work. How to do it correctly?</p>\n"}, {"tags": ["perl", "plot"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 2, "creation_date": 1469402002, "post_id": 38554258, "comment_id": 64506591, "body": "You might find the slides from my talk &quot;<a href=\"http://wellington.pm.org/archive/201002/grant-gd-graph/\" rel=\"nofollow noreferrer\">Pimp My GD::Graph - Charts that don\u2019t suck, in 15 easy steps</a>&quot; useful. In case it&#39;s not obvious, the &quot;15 easy steps&quot; bit was somewhat tongue-in-cheek."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6237515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSGMi4oRdwg/AAAAAAAAAAI/AAAAAAAAABg/FwC7vIOVc5k/photo.jpg?sz=128", "display_name": "Tedy Grey", "link": "https://stackoverflow.com/users/6237515/tedy-grey"}, "edited": false, "score": 0, "creation_date": 1469379887, "post_id": 38554546, "comment_id": 64500026, "body": "I found in the documentation the <code>width</code> and <code>height</code>, but when I try to set them i get a warning that those are read-only variables."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41, "user_id": 6237515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSGMi4oRdwg/AAAAAAAAAAI/AAAAAAAAABg/FwC7vIOVc5k/photo.jpg?sz=128", "display_name": "Tedy Grey", "link": "https://stackoverflow.com/users/6237515/tedy-grey"}, "edited": false, "score": 0, "creation_date": 1469380155, "post_id": 38554546, "comment_id": 64500117, "body": "@TedyGrey: The documentation (copied above) also says that they are read-only values, and must be supplied in the constructor. You need to call <code>GD::Graph::bars-&gt;new($width, $height)</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1469382159, "last_edit_date": 1592644375, "creation_date": 1469379816, "answer_id": 38554546, "question_id": 38554258, "link": "https://stackoverflow.com/questions/38554258/setting-gdgraph-chart-dimension-and-bar-sizes/38554546#38554546", "title": "Setting GD::Graph chart dimension and bar sizes", "body": "<p><a href=\"https://metacpan.org/pod/GD::Graph\" rel=\"nofollow noreferrer\">The module's documentation</a> describes the following options very clearly</p>\n<blockquote>\n<p><strong>width</strong>, <strong>height</strong></p>\n<p>The width and height of the canvas in pixels Default: 400 x 300.</p>\n<p><strong>NB</strong> At the moment, these are read-only options. If you want to set the size of a graph, you will have to do that with the <code>new</code> method.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p><strong>bar_width</strong></p>\n<p>The width of a bar in pixels. Also see bar_spacing. Use bar_width If you want to have fixed-width bars, no matter how wide the chart gets. Default: as wide as possible, within the constraints of the chart size and bar_spacing setting.</p>\n</blockquote>\n<p>I suggest that the best option for making the bars wider is to reduce their number, or to increase the width of the graph</p>\n"}], "owner": {"reputation": 41, "user_id": 6237515, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSGMi4oRdwg/AAAAAAAAAAI/AAAAAAAAABg/FwC7vIOVc5k/photo.jpg?sz=128", "display_name": "Tedy Grey", "link": "https://stackoverflow.com/users/6237515/tedy-grey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 38554546, "answer_count": 1, "score": 1, "last_activity_date": 1469382159, "creation_date": 1469377863, "last_edit_date": 1469380340, "question_id": 38554258, "link": "https://stackoverflow.com/questions/38554258/setting-gdgraph-chart-dimension-and-bar-sizes", "title": "Setting GD::Graph chart dimension and bar sizes", "body": "<p>I create the following plot with <a href=\"https://metacpan.org/pod/GD::Graph\" rel=\"nofollow noreferrer\"><code>GD::Graph</code></a>. The chart bars are way too concentrated and it's not really visible.</p>\n\n<p><img src=\"https://i.stack.imgur.com/63lGJ.png\" alt=\"Plot\"></p>\n\n<p>My expectation would be something more like this.</p>\n\n<p><img src=\"https://i.stack.imgur.com/d5D3e.png\" alt=\"Visible plot\"></p>\n\n<p>My code looks like this:</p>\n\n<pre><code> my $my_graph = GD::Graph::bars-&gt;new();\n\n $my_graph-&gt;set(\n     x_label =&gt; 'Numbers',\n     y_label =&gt; 'Occurance',\n     title   =&gt; 'Plot',\n ) or warn $my_graph-&gt;error;`\n</code></pre>\n\n<p>What are the settings for the plot size and for the bars size (horizontal)?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1469463973, "last_edit_date": 1469463973, "creation_date": 1469376088, "answer_id": 38553987, "question_id": 38553647, "link": "https://stackoverflow.com/questions/38553647/perl-match-part-of-string-in-two-files/38553987#38553987", "title": "perl match part of string in two files", "body": "<p>You're going to have a scoping problem because your array <code>@row</code> and your hash <code>%row</code> both exist in completely different scopes.</p>\n\n<p>But if you have variables (say, <code>$foo</code> and <code>$bar</code>) and you want to know if <code>$foo</code> starts with the contents of <code>$bar</code> followed by a dot, then you can do that using a regular expression check like this:</p>\n\n<pre><code>if ($foo =~ /^$bar\\./) {\n  # match\n} else {\n  # no match\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1469796349, "post_id": 38554487, "comment_id": 64699175, "body": "I understand what you&#39;re trying to do, but my $table 1 contains around 50 columns, so @{ $lookup{ $row{a} }{ $row{b} }{ $row{c} }{ $row{d} }{ $row{e} }{ $row{f} }{ $row{g} } refers actually to the names of the columns (on the first row). So I don&#39;t think that your solution will work in this case."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1469800633, "post_id": 38554487, "comment_id": 64702211, "body": "@user1987607: I don&#39;t see any reason for your doubt. Have you tried my code? I can&#39;t really help further unless you show your real data."}, {"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1469801510, "post_id": 38554487, "comment_id": 64702849, "body": "the reason why I doubt is that table1 contains 9 columns, but table 2 contains 50 columns (not just &#39;a&#39; to &#39;g&#39;), so I&#39;m matching the 9 columns of table1 with columns of table 2 that are named &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, ..., but are not just the first 9 columns of this table2."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1469802362, "post_id": 38554487, "comment_id": 64703406, "body": "@user1987607: It is not my solution that is at fault but your expression of the problem. Did you read that I said <b><i>&quot;The solution below isn&#39;t going to work, because ...&quot;</i></b>? You haven&#39;t given enough information and your own code isn&#39;t self-consistent. Using a hugely-nested data structure instead of a simple compound key isn&#39;t going to suddenly make you code work. If you can&#39;t use what I have written here then I think you must open a new question and deliver a fully-working example together with sample data that displays the same issue."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1469379357, "creation_date": 1469379357, "answer_id": 38554487, "question_id": 38553647, "link": "https://stackoverflow.com/questions/38553647/perl-match-part-of-string-in-two-files/38554487#38554487", "title": "perl match part of string in two files", "body": "<p>This is looking like a job for a database</p>\n\n<p>The solution below isn't going to work, because you are building your <code>%lookup</code> hash with nine levels of keys (<code>$row[0]</code> .. <code>$row[8]</code>) , and accessing it with only seven levels (<code>$row{a}</code> .. <code>$row{g}</code>), so you're going to have to edit in the real situation</p>\n\n<p>I see no reason to next your hashes so deeply. A single key formed by using <code>join</code> on the relevant fields will work fine and probably a little faster. I also see no reason to extract <code>table2</code> fields into an array and <code>table1</code> fields into a hash. An array seems fine in both cases</p>\n\n<p>I've solved your immediate problem by copying each <code>@row</code> from <code>table1</code> into array <code>@key</code>, and removing the last dot and anything following from the fourth element before building the <code>$key</code> string</p>\n\n<p>In view of your history of adding a spare tab character before the newline at the end of each record, I've also added four <code>die</code> statements that verify the size of the header row and columns rows before continuing. You will probably need to tweak those values according to your real data</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Data::Dumper;\nlocal $Data::Dumper::Useqq = 1;\nuse Getopt::Long qw(GetOptions);\n\nuse constant TABLE1_COLUMNS =&gt; 9;\nuse constant TABLE2_COLUMNS =&gt; 11;\n\nopen my $table2, '&lt;', 'table2.txt' or die $!;\n\nmy @header_table2 = do {\n    my $header = &lt;$table2&gt;;\n    $header =~ s/\\t?\\n\\z//;\n    split /\\t/, $header;\n};\ndie \"Incorrect table 2 header count \" . scalar @header_table2\n    unless @header_table2 == TABLE2_COLUMNS;\n\nmy %lookup;\n\nwhile ( &lt;$table2&gt; ) {\n    chomp;\n    my @row = split /\\t/;\n    die \"Incorrect table 2 column count \" . scalar @row\n        unless @row == TABLE2_COLUMNS;\n\n    my $key = do {\n        local $\" = \"\\n\";\n        \"@row[0..8]\";\n    };\n\n    $lookup{ $key } = [ @row[9,10] ];\n} \n\nopen my $table1, '&lt;', 'table1.txt' or die $!;\n\nmy @header = do {\n    my $header = &lt;$table1&gt;;\n    $header =~ s/\\t?\\n\\z//;\n    split /\\t/, $header;\n};\ndie \"Incorrect table 1 header count \" . scalar @header\n    unless @header == TABLE1_COLUMNS;\n\n\nopen my $table3, '&gt;', 'table3.txt' or die $!;\n\n\nprint $table3 join (\"\\t\", @header, qw/ name1 name2 /), \"\\n\";\n\n\nwhile ( &lt;$table1&gt; ) {\n\n    s/\\t?\\n\\z//;\n\n    my @row = split /\\t/;\n    die \"Incorrect table 1 column count \" . scalar @row\n        unless @row == TABLE1_COLUMNS;\n\n    my $key = do {\n        my @key = @row;\n        $key[3] =~ s/\\.[^.]*\\z//;\n        local $\" = \"\\n\";\n        \"@key\";\n    };\n\n    my $lookup = $lookup{ $key } // [ \"\", \"\" ];\n\n    print $table3 join(\"\\t\", @row, @$lookup), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1469463973, "creation_date": 1469373906, "question_id": 38553647, "link": "https://stackoverflow.com/questions/38553647/perl-match-part-of-string-in-two-files", "title": "perl match part of string in two files", "body": "<p>I'm using a perl script to look for matches between columns in two tab-delimited files. However for one column I only want to look for a partial match between two strings in two columns. </p>\n\n<p>It concerns $row[4] of $table2 and $row{d} of $table1.\nThe values in $row[4] of $table2 look like this:\n'xxxx'.\nThe values in $row{d} of $table1 look like this:\n'xxxx.aaa'.</p>\n\n<p>If the part before the '.' is the same, there is a match. If not, there is no match. I'm not sure how to implement this in my script. This is what I have so far. I only looks for complete matches between different columns. '...' denotes code that is not important for this question</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\nlocal $Data::Dumper::Useqq = 1;\nuse Getopt::Long qw(GetOptions);\n\n...\n\n...\n\nchomp( my @header_table2 = split /\\t/, &lt;$table2&gt; );\n\nmy %lookup;\nwhile(&lt;$table2&gt;){\n    chomp;\n    my @row = split(/\\t/);\n    $lookup{ $row[0] }{ $row[1] }{ $row[4] }{ $row[5] }{ $row[6] }{ $row[7] }{ $row[8] } = [ $row[9], $row[10] ];\n    } \n\nmy @header = do {\n    my $header = &lt;$table1&gt;;\n    $header =~ s/\\t?\\n\\z//;\n    split /\\t/, $header;\n   };\n\nprint $table3 join (\"\\t\", @header, qw/ name1 name2 /), \"\\n\";\n\n\n{\nno warnings 'uninitialized';\nwhile(&lt;$table1&gt;){\n    s/\\t?\\n\\z//;\n    my %row;\n    @row{@header} = split /\\t/;\n    print $table3 join ( \"\\t\", @row{@header},\n                   @{ $lookup{ $row{a} }{ $row{b} }{ $row{c} }{ $row{d} }{ $row{e} }{ $row{f} }{ $row{g} }\n                        // [ \"\", \"\" ] }), \"\\n\";\n}\n}\n</code></pre>\n"}, {"tags": ["perl", "sed"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1469358784, "post_id": 38551370, "comment_id": 64493485, "body": "Why are you asking about sed if your whole problem description is about Perl?"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 1, "last_activity_date": 1469358743, "creation_date": 1469358743, "answer_id": 38551405, "question_id": 38551370, "link": "https://stackoverflow.com/questions/38551370/how-to-modify-the-matched-pattern/38551405#38551405", "title": "How to modify the matched pattern", "body": "<p>This is easy in Perl with the <code>/e</code> flag:</p>\n\n<pre><code>echo 'abcdef' | perl -pe 's/(def)/substr $1, 1, -1/e'\n</code></pre>\n\n<p><code>e</code> tells perl to parse the replacement part as a block of code, not a string. You can put arbitrary code in there.</p>\n\n<p>But your concrete task (trimming the first and last character) can also be done like this:</p>\n\n<pre><code>echo 'abcdef' | perl -pe 's/d(e)f/$1/'\n</code></pre>\n\n<p>(Also, <code>perl -p</code> already implies <code>-n</code>. No need to specify both.)</p>\n"}], "owner": {"reputation": 1543, "user_id": 5730923, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7c0c85df26b3dd603077355b0950c429?s=128&d=identicon&r=PG&f=1", "display_name": "ChiseledAbs", "link": "https://stackoverflow.com/users/5730923/chiseledabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 38551405, "answer_count": 1, "score": -1, "last_activity_date": 1469359154, "creation_date": 1469358494, "last_edit_date": 1469359154, "question_id": 38551370, "link": "https://stackoverflow.com/questions/38551370/how-to-modify-the-matched-pattern", "title": "How to modify the matched pattern", "body": "<p>Just wondering if there is a handy way to modify matched pattern variable in Perl one liner. For instance in the string <code>abcdef</code> I'd like to replace <code>def</code> with <code>e</code> (output abce) using a command looking like this :</p>\n\n<pre><code>echo \"abcdef\" | perl -pne 's/(def)/{command that trims first and last character of $1 and returns it as a string for perl to use it as a replacement}/'\n</code></pre>\n\n<p>It would be easy to use such functionality to perform various formating tasks. Can we do this in sed ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 10748, "user_id": 13992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c81f585328c241594864f888f1154025?s=128&d=identicon&r=PG", "display_name": "badp", "link": "https://stackoverflow.com/users/13992/badp"}, "edited": false, "score": 0, "creation_date": 1469350555, "post_id": 38550244, "comment_id": 64491669, "body": "I guess I expect <code>scalar</code> to be like <code>sub my_scalar { my @input = @_; scalar @scalar; } </code>"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1469363797, "post_id": 38550244, "comment_id": 64494813, "body": "Related: <a href=\"http://stackoverflow.com/q/8232951/133939\">stackoverflow.com/q/8232951/133939</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469405489, "post_id": 38550497, "comment_id": 64507171, "body": "The bolded sentence is wrong. <code>return</code> doesn&#39;t look at the context at all. Even if it did, <code>return</code> is evaluated <i>after</i> the comma operator, so what it does at run-time couldn&#39;t possibly have any effect on the comma operator. That means it&#39;s completely wrong to say that <code>return</code> is the one that checks the caller&#39;s context (or that it&#39;s like it did); it&#39;s the comma operator that does that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469406473, "post_id": 38550497, "comment_id": 64507366, "body": "The correct wording would be: <b>The comma operator (<code>,</code>) dynamically looks at the context in which the current sub was called, and evaluates its operand expression accordingly.</b>"}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469406587, "post_id": 38550497, "comment_id": 64507383, "body": "@ikegami <code>return @z</code> has no comma but still evaluates <code>@z</code> in the context of the current sub."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469406783, "post_id": 38550497, "comment_id": 64507427, "body": "@ikegami It&#39;s wrong to say that <code>return</code> is evaluated after the comma. The comma is evaluated as <i>part of</i> the evaluation of the <code>return</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 0, "creation_date": 1469406861, "post_id": 38550497, "comment_id": 64507442, "body": "@Oktalist, That&#39;s because the <code>@z</code> operator also looks."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469407182, "post_id": 38550497, "comment_id": 64507506, "body": "@ikegami In <code>sub { @z; return 42 }</code> the <code>@z</code> doesn&#39;t look. So it&#39;s particular to whatever expression is the operand of the <code>return</code>. So the correct wording would be <b>The operand of the <code>return</code> dynamically looks...</b> And I&#39;m not sure how that differs from melpomene&#39;s wording in practical terms."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 1, "creation_date": 1469407247, "post_id": 38550497, "comment_id": 64507521, "body": "@Oktalist, That&#39;s a different <code>@z</code> operator. <a href=\"http://perl5.git.perl.org/perl.git/blob/be2c0c650b028f54e427f2469a59942edfdff8a9:/pp.c#l91\" rel=\"nofollow noreferrer\">It does look at its context</a>, although that <code>@z</code> doesn&#39;t need to go as far as looking at the sub&#39;s context. /// Sure, that wording would work too. That&#39;s the general phrasing, whereas mine was specific to the example in question."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469467167, "post_id": 38550497, "comment_id": 64536749, "body": "@ikegami No, the comma operator only looks at its own context to determine the context of its operands. It&#39;s <code>return</code> that&#39;s the weird one by loooking up the call stack (at runtime)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469473457, "post_id": 38550497, "comment_id": 64540204, "body": "@ikegami There is no list. <code>return</code> supplies scalar context to its operand in this example. And it doesn&#39;t matter when <code>return</code> is evaluated; this is about context propagation."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469473557, "post_id": 38550497, "comment_id": 64540263, "body": "@ikegami <code>,</code> is not a list constructor. It&#39;s either a sequencing operator (in scalar/void context) or a concatenation operator (in list context). There is no list in this case."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469473711, "post_id": 38550497, "comment_id": 64540360, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/118257/discussion-between-melpomene-and-ikegami\">continue this discussion in chat</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469475866, "post_id": 38550497, "comment_id": 64541496, "body": "The last expression(s) of a sub gets their context from the caller, not from <code>return</code> (which may not even be present)."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 7, "last_activity_date": 1469476195, "last_edit_date": 1469476195, "creation_date": 1469352102, "answer_id": 38550497, "question_id": 38550244, "link": "https://stackoverflow.com/questions/38550244/why-does-scalar-sub-x-y-return-scalar-y/38550497#38550497", "title": "Why does scalar sub { (@x, @y) }-&gt;() return scalar @y?", "body": "<p>The most important point is: Lists don't flatten. (Lists are flat, but they don't flatten, because to do that they'd have to be nested first.)</p>\n\n<p><code>,</code> (the comma operator) in list context is list concatenation. <code>A , B</code> in list context evaluates <code>A</code> and <code>B</code> in list context, then concatenates the results.</p>\n\n<p><code>A , B</code> in scalar context works like C (or JavaScript): It evaluates <code>A</code> in void context, then evaluates (and returns) <code>B</code> in scalar context. (<code>A , B</code> in void context works the same, but evaluates <code>B</code> in void context too.)</p>\n\n<p>In <code>return X</code>, the context of <code>X</code> is the context of the function call itself. Thus <code>sub my_test { return X } scalar my_test</code> is like <code>scalar X</code>. <strong>It's like <code>return</code> dynamically looks at the context the current sub call is in, and evaluates its operand expression accordingly.</strong></p>\n\n<p><a href=\"http://perldoc.perl.org/perlsub.html#DESCRIPTION\" rel=\"nofollow\"><code>perldoc perlsub</code> says</a>:</p>\n\n<blockquote>\n  <p>A <code>return</code> statement may be used to exit a subroutine, optionally specifying the returned value, which will be evaluated in the appropriate context (list, scalar, or void) depending on the context of the subroutine call.)</p>\n</blockquote>\n\n<p>As described above, <code>@x, @y</code> in scalar context evaluates <code>@x</code> in void context (which for an array does nothing), then evaluates and returns <code>@y</code> in scalar context. An array in scalar context yields the number of elements it contains.</p>\n\n<p>The same logic applies to <code>%defaults, %values, %overrides</code>. <a href=\"http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity\" rel=\"nofollow\"><code>,</code> is left-associative</a>, so this parses as <code>(%defaults , %values) , %overrides</code>.\nThis evaluates <code>%defaults , %values</code> in void context (which in turn evaluates <code>%defaults</code>, then <code>%values</code> in void context, which has no effect), then evaluates and returns <code>%overrides</code> in scalar context. A hash in scalar context returns a (rather useless) string describing hash internals.</p>\n"}], "owner": {"reputation": 10748, "user_id": 13992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c81f585328c241594864f888f1154025?s=128&d=identicon&r=PG", "display_name": "badp", "link": "https://stackoverflow.com/users/13992/badp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1469476195, "creation_date": 1469350131, "last_edit_date": 1469352256, "question_id": 38550244, "link": "https://stackoverflow.com/questions/38550244/why-does-scalar-sub-x-y-return-scalar-y", "title": "Why does scalar sub { (@x, @y) }-&gt;() return scalar @y?", "body": "<p>There are a few things I \"know\" about Perl:</p>\n\n<ul>\n<li>lists flatten</li>\n<li>functions take and return lists</li>\n</ul>\n\n<p>So if I have this:</p>\n\n<pre><code>sub my_test {\n  my @x = qw(a b c);\n  my @y = qw(x y z t);\n  return (@x, @y); \n} \n\nsay my_test; # a b c x y z t\nsay scalar my_test;\n</code></pre>\n\n<p>I expect either of two result values:</p>\n\n<ul>\n<li><code>7</code>, because that's how many items there are in the list <code>qw(a b c x y z t)</code>. Indeed, this is what I get from <code>scalar sub { @{[ qw(a b c x y z t) ]} }-&gt;()</code>.</li>\n<li><code>'t'</code>, because if you interpret the commas as the comma operator (<em>sigh</em>) you get <code>('a', 'b', 'c', 'x', 'y', 'z', 't')</code> which evaluates to <code>'t'</code>. Indeed, this is what I get from <code>scalar sub { qw(a b c x y z t) }-&gt;()</code>.</li>\n</ul>\n\n<p>What you do get instead is&hellip; 4, without warning. Why did I get a mix of list flattening and comma operator?</p>\n\n<p>Similar story with hashes and this rather popular pattern:</p>\n\n<pre><code>sub default_override_hash {\n  my %defaults = (foo =&gt; 'bar', egg =&gt; 'quuz');\n  my %values = @_;\n  my %overrides = (__baz =&gt; '');\n  return (%defaults, %values, %overrides);\n}\n\nscalar default_override_hash; # '1/8'\n</code></pre>\n\n<p>How does <code>scalar</code> know that <code>default_override_hash</code> returned three hashes, and it should not only just get <code>%overrides</code> (and not everything, and not <code>''</code>), but its scalar representation as a hash?</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "edited": false, "score": 0, "creation_date": 1469316761, "post_id": 38547307, "comment_id": 64486490, "body": "$@aArray is a typo.. i wanted to type just @aArray."}, {"owner": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "edited": false, "score": 0, "creation_date": 1469317565, "post_id": 38547307, "comment_id": 64486613, "body": "See <a href=\"http://stackoverflow.com/a/28241319/1620779\">&#91; this &#93;</a>"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 6, "creation_date": 1469319169, "post_id": 38547307, "comment_id": 64486859, "body": "I&#39;d suggest just looping in Perl: <code>for my $i (@array) { </code>xxxxx $i<code>; }</code>."}, {"owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "edited": false, "score": 1, "creation_date": 1469368081, "post_id": 38547307, "comment_id": 64496163, "body": "I don&#39;t think this is quite a duplicate of those questions (or answers)."}, {"owner": {"reputation": 2444, "user_id": 584940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4fd36b5abead93bfd3575c08cd923e9?s=128&d=identicon&r=PG", "display_name": "Randall", "link": "https://stackoverflow.com/users/584940/randall"}, "edited": false, "score": 0, "creation_date": 1469714475, "post_id": 38547307, "comment_id": 64660324, "body": "@lmran it&#39;s better to edit your question to fix <code>$@aArray</code> to <code>@aArray</code> rather than having it as a comment.  Also, one likely reason the question has gotten a few downvotes is that you haven&#39;t given error output.  It&#39;s worth adding that in an edit, too, and providing any further details you can.  If you get it working, you can (even should) post it as an answer to your own question."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "edited": false, "score": 0, "creation_date": 1469372937, "post_id": 38552753, "comment_id": 64497761, "body": "thats exactly how i have it right now. Its just that i execute this system command on a remote host so it takes a lot of time to open connection for each loop. This is the reason i wanted the whole for loop to execute on the remote host with just one connection."}, {"owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "reply_to_user": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "edited": false, "score": 0, "creation_date": 1469376334, "post_id": 38552753, "comment_id": 64498871, "body": "I added a version that constructs a full-up <code>bash</code> command from your initial array."}, {"owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "edited": false, "score": 0, "creation_date": 1469376544, "post_id": 38552753, "comment_id": 64498936, "body": "thanks, that will do!"}, {"owner": {"reputation": 2444, "user_id": 584940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4fd36b5abead93bfd3575c08cd923e9?s=128&d=identicon&r=PG", "display_name": "Randall", "link": "https://stackoverflow.com/users/584940/randall"}, "edited": false, "score": 0, "creation_date": 1469818383, "post_id": 38552753, "comment_id": 64712369, "body": "@lmran IMO, executing on a remote host is significant information that would enhance your question significantly"}], "tags": [], "owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "is_accepted": true, "score": 1, "last_activity_date": 1469376272, "last_edit_date": 1469376272, "creation_date": 1469368333, "answer_id": 38552753, "question_id": 38547307, "link": "https://stackoverflow.com/questions/38547307/accessing-perl-array-in-bash/38552753#38552753", "title": "Accessing Perl array in bash", "body": "<p>As @chepner has suggested, the code you want looks a bit like this:</p>\n\n<pre><code>my @array = (1, 2, 3, 4);\nfor my $val (@array) {\n    # Pick your favourite/the most appropriate mechanism for making system calls\n    system(\"command\", $val);\n}\n</code></pre>\n\n<p>If you need to make a single call on a remote system, what you could do is something like this:</p>\n\n<pre><code>my @array = (1, 2, 3, 4);\nmy $command = \"for i in (\"\n\nfor my $val(@array) {\n    $val =~ s/(?&lt;!\\\\) /\\\\ /g; # Escape spaces that haven't already been (if the array elements might contain them)\n    $command = \"$command $val\";\n}\n\n$command = $command.\"); do &lt;command&gt; $i; done;\";\n\nsystem($command);\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "closed_date": 1469607133, "accepted_answer_id": 38552753, "answer_count": 1, "score": -2, "last_activity_date": 1469376272, "creation_date": 1469316533, "question_id": 38547307, "link": "https://stackoverflow.com/questions/38547307/accessing-perl-array-in-bash", "closed_reason": "Duplicate", "title": "Accessing Perl array in bash", "body": "<p>I have a perl code where I execute some bash commands using backticks. I want to read a perl array in that bash command. My array has some strings and I want to read them in a for loop of bash.</p>\n\n<pre><code>my @aArray = (1,2,3,4);\nmy $command = 'for i in $@aArray; do xxxxx $i; done;';\n`$command`\n</code></pre>\n\n<p>I also want to catch error if any part of the loop fails. Thanks</p>\n"}, {"tags": ["regex", "perl", "text", "ocr", "data-cleaning"], "comments": [{"owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "edited": false, "score": 0, "creation_date": 1469313715, "post_id": 38546934, "comment_id": 64485929, "body": "You&#39;re trying to manipulate natural language with regexes. Difficult at best, and, in the space you&#39;re working in, likely impossible. Proceed with caution, here there be dragons..."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469343022, "post_id": 38546934, "comment_id": 64490176, "body": "<a href=\"http://stackoverflow.com/questions/1136990/how-can-i-extract-text-from-a-pdf-file-in-perl\" title=\"how can i extract text from a pdf file in perl\">stackoverflow.com/questions/1136990/&hellip;</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469343093, "post_id": 38546934, "comment_id": 64490186, "body": "<a href=\"http://search.cpan.org/~cdolan/CAM-PDF-1.60/bin/getpdftext.pl\" rel=\"nofollow noreferrer\">search.cpan.org/~cdolan/CAM-PDF-1.60/bin/getpdftext.pl</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1469315420, "creation_date": 1469315420, "answer_id": 38547207, "question_id": 38546934, "link": "https://stackoverflow.com/questions/38546934/perl-regex-to-remove-space-from-ocr-text-imported-from-pdftotext/38547207#38547207", "title": "perl regex to remove space from OCR text imported from pdftotext", "body": "<p>For the first problem (that of too many spaces), you can easily solve it with <code>s/\\s+/ /g</code>. As for the second problem, I'm uncertain if there's a library like that.</p>\n"}, {"tags": [], "owner": {"reputation": 2933, "user_id": 1168680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EgYGV.jpg?s=128&g=1", "display_name": "RAVI", "link": "https://stackoverflow.com/users/1168680/ravi"}, "is_accepted": false, "score": 0, "last_activity_date": 1469753224, "last_edit_date": 1469753224, "creation_date": 1469457011, "answer_id": 38570502, "question_id": 38546934, "link": "https://stackoverflow.com/questions/38546934/perl-regex-to-remove-space-from-ocr-text-imported-from-pdftotext/38570502#38570502", "title": "perl regex to remove space from OCR text imported from pdftotext", "body": "<p><strong>Answer 1 :</strong> </p>\n\n<ul>\n<li>Any Regex based solution will not give you good solution for single space problem.</li>\n</ul>\n\n<p><strong>Answer 2 :</strong> </p>\n\n<ul>\n<li><p>For issue like, - \"T h e n as data we give the t r a j e c t o r i e s o f the particles between\"</p></li>\n<li><p>First you can remove all spaces from sentence and then use - <a href=\"http://nbviewer.jupyter.org/url/norvig.com/ipython/How%20to%20Do%20Things%20with%20Words.ipynb\" rel=\"nofollow\">Word Segmentation Solution</a> from <a href=\"http://norvig.com/\" rel=\"nofollow\">Norvig</a>'s work.</p></li>\n</ul>\n\n<p><strong>Example :</strong> </p>\n\n<pre><code>from __future__ import division\nfrom collections import Counter\nimport re, nltk\n\nWORDS = nltk.corpus.abc.words()\nCOUNTS = Counter(WORDS)\n\ndef pdist(counter):\n    \"Make a probability distribution, given evidence from a Counter.\"\n    N = sum(counter.values())\n    return lambda x: counter[x]/N\n\nP = pdist(COUNTS)\n\ndef Pwords(words):\n    \"Probability of words, assuming each word is independent of others.\"\n    return product(P(w) for w in words)\n\ndef product(nums):\n    \"Multiply the numbers together.  (Like `sum`, but with multiplication.)\"\n    result = 1\n    for x in nums:\n        result *= x\n    return result\n\ndef memo(f):\n    \"Memoize function f, whose args must all be hashable.\"\n    cache = {}\n    def fmemo(*args):\n        if args not in cache:\n            cache[args] = f(*args)\n        return cache[args]\n    fmemo.cache = cache\n    return fmemo\n\ndef splits(text, start=0, L=20):\n    \"Return a list of all (first, rest) pairs; start &lt;= len(first) &lt;= L.\"\n    return [(text[:i], text[i:]) \n            for i in range(start, min(len(text), L)+1)]\n\n@memo\ndef segment(text):\n    \"Return a list of words that is the most probable segmentation of text.\"\n    if not text: \n        return []\n    else:\n        candidates = ([first] + segment(rest) \n                      for (first, rest) in splits(text, 1))\n        return max(candidates, key=Pwords)\n\ntext = \"T h e n as data we give the t r a j e c t o r i e s o f the particles between\"\ntext = text.replace(\" \", \"\")\nprint segment(text)\n# ['Then', 'as', 'data', 'we', 'give', 'the', 'trajectories', 'of', 'the', 'particles', 'between']\n</code></pre>\n\n<p>=> Best solution will be to find why you are getting spaces in <strong>pdftotext</strong> module. If there is an issue in pdftotext which you can't solve try to explore other libraries for OCR.</p>\n"}], "owner": {"reputation": 21, "user_id": 6630143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-au0r32_Ew-E/AAAAAAAAAAI/AAAAAAAAAqA/01NopiBesUI/photo.jpg?sz=128", "display_name": "Bijou Smith", "link": "https://stackoverflow.com/users/6630143/bijou-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469753224, "creation_date": 1469312769, "question_id": 38546934, "link": "https://stackoverflow.com/questions/38546934/perl-regex-to-remove-space-from-ocr-text-imported-from-pdftotext", "title": "perl regex to remove space from OCR text imported from pdftotext", "body": "<p>Text mining issue: from section titles, figure captions and elsewhere, in many PDF files I am getting sentences like:</p>\n\n<pre><code>\"T h e n as data we give the t r a j e c t o r i e s o f the particles between ...\"\n</code></pre>\n\n<p>I guess this is an OCR issue with pdftotext.</p>\n\n<p>I can remove spaces in gappy text only with a chained regexp sequence that first increases whitespace, but this relies on word boundaries <em>in the original OCR text</em> being at LEAST double spaced. e.g., here's a simple test:</p>\n\n<pre><code>$ perl -e '$t=\"The \\ \\ \\ \\   t h i n g   w r o n g    h e r e   is we have  a  gap  s.\";  print \"$t\\n\"; \n$t=~s/(\\s{2,})/$1  /g;    print \"$t\\n\"; \n$t=~s/(\\w)\\s?/$1/g;       print \"$t\\n\"; \n$t=~s/\\s+/ /g;            print \"$t\\n\";'\n\nThe       t h i n g   w r o n g     h e r e   is we have  a  gap  s.\nThe         t h i n g     w r o n g      h e r e     is we have      a    gap    s.\nThe           t h i n g     w r o n g     h e r e     is   we    have      a    gap      s.  \nThe          thing    wrong    here    is  we  have     a   gap     s. \nThe thing wrong here is we have a gap s. \n</code></pre>\n\n<p>the end sentence period \"gap s.\" is deliberate, it should not close up.</p>\n\n<p>Question 1. Is there a more elegant set of regex's to do this?</p>\n\n<p>Question 2.  What the heck can be done with the single-spaced only OCR text dump?  I assume one can only solve this generally to clean up text of the form:\n\"T h e n as data we give the t r a j e c t o r i e s o f the particles between ...\"\nwhen the word boundaries are not clear using some heavy duty module that looks for dictionary words in a string of single letters.  Is there such a  module?  (I've searched but have not located one so far.)</p>\n"}, {"tags": ["perl", "cygwin"], "comments": [{"owner": {"reputation": 6281, "user_id": 5105383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YCB5.jpg?s=128&g=1", "display_name": "matzeri", "link": "https://stackoverflow.com/users/5105383/matzeri"}, "edited": false, "score": 0, "creation_date": 1469306073, "post_id": 38545647, "comment_id": 64484133, "body": "Are you sure the shared objects (.so) are cygwin ones ? What is the output of <code>file your_shared_object.so</code> ?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1469306299, "post_id": 38545647, "comment_id": 64484196, "body": "Maybe you need to set <code>LD_LIBRARY_PATH</code> to include correct path? See <a href=\"http://stackoverflow.com/questions/8657005/env-doesnt-work-and-i-cannot-use-shared-library\">%ENV doesn&#39;t work and I cannot use shared library</a>"}, {"owner": {"reputation": 55, "user_id": 6249272, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ciWef_hutJY/AAAAAAAAAAI/AAAAAAAAAew/eokWX4-9qSQ/photo.jpg?sz=128", "display_name": "Helmy", "link": "https://stackoverflow.com/users/6249272/helmy"}, "edited": false, "score": 0, "creation_date": 1469338934, "post_id": 38545647, "comment_id": 64489502, "body": "+H&#229;kon H&#230;gland the LD_LIBRARY_is set to the /lib folder"}, {"owner": {"reputation": 55, "user_id": 6249272, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ciWef_hutJY/AAAAAAAAAAI/AAAAAAAAAew/eokWX4-9qSQ/photo.jpg?sz=128", "display_name": "Helmy", "link": "https://stackoverflow.com/users/6249272/helmy"}, "edited": false, "score": 0, "creation_date": 1469339336, "post_id": 38545647, "comment_id": 64489573, "body": "+matzer, how can i make sure that these files are cygwin ones ? the out of file is &quot;ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linked, not stripped&quot;"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 6281, "user_id": 5105383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YCB5.jpg?s=128&g=1", "display_name": "matzeri", "link": "https://stackoverflow.com/users/5105383/matzeri"}, "edited": false, "score": 0, "creation_date": 1469344307, "post_id": 38545647, "comment_id": 64490417, "body": "@matzeri (@AhmedHelmy please do not use <code>+</code> to address commenters, see <a href=\"http://meta.stackexchange.com/questions/43019/how-do-comment-replies-work\">How do comment @replies work?</a> for more information )"}, {"owner": {"reputation": 6281, "user_id": 5105383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YCB5.jpg?s=128&g=1", "display_name": "matzeri", "link": "https://stackoverflow.com/users/5105383/matzeri"}, "edited": false, "score": 0, "creation_date": 1469351860, "post_id": 38545647, "comment_id": 64491961, "body": "ELF 32-bit LSB are linux one, you can not run it on windows/cygwin"}], "answers": [{"tags": [], "owner": {"reputation": 6281, "user_id": 5105383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YCB5.jpg?s=128&g=1", "display_name": "matzeri", "link": "https://stackoverflow.com/users/5105383/matzeri"}, "is_accepted": false, "score": 0, "last_activity_date": 1469375594, "last_edit_date": 1592644375, "creation_date": 1469375594, "answer_id": 38553910, "question_id": 38545647, "link": "https://stackoverflow.com/questions/38545647/perl-dynaloader-cant-locate-loadable-objects/38553910#38553910", "title": "Perl - DynaLoader cant locate loadable objects", "body": "<p>From 1st page of cygwin website</p>\n<blockquote>\n<p>Cygwin is not:</p>\n<p>a way to run native Linux apps on Windows. You must rebuild your application from source if you want it to run on Windows.</p>\n<p>a way to magically make native Windows apps aware of UNIX\u00ae functionality like signals, ptys, etc. Again, you need to build your\napps from source if you want to take advantage of Cygwin\nfunctionality.</p>\n</blockquote>\n<p>As your shared libs are <code>ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linked, not stripped</code> you have a package built for a Unix/Linux 32 bit. It can not run on Cygwin/Windows.</p>\n<p>On windows the format is PE32</p>\n<pre><code>$ file /usr/bin/cygreadline7.dll\n/usr/bin/cygreadline7.dll: PE32+ executable (DLL) (console) x86-64, for MS Windows\n$ file /cygdrive/c/windows/system32/kernel32.dll\n/cygdrive/c/windows/system32/kernel32.dll: PE32+ executable (DLL) (console) x86-64, for MS Windows\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6249272, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ciWef_hutJY/AAAAAAAAAAI/AAAAAAAAAew/eokWX4-9qSQ/photo.jpg?sz=128", "display_name": "Helmy", "link": "https://stackoverflow.com/users/6249272/helmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469375594, "creation_date": 1469301838, "question_id": 38545647, "link": "https://stackoverflow.com/questions/38545647/perl-dynaloader-cant-locate-loadable-objects", "title": "Perl - DynaLoader cant locate loadable objects", "body": "<p>i am all new to perl but i have a perl script that require alot of modules to work which all are found in folder lib/ , when i try to run the script and it start loading the modules (use x;) the script fails when calling dynaloader x; saying cant find loadable objects for modules x @INC then i figured out that these modules have shared objects (.so) files that dynaloader fails to find and its names are all in form libx.so and they are in the same folder of the .pm files .. so the question is how could i make dynaloader load the modules and there shared libraries .</p>\n\n<p>Any help would be appreciated..\np.s:\n-i am running the script through cygwin.\n-these modules are locale modules , i dont have the makefile.pl for them and i cant get it either.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 18643, "user_id": 1737909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058573b71875bc70b5a4e30140c94040?s=128&d=identicon&r=PG", "display_name": "Ven", "link": "https://stackoverflow.com/users/1737909/ven"}, "edited": false, "score": 1, "creation_date": 1469294578, "post_id": 38544526, "comment_id": 64480719, "body": "did you write command-line perl invocations in your perl script???"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1469294859, "post_id": 38544526, "comment_id": 64480823, "body": "Do you know any Perl?"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1469294897, "post_id": 38544526, "comment_id": 64480836, "body": "yes, I call it with `perl &quot;C:\\cygwin\\home\\get_all.pl&quot;&#39;  Thank you :)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469295299, "post_id": 38544526, "comment_id": 64480977, "body": "That&#39;s interesting considering that the file is called <code>get_all_qc2.pl</code>, not <code>get_all.pl</code>."}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1469295444, "post_id": 38544526, "comment_id": 64481024, "body": "I changed the name of the <code>.pl</code> but that is not causing the error... even if I change it back I get a syntax error... I know some <code>perl</code> though I am still learning it.  Its probably a simple mistake but its how I learn.  Thank you :)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469297704, "post_id": 38544526, "comment_id": 64481781, "body": "<code>perl -ne  &#39;...&#39;</code> is a shell command, not a Perl statement. You can&#39;t just put bare shell commands into a Perl program and expect it to work."}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1469297934, "post_id": 38544526, "comment_id": 64481853, "body": "Thank you for the helpful comment, I appreciate it :)."}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1469298246, "post_id": 38544526, "comment_id": 64481952, "body": "Not sure why all the downvotes, just trying to learn... thank you."}, {"owner": {"reputation": 451, "user_id": 5673677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElBpf.png?s=128&g=1", "display_name": "Pro Blaster", "link": "https://stackoverflow.com/users/5673677/pro-blaster"}, "edited": false, "score": 0, "creation_date": 1469301784, "post_id": 38544526, "comment_id": 64483007, "body": "@Chris sorry about all the downvotes, working on an answer"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "reply_to_user": {"reputation": 451, "user_id": 5673677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElBpf.png?s=128&g=1", "display_name": "Pro Blaster", "link": "https://stackoverflow.com/users/5673677/pro-blaster"}, "edited": false, "score": 0, "creation_date": 1469310054, "post_id": 38544526, "comment_id": 64485101, "body": "@Pro Blaster thank you, I am a scientist learning programming as it relates to my field. I started with <code>awk, sed, and bash</code>. <code>perl</code> is a bit new to me but is used a lot in the medical genetics. Thank you :)."}], "answers": [{"comments": [{"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 1, "creation_date": 1469310237, "post_id": 38546121, "comment_id": 64485144, "body": "Thank you @Sebastian Lenartowicz... I am familiar with a shell environment and that was part of my issue along with how to best use a <code>perl</code> approach. I really appreciate your help and explanations :)"}], "tags": [], "owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "is_accepted": true, "score": 2, "last_activity_date": 1469306642, "last_edit_date": 1469306642, "creation_date": 1469305554, "answer_id": 38546121, "question_id": 38544526, "link": "https://stackoverflow.com/questions/38544526/extract-specific-fields-and-combine-into-1-text-file-with-perl/38546121#38546121", "title": "extract specific fields and combine into 1 text file with perl", "body": "<p>OK, to start with, if you're running this code as a script from inside a <code>.pl</code> file, you're doing it wrong. What you've done is written the shell invocation of a Perl one-liner into your file and expected it to execute as Perl code!</p>\n\n<p>So, to start, we change your file to something like this:</p>\n\n<pre><code>#!/bin/perl\nuse strict; use warnings;\ns/^#(Display Name|identifier|Gender)/$1/ or s/^#(Quality = \\d\\.\\d{3})\\d+/$1/) and print;\n</code></pre>\n\n<p>And then we just invoke it with <code>perl file.pl</code>.</p>\n\n<p>But that doesn't actually do what you want.</p>\n\n<p>So, instead, we do something like this:</p>\n\n<pre><code>#!/bin/perl\nuse warnings; use strict; # Good Perl practice to use these, always\n\nmy $file = $ARGV[0]; # Grabs the filename from the cmdline arguments\nopen my $fh, '&lt;', $file or die \"Cannot open $file: $!\"; # Opens the file\n\nwhile (my $line = &lt;$fh&gt;) {\n    $line =~ /\\#(?:((?:Display Name|Identifier|Gender) = .+)|(Quality =))/; # Match and capture your desired elements\n    print $1 if ($1); # If we found anything, print it\n}\n\nclose $fh;\n</code></pre>\n\n<p>Then we execute it with <code>perl file.pl input.txt</code>, sit back, and let it run.</p>\n"}], "owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 38546121, "answer_count": 1, "score": -3, "last_activity_date": 1469306642, "creation_date": 1469294431, "last_edit_date": 1469294830, "question_id": 38544526, "link": "https://stackoverflow.com/questions/38544526/extract-specific-fields-and-combine-into-1-text-file-with-perl", "title": "extract specific fields and combine into 1 text file with perl", "body": "<p>I am trying to use <code>perl</code> to extract specific fields from all text files in a directory output that to one new file, with each text file on a new line.</p>\n\n<p><strong>input</strong></p>\n\n<pre><code>#Sample = xxxxx\n#Sample Type = xxxxxx\n#Build = xxxxxxx\n#Platform = xxxxxxx\n#Display Name= XXXXX  (keep this field without the #)\n#identifier = xxxxxx  (keep this field without the #)\n#Gender = xxxxx       (keep this field without the #)\n#Control Gender = xxxxx\n#Control Sample = xxxxx\n#Quality = X.XXXXXX   (keep this field without the # and X.XXX)\n</code></pre>\n\n<p><strong>desired output</strong> (fields to keep from each text file)</p>\n\n<pre><code>Display Name= XXXXX  (keep this field without the #)\nidentifier = xxxxxx  (keep this field without the #)\nGender = xxxxx       (keep this field without the #)\n</code></pre>\n\n<p>I took @Borodin suggestion in an earlier post and tried a script to accomplish this that I think is close:</p>\n\n<p><strong>perl</strong></p>\n\n<pre><code>#!/bin/perl\nuse strict; use warnings;\nperl -ne '(s/^#(Display Name|identifier|Gender)/$1/ or s/^#(Quality = \\d\\.\\d{3})\\d+/$1/) and print' *.txt &gt; all.txt\nperl \"C:\\cygwin\\home\\get_all_qc2.pl\"\nsyntax error at C:\\cygwin\\home\\get_all_qc2.pl line 3, near \"-ne\"\nExecution of C:\\cygwin\\home\\get_all_qc2.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Thank you :).</p>\n"}, {"tags": ["perl", "salesforce"], "owner": {"reputation": 627, "user_id": 5180086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yutGB.jpg?s=128&g=1", "display_name": "Poyke", "link": "https://stackoverflow.com/users/5180086/poyke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1469294579, "creation_date": 1469294142, "last_edit_date": 1469294579, "question_id": 38544482, "link": "https://stackoverflow.com/questions/38544482/how-to-query-salesforce-report-with-perl", "title": "How to query Salesforce Report with perl", "body": "<p>I have a report in <strong>Salesforce</strong> that returns just the right information that is needed - (A long list of customer URLs and some more info columns for each url).</p>\n\n<p>I also have a <strong>Perl</strong> script that goes over <code>csv</code> files and fills in missing information next to each URL.</p>\n\n<p><strong><em>What I Need:</em></strong></p>\n\n<p>1) For the <strong>Perl</strong> script to automatically query the report and get the most updated information before each run.</p>\n\n<p><strong><em>What I Tried:</em></strong></p>\n\n<p>1)<code>WWW::Salesforce::Report</code> <a href=\"http://search.cpan.org/~paixaop/WWW-Salesforce-Report-0.03/lib/WWW/Salesforce/Report.pm\" rel=\"nofollow\">Cpan</a> Module - apparently is has unresolved login bugs for 5+ years and is no longer supported. (<a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=WWW-Salesforce-Report\" rel=\"nofollow\">Cpan bug report</a>) </p>\n\n<p>2)<code>WWW::Salesforce::Simple</code> <a href=\"http://search.cpan.org/~phred/WWW-Salesforce/lib/WWW/Salesforce/Simple.pm\" rel=\"nofollow\">Cpan</a> Module- This module allows me to run basic queries (<code>select Id from Account</code> - from examples) but I can't seem to find the correct query. I cant even find the names of objects in my Salesforce account.</p>\n\n<p>What is the correct way to get info from the Salesforce report and in case it is option 2, how can I get the correct object names and/or export the query Salesforce uses for the report?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469297341, "post_id": 38544253, "comment_id": 64481659, "body": "Are there really blank lines between every pair of records in your data file?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 1250089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8794b8dee3f48b495a99b1b00835e253?s=128&d=identicon&r=PG", "display_name": "Efficasy", "link": "https://stackoverflow.com/users/1250089/efficasy"}, "edited": false, "score": 0, "creation_date": 1469295113, "post_id": 38544461, "comment_id": 64480910, "body": "Thank you for your ans. But, when I run the code, it dose not give me the exact frequency of the each occurrence. Instead its printing only the hash value. I trying to get the frequency of each occurrence. Below is the o/p I am getting when I run the code.  20080624-12:43:38.021:  20080624-12:43:38.066:  20080624-12:43:39.066:"}, {"owner": {"reputation": 793, "user_id": 4651679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/msgFn.png?s=128&g=1", "display_name": "Ruslan Batdalov", "link": "https://stackoverflow.com/users/4651679/ruslan-batdalov"}, "reply_to_user": {"reputation": 1, "user_id": 1250089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8794b8dee3f48b495a99b1b00835e253?s=128&d=identicon&r=PG", "display_name": "Efficasy", "link": "https://stackoverflow.com/users/1250089/efficasy"}, "edited": false, "score": 0, "creation_date": 1469296893, "post_id": 38544461, "comment_id": 64481533, "body": "You can add a scalar counter that holds the total number of occurrences, increment it at the same time when <code>$hash{$1}</code>, and at the end, divide <code>$hash{$j}</code> by this counter."}, {"owner": {"reputation": 1, "user_id": 1250089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8794b8dee3f48b495a99b1b00835e253?s=128&d=identicon&r=PG", "display_name": "Efficasy", "link": "https://stackoverflow.com/users/1250089/efficasy"}, "edited": false, "score": 0, "creation_date": 1469307905, "post_id": 38544461, "comment_id": 64484597, "body": "Thank you very much!! Let me work on how to add counter."}], "tags": [], "owner": {"reputation": 793, "user_id": 4651679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/msgFn.png?s=128&g=1", "display_name": "Ruslan Batdalov", "link": "https://stackoverflow.com/users/4651679/ruslan-batdalov"}, "is_accepted": false, "score": -1, "last_activity_date": 1469294001, "creation_date": 1469294001, "answer_id": 38544461, "question_id": 38544253, "link": "https://stackoverflow.com/questions/38544253/how-to-count-number-of-occurances-in-hash-values/38544461#38544461", "title": "how to count number of occurances in hash values", "body": "<p>Here is your code corrected:</p>\n\n<pre><code>#!/usr/bin/perl\n\n$f = '2.txt';\nopen (F,\"&lt;$f\") or die \"Can not open\\n\";\nmy %hash;\nwhile (&lt;F&gt;) {\n    chomp $_;\n    @data = split (/\\|/,$_);\n    foreach $data (@data) {\n        if ($data ~= /^52=(.*)/) {\n            $hash{$1}++;\n        }\n    }\n}\nfor my $j (keys %hash) {\n    print \"$j: \", $hash{j}, \"\\n\";\n}\n</code></pre>\n\n<p>Explanation:</p>\n\n<ol>\n<li><p><code>if ( $data == 52)</code> compares the whole field against value 52, not a substring of the field. Of course, you do not have such fields, and the test always fails. I replaces it with a regexp comparison.</p></li>\n<li><p>The same regexp gives an opportunity to catch a timestamp immediately, without a need to split the field once more. It is done by <code>(.*)</code> in the regexp and <code>$1</code> in the following assignment.</p></li>\n<li><p>It is hardly makes sense to output the hash for every line of input data (your code outputs it within the <code>foreach</code> loop). I moved it down. But maybe, outputting the current hash for every line is what you wanted, I do not know.</p></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 1250089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8794b8dee3f48b495a99b1b00835e253?s=128&d=identicon&r=PG", "display_name": "Efficasy", "link": "https://stackoverflow.com/users/1250089/efficasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 377, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469294001, "creation_date": 1469292877, "last_edit_date": 1592644375, "question_id": 38544253, "link": "https://stackoverflow.com/questions/38544253/how-to-count-number-of-occurances-in-hash-values", "title": "how to count number of occurances in hash values", "body": "<p>I have a below fix file and I want to find out how many orders are sent at same time. I am using tag 52 as the sending time.</p>\n<p>Below is the file,</p>\n<blockquote>\n<p>8=FIX.4.2|9=115|35=A|52=20080624-12:43:38.021|10=186|</p>\n<p>8=FIX.4.2|52=20080624-12:43:38.066|10=111|</p>\n<p>8=FIX.4.2|9=105|35=1|22=BOO|52=20080624-12:43:39.066|10=028|</p>\n</blockquote>\n<p>If I want to count number how many same occurances of Tag 52 values were sent? How can I check?</p>\n<p>So far, I have written below code but not giving me the frequency.</p>\n<pre><code>#!/usr/bin/perl\n\n$f = '2.txt';\nopen (F,&quot;&lt;$f&quot;) or die &quot;Can not open\\n&quot;;\nwhile (&lt;F&gt;)\n{\n        chomp $_;\n        @data = split (/\\|/,$_);\n        foreach $data (@data)\n        {\n                if ( $data == 52){\n                @data1 = split ( /=/,$data);\n                for my $j (@data1)\n                {\n                        $hash{$j}++;\n                } for my $j (keys %hash)\n                        {\n                                print &quot;$j: &quot;, $hash{j}, &quot;\\n&quot;;\n                        }\n\n                }\n        }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1425, "user_id": 6304349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c4a1ce11469805ba79d576fa2f013c?s=128&d=identicon&r=PG", "display_name": "dorukayhan", "link": "https://stackoverflow.com/users/6304349/dorukayhan"}, "edited": false, "score": 1, "creation_date": 1469289881, "post_id": 38543260, "comment_id": 64479248, "body": "<code>The code I&#39;ve tried didn&#39;t work</code> This is a bad problem statement. Could you <a href=\"http://stackoverflow.com/posts/38543260/edit\">edit your question</a> to clarify how does it fail at its task?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469290427, "post_id": 38543260, "comment_id": 64479408, "body": "So you want <code>chr2:29446394</code> or <code>chr1:154142875</code> from those strings?"}], "answers": [{"tags": [], "owner": {"reputation": 16403, "user_id": 2963652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eU05w.jpg?s=128&g=1", "display_name": "nicael", "link": "https://stackoverflow.com/users/2963652/nicael"}, "is_accepted": false, "score": 0, "last_activity_date": 1469286974, "creation_date": 1469286974, "answer_id": 38543292, "question_id": 38543260, "link": "https://stackoverflow.com/questions/38543260/how-to-correctly-split-a-column-that-contain-either-forward-or-backward-brackets/38543292#38543292", "title": "How to correctly split a column that contain either forward or backward brackets", "body": "<p>You could match (not split) the string with this regex:</p>\n\n<pre><code>(\\[|\\]).*?\\1\n</code></pre>\n\n<ul>\n<li><code>(\\[|\\])</code> matches either <code>[</code> or <code>]</code></li>\n<li><code>.*?</code> lazy regex; matches the minimal text after the previous token...</li>\n<li><code>\\1</code> ...until the token which was coming first (either <code>[</code> or <code>]</code>)</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 4128, "user_id": 4607733, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc604aa16e5409668cc4fd1f2f0c01e2?s=128&d=identicon&r=PG&f=1", "display_name": "horcrux", "link": "https://stackoverflow.com/users/4607733/horcrux"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1469288199, "post_id": 38543405, "comment_id": 64478739, "body": "It&#39;s the variable with the content of the brackets; it refers to one different match for each iteration (while matches exist)."}], "tags": [], "owner": {"reputation": 4128, "user_id": 4607733, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc604aa16e5409668cc4fd1f2f0c01e2?s=128&d=identicon&r=PG&f=1", "display_name": "horcrux", "link": "https://stackoverflow.com/users/4607733/horcrux"}, "is_accepted": false, "score": 0, "last_activity_date": 1469367444, "last_edit_date": 1469367444, "creation_date": 1469287794, "answer_id": 38543405, "question_id": 38543260, "link": "https://stackoverflow.com/questions/38543260/how-to-correctly-split-a-column-that-contain-either-forward-or-backward-brackets/38543405#38543405", "title": "How to correctly split a column that contain either forward or backward brackets", "body": "<p>This will find all matching substrings which: </p>\n\n<ul>\n<li>start from <code>[</code> or <code>]</code></li>\n<li>contain 0-N symbols before next <code>[</code> or <code>]</code></li>\n</ul>\n\n<p>the value you are looking for is in the second parentheses. You can refer it using <code>$2</code> internal variable:</p>\n\n<pre><code>while ($string =~ /([\\[\\]])([^\\[\\]]*)\\1/g) {\n    #do something with $2\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 6606934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95dcfc71cb1ac0a9d8962b69c4397bcb?s=128&d=identicon&r=PG&f=1", "display_name": "laojianke", "link": "https://stackoverflow.com/users/6606934/laojianke"}, "is_accepted": false, "score": -1, "last_activity_date": 1469289251, "creation_date": 1469289251, "answer_id": 38543648, "question_id": 38543260, "link": "https://stackoverflow.com/questions/38543260/how-to-correctly-split-a-column-that-contain-either-forward-or-backward-brackets/38543648#38543648", "title": "How to correctly split a column that contain either forward or backward brackets", "body": "<p>Please try as below:</p>\n\n<pre><code>@locus = split /[\\]\\[]/, $string;\nmy $position = $locus[1];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1469291138, "last_edit_date": 1469291138, "creation_date": 1469290828, "answer_id": 38543889, "question_id": 38543260, "link": "https://stackoverflow.com/questions/38543260/how-to-correctly-split-a-column-that-contain-either-forward-or-backward-brackets/38543889#38543889", "title": "How to correctly split a column that contain either forward or backward brackets", "body": "<p>I would use the <em>branch reset</em> pattern, and capture everything either between two closing square brackets or two opening square brackets</p>\n\n<p>Note that the <code>/x</code>modifier allows me to add spaces to make the regex a little more readable</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @columns = qw/ C]chr2:29446394] [chr1:154142875[A /;\n\nfor my $col ( @columns ) {\n    next unless $col =~ / (?|\n        \\[ ([^[]*) \\[\n        |\n        \\] ([^]]*) \\]\n    ) /x;\n    my $val = $1;\n    print \"$val\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>chr2:29446394\nchr1:154142875\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 38543889, "answer_count": 4, "score": -2, "last_activity_date": 1469367444, "creation_date": 1469286766, "last_edit_date": 1469304519, "question_id": 38543260, "link": "https://stackoverflow.com/questions/38543260/how-to-correctly-split-a-column-that-contain-either-forward-or-backward-brackets", "title": "How to correctly split a column that contain either forward or backward brackets", "body": "<p>I would like to extract text between two (either forward or backward brackets) from a column in a file.</p>\n\n<p>Each row conains either two foraward or two reverse brackets:</p>\n\n<pre><code>C]chr2:29446394]\n[chr1:154142875[A\n</code></pre>\n\n<p>I've tried:</p>\n\n<pre><code>@locus = split /\\]/\\[/, $string;\nmy $position = $locus[1];\n</code></pre>\n\n<p>I was able to extract either lines with forward or backward brackets\n<code>split /\\[/, $string or split /\\]/, $string</code>  but can't figure out how to write a statement that would accomadate both casses. Please suggest something.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "if-statement", "while-loop", "nested"], "comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1469231994, "post_id": 38536635, "comment_id": 64467095, "body": "Okay. Thanks for the feedback. I will clean this up!"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469232462, "post_id": 38536635, "comment_id": 64467162, "body": "Let me know if I can make this question better! Thanks"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469233504, "post_id": 38536635, "comment_id": 64467308, "body": "I was more thinking to something more realistic like:<code>&gt;RESTG</code> with <code>MTEITAAMVKELRESTGAGMMDCKNA</code> that gives <code>&gt;LRESTGA</code> and <code>RESTG</code>. <i>(this way people understands that a cat isn&#39;t jumping on the keyboard and that letters are not random. You can see immediately from where comes the letters around)</i>."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469234266, "post_id": 38536635, "comment_id": 64467444, "body": "My modification should clear things up now. Is there anything else I can do to improve this question? Thanks."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469234623, "post_id": 38536635, "comment_id": 64467501, "body": "What is the goal of the <code>$count</code> var? Do you want to produce an output file for each file with the number of lines (or the number or <code>&gt;</code>) in the name? What if two files have the same number of lines?"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1469234854, "post_id": 38536635, "comment_id": 64467546, "body": "I included the count only to differentiate the file names. It has no relation to the file contents."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469291802, "post_id": 38536635, "comment_id": 64479829, "body": "It&#39;s most common to see <i>snake_case_identifiers</i> in Perl code. It is much more readable, especially for people whose first language isn&#39;t English (and so the capital letters don&#39;t stand out for them), and programmers familiar with Perl will thank you. But if you do decide to go for <i>camelCaseIdentifiers</i> then please use an initial lower-case letter for all lexical variables and subroutines. Capital initials are reserved for package-wide identifiers such as <code>Package::Names</code> or <code>use constant VALUES</code>."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1469475131, "post_id": 38536635, "comment_id": 64541130, "body": "Hi Borodin. Thanks for the feedback. Is that in reference to my array name, @ArrayofFiles? I can change that to @files, like Casimir et Hippolyte did below."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469267723, "post_id": 38537384, "comment_id": 64473486, "body": "Why are you passing strings by reference to <code>getflanks</code>?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469275717, "post_id": 38537384, "comment_id": 64475563, "body": "@Borodin: I wanted to prevent a copy of the variable content when I assign <code>@_</code>. But perhaps it&#39;s more easy to use <code>$_[n]</code> directly or there&#39;s another way?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469277376, "post_id": 38537384, "comment_id": 64475926, "body": "In your original code, <code>my ($refheader, $refseq) = @_</code> makes copies of the parameters anyway, so the original values are safe. But <code>return $refseq =~ &#47;([a-z]$refheader[a-z])&#47;i</code> doesn&#39;t modify anything anyway so there is nothing to protect against. Note that <code>getflanks</code> must be called in list context, otherwise it will return a boolean value indicating the success of the match, probably <code>1</code>."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469303038, "post_id": 38537384, "comment_id": 64483361, "body": "@Borodin: The goal wasn&#39;t to protect the variables, but to avoid the copy of the variable content. In my previous code <code>my ($refheader, $refseq) = @_</code> makes copies of references only, not copies of the &quot;header&quot; and a possibly long sequence. The goal of <code>getflanks</code> isn&#39;t to be reused in an eventual other place in the code <i>(it is always used in list context)</i>. I created it only to not overwrite the capture group 1 <i>(from the previous if condition)</i>, but there&#39;s probably a more simple way to do that."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1469305039, "last_edit_date": 1469305039, "creation_date": 1469238536, "answer_id": 38537384, "question_id": 38536635, "link": "https://stackoverflow.com/questions/38536635/nested-if-statements-swapping-headers-and-sequences-in-fasta-files/38537384#38537384", "title": "Nested if statements: Swapping headers and sequences in fasta files", "body": "<p>There are several mistakes in your code but the main problem is:</p>\n\n<pre><code>if ($line =~ m/(^&gt;)([a-z]{5})/i) {\n    my $header = $2;\n    if ($line !~ /^&gt;/) {\n        # here you write to the output file\n</code></pre>\n\n<p>Because the same line can't start and <strong>not</strong> start with <code>&gt;</code> at the same time, your output files are never written. The second <code>if</code> statement always fails and its block is never executed.</p>\n\n<p><code>open(OUT, \"&gt;\", \"/path/to/output_$count.txt\") or die $!;</code> and <code>$count++</code> are misplaced. Since you want to produce an output file (with a new name) for each input file, you need to put them in the <code>foreach</code> block, not outside or in the while loop.</p>\n\n<p>Example:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy ($dir) = @ARGV;\nmy @files = glob \"$dir/*\";\nmy $count;\nmy $format = \"&gt;%s\\n%s\\n\";\n\nforeach my $file (@files) {\n    open my $fhi, '&lt;', $file\n        or die \"Can't open file '$file': $!\";\n\n    $count++;\n    my $output_path = \"/path/to/output_$count.txt\";\n\n    open my $fho, '&gt;', $output_path\n        or die \"Can't open file '$output_path': $!\";\n\n    my ($header, $seq);\n\n    while(&lt;$fhi&gt;) {\n       chomp;\n       if (/^&gt;([a-z]{5})/i) {\n          if ($seq) { printf $fho $format, $seq =~ /([a-z]$header[a-z])/i, $header; }\n          ($header, $seq) = ($1, '');\n       } else { $seq .= $_; }\n    }\n    if ($seq) { printf $fho $format, $seq =~ /([a-z]$header[a-z])/i, $header; }\n}\n\nclose $fhi;\nclose $fho;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 1, "last_activity_date": 1469247474, "creation_date": 1469247474, "answer_id": 38538115, "question_id": 38536635, "link": "https://stackoverflow.com/questions/38536635/nested-if-statements-swapping-headers-and-sequences-in-fasta-files/38538115#38538115", "title": "Nested if statements: Swapping headers and sequences in fasta files", "body": "<p>Try this </p>\n\n<pre><code>foreach my $file(@ArrayofFiles)\n{\n    open my $fh,\" &lt;\", $file or die\"error opening $!\\n\";\n    while(my $head=&lt;$fh&gt;)\n    {\n        chomp $head;\n        $head=~s/&gt;//;\n        my $next_line = &lt;$fh&gt;;\n        my($extract) = $next_line =~m/(.$head.)/;\n        print \"&gt;$extract\\n$head\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 38538115, "answer_count": 2, "score": 0, "last_activity_date": 1469305039, "creation_date": 1469230510, "last_edit_date": 1469232788, "question_id": 38536635, "link": "https://stackoverflow.com/questions/38536635/nested-if-statements-swapping-headers-and-sequences-in-fasta-files", "title": "Nested if statements: Swapping headers and sequences in fasta files", "body": "<p>I am opening a directory and processing each file. A sample file looks like this when opened: </p>\n\n<pre><code>&gt;AAAAA\nTTTTTTTTTTTAAAAATTTTTTTTTT\n&gt;BBBBB\nTTTTTTTTTTTTTTTTTTBBBBBTTT\n&gt;CCCCC\nTTTTTTTTTTTTTTTTCCCCCTTTTT\n</code></pre>\n\n<p>For the above sample file, I am trying to make them look like this: </p>\n\n<pre><code>&gt;TAAAAAT \nAAAAA\n&gt;TBBBBBT \nBBBBB\n&gt;TCCCCCT \nCCCCC\n</code></pre>\n\n<p>I need to find the \"header\" in next line sequence, take flanks on either side of the match, and then flip them. I want to print each file's worth of contents to another separate file. \nHere is my code so far. It runs without errors, but doesn't generate any output. My guess is this is probably related to the nested if statements. I have never worked with those before.   </p>\n\n<pre><code>#!/usr/bin/perl \nuse strict; \nuse warnings; \n\nmy ($directory) = @ARGV;\nmy $dir = \"$directory\";\nmy @ArrayofFiles = glob \"$dir/*\";\nmy $count = 0; \n\nopen(OUT, \"&gt;\", \"/path/to/output_$count.txt\") or die $!; \n\nforeach my $file(@ArrayofFiles){\n    open(my $fastas, $file) or die $!;\n    while (my $line = &lt;$fastas&gt;){\n        $count++;\n        if ($line =~ m/(^&gt;)([a-z]{5})/i){\n            my $header = $2;\n            if ($line !~ /^&gt;/){\n                my $sequence .= $line;\n                if ($sequence =~ m/(([a-z]{1})($header)([a-z]{1}))/i){\n                    my $matchplusflanks = $1;\n                    print OUT \"&gt;\", $matchplusflanks, \"\\n\", $header, \"\\n\";\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>How can I fix this code? Thanks. </p>\n"}, {"tags": ["javascript", "forms", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469227090, "post_id": 38536110, "comment_id": 64466001, "body": "What module have you used to write your Perl script so far?"}, {"owner": {"reputation": 153, "user_id": 5121421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--t2djoF_BT8/AAAAAAAAAAI/AAAAAAAABE0/MOw6c8UxBKo/photo.jpg?sz=128", "display_name": "dominix", "link": "https://stackoverflow.com/users/5121421/dominix"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469229947, "post_id": 38536110, "comment_id": 64466667, "body": "hi borodin until now I am using <code>use strict; use LWP::UserAgent; use URI::URL; use HTTP::Cookies; use HTTP::Request::Common qw(POST); use Getopt::Long; </code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469230159, "post_id": 38536110, "comment_id": 64466716, "body": "Can you see the form you want to submit in the HTML that LWP returns? It&#39;s probably created by JavaScript, and the usual solution is to use <code>WWW::Mechanize::Firefox</code> which drives a real Firefox browser."}, {"owner": {"reputation": 153, "user_id": 5121421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--t2djoF_BT8/AAAAAAAAAAI/AAAAAAAABE0/MOw6c8UxBKo/photo.jpg?sz=128", "display_name": "dominix", "link": "https://stackoverflow.com/users/5121421/dominix"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469230348, "post_id": 38536110, "comment_id": 64466760, "body": "i know about  <code>WWW::Mechanize::Firefox</code> but I need this script on a console only machine."}, {"owner": {"reputation": 153, "user_id": 5121421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--t2djoF_BT8/AAAAAAAAAAI/AAAAAAAABE0/MOw6c8UxBKo/photo.jpg?sz=128", "display_name": "dominix", "link": "https://stackoverflow.com/users/5121421/dominix"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469230528, "post_id": 38536110, "comment_id": 64466807, "body": "I can not use mech-dump to see the form if it is what you mean."}, {"owner": {"reputation": 153, "user_id": 5121421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--t2djoF_BT8/AAAAAAAAAAI/AAAAAAAABE0/MOw6c8UxBKo/photo.jpg?sz=128", "display_name": "dominix", "link": "https://stackoverflow.com/users/5121421/dominix"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469231900, "post_id": 38536110, "comment_id": 64467082, "body": "I can provide the full page if it can give hint to someone."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469232615, "post_id": 38536110, "comment_id": 64467187, "body": "There is also <code>WWW::Mechanize::PhantomJS</code>, but I gave never used it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469303848, "post_id": 38536110, "comment_id": 64483553, "body": "Do you need the actual page? Can&#39;t you just take the target of the form that that additional step with the JS does manually, then hard-code your program to trigger the first page, then trigger the second target with the appropriate fields? If the target is not dynamic in a way that you need the JS that would be enough."}, {"owner": {"reputation": 153, "user_id": 5121421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--t2djoF_BT8/AAAAAAAAAAI/AAAAAAAABE0/MOw6c8UxBKo/photo.jpg?sz=128", "display_name": "dominix", "link": "https://stackoverflow.com/users/5121421/dominix"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469305838, "post_id": 38536110, "comment_id": 64484078, "body": "@simbabque : that is what I am trying to do"}], "answers": [{"tags": [], "owner": {"reputation": 153, "user_id": 5121421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--t2djoF_BT8/AAAAAAAAAAI/AAAAAAAABE0/MOw6c8UxBKo/photo.jpg?sz=128", "display_name": "dominix", "link": "https://stackoverflow.com/users/5121421/dominix"}, "is_accepted": false, "score": 1, "last_activity_date": 1527050433, "last_edit_date": 1527050433, "creation_date": 1469613463, "answer_id": 38609672, "question_id": 38536110, "link": "https://stackoverflow.com/questions/38536110/how-can-i-write-a-perl-script-to-submit-a-form-that-is-inside-another-form-on-a/38609672#38609672", "title": "How can I write a Perl script to submit a form that is inside another form on a JavaScript page", "body": "<p>I was able to finaly use a chrome extension \"http Trace\" that show me clearly what the POST was like, and then I put it on my perl script and it works.</p>\n"}], "owner": {"reputation": 153, "user_id": 5121421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--t2djoF_BT8/AAAAAAAAAAI/AAAAAAAABE0/MOw6c8UxBKo/photo.jpg?sz=128", "display_name": "dominix", "link": "https://stackoverflow.com/users/5121421/dominix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527050433, "creation_date": 1469226428, "last_edit_date": 1469232043, "question_id": 38536110, "link": "https://stackoverflow.com/questions/38536110/how-can-i-write-a-perl-script-to-submit-a-form-that-is-inside-another-form-on-a", "title": "How can I write a Perl script to submit a form that is inside another form on a JavaScript page", "body": "<p>On a web server (not mine) with JavaScript pages (probably generated with a Java API) there is a page accessible with authentication. On this page there is a form that I can access with a Perl script and fill input fields, but the validation button of this form, when clicked, open a new window with two buttons. I want my script to click on (validate/cancel) in this new window but I don't know on to access the form. This page contains the HTML code below.</p>\n\n<p>Could you give me hint to access the hidden form?</p>\n\n<pre><code>&lt;div class=\"button_send_message\"&gt;\n&lt;a class=\"button\" href=\"#\" id=\"_PRE__MAI:_viewRoot:mainInclude:web2SmsForm:web2SmsSendButton\"\nname=\"_PRE__MAI:_viewRoot:mainInclude:web2SmsForm:web2SmsSendButton\"\nonclick=\"A4J.AJAX.Submit('_PRE__MAI:_viewRoot:a4jRegion_MessagingPage','_PRE__MAI:_viewRoot:mainInclude:web2SmsForm',\nevent,{'similarityGroupingId':'_PRE__MAI:_viewRoot:mainInclude:web2SmsForm:web2SmsSendButton',\n'parameters':{'org.ajax4jsf.portlet.NAMESPACE':'PRE__MAI','javax.faces.portletbridge.STATE_ID':'d3090bfc\\x2D223e\\x2D40d3\\x2Daf74\\x2D7a17042408e6:view:PRE__MAI','_PRE__MAI:_viewRoot:mainInclude:web2SmsForm:web2SmsSendButton':'_PRE__MAI:_viewRoot:mainInclude:web2SmsForm:web2SmsSendButton'}\n ,'namespace':'PRE__MAI','actionUrl':'/SlfcrMessagingPortlet/faces/pages/main.xhtml?javax.portlet.faces.DirectLink=true'} );\nreturn false;\" onmouseout=\"className='button'\" onmouseover=\"className='button_hover'\" title=\"Envoyer\"&gt;&lt;/a&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Does someone knows how I can call a submit form on the window?</p>\n\n<p>The original URL for the form is at <code>/portal/authsec/portal/Selfcare/Messaging</code></p>\n"}, {"tags": ["perl", "while-loop", "scalar-context"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469223338, "post_id": 38535453, "comment_id": 64464864, "body": "Do you need to print (or to have) the number of <code>&gt;</code> before printing the lines?"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469223590, "post_id": 38535453, "comment_id": 64464953, "body": "I am going to set up a conditional. When the number of &gt; equals the number of lines that are processed per file, I am going to print out a unique line that signifies the end of the information from that file. All data will go into a single file, so having the information per file clearly delimitated is necessary."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469224747, "post_id": 38535453, "comment_id": 64465320, "body": "So you need the number of <code>&gt;</code> <i>only after</i> you write all the lines to the file. In this case use a single loop where you increment the number of <code>&gt;</code> <i>(when there is one)</i> and where you print the current line to the output file. You don&#39;t need to parse the entire file twice."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469225144, "post_id": 38535453, "comment_id": 64465450, "body": "If I ask another question about this, would you be willing to answer with a demonstration?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469225245, "post_id": 38535453, "comment_id": 64465478, "body": "Why not, but I need to be sure to well understand what you are trying to do."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1469225278, "post_id": 38535453, "comment_id": 64465487, "body": "I will try my best to be clear. Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469292116, "post_id": 38535453, "comment_id": 64479923, "body": "@Rob: There is no need to count the number of header lines before processing your file. You can print your summary line after the <code>while</code> statement, when all of the data has been read from the file."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1469223897, "post_id": 38535531, "comment_id": 64465039, "body": "Great answer. Thanks!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1469223031, "creation_date": 1469223031, "answer_id": 38535531, "question_id": 38535453, "link": "https://stackoverflow.com/questions/38535453/after-successfully-using-grep-on-a-variable-it-prints-blank/38535531#38535531", "title": "After successfully using grep on a variable it prints blank", "body": "<pre><code>my $numberoffastas = grep{/&gt;/}&lt;$fastas&gt;;\n</code></pre>\n\n<p>calls readline on the <code>$fastas</code> filehandle in list context, which consumes all the input on the filehandle. At your subsequent call in <code>while (my $line = &lt;$fastas&gt;)</code>, there is no more input on that filehandle to provide, and the <code>while</code> condition fails.</p>\n\n<p>Save the inputs in an array and perform both operations on the array</p>\n\n<pre><code>my @inp = &lt;$fastas&gt;;\nmy $numberoffastas = grep {/&gt;/} @inp;\n...\nforeach my $line (@inp) {\n   ...\n}\n</code></pre>\n\n<p>or if you are worried that the files are too large and will give you memory headaches, reopen the file</p>\n\n<pre><code>my $numberoffastas = grep {/&gt;/} &lt;$fastas&gt;;\nclose $fastas;\nopen $fastas, $file;\n...\nwhile (my $line = &lt;$fastas&gt;) { ... }\n</code></pre>\n\n<p>or <a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow\"><code>seek</code></a> to the beginning of the file</p>\n\n<pre><code>open my $fastas, '+&lt;', $file;    #   +&lt;  means random-access mode\nmy $numberoffastas = grep {/&gt;/} &lt;$fastas&gt;;\n...\nseek $fastas, 0, 0;              #   rewind to beginning of file\nwhile (my $line = &lt;$fastas&gt;) { ... }\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 38535531, "answer_count": 1, "score": 0, "last_activity_date": 1469401818, "creation_date": 1469222628, "last_edit_date": 1469401818, "question_id": 38535453, "link": "https://stackoverflow.com/questions/38535453/after-successfully-using-grep-on-a-variable-it-prints-blank", "title": "After successfully using grep on a variable it prints blank", "body": "<p>I am opening a directory that has files that look like the following. Here is one file:  </p>\n\n<pre><code>    &gt;UVWXY\n    ABCDEFGHIJKLMNOPQRSTUVWXYZ\n    &gt;STUVW\n    ABCDEFGHIJKLMNOPQRSTUVWXYZ\n    &gt;QRSTU\n    ABCDEFGHIJKLMNOPQRSTUVWXYZ \n</code></pre>\n\n<p>Here is a second file: </p>\n\n<pre><code>   &gt;EFGHI\n   ABCDEFGHIJKLMNOPQRSTUVWXYZ \n</code></pre>\n\n<p>Here is my code: </p>\n\n<pre><code>   #!/usr/bin/perl\n   use warnings;\n   use strict;\n\n   my ($directory) = @ARGV;\n   my $dir = \"$directory\";\n   my @ArrayofFiles = glob \"$dir/*\";\n\n   open(OUT, \"&gt;\", \"/path/to/output.txt\") or die $!;\n\n   foreach my $file(@ArrayofFiles){\n          open(my $fastas, $file) or die $!;\n          my $numberoffastas = grep{/&gt;/}&lt;$fastas&gt;;\n          #print $numberoffastas, \"\\n\"; \n          while (my $line = &lt;$fastas&gt;){\n                 print $line, \"\\n\";\n          }\n    }\n</code></pre>\n\n<p>Nothing is printed out for $line, but this code correctly counts the number of \">\"s that appear in the file when it is opened, evidenced by printing $numberoffastas.<br>\nHow can I fix this code so that $line = something like: </p>\n\n<pre><code>     &gt;EFGHI \n</code></pre>\n\n<p>or </p>\n\n<pre><code>    ABCDEFGHIJKLMNOPQRSTUVWXYZ  \n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["linux", "perl", "shell", "awk", "command-line"], "comments": [{"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1469220274, "post_id": 38534945, "comment_id": 64463725, "body": "I&#39;m not sure I understand the question, but you <i>may</i> be looking for the <a href=\"http://linux.die.net/man/1/join\" rel=\"nofollow noreferrer\">join</a> utility."}, {"owner": {"reputation": 9, "user_id": 6529624, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/48fde6b752c61020de0fd265492643aa?s=128&d=identicon&r=PG&f=1", "display_name": "Edccccch", "link": "https://stackoverflow.com/users/6529624/edccccch"}, "reply_to_user": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1469220712, "post_id": 38534945, "comment_id": 64463897, "body": "I am looking into this utility right now. Thanks! And also I just added a further explanation"}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1469220842, "post_id": 38534945, "comment_id": 64463946, "body": "will be much easier to help you if  you include <b>small</b> sample data (3 columns worth sounds like it should be enough), and required output from that data. use the <code>{}</code> format tool at the top left of the edit box on highlighted text to format as code/data/output/ErrMsgs. Good luck."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 1, "creation_date": 1469220899, "post_id": 38534945, "comment_id": 64463965, "body": "Also, your project sounds like something databases are designed for. If you&#39;re doing this for a business, that is certainly the long-term solution. Good luck."}, {"owner": {"reputation": 9, "user_id": 6529624, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/48fde6b752c61020de0fd265492643aa?s=128&d=identicon&r=PG&f=1", "display_name": "Edccccch", "link": "https://stackoverflow.com/users/6529624/edccccch"}, "edited": false, "score": 0, "creation_date": 1469221142, "post_id": 38534945, "comment_id": 64464063, "body": "Just added. Please let me know if there&#39;s more I can show to make it more clear! And yes this is a business-like database thing so I have to make sure the solution would be long term"}, {"owner": {"reputation": 9, "user_id": 6529624, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/48fde6b752c61020de0fd265492643aa?s=128&d=identicon&r=PG&f=1", "display_name": "Edccccch", "link": "https://stackoverflow.com/users/6529624/edccccch"}, "edited": false, "score": 0, "creation_date": 1469221189, "post_id": 38534945, "comment_id": 64464086, "body": "The field in (2+06:46) is the duration. 2 is days and 06:46 is 6hours46minutes"}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1469238364, "post_id": 38534945, "comment_id": 64468043, "body": "Now that I see the data and the required output, I can say definitely that <code>awk</code> would be a suitable language for this problem. Work thru the <code>awk</code> tutorial at <a href=\"http://grymoire.com/Unix/Awk.html\" rel=\"nofollow noreferrer\">grymoire.com/Unix/Awk.html</a>, and add your best attempt to solve your problem to your Q. a hint : <code>awk &#39;{names[$1]=$1; days=$9;   print &quot;days=&quot;days ;   sub(&#47;\\+.*$&#47;,&quot;&quot;,days);   sub(&#47;\\(&#47;,&quot;&quot;,days);   print &quot;days=&quot;days;   totHrs[$1]+=days*24}END{for (n in names) {print names[n] &quot;\\t&quot; totHrs[n]}}&#39;&#39; inputFile</code>. Debug this to work and you&#39;ll be well on your way. (you&#39;ll need a few more variables, but get this to work first. Good luck."}, {"owner": {"reputation": 9, "user_id": 6529624, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/48fde6b752c61020de0fd265492643aa?s=128&d=identicon&r=PG&f=1", "display_name": "Edccccch", "link": "https://stackoverflow.com/users/6529624/edccccch"}, "edited": false, "score": 0, "creation_date": 1469238799, "post_id": 38534945, "comment_id": 64468117, "body": "Thanks so much! I&#39;ll definitely look into this!"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1469288964, "post_id": 38534945, "comment_id": 64478964, "body": "Are you sure that&#39;s the expected output given that input? I&#39;ve spent a lot of time debugging <a href=\"http://stackoverflow.com/a/38543563/1745001\">my script</a> trying to figure out why it&#39;s producing different output from the output you say it should produce so I&#39;m really hoping those aren&#39;t just random, disconnected numbers you pulled out of the air and really ARE the expected output given that input and can explain why they are."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1469291758, "post_id": 38534945, "comment_id": 64479819, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/13272717/inner-join-on-two-text-files\">inner join on two text files</a>"}], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1469239555, "post_id": 38537454, "comment_id": 64468221, "body": "Now I think you just need to convert minute to hour if it exceeded 60 min."}], "tags": [], "owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "is_accepted": false, "score": -1, "last_activity_date": 1469239452, "creation_date": 1469239452, "answer_id": 38537454, "question_id": 38534945, "link": "https://stackoverflow.com/questions/38534945/use-shell-to-iterate-through-a-file/38537454#38537454", "title": "use shell to iterate through a file", "body": "<p>I solved this using perl through this code from what I understood from you question.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n\nuse Data::Dumper;   # $fields[3] =&gt; Month $fields[0] =&gt; user $fields[8] =&gt; Time\n\nmy $user_time = {};\nmy $time = {};\nopen my $READ , '&lt;', 'test' or die;\n\nwhile(my $line = &lt;$READ&gt;){\n    my @fields = split(' ', $line);\n\n    my $user = $fields[0];\n    my $month = $fields[3];\n\n    $fields[8] =~ m/([\\d]*)\\+?([\\d]{2}):([\\d]{2})/; #time format\n    my $min = $3;\n    my $hr = $2;\n    my $day = $1;\n    $day = 0 if (!$day);\n    if (!exists $user_time-&gt;{$month}-&gt;{$user}){\n        $time = {};\n    }\n    $time-&gt;{'day'} += $day*24;\n    $time-&gt;{'hr'} += $hr;\n    $time-&gt;{'min'} += $min;\n\n    $user_time-&gt;{$month}-&gt;{$user} = $time;\n}\nclose $READ;\nforeach my $month (keys %$user_time){\n    print \"[$month]\\n\";\n    my $user_hash = $user_time-&gt;{$month};\n    foreach my $user (keys %$user_hash){\n        my $time = $user_hash-&gt;{$user};\n        print \"$user\\t\". $time-&gt;{'day'}.'.'.$time-&gt;{'hr'}.'.'.$time-&gt;{'min'}.\"hours\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>INPUT FILE:</strong></p>\n\n<pre><code>sdou     pts/11       Thu Dec 10 05:24 - 12:11 (2+06:46)    131.243.186.99\nsdou     pts/10       Thu Dec 10 05:04 - 12:11 (2+07:06)    131.243.186.99\nsdou     pts/9        Thu Dec 10 03:26 - 12:11 (2+08:45)    131.243.186.99\nermartin pts/0        Sat Dec 12 12:37 - 13:44  (01:06)     c-24-130-14-154.hsd1.ca.comcast.net\nermartin pts/0        Sat Dec 12 12:18 - 12:31  (00:13)     c-24-130-14-154.hsd1.ca.comcast.net\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>[Dec]\nermartin 0.1.19hours\nsdou     144.21.97hours\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1469289224, "last_edit_date": 1469289224, "creation_date": 1469288815, "answer_id": 38543563, "question_id": 38534945, "link": "https://stackoverflow.com/questions/38534945/use-shell-to-iterate-through-a-file/38543563#38543563", "title": "use shell to iterate through a file", "body": "<p>I thought this was what you wanted (uses GNU awk 4.* for true multi-dimensional arrays):</p>\n\n<pre><code>$ cat tst.awk\n{\n    n = split($9,t,/[()+:]/)\n    hours = t[n-3]*24 + t[n-2] + t[n-1]/60\n    tot[$4][$1] += hours\n}\nEND {\n    for (month in tot) {\n        print \"[\"month\"]\"\n        for (user in tot[month]) {\n            print user, tot[month][user] \"hours\"\n        }\n    }\n}\n\n$ awk -f tst.awk file\n[Dec]\nsdou 166.617hours\nermartin 1.31667hours\n</code></pre>\n\n<p>but the output numbers don't match your expected values:</p>\n\n<pre><code>[Dec]\nsdou 94.xxxhours\nermartin 1.19hours\n</code></pre>\n\n<p>I've spent a lot of time trying to figure out why they're different but I can't. Sorry, hope this helps anyway.</p>\n"}], "owner": {"reputation": 9, "user_id": 6529624, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/48fde6b752c61020de0fd265492643aa?s=128&d=identicon&r=PG&f=1", "display_name": "Edccccch", "link": "https://stackoverflow.com/users/6529624/edccccch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469289224, "creation_date": 1469220125, "last_edit_date": 1469221058, "question_id": 38534945, "link": "https://stackoverflow.com/questions/38534945/use-shell-to-iterate-through-a-file", "title": "use shell to iterate through a file", "body": "<p>I have two input files. One has namelist, mm:dd form, duration of usage and other host name stuff in each line. The other one is the one that I generated that has a set of namelist in each line that does not repeat. \nI am trying to write a shell command to iterate through the file with the namelist, store them as a variable and check with the other file to match the name and then output the total duration of usage for each person and then output a file containing and information. Is there anyway I can use awk or anything to do the work?</p>\n\n<p>I figured the command:\nfor word in $(cat namelist); do echo $word; done\nbut this is only for iterating through one file.\nWhat I wanna do is something like this:</p>\n\n<pre><code>for word in namelist.txt:\n for words in info_file.txt (field $1):\n   if word == words:\n     (calculating usage of time) \n     print(word, ':', usage of time)\n</code></pre>\n\n<p>I have already figured out the codes to calculate the usage of time. It's just how to do this operation that is my problem right now.\nCould anybody please help?</p>\n\n<p>-----------------further explanation \nSo I have one file containing information of the time that the user consumed to login into the host that each row has the information of name, date(mm:dd:hh:mm), initial time, end time, time duration and host name.\nWhat I want to achieve is to output a file with each Month as a title(for example: [April]) and then calculate the time duration of each user who login into the host. They might have multi logins so their names appear multiple times with the other informations in each rows. I have generated this file that has all the user names that has been login during past half a year. I am trying to generate output file with each Month Name as a title, and group by month and then match the names in the file with the namelist that I generated to get their time duration calculated and printed into the output file on the same row with their name printed. I have already figured out how to do the calculations. So right now it's just how do I do the steps of matching names that confuses me</p>\n\n<p>input file:</p>\n\n<pre><code>sdou     pts/11       Thu Dec 10 05:24 - 12:11 (2+06:46)    131.243.186.99\nsdou     pts/10       Thu Dec 10 05:04 - 12:11 (2+07:06)    131.243.186.99\nsdou     pts/9        Thu Dec 10 03:26 - 12:11 (2+08:45)    131.243.186.99\nermartin pts/0        Sat Dec 12 12:37 - 13:44  (01:06)     c-24-130-14-154.hsd1.ca.comcast.net\nermartin pts/0        Sat Dec 12 12:18 - 12:31  (00:13)     c-24-130-14-154.hsd1.ca.comcast.net\n</code></pre>\n\n<p>sample output:</p>\n\n<pre><code>[Dec]\nsdou 94.xxxhours\nermartin 1.19hours\n</code></pre>\n"}, {"tags": ["perl", "google-voice"], "comments": [{"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 1, "creation_date": 1469219462, "post_id": 38534723, "comment_id": 64463384, "body": "Maybe check your script for use of environment variables (or other non-persistent data)? Also, attempt simplest possible login to GV using the module. If that doesn&#39;t work, edit it into your question as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 21, "user_id": 6627098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207386565995968/picture?type=large", "display_name": "Mike Lempriere", "link": "https://stackoverflow.com/users/6627098/mike-lempriere"}, "reply_to_user": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1469554099, "post_id": 38534723, "comment_id": 64580604, "body": "The sample app with the module will no longer work - it&#39;s only two lines of code - new&#39;ing an object, then calling login method."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6627098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207386565995968/picture?type=large", "display_name": "Mike Lempriere", "link": "https://stackoverflow.com/users/6627098/mike-lempriere"}, "edited": false, "score": 0, "creation_date": 1469554194, "post_id": 38538280, "comment_id": 64580671, "body": "Thanks for the well investigated answer!"}, {"owner": {"reputation": 21, "user_id": 6627098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207386565995968/picture?type=large", "display_name": "Mike Lempriere", "link": "https://stackoverflow.com/users/6627098/mike-lempriere"}, "edited": false, "score": 0, "creation_date": 1469554775, "post_id": 38538280, "comment_id": 64580992, "body": "Dang - got a phone call and couldn&#39;t edit my answer further so new reply.  You mentioned seeing a captcha in the data - could you describe how you enabled that diagnostic?  With that I might be able to figure things out myself..."}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 21, "user_id": 6627098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207386565995968/picture?type=large", "display_name": "Mike Lempriere", "link": "https://stackoverflow.com/users/6627098/mike-lempriere"}, "edited": false, "score": 0, "creation_date": 1469557467, "post_id": 38538280, "comment_id": 64582390, "body": "The login form is: <a href=\"https://accounts.google.com/ServiceLogin\" rel=\"nofollow noreferrer\">accounts.google.com/ServiceLogin</a> - if you view source, or open the web inspector in your browser, you&#39;ll find a couple references to a CAPTCHA. I didn&#39;t see one while logging in manually, but I can&#39;t say what might happen if you hit it from a script."}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 3, "last_activity_date": 1469249324, "last_edit_date": 1495542179, "creation_date": 1469249324, "answer_id": 38538280, "question_id": 38534723, "link": "https://stackoverflow.com/questions/38534723/googlevoice-module-suddenly-broken-how-to-enable-diagnostics/38538280#38538280", "title": "Google::Voice module suddenly broken. How to enable diagnostics?", "body": "<p>From what I can see in <a href=\"http://cpansearch.perl.org/src/TEMPIRE/Google-Voice-0.06/lib/Google/Voice.pm\" rel=\"nofollow noreferrer\">the source for Google::Voice</a>, it isn't using any sort of official API. (In fact, <a href=\"https://stackoverflow.com/questions/1668619/is-there-a-google-voice-api\">there is none</a>.) Instead, it's accessing the web interface for Google Voice directly, including its login page.</p>\n\n<p>This is bad. Google's web interface is not a stable API, and it's likely that something about it has changed since you last started your script. Given that your script kept running, my first guess would be that what's changed is the login form -- probably for security reasons, or to prevent automation. (One bad sign: I see markup for a CAPTCHA in the login form.)</p>\n\n<p>Unfortunately, I can't offer any simple solution here. If you're comfortable messing around in your browser, you may be able to try fixing it yourself\u2026 but don't count on it continuing to work, as Google may make further changes which will, either intentionally or unintentionally, break your script again. If you need a reliable API to access phone data, you may want to consider using something other than Google Voice, such as <a href=\"https://www.twilio.com/\" rel=\"nofollow noreferrer\">Twilio</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 6627098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207386565995968/picture?type=large", "display_name": "Mike Lempriere", "link": "https://stackoverflow.com/users/6627098/mike-lempriere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469249324, "creation_date": 1469218985, "last_edit_date": 1469226540, "question_id": 38534723, "link": "https://stackoverflow.com/questions/38534723/googlevoice-module-suddenly-broken-how-to-enable-diagnostics", "title": "Google::Voice module suddenly broken. How to enable diagnostics?", "body": "<p>I have a Perl program that has been running for a couple of years now. It uses the <code>Google::Voice</code> module (0.06) to handle incoming and outgoing text messages.</p>\n\n<p>The computer was rebooted recently, and suddenly this module returns null instead of logging in. There have been no software changes on the machine, just a reboot.</p>\n\n<p>I can still log into the Google Voice account on the same computer using the web browser, so it has to be the script that is at fault.</p>\n\n<p>I have several questions:</p>\n\n<ul>\n<li><p>Is anyone else experiencing this?</p></li>\n<li><p>Is anyone aware of any changes to Google Voice that would break this?</p></li>\n<li><p>Is anyone already on this and do they have a fix?</p></li>\n<li><p>Is there any way to enable diagnostics so maybe I can figure it out myself?</p></li>\n</ul>\n"}, {"tags": ["perl", "win32ole", "buildforge"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469219184, "post_id": 38534668, "comment_id": 64463272, "body": "It&#39;s called <i>&quot;Perl&quot;</i>"}, {"owner": {"reputation": 1, "user_id": 6626725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09dd1f85dddf4137eb8d2b337330ffad?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisM", "link": "https://stackoverflow.com/users/6626725/chrism"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469461240, "post_id": 38534668, "comment_id": 64533194, "body": "I&#39;m sorry @Borodin, I don&#39;t know how your comment will assist me. We&#39;re using ccperl, because we have cc installed on all of our machines."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469462325, "post_id": 38534668, "comment_id": 64533989, "body": "It&#39;s not an answer to your question; that&#39;s why it&#39;s a comment. It&#39;s supposed to assist you to spell the name of the Perl language properly. I doubt if you&#39;d write JAVA or PYTHON, or indeed MS OFFICE?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6626725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09dd1f85dddf4137eb8d2b337330ffad?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisM", "link": "https://stackoverflow.com/users/6626725/chrism"}, "is_accepted": false, "score": 0, "last_activity_date": 1469472062, "creation_date": 1469472062, "answer_id": 38575214, "question_id": 38534668, "link": "https://stackoverflow.com/questions/38534668/manipulating-a-word-doc-with-perl-and-win32ole-works-on-command-line-but-not/38575214#38575214", "title": "Manipulating a Word doc with PERL and Win32::OLE works on command line, but not from a BuildForge Step", "body": "<p>Turns out after I removed the 'Archive' bit from the template on the machine the job was running on, BF was able to successfully run its job. </p>\n\n<p>Funny I could run it directly on the server with the 'Archive' bit set on the template. But hey, I'm no longer stuck on this one.</p>\n\n<p>Thanks to anybody who read my question and even considered what might have been the problem.</p>\n"}], "owner": {"reputation": 1, "user_id": 6626725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09dd1f85dddf4137eb8d2b337330ffad?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisM", "link": "https://stackoverflow.com/users/6626725/chrism"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469472062, "creation_date": 1469218718, "question_id": 38534668, "link": "https://stackoverflow.com/questions/38534668/manipulating-a-word-doc-with-perl-and-win32ole-works-on-command-line-but-not", "title": "Manipulating a Word doc with PERL and Win32::OLE works on command line, but not from a BuildForge Step", "body": "<p>I have functioning PERL scripts which are used to update Word documents. \nThe PERL scripts are coded to work with MS Office 2003 or 2007.\nThe machine I'm trying to do the updates via BF on has Office 2003 on, the appropriate template is installed, the Macro Security settings have been updated.</p>\n\n<p>When I run the exact command I want BF to use on the command line, it works as expected.\nWhen I run it via a BF step I get \"*** Unable to open doc  at \\servername\\projectname\\bin\\updateVer.pl line 94\" (the line number is the croak in the Perl script).  </p>\n\n<p>The script looks like this up to the croak:</p>\n\n<pre><code># enable Sanity checking and make the variable names meaningful\nuse strict;\nuse warnings;\nuse English;\nuse Win32::OLE;\n\n# Gain access to MS Word 'wd' constants\nuse Win32::OLE::Const ('Microsoft Word');\n\nuse FindBin qw($RealDir);\n\nuse lib ($RealDir, \"$RealDir/..\", \"$RealDir/../lib\");\n\n# include the common and log utilities\nuse SCCM::Common;\nuse SCCM::Logs;\n\n# use command line inputs\nuse Getopt::Long qw(:config auto_abbrev permute ignore_case pass_through);\n\n# set up logs and process logfile options\nlogOptions(qw(-log now));\n\nmy  $bookmark_update_result = \"\";\nmy  $update_ref_result = \"\";\n\n# Get input from user\n\nmy  $path;\nmy  $bookmarkName;\nmy  $bookmarkValue;\nmy  $Word;\nmy  $newWord = 0;\n\nGetOptions(\"path=s\"           =&gt; \\$path,\n       \"bookmarkName=s\"   =&gt; \\$bookmarkName,\n   \"bookmarkValue=s\"  =&gt; \\$bookmarkValue);\n\nunless ( defined($path) ) \n   { croakf \"%[Fail] Path and filename of SVD are required\\n\"; }\n\nunless ( defined($bookmarkName) &amp;&amp; defined($bookmarkValue) ) \n   { croakf \"%[Fail] bookmarkName and bookmarkValue parameters are both required.\\n\"; }\n\n# Start Word in a safer way, checking to see if user has it open first.\n\neval\n{\n  $Word = Win32::OLE-&gt;GetActiveObject('Word.Application');\n  if (! $Word)\n  {\n    $newWord = 1;\n    $Word = Win32::OLE-&gt;new('Word.Application', 'Quit');\n  }\n};\n\ncroakf \"%[Fail] -- unable to start Word Engine: $@\\n\", Win32::OLE-&gt;LastError() if ($@ || ! $Word);\n\nmy $dispAlerts = $Word-&gt;{'DisplayAlerts'};\n$Word-&gt;{'DisplayAlerts'} = wdAlertsNone;\n\nif ($newWord)\n{\n  $Word-&gt;{'Visible'} = 0;\n}\n\nmy $doc = $Word-&gt;Documents-&gt;Open($path) or\n   croakf (\"%[Fail] Unable to open doc \", Win32::OLE-&gt;LastError() );\n</code></pre>\n\n<p>The script is being called like this:\nccperl \\servername\\projectname\\bin\\updateVer.pl -path \"C:\\BuildForgeBuilds\\BFProjectName\\BFProjectName_0177\\MyDocument.doc\" -bookmarkName REV_Baseline -bookmarkValue My_Baseline_10.20.30</p>\n\n<p>Can I get some direction to convince BF that it's OK to open my work doc?\nThank you!</p>\n"}, {"tags": ["perl", "soap", "wsdl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469222418, "post_id": 38535203, "comment_id": 64464544, "body": "That&#39;s not true. Failing to connect to the server calls the fault handler ...if it happens as part of a soap call. The error that is happening is happening far before the SOAP call is even attempted."}], "tags": [], "owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "is_accepted": false, "score": -1, "last_activity_date": 1469221478, "creation_date": 1469221478, "answer_id": 38535203, "question_id": 38534367, "link": "https://stackoverflow.com/questions/38534367/soaplite-on-fault-not-overriding-default-error-handling/38535203#38535203", "title": "SOAP::LIte on_fault not overriding default error handling", "body": "<p>A fault is a special type of response from the server saying \"something went wrong with your request\". What's happening there is not a fault, it's failing to connect to the server at all. You might want to use Try::Tiny for this.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1469222573, "creation_date": 1469222573, "answer_id": 38535440, "question_id": 38534367, "link": "https://stackoverflow.com/questions/38534367/soaplite-on-fault-not-overriding-default-error-handling/38535440#38535440", "title": "SOAP::LIte on_fault not overriding default error handling", "body": "<p>The callback is for problems that occur when making a SOAP call. You haven't gotten that far.</p>\n\n<pre><code>my $soap = SOAP::Lite-&gt;new();\n$soap-&gt;on_fault( \\&amp;soapError );\n\neval { $soap-&gt;service($soapServer); 1 }\n    or die(\"Can't initialize the web service: $@\");\n</code></pre>\n"}], "owner": {"reputation": 28, "user_id": 4821736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I2SWMEAzP2A/AAAAAAAAAAI/AAAAAAAAAGs/dDe43N2b_1c/photo.jpg?sz=128", "display_name": "Karlan Talkington", "link": "https://stackoverflow.com/users/4821736/karlan-talkington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "accepted_answer_id": 38535440, "answer_count": 2, "score": 0, "last_activity_date": 1469222573, "creation_date": 1469217379, "question_id": 38534367, "link": "https://stackoverflow.com/questions/38534367/soaplite-on-fault-not-overriding-default-error-handling", "title": "SOAP::LIte on_fault not overriding default error handling", "body": "<p>Centos 5 |\nPerl 5.10.0 |\nSOAP::Lite 1.20</p>\n\n<p>Having read the documentation for using on_fault as an override to the default error handling of SOAP::Lite, I would expect the following code to use the callback for error handling processing.  However, what I see happening is the default is being used</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse SOAP::Lite;\n\nmy $log #calls to Log4Perl\nmy $soapServer = \"http://somelocation/services/GdeWsOpenAPI?wsdl\"\nmy $soap = new SOAP::Lite();\n    $soap-&gt;on_fault( \\&amp;soapError );\n    $soap-&gt;service($soapServer);\n\nsub soapError {\n     my($soap, $res) = @_;\n     my $message = ref $res ? $res-&gt;faultstring : $soap-&gt;transport-&gt;status;\n     $log-&gt;write( \"fatal connection error to server $SoapServer: $message.\", 0);\nprint STDERR \"connection error: $message\\n\";\nexit 1;\n}\n</code></pre>\n\n<p>Output is:\nService description '<a href=\"http://somelocation/services/GdeWsOpenAPI?wsdl\" rel=\"nofollow\">http://somelocation/services/GdeWsOpenAPI?wsdl</a>' cannot be loaded: 500 Can't connect to somelocation:80</p>\n\n<p>Expected (because of transport error):\nconnection error: Service description '<a href=\"http://somelocation/services/GdeWsOpenAPI?wsdl\" rel=\"nofollow\">http://somelocation/services/GdeWsOpenAPI?wsdl</a>' cannot be loaded: 500 Can't connect to somelocation:80</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["perl", "firefox", "www-mechanize", "mozrepl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1469214796, "post_id": 38533627, "comment_id": 64461290, "body": "You need a headless browser like PhantomJS. I haven&#39;t been recommending <a href=\"https://metacpan.org/pod/WWW::Mechanize::PhantomJS\" rel=\"nofollow noreferrer\">WWW::Mechanize::PhantomJS</a> because it wasn&#39;t really being maintained, but the author has put out two releases this year after a two year hiatus, so you might give that a shot. When I tried it, there was a bug with rendering screenshots that was a deal-breaker for me; I submitted a patch but after a while with no response, I had to drop Perl and just use plain PhantomJS. (My patch was finally applied a couple weeks ago.)"}], "answers": [{"comments": [{"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 0, "creation_date": 1469220146, "post_id": 38533708, "comment_id": 64463686, "body": "I used this link to download and install PhantomJS: <a href=\"https://gist.github.com/julionc/7476620\" rel=\"nofollow noreferrer\">gist.github.com/julionc/7476620</a> Once it was successfully installed I installed <code>WWW::Mechanize::PhantomJS</code> via cpan. The link that @ThisSuitIsBlackNot provided in his comment has the documentation on how to get the PNG."}], "tags": [], "owner": {"reputation": 66, "user_id": 4020929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7908a75857cd112803087bd1205750d?s=128&d=identicon&r=PG&f=1", "display_name": "nodefourtytwo", "link": "https://stackoverflow.com/users/4020929/nodefourtytwo"}, "is_accepted": true, "score": 2, "last_activity_date": 1469214416, "creation_date": 1469214416, "answer_id": 38533708, "question_id": 38533627, "link": "https://stackoverflow.com/questions/38533627/is-it-possible-to-take-a-webpages-screenshot-without-a-graphical-interface/38533708#38533708", "title": "Is it possible to take a webpage&#39;s screenshot without a graphical interface?", "body": "<p>2 solutions:</p>\n\n<ul>\n<li><p>Xvfb to create a headless X server, and have the firefox instance running on it</p></li>\n<li><p>Use Phantom, and this seems to be a good tutorial: <a href=\"http://blogs.perl.org/users/robhammond/2013/02/web-scraping-with-perl-phantomjs.html\" rel=\"nofollow\">http://blogs.perl.org/users/robhammond/2013/02/web-scraping-with-perl-phantomjs.html</a></p></li>\n</ul>\n"}], "owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 38533708, "answer_count": 1, "score": 2, "last_activity_date": 1469214416, "creation_date": 1469214113, "last_edit_date": 1495542175, "question_id": 38533627, "link": "https://stackoverflow.com/questions/38533627/is-it-possible-to-take-a-webpages-screenshot-without-a-graphical-interface", "title": "Is it possible to take a webpage&#39;s screenshot without a graphical interface?", "body": "<p>I have interest to programmatically take a screenshot of a webpage using perl. I have come <a href=\"https://stackoverflow.com/questions/2312852/how-can-i-take-screenshots-of-webpages-with-perl\">across</a> this solution: </p>\n\n<pre><code>use WWW::Mechanize::Firefox;\nuse Path::Class qw/file/;\n\nmy $mech = WWW::Mechanize::Firefox-&gt;new(\n  bufsize =&gt; 10_000_000, # PNGs might become huge\n);\n$mech-&gt;get('http://www.stackoverflow.com/');\n\nmy $fh = file( 'test.png' )-&gt;open( '&gt; :raw' );\nprint $fh $mech-&gt;content_as_png();\n</code></pre>\n\n<p>but when I try to run this code I get: </p>\n\n<blockquote>\n  <p>Failed to connect to , problem connecting to \"localhost\", port 4242:\n  Connection refused at /usr/local/share/perl/5.20.2/MozRepl/Client.pm\n  line 144</p>\n</blockquote>\n\n<p>It was suggested that this failure is due to a closed port (Debian Jessie, Apache2, Perl 5.20), or MozRepl not installed or not configured correctly. </p>\n\n<p>The Debian server is a command line only, and there is no graphic interface otherwise. When I run <code>cpan WWW::Mechanize::Firefox</code> I get at the end: </p>\n\n<pre><code>CPAN: Storable loaded ok (v2.49_01)\nReading '/root/.cpan/Metadata'\n  Database was generated on Fri, 22 Jul 2016 17:53:33 GMT\nCPAN: Module::CoreList loaded ok (v5.20150214)\nWWW::Mechanize::Firefox is up to date (0.79).\n</code></pre>\n\n<p>And when I run <code>cpan MozRepl</code>, I get at the end: </p>\n\n<pre><code>CPAN: Storable loaded ok (v2.49_01)\nReading '/root/.cpan/Metadata'\n  Database was generated on Fri, 22 Jul 2016 17:53:33 GMT\nCPAN: Module::CoreList loaded ok (v5.20150214)\nMozRepl is up to date (0.06).\n</code></pre>\n\n<p>So as the title asks, can the above code work if there is no graphical interface? If yes, what can I do to debug and solve this issue?</p>\n"}, {"tags": ["perl", "linker", "uvm", "systemc"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 5361981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nlDZ1.jpg?s=128&g=1", "display_name": "MayurKubavat", "link": "https://stackoverflow.com/users/5361981/mayurkubavat"}, "edited": false, "score": 0, "creation_date": 1469240876, "post_id": 38534600, "comment_id": 64468419, "body": "Output of g++ --version is g++ (Ubuntu 5.4.0-6ubuntu1~16.04.1) 5.4.0 20160609. In uvm-systemc library config logs same g++ version is used."}, {"owner": {"reputation": 116, "user_id": 6073778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb2db38670596886fcf63522e00babb?s=128&d=identicon&r=PG", "display_name": "Mr Bone", "link": "https://stackoverflow.com/users/6073778/mr-bone"}, "reply_to_user": {"reputation": 303, "user_id": 5361981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nlDZ1.jpg?s=128&g=1", "display_name": "MayurKubavat", "link": "https://stackoverflow.com/users/5361981/mayurkubavat"}, "edited": false, "score": 0, "creation_date": 1469465247, "post_id": 38534600, "comment_id": 64535642, "body": "What about SystemC library? Is it compiled with same? If any library needed by your executable has been compiled with gcc 4.x, there can be ABI incompatibilities. You could try re-compiling executable and uvm-systemc lib with old ABI: Add -D_GLIBCXX_USE_CXX11_ABI=0 to CXXFLAGS or g++ command-line."}, {"owner": {"reputation": 303, "user_id": 5361981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nlDZ1.jpg?s=128&g=1", "display_name": "MayurKubavat", "link": "https://stackoverflow.com/users/5361981/mayurkubavat"}, "edited": false, "score": 0, "creation_date": 1470846068, "post_id": 38534600, "comment_id": 65118703, "body": "It still gives same error. And &#39;make check&#39; in uvm-systemc/objdir is working fine and simulates all the examples. Only thing is I am not able to run it with the script."}], "tags": [], "owner": {"reputation": 116, "user_id": 6073778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb2db38670596886fcf63522e00babb?s=128&d=identicon&r=PG", "display_name": "Mr Bone", "link": "https://stackoverflow.com/users/6073778/mr-bone"}, "is_accepted": false, "score": 0, "last_activity_date": 1469220084, "last_edit_date": 1469220084, "creation_date": 1469218458, "answer_id": 38534600, "question_id": 38533496, "link": "https://stackoverflow.com/questions/38533496/uvm-systemc-example-run-script-not-working/38534600#38534600", "title": "UVM-SystemC example run script not working", "body": "<p>Is it possible that the SystemC and UVM libraries were compiled with an older version of g++ than used by your script? I suspect that due to these errors:</p>\n\n<pre><code>undefined reference to `uvm::uvm_report_warning(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;**, ...etc..\nundefined reference to `uvm::uvm_typeid_base::type_name[abi:cxx11]'\n</code></pre>\n\n<p>It looks like the libraries may have been compiled with gcc 4.x, then your script  is executing gcc 5.x, which uses a new ABI:</p>\n\n<p><a href=\"https://gcc.gnu.org/onlinedocs/libstdc++/manual/using_dual_abi.html\" rel=\"nofollow\">https://gcc.gnu.org/onlinedocs/libstdc++/manual/using_dual_abi.html</a></p>\n\n<p>Check what version you have for the g++ in your path: <code>g++ --version</code></p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 5361981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nlDZ1.jpg?s=128&g=1", "display_name": "MayurKubavat", "link": "https://stackoverflow.com/users/5361981/mayurkubavat"}, "edited": false, "score": 0, "creation_date": 1469278468, "post_id": 38541643, "comment_id": 64476194, "body": "Hi Rahul, I dont think thats a problem. To confirm I&#39;ve tried your suggestion. I&#39;m still getting the same error.  Print is showing appropriate path."}], "tags": [], "owner": {"reputation": 766, "user_id": 6454737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2b31cb0648643d79e7da5edfbb03521?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Menon", "link": "https://stackoverflow.com/users/6454737/rahul-menon"}, "is_accepted": false, "score": 0, "last_activity_date": 1469299523, "last_edit_date": 1469299523, "creation_date": 1469275806, "answer_id": 38541643, "question_id": 38533496, "link": "https://stackoverflow.com/questions/38533496/uvm-systemc-example-run-script-not-working/38541643#38541643", "title": "UVM-SystemC example run script not working", "body": "<p>It error looks like the include files are missing. its mostly because the system command in the script has not passed the right variables. The perl script is using <code>$SYSTEMC_HOME</code> which guessing is a env variable but is not using  the $ENV to read it.\nuse <code>$ENV{'SYSTEMC_HOME'}</code> to get the value set in the env variable of the shell.</p>\n\n<pre><code>my $CLIBS = \"$ENV{'SYSTEMC_HOME'}/lib-linux64\";\n</code></pre>\n\n<p>links to how to access system variables in perl.\n<a href=\"http://alvinalexander.com/perl/edu/articles/pl020002\" rel=\"nofollow\">http://alvinalexander.com/perl/edu/articles/pl020002</a></p>\n\n<p>Also print the system  line to confirm the settings.</p>\n\n<pre><code>   print \"g++ -I$CINC -I$UVMCINC -L$CLIBS -lsystemc -L$UVMCLIBS -luvm-systemc $ARGV[0] -Wl,-rpath,$CLIBS -Wl,-rpath,$UVMCLIBS\";\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 5361981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nlDZ1.jpg?s=128&g=1", "display_name": "MayurKubavat", "link": "https://stackoverflow.com/users/5361981/mayurkubavat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469299523, "creation_date": 1469213564, "question_id": 38533496, "link": "https://stackoverflow.com/questions/38533496/uvm-systemc-example-run-script-not-working", "title": "UVM-SystemC example run script not working", "body": "<p>I've developed a perl script to run UVM-SystemC example codes.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nsub main();\n\n\nmy $CLIBS = \"\\$SYSTEMC_HOME/lib-linux64\";\nmy $UVMCLIBS = \"\\$UVMSYSTEMC_HOME/lib-linux64\";\n\nmy $CINC = \"\\$SYSTEMC_HOME/include\";\nmy $UVMCINC = \"\\$UVMSYSTEMC_HOME/include\";\n\nmain();\n\n\n\nsub main(){\n\n    eval{\n        $ARGV[0];\n    }or do{\n        print(\"\\n\\tRun the script with SystemC &lt;filename&gt; as argument\\n\\n\");\n        exit 1;\n    };\n\n    system \"g++ -I$CINC -I$UVMCINC -L$CLIBS -lsystemc -L$UVMCLIBS -luvm-systemc $ARGV[0] -Wl,-rpath,$CLIBS -Wl,-rpath,$UVMCLIBS\";\n\n    #system \"./sim\";\n\n}\n</code></pre>\n\n<p>Here, $ variables point to respective paths of SystemC and UVM-SystemC installation. And script expects *.cpp file as argument to $ARGV[0] Both libraries example commands running properly by <code>make check</code> but the script is giving error. Detailed error log <a href=\"https://drive.google.com/file/d/0BwnU5P-lglPDYzFvVjdZWVhjdzQ/view?usp=sharing\" rel=\"nofollow\">error.log</a></p>\n"}, {"tags": ["arrays", "json", "regex", "perl"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1469213088, "post_id": 38533346, "comment_id": 64460450, "body": "Did you try something? Why tagged <a href=\"https://stackoverflow.com/questions/tagged/php\">php</a>?"}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1469213187, "post_id": 38533346, "comment_id": 64460491, "body": "I am sorry for that! Its removed now..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469213666, "post_id": 38533346, "comment_id": 64460721, "body": "Where does the data come from originally? If there&#39;s some kind of API for the data source (like <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a> for databases), it would be better to use that than parsing data meant for human consumption."}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1469213798, "post_id": 38533346, "comment_id": 64460782, "body": "It is not by an API. a output from a network device. The output will be always in this format. Particularly the table column wont change and data will be changed based on the device type."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6626994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58d6ded319bda97a43b802da42b534f?s=128&d=identicon&r=PG&f=1", "display_name": "Kermit Tensmeyer", "link": "https://stackoverflow.com/users/6626994/kermit-tensmeyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1469216862, "creation_date": 1469216862, "answer_id": 38534248, "question_id": 38533346, "link": "https://stackoverflow.com/questions/38533346/regex-to-retrieve-tabular-data-using-perl/38534248#38534248", "title": "Regex to retrieve tabular data using Perl", "body": "<p>It would appear from the example that the data (below the headers) is close to fixed width parameters. It might be easier to scan the data using those widths to grab the data.</p>\n\n<p>Alternatively the data resides in a large string separated by '|' characters. Why not split the string into an array using the specific character as the delimiter. It might be wise to use trim (using the array method) to clean the data. [No trim is not apart of the stock library. Check the cookbook for better versions of trim.]</p>\n"}], "owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1469216862, "creation_date": 1469212942, "last_edit_date": 1469213169, "question_id": 38533346, "link": "https://stackoverflow.com/questions/38533346/regex-to-retrieve-tabular-data-using-perl", "title": "Regex to retrieve tabular data using Perl", "body": "<p>I am trying query some data which is in tabular like below,</p>\n\n<pre><code>+----------------------------------------------------- MA ESTICKSTS ------------------------------------------------------+\n|                                 |    |                               |    |   |   | Opms  | Esticks Delsif  |Baslentelts|\n|Name                             |Type|Esticks Permina                |Div |LvL|mde|Loe|Thi|PC|HH|WE|SS|FF|ER|           |\n+---------------------------------+----+-------------------------------+----+---+---+---+---+--+--+--+--+--+--+-----------+\n|Nuts-and-spices|code2398         |VS  |Msserie_2398                   |2398|7  |br |0  |3  |  |  |  |  |  |  |No         |\n|Nuts-and-spices.EP.034330..WERS..|VS  |Msserie_2996                   |2996|7  |br |3  |2  |  |  |  |  |  |  |Ye         |\n+---------------------------------+----+-------------------------------+----+---+---+---+---+--+--+--+--+--+--+-----------+\n</code></pre>\n\n<p>Is that anyway to convert this data into JSON array in Perl? Because it would great if i get these data into an associative array.</p>\n\n<p>And also i do not need the table header data. I simply need to extract row data. </p>\n\n<p>Please help me on that!</p>\n"}, {"tags": ["xml", "linux", "perl", "text", "ipmi"], "answers": [{"tags": [], "owner": {"reputation": 2444, "user_id": 584940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4fd36b5abead93bfd3575c08cd923e9?s=128&d=identicon&r=PG", "display_name": "Randall", "link": "https://stackoverflow.com/users/584940/randall"}, "is_accepted": false, "score": 0, "last_activity_date": 1469307586, "creation_date": 1469307586, "answer_id": 38546377, "question_id": 38531292, "link": "https://stackoverflow.com/questions/38531292/fix-perl-textxml-convertor-script/38546377#38546377", "title": "Fix perl text&gt;xml convertor script", "body": "<p>Unfortunately, it's not that simple.<br>\nYou also have code looking only at Discrete and Analog in </p>\n\n<pre><code>if ($type eq 'Discrete') {\n    ...\n} elsif ($type eq 'Analog') {\n    ...\n}  else {\n            die \"unknown sensor type: $type\\n\";\n}\n</code></pre>\n\n<p>You would need to either add a section to specifically deal with \"Threshold\" or, allow it to use the code from either the \"Discrete\" section or the \"Analog\" section.</p>\n\n<p>Since you have fractional numbers in the fields of the Threshold lines, you could try these 2 edits:</p>\n\n<pre><code>my %sensor_type = (\n    Discrete =&gt; 3,\n    Analog =&gt; 0,\n    Threshold =&gt; 0,  # &lt;-- this is the added line\n);\n</code></pre>\n\n<p>and change the  line <code>elsif ($type eq 'Analog')</code> to</p>\n\n<pre><code>} elsif ($type eq 'Analog' or $type eq 'Threshold') {\n</code></pre>\n\n<p>But, having only looked at the code briefly, it might still have other problems trying to work with Threshold that I overlooked.</p>\n"}], "owner": {"reputation": 1, "user_id": 6625833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uTE4d.jpg?s=128&g=1", "display_name": "Alexander B", "link": "https://stackoverflow.com/users/6625833/alexander-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469307586, "creation_date": 1469204777, "question_id": 38531292, "link": "https://stackoverflow.com/questions/38531292/fix-perl-textxml-convertor-script", "title": "Fix perl text&gt;xml convertor script", "body": "<p>Trying to use IPMI templates making scripts from here: <a href=\"http://www.tune-it.ru/web/tiamat/home/-/blogs/17465\" rel=\"nofollow\">http://www.tune-it.ru/web/tiamat/home/-/blogs/17465</a> using the first perl script. So I got the next output:</p>\n\n<pre><code># template|sensor|type|dsc|unit|lnr|lcr|lnc|unc|ucr|unr\n|1.05V PCH|Threshold|Voltage|Volts|0.870|0.897|0.942|1.194|1.221|1.248\n|1.2V BMC|Threshold|Voltage|Volts|1.020|1.047|1.092|1.344|1.371|1.398\n|1.5V PCH|Threshold|Voltage|Volts|1.320|1.347|1.401|1.644|1.671|1.698\n|12V|Threshold|Voltage|Volts|10.173|10.299|10.740|12.945|13.260|13.386\n|3.3VCC|Threshold|Voltage|Volts|2.789|2.823|2.959|3.554|3.656|3.690\n|3.3VSB|Threshold|Voltage|Volts|2.789|2.823|2.959|3.554|3.656|3.690\n|5VCC|Threshold|Voltage|Volts|4.246|4.298|4.480|5.390|5.546|5.598\n|5VSB|Threshold|Voltage|Volts|4.246|4.298|4.480|5.390|5.546|5.598\n|CPU Temp|Threshold|Temperature|degrees C|0.000|0.000|0.000|85.000|90.000|90.000\n|Chassis Intru|Discrete|Physical Security|discrete||||||\n|DIMMA1 Temp|Threshold|Temperature|degrees C|1.000|2.000|4.000|80.000|85.000|90.000\n|DIMMA2 Temp|Threshold|Temperature|degrees C|1.000|2.000|4.000|80.000|85.000|90.000\n|DIMMB1 Temp|Threshold|Temperature|degrees C|1.000|2.000|4.000|80.000|85.000|90.000\n|DIMMB2 Temp|Threshold|Temperature|degrees C|1.000|2.000|4.000|80.000|85.000|90.000\n|DIMMC1 Temp|Threshold|Temperature|||||||\n|DIMMC2 Temp|Threshold|Temperature|||||||\n|DIMMD1 Temp|Threshold|Temperature|||||||\n|DIMMD2 Temp|Threshold|Temperature|||||||\n|FAN1|Threshold|Fan|RPM|300.000|500.000|700.000|25300.000|25400.000|25500.000\n|FAN2|Threshold|Fan|RPM|300.000|500.000|700.000|25300.000|25400.000|25500.000\n|FAN3|Threshold|Fan|RPM|300.000|500.000|700.000|25300.000|25400.000|25500.000\n|FAN4|Threshold|Fan|RPM|300.000|500.000|700.000|25300.000|25400.000|25500.000\n|FAN5|Threshold|Fan|||||||\n|FANA|Threshold|Fan|||||||\n|PCH Temp|Threshold|Temperature|degrees C|-11.000|-8.000|-5.000|90.000|95.000|100.000\n|PS1 Status|Discrete|Power Supply|discrete||||||\n|PS2 Status|Discrete|Power Supply|discrete||||||\n|Peripheral Temp|Threshold|Temperature|degrees C|-9.000|-7.000|-5.000|80.000|85.000|90.000\n|System Temp|Threshold|Temperature|degrees C|-9.000|-7.000|-5.000|80.000|85.000|90.000\n|VBAT|Threshold|Voltage|Volts|2.375|2.487|2.599|3.775|3.887|3.999\n|VDIMMAB|Threshold|Voltage|Volts|0.948|0.975|1.047|1.344|1.425|1.443\n|VDIMMCD|Threshold|Voltage|Volts|0.948|0.975|1.047|1.344|1.425|1.443\n|Vcpu|Threshold|Voltage|Volts|1.242|1.260|1.395|1.899|2.088|2.106\n|VcpuVRM Temp|Threshold|Temperature|degrees C|-9.000|-7.000|-5.000|95.000|100.000|105.000\n|VmemABVRM Temp|Threshold|Temperature|degrees C|-9.000|-7.000|-5.000|95.000|100.000|105.000\n|VmemCDVRM Temp|Threshold|Temperature|degrees C|-9.000|-7.000|-5.000|95.000|100.000|105.000\n</code></pre>\n\n<p>When I ran the 2nd script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse POSIX qw(strftime);\n\nmy $date = strftime(\"%d.%m.%y\", localtime);\nmy $time = strftime(\"%H.%M\", localtime);\n\nmy $delay = 300;\nmy $history = 7;\nmy $trends = 365;\n\n# 0 - Line\n# 1 - Fill\n# 2 - Bold line\n# 3 - Dots\n# 4 - Striped line\n# 5 - Gradient line\n\nmy $drawtype = 1;\n\n# 3 - Number (Integer)\n# 0 - Number (Folating point)\n# 1 - Symbol\n# 2 - Log\n# 4 - Text\n\nmy %sensor_type = (\n        Discrete =&gt; 3,\n        Analog =&gt; 0,\n);\n\n# 0 - Unclassified\n# 1 - Notification\n# 2 - Warning\n# 3 - Middle\n# 4 - High\n# 5 - Extreme\n\nmy @thresh_type = (\n        { pri =&gt; 4, dsc =&gt; 'Lower Non-Recoverable' },\n        { pri =&gt; 3, dsc =&gt; 'Lower Critical' },\n        { pri =&gt; 2, dsc =&gt; 'Lower Non-Critical' },\n        { pri =&gt; 2, dsc =&gt; 'Upper Non-Critical' },\n        { pri =&gt; 3, dsc =&gt; 'Upper Critical' },\n        { pri =&gt; 4, dsc =&gt; 'Upper Non-Recoverable' },\n);\n\nmy $head = &lt;&lt;EOF;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;zabbix_export version=\"1.0\" date=\"%s\" time=\"%s\"&gt;\n        &lt;hosts&gt;\n                &lt;host name=\"%s\"&gt;\n                        &lt;proxy_hostid&gt;0&lt;/proxy_hostid&gt;\n                        &lt;useip&gt;0&lt;/useip&gt;\n                        &lt;dns&gt;&lt;/dns&gt;\n                        &lt;ip&gt;0.0.0.0&lt;/ip&gt;\n                        &lt;port&gt;10050&lt;/port&gt;\n                        &lt;status&gt;3&lt;/status&gt;\n                        &lt;useipmi&gt;0&lt;/useipmi&gt;\n                        &lt;ipmi_ip&gt;&lt;/ipmi_ip&gt;\n                        &lt;ipmi_port&gt;623&lt;/ipmi_port&gt;\n                        &lt;ipmi_authtype&gt;0&lt;/ipmi_authtype&gt;\n                        &lt;ipmi_privilege&gt;2&lt;/ipmi_privilege&gt;\n                        &lt;ipmi_username&gt;&lt;/ipmi_username&gt;\n                        &lt;ipmi_password&gt;&lt;/ipmi_password&gt;\n                        &lt;groups&gt;\n                                &lt;group&gt;Templates&lt;/group&gt;\n                        &lt;/groups&gt;\n                        &lt;items&gt;\n%s\n                        &lt;/items&gt;\n                        &lt;triggers&gt;\n%s\n                        &lt;/triggers&gt;\n                        &lt;graphs&gt;\n%s\n                        &lt;/graphs&gt;\n                        &lt;templates/&gt;\n                        &lt;macros/&gt;\n                &lt;/host&gt;\n        &lt;/hosts&gt;\n        &lt;dependencies/&gt;\n&lt;/zabbix_export&gt;\nEOF\n\nmy $item = &lt;&lt;EOF;\n                                &lt;item type=\"12\" key=\"%s\" value_type=\"%d\"&gt;\n                                        &lt;description&gt;%s&lt;/description&gt;\n                                        &lt;ipmi_sensor&gt;%s&lt;/ipmi_sensor&gt;\n                                        &lt;delay&gt;$delay&lt;/delay&gt;\n                                        &lt;history&gt;$history&lt;/history&gt;\n                                        &lt;trends&gt;$trends&lt;/trends&gt;\n                                        &lt;status&gt;0&lt;/status&gt;\n                                        &lt;data_type&gt;0&lt;/data_type&gt;\n                                        &lt;units&gt;%s&lt;/units&gt;\n                                        &lt;multiplier&gt;0&lt;/multiplier&gt;\n                                        &lt;delta&gt;0&lt;/delta&gt;\n                                        &lt;formula&gt;1&lt;/formula&gt;\n                                        &lt;lastlogsize&gt;0&lt;/lastlogsize&gt;\n                                        &lt;logtimefmt&gt;&lt;/logtimefmt&gt;\n                                        &lt;delay_flex&gt;&lt;/delay_flex&gt;\n                                        &lt;authtype&gt;0&lt;/authtype&gt;\n                                        &lt;username&gt;&lt;/username&gt;\n                                        &lt;password&gt;&lt;/password&gt;\n                                        &lt;publickey&gt;&lt;/publickey&gt;\n                                        &lt;privatekey&gt;&lt;/privatekey&gt;\n                                        &lt;params&gt;&lt;/params&gt;\n                                        &lt;trapper_hosts&gt;&lt;/trapper_hosts&gt;\n                                        &lt;snmp_community&gt;&lt;/snmp_community&gt;\n                                        &lt;snmp_oid&gt;&lt;/snmp_oid&gt;\n                                        &lt;snmp_port&gt;161&lt;/snmp_port&gt;\n                                        &lt;snmpv3_securityname&gt;&lt;/snmpv3_securityname&gt;\n                                        &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt;\n                                        &lt;snmpv3_authpassphrase&gt;&lt;/snmpv3_authpassphrase&gt;\n                                        &lt;snmpv3_privpassphrase&gt;&lt;/snmpv3_privpassphrase&gt;\n                                        &lt;applications/&gt;\n                                &lt;/item&gt;\nEOF\n\nmy $trigger = &lt;&lt;EOF;\n                                &lt;trigger&gt;\n                                        &lt;description&gt;%s&lt;/description&gt;\n                                        &lt;type&gt;0&lt;/type&gt;\n                                        &lt;expression&gt;%s&lt;/expression&gt;\n                                        &lt;url&gt;&lt;/url&gt;\n                                        &lt;status&gt;0&lt;/status&gt;\n                                        &lt;priority&gt;%d&lt;/priority&gt;\n                                        &lt;comments&gt;%s&lt;/comments&gt;\n                                &lt;/trigger&gt;\nEOF\n\nmy $graph = &lt;&lt;EOF;\n                                &lt;graph name=\"%s\" width=\"900\" height=\"200\"&gt;\n                                        &lt;ymin_type&gt;0&lt;/ymin_type&gt;\n                                        &lt;ymax_type&gt;0&lt;/ymax_type&gt;\n                                        &lt;ymin_item_key&gt;&lt;/ymin_item_key&gt;\n                                        &lt;ymax_item_key&gt;&lt;/ymax_item_key&gt;\n                                        &lt;show_work_period&gt;1&lt;/show_work_period&gt;\n                                        &lt;show_triggers&gt;1&lt;/show_triggers&gt;\n                                        &lt;graphtype&gt;0&lt;/graphtype&gt;\n                                        &lt;yaxismin&gt;0.0000&lt;/yaxismin&gt;\n                                        &lt;yaxismax&gt;100.0000&lt;/yaxismax&gt;\n                                        &lt;show_legend&gt;0&lt;/show_legend&gt;\n                                        &lt;show_3d&gt;0&lt;/show_3d&gt;\n                                        &lt;percent_left&gt;0.0000&lt;/percent_left&gt;\n                                        &lt;percent_right&gt;0.0000&lt;/percent_right&gt;\n                                        &lt;graph_elements&gt;\n                                                &lt;graph_element item=\"%s\"&gt;\n                                                        &lt;drawtype&gt;$drawtype&lt;/drawtype&gt;\n                                                        &lt;sortorder&gt;0&lt;/sortorder&gt;\n                                                        &lt;color&gt;009900&lt;/color&gt;\n                                                        &lt;yaxisside&gt;0&lt;/yaxisside&gt;\n                                                        &lt;calc_fnc&gt;2&lt;/calc_fnc&gt;\n                                                        &lt;type&gt;0&lt;/type&gt;\n                                                        &lt;periods_cnt&gt;$delay&lt;/periods_cnt&gt;\n                                                &lt;/graph_element&gt;\n                                        &lt;/graph_elements&gt;\n                                &lt;/graph&gt;\nEOF\n\nmy ($tname, $items, $triggers, $graphs);\nwhile (&lt;&gt;) {\n        chomp;\n        next if /^#/;\n        my ($template,$sensor,$type,$dsc,$unit,$lnr,$lcr,$lnc,$unc,$ucr,$unr) =\n                split(/\\|/);\n\n        $template = \"Template_$template\";\n        $tname = $template;\n\n        my $key = sprintf(\"%s_%s_%s\", $type, $dsc, $unit);\n        $key =~ s/[\\s\\\\\\/]+/_/g;\n        $key = sprintf(\"%s[%s]\", $key, $sensor);\n\n        $items .= sprintf($item, $key, $sensor_type{$type},\n                        \"$type sensor for $dsc $sensor ($unit)\", $sensor, $unit);\n\n        if ($type eq 'Discrete') {\n                $triggers .= sprintf($trigger, \n                        \"$type sensor for $dsc $sensor on {HOSTNAME} was changed\",\n                        sprintf(\"{%s:%s.diff(0)}#0\", $template, $key), 4, '');\n        } elsif ($type eq 'Analog') {\n                my $index = -1;\n                my $op = '#';\n                foreach my $tv ($lnr,$lcr,$lnc,$unc,$ucr,$unr) {\n                        $index++;\n                        next if ($tv =~ /^$/);\n                        my $td = $thresh_type[$index]-&gt;{dsc};\n                        my $tp = $thresh_type[$index]-&gt;{pri};\n                        $op = '&amp;lt;' if ($index &lt; 3);\n                        $op = '&amp;gt;' if ($index &gt; 2);\n                        $triggers .= sprintf($trigger,\n                                \"$type sensor for $dsc $sensor on {HOSTNAME} changed to $td\",\n                                sprintf(\"{%s:%s.last(0)}%s%s\", $template, $key, $op, $tv), $tp, '');\n                }\n                $graphs .= sprintf($graph, \"$type sensor for $dsc $sensor ($unit)\",\n                                \"$template:$key\");\n        } else {\n                die \"unknown sensor type: $type\\n\";\n        }\n}\n\nprintf($head, $date, $time, $tname, $items, $triggers, $graphs);\n</code></pre>\n\n<p>using this command</p>\n\n<pre><code># perl /usr/local/etc/zabbix3/zabbix/externalscripts/get_ipmi.pl -H 192.168.1.100 -U ADMIN -P ADMIN | perl /usr/local/etc/zabbix3/zabbix/externalscripts/make_ipmi.pl &gt; Supermicro_SYS-5018R_MR.xml\n</code></pre>\n\n<p>I got the message:</p>\n\n<pre><code>unknown sensor type: Threshold\n</code></pre>\n\n<p>I think, the 2nd column is already \"Threshold\" type, not digits. That's the reason of error.</p>\n\n<p>How to change this part of source:</p>\n\n<pre><code>my %sensor_type = (\n        Discrete =&gt; 3,\n        Analog =&gt; 0,\n);\n</code></pre>\n\n<p>for my text output example?\nI am not a perl programmer. So any help would be appreciated.</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469204671, "post_id": 38530152, "comment_id": 64456349, "body": "What are you trying to accomplish? Why not just use e.g. a semaphore or other IPC to pause a thread?"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1469204990, "post_id": 38530152, "comment_id": 64456488, "body": "What happens when you are &quot;not able to suspend/resume a created thread&quot;?  Do you see the <i>error</i> printed?  What is <code>$msg</code>?  Since <code>capture()</code> creates at least one child process, what effect do you expect suspending a thread in the parent to have on the child process(es)?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469206632, "post_id": 38530152, "comment_id": 64457330, "body": "Tip: <code>$_-&gt;suspend()</code> looks far less weird than <code>threads-&gt;suspend($_)</code>"}, {"owner": {"reputation": 165655, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469207702, "post_id": 38530152, "comment_id": 64457833, "body": "It is extremely important when asking a question that you not just describe conclusions that you&#39;ve reached but the evidence that lead you to those conclusions. As @ikegami pointed out, you do not explain why you think your thread didn&#39;t get suspended."}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1469428944, "post_id": 38530152, "comment_id": 64513025, "body": "@pilcrow What I mean is that when I start a thread with <code>capture</code> and while the process is being executed and I invoke <code>suspendThread</code> the process continues and no error is being caught."}], "answers": [{"comments": [{"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1470909870, "post_id": 38531832, "comment_id": 65145969, "body": "I took a look at <code>IPC::Run</code> documentation but I am still confused how to replace <code>capture</code> with <code>pump</code>. I tried to replace <code>capture</code> with <code>open2</code> from <code>IPC::Open2</code> and the replacement doesn&#39;t help"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1470935858, "post_id": 38531832, "comment_id": 65163621, "body": "It should be obvious how to replace <code>capture</code> with <code>run</code>, and the docs show how <code>run</code> is just a <code>start</code>+<code>pump</code>+<code>finish</code>. <code>$h-&gt;signal</code> can be used to send the signal."}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1471007857, "post_id": 38531832, "comment_id": 65194716, "body": "replacing <code>capture</code> with <code>run</code> is obvious but replacing <code>run</code> with the <code>start+pump+finish</code> sequence is not"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1471009567, "post_id": 38531832, "comment_id": 65195805, "body": "Maybe not,  but now you know how because that&#39;s literally all there is to it"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1469394744, "last_edit_date": 1469394744, "creation_date": 1469206889, "answer_id": 38531832, "question_id": 38530152, "link": "https://stackoverflow.com/questions/38530152/perl-threads-dont-suspend-resume/38531832#38531832", "title": "Perl threads don&#39;t suspend/ resume", "body": "<p>These are the threads you have:</p>\n\n<pre><code>Parent process                  Process launched by capture\n+---------------------+         +---------------------+\n|                     |         |                     |\n|  Main thread        |         |  Main thread        |\n|  +---------------+  |         |  +---------------+  |\n|  |               |  |         |  |               |  |\n|  | $t-&gt;suspend() |  |         |  |               |  |\n|  |               |  |         |  |               |  |\n|  +---------------+  |         |  +---------------+  |\n|                     |         |                     |\n|  Created thread     |         |                     |\n|  +---------------+  |         |                     |\n|  |               |  |         |                     |\n|  | capture()     |  |         |                     |\n|  |               |  |         |                     |\n|  +---------------+  |         |                     |\n|                     |         |                     |\n+---------------------+         +---------------------+\n</code></pre>\n\n<p>You claim the thread you created wasn't suspended, but you have practically no way of determining whether it was suspended or not. After all, <code>capture</code> does not print anything or change any external variables. In fact, you have no reason to believe it wasn't suspended.</p>\n\n<p>Now, you might want the program you launched to freeze, but you have not done anything to suspend it or its main thread. As such, it will keep on running<sup>[1]</sup>.</p>\n\n<p>If you wanted to suspend an external process, you could send SIGSTOP to it (and SIGCONT to resume it). For that, you'll need the process's PID. I recommend replacing <code>capture</code> with an <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"nofollow\">IPC::Run</a> <code>pump</code> loop.</p>\n\n<hr>\n\n<ol>\n<li>Well, it will eventually block when it tries to write to STDOUT because the pipe got full because you actually did suspend the thread running <code>capture</code>.</li>\n</ol>\n"}], "owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469394744, "creation_date": 1469200987, "last_edit_date": 1469201303, "question_id": 38530152, "link": "https://stackoverflow.com/questions/38530152/perl-threads-dont-suspend-resume", "title": "Perl threads don&#39;t suspend/ resume", "body": "<p>I am using <code>Thread::Suspend</code> to start threads from remote modules. Some of the <code>$subrotine</code> calls take longer than 30 seconds.</p>\n\n<pre><code>my $thr = threads-&gt;create(sub {\n    capture(EXIT_ANY, $^X, $pathToModule, $subroutine, %arguments)\n});\nreturn $thr-&gt;tid();\n</code></pre>\n\n<p>My issue is that I am not able to suspend/resume a created thread. Here is the code execute to suspend a thread:</p>\n\n<pre><code>use IPC::System::Simple qw (capture $EXITVAL EXIT_ANY);\nuse threads;\nuse Thread::Suspend; \nuse Try::Tiny; \n\nsub suspendThread {\n    my $msg;\n    my $threadNumber = shift;\n\n    foreach (threads-&gt;list()) {\n        if ($_-&gt;tid() == $threadNumber) {\n            if ($_-&gt;is_suspended() == 0) {\n                try {\n                    # here the execution of the thread is not paused\n                    threads-&gt;suspend($_);\n                } catch {\n                    print \"error: \" . $! . \"\\n\";\n                };\n\n                $msg = \"Process $threadNumber paused\";\n            } else {\n                $msg = \"Process $threadNumber has to be resumed\\n\";\n            }   \n        }\n    }\n\n    return $msg;\n}\n</code></pre>\n\n<p>And this is the code from the module that I load dynamically:</p>\n\n<pre><code>sub run {\n    no strict 'refs';\n    my $funcRef = shift;\n    my %paramsRef = @_;\n    print &amp;$funcRef(%paramsRef);\n}\n\nrun(@ARGV);\n</code></pre>\n\n<p>I guess that the problem is that the <code>sub</code> passed to the treads constructor calls capture (from <code>IPC::System::Simple</code> module). I also tried to create the thread with <code>my $thr = threads-&gt;create(capture(EXIT_ANY, $^X, $pathToModule, $subroutine, %arguments));</code> Any ideas how to resolve it.</p>\n"}, {"tags": ["perl", "ssl", "verification", "lwp-useragent"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 7, "last_activity_date": 1531102251, "last_edit_date": 1531102251, "creation_date": 1469262147, "answer_id": 38539719, "question_id": 38529918, "link": "https://stackoverflow.com/questions/38529918/ssl-ca-path-with-iosocketssl-doesnt-use-certs-in-directory/38539719#38539719", "title": "SSL_ca_path with IO::Socket::SSL doesn&#39;t use certs in directory", "body": "<p>A certificate directory for use with OpenSSL (which is the TLS implementation used by IO::Socket::SSL) need to have a specific structure where the file names are based on hashes of the certificates subject. This means that it is not enough to just drop the certificates in the directory. </p>\n\n<p>For example you will find the following structure (taken from Ubuntu <code>/etc/ssl/certs</code>):</p>\n\n<pre><code>lrwxrwxrwx 1 root root     41 Feb 25 10:19 f30dd6ad.0 -&gt; USERTrust_ECC_Certification_Authority.pem\nlrwxrwxrwx 1 root root     34 Feb 25 10:19 f3377b1b.0 -&gt; Security_Communication_Root_CA.pem\n</code></pre>\n\n<p>This directory structure can be created using the OpenSSL <a href=\"https://www.openssl.org/docs/manmaster/man1/c_rehash.html\" rel=\"nofollow noreferrer\">rehash or c_rehash</a> command. That command creates symbolic links starting with the hash (which, in some versions of OpenSSL, can be calculated using <code>openssl x509 -noout -hash -in &lt;certfile&gt;</code>) followed by a full stop and a number (starting with <code>.0</code>, and using <code>.1</code>, <code>.2</code>, <code>.3</code> etc. if multiple certificates have the same hash). <strong>Note:</strong> the calculation of the hash for the name can be different for different versions of OpenSSL.</p>\n"}], "owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1543, "favorite_count": 1, "accepted_answer_id": 38539719, "answer_count": 1, "score": 4, "last_activity_date": 1531102251, "creation_date": 1469200362, "question_id": 38529918, "link": "https://stackoverflow.com/questions/38529918/ssl-ca-path-with-iosocketssl-doesnt-use-certs-in-directory", "title": "SSL_ca_path with IO::Socket::SSL doesn&#39;t use certs in directory", "body": "<p>I would like to use the <code>SSL_ca_path</code> ssl option since it is more reliable. The problem it doesn't use the certificates in the given directory.</p>\n\n<p>This code works:</p>\n\n<pre><code>  local $NET::HTTPS::SSL_SOCKET_CLASS = 'IO::Socket::SSL';\n  my $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; {\n    SSL_ca_file =&gt; \"/etc/pki/tls/certs/ca-bundle.crt\",\n  #  SSL_ca_path =&gt; \"/etc/pki/tls/certs/\",\n  });\n</code></pre>\n\n<p>But using <code>SSL_ca_path</code> instead of <code>SSL_ca_file</code> breaks the script.</p>\n\n<p>Not working</p>\n\n<pre><code>  local $NET::HTTPS::SSL_SOCKET_CLASS = 'IO::Socket::SSL';\n  my $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; {\n  #  SSL_ca_file =&gt; \"/etc/pki/tls/certs/ca-bundle.crt\",\n    SSL_ca_path =&gt; \"/etc/pki/tls/certs/\",\n  });\n</code></pre>\n\n<p>Neither renaming the certificates to <code>*.pem</code> nor removing the trailing <code>/</code> in the path fixes the problem.</p>\n\n<p>Permissions and owner of the directory and files are the same (770)</p>\n\n<p>Complete script: <a href=\"https://github.com/Benedikt1992/nagios-jenkins-plugin/blob/master/check_jenkins_job_extended.pl#L71-L75\" rel=\"nofollow\">https://github.com/Benedikt1992/nagios-jenkins-plugin/blob/master/check_jenkins_job_extended.pl#L71-L75</a> </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1469211021, "last_edit_date": 1469211021, "creation_date": 1469210407, "answer_id": 38532712, "question_id": 38529429, "link": "https://stackoverflow.com/questions/38529429/perl-remove-last-column-of-tab-delimited-file/38532712#38532712", "title": "perl remove last column of tab-delimited file", "body": "<p>You could just <code>pop @header_for_table1</code> which will remove the last header, and so store one less column in the hash slice. But I imagine that the \"extra\" column has come from code like this which has the newline in the parameter list for <code>join \"\\t\", ..., \"\\n\"</code> so it would be best just to remove the tab immediately before the newline with <code>s/\\t?\\n\\z//</code> instead of using <code>chomp</code></p>\n\n<p>I recommend that you put some parentheses around your <code>join</code> parameters, otherwise you are going to create more files with a spare tab at the end of each line. Here's a refactoring of the code you have shown which makes this and some other improvements</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\nlocal $Data::Dumper::Useqq = 1;\nuse Getopt::Long qw(GetOptions);\n\nmy ($input, $output);\nmy %lookup;\n\n...;\n\nopen my $in_fh,  '&lt;', $input  or die \"$! - [$input]\";\n\n...;\n\nmy @header = do {\n    my $header = &lt;$in_fh&gt;;\n    $header =~ s/\\t?\\n\\z//;\n    split /\\t/, $header;\n};\n\nopen my $out_fh, '&gt;', $output or die \"Can't write new file: $!\";\n\nprint $out_fh join(\"\\t\", @header, qw/ name1 name2 /), \"\\n\";\n\nwhile ( &lt;$in_fh&gt; ) {\n     s/\\t?\\n\\z//;\n\n     my @row = split /\\t/;\n\n     my $names = $lookup{ ... };\n     my @names = $names ? @$names : ('', '');\n\n     print $out_fh join(\"\\t\", @row, @names), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 38532712, "answer_count": 1, "score": 0, "last_activity_date": 1469211021, "creation_date": 1469199010, "last_edit_date": 1469200914, "question_id": 38529429, "link": "https://stackoverflow.com/questions/38529429/perl-remove-last-column-of-tab-delimited-file", "title": "perl remove last column of tab-delimited file", "body": "<p>I'm loading and printing tab-delimited files in my perl script. However the last column of my input file ($table1) is empty and I don't want to print this in my output file ($table3). How and where should I do this? After the 'open' or at the end in the 'print $table3'?</p>\n\n<p>This is part of my script (... denotes code not important for this question)</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\nlocal $Data::Dumper::Useqq = 1;\nuse Getopt::Long qw(GetOptions);;\n\n...\n\nopen(my $table1,'&lt;', $input) or die \"$! - [$input]\"; #input file \nopen(my $table3, '+&gt;', $output) || die (\"Can't write new file: $!\"); #output file\n\n...\n\nchomp( my @header_for_table1 = split /\\t/, &lt;$table1&gt; );\n\nprint $table3 join \"\\t\", @header_for_table1, \"name1\", \"name2\", \"\\n\";\n\n{\n    no warnings 'uninitialized';\n    while(&lt;$table1&gt;){\n         chomp;\n         my %row;\n         @row{@header_for_table1} = split /\\t/;\n         print $table3 join ( \"\\t\", @row{@header_for_table1},\n                   @{ $lookup{ ... }\n                        // [ \"\", \"\" ] }), \"\\n\";\n}\n}\n</code></pre>\n"}, {"tags": ["perl", "ibm-cloud", "speech-recognition", "asterisk", "speech-to-text"], "comments": [{"owner": {"reputation": 995, "user_id": 5492644, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6r71C.jpg?s=128&g=1", "display_name": "os11k", "link": "https://stackoverflow.com/users/5492644/os11k"}, "edited": false, "score": 1, "creation_date": 1469256065, "post_id": 38528732, "comment_id": 64470799, "body": "This is &quot;give me a code&quot; question. Please try first to write code by yourself and if you face any issue, please put here exact error with a logs and only then somebody might look into it."}, {"owner": {"reputation": 309, "user_id": 4865573, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6143a636855c67e97349beef6fc5fcce?s=128&d=identicon&r=PG&f=1", "display_name": "Bee", "link": "https://stackoverflow.com/users/4865573/bee"}, "reply_to_user": {"reputation": 995, "user_id": 5492644, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6r71C.jpg?s=128&g=1", "display_name": "os11k", "link": "https://stackoverflow.com/users/5492644/os11k"}, "edited": false, "score": 0, "creation_date": 1469720293, "post_id": 38528732, "comment_id": 64664884, "body": "@os11k - I updated the code. then it gives me an error. Please see the output"}, {"owner": {"reputation": 995, "user_id": 5492644, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6r71C.jpg?s=128&g=1", "display_name": "os11k", "link": "https://stackoverflow.com/users/5492644/os11k"}, "edited": false, "score": 0, "creation_date": 1469792810, "post_id": 38528732, "comment_id": 64696949, "body": "Your perl code is incorrect at least you need to provide credentials before the request, maybe you have other error, this is just first what I see. I would recommend you to add perl tag, cause currently this is 100% perl related question and nothing to do with Asterisk."}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 4865573, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6143a636855c67e97349beef6fc5fcce?s=128&d=identicon&r=PG&f=1", "display_name": "Bee", "link": "https://stackoverflow.com/users/4865573/bee"}, "edited": false, "score": 0, "creation_date": 1469524928, "post_id": 38542676, "comment_id": 64560002, "body": "I think the host is working using the token authentication =&gt; <a href=\"https://developer.ibm.com/answers/questions/202739/which-api-to-invoke-to-get-authentication-token-fo.html\" rel=\"nofollow noreferrer\" title=\"which api to invoke to get authentication token fo.html\">developer.ibm.com/answers/questions/202739/&hellip;</a>.  I will make a change and test it. Thanks"}], "tags": [], "owner": {"reputation": 36, "user_id": 6615729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c83a9455c765983f66c84e692528418?s=128&d=identicon&r=PG&f=1", "display_name": "AlexF", "link": "https://stackoverflow.com/users/6615729/alexf"}, "is_accepted": true, "score": 0, "last_activity_date": 1469282884, "creation_date": 1469282884, "answer_id": 38542676, "question_id": 38528732, "link": "https://stackoverflow.com/questions/38528732/how-to-use-ibm-blumix-watson-speech-to-text-as-speech-engine-on-asterisk/38542676#38542676", "title": "How to use IBM Blumix Watson Speech to Text as speech engine on Asterisk", "body": "<p>This works: </p>\n\n<p>curl -X POST -u uuuu:ppppp --header \"Content-Type: audio/wav\" --header \"Transfer-Encoding: chunked\" --data-binary @ira_47s_16khz.wav \"<a href=\"https://stream.watsonplatform.net/speech-to-text/api/v1/recognize?continuous=true\" rel=\"nofollow\">https://stream.watsonplatform.net/speech-to-text/api/v1/recognize?continuous=true</a>\"</p>\n\n<p>I am not familiar with Asterisk/Perl, however comparing the curl call with  the code it seems that: </p>\n\n<ul>\n<li><p>the host does not look right. With the right url you should begin to receive back the return messages and the error codes</p></li>\n<li><p>the content type is slightly different</p></li>\n<li><p>Can't find the data-binary chunk in the code. (it should be there however since your code works with Google api)</p></li>\n</ul>\n"}], "owner": {"reputation": 309, "user_id": 4865573, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6143a636855c67e97349beef6fc5fcce?s=128&d=identicon&r=PG&f=1", "display_name": "Bee", "link": "https://stackoverflow.com/users/4865573/bee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 972, "favorite_count": 0, "accepted_answer_id": 38542676, "answer_count": 1, "score": 0, "last_activity_date": 1533908806, "creation_date": 1469196985, "last_edit_date": 1533908806, "question_id": 38528732, "link": "https://stackoverflow.com/questions/38528732/how-to-use-ibm-blumix-watson-speech-to-text-as-speech-engine-on-asterisk", "title": "How to use IBM Blumix Watson Speech to Text as speech engine on Asterisk", "body": "<p>I followed the link below:\n<a href=\"http://zaf.github.io/asterisk-speech-recog/\" rel=\"nofollow noreferrer\">http://zaf.github.io/asterisk-speech-recog/</a></p>\n\n<p>Now I want to use IBM Blumix Watson Speech to Text instead of google speech-recog.\nCan anyone help me with this using the code provided on the link.</p>\n\n<p>It is working  using the google speech engine. but I want to use IBM Bluemix.</p>\n\n<pre><code> #!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nrequire LWP::UserAgent;\nuse WWW::Curl::Easy;\n\nmy $url = 'https://stream.watsonplatform.net/speech-to-text/api';\n\nmy $ua;\nmy $fh;\nmy $audio;\nmy $response;\nmy $headers;\nmy $username = 'username';\nmy $password = 'password';\n\nlocal $ENV{'HTTPS_DEBUG'} = 1;\nopen($fh, \"&lt;\", \"test.flac\") or die \"Can't read file: $!\";\n$audio = do { local $/; &lt;$fh&gt; };\nclose($fh);\n\n$ua = LWP::UserAgent-&gt;new;\n\n$response = $ua-&gt;post($url, Content_Type =&gt; \"audio/flac\",Transfer_Encoding =&gt; \"chunked\", Content =&gt; $audio);\n$response-&gt;authorization_basic($username, $password);\nmy $cont = $response-&gt;content;\nprint $cont;\n</code></pre>\n\n<p>Then it gave me output </p>\n\n<pre><code>SSL_connect:before/connect initialization\nSSL_connect:SSLv2/v3 write client hello A\nSSL_connect:SSLv3 read server hello A\nSSL_connect:SSLv3 read server certificate A\nSSL_connect:SSLv3 read server done A\nSSL_connect:SSLv3 write client key exchange A\nSSL_connect:SSLv3 write change cipher spec A\nSSL_connect:SSLv3 write finished A\nSSL_connect:SSLv3 flush data\nSSL_connect:SSLv3 read finished A\n500 write failed:\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1469193034, "post_id": 38527289, "comment_id": 64448733, "body": "In Perl, yes, you can. Use a subroutine call."}, {"owner": {"reputation": 1703, "user_id": 1336962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7e5a1b6c0b2cbec48a5768822ec57493?s=128&d=identicon&r=PG", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/1336962/nitesh"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1469193052, "post_id": 38527289, "comment_id": 64448743, "body": "@WiktorStribi\u017cew : How we can do that. Can you give me brief"}, {"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "edited": false, "score": 1, "creation_date": 1469193209, "post_id": 38527289, "comment_id": 64448842, "body": "This will just capture a dotted quartet of 3 digits each. For example, it would match 456.678.910.299, which is not a valid IPv4 address. Look at <a href=\"http://stackoverflow.com/questions/3221754/how-to-extract-ip-addresses-from-a-text-file-using-perl\" title=\"how to extract ip addresses from a text file using perl\">stackoverflow.com/questions/3221754/&hellip;</a> or <a href=\"http://stackoverflow.com/questions/2346869/what-regex-can-i-use-to-match-any-valid-ip-address-represented-in-dot-decimal-no\" title=\"what regex can i use to match any valid ip address represented in dot decimal no\">stackoverflow.com/questions/2346869/&hellip;</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469193355, "post_id": 38527289, "comment_id": 64448950, "body": "Why do you tag your perl questions as tcl?"}, {"owner": {"reputation": 1703, "user_id": 1336962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7e5a1b6c0b2cbec48a5768822ec57493?s=128&d=identicon&r=PG", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/1336962/nitesh"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469193799, "post_id": 38527289, "comment_id": 64449255, "body": "@melpomene: Reason I tagged as TCL is only syntax is different. Same regexp will work in TCL also just write regexp. I am looking for solution not syntax"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469193911, "post_id": 38527289, "comment_id": 64449336, "body": "@Nitesh No, TCL uses a different (and incompatible) regex engine. Many Perl features aren&#39;t supported (or work differently)."}, {"owner": {"reputation": 1703, "user_id": 1336962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7e5a1b6c0b2cbec48a5768822ec57493?s=128&d=identicon&r=PG", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/1336962/nitesh"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469193985, "post_id": 38527289, "comment_id": 64449384, "body": "@melpomene: Agreed. Do you know shorter regexp in Tcl which use \\d{1,3} only once"}, {"owner": {"reputation": 1703, "user_id": 1336962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7e5a1b6c0b2cbec48a5768822ec57493?s=128&d=identicon&r=PG", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/1336962/nitesh"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1469194016, "post_id": 38527289, "comment_id": 64449401, "body": "@WiktorStribi\u017cew : Can you please tell me regexp for that using subroutine"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469194161, "post_id": 38527289, "comment_id": 64449499, "body": "@Nitesh I already told you, <code>.*</code> is shorter."}, {"owner": {"reputation": 1703, "user_id": 1336962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7e5a1b6c0b2cbec48a5768822ec57493?s=128&d=identicon&r=PG", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/1336962/nitesh"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469194216, "post_id": 38527289, "comment_id": 64449532, "body": "@melpomene : But .* will match everything. It will include words, characters, spaces everything."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469194216, "post_id": 38527289, "comment_id": 64449533, "body": "@Nitesh: Why do you want to make it shorter?"}, {"owner": {"reputation": 1703, "user_id": 1336962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7e5a1b6c0b2cbec48a5768822ec57493?s=128&d=identicon&r=PG", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/1336962/nitesh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469194271, "post_id": 38527289, "comment_id": 64449574, "body": "@Borodin: Somebody asked me the same. I was not aware of it. It searched google and then came to this forum again. Just out of curiosity I am asking"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1469194319, "post_id": 38527289, "comment_id": 64449620, "body": "See <a href=\"https://ideone.com/vSuBXi\" rel=\"nofollow noreferrer\">ideone.com/vSuBXi</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469194498, "post_id": 38527289, "comment_id": 64449733, "body": "@Nitesh <code>\\d{1,3}</code> will also match lots of things that aren&#39;t IP addresses, such as <code>\u06f6\u216a\u2157</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1703, "user_id": 1336962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7e5a1b6c0b2cbec48a5768822ec57493?s=128&d=identicon&r=PG", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/1336962/nitesh"}, "edited": false, "score": 0, "creation_date": 1469196342, "post_id": 38527980, "comment_id": 64450941, "body": "what is ?: in regular expression"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1469194824, "last_edit_date": 1495539857, "creation_date": 1469194824, "answer_id": 38527980, "question_id": 38527289, "link": "https://stackoverflow.com/questions/38527289/looking-for-shortest-ipv4-matching-regexp-in-perl-tcl/38527980#38527980", "title": "Looking for shortest ipv4 matching regexp in Perl TCL", "body": "<p>Your current pattern matches many strings that aren't IPV4 addresses, so I can't tell what your criteria are. You may as well have <code>.*</code> <a href=\"https://stackoverflow.com/questions/38527289/looking-for-shortest-ipv4-matching-regexp-in-perl-tcl#comment64448814_38527289\">as melpomene says</a></p>\n\n<p>Slightly better would be <code>/[\\d.]{7,15}/</code> or <code>/(?:\\d{1,3}:){3}\\d{1,3}/</code>, but the best way is to <code>use Regexp::Common</code> when <code>$RE{net}{IPv4}</code> will give you the proper pattern</p>\n\n<pre><code>(?:(?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}))\n</code></pre>\n"}], "owner": {"reputation": 1703, "user_id": 1336962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7e5a1b6c0b2cbec48a5768822ec57493?s=128&d=identicon&r=PG", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/1336962/nitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "closed_date": 1469385222, "answer_count": 1, "score": -7, "last_activity_date": 1469194824, "creation_date": 1469192893, "last_edit_date": 1469193158, "question_id": 38527289, "link": "https://stackoverflow.com/questions/38527289/looking-for-shortest-ipv4-matching-regexp-in-perl-tcl", "closed_reason": "Not suitable for this site", "title": "Looking for shortest ipv4 matching regexp in Perl TCL", "body": "<p>I was trying to get the shortest regexp for IPV4 in perl</p>\n\n<p>Suppose we have the following</p>\n\n<pre><code>my $ip = \"192.168.1.23\";\n$ip =~ /(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})/;\n$ip =~ /(\\d{1,3})(\\.\\d{1,3}){3}/;\n</code></pre>\n\n<p>Or we can split with dot</p>\n\n<p>Is there any way we can use <code>\\d{1,3}</code> only once in the expression? Like in our first ip matching expression I am using <code>\\d{1,3}</code> four times and second expression is using it two times. </p>\n"}, {"tags": ["perl", "jenkins", "log4perl"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5441395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6387b84871082f0ddaa0fe85870d5f?s=128&d=identicon&r=PG&f=1", "display_name": "user5441395", "link": "https://stackoverflow.com/users/5441395/user5441395"}, "edited": false, "score": 1, "creation_date": 1469538942, "post_id": 38527150, "comment_id": 64570112, "body": "using <code>cpan Log::Log4perl</code> command I have installed it but when I am running .pl script or <code>perl -e &#39;require Log::Log4perl&#39;</code> command I am getting the message <code>Can&#39;t locate Log&#47;Log4perl.pm in @INC (@INC contains: &#47;usr&#47;local&#47;lib64&#47;perl5...</code>."}, {"owner": {"reputation": 23, "user_id": 5441395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6387b84871082f0ddaa0fe85870d5f?s=128&d=identicon&r=PG&f=1", "display_name": "user5441395", "link": "https://stackoverflow.com/users/5441395/user5441395"}, "edited": false, "score": 0, "creation_date": 1469538980, "post_id": 38527150, "comment_id": 64570140, "body": "I believe, installed location could be the issue here. In log message the installation path shown was <code>Installing &#47;home&#47;jenkins&#47;perl5&#47;man&#47;man3&#47;Log::Log4perl::Layout.3pm</code> &amp; whereas while running the script it was looking at <code>&#47;usr&#47;local&#47;lib64&#47;perl5...</code> location. If it is so then how could I install to a specific location. Pls correct me if I am wrong."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 23, "user_id": 5441395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6387b84871082f0ddaa0fe85870d5f?s=128&d=identicon&r=PG&f=1", "display_name": "user5441395", "link": "https://stackoverflow.com/users/5441395/user5441395"}, "edited": false, "score": 0, "creation_date": 1469562015, "post_id": 38527150, "comment_id": 64585034, "body": "@user5441395 That&#39;s a <a href=\"https://metacpan.org/pod/local::lib\" rel=\"nofollow noreferrer\"><code>local::lib</code></a> setup, which makes modules install into <code>~&#47;perl5</code> and should also make perl load from there. Are you running the <code>require</code> command as user <code>jenkins</code>?"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 1, "last_activity_date": 1469192491, "creation_date": 1469192491, "answer_id": 38527150, "question_id": 38527017, "link": "https://stackoverflow.com/questions/38527017/how-to-install-log4perl-module-using-jenkins/38527150#38527150", "title": "How to install Log4perl module using Jenkins", "body": "<ol>\n<li><p>You shouldn't rely on being able to omit quotes around strings in Perl. <code>perl -MCPAN -e 'install Log::Log4Perl'</code> is better written as <code>perl -MCPAN -e 'install \"Log::Log4Perl\"'</code> (omitting the quotes also causes bizarre problems if you try to install/update any module loaded by CPAN itself).</p></li>\n<li><p>The whole thing can be simplified to <code>cpan Log::Log4Perl</code> anyway.</p></li>\n<li><p>The error occurs because <code>Log::Log4Perl</code> really doesn't exist, but <a href=\"https://metacpan.org/pod/Log::Log4perl\" rel=\"nofollow\"><code>Log::Log4perl</code></a> does (lowercase <code>p</code>).</p></li>\n</ol>\n\n<p>Thus: <code>cpan Log::Log4perl</code> should do what you want.</p>\n\n<hr>\n\n<p>As for your other questions: \"Cannot install ...\" means the installation failed (that's not something you can just ignore).</p>\n\n<p>To confirm whether the module is there, try to load it: <code>perl -e 'require Log::Log4perl'</code> (if it's not there, you'll get <code>Can't locate Log/Log4perl.pm in @INC ...</code>).</p>\n"}], "owner": {"reputation": 23, "user_id": 5441395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6387b84871082f0ddaa0fe85870d5f?s=128&d=identicon&r=PG&f=1", "display_name": "user5441395", "link": "https://stackoverflow.com/users/5441395/user5441395"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 38527150, "answer_count": 1, "score": 1, "last_activity_date": 1469192491, "creation_date": 1469192095, "question_id": 38527017, "link": "https://stackoverflow.com/questions/38527017/how-to-install-log4perl-module-using-jenkins", "title": "How to install Log4perl module using Jenkins", "body": "<p>I am very new to Jenkins and Perl and I am trying to install Log4perl module using Jenkin Job. Below is the command which I have used in Jenkin's Execute shell box</p>\n\n<pre><code>perl -MCPAN -e 'install Log::Log4Perl'\n</code></pre>\n\n<p>And below is the Jenkin console log message</p>\n\n<pre><code>12:44:49 PATH=\"/home/jenkins/perl5/bin${PATH:+:${PATH}}\"; export PATH;\n12:44:49 PERL5LIB=\"/home/jenkins/perl5/lib/perl5${PERL5LIB:+:${PERL5LIB}}\";    export PERL5LIB;\n12:44:49  PERL_LOCAL_LIB_ROOT=\"/home/jenkins/perl5${PERL_LOCAL_LIB_ROOT:+:${PERL_LOCAL_LIB_ROOT}}\"; export PERL_LOCAL_LIB_ROOT;\n12:44:49 PERL_MB_OPT=\"--install_base \\\"/home/jenkins/perl5\\\"\"; export PERL_MB_OPT;\n12:44:49 PERL_MM_OPT=\"INSTALL_BASE=/home/jenkins/perl5\"; export PERL_MM_OPT;\n12:44:49 \n12:44:49 Would you like me to append that to /home/jenkins/.bashrc now? [yes] yes\n12:44:49 \n12:44:49 \n12:44:49 commit: wrote '/home/jenkins/.cpan/CPAN/MyConfig.pm'\n12:44:49 \n12:44:49 You can re-run configuration any time with 'o conf init' in the CPAN shell\n12:44:49 Warning: Cannot install Log::Log4Perl, don't know what it is.\n12:44:49 Try the command\n12:44:49 \n12:44:49     i /Log::Log4Perl/\n12:44:49 \n12:44:49 to find objects with matching identifiers.\n12:44:52 [DEV_etl_europcar] $ /bin/sh -xe /tmp/hudson6339194449797505730.sh\n12:44:52 Warning: you have no plugins providing access control for builds, so falling back to legacy behavior of permitting any downstream builds to be triggered\n12:44:52 DEV_send_welcome_email is disabled. Triggering skipped\n12:44:52 Finished: SUCCESS\n</code></pre>\n\n<p>In log message it says</p>\n\n<blockquote>\n  <p>Warning: Cannot install Log::Log4Perl, don't know what it is.</p>\n</blockquote>\n\n<p>I am not sure whether I should ignore the above statement or not.\nAlso How can confirm whether the log4perl module is installed successfully or not.</p>\n"}, {"tags": ["perl", "class", "object"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 523, "user_id": 5973612, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/gBZpu.png?s=128&g=1", "display_name": "Ganapathy", "link": "https://stackoverflow.com/users/5973612/ganapathy"}, "edited": false, "score": 0, "creation_date": 1469192252, "post_id": 38525916, "comment_id": 64448245, "body": "@Ganapathy: It <i>is working</i>. <code>-&gt;</code> and <code>::</code> are very different things and aren&#39;t interchangeable."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1469188856, "creation_date": 1469188856, "answer_id": 38525916, "question_id": 38525825, "link": "https://stackoverflow.com/questions/38525825/why-we-cannot-access-the-method-via-object-with-in-perl/38525916#38525916", "title": "why we cannot access the method via object with :: in perl", "body": "<p>In <code>$My_Obj::Print</code> you are asking for the scalar variable <code>Print</code> from the package <code>My_Obj</code></p>\n\n<p>You haven't assigned to it or used its value, so basically you're just mentioning the name of a scalar variable, and you get the message</p>\n\n<blockquote>\n  <p>Useless use of a variable in void context</p>\n</blockquote>\n\n<p>What is it that you're trying to do? <code>$My_Obj</code> is clearly an object, and you have had success calling it's <code>Print</code> method using <code>$My_Obj-&gt;Print</code>. Why do you want to do it in a different way?</p>\n"}], "owner": {"reputation": 523, "user_id": 5973612, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/gBZpu.png?s=128&g=1", "display_name": "Ganapathy", "link": "https://stackoverflow.com/users/5973612/ganapathy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469188856, "creation_date": 1469188512, "question_id": 38525825, "link": "https://stackoverflow.com/questions/38525825/why-we-cannot-access-the-method-via-object-with-in-perl", "title": "why we cannot access the method via object with :: in perl", "body": "<p>I wrote the <code>Perl module</code>, In that I use the <code>class and objects</code>.\nSo I create the object for the class and access its methods.\nFor example:</p>\n\n<pre><code>{\n    package sample;\n    sub Bless \n    {\n        my $Class = shift;\n        my $Name = shift;\n        bless \\$Name, $Class;\n    }\n}\n{\npackage test;\n        our @ISA = qw(sample);\n    sub Print \n    {\n        my $Name = shift;\n            print \"Hi, I'm $$Name &amp; This is for testing\\n\";\n    }\n}\n\nmy $My_Obj = test-&gt;Bless('Ganapathy');\n$My_Obj-&gt;Print;\n</code></pre>\n\n<p>For the above statement, The program has running properly.\nWhen I executed it it gives the output like this,</p>\n\n<pre><code>Hi, I'm Ganapathy &amp; This is for testing\n</code></pre>\n\n<p>But if I access the method using the object with <code>::</code> like this,</p>\n\n<pre><code> $My_Obj::Print;\n</code></pre>\n\n<p>It has not working and it throw the error like below,</p>\n\n<pre><code>Useless use of a variable in void context at /home/ganapathy/trainee_2015/perl/inter_perl/chap_13/Object_Doubt.pl line 46.\nName \"My_Obj::Print\" used only once: possible typo at /home/ganapathy/trainee_2015/perl/inter_perl/chap_13/Object_Doubt.pl line 46.\n</code></pre>\n\n<p>why I can't access like that, Please any one help me.\nThanks.</p>\n"}, {"tags": ["xml", "perl", "xml-parsing", "xml-libxml"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1469188029, "post_id": 38525238, "comment_id": 64445571, "body": "Thank you so much for your help but is there any way that we can handle fetch data in variable to use separately like my output the first child element will repeat with each bill information."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1469188551, "post_id": 38525238, "comment_id": 64445886, "body": "@Paddy: I&#39;ve made some changes. Does that help?"}, {"owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1469189444, "post_id": 38525238, "comment_id": 64446433, "body": "In this changes program work for &lt;BILL&gt; child tags and fetch its  nodename/element and attributes and respective there values. Actually I wanted to repeat the following BillingMessage ...to... BILL: section with every BILL: information as I shown in my output."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1469188529, "last_edit_date": 1469188529, "creation_date": 1469186693, "answer_id": 38525238, "question_id": 38524648, "link": "https://stackoverflow.com/questions/38524648/dump-xml-file-elements-and-attributes/38525238#38525238", "title": "Dump XML file elements and attributes", "body": "\n\n<p>It's a strange requirement to just dump all the node names and their values. You lose all the relationship information that way, but hey if that's what you want</p>\n\n<p>The problem is that <code>textContent</code> returns all descendant text nodes instead of just the immediate child text nodes</p>\n\n<p>I think this does what you want</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse XML::LibXML;\n\nmy $file = 'UTILITYBILLS.xml';\n\nmy $doc = XML::LibXML-&gt;load_xml( location =&gt; $file );\n\nfor my $bill ($doc-&gt;findnodes('/UTILITYBILLS/BILL')) {\n\n    for my $property ( $bill-&gt;findnodes('.//*') ) {\n\n        printf \"%s:\\n\", $property-&gt;nodeName;\n\n        for my $text ( $property-&gt;findnodes('text()') ) {\n            $text = $text-&gt;data =~ s/\\A\\s+|\\s+\\z//gr;\n            print \"    $text\\n\" if $text;\n        }\n\n        for my $attr ( $property-&gt;attributes ) {\n            printf qq{    %s=\"%s\"\\n}, $attr-&gt;nodeName, $attr-&gt;value;\n        }      \n    }\n\n    print \"\\n\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ConsumptionHistory:\n    dfgdfg\nSERVICE:\n    Service=\"\"\nBILLINGITEMS:\n    BillingItemCode=\"\"\nCHARGES:\n    ChargeCategoryDescription=\"MAYESEVILLE CHARGES\"\n    Amount=\"70.09\"\n    Parent=\"1\"\nCHARGES:\n    ChargeCategoryDescription=\"MA - WATER\"\n    Amount=\"43.04\"\n    Parent=\"0\"\nLineItemDetail:\n    UtilityTransDetailID=\"6605683\"\n    ComponentType=\"Flat Rate\"\n    ComponentDescription=\"WATER MIN\"\nLineItemDetail:\n    UtilityTransDetailID=\"6606886\"\n    ComponentType=\"Block Rate\"\n    ComponentDescription=\"WATER CONS\"\nLIDetailConsumption:\n    MeterNumber=\"36313595\"\n    MeterType=\"Water &amp; Sewer 9\"\n    ServiceClassCode=\"Water &amp; Sewer\"\n    MeasurementTypeSequence=\"1\"\nLineItemDetail:\n    UtilityTransDetailID=\"6606890\"\n    ComponentType=\"Block Rate\"\n    ComponentDescription=\"WATER CONS\"\nLIDetailConsumption:\n    MeterNumber=\"36313595\"\n    MeterType=\"Water &amp; Sewer 9\"\n    ServiceClassCode=\"Water &amp; Sewer\"\n    MeasurementTypeSequence=\"1\"\nCHARGES:\n    ChargeCategoryDescription=\"MA - SEWER\"\n    Amount=\"27.05\"\n    Parent=\"0\"\nLineItemDetail:\n    UtilityTransDetailID=\"6605685\"\n    ComponentType=\"Flat Rate\"\n    ComponentDescription=\"SEWER MINIMUM\"\nLineItemDetail:\n    UtilityTransDetailID=\"6606894\"\n    ComponentType=\"Block Rate\"\n    ComponentDescription=\"SEWER CONS\"\nLIDetailConsumption:\n    MeterNumber=\"36313595\"\n    MeterType=\"Water &amp; Sewer 9\"\n    ServiceClassCode=\"Water &amp; Sewer\"\n    MeasurementTypeSequence=\"1\"\nCONSUMPTION:\n    ServiceClass=\"Water &amp; Sewer\"\n    MeterType=\"Water &amp; Sewer 9\"\n    MeterNumber=\"36313595\"\n\n\nConsumptionHistory:\n    dfgdfg\nSERVICE:\n    Service=\"\"\nBILLINGITEMS:\n    BillingItemCode=\"\"\nCHARGES:\n    ChargeCategoryDescription=\"MAYESEVILLE CHARGES\"\n    Amount=\"70.09\"\n    Parent=\"1\"\nCHARGES:\n    ChargeCategoryDescription=\"MA - WATER\"\n    Amount=\"43.04\"\n    Parent=\"0\"\nLineItemDetail:\n    UtilityTransDetailID=\"6605683\"\n    ComponentType=\"Flat Rate\"\n    ComponentDescription=\"WATER MIN\"\nLineItemDetail:\n    UtilityTransDetailID=\"6606886\"\n    ComponentType=\"Block Rate\"\n    ComponentDescription=\"WATER CONS\"\nLIDetailConsumption:\n    MeterNumber=\"36313595\"\n    MeterType=\"Water &amp; Sewer 9\"\n    ServiceClassCode=\"Water &amp; Sewer\"\n    MeasurementTypeSequence=\"1\"\nLineItemDetail:\n    UtilityTransDetailID=\"6606890\"\n    ComponentType=\"Block Rate\"\n    ComponentDescription=\"WATER CONS\"\nLIDetailConsumption:\n    MeterNumber=\"36313595\"\n    MeterType=\"Water &amp; Sewer 9\"\n    ServiceClassCode=\"Water &amp; Sewer\"\n    MeasurementTypeSequence=\"1\"\nCHARGES:\n    ChargeCategoryDescription=\"MA - SEWER\"\n    Amount=\"27.05\"\n    Parent=\"0\"\nLineItemDetail:\n    UtilityTransDetailID=\"6605685\"\n    ComponentType=\"Flat Rate\"\n    ComponentDescription=\"SEWER MINIMUM\"\nLineItemDetail:\n    UtilityTransDetailID=\"6606894\"\n    ComponentType=\"Block Rate\"\n    ComponentDescription=\"SEWER CONS\"\nLIDetailConsumption:\n    MeterNumber=\"36313595\"\n    MeterType=\"Water &amp; Sewer 9\"\n    ServiceClassCode=\"Water &amp; Sewer\"\n    MeasurementTypeSequence=\"1\"\nCONSUMPTION:\n    ServiceClass=\"Water &amp; Sewer\"\n    MeterType=\"Water &amp; Sewer 9\"\n    MeterNumber=\"36313595\"\n\n\nConsumptionHistory:\n    dfgdfg\nSERVICE:\n    Service=\"\"\nBILLINGITEMS:\n    BillingItemCode=\"\"\nCHARGES:\n    ChargeCategoryDescription=\"MAYESEVILLE CHARGES\"\n    Amount=\"70.09\"\n    Parent=\"1\"\nCHARGES:\n    ChargeCategoryDescription=\"MA - WATER\"\n    Amount=\"43.04\"\n    Parent=\"0\"\nLineItemDetail:\n    UtilityTransDetailID=\"6605683\"\n    ComponentType=\"Flat Rate\"\n    ComponentDescription=\"WATER MIN\"\nLineItemDetail:\n    UtilityTransDetailID=\"6606886\"\n    ComponentType=\"Block Rate\"\n    ComponentDescription=\"WATER CONS\"\nLIDetailConsumption:\n    MeterNumber=\"36313595\"\n    MeterType=\"Water &amp; Sewer 9\"\n    ServiceClassCode=\"Water &amp; Sewer\"\n    MeasurementTypeSequence=\"1\"\nLineItemDetail:\n    UtilityTransDetailID=\"6606890\"\n    ComponentType=\"Block Rate\"\n    ComponentDescription=\"WATER CONS\"\nLIDetailConsumption:\n    MeterNumber=\"36313595\"\n    MeterType=\"Water &amp; Sewer 9\"\n    ServiceClassCode=\"Water &amp; Sewer\"\n    MeasurementTypeSequence=\"1\"\nCHARGES:\n    ChargeCategoryDescription=\"MA - SEWER\"\n    Amount=\"27.05\"\n    Parent=\"0\"\nLineItemDetail:\n    UtilityTransDetailID=\"6605685\"\n    ComponentType=\"Flat Rate\"\n    ComponentDescription=\"SEWER MINIMUM\"\nLineItemDetail:\n    UtilityTransDetailID=\"6606894\"\n    ComponentType=\"Block Rate\"\n    ComponentDescription=\"SEWER CONS\"\nLIDetailConsumption:\n    MeterNumber=\"36313595\"\n    MeterType=\"Water &amp; Sewer 9\"\n    ServiceClassCode=\"Water &amp; Sewer\"\n    MeasurementTypeSequence=\"1\"\nCONSUMPTION:\n    ServiceClass=\"Water &amp; Sewer\"\n    MeterType=\"Water &amp; Sewer 9\"\n    MeterNumber=\"36313595\"\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469188529, "creation_date": 1469184793, "last_edit_date": 1469187919, "question_id": 38524648, "link": "https://stackoverflow.com/questions/38524648/dump-xml-file-elements-and-attributes", "title": "Dump XML file elements and attributes", "body": "<p></p>\n\n<p>I wanted to print all elements and their attributes names and values from an XML file.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;UTILITYBILLS&gt;\n  &lt;BillingMessage&gt;Bill Message TEST&lt;/BillingMessage&gt;\n  &lt;StubMessage&gt;Stub Message TEST&lt;/StubMessage&gt;\n  &lt;PaymentCodeID&gt;34&lt;/PaymentCodeID&gt;\n  &lt;DueDate&gt;08/01/2016&lt;/DueDate&gt;\n  &lt;ScheduledPrintDate&gt;07/04/2016&lt;/ScheduledPrintDate&gt;\n  &lt;ActualPrintDate&gt;07/07/2016&lt;/ActualPrintDate&gt;\n  &lt;ActualPrintTime&gt;9:37 AM&lt;/ActualPrintTime&gt;\n  &lt;BILL AccountNumber=\"0390124-000\" AccountType=\"Mayesville- Residential\" UtilityAccountID=\"14242\"&gt;\n    &lt;ConsumptionHistory&gt;dfgdfg&lt;/ConsumptionHistory&gt;\n    &lt;SERVICE Service=\"\"/&gt;\n    &lt;BILLINGITEMS BillingItemCode=\"\"/&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MAYESEVILLE CHARGES\" Amount=\"70.09\" Parent=\"1\"/&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - WATER\" Amount=\"43.04\" Parent=\"0\"&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6605683\" ComponentType=\"Flat Rate\" ComponentDescription=\"WATER MIN\"/&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6606886\" ComponentType=\"Block Rate\" ComponentDescription=\"WATER CONS\"&gt;\n        &lt;LIDetailConsumption MeterNumber=\"36313595\" MeterType=\"Water &amp;amp; Sewer 9\" ServiceClassCode=\"Water &amp;amp; Sewer\" MeasurementTypeSequence=\"1\"/&gt;\n      &lt;/LineItemDetail&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6606890\" ComponentType=\"Block Rate\" ComponentDescription=\"WATER CONS\"&gt;\n        &lt;LIDetailConsumption MeterNumber=\"36313595\" MeterType=\"Water &amp;amp; Sewer 9\" ServiceClassCode=\"Water &amp;amp; Sewer\" MeasurementTypeSequence=\"1\"/&gt;\n      &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - SEWER\" Amount=\"27.05\" Parent=\"0\"&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6605685\" ComponentType=\"Flat Rate\" ComponentDescription=\"SEWER MINIMUM\"/&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6606894\" ComponentType=\"Block Rate\" ComponentDescription=\"SEWER CONS\"&gt;\n        &lt;LIDetailConsumption MeterNumber=\"36313595\" MeterType=\"Water &amp;amp; Sewer 9\" ServiceClassCode=\"Water &amp;amp; Sewer\" MeasurementTypeSequence=\"1\"/&gt;\n      &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;\n    &lt;CONSUMPTION ServiceClass=\"Water &amp;amp; Sewer\" MeterType=\"Water &amp;amp; Sewer 9\" MeterNumber=\"36313595\"/&gt;\n  &lt;/BILL&gt;\n  &lt;BILL AccountNumber=\"0390124-000\" AccountType=\"Mayesville- Residential\" UtilityAccountID=\"14242\"&gt;\n    &lt;ConsumptionHistory&gt;dfgdfg&lt;/ConsumptionHistory&gt;\n    &lt;SERVICE Service=\"\"/&gt;\n    &lt;BILLINGITEMS BillingItemCode=\"\"/&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MAYESEVILLE CHARGES\" Amount=\"70.09\" Parent=\"1\"/&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - WATER\" Amount=\"43.04\" Parent=\"0\"&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6605683\" ComponentType=\"Flat Rate\" ComponentDescription=\"WATER MIN\"/&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6606886\" ComponentType=\"Block Rate\" ComponentDescription=\"WATER CONS\"&gt;\n        &lt;LIDetailConsumption MeterNumber=\"36313595\" MeterType=\"Water &amp;amp; Sewer 9\" ServiceClassCode=\"Water &amp;amp; Sewer\" MeasurementTypeSequence=\"1\"/&gt;\n      &lt;/LineItemDetail&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6606890\" ComponentType=\"Block Rate\" ComponentDescription=\"WATER CONS\"&gt;\n        &lt;LIDetailConsumption MeterNumber=\"36313595\" MeterType=\"Water &amp;amp; Sewer 9\" ServiceClassCode=\"Water &amp;amp; Sewer\" MeasurementTypeSequence=\"1\"/&gt;\n      &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - SEWER\" Amount=\"27.05\" Parent=\"0\"&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6605685\" ComponentType=\"Flat Rate\" ComponentDescription=\"SEWER MINIMUM\"/&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6606894\" ComponentType=\"Block Rate\" ComponentDescription=\"SEWER CONS\"&gt;\n        &lt;LIDetailConsumption MeterNumber=\"36313595\" MeterType=\"Water &amp;amp; Sewer 9\" ServiceClassCode=\"Water &amp;amp; Sewer\" MeasurementTypeSequence=\"1\"/&gt;\n      &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;\n    &lt;CONSUMPTION ServiceClass=\"Water &amp;amp; Sewer\" MeterType=\"Water &amp;amp; Sewer 9\" MeterNumber=\"36313595\"/&gt;\n  &lt;/BILL&gt;\n  &lt;BILL AccountNumber=\"0390124-000\" AccountType=\"Mayesville- Residential\" UtilityAccountID=\"14242\"&gt;\n    &lt;ConsumptionHistory&gt;dfgdfg&lt;/ConsumptionHistory&gt;\n    &lt;SERVICE Service=\"\"/&gt;\n    &lt;BILLINGITEMS BillingItemCode=\"\"/&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MAYESEVILLE CHARGES\" Amount=\"70.09\" Parent=\"1\"/&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - WATER\" Amount=\"43.04\" Parent=\"0\"&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6605683\" ComponentType=\"Flat Rate\" ComponentDescription=\"WATER MIN\"/&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6606886\" ComponentType=\"Block Rate\" ComponentDescription=\"WATER CONS\"&gt;\n        &lt;LIDetailConsumption MeterNumber=\"36313595\" MeterType=\"Water &amp;amp; Sewer 9\" ServiceClassCode=\"Water &amp;amp; Sewer\" MeasurementTypeSequence=\"1\"/&gt;\n      &lt;/LineItemDetail&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6606890\" ComponentType=\"Block Rate\" ComponentDescription=\"WATER CONS\"&gt;\n        &lt;LIDetailConsumption MeterNumber=\"36313595\" MeterType=\"Water &amp;amp; Sewer 9\" ServiceClassCode=\"Water &amp;amp; Sewer\" MeasurementTypeSequence=\"1\"/&gt;\n      &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;\n    &lt;CHARGES ChargeCategoryDescription=\"MA - SEWER\" Amount=\"27.05\" Parent=\"0\"&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6605685\" ComponentType=\"Flat Rate\" ComponentDescription=\"SEWER MINIMUM\"/&gt;\n      &lt;LineItemDetail UtilityTransDetailID=\"6606894\" ComponentType=\"Block Rate\" ComponentDescription=\"SEWER CONS\"&gt;\n        &lt;LIDetailConsumption MeterNumber=\"36313595\" MeterType=\"Water &amp;amp; Sewer 9\" ServiceClassCode=\"Water &amp;amp; Sewer\" MeasurementTypeSequence=\"1\"/&gt;\n      &lt;/LineItemDetail&gt;\n    &lt;/CHARGES&gt;\n    &lt;CONSUMPTION ServiceClass=\"Water &amp;amp; Sewer\" MeterType=\"Water &amp;amp; Sewer 9\" MeterNumber=\"36313595\"/&gt;\n  &lt;/BILL&gt;\n&lt;/UTILITYBILLS&gt;\n</code></pre>\n\n<p>The above file is <code>sample.xml</code> I am trying to get every element, its value and every child and sub child and their values.</p>\n\n<p>Here is my code.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use XML::LibXML;\n\nmy $file   = \"sample.xml\";\nmy $parser = XML::LibXML-&gt;new();\nmy $xmldoc = $parser-&gt;parse_file($file);\n\nfor my $sample ( $xmldoc-&gt;getElementsByTagName('UTILITYBILLS') ) {\n\n    for my $property ( $sample-&gt;findnodes('./*') ) {\n\n        print OUT $property-&gt;nodeName(), \": \", $property-&gt;textContent(), \"\\n\";\n\n        my @attributeslist = $property-&gt;attributes();\n\n        foreach my $value (@attributeslist) {\n            my $string = $value-&gt;getValue();\n            print OUT $value-&gt;nodeName(), \": \", \"$string\", \"\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>The output of my code is as follows:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>BillingMessage: Bill Message TEST\nStubMessage: Stub Message TEST\nPaymentCodeID: 34\nDueDate: 08/01/2016\nScheduledPrintDate: 07/04/2016\nActualPrintDate: 07/07/2016\nActualPrintTime: 9:37 AM\nBILL: \n    dfgdfg     \n\n\n\nAccountNumber: 0390124-000\nAccountType: Mayesville- Residential\nUtilityAccountID: 14242\nBILL: \n    dfgdfg     \n\n\n\nAccountNumber: 0390124-000\nAccountType: Mayesville- Residential\nUtilityAccountID: 14242\nBILL: \n    dfgdfg     \n\n\n\nAccountNumber: 0390124-000\nAccountType: Mayesville- Residential\nUtilityAccountID: 14242\n</code></pre>\n\n<p>I wanted the output like as follows</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>BillingMessage: Bill Message TEST\nStubMessage: Stub Message TEST\nPaymentCodeID: 34\nDueDate: 08/01/2016\nScheduledPrintDate: 07/04/2016\nActualPrintDate: 07/07/2016\nActualPrintTime: 9:37 AM\nBILL: \nConsumptionHistory: dfgdfg  \nAccountNumber: 0390124-000\nAccountType: Mayesville- Residential\nUtilityAccountID: 14242\nAnd all sub child attributes and it's value\n.\n.\n.\n\nBillingMessage: Bill Message TEST\nStubMessage: Stub Message TEST\nPaymentCodeID: 34\nDueDate: 08/01/2016\nScheduledPrintDate: 07/04/2016\nActualPrintDate: 07/07/2016\nActualPrintTime: 9:37 AM\nBILL: \n    ConsumptionHistory: dfgdfg \nAccountNumber: 0390124-000\nAccountType: Mayesville- Residential\nUtilityAccountID: 14242\nAnd all sub child attributes and it's value\n.\n.\n.\n</code></pre>\n\n<p>Please help me to resolve this.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469184705, "post_id": 38524488, "comment_id": 64443620, "body": "<i>&quot;Getopt::Long needs -- at the beginning of the options&quot;</i> Only if you put <code>-s</code> in the command (shebang) line!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469184790, "post_id": 38524488, "comment_id": 64443660, "body": "@borodin Hu? The docs don&#39;t say that. There&#39;s no mention of <code>-s</code> in there at all. Only an example that uses an option <code>-s</code> to show whitespace in the options."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469185199, "post_id": 38524488, "comment_id": 64443899, "body": "That&#39;s because the <code>--</code> only serves to switch <i>off</i> Perl&#39;s built-in option processing. Without it an option is parsed and removed from <code>@ARGV</code> so <code>Getopt::Long</code> never even sees it. So you can use <code>-s ... --</code> or not use <code>-s</code> at all."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469208553, "post_id": 38524488, "comment_id": 64458232, "body": "Updated the line in question for clarity. (I did not verify whether it&#39;s true or not. The other answer implies it&#39;s not. It might also vary by system. But claiming that Getopt::Long simple ignores <code>-in</code>? I strongly doubt that!)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1469208137, "last_edit_date": 1469208137, "creation_date": 1469184324, "answer_id": 38524488, "question_id": 38524361, "link": "https://stackoverflow.com/questions/38524361/perl-getoptlong-path-to-file/38524488#38524488", "title": "perl getopt::Long path to file", "body": "<p><strong>No</strong>, there is no mistake in the script. Your code is doing what you told it to do. </p>\n\n<p>It's calling the <code>die \"$! - [$input]\";</code> part of that line, because the <code>open</code> returned a <em>false</em> value.</p>\n\n<p><em>No such file or directory</em> is the content of <code>$!</code>. That's the error it encountered. And between the <code>[]</code> there is the value of <code>$input</code>, which is empty. So there's your problem. You're passing an empty string to <code>open</code>, and that fails.</p>\n\n<p><strong>You are calling it the wrong way.</strong></p>\n\n<p>Getopt::Long requires options that are longer than one letter to be prefixed by <code>--</code>. This means that <code>-in</code> should be <code>--in</code>.</p>\n\n<pre><code>$ script.pl --in /path/to/file.txt\n</code></pre>\n\n<p>Because you didn't do that, Getopt::Long didn't see your option, and didn't parse it. A bit higher you initialized <code>$input = ''</code>, so it stayed the empty string.</p>\n\n<p>You could add a check to make sure that the input file is always provided.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Getopt::Long qw(GetOptions);;\n\nmy $input = '';\n\nGetOptions('input|in=s'  =&gt; \\$input);\n\ndie 'the --input option is required!' unless $input;\n\nopen(my $table1,'&lt;', $input) or die \"$! - [$input]\"; #input file \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469184643, "post_id": 38524570, "comment_id": 64443578, "body": "Yes! But I think it&#39;s a combination of this, plus my answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469184787, "post_id": 38524570, "comment_id": 64443656, "body": "@simbabque: Nope. Without <code>-s</code> <code>Getopt::Long</code> works fine whether you put the options before or after input file name"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469184852, "post_id": 38524570, "comment_id": 64443706, "body": "The input filename is one of the options here. Am I misunderstanding something?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469185023, "post_id": 38524570, "comment_id": 64443807, "body": "@simbabque: I&#39;m saying that if you can write <code>script -p1=v1 filename -p2=v2</code> then <code>Getopt::Long</code> will happily pick up both <code>p1</code> and <code>p2</code>. If you use a <code>--</code> then it will stop scanning for any options after it."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1469184555, "creation_date": 1469184555, "answer_id": 38524570, "question_id": 38524361, "link": "https://stackoverflow.com/questions/38524361/perl-getoptlong-path-to-file/38524570#38524570", "title": "perl getopt::Long path to file", "body": "<p>You are using Perl's built-in option parsing with the <code>-s</code> in your shebang line. In a command like <code>script.pl -in /path/to/file.txt</code> that makes perl set the variable <code>$in</code> to 1 and remove the corresponding entry from <code>@ARGV</code> before <code>Getopt::Long</code> ever sees it</p>\n\n<p>Just remove <code>-s</code> from the shebang line and everything it will work for you</p>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 0, "accepted_answer_id": 38524570, "answer_count": 2, "score": 2, "last_activity_date": 1469208137, "creation_date": 1469183955, "last_edit_date": 1469184112, "question_id": 38524361, "link": "https://stackoverflow.com/questions/38524361/perl-getoptlong-path-to-file", "title": "perl getopt::Long path to file", "body": "<p>I'm trying to open an input file as an argument using the Getopt::Long module</p>\n\n<p>This is the beginning of my script</p>\n\n<pre><code>#! /usr/bin/perl -s\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\nlocal $Data::Dumper::Useqq = 1;\nuse Getopt::Long qw(GetOptions);;\n\nmy $input='';\n\nGetOptions('input|in=s'    =&gt; \\$input);\n\nopen(my $table1,'&lt;', $input) or die \"$! - [$input]\"; #input file \n</code></pre>\n\n<p>And this is how I launch the script</p>\n\n<pre><code>$ script.pl -in /path/to/file.txt\n</code></pre>\n\n<p>I get as output:</p>\n\n<blockquote>\n  <p>No such file or directory - [] at script.pl line 13.</p>\n</blockquote>\n\n<p>Line 13 is the line with <code>open(...</code>.</p>\n\n<p>Is there a mistake in the script?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5269, "user_id": 2536842, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Vsam8.jpg?s=128&g=1", "display_name": "Dylan Meeus", "link": "https://stackoverflow.com/users/2536842/dylan-meeus"}, "edited": false, "score": 0, "creation_date": 1469183071, "post_id": 38524045, "comment_id": 64442628, "body": "Did you consider String.split(&quot;:&quot;)?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469183196, "post_id": 38524045, "comment_id": 64442699, "body": "Does your string really start with a less-than symbol and end with a colon and a semicolon?"}, {"owner": {"reputation": 61, "user_id": 4673094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b5ac687e0c57944acb529f939e6400?s=128&d=identicon&r=PG&f=1", "display_name": "vissu", "link": "https://stackoverflow.com/users/4673094/vissu"}, "edited": false, "score": 0, "creation_date": 1469183216, "post_id": 38524045, "comment_id": 64442709, "body": "I can not not use java here.We are using tool developed by internal team.We have to specify this regular expression as part of one of the attributes of xml elements.Like below.&lt;filter regexp=&#39;s/^\\s*&amp;lt;([\\s\\-A-Z_0-9,]*):?([\\s\\-A-Z_0-9,]*):?([\\s&zwnj;&#8203;\\-A-Z_0-9,]*):?([\\s\\&zwnj;&#8203;-A-Z_0-9,]*):?([\\s\\-&zwnj;&#8203;A-Z_0-9,]*):?([\\s\\-A&zwnj;&#8203;-Z_0-9,]*):*;.*$/kee&zwnj;&#8203;p_it_method_name $1 aid $2 ctag $3 General_block $4 Data_block $5/&#39;/&gt;"}, {"owner": {"reputation": 61, "user_id": 4673094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b5ac687e0c57944acb529f939e6400?s=128&d=identicon&r=PG&f=1", "display_name": "vissu", "link": "https://stackoverflow.com/users/4673094/vissu"}, "edited": false, "score": 0, "creation_date": 1469183401, "post_id": 38524045, "comment_id": 64442815, "body": "yes,my string start with &lt; and ends with ; and after semicolon we get few charcters also"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1469184054, "post_id": 38524045, "comment_id": 64443227, "body": "If you can&#39;t use Java, why did you tag with <i>java</i>? Can you use Perl, or did you tag with <i>perl</i> because it&#39;s a pcre regex? In that case, please <a href=\"https://stackoverflow.com/posts/38524045/edit\">edit</a> your question, remove <i>java</i> and <i>perl</i> and add <i>pcre</i>. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1469183892, "last_edit_date": 1469183892, "creation_date": 1469183585, "answer_id": 38524235, "question_id": 38524045, "link": "https://stackoverflow.com/questions/38524045/regular-expression-to-split-strings-between-colon/38524235#38524235", "title": "Regular expression to split strings between colon(:)", "body": "<p>Assuming there are always five colons in the string, I suggest you do something like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $s = '&lt;str1:str2:str3:str4:str5:;';\n\nmy $re = '([^&lt;&gt;:;]*):' x 5;\n$re = qr/&lt;$re;/;\n\nif ( $s =~ $re ) {\n    no strict 'refs';\n    say ${$_} for 1 .. 5;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>str1\nstr2\nstr3\nstr4\nstr5\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4673094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b5ac687e0c57944acb529f939e6400?s=128&d=identicon&r=PG&f=1", "display_name": "vissu", "link": "https://stackoverflow.com/users/4673094/vissu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1469184893, "creation_date": 1469183004, "last_edit_date": 1469184893, "question_id": 38524045, "link": "https://stackoverflow.com/questions/38524045/regular-expression-to-split-strings-between-colon", "title": "Regular expression to split strings between colon(:)", "body": "<p>I have a string like <code>&lt;str1:str2:str3:str4:str5:;</code></p>\n\n<p>I want to group these strings as $1,$2,$3,$4,$5.And in this inputs,Strings may come or may not come.If any string is not come then we have to take empty for a group.And in the end we may receive more than one column.</p>\n\n<p>I have tried below code.Any inputs please</p>\n\n<pre><code>&lt;filter regexp='s/^\\s*&amp;lt;([\\s\\-A-Z_0-9,]*):?([\\s\\-A-Z_0-9,]*):?([\\s\\-A-Z_0-9,]*):?([\\s\\-A-Z_0-9,]*):?([\\s\\-A-Z_0-9,]*):?([\\s\\-A-Z_0-9,]*):*;.*$/keep_it_method_name $1 aid $2 ctag $3 General_block $4 Data_block $5/'/&gt;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1469181116, "post_id": 38523294, "comment_id": 64441598, "body": "Ah - you beauty! It looks like I just had the filehandle part wrong. Once I have the head, you can just use: <code>$head-&gt;get(&quot;Subject&quot;)</code> ... and that works like a charm. Thanks!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1469181190, "last_edit_date": 1592644375, "creation_date": 1469180847, "answer_id": 38523294, "question_id": 38522902, "link": "https://stackoverflow.com/questions/38522902/mailheader-cant-get-it-to-show-me-the-headers/38523294#38523294", "title": "Mail::Header - can&#39;t get it to show me the headers", "body": "\n<p>The problem is that you have opened your .eml file using the <code>READIT</code> handle, but you are then reading from file handle <code>$fh</code> to populate the <code>Mail::Header</code> object. You will also have received the warning messages</p>\n<blockquote>\n<p>Name &quot;main::READIT&quot; used only once: possible typo</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Name &quot;main::fh&quot; used only once: possible typo</p>\n</blockquote>\n<p>which you really should have reported</p>\n<p>This program works fine</p>\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Mail::Header;\n\nopen my $fh, '&lt;', 'Support Account Password Assistance.eml' or die $!;\nmy $head = Mail::Header-&gt;new($fh);\nprint $head-&gt;as_string;\n</code></pre>\n<p>When used with this file for input</p>\n<h3>simple.eml</h3>\n<pre class=\"lang-none prettyprint-override\"><code>From: example@example.com\nTo: example2@example.com\nSubject: As basic as it gets\n\nThis is the plain text body of the message.  Note the blank line\nbetween the header information and the body of the message.\n</code></pre>\n<p>It generates this output</p>\n<h3>output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>From: example@example.com\nTo: example2@example.com\nSubject: As basic as it gets\n</code></pre>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 38523294, "answer_count": 1, "score": 0, "last_activity_date": 1469181190, "creation_date": 1469179681, "question_id": 38522902, "link": "https://stackoverflow.com/questions/38522902/mailheader-cant-get-it-to-show-me-the-headers", "title": "Mail::Header - can&#39;t get it to show me the headers", "body": "<p>I'm trying to work out how to use this <strong>Perl module</strong>:</p>\n\n<p><a href=\"http://search.cpan.org/~markov/MailTools-2.18/lib/Mail/Header.pod\" rel=\"nofollow\">http://search.cpan.org/~markov/MailTools-2.18/lib/Mail/Header.pod</a></p>\n\n<p>I have tried a couple of ways:</p>\n\n<pre><code>my $fh = open (READIT, \"./test.eml\");\n\nuse Mail::Header;\nmy $head = Mail::Header-&gt;new();\n   $head-&gt;read($fh);\n\nprint Dumper($head);\n</code></pre>\n\n<p>All that does though, is print out some empty values:</p>\n\n<pre><code>$VAR1 = bless( {\n                 'mail_hdr_foldlen' =&gt; 79,\n                 'mail_hdr_modify' =&gt; 0,\n                 'mail_hdr_list' =&gt; [],\n                 'mail_hdr_hash' =&gt; {},\n                 'mail_hdr_mail_from' =&gt; 'KEEP',\n                 'mail_hdr_lengths' =&gt; {}\n               }, 'Mail::Header' );\n</code></pre>\n\n<p>I've also tried it using the email as a string, in <strong>$message</strong>:</p>\n\n<pre><code>my $head = Mail::Header-&gt;new( $message );\n</code></pre>\n\n<p>Same problem though. </p>\n\n<p>I'm a bit confused as to what I'm doing wrong. Can anyone suggest something to try?</p>\n"}, {"tags": ["perl", "debugging", "batch-file", "komodo"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469183406, "post_id": 38521451, "comment_id": 64442820, "body": "Yes, you should be able to do that. Is the batch file calling Perl, i.e. is there a <code>perl -Mcore::module1 -e &#39; ...&#39;</code> or another call to the perl interpreter? If yes, you can add Perl environment variables for debugging that tell Perl to use a remote debugger on a certain port. Then you need to tell Komodo to listen on hat port, and it will grab the connection and handle debugging as a remote debugging client for the Perl process. There is stuff about that in the Komodo documentation, but I don&#39;t know if it already works in Komodo 3."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469183595, "post_id": 38521451, "comment_id": 64442922, "body": "Please include the part of the batch file that calls Perl, and what platform you are running on. The version of Perl is not really relevant here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469183721, "post_id": 38521451, "comment_id": 64443021, "body": "This is the oldest one I can find, for Komodo IDE 4.4: <a href=\"http://docs.activestate.com/komodo/4.4/debugperl.html\" rel=\"nofollow noreferrer\">docs.activestate.com/komodo/4.4/debugperl.html</a>"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469184350, "post_id": 38521451, "comment_id": 64443408, "body": "ActiveState perl, on windows7. The calls are made for multiple Perl modules, and they are called as core::MyModule-&gt;new(). Forgot to mention that it&#39;s an OOP project."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469184424, "post_id": 38521451, "comment_id": 64443453, "body": "That doesn&#39;t matter. Is the .bat file in Perl? How do you call that? Perl modules are not executable."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469184553, "post_id": 38521451, "comment_id": 64443518, "body": "Mostly Perl, there are also some echo&#39;s, set&#39;s and go to&#39;s"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469184662, "post_id": 38521451, "comment_id": 64443590, "body": "Please show it. You can <a href=\"https://stackoverflow.com/posts/38521451/edit\">edit</a> the question to add it. If you&#39;re not comfortable showing it, replace names."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469184951, "post_id": 38521451, "comment_id": 64443759, "body": "It&#39;s a 600 line code, what should i show?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1469184964, "post_id": 38521451, "comment_id": 64443771, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/118012/discussion-between-simbabque-and-john-doe\">continue this discussion in chat</a>."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469185334, "post_id": 38521451, "comment_id": 64443962, "body": "Runnin&#39; on a proxied connection, not able to acces the link."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469185516, "post_id": 38521451, "comment_id": 64444050, "body": "OK. Show the first maybe ten lines. And if those don&#39;t contain Perl (or a call to <code>perl</code>) then find one and get maybe five lines up and down please."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1469188322, "post_id": 38521451, "comment_id": 64445760, "body": "If you run it on the same machine as your Komodo, you can follow the docs I linked earlier. Do what it says in <i>Debugging Perl Remotely</i> and use the Windows examples. Put the env variables (the <code>SET</code> stuff) at the very top. Have Komodo runnning when you call the batch file."}, {"owner": {"reputation": 319, "user_id": 1596011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77061ba6a8415bd278e827949b8a1495?s=128&d=identicon&r=PG", "display_name": "th3coop", "link": "https://stackoverflow.com/users/1596011/th3coop"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1469206081, "post_id": 38521451, "comment_id": 64457056, "body": "@simbabque pretty much got all the key points.  Only issue that might arise is that Komodo 3.0 is just too old and won&#39;t support Perl remote debugging.  You might want to try it on a newer version first where you KNOW it works then copy those steps with Komodo 3."}], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469187667, "creation_date": 1469175261, "last_edit_date": 1469187667, "question_id": 38521451, "link": "https://stackoverflow.com/questions/38521451/add-a-perl-project-in-komodo", "title": "Add a perl project in Komodo", "body": "<p>I have an old perl(5.12.3) project, which I would like to debug in the komodo 3.0.1 environment (temporarely i have only this old version).<br> The project is a multiple module project, with a three like structure:<br></p>\n\n<pre><code>Root\n    core\n        module1.pm\n        ...\n    external\n        ext_module.pm\n        ...\n    caller.bat\n</code></pre>\n\n<p><br>The project start point is the .bat file. Would it be possible to add and debug it in komodo? Any suggestion are appreciated.</p>\n\n<pre><code>set PERL_EXIST=0\nperl -version &gt;nul 2&gt;&amp;1 &amp;&amp; ( set PERL_EXIST=1 )\nif %PERL_EXIST% EQU 0 (\nrem if perl doesn't exist give an error message and finish\necho.\necho ERROR:     Perl %PERL_DIR% is missing\nset PERL_EXIST=\nset MY_EXIT_CODE=1\ngoto EXIT\n)\n.\n.\n.\n#perl starts here\nuse core::FirstModule;\nuse Cwd qw(getcwd chdir);\nuse Switch;\n\nuse core::FirstModule;\nuse Env qw(PATH VAR_1 PROJ_VERSION CORE_LOC );\n\n# adapt the environment to point to main folder\n$ENV{'CORE_LOC'}=~s/[\\\\\\/]?[^\\\\\\/]*$//;\nif ($ENV{'CORE_LOC'}=~/[\\\\\\/].*$/i) {\n$ENV{'CORE_LOC'} =~s/[\\\\\\/]?[^\\\\\\/]*$//;\n.\n.\n.\n.\npush @INC,$sourceDir;\n$hFirstModule = core::FirstModule-&gt;new(\"object properties\");\n$hFirstModule-&gt;checkDir($dir_version);\n</code></pre>\n"}, {"tags": ["perl", "http", "cgi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 6, "creation_date": 1469167401, "post_id": 38518810, "comment_id": 64434140, "body": "This has nothing to do with Perl and everything to do with the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html\" rel=\"nofollow noreferrer\">HTTP spec</a>"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 1, "creation_date": 1469168780, "post_id": 38518810, "comment_id": 64434729, "body": "As an aside, all frameworks have a sensible way of creating headers without having to type all this, even CGI <code>$q-&gt;header;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1469167868, "creation_date": 1469167868, "answer_id": 38519327, "question_id": 38518810, "link": "https://stackoverflow.com/questions/38518810/why-do-use-n-in-cgi-script-while-printing-header/38519327#38519327", "title": "Why do use `\\n` in CGI script while printing header?", "body": "<p>The first line of CGI script must be <code>Content-Type: text/html</code> and the print statement must have 2 <code>\\n</code> characters:</p>\n\n<ul>\n<li>One to terminate the current line.</li>\n<li><p>The second to produce the require blank line between CGI header and data.</p>\n\n<p><code>print \"Content-Type: text/html\\n\\n\";</code></p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 4, "creation_date": 1469192445, "post_id": 38519354, "comment_id": 64448373, "body": "Actually, it&#39;s a CGI header. The server takes the CGI response and translates it into an HTTP response. This includes translating bare newlines to the carriage return - newline pairs needed for HTTP."}], "tags": [], "owner": {"reputation": 278, "user_id": 1489324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUIi1.jpg?s=128&g=1", "display_name": "sattellite", "link": "https://stackoverflow.com/users/1489324/sattellite"}, "is_accepted": true, "score": 3, "last_activity_date": 1469167980, "creation_date": 1469167980, "answer_id": 38519354, "question_id": 38518810, "link": "https://stackoverflow.com/questions/38518810/why-do-use-n-in-cgi-script-while-printing-header/38519354#38519354", "title": "Why do use `\\n` in CGI script while printing header?", "body": "<p><code>Content-type: text/html</code> is the HTTP header, not HTML. For detecting the end of HTTP header must be one empty line. First <code>\\n</code> for end of current line, second <code>\\n</code> for new empty line.</p>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1469192660, "post_id": 38522982, "comment_id": 64448509, "body": "HTTP separates header lines with CRLF. The CGI header that most CGI programs output are for the server to mangle and expand into the right form."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 1, "last_activity_date": 1469179918, "creation_date": 1469179918, "answer_id": 38522982, "question_id": 38518810, "link": "https://stackoverflow.com/questions/38518810/why-do-use-n-in-cgi-script-while-printing-header/38522982#38522982", "title": "Why do use `\\n` in CGI script while printing header?", "body": "<p>Any HTTP response (regardless of whether the content is HTML or not) must begin with a status code (which is normally added by the web server, not your CGI program), a Content-Type header, and optionally one or more additional headers.  Each header must be on a separate line (i.e., terminated with a <code>\\n</code>).  After all headers have been sent, a blank line is used to indicate that the headers are complete and the body of the response follows.</p>\n\n<p>After the headers are complete, <em>then</em> the HTML (or other) body begins and <code>\\n</code> no longer has any real meaning, since HTML ignores it when rendering the content.</p>\n"}, {"tags": [], "owner": {"reputation": 1343, "user_id": 1423189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46bad9390779f986b0a9a32b8fdfc02a?s=128&d=identicon&r=PG", "display_name": "schulwitz", "link": "https://stackoverflow.com/users/1423189/schulwitz"}, "is_accepted": false, "score": 0, "last_activity_date": 1618789198, "last_edit_date": 1618789198, "creation_date": 1618788889, "answer_id": 67154388, "question_id": 38518810, "link": "https://stackoverflow.com/questions/38518810/why-do-use-n-in-cgi-script-while-printing-header/67154388#67154388", "title": "Why do use `\\n` in CGI script while printing header?", "body": "<p><em>Note: a &quot;CRLF&quot; is equivalent to &quot;\\r\\n&quot; (i.e. a <a href=\"https://en.wikipedia.org/wiki/Carriage_return\" rel=\"nofollow noreferrer\">carriage return</a> followed by a <a href=\"https://en.wikipedia.org/wiki/Newline#Representation\" rel=\"nofollow noreferrer\">line feed newline</a>.</em></p>\n<p>For every HTTP message, the <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_header_fields\" rel=\"nofollow noreferrer\">Header fields</a> must be followed by a CRLF, which is in turn, followed by another CRLF, <a href=\"https://tools.ietf.org/html/rfc2616#section-4.1\" rel=\"nofollow noreferrer\">as specified in RFC 2616</a>.</p>\n<p>So, you may ask, if two CRLFs are needed following the HTTP headers, why don't we just write CGI scripts with code like:</p>\n<pre><code>print &quot;Content-type: text/html\\r\\n\\r\\n&quot;;\n</code></pre>\n<p>We very well could, such code will run just fine!  However, since Unix-based systems like Linux and macOS use a LF for a newline rather than CRLF, CGI servers are tailored to play nice with the Unix environment, and do so by converting each <code>\\n</code> in a header into a <code>\\r\\n</code>, as specified in <a href=\"https://tools.ietf.org/html/rfc3875#section-6.3.4\" rel=\"nofollow noreferrer\">RFC 3875</a>.</p>\n<p>Taking advantage of the LF -&gt; CRLF translation that occurs on the server when a CGI script runs and the CGI headers are translated to HTTP headers, we can run:</p>\n<pre><code>print &quot;Content-type: text/html\\n\\n&quot;;\n</code></pre>\n<p>and as long as our CGI server is behaving according to the RFC specifications, those two LF characters will be rendered as two CRLFs when the HTTP message is sent.</p>\n<p>With this principle of LF -&gt; CRLF substitution in mind, we can play around with other possibilities, for instance letting the CGI server substitute CRLF for just the first LF:</p>\n<pre><code>print &quot;Content-type: text/html\\n\\r\\n&quot;;\n</code></pre>\n<p>or just the second LF:</p>\n<pre><code>print &quot;Content-type: text/html\\r\\n\\n&quot;;\n</code></pre>\n<p>and both will work!</p>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 38519354, "answer_count": 4, "score": 2, "last_activity_date": 1618789198, "creation_date": 1469165249, "last_edit_date": 1469194996, "question_id": 38518810, "link": "https://stackoverflow.com/questions/38518810/why-do-use-n-in-cgi-script-while-printing-header", "title": "Why do use `\\n` in CGI script while printing header?", "body": "<p>In CGI script, on the top the program we use the:</p>\n\n<pre><code>print \"Content-type: text/html\\n\\n\";\n</code></pre>\n\n<p>Without using <code>\\n</code> it will not execute. But, inside the HTML body, we do not use <code>\\n</code> because <code>\\n</code> can't make any sense, for new line we use <code>&lt;br&gt;</code> tag.</p>\n\n<p>Why <code>\\n</code> is necessary in the header line?</p>\n"}, {"tags": ["perl", "curl", "libcurl"], "answers": [{"tags": [], "owner": {"reputation": 4794, "user_id": 2038383, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aN49R.png?s=128&g=1", "display_name": "semisecure", "link": "https://stackoverflow.com/users/2038383/semisecure"}, "is_accepted": true, "score": 2, "last_activity_date": 1469166601, "last_edit_date": 1469166601, "creation_date": 1469159378, "answer_id": 38517851, "question_id": 38517502, "link": "https://stackoverflow.com/questions/38517502/implementing-custom-curl-authentication-in-perl-script/38517851#38517851", "title": "Implementing custom Curl authentication in Perl script", "body": "<p>If you just  want to set the header \"Authorization\" the option is <code>CURLOPT_HTTPHEADER</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse WWW::Curl::Easy;\nmy $curl = WWW::Curl::Easy-&gt;new;\n$curl-&gt;setopt(CURLOPT_URL, 'http://127.0.0.1/dumprequest.php');\nmy @headers  = (\"Authorization: keygoeshere\", \"X-Foo: Bah\");\n$curl-&gt;setopt(CURLOPT_HTTPHEADER, \\@headers);\n$curl-&gt;setopt(CURLOPT_HEADER, 1);\nmy $retcode = $curl-&gt;perform;\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>GET dumprequest.php HTTP/1.1\nHost: 127.0.0.1\nAccept: */*\nAuthorization: keygoeshere\nX-Foo: Bah\n</code></pre>\n\n<p>But if you actually want to do HTTP authentication then you would use <code>CURLOPT_USERPWD</code> and <code>CURLOPT_HTTPAUTH</code>. See <a href=\"https://curl.haxx.se/libcurl/c/curl_easy_setopt.html\" rel=\"nofollow\">https://curl.haxx.se/libcurl/c/curl_easy_setopt.html</a> for more info on options.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3906716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1808, "favorite_count": 0, "accepted_answer_id": 38517851, "answer_count": 1, "score": 1, "last_activity_date": 1469166601, "creation_date": 1469156792, "last_edit_date": 1469163316, "question_id": 38517502, "link": "https://stackoverflow.com/questions/38517502/implementing-custom-curl-authentication-in-perl-script", "title": "Implementing custom Curl authentication in Perl script", "body": "<p>I am building bot application trying to use perl script to implement the curl request, the issue I have is with Authorization.</p>\n\n<p>The simple curl command is something like.</p>\n\n<pre><code>curl \\\n  -H 'Authorization: Bearer VM2CKBMXI3AVX2GMYPLBMYFRW3RCHYXS' \\\n  'https://api.wit.ai/message?v=20160722&amp;q='\n</code></pre>\n\n<p>I preferred not to use system() calls from the Perl script as there will be  plenty of back and forth between the user and the bot.</p>\n\n<p>I found this library \n<a href=\"http://search.cpan.org/~szbalint/WWW-Curl-4.17/lib/WWW/Curl.pm\" rel=\"nofollow\">http://search.cpan.org/~szbalint/WWW-Curl-4.17/lib/WWW/Curl.pm</a></p>\n\n<p>I was searching for setopt function in order to find out which params does it accept as my issue is where to put the Authorization param inside the command.\nI found this link \n<a href=\"http://web.mit.edu/darwin/src/modules/curl/curl/perl/Curl_easy/easy.pm\" rel=\"nofollow\">http://web.mit.edu/darwin/src/modules/curl/curl/perl/Curl_easy/easy.pm</a></p>\n\n<p>My Script code for now it is like the following:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse WWW::Curl::Easy;\n\nmy $curl = WWW::Curl::Easy-&gt;new;\nmy $Authorization=\"Authorization: Bearer VM2CKBMXI3AVX2GMYPLBMYFRW3RCHYXS\";\n\n$curl-&gt;setopt(CURLOPT_HEADER,1);\n$curl-&gt;setopt(CURLOPT_URL, 'https://api.wit.ai/message?v=20160721&amp;q=hello');\n\n# A filehandle, reference to a scalar or reference to a typeglob can be used here.\nmy $response_body;\n$curl-&gt;setopt(CURLOPT_WRITEDATA,\\$response_body);\n\n# Starts the actual request\nmy $retcode = $curl-&gt;perform;\n\n# Looking at the results...\nif ($retcode == 0) {\n     print(\"Transfer went ok\\n\");\n     my $response_code = $curl-&gt;getinfo(CURLINFO_HTTP_CODE);\n     # judge result and next action based on $response_code\n     print(\"Received response: $response_body\\n\");\n} else {\n     # Error code, type of error, error message\n     print(\"An error happened: $retcode \".$curl-&gt;strerror($retcode).\" \".$curl-&gt;errbuf.\"\\n\");\n}\n</code></pre>\n\n<p>I just need to know which CURLOPT should I need to use in order to implement authorization. \nIf you have any idea that will be great.</p>\n\n<p>Thanks\nEran Gross</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469150686, "post_id": 38516547, "comment_id": 64430038, "body": "Where does <code>method</code> come from?"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469150746, "post_id": 38516547, "comment_id": 64430057, "body": "What? Perl uses Methods to make a function..."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469150784, "post_id": 38516547, "comment_id": 64430068, "body": "Which version of perl?"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469150896, "post_id": 38516547, "comment_id": 64430096, "body": "perl 5, version 18, subversion 1 (v5.18.1)"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469150943, "post_id": 38516547, "comment_id": 64430107, "body": "Which library does <code>method</code> come from?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151016, "post_id": 38516547, "comment_id": 64430126, "body": "Is your <code>add_cards</code> method expecting an array, or an array reference?"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1469151044, "post_id": 38516547, "comment_id": 64430135, "body": "Yes it is expecting an array"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151202, "post_id": 38516547, "comment_id": 64430168, "body": "Show the code that actually throws the exception, i.e. what is it checking?"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151220, "post_id": 38516547, "comment_id": 64430176, "body": "Oh it uses this <code>use Method::Signatures;</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151370, "post_id": 38516547, "comment_id": 64430205, "body": "Show how you declare <code>addCards</code>"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151462, "post_id": 38516547, "comment_id": 64430228, "body": "It&#39;s in my post man"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151504, "post_id": 38516547, "comment_id": 64430237, "body": "No, you only show how <code>buildStarterDeck</code> is declared."}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151533, "post_id": 38516547, "comment_id": 64430243, "body": "well the addCards method is empty I haven&#39;t wrote anything in there"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1469151567, "post_id": 38516547, "comment_id": 64430252, "body": "So maybe you are hitting a default setting of <code>Method::Signatures</code> ?"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151613, "post_id": 38516547, "comment_id": 64430268, "body": "I&#39;m not really sure xd"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151676, "post_id": 38516547, "comment_id": 64430284, "body": "From the perldoc: <code>One of the best ways to figure out what Method::Signatures is doing is to run your code through B::Deparse (run the code with -MO=Deparse).  Setting the METHOD_SIGNATURES_DEBUG environment variable will cause Method::Signatures to display debugging information when it is compiling signatures.</code>"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151720, "post_id": 38516547, "comment_id": 64430295, "body": "How would I do that?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151756, "post_id": 38516547, "comment_id": 64430301, "body": "<code>METHOD_SIGNATURES_DEBUG=1 perl my_script.pl</code>"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469151916, "post_id": 38516547, "comment_id": 64430344, "body": "It didn&#39;t work at all"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1469152086, "post_id": 38516547, "comment_id": 64430389, "body": "try <code>perl -MO=Deparse my_script.pl</code>"}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1469155097, "post_id": 38516547, "comment_id": 64430965, "body": "Please edit your answer and put all the information in there instead of creating lots of comments where readers have to piece together what you&#39;re asking."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1469159917, "post_id": 38516547, "comment_id": 64431931, "body": "@RyanFuhrman  This may or may not be related to the problem you are asking about, but this is wrong: <code>my (@stackone, @stacktwo) = get_cards;</code> -- whatever <code>get_cards</code> returns will all go into <code>@stackone</code> and <code>@stacktwo</code> will be empty. It&#39;s just how a function return works."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469179679, "post_id": 38516547, "comment_id": 64440723, "body": "@RyanFuhrman: While your <code>addCards</code> method may be empty, it is the prototype that causes the error message you are reporting. Please show your &quot;empty&quot; <code>addCards</code> method."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 0, "creation_date": 1469214856, "post_id": 38523924, "comment_id": 64461318, "body": "Well the addCards should add the list of cards into the database column <code>cards</code> in a order of using | to separate them"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1469182677, "last_edit_date": 1495542756, "creation_date": 1469182677, "answer_id": 38523924, "question_id": 38516547, "link": "https://stackoverflow.com/questions/38516547/was-given-too-many-arguments-it-expects-1-perl/38523924#38523924", "title": "was given too many arguments; it expects 1 (Perl)", "body": "<p>The problem is in your definition of <code>addCards</code> which you persist in hiding from us despite multiple requests to see it. It must look something like this</p>\n\n<pre><code>method addCards($param) {\n    ...;\n}\n</code></pre>\n\n<p>But you are passing it a ten-element list in <code>$self-&gt;addCards($self-&gt;buildStarterDeck)</code> so the <code>given too many arguments</code> error is raised. You don't explain what you want it to do, but something like this is probably more appropriate</p>\n\n<pre><code>method addCards(@cards) {\n    ...;\n}\n</code></pre>\n\n<p>You really shouldn't declare subroutines inside other subroutines. It doesn't limit the scope of the inner subroutine, but you can create a closure over variables declared in the outer subroutine that doesn't work properly</p>\n\n<p>Also bearing in mind <a href=\"https://stackoverflow.com/questions/38516547/was-given-too-many-arguments-it-expects-1-perl#comment64431931_38516547\">zdim's warning</a> from the comments, your code should look more like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Method::Signatures;\n\nmethod buildStarterDeck {\n\n    my @stack = get_cards;\n}\n\nsub get_cards {\n\n    my @start_cards = (1, 6, 9, 14, 17, 20, 22, 23, 26);\n    my @power_cards = (73, 81, 89);\n\n    $power_card = $power_cards[rand @power_cards];\n\n    return (@start_cards, $power_card);\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 1, "accepted_answer_id": 38523924, "answer_count": 1, "score": 0, "last_activity_date": 1469182677, "creation_date": 1469148630, "question_id": 38516547, "link": "https://stackoverflow.com/questions/38516547/was-given-too-many-arguments-it-expects-1-perl", "title": "was given too many arguments; it expects 1 (Perl)", "body": "<p>I've been working on a card game that gets your deck and picks 1 out of three powers cards but whenever I try to run it, it gives me an error</p>\n\n<p>Error:</p>\n\n<pre><code>Error: In call to CPUser::addCards(), was given too many arguments; it expects 1 at Server/CPUser.pm line 427.\n</code></pre>\n\n<p>Line 427:</p>\n\n<pre><code> if($intItem == 821){ #Adds Card Jitsu Cards for Classic \n             $self-&gt;addCards($self-&gt;buildStarterDeck); \n       }\n</code></pre>\n\n<p>and this the buildStarterDeck Method</p>\n\n<pre><code>method buildStarterDeck {\n\n    sub get_cards;\n    my (@stackone, @stacktwo) = get_cards;\n\n    sub get_cards \n    {\n        my @start_cards = (1, 6, 9, 14, 17, 20, 22, 23, 26);\n        my @power_cards = (73, 81, 89);\n        @power_cards = $power_cards[rand @power_cards];\n\n    return (@start_cards, @power_cards);\n    }\n}\n</code></pre>\n\n<p>The addCard method is empty since I've been trying to figure out this error and I couldn't get any luck. </p>\n"}, {"tags": ["arrays", "perl", "variables", "hash", "exists"], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 3763926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/48mKY.png?s=128&g=1", "display_name": "nfanta", "link": "https://stackoverflow.com/users/3763926/nfanta"}, "is_accepted": false, "score": 0, "last_activity_date": 1469149466, "creation_date": 1469149466, "answer_id": 38516659, "question_id": 38516397, "link": "https://stackoverflow.com/questions/38516397/how-to-count-the-number-of-keys-that-exist-in-a-hash/38516659#38516659", "title": "How to count the number of keys that exist in a hash?", "body": "<p>The easiest way would be to keep track of how many keys you are printing in a variable and once your loop finish, just rename the file with the number you calculated. Perl comes with a built-in function to do this. The code would be something like this:</p>\n\n<pre><code>use strict; \nuse warnings; \n\nopen(INFILE, \"&lt;\", \"/path/to/infile.txt\") or die $!; \n\nmy %hash = ( \n        TAGC =&gt; 'THIS_EXISTS', \n        GCTA =&gt; 'THIS_DOESNT_EXIST',\n);\nmy $ammt;\n\nwhile (my $line = &lt;INFILE&gt;){ \n        chomp $line; \n        my $hash; \n        my @elements = split \"\\t\", $line; \n        open my $out, '&gt;', \"/path/to/outfile.txt\" or die $!; \n        foreach my $sequence(@elements){ \n              if (exists $hash{$sequence}){ \n                     print $out \"&gt;$sequence\\n$hash{$sequence}\\n\";\n                     $ammt++;\n               } \n               else \n               }\n               print \"Doesn't exist \", $count, \"\\n\"; \n               }\n        } \n}\n\nrename \"/path/to/outfile.txt\", \"/path/to/outfile${ammt}.txt\" or die $!;\n</code></pre>\n\n<p>I removed the <code>$count</code> variable, since it's not declared in your code (strict would complain about that). <a href=\"http://perldoc.perl.org/functions/rename.html\" rel=\"nofollow\">Here's</a> the official doc for <code>rename</code>. Since it returns True or False, you can check that it was successful or not.</p>\n\n<p>By the way, be aware that:</p>\n\n<pre><code>push(@Array, $hash{$sequence}, \"\\n\");\n</code></pre>\n\n<p>is storing two items (<code>$hash{$sequence}</code> and <code>\\n</code>), so that count would be twice as it should be.</p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1469194405, "post_id": 38517566, "comment_id": 64449669, "body": "This is great. Thanks."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1469157251, "creation_date": 1469157251, "answer_id": 38517566, "question_id": 38516397, "link": "https://stackoverflow.com/questions/38516397/how-to-count-the-number-of-keys-that-exist-in-a-hash/38517566#38517566", "title": "How to count the number of keys that exist in a hash?", "body": "<pre><code>my $sequences = grep exists $hash{$_}, @elements;\nopen my $out, '&gt;', \"/path/to/outfile_containing_$sequences.txt\" or die $!; \n</code></pre>\n\n<p>In list context, grep filters a list by a criterion; in scalar context, it returns a count of elements that met the criterion.</p>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 38517566, "answer_count": 2, "score": 0, "last_activity_date": 1469157251, "creation_date": 1469147402, "last_edit_date": 1469147791, "question_id": 38516397, "link": "https://stackoverflow.com/questions/38516397/how-to-count-the-number-of-keys-that-exist-in-a-hash", "title": "How to count the number of keys that exist in a hash?", "body": "<p>I am working with an input file that contains tab delimitated sequences. Groups of sequences are separated by line breaks. The file looks like: </p>\n\n<pre><code>    TAGC     TAGC     TAGC     HELP\n    TAGC     TAGC     TAGC \n    TAGC     HELP  \n    TAGC \n</code></pre>\n\n<p>Here is the code I have: </p>\n\n<pre><code>    use strict; \n    use warnings; \n\n    open(INFILE, \"&lt;\", \"/path/to/infile.txt\") or die $!; \n\n    my %hash = ( \n            TAGC =&gt; 'THIS_EXISTS', \n            GCTA =&gt; 'THIS_DOESNT_EXIST',\n    ); \n\n    while (my $line = &lt;INFILE&gt;){ \n            chomp $line; \n            my $hash; \n            my @elements = split \"\\t\", $line; \n            open my $out, '&gt;', \"/path/to/outfile.txt\" or die $!; \n            foreach my $sequence(@elements){ \n                  if (exists $hash{$sequence}){ \n                         print $out \"&gt;$sequence\\n$hash{$sequence}\\n\"; \n                   } \n                   else \n                   } \n                         $count++; \n                         print \"Doesn't exist \", $count, \"\\n\"; \n                   }\n            } \n     } \n</code></pre>\n\n<p>How can I tell how many sequences exist before I print? I need to put that information into the name of the output file.</p>\n\n<p>Ideally, I would have a variable that I could include in the name of the file. Unfortunately, I can't just take the scalar of @elements because there are some sequences that won't get printed out. When I try to push the keys that exist into an array and then print the scalar of that array, I still don't get the results I need. Here is what I tried (all variables that need to be global are): </p>\n\n<pre><code>  open my $out, '&gt;', \"/path/to/file.$number.txt\" or die $!;    \n  foreach my $sequence(@elements){ \n            if (exists $hash{$sequence}){ \n                  push(@Array, $hash{$sequence}, \"\\n\"); \n                  my $number = @Array; \n                  print $out \"&gt;$sequence\\n$hash{$sequence}\\n\"; \n             #.... \n</code></pre>\n\n<p>Thanks for the help. Really appreciate it. </p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 3, "last_activity_date": 1469145050, "creation_date": 1469145050, "answer_id": 38516102, "question_id": 38516012, "link": "https://stackoverflow.com/questions/38516012/configure-hypnotoad-to-use-a-different-user-group/38516102#38516102", "title": "Configure Hypnotoad to use a different user/group", "body": "<p>The cpan module, <a href=\"https://metacpan.org/pod/Mojolicious::Plugin::SetUserGroup\" rel=\"nofollow\">Mojolicious::Plugin::SetUserGroup</a>, appears to solve this:</p>\n\n<pre><code># Mojolicious::Lite\nplugin SetUserGroup =&gt; { user =&gt; $user, group =&gt; $group };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6671040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ecfc64a3cfd49f50859627118c74f92?s=128&d=identicon&r=PG", "display_name": "Konstantin Cherednichenko", "link": "https://stackoverflow.com/users/6671040/konstantin-cherednichenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1503568211, "creation_date": 1503568211, "answer_id": 45858395, "question_id": 38516012, "link": "https://stackoverflow.com/questions/38516012/configure-hypnotoad-to-use-a-different-user-group/45858395#45858395", "title": "Configure Hypnotoad to use a different user/group", "body": "<p>I got the simple solution! Just edit your Systemd Unit file and add two options: User and Group...</p>\n\n<p>Example:</p>\n\n<pre><code>[Unit]\nDescription=My Perl service\nRequires=network.target\nAfter=network.target\n# put here other service requirements\n\n[Service]\nUser=testuser1\nGroup=testuser1\nType=simple\nRestart=always\nSyslogIdentifier=testperlservice\nPIDFile=/home/testuser1/tmp/testperlservice.pid\nExecStart=/usr/local/bin/hypnotoad /home/testuser1/script/test -f\nExecStop=/usr/local/bin/hypnotoad -s /home/testuser1/script/test\nExecReload=/usr/local/bin/hypnotoad /home/testuser1/script/test\n</code></pre>\n"}], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1503568211, "creation_date": 1469144245, "question_id": 38516012, "link": "https://stackoverflow.com/questions/38516012/configure-hypnotoad-to-use-a-different-user-group", "title": "Configure Hypnotoad to use a different user/group", "body": "<p>I want to my <a href=\"https://metacpan.org/pod/Mojolicious::Lite\" rel=\"nofollow\">Mojolicious::Lite</a> that is started under <code>root</code> using <a href=\"https://metacpan.org/pod/Mojo::Server::Hypnotoad\" rel=\"nofollow\">hypnotoad</a> to run under a different user/group (<code>foobar</code>/<code>foobar</code> in the below example).</p>\n\n<p>I'm using the following configuration call:</p>\n\n<pre><code>app-&gt;config(\n    hypnotoad =&gt; {\n        listen =&gt; [\"http://*:$API_Port\"],\n        user   =&gt; 'foobar',\n        group  =&gt; 'foobar',\n        proxy  =&gt; 1,\n    }\n);\n</code></pre>\n\n<p>Unfortunately, it appears that all children still run under <code>root</code>, and any files created in routes also use the <code>root</code> and <code>0644</code> instead of the <code>foobar</code> and <code>0664</code>.</p>\n\n<p>The docs for hypnotoad appear to be rather sparse, as the only reference I could find to changing the user/group thus far are in a github issue:  <a href=\"https://github.com/kraih/mojo/issues/733\" rel=\"nofollow\">https://github.com/kraih/mojo/issues/733</a></p>\n"}]