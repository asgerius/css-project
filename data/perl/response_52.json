[{"tags": ["arrays", "json", "perl", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1452114214, "post_id": 34642639, "comment_id": 57031346, "body": "Please provide a minimal, runnable demonstration of the problem."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452114427, "post_id": 34642639, "comment_id": 57031441, "body": "Here&#39;s how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 315, "user_id": 4367913, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/RSoYe.jpg?s=128&g=1", "display_name": "pbordeaux", "link": "https://stackoverflow.com/users/4367913/pbordeaux"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452114988, "post_id": 34642639, "comment_id": 57031729, "body": "@ikegami working on that right now, sorry about that"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1452129338, "post_id": 34642639, "comment_id": 57037271, "body": "You will definitely need to read <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">bobby-tables.com</a> to learn about SQL injection"}, {"owner": {"reputation": 315, "user_id": 4367913, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/RSoYe.jpg?s=128&g=1", "display_name": "pbordeaux", "link": "https://stackoverflow.com/users/4367913/pbordeaux"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1452180946, "post_id": 34642639, "comment_id": 57063404, "body": "@glennjackman thanks, new to sql and this is work i inherited from someone else, so the code isn&#39;t really &#39;mine&#39; so i have been fearing some issue like that. thanks for the advice"}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 4367913, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/RSoYe.jpg?s=128&g=1", "display_name": "pbordeaux", "link": "https://stackoverflow.com/users/4367913/pbordeaux"}, "edited": false, "score": 0, "creation_date": 1452119218, "post_id": 34643701, "comment_id": 57033939, "body": "Yep, I got it working by adding LongReadLen value to the database handler. Thanks!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1452117945, "last_edit_date": 1592644375, "creation_date": 1452117945, "answer_id": 34643701, "question_id": 34642639, "link": "https://stackoverflow.com/questions/34642639/what-causes-dbdodbcst-fetchrow-array-failed-st-fetch-sqlfetch-and-how-to-av/34643701#34643701", "title": "What causes DBD::ODBC::st fetchrow_array failed: st_fetch/SQLFetch and how to avoid it?", "body": "<p>From what I can tell, it's related to &quot;long object&quot; columns.</p>\n<p>DBD::ODBC says:</p>\n<blockquote>\n<p>You can retrieve a lob in chunks like this:</p>\n<pre><code>$sth-&gt;bind_col($column, undef, {TreatAsLOB=&gt;1});\nwhile(my $retrieved = $sth-&gt;odbc_lob_read($column, \\my $data, $length)) {\n    print &quot;retrieved=$retrieved lob_data=$data\\n&quot;;\n}\n</code></pre>\n<p>NOTE: to retrieve a lob like this you must first bind the lob column specifying BindAsLOB or DBD::ODBC will 1) bind the column as normal and it will be subject to LongReadLen and b) fail odbc_lob_read.</p>\n<p>NOTE: Some database engines and ODBC drivers do not allow you to retrieve columns out of order (e.g., MS SQL Server unless you are using cursors). In those cases you must ensure the lob retrieved is the last (or only) column in your select list.</p>\n<p>NOTE: You can retrieve only part of a lob but you will probably have to call finish on the statement handle before you do anything else with that statement. When only retrieving part of a large lob you could see a small delay when you call finish as some protocols used by ODBC drivers send the lob down the socket synchronously and there is no way to stop it (this means the ODBC driver needs to read all the lob from the socket even though you never retrieved it all yourself).</p>\n<p>NOTE: If your select contains multiple lobs you cannot read part of the first lob, the second lob then return to the first lob. You must read all lobs in order and completely or read part of a lob and then do no further calls to odbc_lob_read.</p>\n</blockquote>\n<p>There's no mention if you can retrieve a lob any other way, so I don't know if you have to do it this way, but at least you know one way. But I believe you can work around the problem by increasing the connection's <code>LongReadLen</code> attribute.</p>\n<p>You should be able to set the attribute as follows:</p>\n<pre><code>my $dbh = DBI-&gt;connect($dsn, $user, $passwd, {\n   ...,\n   LongReadLen =&gt; ...,\n});\n</code></pre>\n<p>You should also be able to set the attribute as follows:</p>\n<pre><code>$dbh-&gt;{LongReadLen} = ...;\n</code></pre>\n<p>Hopefully, someone can give you a better answer.</p>\n"}], "owner": {"reputation": 315, "user_id": 4367913, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/RSoYe.jpg?s=128&g=1", "display_name": "pbordeaux", "link": "https://stackoverflow.com/users/4367913/pbordeaux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 702, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452118458, "creation_date": 1452113910, "last_edit_date": 1452118458, "question_id": 34642639, "link": "https://stackoverflow.com/questions/34642639/what-causes-dbdodbcst-fetchrow-array-failed-st-fetch-sqlfetch-and-how-to-av", "title": "What causes DBD::ODBC::st fetchrow_array failed: st_fetch/SQLFetch and how to avoid it?", "body": "<p>EDIT1:</p>\n\n<p>I don't actually get an empty array as stated below. Instead, I get an empty response body because of the following exception:</p>\n\n<pre><code>DBD::ODBC::st fetchrow_array failed: st_fetch/SQLFetch (long truncated DBI attribute LongTruncOk not set and/or LongReadLen too small) (SQL-HY000) [state was HY000 now 01004]\n</code></pre>\n\n<p>Which I can see there are posts about. I will look at those to see if I can fix this on my on. Will edit if not successful.</p>\n\n<hr>\n\n<p>First let me start by saying, I do not know Perl well at all. This could be a careless error \u2014 I hope it is. I am building a hash from an array that is returned from SQL or from JavaScript on the front-end and one of the keys in the hash, \"short-desc\" needs to have the value which in the code below will be coming from a SQL database.</p>\n\n<pre><code>BFHHOTH 15x24S/S +2 UP-HNDWHL-UNSPOKED-GALV 15\"x24\" flush escape hatch w/hinge, internal handwheel, T-handle on top steel cover and ring\n</code></pre>\n\n<p>However with the code (removed unnecessary cases from switch): </p>\n\n<pre><code>#!perl\nuse Switch;\nuse DBI;\nuse JSON;\nuse CGI qw /param/;\nuse CGI::Carp qw(fatalsToBrowser);\nuse IO::Compress::Gzip qw(gzip $GzipError);\nuse URI::Encode;\nuse URI::Escape;\n\nmy $gzip_ok;\n\nmy $accept_encoding = $ENV{HTTP_ACCEPT_ENCODING};\nif ( $accept_encoding &amp;&amp; $accept_encoding =~ /\\bgzip\\b/ ) {\n # $gzip_ok = 1;\n}\nprint \"Content-Type: application/json\\n\";\nif ($gzip_ok) {\n    print \"Content-Encoding: gzip\\n\";\n}\nprint \"\\n\";\n\nmy $action = param('ACTION');\n\nmy %jsonData;\nmy @jsonArray;\n\nmy $azDSN = DBI-&gt;connect('dbi:ODBC:Driver={SQL Server Native Client 10.0};Server=myServer;Database=myDB;Uid=me;Pwd={myPass};Encrypt=yes;Connection Timeout=30;');\n\nswitch ($action) {\n case \"GETINFO\" {\n    my $paramID = param('ID');\n    getInfo($paramID);\n     my $json_text = JSON-&gt;new-&gt;pretty-&gt;utf8-&gt;encode( \\@jsonArray );\n    if ($gzip_ok) {\n        my $zipText;\n        gzip \\$json_text, \\$zipText,\n            or die \"gzip failed: $GzipError\\n\";\n        print $zipText;\n    }\n    else {\n        print $json_text;\n    }\n  }\n}\n\nsub getInfo {\n my $myID = $_[0];\n my $statement = &lt;&lt;\"SQL\";\n   SELECT\n     trefQuoteItemsID,\n     quote_position,\n     description,\n     comments\n   FROM\n     myDB.dbo.myTable where tID = $myID;\n SQL\n my $sti = $azDSN-&gt;prepare($statement) or die $statement;\n $sti-&gt;execute() or die $DBI::errstr;\n while ( my @row = $sti-&gt;fetchrow_array ) {\n     my %tempData;\n\n     %tempData = (\n         \"tref\"                      =&gt; $row[0],\n         \"position\"                  =&gt; $row[1],\n         \"short_desc\"                =&gt; $row[2],\n         \"comments\"                  =&gt; $row[3]\n     );\n     $jsonArray[$count] = {%tempData};\n     $count++;\n }\n}\n</code></pre>\n\n<p>An empty array is returned to me on the front-end.</p>\n\n<p>Oddly, if the string is: </p>\n\n<pre><code>BFHHOTH 15x24S/S +2 UP-HNDWHL-UNSPOKED-\n</code></pre>\n\n<p>the array contains the correct object. \nBut empty again if the string is:</p>\n\n<pre><code>BFHHOTH 15x24S/S +2 UP-HNDWHL-UNSPOKED-G\n</code></pre>\n\n<p>Have also tried with strings:</p>\n\n<pre><code>qwertyuiopasdfghjklzxcvbnm1234567890qwe  #length is 39\n</code></pre>\n\n<p>which lets the hash gets built and:</p>\n\n<pre><code>qwertyuiopasdfghjklzxcvbnm1234567890qwer #length is 40\n</code></pre>\n\n<p>which will return an empty array so hash doesn't get built.</p>\n\n<p>Are there any Perl gurus who have any suggestions?</p>\n"}, {"tags": ["perl", "perlapp"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452112296, "post_id": 34642027, "comment_id": 57030332, "body": "I&#39;m not too familiar with PerlApp because I don&#39;t use ActiveState Perl, but have you tried a similar tool, e.g., <a href=\"https://metacpan.org/pod/PAR::Packer\" rel=\"nofollow noreferrer\">PAR::Packer</a>?"}, {"owner": {"reputation": 21, "user_id": 5754171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0a5b2b4419de8b4cb8e527bcb06e99?s=128&d=identicon&r=PG&f=1", "display_name": "user5754171", "link": "https://stackoverflow.com/users/5754171/user5754171"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452201621, "post_id": 34642027, "comment_id": 57076440, "body": "It needs to be a standalone program to run on servers which wouldn&#39;t have any version of perl installed, but I&#39;ll look into it, tnx!"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452203320, "post_id": 34642027, "comment_id": 57077290, "body": "Right, which is one of the things PAR::Packer does (specifically, the <code>pp</code> tool)."}, {"owner": {"reputation": 21, "user_id": 5754171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0a5b2b4419de8b4cb8e527bcb06e99?s=128&d=identicon&r=PG&f=1", "display_name": "user5754171", "link": "https://stackoverflow.com/users/5754171/user5754171"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452292564, "post_id": 34642027, "comment_id": 57121167, "body": "Actually, I believe I found it. It uses Class::Factory::Util to scan the underlying dir for language modules (eg, &#39;EN.pm&#39;), and &#39;require&#39;s each one in turn, so I just got the list and while &#39;require&#39;ing each module didn&#39;t work, &#39;use&#39;ing each one did.  A hack, I know, but it works even when compiled."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5754171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0a5b2b4419de8b4cb8e527bcb06e99?s=128&d=identicon&r=PG&f=1", "display_name": "user5754171", "link": "https://stackoverflow.com/users/5754171/user5754171"}, "edited": false, "score": 0, "creation_date": 1452201018, "post_id": 34646386, "comment_id": 57076135, "body": "1.  Absolutely.  That&#39;s the middle part of the debugging info, the &quot;Artikel 26&quot; text, making sure I do in fact have the text as given."}, {"owner": {"reputation": 21, "user_id": 5754171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0a5b2b4419de8b4cb8e527bcb06e99?s=128&d=identicon&r=PG&f=1", "display_name": "user5754171", "link": "https://stackoverflow.com/users/5754171/user5754171"}, "edited": false, "score": 0, "creation_date": 1452201043, "post_id": 34646386, "comment_id": 57076153, "body": "Whups, sorry, no idea what happened."}, {"owner": {"reputation": 21, "user_id": 5754171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0a5b2b4419de8b4cb8e527bcb06e99?s=128&d=identicon&r=PG&f=1", "display_name": "user5754171", "link": "https://stackoverflow.com/users/5754171/user5754171"}, "edited": false, "score": 0, "creation_date": 1452201436, "post_id": 34646386, "comment_id": 57076342, "body": "...&lt;br/&gt;&lt;br/&gt;2.  That&#39;s what I&#39;m afraid of, and was wondering if anyone had pointers/tips/tricks to that end.&lt;br/&gt;&lt;br/&gt;3. I <i>believe</i> it does so internally, but I was going to have to check that at some point, too.  I&#39;m running 5.20, and I&#39;ve had people running 5.16 and 5.12, I believe, to also try it, all no-joy.&lt;br/&gt;&lt;br/&gt; These all have to be run on servers without any version of perl, as standalone units.&lt;br/&gt;&lt;br/&gt;That was the convention I learned perl with. :)"}], "tags": [], "owner": {"reputation": 187, "user_id": 78248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/py5BZ.png?s=128&g=1", "display_name": "Tanami", "link": "https://stackoverflow.com/users/78248/tanami"}, "is_accepted": false, "score": 0, "last_activity_date": 1452133479, "creation_date": 1452133479, "answer_id": 34646386, "question_id": 34642027, "link": "https://stackoverflow.com/questions/34642027/perl-works-perlapped-exe-doesnt/34646386#34646386", "title": "perl works, perlapped exe doesn&#39;t", "body": "<p>I am not 100% certain of what is wrong here but I would check the following things:</p>\n\n<ul>\n<li>Check that $s does in fact contain some text (just add a print statement)</li>\n<li>PerlApp handling of utf-8 and module loading, perl packers usually require much more thorough reading of the documentation than they let on.</li>\n<li>Check what languages Lingua::Identify actually has loaded before running the identify loop, never assume anything!</li>\n</ul>\n\n<p>As a last resort, try using PAR::Packer to \"compile\" your program.</p>\n\n<p>Also, why are you calling fileasstring() with the &amp; convention?</p>\n"}], "owner": {"reputation": 21, "user_id": 5754171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0a5b2b4419de8b4cb8e527bcb06e99?s=128&d=identicon&r=PG&f=1", "display_name": "user5754171", "link": "https://stackoverflow.com/users/5754171/user5754171"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452133479, "creation_date": 1452111677, "question_id": 34642027, "link": "https://stackoverflow.com/questions/34642027/perl-works-perlapped-exe-doesnt", "title": "perl works, perlapped exe doesn&#39;t", "body": "<p>In a nutshell, I'm trying to use some modules, and they don't work, no warnings, errors, runtime errors, crashes, nothing, just no results.  Specifically, I have</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Lingua::Identify qw(:language_identification);\n</code></pre>\n\n<p>...</p>\n\n<pre><code>foreach my $f ( @txt ){\n    my $s = &amp;fileasstring( $f );\n    my @l = langof( $s );           #  problem's here!\n    &amp;error( \"!\\nl=\".scalar(@l).\"\\n\" );\n    foreach( @l ){ &amp;error( \"!$f\\t[$_]\\n\" ); }\n    &amp;error( \"\\n\" );\n    }\n</code></pre>\n\n<p>and the output from running 'perl langs.pl' is</p>\n\n<pre><code>[da.txt]  reading file\n[da.txt]    8 lines read\n[da.txt]  done\n\nda.txt  [Artikel 26. Enhver har ret til undervisning.  ...  som vedkommende har skabt.  ]\n\nl=42\nda.txt  [da]\nda.txt  [0.278009331769791]\nda.txt  [sv]\nda.txt  [0.126520770367313]\nda.txt  [nl]\nda.txt  [0.0886509276813543]\n...\n</code></pre>\n\n<p>and when running 'langs.exe' which seemingly perlapped just fine, I get</p>\n\n<pre><code>[da.txt]  reading file\n[da.txt]    8 lines read\n[da.txt]  done\n\nda.txt  [Artikel 26. Enhver har ret til undervisning.  ...  som vedkommende har skabt.  ]\n\nl=0\n</code></pre>\n\n<p>and that's it, no returned values from langof(), just an empty array.</p>\n\n<p>The debugging info above shows that the file was read correctly (one each for da, de, en, es, fr, and several other languages), so it at least goes through the motions, but apparently perlapp finds modules well enough not to throw errors or warnings when compiling <em>or</em> at runtime, yet when compiled it, that routine within Identify just returns nothing.</p>\n"}, {"tags": ["perl", "perl5.16"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1452107996, "post_id": 34640932, "comment_id": 57027602, "body": "What are you actually trying to do? The fact that you have turned off warnings to do it should be a really good warning bell that it&#39;s not a good idea."}, {"owner": {"reputation": 521, "user_id": 179621, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7397c39155326e8fa00357ffce96566e?s=128&d=identicon&r=PG", "display_name": "Morrowind789", "link": "https://stackoverflow.com/users/179621/morrowind789"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452108571, "post_id": 34640932, "comment_id": 57027944, "body": "I am just trying to figure out what Perl is doing to throw the error in one place and not in another for the same bit of code. The first code block is from older code that throws the error and has to be fixed, while the second code block is newer code that I am worried will also need the fix but I guess doesn&#39;t as it is not throwing the error I saw in the past."}], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 179621, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7397c39155326e8fa00357ffce96566e?s=128&d=identicon&r=PG", "display_name": "Morrowind789", "link": "https://stackoverflow.com/users/179621/morrowind789"}, "edited": false, "score": 0, "creation_date": 1452108683, "post_id": 34641050, "comment_id": 57028024, "body": "This is very informative. Your last point on how foreach works by aliasing the looping variable causing us to be in a lvalue situation really clears things up. Is the lvalue/rvalue distinction documented somewhere officially?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 521, "user_id": 179621, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7397c39155326e8fa00357ffce96566e?s=128&d=identicon&r=PG", "display_name": "Morrowind789", "link": "https://stackoverflow.com/users/179621/morrowind789"}, "edited": false, "score": 0, "creation_date": 1452108839, "post_id": 34641050, "comment_id": 57028133, "body": "@Morrowind789 It&#39;s mentioned briefly in <a href=\"http://perldoc.perl.org/perlref.html#Using-References\" rel=\"nofollow noreferrer\"><code>perldoc perlref</code></a> in point #3 under &quot;Using References&quot;. Also under the definition of autovivification in <a href=\"http://perldoc.perl.org/perlglossary.html#autovivification\" rel=\"nofollow noreferrer\">perlglossary</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452108939, "post_id": 34641050, "comment_id": 57028207, "body": "The documentation for autovivication (in <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a>) does: &quot;This is one of the cases we mentioned earlier in which references could spring into existence when in an lvalue context. [...] This process is called autovivification.&quot;"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1452116339, "post_id": 34641050, "comment_id": 57032461, "body": "Also, you can prevent this behavior by adding <code>no autovivification qw(store)</code> to your script."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452118342, "post_id": 34641050, "comment_id": 57033515, "body": "&quot;it only happened in the second case because it only happens for lvalues.&quot; It happens for rvalues, too, but is disallowed by <code>strict &#39;refs&#39;</code>, correct? <code>perl -E&#39;$a = $b-&gt;{c}; say ref($b)&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452119885, "post_id": 34641050, "comment_id": 57034245, "body": "@ThisSuitIsBlackNot, Nothing to do with strict, but my answer wasn&#39;t completely correct. (My example was completely wrong.) Fixed."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452122170, "post_id": 34641050, "comment_id": 57035168, "body": "Ah, I didn&#39;t realize <code>$y = @$x;</code> doesn&#39;t autovivify <code>$x</code>. I was confused about strict; the code in my last comment works find under strict."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452122283, "post_id": 34641050, "comment_id": 57035217, "body": "Somewhat tangential, but I wonder why <code>$y = @$x;</code> throws an exception under strict refs...is it because <code>undef</code> is not a hard reference and everything that&#39;s not a hard reference is treated as a symbolic reference?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452122405, "post_id": 34641050, "comment_id": 57035258, "body": "@ThisSuitIsBlackNot, Gets treated as <code>@{&quot;&quot;}</code>? Don&#39;t know."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1452122283, "last_edit_date": 1452122283, "creation_date": 1452108004, "answer_id": 34641050, "question_id": 34640932, "link": "https://stackoverflow.com/questions/34640932/inconsistent-behavior-concerning-cant-use-an-undefined-value-as-an-array-refer/34641050#34641050", "title": "Inconsistent behavior concerning &quot;Can&#39;t use an undefined value as an ARRAY reference&quot;", "body": "<p>Yes, what happened in the second case is called autovivification, and it only happened in the second case because autovivification only happens for lvalues<sup>[1]</sup>.</p>\n\n<p>So</p>\n\n<pre><code>@{ $x } = $y;\n</code></pre>\n\n<p>means</p>\n\n<pre><code>@{ $x //= [] } = $y;\n</code></pre>\n\n<p>but</p>\n\n<pre><code>$y = @{ $x };\n</code></pre>\n\n<p>doesn't mean</p>\n\n<pre><code>$y = @{ $x //= [] };\n</code></pre>\n\n<p>Keep in mind that foreach aliases its loop variable to each element of the list over which it iterates, so those elements are evaluated as lvalues.</p>\n\n<p>Autovivification is documented in <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a>, and you can control autovivification through the <a href=\"http://search.cpan.org/perldoc?autovivification\" rel=\"nofollow\">autovivification</a> pragma.</p>\n\n<hr>\n\n<ol>\n<li>If the final deferencing is followed by an indexing (e.g. <code>-&gt;[]</code> or <code>-&gt;{}</code>), the reference expression itself is evaluated as an lvalue even if the indexed whole isn't. That means that <code>$y = $x-&gt;[0];</code> and <code>$y = ${ $x }[0];</code> can autovivify <code>$x</code> even if <code>$y = @{ $x };</code> won't.</li>\n</ol>\n"}], "owner": {"reputation": 521, "user_id": 179621, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7397c39155326e8fa00357ffce96566e?s=128&d=identicon&r=PG", "display_name": "Morrowind789", "link": "https://stackoverflow.com/users/179621/morrowind789"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 34641050, "answer_count": 1, "score": 7, "last_activity_date": 1452122283, "creation_date": 1452107626, "question_id": 34640932, "link": "https://stackoverflow.com/questions/34640932/inconsistent-behavior-concerning-cant-use-an-undefined-value-as-an-array-refer", "title": "Inconsistent behavior concerning &quot;Can&#39;t use an undefined value as an ARRAY reference&quot;", "body": "<p>Why does the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\nno warnings 'uninitialized';\n\nuse Data::Dumper;\n\nmy $user;\nmy @data = @{$user-&gt;{ENTERPRISE}}; # Error on this line\nprint Dumper($user), qq{Done!\\n};\n</code></pre>\n\n<p>Throw the error \"<code>Can't use an undefined value as an ARRAY reference</code>\", while the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\nno warnings 'uninitialized';\n\nuse Data::Dumper;\n\nmy $user;\nforeach my $enterprise(@{$user-&gt;{ENTERPRISES}}) {\n    print qq{Enterprise:}, $enterprise;\n}\nprint Dumper($user), qq{Done!\\n};\n</code></pre>\n\n<p>Does not throw anything, but instead returns:</p>\n\n<pre><code>$VAR1 = {\n          'ENTERPRISES' =&gt; []\n        };\nDone!\n</code></pre>\n\n<p>Both have the offending code in them, but only one is throwing the error.</p>\n\n<p><strong>Possible Answer:</strong> <a href=\"http://perlmaven.com/autovivification\">Perl's autovivification?</a></p>\n\n<p>Am I on the right track here? Thanks for your input.</p>\n"}, {"tags": ["c#", "winforms", "perl", "unix", "ssh"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452096632, "post_id": 34637287, "comment_id": 57020314, "body": "You can add to the <code>PATH</code> environment variable in your Perl code. You can either hard code the path to the library or parse a <code>.bash_profile</code> to check what the value should be. Or there may be another way that your Perl program can discover the correct setting for <code>PATH</code>"}, {"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1452100786, "post_id": 34637287, "comment_id": 57023168, "body": "&quot; I have tried many things...&quot; You should edit your question to include the relevant parts of your perl script, including some of these things you tried. That would give people a much better chance of seeing the correct way to do what you want to do."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 5526273, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/12ad7d6907890f629222c5cb9cdf5252?s=128&d=identicon&r=PG&f=1", "display_name": "KChow", "link": "https://stackoverflow.com/users/5526273/kchow"}, "edited": false, "score": 1, "creation_date": 1452164714, "post_id": 34648044, "comment_id": 57052101, "body": "I had tried out the same solution that you gave, before, but it was not working. After I saw your comment, something clicked and I understood where I was off. I have edited my post to include what worked for me. I am accepting this answer as a result."}], "tags": [], "owner": {"reputation": 501, "user_id": 1608238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cfa98712f93b0dfc91bb0994ce4e90?s=128&d=identicon&r=PG", "display_name": "Shizeon", "link": "https://stackoverflow.com/users/1608238/shizeon"}, "is_accepted": true, "score": 0, "last_activity_date": 1452145023, "creation_date": 1452145023, "answer_id": 34648044, "question_id": 34637287, "link": "https://stackoverflow.com/questions/34637287/not-able-to-run-an-executable-inside-a-perl-script-through-ssh-net/34648044#34648044", "title": "Not able to run an executable inside a Perl script through SSH .Net", "body": "<p>If the error is related to not finding *.so files, it is more than likely the LD_LIBRARY_PATH variable might need to be set. You can do this prior to the execution of the perl script when executing. Something like:</p>\n\n<pre><code>export LD_LIBRARY_PATH=/path/to/libs;/home/user/bin/myperlscript.pl\n</code></pre>\n\n<p>or just write a shell script wrapper where you set the environment variables explicitly, then call the perl script. Now, normally this isn't required and your admin might be able to setup the correct linkages, but this should work around the root issue.</p>\n\n<p>Another option which depends on how cpp is being called is to set it directly in your perl script by setting the $ENV variable. Something like this</p>\n\n<p><code>$ENV{LD_LIBARY_PATH} = \"/path/to/libs</code>\";</p>\n\n<p>This should work if you are doing a doing the call using the perl system method.</p>\n"}, {"tags": [], "owner": {"reputation": 187, "user_id": 5526273, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/12ad7d6907890f629222c5cb9cdf5252?s=128&d=identicon&r=PG&f=1", "display_name": "KChow", "link": "https://stackoverflow.com/users/5526273/kchow"}, "is_accepted": false, "score": 0, "last_activity_date": 1452453251, "creation_date": 1452453251, "answer_id": 34709704, "question_id": 34637287, "link": "https://stackoverflow.com/questions/34637287/not-able-to-run-an-executable-inside-a-perl-script-through-ssh-net/34709704#34709704", "title": "Not able to run an executable inside a Perl script through SSH .Net", "body": "<p>Option 1:- Importing the environment variable or rather setting the environment variable was the only way out but how to go about it was the real challenge. I chose to set the environment variable path for the Library for the duration of the script. In that way the SSH session, when it runs the script will have the path to the library set in the perl script for the sesssion and hence the executable will run smoothly. The code I used is :- $ENV{'LD_LIBRARY_PATH'}=\"$ENV{LD_LIBRARY_PATH}:/path/to/library\";</p>\n\n<p>Option 2:- If by any chance you want to use all the environment variables present in your .profile of your interactive shell then you can run the entire .profile for your non interactive ssh session as well and then you wouldn't have to worry about setting the environment variables in your perl script. For example you CAN frame your command somewhat like this :- </p>\n\n<pre><code>command = \". .bash_profile; actual command\"; \nvar cmd = ssh.RunCommand( command ); \nvar result = cmd.Execute(); \n</code></pre>\n\n<p>The .profile will run in your new non interactive shell and set the environment variables for the entire duration of the ssh connection.</p>\n\n<p>Though I have mentioned the very same thing in the edits as well. But for the convenience of all I am posting it as an answer since I have tried and tested both the above mentioned methods myself.</p>\n"}], "owner": {"reputation": 187, "user_id": 5526273, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/12ad7d6907890f629222c5cb9cdf5252?s=128&d=identicon&r=PG&f=1", "display_name": "KChow", "link": "https://stackoverflow.com/users/5526273/kchow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 1, "accepted_answer_id": 34648044, "answer_count": 2, "score": 0, "last_activity_date": 1452453251, "creation_date": 1452095657, "last_edit_date": 1452453064, "question_id": 34637287, "link": "https://stackoverflow.com/questions/34637287/not-able-to-run-an-executable-inside-a-perl-script-through-ssh-net", "title": "Not able to run an executable inside a Perl script through SSH .Net", "body": "<p>I am making a desktop application in C# using Windows forms. The application connects to a Unix server (each user has a separate login credential and separate environment variables and .bash_profile) and runs scripts and sends back the output to the Windows form.</p>\n\n<p>I am running a Perl script in Unix through ssh .net. Say <code>abc.pl</code>. This works fine, but inside the script I call another executable (<code>cpp</code> executable).</p>\n\n<p>In my C# code I have given the entire path for the script and so it runs. Inside the script the entire path to the executable is given and so it also runs. But the executable fails because it doesn't get its corresponding required .so file.</p>\n\n<p>The .so file is present in the library and the path to the library is set at .bash_profile.</p>\n\n<p>I know that when I use ssh .net I am actually using a non interactive ssh session and so I would not have access to the environment variables or the .profile but I have tried many things as to putting <code>~/.bash_profile</code> in my Perl script in the hope that the profile would be called and set in the ssh session and many other things but to no avail.</p>\n\n<p>Can anybody tell me a workaround or how to run a cpp exec inside a Perl script using ssh .net from Windows platform</p>\n\n<p>EDIT :- Importing the environment variable or rather setting the environment variable was the only way out but how to go about it was the real challenge. I chose to set the environment variable path for the Library for the duration of the script. In that way the SSH session, when it runs the script will have the path to the library set in the perl script for the sesssion and hence the executable will run smoothly. The code I used is :-\n    $ENV{'LD_LIBRARY_PATH'}=\"$ENV{LD_LIBRARY_PATH}:/path/to/library\";</p>\n\n<p>EDIT2:- If by any chance you want to use all the environment variables present in your .profile of your interactive shell then you can run the entire .profile for your non interactive ssh session as well and then you wouldn't have to worry about setting the environment variables in your perl script. For example you CAN frame your command somewhat like this :-\n    command = \". .bash_profile; actual command\";\n    var cmd = ssh.RunCommand( command );\n    var result = cmd.Execute();\nThe .profile will run in your new non interactive shell and set the environment variables for the entire duration of the ssh connection.</p>\n"}, {"tags": ["perl", "catalyst"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452094252, "post_id": 34636581, "comment_id": 57018672, "body": "Funny how I didn&#39;t see the this while writing my own answer and researching how to put the action into a role. That advent blog post is nice, but your answer is link only, which is not. :)"}], "tags": [], "owner": {"reputation": 6733, "user_id": 52116, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c2fdf17881a0a3d248f9d431f98e1bca?s=128&d=identicon&r=PG", "display_name": "Adam Taylor", "link": "https://stackoverflow.com/users/52116/adam-taylor"}, "is_accepted": false, "score": 2, "last_activity_date": 1452093493, "creation_date": 1452093493, "answer_id": 34636581, "question_id": 34635660, "link": "https://stackoverflow.com/questions/34635660/catalyst-run-auto-action-from-special-controller-in-other/34636581#34636581", "title": "Catalyst, run &quot;auto&quot; action from special controller in other", "body": "<p>I would assume you can put your auto method in a base controller and inherit from there in the controllers you want to have the method:</p>\n\n<p><a href=\"https://metacpan.org/pod/Catalyst::Manual::ExtendingCatalyst#Controllers\" rel=\"nofollow\">https://metacpan.org/pod/Catalyst::Manual::ExtendingCatalyst#Controllers</a></p>\n\n<p>You might also be able to use a controller role that just contains your auto method and apply it to any of the controllers you want to:</p>\n\n<p><a href=\"http://www.catalystframework.org/calendar/2011/10\" rel=\"nofollow\">http://www.catalystframework.org/calendar/2011/10</a></p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1452094120, "creation_date": 1452094120, "answer_id": 34636798, "question_id": 34635660, "link": "https://stackoverflow.com/questions/34635660/catalyst-run-auto-action-from-special-controller-in-other/34636798#34636798", "title": "Catalyst, run &quot;auto&quot; action from special controller in other", "body": "<p>Since Catalyst uses Moose, and Catalyst::Controller objects are Moose objects, you can use Moose roles with them.</p>\n\n<pre><code>package Hello::DebugRole;\nuse Moose::Role;\nuse MooseX::MethodAttributes::Role;\n\nsub auto :Private {\n   my ($self, $c) = @_;\n\n   $c-&gt;log-&gt;debug('Hello!');\n\n    return 1;\n}\n\n1;\n</code></pre>\n\n<p>We need <a href=\"https://metacpan.org/pod/MooseX::MethodAttributes::Role\" rel=\"nofollow\">MooseX::MethodAttributes::Role</a> to enable the CODE attributes. Without that, it dies at execution time, and if we ommit the <code>:Private</code>, Catalyst does not see it as an action, but as a local method instead.</p>\n\n<p>This approach makes sense because you can have your <code>auto</code> action defined in one place, which is nicely DRY, and you completely reuse that code in all places where you want it.</p>\n\n<p>Now you can use that in all the controllers you want. Just put it in the <code>BEGIN</code> block.</p>\n\n<pre><code>package Hello::Controller::User;\nuse Moose;\nuse namespace::autoclean;\n\nBEGIN { extends 'Catalyst::Controller'; with 'Hello::DebugRole'; }\n</code></pre>\n\n<p>If I navigate to that controller, the log will look like this:</p>\n\n<pre><code>[debug] Path is \"user\"\n[debug] \"GET\" request for \"user/\" from \"127.0.0.1\"\n[debug] Hello!\n[debug] Response Code: 200; Content-Type: text/html; charset=utf-8; Content-Length: unknown\n[info] Request took 0.010909s (91.667/s)\n.------------------------------------------------------------+-----------.\n| Action                                                     | Time      |\n+------------------------------------------------------------+-----------+\n| /user/auto                                                 | 0.000237s |\n| /user/index                                                | 0.000152s |\n| /end                                                       | 0.000394s |\n'------------------------------------------------------------+-----------'\n\n[info] *** Request 2 (0.286/s) [24045] [Wed Jan  6 16:16:15 2016] ***\n</code></pre>\n\n<p>But if I navigate to the Foobar controller instead, there is no auto action, and no <em>Hello!</em>.</p>\n\n<pre><code>[info] *** Request 3 (0.250/s) [24045] [Wed Jan  6 16:16:20 2016] ***\n[debug] Path is \"foobar\"\n[debug] \"GET\" request for \"foobar/\" from \"127.0.0.1\"\n[debug] Response Code: 200; Content-Type: text/html; charset=utf-8; Content-Length: unknown\n[info] Request took 0.007135s (140.154/s)\n.------------------------------------------------------------+-----------.\n| Action                                                     | Time      |\n+------------------------------------------------------------+-----------+\n| /foobar/index                                              | 0.000181s |\n| /end                                                       | 0.000179s |\n'------------------------------------------------------------+-----------'\n</code></pre>\n\n<hr>\n\n<p>Note that Catalyst will call <code>auto</code> actions of all controllers involved, so it will also do the Root controller's <code>auto</code> if there is one in <em>all</em> requests.</p>\n"}], "owner": {"reputation": 195, "user_id": 1759997, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/542bd7d78f1304b2249e5b3d4102cb89?s=128&d=identicon&r=PG", "display_name": "shootnix", "link": "https://stackoverflow.com/users/1759997/shootnix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1452094120, "creation_date": 1452090938, "last_edit_date": 1452091709, "question_id": 34635660, "link": "https://stackoverflow.com/questions/34635660/catalyst-run-auto-action-from-special-controller-in-other", "title": "Catalyst, run &quot;auto&quot; action from special controller in other", "body": "<p>for example, I have a controller with \"auto\":</p>\n\n<pre><code>package Controller::User;\n\nsub auto :Private {\n   my ($self, $c) = @_;\n\n   $c-&gt;log-&gt;debug('Hello!');\n\n    return 1;\n}\n</code></pre>\n\n<p>I want to use this auto method automatically in another controllers (but not in all). Let say, in Controller::My, Controller::Dashboard etc. \nAnd also I have different controllers I don't need to use this \"auto\" action. </p>\n\n<p>Is it possible to \"inherit\" this action from special controller inside another one?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1452091153, "post_id": 34634580, "comment_id": 57016432, "body": "<code>(my $foo, my $bar, my $baz)</code> is a rather long-winded way of writing <code>my ($foo, $bar, $baz)</code> :-)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1452091623, "post_id": 34634580, "comment_id": 57016779, "body": "If your timestamps end with &#39;Z&#39;, then you should almost certainly be using <code>gmtime()</code> instead of <code>localtime()</code>."}, {"owner": {"reputation": 1268, "user_id": 3270760, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8505accdc0bfdcc56690aa876c7e691b?s=128&d=identicon&r=PG&f=1", "display_name": "user3270760", "link": "https://stackoverflow.com/users/3270760/user3270760"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1452094660, "post_id": 34634580, "comment_id": 57018966, "body": "Good advice, I&#39;m a Perl newbie..."}], "answers": [{"comments": [{"owner": {"reputation": 1268, "user_id": 3270760, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8505accdc0bfdcc56690aa876c7e691b?s=128&d=identicon&r=PG&f=1", "display_name": "user3270760", "link": "https://stackoverflow.com/users/3270760/user3270760"}, "edited": false, "score": 0, "creation_date": 1452088914, "post_id": 34634876, "comment_id": 57014906, "body": "It&#39;s very close, but it doesn&#39;t like the +/- sign. I&#39;m getting the following error: Argument &quot;-&quot; isn&#39;t numeric in multiplication (*) at line 740."}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": true, "score": 1, "last_activity_date": 1452257310, "last_edit_date": 1452257310, "creation_date": 1452088480, "answer_id": 34634876, "question_id": 34634580, "link": "https://stackoverflow.com/questions/34634580/perl-converting-time-based-on-text-match/34634876#34634876", "title": "Perl converting time based on text match", "body": "<p>I would change this to:</p>\n\n<pre><code>my $_StartTime = getFromJson(\"StartTime\");\nmy $_EndTime = getFromJson(\"EndTime\");\n\nif($_StartTime =~ s/now//) {\n    my $time = time;\n    if ($_StartTime =~ /^([-+]?)([0-9]+)/) {\n        my ($sign, $number) = ($1, $2);\n        $time += ($sign eq '-' ? -1 : 1) * $number * 3_600;\n    }\n\n    (my $sec, my $min, my $hour, my $mday, my $mon, my $year, my $wday, my $yday, my $isdst) = localtime($rime);\n    $_StartTime = sprintf(\"%04d-%02d-%02dT%02d:%02d:%02dZ\", $year+1900, $mon+1, $mday, $hour, $min, $sec);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6733, "user_id": 52116, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c2fdf17881a0a3d248f9d431f98e1bca?s=128&d=identicon&r=PG", "display_name": "Adam Taylor", "link": "https://stackoverflow.com/users/52116/adam-taylor"}, "is_accepted": false, "score": 3, "last_activity_date": 1452089238, "creation_date": 1452089238, "answer_id": 34635118, "question_id": 34634580, "link": "https://stackoverflow.com/questions/34634580/perl-converting-time-based-on-text-match/34635118#34635118", "title": "Perl converting time based on text match", "body": "<p>There are lots of good modules on the CPAN that could help in this instance. You don't need to use them but it's worth knowing about them nonetheless.</p>\n\n<p>Firstly, <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow\">JSON</a> might make your life easier when parsing the JSON files as it has easy methods for converting the JSON into native Perl structures.</p>\n\n<p>Secondly, the <a href=\"http://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a> family of modules might make it easier to parse and manipulate the dates. Specifically, instead of using <code>sprintf</code>, you could use <a href=\"https://metacpan.org/pod/DateTime::Format::ISO8601\" rel=\"nofollow\">DateTime::Format::ISO8601</a> to parse the date:</p>\n\n<pre><code>my $dt = DateTime::Format::ISO8601-&gt;parse_datetime( $_StartTime );\n</code></pre>\n\n<p>DateTime has methods for accessing the day, year, month and so on. These are documented on the main module page.</p>\n\n<p>You could then keep your special case for the <code>now</code> input and do something like:</p>\n\n<pre><code>    # work out if it's addition or subtraction and grab the amount\n    # then use the appropriate DateTime function:\n\n    my $dt = DateTime-&gt;now()-&gt;add( seconds =&gt; 10 );\n    # or \n    my $dt = DateTime-&gt;now()-&gt;subtract( seconds =&gt; 10 );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1452093045, "last_edit_date": 1452093045, "creation_date": 1452091014, "answer_id": 34635684, "question_id": 34634580, "link": "https://stackoverflow.com/questions/34634580/perl-converting-time-based-on-text-match/34635684#34635684", "title": "Perl converting time based on text match", "body": "<p>Using <code>POSIX::strftime</code> will make your life easier.</p>\n\n<pre><code>use POSIX 'strftime';\n\nmy @test_times = qw[now+10 now now-10];\n\nforeach my $start_time (@test_times) {\n  if (my ($adjust) = $start_time =~ /^now([-+]\\d+)?/) {\n    $adjust //= 0;\n    $adjust *= 60 * 60; # Convert hours to seconds\n    my $time = strftime '%Y-%m-%dT%H:%M:%SZ', gmtime(time + $adjust);\n    say $time;\n  }\n}\n</code></pre>\n\n<p>Thinking about it further, I think I'd prefer to use <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a>. The principle is almost identical.</p>\n\n<pre><code>use Time::Piece;\n\nmy @test_times = qw[now+10 now now-10];\n\nforeach my $start_time (@test_times) {\n  if (my ($adjust) = $start_time =~ /^now([-+]\\d+)?/) {\n    $adjust //= 0;\n    $adjust *= 60 * 60; # Convert hours to seconds\n    my $time = gmtime(time + $adjust);\n    say $time-&gt;strftime('%Y-%m-%dT%H:%M:%SZ');\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1452095939, "creation_date": 1452095939, "answer_id": 34637383, "question_id": 34634580, "link": "https://stackoverflow.com/questions/34634580/perl-converting-time-based-on-text-match/34637383#34637383", "title": "Perl converting time based on text match", "body": "<p>You give little information about the format of the original data, and what result you want from this. I assume the code you show is to convert the times formatted with <code>now</code> to one that you recognize so that you can go on from there. But it's best to handle both formats in one place to generate the same final result regardless of the input</p>\n\n<p>This program uses an imaginary JSON data structure and processes all elements inside it. The core is the use of the <a href=\"http://metacpan.org/module/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> module, which will parse and format times for you and do date/time arithmetic</p>\n\n<p>I have encapsulated the code that processes both sorts of time values in a subroutine <code>convert_time</code> which returns a <code>Time::Piece</code> object. The code just uses the module's own stringify method to make the value readable, but you can generate any form of string you want using the object's methods</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse JSON 'from_json';\nuse Time::Piece;\nuse Time::Seconds 'ONE_HOUR';\n\n\nmy $json = &lt;&lt;END;\n[\n    {\n        \"StartTime\": \"2015-07-08T03:38:08Z\",\n        \"EndTime\":   \"2015-07-10T03:38:08Z\"\n    },\n    {\n        \"StartTime\": \"now-10\",\n        \"EndTime\":   \"now+10\"\n    }\n]\nEND\n\nmy $data = from_json($json);\n\nfor my $item ( @$data ) {\n\n    for my $key ( keys %$item ) {\n\n        my $time = $item-&gt;{$key};\n\n        say \"$key $time\";\n        my $ans = convert_time($time);\n\n        print $ans, \"\\n\\n\";\n    }\n}\n\n\nsub convert_time {\n\n    my ($time) = @_;\n\n    if ( $time =~ /now([+-]\\d+)/ ) {\n        return localtime() + $1 * ONE_HOUR;\n    }\n    else {\n        return Time::Piece-&gt;strptime($time, '%Y-%m-%dT%H:%M:%SZ');\n    }\n\n}\n</code></pre>\n\n<h2>output</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>StartTime 2015-07-08T03:38:08Z\nWed Jul  8 03:38:08 2015\n\nEndTime 2015-07-10T03:38:08Z\nFri Jul 10 03:38:08 2015\n\nStartTime now-10\nWed Jan  6 05:57:04 2016\n\nEndTime now+10\nThu Jan  7 01:57:04 2016\n</code></pre>\n"}], "owner": {"reputation": 1268, "user_id": 3270760, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8505accdc0bfdcc56690aa876c7e691b?s=128&d=identicon&r=PG&f=1", "display_name": "user3270760", "link": "https://stackoverflow.com/users/3270760/user3270760"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 34634876, "answer_count": 4, "score": 1, "last_activity_date": 1452257310, "creation_date": 1452087692, "question_id": 34634580, "link": "https://stackoverflow.com/questions/34634580/perl-converting-time-based-on-text-match", "title": "Perl converting time based on text match", "body": "<p>I am using Perl to read in variables from a json file and handle them accordingly. The spot I need help with is when I read a time in from the file that could look like the following:</p>\n\n<pre><code>\"StartTime\":\"2015-07-08T03:38:08Z\",\n\"EndTime\":\"2015-07-10T03:38:08Z\"\n</code></pre>\n\n<p>This is easy to handle, however here is the tricky part:</p>\n\n<pre><code>\"StartTime\":\"now-10\",\n\"EndTime\":\"now+10\"\n</code></pre>\n\n<p>I have a function which gets these variables from the json file and checks if the string contains the word \"now\". But after that, I'm not sure what to do. I'm trying to convert \"now\" to localtime(time), but it's getting ugly fast. Here is my code:</p>\n\n<pre><code>    my $_StartTime = getFromJson(\"StartTime\");\n    my $_EndTime = getFromJson(\"EndTime\");\n\n    if($_StartTime =~ /now/) {\n        (my $sec, my $min, my $hour, my $mday, my $mon, my $year, my $wday, my $yday, my $isdst) = localtime(time);\n        my $now = sprintf(\"%04d-%02d-%02dT%02d:%02d:%02dZ\", $year+1900, $mon+1, $mday, $hour, $min, $sec);\n    }\n    # end time is handled the same way\n</code></pre>\n\n<p>Am I on the right track? And if so, how can I add the \"+/-10\" after the \"now\" in the file? (Note: assume the +/-10 always refers to hours)</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452079967, "post_id": 34630582, "comment_id": 57009209, "body": "<code>()</code> denotes capture groups in regex. You capture, generate a list, and then assign to the LHS &#39;list&#39; (of scalar variables)"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 2955220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28ba746517092206fd2d04b55b3345d?s=128&d=identicon&r=PG&f=1", "display_name": "Siju Mohan MM", "link": "https://stackoverflow.com/users/2955220/siju-mohan-mm"}, "edited": false, "score": 0, "creation_date": 1452075777, "post_id": 34630663, "comment_id": 57006612, "body": "Thanks for the clear cut answer.   Just to confirm, the input string should be in following format to match the regex: 05:15:25 Is that correct?"}, {"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "reply_to_user": {"reputation": 143, "user_id": 2955220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28ba746517092206fd2d04b55b3345d?s=128&d=identicon&r=PG&f=1", "display_name": "Siju Mohan MM", "link": "https://stackoverflow.com/users/2955220/siju-mohan-mm"}, "edited": false, "score": 1, "creation_date": 1452075939, "post_id": 34630663, "comment_id": 57006722, "body": "@siju, yes, it should start with that format, it can have something after that though."}], "tags": [], "owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "is_accepted": true, "score": 8, "last_activity_date": 1452075797, "last_edit_date": 1452075797, "creation_date": 1452075600, "answer_id": 34630663, "question_id": 34630582, "link": "https://stackoverflow.com/questions/34630582/meaning-of-my-h-m-s-date-m0-920-920-92-in-perl/34630663#34630663", "title": "Meaning of my ($H,$M,$S) = $date =~ m{^([0-9]{2}):([0-9]{2}):([0-9]{2})} in perl", "body": "<p>It tries to match the contents of the <code>$date</code> variable, with a regex:</p>\n\n<pre><code>^([0-9]{2}):([0-9]{2}):([0-9]{2})\n</code></pre>\n\n<p>The regex basically means: from the start of the string, there should be two digits and colons repeated three times. Each of these three two digit numbers are enclosed in a group.</p>\n\n<p>Finally, the matches of the three groups are assigned to local variables <code>$H</code>, <code>$M</code> and <code>$S</code>.\n<hr>\nFor example if</p>\n\n<pre><code>$date = \"10:37:21 2016.01.02\";\n</code></pre>\n\n<p>then</p>\n\n<pre><code>$H = \"10\";\n$M = \"37\";\n$S = \"21\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1452662415, "last_edit_date": 1452662415, "creation_date": 1452080718, "answer_id": 34632349, "question_id": 34630582, "link": "https://stackoverflow.com/questions/34630582/meaning-of-my-h-m-s-date-m0-920-920-92-in-perl/34632349#34632349", "title": "Meaning of my ($H,$M,$S) = $date =~ m{^([0-9]{2}):([0-9]{2}):([0-9]{2})} in perl", "body": "<blockquote>\n  <p>Can anyone explain to get a better understanding?</p>\n</blockquote>\n\n<p>You need to start to be aware of two things:</p>\n\n<ol>\n<li><p>list context</p></li>\n<li><p>scalar context</p></li>\n</ol>\n\n<p>The match operator, <code>m//</code>, will provide different results depending on what's on the left hand side of your <code>=</code> sign.  Check this out:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\n\nmy $result =  \"abc\" =~ m/a(.)(.)/;\nsay $result;   #=&gt; 1\n\nmy @results = \"abc\" =~ m/a(.)(.)/;\nfor my $result (@results) {\n    say $result;\n};\n\n--output:--\nb\nc\n</code></pre>\n\n<p>A <code>$variable</code> can only store one thing, so when there is a $variable on the left hand side of the <code>=</code> sign, the $variable looks over to the match operator, <code>m//</code>, on the right hand side of the <code>=</code> sign and calls out, \"Hey, I can only store one thing over here, just give me one thing, please!\"  The match operator responds by returning 1, for true, if there was a match; or 0, for false, if there wasn't a match.</p>\n\n<p>On the other hand, when an <code>@variable</code> is on the left hand side of the <code>=</code> sign, the array looks over to the <code>m//</code> operator and calls out,  \"Hey, I can store a bunch of things over here, so give me a bunch of stuff, please!\"  The match operator responds by returning what matched the capture groups in the regex if there was a match; if there wasn't a match, the match operator returns <code>()</code>.</p>\n\n<p>In the first case, the <code>$variable</code> is said to provide <code>scalar context</code> for the match operator.  In the second case, the <code>@variable</code> is said to provide <code>list context</code> for the match operator.  Don't let those terms scare you.  You know what they mean now.</p>\n\n<p>Next, when you write this:</p>\n\n<pre><code>my ($H,$M,$S) = \n</code></pre>\n\n<p>You are creating several variables on the left hand side of the <code>=</code> sign.  In unison, they call out to the match operator on the other side of the <code>=</code> sign, \"Hey, there are many of us over here, give us the bunch of stuff, please!  That particular <code>my</code> syntax provides a <code>list context</code> for the match operator which is on the right hand side of the <code>=</code> sign:</p>\n\n<pre><code>my ($group1, $group2) = \"abc\" =~ m/a(.)(.)/;\nsay $group1;  #=&gt; b\nsay $group2;  #=&gt; c\n</code></pre>\n\n<p>Note that if the delimiters you use for the match operator are <code>m/.../</code>, then you don't have to write the leading <code>m</code>, so typically you will see the example above written as:</p>\n\n<pre><code>my ($group1, $group2) = \"abc\" =~ /a(.)(.)/;\n</code></pre>\n\n<p>When you use braces like you did: <code>m{...}{...}</code>, then you have to write the leading <code>m</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1452122658, "last_edit_date": 1452122658, "creation_date": 1452092234, "answer_id": 34636146, "question_id": 34630582, "link": "https://stackoverflow.com/questions/34630582/meaning-of-my-h-m-s-date-m0-920-920-92-in-perl/34636146#34636146", "title": "Meaning of my ($H,$M,$S) = $date =~ m{^([0-9]{2}):([0-9]{2}):([0-9]{2})} in perl", "body": "<p>You can use a simpler regex, which is easier to understand, to do what you want:</p>\n\n<pre><code> \\d{2}  #\\d means a digit, {2} means twice,\n        #so this matches two consecutive digits\n</code></pre>\n\n<p>Here's how you can use that regex:</p>\n\n<pre><code>#Just blindly use all three of these in every program:\nuse strict;\nuse warnings; \nuse 5.020;    \n\nmy $date = \"10:37:21 2016.01.02\";\n\nmy ($H,$M,$S) = $date =~ /\\d{2}/g;  #g =&gt; global, Find all matches in the string\n\nsay $H;  #say() is the same as print() with a newline at the end\nsay $M;\nsay $S;\n\n--output:--\n10\n37\n21\n</code></pre>\n\n<p>The regex starts at the beginning of the string and looks for two consecutive digits and finds 10, so that is a match; then the regex jumps over the <code>:</code> and finds 37, so that is a match; then the regex jumps over the <code>:</code> and finds 21, so that is a match; etc., etc.  </p>\n\n<p>When you assign all the matches to three variables, the first three matches are assigned to the three variables, and the rest of the matches are discarded.</p>\n"}], "owner": {"reputation": 143, "user_id": 2955220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28ba746517092206fd2d04b55b3345d?s=128&d=identicon&r=PG&f=1", "display_name": "Siju Mohan MM", "link": "https://stackoverflow.com/users/2955220/siju-mohan-mm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 0, "accepted_answer_id": 34630663, "answer_count": 3, "score": 2, "last_activity_date": 1452662415, "creation_date": 1452075349, "last_edit_date": 1452075861, "question_id": 34630582, "link": "https://stackoverflow.com/questions/34630582/meaning-of-my-h-m-s-date-m0-920-920-92-in-perl", "title": "Meaning of my ($H,$M,$S) = $date =~ m{^([0-9]{2}):([0-9]{2}):([0-9]{2})} in perl", "body": "<p>I am new to perl. Can anyone explain the meaning of the following line of code:</p>\n\n<pre><code>my ($H,$M,$S) = $date =~ m{^([0-9]{2}):([0-9]{2}):([0-9]{2})}\n</code></pre>\n\n<p>I assume that after the execution of this line <code>$H</code>, <code>$M</code> and <code>$S</code> will have the values extracted from <code>$date</code>. Can anyone explain to get a better understanding?</p>\n"}, {"tags": ["arrays", "perl", "hash", "intersection"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452072347, "post_id": 34629506, "comment_id": 57004420, "body": "Is there a reason why you linked to that specific version of List::Compare? If not, you can use <a href=\"https://metacpan.org/pod/List::Compare\" rel=\"nofollow noreferrer\">metacpan.org/pod/List::Compare</a>."}, {"owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452072526, "post_id": 34629506, "comment_id": 57004527, "body": "No there is no reason for linking to that version but it seems to be the same version you linked too? &#39; James E Keenan &gt; List-Compare-0.53 &#39;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452072587, "post_id": 34629506, "comment_id": 57004566, "body": "Yes, it would be if you picked the newest. I meant &quot;prefer metacpan over search.cpan.org as it always has the newest version and is more userfriendly&quot; ;)"}, {"owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452072761, "post_id": 34629506, "comment_id": 57004677, "body": "ok updated the link."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452075721, "post_id": 34629506, "comment_id": 57006579, "body": "What about that <i>Lot1</i> and <i>Lot2</i> have <i>A</i>? It should group together as many as possible?"}, {"owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452076101, "post_id": 34629506, "comment_id": 57006823, "body": "Lot1 and lot2 have A and B and C but im trying to break it down to intersections across as many arrays as possible so C is sepersted ar"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452080606, "post_id": 34629506, "comment_id": 57009589, "body": "I think you have to build all permutations of the lists. I have a partial solution without recursion that finds some of the intersactions, but not all of them."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1452093576, "last_edit_date": 1452093576, "creation_date": 1452080799, "answer_id": 34632367, "question_id": 34629506, "link": "https://stackoverflow.com/questions/34629506/how-do-i-breakdown-common-elements-in-hash-of-arrays-in-perl/34632367#34632367", "title": "How do I breakdown common elements in hash of arrays in perl?", "body": "<p><code>Array::Utils</code> has an intersection operation where you can test the intersect of two arrays. But that's only the start point of what you're trying to do. </p>\n\n<p>So I would be thinking that you need to first invert your lookup:</p>\n\n<pre><code>my %member_of;\n\nforeach my $key ( keys %test ) { \n    foreach my $element  ( @{$test{$key}} ) { \n         push ( @{$member_of{$element}}, $key ); \n    }\n}\nprint Dumper \\%member_of;\n</code></pre>\n\n<p>Giving:</p>\n\n<pre><code>$VAR1 = {\n          'A' =&gt; [\n                   'Lot1',\n                   'Lot2'\n                 ],\n          'F' =&gt; [\n                   'Lot4'\n                 ],\n          'B' =&gt; [\n                   'Lot1',\n                   'Lot2'\n                 ],\n          'E' =&gt; [\n                   'Lot4'\n                 ],\n          'C' =&gt; [\n                   'Lot1',\n                   'Lot2',\n                   'Lot3'\n                 ]\n        };\n</code></pre>\n\n<p>Then collapse that, into a key set:</p>\n\n<pre><code>my %new_set;\nforeach my $element ( keys %member_of ) {\n    my $set = join( \",\", @{ $member_of{$element} } );\n    push( @{ $new_set{$set} }, $element );\n}\nprint Dumper \\%new_set;\n</code></pre>\n\n<p>Giving:</p>\n\n<pre><code>$VAR1 = {\n          'Lot1,Lot2,Lot3' =&gt; [\n                                'C'\n                              ],\n          'Lot1,Lot2' =&gt; [\n                           'A',\n                           'B'\n                         ],\n          'Lot4' =&gt; [\n                      'E',\n                      'F'\n                    ]\n        };\n</code></pre>\n\n<p>So overall:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %test = (\n    Lot1 =&gt; [ \"A\", \"B\", \"C\" ],\n    Lot2 =&gt; [ \"A\", \"B\", \"C\" ],\n    Lot3 =&gt; [\"C\"],\n    Lot4 =&gt; [ \"E\", \"F\" ],\n);\n\nmy %member_of;\nforeach my $key ( sort keys %test ) {\n    foreach my $element ( @{ $test{$key} } ) {\n        push( @{ $member_of{$element} }, $key );\n    }\n}\n\nmy %new_set;\nforeach my $element ( sort keys %member_of ) {\n    my $set = join( \",\", @{ $member_of{$element} } );\n    push( @{ $new_set{$set} }, $element );\n}\n\nforeach my $set ( sort keys %new_set ) {\n    print \"$set contains: \", join( \",\", @{ $new_set{$set} } ), \"\\n\";\n}\n</code></pre>\n\n<p>I don't think there's a more efficient way to tackle it, because you're comparing each array to each other array, and forming a new compound key out of it. </p>\n\n<p>This gives you:</p>\n\n<pre><code>Lot1,Lot2 contains: A,B\nLot1,Lot2,Lot3 contains: C\nLot4 contains: E,F\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1452100077, "creation_date": 1452100077, "answer_id": 34638700, "question_id": 34629506, "link": "https://stackoverflow.com/questions/34629506/how-do-i-breakdown-common-elements-in-hash-of-arrays-in-perl/34638700#34638700", "title": "How do I breakdown common elements in hash of arrays in perl?", "body": "<p>This can be done as two simple hash conversions:</p>\n\n<ul>\n<li><p>Build a hash that lists all of the lots each item is in</p></li>\n<li><p>Convert that to a hash that lists all <em>items</em> for each lot <em>combination</em></p></li>\n</ul>\n\n<p>Then just dump the last hash in a convenient form</p>\n\n<p>This is the code.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy %test = (\n    Lot1 =&gt; [ \"A\", \"B\", \"C\" ],\n    Lot2 =&gt; [ \"A\", \"B\", \"C\" ],\n    Lot3 =&gt; [\"C\"],\n    Lot4 =&gt; [ \"E\", \"F\" ],\n);\n\nmy %items;\n\nfor my $lot ( keys %test ) {\n    for my $item ( @{ $test{$lot} } ) {\n        push @{ $items{$item} }, $lot;\n    }\n}\n\nmy %lots;\n\nfor my $item ( keys %items ) {\n    my $lots = join '!', sort @{ $items{$item} };\n    push @{ $lots{$lots} }, $item;\n}\n\nfor my $lots ( sort keys %lots ) {\n\n    my @lots = split /!/, $lots;\n    my $items = join '', @{ $lots{$lots} };\n\n    $lots = join ', ', @lots;\n    $lots =~ s/.*\\K,/ and/;\n\n    printf \"%s %s %s\\n\", $lots, @lots &gt; 1 ? 'have' : 'has', $items;\n}\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>Lot1 and Lot2 have AB\nLot1, Lot2 and Lot3 have C\nLot4 has EF\n</code></pre>\n\n<p>It generates an <code>%items</code> hash that looks like this</p>\n\n<pre><code>{\n  A =&gt; [\"Lot2\", \"Lot1\"],\n  B =&gt; [\"Lot2\", \"Lot1\"],\n  C =&gt; [\"Lot2\", \"Lot3\", \"Lot1\"],\n  E =&gt; [\"Lot4\"],\n  F =&gt; [\"Lot4\"],\n}\n</code></pre>\n\n<p>and from that a <code>%lots</code> hash that looks like this</p>\n\n<pre><code>{\n  \"Lot1!Lot2\" =&gt; [\"A\", \"B\"],\n  \"Lot1!Lot2!Lot3\" =&gt; [\"C\"],\n  \"Lot4\" =&gt; [\"E\", \"F\"],\n}\n</code></pre>\n"}], "owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 34638700, "answer_count": 2, "score": 3, "last_activity_date": 1452100077, "creation_date": 1452072208, "last_edit_date": 1452072742, "question_id": 34629506, "link": "https://stackoverflow.com/questions/34629506/how-do-i-breakdown-common-elements-in-hash-of-arrays-in-perl", "title": "How do I breakdown common elements in hash of arrays in perl?", "body": "<p>I am trying to find any intersections of elements within a hash of arrays in Perl</p>\n\n<p>For example</p>\n\n<pre><code>my %test = (\n                  Lot1 =&gt; [ \"A\",\"B\",\"C\"],\n                  Lot2 =&gt; [ \"A\",\"B\",\"C\"],\n                  Lot3 =&gt; [\"C\"],\n                  Lot4 =&gt; [\"E\",\"F\"],\n            );\n</code></pre>\n\n<p>The result I would be after is</p>\n\n<ul>\n<li><p>Lot1 and Lot2 have AB</p></li>\n<li><p>Lot1,Lot2 and Lot3 have C</p></li>\n<li>Lot4 has E and F.</li>\n</ul>\n\n<p>I think this could be done with a recursive function that effectively moves its way through the arrays and if an intersection between two arrays is found it calls itself recursively with the intersection found and the next array. The stopping condition would be running out of arrays.</p>\n\n<p>Once the function is exited I would have to iterate through the hash to get the arrays that contain these values.</p>\n\n<p>Does this sound like a good approach? I have been struggling with the code, but was going to use <a href=\"https://metacpan.org/pod/List::Compare\" rel=\"nofollow\">List::Compare</a> to determine the intersection.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "linux", "perl", "devops", "nohup"], "comments": [{"owner": {"reputation": 87, "user_id": 4242385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/078bea2667b144256a7ca042d37caddd?s=128&d=identicon&r=PG&f=1", "display_name": "Doggerel", "link": "https://stackoverflow.com/users/4242385/doggerel"}, "edited": false, "score": 0, "creation_date": 1452067913, "post_id": 34627368, "comment_id": 57001956, "body": "The perldoc page for system discusses signal handling. Do &quot;perldoc -f system&quot; from your command line. Also, note that signal handling can behave quite differently on different *nix variants so you should probably note what OS you are using."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452107626, "post_id": 34627368, "comment_id": 57027370, "body": "btw, no need to invoke a shell. <code>$cmdret = system(&quot;python&quot;, &quot;script.py&quot;, &quot; ARG1&quot;, &quot;ARG2&quot;);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 4242385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/078bea2667b144256a7ca042d37caddd?s=128&d=identicon&r=PG&f=1", "display_name": "Doggerel", "link": "https://stackoverflow.com/users/4242385/doggerel"}, "is_accepted": false, "score": 1, "last_activity_date": 1452075553, "last_edit_date": 1452075553, "creation_date": 1452068328, "answer_id": 34628475, "question_id": 34627368, "link": "https://stackoverflow.com/questions/34627368/timeout-limit-for-holding-exit-status-from-system-in-perl-python/34628475#34628475", "title": "timeout limit for holding exit status from system in perl/python", "body": "<p>If your goal is to make your perl program ignore the HUP signal, you likely just need to set the HUP entry of the $SIG global signal handler hash:</p>\n\n<pre><code>$SIG{ 'HUP' } = 'IGNORE';\n</code></pre>\n\n<p>for gory details, see </p>\n\n<pre><code>perldoc perlipc\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 798, "user_id": 1564733, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/702167e93360b8b954b72dbea05824f2?s=128&d=identicon&r=PG", "display_name": "kumarprd", "link": "https://stackoverflow.com/users/1564733/kumarprd"}, "edited": false, "score": 0, "creation_date": 1452226910, "post_id": 34640100, "comment_id": 57084578, "body": "That&#39;s what the definition says. But in my case the perl script is already daemonized and still I receives the SIGHUP."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 798, "user_id": 1564733, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/702167e93360b8b954b72dbea05824f2?s=128&d=identicon&r=PG", "display_name": "kumarprd", "link": "https://stackoverflow.com/users/1564733/kumarprd"}, "edited": false, "score": 0, "creation_date": 1452227705, "post_id": 34640100, "comment_id": 57084773, "body": "Using the module to which I linked?"}, {"owner": {"reputation": 798, "user_id": 1564733, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/702167e93360b8b954b72dbea05824f2?s=128&d=identicon&r=PG", "display_name": "kumarprd", "link": "https://stackoverflow.com/users/1564733/kumarprd"}, "edited": false, "score": 0, "creation_date": 1452437901, "post_id": 34640100, "comment_id": 57159510, "body": "Not using that module. There is a master script that calls a series of scripts one after another as a backend service by taking the exit status of previous one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 798, "user_id": 1564733, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/702167e93360b8b954b72dbea05824f2?s=128&d=identicon&r=PG", "display_name": "kumarprd", "link": "https://stackoverflow.com/users/1564733/kumarprd"}, "edited": false, "score": 0, "creation_date": 1452478991, "post_id": 34640100, "comment_id": 57172961, "body": "The reason I asked is that you say the script is daemonized, but I&#39;m not sure you even know what the means. It&#39;s obviously NOT daemonized if the master collects its exit status, but maybe you meant the master script is daemonized?"}, {"owner": {"reputation": 798, "user_id": 1564733, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/702167e93360b8b954b72dbea05824f2?s=128&d=identicon&r=PG", "display_name": "kumarprd", "link": "https://stackoverflow.com/users/1564733/kumarprd"}, "edited": false, "score": 0, "creation_date": 1452747745, "post_id": 34640100, "comment_id": 57308690, "body": "The master script is running with nohup."}, {"owner": {"reputation": 798, "user_id": 1564733, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/702167e93360b8b954b72dbea05824f2?s=128&d=identicon&r=PG", "display_name": "kumarprd", "link": "https://stackoverflow.com/users/1564733/kumarprd"}, "edited": false, "score": 0, "creation_date": 1452836884, "post_id": 34640100, "comment_id": 57352768, "body": "Yes thats correct, but 99% of the time HUP signal comes during execution of the above said line."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1452997801, "last_edit_date": 1452997801, "creation_date": 1452104726, "answer_id": 34640100, "question_id": 34627368, "link": "https://stackoverflow.com/questions/34627368/timeout-limit-for-holding-exit-status-from-system-in-perl-python/34640100#34640100", "title": "timeout limit for holding exit status from system in perl/python", "body": "<p>SIGHUP is sent when the terminal disconnects. When you want to create a process that's not tied to the terminal, you <a href=\"http://search.cpan.org/perldoc?Daemon::Daemonize\" rel=\"nofollow\">daemonize</a> it.</p>\n\n<hr>\n\n<p>Note that <code>nohup</code> doesn't deamonize.</p>\n\n<pre><code>$ nohup perl -e'system \"ps\", \"-o\", \"pid,ppid,sid,cmd\"'\nnohup: ignoring input and appending output to `nohup.out'\n\n$ cat nohup.out\n  PID  PPID   SID CMD\n21300 21299 21300 -bash\n21504 21300 21300 perl -esystem \"ps\", \"-o\", \"pid,ppid,sid,cmd\"\n21505 21504 21300 ps -o pid,ppid,sid,cmd\n</code></pre>\n\n<p>As you can see,</p>\n\n<ol>\n<li><code>perl</code>'s PPID is that of the program that launched it.</li>\n<li><code>perl</code>'s SID is that of the program that launched it.</li>\n</ol>\n\n<p>Since the session hasn't changed, the terminal will send SIGHUP to <code>perl</code> when it disconnects as normal.</p>\n\n<p>That said, <code>nohup</code> changes how <code>perl</code>'s handles SIGHUP by causing it to be ignored.</p>\n\n<pre><code>$ perl -e'system \"kill\", \"-HUP\", \"$$\"; print \"SIGHUP was ignored\\n\"'\nHangup\n\n$ echo $?\n129\n\n$ nohup perl -e'system \"kill\", \"-HUP\", \"$$\"; print \"SIGHUP was ignored\\n\"'\nnohup: ignoring input and appending output to `nohup.out'\n\n$ echo $?\n0\n\n$ tail -n 1 nohup.out\nSIGHUP was ignored\n</code></pre>\n\n<p>If <code>perl</code> is killed by the signal, it's because something changed how <code>perl</code> handles SIGHUP.</p>\n\n<p>So, either daemonize the process, or have <code>perl</code> ignore use SIGHUP (e.g. by using <code>nohup</code>). But if you use <code>nohup</code>, don't re-enable the default SIGHUP behaviour!</p>\n"}], "owner": {"reputation": 798, "user_id": 1564733, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/702167e93360b8b954b72dbea05824f2?s=128&d=identicon&r=PG", "display_name": "kumarprd", "link": "https://stackoverflow.com/users/1564733/kumarprd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1465475916, "creation_date": 1452063520, "last_edit_date": 1465475916, "question_id": 34627368, "link": "https://stackoverflow.com/questions/34627368/timeout-limit-for-holding-exit-status-from-system-in-perl-python", "title": "timeout limit for holding exit status from system in perl/python", "body": "<p>I have a simple perl script that calls another python script to do the deployment of a server in cloud .</p>\n\n<p>I capture the exit status of the deployment inside perl to take any further action after success/failure setup.</p>\n\n<p>It's like: </p>\n\n<pre><code>$cmdret = system(\"python script.py ARG1 ARG2\");\n</code></pre>\n\n<p>Here the python script runs for 3hrs to 7 hrs. </p>\n\n<p>The problem here is that, irrespective of the success or failure return status, the system receive a Signal HUP at this step randomly even if the process is running in backened and breaks the steps further. </p>\n\n<p>So  does anyone know, if there is any time limit for holding the return status from the system which leads to sending Hangup Signal?</p>\n\n<p>Inside the python script <code>script.py</code>, pexpect is used execute scripts remotely:</p>\n\n<pre><code>doSsh(User,Passwd,Name,'cd '+OutputDir+';python host-bringup.py setup')\ndoSsh(User,Passwd,Name,'cd '+OpsHome+'/ops/hlevel;python  dshost.py start')\n....\n</code></pre>\n\n<p>And <code>doSsh</code> is a <code>pexpect</code> subroutine:</p>\n\n<pre><code>def doSsh(user,password,host,command):\n    try:\n        child =  pexpect.spawn(\"ssh  -o ServerAliveInterval=100 -n %s@%s '%s'\" % (user,host,command),logfile=sys.stdout,timeout=None)\n        i = child.expect(['password:', r'\\(yes\\/no\\)',r'.*password for paasusr: ',r'.*[$#] ',pexpect.EOF])\n        if i == 0:\n                child.sendline(password)\n        elif i == 1:\n                child.sendline(\"yes\")\n                child.expect(\"password:\")\n                child.sendline(password)\n        data = child.read()\n        print data\n        child.close()\n        return True\n    except Exception as error:\n        print error\n        return False\n</code></pre>\n\n<p>This first <code>doSsh</code> execution takes <code>~6</code> hours and this session is killed after few hours of execution with the message :  <code>Signal HUP caught; exiting</code>but\nthe execution <code>python host-bringup.py setup</code> still runs in the remote host.</p>\n\n<p>So in the local system, the next <code>doSsh</code> never runs and also the rest steps inside the perl script never continue. </p>\n"}, {"tags": ["arrays", "regex", "perl", "csv"], "answers": [{"comments": [{"owner": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "edited": false, "score": 0, "creation_date": 1452071839, "post_id": 34627663, "comment_id": 57004109, "body": "Thanks for the answer. The code works like a charm. Also learnt that I&#39;m not supposed to use <code>cat</code> to read a file in this sort of a scenario.  However, I have this question: I have tried out the following code to write the contents to a <code>CSV</code> <code>open($output, &#39;&gt;&#39;, &#39;19_file.csv&#39;) or die &quot;Couldn&#39;t open file file.csv, $!&quot;; my $csv = Text::CSV -&gt; new ( { sep_char =&gt; &quot;,&quot;, eol =&gt; &quot;\\n&quot;, binary =&gt; 1, quote_char =&gt; undef } ); foreach my $element ( @array2 ) {  \t$csv -&gt; print ( \\*$output, \\@array2 ); }\t print &quot;CSV file writing done \\n&quot;; close($output) or die &quot;Couldn&#39;t close file properly&quot;;</code>"}, {"owner": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "edited": false, "score": 0, "creation_date": 1452071923, "post_id": 34627663, "comment_id": 57004160, "body": "<code>@array2</code> is the <code>splice</code>d version of the original array. The output that I get in CSV is the last line of the array printed multiple times. Where am I going wrong?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "edited": false, "score": 0, "creation_date": 1452094168, "post_id": 34627663, "comment_id": 57018614, "body": "@Ghost: If your <code>@array2</code> is the same as my <code>@set</code> (you really must choose better identifiers: the <code>@</code> says it&#39;s an array, and the name is a chance to explain its <i>purpose</i>) then it changes each time around the <code>while</code> loop (in fact, if you had <i>declared</i> it inside the loop as I did mine it wouldn&#39;t be accessible elsewhere) so you need to print its contents inside that loop too. But unless you&#39;re expecting your data to contain something more elaborate that just digits and colons then I would forget about <code>Text::CSV</code> and just <code>print join(&#39;,&#39;, @set), &quot;\\n&quot;</code> as I did"}, {"owner": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "edited": false, "score": 0, "creation_date": 1452144880, "post_id": 34627663, "comment_id": 57041514, "body": "My requirement is to get this <code>@set</code> outside of the <code>while</code> loop, and then print this data in <code>CSV</code>. That&#39;s why I&#39;m using <code>Text::CSV</code> since this array doesn&#39;t contain anything except digits and colons. So, I have made a global declaration on almost all variables/arrays/hashes including <code>my @set;</code> . The problem I&#39;m facing right now is conversion of <code>@set</code> into <code>CSV</code>.  My <code>CSV</code> looks something like this after using the code I&#39;ve mentioned in my previous comment  <code>19:03:48,782,45,41,45,51,45,49,45,41,45,67,45,70,45,44,38,38&zwnj;&#8203;,38,45,38,45,38,38,3&zwnj;&#8203;8,48</code> Only this element is repeated multiple times"}, {"owner": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "edited": false, "score": 0, "creation_date": 1452144920, "post_id": 34627663, "comment_id": 57041527, "body": "The rest of the elements don&#39;t seem to occur in the <code>CSV</code> at all. Can you please tell me where I might be going wrong?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "edited": false, "score": 0, "creation_date": 1452149846, "post_id": 34627663, "comment_id": 57043504, "body": "@Ghost: What you say doesn&#39;t make sense. I have explained that with data like that there is <i>no need</i> to use <code>Text::CSV</code>, and that your code isn&#39;t working <i>because</i> you have declared <code>@array2</code> globally. My code works correctly as it stands; why can&#39;t you use it like that? Variables should be declared as <i>late</i> as possible, and usually at the point they are first used. If you are still having problems then you should ask a new question as I can&#39;t tell what your code looks like if you&#39;re not using what I have written"}, {"owner": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "edited": false, "score": 0, "creation_date": 1452151548, "post_id": 34627663, "comment_id": 57044272, "body": "I have posted a new question <a href=\"https://stackoverflow.com/questions/34649479/issues-while-creating-csv-out-of-an-array-in-perl\">here</a>. Thanks for this answer. Upvoted and accepted."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1452066403, "last_edit_date": 1452066403, "creation_date": 1452064798, "answer_id": 34627663, "question_id": 34627289, "link": "https://stackoverflow.com/questions/34627289/array-manipulation-in-perl/34627663#34627663", "title": "Array manipulation in Perl", "body": "<p>As far as I can tell, all you need is <a href=\"http://perldoc.perl.org/functions/splice.html\" rel=\"nofollow\"><code>splice</code></a>, which will work fine as long as you know the record size and it's constant</p>\n\n<p>The data you showed has 52 fields, but the description of it requires 27 fields per record. It looks like each line has T, P, and t1 .. t24, rather than ending at t25</p>\n\n<p>Here's how it looks if I split the data into 26-element chunks</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @data = qw/\n    10:38:49 788 56 51 56 61 56 59 56 51 56 80 56 83 56 50 45 42 45 50 45 50 45 43 45 54 10:38:51 788 56 51 56 61 56 59 56 51 56 80 56 83 56 50 45 42 45 50 45 50 45 43 45 54\n/;\n\nwhile ( @data ) {\n    my @set = splice @data, 0, 26;\n    print join(',', @set), \"\\n\";\n}\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>10:38:49,788,56,51,56,61,56,59,56,51,56,80,56,83,56,50,45,42,45,50,45,50,45,43,45,54\n10:38:51,788,56,51,56,61,56,59,56,51,56,80,56,83,56,50,45,42,45,50,45,50,45,43,45,54\n</code></pre>\n\n<p>If you wanted to use <a href=\"http://metacpan.org/module/List::MoreUtils\" rel=\"nofollow\"><code>List::MoreUtils</code></a> instead of <code>splice</code>, the the <code>natatime</code> function returns an iterator that will do the same thing as the <code>splice</code> above</p>\n\n<p>Like this</p>\n\n<pre><code>use List::MoreUtils qw/ natatime /;\n\nmy $iter = natatime 26, @data;\n\nwhile ( my @set = $iter-&gt;() ) {\n    print join(',', @set), \"\\n\";\n}\n</code></pre>\n\n<p>The output is identical to that of the program above</p>\n\n<h2>Note</h2>\n\n<p>It is very wrong to start a new shell process just to use <code>cat</code> to read a file. The standard method is to undefine the input record separator <code>$/</code> like this</p>\n\n<pre><code>my $file = do {\n    open my $fh, '&lt;', '&lt;file_name&gt;.txt' or die \"Unable to open file for input: $!\";\n    local $/;\n    &lt;$fh&gt;;\n};\n</code></pre>\n\n<p>Or if you prefer you could use <a href=\"http://metacpan.org/module/File::Slurper\" rel=\"nofollow\"><code>File::Slurper</code></a> like this</p>\n\n<pre><code>use File::Slurper qw/ read_binary /;\n\nmy $file = read_binary '&lt;file_name&gt;.txt';\n</code></pre>\n\n<p>although you will probably have to install it as it is not a core module</p>\n"}], "owner": {"reputation": 3876, "user_id": 1072765, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00c053be97f619e2d33b1eb5761c42be?s=128&d=identicon&r=PG", "display_name": "Ghost", "link": "https://stackoverflow.com/users/1072765/ghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 34627663, "answer_count": 1, "score": 1, "last_activity_date": 1452066403, "creation_date": 1452063184, "question_id": 34627289, "link": "https://stackoverflow.com/questions/34627289/array-manipulation-in-perl", "title": "Array manipulation in Perl", "body": "<p><strong>The Scenario is as follows:</strong> </p>\n\n<p>I have a dynamically changing text file which I'm passing to a variable to capture a pattern that occurs throughout the file. It looks something like this: </p>\n\n<pre><code>my @array1; \nmy $file = `cat &lt;file_name&gt;.txt`;\nif (@array1 = ( $file =~ m/&lt;pattern_match&gt;/g) ) {\n    print \"@array1\\n\";\n}\n</code></pre>\n\n<p>The array looks something like this: </p>\n\n<pre><code>10:38:49 788 56 51 56 61 56 59 56 51 56 80 56 83 56 50 45 42 45 50 45 50 45 43 45 54 10:38:51 788 56 51 56 61 56 59 56 51 56 80 56 83 56 50 45 42 45 50 45 50 45 43 45 54\n</code></pre>\n\n<p>From the above <code>array1</code> output, the pattern of the array is something like this: </p>\n\n<pre><code>T1 P1 t1(1) t1(2)...t1(25) T2 P2 t2(1) t2(2)...t2(25) so on and so forth\n</code></pre>\n\n<p>Currently, <code>/g</code> in the <code>regex</code> returns a set of values that occur only twice (only because the txt file contains this pattern that number of times). This particular pattern occurrence will change depending on the file name that I plan to pass dynamically. </p>\n\n<p><strong>What I intend to acheive:</strong> </p>\n\n<p>The final result should be a <code>csv</code> file that contains these values in the following format: </p>\n\n<pre><code>T1,P1,t1(1),t1(2),...,t1(25) \nT2,P2,t2(1),t2(2),...,t2(25) \nso on and so forth\n</code></pre>\n\n<p>For instance: My final CSV file should look like this: </p>\n\n<pre><code>10:38:49,788,56,51,56,61,56,59,56,51,56,80,56,83,56,50,45,42,45,50,45,50,45,43,45,54\n10:38:51,788,56,51,56,61,56,59,56,51,56,80,56,83,56,50,45,42,45,50,45,50,45,43,45,54\n</code></pre>\n\n<p>The delimiter for this pattern is <code>T1</code> which is time in the format <code>\\d\\d:\\d\\d:\\d\\d</code> </p>\n\n<p><em>Example:</em> <code>10:38:49</code>, <code>10:38:51</code> etc</p>\n\n<p><strong>What I have tried so far:</strong> </p>\n\n<pre><code>use Data::Dumper; \nuse List::MoreUtils qw(part);\nmy $partitions = 2;\nmy $i = 0;\nprint Dumper part {$partitions * $i++ / @array1} @array1;\n</code></pre>\n\n<p>In this particular case, <code>my $partitions = 2;</code> holds good since the pattern occurrence in the txt file is only twice, and hence, I'm splitting the array into two. However, as mentioned earlier, the pattern occurrence number keeps changing according to the txt file I use. </p>\n\n<p><strong>The Question:</strong> </p>\n\n<p>How can I make this code more generic to achieve my final goal of splitting the array into multiple equal sized arrays without losing the contents of the original array, and then converting these mini-arrays into one single CSV file? </p>\n\n<p>If there is any other workaround for this other than array manipulation, please do let me know. </p>\n\n<p>Thanks in advance. </p>\n\n<p>PS: I considered Hash of Hashes and Array of Hashes, but that kind of a data structure did not seem to be healthy solution for the problem I'm facing right now. </p>\n"}, {"tags": ["regex", "perl", "file-io"], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 1, "last_activity_date": 1452059380, "creation_date": 1452059380, "answer_id": 34626481, "question_id": 34626458, "link": "https://stackoverflow.com/questions/34626458/capturing-a-particular-character-from-a-string-in-perl/34626481#34626481", "title": "Capturing a particular character from a string in Perl", "body": "<p>Use anchors and change the first <code>\\w</code> to <code>[A-Z]</code> because <code>\\w</code> should also match <code>_</code>. Now, get the Character you want from group index 1.</p>\n\n<pre><code>/^[A-Z]{3,}_([SIPFLH]).*;/ \n</code></pre>\n\n<p>or</p>\n\n<pre><code>/^[^_]{3,}_\\K[SIPFLH](?=.*;)/ \n</code></pre>\n\n<p><a href=\"https://regex101.com/r/fM5jO5/1\" rel=\"nofollow\">DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467890472, "last_edit_date": 1467890472, "creation_date": 1452061140, "answer_id": 34626831, "question_id": 34626458, "link": "https://stackoverflow.com/questions/34626458/capturing-a-particular-character-from-a-string-in-perl/34626831#34626831", "title": "Capturing a particular character from a string in Perl", "body": "<p>If you trust your data then there's no reason to check the value of the character right after the first underscore -- you can just grab it and use it</p>\n\n<p>This short Perl program demonstrates</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nwhile ( &lt;DATA&gt; ) {\n    say $1 if /_(.)/;\n}\n\n__DATA__\nHFH_F_OPL_J0                                       ;comment1\nHIJ_I_AAA_V2_DSD                                   ;comment2\nALE_H_FB_V1                                        ;comment3\nZXZPOIF_P                                              ;comment4\nRST0DREK_S\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>F\nI\nH\nP\nS\n</code></pre>\n\n<p>If you want to be slightly more secure then you can use a character class instead of a dot, which changes that line of my code to</p>\n\n<pre><code>say $1 if /_([HIFPLS])/;\n</code></pre>\n\n<p>The output is identical to that of the original code</p>\n"}], "owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 34626481, "answer_count": 2, "score": 0, "last_activity_date": 1467890472, "creation_date": 1452059284, "question_id": 34626458, "link": "https://stackoverflow.com/questions/34626458/capturing-a-particular-character-from-a-string-in-perl", "title": "Capturing a particular character from a string in Perl", "body": "<p>I have a file with contents like this:</p>\n\n<pre><code>HFH_F_OPL_J0                                       ;comment1\nHIJ_I_AAA_V2_DSD                                   ;comment2\nALE_H_FB_V1                                        ;comment3\nZXZPOIF_P                                              ;comment4\nRST0DREK_S                                              ;comment5\n</code></pre>\n\n<p>I need to match the single character, always present after the first underscore, and always one of [H, I, F, P, L, S] <em>only</em>. </p>\n\n<p>What regex is to be used for this? </p>\n\n<pre><code>/(\\w{3,})_([S|I|P|F|L|H]{1})(.*)\\;/ \n</code></pre>\n\n<p>does not give the right results. </p>\n"}, {"tags": ["perl", "encryption", "openssl", "dollar-sign"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1452063652, "creation_date": 1452063652, "answer_id": 34627396, "question_id": 34626114, "link": "https://stackoverflow.com/questions/34626114/openssl-string-decryption-in-perl/34627396#34627396", "title": "Openssl string decryption in Perl", "body": "<p>If you want to encode and decode Base 64 strings then you should use the <a href=\"http://metacpan.org/module/MIME::Base64\" rel=\"nofollow\"><code>MIME::Base64</code></a> module</p>\n\n<p>The code would look like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse MIME::Base64;\n\nmy $input = 'build:$6$n2cR7cY/$aKv6qQRWjYMIQIyAdTsw6nPtMzEZoqHziqyrL9sn/m29k5mkQjgcwZarA.8lAte6mmDGakipjetuCiH9YF2fF0:16736:0:99999:7:::';\n\nprint \"Input: $input\\n\\n\";\n\nmy $enc = encode_base64($input);\nprint \"Encrypted Output: $enc\\n\";\n\nmy $dec = decode_base64($enc);\nprint \"Decrypted Output: $dec\\n\";\n</code></pre>\n\n<h2>output</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>Input: build:$6$n2cR7cY/$aKv6qQRWjYMIQIyAdTsw6nPtMzEZoqHziqyrL9sn/m29k5mkQjgcwZarA.8lAte6mmDGakipjetuCiH9YF2fF0:16736:0:99999:7:::\n\nEncrypted Output: YnVpbGQ6JDYkbjJjUjdjWS8kYUt2NnFRUldqWU1JUUl5QWRUc3c2blB0TXpFWm9xSHppcXlyTDlz\nbi9tMjlrNW1rUWpnY3daYXJBLjhsQXRlNm1tREdha2lwamV0dUNpSDlZRjJmRjA6MTY3MzY6MDo5\nOTk5OTo3Ojo6\n\nDecrypted Output: build:$6$n2cR7cY/$aKv6qQRWjYMIQIyAdTsw6nPtMzEZoqHziqyrL9sn/m29k5mkQjgcwZarA.8lAte6mmDGakipjetuCiH9YF2fF0:16736:0:99999:7:::\n</code></pre>\n"}], "owner": {"reputation": 11196, "user_id": 1079907, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a7c69e39fbec2c781db5f27b40f63023?s=128&d=identicon&r=PG", "display_name": "Sunil Bojanapally", "link": "https://stackoverflow.com/users/1079907/sunil-bojanapally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 0, "accepted_answer_id": 34627396, "answer_count": 1, "score": 1, "last_activity_date": 1452063652, "creation_date": 1452057543, "question_id": 34626114, "link": "https://stackoverflow.com/questions/34626114/openssl-string-decryption-in-perl", "title": "Openssl string decryption in Perl", "body": "<p>I have a Perl script which takes a input string. The string contains <code>$</code>'s sign in it. The string is encrypted using openssl and decrypted back. <code>enc</code> and <code>dec</code> are the encrypted and decrypted strings in the below code snippet.   </p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $input = 'build:$6$n2cR7cY/$aKv6qQRWjYMIQIyAdTsw6nPtMzEZoqHziqyrL9sn/m29k5mkQjgcwZarA.8lAte6mmDGakipjetuCiH9YF2fF0:16736:0:99999:7:::';\n\nprint \"Input: $input\\n\";\nmy $enc = `openssl enc -base64 -A &lt;&lt;&lt; $input`;\nprint \"Encrypted Output: $enc\\n\";\nmy $dec = `openssl enc -base64 -A -d &lt;&lt;&lt; $enc`;\nprint \"Decrypted Output: $dec\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code># ./temp.pl\nInput: build:$6$n2cR7cY/$aKv6qQRWjYMIQIyAdTsw6nPtMzEZoqHziqyrL9sn/m29k5mkQjgcwZarA.8lAte6mmDGakipjetuCiH9YF2fF0:16736:0:99999:7:::\nEncrypted Output: YnVpbGQ6Ly9tMjlrNW1rUWpnY3daYXJBLjhsQXRlNm1tREdha2lwamV0dUNpSDlZRjJmRjA6MTY3MzY6MDo5OTk5OTo3Ojo6Cg==\nDecrypted Output: build://m29k5mkQjgcwZarA.8lAte6mmDGakipjetuCiH9YF2fF0:16736:0:99999:7:::\n</code></pre>\n\n<p>The issue I am facing is the decrypted string is not same as input string provided to encryption. I see all the characters after <code>$</code> are removed. May I know what <code>$</code> resembles here and how can I retain entire string back ?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "edited": false, "score": 0, "creation_date": 1452048816, "post_id": 34624562, "comment_id": 56995517, "body": "Thanks. I am trying to trim the <code>0</code> padding from the input data and that&#39;s why I am using <code>trim</code>. In my previous question, @bolav&#39;s update to the regex solved the problem. However, when I apply it to a different data, it seems to have an issue and I have no idea why that&#39;s the case. I would like my <code>field6</code> output to be <code>0</code> instead of <code>blank</code> or <code>000</code> and <code>10</code> and not <code>010</code>. Does that make sense?"}, {"owner": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "edited": false, "score": 0, "creation_date": 1452054607, "post_id": 34624562, "comment_id": 56997045, "body": "thanks again. I realized the question is not a clear stand alone after you responded. Thanks for looking into it again and solving this problem for me. I thought I need to change the entire <code>TPAD</code> array and I did try to print that array but for whatever reason, I just recall seeing one element so I thought it probably applies for all fields and kept breaking my head over why the logic is not working."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "edited": false, "score": 0, "creation_date": 1452062056, "post_id": 34624562, "comment_id": 56999534, "body": "@Ecognium: You can print the <code>TPAD</code> array with <code>print &quot;$_\\n&quot; for @{ $parser-&gt;{TPAD} }</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1452050796, "last_edit_date": 1452050796, "creation_date": 1452046459, "answer_id": 34624562, "question_id": 34623929, "link": "https://stackoverflow.com/questions/34623929/parsefixedlength-trimming-issue/34624562#34624562", "title": "Parse::FixedLength Trimming Issue", "body": "<h2>Update</h2>\n\n<p>Okay I've read your original question and understand better what it is you're wanting. You really should make each question stand on its own -- Stack Overflow isn't a forum</p>\n\n<p>The reason the suggested modification doesn't work for this configuration is that <code>$parser-&gt;{TPAD}</code> is an <em>array</em> of regular expressions to be removed from the front of each <em>justified</em> field. In your case it's all the fields except <code>field2</code>. You are modifying only the first element of the array, so you are fixing only <code>field1</code></p>\n\n<p>Here's a more generalised modification that changes <em>every</em> element of the <code>$parser-&gt;{TPAD}</code> array so that it always leaves at least the final character of the field, whatever that is. Note that, if your padding character is a space in formats like <code>5R</code> then it will trim an all-space field down to a single space instead of emptying it</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Parse::FixedLength;\nuse Data::Dump;\n\nmy $parser = Parse::FixedLength-&gt;new(\n    [   field1 =&gt; '12R0:1:12',\n        field2 =&gt; '2:13:14',\n        field3 =&gt; '5R0:15:19',\n        field4 =&gt; '10R0:20:29',\n        field5 =&gt; '2R0:30:31',\n        field6 =&gt; '3R0:32:34'\n    ],\n    { trim =&gt; 1 }\n);\n\n$_ = qr/$_(?=.)/ for @{ $parser-&gt;{TPAD} };\n\nwhile (&lt;DATA&gt;) {\n    my $data = $parser-&gt;parse($_);\n    dd $data;\n}\n\n__DATA__\n119401122910XX42152931177771001000\n119401122910XX42152931177771001010\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>bless({\n  field1 =&gt; 119401122910,\n  field2 =&gt; \"XX\",\n  field3 =&gt; 42152,\n  field4 =&gt; 9311777710,\n  field5 =&gt; 1,\n  field6 =&gt; 0,\n}, \"Parse::FixedLength::HashAsObj::Href1\")\nbless({\n  field1 =&gt; 119401122910,\n  field2 =&gt; \"XX\",\n  field3 =&gt; 42152,\n  field4 =&gt; 9311777710,\n  field5 =&gt; 1,\n  field6 =&gt; 10,\n}, \"Parse::FixedLength::HashAsObj::Href1\")\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>I notice that your code produces the result that you want if you simply remove the <code>trim =&gt; 1</code> option. However I presume you have reasons for wanting that in place so here is a solution</p>\n\n<p>Since <a href=\"http://metacpan.org/module/Parse::FixedLength\" rel=\"nofollow\"><code>Parse::FixedLength</code></a> allows for <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow\"><code>pack</code></a> template elements to be used, you can explicitly specify an <code>A</code> field to get your data transferred literally. It's the same template as the module uses for the other fields, but it disables the <code>trim</code> option for that field</p>\n\n<p>This code does as you ask</p>\n\n<pre><code>    use strict;\n    use warnings;\n\n    use Parse::FixedLength;\n    use Data::Dump;\n\n    my $parser = Parse::FixedLength-&gt;new([\n              field1 =&gt; '12R0:1:12',\n              field2 =&gt; '2:13:14',\n              field3 =&gt; '5R0:15:19',\n              field4 =&gt; '10R0:20:29',\n              field5 =&gt; 'A2:30:31',\n              field6 =&gt; 'A3:32:34'\n              ], {trim =&gt; '1'});\n\n    while ( &lt;DATA&gt; ) {\n        my $data = $parser-&gt;parse($_);\n        dd $data;\n    }\n\n    __DATA__\n    119401122910XX42152931177771001000\n    119401122910XX42152931177771001010\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>    bless({\n      field1 =&gt; 119401122910,\n      field2 =&gt; \"XX\",\n      field3 =&gt; 42152,\n      field4 =&gt; 9311777710,\n      field5 =&gt; \"01\",\n      field6 =&gt; \"000\",\n    }, \"Parse::FixedLength::HashAsObj::Href1\")\n    bless({\n      field1 =&gt; 119401122910,\n      field2 =&gt; \"XX\",\n      field3 =&gt; 42152,\n      field4 =&gt; 9311777710,\n      field5 =&gt; \"01\",\n      field6 =&gt; \"010\",\n    }, \"Parse::FixedLength::HashAsObj::Href1\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "edited": false, "score": 0, "creation_date": 1452054730, "post_id": 34625225, "comment_id": 56997079, "body": "Thanks @7stud. I know you will not know this from reading just this question but I do have 1000s of fields so I wanted to avoid looping through the parsed values. Also, the number of records can be in the 5-50MM range so fixing directly at the parser will be more efficient."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "edited": false, "score": 0, "creation_date": 1452055102, "post_id": 34625225, "comment_id": 56997184, "body": "@Ecognium, <i>so fixing directly at the parser will be more efficient</i>--I do not see why that is necessarily true. And, if you want efficiency, I would look elsewhere, i.e. use <code>unpack()</code> directly."}, {"owner": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "edited": false, "score": 0, "creation_date": 1452055323, "post_id": 34625225, "comment_id": 56997240, "body": "Btw, besides efficiency I am also making my parsing a bit maintainable but reading from a config file and create the specification that <code>Parse::FixedLength</code>. I will be interested in learning about other ways of doing it, however."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "edited": false, "score": 0, "creation_date": 1452056828, "post_id": 34625225, "comment_id": 56997684, "body": "@Ecognium, See the example I posted."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1452052505, "last_edit_date": 1452052505, "creation_date": 1452051469, "answer_id": 34625225, "question_id": 34623929, "link": "https://stackoverflow.com/questions/34623929/parsefixedlength-trimming-issue/34625225#34625225", "title": "Parse::FixedLength Trimming Issue", "body": "<p>You can just replace values that have been trimmed down to the bone with 0:</p>\n\n<pre><code>my $data = $parser-&gt;parse($_);\n\nfor my $val (values %$data) {\n    $val =~ s/^$/0/  #If the val is blank, replace with a 0\n}\n</code></pre>\n\n<p>Here's a full example:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\n\nuse Parse::FixedLength;\nuse Data::Dumper;\nmy $parser = Parse::FixedLength-&gt;new([\n          field1 =&gt; '12R0:1:12',\n          field2 =&gt; '2:13:14',\n          field3 =&gt; '5R0:15:19',\n          field4 =&gt; '10R0:20:29',\n          field5 =&gt; '2R0:30:31',\n          field6 =&gt; '3R0:32:34'\n          ], {trim =&gt; '1'});\n\n#$parser-&gt;{TPAD}[0] = qr/^0+(?=\\d)/;   # Modification suggested by @bolav\n\nwhile (&lt;DATA&gt;) {\n    warn \"No record terminator found!\\n\" unless chomp;\n    warn \"Short Record!\\n\" unless $parser-&gt;length == length;\n    my $data = $parser-&gt;parse($_);\n    for my $val (values %$data) {\n        $val =~ s/^$/0/\n    }\n    #s/(\\w+)/\\u\\L$1/g for @$data{qw(first_name last_name)};\n    print Dumper $data;\n}\n\n__DATA__\n119401122910XX42152931177771001000\n119401122910XX42152931177771001010\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>$VAR1 = bless( {\n                 'field1' =&gt; '119401122910',\n                 'field5' =&gt; '1',\n                 'field2' =&gt; 'XX',\n                 'field3' =&gt; '42152',\n                 'field4' =&gt; '9311777710',\n                 'field6' =&gt; '0'\n               }, 'Parse::FixedLength::HashAsObj::Href1' );\n$VAR1 = bless( {\n                 'field1' =&gt; '119401122910',\n                 'field5' =&gt; '1',\n                 'field2' =&gt; 'XX',\n                 'field3' =&gt; '42152',\n                 'field4' =&gt; '9311777710',\n                 'field6' =&gt; '10'\n               }, 'Parse::FixedLength::HashAsObj::Href1' );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1452078632, "last_edit_date": 1452078632, "creation_date": 1452056804, "answer_id": 34625994, "question_id": 34623929, "link": "https://stackoverflow.com/questions/34623929/parsefixedlength-trimming-issue/34625994#34625994", "title": "Parse::FixedLength Trimming Issue", "body": "<p>You can use <code>unpack()</code> directly:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\n\nuse Data::Dumper;\n\n=begin\nprint \" \";\n\nfor my $i (1..3) {\n    printf '%10s', $i;\n}\nprint(\"\\n\");\n\nsay \"0123456789\" x 4;\nsay \"119401122910XX42152931177771001000\";\n\n--output:--\n          1         2         3\n0123456789012345678901234567890123456789\n119401122910XX42152931177771001000\n=cut\n\n# @12 =&gt; start at index position 12 in the record (0 based indexing)\n# A5  =&gt; read 5 characters\nmy $pattern = &lt;&lt;'END_OF_PATTERN';\n\n@0      A12 \n@12     A2\n@14     A5\n@19     A10\n@29     A2\n@31     A3\n\nEND_OF_PATTERN\n\n\nwhile (my $line = &lt;DATA&gt;) {\n\n    my @fields = unpack $pattern, $line;\n\n    for my $field (@fields[-2, -1]) {\n\n        $field =~ s/\n                        ^       #Match start of string, followed by...\n                        0*      #A literal 0, zero or more times (greedy), followed by...\n                        (\\d+)   #A digit, one or more times, captured in group 1, followed by...\n                        $       #The end of the string.\n                  /$1/xms;   #Replace all the above with capture group 1.      \n    }\n\n    say Dumper @fields;\n    say '-' x 10;\n}\n\n\n__DATA__\n119401122910XX42152931177771001000\n119401122910XX42152931177771001010\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>$VAR1 = '119401122910';\n$VAR2 = 'XX';\n$VAR3 = '42152';\n$VAR4 = '9311777710';\n$VAR5 = '1';\n$VAR6 = '0';\n\n----------\n$VAR1 = '119401122910';\n$VAR2 = 'XX';\n$VAR3 = '42152';\n$VAR4 = '9311777710';\n$VAR5 = '1';\n$VAR6 = '10';\n\n----------\n</code></pre>\n\n<p>Note that you can start at any index you want, you can reread parts of the record, etc. For instance:</p>\n\n<pre><code>@0  A10    #Start at index 0, read 10 characters\n@0  A5     #Go back to index 0, read 5 charters\n@20 A2     #Jump to index 20, read 2 characters\n@18 A12    #Go back to index 18, read 12 characters\n</code></pre>\n"}], "owner": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 34624562, "answer_count": 3, "score": 2, "last_activity_date": 1452078632, "creation_date": 1452041631, "last_edit_date": 1495541721, "question_id": 34623929, "link": "https://stackoverflow.com/questions/34623929/parsefixedlength-trimming-issue", "title": "Parse::FixedLength Trimming Issue", "body": "<p>In my earlier <a href=\"https://stackoverflow.com/questions/34409469/avoid-trimming-all-leading-padding-chars-with-parsefixedlength\">question</a> I had asked how to avoid Parse::FixedLength from trimming all zeros. The code @bolav suggested worked for the sample data I was using but somehow it does not seem to work for my new data. </p>\n\n<p>It seems like it should work but somehow it is trimming all zeros for this data. It is likely I am making a very obvious mistake but I cannot figure out what it is. Appreciate your help. </p>\n\n<pre><code>    #!/usr/bin/perl\n\n    use strict;\n    use warnings; \n    use Parse::FixedLength;\n    use Data::Dumper;\n\n    my $parser = Parse::FixedLength-&gt;new([\n              field1 =&gt; '12R0:1:12',\n              field2 =&gt; '2:13:14',\n              field3 =&gt; '5R0:15:19',\n              field4 =&gt; '10R0:20:29',\n              field5 =&gt; '2R0:30:31',\n              field6 =&gt; '3R0:32:34'\n              ], {trim =&gt; '1'});\n\n    $parser-&gt;{TPAD}[0] = qr/^0+(?=\\d)/;   # Modification suggested by @bolav\n\n    while (&lt;DATA&gt;) {\n        warn \"No record terminator found!\\n\" unless chomp;\n        warn \"Short Record!\\n\" unless $parser-&gt;length == length;\n        my $data = $parser-&gt;parse($_);\n        print Dumper $data;\n    }\n    __DATA__\n    119401122910XX42152931177771001000\n    119401122910XX42152931177771001010\n</code></pre>\n\n<p>The last field should be <code>0</code> and <code>10</code> but it outputs <code>blank</code> and <code>10</code>. <strong>Update</strong>: I don't want the output for <code>field6</code> to be <code>000</code> and <code>010</code> -- I can get that just by removing the <code>trim</code> option. The regex is supposed to fix this issue but for some reason it is not doing that. </p>\n\n<pre><code>$VAR1 = bless( {\n                 'field1' =&gt; '119401122910',\n                 'field6' =&gt; '',\n                 'field4' =&gt; '9311777710',\n                 'field2' =&gt; 'XX',\n                 'field3' =&gt; '42152',\n                 'field5' =&gt; '1'\n               }, 'Parse::FixedLength::HashAsObj::Href1' );\n$VAR1 = bless( {\n                 'field1' =&gt; '119401122910',\n                 'field6' =&gt; '10',\n                 'field4' =&gt; '9311777710',\n                 'field2' =&gt; 'XX',\n                 'field3' =&gt; '42152',\n                 'field5' =&gt; '1'\n               }, 'Parse::FixedLength::HashAsObj::Href1' );\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452040647, "post_id": 34623721, "comment_id": 56993156, "body": "Why are you escaping and quoting the input values? Have you inspected the contents of <code>@tiers</code>? It should be fairly obvious why things aren&#39;t matching  when you look at the data..."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452040933, "post_id": 34623721, "comment_id": 56993248, "body": "Just to make my previous comment 100% clear, <code>.</code> in your regex pattern will match any single character. It will <i>not</i> match the string literal <code>\\.</code>, which you&#39;ve managed to create a couple times."}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452040961, "post_id": 34623721, "comment_id": 56993259, "body": "different setting return different values but should all contain support.tier.1, I have no control over other sources, just try to find all entries with the keyword, this is only the simulation trying to be similar to the real situation"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452041071, "post_id": 34623721, "comment_id": 56993295, "body": "Here, have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>: <a href=\"https://regex101.com/r/hK2dD5/1\" rel=\"nofollow noreferrer\">regex101.com/r/hK2dD5/1</a>"}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "edited": false, "score": 0, "creation_date": 1452041087, "post_id": 34623721, "comment_id": 56993298, "body": "@Gang what emails do you want to be accepted?"}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1452041347, "post_id": 34623721, "comment_id": 56993373, "body": "all entries contains support.tier.1 which is 4 in this case"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452041442, "post_id": 34623721, "comment_id": 56993397, "body": "@Gang No, there are not 4 strings that contain that substring, as I&#39;ve shown in my example."}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452041695, "post_id": 34623721, "comment_id": 56993488, "body": "@MattJacob, if this  cannot be achieved by regex, any other methods is OK too, I only care about the final result, thanks"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452041862, "post_id": 34623721, "comment_id": 56993533, "body": "You can fix your regex by accounting for the backslash that exists sometimes (<code>support\\\\?\\.tier\\\\?\\.1</code>), but I really feel like you&#39;re not addressing the root cause. Your data should not be coming in escaped and quoted for use in a regular expression."}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1452042104, "post_id": 34623721, "comment_id": 56993602, "body": "The root cause is different subs tried to accommodate different sendmail and postfix with dot, I might take the regex off if this is not the solution"}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452046474, "post_id": 34623721, "comment_id": 56994920, "body": "@Matt Jacob, would you please post this 1 line and I will accept it and this is exactly what I am looking for, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1452046276, "post_id": 34624441, "comment_id": 56994867, "body": "this is exactly the answer I am looking for, and I totally agree with the format you proposed, I will ask Matt how to proceed following your instructions"}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 2, "last_activity_date": 1452045494, "creation_date": 1452045494, "answer_id": 34624441, "question_id": 34623721, "link": "https://stackoverflow.com/questions/34623721/match-string-with-escape-characters-or-backslashes/34624441#34624441", "title": "Match string with escape characters or backslashes", "body": "<p>I may not fully understand, but if I do I agree with the answer that Matt has already attempted to give you.  Regex definitely <strong>can</strong> handle your request if you are saying that the escape character may or may not be before each period in <code>support.tier.1</code>.</p>\n\n<p>A single backslash is <code>\\\\</code> and <code>?</code> means essentially \"one or zero:\"</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @tiers = (\n  \"support.tier.1\",\n  \"support.tier.2\",\n  qw(\"support\\.tier\\.1\"),\n  \"support\\.tier\\.2\",\n  quotemeta(\"support.tier.1\\@example.com\"),\n  \"support.tier.2\\@example.com\",\n  \"support\\.tier\\.1\\@example\\.com\",\n  \"support\\.tier\\.2\\@example\\.com\",\n  \"sales\\@example\\.com\",\n);\n\nmy $count = 0;\n\nforeach my $tier (@tiers) {\n  if ($tier =~ /support\\\\?.tier\\\\?.1/) {\n    print \"$count: $tier\\n\";\n  }\n  $count++;\n}\n</code></pre>\n\n<p>On an unrelated note, for the purpose of creating an easy-to-follow example, I included a suggestion on how you might better format your sample data instead of using the <code>$str</code> and <code>push</code>es.</p>\n\n<p>If this works, I'd recommend you ask Matt to post his comment responses as an answer and accept it.</p>\n"}, {"comments": [{"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1452052335, "post_id": 34625239, "comment_id": 56996406, "body": "some sendmail vm servers are configured to accept format 3 and 5 for username with dot, that is why issue arises.  Thanks for showing me the clean and clean format."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1452057662, "post_id": 34625239, "comment_id": 56997946, "body": "@Gang: Please take a look at my revised solution, which may help you further"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1452057636, "last_edit_date": 1452057636, "creation_date": 1452051579, "answer_id": 34625239, "question_id": 34623721, "link": "https://stackoverflow.com/questions/34623721/match-string-with-escape-characters-or-backslashes/34625239#34625239", "title": "Match string with escape characters or backslashes", "body": "<h2>Update</h2>\n\n<p>Since it seems that you may indeed be getting strings containing backslashes, I suggest that you use <a href=\"http://metacpan.org/module/String::Unescape\" rel=\"nofollow\"><code>String::Unescape</code></a> to remove those backslashes before testing your strings. You will probably have to install it as it isn't a core module</p>\n\n<p>Your code would look like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse String::Unescape;\n\nmy @tiers = (\n  \"support.tier.1\",\n  \"support.tier.2\",\n  qw(\"support\\.tier\\.1\"),\n  \"support\\.tier\\.2\",\n  quotemeta(\"support.tier.1\\@example.com\"),\n  \"support.tier.2\\@example.com\",\n  \"support\\.tier\\.1\\@example\\.com\",\n  \"support\\.tier\\.2\\@example\\.com\",\n  \"sales\\@example\\.com\",\n);\n\nmy $count = 0;\n\nfor my $tier ( @tiers ) {\n\n  my $plain = String::Unescape-&gt;unescape($tier);\n\n  if ( $plain =~ /support\\.tier\\.1/ ) {\n    printf \"%d: %s\\n\", ++$count, $tier;\n  }\n}\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>1: support.tier.1\n2: \"support\\.tier\\.1\"\n3: support\\.tier\\.1\\@example\\.com\n4: support.tier.1@example.com\n</code></pre>\n\n<p>Note that there is a bug in the <code>String::Unescape</code> module that prevents it from exporting the <code>unescape</code> function. It just means you have to use <code>String::Unescape::unescape</code> or <code>String::Unescape-&gt;unescape</code> all the time. Or you could import it manually with <code>*unescape = \\&amp;String::Unescape::unescape</code></p>\n\n<p><br/></p>\n\n<hr>\n\n<p>The <code>@tiers</code> array contains these exact strings</p>\n\n<ol>\n<li><code>support.tier.1</code></li>\n<li><code>support.tier.2</code></li>\n<li><code>\"support\\.tier\\.1\"</code></li>\n<li><code>support.tier.2</code></li>\n<li><code>support\\.tier\\.1\\@example\\.com</code></li>\n<li><code>support.tier.2@example.com</code></li>\n<li><code>support.tier.1@example.com</code></li>\n<li><code>support.tier.2@example.com</code></li>\n<li><code>sales@example.com</code></li>\n</ol>\n\n<p>Can you see that only items 1 and 7 contain the string <code>support.tier.1</code>? The other two that I imagine you expected to match are 3 and 5, which contain spurious backslashes</p>\n\n<p>It's not clear, but it seems unlikely that you will be getting data in this format. If you really want to match <code>support.tier.1</code> where either dot may be preceded by a backslash character then you need <code>/support\\\\?\\.tier\\\\?\\.1/</code>, but I think you are misunderstanding the way Perl strings work</p>\n"}], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 34625239, "answer_count": 2, "score": -3, "last_activity_date": 1452351052, "creation_date": 1452040173, "last_edit_date": 1452351052, "question_id": 34623721, "link": "https://stackoverflow.com/questions/34623721/match-string-with-escape-characters-or-backslashes", "title": "Match string with escape characters or backslashes", "body": "<p>The following perl script and TestData simulate the situation where I can only find 2 instead of 4 expected. (to match all support.tier.1 with backslash in between).</p>\n\n<p>How can I modify this perl regex here? thanks</p>\n\n<pre><code>my @TestData(\n    \"support.tier.1\",\n    \"support.tier.2\",\n    qw(\"support\\.tier\\.1\"),\n    \"support\\.tier\\.2\",\n    quotemeta(\"support.tier.1\\@example.com\"),\n    \"support.tier.2\\@example.com\",\n    \"support\\.tier\\.1\\@example\\.com\",\n    \"support\\.tier\\.2\\@example\\.com\",\n    \"sales\\@example\\.com\"\n);\n</code></pre>\n\n<p>Here is the code to be changed:</p>\n\n<pre><code>my $count = 0;\nforeach my $tier(@TestData){\n    if($tier =~ m/support.tier.1/){\n        print \"$count: $tier\\n\";\n    }\n    $count++;\n}\n</code></pre>\n\n<p>I only get 2 matches while the expected is 4:</p>\n\n<pre><code>0: support.tier.1\n6: support.tier.1@example.com\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1452039196, "post_id": 34623451, "comment_id": 56992743, "body": "Dereferencing a reference doesn&#39;t make a copy of the original data; that would defeat the purpose of using references in the first place. You may be thinking of <code>$foo = { %hash }</code>, which creates an anonymous hash using a copy of the data in <code>%hash</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1452051914, "post_id": 34623451, "comment_id": 56996294, "body": "Note that it is more common to use <code>keys</code> and <code>values</code> than <code>each</code>, because with the last there can be problems with terminating a loop before the end, and iterating over one hash in two places simultaneously."}, {"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452109267, "post_id": 34623451, "comment_id": 57028411, "body": "@Borodin Thank you for mentioning this.  I had anticipated that adding or removing anything to a hash would be dangerous, but I had presumed that Perl would protect me otherwise.  I hadn&#39;t realized it wasn&#39;t re-entrant until you inspired me to research that online.  Though it seems Keys has the copying problem I was looking to avoid with Each"}, {"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452109425, "post_id": 34623451, "comment_id": 57028512, "body": "@ThisSuitIsBlackNot You are correct, though this is due to my poorly worded question.  My concern about list context leading to a copy still applies, but I wrote it in a way that made it seem like I thought the dereferencing caused the list context rather then the each method.  Or perhaps more accurately I didn&#39;t take the time to think about when list context occurred specifically, only that I expected it to occur by the time it hit the subroutine (since I had through each was a subroutine until ikegami&#39;s answer)"}], "answers": [{"comments": [{"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1452045614, "post_id": 34623576, "comment_id": 56994677, "body": "I had no idea about your comment starting &quot;as of 5.14...&quot;  that&#39;s good stuff.  I need to do a better job of reading release notes."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 5, "creation_date": 1452055193, "post_id": 34623576, "comment_id": 56997206, "body": "@Hambone <code>each $ref</code> was introduced as an <i>experimental</i> feature in 5.14, subject to later revision or removal. As of 5.24 it <i>will</i> be removed, as it turned out to be quite troublesome. In its place is the <code>postderef</code> feature, introduced as experimental in 5.20 and due to be upgraded to non-experimental (with no change in syntax or behavior) in 5.24."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 5, "last_activity_date": 1452041543, "last_edit_date": 1452041543, "creation_date": 1452039210, "answer_id": 34623576, "question_id": 34623451, "link": "https://stackoverflow.com/questions/34623451/does-iterating-over-a-hash-reference-require-implicitly-copying-it-in-perl/34623576#34623576", "title": "Does iterating over a hash reference require implicitly copying it in perl?", "body": "<p>No, the syntax you quote does not create a copy.</p>\n\n<p>This expression:</p>\n\n<pre><code>%{$hash_ref}\n</code></pre>\n\n<p>is exactly equivalent to:</p>\n\n<pre><code>%$hash_ref\n</code></pre>\n\n<p>and assuming the <code>$hash_ref</code> scalar variable does indeed contain a reference to a hash, then adding the <code>%</code> on the front is simply 'dereferencing' the reference - i.e. it resolves to a value that represents the underlying hash (the thing that <code>$hash_ref</code> was pointing to).</p>\n\n<p>If you look at the documentation for the <a href=\"http://perldoc.perl.org/functions/each.html\">each</a> function, you'll see that it expects a hash as an argument.  Putting the <code>%</code> on the front is how you provide a hash when what you have is a hashref.</p>\n\n<p>If you wrote your own subroutine and passed a hash to it like this:</p>\n\n<pre><code>my_sub(%$hash_ref);\n</code></pre>\n\n<p>then on some level you could say that the hash had been 'copied', since inside the subroutine the special <code>@_</code> array would contain a list of all the key/value pairs from the hash.  However even in that case, the elements of @_ are actually aliases for the keys and values.  You'd only actually get a copy if you did something like: <code>my @args = @_</code>.</p>\n\n<p>Perl's builtin <code>each</code> function is declared with the prototype '+' which effectively coerces a hash (or array) argument into a reference to the underlying data structure.</p>\n\n<p>As an aside, starting with version 5.14, the <code>each</code> function can also take a reference to a hash. So instead of:</p>\n\n<pre><code>($key, $value) = each(%{$hash_ref})\n</code></pre>\n\n<p>You can simply say:</p>\n\n<pre><code>($key, $value) = each($hash_ref)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 0, "creation_date": 1452108792, "post_id": 34639499, "comment_id": 57028093, "body": "Thank you.  I feel this is a better explanation then the above because it better addresses why they list context I expected to be created didn&#39;t occur; though admittedly If I had better asked the question it may have been clearer that my confusion was due to my expecting each to take the list context.  To clarify though, your saying that each is not a subroutine as I assumed?  Is the ability to avoid list context strictly limited to operators written by perl then?  I know I can override operators, but only with a subroutine which requires a ref or list context correct?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 1, "creation_date": 1452109531, "post_id": 34639499, "comment_id": 57028589, "body": "This is the first line of <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"nofollow noreferrer\">perlfunc</a>: &quot;<i>The functions in this section can serve as terms in an expression. They fall into two major categories: list operators and named unary operators.</i>&quot; Some of the functions can&#39;t be replicated by subs, some are indistinguishable from subs with prototypes, and there might be some that are indistinguishable from ordinary subs, but all are implemented as operators."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 1, "creation_date": 1452109585, "post_id": 34639499, "comment_id": 57028630, "body": "No, subs can control how their callers are parsed too through prototypes (as I showed). You can also use features such as <code>cv_set_call_parser</code> to extend the parser. For example, <a href=\"http://search.cpan.org/perldoc?Syntax::Feature::Loop\" rel=\"nofollow noreferrer\"><code>use syntax qw( loop );</code></a> uses this."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1452115512, "last_edit_date": 1495541040, "creation_date": 1452102604, "answer_id": 34639499, "question_id": 34623451, "link": "https://stackoverflow.com/questions/34623451/does-iterating-over-a-hash-reference-require-implicitly-copying-it-in-perl/34639499#34639499", "title": "Does iterating over a hash reference require implicitly copying it in perl?", "body": "<p>No copy is created by <code>each</code> (though you do copy the returned values into <code>$key</code> and <code>$value</code> through assignment). The hash itself is passed to <code>each</code>.</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/each.html\" rel=\"nofollow noreferrer\"><code>each</code></a> is a little special. It supports the following syntaxes:</p>\n\n<pre><code>each HASH\neach ARRAY\n</code></pre>\n\n<p>As you can see, it doesn't accept an arbitrary expression. (That would be <code>each EXPR</code> or <code>each LIST</code>). The reason for that is to allow <code>each(%foo)</code> to pass the hash <code>%foo</code> itself to <code>each</code> rather than evaluating it in list context. <code>each</code> can do that because it's an operator, and operators can have their own parsing rules. However, you can do something similar with the <code>\\%</code> prototype.</p>\n\n<pre><code>use Data::Dumper;\n\nsub f     { print(Dumper(@_)); }\nsub g(\\%) { print(Dumper(@_)); }   # Similar to each\n\nmy %h = (a=&gt;1, b=&gt;2);\nf(%h);  # Evaluates %h in list context.\nprint(\"\\n\");\ng(%h);  # Passes a reference to %h.\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = 'a';           # 4 args, the keys and values of the hash\n$VAR2 = 1;\n$VAR3 = 'b';\n$VAR4 = 2;\n\n$VAR1 = {              # 1 arg, a reference to the hash\n          'a' =&gt; 1,\n          'b' =&gt; 2\n        };\n</code></pre>\n\n<p><code>%{$h_ref}</code> is the same as <code>%h</code>, so all of the above applies to <code>%{$h_ref}</code> too.</p>\n\n<hr>\n\n<p>Note that the hash isn't copied even if it is flattened. The keys are \"copied\", but the values are returned directly.</p>\n\n<pre><code>use Data::Dumper;\nmy %h = (abc=&gt;\"def\", ghi=&gt;\"jkl\");\nprint(Dumper(\\%h));\n$_ = uc($_) for %h;\nprint(Dumper(\\%h));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'abc' =&gt; 'def',\n          'ghi' =&gt; 'jkl'\n        };\n$VAR1 = {\n          'abc' =&gt; 'DEF',\n          'ghi' =&gt; 'JKL'\n        };\n</code></pre>\n\n<p>You can read more about this <a href=\"https://stackoverflow.com/a/5746000/176646\">here</a>.</p>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 34639499, "answer_count": 2, "score": 6, "last_activity_date": 1452115512, "creation_date": 1452038568, "last_edit_date": 1452039274, "question_id": 34623451, "link": "https://stackoverflow.com/questions/34623451/does-iterating-over-a-hash-reference-require-implicitly-copying-it-in-perl", "title": "Does iterating over a hash reference require implicitly copying it in perl?", "body": "<p>Lets say I have a large hash and I want to iterate over the contents of it contents.  The standard idiom would be something like this:</p>\n\n<pre><code>while(($key, $value) = each(%{$hash_ref})){\n   ///do something\n}\n</code></pre>\n\n<p>However, if I understand my perl correctly this is actually doing two things.  First the </p>\n\n<pre><code>%{$hash_ref}\n</code></pre>\n\n<p>is translating the ref into list context.  Thus returning something like</p>\n\n<pre><code>(key1, value1, key2, value2, key3, value3 etc)\n</code></pre>\n\n<p>which will be stored in my stacks memory.  Then the each method will run, eating the first two values in memory (key1 &amp; value1) and returning them to my while loop to process.</p>\n\n<p>If my understanding of this is right that means that I have effectively copied my entire hash into my stacks memory only to iterate over the new copy, which could be expensive for a large hash, due to the expense of iterating over the array twice, but also due to potential cache hits if both hashes can't be held in memory at once.  It seems pretty inefficient.  I'm wondering if this is what really happens, or if I'm either misunderstanding the actual behavior or the compiler optimizes away the inefficiency for me?</p>\n\n<p>Follow up questions, assuming I am correct about the standard behavior.  </p>\n\n<ol>\n<li><p>Is there a syntax to avoid copying of the hash by iterating over it values in the original hash?  If not for a hash is there one for the simpler array?</p></li>\n<li><p>Does this mean that in the above example I could get inconsistent values between the copy of my hash and my actual hash if I modify the hash_ref content within my loop; resulting in $value having a different value then $hash_ref->($key)?</p></li>\n</ol>\n"}, {"tags": ["regex", "perl", "replace"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 9, "creation_date": 1452028922, "post_id": 34621405, "comment_id": 56988543, "body": "Don&#39;t parse XML with regular expressions. Use a parser. This makes your problem absurdly easy. XML::Twig is good."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1452029940, "last_edit_date": 1495540747, "creation_date": 1452029617, "answer_id": 34621611, "question_id": 34621405, "link": "https://stackoverflow.com/questions/34621405/how-can-i-remove-all-spaces-between-two-xml-tags/34621611#34621611", "title": "How can I remove all spaces between two XML tags?", "body": "<p>Regular expressions are a bad tool for this job, because parsing XML requires recursion. You can do that with newer versions of regex, but at best it leads to very complicated and hard to read regular expressions, and ones with edge cases where they'll break.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/6751105/why-its-not-possible-to-use-regex-to-parse-html-xml-a-formal-explanation-in-la\">Why it&#39;s not possible to use regex to parse HTML/XML: a formal explanation in layman&#39;s terms</a></p>\n\n<p>So use a parser - to remove 'spaces between <code>&lt;TAG2&gt;</code> elements':</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig; \n\n#parse the data from our \"DATA\" filehandle. \n#you might want \"parsefile('somefilename.xml')\" instead. \nmy $twig = XML::Twig -&gt; parse ( \\*DATA );\n\n#iterate 'text' below \"TAG2\" anywhere in the document. \nforeach my $tag ( $twig -&gt; get_xpath ('//TAG2/#TEXT') ) {\n    #modify this tag. \n    $tag -&gt; set_text($tag -&gt; text =~ s/\\s+//gr ); \n}\n#set output options\n$twig -&gt; set_pretty_print('indented_a');\n#print to STDOUT. You might want:\n#print {$output_fh} $twig -&gt; sprint; \n$twig -&gt; print;\n\n__DATA__\n&lt;root&gt;\n   &lt;TAG2&gt;words with spaces&lt;/TAG2&gt;\n   &lt;TAG2&gt;\n       &lt;child&gt;wordswordswords more words\n       &lt;/child&gt;\n   &lt;/TAG2&gt;\n   &lt;TAG1&gt;some more words with spaces&lt;/TAG1&gt;\n   &lt;TAG2&gt;something here\n       &lt;another_child att=\"fish\" /&gt;\n   &lt;/TAG2&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;TAG2&gt;wordswithspaces&lt;/TAG2&gt;\n  &lt;TAG2&gt;\n    &lt;child&gt;wordswordswords more words\n       &lt;/child&gt;\n  &lt;/TAG2&gt;\n  &lt;TAG1&gt;some more words with spaces&lt;/TAG1&gt;\n  &lt;TAG2&gt;somethinghere&lt;another_child att=\"fish\" /&gt;&lt;/TAG2&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>So as you can see - correctly modifying text between <code>&lt;TAG2&gt;</code> elements, and leaving other stuff untouched. And for bonus points, it's at least as clear what it's doing as an equivalent regex would be!</p>\n"}], "owner": {"reputation": 7, "user_id": 3687056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba9c986853faf374035d8d094c2a8fc?s=128&d=identicon&r=PG&f=1", "display_name": "user3687056", "link": "https://stackoverflow.com/users/3687056/user3687056"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1452029940, "creation_date": 1452028724, "last_edit_date": 1452029506, "question_id": 34621405, "link": "https://stackoverflow.com/questions/34621405/how-can-i-remove-all-spaces-between-two-xml-tags", "title": "How can I remove all spaces between two XML tags?", "body": "<p>I have a Perl script that I want to amend to remove spaces between two XML tags.</p>\n\n<p>Example XML:</p>\n\n<pre><code>&lt;TAG&gt;\n&lt;TAG1&gt;&lt;TAG2&gt;abc 123 def 456 ... &lt;/TAG2&gt;&lt;/TAG1&gt;&lt;TAG1&gt;&lt;TAG2&gt;xyz 987 ... &lt;/TAG&gt;\n</code></pre>\n\n<p>I'd like to remove all occurrences of spaces between all <code>TAG2</code> tags. I tried the following:</p>\n\n<pre><code>$vModStrg =~ s/(&lt;TAG2&gt;(.*?)&lt;\\/TAG2&gt;)/&lt;TAG2&gt;zzzzzz&lt;\\/TAG2&gt;/g;\n</code></pre>\n\n<p>but this replaces the whole match with <code>zzzzz</code>. How can I tell Perl to only remove the spaces from the match for all the occurrences of <code>TAG2</code>?</p>\n"}, {"tags": ["html", "perl", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452025604, "post_id": 34620252, "comment_id": 56986844, "body": "I&#39;m guessing the OP is using <a href=\"https://metacpan.org/pod/Selenium::Waiter#wait_until\" rel=\"nofollow noreferrer\">Selenium::Waiter::wait_until</a>, which takes a block as the first argument. They&#39;ll have to clarify, though."}, {"owner": {"reputation": 61, "user_id": 4682073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be2b5ce089d420ec6ee06a6428c79796?s=128&d=identicon&r=PG&f=1", "display_name": "dean", "link": "https://stackoverflow.com/users/4682073/dean"}, "edited": false, "score": 0, "creation_date": 1452036484, "post_id": 34620252, "comment_id": 56991798, "body": "sorry, that is the remote driver object my $ff = newBrowser();"}, {"owner": {"reputation": 61, "user_id": 4682073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be2b5ce089d420ec6ee06a6428c79796?s=128&d=identicon&r=PG&f=1", "display_name": "dean", "link": "https://stackoverflow.com/users/4682073/dean"}, "edited": false, "score": 0, "creation_date": 1452037362, "post_id": 34620252, "comment_id": 56992106, "body": "yes, I am using  Selenium::Waiter.  I added the modules and other code chunks"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1452024078, "creation_date": 1452024078, "answer_id": 34620252, "question_id": 34619463, "link": "https://stackoverflow.com/questions/34619463/perl-selenium-webdriver-button-click-not-working/34620252#34620252", "title": "Perl Selenium webdriver button click not working", "body": "<p>You don't say what manner of thing <code>$ff</code> is, but in</p>\n\n<pre><code>my $forceOutButton = wait_until {$ff-&gt;find_element_by_xpath(\".//*[\\@id='Pages_DiagnosticsForceout_btnForceout']/span/button\")-&gt;click();};\n</code></pre>\n\n<p>I'm pretty sure the opening brace in <code>wait_until {</code> should be an opening parenthesis, as otherwise you're passing <code>wait until</code> a reference to a hash with the button as the key and <code>undef</code> as the value</p>\n\n<p>I would write this as</p>\n\n<pre><code>my $btn = $ff-&gt;find_element_by_xpath('//*[@id=\"Pages_DiagnosticsForceout_btnForceout\"]/span/button');\n\nmy $forceOutButton = wait_until( $btn-&gt;click() );\n</code></pre>\n\n<p>Even that looks very wrong to me, but at least you can check whether the button is being found</p>\n\n<p>If you reveal more of your code, in particular what modules you're using, then I'm sure we can help you better</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 4682073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be2b5ce089d420ec6ee06a6428c79796?s=128&d=identicon&r=PG&f=1", "display_name": "dean", "link": "https://stackoverflow.com/users/4682073/dean"}, "edited": false, "score": 0, "creation_date": 1452096238, "post_id": 34625554, "comment_id": 57020065, "body": "Thank you for your response.  the reason for wrapping a lot of stuff in wait_until is for testing.  I was struggling with profiles and browser start.  I&#39;ll clean it up for delivery. The ff and browser object are in different scopes.  I&#39;ll look into making it more consistent.  Inherited code.  I&#39;ve used the click in other wait_until and they are working.  I was thinking the button was not being found but couldn&#39;t verify."}, {"owner": {"reputation": 61, "user_id": 4682073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be2b5ce089d420ec6ee06a6428c79796?s=128&d=identicon&r=PG&f=1", "display_name": "dean", "link": "https://stackoverflow.com/users/4682073/dean"}, "edited": false, "score": 0, "creation_date": 1452096627, "post_id": 34625554, "comment_id": 57020309, "body": "I tried your suggestion and it worked.  I discovered two fields the button need weren&#39;t populated when the button clicked.  I&#39;m now waiting on those fields to populate before looking for the button.  My click method didn&#39;t allow me to see those fields.  Thanks again.  You made my day."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61, "user_id": 4682073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be2b5ce089d420ec6ee06a6428c79796?s=128&d=identicon&r=PG&f=1", "display_name": "dean", "link": "https://stackoverflow.com/users/4682073/dean"}, "edited": false, "score": 0, "creation_date": 1452096904, "post_id": 34625554, "comment_id": 57020498, "body": "@dean: I&#39;m pleased it helped. Add the <code>click</code> to the statement inside the <code>wait_until</code> will change it from simply verifying whether the HTML element exists to calling <code>click</code> on an undefined value and having <code>wait_until</code> rescue your program from a fatal <code>Can&#39;t call method &quot;click&quot; on an undefined value</code> error. I hope you can see that it&#39;s cleaner if you move the <code>click</code> outside the wait"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1452060778, "last_edit_date": 1452060778, "creation_date": 1452053829, "answer_id": 34625554, "question_id": 34619463, "link": "https://stackoverflow.com/questions/34619463/perl-selenium-webdriver-button-click-not-working/34625554#34625554", "title": "Perl Selenium webdriver button click not working", "body": "<p>I don't think you realise what <a href=\"http://metacpan.org/module/Selenium::Waiter\" rel=\"nofollow\"><code>Selenium::Waiter</code></a> actually does. Its documentation doesn't help much and its name doesn't either as it's nothing really to do with Selenium</p>\n\n<p>Basically <code>wait_until { ... }</code> keeps calling the code in the block once a second for thirty seconds (those values are defaults and can be changed in parameters to the call) or until it returns a <em>true</em> value</p>\n\n<p>That means that many of your <code>wait_until</code> calls are unnecessary. For instance</p>\n\n<pre><code>$profile = Selenium::Firefox::Profile-&gt;new\n</code></pre>\n\n<p>will return pretty swiftly with a new object. There is no point retrying the <code>new</code> until it works</p>\n\n<p>Similarly, there is <em>certainly</em> no point in waiting for this statement</p>\n\n<pre><code>$profile-&gt;{profile_dir} = $ARGV[3]\n</code></pre>\n\n<p>as it is just a simple assignment and will execute instantaneously. However, if <code>$ARGV[0]</code> happens to have a <em>false</em> value then <code>wait_until</code> will keep doing the assignment thirty times and then give up</p>\n\n<p>I presume that the module is intended to wait for structures in the page to be created by JavaScript, and if your <em>force log out</em> button is created this way then it may be sensible to use <code>wait_until</code> to check whether it has been created. However you shouldn't call <code>click</code> inside the wait, you should just keep checking whether the XPath expression can be found</p>\n\n<p>Something like this perhaps</p>\n\n<pre><code>my $force_out_button = wait_until {\n    $ff-&gt;find_element_by_xpath('//span[@id=\"Pages_DiagnosticsForceout_btnForceout\"]/span/button')\n};\n\ndie \"Force log out button not found\" unless $force_out_button;\n\n$force_out_button-&gt;click;\n</code></pre>\n\n<p>Note that, because of the way you've been using <code>wait_until</code> and assigning a variable inside the block as well as outside, you have two names for a couple of things. For instance <code>$ff</code> and <code>$browser</code> are the same thing, and <code>$profObject</code> is the same as <code>$profile</code>. I've chosen to keep only <code>$ff</code> and `$profile here</p>\n\n<p>Also, this line</p>\n\n<pre><code>my $createProfile = wait_until { $profile-&gt;{profile_dir} = $ARGV[3]; };\n</code></pre>\n\n<p>simply copies <code>$ARGV[3]</code> to both <code>$profile-&gt;{profile_dir}</code> and <code>$createProfile</code>. You're not \"creating\" anything, like your log message implies, and the only reason this can fail is if <code>$ARGV[3]</code> is a <em>false</em> value</p>\n\n<p>The part of your program program that you have shown should look more like this</p>\n\n<pre><code>#!/root/localperl/bin/perl5.22.0\n\nuse strict;\nuse warnings;\n\nuse Selenium::Firefox;\nuse Selenium::Firefox::Profile;\nuse Selenium::Remote::WDKeys;\nuse Selenium::Waiter;\nuse Data::Dumper;\nuse Time::Piece;\nuse Config;\nuse YAML;\n\nlogit(\"Attempting to create profile\");\n\nmy $start = getTime();\n\nmy $profile = Selenium::Firefox::Profile-&gt;new;\n\nunless ($profile) {\n    logit(\"Create profile object failed\");\n    exit 1;\n}\n\nunless ( $ARGV[3] and -d $ARGV[3] ) {\n    logit(\"Profile create failed - invalid profile dir\");\n    exit 1;\n}\n\n$profile-&gt;{profile_dir} = $ARGV[3];\nlogit(\"Profile created, attempting browser start\");\n\nmy $ff = Selenium::Firefox-&gt;new(\n    default_finder  =&gt; 'id',\n    firefox_profile =&gt; $profile\n);\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4682073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be2b5ce089d420ec6ee06a6428c79796?s=128&d=identicon&r=PG&f=1", "display_name": "dean", "link": "https://stackoverflow.com/users/4682073/dean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "accepted_answer_id": 34625554, "answer_count": 2, "score": -1, "last_activity_date": 1452060778, "creation_date": 1452021030, "last_edit_date": 1452052661, "question_id": 34619463, "link": "https://stackoverflow.com/questions/34619463/perl-selenium-webdriver-button-click-not-working", "title": "Perl Selenium webdriver button click not working", "body": "<p>The script is able to click login button and that works.  After logging in, if there is another user logged in there is an option to force out the logged in user.</p>\n\n<p>Here's the button...<br></p>\n\n<pre><code>&lt;span id=\"Pages_DiagnosticsForceout_btnForceout\" class=\"yui-button yui-push-button\"&gt;\n&lt;span class=\"first-child\"&gt;\n&lt;button type=\"button\" tabindex=\"0\"&gt;Force\u200c\u00b7Log\u200c\u00b7Out&lt;/button&gt;\n&lt;/span&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>Here is the attempted click... adding more info not entire script. </p>\n\n<pre><code>#!/root/localperl/bin/perl5.22.0\n\nuse warnings;\nuse strict;\n\nuse Selenium::Firefox;\nuse Selenium::Firefox::Profile;\nuse Selenium::Remote::WDKeys;\nuse Selenium::Waiter;\nuse Data::Dumper;\nuse Time::Piece;\nuse Config;\nuse YAML;\n\nmy $ff;\n\nlogit(\"Attempting create profile \");\n\nmy $start = getTime();\nmy $profile;\nmy $profObject = wait_until { $profile = Selenium::Firefox::Profile-&gt;new; };\n\nif ($profObject) {\n\n    my $createProfile = wait_until { $profile-&gt;{profile_dir} = $ARGV[3]; };\n\n    if ($createProfile) {\n        logit(\"profile created, attempting browser start \");\n    }\n    else {\n        logit(\"profile create failed\");\n        exit;\n    }\n}\nelse {\n    logit(\"create profile object failed\");\n}\n\nmy $browser = wait_until {\n    $ff = Selenium::Firefox-&gt;new(\n        'default_finder'  =&gt; 'id',\n        'firefox_profile' =&gt; $profile\n    );\n};\n\n'''\n\nmy $forceOutButton = wait_until {\n    $ff-&gt;find_element_by_xpath(\".//*[\\@id='Pages_DiagnosticsForceout_btnForceout']/span/button\")-&gt;click();\n};\n</code></pre>\n\n<p>Using firepath in firebug the xpath looks like it is selecting the button.  Yet the button is not clicked.  I set it up to never timeout so its not a timeout problem.  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "edited": false, "score": 0, "creation_date": 1452015038, "post_id": 34617693, "comment_id": 56980982, "body": "Show us full code please, including the contents of the directory you are counting."}, {"owner": {"reputation": 499, "user_id": 1040022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53ddbb7a10252bf96d77fdc320dca874?s=128&d=identicon&r=PG", "display_name": "StanOverflow", "link": "https://stackoverflow.com/users/1040022/stanoverflow"}, "edited": false, "score": 0, "creation_date": 1452015285, "post_id": 34617693, "comment_id": 56981138, "body": "$# is the last index in the array, whereas using an array in scalar context $numberOfFiles contains the number of elements in the array"}, {"owner": {"reputation": 111, "user_id": 1981639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Bu1yX.jpg?s=128&g=1", "display_name": "BigFish", "link": "https://stackoverflow.com/users/1981639/bigfish"}, "edited": false, "score": 0, "creation_date": 1452016297, "post_id": 34617693, "comment_id": 56981727, "body": "Thanks Stan, I knew what $# did, but I did not realize $numberOfFiles was different by holding the number of elements in the array."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 1981639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Bu1yX.jpg?s=128&g=1", "display_name": "BigFish", "link": "https://stackoverflow.com/users/1981639/bigfish"}, "edited": false, "score": 0, "creation_date": 1452015767, "post_id": 34617833, "comment_id": 56981412, "body": "In my case, $fileNameRegex is an actual file name, such as myFile.txt"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "reply_to_user": {"reputation": 111, "user_id": 1981639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Bu1yX.jpg?s=128&g=1", "display_name": "BigFish", "link": "https://stackoverflow.com/users/1981639/bigfish"}, "edited": false, "score": 0, "creation_date": 1452015916, "post_id": 34617833, "comment_id": 56981493, "body": "In that case, another aspect of globbing is relevant: when there are no matches, <code>glob</code> returns the string as is. Maybe you have no matches because there&#39;s no slash between your directory and your filename"}, {"owner": {"reputation": 111, "user_id": 1981639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Bu1yX.jpg?s=128&g=1", "display_name": "BigFish", "link": "https://stackoverflow.com/users/1981639/bigfish"}, "edited": false, "score": 0, "creation_date": 1452016389, "post_id": 34617833, "comment_id": 56981773, "body": "I had an idea that glob might be doing that but just didn&#39;t know for sure.  Apparently my inexperience with glob is the cause of my confusion.  Thanks for clearing this up for me."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452016699, "post_id": 34617833, "comment_id": 56981935, "body": "@WumpusQ.Wumbley When there are no matches, <code>glob</code> returns an empty list."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452016950, "post_id": 34617833, "comment_id": 56982083, "body": "@MattJacob: apparently so... if the argument actually contains any wildcard characters. <code>glob(&quot;foo&quot;)</code> returns foo though, regardless of whether <code>foo</code> exists."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452017303, "post_id": 34617833, "comment_id": 56982261, "body": "@WumpusQ.Wumbley In scalar context. This is list context."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452018528, "post_id": 34617833, "comment_id": 56982949, "body": "@MattJacob: <code>perl -le &#39;print for glob(&quot;foo&quot;)&#39;</code> prints <code>foo</code> for me, in version 5.22.0 and 5.14.2"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452019422, "post_id": 34617833, "comment_id": 56983407, "body": "@WumpusQ.Wumbley I think you&#39;re right, but it looks like that only happens if there aren&#39;t any wildcards in the search pattern."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": true, "score": 4, "last_activity_date": 1452015169, "creation_date": 1452015169, "answer_id": 34617833, "question_id": 34617693, "link": "https://stackoverflow.com/questions/34617693/confusion-about-file-counting/34617833#34617833", "title": "Confusion about file counting", "body": "<p>Filename globs are not regular expressions, so if <code>$fileNameRegex</code> is what its name implies, it's the wrong thing to use here.</p>\n\n<p>Globs are the pattern-matching language you use to expand filenames into a shell command line: <code>*</code> matches any string of characters (equivalent to <code>.*</code> in a regular expression), <code>?</code> matches a single character (equivalent to <code>.</code> in a regular expression), and <code>[]</code> works pretty much the same as in regular expressions.</p>\n\n<p>If you need to test filenames against a regular expression, you'll have to do a <code>grep</code> on the list you get back from <code>glob</code> (or <code>readdir</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 10, "last_activity_date": 1452016848, "last_edit_date": 1452016848, "creation_date": 1452016028, "answer_id": 34618083, "question_id": 34617693, "link": "https://stackoverflow.com/questions/34617693/confusion-about-file-counting/34618083#34618083", "title": "Confusion about file counting", "body": "<p><code>$numberOfFiles</code> contains the numbers of elements <code>@filesInDirectory</code>. Since <code>@filesInDirectory</code> contains one element, <code>$numberOfFiles</code> contains <code>1</code>.</p>\n\n<p><code>$#filesInDirectory</code> contains the index of the last element in <code>@filesInDirectory</code>. Since <code>@filesInDirectory</code> contains one element (<code>$filesInDirectory[0]</code>), <code>$numberOfFiles</code> contains <code>0</code>.</p>\n\n<p>Unless you mess with <code>$[</code> (don't!!), <code>$#a</code> will always be one less than <code>@a</code> in scalar context.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1452017515, "last_edit_date": 1495535301, "creation_date": 1452017515, "answer_id": 34618472, "question_id": 34617693, "link": "https://stackoverflow.com/questions/34617693/confusion-about-file-counting/34618472#34618472", "title": "Confusion about file counting", "body": "<p>If you're wondering why <code>@filesInDirectory</code> has something in it instead of being empty, then you already have <a href=\"https://stackoverflow.com/a/34617833/622310\">a solution</a></p>\n\n<p>But if you're asking why <code>$numberOfFiles</code> is different from <code>$#filesInDirectory</code> then it's because the first contains the number of elements in <code>@filesInDirectory</code> while the second contains the <em>index of the last element</em> of <code>@filesInDirectory</code></p>\n\n<p>Perl indices start at zero, so if <code>@array</code> has exactly one element then <code>$#array</code> will be zero. If <code>@array</code> is empty then <code>$#array</code> will be -1</p>\n"}], "owner": {"reputation": 111, "user_id": 1981639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Bu1yX.jpg?s=128&g=1", "display_name": "BigFish", "link": "https://stackoverflow.com/users/1981639/bigfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 34617833, "answer_count": 3, "score": 0, "last_activity_date": 1452034572, "creation_date": 1452014760, "last_edit_date": 1452034572, "question_id": 34617693, "link": "https://stackoverflow.com/questions/34617693/confusion-about-file-counting", "title": "Confusion about file counting", "body": "<p>I've seen numerous posts about using Perl to count specific files in a directory, one of which showed this code</p>\n\n<pre><code>@filesInDirectory = glob(\"$directory$fileNameRegex\");\n$numberOfFiles = @filesInDirectory;\n</code></pre>\n\n<p>Then if I follow this with:</p>\n\n<pre><code>print LOGFILE $#filesInDirectory;\nprint LOGFILE $numberOfFiles;\n</code></pre>\n\n<p>The log will have 01.  Where the confusion is this:  Why is $numberOfFiles 1 instead of 0 when the file I'm looking for doesn't exist?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1452011556, "post_id": 34616473, "comment_id": 56978646, "body": "Your keywords probably have newlines attached to them that are causing them not to match (see <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\">chomp</a>)."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452012229, "post_id": 34616473, "comment_id": 56979099, "body": "Also, some other things to be aware of: you&#39;re mixing filehandle styles, you probably <i>don&#39;t</i> want <code>@keywordArray</code> to be a package variable (<code>our</code> vs. <code>my</code>), and you can use <a href=\"http://perldoc.perl.org/functions/qr.html\" rel=\"nofollow noreferrer\"><code>qr&#47;&#47;</code></a> to precompile your regexes for better performance (or use a module like <a href=\"https://metacpan.org/pod/Regexp::Assemble\" rel=\"nofollow noreferrer\">Regexp::Assemble</a>)."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1452020949, "post_id": 34616473, "comment_id": 56984258, "body": "<code>grep -f keyword.txt syslog.txt &gt; output.txt</code> perhaps?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5748611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b232ea780ccaf6183012aa501afb7d56?s=128&d=identicon&r=PG&f=1", "display_name": "Nafe", "link": "https://stackoverflow.com/users/5748611/nafe"}, "edited": false, "score": 0, "creation_date": 1452086980, "post_id": 34616805, "comment_id": 57013597, "body": "Thank you so much for such an in depth explanation, it is much appreciated. :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1452015891, "last_edit_date": 1452015891, "creation_date": 1452012132, "answer_id": 34616805, "question_id": 34616473, "link": "https://stackoverflow.com/questions/34616473/perl-using-my-array-to-search-for-keywords-in-a-file/34616805#34616805", "title": "Perl - Using my array to search for keywords in a file", "body": "<p>The problem is that the strings in your <code>@keywordArray</code> contain newlines from the file.</p>\n\n<p>You should use <code>chomp</code> to fix that (and you should use <code>my</code> in preference to <code>our</code>) so instead of </p>\n\n<pre><code>our @keywordArray = &lt;keyWords&gt;;\nwhile ( my $line = &lt;keyWords&gt; ) {\n    push( @keywordArray, ($line) );\n}\n</code></pre>\n\n<p>you should write</p>\n\n<pre><code>my @keywordArray;\nwhile ( my $line = &lt;keyWords&gt; ) {\n    chomp $line;\n    push @keywordArray, $line;\n}\n</code></pre>\n\n<p>or, better</p>\n\n<pre><code>chomp(my @keywordArray = &lt;keyWords&gt;);\n</code></pre>\n\n<h2><br/></h2>\n\n<p>Here are some more important things to watch out for</p>\n\n<ul>\n<li><p>People who are familiar with high-quality Perl will thank you for using <code>snake_case</code> for your basic lexical variables. <code>CamelCase</code> is generally reserved for global identifiers such as package names</p></li>\n<li><p>It is good that you have used the <em>three-parameter</em> form of <code>open</code>, but you should also use <em>lexical</em> file handles. You have used a mixture of lexical and global handles, which is the worst option of all</p></li>\n<li><p>There is no need to put the whole of your program inside a subroutine and then call it. This isn't C</p></li>\n<li><p>If you test the status of an <code>open</code> call and find that it has failed, you should put the contents of the built-in variable <code>$!</code> in the <code>die</code> string to say <em>why</em> the open failed. There could be several reasons other than the <em>File not found</em> that you have coded. Better still, you can enable <a href=\"http://metacpan.org/module/autodie\" rel=\"nofollow\"><code>autodie</code></a>, which will check all of your file system operations for you and generate an appropriate <code>die</code> string</p></li>\n<li><p>It is very rare that variables declared with <code>our</code> are useful. You should always use <code>my</code> unless you have a good reason to need a package variable</p></li>\n<li><p><code>@keywordArray = &lt;keyWords&gt;</code> reads the whole of the file into the array, leaving it at eof. The following loop will never execute because there is nothing more to read from the file handle</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 1788914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a6b022e525de16876836399636d23?s=128&d=identicon&r=PG", "display_name": "Tudor Crisan", "link": "https://stackoverflow.com/users/1788914/tudor-crisan"}, "is_accepted": false, "score": -1, "last_activity_date": 1452012184, "creation_date": 1452012184, "answer_id": 34616823, "question_id": 34616473, "link": "https://stackoverflow.com/questions/34616473/perl-using-my-array-to-search-for-keywords-in-a-file/34616823#34616823", "title": "Perl - Using my array to search for keywords in a file", "body": "<p>If you are referring to the the fact that the output file contains only the last line which matched the keyword is because you are opening your output file for writing, which means that you are overwriting everything that you have previously written in it. You should open it for appending:</p>\n\n<pre><code>open(my $fh, '&gt;&gt;', $outputFile) or die \"$outputFile not found\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1452012203, "creation_date": 1452012203, "answer_id": 34616832, "question_id": 34616473, "link": "https://stackoverflow.com/questions/34616473/perl-using-my-array-to-search-for-keywords-in-a-file/34616832#34616832", "title": "Perl - Using my array to search for keywords in a file", "body": "<p>You need to <a href=\"http://p3rl.org/chomp\" rel=\"nofollow\">chomp</a> the lines to remove newlines.</p>\n\n<p>Moreover, reading from a file handle in list context</p>\n\n<pre><code>our @keywordArray = &lt;keyWords&gt;;\n</code></pre>\n\n<p>reads the whole file, so nothing could be read in the following</p>\n\n<pre><code>while ( my $line = &lt;keyWords&gt; ) {\n</code></pre>\n\n<p>It's much faster to create one regex from all the keywords than to match each one separately:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nsub main {       \n    my $keywordFile = 'keyword.txt';\n    open $KW, $keywordFile or die \"$keywordFile not found\\n\";\n    chomp( my @keywords = &lt;$KW&gt; );\n    my $keyword_regex = join '|', map quotemeta, @keywords;\n    $keyword_regex = qr/($keyword_regex)/;\n\n    my $fileName = 'syslog.txt';\n    my $outputFile = 'outputfile.txt';\n\n    open my $SL, $fileName or die \"$fileName not found\\n\";\n    open my $OUT, '&gt;', $outputFile or die \"$outputFile not found\\n\";\n\n    while (my $line = &lt;$SL&gt;) {   \n        if ($line =~ /$keyword_regex/) {\n            print \"\\n-------$1--------\\n\";\n            print \"$line\";\n            print $OUT \"$line\";\n        }\n    }\n    close $OUT;\n}\n\nmain();\nprint \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5748611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b232ea780ccaf6183012aa501afb7d56?s=128&d=identicon&r=PG&f=1", "display_name": "Nafe", "link": "https://stackoverflow.com/users/5748611/nafe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 34616805, "answer_count": 3, "score": 0, "last_activity_date": 1452020807, "creation_date": 1452011152, "last_edit_date": 1452020807, "question_id": 34616473, "link": "https://stackoverflow.com/questions/34616473/perl-using-my-array-to-search-for-keywords-in-a-file", "title": "Perl - Using my array to search for keywords in a file", "body": "<p>I want my program to pull lines from a file that feature any of the keywords in an array, but it displays only the last keyword in the keywords file. How would I fix it to ensure that it finds all keywords?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub main {\n    my $keywordFile = 'keyword.txt';\n    open( keyWords, $keywordFile ) or die \"$keywordFile not found\\n\";\n\n    our @keywordArray = &lt;keyWords&gt;;\n    while ( my $line = &lt;keyWords&gt; ) {\n        push( @keywordArray, ($line) );\n    }\n    close(keyWords);\n\n    my $fileName   = 'syslog.txt';\n    my $outputFile = 'outputfile.txt';\n\n    open( SysLog, $fileName ) or die \"$fileName not found\\n\";\n    open( my $fh, '&gt;', $outputFile ) or die \"$outputFile not found\\n\";\n\n    while ( my $line = &lt;SysLog&gt; ) {\n        foreach my $keyW (@keywordArray) {\n            if ( $line =~ /$keyW/ ) {\n                print \"\\n-------$keyW--------\\n\";\n                print \"$line\";\n                print $fh \"$line\";\n            }\n        }\n    }\n    close(SysLog);\n    close $fh;\n}\n\nmain();\n\nprint \"\\n\";\n</code></pre>\n"}, {"tags": ["perl", "unix", "ssh", "environment-variables"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452011742, "post_id": 34616414, "comment_id": 56978750, "body": "Is adding <code>use lib qw( &#47;path&#47;to&#47;special&#47;module );</code> to your script problematic?"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452012492, "post_id": 34616414, "comment_id": 56979269, "body": "YES, then it would work, but the whole point of the <code>PERLLIB</code> was <b>not</b> to use the <code>use lib</code> on the command line"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1452025164, "post_id": 34616414, "comment_id": 56986638, "body": "Please diff <code>env | sort; which perl</code> and <code>ssh $(hostname -i) &#39;env | sort; which perl&#39;</code>  It&#39;s unusual that you mention PERLLIB [sic] rather than PERL5LIB.  My guess is your console login shell defines $PERL5LIB which overrides $PERLLIB and <i>also searches <code>$Config{version}</code> and <code>$Config{archname}</code> subdirs</i> (which PERLLIB does not for me under 5.10).  Might be different perls, though.  In any case, your ssh shell is setting up the environment differently."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1452108849, "post_id": 34616414, "comment_id": 57028144, "body": "I did a diff, PERLLIB nor PERL5LIB were never used on this system, I&#39;m introducing the use, so that the INC array is pre-populated and I can refer to my <b>SpecialMoudle</b> knowing that it&#39;s already in INC"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1452118842, "post_id": 34616414, "comment_id": 57033756, "body": "Yes, PERLLIB itself is set in both cases <code>(env | sort; which perl) | grep PERL.*LIB</code> and <code>(ssh $(hostname -i) &#39;env | sort; which perl&#39;) | grep PERL.*LIB</code> return the same <code>PERLLIB=&#47;path&#47;to&#47;special&#47;module</code>"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1452177288, "post_id": 34616414, "comment_id": 57060772, "body": "@pilcrow, I&#39;m not sure where I can post the raw output in easily readable way.... I&#39;ll do the run now and edit the original question for you, thanks"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1452180535, "post_id": 34616414, "comment_id": 57063124, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/100067/discussion-between-pilcrow-and-lzc\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1452177376, "post_id": 34619588, "comment_id": 57060829, "body": "+1 for <code>sitecustomize.pl</code> which is the better way to do it.  However, we don&#39;t yet know enough from the OP to know what&#39;s wrong with his console login vs. ssh login environment.  (/etc/environment might already be sourced in both cases, since he sees the special <code>@INC</code> dir in both cases.)"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1452177829, "post_id": 34619588, "comment_id": 57061155, "body": "As noted in the question this box still has  perl <b>v5.8.8</b> could that be the issue? Where <code>perl -V:usesitecustomize</code> gives <code>usesitecustomize=&#39;undef&#39;;</code> in any case <code>sitecustomize.pl</code> is <b>K</b>ool and would have be the checked answer... only in this case, it does not work ... yet.. thanks @ysth !"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1452178375, "post_id": 34619588, "comment_id": 57061557, "body": "I thought sitecustomize was only added in 5.10, but then I would expect you to see <code>usesitecustomize=&#39;UNIKNOWN&#39;</code>.  but in any case, it isn&#39;t enabled (and enabling it takes recompiling perl)"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 5, "last_activity_date": 1452095559, "last_edit_date": 1452095559, "creation_date": 1452021509, "answer_id": 34619588, "question_id": 34616414, "link": "https://stackoverflow.com/questions/34616414/perllib-succesfully-injected-in-inc-array-but-does-not-work-with-non-interactiv/34619588#34619588", "title": "PERLLIB succesfully injected in @INC array but does not work with non-interactive shell", "body": "<p>To recognize /etc/environment via ssh, I believe you need to enable UsePAM in /etc/ssh/sshd_config (which has other implications I am not very familiar with).</p>\n\n<p>You can add it (as <code>export PERL5LIB=...</code>) in /etc/profile, but then you need to make ssh use a login shell (<code>ssh foo 'sh -l -c command'</code>).</p>\n\n<p>If your perl is at least 5.10 and has been built to do so (you can check with <code>perl -V:usesitecustomize</code>), every time perl starts it will run a systemwide sitecustomize.pl script in which you could put a <code>use lib ...;</code> statement.  See <a href=\"http://perldoc.perl.org/perlrun.html#*-f*\" rel=\"nofollow\">http://perldoc.perl.org/perlrun.html#*-f*</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 2, "creation_date": 1452270558, "post_id": 34681299, "comment_id": 57109141, "body": "Wow.  Subtle.  Frustrating.  Nice use of GNU cat&#39;s <code>-A</code>"}], "tags": [], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "is_accepted": true, "score": 2, "last_activity_date": 1452269249, "creation_date": 1452269249, "answer_id": 34681299, "question_id": 34616414, "link": "https://stackoverflow.com/questions/34616414/perllib-succesfully-injected-in-inc-array-but-does-not-work-with-non-interactiv/34681299#34681299", "title": "PERLLIB succesfully injected in @INC array but does not work with non-interactive shell", "body": "<p>Thanks to @pilcrow and the follow up chat, I 'think' I found the issue, by running:</p>\n\n<pre><code>$ diff &lt;(ssh $(hostname -i) 'perl -V') &lt;(perl -V)\n40c40\n&lt;     PERLLIB=\"/path/to/special/module \"\n---\n&gt;     PERLLIB=\"/path/to/special/module\"\n42c42\n&lt;     /path/to/special/module\n---\n&gt;     /path/to/special/module\n</code></pre>\n\n<p>GEEE: is it that extra space ?</p>\n\n<pre><code>$ cat -A /etc/environment\nPERLLIB=/path/to/special/module $\n</code></pre>\n\n<p>I'm gonna confim with my sys admin with root permissions and I shall report back!</p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 34681299, "answer_count": 2, "score": 2, "last_activity_date": 1452270552, "creation_date": 1452010996, "last_edit_date": 1452270552, "question_id": 34616414, "link": "https://stackoverflow.com/questions/34616414/perllib-succesfully-injected-in-inc-array-but-does-not-work-with-non-interactiv", "title": "PERLLIB succesfully injected in @INC array but does not work with non-interactive shell", "body": "<p>My goal is to inject in Perl's <code>@INC</code> array that it works <strong>always</strong> and in <strong>any</strong> condition perl could possibly be invoked</p>\n\n<p>In order for this to work when <code>SpecialMoudle.pm</code> is not in the <em>default</em> <code>@INC</code> array, I added:</p>\n\n<pre><code>PERLLIB=/path/to/special/module\n</code></pre>\n\n<p>In the <code>/etc/environment</code> file on a Linux box and it works as sold:</p>\n\n<pre><code>$ perl -le \"print for @INC\"; perl -MSpecialMoudle -e \"print qq/Yep SpecialMoudle.pm loaded\\n/\"\n/path/to/special/module\n/usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi\n/usr/lib/perl5/site_perl/5.8.8\n/usr/lib/perl5/site_perl\n/usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi\n/usr/lib/perl5/vendor_perl/5.8.8\n/usr/lib/perl5/vendor_perl\n/usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi\n/usr/lib/perl5/5.8.8\n.\n</code></pre>\n\n<p>and I get:</p>\n\n<pre><code>Yep SpecialMoudle.pm loaded\n</code></pre>\n\n<p>But when I ssh to <strong>same</strong> machine</p>\n\n<pre><code>$ ssh $(hostname -i) 'perl -le \"print for @INC\"; perl -MSpecialMoudle -e \"print qq/Yep SpecialMoudle.pm loaded\\n/\"'\n</code></pre>\n\n<p>I get the same:</p>\n\n<pre><code>/path/to/special/module\n/usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi\n/usr/lib/perl5/site_perl/5.8.8\n/usr/lib/perl5/site_perl\n/usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi\n/usr/lib/perl5/vendor_perl/5.8.8\n/usr/lib/perl5/vendor_perl\n/usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi\n/usr/lib/perl5/5.8.8\n.\n</code></pre>\n\n<p>But strangely I get also:</p>\n\n<p>Can't locate SpecialMoudle.pm in @INC (@INC contains: <strong>/path/to/special/module</strong>  /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.8 /usr/lib/perl5/site_perl /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-l\ninux-thread-multi /usr/lib/perl5/vendor_perl/5.8.8 /usr/lib/perl5/vendor_perl /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 .).\nBEGIN failed--compilation aborted.</p>\n\n<p>And of course no output...</p>\n\n<p>Now, I tried same with another Linux box with perl v5.10.1 and no problem there. On <em>this</em> box, I have perl v5.8.8 why does it not work? Especially since I <strong>see</strong> the <strong>/path/to/special/module</strong> in the error output?</p>\n\n<p><strong>EDIT</strong> Added for @pilcrow as I don't see any other way in StackOverflow to display raw data easily readable.</p>\n\n<p><strong>(env | sort; which perl)</strong> raw:</p>\n\n<pre><code>_=/bin/env\nCVSROOT=:ext:10.20.30.40:/home/cvs/repository/\nCVS_RSH=ssh\nEDITOR=vi\nG_BROKEN_FILENAMES=1\nHISTSIZE=1000\nHOME=/home/stackop\nHOSTNAME=sdcbatch2\nINPUTRC=/etc/inputrc\nLANG=en_US.UTF-8\nLESSOPEN=|/usr/bin/lesspipe.sh %s\nLOGNAME=stackop\nLS_COLORS=no=00:fi=00:di=00;34:ln=00;36:pi=40;33:so=00;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:ex=00;32:*.cmd=00;32:*.exe=00;32:*.com=00;32:*.btm=00;32:*.bat=00;32:*.sh=00;32:*.csh=00;32:*.tar=00;31:*.tgz=00;31:*.arj=00;31:*.taz=00;31:*.lzh=00;31:*.zip=00;31:*.z=00;31:*.Z=00;31:*.gz=00;31:*.bz2=00;31:*.bz=00;31:*.tz=00;31:*.rpm=00;31:*.cpio=00;31:*.jpg=00;35:*.gif=00;35:*.bmp=00;35:*.xbm=00;35:*.xpm=00;35:*.png=00;35:*.tif=00;35:\nMAIL=/var/spool/mail/stackop\nPATH=/usr/kerberos/bin:/usr/local/bin:/bin:/usr/bin\nPERLLIB=/path/to/special/module\nPWD=/home/stackop\nSHELL=/bin/bash\nSHLVL=1\nSSH_ASKPASS=/usr/libexec/openssh/gnome-ssh-askpass\nSSH_CLIENT=100.101.102.103 65279 22\nSSH_CONNECTION=100.101.102.103 65279 10.30.50.70 22\nSSH_TTY=/dev/pts/1\nTERM=ansi\nUSER=stackop\n/usr/bin/perl\n</code></pre>\n\n<p><strong>(ssh $(hostname -i) 'env | sort; which perl')</strong> raw:</p>\n\n<pre><code>_=/bin/env\nHOME=/home/stackop\nLANG=en_US.UTF-8\nLOGNAME=stackop\nMAIL=/var/mail/stackop\nPATH=/usr/local/bin:/bin:/usr/bin\nPERLLIB=/path/to/special/module\nPWD=/home/stackop\nSHELL=/bin/bash\nSHLVL=1\nSSH_CLIENT=10.30.50.70 39857 22\nSSH_CONNECTION=10.30.50.70 39857 10.30.50.70 22\nUSER=stackop\n/usr/bin/perl\n</code></pre>\n"}, {"tags": ["perl", "scp"], "comments": [{"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 1, "creation_date": 1452007884, "post_id": 34615243, "comment_id": 56976076, "body": "Try running the scp command-line utility by hand with the same hostname, username, password, and file arguments. Add a &quot;-v&quot; option to make scp output debugging information. Then edit your question to include the scp command that you ran and the output that it produced."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1452008357, "post_id": 34615243, "comment_id": 56976400, "body": "After a quick test, that error is generated when the name of the source file is incorrect, ie. the file doesn&#39;t exist."}, {"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "edited": false, "score": 0, "creation_date": 1452009255, "post_id": 34615243, "comment_id": 56977001, "body": "I have tried <code>scp -v &#47;home&#47;osboxes&#47;Desktop&#47;ConteudosServer&#47;backupsystem&#47;backups&#47;F&zwnj;&#8203;ri_11_Dec_21.18.14_i&zwnj;&#8203;_2015 user_backup@192.168.141.131:&#47;home&#47;user_backup&#47;backups&#47;aqui.t&zwnj;&#8203;xt</code> and it did work. O copied every parameter to the script but it still giving me the same error. Is there way I can achieve this without password? Something like RSA keys."}, {"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452010289, "post_id": 34615243, "comment_id": 56977710, "body": "@ikegami There you go. Thank you for letting me know."}, {"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "edited": false, "score": 0, "creation_date": 1452011747, "post_id": 34615243, "comment_id": 56978751, "body": "The sctructure of <code>Net::SCP::Expect</code> defines the rest. <code>$username = user_backup</code>, <code>$ip = 192.168.141.130</code>, etc... From my point of view what I testes is exactly what the script will do. Am i wrong?"}, {"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452012876, "post_id": 34615243, "comment_id": 56979529, "body": "@ikegami I have tried using a simple <code>&#47;tmp&#47;somefile.txt</code> to see if it was because of some file missing but it&#39;s not. It keep getting the same error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452013214, "post_id": 34615243, "comment_id": 56979760, "body": "I stand corrected. If neither path provide a host, the second is assumed to be remote."}, {"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "reply_to_user": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1452013511, "post_id": 34615243, "comment_id": 56979967, "body": "@Kenster I have added the command line and it&#39;s output. If you could check it out. If you could land me a hand in here I would be so happy."}, {"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452013704, "post_id": 34615243, "comment_id": 56980096, "body": "@ikegami From what the documentation says: <code>From local to remote: scp(source, :destination); # User and host already defined</code> <a href=\"http://search.cpan.org/~rybskej/Net-SCP-Expect-0.16/Expect.pm\" rel=\"nofollow noreferrer\">Documentaion Net::SCP::Expect</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452015594, "post_id": 34615243, "comment_id": 56981317, "body": "You didn&#39;t use <code>scp(source, :destination)</code>, you used <code>scp(source, destination)</code>."}], "owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452039760, "creation_date": 1452007493, "last_edit_date": 1452039760, "question_id": 34615243, "link": "https://stackoverflow.com/questions/34615243/netscp-scp-exited-with-non-success-state-256-at-test-pl-line-27", "title": "Net::SCP scp exited with non-success state: 256 at test.pl line 27", "body": "<p>I have searched all the internet for this code of error. The only place left is your human minds. </p>\n\n<p>Here's my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nuse Net::FTP;\nuse Net::SCP;\nuse Net::SCP::Expect;\n\nmy $ip = \"192.168.141.131\";\nmy $username = \"user_backup\";\nmy $password = \"ubuntu\";\nmy $tfr_type = \"scp\";\nmy $file = \"/home/osboxes/Desktop/ConteudosServer/backupsystem/backups/Fri_11_Dec_21.18.14_i\u200c\u200b_2015\";\nmy $dest = \"/home/user_backup/backups/aqui.txt\";\n\n\nmy $scp = Net::SCP::Expect-&gt;new(\n        host =&gt; $ip,\n        user =&gt; $username,\n        password =&gt; $password,\n        auto_yes =&gt; 1,\n        verbose =&gt; 1,\n        debug =&gt; 1,\n        timeout_auto =&gt; 1,\n        );\n\n$scp-&gt;scp($file, $dest);\nprint \"Source: $file\\n\";\nprint \"Desti: $dest\\n\";\n</code></pre>\n\n<p>I don't where it goes wrong. It says line 26: <code>$scp-&gt;scp($file, $dest);</code> but I don't know where it is wrong.</p>\n\n<p><strong>EDIT</strong>\nAs Kenster's sugested (thank you bro) here is the <code>scp -v /home/osboxes/Desktop/ConteudosServer/backupsystem/backups/Fri_11_Dec_21.18.14_i_2015 user_backup@192.168.141.131:/home/user_backup/backups/aqui.txt &gt; /tmp/rapid.txt</code> command:</p>\n\n<pre><code>debug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: /etc/ssh/ssh_config line 19: Applying options for *\ndebug1: Connecting to 192.168.141.131 [192.168.141.131] port 22.\ndebug1: Connection established.\ndebug1: permanently_set_uid: 0/0\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /root/.ssh/id_rsa type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /root/.ssh/id_rsa-cert type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /root/.ssh/id_dsa type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /root/.ssh/id_dsa-cert type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /root/.ssh/id_ecdsa type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /root/.ssh/id_ecdsa-cert type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /root/.ssh/id_ed25519 type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /root/.ssh/id_ed25519-cert type -1\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_6.7p1 Ubuntu-5ubuntu1.3\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.3\ndebug1: match: OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.3 pat OpenSSH_6.6.1* compat 0x04000000\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server-&gt;client aes128-ctr umac-64-etm@openssh.com none\ndebug1: kex: client-&gt;server aes128-ctr umac-64-etm@openssh.com none\ndebug1: sending SSH2_MSG_KEX_ECDH_INIT\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\ndebug1: Server host key: ECDSA 30:af:e0:62:a2:cd:f9:e0:ae:43:2a:d8:b9:b3:e5:72\n\ndebug1: Host '192.168.141.131' is known and matches the ECDSA host key.\ndebug1: Found key in /root/.ssh/known_hosts:2\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: Roaming not allowed by server\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug1: Authentications that can continue: publickey,password\ndebug1: Next authentication method: publickey\ndebug1: Trying private key: /root/.ssh/id_rsa\ndebug1: Trying private key: /root/.ssh/id_dsa\ndebug1: Trying private key: /root/.ssh/id_ecdsa\ndebug1: Trying private key: /root/.ssh/id_ed25519\ndebug1: Next authentication method: password\nuser_backup@192.168.141.131's password: \ndebug1: Authentication succeeded (password).\nAuthenticated to 192.168.141.131 ([192.168.141.131]:22).\ndebug1: channel 0: new [client-session]\ndebug1: Requesting no-more-sessions@openssh.com\ndebug1: Entering interactive session.\ndebug1: Sending environment.\ndebug1: Sending env LANG = en_GB.UTF-8\ndebug1: Sending command: scp -v -t /home/user_backup/backups/aqui.txt\nSending file modes: C0644 104540 Fri_11_Dec_21.18.14_i_2015\nSink: C0644 104540 Fri_11_Dec_21.18.14_i_2015\nscp: /home/user_backup/backups/aqui.txt: Permission denied\nroot@osboxes:/home/osboxes/Desktop/ConteudosServer/backupsystem# debug1: client_input_channel_req: channel 0 rtype exit-status reply 0\ndebug1: channel 0: free: client-session, nchannels 1\ndebug1: fd 0 clearing O_NONBLOCK\ndebug1: fd 1 clearing O_NONBLOCK\nTransferred: sent 2636, received 2344 bytes, in 0.2 seconds\nBytes per second: sent 12676.0, received 11271.8\ndebug1: Exit status 1\n</code></pre>\n"}, {"tags": ["mongodb", "perl", "shell", "cgi"], "comments": [{"owner": {"reputation": 1497, "user_id": 4987223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0850ea3162cafc96ef345404cf7dcca0?s=128&d=identicon&r=PG&f=1", "display_name": "vmachan", "link": "https://stackoverflow.com/users/4987223/vmachan"}, "edited": false, "score": 0, "creation_date": 1452003993, "post_id": 34613712, "comment_id": 56973267, "body": "I think the problem maybe with piping of the output to the awk command.. This <a href=\"http://www.perlmonks.org/?node_id=908096\" rel=\"nofollow noreferrer\">Perlmonks post</a> might point you in the right direction"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1452004130, "post_id": 34613712, "comment_id": 56973392, "body": "You should perform the awk and sed parts in perl."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1452008002, "post_id": 34613712, "comment_id": 56976156, "body": "You can&#39;t capture the output of <code>system</code>. You&#39;ll want to use <a href=\"http://perldoc.perl.org/IPC/Open2.html\" rel=\"nofollow noreferrer\">IPC::Open2</a>"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1452008067, "post_id": 34613712, "comment_id": 56976204, "body": "Also, you&#39;ll really want to educate yourself about securing your perl CGI scripts. Lots of info on google no doubt, and <a href=\"http://perldoc.perl.org/search.html?q=cgi\" rel=\"nofollow noreferrer\">perldoc.perl.org/search.html?q=cgi</a>"}, {"owner": {"reputation": 211, "user_id": 1700494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/339c988180dae5f19e45f7e3a6e15eda?s=128&d=identicon&r=PG", "display_name": "user1700494", "link": "https://stackoverflow.com/users/1700494/user1700494"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1452098631, "post_id": 34613712, "comment_id": 57021655, "body": "@glenn   I switched to IPC::Run   my $testo = IPC::Run::run \\@cmd, &#39;|&#39;, \\@awk - returns bool value   How can i assign output of run to variable"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1452100029, "post_id": 34613712, "comment_id": 57022627, "body": "Doesn&#39;t look like you&#39;re calling run with the right args. Check <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">the docs</a>"}, {"owner": {"reputation": 211, "user_id": 1700494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/339c988180dae5f19e45f7e3a6e15eda?s=128&d=identicon&r=PG", "display_name": "user1700494", "link": "https://stackoverflow.com/users/1700494/user1700494"}, "edited": false, "score": 0, "creation_date": 1452102191, "post_id": 34613712, "comment_id": 57024062, "body": "No, it works and gives me output. I just want to store output in variable, not in stdout. I can redirect output to file and then populate variable from this file, but i suspect there is more simple way."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1452008485, "creation_date": 1452008485, "answer_id": 34615566, "question_id": 34613712, "link": "https://stackoverflow.com/questions/34613712/adapt-perl-script-to-run-from-cgi/34615566#34615566", "title": "Adapt perl script to run from cgi", "body": "<p>The environment that you run a program under from a shell is completely different to the environment that the same program gets when run from a web server. Most obviously, it will be run as a different user - one who will have far more restricted filesystem permissions that the average user.</p>\n\n<p>You can (partly) simulate this by working out which user your web server runs as (perhaps apache, www or nobody) and using <code>sudo</code> to run your program as that user. This might well reveal what the problem is.</p>\n\n<p>You can't just switch from backticks to <code>system()</code>. Backticks return the output from running the command line and <code>system()</code> returns a <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">value which requires some interpretation</a>. That'll be why you're seeing a different result.</p>\n"}], "owner": {"reputation": 211, "user_id": 1700494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/339c988180dae5f19e45f7e3a6e15eda?s=128&d=identicon&r=PG", "display_name": "user1700494", "link": "https://stackoverflow.com/users/1700494/user1700494"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452008485, "creation_date": 1452003178, "question_id": 34613712, "link": "https://stackoverflow.com/questions/34613712/adapt-perl-script-to-run-from-cgi", "title": "Adapt perl script to run from cgi", "body": "<p>I have a perl script which works fine from shell but doesn't work from web (lighttpd + mod_cgi). I found out that problem is with the following string</p>\n\n<pre><code>my $lastupdate = `/opt/mongo/bin/mongo 127.0.0.1:27117/getVersion -u test -p test --eval 'db.polling.find({},{\"_id\":0,\"host\":0,\"ports\":0}).sort({\"date\":-1}).limit(1).forEach(function(x){printjson(x)})' | awk -F'\"' '/date/{print \\$4}' |sed 's/T/,/;s/Z//'`;\n</code></pre>\n\n<p>As i understood, when running from cgi, string is not being splitted. So i have done this by my own</p>\n\n<pre><code>my $lastupdate = system('/opt/mongo/bin/mongo', '127.0.0.1:27117/getVersion', '-u', 'test', '-p', 'test', '--eval', 'db.polling.find({},{\"_id\":0,\"host\":0,\"ports\":0}).sort({\"date\":-1}).limit(1).forEach(function(x){printjson(x)})', '|', 'awk', '-F', '\"', '/date/{print', '\\$4}', '|sed', 's/T/,/;s/Z//');\n</code></pre>\n\n<p>Script works now but gives me unexpected value (differs from shell's run value). <br>\nWhat did i miss? <br>\nP.S. I know that there are smarter ways to interact mongoDB from perl, but my env is totally firewalled. I have access neither to CPAN, nor to rh repos and  perl mongoDB driver has too much deps to install it manually.</p>\n"}, {"tags": ["json", "perl", "double-quotes"], "comments": [{"owner": {"reputation": 1956, "user_id": 2845389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7t8u4.png?s=128&g=1", "display_name": "Kaushik", "link": "https://stackoverflow.com/users/2845389/kaushik"}, "edited": false, "score": 1, "creation_date": 1451998932, "post_id": 34612310, "comment_id": 56969703, "body": "Which language (Coding) You are using? And you&#39;re getting problem while requesting or response?"}, {"owner": {"reputation": 15, "user_id": 5684537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eef7a467637074f19d3e6e23f17a73?s=128&d=identicon&r=PG&f=1", "display_name": "deep", "link": "https://stackoverflow.com/users/5684537/deep"}, "reply_to_user": {"reputation": 1956, "user_id": 2845389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7t8u4.png?s=128&g=1", "display_name": "Kaushik", "link": "https://stackoverflow.com/users/2845389/kaushik"}, "edited": false, "score": 0, "creation_date": 1451999082, "post_id": 34612310, "comment_id": 56969793, "body": "Using perl, the query itself(request)"}], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 5684537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eef7a467637074f19d3e6e23f17a73?s=128&d=identicon&r=PG&f=1", "display_name": "deep", "link": "https://stackoverflow.com/users/5684537/deep"}, "is_accepted": false, "score": 0, "last_activity_date": 1452016044, "creation_date": 1452016044, "answer_id": 34618088, "question_id": 34612310, "link": "https://stackoverflow.com/questions/34612310/pass-variable-with-double-quotes-to-json-for-rest-client-in-perl/34618088#34618088", "title": "Pass variable with double quotes to JSON for REST client in PERL", "body": "<p>well, after encoding but before making the POST request I end up doing the following and it worked:</p>\n\n<pre><code>$postRequestJSON=~s/\\\\//g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 5684537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eef7a467637074f19d3e6e23f17a73?s=128&d=identicon&r=PG&f=1", "display_name": "deep", "link": "https://stackoverflow.com/users/5684537/deep"}, "edited": false, "score": 0, "creation_date": 1452096025, "post_id": 34621809, "comment_id": 57019926, "body": "So i tried this:             ` my $json_str = to_json ( [1..2504] );`             <code>print $json_str;</code> and this gives me                         `  [1,2,3,4.....] <code>and in JSON all it does is </code>&quot;[1,2,3,4...]&quot;`    I want <code>[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;......]</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15, "user_id": 5684537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eef7a467637074f19d3e6e23f17a73?s=128&d=identicon&r=PG&f=1", "display_name": "deep", "link": "https://stackoverflow.com/users/5684537/deep"}, "edited": false, "score": 0, "creation_date": 1452096703, "post_id": 34621809, "comment_id": 57020373, "body": "Should work just the same. After all, they&#39;re only json values. But if that doesn&#39;t work <code>[map {&quot;$_&quot;} 1..2504]</code>"}, {"owner": {"reputation": 15, "user_id": 5684537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eef7a467637074f19d3e6e23f17a73?s=128&d=identicon&r=PG&f=1", "display_name": "deep", "link": "https://stackoverflow.com/users/5684537/deep"}, "edited": false, "score": 0, "creation_date": 1452097569, "post_id": 34621809, "comment_id": 57020964, "body": "so in part using      <code>[map {&quot;$_&quot;}1..2504]</code> worked, but then the entire then again is surrounded with &quot;&quot;. This is because of string vs numerical val in JSON.       dont want <code>&quot;[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]&quot;</code> instead        <code>[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,....]</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15, "user_id": 5684537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eef7a467637074f19d3e6e23f17a73?s=128&d=identicon&r=PG&f=1", "display_name": "deep", "link": "https://stackoverflow.com/users/5684537/deep"}, "edited": false, "score": 0, "creation_date": 1452097830, "post_id": 34621809, "comment_id": 57021139, "body": "Sort of, but I&#39;d still stick with just building as JSON rather than trying to inject a JSON array as a string into your JSON objcet."}, {"owner": {"reputation": 15, "user_id": 5684537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eef7a467637074f19d3e6e23f17a73?s=128&d=identicon&r=PG&f=1", "display_name": "deep", "link": "https://stackoverflow.com/users/5684537/deep"}, "edited": false, "score": 0, "creation_date": 1452098001, "post_id": 34621809, "comment_id": 57021258, "body": "Oh I agree with you and current standard for JSON, int is without double quotes. But I not the SE who has designed this."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15, "user_id": 5684537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eef7a467637074f19d3e6e23f17a73?s=128&d=identicon&r=PG&f=1", "display_name": "deep", "link": "https://stackoverflow.com/users/5684537/deep"}, "edited": false, "score": 0, "creation_date": 1452098168, "post_id": 34621809, "comment_id": 57021359, "body": "Non standard &quot;standards&quot; make me sad."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1452096796, "last_edit_date": 1452096796, "creation_date": 1452030464, "answer_id": 34621809, "question_id": 34612310, "link": "https://stackoverflow.com/questions/34612310/pass-variable-with-double-quotes-to-json-for-rest-client-in-perl/34621809#34621809", "title": "Pass variable with double quotes to JSON for REST client in PERL", "body": "<p>If you're doing JSON, why not just:</p>\n\n<pre><code>use JSON;\n</code></pre>\n\n<p>Rather than hacking it with regular expressions:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse JSON;\n\nmy $json_str = to_json ( [1..2504] );\nprint $json_str;\n</code></pre>\n\n<p>With <code>to_json</code> you can encode into a <code>JSON</code> structure pretty much any perl data structure. (and <code>from_json</code> to turn it back again). </p>\n\n<p>You can do an OO style with <code>encode_json</code>/<code>decode_json</code>. </p>\n\n<p>You seem to be doing this already, but ... this here:</p>\n\n<pre><code>{\"Ids\"=&gt;[$ids],    \n</code></pre>\n\n<p>Can be simply changed as the above:</p>\n\n<pre><code>{ \"Ids\" =&gt; [@elements]\n</code></pre>\n\n<p>Which should do what you want. </p>\n\n<p>From the comments - I don't think anything receiving JSON should be getting confused by an array of numbers vs. an array of numeric strings. </p>\n\n<p>But if they do:</p>\n\n<pre><code>my $json_str = to_json [ map {\"$_\"} 1..2504 ]; \n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5684537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eef7a467637074f19d3e6e23f17a73?s=128&d=identicon&r=PG&f=1", "display_name": "deep", "link": "https://stackoverflow.com/users/5684537/deep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 0, "accepted_answer_id": 34621809, "answer_count": 2, "score": 0, "last_activity_date": 1452096796, "creation_date": 1451998671, "last_edit_date": 1452027726, "question_id": 34612310, "link": "https://stackoverflow.com/questions/34612310/pass-variable-with-double-quotes-to-json-for-rest-client-in-perl", "title": "Pass variable with double quotes to JSON for REST client in PERL", "body": "<p>Situation is the I am dealing  with REST and JSON. Making JSON request for a REST client. \nI have a simple for loop that creates ids for me</p>\n\n<pre><code>for (my $i=1;$i&lt;=2504;$i++)\n {\n   push (@elements,$i);\n }\n my $ids = join ',',map{\"\\\"$_\\\"\"}@elements;\n</code></pre>\n\n<p>However, when I pass this to JSON then I see backslash are being printed</p>\n\n<pre><code>$hashref=({\"varreq\"=&gt;{\"search\"=&gt;{\"Ids\"=&gt;[$ids],\"genome\"=&gt;[{\"hugo\"=&gt;[\"$hugo\"]}]},\"output_format\"&gt;{\"groupby\"=&gt;\"gene\"}}});\n</code></pre>\n\n<p>Above is encoded in JSON and then a post request is made </p>\n\n<p>I am getting this:</p>\n\n<pre><code>  \"\\\"1\\\",\\\"2\\\",\\\"3\\\",\\\"4\\\",......\n</code></pre>\n\n<p>and I want:</p>\n\n<pre><code>  \"1\",\"2\",\"3\",\"4\",.....\n</code></pre>\n"}, {"tags": ["perl", "chess"], "comments": [{"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1451990018, "post_id": 34609161, "comment_id": 56964127, "body": "So, is &quot;xxyy&quot; a valid move? And is your program the &quot;first machine&quot;? Xboard has been used a lot for a long time, so it is unlikely not to work at all."}, {"owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "reply_to_user": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1451995762, "post_id": 34609161, "comment_id": 56967691, "body": "Yes, of course &quot;xxyy&quot;  is valid move. When I started program and Xboard is displayed, another program called &#39;Chess&#39; was being opened too. I uninstaled it thinking that it caused this error but nothing changed. I do not know what is meant with the word &quot;first machine&quot;."}, {"owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "reply_to_user": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1451997140, "post_id": 34609161, "comment_id": 56968550, "body": "Also, &quot;xxyy&quot; is not the coordinate I played. For example I am playing e3xf8, but error message says : Illegal move &quot;b7xh3&quot; from first machine"}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "is_accepted": false, "score": 0, "last_activity_date": 1451998591, "creation_date": 1451998591, "answer_id": 34612284, "question_id": 34609161, "link": "https://stackoverflow.com/questions/34609161/xboard-error-perl/34612284#34612284", "title": "Xboard Error - Perl", "body": "<p>I thought that it was Xboard error, but it is Perl code error at my program. This is a very common message people encounter and as I see from forums that people thinks it is Xboard error but it seems that there is no problem at Xboard, but at the code used to execute Xboard </p>\n"}], "owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1451998591, "creation_date": 1451988930, "last_edit_date": 1592644375, "question_id": 34609161, "link": "https://stackoverflow.com/questions/34609161/xboard-error-perl", "title": "Xboard Error - Perl", "body": "<p>I am using Xboard 4.8.0 to implement a chess application with Perl programming language.</p>\n<p>Unfortunately, I got following error after same movements:</p>\n<p><em>Illegal move &quot;xxyy&quot; from first machine</em></p>\n<p>Is this a bug of Xboard? When I googled it, I could not understand but it seems it is not related my Perl code, but related with Xboard.</p>\n<p>If this is a bug at Xboard, is there a solution?</p>\n"}, {"tags": ["perl", "hash", "printing"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1451989318, "post_id": 34608957, "comment_id": 56963650, "body": "Please show the code you are using to create the output. You can <a href=\"https://stackoverflow.com/posts/34608957/edit\">edit</a> your question. The XML format seems a bit odd, like you need to use XML but don&#39;t really want to."}, {"owner": {"reputation": 87, "user_id": 4242385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/078bea2667b144256a7ca042d37caddd?s=128&d=identicon&r=PG&f=1", "display_name": "Doggerel", "link": "https://stackoverflow.com/users/4242385/doggerel"}, "edited": false, "score": 0, "creation_date": 1451989774, "post_id": 34608957, "comment_id": 56963957, "body": "I would just make a little subroutine that prints out the hash the way you want it, and call that as needed."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452005882, "post_id": 34608957, "comment_id": 56974665, "body": "What are you using for your XML generation? If the answer is <code>XML::Simple</code> you&#39;re probably stuck."}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1452043546, "post_id": 34608957, "comment_id": 56994033, "body": "The question is clean and clear, I do not think it deserved downvote"}, {"owner": {"reputation": 575, "user_id": 2413767, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9380d059e6b721c893f451abd941fcd1?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2413767/john"}, "edited": false, "score": 0, "creation_date": 1452096102, "post_id": 34608957, "comment_id": 57019977, "body": "XML::Simple is used."}], "answers": [{"comments": [{"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 1, "creation_date": 1452043460, "post_id": 34609752, "comment_id": 56994003, "body": "this should be the accepted answer, there is no better alternatives"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 6, "last_activity_date": 1451992804, "last_edit_date": 1451992804, "creation_date": 1451990681, "answer_id": 34609752, "question_id": 34608957, "link": "https://stackoverflow.com/questions/34608957/how-to-print-a-hash-in-a-specific-order-in-perl/34609752#34609752", "title": "How to print a hash in a specific order in perl", "body": "<p>Hashes are <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\"><em>explicitly</em> unordered</a>. So no, you can't do that. There's only two ways of maintaining order (with a <code>hash</code>):</p>\n\n<ul>\n<li>use an array to enforce ordering with a <a href=\"http://perldoc.perl.org/perldata.html#Slices\">hash slice</a>.</li>\n<li>Use a sort function that returns keys in the order you desire. </li>\n</ul>\n\n<p>Something like:</p>\n\n<pre><code>my @fields = qw (  Name Address DOB Sex );\nmy @ordered_values = @hash{@fields}; \n</code></pre>\n\n<p>Or just a simple:</p>\n\n<pre><code>foreach my $key ( @fields ) {\n    print \"$key=$hash{$key} \"; \n}\n</code></pre>\n\n<p>Although, if you're working with XML... it may be there's better ways to handle your  source data than stuffing it into a hash in the first place. </p>\n\n<p>I would note - when writing XML, you wouldn't typically inline key-values in the content of the XML, but rather as attributes (or children elements):</p>\n\n<pre><code>&lt;Record Address=\"Home\" DOB=\"01/01/1990\" Name=\"Bob\" Sex=\"M\" /&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;Record&gt;\n   &lt;Address&gt;Home&lt;/Address&gt; \n   &lt;DOB&gt;01/01/1990&lt;/DOB&gt;\n   &lt;Name&gt;Bob&lt;/Name&gt;\n   &lt;Sex&gt;M&lt;/Sex&gt;\n&lt;/Record&gt;\n</code></pre>\n\n<p>Because by doing so, then you can use the XML query tools to match specific criteria (like <code>xpath</code>). </p>\n"}], "owner": {"reputation": 575, "user_id": 2413767, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9380d059e6b721c893f451abd941fcd1?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2413767/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1451993466, "creation_date": 1451988423, "last_edit_date": 1451993466, "question_id": 34608957, "link": "https://stackoverflow.com/questions/34608957/how-to-print-a-hash-in-a-specific-order-in-perl", "title": "How to print a hash in a specific order in perl", "body": "<p>I have an array of hashes. </p>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n      'Name' =&gt; 'Bob',\n      'Address' =&gt; 'Home',\n      'DOB' =&gt; '01/01/1990',\n      'Sex' =&gt; 'M',\n    };\n$VAR2 = {\n      'Name' =&gt; 'Mary',\n      'Address' =&gt; 'Home',\n      'DOB' =&gt; '01/01/1990',\n      'Sex' =&gt; 'F',\n    };\n</code></pre>\n\n<p>Which I print to an xml file. However, when I print this array to an xml file I get:</p>\n\n<pre><code>&lt;Record Address=Home DOB=01/01/1990 Name=Bob Sex=M /&gt;\n</code></pre>\n\n<p>Id prefer to have Name, Address, DOB, Sex. </p>\n\n<pre><code>&lt;Record Name=Bob Address=Home Sex=M DOB=01/01/1990 /&gt;\n</code></pre>\n\n<p>Sorting the array by Key or Key value wouldn't put the values in the correct order either. Is there a simple solution to print the hash in the desired order?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1451988023, "post_id": 34608798, "comment_id": 56962684, "body": "<a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/sort.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1451992719, "creation_date": 1451992719, "answer_id": 34610434, "question_id": 34608798, "link": "https://stackoverflow.com/questions/34608798/sort-hash-ref-inside-array-ref-perl/34610434#34610434", "title": "sort hash ref inside array ref perl", "body": "<p>The <code>sort</code> function allows you to apply arbitrary criteria to a sort, via a function.</p>\n\n<p>This function should take <code>$a</code> and <code>$b</code> which are set to each record in turn. It should return <code>-1</code>, <code>0</code>, <code>+1</code> (or any positive/negative number - the sign is what is important) depending on relative position.</p>\n\n<p>This is complicated a little by the depth of your nesting. You can sort with:</p>\n\n<pre><code>sort { $a -&gt; {sort_order} &lt;=&gt; $b -&gt; {sort_order} } @stuff; \n</code></pre>\n\n<p>Which will compare the values and give you an ordered result. </p>\n\n<p>To get at that array from your data though, you need to dereference. <code>$category</code> is a variable in your example - did you mean to use that? Anyway given your thing:</p>\n\n<pre><code> @{$categories -&gt; {$category}} \n</code></pre>\n\n<p>So: </p>\n\n<pre><code>sort { $a -&gt; {sort_order} &lt;=&gt; $b -&gt; {sort_order} } @{$categories -&gt; {$category}}\n</code></pre>\n\n<p>Which you can use in a <code>for</code> loop:</p>\n\n<pre><code>foreach my $thing ( sort { $a -&gt; {sort_order} &lt;=&gt; $b -&gt; {sort_order} } @{$categories -&gt; {$category}} ) {\n    print $thing -&gt; {title},\"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467563519, "last_edit_date": 1467563519, "creation_date": 1451992812, "answer_id": 34610458, "question_id": 34608798, "link": "https://stackoverflow.com/questions/34608798/sort-hash-ref-inside-array-ref-perl/34610458#34610458", "title": "sort hash ref inside array ref perl", "body": "<p>The simplest way to do this is using <code>nsort_by</code> from <a href=\"http://metacpan.org/module/List::UtilsBy\" rel=\"nofollow\"><code>List::UtilsBy</code></a></p>\n\n<p>Here's an example. I've assumed that the key <code>$category</code> in your example data should be <code>category</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse List::UtilsBy qw/ nsort_by /;\n\nmy $categories = {\n    category =&gt; [\n        {   id         =&gt; 1,\n            title      =&gt; \"title1\",\n            sort_order =&gt; 1\n        },\n        {   id         =&gt; 13,\n            title      =&gt; \"title2\",\n            sort_order =&gt; 2\n        },\n        {   id         =&gt; 15,\n            title      =&gt; \"title3\",\n            sort_order =&gt; 3\n        },\n\n    ]\n};\n\nmy $list = $categories-&gt;{category};\n\nfor my $item ( nsort_by { $_-&gt;{sort_order} } @$list ) {\n\n  printf \"sort order: %d\\n\", $item-&gt;{sort_order};\n  printf \"id:         %d\\n\", $item-&gt;{id};\n  printf \"title:      %s\\n\", $item-&gt;{title};\n  print \"\\n\";\n}\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>sort order: 1\nid:         1\ntitle:      title1\n\nsort order: 2\nid:         13\ntitle:      title2\n\nsort order: 3\nid:         15\ntitle:      title3\n</code></pre>\n\n<p>However, if you don't have the module installed (it's not a core module) then you can do it with basic Perl like this with the same results</p>\n\n<pre><code>for my $item ( sort { $a-&gt;{sort_order} &lt;=&gt; $b-&gt;{sort_order} } @$list ) {\n\n  printf \"sort order: %d\\n\", $item-&gt;{sort_order};\n  printf \"id:         %d\\n\", $item-&gt;{id};\n  printf \"title:      %s\\n\", $item-&gt;{title};\n  print \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "is_accepted": true, "score": 4, "last_activity_date": 1451992816, "creation_date": 1451992816, "answer_id": 34610459, "question_id": 34608798, "link": "https://stackoverflow.com/questions/34608798/sort-hash-ref-inside-array-ref-perl/34610459#34610459", "title": "sort hash ref inside array ref perl", "body": "<p>set up a method for a sort() to use and make a new array from this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\nmy $category=\"wombats\";\n\n my $categories = { $category =&gt; [\n                                  {\n                                   id =&gt; 1,\n                                   title =&gt; \"title1\",\n                                   sort_order =&gt; 1\n                                  },\n                                  {\n                                   id =&gt; 13,\n                                   title =&gt; \"title2\",\n                                   sort_order =&gt; 2\n                                  },\n                                  {\n                                   id =&gt; 15,\n                                   title =&gt; \"title3\",\n                                   sort_order =&gt; 3\n                                  }\n\n ] };\n\n\nmy @sorted = sort { $a-&gt;{sort_order} &lt;=&gt; $b-&gt;{sort_order} } @{$categories-&gt;{$category}};\n\nprint \"by sort_order\\n\";\nprint Dumper(@sorted);\n\nmy @sorted2 = sort { $b-&gt;{id} &lt;=&gt; $a-&gt;{id} } @{$categories-&gt;{$category}};\n\nprint \"by reverse id\\n\";\nprint Dumper(@sorted2);\n</code></pre>\n"}], "owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 34610459, "answer_count": 3, "score": -2, "last_activity_date": 1467563519, "creation_date": 1451987962, "question_id": 34608798, "link": "https://stackoverflow.com/questions/34608798/sort-hash-ref-inside-array-ref-perl", "title": "sort hash ref inside array ref perl", "body": "<p>i have the following structure...</p>\n\n<pre><code> my $categories = { $category =&gt; [\n                                  {\n                                   id =&gt; 1,\n                                   title =&gt; \"title1\",\n                                   sort_order =&gt; 1\n                                  },\n                                  {\n                                   id =&gt; 13,\n                                   title =&gt; \"title2\",\n                                   sort_order =&gt; 2\n                                  },\n                                  {\n                                   id =&gt; 15,\n                                   title =&gt; \"title3\",\n                                   sort_order =&gt; 3\n                                  }\n\n ] };\n</code></pre>\n\n<p>can anyone tell me if there is a way to sort the results based on sort_order?</p>\n"}, {"tags": ["perl", "asynchronous", "cpan", "poe"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1451986770, "post_id": 34607386, "comment_id": 56961799, "body": "Is the question if you can use POE with (Basic Authentication)[<a href=\"https://en.wikipedia.org/wiki/Basic_access_authentication]\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Basic_access_authentic&zwnj;&#8203;ation]</a>?"}, {"owner": {"reputation": 139, "user_id": 3540276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a839984345301242fee7fab36ffce206?s=128&d=identicon&r=PG&f=1", "display_name": "user3540276", "link": "https://stackoverflow.com/users/3540276/user3540276"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1451987633, "post_id": 34607386, "comment_id": 56962402, "body": "yes i would like to use poe::component::client:http compenent with basic authentication"}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 3540276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a839984345301242fee7fab36ffce206?s=128&d=identicon&r=PG&f=1", "display_name": "user3540276", "link": "https://stackoverflow.com/users/3540276/user3540276"}, "edited": false, "score": 0, "creation_date": 1452067053, "post_id": 34610163, "comment_id": 57001555, "body": "i like the same authentication as like we do in  lwp agent , which includes host-port address, realm string , username and password."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 139, "user_id": 3540276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a839984345301242fee7fab36ffce206?s=128&d=identicon&r=PG&f=1", "display_name": "user3540276", "link": "https://stackoverflow.com/users/3540276/user3540276"}, "edited": false, "score": 0, "creation_date": 1452076328, "post_id": 34610163, "comment_id": 57006977, "body": "@user3540276: Yes. Then you need to find a component that does that, or implement it yourself."}, {"owner": {"reputation": 139, "user_id": 3540276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a839984345301242fee7fab36ffce206?s=128&d=identicon&r=PG&f=1", "display_name": "user3540276", "link": "https://stackoverflow.com/users/3540276/user3540276"}, "edited": false, "score": 0, "creation_date": 1452077494, "post_id": 34610163, "comment_id": 57007723, "body": "i want digest auth system to be injected in my request headers"}, {"owner": {"reputation": 139, "user_id": 3540276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a839984345301242fee7fab36ffce206?s=128&d=identicon&r=PG&f=1", "display_name": "user3540276", "link": "https://stackoverflow.com/users/3540276/user3540276"}, "edited": false, "score": 0, "creation_date": 1452077768, "post_id": 34610163, "comment_id": 57007893, "body": "Is there a way so that i can inject lwp agent in poe::component::client:http"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 139, "user_id": 3540276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a839984345301242fee7fab36ffce206?s=128&d=identicon&r=PG&f=1", "display_name": "user3540276", "link": "https://stackoverflow.com/users/3540276/user3540276"}, "edited": false, "score": 1, "creation_date": 1452078798, "post_id": 34610163, "comment_id": 57008512, "body": "No. There is no easy way of using LWP::UserAgent. You could look at <a href=\"https://metacpan.org/source/ETHER/libwww-perl-6.15/lib/LWP/Authen/Digest.pm\" rel=\"nofollow noreferrer\">metacpan.org/source/ETHER/libwww-perl-6.15/lib/LWP/Authen/&hellip;</a> to see how LWP implements Digest."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 0, "last_activity_date": 1451991897, "creation_date": 1451991897, "answer_id": 34610163, "question_id": 34607386, "link": "https://stackoverflow.com/questions/34607386/user-authentication-using-poecomponentclienthttp/34610163#34610163", "title": "User authentication using POE::Component::Client::HTTP", "body": "<p>You can pass a <a href=\"https://metacpan.org/pod/HTTP::Request\" rel=\"nofollow\">HTTP::Request</a> object to <a href=\"https://metacpan.org/pod/POE::Component::Client::HTTP\" rel=\"nofollow\">POE::Component::Client::HTTP</a>. Basic Auth is solved with a header, and can be sent as a header:</p>\n\n<pre><code> use strict;\n use warnings;\n use MIME::Base64;\n use HTTP::Request;\n\n my $username = 'username';\n my $password = 'password';\n my $auth = 'Basic ' . MIME::Base64::encode($username . ':' . $password);\n\n my $request = HTTP::Request-&gt;new(GET =&gt; 'http://www.example/',\n    [Authorization =&gt; $auth]);\n</code></pre>\n\n<p>And then just pass the <code>$request</code> to <code>$poe_kernel-&gt;post</code> as in the documentation.</p>\n"}], "owner": {"reputation": 139, "user_id": 3540276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a839984345301242fee7fab36ffce206?s=128&d=identicon&r=PG&f=1", "display_name": "user3540276", "link": "https://stackoverflow.com/users/3540276/user3540276"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 34610163, "answer_count": 1, "score": 1, "last_activity_date": 1451991897, "creation_date": 1451983348, "last_edit_date": 1451985625, "question_id": 34607386, "link": "https://stackoverflow.com/questions/34607386/user-authentication-using-poecomponentclienthttp", "title": "User authentication using POE::Component::Client::HTTP", "body": "<p>I am trying to find a module in perl poe which can do user authentication while making a <code>HTTP request</code>.</p>\n\n<p>HTTP request should be non-blocking</p>\n\n<p>or</p>\n\n<p>How should I use <code>poe::component::client:http</code> to do user authentication by providing username , password details?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "edited": false, "score": 0, "creation_date": 1452090432, "post_id": 34607351, "comment_id": 57015965, "body": "Well I learnt a lot with this assignment...just had another small doubt and didn&#39;t want to open another thread for something so simple: I have a an empty array @arr where I am filling the elements from another array through a for loop one-by-one: for ($i=1...scalar@arr2) { push(@arr1,$elements[$i]); } ....it doesn&#39;t behave as expected !!! can anyone suggest me what am i doing wrong ?? [didn&#39;t find particular solutn by googling :(]"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "edited": false, "score": 0, "creation_date": 1451990219, "post_id": 34607435, "comment_id": 56964255, "body": "Thank you duskwuff fr your time...I got wat you said but thats not exactly wat i asked for..let me explain....there are set of four lines L1:@CCF.... L2:---characters--- L3:+ L4:---characters--- , Now i capture L1 like this: if(/^\\@CCF/){ $first_line=$_; $second_line=(THIS IS WHERE I WANT TO ADDRESS CORRESPONDING SECOND LINE IN ONE GO, LIKE $_+1)}....in grep you address the line after pattern matching line with -A option, something like that !!!"}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 0, "last_activity_date": 1451983524, "creation_date": 1451983524, "answer_id": 34607435, "question_id": 34607351, "link": "https://stackoverflow.com/questions/34607351/perl-manipulating-while-loop-in-file-reading/34607435#34607435", "title": "Perl: Manipulating while(&lt;&gt;) loop in file reading", "body": "<p>You can read from <code>&lt;&gt;</code> anywhere, not just in the head of the loop, e.g.</p>\n\n<pre><code>while (my $line = &lt;&gt;) {\n    chomp $line;\n    my $another_line = &lt;&gt;;\n    chomp $another_line;\n    print \"$line followed by $another_line\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "edited": false, "score": 0, "creation_date": 1451990931, "post_id": 34609304, "comment_id": 56964710, "body": "Thank you Doggerel....No my file is not small-ish....ts bigger than 1.5GB and has over 10mil lines :) .....and I knew of this way !!"}, {"owner": {"reputation": 87, "user_id": 4242385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/078bea2667b144256a7ca042d37caddd?s=128&d=identicon&r=PG&f=1", "display_name": "Doggerel", "link": "https://stackoverflow.com/users/4242385/doggerel"}, "reply_to_user": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "edited": false, "score": 0, "creation_date": 1451991485, "post_id": 34609304, "comment_id": 56965038, "body": "1.5gb is not that big in modern computer memory. If you have an 8gb+ram machine i doubt you would have a problem. 4gb machines may or may not work."}, {"owner": {"reputation": 87, "user_id": 4242385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/078bea2667b144256a7ca042d37caddd?s=128&d=identicon&r=PG&f=1", "display_name": "Doggerel", "link": "https://stackoverflow.com/users/4242385/doggerel"}, "reply_to_user": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "edited": false, "score": 0, "creation_date": 1451992313, "post_id": 34609304, "comment_id": 56965538, "body": "Can your use case be reduced to &quot;I need to process a file in chunks of N lines&quot; ? if so the line number magic var $. should help you out."}, {"owner": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "edited": false, "score": 0, "creation_date": 1451995903, "post_id": 34609304, "comment_id": 56967777, "body": "No sir...its actually not that simple...infact lemme explain...i have file of million lines, but the entries of this file is a set of 4 lines, i.e. number of entries = # of lines / 4....i am trying deal each of these ENTRIES, but program-atically speaking i deal set of 4 lines....and the starting line of these 4 lines always starts with @FCC....hence when my while(&lt;&gt;) is at first line ($_) , i need to access the following 3 lines ...."}], "tags": [], "owner": {"reputation": 87, "user_id": 4242385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/078bea2667b144256a7ca042d37caddd?s=128&d=identicon&r=PG&f=1", "display_name": "Doggerel", "link": "https://stackoverflow.com/users/4242385/doggerel"}, "is_accepted": false, "score": 0, "last_activity_date": 1451989641, "last_edit_date": 1451989641, "creation_date": 1451989325, "answer_id": 34609304, "question_id": 34607351, "link": "https://stackoverflow.com/questions/34607351/perl-manipulating-while-loop-in-file-reading/34609304#34609304", "title": "Perl: Manipulating while(&lt;&gt;) loop in file reading", "body": "<p>Assuming your file is small-ish (perhaps less than 1gb) you could just stuff it into an array and walk it:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @lines;\nwhile (&lt;&gt;) {\n    chomp;\n    push @lines, $_;\n}\n\nmy $num_lines = @lines; #use of array in scalar context give length of array                                             \n# don't do last line (there is no next one)                                                                              \n\n$num_lines -= 1;\n\nforeach (my $i = 0; $i &lt; $num_lines; $i++) {\n    my $next_line = $i+1;\n    print \"line $i plus $next_line:\",$lines[$i],$lines[$i+1],\"\\n\";\n}\n</code></pre>\n\n<p>Note that the semantics of my solution is a bit different from the answer above. My solution would print out everything except the first line twice; if you wanted everything to be printed once, the above solution might make more sense.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "edited": false, "score": 0, "creation_date": 1452001300, "post_id": 34612779, "comment_id": 56971276, "body": "I knew it... something like this was there !!!! this looks helpful, lets see..... and thaaaaank you ChatterOne"}], "tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 0, "last_activity_date": 1452000175, "creation_date": 1452000175, "answer_id": 34612779, "question_id": 34607351, "link": "https://stackoverflow.com/questions/34607351/perl-manipulating-while-loop-in-file-reading/34612779#34612779", "title": "Perl: Manipulating while(&lt;&gt;) loop in file reading", "body": "<p>If you want to read <em>n</em> lines at a time from a file you can use <a href=\"http://search.cpan.org/~toddr/Tie-File-1.00/lib/Tie/File.pm\" rel=\"nofollow\">Tie::File</a> and use an array to reference <em>n</em> elements at a time, like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Tie::File;\n\nmy $filename = 'path_to_your_file';\ntie my @array, 'Tie::File', $filename or die 'Unable to open file';\n\nmy $index = 0;\nmy $size = @array;\n\nwhile (1) {\n    last if ($index &gt; $size); # Be careful! Try to do a better check than this!\n    print @array[$index..$index+3];\n    print \"----\\n\";\n    $index += 4;\n}\n</code></pre>\n\n<p>(This is just an example, try to write better code)</p>\n\n<p>As the documentation says, the file is not loaded into memory all at once, so it will work even for large files.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "edited": false, "score": 0, "creation_date": 1452007882, "post_id": 34613249, "comment_id": 56976074, "body": "okei this is elegant ....this one skipped my mind and looks helpful !!! thank you sir...."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452011305, "post_id": 34613249, "comment_id": 56978464, "body": "Using <code>@FCC</code> inside double quotes when it&#39;s not actually an array is going to cause a compilation error."}, {"owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "edited": false, "score": 0, "creation_date": 1452073562, "post_id": 34613249, "comment_id": 57005230, "body": "Edited - escaped the @"}], "tags": [], "owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "is_accepted": false, "score": 1, "last_activity_date": 1452073520, "last_edit_date": 1452073520, "creation_date": 1452001643, "answer_id": 34613249, "question_id": 34607351, "link": "https://stackoverflow.com/questions/34607351/perl-manipulating-while-loop-in-file-reading/34613249#34613249", "title": "Perl: Manipulating while(&lt;&gt;) loop in file reading", "body": "<p>If you want to process four lines at a time and each set of lines is separated by <code>@FCC</code> then you need to change perl's input file separator.</p>\n\n<p>In your script put</p>\n\n<p><code>$/=\"\\@FCC\"</code></p>\n\n<p>This means that when you do (&lt;>), each record you get in $_ is now four lines of your file.</p>\n\n<pre><code>use warnings;\nuse strict;\nlocal $/=\"\\@FCC\";\n\nwhile (&lt;&gt;) {\n    chomp;\n    #Each time we iterate, $_ is now all four lines of each record.\n}\n</code></pre>\n\n<p><strong>Edit</strong>\nYou'll need to backslash the <code>@</code></p>\n"}], "owner": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1452073520, "creation_date": 1451983215, "last_edit_date": 1451983800, "question_id": 34607351, "link": "https://stackoverflow.com/questions/34607351/perl-manipulating-while-loop-in-file-reading", "title": "Perl: Manipulating while(&lt;&gt;) loop in file reading", "body": "<p>My question is regarding the while loop that reads line from files. The situation is that I want to store values from or the entire next line when the while loop <code>while(&lt;FILEHANDLE&gt;)</code> is performing the action on present line <code>($_)</code>. So what is the way to address this problem? Is there a specific function or module that does this thing?</p>\n"}, {"tags": ["xml", "perl", "xml-simple"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452002830, "post_id": 34607210, "comment_id": 56972361, "body": "Your existing XML isn&#39;t valid."}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452061302, "post_id": 34607210, "comment_id": 56999246, "body": "@Sobrique I have edited the question again!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452068701, "post_id": 34607210, "comment_id": 57002369, "body": "Thought you said you were using XML::Simple?"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452068990, "post_id": 34607210, "comment_id": 57002491, "body": "@Sobrique That&#39;s right! You can my answer in <i>Answers</i> section"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452070231, "post_id": 34607210, "comment_id": 57003174, "body": "No, that isn&#39;t. It is some dirty regular expression hackery,  it isn&#39;t using a parser."}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452077717, "post_id": 34607210, "comment_id": 57007862, "body": "@Sobrique let me re-check it again!"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1451988685, "post_id": 34608448, "comment_id": 56963192, "body": "there are few complications in my code and I&#39;m trying to figure it out!"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1451986943, "creation_date": 1451986943, "answer_id": 34608448, "question_id": 34607210, "link": "https://stackoverflow.com/questions/34607210/how-to-partition-an-inconsistent-xml-perl/34608448#34608448", "title": "How to partition an inconsistent XML - Perl", "body": "<p>Since you have not included any code, or how your data is at the moment, I'm going to suggest this simple hack. Just add it as text before you parse the XML.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $xml = &lt;your xml here&gt;;\n$xml = \"&lt;Root&gt;\\n\" . $xml . \"&lt;/Root&gt;\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1452083089, "last_edit_date": 1495535275, "creation_date": 1452082787, "answer_id": 34633026, "question_id": 34607210, "link": "https://stackoverflow.com/questions/34607210/how-to-partition-an-inconsistent-xml-perl/34633026#34633026", "title": "How to partition an inconsistent XML - Perl", "body": "<p><a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">Don't use regular expressions for XML.</a> XML is a recursive data structure, and whilst you can technically do recursion with regex, it leads to dirty code. So practically you end up with some <em>very</em> selective hackery that'll one day mysteriously break, because a perfectly valid XML change doesn't fit your regex any more. </p>\n\n<p>Also: <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Don't use XML::Simple</a> for much the same reason. (Despite you saying you are using it in your question, there is no sign of your doing so in the code you have posted). </p>\n\n<p>With a proper parser what you are trying to do becomes very simple. I like <code>XML::Twig</code>, <code>XML::LibXML</code> is probably better, but has a steeper learning curve. Either are less prone to future misery and shoddy code. </p>\n\n<p>What you're trying to do seems to be to split XML, and put <code>modules</code> in one, and \"everything else\" in another. This is done in <code>XML::Twig</code> like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\n#parse your input\nmy $twig = XML::Twig-&gt;new-&gt;parsefile( 'datamod.xml' ); \n\n#create a new 'modules' document. \nmy $modules = XML::Twig-&gt;new;\n#create a root\n$modules-&gt;set_root( XML::Twig::Elt-&gt;new('Root') );\n#create a \"Top\" element. (You can compound this if you want)\nmy $top = $modules-&gt;root-&gt;insert_new_elt('Top');\n#set output format (note - this can break in specific edge cases - your XML\n#doesn't seem to be one of those). \n$modules-&gt;set_pretty_print('indented_a');\n\n#find all the \"&lt;Module&gt;\" elements. \nforeach my $module ( $twig-&gt;findnodes('//Module') ) {\n    #cut from old doc\n    $module-&gt;cut;\n    #paste into new. last_child ensures same ordering.\n    $module-&gt;paste( 'last_child', $top );\n}\n\n#print the output to a file.  \nopen ( my $output, '&gt;', 'tm1.xml' ) or warn $!; \nprint {$output} $twig -&gt; sprint; \nclose ( $output ); \n\nopen ( my $second_output, '&gt;', 'tm2.xml' ) or warn $!;\nprint {$second_output} $modules -&gt; sprint; \nclose ( $second_output ); \n</code></pre>\n\n<p>Note - there's a bit more on assembling a new XML document here: <a href=\"https://stackoverflow.com/questions/29009370/assembling-xml-in-perl/29009769#29009769\">Assembling XML in Perl</a></p>\n\n<p>You may want to consider setting encoding and versions. </p>\n"}], "owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1453294251, "creation_date": 1451982651, "last_edit_date": 1592644375, "question_id": 34607210, "link": "https://stackoverflow.com/questions/34607210/how-to-partition-an-inconsistent-xml-perl", "title": "How to partition an inconsistent XML - Perl", "body": "<p>Say how do you parse through this particular XML using perl</p>\n<p>A little background: I'm writing a perl script where I separate the XML(datamod) into two XML files.</p>\n<h3>Example: Existing XML</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Root&gt;\n &lt;Top&gt;\n  &lt;Module name=&quot;ALU&quot;&gt;\n   &lt;input name=&quot;po_ctrl&quot;/&gt;\n   &lt;bidirection name=&quot;add&quot;/&gt;\n  &lt;/Module&gt;\n  &lt;Module name=&quot;Po_ctrl&quot;&gt;\n   &lt;input name=&quot;ctrl&quot;/&gt;\n   &lt;output name=&quot;ctrlbus&quot;/&gt;\n   &lt;bidirection name=&quot;add&quot;/&gt;\n  &lt;/Module&gt;\n  &lt;input name=&quot;add&quot;/&gt;\n  &lt;input name=&quot;clk&quot;/&gt;\n  &lt;input name=&quot;da_in&quot;/&gt;\n  &lt;output name=&quot;da_out&quot;/&gt;\n  &lt;bidirection name=&quot;ctrl&quot;/&gt;\n &lt;/Root&gt;\n&lt;/Top&gt;\n</code></pre>\n<p>Below is the perl snippet written</p>\n<h3></h3>\n<pre class=\"lang-xml prettyprint-override\"><code> open(IN_FILE, &quot;&lt;datamod.xml&quot;) or die &quot;Cant open input file&quot;;\n open(TM1_FILE, &quot;&gt;tm1.xml&quot;) or die &quot;Cant Open tm1.xml&quot;;\n open(TM2_FILE, &quot;&gt;tm2.xml&quot;) or die &quot;Cant Open tm2.xml&quot;; \n my $chk = 0;\n while(my $line = &lt;IN_FILE&gt;){\n $line =~ s/^\\s+//;\n @xwords = split(&quot; &quot;,$line);\n if($xwords[0] ne &quot;&lt;Module&quot; and $xwords[0] ne &quot;&lt;/Module&gt;&quot;  and $chk ==0) {\n   print TM1_FILE $line;\n  }  \n  else {\n   print TM2_FILE $line;\n   $chk = 1;\n  }   \n if($xwords[0] eq &quot;&lt;/Module&gt;&quot; and $chk == 1) {\n  $chk = 0;\n }  \n}\nclose TM1_FILE;\nclose TM2_FILE;\n</code></pre>\n<p><em><strong>Expected output into two temp files</strong></em></p>\n<p><em><strong>Temp file 1:</strong></em></p>\n<pre><code>   &lt;Root&gt;\n      &lt;Top&gt;\n       &lt;input name=&quot;add&quot;/&gt;\n       &lt;input name=&quot;clk&quot;/&gt;\n       &lt;input name=&quot;da_in&quot;/&gt;\n       &lt;output name=&quot;da_out&quot;/&gt;\n       &lt;bidirection name=&quot;ctrl&quot;/&gt;\n      &lt;/Top&gt;\n    &lt;/Root&gt;\n</code></pre>\n<p><em><strong>Temp File 2</strong></em></p>\n<pre><code>&lt;Root&gt;\n &lt;Top&gt;\n  &lt;Module name=&quot;ALU&quot;&gt;\n   &lt;input name=&quot;po_ctrl&quot;/&gt;\n   &lt;bidirection name=&quot;add&quot;/&gt;\n  &lt;/Module&gt;\n  &lt;Module name=&quot;Po_ctrl&quot;&gt;\n   &lt;input name=&quot;ctrl&quot;/&gt;\n   &lt;output name=&quot;ctrlbus&quot;/&gt;\n   &lt;bidirection name=&quot;add&quot;/&gt;\n  &lt;/Module&gt;\n&lt;/Root&gt;\n&lt;/Top&gt;\n</code></pre>\n<p><strong>NOTE:</strong> I'm using the <a href=\"http://metacpan.org/module/XML::Simple\" rel=\"nofollow noreferrer\"><code>XML::Simple</code></a> module because the Perl script is written in it and it's tedious to convert to any other XML module.</p>\n<p>Any help is appreciated, kindly post the rewritten snippet!</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 5355619, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/166a4b60b1441bb2cf30927915e2c8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Novice", "link": "https://stackoverflow.com/users/5355619/novice"}, "edited": false, "score": 0, "creation_date": 1451971351, "post_id": 34604519, "comment_id": 56954888, "body": "You could also use the function <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a> for the same effect."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 2, "last_activity_date": 1451970617, "last_edit_date": 1451970617, "creation_date": 1451970394, "answer_id": 34604519, "question_id": 34604373, "link": "https://stackoverflow.com/questions/34604373/perl-replace-string-with-without-sign/34604519#34604519", "title": "Perl: Replace string with/without &quot;+&quot; sign", "body": "<p>Use <code>\\Q</code>, <code>\\E</code> sequence to escape block of characters.</p>\n\n<pre><code>\\Qfoo+\\E\n</code></pre>\n\n<p>So, it would be</p>\n\n<pre><code>$text =~ s/\\Q$input_d\\E/$out_d/;\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/eU0gI9/1\" rel=\"nofollow\">DEMO</a></p>\n"}], "owner": {"reputation": 37, "user_id": 5079076, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hTCY-Klx8BY/AAAAAAAAAAI/AAAAAAAAAKs/CGuLee2D37g/photo.jpg?sz=128", "display_name": "Abhishek Das", "link": "https://stackoverflow.com/users/5079076/abhishek-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 34604519, "answer_count": 1, "score": 1, "last_activity_date": 1451970617, "creation_date": 1451969514, "question_id": 34604373, "link": "https://stackoverflow.com/questions/34604373/perl-replace-string-with-without-sign", "title": "Perl: Replace string with/without &quot;+&quot; sign", "body": "<p>I am trying to replace parts of string. Currently I am using a simple method as follows:</p>\n\n<pre><code>my $text = $ARGV[0];\nmy $in_d = $ARGV[1]; \nmy $out_d = \"Sample_text\";\n\n$text =~ s/$in_d/$out_d/;\n</code></pre>\n\n<p>The above code does not seem to work if there is a '+' sign involved.\nFor e.g. for the code:</p>\n\n<pre><code>my $text = \"I+here starving here\";\nmy $input_d = \"I\\+here\";\nmy $out_d = \"I\";\n$text =~ s/$input_d/$out_d/;\nprint $text.\"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>I+here starving here\n</code></pre>\n\n<p>How do I make sure that the text gets replaced regardless of characters involved? Thanks for your help in advance.</p>\n"}, {"tags": ["perl", "iterator"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452009144, "post_id": 34603071, "comment_id": 56976908, "body": "&quot;If there is no way to retrieve the individual matches, what does the comment about $_ mean?&quot; It means you can do <code>true { &#47;foo&#47; } @strings</code> instead of <code>true { $somevar =~ &#47;foo&#47; } @strings</code>. This is exactly how <code>grep</code>, <code>map</code>, and <code>for</code> work: <code>$_</code> is aliased to each element in turn."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1451961080, "post_id": 34603232, "comment_id": 56952330, "body": "so it is equivalent to <code>scalar grep BLOCK LIST</code>"}, {"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1451961285, "post_id": 34603232, "comment_id": 56952371, "body": "@ysth Apparently yes. I can&#39;t notice any difference, not sure if I&#39;m missing something though."}], "tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": false, "score": 0, "last_activity_date": 1451960609, "creation_date": 1451960609, "answer_id": 34603232, "question_id": 34603071, "link": "https://stackoverflow.com/questions/34603071/what-is-meaning-of-sets-for-each-item-in-list-in-turn-in-perl-function-retu/34603232#34603232", "title": "What is meaning of &quot;Sets $_ for each item in LIST in turn&quot; in perl function returning a scalar?", "body": "<p>The <a href=\"http://search.cpan.org/~drolsky/List-AllUtils-0.09/lib/List/AllUtils.pm#true_BLOCK_LIST\" rel=\"nofollow\">complete definition</a> in the manual states that:</p>\n\n<blockquote>\n  <p><strong>true BLOCK LIST</strong></p>\n  \n  <p>Counts the number of elements in LIST for which the criterion in BLOCK\n  is true. Sets <code>$_</code> for each item in LIST in turn</p>\n\n<pre><code>printf \"%i item(s) are defined\", true { defined($_) } @list;\n</code></pre>\n</blockquote>\n\n<p>So it does result in a  scalar, representing the number of elements from\n<em>LIST</em> in which the content of the <em>BLOCK</em> is true. Each element will be\nassigned to <code>$_</code> and the code in <em>BLOCK</em> will be executed. If the result\nis true,  it will  add to the  internal count; until  the whole  list is\nfinished and the total sum of true results is returned.</p>\n"}, {"comments": [{"owner": {"reputation": 144, "user_id": 68168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd40a30d4d384b90629819ab94c65c9?s=128&d=identicon&r=PG", "display_name": "Mathew", "link": "https://stackoverflow.com/users/68168/mathew"}, "edited": false, "score": 0, "creation_date": 1451961747, "post_id": 34603363, "comment_id": 56952459, "body": "I should add... could you expand on your use-case?"}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1451973980, "post_id": 34603363, "comment_id": 56955839, "body": "So the $_ is entirely local to the routine, and unavailable to the caller? If so, what&#39;s the purpose of making a point of it in the docs? Or is it meant to warn you that it will wipe out any prior $_ setting ?"}], "tags": [], "owner": {"reputation": 144, "user_id": 68168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd40a30d4d384b90629819ab94c65c9?s=128&d=identicon&r=PG", "display_name": "Mathew", "link": "https://stackoverflow.com/users/68168/mathew"}, "is_accepted": false, "score": 0, "last_activity_date": 1451961699, "creation_date": 1451961699, "answer_id": 34603363, "question_id": 34603071, "link": "https://stackoverflow.com/questions/34603071/what-is-meaning-of-sets-for-each-item-in-list-in-turn-in-perl-function-retu/34603363#34603363", "title": "What is meaning of &quot;Sets $_ for each item in LIST in turn&quot; in perl function returning a scalar?", "body": "<p>$_ is the \"current context's value\"... in your example, the block is executed with $_ set to each element from @strings.</p>\n\n<p>You then test for equality of \"1\".  So the output of the block is a list (possibly containing 18 elements) each with only \"1\" in each item.  And then filter for only true values - of which all of them will be true - which results in the scalar-count of true elements (aka 18).</p>\n\n<p>It appears you might be are in need of the \"schwartzian transform\" - which can capture tuples (instead of single values) per iteration, which could allow your print to access each value of $_... but it would also require a \"for\" or similar.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452010045, "post_id": 34609774, "comment_id": 56977540, "body": "Although I agree that there&#39;s no reason to use <code>List::MoreUtils::true</code> over <code>grep</code>, this doesn&#39;t answer the OP&#39;s question, which was: &quot;If there is no way to retrieve the individual matches, what does the comment about $_ mean?&quot;"}], "tags": [], "owner": {"reputation": 87, "user_id": 4242385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/078bea2667b144256a7ca042d37caddd?s=128&d=identicon&r=PG&f=1", "display_name": "Doggerel", "link": "https://stackoverflow.com/users/4242385/doggerel"}, "is_accepted": false, "score": 0, "last_activity_date": 1451990766, "creation_date": 1451990766, "answer_id": 34609774, "question_id": 34603071, "link": "https://stackoverflow.com/questions/34603071/what-is-meaning-of-sets-for-each-item-in-list-in-turn-in-perl-function-retu/34609774#34609774", "title": "What is meaning of &quot;Sets $_ for each item in LIST in turn&quot; in perl function returning a scalar?", "body": "<p>I think if you want to get the matched elements for a list, don't use this List::AllUtils thing, just use the perl 'grep' builtin (which is not the same as the grep command line program).</p>\n\n<p>Something like this</p>\n\n<pre><code>my @matches = grep { substr($_,0,1) eq '1' } @strings;\nmy $num_matches = @matches;\n</code></pre>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1451990766, "creation_date": 1451959253, "last_edit_date": 1451968810, "question_id": 34603071, "link": "https://stackoverflow.com/questions/34603071/what-is-meaning-of-sets-for-each-item-in-list-in-turn-in-perl-function-retu", "title": "What is meaning of &quot;Sets $_ for each item in LIST in turn&quot; in perl function returning a scalar?", "body": "<p>The Perl <a href=\"https://metacpan.org/pod/List::MoreUtils\" rel=\"nofollow\">List::MoreUtils</a> documentation says that the function <code>true</code> \"Sets $_ for each item in LIST in turn\".</p>\n\n<p>That makes it sound like an iterator, but I see no way to use it as such.\nE.G.</p>\n\n<pre><code>use List::AllUtils qw(first any true);\n@strings = `dir`;\nprintf \"%i item(s) start with 1\", true { substr($_,0,1) eq '1' } @strings;\n</code></pre>\n\n<p>prints 18.</p>\n\n<p>Trying it in list mode, as if it were grep:</p>\n\n<pre><code>@ones = true { substr($_,0,1) eq '1' } @strings;\n</code></pre>\n\n<p>still returns just an integer.</p>\n\n<p>If there is no way to retrieve the individual matches, what does the comment about <code>$_</code> mean?</p>\n\n<p>The same comment is used on many other List::Util and List::MoreUtils functions which return scalars, eg, <code>all</code>, <code>any</code>, etc.</p>\n"}, {"tags": ["json", "ajax", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1451956615, "post_id": 34602613, "comment_id": 56951215, "body": "What does <code>console.log(result)</code> tell you?"}, {"owner": {"reputation": 39, "user_id": 5157541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04ba9590a14092bdcc2ff5dd95ec70ca?s=128&d=identicon&r=PG&f=1", "display_name": "David Young", "link": "https://stackoverflow.com/users/5157541/david-young"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1451957146, "post_id": 34602613, "comment_id": 56951368, "body": "@Matt Jacob doesn&#39;t show anything!?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1452003854, "post_id": 34602613, "comment_id": 56973159, "body": "&quot;AJAX doesn&#39;t receive JSON encoded data correctly&quot; \u2014 How are you determining this? What does it receive? What does the Network tab in the developer tools show for the request?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1452004053, "post_id": 34602613, "comment_id": 56973324, "body": "@Quentin, I asked the same question as you did until I realized he did provide the information in comments (that are mostly off the screen) in the JS snippet."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452017636, "post_id": 34602613, "comment_id": 56982451, "body": "Also, FWIW, Perl has native functions for listing files in a directory (no need to shell out to <code>ls</code>)."}, {"owner": {"reputation": 39, "user_id": 5157541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04ba9590a14092bdcc2ff5dd95ec70ca?s=128&d=identicon&r=PG&f=1", "display_name": "David Young", "link": "https://stackoverflow.com/users/5157541/david-young"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452651067, "post_id": 34602613, "comment_id": 57260345, "body": "@Matt Jacob I figured that out. The problem is that the url: &quot;/cgi-bin/count.cgi&quot; is a symbolic link to a real .cgi in another directory, but chdir( cwd() . &quot;/gallery&quot; ); points to /cgi-bin/gallery which does not exist."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 5741308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fac27042d5f96b3d5ecb1e39965fc86?s=128&d=identicon&r=PG", "display_name": "S.Pote", "link": "https://stackoverflow.com/users/5741308/s-pote"}, "is_accepted": false, "score": 0, "last_activity_date": 1452827810, "last_edit_date": 1452827810, "creation_date": 1451957583, "answer_id": 34602862, "question_id": 34602613, "link": "https://stackoverflow.com/questions/34602613/ajax-doesnt-receive-json-encoded-data-correctly-from-perl/34602862#34602862", "title": "AJAX doesn&#39;t receive JSON encoded data correctly from Perl", "body": "<p>I believe you are trying to slice up <code>result[0]</code> so <code>result[0][0]=\"2\"</code>, <code>result[0][1]=\"2015-1-2 cat\"</code> and <code>result[0][2]=\"2015-1-4 dog and girl\"</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1452003685, "creation_date": 1452003685, "answer_id": 34613890, "question_id": 34602613, "link": "https://stackoverflow.com/questions/34602613/ajax-doesnt-receive-json-encoded-data-correctly-from-perl/34613890#34613890", "title": "AJAX doesn&#39;t receive JSON encoded data correctly from Perl", "body": "<p>You didn't provide a runnable demonstration. When I make it runnable, it produces the expected result.</p>\n\n<p><code>zzz.html</code>:</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-2.1.4.min.js\"&gt;&lt;/script&gt;\n\n&lt;div id=\"test-output-1\"&gt;&lt;/div&gt;\n&lt;div id=\"test-output-2\"&gt;&lt;/div&gt;\n&lt;div id=\"test-output-3\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\nfunction loadGallery()\n{\n    $.ajax(\n    {\n     type: 'GET',\n     url: \"zzz.cgi\",\n     async: false,\n     dataType: 'json',\n     success: function(result)\n        {\n            document.getElementById(\"test-output-1\").innerHTML = result[0];\n            document.getElementById(\"test-output-2\").innerHTML = result[1];\n            document.getElementById(\"test-output-3\").innerHTML = result[2];\n        }\n    });\n}\n\nloadGallery();\n&lt;/script&gt;\n</code></pre>\n\n<p><code>zzz.cgi</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nprint \"Content-type: application/json\\n\\n\";\nprint q{[\"2\",\"2015-1-2 cat\",\"2015-1-4 dog and girl\"]};\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2\n2015-1-2 cat\n2015-1-4 dog and girl\n</code></pre>\n\n<hr>\n\n<p>It looks like the script called by your JSON returned</p>\n\n<pre><code>[[\"2\",\"2015-1-2 cat\",\"2015-1-4 dog and girl\"]]\n</code></pre>\n\n<p>instead</p>\n\n<pre><code>[\"2\",\"2015-1-2 cat\",\"2015-1-4 dog and girl\"]\n</code></pre>\n\n<p>Maybe you're not calling the script you think you are calling? Or maybe you are getting a cached response from an earlier version of the script?</p>\n"}], "owner": {"reputation": 39, "user_id": 5157541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04ba9590a14092bdcc2ff5dd95ec70ca?s=128&d=identicon&r=PG&f=1", "display_name": "David Young", "link": "https://stackoverflow.com/users/5157541/david-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1452827810, "creation_date": 1451955474, "question_id": 34602613, "link": "https://stackoverflow.com/questions/34602613/ajax-doesnt-receive-json-encoded-data-correctly-from-perl", "title": "AJAX doesn&#39;t receive JSON encoded data correctly from Perl", "body": "<p>The Perl result has been encoded into JSON correctly and the response header has been set to \"application/json\", AJAX config seems no problem. Or Did I missed sth?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Cwd;\nuse JSON::PP qw(encode_json);\nuse CGI qw(:standard);\n\n\nchdir( cwd() . \"/gallery\" );\n\nmy $cdir = cwd();\nmy @win = split ( ' ', `ls $cdir` );\n\nmy $res = [ ''.scalar(@win) ]; \n\nforeach my $w ( @win )\n{\n    open ( my $fp, \"&lt;:utf8\", \"$cdir/$w/tag.txt\" );\n    while( &lt;$fp&gt; )\n    {\n        unless( m#^\\s*$# )\n        {\n            chomp;\n            push ( @$res, $_ );\n        }\n    }\n    close ($fp);\n}\n\nmy $resInJSON = encode_json($res);\n\n\nprint \"Content-type: application/json\\n\\n\";\nprint $resInJSON;    \n</code></pre>\n\n<p>Output from terminal: </p>\n\n<pre><code>Content-type: application/json\n\n[\"2\",\"2015-1-2 cat\",\"2015-1-4 dog and girl\"]\n</code></pre>\n\n<p>And the Javascript code is:</p>\n\n<pre><code>function loadGallery()\n{\n    $.ajax(\n    {\n     type: 'GET',\n     url: \"/cgi-bin/count.cgi\", \n     async: false,\n     dataType: 'json',\n     success: function(result)\n        {\n            document.getElementById(\"test-output-1\").innerHTML = result[0];   // output is 3\n            document.getElementById(\"test-output-2\").innerHTML = result[1];   // output is undefined\n            document.getElementById(\"test-output-3\").innerHTML = result[2];   // output is undefined\n        }\n    });\n} loadGallery();\n</code></pre>\n\n<p>AJAX Receiving dataType has been JSON.</p>\n"}, {"tags": ["linux", "perl", "shell", "scripting"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1451948194, "post_id": 34601291, "comment_id": 56948528, "body": "Why can&#39;t you keep the count in a variable?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451949244, "post_id": 34601291, "comment_id": 56948960, "body": "You already have two solutions; what is wrong with those? This question will probably be closed on the basis that it is too broad to be on topic for Stack Overflow. The <a href=\"http://stackoverflow.com/help/dont-ask\">Help Centre</a> says <b><i>To prevent your question from being flagged <a href=\"http://stackoverflow.com/helpcenter/deleted-questions\">and possibly removed</a>, avoid asking subjective questions where \u2026 your answer is provided along with the question, and you expect more answers: \u201cI use ______ for ______, what do you use?\u201d</i></b>"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1451969199, "post_id": 34601291, "comment_id": 56954225, "body": "if you would have read my question, it clearly says any better design or solution any expert can suggest. So that it can be made more scalable and better in maintain wise. I dont think so this is subjective question"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452317737, "creation_date": 1451947706, "last_edit_date": 1451949027, "question_id": 34601291, "link": "https://stackoverflow.com/questions/34601291/processing-files-in-perl-and-retrying-few-times-if-execution-fails", "title": "Processing files in perl and retrying few times if execution fails", "body": "<p>I am processing files present in a directory.</p>\n\n<p>I am making REST calls for each file, and if the REST response is successful then I move the file to a <em>succeeded</em> directory and if it is a failure then I move it to a <em>failed</em> directory.</p>\n\n<p>This is working fine. Curl implementation in Perl is working and the directory structure is in Linux OS.</p>\n\n<p>Now I want to process each file in the <em>failed</em> directory and make a REST call. Each file is given three opportunities, and if all three attempts fail then the file is moved to some other directory.</p>\n\n<p>My question is how to implement the part which process the files in the <em>failed</em> directory and make up to three attempts for all files. How can I maintain a count of how many times each file has been processed, and when to stop retrying?</p>\n\n<p>I am asking for suggestions or design approach which can be taken here. I want the simplest possible solution.</p>\n\n<p>I have thought about some solutions like,</p>\n\n<ol>\n<li><p>Append the number of attempts in front of the file name like <code>first</code>, <code>second</code> etc. </p></li>\n<li><p>Try to move files in folder structure like first, second, third depending on where it failed.</p></li>\n</ol>\n\n<p>Let me know if any experts have better suggestions or ideas.</p>\n"}, {"tags": ["perl", "reference"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1451952452, "post_id": 34601205, "comment_id": 56950050, "body": "<code>push(@listOfLists, []) for 1 .. $count;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1452008413, "post_id": 34601205, "comment_id": 56976428, "body": "Why do you end up creating empty lists-of-lists? It seems ... odd. Perl does autovivify."}], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 3169175, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/26f584146eba0431121011421a7539e0?s=128&d=identicon&r=PG", "display_name": "onigame", "link": "https://stackoverflow.com/users/3169175/onigame"}, "edited": false, "score": 0, "creation_date": 1451948261, "post_id": 34601258, "comment_id": 56948560, "body": "Perl doesn&#39;t seem to autovivify if I don&#39;t specify a known index.  E.g.,   push(@{$listOfLists[$index]}, $item)  will return an error instead of autovivifying $listsOfLists[$index] as a new reference."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 204, "user_id": 3169175, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/26f584146eba0431121011421a7539e0?s=128&d=identicon&r=PG", "display_name": "onigame", "link": "https://stackoverflow.com/users/3169175/onigame"}, "edited": false, "score": 0, "creation_date": 1451948365, "post_id": 34601258, "comment_id": 56948607, "body": "@onigame: Works for me: <code>perl -MData::Dumper -wE &#39;use strict; my @lol; my $idx = 12; push @{ $lol[$idx] }, [ &quot;a&quot; .. &quot;f&quot; ]; say Dumper \\@lol&#39;</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1451947547, "creation_date": 1451947547, "answer_id": 34601258, "question_id": 34601205, "link": "https://stackoverflow.com/questions/34601205/perl-quick-way-to-make-a-list-of-list-references/34601258#34601258", "title": "Perl: Quick way to make a list of list references", "body": "<p>You can use the anonymous array <code>[...]</code> in the loop:</p>\n\n<pre><code>my @listOfLists;\nfor (1 .. $count) {\n    push @listOfLists, [];\n}\n</code></pre>\n\n<p>for loop can be disguised as a map:</p>\n\n<pre><code>my @listOfLists = map [], 1 .. $count;\n</code></pre>\n\n<p>which is probably what you wanted to do with <code>x</code>.</p>\n\n<p>Another thing is you often don't need it. Perl will autovivify the array for you when needed:</p>\n\n<pre><code>my @lol;\n$lol[2][4] = [ 'a' .. 'z' ];\nprint $lol[2][4][3];  # d\n</code></pre>\n"}], "owner": {"reputation": 204, "user_id": 3169175, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/26f584146eba0431121011421a7539e0?s=128&d=identicon&r=PG", "display_name": "onigame", "link": "https://stackoverflow.com/users/3169175/onigame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452315960, "creation_date": 1451947314, "question_id": 34601205, "link": "https://stackoverflow.com/questions/34601205/perl-quick-way-to-make-a-list-of-list-references", "title": "Perl: Quick way to make a list of list references", "body": "<p>I find myself doing this construct a lot:</p>\n\n<pre><code>my @listOfLists = ();\nforeach (1..$count) {\n  my @temporaryList = ();\n  push @listOfLists, \\@temporaryList;\n}\n</code></pre>\n\n<p>Is there a less typing, one-liner way to do this?  Note that this doesn't work:</p>\n\n<pre><code>my @listOfLists = ([]) x $count;\n</code></pre>\n\n<p>It doesn't work because the individual items are all pointing to the reference to the same empty list.</p>\n"}, {"tags": ["arrays", "perl", "loops", "if-statement"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451948352, "post_id": 34601179, "comment_id": 56948603, "body": "Apart from the problem you have with interpolating <code>$$$</code> (<code>$$</code> is a built-in variable that contains the PID of your process, and the first <code>$</code> tries to dereference that as a reference to a scalar value) you need to change <code>my %q = $GRIBWORKLIST2[ $i + 1 ]</code> to <code>my $q = $GRIBWORKLIST2[ $i + 1 ]</code>. It&#39;s also very important that you <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl program you write, which would have revealed this error. There&#39;s very little point in declaring variables with <code>my</code> unless you have <code>use strict</code> in place"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1451947967, "creation_date": 1451947967, "answer_id": 34601347, "question_id": 34601179, "link": "https://stackoverflow.com/questions/34601179/doing-if-statement-with-array-element/34601347#34601347", "title": "doing if statement with array element", "body": "<p><code>$$</code> has a meaning, see <a href=\"http://p3rl.org/perlvar\" rel=\"nofollow\">perlvar</a>. Use single quotes to avoid interpolation of dollars.</p>\n\n<pre><code>print STDOUT '$$$$$$$$$$$$$$$$$$$$$$', \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 3586305, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/464ee72c175d2c8cbb8488ec020ef5b8?s=128&d=identicon&r=PG&f=1", "display_name": "jms1980", "link": "https://stackoverflow.com/users/3586305/jms1980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1451948020, "creation_date": 1451947213, "last_edit_date": 1451947906, "question_id": 34601179, "link": "https://stackoverflow.com/questions/34601179/doing-if-statement-with-array-element", "title": "doing if statement with array element", "body": "<p>I have a string that repeats from 0 to 31 repeatedly called <code>$GRIBWORKLIST2[$i]</code> throughout the entire sequence of <code>$i</code> which goes all the way to 8,000 (<code>@GRIBWORKLIST == 8000</code>).</p>\n\n<p>Whenever the value of <code>$GRIBWORKLIST2[$i+1]</code> is going to be 0 that means the values of <code>$GRIBWORKLIST2[$i]</code> completes a cycle and return to 0 again. For the output whenever this happens I want it to display </p>\n\n<pre><code>$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$\n</code></pre>\n\n<p>Below is my attempt to do this.</p>\n\n<p>Any ideas how to tweak this so it will give me the desired result?</p>\n\n<pre><code>for ( my $i = 0; $i &lt; @GRIBWORKLIST; $i++ ) {\n\n    if ( $i == ( @GRIBWORKLIST - 1 ) ) {\n\n        print \"----&gt; ---&gt; --&gt; -&gt; \"\n            . $GRIBWORKLIST[$i] . \" | \"\n            . $GRIBWORKLIST2[$i] . \" || \"\n            . $GRIBWORKLIST2[ $i - 1 ] . \"\\n\";\n    }\n    else {\n\n        print \"----&gt; ---&gt; --&gt; -&gt; \"\n            . $GRIBWORKLIST[$i] . \" | \"\n            . $GRIBWORKLIST2[$i] . \" || \"\n            . $GRIBWORKLIST2[ $i - 1 ]\n            . \" |||  \"\n            . $GRIBWORKLIST2[ $i + 1 ] . \"\\n\";\n\n        my %q = $GRIBWORKLIST2[ $i + 1 ];\n\n        print STDOUT \"$q\\n\";\n\n        if ( $q == 0 ) {\n            print STDOUT \"$$$$$$$$$$$$$$$$$$$$$$\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>This gives me the output:</p>\n\n<pre><code>Can't use string (\"32289\") as a SCALAR ref while \"strict refs\" in use at ...\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1451942517, "post_id": 34599898, "comment_id": 56945719, "body": "<code>@words[@new_order]</code> is called a &quot;slice&quot; in Perl."}, {"owner": {"reputation": 37, "user_id": 4256278, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8134b6e852f7242852670d8e3b71fe41?s=128&d=identicon&r=PG&f=1", "display_name": "sean", "link": "https://stackoverflow.com/users/4256278/sean"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1451943046, "post_id": 34599898, "comment_id": 56946011, "body": "I know thats along the right track but that alone doesn&#39;t do it. It will create a matching random order BUT the indexes do not spell &quot;this is a test&quot;."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1451943759, "post_id": 34599898, "comment_id": 56946352, "body": "Your output does not match your code. Printing <code>@words</code> as provided will always produce <code>testthisais</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1451943903, "post_id": 34599898, "comment_id": 56946416, "body": "As for your question, it sounds like you want a <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">hash</a>, which maintains the association of keys to values."}, {"owner": {"reputation": 37, "user_id": 4256278, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8134b6e852f7242852670d8e3b71fe41?s=128&d=identicon&r=PG&f=1", "display_name": "sean", "link": "https://stackoverflow.com/users/4256278/sean"}, "edited": false, "score": 0, "creation_date": 1451944408, "post_id": 34599898, "comment_id": 56946669, "body": "you can use keys on an array also."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451945159, "post_id": 34599898, "comment_id": 56947026, "body": "It&#39;s hard to understand what you&#39;re asking because your values are <i>already</i> shuffled something like that. Your question says that you want to <i>&quot;shuffle an array of positions and then shuffle another array using the same pattern&quot;</i>, but your code shows two arrays - the first containing the indexes to get the second one back in the correct order, and says you want a way to get the phrase back in the correct order. Which is it, please?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451950953, "post_id": 34599898, "comment_id": 56949565, "body": "Presumably <a href=\"http://www.perlmonks.org/?node_id=1151703\" rel=\"nofollow noreferrer\">this question on PerlMonks</a> is your own? Apart from that question being phrased significantly differently, it&#39;s polite to say if you have asked the same question elsewhere to save people (like me) wasting their time on solving an answered question"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1452002507, "post_id": 34599898, "comment_id": 56972137, "body": "Are you trying to do <code>my @new_ordered_words[@new_order] = @words[@order]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4256278, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8134b6e852f7242852670d8e3b71fe41?s=128&d=identicon&r=PG&f=1", "display_name": "sean", "link": "https://stackoverflow.com/users/4256278/sean"}, "edited": false, "score": 0, "creation_date": 1451946254, "post_id": 34600843, "comment_id": 56947611, "body": "only other way to describe it is a permutating array. words is randomized, Order is randomized, but the index&#39;s 1,2,0,3 (for example) point to the correct location in the Words array to produce &quot;this is a test&quot; so i also need to output the new order array and the new word array (as they should now have mutated)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 37, "user_id": 4256278, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8134b6e852f7242852670d8e3b71fe41?s=128&d=identicon&r=PG&f=1", "display_name": "sean", "link": "https://stackoverflow.com/users/4256278/sean"}, "edited": false, "score": 0, "creation_date": 1451947370, "post_id": 34600843, "comment_id": 56948130, "body": "@sean: Please explain what you need that my solution doesn&#39;t provide. And why are you shuffling already-shuffled indexes? As soon as you do that they&#39;re useless for rebuilding the original phrase, and there&#39;s no way of knowing the correct order of either the phrase or the indexes. It often helps to explain your problem if you describe the underlying purpose of what you&#39;re writing. Where do <code>@order</code> and <code>@words</code> really come from?"}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1451948566, "post_id": 34600843, "comment_id": 56948679, "body": "I think this was answered <a href=\"http://www.perlmonks.org/?node_id=1151703\" rel=\"nofollow noreferrer\">here</a>. See the reply by choroba."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1451945653, "creation_date": 1451945653, "answer_id": 34600843, "question_id": 34599898, "link": "https://stackoverflow.com/questions/34599898/arrange-array-order-to-match-shuffled-array/34600843#34600843", "title": "arrange array order to match shuffled array", "body": "<p>The simplest solution just provides the <code>some code.... ?</code> comment in your own program. But the call to <code>shuffle</code> is superfluous, and it works only because you have presumably chosen your numbers that way</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util 'shuffle';\n\nmy @order = qw/ 1 3 2 0 /;\nmy @words = qw/ test this a is /; \n\nmy @new_order = shuffle(@order);\n\n@words = @words[@order];\nprint \"@words\\n\";\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>this is a test\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451950639, "post_id": 34601753, "comment_id": 56949447, "body": "If you&#39;re saying <code>@new_words[@new_order]</code> should be the same as <code>@words[@order]</code> then you clearly haven&#39;t tested it. <code>@new_words</code> needs to be the <i>inverse</i> of the shuffle mapping, and all you are doing is applying the same mapping twice"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451952442, "post_id": 34601753, "comment_id": 56950046, "body": "@Borodin: I can see that reading of the question as likely, but not definite."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1451952414, "last_edit_date": 1451952414, "creation_date": 1451950177, "answer_id": 34601753, "question_id": 34599898, "link": "https://stackoverflow.com/questions/34599898/arrange-array-order-to-match-shuffled-array/34601753#34601753", "title": "arrange array order to match shuffled array", "body": "<p>If all you want is to shuffle two arrays using the same pattern, do:</p>\n\n<pre><code>use warnings;\nuse List::Util 'shuffle';\n\nmy @order = qw/1 3 2 0/;\nmy @words = qw/test this a is/;\n\nmy @shuffle = shuffle(0..$#order);\nmy @new_order = @order[@shuffle];\nmy @new_words = @words[@shuffle];\n</code></pre>\n\n<p>If it is something more complicated, it would really help to see the code that generates your sample output (after the shuffling part that you are asking for help with).</p>\n"}], "owner": {"reputation": 37, "user_id": 4256278, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8134b6e852f7242852670d8e3b71fe41?s=128&d=identicon&r=PG&f=1", "display_name": "sean", "link": "https://stackoverflow.com/users/4256278/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1451952414, "creation_date": 1451941829, "last_edit_date": 1451943302, "question_id": 34599898, "link": "https://stackoverflow.com/questions/34599898/arrange-array-order-to-match-shuffled-array", "title": "arrange array order to match shuffled array", "body": "<p>I'm having a big headache here. I want to shuffle an array of positions and then shuffle another array using the same pattern:</p>\n\n<pre><code>use warnings;\nuse List::Util 'shuffle';\n\nmy @order = qw/1 3 2 0/;\nmy @words = qw/test this a is/; \n@new_order = shuffle(@order);\n#some code.... ?\nprint @words; #this is a test\n</code></pre>\n\n<p>Result: </p>\n\n<pre><code>randomized words: this a is test.\nrandomized Order: 0 2 1 3.\nsort: this is a test.\n</code></pre>\n\n<p>next run</p>\n\n<pre><code>randomized words: test a this is.\nrandomized Order:  2 3 1 0.\nsort: this is a test.\n\nand so on...\n</code></pre>\n\n<p>i have tried and searched but to be honest im just utterly puzzled :/</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451945849, "post_id": 34599455, "comment_id": 56947401, "body": "Please keep your code tidy and indented properly. It&#39;s only polite when you are asking other people for free assistance"}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1451942451, "post_id": 34599613, "comment_id": 56945686, "body": "I edited the code above ,the code you posted works perfectly but when I input it inside my code that block of code isn&#39;t initialized,I really don&#39;t get it why..."}, {"owner": {"reputation": 4005, "user_id": 687840, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/458afc7fb1a7d87872778712da942abb?s=128&d=identicon&r=PG", "display_name": "sockmonk", "link": "https://stackoverflow.com/users/687840/sockmonk"}, "edited": false, "score": 0, "creation_date": 1451942767, "post_id": 34599613, "comment_id": 56945857, "body": "Did you include <code>use strict;</code> and <code>use warnings;</code> ?  What is the exact error message you see?"}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": true, "score": 3, "last_activity_date": 1451940691, "creation_date": 1451940691, "answer_id": 34599613, "question_id": 34599455, "link": "https://stackoverflow.com/questions/34599455/find-and-replace-a-string-in-a-text-file-in-perl/34599613#34599613", "title": "Find and replace a string in a text file in Perl", "body": "<pre><code>use strict;\nuse warnings;\n\nopen my $OUT, \"&gt;\", 'output.txt';\nopen my $IN, \"&lt;\", 'input.txt';\nwhile (my $line = &lt;$IN&gt;) {\n    $line =~ s/40/20/g;\n    print $OUT $line;\n}\nclose $IN;\nclose $OUT;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 636, "user_id": 4053049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWzgC.jpg?s=128&g=1", "display_name": "tkjef", "link": "https://stackoverflow.com/users/4053049/tkjef"}, "is_accepted": false, "score": 3, "last_activity_date": 1607240207, "last_edit_date": 1607240207, "creation_date": 1451946606, "answer_id": 34601044, "question_id": 34599455, "link": "https://stackoverflow.com/questions/34599455/find-and-replace-a-string-in-a-text-file-in-perl/34601044#34601044", "title": "Find and replace a string in a text file in Perl", "body": "<p>Here's a Perl one-liner from the command line:</p>\n<pre><code>perl -pe 's/40/20/g' input.txt &gt; output.txt\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "accepted_answer_id": 34599613, "answer_count": 2, "score": 2, "last_activity_date": 1607240207, "creation_date": 1451940026, "last_edit_date": 1607240143, "question_id": 34599455, "link": "https://stackoverflow.com/questions/34599455/find-and-replace-a-string-in-a-text-file-in-perl", "title": "Find and replace a string in a text file in Perl", "body": "<p>I really have no idea how to do this. I tried a lot methods and I don't know why none works. Here is a sample of what I tried:</p>\n<pre><code>{\n    open my $fh1, '&lt;', 'hex1.txt';\n    open my $fh2, '&lt;', 'hex2.txt';\n\n    until ( eof $fh1 or eof $fh2 ) {\n\n        my @l1 = map hex, split //, &lt;$fh1&gt;;\n        my @l2 = map hex, split //, &lt;$fh2&gt;;\n\n        my $n = @l2 &gt; @l1 ? @l2 : @l1;\n\n        my @sum = map {\n            no warnings 'uninitialized';\n            $l1[$_] + $l2[$_];\n        } 0 .. $n - 1;\n\n        @sum = map { sprintf '%X', $_ } @sum;\n\n        open my $out, '&gt;', 'hexsum.txt';\n        print {$out} @sum, &quot;\\n&quot;;\n    }\n    close $fh1;\n    close $fh2;\n}\n\n{\n    open my $IN,  &quot;&lt;&quot;, 'hexsum.txt';\n    open my $OUT, &quot;&gt;&quot;, 'sym.txt';\n    while ( my $linie = &lt;$IN&gt; ) {\n        $linie =~ s/40/20/g;\n        print $OUT $linie;\n    }\n    close $IN;\n    close $OUT;\n}\n\n{\n    my $input = do {\n        open my $in, '&lt;', 'hexsumspace.txt';\n        local $/;\n        &lt;$in&gt;;\n    };\n\n    open my $out, '&gt;', 'sym.txt';\n    print $out pack 'H*', $input;\n}\n</code></pre>\n<p>How can I change it everywhere I find the value 40 with the value 20?</p>\n"}, {"tags": ["perl", "debugging", "stack-trace"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1451925952, "post_id": 34595192, "comment_id": 56936893, "body": "You code returns <code>Illegal character in prototype for main::sb : a =&gt; 3 at .&#47;1.pl line 9. Prototype mismatch: sub main::sb: none vs (a =&gt; 3) at .&#47;1.pl line 9.</code>. Can you fix it and give more details on how to get the output?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1451931044, "post_id": 34595192, "comment_id": 56939756, "body": "I have fixed. And create appropriate modules."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1451936317, "post_id": 34595192, "comment_id": 56942571, "body": "Weird. When I add a debug print after the <code>goto</code> call, it doesn&#39;t get printed, but when I change it to <code>DB::goto</code>, it gets printed."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1451936674, "post_id": 34595192, "comment_id": 56942775, "body": "@choroba That&#39;s because <code>DB::goto</code> is just a regular subroutine; there&#39;s no <code>goto</code> opcode when you do that."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1451938049, "post_id": 34595192, "comment_id": 56943486, "body": "@ThisSuitIsBlackNot: But how is it possible that the opcode doesn&#39;t call CORE::goto?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1451985523, "post_id": 34595192, "comment_id": 56961100, "body": "@choroba: the DB::goto is called by perl internals when the script is runned with -d flag. DB::goto does nothing, It just a hook that signals about that the &#39;goto&#39; OP will be executed at the script. So after &amp;t returns, the next OP code will be OP code that follows sb( a=&gt; 3), not that which follow &#39;goto &amp;t&#39;. Therefore your print after &#39;goto &amp;t&#39; did not executed."}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1451983238, "post_id": 34605101, "comment_id": 56959888, "body": "I have tried that workaround, but when the $DB::single = 0 the DB::DB is not called. I set it to zero because want to go to the next breakpoint."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1451984946, "post_id": 34605101, "comment_id": 56960747, "body": "1. How DB::goto and from where is invoked? Is it common sub call?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1451985890, "post_id": 34605101, "comment_id": 56961287, "body": "2. &gt;When goto is reached, the most recent function call was in Devel/DB.pm on line 19. But if I print callstack just before &#39;goto &amp;t&#39; it show that most recent function call was in: &#39;main t.pl 5 main::sb&#39;. I am confused ("}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1452007806, "post_id": 34605101, "comment_id": 56976008, "body": "1. DB::goto is called from Perl_pp_goto, the <code>goto</code> opcode, in <a href=\"https://github.com/Perl/perl5/blob/maint-5.22/pp_ctl.c#L2979\" rel=\"nofollow noreferrer\">pp_ctl.c</a> in the Perl source. I <i>think</i> it&#39;s invoked like a normal sub, but I&#39;m not quite familiar enough with Perl&#39;s internals to be sure. However, keep in mind that <code>goto</code> changes the call stack; I haven&#39;t traced through this yet, but I&#39;m guessing that the call stack has already been changed by the time DB::goto is invoked (the call to DB::goto happens in the middle of Perl_pp_goto, not at the very beginning)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1452008320, "post_id": 34605101, "comment_id": 56976370, "body": "2. Again, <code>goto</code> changes the call stack. You&#39;d have to trace the source code to find exactly what&#39;s going on."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1452011080, "post_id": 34605101, "comment_id": 56978293, "body": "1. Looks like an answer. When the goto op code is created at compile time, we may put to its struct the file:line info. May you point me to the souce file where the perl compiler creates the <code>goto</code> opcode. I will apply your answer."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 1, "last_activity_date": 1451973441, "creation_date": 1451973441, "answer_id": 34605101, "question_id": 34595192, "link": "https://stackoverflow.com/questions/34595192/how-to-fix-the-dbgoto-frame/34605101#34605101", "title": "How to fix the DB::goto frame?", "body": "<p>The order of execution is:</p>\n\n<pre><code>t.pl:5  sb( a =&gt; 3 )\n  [enter DB::sub]\nDevel/DB.pm:19  return &amp;$DB::sub;\n  [enter main::sb]\nt.pl:3  goto &amp;t;\n  [enter DB::goto]\n</code></pre>\n\n<p>When <code>goto</code> is reached, the most recent function call was in Devel/DB.pm on line 19, so that's what <code>caller(0)</code> returns. (Remember, <code>goto &amp;NAME</code> alters the call stack.)</p>\n\n<p>But it sounds like you want to report the line number and file where <code>goto</code> was invoked. Unfortunately, I don't think you can do this with <code>caller</code>, because <code>caller</code> isn't even aware of <code>goto</code>:</p>\n\n<pre><code>sub foo {\n    goto &amp;bar;\n}\n\nsub bar {\n    print join ' - ', caller, \"\\n\";\n}\n\nfoo();\n\n__END__\nmain - bar - 9 -  # line 9 is where foo() is called, not goto &amp;bar\n</code></pre>\n\n<p>One possible workaround would be to store the filename and line number of the last executed command in <code>DB::DB</code>, then print that value before your stack trace in <code>DB::goto</code>. I haven't been able to figure out a way to do this, though.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1451973441, "creation_date": 1451923770, "last_edit_date": 1451931009, "question_id": 34595192, "link": "https://stackoverflow.com/questions/34595192/how-to-fix-the-dbgoto-frame", "title": "How to fix the DB::goto frame?", "body": "<p>When I run this script as <code>perl -d:DB t.pl</code><br>\n$ cat t.pl</p>\n\n<pre><code>sub t { }\nsub sb {\n   goto &amp;t;  # &lt;&lt; The DB::goto is called from here\n}\nsb( a =&gt; 3 )\n</code></pre>\n\n<p>$ cat Devel/DB.pm</p>\n\n<pre><code>package DB;\n\nBEGIN {\n    $^P |= 0x80;\n}\n\nsub DB {\n}\n\nsub goto {\n    local $\"  =  ' - '; #\"\n    my $level =  0;\n    while( my @frame = caller($level++) ) {\n        print \"@frame[0..3,5]\\n\";\n    }\n}\n\nsub sub {\n    return &amp;$DB::sub;\n}\n\n\n1;\nsub t { }\nsub sb {\n   goto &amp;t;  # &lt;&lt; The DB::goto is called from here\n}\nsb( a =&gt; 3 )\n</code></pre>\n\n<p>The 'caller' called form DB::goto return next info:</p>\n\n<pre><code>DB - Devel/DB.pm - 19 - DB::goto - \nmain - t.pl - 5 - main::t - \n</code></pre>\n\n<p>Because the <strong>DB::goto is called by perl internals as ordinary sub here</strong> I expect next output:</p>\n\n<pre><code>main - t.pl - 3 - DB::goto - \nmain - t.pl - 5 - main::t - \n</code></pre>\n\n<p>Is it possible to fix that behaviour? If yes<br>\nAt which direction to dig to fix that?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "edited": false, "score": 0, "creation_date": 1451924067, "post_id": 34595158, "comment_id": 56935777, "body": "What perl version are you using? (check with perl -v)"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 1, "creation_date": 1451924075, "post_id": 34595158, "comment_id": 56935782, "body": "<a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2014/10/msg221751.html\" rel=\"nofollow noreferrer\">nntp.perl.org/group/perl.perl5.porters/2014/10/msg221751.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 2111, "user_id": 562436, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/26996590a2a47fee3e98b24a47c892ff?s=128&d=identicon&r=PG", "display_name": "Hani Goc", "link": "https://stackoverflow.com/users/562436/hani-goc"}, "edited": false, "score": 0, "creation_date": 1451924120, "post_id": 34595158, "comment_id": 56935811, "body": "This is perl 5, version 18, subversion 1 (v5.18.1) built for x86_64-linux"}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 1, "creation_date": 1451924140, "post_id": 34595158, "comment_id": 56935819, "body": "Split your file into two or more parts (use <code>\\n</code> as split point), process each individually, join them back."}, {"owner": {"reputation": 2111, "user_id": 562436, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/26996590a2a47fee3e98b24a47c892ff?s=128&d=identicon&r=PG", "display_name": "Hani Goc", "link": "https://stackoverflow.com/users/562436/hani-goc"}, "reply_to_user": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 0, "creation_date": 1451924181, "post_id": 34595158, "comment_id": 56935843, "body": "@ThomasG If i remove the <b>-n</b> it doesn&#39;t print anymore"}, {"owner": {"reputation": 2111, "user_id": 562436, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/26996590a2a47fee3e98b24a47c892ff?s=128&d=identicon&r=PG", "display_name": "Hani Goc", "link": "https://stackoverflow.com/users/562436/hani-goc"}, "edited": false, "score": 0, "creation_date": 1451924296, "post_id": 34595158, "comment_id": 56935909, "body": "When I try to split it by using python for example. I have to load the whole &quot;Line&quot; again into memory. And it freezes again."}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 1, "creation_date": 1451924514, "post_id": 34595158, "comment_id": 56936039, "body": "@HaniGoc use split, the unix util. takes a regex."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 2, "creation_date": 1451924632, "post_id": 34595158, "comment_id": 56936117, "body": "@raina77ow They can&#39;t split on <code>\\n</code> since their entire file consists of a single line, but another character would work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1451927757, "post_id": 34595158, "comment_id": 56937908, "body": "@ThisSuitIsBlackNot: Another character that&#39;s not in <code>[LFENT]</code> :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1451927821, "post_id": 34595158, "comment_id": 56937940, "body": "@HaniGoc: By the way, <code>perl -ne &#39;s&#47;LFENT&#47;\\nLFENT&#47;g; print;&#39; queries.txt</code> is generally written <code>perl -pe &#39;s&#47;LFENT&#47;\\nLFENT&#47;g&#39; queries.txt</code>"}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "edited": false, "score": 0, "creation_date": 1451937896, "post_id": 34595158, "comment_id": 56943411, "body": "@HaniGoc remember to accept an answer (whichever suited you best) by clicking the check mark next to any answer."}], "answers": [{"comments": [{"owner": {"reputation": 2111, "user_id": 562436, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/26996590a2a47fee3e98b24a47c892ff?s=128&d=identicon&r=PG", "display_name": "Hani Goc", "link": "https://stackoverflow.com/users/562436/hani-goc"}, "edited": false, "score": 0, "creation_date": 1451924410, "post_id": 34595308, "comment_id": 56935980, "body": "oh you are right in your link it says   <b>But that will still fail in 5.18 and earlier, because it was not until 5.20 that the regular expression gained support for strings longer than 2GB.</b>"}], "tags": [], "owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "is_accepted": false, "score": 2, "last_activity_date": 1451926520, "last_edit_date": 1451926520, "creation_date": 1451924195, "answer_id": 34595308, "question_id": 34595158, "link": "https://stackoverflow.com/questions/34595158/perl-errors-while-trying-to-replace-words-in-a-large-file/34595308#34595308", "title": "Perl errors while trying to replace words in a large file", "body": "<p>Try updating your perl to a more current version.</p>\n\n<p>This was a known bug for a long time (fixed in v5.22.0): <a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2014/10/msg221751.html\" rel=\"nofollow\">perl #123071: substitution loop issue with long strings</a></p>\n\n<p>You can do so with the following commands (assuming you are on linux):</p>\n\n<pre><code>wget http://www.cpan.org/src/5.0/perl-5.22.1.tar.gz\ntar -xzf perl-5.22.1.tar.gz\ncd perl-5.22.1\n./Configure -des -Dprefix=$HOME/localperl\nmake\nmake test\nmake install\n</code></pre>\n\n<p>Then test it by running <code>$HOME/localperl/bin/perl -v</code> and add it to your PATH using this: <code>export PATH=$HOME/localperl/bin/:$PATH</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1451943259, "last_edit_date": 1451943259, "creation_date": 1451927630, "answer_id": 34596318, "question_id": 34595158, "link": "https://stackoverflow.com/questions/34595158/perl-errors-while-trying-to-replace-words-in-a-large-file/34596318#34596318", "title": "Perl errors while trying to replace words in a large file", "body": "<p>It is simplest to use <code>LFENT</code> as the record separator. That reduces the blocks to a more manageable size and ensures that there is no more than one <code>LFENT</code> to be replaced in each block</p>\n\n<p>Command-line perl allows for setting the record separator with the <code>-0</code> modifier, but the value of the parameter must be the code point in octal of a single character, and you can't specify a string. So here you have to set it once in a <code>BEGIN</code> block</p>\n\n<p>Like this</p>\n\n<pre><code>perl -p -e'BEGIN{$/=\"LFENT\"} s/LFENT/\\nLFENT/'\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>22 serialization::archive 10 0 0 0 0 134477 0 0 0 9 \nLFENT_1_1 6 LFDOC1 20 documents/LFDOC1.xml 6 PERSON 12 barack obama 0 0 1 0 12 barack obama 0 0 6 LFDOC1 0 76 127 0.11599133 151 0.11042373 331 0.057491675 389 0.05621225 396 0.065223008 398 0.12416559 421 0.10331947 502 0.055213902 641 0.08908961 642 0.084330745 690 0.11456303 699 0.16876614 720 0.080576144 791 0.077269703 792 0.077503696 849 0.08224529 854 0.074629158 1028 0.11078026 1039 0.091981322 1300 0.070129424 1359 0.06072164 1390 0.05564769 1424 0.076605573 1461 0.15357952 1467 0.083702087 1583 0.069745384 1960 0.088143557 2118 0.064093992 2192 0.054430917 2304 0.089718938 2417 0.10173298 2436 0.069064997 2683 0.12296619 2700 0.068218805 2715 0.14005794 2786 0.084942013 3016 0.08474879 3113 0.083180025 3183 0.07413847 3202 0.081254445 3351 0.21241546 3587 0.061469007 3711 0.068944298 3949 0.10349752 5284 0.087500088 5775 0.092185706 5816 0.20625457 6320 0.11784423 6435 0.076852165 6794 0.094336778 6805 0.063363358 6946 0.11133534 7277 0.074097082 7588 0.12458359 7590 0.099151991 7629 0.28773388 7790 0.1194713 8137 0.11009126 8214 0.10754209 8889 0.12056628 9326 0.13841057 9701 0.25610805 9863 0.11877144 9908 0.11499001 10500 0.12205271 11917 0.11144774 12750 0.11285295 13453 0.13751692 19236 0.12948024 20390 0.12416928 20795 0.11188922 23777 0.13165452 23887 0.10065161 27644 0.1620737 73361 0.16295943 75521 0.17926371 9 \nLFENT_1_2 6 LFDOC1 20 documents/LFDOC1.xml 6 PERSON 5 obama 2 0 12 barack obama 5 obama 6 LFDOC1 0 76 127 0.11599133 151 0.11042373 331 0.057491675 389 0.05621225 396 0.065223008 398 0.12416559 421 0.10331947 502 0.055213902 641 0.08908961 642 0.084330745 690 0.11456303 699 0.16876614 720 0.080576144 791 0.077269703 792 0.077503696 849 0.08224529 854 0.074629158 1028 0.11078026 1039 0.091981322 1300 0.070129424 1359 0.06072164 1390 0.05564769 1424 0.076605573 1461 0.15357952 1467 0.083702087 1583 0.069745384 1960 0.088143557 2118 0.064093992 2192 0.054430917 2304 0.089718938 2417 0.10173298 2436 0.069064997 2683 0.12296619 2700 0.068218805 2715 0.14005794 2786 0.084942013 3016 0.08474879 3113 0.083180025 3183 0.07413847 3202 0.081254445 3351 0.21241546 3587 0.061469007 3711 0.068944298 3949 0.10349752 5284 0.087500088 5775 0.092185706 5816 0.20625457 6320 0.11784423 6435 0.076852165 6794 0.094336778 6805 0.063363358 6946 0.11133534 7277 0.074097082 7588 0.12458359 7590 0.099151991 7629 0.28773388 7790 0.1194713 8137 0.11009126 8214 0.10754209 8889 0.12056628 9326 0.13841057 9701 0.25610805 9863 0.11877144 9908 0.11499001 10500 0.12205271 11917 0.11144774 12750 0.11285295 13453 0.13751692 19236 0.12948024 20390 0.12416928 20795 0.11188922 23777 0.13165452 23887 0.10065161 27644 0.1620737 73361 0.16295943 75521 0.17926371 9 \nLFENT_1_3 6 LFDOC1 20 documents/LFDOC1.xml 4 MISC 8 american 1 0 8 american 6 LFDOC1 0 76 127 0.11599133 151 0.11042373 331 0.057491675 389 0.05621225 396 0.065223008 398 0.12416559 421 0.10331947 502 0.055213902 641 0.08908961 642 0.084330745 690 0.11456303 699 0.16876614 720 0.080576144 791 0.077269703 792 0.077503696 849 0.08224529 854 0.074629158 1028 0.11078026 1039 0.091981322 1300 0.070129424 1359 0.06072164 1390 0.05564769 1424 0.076605573 1461 0.15357952 1467 0.083702087 1583 0.069745384 1960 0.088143557 2118 0.064093992 2192 0.054430917 2304 0.089718938 2417 0.10173298 2436 0.069064997 2683 0.12296619 2700 0.068218805 2715 0.14005794 2786 0.084942013 3016 0.08474879 3113 0.083180025 3183 0.07413847 3202 0.081254445 3351 0.21241546 3587 0.061469007 3711 0.068944298 3949 0.10349752 5284 0.087500088 5775 0.092185706 5816 0.20625457 6320 0.11784423 6435 0.076852165 6794 0.094336778 6805 0.063363358 6946 0.11133534 7277 0.074097082 7588 0.12458359 7590 0.099151991 7629 0.28773388 7790 0.1194713 8137 0.11009126 8214 0.10754209 8889 0.12056628 9326 0.13841057 9701 0.25610805 9863 0.11877144 9908 0.11499001 10500 0.12205271 11917 0.11144774 12750 0.11285295 13453 0.13751692 19236[Finished in 0.2s]\n</code></pre>\n\n<p>By the way, it is unlikely to cause a problem but <code>LFENT</code> is always preceded by a space character in your example data. You may want to remove it by using <code>s/\\s*LFENT/\\nLFENT</code> for your substitution</p>\n\n<p>And a look-ahead might be more appropriate too <code>s/\\s*(?=LFENT)/\\n/</code> so that you don't have to remove and replace the unchanged part of the match</p>\n"}], "owner": {"reputation": 2111, "user_id": 562436, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/26996590a2a47fee3e98b24a47c892ff?s=128&d=identicon&r=PG", "display_name": "Hani Goc", "link": "https://stackoverflow.com/users/562436/hani-goc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 34596318, "answer_count": 2, "score": 4, "last_activity_date": 1451943259, "creation_date": 1451923623, "last_edit_date": 1592644375, "question_id": 34595158, "link": "https://stackoverflow.com/questions/34595158/perl-errors-while-trying-to-replace-words-in-a-large-file", "title": "Perl errors while trying to replace words in a large file", "body": "<p>I have a huge <code>1.1 GB</code> File. It contains only <strong>1</strong> line and <code>1167889705</code> characters. I want to replace all the occurences of &quot;LFENT&quot; by &quot;\\nLFENT&quot;.\nI am using</p>\n<blockquote>\n<p>perl 5, version 18, subversion 1 (v5.18.1) built for x86_64-linux \u2013</p>\n</blockquote>\n<hr />\n<h2>Perl Script</h2>\n<pre><code> perl -ne 's/LFENT/\\nLFENT/g; print;' queries.txt\n</code></pre>\n<hr />\n<h2>Sample</h2>\n<pre><code>   22 serialization::archive 10 0 0 0 0 134477 0 0 0 9 LFENT_1_1 6 LFDOC1 20 documents/LFDOC1.xml 6 PERSON 12 barack obama 0 0 1 0 12 barack obama 0 0 6 LFDOC1 0 76 127 0.11599133 151 0.11042373 331 0.057491675 389 0.05621225 396 0.065223008 398 0.12416559 421 0.10331947 502 0.055213902 641 0.08908961 642 0.084330745 690 0.11456303 699 0.16876614 720 0.080576144 791 0.077269703 792 0.077503696 849 0.08224529 854 0.074629158 1028 0.11078026 1039 0.091981322 1300 0.070129424 1359 0.06072164 1390 0.05564769 1424 0.076605573 1461 0.15357952 1467 0.083702087 1583 0.069745384 1960 0.088143557 2118 0.064093992 2192 0.054430917 2304 0.089718938 2417 0.10173298 2436 0.069064997 2683 0.12296619 2700 0.068218805 2715 0.14005794 2786 0.084942013 3016 0.08474879 3113 0.083180025 3183 0.07413847 3202 0.081254445 3351 0.21241546 3587 0.061469007 3711 0.068944298 3949 0.10349752 5284 0.087500088 5775 0.092185706 5816 0.20625457 6320 0.11784423 6435 0.076852165 6794 0.094336778 6805 0.063363358 6946 0.11133534 7277 0.074097082 7588 0.12458359 7590 0.099151991 7629 0.28773388 7790 0.1194713 8137 0.11009126 8214 0.10754209 8889 0.12056628 9326 0.13841057 9701 0.25610805 9863 0.11877144 9908 0.11499001 10500 0.12205271 11917 0.11144774 12750 0.11285295 13453 0.13751692 19236 0.12948024 20390 0.12416928 20795 0.11188922 23777 0.13165452 23887 0.10065161 27644 0.1620737 73361 0.16295943 75521 0.17926371 9 LFENT_1_2 6 LFDOC1 20 documents/LFDOC1.xml 6 PERSON 5 obama 2 0 12 barack obama 5 obama 6 LFDOC1 0 76 127 0.11599133 151 0.11042373 331 0.057491675 389 0.05621225 396 0.065223008 398 0.12416559 421 0.10331947 502 0.055213902 641 0.08908961 642 0.084330745 690 0.11456303 699 0.16876614 720 0.080576144 791 0.077269703 792 0.077503696 849 0.08224529 854 0.074629158 1028 0.11078026 1039 0.091981322 1300 0.070129424 1359 0.06072164 1390 0.05564769 1424 0.076605573 1461 0.15357952 1467 0.083702087 1583 0.069745384 1960 0.088143557 2118 0.064093992 2192 0.054430917 2304 0.089718938 2417 0.10173298 2436 0.069064997 2683 0.12296619 2700 0.068218805 2715 0.14005794 2786 0.084942013 3016 0.08474879 3113 0.083180025 3183 0.07413847 3202 0.081254445 3351 0.21241546 3587 0.061469007 3711 0.068944298 3949 0.10349752 5284 0.087500088 5775 0.092185706 5816 0.20625457 6320 0.11784423 6435 0.076852165 6794 0.094336778 6805 0.063363358 6946 0.11133534 7277 0.074097082 7588 0.12458359 7590 0.099151991 7629 0.28773388 7790 0.1194713 8137 0.11009126 8214 0.10754209 8889 0.12056628 9326 0.13841057 9701 0.25610805 9863 0.11877144 9908 0.11499001 10500 0.12205271 11917 0.11144774 12750 0.11285295 13453 0.13751692 19236 0.12948024 20390 0.12416928 20795 0.11188922 23777 0.13165452 23887 0.10065161 27644 0.1620737 73361 0.16295943 75521 0.17926371 9 LFENT_1_3 6 LFDOC1 20 documents/LFDOC1.xml 4 MISC 8 american 1 0 8 american 6 LFDOC1 0 76 127 0.11599133 151 0.11042373 331 0.057491675 389 0.05621225 396 0.065223008 398 0.12416559 421 0.10331947 502 0.055213902 641 0.08908961 642 0.084330745 690 0.11456303 699 0.16876614 720 0.080576144 791 0.077269703 792 0.077503696 849 0.08224529 854 0.074629158 1028 0.11078026 1039 0.091981322 1300 0.070129424 1359 0.06072164 1390 0.05564769 1424 0.076605573 1461 0.15357952 1467 0.083702087 1583 0.069745384 1960 0.088143557 2118 0.064093992 2192 0.054430917 2304 0.089718938 2417 0.10173298 2436 0.069064997 2683 0.12296619 2700 0.068218805 2715 0.14005794 2786 0.084942013 3016 0.08474879 3113 0.083180025 3183 0.07413847 3202 0.081254445 3351 0.21241546 3587 0.061469007 3711 0.068944298 3949 0.10349752 5284 0.087500088 5775 0.092185706 5816 0.20625457 6320 0.11784423 6435 0.076852165 6794 0.094336778 6805 0.063363358 6946 0.11133534 7277 0.074097082 7588 0.12458359 7590 0.099151991 7629 0.28773388 7790 0.1194713 8137 0.11009126 8214 0.10754209 8889 0.12056628 9326 0.13841057 9701 0.25610805 9863 0.11877144 9908 0.11499001 10500 0.12205271 11917 0.11144774 12750 0.11285295 13453 0.13751692 19236\n</code></pre>\n<hr />\n<h1>Problem</h1>\n<p>The script will work on the sample that I posted. But when I try it on the whole line I get the following error:</p>\n<pre><code>Substitution loop at -e line 1, &lt;&gt; line 1.\n</code></pre>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1451921802, "post_id": 34594395, "comment_id": 56934394, "body": "What makes you think that the parse method can take a URL? Please read the documentation of the module."}, {"owner": {"reputation": 2776, "user_id": 137948, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/69ede0d2d1b8ef65b841c031a7bac2e5?s=128&d=identicon&r=PG", "display_name": "Will Sheppard", "link": "https://stackoverflow.com/users/137948/will-sheppard"}, "edited": false, "score": 0, "creation_date": 1451922605, "post_id": 34594395, "comment_id": 56934896, "body": "This is not a good question. The documentation can be found at <a href=\"http://metacpan.org/pod/HTML::TableExtract\" rel=\"nofollow noreferrer\">metacpan.org/pod/HTML::TableExtract</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451929979, "post_id": 34594395, "comment_id": 56939173, "body": "Please <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl program you write, especially before asking for help with it"}], "answers": [{"comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451931823, "post_id": 34594633, "comment_id": 56940169, "body": "Thanks for your edit @Borodin. I didn&#39;t add <code>use strict</code> and <code>use warnings</code> as it was meant as part of a script, and not a stand alone script. I don&#39;t have any shebang either."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451943158, "post_id": 34594633, "comment_id": 56946060, "body": "It&#39;s best to add them anywhere you can as it&#39;s tough job anyway persuading people to use them. And the shebang line isn&#39;t part of the Perl program - it&#39;s a shell facility"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 3, "last_activity_date": 1451929836, "last_edit_date": 1451929836, "creation_date": 1451921791, "answer_id": 34594633, "question_id": 34594395, "link": "https://stackoverflow.com/questions/34594395/htmltableextract-script-working-with-a-html-file-but-not-with-the-correspond/34594633#34594633", "title": "HTML::TableExtract - Script working with a html file but not with the corresponding URL", "body": "<p>You are giving <a href=\"http://metacpan.org/module/HTML::TableExtract\" rel=\"nofollow\"><code>HTML::TableExtract</code></a> a URL when it wants to be given HTML. In order to download the HTML you would do this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings qw/ all FATAL /;\n\nuse LWP::UserAgent;\n\nmy $ua       = LWP::UserAgent-&gt;new;\nmy $response = $ua-&gt;get('http://omim.org/entry/600185');\nmy $html     = $response-&gt;content;\n\nprint $html;\n</code></pre>\n\n<h2>output</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>Your client was identified as a crawler.\n\n\nPlease note:\n\n- The robots.txt files disallows the crawling of the site except to Google, Bing \n  and Yahoo crawlers.\n\n- The raw data is available via FTP on the http://omim.org/downloads link on the site.\n\n- We have an API you can learn about at http://omim.org/api and http://omim.org/help/api, \n  this provides access to the data in XML, JSON, Python and Ruby formats.\n\n- You should feel free to contact us at http://omim.org/contact to figure the best \n  approach to getting the data you need.\n</code></pre>\n\n<p>Please note that you might have difficulties doing this, as <code>omim.org</code> does not want you to download the HTML automatically, but wants you to use the raw-data or API. <a href=\"http://omim.org/robots.txt\" rel=\"nofollow\">This is their <code>robots.txt</code></a> document, which all automated software is supposed to read and comply with voluntarily</p>\n"}], "owner": {"reputation": 1, "user_id": 5744026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b8f7d438cf29f6eea4a442ac727f2?s=128&d=identicon&r=PG&f=1", "display_name": "BurgundiaPR", "link": "https://stackoverflow.com/users/5744026/burgundiapr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1451929836, "creation_date": 1451921103, "question_id": 34594395, "link": "https://stackoverflow.com/questions/34594395/htmltableextract-script-working-with-a-html-file-but-not-with-the-correspond", "title": "HTML::TableExtract - Script working with a html file but not with the corresponding URL", "body": "<p>I am using the following script, which takes as input a HTML page obtained from this url :\n<a href=\"http://omim.org/entry/600185\" rel=\"nofollow\">http://omim.org/entry/600185</a></p>\n\n<pre><code>use HTML::TableExtract;\n\nmy $doc = 'OMIM_2.htm';\nmy $headers =  [ 'Phenotype', 'Inheritance' ];\n\nmy $table_extract = HTML::TableExtract-&gt;new(headers =&gt; $headers);\n\n$table_extract-&gt;parse_file($doc);\nmy ($table) = $table_extract-&gt;tables;\n\nfor my $row ($table-&gt;rows) {\n    foreach $info (@$row) {\n        if ($info =~ m/(\\S+)/) {\n             $info =~ s/^\\s+(.+)\\s+$/$1/;\n             print $info.\"\\t\";\n        }\n     }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>It does what I want, thus extracting the \"Phenotype\" and \"Inheritance\" fields from the table.\nNevertheless, I would like to obtain this information directly from the URL, and I tried to modify the script :</p>\n\n<pre><code>use HTML::TableExtract;\n\nmy $doc = 'http://omim.org/entry/600185';\nmy $headers =  [ 'Phenotype', 'Inheritance' ];\n\nmy $table_extract = HTML::TableExtract-&gt;new(headers =&gt; $headers);\n\n$table_extract-&gt;parse($doc);\nmy ($table) = $table_extract-&gt;tables;\n\nfor my $row ($table-&gt;rows) {\n    foreach $info (@$row) {\n         if ($info =~ m/(\\S+)/) {\n             $info =~ s/^\\s+(.+)\\s+$/$1/;\n             print $info.\"\\t\";\n        }\n     }\n     print \"\\n\";\n}\n</code></pre>\n\n<p>I certainly do a mistake because I obtained the following error :</p>\n\n<pre><code>Can't call method \"rows\" on an undefined value at Test_OMIM.perl line 11.\n</code></pre>\n\n<p>More intriguing, I also obtained this error if the file was called \"OMIM_2.html\" and no \"OMIM_2.htm\". Logical ?</p>\n\n<p>Thanks by advance for your help.</p>\n"}, {"tags": ["perl", "email", "parsing", "data-dumper"], "comments": [{"owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 2, "creation_date": 1451926628, "post_id": 34594269, "comment_id": 56937308, "body": "Are you using Data::Dumper on $message or $message-&gt;{headers} there?"}], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 78248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/py5BZ.png?s=128&g=1", "display_name": "Tanami", "link": "https://stackoverflow.com/users/78248/tanami"}, "is_accepted": false, "score": 0, "last_activity_date": 1452135527, "creation_date": 1452135527, "answer_id": 34646682, "question_id": 34594269, "link": "https://stackoverflow.com/questions/34594269/parsing-message-header-with-perl/34646682#34646682", "title": "Parsing message header with perl", "body": "<p>The data you are trying to extract is from a Mime::Entity blessed object. This means when you use Data::Dumper or Data::Dumper::Perltidy, you will be seeing a structure that should be using the package's methods for manipulation.</p>\n\n<p>Based on some quick reading of Mime::Head documentation, you probably want to call ->get('From') or the like on that object you are accessing.</p>\n\n<p>Take a look at <a href=\"https://metacpan.org/pod/MIME::Head#Getting-field-contents\" rel=\"nofollow\">https://metacpan.org/pod/MIME::Head#Getting-field-contents</a></p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 256, "user_id": 1246689, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/d0da547265ebe798d9a4767b618a7808?s=128&d=identicon&r=PG&f=1", "display_name": "sanitycheck", "link": "https://stackoverflow.com/users/1246689/sanitycheck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 542, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1452135527, "creation_date": 1451920673, "last_edit_date": 1452081985, "question_id": 34594269, "link": "https://stackoverflow.com/questions/34594269/parsing-message-header-with-perl", "title": "Parsing message header with perl", "body": "<p>My programming skills are intermediate at best, and I have not used Perl much before, so please reply gently.</p>\n\n<p>I'm trying to extract the original \"from address\" (NOT the \"envelope-from address\") from inbound emails.</p>\n\n<p>I parse inbound emails that pass through MailScanner software on my server. If I write (using MailScanner's built-in message object):</p>\n\n<pre><code>my($message) = @_;\nMailScanner::Log::InfoLog(\"from address: @{$message-&gt;{headers}}\");\n</code></pre>\n\n<p>I get the following log entry (sanitized): </p>\n\n<pre><code>Received: from [192.168.12.34] (port=56309 helo=theirserver.theirdomain.tld)    by server.mydomain.tld with esmtp (Exim 4.86)   (envelope-from &lt;sender@theirdomain.tld&gt;)    id 1aG62o-0002ad-Hu     for recipient@mydomain.tld; Mon, 04 Jan 2016 09:23:34 -0500 Received: from 00a657f7.theirserver.theirdomain.tld ([127.0.0.1]:8056 helo=theirserver.theirdomain.tld)     by theirserver.theirdomain.tld with ESMTP id 00PA657MF7;    for &lt;recipient@mydomain.tld&gt;; Mon, 4 Jan 2016 06:22:53 -0800 Date: Mon, 4 Jan 2016 06:22:53 -0800 To: &lt;recipient@mydomain.tld&gt; Message-ID: &lt;70562391089443970564001376171645@theirserver.theirdomain.tld&gt; From: \"Sender\" &lt;sender@theirdomain.tld&gt; Subject: test Content-Language: en-us MIME-Version: 1.0 Content-Transfer-Encoding: 8bit Content-Type: multipart/alternative;  boundary=\"----=Part.960.1818.1451917373\"\n</code></pre>\n\n<p>If I write (based on a suggestion by MailScanner's author):</p>\n\n<pre><code>my($message) = @_;\nmy $from_address = grep /^From:\\s+/i, @{$message-&gt;{headers}}; \nMailScanner::Log::InfoLog(\"from address after grep = $from_address \"); \n</code></pre>\n\n<p>I get the following log entry: </p>\n\n<pre><code>from address after grep = 0\n</code></pre>\n\n<p>Not sure what to do with that result, I tried using Data::Dumper via a MailScanner compatible script I found online and produced the following result:</p>\n\n<pre><code>&gt; $VAR1 = bless( {\n                 'nameinfected' =&gt; 0,\n                 'otherinfected' =&gt; 0,\n                 'disarmedtags' =&gt; [],\n                 'othertypes' =&gt; {},\n                 'file2entity' =&gt; {\n                                    '' =&gt; bless( {\n                                                   'ME_Parts' =&gt; [\n                                                                   bless( {\n                                                                            'ME_Bodyhandle' =&gt; bless( {\n                                                                                                        'MB_Path' =&gt; '/var/spool/MailScanner/incoming/9365/1aG62o-0002ad-Hu/nmsg-9365-3.txt'\n                                                                                                      }, 'MIME::Body::File' ),\n                                                                            'ME_Parts' =&gt; [],\n                                                                            'mail_inet_head' =&gt; bless( {\n                                                                                                         'mail_hdr_foldlen' =&gt; 79,\n                                                                                                         'mail_hdr_modify' =&gt; 0,\n                                                                                                         'mail_hdr_list' =&gt; [\n                                                                                                                              'Content-Transfer-Encoding: 8bit\n',\n                                                                                                                              'Content-Type: text/plain; charset=\"UTF-8\"\n'\n                                                                                                                            ],\n                                                                                                         'mail_hdr_hash' =&gt; {\n                                                                                                                              'Content-Type' =&gt; [\n                                                                                                                                                  \\$VAR1-&gt;{'file2entity'}{''}{'ME_Parts'}[0]{'mail_inet_head'}{'mail_hdr_list'}[1]\n                                                                                                                                                ],\n                                                                                                                              'Content-Transfer-Encoding' =&gt; [\n                                                                                                                                                               \\$VAR1-&gt;{'file2entity'}{''}{'ME_Parts'}[0]{'mail_inet_head'}{'mail_hdr_list'}[0]\n                                                                                                                                                             ]\n                                                                                                                            },\n                                                                                                         'mail_hdr_mail_from' =&gt; 'KEEP',\n                                                                                                         'mail_hdr_lengths' =&gt; {}\n                                                                                                       }, 'MIME::Head' )\n                                                                          }, 'MIME::Entity' ),\n                                                                   bless( {\n                                                                            'ME_Bodyhandle' =&gt; bless( {\n                                                                                                        'MB_Path' =&gt; '/var/spool/MailScanner/incoming/9365/1aG62o-0002ad-Hu/nmsg-9365-42.html'\n                                                                                                      }, 'MIME::Body::File' ),\n                                                                            'ME_Parts' =&gt; [],\n                                                                            'mail_inet_head' =&gt; bless( {\n                                                                                                         'mail_hdr_foldlen' =&gt; 79,\n                                                                                                         'mail_hdr_modify' =&gt; 0,\n                                                                                                         'mail_hdr_list' =&gt; [\n                                                                                                                              'Content-Transfer-Encoding: 8bit\n',\n                                                                                                                              'Content-Type: text/html; charset=\"UTF-8\"\n'\n                                                                                                                            ],\n                                                                                                         'mail_hdr_hash' =&gt; {\n                                                                                                                              'Content-Type' =&gt; [\n                                                                                                                                                  \\$VAR1-&gt;{'file2entity'}{''}{'ME_Parts'}[1]{'mail_inet_head'}{'mail_hdr_list'}[1]\n                                                                                                                                                ],\n                                                                                                                              'Content-Transfer-Encoding' =&gt; [\n                                                                                                                                                               \\$VAR1-&gt;{'file2entity'}{''}{'ME_Parts'}[1]{'mail_inet_head'}{'mail_hdr_list'}[0]\n                                                                                                                                                             ]\n                                                                                                                            },\n                                                                                                         'mail_hdr_mail_from' =&gt; 'KEEP',\n                                                                                                         'mail_hdr_lengths' =&gt; {}\n                                                                                                       }, 'MIME::Head' )\n                                                                          }, 'MIME::Entity' )\n                                                                 ],\n                                                   'ME_Epilogue' =&gt; [\n                                                                      '\n'\n                                                                    ],\n                                                   'ME_Preamble' =&gt; [],\n                                                   'mail_inet_head' =&gt; bless( {\n                                                                                'mail_hdr_foldlen' =&gt; 79,\n                                                                                'mail_hdr_modify' =&gt; 0,\n                                                                                'mail_hdr_list' =&gt; [\n                                                                                                     'Received: from [192.168.12.34] (port=56309 helo=theirserver.theirdomain.tld)\n    by server.mydomain.tld with esmtp (Exim 4.86)\n    (envelope-from &lt;sender@theirdomain.tld&gt;)\n    id 1aG62o-0002ad-Hu\n    for recipient@mydomain.tld; Mon, 04 Jan 2016 09:23:34 -0500\n',\n                                                                                                     'Received: from 00a657f7.theirserver.theirdomain.tld ([127.0.0.1]:8056 helo=theirserver.theirdomain.tld)\n    by theirserver.theirdomain.tld with ESMTP id 00PA657MF7;\n    for &lt;recipient@mydomain.tld&gt;; Mon, 4 Jan 2016 06:22:53 -0800\n',\n                                                                                                     'Date: Mon, 4 Jan 2016 06:22:53 -0800\n',\n                                                                                                     'To: &lt;recipient@mydomain.tld&gt;\n',\n                                                                                                     'Message-ID: &lt;70562391089443970564001376171645@theirserver.theirdomain.tld&gt;\n',\n                                                                                                     'From: \"Sender\" &lt;sender@theirdomain.tld&gt;\n',\n                                                                                                     'Subject: Test\n',\n                                                                                                     'Content-Language: en-us\n',\n                                                                                                     'MIME-Version: 1.0\n',\n                                                                                                     'Content-Transfer-Encoding: 8bit\n',\n                                                                                                     'Content-Type: multipart/alternative;\n    boundary=\"----=Part.960.1818.1451917373\"\n'\n                                                                                                   ],\n</code></pre>\n\n<p>and so on.</p>\n\n<p>So I next try to parse mail_hdr_list with the following:</p>\n\n<pre><code>my($message) = @_;\nMailScanner::Log::InfoLog(\"SpamWhitelist $msgid: mail_hdr_list @{$message-&gt;{headers}}[mail_hdr_list]\");\n</code></pre>\n\n<p>and I get this result: </p>\n\n<pre><code>Received: from server.theirdomain.tld ([192.168.165.54]:49620 helo=server.theirdomain.tld)\n</code></pre>\n\n<p>I'm perplexed. I can't figure out how to get the From: address from this object, but not the envelope-from address.</p>\n\n<p>Any help rewriting my code would be greatly appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 3, "creation_date": 1451916771, "post_id": 34592990, "comment_id": 56931194, "body": "looks like the string $start is a timestamp in the format &quot;dd.mm.yy HH:MM:SS&quot;. Then you&#39;re assigning the &quot;start&quot; key of the $event hashref (or object) to the epoch timestamp of that time."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1451917389, "post_id": 34592990, "comment_id": 56931607, "body": "Which part do you have problems understanding?"}], "answers": [{"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 2, "last_activity_date": 1451920140, "creation_date": 1451920140, "answer_id": 34594111, "question_id": 34592990, "link": "https://stackoverflow.com/questions/34592990/explanation-for-perl-format-function/34594111#34594111", "title": "Explanation for Perl format function", "body": "<p>It looks like someone is excessively badly reimplementing <code>POSIX::strptime</code>. In particular, it's just matching and capturing various number ranges out of the original string into the numbered capture buffers.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1451984740, "last_edit_date": 1451984740, "creation_date": 1451921414, "answer_id": 34594504, "question_id": 34592990, "link": "https://stackoverflow.com/questions/34592990/explanation-for-perl-format-function/34594504#34594504", "title": "Explanation for Perl format function", "body": "<p>Which part of it don't you understand?</p>\n\n<pre><code># $start is a string.\n# We match $start against a regular expression.\n# The regular expression looks for:\n# * The start of the string [^]\n# * One or more digits [(\\d+)]\n# * Any single character [.]\n# * One or more digits [(\\d+)]\n# * Any single character [.]\n# * One or more digits [(\\d+)]\n# * One or more whitespace characters [\\s+]\n# * One or more digits [(\\d+)]\n# * A colon [:]\n# * One or more digits [(\\d+)]\n# * A colon [:]\n# * One or more digits [(\\d+)]\n# * The end of the string [$]\n# Each of the sets of digits that are matched are \"captured\".\n# That means that if the regex matches, the digits are stored\n# in variables. The first set of digits is put in $1, the\n# second set of digits is put in $2, and so on.\nif( $start =~ /^(\\d+).(\\d+).(\\d+)\\s+(\\d+):(\\d+):(\\d+)$/) {\n    # If the regex matches, then we execute this block of code.\n    # We copy the capture variables into an array called @t\n    # We copy them in a different order to how they appear\n    # in the original string.\n    # We subtract 1 from $2 before using it.\n    my @t = ( $6, $5, $4, $1, $2-1, $3);\n    # We pass @t to a function called timelocal() which we\n    # have loaded from a module called Time::Local.\n    # timelocal() takes a list of date/time values and returns\n    # the number of seconds since 00:00 on 1970-01-01.\n    # $event is a hash reference. We store the number of seconds\n    # as the value against the \"start\" key in the referenced \n    # hash.\n    $event-&gt;{start} = timelocal(@t);\n}\n</code></pre>\n\n<p>From this, we can work out that the original string which probably contained a timestamp in the format <code>DD MM YYYY HH:MM:SS</code> and we are converting it into the number of seconds since 1970-01-01 00:00.</p>\n\n<p>This could be achieved far more simply using <code>strptime</code> from <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a>.</p>\n\n<pre><code>use Time::Piece;\n\n$event-&gt;{start} = Time::Piece-&gt;strptime($str, '%d $m %Y %H:%M:%S')-&gt;epoch;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3454523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6929fa26b9c0d6b155681214071ea32?s=128&d=identicon&r=PG&f=1", "display_name": "zaca011", "link": "https://stackoverflow.com/users/3454523/zaca011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 34594504, "answer_count": 2, "score": 1, "last_activity_date": 1451984740, "creation_date": 1451916500, "last_edit_date": 1451918045, "question_id": 34592990, "link": "https://stackoverflow.com/questions/34592990/explanation-for-perl-format-function", "title": "Explanation for Perl format function", "body": "<pre><code>if( $start =~ /^(\\d+).(\\d+).(\\d+)\\s+(\\d+):(\\d+):(\\d+)$/) {\n        my @t = ( $6, $5, $4, $1, $2-1, $3);\n        $event-&gt;{start} = timelocal(@t);\n    }\n</code></pre>\n\n<p>Can anyone explain to me this code? </p>\n"}, {"tags": ["image", "perl", "image-processing", "imagemagick", "xmp"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1451910757, "post_id": 34590953, "comment_id": 56927389, "body": "I haven&#39;t got time to check this minute, but I think it works the same as IPTC data... <a href=\"http://stackoverflow.com/a/26014887/2836621\">stackoverflow.com/a/26014887/2836621</a>"}], "answers": [{"comments": [{"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "edited": false, "score": 1, "creation_date": 1451989645, "post_id": 34604499, "comment_id": 56963873, "body": "thanks for your contribution (i know how to use backticks), but i am looking for a way to do it using the Perl Imagemagick API"}], "tags": [], "owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "is_accepted": false, "score": 1, "last_activity_date": 1451970256, "creation_date": 1451970256, "answer_id": 34604499, "question_id": 34590953, "link": "https://stackoverflow.com/questions/34590953/reading-xmp-data-using-imagemagick-in-perl/34604499#34604499", "title": "Reading XMP data using ImageMagick in Perl", "body": "<pre><code>$code = `convert -ping my_image.jpg xmp:xmp-profile.xml`;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 1788914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a6b022e525de16876836399636d23?s=128&d=identicon&r=PG", "display_name": "Tudor Crisan", "link": "https://stackoverflow.com/users/1788914/tudor-crisan"}, "is_accepted": false, "score": 2, "last_activity_date": 1451990930, "creation_date": 1451990930, "answer_id": 34609839, "question_id": 34590953, "link": "https://stackoverflow.com/questions/34590953/reading-xmp-data-using-imagemagick-in-perl/34609839#34609839", "title": "Reading XMP data using ImageMagick in Perl", "body": "<p>You could extract the image info using Image::Magick perl module.</p>\n\n<pre><code> use Image::Magick;\n my $im = Image::Magick-&gt;new();\n $im-&gt;Read('/path/to/image');\n print $im-&gt;Identify();\n</code></pre>\n\n<p>Or if you are not bound by image magick you could use Image::ExifTool;</p>\n\n<pre><code>my $exif_tool = Image::ExifTool-&gt;new();\nmy $info = $exif_tool-&gt;ImageInfo('/path/to/image'); #retrieves all image data\n# my $info = $exif_tool-&gt;ImageInfo('/path/to/image', ['xmp:*']); retrieves only xmp\n\nuse Data::Dumper;\nwarn Dumper $info;\n</code></pre>\n"}], "owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "closed_date": 1452380005, "answer_count": 2, "score": 0, "last_activity_date": 1451990930, "creation_date": 1451909753, "question_id": 34590953, "link": "https://stackoverflow.com/questions/34590953/reading-xmp-data-using-imagemagick-in-perl", "closed_reason": "Needs more focus", "title": "Reading XMP data using ImageMagick in Perl", "body": "<p>I am looking for a way to extract XMP data from an image file using ImageMagick.</p>\n\n<p>I know how to extract that data using the commandline:</p>\n\n<pre><code>convert -ping my_image.jpg xmp:xmp-profile.xml\n</code></pre>\n\n<p>But i need a way to do it using the ImageMagick Perl API.</p>\n\n<p><strong>How can this be done? Any suggestions?</strong></p>\n"}, {"tags": ["regex", "string", "perl", "split"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1451901700, "creation_date": 1451901700, "answer_id": 34588591, "question_id": 34588430, "link": "https://stackoverflow.com/questions/34588430/extract-text-between-commas-and-quotes-ignoring-escaped-characters-in-perl/34588591#34588591", "title": "Extract text between commas and quotes, ignoring escaped characters in perl", "body": "<p>Don't use regular expressions. Whilst they can do it, you're matching nested things and that at best makes the regex really messy and complicated. Use a parser. Like  <code>Text::ParseWords</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Text::ParseWords;\n\nmy $line = '\"ABC\", err, \"%. Exiting.\" , \"Use options \\\"-a,-a,-s,-t\\\" OR \\\"-aa,-bb\\\".\",0,-1,\"\"';\nmy @words = parse_line( ',', 1, $line );\nprint join (\"\\n\", @words );\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre><code>\"ABC\"\n err\n \"%. Exiting.\" \n \"Use options \\\"-a,-a,-s,-t\\\" OR \\\"-aa,-bb\\\".\"\n0\n-1\n\"\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1451915285, "post_id": 34592302, "comment_id": 56930203, "body": "I think this also serves to prove my point. Whilst you can do it with regex (and this illustrates how) the result is ... somewhat difficult to follow, and you&#39;ll end up wondering what you were thinking in 6 months time :)."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 2, "last_activity_date": 1451914191, "creation_date": 1451914191, "answer_id": 34592302, "question_id": 34588430, "link": "https://stackoverflow.com/questions/34588430/extract-text-between-commas-and-quotes-ignoring-escaped-characters-in-perl/34592302#34592302", "title": "Extract text between commas and quotes, ignoring escaped characters in perl", "body": "<p>I agree with @Sobrique's solution. If you want still want to use regular expression, you need to choose where you want the extra white space to go. Use this to trim all your lines:</p>\n\n<pre><code>/\\s*(\".*?\"|[^\",]+)\\s*(?=\\s*,|\\s*$)/g\n</code></pre>\n\n<p>If you want to allow for spaces before and after your quotes you can have the regular expression like this:</p>\n\n<pre><code>/(\\s*\".*?\"\\s*|[^\",]+)(?=\\s*,|\\s*$)/g\n</code></pre>\n\n<p>Both will remove the unwanted hit, but gives different results.</p>\n"}], "owner": {"reputation": 191, "user_id": 4209224, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-9sjGRVqygXE/AAAAAAAAAAI/AAAAAAAAAEY/EQF8KJp34qw/photo.jpg?sz=128", "display_name": "Anurag Saran", "link": "https://stackoverflow.com/users/4209224/anurag-saran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 2, "accepted_answer_id": 34588591, "answer_count": 2, "score": 3, "last_activity_date": 1451914191, "creation_date": 1451901132, "question_id": 34588430, "link": "https://stackoverflow.com/questions/34588430/extract-text-between-commas-and-quotes-ignoring-escaped-characters-in-perl", "title": "Extract text between commas and quotes, ignoring escaped characters in perl", "body": "<p>I need to separate the following string : <code>\"ABC\", err, \"%. Exiting.\" , \"Use options \\\"-a,-a,-s,-t\\\" OR \\\"-aa,-bb\\\".\",0,-1,\"\"</code> \ninto the characters between the commas and quotes. I am using the following regular expression in perl : <code>\\(\".*?\"|[^\",]+)(?=\\s*,|\\s*$)\\g</code>. This gives me the following output, which has an extra space identified. </p>\n\n<pre><code>\"ABC\"\nerr\n\"%. Exiting.\"\n  #[Unwanted Match]\n\"Use options \\\"-a,-a,-s,-t\\\" OR \\\"-aa,-bb\\\".\"\n0\n-1\n\"\" #[This Match is required]\n</code></pre>\n\n<p>How can I ignore this space, preserving the empty string in quotes quotes at the end</p>\n"}, {"tags": ["linux", "perl", "shell"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 3610533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f99c6ed7c63e92b6915f18e88c86af64?s=128&d=identicon&r=PG&f=1", "display_name": "RandyWong", "link": "https://stackoverflow.com/users/3610533/randywong"}, "edited": false, "score": 0, "creation_date": 1451913500, "post_id": 34588148, "comment_id": 56929069, "body": "So if i change it to Linux is this format correct? $file_directory =~ s/[^\\\\//]+$//; As for this one ? $new_id =~ m/([ABCISRDT]\\d\\d\\.\\d\\d\\.\\d\\d)$/i)"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1451914663, "post_id": 34588148, "comment_id": 56929782, "body": "This is not correct. As you say <code>^</code> negates the character class, and <code>[^\\\\\\&#47;]+$</code> means &quot;one or more characters which aren&#39;t either slash, at the end of the matched string&quot;."}, {"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1452208535, "post_id": 34588148, "comment_id": 57079624, "body": "@bolav you are so right. I don&#39;t know what I was thinking. Anyway, I&#39;ve edited the answer to add <i>other than</i> in the explanation"}], "tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 1, "last_activity_date": 1452208467, "last_edit_date": 1452208467, "creation_date": 1451900093, "answer_id": 34588148, "question_id": 34588004, "link": "https://stackoverflow.com/questions/34588004/understanding-regular-expression-converting-to-linux-from-perl-script/34588148#34588148", "title": "Understanding Regular Expression converting to Linux from Perl script", "body": "<p>Those square brackets delimit a <em>character class</em>, which means any of the chars listed. A character class the starts with <code>^</code> is a <em>negated</em> character class - it means anything <em>other</em> than those chars listed.</p>\n\n<p>The expression:</p>\n\n<pre><code>[^\\\\\\/]+$\n</code></pre>\n\n<p>Means \"one or more of any char other than either slash at the end of input\"</p>\n"}, {"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 2, "last_activity_date": 1452079099, "last_edit_date": 1452079099, "creation_date": 1451914600, "answer_id": 34592421, "question_id": 34588004, "link": "https://stackoverflow.com/questions/34588004/understanding-regular-expression-converting-to-linux-from-perl-script/34592421#34592421", "title": "Understanding Regular Expression converting to Linux from Perl script", "body": "<p>This expression</p>\n\n<blockquote>\n  <p>$file_directory =~ s/[^\\\\\\/]+$//;</p>\n</blockquote>\n\n<p>will match with all the characters after the last forward or backward slash, and replace it with nothing. Usually this will end up with the directory name. (Note that there are safer ways to do this, which are also cross-platform. For instance <a href=\"https://metacpan.org/pod/Path::Class\" rel=\"nofollow\">Path::Class</a>.)</p>\n\n<ul>\n<li><code>[^]</code> is a negated character class, and will match anything not in the group.</li>\n<li><code>+</code> gives one or more matches</li>\n<li><code>$</code> matches end of string</li>\n</ul>\n\n<blockquote>\n  <p>If I wish to convert it into Linux should the changes be like this ?</p>\n</blockquote>\n\n<p>Since the line already checks for both slashes, the code in question should work for Linux as is.</p>\n"}], "owner": {"reputation": 85, "user_id": 3610533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f99c6ed7c63e92b6915f18e88c86af64?s=128&d=identicon&r=PG&f=1", "display_name": "RandyWong", "link": "https://stackoverflow.com/users/3610533/randywong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 34592421, "answer_count": 2, "score": 1, "last_activity_date": 1452208467, "creation_date": 1451899630, "last_edit_date": 1451905172, "question_id": 34588004, "link": "https://stackoverflow.com/questions/34588004/understanding-regular-expression-converting-to-linux-from-perl-script", "title": "Understanding Regular Expression converting to Linux from Perl script", "body": "<p>Can someone tell me whats the definition of the two code below ?</p>\n\n<pre><code>$file_directory =~ s/[^\\\\\\/]+$//;\n\n$new_id =~ m/([ABCISRDT]\\d\\d\\.\\d\\d\\.\\d\\d)$/i)\n</code></pre>\n\n<p>It is similar to the code below but the syntax is different</p>\n\n<pre><code>$string_to_change =~ s/pattern_to_look_for/string_to_replace_with/g;\n</code></pre>\n\n<p>I understand s/[ is search,^ beginning of line\" symbol and $ is end of line\" symbol; I don't understand is  \\/]+.</p>\n\n<p>Let say that the file directory is W:\\folder_1\\music\\common in Perl script it should be W:\\\\folder_1\\\\music\\\\common but there is an extra one \\ in it and (I realize when I was typing it requires 3 \\ in order to display 2 \\)what does the + stands for ?If I wish to convert it into Linux should the changes be like this ?</p>\n\n<pre><code>$file_directory =~ s/[^\\\\//]+$//;\n</code></pre>\n\n<p>As for the last code I need someone to explain to me what it does Thank you .</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 44071, "user_id": 3218114, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/8zOJ1.jpg?s=128&g=1", "display_name": "Braj", "link": "https://stackoverflow.com/users/3218114/braj"}, "edited": false, "score": 0, "creation_date": 1451895654, "post_id": 34587065, "comment_id": 56919226, "body": "escape brackets like <code>\\((\\d+)\\)</code> and get the first matched group."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 44071, "user_id": 3218114, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/8zOJ1.jpg?s=128&g=1", "display_name": "Braj", "link": "https://stackoverflow.com/users/3218114/braj"}, "edited": false, "score": 0, "creation_date": 1451903245, "post_id": 34587065, "comment_id": 56923003, "body": "@Braj: That&#39;s what he did. It doesn&#39;t work because he doesn&#39;t have any sets of brackets that only contain digits."}], "answers": [{"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 2, "last_activity_date": 1451896031, "creation_date": 1451896031, "answer_id": 34587157, "question_id": 34587065, "link": "https://stackoverflow.com/questions/34587065/perl-regex-to-extract-digits-from-string-with-parenthesis/34587157#34587157", "title": "Perl regex to extract digits from string with parenthesis", "body": "<pre><code>\\d+(?=[^(]*\\))\n</code></pre>\n\n<p>You can use this.See demo.Yours will not work as inside <code>()</code> there is more data besides <code>\\d+</code>.</p>\n\n<p><a href=\"https://regex101.com/r/fM9lY3/57\" rel=\"nofollow\">https://regex101.com/r/fM9lY3/57</a></p>\n"}, {"comments": [{"owner": {"reputation": 14052, "user_id": 1004301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6aacd03deb37cb13cbc8b65e454f2b?s=128&d=identicon&r=PG", "display_name": "Lee Duhem", "link": "https://stackoverflow.com/users/1004301/lee-duhem"}, "reply_to_user": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 0, "creation_date": 1451896482, "post_id": 34587160, "comment_id": 56919532, "body": "@vks Yes, my solution only a little more general than what the poster needs, not the most general one."}], "tags": [], "owner": {"reputation": 14052, "user_id": 1004301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6aacd03deb37cb13cbc8b65e454f2b?s=128&d=identicon&r=PG", "display_name": "Lee Duhem", "link": "https://stackoverflow.com/users/1004301/lee-duhem"}, "is_accepted": false, "score": 1, "last_activity_date": 1451896045, "creation_date": 1451896045, "answer_id": 34587160, "question_id": 34587065, "link": "https://stackoverflow.com/questions/34587065/perl-regex-to-extract-digits-from-string-with-parenthesis/34587160#34587160", "title": "Perl regex to extract digits from string with parenthesis", "body": "<p>You could try something like</p>\n\n<pre><code>my ($NAdapter) = $string =~ /\\(.*(\\d+).*\\)/;\n</code></pre>\n\n<p>After that, <code>$NAdapter</code> should include the number that you want.</p>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1451906241, "last_edit_date": 1451906241, "creation_date": 1451903155, "answer_id": 34589027, "question_id": 34587065, "link": "https://stackoverflow.com/questions/34587065/perl-regex-to-extract-digits-from-string-with-parenthesis/34589027#34589027", "title": "Perl regex to extract digits from string with parenthesis", "body": "<blockquote>\n<pre><code>my $string = \"Ethernet FlexNIC (NIC 1) LOM1:1-a    FC:15:B4:13:6A:A8\";\n</code></pre>\n  \n  <p>I want to extract the number that is in brackets (1) in another\n  variable</p>\n</blockquote>\n\n<p>Your regex (with some spaces for clarity):</p>\n\n<pre><code>/ \\( (\\d+) \\) /x;\n</code></pre>\n\n<p>says to match:</p>\n\n<ol>\n<li>A literal opening parenthesis, immediately followed by... </li>\n<li>A digit, one or more times (captured in group 1), immediately followed by...</li>\n<li>A literal closing parenthesis.  </li>\n</ol>\n\n<p>Yet, the substring you want to match:</p>\n\n<pre><code>(NIC 1)\n</code></pre>\n\n<p>is of the form: </p>\n\n<ol>\n<li>A literal opening parenthesis, immediately followed by...</li>\n<li>Some capital letters \nSTOP EVERYTHING! NO MATCH! </li>\n</ol>\n\n<p>As an alternative, your substring:</p>\n\n<pre><code>(NIC 1)\n</code></pre>\n\n<p>could be described as: </p>\n\n<ol>\n<li>Some digits, immediately followed by...</li>\n<li>A literal closing parenthesis.</li>\n</ol>\n\n<p>Here's the regex:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.020;\n\nmy $string = \"Ethernet FlexNIC (NIC 1234) LOM1:1-a    FC:15:B4:13:6A:A8\";\n\nmy ($match) = $string =~ /\n    (\\d+)   #Match any digit, one or more times, captured in group 1, followed by...\n\n    \\)      #a literal closing parenthesis. \n            #Parentheses have a special meaning in a regex--they create a capture\n            #group--so if you want to match a parenthesis in your string, you\n            #have to escape the parenthesis in your regex with a backslash.\n\n/xms;  #Standard flags that some people apply to every regex.\n\nsay $match;\n\n--output:--\n1234\n</code></pre>\n\n<p>Another description of your substring:</p>\n\n<pre><code>(NIC 1)\n</code></pre>\n\n<p>could be:</p>\n\n<ol>\n<li>A literal opening parenthesis, immediately followed by...</li>\n<li>Some non-digits, immediately followed by...</li>\n<li>Some digits, immediately followed by..</li>\n<li>A literal closing parenthesis.</li>\n</ol>\n\n<p>Here's the regex: </p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.020;\n\nmy $string = \"Ethernet FlexNIC (ABC NIC789) LOM1:1-a    FC:15:B4:13:6A:A8\";\n\nmy ($match) = $string =~ /\n\n    \\(      #Match a literal opening parethesis, followed by...\n    \\D+     #a non-digit, one or more times, followed by...\n    (\\d+)   #a digit, one or more times, captured in group 1, followed by...\n    \\)      #a literal closing parentheses.\n\n/xms;  #Standard flags that some people apply to every regex.\n\nsay $match;\n\n--output:--\n789\n</code></pre>\n\n<p>If there might be spaces on some lines and not others, such as:</p>\n\n<pre><code>    spaces\n      || \n      VV\n(NIC 1  )\n(NIC 2)\n</code></pre>\n\n<p>You can insert a <code>\\s*</code> (any whitespace, zero or more times) in the appropriate place in the regex, for instance:</p>\n\n<pre><code>my ($match) = $string =~ /\n            #Parentheses have special meaning in a regex--they create a capture\n            #group--so if you want to match a parenthesis in your string, you\n            #have to escape the parenthesis in your regex with a backslash.\n    \\(      #Match a literal opening parethesis, followed by...\n\n    \\D+     #a non-digit, one or more times, followed by...\n    (\\d+)   #a digit, one or more times, captured in group 1, followed by...\n    \\s*     #any whitespace, zero or more times, followed by...\n    \\)      #a literal closing parentheses.\n\n/xms;  #Standard flags that some people apply to every regex.\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5742654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4537664d8b38ee88a6320d0a432b2b12?s=128&d=identicon&r=PG&f=1", "display_name": "vjardin", "link": "https://stackoverflow.com/users/5742654/vjardin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1451906241, "creation_date": 1451895542, "last_edit_date": 1451896041, "question_id": 34587065, "link": "https://stackoverflow.com/questions/34587065/perl-regex-to-extract-digits-from-string-with-parenthesis", "title": "Perl regex to extract digits from string with parenthesis", "body": "<p>I have the following string:</p>\n\n<pre><code>my $string = \"Ethernet FlexNIC (NIC 1) LOM1:1-a    FC:15:B4:13:6A:A8\";\n</code></pre>\n\n<p>I want to extract the number that is in brackets (1) in another variable.\nThe following statement does not work:</p>\n\n<pre><code>my ($NAdapter) = $string =~ /\\((\\d+)\\)/;\n</code></pre>\n\n<p>What is the correct syntax?</p>\n"}, {"tags": ["string", "perl", "replace", "str-replace"], "comments": [{"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "edited": false, "score": 0, "creation_date": 1451880015, "post_id": 34584483, "comment_id": 56914318, "body": "did you mean <code>my $str[i] = &quot;currentstring&quot;;</code>?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1451883035, "post_id": 34584483, "comment_id": 56914910, "body": "If you can set the string marker yourself, then you can use sprintf: <code>my $str = &quot;currentString%s&quot;; my @output = map { sprintf $str, $_ } @arr</code>."}, {"owner": {"reputation": 33, "user_id": 4209487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef55e773bc6a5818233d858ad64e3f4?s=128&d=identicon&r=PG&f=1", "display_name": "Phuong Pham", "link": "https://stackoverflow.com/users/4209487/phuong-pham"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1452096673, "post_id": 34584483, "comment_id": 57020347, "body": "@TLP thank you! I am using &lt;i&gt; just for the meaning of a character need to be replace!"}, {"owner": {"reputation": 33, "user_id": 4209487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef55e773bc6a5818233d858ad64e3f4?s=128&d=identicon&r=PG&f=1", "display_name": "Phuong Pham", "link": "https://stackoverflow.com/users/4209487/phuong-pham"}, "reply_to_user": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "edited": false, "score": 0, "creation_date": 1452096789, "post_id": 34584483, "comment_id": 57020418, "body": "@PatoS&#225;inz i mean the input is just string with some characters that i want to replace by different values"}], "answers": [{"comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1451880844, "post_id": 34584529, "comment_id": 56914492, "body": "That will produce <code>{&quot;currentStringwithKey&lt;i&gt;1&quot;, &quot;currentStringwithKey&lt;i&gt;2&quot;}</code>, not quite what was asked for.  The OP wants to <i>replace</i> the text <code>&lt;i&gt;</code> with the number."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1451881907, "post_id": 34584529, "comment_id": 56914693, "body": "After your edit it does.  But what if the <code>&lt;i&gt;</code> was not at the end?  The value of <code>$str</code> is a <i>template</i> and the <code>&lt;i&gt;</code> is a placeholder."}, {"owner": {"reputation": 33, "user_id": 4209487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef55e773bc6a5818233d858ad64e3f4?s=128&d=identicon&r=PG&f=1", "display_name": "Phuong Pham", "link": "https://stackoverflow.com/users/4209487/phuong-pham"}, "edited": false, "score": 1, "creation_date": 1452096932, "post_id": 34584529, "comment_id": 57020515, "body": "Thank @mkHun, that is what i am looking for"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 2, "last_activity_date": 1451904753, "last_edit_date": 1451904753, "creation_date": 1451880286, "answer_id": 34584529, "question_id": 34584483, "link": "https://stackoverflow.com/questions/34584483/how-to-replace-string-in-perl-with-mutiple-value/34584529#34584529", "title": "How to replace string in perl with mutiple value", "body": "<p>Without using for loop use <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\">map</a> for to do it</p>\n\n<blockquote>\n  <p>/r is the non-destructive modifier used to <strong>Return substitution and leave the original string untouched</strong></p>\n</blockquote>\n\n<pre><code>my $str = \"currentStringwithKey&lt;i&gt;\";\nmy @arr = (\"1\", \"2\");                 \nmy  @output = map{ $str=~s/&lt;i&gt;/$_/rg } @arr;  \n#$str not to be changed because of the r modifier\nprint @output;\n</code></pre>\n\n<p>Then the <code>@output</code> array contain like this</p>\n\n<pre><code>$output[0] = \"currentStringwithKey1\",\n$output[1] = \"currentStringwithKey2\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451900819, "post_id": 34584699, "comment_id": 56921589, "body": "The <code>r</code> flag on your regex will let you do this more cleanly."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1451902955, "post_id": 34584699, "comment_id": 56922804, "body": "Just using <code>map{ $str=~s&#47;&lt;i&gt;&#47;$_&#47;r }</code> works fine. No need for the temp variable or to escape the <code>&lt;</code> and <code>&gt;</code>."}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 2, "last_activity_date": 1451881829, "creation_date": 1451881829, "answer_id": 34584699, "question_id": 34584483, "link": "https://stackoverflow.com/questions/34584483/how-to-replace-string-in-perl-with-mutiple-value/34584699#34584699", "title": "How to replace string in perl with mutiple value", "body": "<p>Here's what you want.  This approach will replace <code>&lt;i&gt;</code> with the the substitution text regardless of where the <code>&lt;i&gt;</code> appears in the template <code>$str</code></p>\n\n<pre><code>@outputArray  = map { my $i=$str; $i =~ s/\\&lt;i\\&gt;/$_/; $i } @arr\n</code></pre>\n\n<p>You need to copy <code>$str</code> to a temporary because replace works in-place. If you used <code>$str</code> directly then its value would be changed the first time.</p>\n"}], "owner": {"reputation": 33, "user_id": 4209487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef55e773bc6a5818233d858ad64e3f4?s=128&d=identicon&r=PG&f=1", "display_name": "Phuong Pham", "link": "https://stackoverflow.com/users/4209487/phuong-pham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 34584529, "answer_count": 2, "score": 3, "last_activity_date": 1451966740, "creation_date": 1451879809, "question_id": 34584483, "link": "https://stackoverflow.com/questions/34584483/how-to-replace-string-in-perl-with-mutiple-value", "title": "How to replace string in perl with mutiple value", "body": "<p>Suppose I have a string, and an array as follow:</p>\n\n<pre><code>my $str = \"currentStringwithKey&lt;i&gt;\";\nmy @arr = (\"1\", \"2\");\n</code></pre>\n\n<p>So, is there any better way to quickly replace the string with every value in the array, rather than using for loop, and put the output of each replacement into new array.</p>\n\n<p>My expect output was:</p>\n\n<pre><code>my @outputArray = (\"currentStringwithKey1\", \"currentStringwithKey2\");\n</code></pre>\n"}, {"tags": ["perl", "ascii-art", "console.readkey", "readkey"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5737954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a7fccf5e7f4ee6c0b6d769494e24319?s=128&d=identicon&r=PG&f=1", "display_name": "artistwhocodes", "link": "https://stackoverflow.com/users/5737954/artistwhocodes"}, "edited": false, "score": 0, "creation_date": 1452155124, "post_id": 34587436, "comment_id": 57045880, "body": "Interesting ideas, but I&#39;ve not gotten any of them to work. File::Tail didn&#39;t seem to help with the timing problems. Tried all your Term::ReadKey suggestions, but the problem isn&#39;t that the characters spit out all at once; when I read from a filehandle the characters don&#39;t spit out at all.   Tried normal file as well as fifo."}], "tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 1, "last_activity_date": 1451897345, "creation_date": 1451897345, "answer_id": 34587436, "question_id": 34583823, "link": "https://stackoverflow.com/questions/34583823/perl-termreadkey-read-from-file-as-though-its-being-typed/34587436#34587436", "title": "Perl Term::ReadKey - Read from file as though it&#39;s being typed", "body": "<p>The problem here is that your script can try to read from the file all you want, but if the process that actually writes to the file flushes all at once, you're going to get everything together.</p>\n\n<p>Also, a few things:</p>\n\n<ul>\n<li><p>if you really want to use ReadKey, you should probably use <code>ReadMode 5</code> if you don't know the CR or CR/LF use of your file.</p></li>\n<li><p>also check <a href=\"http://search.cpan.org/dist/TermReadKey/ReadKey.pm\" rel=\"nofollow\">Term::ReadKey</a> and you'll see that you probably want something like <code>ReadKey 0, $file</code></p></li>\n<li><p>it's probably best if you drop Term::ReadKey completely and use <a href=\"http://search.cpan.org/~mgrabnar/File-Tail-1.3/Tail.pm\" rel=\"nofollow\">File::Tail</a> instead, looping over the added characters one at a time</p></li>\n<li><p>Your final code is most likely going to be something that goes through an array of characters, just as you've already tried to do.</p></li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 5737954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a7fccf5e7f4ee6c0b6d769494e24319?s=128&d=identicon&r=PG&f=1", "display_name": "artistwhocodes", "link": "https://stackoverflow.com/users/5737954/artistwhocodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1451897345, "creation_date": 1451873390, "last_edit_date": 1451889822, "question_id": 34583823, "link": "https://stackoverflow.com/questions/34583823/perl-termreadkey-read-from-file-as-though-its-being-typed", "title": "Perl Term::ReadKey - Read from file as though it&#39;s being typed", "body": "<p>Been away from Perl awhile and would like to modify a script I wrote as an art project long ago.  The original script uses Term::ReadKey to allow the user to type arbitrary text into a Mac/Linux terminal. As they type, the text creates various floaty patterns in the terminal. <strong>I want to adapt the script so, instead of reading keys as they're input, it can read from text files written periodically by another process. But it would need to read in characters in some controllable way (not all at once) so as to (roughly) emulate human typing.</strong></p>\n\n<p><strong>What I've tried:</strong> \nTerm::ReadKey's man page says it can read from a filehandle instead of STDIN - but for some reason, I could not get this to work, with either a standard file or a FIFO.  I also tried reading in text from a file using \"open\" and putting the characters into an array. But iterating through the array got complicated because of the need to add delays between characters without pausing the rest of the script. ( I can envision this as a potential solution, but I'm not sure how best to design it to allow time delays to be controllable without the script becoming unwieldy.) </p>\n\n<p><strong>Wondering if there's a relatively simple way to approach this - assuming it's feasible at all?</strong> </p>\n\n<p>Here's the \"meat\" of the existing script (have removed various subroutines that add additional effects based on various keypresses.) </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Time::HiRes(usleep);\nuse Term::ReadKey;\n\n\n$|=1;\n\n$starttime = time;\n$startphrase = '                    ';\n\n$startsleepval = 3000;\n\n$phrase = $startphrase;\n$sleepval = $startsleepval;\n$dosleep = 1;\n\n\n$SIG{'INT'}=\\&amp;quitsub;\n$SIG{'QUIT'}=\\&amp;quitsub;\n\n# One Ctrl-C clears text and resets program.  # Three Ctrl-C's to quit.\n\nsub quitsub {print color 'reset' if ($dosleep); $phrase = $startphrase; $sleepval=$startsleepval; $SIG{'INT'}=\\&amp;secondhit;}\nsub secondhit { $SIG{'INT'}=\\&amp;outtahere; }\nsub outtahere {print color 'reset'; sleep 1; print \"\\n\\n\\t\\t\\t\\n\\n\"; exit(0);}\n\n\nwhile (1) {\n    print \"$phrase  \";\n    if ($dosleep) {\n        usleep ($sleepval);\n    }\n    ReadMode 3;\n\n    ##### Here is where it reads from the terminal.  Can characters be read from a file in a similar sequential fashion? #####\n    $key = ReadKey(-1);\n    $now = time;\n    if ((defined($key)) and ($now &gt; $starttime + 5)) {\n        $phrase = $phrase.$key;\n        $SIG{'INT'}=\\&amp;quitsub;\n    }\n    # user can also create interesting effects with spacebar, tab and arrow keys.\n\n    ReadMode 0; # this may appear redundant, but has a subtle visual effect. At least that's what I commented in the original 2003 script.\n\n}\n\n# end main loop\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "edited": false, "score": 0, "creation_date": 1451867703, "post_id": 34583229, "comment_id": 56911866, "body": "Thank you! Frankly speaking I don&#39;t like LWP (I think it is too complex), and HTTP::Tiny has a great advantage that it is shipped with perl. My task is too simple to use some huge module (Net::Docker needs AnyEvent, Moo). My task is to write an analog to <code>docker ps -a</code> that fits on my screen \u2014 <a href=\"https://gist.github.com/bessarabov/a24424d6d5717fcd7139\" rel=\"nofollow noreferrer\">gist.github.com/bessarabov/a24424d6d5717fcd7139</a>"}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "reply_to_user": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "edited": false, "score": 0, "creation_date": 1451867928, "post_id": 34583229, "comment_id": 56911914, "body": "@bessarabov yea, LWP has a huge overhead. But well, unless someone builds a huge system of &quot;implementors&quot; like LWP did and PRs it into HTTP::Tiny, doing HTTP over UNIX sockets may remain impossible to do in HTTP::Tiny."}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "reply_to_user": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "edited": false, "score": 0, "creation_date": 1451868005, "post_id": 34583229, "comment_id": 56911932, "body": "also, since HTTP::Tiny uses IO::Socket::IP maybe it would be simpler to make it use IO::Socket::UNIX (still, the ::TIny repo seems very inactive, since August.)"}], "tags": [], "owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "is_accepted": false, "score": 3, "last_activity_date": 1451867134, "creation_date": 1451867134, "answer_id": 34583229, "question_id": 34582918, "link": "https://stackoverflow.com/questions/34582918/how-to-work-with-http-web-server-via-file-socket-in-perl/34583229#34583229", "title": "How to work with http web server via file socket in perl?", "body": "<p>I couldn't find a way to make <em>HTTP::Tiny</em> use UNIX sockets but I did find a way to make LWP work:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\nuse LWP::Protocol::http::SocketUnixAlt;\n\nmy $socket = \"/var/run/docker.sock\";\nmy $geturi = \"/containers/json?all=1\"; #GET\n\nLWP::Protocol::implementor( http =&gt; 'LWP::Protocol::http::SocketUnixAlt' );\n\nmy $ua = LWP::UserAgent-&gt;new();\nmy $res = $ua-&gt;get(\"http:/var/run/docker.sock/\".\"$geturi\");\nprint $res-&gt;content;\n</code></pre>\n\n<p>There's also <a href=\"https://metacpan.org/search?q=docker&amp;search_type=modules\" rel=\"nofollow\">a couple of docker modules in CPAN</a> if you think that manually doing HTTP requests is too much of a hassle and want another abstraction layer.</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 3221817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2509fcc6572ec8e8e037a2c872ec2f61?s=128&d=identicon&r=PG", "display_name": "bluefeet", "link": "https://stackoverflow.com/users/3221817/bluefeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1484260131, "creation_date": 1484260131, "answer_id": 41624179, "question_id": 34582918, "link": "https://stackoverflow.com/questions/34582918/how-to-work-with-http-web-server-via-file-socket-in-perl/41624179#41624179", "title": "How to work with http web server via file socket in perl?", "body": "<p><a href=\"https://metacpan.org/pod/HTTP::Tiny::UNIX\" rel=\"nofollow noreferrer\">HTTP::Tiny::UNIX</a> will do what you want.  From the docs:</p>\n\n<blockquote>\n  <p>This is a subclass of HTTP::Tiny to connect to HTTP server over Unix socket.</p>\n</blockquote>\n\n<p>I'm using Starman to spawn a unix-socket only HTTP daemon which I connect to with an HTTP::Tiny::UNIX client.  Works great.</p>\n"}], "owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1484260131, "creation_date": 1451864410, "question_id": 34582918, "link": "https://stackoverflow.com/questions/34582918/how-to-work-with-http-web-server-via-file-socket-in-perl", "title": "How to work with http web server via file socket in perl?", "body": "<p>It is possible to work with web server living in file socket with linux commands:</p>\n\n<pre><code># /bin/echo -e \"GET /containers/json?all=1 HTTP/1.0\\r\\n\" | nc -U /var/run/docker.sock ; echo ''\nHTTP/1.0 200 OK\nContent-Type: application/json\nDate: Sun, 03 Jan 2016 23:31:54 GMT\nContent-Length: 2\n\n[]\n#\n</code></pre>\n\n<p>How can I do the same thing using Perl modules? I would prefer to do the same thing with <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"nofollow\">HTTP::Tiny</a>, but I can't figure out how to use it with file socket.</p>\n\n<p>For now I'm just using perl <code>system()</code> but I want to use HTTP::Tiny to make code simpler.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "is_accepted": true, "score": 4, "last_activity_date": 1451858280, "creation_date": 1451858280, "answer_id": 34582084, "question_id": 34581942, "link": "https://stackoverflow.com/questions/34581942/how-do-you-take-part-of-a-text-using-regex-in-perl/34582084#34582084", "title": "How do you take part of a text using regex in perl", "body": "<p>For your usecase, rather than dealing with all those regexes, just use the <em>Parse::Syslog</em> module: it should be more robust and flexible in case you needed to extend your script.</p>\n\n\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse Parse::Syslog;\nmy $syslogfile = \"syslog.txt\";\nmy $parser = Parse::Syslog-&gt;new( $syslogfile , allow_future =&gt; 1);\nwhile(my $sl = $parser-&gt;next) {\n print \"**$sl-&gt;{program}** $sl-&gt;{host} \".localtime($sl-&gt;{timestamp}).\" $sl-&gt;{text} [\".$sl-&gt;{pid}.\"]\\n\"; }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451861441, "post_id": 34582119, "comment_id": 56910306, "body": "<code>$b</code> is not a good variable name to use in an answer that isn&#39;t about <code>sort</code>ing. It would also benefit significantly from some explanation as to what you&#39;re doing. (And please - <code>use strict</code>, it&#39;s a bad habit - even if &#39;just&#39; illustrating)"}], "tags": [], "owner": {"reputation": 4618, "user_id": 2537992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/140d72dcd343b1a19f9a1eaebc44cccc?s=128&d=identicon&r=PG", "display_name": "Roberto Congiu", "link": "https://stackoverflow.com/users/2537992/roberto-congiu"}, "is_accepted": false, "score": 0, "last_activity_date": 1451858480, "creation_date": 1451858480, "answer_id": 34582119, "question_id": 34581942, "link": "https://stackoverflow.com/questions/34581942/how-do-you-take-part-of-a-text-using-regex-in-perl/34582119#34582119", "title": "How do you take part of a text using regex in perl", "body": "<p>SOmething like this will do. Notice that we can simplify it a lot, since the date at the beginning will always be 15 characters.</p>\n\n<pre><code>$b = \"Dec 27 21:49:41 osboxes NetworkManager[686]: &lt;info&gt;    nameserver '192.168.221.2'\";\n$b =~ m/(.{15})\\s+([a-z]*)\\sNetworkManager(\\[\\d+\\]):\\s+(.*)/ig;\n# **NetworkManager** osboxes Dec 27 21:49:41 &lt;info&gt;    nameserver '192.168.221.2'. [686]\nprint( \"**NetworkManager** $2 $1 $4 $3\\n\" );\n# prints:\n# **NetworkManager** osboxes Dec 27 21:49:41 &lt;info&gt;    nameserver '192.168.221.2' [686]\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4730646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b49580a927cab03f99bf90367e4a96a?s=128&d=identicon&r=PG&f=1", "display_name": "TheNoob", "link": "https://stackoverflow.com/users/4730646/thenoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 34582084, "answer_count": 2, "score": 1, "last_activity_date": 1451858480, "creation_date": 1451857321, "question_id": 34581942, "link": "https://stackoverflow.com/questions/34581942/how-do-you-take-part-of-a-text-using-regex-in-perl", "title": "How do you take part of a text using regex in perl", "body": "<p>How do you take a part a line in a text file which will be used to reformat the way the file should look?</p>\n\n<p>so for example in my text of:</p>\n\n<pre><code>Dec 27 21:49:41 osboxes NetworkManager[686]: &lt;info&gt;    nameserver '192.168.221.2'\n</code></pre>\n\n<p>The regex that I made would match the the text</p>\n\n<pre><code>  /([a-z][a-z][a-z]\\s(\\d\\d)\\s(\\d\\d):(\\d\\d):(\\d\\d)\\s[a-z]*\\s(NetworkManager).*)/ig\n</code></pre>\n\n<p>but how do you make it so that the output will be different, basically rearranging so that it would look something like this</p>\n\n<pre><code>**NetworkManager** osboxes Dec 27 21:49:41 &lt;info&gt;    nameserver '192.168.221.2'. [686]\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "edited": false, "score": 0, "creation_date": 1451850224, "post_id": 34580690, "comment_id": 56906663, "body": "Did not thought about thinking about this at all. Thank you very much! I totally tunnel visioned on trying to make the keyword inside the regex work."}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "reply_to_user": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "edited": false, "score": 0, "creation_date": 1451850672, "post_id": 34580690, "comment_id": 56906811, "body": "@Shiena might want to try <i>Parse::Syslog</i> if you need something more robust and flexible"}, {"owner": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "reply_to_user": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "edited": false, "score": 0, "creation_date": 1451865346, "post_id": 34580690, "comment_id": 56911329, "body": "@PatoS&#225;inz just question, I read about syslog but couldn&#39;t understand to well about it. So, does it parse a file called syslog anywhere on the computer if so, what if there&#39;s more than 1 file called syslog but in a different location?"}, {"owner": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "reply_to_user": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "edited": false, "score": 0, "creation_date": 1451866200, "post_id": 34580690, "comment_id": 56911539, "body": "@PatoS&#225;inz oh unfortunately, i cannot do parse:syslog as the exercise that I am doing requires to utilise regex where it is possible"}, {"owner": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "edited": false, "score": 0, "creation_date": 1451869760, "post_id": 34580690, "comment_id": 56912276, "body": "@choroba would it be possible to explain what is happening in the my $regex = join &#39;|&#39;, map quotemeta, @keywords; because I am not very familiar with the map quotemeta"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "edited": false, "score": 2, "creation_date": 1451888534, "post_id": 34580690, "comment_id": 56916515, "body": "@Shiena <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">map</a> and <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a> both have entries in perldoc."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1451849355, "creation_date": 1451849355, "answer_id": 34580690, "question_id": 34580564, "link": "https://stackoverflow.com/questions/34580564/how-do-you-find-something-in-an-array-that-would-match-keywords-from-a-text-file/34580690#34580690", "title": "How do you find something in an array that would match keywords from a text file and while doing a regex in perl", "body": "<p>The common approach is to build a regex from the keywords, then read the second file and match each line against the keyword:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $keywordFile = 'keyword';\nopen my $KW, '&lt;', $keywordFile or die \"Could not open $keywordFile\";\nchomp( my @keywords = &lt;$KW&gt; );\nmy $regex = join '|', map quotemeta, @keywords;\n\nmy $syslogFile = 'syslog';\nopen my $SYS, '&lt;', $syslogFile or die \"Could not open $syslogFile\";\n\nwhile(&lt;$SYS&gt;) {\n    print if /$regex/;\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1451849355, "creation_date": 1451848642, "question_id": 34580564, "link": "https://stackoverflow.com/questions/34580564/how-do-you-find-something-in-an-array-that-would-match-keywords-from-a-text-file", "title": "How do you find something in an array that would match keywords from a text file and while doing a regex in perl", "body": "<p>I'm at a loss at trying to find out how to match the keywords in my keywords text which are:</p>\n\n<pre><code>NetworkManager\ndhclient\ndbus\n</code></pre>\n\n<p>My code currently looks like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse File::Compare;\n\nmy $syslogFile = 'syslog';\nopen (my $syslogInfo, '&lt;', $syslogFile) or die \"Could not open $syslogFile\";\n\nmy $keywordFile = 'keyword';\nopen (my $keywordInfo, '&lt;', $keywordFile) or die \"Could not open $keywordFile\";\n\nwhile(my @keywordArray = &lt;$keywordInfo&gt;)\n{\n    print \"@keywordArray\\n\";\n}\n\n\nwhile(my @syslogLine = &lt;$syslogInfo&gt;)\n{\n    print \"@syslogLine\\n\";\n}\n</code></pre>\n\n<p>and now I am stuck on how to get these 2 text files to work together and get the desired result.</p>\n\n<p>What Im trying to do is to have things in my syslog txt for example:</p>\n\n<pre><code>Dec 27 21:17:52 osboxes rsyslogd: [origin software=\"rsyslogd\" swVersion=\"8.12.0\" x-pid=\"695\" x-info=\"http://www.rsyslog.com\"] rsyslogd was HUPed\nDec 27 21:18:05 osboxes anacron[634]: Job `cron.daily' terminated\nDec 27 21:18:05 osboxes anacron[634]: Normal exit (1 job run)\nDec 27 21:22:29 osboxes NetworkManager[686]: &lt;info&gt;    lease time 1800\nDec 27 21:22:29 osboxes NetworkManager[686]: &lt;info&gt;    domain name 'localdomain'\n</code></pre>\n\n<p>To have it matched with the keywords and only print the lines that have the keywords in it so that it will only print:</p>\n\n<pre><code>Dec 27 21:22:29 osboxes NetworkManager[686]: &lt;info&gt;    lease time 1800\nDec 27 21:22:29 osboxes NetworkManager[686]: &lt;info&gt;    domain name 'localdomain'\n</code></pre>\n\n<p>I have tried out using IF by doing this:</p>\n\n<pre><code>if(my @syslogLine = (/^[a-zA-Z][a-zA-Z][a-zA-Z]\\s(\\d\\d)\\s(\\d\\d):(\\d\\d):(\\d\\d)\\s[a-zA-Z]*\\s(@keywordArray).*/s))\n{\n    open(outputFile, \"&gt;&gt;output\");\n    print outputFile \"@syslogLine\\n\";\n}\n</code></pre>\n\n<p>but this gives me the errors:</p>\n\n<pre><code>Possible unintended of @keywordArray\nGlobal symbol \"@keywordArray requires explict package name\n</code></pre>\n\n<p>Im guessing that perl doesn't like having an array in the regex?\nI just couldn't get my head around this problem.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1451844961, "post_id": 34579728, "comment_id": 56904667, "body": "Actually the syntax <code>$foo = (1, 2, 3)[0]</code> is fine. It creates a <i>list</i>, takes the first element and assigns that to scalar <code>$foo</code>. So the <i>First</i> part of your answer is incorrect."}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1451845318, "post_id": 34579728, "comment_id": 56904809, "body": "@simbabque thanks, wow I just realised that it&#39;s actually a clever little trick, because problably there&#39;s never going to be the three headers together, so if the first and the third one are undefs but the second is defined, it just stores whatever&#39;s defined. Clever. Edited away."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451847099, "post_id": 34579728, "comment_id": 56905475, "body": "@PatoS&#225;inz:  <i>&quot;it just stores whatever&#39;s defined&quot;</i> Unfortunately no, it doesn&#39;t. Your original draft was correct. <code>$foo = (undef, 2, 3)[0]</code> will set <code>$foo</code> to <code>undef</code>, and the values of the second and third elements of the list are irrelevant. You can simply pick up the first <i>defined</i> element of a list by writing <code>my ($foo) = grep defined, (undef, 2, 3)</code> But in this case it&#39;s probably best to use the <i>defined-or</i> operator <code>&#47;&#47;</code> and write <code>my $base = $self-&gt;header(&#39;Content-Base&#39;) &#47;&#47; $self-&gt;header(&#39;Content-Location&#39;) &#47;&#47; $self-&gt;header(&#39;Base&#39;)</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1451847376, "post_id": 34579728, "comment_id": 56905580, "body": "@simbabque: It seems to me that the only thing wrong with the first part of this post is the supposition that an anonymous array was intended. The paragraph after the code is exactly right"}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451847390, "post_id": 34579728, "comment_id": 56905587, "body": "@Borodin sorry, not undef, you&#39;re right. I don&#39;t know what value does a $self-&gt;header(&#39;doesnotexist&#39;) takes but try running the OP&#39;s script yourself, point it against example.com and try for date, etag and server headers, now change any two of them into gibberish headers and you&#39;ll see that $base will be defined by whatever header exists, regardless of whether it came first, second or third. Do tell me if I&#39;ve explained myself correctly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1451847840, "post_id": 34579728, "comment_id": 56905771, "body": "@PatoS&#225;inz: Then the <code>header</code> method returns an <i>empty list</i> in list context. That is the result of a bare <code>return</code> without a parameter -- it returns <code>undef</code> in scalar context and an empty list in list context. But if the elements of the list hadn&#39;t been subroutine calls (method calls) but instead simple scalar constants or variables, or if the subroutines had used <code>return undef</code> instead of <code>return</code> then the trick wouldn&#39;t work, so it&#39;s a dangerous assumption to make."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451848033, "post_id": 34579728, "comment_id": 56905859, "body": "@PatoS&#225;inz:  <i>&quot;Your typical perl tradeoff&quot;</i> That&#39;s untrue and unnecessarily opinionated. I believe it&#39;s poor programming, and at a guess he didn&#39;t understand <i>why</i> it was working"}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451848276, "post_id": 34579728, "comment_id": 56905942, "body": "@Borodin you&#39;re right, I was just generalizing. I&#39;ve deleted that statement."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451852196, "post_id": 34579728, "comment_id": 56907290, "body": "@PatoS&#225;inz: What you wrote was that is is typical of Perl to provide a more concise syntax that won&#39;t always work. I&#39;d like you to substantiate that, even as a generalisation"}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451852316, "post_id": 34579728, "comment_id": 56907324, "body": "@Borodin perl regexes, perl one-liners/golf, perl hacks. But it isn&#39;t really on topic for me to discuss certain aspects of perl code you can find on the internet."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451852821, "post_id": 34579728, "comment_id": 56907513, "body": "@PatoS&#225;inz: Regular expressions <i>always</i> work as you have written them, and are part of most popular languages. Similarly, one-liners are as popular, if not more so, in tools like sed and awk. Perl golf is a frivolous pastime, and not to be confused with software programming. And &quot;Perl hacks&quot; seems extremely vague. What about C hacks, Linux hacks, even COBOL hacks? You&#39;ve said nothing that I think makes Perl typical of brevity at the expense of reliability, and the language can do without more false allegations being levelled at it"}, {"owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451853038, "post_id": 34579728, "comment_id": 56907589, "body": "@Borodin I do understand what you say, even tho perl <b>is</b> my first choice for a language, an that hackish solutions can happen in almost any environment, we know that sometimes TIMTOWTDI may make horrible things possible. But I know that <i>bad</i> programmers, not languages, make <i>bad</i> code. I agree with you on all of your points, you should not have taken my &quot;perl tradeoff&quot; comment seriously, it was more tongue-in-cheek."}], "tags": [], "owner": {"reputation": 512, "user_id": 2079457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvpZY.jpg?s=128&g=1", "display_name": "ppp", "link": "https://stackoverflow.com/users/2079457/ppp"}, "is_accepted": false, "score": 3, "last_activity_date": 1451847151, "last_edit_date": 1451847151, "creation_date": 1451844051, "answer_id": 34579728, "question_id": 34579093, "link": "https://stackoverflow.com/questions/34579093/base-uri-while-using-furl/34579728#34579728", "title": "Base URI while using Furl", "body": "<p>First: it seems you want to do an anonymous array at $base, thus, it should be:</p>\n\n<p><code>my $base = [\n         $res-&gt;header('header1'), \n         $res-&gt;header('header2'),\n         $res-&gt;header('header3') \n     ];</code></p>\n\n<p>Because the code you had just saved the first header (in your case, Content-Base) and did nothing with the last two, you can check that with <em>Data::Dumper</em>.\nMaybe that's why it didn't work.</p>\n\n<p>Second: But, after reading through the code of the Furl module, I found out there's no exposed method for getting an url's base, so unless you are also checking in your own code for the <code>&lt;base&gt;</code> html tag and the uri you used to request your response (even after redirects), your code might break with some oldish sites. <em>HTTP::Response</em> does this checking, and that's what LWP uses.</p>\n\n<p>Citation for hierarchy of base URIs: <a href=\"http://search.cpan.org/~ether/HTTP-Message-6.11/lib/HTTP/Response.pm\" rel=\"nofollow\">HTTP::Response - HTTP style response message</a></p>\n"}], "owner": {"reputation": 21, "user_id": 5740866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b26fa1963d45c58554c518025cdb4d20?s=128&d=identicon&r=PG&f=1", "display_name": "DimonON", "link": "https://stackoverflow.com/users/5740866/dimonon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1451847151, "creation_date": 1451840090, "question_id": 34579093, "link": "https://stackoverflow.com/questions/34579093/base-uri-while-using-furl", "title": "Base URI while using Furl", "body": "<p>I've checked the documentation <a href=\"https://metacpan.org/pod/Furl\" rel=\"nofollow\">https://metacpan.org/pod/Furl</a>\nbut can't found how can I get sites base URI while using Furl?</p>\n\n<p>With LWP it's easy:</p>\n\n<pre><code>my $res = $ua-&gt;get($url);\nmy $base_uri = $res-&gt;base;\n</code></pre>\n\n<p>The base function try to get values from this header fields</p>\n\n<pre><code>my $base = (\n         $self-&gt;header('Content-Base'),        # used to be HTTP/1.1\n         $self-&gt;header('Content-Location'),    # HTTP/1.1\n         $self-&gt;header('Base'),                # HTTP/1.0\n     )[0];\n</code></pre>\n\n<p>But I couldn't do the same with Furl.</p>\n"}, {"tags": ["perl", "unix", "fork"], "answers": [{"comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451829137, "post_id": 34576141, "comment_id": 56899141, "body": "Hmm...I&#39;m not seeing that, but your point is understood: I think I should be seeing some zeros."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452347698, "post_id": 34576141, "comment_id": 57134535, "body": "@7stud now i am facing following problem -&gt; i have modifed my_forker.pl script to such that it forks (execute) perl scripts with different inputs and i want them to run parallel but  right now it is running sequentially which i do not want."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452349103, "post_id": 34576141, "comment_id": 57135037, "body": "@Shantesh, Post a short example that demonstrates the problem."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452404390, "post_id": 34576141, "comment_id": 57150906, "body": "@7stud here&#39;s the link for new question [link ](<a href=\"http://stackoverflow.com/questions/34702448/forking-doesnt-happening-as-i-expected-in-perl-script\" title=\"forking doesnt happening as i expected in perl script\">stackoverflow.com/questions/34702448/&hellip;</a>)  <b>please have a look</b>"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452497046, "post_id": 34576141, "comment_id": 57178046, "body": "@7stud did you have a look ?"}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 2, "last_activity_date": 1451830643, "last_edit_date": 1451830643, "creation_date": 1451821437, "answer_id": 34576141, "question_id": 34575583, "link": "https://stackoverflow.com/questions/34575583/executing-a-multiple-indefinite-perl-script-within-another-perl-script/34576141#34576141", "title": "Executing a multiple indefinite perl script within another perl script", "body": "<p>Example run:</p>\n\n<pre><code>$ perl my_forker.pl\nDone with other process.\nDone with long running process.\nDone with main process.\n</code></pre>\n\n<p>The following files must have executable permissions set:</p>\n\n<p>long_running.pl:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse 5.020;\n\nsleep 5;\nsay 'Done with long running process.';\n</code></pre>\n\n<p>other_process.pl:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse 5.020;\n\nsleep 3;\nsay \"Done with other process.\"\n</code></pre>\n\n<p>my_forker.pl:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.020;\n\nmy @paths = (\n    './long_running.pl',\n    './other_process.pl',\n);\n\nmy @pids;\n\nfor my $cmd (@paths) {\n\n    defined (my $pid = fork()) or die \"Couldn't fork: $!\";\n\n    if ($pid == 0) { #then in child process\n        exec $cmd;\n        die \"Couldn't exec: $!\";  #this line will cease to exist if exec() succeeds\n    }\n    else {  #then in parent process, where $pid is the pid of the child\n        push @pids, $pid;\n    }\n\n}\n\nfor my $pid (@pids) {\n    waitpid($pid, 0)  #0 =&gt; block\n}\n\nsay \"Done with main process.\";\n</code></pre>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1451847835, "creation_date": 1451817554, "last_edit_date": 1451847835, "question_id": 34575583, "link": "https://stackoverflow.com/questions/34575583/executing-a-multiple-indefinite-perl-script-within-another-perl-script", "title": "Executing a multiple indefinite perl script within another perl script", "body": "<p>My intention is to execute <code>long.pl</code> perl script with different path as an argument and since <code>long.pl</code> has indefinite loop such that in the main script it does not come to second path.  I thought to use <code>fork</code> for doing it, but I'm not sure whether it will solve my problem or not! </p>\n\n<p>Some information on the method of achieving the task would be helpful, and please let me know if you need any clarification on the problem statement. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nprint localtime () . \": Hello from the parent ($$)!\\n\";\n\nmy @paths = ('C:\\Users\\goudarsh\\Desktop\\Perl_test_scripts','C:\\Users\\goudarsh\\Desktop\\Perl_test_scripts/rtl2gds'); \nforeach my $path(@paths){\n    my $pid = fork;\n    die \"Fork failed: $!\" unless defined $pid;\n    unless ($pid) {\n        print localtime () . \": Hello from the child ($$)!\\n\";\n        exec \"long.pl $path\";  # Some long running process.\n        die \"Exec failed: $!\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>long.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nwhile(1){\n    sleep 3;\n    #do some stuff here \n}\n</code></pre>\n"}, {"tags": ["perl", "firefox", "mechanize", "mozrepl"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 3264910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZKrgW.jpg?s=128&g=1", "display_name": "Scotsman", "link": "https://stackoverflow.com/users/3264910/scotsman"}, "edited": false, "score": 0, "creation_date": 1451820781, "post_id": 34574655, "comment_id": 56896804, "body": "Thank you very much for the input. The RemoteObjects.pm file was part of the package and like an idiot I was merrily editing it to try to achieve the connection. Your answer helped me see that I just direct the connection from the main program. Thank you. Hmmm....now I still have the same error but at least its showing the correct IP address of my client machine and the right port. Still not sure why its not connecting. I configured port 4242 to not be filtered. I tried turning the firewall off completely. Still no joy. Not sure what to try next!"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 177, "user_id": 3264910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZKrgW.jpg?s=128&g=1", "display_name": "Scotsman", "link": "https://stackoverflow.com/users/3264910/scotsman"}, "edited": false, "score": 0, "creation_date": 1451822077, "post_id": 34574655, "comment_id": 56897163, "body": "There could be a firewall anyway between your server and your machine. Depending on the access you have on your server you could log in there, or write scripts to troubleshoot firewall issues. Try connecting to other services on different ports. Also try connecting to your machine on port 4242 from inside your network, and from other machines. Are your machine behind NAT? You can check if you have a private ip address."}, {"owner": {"reputation": 177, "user_id": 3264910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZKrgW.jpg?s=128&g=1", "display_name": "Scotsman", "link": "https://stackoverflow.com/users/3264910/scotsman"}, "edited": false, "score": 0, "creation_date": 1451823541, "post_id": 34574655, "comment_id": 56897589, "body": "Thanks I will dig about. The strange thing is if I use telnet locally on my laptop here I can use telnet ipaddress 4242 and it connects fine to MozRepl. So its really close but just wont connect over the net. It must be a firewall issue (even though I tried with the firewall off). Weird. I&#39;m also seeing some posts saying its tricky to set up at the server end and should use an older 1.1.2 MozRepl .xpi file. Hostgator refused to install the module so I did it manually and worked through all the dependencies because I don&#39;t have root access, so maybe its screwed up. Oh well, I will keep at it :)"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1451814135, "last_edit_date": 1451814135, "creation_date": 1451809442, "answer_id": 34574655, "question_id": 34573849, "link": "https://stackoverflow.com/questions/34573849/failed-to-connect-to-at-mozrepl-remoteobject-pm/34574655#34574655", "title": "Failed to connect to , at MozRepl/RemoteObject.pm", "body": "<p>From your code your initial problem seems to be that you are not initializing your <code>WWW::Mechanize::Firefox</code> with the server you want to use. You have created another file called <code>RemoteObject.pm</code>, but it doesn't seems like you are using it. </p>\n\n<p>To initialize the object you should do something like this, in your main perl file:</p>\n\n<pre><code>my $remote_machine = $ENV{REMOTE_ADDR};\nmy $mech = WWW::Mechanize::Firefox-&gt;new( repl =&gt; \"$remote_machine:4242\" );\n</code></pre>\n\n<p>Note that this will try to connect to the machine you are using to browse with. You said that you tried with your mobile. Do you have Firefox running with MozRepl add-on on your mobile? </p>\n\n<p>In RemoteObjects.pm there is no need to set the value back to <code>REMOTE_ADDR</code> environment variable.</p>\n\n<p>Still there can be issues with firewalls and socket privileges, but now you can at least try to connect to the correct machine.</p>\n"}], "owner": {"reputation": 177, "user_id": 3264910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZKrgW.jpg?s=128&g=1", "display_name": "Scotsman", "link": "https://stackoverflow.com/users/3264910/scotsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1451814135, "creation_date": 1451800987, "question_id": 34573849, "link": "https://stackoverflow.com/questions/34573849/failed-to-connect-to-at-mozrepl-remoteobject-pm", "title": "Failed to connect to , at MozRepl/RemoteObject.pm", "body": "<p>Trying to set up WWW::Mechanize::Firefox and access Firefox using Perl.</p>\n\n<p>I've installed the module and its dependencies. I'm not sure if I've understood this module properly but I'm running it on a unix (shared) server to access and drive Firefox running on a pc client.</p>\n\n<p>I'm getting an error:</p>\n\n<pre><code>Failed to connect to ,  at MozRepl/RemoteObject.pm at line...\n</code></pre>\n\n<p>I've read various posts about setting up remote access in RemoteObject.pm and tried all approaches. Still get the error. Right now I have a little test program (<a href=\"http://kamasiri.com/kohkood/cgi-bin/testMechanize.cgi\" rel=\"nofollow\">http://kamasiri.com/kohkood/cgi-bin/testMechanize.cgi</a>), which is basically as follows:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse CGI;\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser); \nuse WWW::Mechanize::Firefox;\n\nprint \"Content-type: text/html\\n\\n\";\n\nmy $mech = WWW::Mechanize::Firefox-&gt;new();\n$mech-&gt;get('http://kamasiri.com');\n\n$mech-&gt;eval_in_page('alert(\"Hello Firefox\")');\nprint \"&lt;html&gt;&lt;body&gt;&lt;p&gt;yeehah!&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n\nexit;\n</code></pre>\n\n<p>And in RemoteObject.pm I have edited near the top as follows:</p>\n\n<pre><code># use $ENV{MOZREPL} or localhost:4242\nmy $remote_machine = $ENV{REMOTE_ADDR};\n$ENV{REMOTE_ADDR} = \"$remote_machine:4242\";\nmy $repl = MozRepl::RemoteObject-&gt;install_bridge(\n  repl =&gt; \"$ENV{REMOTE_ADDR}\"\n);\n</code></pre>\n\n<p>Am i doing something wrong here?</p>\n\n<p>I've also tried hard coding the IP address of the PC client into the code. Still the same error.</p>\n\n<p>Firefox is running and the MozRepl add-on is loaded and running (that's the normal source of this error, I've read).</p>\n\n<p>I wondered if it's a firewall issue so I've tried on various machines including a mobile. Still the same. The fact it's not printing out the ip address and port in the error message suggest to me it's not taking these as options into the program properly.</p>\n\n<p>I also wondered if its a telnet privilege issue because I'm on a shared server?</p>\n\n<p>Any ideas what I can try next?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1451796204, "post_id": 34573167, "comment_id": 56891776, "body": "The first regex works for me (Perl 5.22.0 on Mac OS X 10.11.2).  The backslash in front of the <code>.</code> in the replacement isn&#39;t necessary, but does no harm."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1451818089, "post_id": 34573167, "comment_id": 56896026, "body": "Both your regexes work for me. The problem lies elsewhere."}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1451831274, "post_id": 34573167, "comment_id": 56899820, "body": "It did not work me yesterday, but all works for me today, centos6.4, perl 5.10.1"}, {"owner": {"reputation": 43, "user_id": 5739553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozrye.jpg?s=128&g=1", "display_name": "frozenbooger", "link": "https://stackoverflow.com/users/5739553/frozenbooger"}, "edited": false, "score": 0, "creation_date": 1451848033, "post_id": 34573167, "comment_id": 56905860, "body": "Thanks for testing my regexes. When you say they work for you, how are you testing them? I tried running them in a script and as one-liners, but they don&#39;t work. By the way, I&#39;m using perl shipped with Mac OS X 10.10.5 (v5.18.2). Thanks!"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1452050223, "post_id": 34573167, "comment_id": 56995855, "body": "I used this script: <code>#!&#47;usr&#47;bin&#47;env perl</code> and <code>use strict; use warnings; my $currentLine = &quot;...so, that&#39;s our art. the 4 of us can now have a dialog. we can have a conversation. we can speak to...&quot;; $currentLine =~ s&#47;\\.\\s([a-z])&#47;\\. \\u$1&#47;g; print &quot;$currentLine\\n&quot;;</code>  (called <code>xx.pl</code>, run using <code>perl xx.pl</code>).  With both Perl 5.18.2 (shipped by Apple) and Perl 5.22.0 (built by me), I get the output &quot;<code>...so, that&#39;s our art. The 4 of us can now have a dialog. We can have a conversation. We can speak to...</code>&quot; with the caps in the correct places AFAICS."}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 0, "creation_date": 1452054645, "post_id": 34573167, "comment_id": 56997054, "body": "<code>&#47;^[\\s+|\\d+]</code> matches a line that starts with a whitespace character, a digit, a pipe (<code>|</code>) or a plus sign (<code>+</code>).   I think you meant <code>&#47;^(\\s*$|\\d)&#47;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": false, "score": -1, "last_activity_date": 1451796290, "creation_date": 1451796290, "answer_id": 34573412, "question_id": 34573167, "link": "https://stackoverflow.com/questions/34573167/capitalize-all-letters-after-a-period-and-a-space/34573412#34573412", "title": "Capitalize all letters after a period and a space", "body": "<pre><code># (char)(char)(char)  (char)(char)(char) Uppercase the 3rd\n$str =~ s/(\\.)(\\s)(\\w)/$1$2\\U$3/g;\nprint $str\n\n...so, that's our art. the 4 of us can now have a dialog. we can have a conversation. we can speak to...\n...so, that's our art. The 4 of us can now have a dialog. We can have a conversation. We can speak to...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 3, "last_activity_date": 1451797717, "last_edit_date": 1451797717, "creation_date": 1451796709, "answer_id": 34573443, "question_id": 34573167, "link": "https://stackoverflow.com/questions/34573167/capitalize-all-letters-after-a-period-and-a-space/34573443#34573443", "title": "Capitalize all letters after a period and a space", "body": "<p>Try this</p>\n\n<p>Use look behind, and capture the pattern and use <code>\\U</code> for the change the beginning of the string to uppercase</p>\n\n<pre><code>$str =\"...so, that's our art. the 4 of us can now have a dialog. we can have a conversation. we can speak to...\";\n$str =~ s/(?&lt;=\\w\\.\\s)(\\w)/\\U$1/g;\nprint $str\n</code></pre>\n\n<p>Or else try to <code>\\K</code> for keep the word by the substitution. </p>\n\n<pre><code>$str =~ s/\\w\\.\\s\\K(\\w)/\\U$1/g;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 0, "last_activity_date": 1452052101, "last_edit_date": 1452052101, "creation_date": 1452051581, "answer_id": 34625241, "question_id": 34573167, "link": "https://stackoverflow.com/questions/34573167/capitalize-all-letters-after-a-period-and-a-space/34625241#34625241", "title": "Capitalize all letters after a period and a space", "body": "<p>One problem is the code:</p>\n\n<pre><code>    if ($currentLine =~ /^[\\s+|\\d+]/){\n        next;\n    }\n</code></pre>\n\n<p>Contrary to the comment, this ignores lines that start with a space, a digit, a plus or a pipe symbol.  This is probably sending you down the wrong track.  You likely meant to write:</p>\n\n<pre><code>    next if /^(\\s+$|\\d)/;\n</code></pre>\n\n<p>This skips a line if the whole line is spaces, or if the first character is a digit.</p>\n\n<p>You could simplify your loop, and generalize it, with:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;) {\n        # Remove empty lines and lines that start with digits. sometimes\n        next if /^(\\s+$|\\d)/;\n\n        # Remove all carriage returns. forever\n        s/\\R$//;\n\n        # Convert all letters to lower case. always\n        s/([A-Z])/\\l$1/g;\n\n        # Capitalize after period &lt;=... STEP THAT DOES NOT WORK\n        s/\\.\\s([a-z])/\\. \\u$1/g;\n\n        print \"$_\\n\";\n}\n</code></pre>\n\n<p>When run on itself, the output is:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nwhile (&lt;&gt;) {\n        # remove empty lines and lines that start with digits. Sometimes\n        next if /^(\\s+$|\\d)/;\n        # remove all carriage returns. Forever\n        s/\\r$//;\n        # convert all letters to lower case. Always\n        s/([a-z])/\\l$1/g;\n        # capitalize after period &lt;=... Step that does not work\n        s/\\.\\s([a-z])/\\. \\u$1/g;\n        print \"$_\\n\";\n}\n</code></pre>\n\n<p>Note that for the converted script to work, you'd need to use <code>/gi</code> as the modifier (instead of <code>/g</code>) on the substitute operations.  There is plenty of room for improvement in this code, still.</p>\n\n<p>One basic way of testing what's going on is to print everything at each step.</p>\n\n<pre><code>while (&lt;INPUT_FILE&gt;) {\n        print \"## $_\";\n        my $currentLine = $_;   \n        # Remove empty lines and lines that start with digits\n        if ($currentLine =~ /^[\\s+|\\d+]/){\n            print \"#SKIP# $currentLine\";\n            next;\n        }\n\n        # Remove all carriage returns\n        $currentLine =~ s/\\R$/ /;\n        print \"#EOL# $currentLine##\\n\";\n\n        # Convert all letters to lower case\n        $currentLine =~ s/([A-Z])/\\l$1/g;\n        print \"#LC# $currentLine##\\n\";\n\n        # Capitalize after period &lt;= STEP THAT DOES NOT WORK\n        $currentLine =~ s/\\.\\s([a-z])/\\. \\u$1/g;        \n        print \"#CAPS# $currentLine##\\n\";\n\n        print $currentLine;    # Needs a newline!\n}\n</code></pre>\n\n<p>This would have told you what was going on, and going wrong.  Note that replacing the generic EOL (<code>\\R</code>) with a blank means that the output doesn't end with a newline.  That's a bad idea too \u2014 and it's why the outputs I generate end with a newline; either the one read from the file, or adding one after that's been removed.</p>\n\n<p>Also, you should avoid ALL_CAPS file handles and use lexical ones \u2014 when you need an explicit file handle at all.</p>\n\n<pre><code>open my $fh, '&lt;', $filename\n    or die \"Couldn't open $filename for reading!\";\n</code></pre>\n\n<p>Good work on including the file name in the error message (though adding <code>$!</code> to report the system error message would be a good idea too).</p>\n"}], "owner": {"reputation": 43, "user_id": 5739553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozrye.jpg?s=128&g=1", "display_name": "frozenbooger", "link": "https://stackoverflow.com/users/5739553/frozenbooger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1000, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1452052101, "creation_date": 1451793202, "last_edit_date": 1451849843, "question_id": 34573167, "link": "https://stackoverflow.com/questions/34573167/capitalize-all-letters-after-a-period-and-a-space", "title": "Capitalize all letters after a period and a space", "body": "<p>I am trying to capitalize all occurrences of small letters after a period and a space using Perl. This is an example of an input:</p>\n\n<pre><code>...so, that's our art. the 4 of us can now have a dialog. we can have a conversation. we can speak to...\n</code></pre>\n\n<p>This is the output I'd like to see:</p>\n\n<pre><code>...so, that's our art. The 4 of us can now have a dialog. We can have a conversation. We can speak to...    \n</code></pre>\n\n<p>I have tried multiple regexes without much success--for instance:</p>\n\n<pre><code>$currentLine =~ s/\\.\\s([a-z])/\\. \\u$1/g;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$currentLine =~ s/([\\.!?]\\s*)(\\w)/$1\\U$2/g;\n</code></pre>\n\n<p>But I don't get the intended result. Help please!</p>\n\n<h1>UPDATE</h1>\n\n<p>To provide context, as somebody pointed out, the problem may lie elsewhere. The regexes are used in the context of this little script which does a few things besides the step that originated this post. I run it on long SRT files obtained from video closed captions. Thanks again for your help.</p>\n\n<pre><code>#! perl\nuse strict;\nuse warnings;\n\nmy $filename = $ARGV[0];\n\nopen(INPUT_FILE, $filename)\n    or die \"Couldn't open $filename for reading!\";\nwhile (&lt;INPUT_FILE&gt;) {\n        my $currentLine = $_;   \n        # Remove empty lines and lines that start with digits\n        if ($currentLine =~ /^[\\s+|\\d+]/){\n            next;\n        }\n\n        # Remove all carriage returns\n        $currentLine =~ s/\\R$/ /;\n\n        # Convert all letters to lower case\n        $currentLine =~ s/([A-Z])/\\l$1/g;\n\n        # Capitalize after period &lt;= STEP THAT DOES NOT WORK\n        $currentLine =~ s/\\.\\s([a-z])/\\. \\u$1/g;        \n\n        print $currentLine;\n}\nclose(INPUT_FILE);\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "edited": false, "score": 0, "creation_date": 1451770952, "post_id": 34570483, "comment_id": 56886518, "body": "So instead of doing  my $line and $stringtoFind, I must do @line and @stringtoFind? Also just question is the .*/s at the end does indeed match every line which is something I do not want and I&#39;m trying to find an equivalent of this python code &quot;re.search(r&#39;\\:\\s[^^]+\\S&#39;, string, re.I|re.M)&quot; in perl. so the question is, is there a ^^ equivalent in perl as I cannot seem to find anything about it in the books?"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "edited": false, "score": 0, "creation_date": 1451771173, "post_id": 34570483, "comment_id": 56886580, "body": "No. That will not solve it. You need to read the files separate, and not read keyword-file inside the line of syslog-file.  The question about the regular expression should be asked in a separate question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1451785954, "post_id": 34570483, "comment_id": 56890139, "body": "You cannot read the empty string from a file. If there are no characters remaining then <code>&lt;&gt;</code> returns `undef"}, {"owner": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "edited": false, "score": 0, "creation_date": 1451854550, "post_id": 34570483, "comment_id": 56908095, "body": "Sorry, kinda new to stackoverflow, just accepted the answer just now and thanks again"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 4, "last_activity_date": 1451806399, "last_edit_date": 1451806399, "creation_date": 1451767009, "answer_id": 34570483, "question_id": 34570232, "link": "https://stackoverflow.com/questions/34570232/value-of-handle-construct-can-be-0-test-with-defined-at-perltestscript-pl/34570483#34570483", "title": "Value of &lt;HANDLE&gt; construct can be &quot;0&quot;; test with defined() at perltestscript.pl line 16", "body": "<p>The correct way to anchor a regular expression to the start of the line is to have <code>^</code> as the first character of the expression (that is after the first <code>/</code>). </p>\n\n<p><code>$stringtoFind =~ ( /^[a-zA-Z][a-zA-Z][a-zA-Z]\\s(\\d\\d)\\s(\\d\\d):(\\d\\d):(\\d\\d)\\s[a-zA-Z]*\\s($stringtoFind).*/s);</code></p>\n\n<p>This is also an error <code>if(my $stringtoFind =~&lt;$keywordInfo&gt;)</code>. <code>=~</code> is the pattern match operator. So this line does not make any sense, as it matches a string inside a newly created variable, and <code>&lt;&gt;</code> is reading line(s) from a filehandle, and should not be used like this.</p>\n\n<p><code>if (defined(my $stringtoFind = &lt;$keywordInfo&gt;))</code></p>\n\n<p>and the script compiles for me. </p>\n\n<p>The error you are getting is the test from the <code>&lt;$keywordInfo&gt;</code>. A line from a file can be <code>0</code>, which evaluates to <code>false</code> in perl. You should therefore test with <code>defined</code> when checking for <code>eof</code>.</p>\n\n<p>Your script will match every line of the syslog-file with the matching line in keyword-file, as you read one line from the keyword-file for every line in the syslog-file. So line 3 of syslog will be match with line 3 of keyword. If keyword-file has fewer lines, the line will not be matched at all. This is probably not what you want. You are better off reading all the lines in the keyword-file into an array before you start your loop, and then iterate over them for each line in the syslog-file. If you use something like <a href=\"https://metacpan.org/pod/Regexp::Assemble\" rel=\"nofollow\">Regexp::Assemble</a> you can even create a single regular expression to match the lines with, so you don't need to iterate.</p>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1451799171, "last_edit_date": 1451799171, "creation_date": 1451788495, "answer_id": 34572778, "question_id": 34570232, "link": "https://stackoverflow.com/questions/34570232/value-of-handle-construct-can-be-0-test-with-defined-at-perltestscript-pl/34572778#34572778", "title": "Value of &lt;HANDLE&gt; construct can be &quot;0&quot;; test with defined() at perltestscript.pl line 16", "body": "<blockquote>\n  <p>I'm trying to find an equivalent in perl of this python code:</p>\n\n<pre><code>re.search(r'\\:\\s[^^]+\\S', string, re.I|re.M)\n</code></pre>\n</blockquote>\n\n<p>Then it might be enlightening to understand what the python code does:</p>\n\n<pre><code>import re\n\ntest_strs = [\n    \": abc^ X\",\n    \"\\: abc^ X\",\n]\n\nfor test_str in test_strs:\n    if re.match(r'\\:\\s[^^]+\\S', test_str):\n        print(test_str)\n\n--output:--\n: abc^ X\n</code></pre>\n\n<p>Things to note:</p>\n\n<ol>\n<li><p>In regexes, the <code>:</code> is not a special character so it does not need to be escaped, therefore the <code>\\:</code> in the regex is equivalent to just <code>:</code>.</p></li>\n<li><p>The case insensitive search, <code>re.I</code>, has no effect because the regex does not specify any upper or lower case letters.</p></li>\n<li><p>The multiline flag, <code>re.M</code>, has no effect because the regex does not try to use <code>^</code> or <code>$</code> to match the beginning or end of a string.  </p></li>\n</ol>\n\n<p>As a result, the regex can be reduced to this:</p>\n\n<pre><code>re.search(r':\\s[^^]+\\S', string)\n</code></pre>\n\n<p>And that regex is the same in perl:</p>\n\n<pre><code>string =~ /:\\s[^^]+\\S/\n</code></pre>\n\n<p>If you wanted to add the flags that have no effect, you could write:</p>\n\n<pre><code>string =~ /:\\s[^^]+\\S/im\n</code></pre>\n\n<blockquote>\n  <p>so the question is, is there a ^^ equivalent in perl as I cannot seem\n  to find anything about it in the books?  </p>\n</blockquote>\n\n<p>The following portion of the regex:</p>\n\n<pre><code>[^^]+\n</code></pre>\n\n<p>reads like this:</p>\n\n<pre><code>[  ]  =&gt; This is known as a 'character class', and it means: match\n         a single character if it is one of the characters listed \n         inside the brackets\n\n[^ ]  =&gt; A 'negated character class'.  Match a single character if it \n         is not one of the characters listed inside the brackets\n\n[^^]  =&gt; What are the characters inside  the 'negated character\n         class' [^  ]?  That's simply (the second) ^, so the\n         whole thing means: match any single character that \n         is not a ^.\n\n[^^]+  =&gt; Match a single character that is not a ^, one or more times\n</code></pre>\n\n<p>Because the <code>^</code> character does not appear in your logfile, that part of the regex effectively means: match any character, one or more times.</p>\n"}], "owner": {"reputation": 41, "user_id": 5738939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b9e1734a5f630256ff511366401e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shiena", "link": "https://stackoverflow.com/users/5738939/shiena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1456, "favorite_count": 0, "accepted_answer_id": 34570483, "answer_count": 2, "score": 2, "last_activity_date": 1451806399, "creation_date": 1451765481, "last_edit_date": 1451791442, "question_id": 34570232, "link": "https://stackoverflow.com/questions/34570232/value-of-handle-construct-can-be-0-test-with-defined-at-perltestscript-pl", "title": "Value of &lt;HANDLE&gt; construct can be &quot;0&quot;; test with defined() at perltestscript.pl line 16", "body": "<p>My code looks like this. Does anyone know how I can test this error or why I am getting this? The problem is in line 16 which is the bracket above <code>chomp $stringtoFind</code>: in my code:</p>\n\n<pre><code>#!usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $syslogFile = 'syslog';\nopen (my $syslogInfo, '&lt;', $syslogFile) or die \"Could not open $syslogFile\";\n\nmy $keywordFile = 'keyword';\nopen (my $keywordInfo, '&lt;', $keywordFile) or die \"Could not open $keywordFile\";\n\n\nwhile (my $line = &lt;$syslogInfo&gt;)\n{\n    if(my $stringtoFind =~ &lt;$keywordInfo&gt;)\n    {   \n        chomp $stringtoFind;\n        #print \"$line\\n\";\n        $stringtoFind =~ ( ^/[a-zA-Z][a-zA-Z][a-zA-Z]\\s(\\d\\d)\\s(\\d\\d):(\\d\\d):(\\d\\d)\\s[a-zA-Z]*\\s($stringtoFind).*/s);\n        open(outputFile, \"&gt;&gt;output\");\n        flock(outputFile, 2);\n        print outputFile \"$line\\n\";\n    }\n}\n</code></pre>\n\n<p>Also another question. I don't know why but my code is outputting something very different that what I intended to find.</p>\n\n<p>In the syslog file I have:</p>\n\n<pre><code>Dec 27 21:17:52 osboxes rsyslogd: [origin software=\"rsyslogd\" swVersion=\"8.12.0\" x-pid=\"695\" x-info=\"http://www.rsyslog.com\"] rsyslogd was HUPed\nDec 27 21:18:05 osboxes anacron[634]: Job `cron.daily' terminated\nDec 27 21:18:05 osboxes anacron[634]: Normal exit (1 job run)\nDec 27 21:22:29 osboxes NetworkManager[686]: &lt;info&gt;    lease time 1800\nDec 27 21:22:29 osboxes NetworkManager[686]: &lt;info&gt;    domain name 'localdomain'\n</code></pre>\n\n<p>To which I only intended to output anything that contains NetworkManager in my keyword but instead outputs the ones that does not contain NetworkManager and it confuses me to why that is. Any help would be appreciated as of the current state as I am kinda new to Perl, I am stuck. </p>\n"}, {"tags": ["perl", "variables", "assign"], "comments": [{"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 2, "creation_date": 1451723452, "post_id": 34564015, "comment_id": 56871537, "body": "What you are looking for is a dictionary (called a &quot;hash&quot; in Perl). See <a href=\"http://stackoverflow.com/questions/19923585/how-to-parse-a-key-value-based-dictionary-using-perl\">this SO post</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1451729830, "post_id": 34564015, "comment_id": 56873022, "body": "<a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">perl.plover.com/varvarname.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "is_accepted": false, "score": 6, "last_activity_date": 1451723721, "creation_date": 1451723721, "answer_id": 34564061, "question_id": 34564015, "link": "https://stackoverflow.com/questions/34564015/how-can-i-assign-a-variables-content-to-a-variables-name-in-perl/34564061#34564061", "title": "How can I assign a variable&#39;s content to a variable&#39;s name in perl?", "body": "<p>There are ways to do this, but you really shouldn't. Use a hash instead. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $get = &lt;&gt;;\nchomp $get;\nmy %input;\n$input{$get} = \"something\"; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1451736266, "post_id": 34564084, "comment_id": 56874962, "body": "It would be more common to write your hash as a &#39;fat comma&#39; delimiter of <code>=&gt;</code>. Means the same thing, but makes the key-value pairings clearer."}, {"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451738591, "post_id": 34564084, "comment_id": 56875649, "body": "Well, I was hoping visitors would click the link, as the fat comma style is mentioned there. I wasn&#39;t aware it was more common though,"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451740583, "post_id": 34564084, "comment_id": 56876198, "body": "<i>&quot;Hashes are not arrays&quot;</i> why mention arrays in the first place?"}, {"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451740726, "post_id": 34564084, "comment_id": 56876237, "body": "@Borodin should I edit to say &quot;list&quot;? That&#39;s also a data type in some languages. Or perhaps &quot;group&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451746770, "post_id": 34564084, "comment_id": 56878199, "body": "@Arc676: Hmm. It&#39;s difficult to think in the mindset where hashes are alien! I personally <i>hate</i> the term &quot;associative array&quot; precisely for this reason, and because a standard array &quot;associates&quot; an index with a value so it&#39;s really no use at all. In the end I think the idea of a &quot;map&quot; or a &quot;table&quot; represents the idea best, And you can reference <a href=\"https://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow noreferrer\">Wikipedia&#39;s <i>hash table</i></a> entry to do the heavy lifting"}], "tags": [], "owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "is_accepted": true, "score": 4, "last_activity_date": 1451723915, "creation_date": 1451723915, "answer_id": 34564084, "question_id": 34564015, "link": "https://stackoverflow.com/questions/34564015/how-can-i-assign-a-variables-content-to-a-variables-name-in-perl/34564084#34564084", "title": "How can I assign a variable&#39;s content to a variable&#39;s name in perl?", "body": "<p>A \"hash\" (or \"dictionary\" in some other languages) is like* an array of key-value pairs. This achieves what you describe because you can assign a value to a variable without having a fixed identifier for that variable.</p>\n\n<p>*: Hashes are <em>not</em> arrays.</p>\n\n<p>See <a href=\"http://perl101.org/hashes.html\" rel=\"nofollow\">this tutorial on Perl101</a>. The following code snippets in this answer are taken from this site.</p>\n\n<p>You can create a hash using the following syntax:</p>\n\n<pre><code>my %stooges = (\n    'Moe', 'Howard',\n    'Larry', 'Fine',\n    'Curly', 'Howard',\n    'Iggy', 'Pop',\n);\n</code></pre>\n\n<p>Access and modify <em>values</em> using <code>{}</code>. You can use this syntax to <em>add new values</em> too.</p>\n\n<pre><code>print $stooges{'Iggy'}; #get existing\n$stooges{'Iggy'} = 'Ignatowski'; #Overwrite\n$stooges{'Shemp'} = 'Howard'; #Set new\n</code></pre>\n\n<p>You can delete key-value pairs using the <code>delete</code> function.</p>\n\n<pre><code>delete $stooges{'Curly'};\n</code></pre>\n\n<p>You can get a list of values or keys using the same (key)words:</p>\n\n<pre><code>my @stooge_first_names = keys %stooges;\nmy @stooge_last_names = values %stooges;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4990047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cafe53709790d49194e4802bea05311?s=128&d=identicon&r=PG&f=1", "display_name": "S0m3oN3", "link": "https://stackoverflow.com/users/4990047/s0m3on3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1451728554, "accepted_answer_id": 34564084, "answer_count": 2, "score": 1, "last_activity_date": 1451723915, "creation_date": 1451723205, "question_id": 34564015, "link": "https://stackoverflow.com/questions/34564015/how-can-i-assign-a-variables-content-to-a-variables-name-in-perl", "closed_reason": "Duplicate", "title": "How can I assign a variable&#39;s content to a variable&#39;s name in perl?", "body": "<p>For example</p>\n\n<pre><code>$get = &lt;&gt;;\nchomp($get);\n$$get = \"something\";\n</code></pre>\n\n<p>if user inputted name for $get\nI want to assign \"something\" to $name</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 2, "creation_date": 1451710007, "post_id": 34562560, "comment_id": 56869067, "body": "Your regex doesn&#39;t look correct at all. For starters, the first element is for one and only one alphabetical character. I would recommend running your regex through an online tester to make sure it works, such as <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1451710260, "post_id": 34562560, "comment_id": 56869116, "body": "<code>$keywordInfo</code> is a filehandle... but the rest of your regex is bonkers as well."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1451710342, "post_id": 34562560, "comment_id": 56869127, "body": "Also look <a href=\"https://stackoverflow.com/questions/7536755/regular-expression-for-matching-hhmm-time-format\">here</a> to see a regex to check times."}, {"owner": {"reputation": 25, "user_id": 4730646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b49580a927cab03f99bf90367e4a96a?s=128&d=identicon&r=PG&f=1", "display_name": "TheNoob", "link": "https://stackoverflow.com/users/4730646/thenoob"}, "reply_to_user": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1451711878, "post_id": 34562560, "comment_id": 56869334, "body": "@AntonH Thank you very much for that website helped a lot! But another question though since I cannot find it in the book. How do you add a textfile or string into the regex?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451712078, "post_id": 34562560, "comment_id": 56869371, "body": "Your shebang line is missing a slash. Should be <code>#!&#47;usr&#47;bin&#47;perl</code>"}, {"owner": {"reputation": 25, "user_id": 4730646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b49580a927cab03f99bf90367e4a96a?s=128&d=identicon&r=PG&f=1", "display_name": "TheNoob", "link": "https://stackoverflow.com/users/4730646/thenoob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451712496, "post_id": 34562560, "comment_id": 56869445, "body": "@Borodin Thanks for the heads up"}, {"owner": {"reputation": 25, "user_id": 4730646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b49580a927cab03f99bf90367e4a96a?s=128&d=identicon&r=PG&f=1", "display_name": "TheNoob", "link": "https://stackoverflow.com/users/4730646/thenoob"}, "edited": false, "score": 0, "creation_date": 1451712728, "post_id": 34562560, "comment_id": 56869479, "body": "Ok i fixed my regex by doing this:    /^[a-zA-Z][a-zA-Z][a-zA-Z]\\s(\\d\\d)\\s(\\d\\d):(\\d\\d):(\\d\\d)\\s[a&zwnj;&#8203;-zA-Z]*\\sNetworkMana&zwnj;&#8203;ger.*/s   But it still doesn&#39;t seem to output anything nor give me any error . (PS. I placed NetworkManager as a test to see if there&#39;s an output)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1451775593, "post_id": 34562560, "comment_id": 56887929, "body": "What&#39;s <code>2</code>? Exclusive lock? Use <code>LOCK_EX</code> exported from Fcntl instead."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 4730646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b49580a927cab03f99bf90367e4a96a?s=128&d=identicon&r=PG&f=1", "display_name": "TheNoob", "link": "https://stackoverflow.com/users/4730646/thenoob"}, "edited": false, "score": 0, "creation_date": 1451723693, "post_id": 34563425, "comment_id": 56871581, "body": "Oh that helped a lot. Got it working now thank you very much Dave!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1451745616, "last_edit_date": 1451745616, "creation_date": 1451717453, "answer_id": 34563425, "question_id": 34562560, "link": "https://stackoverflow.com/questions/34562560/used-strict-and-warning-but-still-no-error-messages-when-there-is-supposed-to-be/34563425#34563425", "title": "Used strict and warning but still no error messages when there is supposed to be a mistake somewhere", "body": "<p>You include <code>$keywordInfo</code> in your regex. But <code>$keywordInfo</code> is a filehandle, which means that, when stringified, it will look like \"GLOB(0x1819f30)\". I suspect that's not the string that you're looking for.</p>\n\n<p>You know how to read data from a filehandle. You're doing that with your other filehandle, <code>$syslogInfo</code>. So you just need to do that with this filehandle too. Something like this:</p>\n\n<pre><code>my $string_to_find = &lt;$keywordInfo&gt;;\nchomp $string_to_find;\n\n# Now use $string_to_find in your regex.\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4730646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b49580a927cab03f99bf90367e4a96a?s=128&d=identicon&r=PG&f=1", "display_name": "TheNoob", "link": "https://stackoverflow.com/users/4730646/thenoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 34563425, "answer_count": 1, "score": 1, "last_activity_date": 1451745616, "creation_date": 1451708402, "last_edit_date": 1451709350, "question_id": 34562560, "link": "https://stackoverflow.com/questions/34562560/used-strict-and-warning-but-still-no-error-messages-when-there-is-supposed-to-be", "title": "Used strict and warning but still no error messages when there is supposed to be a mistake somewhere", "body": "<p>I have a program that basically opens and reads the syslog in ubuntu and use a keyword text file to search for specific words in the syslog and have that to be outputted into an output text file. Problem is, it was all going well until I can't seem to get any errors anymore which doesn't really help me as there is a mistake somewhere which makes me not see any output at all. I ran my regex using a perl online testing tool and it works but doesnt seem so when I try to run it on the terminal. I would be glad if someone could help me with this.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!usr/bin/perl\n\nuse strict;  \nuse warnings;\n\nmy $syslogFile = 'syslog';\nopen (my $syslogInfo, '&lt;', $syslogFile) or die \"Could not open $syslogFile\";\n\nmy $keywordFile = 'keyword';\nopen (my $keywordInfo, '&lt;', $keywordFile) or die \"Could not open $keywordFile\";\n\nwhile (my $line = &lt;$syslogInfo&gt;)\n{\n\n    if($line =~ m/[a-zA-Z]\\s(\\d{1-31})\\s(\\d{1-24}):(\\d{1-59}):(\\d{1-59})\\s[a-zA-Z]\\s($keywordInfo).\\ni/)\n    {\n        open(outputFile, \"&gt;&gt;output\");\n\n        flock(outputFile, 2);\n\n        print outputFile \"$line\\n\";\n    }\n}\n</code></pre>\n\n<p>Edit: Here is a sample of what is in the syslog</p>\n\n<p>Dec 29 22:02:28 osboxes NetworkManager[686]:     plen 24 (255.255.255.0)</p>\n"}, {"tags": ["bash", "perl", "shell"], "owner": {"reputation": 329, "user_id": 3989978, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/c1f202764ac43cbce2910a14aa4204f1?s=128&d=identicon&r=PG&f=1", "display_name": "Zii", "link": "https://stackoverflow.com/users/3989978/zii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "closed_date": 1451706194, "answer_count": 0, "score": 2, "last_activity_date": 1451703483, "creation_date": 1451703483, "question_id": 34562159, "link": "https://stackoverflow.com/questions/34562159/can-we-use-bash-here-document-to-run-perl-script", "closed_reason": "Duplicate", "title": "Can we use bash here document to run perl script?", "body": "<p>I run the below perl script as a bash here document. My intention is that a variable is read from STDIN, then the arithmetic calculation is done and then printed.</p>\n\n<p>However, the program is finished at once without waiting for input from STDIN.</p>\n\n<p>A warning \"Use of uninitialized value $input in multiplication (*) at - line 6.\"  is printed out before the 2 strings in line 4 and line 6 are printed. Note that no prompt exists to read the STDIN.</p>\n\n<p>Why would this happen?\nI would like to combine the here document in bash and the perl script, so the perl script with very few lines can be run in the shell without bothering to write a script file. \n(I know perl -e option is an alternative, but I just wonder why my method doesn't work.)</p>\n\n<pre><code>bash-4.1$ bash\nbash-4.1$ perl &lt;&lt;'EOF'\n&gt; use strict;\n&gt; use warnings;\n&gt; my $input;\n&gt; print \"Please enter a number:\";\n&gt; $input=&lt;STDIN&gt;;\n&gt; print 2+2*3.141592654*$input.\"\\n\";\n&gt; EOF\nUse of uninitialized value $input in multiplication (*) at - line 6.\nPlease enter a number:2\nbash-4.1$ \n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1451687459, "post_id": 34560660, "comment_id": 56864936, "body": "Because the value of <code>$hash{third}</code> is not a hashref, so <code>%{$hash{third}}</code> is throwing an error. You can use <code>if (ref $hash{$line} eq &quot;HASH&quot;) ...</code>"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1451687660, "last_edit_date": 1451687660, "creation_date": 1451687468, "answer_id": 34560695, "question_id": 34560660, "link": "https://stackoverflow.com/questions/34560660/try-to-print-mixed-hash-element-in-perl/34560695#34560695", "title": "try to print mixed hash element in perl", "body": "<p>You can't dereference a string (<code>$hash{third}</code>, i.e. <code>word</code>). You can test whether a particular scalar is a reference or not using <code>ref</code>:</p>\n\n<pre><code>for my $line (keys %hash) {\n    print \"$line: \\n\";\n    if ('HASH' eq ref $hash{$line}) {\n        for my $elem (keys %{ $hash{$line} }) {\n            print \"  $elem: $hash{$line}{$elem}\\n\";\n        }\n    } else {\n        print \"  $hash{$line}\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5736873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7caa7ed7bc31581efcd6e0ee92e03da?s=128&d=identicon&r=PG&f=1", "display_name": "OneMoon", "link": "https://stackoverflow.com/users/5736873/onemoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 34560695, "answer_count": 1, "score": 3, "last_activity_date": 1451687660, "creation_date": 1451687129, "question_id": 34560660, "link": "https://stackoverflow.com/questions/34560660/try-to-print-mixed-hash-element-in-perl", "title": "try to print mixed hash element in perl", "body": "<p>I try to print hash key and value in tree form. my perl code is given below.</p>\n\n<pre><code>use strict ;\nuse warnings ;\nmy %hash = (\n    first =&gt; {\n            a =&gt; \"one\",\n            b =&gt; \"two\",\n            c =&gt; \"three\",\n    },\n    second =&gt; {\n            d =&gt; \"four\",\n            e =&gt; \"five\",\n            f =&gt; \"six\",\n    },\n    third =&gt; \"word\",\n);\n\nforeach my $line (keys %hash) {\n    print \"$line: \\n\";\n    foreach my $elem (keys %{$hash{$line}}) {\n        print \"  $elem: \" . $hash{$line}-&gt;{$elem} . \"\\n\";\n    }\n}\n</code></pre>\n\n<p>output error message:\nsecond:\n  d: four\n  f: six\n  e: five\nthird:\nCan't use string (\"word\") as a HASH ref while \"strict refs\" in use at C:\\Users\\Dell\\Music\\PerlPrac\\pracHash\\hshofhsh_net.pl line 19.</p>\n\n<p>here, under third key value not print. how can i do it?</p>\n"}, {"tags": ["perl", "unit-testing", "moose", "subtype", "test-more"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1451686212, "post_id": 34559130, "comment_id": 56864627, "body": "Welcome to Stack Overflow and to the Perl tag. This is a very good first question! I&#39;m looking forward to more. :)"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1451686425, "post_id": 34560105, "comment_id": 56864692, "body": "Actually the <code>{}</code> part of the <code>qr</code> is not the problem. The single quotes inside of the expression are. <code>qr(foo)</code> or <code>qr&#39;foo&#39;</code> both would be perfectly fine, as would <code>qr&#47;foo&#47;</code>."}, {"owner": {"reputation": 23, "user_id": 5736550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fpTd6.jpg?s=128&g=1", "display_name": "Ralf Muschall", "link": "https://stackoverflow.com/users/5736550/ralf-muschall"}, "edited": false, "score": 0, "creation_date": 1451755991, "post_id": 34560105, "comment_id": 56881576, "body": "I had <code>use strict</code> on my PC (I always use a template with that and more), just minimized it away here (and then the <code>Moose::Exception::vali...</code> thing requires quotes too).  Test::Exception was missing because I had compiled a more recent perl to use Marpa.  Now all is fine, both answers work."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 2, "last_activity_date": 1451692081, "last_edit_date": 1451692081, "creation_date": 1451682733, "answer_id": 34560105, "question_id": 34559130, "link": "https://stackoverflow.com/questions/34559130/how-do-i-test-moose-subtype-error-messages/34560105#34560105", "title": "How do I test Moose subtype error messages?", "body": "<p>Please <code>use strict</code> before you post on StackOverflow. You have not included <code>use Test::Exception;</code> so you don't have <code>throws_ok</code>. If you include that your code almost works.</p>\n\n<p>This works:</p>\n\n<pre><code>throws_ok { $testdoc-&gt;fax('123,456') }\n    Moose::Exception::ValidationFailedForInlineTypeConstraint,\n    'fax shall reject bad numbers';\n</code></pre>\n\n<p>Also your definition of the regular expression pattern is wrong. It tries to match quotes which don't exist.</p>\n\n<pre><code>throws_ok { $testdoc-&gt;fax('123,456') }\n    qr(A Phone_nr must be blabla),\n    'fax shall reject bad numbers';\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5736550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fpTd6.jpg?s=128&g=1", "display_name": "Ralf Muschall", "link": "https://stackoverflow.com/users/5736550/ralf-muschall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 34560105, "answer_count": 1, "score": 2, "last_activity_date": 1451692081, "creation_date": 1451675224, "question_id": 34559130, "link": "https://stackoverflow.com/questions/34559130/how-do-i-test-moose-subtype-error-messages", "title": "How do I test Moose subtype error messages?", "body": "<p>I use Moose subtypes for attributes and want to test (Test::More) their correct handling of constraint-violating input.  Currently Mooses's internal error handling makes my testfile stop completely when it sees the invalid data.</p>\n\n<p>Module source (minimized for stackoverflow.com):</p>\n\n<pre><code>package Doctor;\nuse Moose;\nuse Moose::Util::TypeConstraints;\nsubtype 'Phone_nr_t'\n   =&gt; as 'Str'\n   =&gt; where { $_ =~ /^\\+?[0-9 ]+$/ }\n   =&gt; message { 'A Phone_nr must be blabla' };\nhas 'fax' =&gt; (is =&gt; 'rw', isa =&gt; 'Phone_nr_t');\n</code></pre>\n\n<p>Test source:</p>\n\n<pre><code>use Test::More tests=&gt;1;\nuse Doctor;\n\nmy $testdoc=Doctor-&gt;new(fax=&gt;'0341 2345678');\nthrows_ok { $testdoc-&gt;fax('123,456') }\n    qr('A Phone_nr must be blabla'),\n    'fax shall reject bad numbers';\n</code></pre>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "edited": false, "score": 3, "creation_date": 1451599793, "post_id": 34552000, "comment_id": 56846478, "body": "Regex / regular expression"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1451599831, "post_id": 34552000, "comment_id": 56846492, "body": "In <code>&#47;foo&#47;</code>, <code>foo</code> is a regex. Thus, being inside of <code>&#47;&#47;</code>, your <code>[Cc]</code> is regex syntax."}, {"owner": {"reputation": 8699, "user_id": 1726083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757452f7cd7ba2347c667ef9298ceadb?s=128&d=identicon&r=PG", "display_name": "Daniel Farrell", "link": "https://stackoverflow.com/users/1726083/daniel-farrell"}, "edited": false, "score": 1, "creation_date": 1451599862, "post_id": 34552000, "comment_id": 56846504, "body": "Just standard regex there, nothing perl specific.  That&#39;s not even PCRE or extended, that&#39;s valid regular expression in any flavor.  [] brackets match any character they enclosed."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1451599892, "post_id": 34552000, "comment_id": 56846513, "body": "...and, well, the <code>=~</code> operator, which you&#39;re already using, is equivalent to Python&#39;s <code>re.search()</code>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1451599968, "post_id": 34552000, "comment_id": 56846521, "body": "(I happen to consider building regular expressions into syntax rather than keeping them in the library a sin, but... well, it&#39;s Perl; if Larry had cared about what anyone else considered good practices in language design, it <i>wouldn&#39;t be</i> Perl.)"}, {"owner": {"reputation": 1477, "user_id": 3908710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff12a3f70e9c9ef63fd94970aa52ba69?s=128&d=identicon&r=PG&f=1", "display_name": "skyler", "link": "https://stackoverflow.com/users/3908710/skyler"}, "edited": false, "score": 1, "creation_date": 1451603630, "post_id": 34552000, "comment_id": 56847228, "body": "Charles Duffy, could you explain why you consider this such bad design?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1451644527, "post_id": 34552000, "comment_id": 56853475, "body": "@CharlesDuffy: <i>Reductio ad absurdum</i> says that, if regular expressions are to be kept in a library then so also should all string, numeric, and boolean operations. I use regex patterns far more often than <code>*</code>, <code>**</code>, <code>^</code>, <code>&lt;&lt;</code>, <code>xor</code>, and (bitwise) <code>&amp;</code> etc. so, if you consider that to be a criterion, then there are many other parts of the language that should be jettisoned first. I would guess that you&#39;re one of the group who  say <i>There&#39;s More Than One Way To Do It</i> is also a sin, and there should be exactly one correct solution to everything?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451667995, "post_id": 34552000, "comment_id": 56859462, "body": "@Borodin, ideally, yes, your string, numeric, boolean, and logic operations are also functions. Making <code>&amp;&amp;</code> and <code>||</code> functions while preserving short-circuiting behavior can be done as well, if one has macros. I&#39;m a LISPer -- we&#39;re purists. :)"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451668133, "post_id": 34552000, "comment_id": 56859501, "body": "@Borodin, ...and yes, I do also hold that TIMTOWTDI is the precise opposite of a reasonable guideline. If everyone has their own personal style, you end up in a world where people know the half of the language they personally use, and can&#39;t read other peoples&#39; code without stopping and puzzling."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 1477, "user_id": 3908710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff12a3f70e9c9ef63fd94970aa52ba69?s=128&d=identicon&r=PG&f=1", "display_name": "skyler", "link": "https://stackoverflow.com/users/3908710/skyler"}, "edited": false, "score": 0, "creation_date": 1451668312, "post_id": 34552000, "comment_id": 56859548, "body": "@skyler, because syntax provides a namespace that has critical characteristics not shared by anything else. (1) - If you don&#39;t know the core syntax, and how the various forms interact with each other, you don&#39;t know the language. (2) - Core syntax cannot be changed without breaking backwards compatibility. (3) - Core syntax cannot be selected between or versioned. Given those three axioms, the reasons for keeping core syntax as small as possible should be obvious on their face."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 1477, "user_id": 3908710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff12a3f70e9c9ef63fd94970aa52ba69?s=128&d=identicon&r=PG&f=1", "display_name": "skyler", "link": "https://stackoverflow.com/users/3908710/skyler"}, "edited": false, "score": 0, "creation_date": 1451668404, "post_id": 34552000, "comment_id": 56859589, "body": "@skyler, ...put regexes in a library, and someone can decide whether they want full PCREs with powerful constructs and potential backtracking, or a Thompson NFA implementation with constant-time performance guarantees; and the folks publishing the Thompson NFA implementation have full parity with the PCRE one. Elevate one version into syntax, and the decision on which to use if any is no longer orthogonal to the language itself."}, {"owner": {"reputation": 1477, "user_id": 3908710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff12a3f70e9c9ef63fd94970aa52ba69?s=128&d=identicon&r=PG&f=1", "display_name": "skyler", "link": "https://stackoverflow.com/users/3908710/skyler"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1451674057, "post_id": 34552000, "comment_id": 56861399, "body": "@CharlesDuffy, Thanks for the response, that makes a lot of sense!"}], "answers": [{"tags": [], "owner": {"reputation": 1477, "user_id": 3908710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff12a3f70e9c9ef63fd94970aa52ba69?s=128&d=identicon&r=PG&f=1", "display_name": "skyler", "link": "https://stackoverflow.com/users/3908710/skyler"}, "is_accepted": false, "score": 7, "last_activity_date": 1451659338, "last_edit_date": 1451659338, "creation_date": 1451603407, "answer_id": 34552314, "question_id": 34552000, "link": "https://stackoverflow.com/questions/34552000/what-is-ccat-in-perl/34552314#34552314", "title": "What is /[Cc]at/ in perl?", "body": "<p>Bracketed groups of characters are called <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow\"><strong>character classes</strong></a> or <strong>character sets</strong>.</p>\n\n<p>Regular expressions have a <a href=\"https://en.wikipedia.org/wiki/Regular_expression#Formal_definition\" rel=\"nofollow\">simple formal definition</a> with just a few operations. One of these operations is <a href=\"https://en.wikipedia.org/wiki/Alternation_%28formal_language_theory%29\" rel=\"nofollow\"><strong>alternation</strong></a>. Alternations allow you to match against the union of two sets of strings. Character sets are syntax for an alternation over a group of single character strings. More commonly when we talk about <a href=\"http://www.regular-expressions.info/alternation.html\" rel=\"nofollow\">alternations in regular expressions</a> we are referring to the use of the vertical bar <code>|</code> which matches the union of the expressions on either side of the bar.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1451643911, "creation_date": 1451643911, "answer_id": 34555335, "question_id": 34552000, "link": "https://stackoverflow.com/questions/34552000/what-is-ccat-in-perl/34555335#34555335", "title": "What is /[Cc]at/ in perl?", "body": "<p>I don't really understand the close votes, but you've made the mistake of asking more than one question!</p>\n\n<p>It's hard to know what's tripping you up, but this may help</p>\n\n<p>The pattern <code>/[Cc]at/</code> as a whole is a <em>regular expression</em>, <em>regexp</em> or <em>regex</em>, while the particular component <code>[Cc]</code> is called a <em>character class</em>, which matches any of a set of characters; in this case an upper or lower-case C character. It's documented in the Python documentation for <a href=\"https://docs.python.org/2/library/re.html#regular-expression-syntax\" rel=\"nofollow\">Regular Expression Syntax</a>, which calls it just a \"set of characters\", and speaks about things like <code>\\d</code> (numeric digits) and <code>\\w</code> (\"word\" characters) as character classes. In Perl, the square-bracket construct is also a character class</p>\n\n<p>The documentation for <a href=\"https://docs.python.org/2/library/re.html#search-vs-match\" rel=\"nofollow\"><code>re.search</code></a> on the same page is fairly simple, and you seem to have used its Perl equivalent in your code so I don't understand the problem you're having</p>\n\n<p>In Python, </p>\n\n<pre><code>object = re.search(pattern, string)\n</code></pre>\n\n<p>checks for the occurrence of <em>pattern</em> anywhere in <em>string</em> and sets <code>object</code> to a <a href=\"https://docs.python.org/2/library/re.html#match-objects\" rel=\"nofollow\"><em>match object</em></a> if one is found, or <code>None</code> otherwise</p>\n\n<p>This is the same in Perl as using the <em>binding operator</em> <code>=~</code> like this</p>\n\n<pre><code>my $result = $string =~ /pattern/\n</code></pre>\n\n<p>which sets <code>$result</code> to a <em>true</em> value if a match was found, or <em>false</em> otherwise</p>\n\n<p>Take a look at the Python documentation for <a href=\"https://docs.python.org/2/library/re.html#search-vs-match\" rel=\"nofollow\">search() vs. match()</a></p>\n\n<p><code>re.match</code> is identical to <code>re.search</code>, except that the match must occur at the very start of the string</p>\n"}], "owner": {"reputation": 43, "user_id": 5551284, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/293c7c68d73b75f2b59eaa44174be2fe?s=128&d=identicon&r=PG&f=1", "display_name": "DBaculio", "link": "https://stackoverflow.com/users/5551284/dbaculio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1451659338, "creation_date": 1451599721, "last_edit_date": 1451599860, "question_id": 34552000, "link": "https://stackoverflow.com/questions/34552000/what-is-ccat-in-perl", "title": "What is /[Cc]at/ in perl?", "body": "<p>Could anyone tell me what the [Cc] in this code is called? I know what it does but I have no idea what it is called.</p>\n\n<pre><code>#!/usr/bin/perl\n\n$sentence = \"Big cat sat.\";\n$sentence =~ /[Cc]at/;\n\nprint \"$`, $&amp;, $'\\n\"; #prints Big, cat, sat.\n</code></pre>\n\n<p>Also does anyone know what is the perl equivalent of python 2.7's re.search? All I keep finding is something about python's replace being mutable and does not really say anything about search.</p>\n"}, {"tags": ["perl", "hashmap", "perl-data-structures"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1451597317, "post_id": 34551662, "comment_id": 56845837, "body": "when running the above code I get output a 5x4 matrix of integers.. is this expected?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1451597715, "post_id": 34551662, "comment_id": 56845960, "body": "We can&#39;t help unless you also include desired output, and ideally an explanation of how that&#39;s generated. &quot;extra&quot; keys is usually the result of scoping problems."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1451597825, "post_id": 34551662, "comment_id": 56846000, "body": "&quot;<i>yet sometimes when I run the code (no changes made at all), I get &quot;extra&quot; keys</i>&quot; I immediately notice you have a call to <code>rand</code> in your code which will be different every run. Also, you make a lot of loops through <code>keys %hash</code>. Perl hash order is unpredictable from process to process, each time you run the code <code>keys</code> will return the keys in a different order.  Any or all of these could be your problem."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1451598138, "post_id": 34551662, "comment_id": 56846084, "body": "<code>while((keys %HoA)&lt;$PolymerSize-1)</code> doesn&#39;t limit <code>keys %HoA</code> to <code>$PolymerSize</code>, it just stops the loop if <code>keys %HoA</code> is <code>$PolymerSize</code> <b><i>or greater</i></b>. There&#39;s nothing stopping the code from adding more than <code>$PolymerSize</code> keys in a single step of the loop.  I&#39;d spend your time thinking about the <code>foreach $element (keys %dist)</code> loop which adds potentially many keys to <code>%HoA</code> in a single step."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1451641806, "post_id": 34551662, "comment_id": 56852917, "body": "It&#39;s unclear what you mean. If I run your code 10,000 times, I get a <code>%HoA</code> with five elements <i>every</i> time. Could you explain yourself better please?"}, {"owner": {"reputation": 61, "user_id": 4305425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ae30ccff5351aff69e7aa7c7f14018?s=128&d=identicon&r=PG&f=1", "display_name": "Hobbes", "link": "https://stackoverflow.com/users/4305425/hobbes"}, "edited": false, "score": 0, "creation_date": 1451663068, "post_id": 34551662, "comment_id": 56858097, "body": "Schwern, could you clarify a little more on your comment regarding the foreach $element (keys %dist), I am not sure where you are seeing that the foreach loop could potentially add many keys."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451670401, "post_id": 34551662, "comment_id": 56860204, "body": "@Hobbes: I assume what Schwern means is that that loop will be executed as many times as there are elements in <code>%dist</code>, and an element may be added to <code>%HoA</code> each time around the loop. That means the number of elements in <code>%HoA</code> may jump by more than one in a single iteration of the <code>do ... while</code> loop"}, {"owner": {"reputation": 61, "user_id": 4305425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ae30ccff5351aff69e7aa7c7f14018?s=128&d=identicon&r=PG&f=1", "display_name": "Hobbes", "link": "https://stackoverflow.com/users/4305425/hobbes"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451921445, "post_id": 34551662, "comment_id": 56934168, "body": "@Borodin Thank you, I see it now. I&#39;ll see if I can&#39;t fix it and post my answer below for future reference to others."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451924184, "post_id": 34551662, "comment_id": 56935845, "body": "@Hobbes: There is still the problem that no one has been able to reproduce the error you&#39;re getting. As I said, I ran your code 10,000 times and the result was a five-element hash every time."}], "answers": [{"tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": false, "score": -1, "last_activity_date": 1453422208, "last_edit_date": 1453422208, "creation_date": 1451754859, "answer_id": 34568479, "question_id": 34551662, "link": "https://stackoverflow.com/questions/34551662/perl-do-while-loop-over-number-of-keys-in-a-growing-hash-of-arrays-produces/34568479#34568479", "title": "Perl: do-while loop over number of keys in a &quot;growing&quot; Hash of Arrays produces &quot;extra&quot; output", "body": "<p>A simple modification will do it</p>\n\n<p>Make sure hash size is 6</p>\n\n<pre><code>        my $newKey=scalar (keys %HoA);\n        print \"newKey&lt;$newKey&gt;\\n\";\n        if($newKey !=($PolymerSize-1)){\n        # changed to\n        if($newKey &lt;=($PolymerSize-1)){\n</code></pre>\n\n<p>make sure hash is size of 6</p>\n\n<pre><code>} while((keys %HoA)&lt;$PolymerSize-1);\n#change to\n} while((keys %HoA)&lt;=$PolymerSize-1);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 4305425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ae30ccff5351aff69e7aa7c7f14018?s=128&d=identicon&r=PG&f=1", "display_name": "Hobbes", "link": "https://stackoverflow.com/users/4305425/hobbes"}, "is_accepted": true, "score": 0, "last_activity_date": 1452004488, "creation_date": 1452004488, "answer_id": 34614195, "question_id": 34551662, "link": "https://stackoverflow.com/questions/34551662/perl-do-while-loop-over-number-of-keys-in-a-growing-hash-of-arrays-produces/34614195#34614195", "title": "Perl: do-while loop over number of keys in a &quot;growing&quot; Hash of Arrays produces &quot;extra&quot; output", "body": "<p>Following the advice of @Schwern I went back and looked at the </p>\n\n<pre><code>foreach $element (keys %dist){ ...\n</code></pre>\n\n<p>loop and realized that indeed what was happening was that even after deleting all of keys that coincide with non-one values in the %dist hash, I could have more than 1 member in the %dist hash. A simple fix was then to add a \"last\"</p>\n\n<pre><code>foreach $element (keys %dist){\n    $HoA{$element}[3]++;\n    my $newKey=scalar (keys %HoA);\n    if($newKey!=($PolymerSize-1)){\n        push @{$HoA{$newKey}}, $coordsNeighbors[0];\n        push @{$HoA{$newKey}}, $coordsNeighbors[1];\n        push @{$HoA{$newKey}}, $coordsNeighbors[2];\n        push @{$HoA{$newKey}}, $coordsNeighbors[3]+1;\n        push @{$BondHoA{$element}}, \"$newKey\";\n        push @{$BondHoA{$newKey}}, \"$element\";\n       #here I add a last to break out and go to the next do-while iter.\n        last\n    }\n</code></pre>\n\n<p>And then add to the top of the do-while loop a call to undef(%dist), to clear it for use again.</p>\n\n<p>Also after fixing this bug I went back and cleaned-up most of the code, and it is now provided below for those interested:</p>\n\n<pre><code>#!/usr/bin/perl;\nuse strict;\nuse warnings;\nuse Data::Dumper;\nmy $PolymerSize=8;\nmy $maxNeighbors=3; #each monomer/node can bond upto 3 times\nmy %HoA; #Store coordinates and number of neighbors for each monomer/node (in C would be an array of structs)\nmy %BondHoA; #who are my neighbors\nmy @coordsNeighbors;\nmy $element; #Iteration dummy variable\nmy %dist; #temporary distance hash\nmy $selected;\n$coordsNeighbors[0]=0; #Xcoord\n$coordsNeighbors[1]=0; #YCoord\n$coordsNeighbors[2]=0; #ZCoord\n$coordsNeighbors[3]=$maxNeighbors; #How many bonded neighbors?\nmy $tempx;\nmy $tempy;\nmy $tempz;\nmy $tempL1;\n#Intialize origin (first node/monomer)\npush @{$HoA{0}}, $coordsNeighbors[0];\npush @{$HoA{0}}, $coordsNeighbors[1];\npush @{$HoA{0}}, $coordsNeighbors[2];\npush @{$HoA{0}}, $coordsNeighbors[3];\nmy $iter=0;\n#Generate new nodes/monomer and \"grow\" polymer\ndo{\n #print \"$iter\\n\";\n # $iter++;\n  undef(%dist);\n        for(my $j=0;$j&lt;3;$j++){\n             $coordsNeighbors[$j]=int($PolymerSize*rand()); #generate coords of potent. monomers/node\n         }\n             $coordsNeighbors[3]=$maxNeighbors;\n        foreach $element ( keys %HoA) { #loop through existing monomers/nodes\n                $tempx=int($HoA{$element}[0])-int($coordsNeighbors[0]);\n                $tempy=int($HoA{$element}[1])-int($coordsNeighbors[1]);\n                $tempz=int($HoA{$element}[2])-int($coordsNeighbors[2]);\n                $tempL1=abs($tempx)+abs($tempy)+abs($tempz);\n                  if($tempL1==1){\n                        $dist{$element} .= $tempL1;\n                  } elsif($tempL1==0){\n                        undef(%dist);\n                        last;\n                  }\n         }\n        foreach $element (keys %dist){\n                 if ( ($HoA{$element}[3]&gt;0)){ #potential monomer is good, so add to HoA and update bonds\n                        my $newKey=scalar (keys %HoA);\n                        if($newKey&lt;=($PolymerSize-1)){\n                         $HoA{$element}[3]--;\n                         push @{$HoA{$newKey}}, $coordsNeighbors[0];\n                         push @{$HoA{$newKey}}, $coordsNeighbors[1];\n                         push @{$HoA{$newKey}}, $coordsNeighbors[2];\n                         push @{$HoA{$newKey}}, $coordsNeighbors[3];\n                         push @{$BondHoA{$element}}, \"$newKey\";\n                         push @{$BondHoA{$newKey}}, \"$element\";\n                         last;\n                        }\n                 }\n              }\n} while((scalar (keys %HoA))&lt;=$PolymerSize-1);\nforeach $element (keys %HoA){\n        print \"$element \\t $HoA{$element}[0] \\t $HoA{$element}[1] \\t $HoA{$element}[2]\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4305425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ae30ccff5351aff69e7aa7c7f14018?s=128&d=identicon&r=PG&f=1", "display_name": "Hobbes", "link": "https://stackoverflow.com/users/4305425/hobbes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 34614195, "answer_count": 2, "score": 1, "last_activity_date": 1453422208, "creation_date": 1451596720, "last_edit_date": 1451662940, "question_id": 34551662, "link": "https://stackoverflow.com/questions/34551662/perl-do-while-loop-over-number-of-keys-in-a-growing-hash-of-arrays-produces", "title": "Perl: do-while loop over number of keys in a &quot;growing&quot; Hash of Arrays produces &quot;extra&quot; output", "body": "<p>I am not sure if I have made it perfectly clear in the title, but my problem is as such: I have do-while loop that takes an initialized hash of arrays (HoA), computes a new dimensional array, and then compares the generated array with the array associated with the array's of each key (for simplicity the keys are numeric...so maybe better to just do this as an array of arrays). If certain crietria are fit (e.g. the new values are within a particular \"distance\") a new key is generated for the HoA and the generated array is added to the HoAs with the new key. </p>\n\n<p>What is strange is that I limit the number of new keys with the do-while loop, and yet sometimes when I run the code (no changes made at all), I get \"extra\" keys.</p>\n\n<p>My code is below and any help would be great.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $PolymerSize=6;\n\n# each monomer/node can bond upto 3 times\nmy $maxNeighbors=3;\n\n#Store coordinates and number of neighbors for each  monomer/node\n# (in C would be an array of structs)\n\nmy %HoA;\nmy %BondHoA; #who are my neighbors\nmy @coordsNeighbors;\nmy $element; #Iteration dummy variable\nmy %dist; #temporary distance hash\nmy $return_flag;\n\n$coordsNeighbors[0]=0; #Xcoord\n$coordsNeighbors[1]=0; #YCoord\n$coordsNeighbors[2]=0; #ZCoord\n$coordsNeighbors[3]=0; #How many bonded neighbors?\n\n#Intialize origin (first node/monomer)\npush @{$HoA{0}}, $coordsNeighbors[0];\npush @{$HoA{0}}, $coordsNeighbors[1];\npush @{$HoA{0}}, $coordsNeighbors[2];\npush @{$HoA{0}}, $coordsNeighbors[3];\n\n#Generate new nodes/monomer and \"grow\" polymer\ndo{\n    for(my $j=0;$j&lt;3;$j++){\n        #generate coords of potent. monomers/node\n        $coordsNeighbors[$j] = int($PolymerSize*rand());\n    }\n\n    $coordsNeighbors[3]=0;\n\n    #loop through existing monomers/nodes\n    foreach $element ( keys %HoA) {\n        #if this monomer doesn't have the max bonds proceed\n        if( ($HoA{$element}[3])!=$maxNeighbors) {\n            my $tempx=$HoA{$element}[0]-$coordsNeighbors[0];\n            my $tempy=$HoA{$element}[1]-$coordsNeighbors[1];\n            my $tempz=$HoA{$element}[2]-$coordsNeighbors[2];\n\n            #make hash of L1 distances\n            $dist{$element} .=abs($tempx)+abs($tempy)+abs($tempz);\n        }\n    }\n\n    #check if any distance is != 1; no-bond could be made if so\n    foreach(keys %dist){\n        if($dist{$_}!=1) {\n            delete $dist{$_};\n        }\n    }\n\n    #potential monomer is good, so add to HoA and update bonds\n    foreach $element (keys %dist){\n        $HoA{$element}[3]++;\n        my $newKey=scalar (keys %HoA);\n        if($newKey!=($PolymerSize-1)){\n            push @{$HoA{$newKey}}, $coordsNeighbors[0];\n            push @{$HoA{$newKey}}, $coordsNeighbors[1];\n            push @{$HoA{$newKey}}, $coordsNeighbors[2];\n            push @{$HoA{$newKey}}, $coordsNeighbors[3]+1;\n            push @{$BondHoA{$element}}, \"$newKey\";\n            push @{$BondHoA{$newKey}}, \"$element\";\n        }\n        delete $dist{$element};\n    }\n\n} while((keys %HoA)&lt;$PolymerSize-1);\n\nforeach $element (keys %HoA) {\n    print \"$element \\t $HoA{$element}[0] \\t $HoA{$element}[1] \\t $HoA{$element}[2]\\n\";\n}\n</code></pre>\n\n<p>The general idea behind this code is to do something like grow a polymer like a DLA (diffusion-limited aggregate) in 3D, so two things need to be right for it to work: </p>\n\n<p>1) get the right number of monomers (HoA keys noted above).</p>\n\n<p>2) Make sure there are no monomer-overlaps (no L1 distances of 0 (manhanttan distance, since we are on a grid)).</p>\n\n<p>[EDIT] \nI apparently forgot to include the desired output (my apologizes). </p>\n\n<p>The output should be something like:</p>\n\n<pre><code>0   0  0  0\n1   1  0  0\n2   0  1  0\n3   2  0  0\n4   2  1  0\n5   2  2  0\n</code></pre>\n\n<p>But I end up getting something like:</p>\n\n<pre><code>0   0   0  0\n1   1   0  0\n2   0   1  0\n3   0   0  0 \n4   1   1  0\n5   0   1  1\n6   2   0  0\n</code></pre>\n\n<p>(and some times even an 8th or 9th value)</p>\n"}, {"tags": ["xml", "perl", "xpath"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451595599, "post_id": 34551501, "comment_id": 56845422, "body": "And what result are you trying to get? Because that says &#39;everything under that <code>product</code>&#39; and that&#39;s everything in your XML. Which elements are you trying to separate out?"}, {"owner": {"reputation": 159, "user_id": 3135025, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3df531d8cf9c4c8ff27264add6acb59?s=128&d=identicon&r=PG&f=1", "display_name": "Mtaly", "link": "https://stackoverflow.com/users/3135025/mtaly"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451595888, "post_id": 34551501, "comment_id": 56845490, "body": "The xml is 400k in size has the <code>&lt;product type=&quot;X&quot;&gt;</code> where X is cloths, electronics, .. etc so this is just a single part of a product type but I want to split this 400k to many chunks based on the type attribute."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451596050, "post_id": 34551501, "comment_id": 56845523, "body": "Do you <i>just</i> want the <code>product</code> element? And are they unique? (is there only one <code>product</code> element of each type?)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451596177, "post_id": 34551501, "comment_id": 56845555, "body": "Also: 400k isn&#39;t huge. 400G is huge. A 400k XML file will take maybe 4MB of memory, which isn&#39;t an insufferable amount, meaning you can do some other tricks (like reparent nodes into new documents)"}, {"owner": {"reputation": 159, "user_id": 3135025, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3df531d8cf9c4c8ff27264add6acb59?s=128&d=identicon&r=PG&f=1", "display_name": "Mtaly", "link": "https://stackoverflow.com/users/3135025/mtaly"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451596337, "post_id": 34551501, "comment_id": 56845594, "body": "Sorry each product type has too many entries <code>grep -c &#39;&lt;product type=&quot;cloths&quot; products.xml   &#47;&#47; output :  8039</code> and it is 400 MB :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451596469, "post_id": 34551501, "comment_id": 56845628, "body": "OK. 4G footprint. Makes it a bit more complicated, because it&#39;s actually quite hard to maintain a consistent document without keeping it in memory."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451597217, "post_id": 34551501, "comment_id": 56845811, "body": "OK, I think I have a memory consuming solution, that creates multiple documents in memory. I think it <i>should</i> be possible to flush them to disk as you go, but that&#39;s a bit more complicated!"}, {"owner": {"reputation": 159, "user_id": 3135025, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3df531d8cf9c4c8ff27264add6acb59?s=128&d=identicon&r=PG&f=1", "display_name": "Mtaly", "link": "https://stackoverflow.com/users/3135025/mtaly"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451597644, "post_id": 34551501, "comment_id": 56845936, "body": "I am trying your code and I&#39;ll tell you what I have done, thanks"}, {"owner": {"reputation": 159, "user_id": 3135025, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3df531d8cf9c4c8ff27264add6acb59?s=128&d=identicon&r=PG&f=1", "display_name": "Mtaly", "link": "https://stackoverflow.com/users/3135025/mtaly"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451599859, "post_id": 34551501, "comment_id": 56846501, "body": "<code>missing target in paste at type.pl line 23.</code> this what I got in the last code, the first one is working generating files with small chunks while the middle code crash my box memory. Thank you again for your efforts"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451600114, "post_id": 34551501, "comment_id": 56846561, "body": "Hmm, worked with my sample.  Might be something like a product without a type? Otherwise,  you may need some print statements."}, {"owner": {"reputation": 159, "user_id": 3135025, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3df531d8cf9c4c8ff27264add6acb59?s=128&d=identicon&r=PG&f=1", "display_name": "Mtaly", "link": "https://stackoverflow.com/users/3135025/mtaly"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451600774, "post_id": 34551501, "comment_id": 56846724, "body": "So could we pass the type as an argument so I could target the category I want instead of all categories ?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1451601462, "last_edit_date": 1451601462, "creation_date": 1451596060, "answer_id": 34551599, "question_id": 34551501, "link": "https://stackoverflow.com/questions/34551501/use-xml-split-to-split-an-xml-file-based-on-a-perl-regex-or-xpath-expression/34551599#34551599", "title": "Use xml_split to split an XML file based on a Perl regex or XPath expression", "body": "<p>OK, so - if I read you right, you're looking at separating out your product types into separate files.</p>\n\n<p>I'd probably do that like this, using <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nsub split_product {\n    my ( $twig, $product ) = @_;\n    open( my $output, '&gt;&gt;', $product-&gt;att('type') . \".xml\" ) or warn $!;\n    print {$output} $product-&gt;sprint;\n    $twig -&gt; purge; \n}\n\nmy $twig = XML::Twig-&gt;new(\n    pretty_print  =&gt; 'indented_a',\n    twig_handlers =&gt; { 'product' =&gt; \\&amp;split_product }\n);\n$twig-&gt;parsefile('source.xml');\n</code></pre>\n\n<p>This won't preserve XML structure though, it'll just put the 'product' elements into a new file. (And that won't be valid XML if there's multiple products of the same type, either).</p>\n\n<p>OK, so given multiple products of each type, it's necessary to traverse the file. This makes it more complicated, because you can't 'close off' your XML until you know what needs to be in it, which means you need to traverse your tree twice, potentially.</p>\n\n<p>The simpler (memory intensive) way of tackling this problem would be:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %products;\n\nuse XML::Twig;\n\nsub split_product {\n    my ( $twig, $product ) = @_;\n    my $type = $product-&gt;att('type');\n    if ( not $products{$type} ) {\n        my $new_product = XML::Twig-&gt;new;\n        $new_product-&gt;set_root( XML::Twig::Elt-&gt;new('catalogue') );\n        $new_product-&gt;set_xml_version('1.0');\n        $new_product-&gt;set_encoding('utf-8');\n        $new_product-&gt;set_doctype('catalog SYSTEM \"catalog.dtd\"');\n        $products{$type} = $new_product;\n    }\n    $product-&gt;cut;\n    $product-&gt;paste( 'last_child', $products{$type}-&gt;root );\n    $twig-&gt;purge;\n}\n\nmy $twig = XML::Twig-&gt;new(\n    pretty_print  =&gt; 'indented_a',\n    twig_handlers =&gt; { 'product' =&gt; \\&amp;split_product }\n);\n$twig-&gt;parsefile ( 'your_file.xml' );\n\nforeach my $product_type ( keys %products ) {\n    open ( my $output, '&gt;', \"$product_type.xml\" ) or warn $!; \n    print {$output} $products{$product_type}-&gt;sprint;\n}\n</code></pre>\n\n<p>This will cut it up into separate valid documents, but be warned - it will consume about 10x the size of your XML in memory. </p>\n\n<p>And last, but not least - a (hopefully!) less memory intensive version, that uses <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm#Flush\" rel=\"nofollow\"><code>flush</code></a> and <code>purge</code> to dump parsed XML. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %products;\nmy %product_files;\n\nuse XML::Twig;\n\nsub split_product {\n    my ( $twig, $product ) = @_;\n    my $type = $product-&gt;att('type');\n    if ( not $products{$type} ) {\n        my $new_product = XML::Twig-&gt;new;\n        $new_product-&gt;set_root( XML::Twig::Elt-&gt;new('catalogue') );\n        $new_product-&gt;set_xml_version('1.0');\n        $new_product-&gt;set_encoding('utf-8');\n        $new_product-&gt;set_doctype('catalog SYSTEM \"catalog.dtd\"');\n        $products{$type} = $new_product;\n        open( $product_files{$type}, '&gt;', \"$type.xml\" ) or warn $!;\n    }\n    $product-&gt;cut;\n    $product-&gt;paste( 'last_child', $products{$type}-&gt;root );\n    $twig-&gt;purge;\n    $products{$type}-&gt;flush( $product_files{$type} );\n}\n\nmy $twig = XML::Twig-&gt;new(\n    pretty_print  =&gt; 'indented_a',\n    twig_handlers =&gt; { 'product' =&gt; \\&amp;split_product }\n);\n$twig-&gt;parsefile ( 'your_file.xml' );\n\nforeach my $product_type ( keys %products ) {\n    $products{$product_type}-&gt;flush( $product_files{$product_type} );\n    close( $product_files{$product_type} );\n}\n</code></pre>\n\n<p>If you want to just select one particular type, we can either set it within the script:</p>\n\n<pre><code>my $target_type = 'cloths'; \n</code></pre>\n\n<p>Or read it from <code>@ARGV</code> (command line args).</p>\n\n<pre><code>my ( $target_type ) = @ARGV; \n</code></pre>\n\n<p>And then either set your 'twig_handler' to:</p>\n\n<pre><code>\"product[\\@type=\\\"$target_type\\\"]\" =&gt; \\&amp;split_product\n</code></pre>\n\n<p>Although that will mean purging data from memory happens less often. So instead you can add into the handler:</p>\n\n<pre><code>if ( $product -&gt; att('type') eq $target_type ) { \n    $twig -&gt; purge;\n    return;\n}\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 3135025, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3df531d8cf9c4c8ff27264add6acb59?s=128&d=identicon&r=PG&f=1", "display_name": "Mtaly", "link": "https://stackoverflow.com/users/3135025/mtaly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 0, "accepted_answer_id": 34551599, "answer_count": 1, "score": 1, "last_activity_date": 1451666365, "creation_date": 1451595128, "last_edit_date": 1451666365, "question_id": 34551501, "link": "https://stackoverflow.com/questions/34551501/use-xml-split-to-split-an-xml-file-based-on-a-perl-regex-or-xpath-expression", "title": "Use xml_split to split an XML file based on a Perl regex or XPath expression", "body": "<p>I have a huge XML file that I want to split into chunks based on the product type attribute.</p>\n\n<p>I don't know how to use XSLT. I found <a href=\"https://metacpan.org/pod/release/MIROD/XML-Twig-3.49/tools/xml_split/xml_split\" rel=\"nofollow\"><code>xml_split</code></a> but can't figure out how to use it with a regex or XPath to split the document depending on the type attribute</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE catalog SYSTEM \"catalog.dtd\"&gt;\n&lt;catalog&gt;\n   &lt;product type=\"cloths\" product_image=\"cardigan.jpg\"&gt;\n      &lt;catalog_item gender=\"Men's\"&gt;\n         &lt;item_number&gt;QWZ5671&lt;/item_number&gt;\n         &lt;price&gt;39.95&lt;/price&gt;\n         &lt;size description=\"Medium\"&gt;\n            &lt;color_swatch image=\"red_cardigan.jpg\"&gt;Red&lt;/color_swatch&gt;\n            &lt;color_swatch image=\"burgundy_cardigan.jpg\"&gt;Burgundy&lt;/color_swatch&gt;\n         &lt;/size&gt;\n         &lt;size description=\"Large\"&gt;\n            &lt;color_swatch image=\"red_cardigan.jpg\"&gt;Red&lt;/color_swatch&gt;\n            &lt;color_swatch image=\"burgundy_cardigan.jpg\"&gt;Burgundy&lt;/color_swatch&gt;\n         &lt;/size&gt;\n      &lt;/catalog_item&gt;\n      &lt;catalog_item gender=\"Women's\"&gt;\n         &lt;item_number&gt;RRX9856&lt;/item_number&gt;\n         &lt;price&gt;42.50&lt;/price&gt;\n         &lt;size description=\"Small\"&gt;\n            &lt;color_swatch image=\"red_cardigan.jpg\"&gt;Red&lt;/color_swatch&gt;\n            &lt;color_swatch image=\"navy_cardigan.jpg\"&gt;Navy&lt;/color_swatch&gt;\n            &lt;color_swatch image=\"burgundy_cardigan.jpg\"&gt;Burgundy&lt;/color_swatch&gt;\n         &lt;/size&gt;\n         &lt;size description=\"Medium\"&gt;\n            &lt;color_swatch image=\"red_cardigan.jpg\"&gt;Red&lt;/color_swatch&gt;\n            &lt;color_swatch image=\"navy_cardigan.jpg\"&gt;Navy&lt;/color_swatch&gt;\n            &lt;color_swatch image=\"burgundy_cardigan.jpg\"&gt;Burgundy&lt;/color_swatch&gt;\n            &lt;color_swatch image=\"black_cardigan.jpg\"&gt;Black&lt;/color_swatch&gt;\n         &lt;/size&gt;\n         &lt;size description=\"Large\"&gt;\n            &lt;color_swatch image=\"navy_cardigan.jpg\"&gt;Navy&lt;/color_swatch&gt;\n            &lt;color_swatch image=\"black_cardigan.jpg\"&gt;Black&lt;/color_swatch&gt;\n         &lt;/size&gt;\n         &lt;size description=\"Extra Large\"&gt;\n            &lt;color_swatch image=\"burgundy_cardigan.jpg\"&gt;Burgundy&lt;/color_swatch&gt;\n            &lt;color_swatch image=\"black_cardigan.jpg\"&gt;Black&lt;/color_swatch&gt;\n         &lt;/size&gt;\n      &lt;/catalog_item&gt;\n   &lt;/product&gt;\n&lt;/catalog&gt;\n</code></pre>\n\n<p>I used this command</p>\n\n<pre><code>xml_split -c /catalog/product[@type='cloths'] products.xml\n</code></pre>\n\n<p>but it reproduces the complete XML document without the XPath filtering.</p>\n"}, {"tags": ["perl", "file", "monitor"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1451582591, "post_id": 34549575, "comment_id": 56841394, "body": "You never get the the <code>-&gt;watch(...)</code> call on your second file because of your infinite while loop. Indentation would make this more visible"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1451583069, "post_id": 34549575, "comment_id": 56841590, "body": "@Hunter McMillen Yes you are right! just now i observed this,"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1451583135, "post_id": 34549575, "comment_id": 56841622, "body": "Now my question is how can i get to notify when any *.txt file is created/modified inside my input folder ?"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1451583231, "post_id": 34549575, "comment_id": 56841660, "body": "reading directory is ok! but a folder is created within this input directory and then if any *.txt file is created then ? i want to observed all .txt file inside my input directory"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1451588531, "post_id": 34549575, "comment_id": 56843533, "body": "in the synopsis for File::Monitor they show an example of watching a directory: <a href=\"https://metacpan.org/pod/File::Monitor#SYNOPSIS\" rel=\"nofollow noreferrer\">metacpan.org/pod/File::Monitor#SYNOPSIS</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451653738, "post_id": 34555710, "comment_id": 56855568, "body": "Thanks for the help and i tried to execute this script with my  inputs but it seems not working i do not know where i am doing wrong here are the modified code snippets  <i>$monitor-&gt;watch( {     name        =&gt; &#39;C:\\Users\\goudarsh\\Desktop\\Perl_test_scripts&#39;,     recurse     =&gt; 1,     callback    =&gt; {files_created =&gt; \\&amp;textfile_notifier},  #event =&gt; handler } );</i>  <i>my @changes = $monitor-&gt;scan; \tfor my $change (@changes){ \t\twarn $change-&gt;name,&quot;has changed&quot;; \t}</i>  Any idea where i am doing wrong ?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451653930, "post_id": 34555710, "comment_id": 56855612, "body": "@Shantesh, 1) Don&#39;t post code in comments.  2) All you need to do is copy my script exactly, and replace my directory name with your directory name."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451654339, "post_id": 34555710, "comment_id": 56855723, "body": "Sure i will try to improvise my commenting skills and i did tried to copy the exact code and replace the input directory but code seems not working &#39;coz i can&#39;t see anything in the output terminal even if i actually modify any *.txt file in the input directory. btw i am executing this code in windows environment."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451654376, "post_id": 34555710, "comment_id": 56855732, "body": "Sad i can&#39;t share any screenshots"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451655595, "post_id": 34555710, "comment_id": 56856070, "body": "@Shantesh, <i>even if i actually modify any *.txt file in the input director</i> -- That&#39;s because <code>modifying</code> =! <code>creating</code>.  I responded to your comment, and in your comment the word <i>modifying</i> never appeared. If you are interested in knowing when a file is modified, then replace the event <code>files_created</code> with the event <code>mtime</code>."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451655904, "post_id": 34555710, "comment_id": 56856158, "body": "yes you are exactly right ............smart you are! ...i am so dumb :( creating new .txt file did work! any idea on modifying notification ?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451657195, "post_id": 34555710, "comment_id": 56856476, "body": "@Shantesh, I have no idea what you are trying to monitor.  It seems you keep changing the target.  If you could clearly state what you are trying to monitor, then we can go from there."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451657828, "post_id": 34555710, "comment_id": 56856658, "body": "here is what i am trying to monitor   At my work different IC design tools generates different logs with &#39;.log&#39; extn and all of  these files are stored in /var/vob/*/project/*/logs/ directory  structure and if any *.log is created then i want read the path and then feed this path as input to some other logic(function) so that it greps some data from required logs and push grepped data into one of database."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451658886, "post_id": 34555710, "comment_id": 56856960, "body": "@Shantesh, I posted code that prints the path to any file that is created in a certain directory, <i>which is now exactly what you claim to want.</i>"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451717030, "post_id": 34555710, "comment_id": 56870318, "body": "@Shantesh, See the additional example I posted."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451720100, "post_id": 34555710, "comment_id": 56870880, "body": "Thanks alot for the help!"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451744954, "post_id": 34555710, "comment_id": 56877571, "body": "can i use your code for perl version 5.18.2 ??  &#39;coz say statment does not work in above said version and print does not print any output as well."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1451750018, "post_id": 34555710, "comment_id": 56879306, "body": "@Shanesh, say() works in all versions of perl after 5.10 -- if you enable it with <code>use 5.010;</code> (or later).  say() is just print() with a newline, so you can stick to print(). If the code doesn&#39;t work with print(), I can only wonder what OS you are using."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452235435, "post_id": 34555710, "comment_id": 57087328, "body": "i was testing your script and found out that if i give input directory as /home/ and create some txt file in /home/goudarsh/desktop/temp_dir/1.txt it did not return me anything! so my question recursive means only 1 folder below the input directory ?"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452236203, "post_id": 34555710, "comment_id": 57087625, "body": "Yes i was wrong it did work! but it took almost 1min ? how can i do it in real time ?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452239442, "post_id": 34555710, "comment_id": 57089037, "body": "@Shantesh, How about trying: <code>use Time::HiRes qw {usleep};</code> and in the while loop specifying the number of <code>microseconds (1 millionth of a second)</code> that you wish to sleep() between scans:  <code>usleep(10_000);</code>  The Time::HiRes module is a core module, so you don&#39;t have to install anything."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452241453, "post_id": 34555710, "comment_id": 57090015, "body": "Sorry still not working ! and i have used above mentioned  perl module &amp; i have mentioned only <code>usleep(10_000);</code>  within while loop."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452241532, "post_id": 34555710, "comment_id": 57090051, "body": "i mean&#39;t i am still having the similar effect as i use to have with <code>sleep(2);</code>"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1452249973, "post_id": 34555710, "comment_id": 57095122, "body": "sorry to bother you again can i monitor multiple directories ? if yes then how ?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 1, "creation_date": 1452258064, "post_id": 34555710, "comment_id": 57100408, "body": "If you have a lot of files in a lot of different directories, the time it takes to scan them may not be super fast.  Try upping the sleep to: <code>sleep(10)</code>.  Any change?  <i>can i monitor multiple directories</i>--Identify the section of code that sets up the watch for the directory, copy it, then change the directory name.  You can add as many <i>watches</i> to a monitor as you want."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 1, "last_activity_date": 1451839306, "last_edit_date": 1451839306, "creation_date": 1451647565, "answer_id": 34555710, "question_id": 34549575, "link": "https://stackoverflow.com/questions/34549575/can-i-use-wild-card-to-monitor-particular-files-in-a-directory-in-filemonitor/34555710#34555710", "title": "can i use wild card to monitor particular files in a directory in File::Monitor?", "body": "<blockquote>\n  <p>reading directory is ok! but a folder is created within this input\n  directory and then if any *.txt file is created then ? i want to\n  observed all .txt file inside my input directory</p>\n</blockquote>\n\n<p>There's a <code>recurse</code> option you can set for a directory, which will watch for changes in all subdirectories:</p>\n\n<pre><code>$monitor-&gt;watch( {\n    name        =&gt; '/Users/7stud/pperl_programs/test_dir/',\n    recurse     =&gt; 1,\n    callback    =&gt; {files_created =&gt; \\&amp;textfile_notifier},  #event =&gt; handler\n} );\n</code></pre>\n\n<p>Here's a way to track creation of <code>.txt</code> files:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.020;\n\nuse File::Monitor;\nuse File::Basename;\n\nsub textfile_notifier {\n    my ($watch_name, $event, $change) = @_; \n\n    my @new_file_paths = $change-&gt;files_created; #The change object has a property called files_created, \n                                                 #which contains the names of any new files\n    for my $path (@new_file_paths) {\n        my ($base, $fname, $ext) = fileparse($path, '.txt'); # $ext is \"\" if the '.txt' extension is\n                                                             # not found, otherwise it's '.txt'.\n        if ($ext eq '.txt') {\n            say \"$path was created\";\n        }\n    }\n}\n\nmy $monitor = File::Monitor-&gt;new();\n\n$monitor-&gt;watch( {\n    name        =&gt; '/Users/7stud/pperl_programs/test_dir/',\n    recurse     =&gt; 1,\n    callback    =&gt; {files_created =&gt; \\&amp;textfile_notifier},  #event =&gt; handler\n} );\n\n$monitor-&gt;scan;\n\nwhile (1) {\n    $monitor-&gt;scan;\n    sleep(2);\n}\n</code></pre>\n\n<p>Listen for modifications to all existing files in a directory; also listen for created files in the directory, and listen for subsequent modifications to the created files:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.020;\n\nuse File::Monitor;\nuse File::Basename;\nuse File::Find;\n\n#Gather all existing .txt files:\n\nmy @existing_textfiles;\n\nsub textfiles {\n     my ($base, $fname, $ext) = fileparse($File::Find::name, '.txt');\n\n     if ($ext eq '.txt') {\n         push @existing_textfiles, $File::Find::name;\n     }\n}\n\nfind(\\&amp;textfiles, '/Users/7stud/pperl_programs/test_dir/');\n#------------------------------\n\n#Watch for modifications to existing text files:\n\nmy $monitor = File::Monitor-&gt;new();\n\nfor my $existing_textfile (@existing_textfiles) {\n\n    $monitor -&gt; watch( {\n            name        =&gt; $existing_textfile,\n            callback    =&gt; { mtime =&gt; \\&amp;textfile_modified },\n    } );\n\n}\n\nsub textfile_modified {\n    my ($modified_file) = @_; \n    say \"modified: $modified_file\";\n}\n#------------------------------\n\n#Watch for created text files:\n\n$monitor-&gt;watch( {\n    name        =&gt; '/Users/7stud/pperl_programs/test_dir/',\n    recurse     =&gt; 1,\n    callback    =&gt; {files_created =&gt; \\&amp;textfile_created},  \n} );\n\nsub textfile_created {\n    my ($watch_dir, $event, $change) = @_;\n\n    my @new_files = $change-&gt;files_created;\n\n    for my $new_file (@new_files) {\n        my ($base, $fname, $ext) = fileparse($new_file, '.txt');\n\n        if ($ext eq '.txt') {\n            say \"created: $new_file\";\n\n            #Watch for moditications to created text files:\n            $monitor-&gt;watch( {\n                    name        =&gt; $new_file,\n                    callback    =&gt; { mtime =&gt; \\&amp;textfile_modified },\n            } );\n            #------------------------\n        }\n    }\n}\n#---------------------------\n\n$monitor-&gt;scan;\n\nwhile (1) {\n    $monitor-&gt;scan;\n    sleep(2);\n}\n</code></pre>\n\n<p>Note that <code>deleting a file</code> will show up as a modified file.</p>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 34555710, "answer_count": 1, "score": 1, "last_activity_date": 1451839306, "creation_date": 1451582387, "question_id": 34549575, "link": "https://stackoverflow.com/questions/34549575/can-i-use-wild-card-to-monitor-particular-files-in-a-directory-in-filemonitor", "title": "can i use wild card to monitor particular files in a directory in File::Monitor?", "body": "<p>I am using File::Monitor perl module to notify me about the new/modified files.</p>\n\n<p>Below code snippet is only working for 1.txt input file! where as i would like to monitor for  for all the input files.</p>\n\n<p>I have 2 questions</p>\n\n<pre><code> 1-&gt; Does it support wild card such as *.txt?\n 2-&gt; Does it monitor recursively ?\n</code></pre>\n\n<p>Here's the code snippet.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Monitor;\nuse File::Monitor::Object;\n\nmy @Files=(\"1.txt\",\"2.txt\"); \nmy $dir = \"C:\\\\Users\\\\goudarsh\\\\Desktop\\\\Perl_test_scripts\";\n\nmy $wFileMonitor = File::Monitor-&gt;new();\nforeach my $wFile (@Files){\nmy $file = \"$dir\\\\$wFile\";\n$wFileMonitor-&gt;watch($file);\n#-- First scan does nothing\n$wFileMonitor-&gt;scan;\n\nwhile (1){\n  my @changes = $wFileMonitor-&gt;scan;\nforeach my $object (@changes) {\nmy $modified = $object-&gt;mtime;\n  print \"$wFile changed\\n\";\n  #fcopy (\"$wFile\",\"c:\\\\newpath\");\n}\n}\n}\n</code></pre>\n"}, {"tags": ["perl", "cron"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1451571453, "post_id": 34546119, "comment_id": 56836946, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/34520769/how-to-save-output-a-cron-in-a-file-in-linux\">How to save output a cron in a file in linux</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1451571605, "post_id": 34546119, "comment_id": 56837010, "body": "Please don&#39;t ask the <a href=\"http://stackoverflow.com/q/34520769e/176646\">same question</a> multiple times. If the answers to your original question aren&#39;t satisfactory, leave a comment or edit the question instead of asking a new one. Also, you haven&#39;t provided enough detail in either question; did you check the cron log to make sure your cronjob actually ran? The log will also report any errors."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5209622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad9f5fdff33fb195fb41ba390122179?s=128&d=identicon&r=PG&f=1", "display_name": "Yasin Sanjari", "link": "https://stackoverflow.com/users/5209622/yasin-sanjari"}, "edited": false, "score": 0, "creation_date": 1451564757, "post_id": 34546316, "comment_id": 56834497, "body": "i can&#39;t using Perl before path/to/script because i using Par:Parcker encryption my script."}, {"owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "reply_to_user": {"reputation": 31, "user_id": 5209622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad9f5fdff33fb195fb41ba390122179?s=128&d=identicon&r=PG&f=1", "display_name": "Yasin Sanjari", "link": "https://stackoverflow.com/users/5209622/yasin-sanjari"}, "edited": false, "score": 0, "creation_date": 1451566289, "post_id": 34546316, "comment_id": 56835073, "body": "@YasinSanjari One of us is confused. If <code>perl script.pl</code> works, then <code>&#47;path&#47;to&#47;perl &#47;path&#47;to&#47;script.pl</code> works as well. Just use the full path names."}], "tags": [], "owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "is_accepted": false, "score": 0, "last_activity_date": 1451567826, "last_edit_date": 1451567826, "creation_date": 1451563624, "answer_id": 34546316, "question_id": 34546119, "link": "https://stackoverflow.com/questions/34546119/cronjobs-and-print-output-perl/34546316#34546316", "title": "CronJobs and print output perl", "body": "<p>First, you should read your email. Cron has sent you one.</p>\n\n<p>Next, understand that cron started jobs have possibly your home directory as the current working directory. Chances are, <code>script.pl</code> is somewhere else.\nTry using</p>\n\n<pre><code>* * * * * * /path/to/perl /path/to/script.pl\n</code></pre>\n\n<p>Please check twice (by reading <code>man 5 crontab</code>) if the crontab accepts six asterisks. My implementation on FreeBSD accepts only 5.</p>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "is_accepted": false, "score": 1, "last_activity_date": 1451571423, "last_edit_date": 1451571423, "creation_date": 1451571072, "answer_id": 34547593, "question_id": 34546119, "link": "https://stackoverflow.com/questions/34546119/cronjobs-and-print-output-perl/34547593#34547593", "title": "CronJobs and print output perl", "body": "<p>I had this same problem when I first started using cron. The problem is, cron runs in a brand new shell, thus all your variables are gone, including the path. </p>\n\n<p>Does your cron job include the FULL exact path to <code>perl</code> and <code>script.pl</code>? Because your example does not have the path to script.pl. Because the PATH variable is not saved when a cron job is run. The cron job may not have run but produced an error sent to your email account on that machine. Check your email too. And in the cron file put <code>MAIL=username</code>, so the email gets to your account on the machine the cron job is run. If your machine supports sending email outside that machine the job is run on, set <code>MAIL=me@othermachine.com</code>.</p>\n\n<p>To set the path, in the cron file set <code>PATH=/whatever:/somewhere/else</code>.</p>\n\n<p>Also, are you editing your personal crontab file with <code>crontab -e</code>? That's normally recommended. Do not touch the system crontabs. </p>\n\n<p>Another variable you can set is <code>SHELL=/bin/bash</code> to use bash for all cron jobs.</p>\n\n<p>Also, what Jens said about using the full path for perl and your script.\nYou have no path when the cron job runs unless you set it in the crontab file as in my suggestion above.</p>\n\n<pre><code># Suggested crontab file edited with crontab -e.\n# This is a crontab comment.\nMAIL=me\nPATH=/usr/bin:/root\nSHELL=/bin/bash\n* * * * * /usr/bin/perl/perl /export/home/me/script.pl\n</code></pre>\n\n<p>Key points: </p>\n\n<ol>\n<li>Cron runs in it's own shell which you can set in using the SHELL=\nvariable. You will also have no variables unless you set them.  </li>\n<li>Use full path to perl and the script every time.</li>\n<li>Cron only sends you an email if screen output is produced, either\nvia the program or an error message. It can be tricky to track down\na blank cron email where the only output was a carriage return.</li>\n<li>Edit local crontab files only, using <code>crontab -e</code> on Ubuntu. Might\nbe different on other systems.</li>\n</ol>\n"}], "owner": {"reputation": 31, "user_id": 5209622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad9f5fdff33fb195fb41ba390122179?s=128&d=identicon&r=PG&f=1", "display_name": "Yasin Sanjari", "link": "https://stackoverflow.com/users/5209622/yasin-sanjari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1451571423, "creation_date": 1451562669, "last_edit_date": 1451564037, "question_id": 34546119, "link": "https://stackoverflow.com/questions/34546119/cronjobs-and-print-output-perl", "title": "CronJobs and print output perl", "body": "<p>I wrote a script perl:</p>\n\n<pre><code>my $filename = '/root/report.txt';\nopen(my $fh, '&gt;&gt;', $filename) or die \"Could not open file '$filename' $!\";\nprint 'Hello world';\nprint $fh 'Hello world';\nclose $fh;\n</code></pre>\n\n<p>When I run this script with <code>perl script.pl</code>, it creates a log file $filename and Hello world is saved in the log file.</p>\n\n<p>But if I use a cron job</p>\n\n<pre><code>* * * * * perl script.pl\n</code></pre>\n\n<p>it doesn't work and doesn't save in <code>report.txt</code>. </p>\n\n<p>How do I solve this problem?</p>\n\n<p>I tested it, when I used this script with PP:Parcker the log doesn't get saved.</p>\n"}, {"tags": ["perl", "curl", "perlbrew"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1451566905, "post_id": 34546030, "comment_id": 56835287, "body": "not sure about perlbrew offline, I believe it needs internet to actually install perl versions. To address your second question: You can easily set up cpanm to install modules to the currently chosen perl. ( see <a href=\"http://perlbrew.pl/Perlbrew-and-Friends.html\" rel=\"nofollow noreferrer\">perlbrew.pl/Perlbrew-and-Friends.html</a> ). It rarely failed me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1451688360, "post_id": 34546030, "comment_id": 56865177, "body": "@bytepusher, <code>perlbrew</code> will reuse previously downloaded Perl tarballs, so you could install <code>perl</code> offline using <code>perlbrew</code> by putting the right tarball in the <code>dists</code> dir."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1451688274, "post_id": 34554763, "comment_id": 56865148, "body": "You skipped installing <code>perl</code> first! (which requires network access when done through <code>perlbrew</code>), and the use of <code>cpan</code> you recommend also requires network access."}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1451966983, "post_id": 34554763, "comment_id": 56953611, "body": "@7stud I got it installed somehow. Now the problem are with my modules. I have installed the modules that I need and its successful, however When I give <i>instmodsh</i> I can&#39;t find the module or when I run a script it says can&#39;t locate the module! Any tips on that, I&#39;d really appreciate! Thanks"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1451967076, "post_id": 34554763, "comment_id": 56953633, "body": "I have installed perl 5.22.1 using perlbrew and the modules I have installed are XML:::Simple, Data::Dumper, XML::Parser"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1451987993, "post_id": 34554763, "comment_id": 56962664, "body": "@GRD, <i>I have installed the modules that I need and its successful</i> -- That doesn&#39;t provide enough detail.  <i>When I give instmodsh I can&#39;t find the module</i>--All you need is: <code>$ perlbrew list-modules</code>"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1451988260, "post_id": 34554763, "comment_id": 56962868, "body": "I don&#39;t have the laptop in which I installed the modules, I mean to say the modules like XML::Simple, Data::Dumper, XML::Parser were all installed and it returned,  that 1 distribution installed successfully, for all the modules, however when I give <i>instmodsh</i>, it doesn&#39;t seem to list the installed modules there!"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1452012592, "post_id": 34554763, "comment_id": 56979346, "body": "@GRD,  <i>I mean to say the modules like XML::Simple, Data::Dumper, XML::Parser were all installed and it returned, that 1 distribution installed successfully, for all the modules</i> --  Yeah, but it&#39;s the lines preceding that message that are vitally important because they tell you the location of the install.  Read over the steps I posted at the bottom of my answer.  If you still can&#39;t get to things to work, then install the module Modern::Perl and copy and paste every bit of text in your terminal window at the bottom of your question."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 4, "last_activity_date": 1452092034, "last_edit_date": 1452092034, "creation_date": 1451638161, "answer_id": 34554763, "question_id": 34546030, "link": "https://stackoverflow.com/questions/34546030/curl-transfer-closing-when-trying-to-install-perlbrew/34554763#34554763", "title": "curl: transfer closing when trying to install perlbrew", "body": "<blockquote>\n  <p>I'm trying to install perlbrew in my mac OSX</p>\n</blockquote>\n\n<p>There are lots of OSX versions.  Can you narrow it down a bit?</p>\n\n<blockquote>\n  <p>I understand vaguely that this error is related to poor network\n  service, am I right?</p>\n</blockquote>\n\n<p>If the command you issued was:</p>\n\n<pre><code>$ \\curl -L http://install.perlbrew.pl | bash\n</code></pre>\n\n<p>then that tells a program called <code>curl</code> to download the file <code>install.perlbrew.pl</code> from the internet, then execute the file with a program called <code>bash</code>.  You can view that file by entering the url specified in the command in your browser:</p>\n\n<pre><code>http://install.perlbrew.pl\n</code></pre>\n\n<p>As you can see, the file is very short.</p>\n\n<p>The error means that for some reason <code>curl</code> couldn't download the entirety of a file it was trying to download.  That could be because the server(where the file resides) dropped your connection, or the internet connection on your side was disrupted.</p>\n\n<blockquote>\n  <p>Can anyone help me how to install perlbrew offline</p>\n</blockquote>\n\n<p>You <em>could</em> go to the url and copy the text and paste it into a local file called, say,  <code>install_perlbrew.pl</code>.  Then you <em>could</em> execute that file offline like this:</p>\n\n<pre><code>$ bash install_perlbrew.pl\n</code></pre>\n\n<p>That file is a program and when you execute the program with <code>bash</code>, the program uses <code>curl</code> yet again to retrieve another file, namely perlbrew, from the internet.  You could also copy the perlbrew file to your computer and modify the install script to use the local perlbrew file, but then when you execute the perlbrew file, it also uses <code>curl</code> to retrieve even more files from the internet, and so on and so on. </p>\n\n<p>So unless you know bash scripting and you can modify the install script to use all local files, and you have the patience to track down all the files required and copy them to local files, you are not going to be able to <em>install</em> perlbrew offline.</p>\n\n<blockquote>\n  <p>Can anyone help me how to ... install modules after perlbrew is done!</p>\n</blockquote>\n\n<p>If the module name is File::Monitor, you would install it like this:</p>\n\n<pre><code>$ cpan File::Monitor\n</code></pre>\n\n<p>If it's your first time using the <code>cpan</code> command, you will see this:</p>\n\n<pre><code>$ cpan File::Monitor\n\nCPAN.pm requires configuration, but most of it can be done automatically.\nIf you answer 'no' below, you will enter an interactive dialog for each\nconfiguration option instead.\n\nWould you like to configure as much as possible automatically? [yes] \n</code></pre>\n\n<p>Hit return to use the default answer (which is specified in brackets).  After cpan automatically configures itself, it will install the module, and if everything went okay with the installation you will see something like this:</p>\n\n<pre><code>...\n...\n ANDYA/File-Monitor-1.00.tar.gz\n  ./Build install  -- OK\n$\n</code></pre>\n\n<p><strong>Response to comments:</strong></p>\n\n<p><code>Preamble</code>: Your system has perl installed on it, however it is out of date.  But, your system needs perl to perform certain tasks, so you should NEVER delete or update the system perl.  In fact, you should leave the system perl alone, so that you don't screw it up and render your OS inoperable.  <code>perlbrew</code> to the rescue.</p>\n\n<p>In your Applications folder, look for a Utilities folder, and inside the Utilities folder find <code>Terminal.app</code>.  Click on Terminal.app to launch a terminal window. </p>\n\n<p><strong><em>Here are the steps for installing and using perlbrew:</em></strong></p>\n\n<p>1) Install perlbrew: </p>\n\n<pre><code>~$ \\curl -L http://install.perlbrew.pl | bash\n</code></pre>\n\n<p>2) Install a perl with perlbrew: </p>\n\n<pre><code>~$ perlbrew install perl-5.23.6\n</code></pre>\n\n<p>Prior to installing a perl, you can see what versions of perl are available by doing this:</p>\n\n<pre><code>~$ perlbrew available\nperl-5.23.6\nperl-5.22.1\nperl-5.20.3\nperl-5.18.4\nperl-5.16.3\n...\n...\n</code></pre>\n\n<p>Pick whatever version of perl you want to install and specify it in the install command above.</p>\n\n<p>3) Tell perlbrew which perl version to use.  Because you will only have one version of perl installed at this point, write:</p>\n\n<pre><code>~$ perlbrew switch perl-5.23.6\n</code></pre>\n\n<p>perlbrew allows you to install multiple versions of perl, so if you have multiple versions of perl installed, and you want to switch to another version, you can do:</p>\n\n<pre><code>~$ perlbrew list\n perl-5.23.6\n*perl-5.20.2\n perl-5.16.3\n\n~$ perlbrew use perl-5.16.3\n\n~$ perlbrew list\n perl-5.23.6\n perl-5.20.2\n *perl-5.16.3\n</code></pre>\n\n<p>The asterisk lets you know which version of perl you are currently using.</p>\n\n<p>4) Install modules in the current version of perl:</p>\n\n<pre><code>~$ cpan Path::Class   !!DO NOT EVER USE SUDO!!\n</code></pre>\n\n<p>5) To see a list of all the modules installed in the current perl:</p>\n\n<pre><code>~$ perlbrew list-modules\nCPAN::Meta\nDate::Parse\nFile::Monitor\nHTTP::CookieJar\nHTTP::Date\n...\n...\n...\n</code></pre>\n\n<p>6) perlbrew has a lot of other commands, so if you need to do something else, try searching through the output of:</p>\n\n<pre><code>~$ perlbrew --help\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1452092034, "creation_date": 1451562335, "last_edit_date": 1451565516, "question_id": 34546030, "link": "https://stackoverflow.com/questions/34546030/curl-transfer-closing-when-trying-to-install-perlbrew", "title": "curl: transfer closing when trying to install perlbrew", "body": "<p>I'm trying to install perlbrew in my mac OSX and this error keeps popping in my terminal, not really sure what this means</p>\n\n<blockquote>\n  <h2>Download the latest perlbrew</h2>\n  \n  <p>curl: (18) transfer closed with ###### bytes remaining to read</p>\n</blockquote>\n\n<p>I understand vaguely that this error is related to poor network service, am I right?</p>\n\n<p>Can anyone help me how to install perlbrew offline and how to install modules after perlbrew is done!</p>\n\n<p>Your help is appreciated</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 2, "creation_date": 1451561956, "post_id": 34544668, "comment_id": 56833355, "body": "You&#39;re asking for trouble to be using root all the time. You should really do your development work as an unprivileged user, and configure sudo for the privileged commands you need."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1451572124, "post_id": 34544668, "comment_id": 56837216, "body": "You can&#39;t get the current working directory on the user&#39;s system because you&#39;re not running on the user&#39;s system; you&#39;re running on your webserver. Please explain exactly why you think you need to do this."}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 0, "last_activity_date": 1451559412, "creation_date": 1451559412, "answer_id": 34545376, "question_id": 34544668, "link": "https://stackoverflow.com/questions/34544668/get-user-machines-current-working-directory-from-perl-cgi/34545376#34545376", "title": "get user machines current working directory from perl cgi", "body": "<p>I think you are mixing the web server and the local user. The web server has a working directory when you run the script, and that is the one that <code>cwd()</code> returns.</p>\n"}, {"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1451561880, "post_id": 34545669, "comment_id": 56833320, "body": "You would need to be root to poke around in /proc for other user&#39;s processes. And running a CGI script as root is just stupid."}, {"owner": {"reputation": 1425, "user_id": 1837991, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/601477b1ff39ca48d181c5179cd2fc7e?s=128&d=identicon&r=PG", "display_name": "Gert van den Berg", "link": "https://stackoverflow.com/users/1837991/gert-van-den-berg"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1451562150, "post_id": 34545669, "comment_id": 56833445, "body": "@glennjackman: Correct, depending on what details you are looking for... The <code>w</code> output needs to be accessible to multiple users, but that does not include the working directory... (I can actually confirm that you can only read that for your own user) The asker seems to have decided that he/she needs the working directory (of something, either client or server, he/she isn&#39;t telling yet) to accomplish something, but isn&#39;t telling what he/she is trying to accomplish..."}, {"owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 0, "creation_date": 1451720505, "post_id": 34545669, "comment_id": 56870943, "body": "upvote for explaining @gert. i was trying to get the user directory and display it on the html page. and download or show a perticular text file which will be der in that directory, from the web browser."}, {"owner": {"reputation": 1425, "user_id": 1837991, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/601477b1ff39ca48d181c5179cd2fc7e?s=128&d=identicon&r=PG", "display_name": "Gert van den Berg", "link": "https://stackoverflow.com/users/1837991/gert-van-den-berg"}, "reply_to_user": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 0, "creation_date": 1451854843, "post_id": 34545669, "comment_id": 56908183, "body": "@geek The user would need to upload the file... (At least if it is a file on the user PC, not one on the web server...) Allowing a web page to read a random file from a user PC is a huge security risk (at least without permission)... You MIGHT be able to do it via Javascript, on a file:// URL, depending on the browser... (Chrome won&#39;t work: <a href=\"https://code.google.com/p/chromium/issues/detail?id=47416\" rel=\"nofollow noreferrer\">code.google.com/p/chromium/issues/detail?id=47416</a> Firefox is complicated: <a href=\"https://developer.mozilla.org/en-US/docs/Same-origin_policy_for_file%3A_URIs\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/&hellip;</a> )"}], "tags": [], "owner": {"reputation": 1425, "user_id": 1837991, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/601477b1ff39ca48d181c5179cd2fc7e?s=128&d=identicon&r=PG", "display_name": "Gert van den Berg", "link": "https://stackoverflow.com/users/1837991/gert-van-den-berg"}, "is_accepted": false, "score": 3, "last_activity_date": 1451855303, "last_edit_date": 1451855303, "creation_date": 1451560726, "answer_id": 34545669, "question_id": 34544668, "link": "https://stackoverflow.com/questions/34544668/get-user-machines-current-working-directory-from-perl-cgi/34545669#34545669", "title": "get user machines current working directory from perl cgi", "body": "<p>Each process has its own working directory that it inherits from its parent when it gets created.</p>\n\n<p><code>cwd()</code> returns the current process's working directory.</p>\n\n<p>For a CGI script, the browser doesn't pass its working directory to the server as part of the request. To obtain that, you need to have code running on the client system that submits it. That might be an application that the user download, or possibly, but unlikely, some in-browser code, like Javascript / a Java applet (This info is likely hidden from in-browser code for security reasons though).</p>\n\n<p>(The rest assumes Linux, it will likely differ on other operating systems)</p>\n\n<p>The part below assumes that you are looking for the working directory of a user on the server:</p>\n\n<p>In order to get a specific shell for a specific user's working directory, you would need to identify the PID for the shell and get the working directory from the <code>/proc/&lt;pid&gt;/cwd</code> symlink (To read these, the process must belong to the user running the code, or the code must run as <code>root</code> (Which is a bad idea for a CGI script)...). To get the PID of the shell, you likely need to start from the <code>w</code> command output, or its data source, <code>/var/run/utmp</code>. <a href=\"http://search.cpan.org/~jstowe/Sys-Utmp-1.7/lib/Sys/Utmp.pm\" rel=\"nofollow\">Sys::Utmp</a> might be useful for this... You might then also need to retreive a whole lot of extra info to find all the processes that might have the working directory that you are looking for.</p>\n"}], "owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1451855303, "creation_date": 1451556279, "last_edit_date": 1451561384, "question_id": 34544668, "link": "https://stackoverflow.com/questions/34544668/get-user-machines-current-working-directory-from-perl-cgi", "title": "get user machines current working directory from perl cgi", "body": "<p>i am trying to get the current working directory path using Perl</p>\n\n<p>when i execute from ubuntu: $root@ubuntu:/var/test/geek# firefox http:/localhost/test.html, i get /var/cgi-bin as output in perl cgi page instead of /var/test/geek.</p>\n\n<p>used perl code:</p>\n\n<pre><code>my $pwd=cwd();\n bla bla\nprint \"&lt;h1&gt; pwd &lt;/h1&gt;\";\n</code></pre>\n\n<p>above code gives path of test.pl not users working directory path</p>\n\n<p>Edit: When i run the script alone from the terminal it works fine. for example:</p>\n\n<pre><code>$root@ubuntu:/var/test/geek# /var/cgi-bin/test.pl \n</code></pre>\n\n<p>i get /var/test/geek. but when i call the script in html page using submit button it gives path of perl script. </p>\n"}, {"tags": ["python", "perl"], "answers": [{"comments": [{"owner": {"reputation": 6497, "user_id": 180674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad3a3966580aff2ac91bd2a7660acd9?s=128&d=identicon&r=PG", "display_name": "Blrfl", "link": "https://stackoverflow.com/users/180674/blrfl"}, "reply_to_user": {"reputation": 149, "user_id": 5563494, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh3.googleusercontent.com/-0bNQJ4zY8fw/AAAAAAAAAAI/AAAAAAAAAEQ/5TGWH1mP0KA/photo.jpg?sz=128", "display_name": "Rishabh Soni", "link": "https://stackoverflow.com/users/5563494/rishabh-soni"}, "edited": false, "score": 0, "creation_date": 1451564013, "post_id": 34543448, "comment_id": 56834194, "body": "@RishabhSoni:  <code>\\00</code> and <code>\\0</code> are both valid octal character specifications, <code>\\x00</code> specifies the value as hexadecimal.  See <a href=\"https://en.wikipedia.org/wiki/Escape_sequences_in_C\" rel=\"nofollow noreferrer\">Escape Sequences in C</a>."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 2, "last_activity_date": 1451550549, "creation_date": 1451550549, "answer_id": 34543448, "question_id": 34543408, "link": "https://stackoverflow.com/questions/34543408/how-to-assign-a-binary-zero-character-to-a-variable-in-python/34543448#34543448", "title": "How to assign a binary zero character to a variable in python?", "body": "<p>Simply define a variable:</p>\n\n<pre><code>MSG_TERMINATOR = \"\\0\"\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://programmer.stackexchange.com", "http://programmers.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1292524346, "open_beta_date": 1283972400, "closed_beta_date": 1283367600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon@2.png", "twitter_account": "StackSoftEng", "favicon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon.png", "audience": "professionals, academics, and students working within the systems development life cycle", "site_url": "https://softwareengineering.stackexchange.com", "api_site_parameter": "softwareengineering", "logo_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/logo.png", "name": "Software Engineering", "site_type": "main_site"}, "on_date": 1451550301, "question_id": 306249}, "owner": {"reputation": 149, "user_id": 5563494, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh3.googleusercontent.com/-0bNQJ4zY8fw/AAAAAAAAAAI/AAAAAAAAAEQ/5TGWH1mP0KA/photo.jpg?sz=128", "display_name": "Rishabh Soni", "link": "https://stackoverflow.com/users/5563494/rishabh-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 34543448, "answer_count": 1, "score": 2, "last_activity_date": 1451550549, "creation_date": 1451549309, "question_id": 34543408, "link": "https://stackoverflow.com/questions/34543408/how-to-assign-a-binary-zero-character-to-a-variable-in-python", "title": "How to assign a binary zero character to a variable in python?", "body": "<p>Like in perl we do:</p>\n\n<pre><code>use constant MSG_TERMINATOR =&gt; \"\\0\";\n</code></pre>\n\n<p>where MSG_TERMINATOR is a variable.</p>\n\n<p>What is the way of do the same in python?</p>\n"}, {"tags": ["javascript", "html", "perl"], "comments": [{"owner": {"reputation": 48960, "user_id": 2522554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83cebe27d4fdd15bb1fb77bab95ff493?s=128&d=identicon&r=PG", "display_name": "bansi", "link": "https://stackoverflow.com/users/2522554/bansi"}, "edited": false, "score": 1, "creation_date": 1451540285, "post_id": 34541574, "comment_id": 56825102, "body": "<code>window.location.pathname</code> returns the path of the page loaded. you cannot get the path on the user&#39;s machine (that is a security risk)"}], "answers": [{"tags": [], "owner": {"reputation": 645, "user_id": 3226814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/57hmr.png?s=128&g=1", "display_name": "Spidi&#39;s Web", "link": "https://stackoverflow.com/users/3226814/spidis-web"}, "is_accepted": false, "score": 0, "last_activity_date": 1451540282, "creation_date": 1451540282, "answer_id": 34541613, "question_id": 34541574, "link": "https://stackoverflow.com/questions/34541574/get-current-working-directory-javascript/34541613#34541613", "title": "get current working directory javascript", "body": "<p>I suggest not to rely on this. The <code>pathname</code> you got might not be the actual path. Most of the time, developers uses the <strong>routing</strong> to hide actual path. </p>\n\n<p>The Actual directory structure might be something like\"D:\\Test\\Test\\Test.html\" but you will be getting something different due to routing.</p>\n"}], "owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3974, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1451553423, "creation_date": 1451540038, "last_edit_date": 1451553423, "question_id": 34541574, "link": "https://stackoverflow.com/questions/34541574/get-current-working-directory-javascript", "title": "get current working directory javascript", "body": "<p>i am trying to get the current working directory path using JavaScript</p>\n\n<p>when i execute from ubuntu: $root@ubuntu:/var/test/geek# firefox /var/www/application/test.html \ni get /var/www/application in my alert box instead of /var/test/geek in my alert box</p>\n\n<p>used javascript code: </p>\n\n<pre><code>var path=window.location.pathname\n alert(path);\n</code></pre>\n\n<p>above code gives path of test.html</p>\n\n<p>editing: Is it possible using perl script? perl-cgi?</p>\n\n<p>after knowing that it is not possible from javascript, tried it using perl script. </p>\n\n<pre><code>my $pwd=cwd();\n</code></pre>\n\n<p>and running the perl script from html :</p>\n\n<p>when i execute from ubuntu: $root@ubuntu:/var/test/geek# firefox /var/www/application/test.html</p>\n\n<p>i still get /var/www/application in page instead of /var/test/geek. \nis it possible from perl?</p>\n"}, {"tags": ["c", "linux", "perl", "gcov", "gcovr"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 4075313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/01e3584fe39eb72335f13243c3a814a2?s=128&d=identicon&r=PG", "display_name": "Iman Tumorang", "link": "https://stackoverflow.com/users/4075313/iman-tumorang"}, "edited": false, "score": 0, "creation_date": 1451708363, "post_id": 34557777, "comment_id": 56868801, "body": "I&#39;m new in perl, would you mind putting some sample code in your answer please..."}, {"owner": {"reputation": 121, "user_id": 4075313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/01e3584fe39eb72335f13243c3a814a2?s=128&d=identicon&r=PG", "display_name": "Iman Tumorang", "link": "https://stackoverflow.com/users/4075313/iman-tumorang"}, "edited": false, "score": 0, "creation_date": 1451708744, "post_id": 34557777, "comment_id": 56868847, "body": "Fyi. The C program cannot modify or updated. I just to test it using perl."}], "tags": [], "owner": {"reputation": 952, "user_id": 5640413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d07fd20980a84da892b786510152cfe?s=128&d=identicon&r=PG&f=1", "display_name": "Richard St-Cyr", "link": "https://stackoverflow.com/users/5640413/richard-st-cyr"}, "is_accepted": true, "score": 0, "last_activity_date": 1451743958, "last_edit_date": 1451743958, "creation_date": 1451665109, "answer_id": 34557777, "question_id": 34541244, "link": "https://stackoverflow.com/questions/34541244/automated-coverage-testing-c-program-using-gcovr-linux-with-perl/34557777#34557777", "title": "Automated Coverage Testing C Program using gcovr Linux with perl", "body": "<p><code>scanf</code> accepts input from <code>stdin</code>. You can redirect <code>stdin</code> to a file when you start your program and have the program get its input from that file.</p>\n\n<p>Redirection is a feature of the OS, not a feature of a specific language.</p>\n\n<p>Let's say you want to start your program and you know that this program will accept '10' 'y' and 'n' as input. All you have to do is to create a file with those lines in, by whatever way you can. Let's suppose that this file is named test_1.</p>\n\n<p>You then start the program with <code>tested_program &lt; test_1</code> and the program will use '10', 'y' and 'n' as its input.</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 4075313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/01e3584fe39eb72335f13243c3a814a2?s=128&d=identicon&r=PG", "display_name": "Iman Tumorang", "link": "https://stackoverflow.com/users/4075313/iman-tumorang"}, "edited": false, "score": 0, "creation_date": 1451708327, "post_id": 34558308, "comment_id": 56868794, "body": "Can you provide some sample code in your answer please?  I&#39;m new in Perl. Maybe look for sample code would help me. :)"}, {"owner": {"reputation": 121, "user_id": 4075313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/01e3584fe39eb72335f13243c3a814a2?s=128&d=identicon&r=PG", "display_name": "Iman Tumorang", "link": "https://stackoverflow.com/users/4075313/iman-tumorang"}, "edited": false, "score": 0, "creation_date": 1451708776, "post_id": 34558308, "comment_id": 56868856, "body": "Fyi, the C program cannot updated or modify. I only can test it using Perl Script"}], "tags": [], "owner": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1451669141, "creation_date": 1451669141, "answer_id": 34558308, "question_id": 34541244, "link": "https://stackoverflow.com/questions/34541244/automated-coverage-testing-c-program-using-gcovr-linux-with-perl/34558308#34558308", "title": "Automated Coverage Testing C Program using gcovr Linux with perl", "body": "<p>If using the Perl command <code>system</code> is not a strict requirement, you can consider using <a href=\"http://perldoc.perl.org/IPC/Open3.html\" rel=\"nofollow\">Open3</a> instead. It is more advanced than system, and you can specify what to use for STDIN, STDOUT and STDERR. So you can write the input to your C program in a text file, create a handle to that file, and use Open3 to call your C program specifying that file handle as first argument.</p>\n"}], "owner": {"reputation": 121, "user_id": 4075313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/01e3584fe39eb72335f13243c3a814a2?s=128&d=identicon&r=PG", "display_name": "Iman Tumorang", "link": "https://stackoverflow.com/users/4075313/iman-tumorang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 1, "accepted_answer_id": 34557777, "answer_count": 2, "score": 1, "last_activity_date": 1489660039, "creation_date": 1451537854, "last_edit_date": 1489660039, "question_id": 34541244, "link": "https://stackoverflow.com/questions/34541244/automated-coverage-testing-c-program-using-gcovr-linux-with-perl", "title": "Automated Coverage Testing C Program using gcovr Linux with perl", "body": "<p>I want to test 2 C programs to check it's coverage (line coverage and branch coverage).</p>\n\n<p>I am using gcovr in linux system. </p>\n\n<p>To do this, I have written a Perl Script that will call  <code>gcc</code> compiler  and read input from the file, then gives test for the coverage of C program. </p>\n\n<p>I have many test suites in the form of files that are given to C program, I am using Perl to automate the input and get the coverage using <code>gcovr</code>. </p>\n\n<p>Of course I've used  <code>system</code> command , and backtics in perl to call <code>gcc</code> and <code>gcovr</code>. </p>\n\n<p>The first C program runs well, because the input to the program is read from arguments given.</p>\n\n<p>But for the second C program, I got confused, because the program  only accepts input from keyboard or simply put \"it is  using <code>scanf</code>\". </p>\n\n<p>So, how can we provide input to C programs that only accepts input from keyboard (<code>scanf</code>) through terminal linux or using perl with <code>system</code> command ?</p>\n"}, {"tags": ["multithreading", "perl", "unix", "printf"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1451525013, "post_id": 34539720, "comment_id": 56821758, "body": "1. Can you show your code? 2. If you want sequential output, do you really need threads? What is the use case for threads here?"}], "answers": [{"comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1451532321, "post_id": 34539766, "comment_id": 56823223, "body": "I&#39;d be careful about that admonition not to use ithreads.  <a href=\"http://stackoverflow.com/q/30055956/132382\">Reasonable people disagree about the prudence and motivation of that warning.</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1451560113, "post_id": 34539766, "comment_id": 56832599, "body": "The major reason for the warning is because a people assume perl threads are like other threads they&#39;ve run into - and they aren&#39;t. Which means you end up with some really bad outcomes as a result."}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 1, "last_activity_date": 1451524979, "creation_date": 1451524979, "answer_id": 34539766, "question_id": 34539720, "link": "https://stackoverflow.com/questions/34539720/how-to-prevent-perl-thread-printouts-from-intercepting/34539766#34539766", "title": "How To Prevent Perl Thread Printouts from Intercepting?", "body": "<p>First of all: <a href=\"https://metacpan.org/pod/threads#WARNING\" rel=\"nofollow\"><strong>don't use perl interpreter threads</strong></a>.</p>\n\n<p>That being said, to prevent those lines from being printed separately, your options are either:</p>\n\n<ul>\n<li>Acquire a semaphore while printing these two lines to prevent two threads from entering that critical section at the same time.</li>\n<li><p>Print a single line of text with an embedded newline, e.g:</p>\n\n<pre><code>print \"hi I am thread $threadnum\\nthis is a test!\\n\";\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1451561398, "last_edit_date": 1451561398, "creation_date": 1451560934, "answer_id": 34545720, "question_id": 34539720, "link": "https://stackoverflow.com/questions/34539720/how-to-prevent-perl-thread-printouts-from-intercepting/34545720#34545720", "title": "How To Prevent Perl Thread Printouts from Intercepting?", "body": "<p>Fundamentally here, you're misunderstanding what threads do. They're designed to operate in parallel and asynchronously. </p>\n\n<p>That means different threads hit different bits of the program at different times, and potentially run on different processors. </p>\n\n<p>One of the drawbacks of this is- as you have found - you cannot guarantee ordering or atomicity of operations. That's true of compound operations too - you can't actually guarantee that even a <code>print</code> statement is an atomic operation - you can end up with split lines. </p>\n\n<p>You should always assume that any operation <em>isn't</em> atomic, unless you know for sure otherwise, and lock accordingly. Most of the time you will get away with it, but you can find yourself tripping over some truly horrific and hard to find bugs, because in a small percentage of cases, your non-atomic operations are interfering with each other. Even things like <code>++</code> may not be. (This isn't a problem on variables local to your thread though, just any time you're interacting with a shared resource, like a file, STDOUT, shared variable, etc.)</p>\n\n<p>This is a very common problem with parallel programming though, and so there are a number of solutions:</p>\n\n<h2>Use <code>lock</code> and a shared variable:</h2>\n\n<pre><code>##outside threads:\nuse threads::shared; \nmy $lock : shared;\n</code></pre>\n\n<p>And inside the threads:</p>\n\n<pre><code>{ \n   lock $lock;\n   ### do atomic operation\n}\n</code></pre>\n\n<p>When the lock leaves scope, it'll be released. A thread will 'block' waiting to obtain that lock, so for that one bit, you are no longer running parallel. </p>\n\n<h2>Use a <code>Thread::Semaphore</code></h2>\n\n<p>Much like a lock - you have the <code>Thread::Semaphore</code> module, that ... in your case works the same. But it's built around <em>limited</em> (but more than 1) resources. I wouldn't use this in your scenario, but it can be useful if you're trying to e.g. limit  concurrent disk IO and concurrent processor usage - set a semaphore:</p>\n\n<pre><code>use Thread::Semaphore;\nmy $limit = Thread::Semaphore -&gt; new ( 8 );\n</code></pre>\n\n<p>And inside the threads:</p>\n\n<pre><code>$limit -&gt; down(); \n #do protected bit\n$limit -&gt; up(); \n</code></pre>\n\n<p>You can of course, set that <code>8</code> to <code>1</code>, but you don't gain <em>that</em> much over <code>lock</code>. (Just the ability to <code>up()</code> to remove it, rather than letting it go out of scope). </p>\n\n<h2>Use a 'IO handler' thread with <code>Thread::Queue</code></h2>\n\n<p>(In forking, you might use a <code>pipe</code> here). </p>\n\n<pre><code>use Thread::Queue;\nmy $output = Thread::Queue -&gt; new (); \n\nsub print_output_thread {\n    while ( $output -&gt; dequeue ) { \n        print; \n    }\n}\n\nthreads -&gt; create ( \\&amp;output_thread ); \n</code></pre>\n\n<p>And in your threads, rather than <code>print</code> you would use:</p>\n\n<pre><code>$output -&gt; enqueue ( \"Print this message \\n\" ); \n</code></pre>\n\n<p>This thread serialises your output, and will ensure each message is atomic - but note that if you do <em>two</em> <code>enqueue</code> operations, they might be interleaved again, for exactly the same reason. </p>\n\n<p>So you would need to;</p>\n\n<pre><code>$output -&gt; enqueue ( \"Print this message\\n\", \"And this message too\\n\" ); \n</code></pre>\n\n<p>(you can also lock your queue as in the first example). That's again, perhaps a bit overkill for your example, but it can be useful if you're trying to collate results into a particular ordering. </p>\n"}], "owner": {"reputation": 123, "user_id": 5164527, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/10153040192953595/picture?type=large", "display_name": "driedupsharpie", "link": "https://stackoverflow.com/users/5164527/driedupsharpie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1451561398, "creation_date": 1451524560, "question_id": 34539720, "link": "https://stackoverflow.com/questions/34539720/how-to-prevent-perl-thread-printouts-from-intercepting", "title": "How To Prevent Perl Thread Printouts from Intercepting?", "body": "<p>Suppose I made three perl threads that each do this:</p>\n\n<p><code>print hi I am thread $threadnum!</code>;</p>\n\n<p><code>print this is a test!</code>;</p>\n\n<p>you would expect an output of:\n<code>hi I am thread 1</code></p>\n\n<p><code>this is a test!</code></p>\n\n<p><code>hi I am thread 2</code></p>\n\n<p><code>this is a test!</code></p>\n\n<p><code>hi I am thread 3</code></p>\n\n<p><code>this is a test!</code></p>\n\n<p>but instead, what happens about half of the time is:\n<code>hi I am thread 1</code></p>\n\n<p><code>this is a test!</code></p>\n\n<p><code>hi I am thread2</code></p>\n\n<p><code>hi I am thread3</code></p>\n\n<p><code>this is a test!</code></p>\n\n<p><code>this is a test!</code></p>\n\n<p>is there any was to ensure that they output in the correct order WITHOUT condensing it all into one line?</p>\n"}, {"tags": ["perl", "reference", "subroutine"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1451563686, "post_id": 34539601, "comment_id": 56834062, "body": "You&#39;re not assigning to a <i>string</i>, you&#39;re assigning to a <i>variable</i>."}], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 6, "last_activity_date": 1451523797, "creation_date": 1451523797, "answer_id": 34539639, "question_id": 34539601, "link": "https://stackoverflow.com/questions/34539601/why-cant-i-assign-this-perl-sub-to-a-variable/34539639#34539639", "title": "Why can&#39;t I assign this perl sub to a variable?", "body": "<p>You're missing a semicolon after the closing brace in the statement <code>$imapSub = sub { ... }</code>, so whatever you put after that is unexpected and causes a syntax error.</p>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 1, "accepted_answer_id": 34539639, "answer_count": 1, "score": 1, "last_activity_date": 1451530638, "creation_date": 1451523503, "last_edit_date": 1451530638, "question_id": 34539601, "link": "https://stackoverflow.com/questions/34539601/why-cant-i-assign-this-perl-sub-to-a-variable", "title": "Why can&#39;t I assign this perl sub to a variable?", "body": "<p>I'm trying to understand the convoluted execution path of the imap routine on p.158 of HOP.</p>\n\n<p>This code works</p>\n\n<pre><code># code from rng-iterator.pl\nsub make_rand {\nmy $seed = shift || (time &amp; 0x7fff);\nprint \"\\nin make_rand, at6: seed=$seed\";\nreturn sub \n    {   $seed = (29*$seed+11111) &amp; 0x7fff;\nprint \"\\nin make_rand sub, at9: seed=$seed\";\n        return $seed; \n    }\n}\n\n# code adapted from HOP p.158, to make an iterator version of map\nsub imap {\n    my ($transform, $it) = @_;\nprint \"\\nin imap, at17\";\n    return sub \n    {   my $next = $it-&gt;();\nprint \"\\nin imap sub, at20, next=$next\";\n        return unless defined $next;\n        $newVal = $transform-&gt;($next);\nprint \"\\nin imap sub, at23, newVal=$newVal\";\n        return $newVal;\n    }\n}\n\n# to return random number 0 .. 1\n$rng = imap(sub {$_[0] / 37268}, make_rand(1)); # set seed \nprint \"\\nin main at30, rng=$rng\";\nwhile (&lt;&gt;) {    \n    my $random = $rng-&gt;();  \n    print \"\\nin main, at 32: random=$random\";\n}\n</code></pre>\n\n<p>There seems to be no problem returning a reference to a sub (imap) to a string $rng, and using that to point to imap's sub .</p>\n\n<p>I wanted to assign the sub to a string INSIDE of imap, and return the string, as here:</p>\n\n<pre><code>    $imapSub =  sub \n        {   my $next = $it-&gt;();\n                print \"\\nin imap sub, at20, next=$next\";\n            return unless defined $next;\n            $newVal = $transform-&gt;($next);\n                print \"\\nin imap sub, at23, newVal=$newVal\";\n            return $newVal;\n        }\n    return $imapSub;\n</code></pre>\n\n<p>Perl reported a Syntax Error when I tried to return or print $imapSub, or even use it as an argument to ref(). It didn't complain when I assigned the sub to the variable.</p>\n\n<p>It does the same even if I explicitly cast a reference the subroutine as $\\&amp;sub. </p>\n\n<p>Why do I get a syntax error when I attempt to use the reference?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1451526380, "post_id": 34539579, "comment_id": 56822033, "body": "Your suggestion doesn&#39;t do the same thing as the original code that was posted, i.e., access a copy of the array vs. the actual referenced array."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1451529722, "post_id": 34539579, "comment_id": 56822699, "body": "@MattJacob: <code>\\@{$ref} == $ref</code>. There is no copy"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1451532857, "post_id": 34539579, "comment_id": 56823332, "body": "<code>\\@{$ref}</code> is a poor way of checking the contents of <code>$ref</code>. You should test <code>ref $ref eq &#39;ARRAY&#39;</code> before using it if you have any doubts"}], "tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 2, "last_activity_date": 1451533594, "last_edit_date": 1495542186, "creation_date": 1451523343, "answer_id": 34539579, "question_id": 34539439, "link": "https://stackoverflow.com/questions/34539439/need-help-interpreting-this-perl-code/34539579#34539579", "title": "Need help interpreting this perl code", "body": "<ul>\n<li><code>$seq</code> is a hash reference</li>\n<li><code>$seq-&gt;{$label}</code> returns the value of the <code>$label</code> key in the dereferenced hash</li>\n<li>That value is another hash, from which we get the value of the <code>$ARGV[4]</code> key\n\n<ul>\n<li><code>@ARGV</code> is the array of command line arguments, <code>$ARGV[4]</code> is the element at index 4</li>\n</ul></li>\n<li>All this returns an array reference, which is dereferenced by <code>@{...}</code></li>\n<li>Adding the backslash in the front turns it back into an array reference</li>\n</ul>\n\n<p>Summary: it's the reference to the array that is the value of the <code>$ARGV[4]</code> key in the hash returned by <code>$seq-&gt;{$label}</code>, and the whole thing could IMHO be written</p>\n\n<pre><code>my $ref = $seq-&gt;{$label}{$ARGV[4]};\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/a/34540266/3266847\">Borodin's answer</a> for the difference between <code>\\@{$ref}</code> and <code>$ref</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4150, "user_id": 2195875, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/284c7d641e3c7f89e18ff01f31de4c24?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2195875/tom"}, "edited": false, "score": 0, "creation_date": 1451669410, "post_id": 34540266, "comment_id": 56859885, "body": "@Tom: That just isn&#39;t true, as I tried to explain in my <a href=\"http://stackoverflow.com/questions/34539439/need-help-interpreting-this-perl-code/34540266?noredirect=1#comment56822699_34539579\">earlier comment to Matt Jacob</a>. Try this <code>perl -E &#39;$r = [ qw&#47; A B C &#47; ]; $r2 = \\@$r; $r2-&gt;[2] = q{X}; say qq{$r @$r $r2 @$r2}&#39;</code> <b>output</b> <code>ARRAY(0x72c530) A B X ARRAY(0x72c530) A B X</code>. You&#39;re probably thinking of <code>$ref2 = [ @$ref ]</code> which <i>does</i> make a shallow copy"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1451529492, "creation_date": 1451529492, "answer_id": 34540266, "question_id": 34539439, "link": "https://stackoverflow.com/questions/34539439/need-help-interpreting-this-perl-code/34540266#34540266", "title": "Need help interpreting this perl code", "body": "<p>Lets rewrite it like this</p>\n\n<pre><code>my $ref = \\@{\n\n    $seq-&gt;{ $label }{ $ARGV[4] }\n\n}\n</code></pre>\n\n<p>The outer <code>my $ref =</code> is an assignment. I presume that's clear</p>\n\n<p>Then <code>@{ ... }</code> <em>dereferences</em> the contents of the braces as an array, and <code>\\</code> then takes a reference to that. The reference cancels out the dereference, so it's <em>identical</em> to</p>\n\n<pre><code>my $ref = $seq-&gt;{ $label }{ $ARGV[4] }\n</code></pre>\n\n<p>except that the dereference will cause the program to die with</p>\n\n<blockquote>\n  <p>Not an ARRAY reference</p>\n</blockquote>\n\n<p>if the contents aren't a reference to an array</p>\n\n<p>Now we have</p>\n\n<pre><code>$seq-&gt;{ $label }{ $ARGV[4] }\n</code></pre>\n\n<p>which uses <code>$seq</code> as a reference to a hash of hashes, and uses <code>$label</code> as the first-level key and <code>$ARGV[4]</code> (the fifth command-line argument) as the second-level key</p>\n\n<p>That statement was written by someone who I will generously call a poor programmer. I doubt if it was intended to check for the hash value being an array reference, and at the very least <code>$ARGV[4]</code> should be copied to a named variable to make the meaning clear</p>\n"}, {"tags": [], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "is_accepted": false, "score": 1, "last_activity_date": 1451531059, "last_edit_date": 1451531059, "creation_date": 1451530734, "answer_id": 34540407, "question_id": 34539439, "link": "https://stackoverflow.com/questions/34539439/need-help-interpreting-this-perl-code/34540407#34540407", "title": "Need help interpreting this perl code", "body": "<pre><code>my $ref = \\@{$seq-&gt;{$label}{$ARGV[4]}};\n</code></pre>\n\n<p>It's best to work from inside out for order of operation:</p>\n\n<ol>\n<li><code>$ARGV[4]</code> : the fifth argument passed in through the command line (e.g., <code>./perlscript.pl \"argument1\" \"argument2\" \"argument3\" \"argument4\" \"argument5.txt\"</code>)</li>\n<li><code>$seq-&gt;{ $label }{ $ARGV[4]}</code> : this is holding a ref to an array, we know this because when you try to dereference it by wrapping it in <code>@{ ... }</code>, you would otherwise receive a warning saying <em>Not an ARRAY reference</em>.  Also, in place of variables you could also use bare strings (e.g., <code>$seq-&gt;{ 'some label' }{ 'some other label'}</code>)</li>\n<li><code>@{ $seq-&gt;{ $label }{ $ARGV[4] } }</code> : this is doing the dereferencing, as mentioned in #3</li>\n<li><code>\\@{ $seq-&gt;{ $label }{ $ARGV[4] } }</code> : the slash is making it a reference again, clarifying that an array reference was being held in the hash</li>\n<li><code>my $ref = \\@{ $seq-&gt;{ $label }{ $ARGV[4] } };</code> : your standard variable assignment</li>\n</ol>\n\n<hr>\n\n<p>We haven't seen much other code, so it's tough to say how much this may need updated.  Usually you would want to sanitize your inputs, to make sure no bad or extremely large data is being passed in.  Additionally, you would want to make it more meaningful.  <code>$seq</code> could be sequence or anything really, <code>$label</code> is not too identifiable, and using any <code>$ARGV</code> as you have done, generally means something else is not being done elsewhere.</p>\n"}], "owner": {"reputation": 65, "user_id": 3802685, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/cd9359f1cd3e0e11697847f90f40428f?s=128&d=identicon&r=PG&f=1", "display_name": "user3802685", "link": "https://stackoverflow.com/users/3802685/user3802685"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1451533594, "creation_date": 1451522350, "question_id": 34539439, "link": "https://stackoverflow.com/questions/34539439/need-help-interpreting-this-perl-code", "title": "Need help interpreting this perl code", "body": "<p>I am having a hard time wrapping my head around this little snippet of code  </p>\n\n<p>my $ref = \\@{$seq->{$label}{$ARGV[4]}};</p>\n\n<p>Can I get some help deciphering this ? </p>\n"}]